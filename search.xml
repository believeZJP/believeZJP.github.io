<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>CSRF</title>
      <link href="posts/CSRF/"/>
      <url>posts/CSRF/</url>
      
        <content type="html"><![CDATA[<h2 id="CSRF-ç®€ä»‹"><a href="#CSRF-ç®€ä»‹" class="headerlink" title="CSRF ç®€ä»‹"></a>CSRF ç®€ä»‹</h2><p>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCross-site request forgeryï¼‰ï¼Œé€šå¸¸ç¼©å†™ä¸º CSRF æˆ–è€… XSRFï¼Œ æ˜¯ä¸€ç§æŒŸåˆ¶ç”¨æˆ·åœ¨å½“å‰å·²ç™»å½•çš„ Web åº”ç”¨ç¨‹åºä¸Šæ‰§è¡Œéæœ¬æ„çš„æ“ä½œçš„æ”»å‡»æ–¹æ³•ã€‚<br>è·¨ç«™è¯·æ±‚æ”»å‡»ï¼Œç®€å•åœ°è¯´ï¼Œæ˜¯æ”»å‡»è€…é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µæ¬ºéª—ç”¨æˆ·çš„æµè§ˆå™¨å»è®¿é—®ä¸€ä¸ªè‡ªå·±æ›¾ç»è®¤è¯è¿‡çš„ç½‘ç«™å¹¶è¿è¡Œä¸€äº›æ“ä½œï¼ˆå¦‚å‘é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç”šè‡³è´¢äº§æ“ä½œå¦‚è½¬è´¦å’Œè´­ä¹°å•†å“ï¼‰ã€‚ç”±äºæµè§ˆå™¨æ›¾ç»è®¤è¯è¿‡ï¼Œæ‰€ä»¥è¢«è®¿é—®çš„ç½‘ç«™ä¼šè®¤ä¸ºæ˜¯çœŸæ­£çš„ç”¨æˆ·æ“ä½œè€Œå»è¿è¡Œã€‚</p><p>æ”»å‡»è€…åˆ©ç”¨äº† Web ä¸­ç”¨æˆ·èº«ä»½éªŒè¯çš„ä¸€ä¸ªæ¼æ´ï¼šç®€å•çš„èº«ä»½éªŒè¯åªèƒ½ä¿è¯è¯·æ±‚å‘è‡ªæŸä¸ªç”¨æˆ·çš„æµè§ˆå™¨ï¼Œå´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„ã€‚</p><a id="more"></a><h2 id="CSRF-é˜²å¾¡æªæ–½"><a href="#CSRF-é˜²å¾¡æªæ–½" class="headerlink" title="CSRF é˜²å¾¡æªæ–½"></a>CSRF é˜²å¾¡æªæ–½</h2><h3 id="1-æ£€æŸ¥-Referer-å­—æ®µ"><a href="#1-æ£€æŸ¥-Referer-å­—æ®µ" class="headerlink" title="1. æ£€æŸ¥ Referer å­—æ®µ"></a>1. æ£€æŸ¥ Referer å­—æ®µ</h3><p>HTTP å¤´ä¸­æœ‰ä¸€ä¸ª Referer å­—æ®µï¼Œè¿™ä¸ªå­—æ®µç”¨ä»¥æ ‡æ˜è¯·æ±‚æ¥æºäºå“ªä¸ªåœ°å€ã€‚åœ¨å¤„ç†æ•æ„Ÿæ•°æ®è¯·æ±‚æ—¶ï¼Œé€šå¸¸æ¥è¯´ï¼ŒReferer å­—æ®µåº”å’Œè¯·æ±‚çš„åœ°å€ä½äºåŒä¸€åŸŸåä¸‹ã€‚</p><p>å¦‚æœæ˜¯ CSRF æ”»å‡»ä¼ æ¥çš„è¯·æ±‚ï¼ŒReferer å­—æ®µä¼šæ˜¯åŒ…å«æ¶æ„ç½‘å€çš„åœ°å€ï¼Œä¸ä¼šä½äºåŒä¸€åŸŸåä¹‹ä¸‹ï¼Œè¿™æ—¶å€™æœåŠ¡å™¨å°±èƒ½è¯†åˆ«å‡ºæ¶æ„çš„è®¿é—®ã€‚</p><p>è¿™ç§åŠæ³•ç®€å•æ˜“è¡Œï¼Œä»…éœ€è¦åœ¨å…³é”®è®¿é—®å¤„å¢åŠ ä¸€æ­¥æ ¡éªŒã€‚ä½†è¿™ç§åŠæ³•ä¹Ÿæœ‰å…¶å±€é™æ€§ï¼Œå› å…¶å®Œå…¨ä¾èµ–æµè§ˆå™¨å‘é€æ­£ç¡®çš„ Referer å­—æ®µã€‚è™½ç„¶ HTTP åè®®å¯¹æ­¤å­—æ®µçš„å†…å®¹æœ‰æ˜ç¡®çš„è§„å®šï¼Œä½†å¹¶æ— æ³•ä¿è¯æ¥è®¿çš„æµè§ˆå™¨çš„å…·ä½“å®ç°ï¼Œäº¦æ— æ³•ä¿è¯æµè§ˆå™¨æ²¡æœ‰å®‰å…¨æ¼æ´å½±å“åˆ°æ­¤å­—æ®µã€‚å¹¶ä¸”ä¹Ÿå­˜åœ¨æ”»å‡»è€…æ”»å‡»æŸäº›æµè§ˆå™¨ï¼Œç¯¡æ”¹å…¶ Referer å­—æ®µçš„å¯èƒ½ã€‚</p><h3 id="2-åŒæ­¥è¡¨å•-CSRF-æ ¡éªŒ"><a href="#2-åŒæ­¥è¡¨å•-CSRF-æ ¡éªŒ" class="headerlink" title="2. åŒæ­¥è¡¨å• CSRF æ ¡éªŒ"></a>2. åŒæ­¥è¡¨å• CSRF æ ¡éªŒ</h3><p>åŒæ­¥è¡¨å• CSRF æ ¡éªŒ å°±æ˜¯åœ¨è¿”å›é¡µé¢æ—¶å°† token æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œåœ¨ form è¡¨å•æäº¤çš„æ—¶å€™é€šè¿‡éšè—åŸŸæˆ–è€…ä½œä¸ºæŸ¥è¯¢å‚æ•°æŠŠ CSRF token æäº¤åˆ°æœåŠ¡å™¨ã€‚æ¯”å¦‚ï¼Œåœ¨åŒæ­¥æ¸²æŸ“é¡µé¢æ—¶ï¼Œåœ¨è¡¨å•è¯·æ±‚ä¸­å¢åŠ ä¸€ä¸ª _csrf çš„æŸ¥è¯¢å‚æ•°ï¼Œè¿™æ ·å½“ç”¨æˆ·åœ¨æäº¤è¿™ä¸ªè¡¨å•çš„æ—¶å€™å°±ä¼šå°† CSRF token æäº¤ä¸Šæ¥ï¼š</p><h3 id="3-åŒé‡-Cookie-é˜²å¾¡"><a href="#3-åŒé‡-Cookie-é˜²å¾¡" class="headerlink" title="3. åŒé‡ Cookie é˜²å¾¡"></a>3. åŒé‡ Cookie é˜²å¾¡</h3><p>åŒé‡ Cookie é˜²å¾¡ å°±æ˜¯å°† token è®¾ç½®åœ¨ Cookie ä¸­ï¼Œåœ¨æäº¤ï¼ˆPOSTã€PUTã€PATCHã€DELETEï¼‰ç­‰è¯·æ±‚æ—¶æäº¤ Cookieï¼Œå¹¶é€šè¿‡è¯·æ±‚å¤´æˆ–è¯·æ±‚ä½“å¸¦ä¸Š Cookie ä¸­å·²è®¾ç½®çš„ tokenï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚åï¼Œå†è¿›è¡Œå¯¹æ¯”æ ¡éªŒã€‚</p><p>jQuery è®¾ç½® csrfToken:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> csrfToken = Cookies.get(<span class="string">&#x27;csrfToken&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">csrfSafeMethod</span>(<span class="params">method</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ä»¥ä¸‹HTTPæ–¹æ³•ä¸éœ€è¦è¿›è¡ŒCSRFé˜²æŠ¤</span></span><br><span class="line">  <span class="keyword">return</span> (<span class="regexp">/^(GET|HEAD|OPTIONS|TRACE)$/</span>.test(method));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$.ajaxSetup(&#123;</span><br><span class="line">  beforeSend: <span class="function"><span class="keyword">function</span>(<span class="params">xhr, settings</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!csrfSafeMethod(settings.type) &amp;&amp; !<span class="built_in">this</span>.crossDomain) &#123;</span><br><span class="line">      xhr.setRequestHeader(<span class="string">&#x27;x-csrf-token&#x27;</span>, csrfToken);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Axios ä¹Ÿæ˜¯é€šè¿‡<code>åŒé‡ Cookie é˜²å¾¡</code>è¿›è¡Œé˜²å¾¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib/adapters/xhr.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> <span class="title">xhrAdapter</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> <span class="title">dispatchXhrRequest</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> requestHeaders = config.headers;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    <span class="comment">// çœç•¥éƒ¨åˆ†ä»£ç </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ·»åŠ xsrfå¤´éƒ¨</span></span><br><span class="line">    <span class="keyword">if</span> (utils.isStandardBrowserEnv()) &#123;</span><br><span class="line">      <span class="keyword">var</span> xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) &amp;&amp; config.xsrfCookieName ?</span><br><span class="line">        cookies.read(config.xsrfCookieName) :</span><br><span class="line">        <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (xsrfValue) &#123;</span><br><span class="line">        requestHeaders[config.xsrfHeaderName] = xsrfValue;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    request.send(requestData);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Javaç¯å¢ƒæ­å»º</title>
      <link href="posts/Java%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>posts/Java%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="æ·»åŠ java-homeåˆ°-bash-profileæ–‡ä»¶"><a href="#æ·»åŠ java-homeåˆ°-bash-profileæ–‡ä»¶" class="headerlink" title="æ·»åŠ java_homeåˆ°.bash_profileæ–‡ä»¶"></a>æ·»åŠ java_homeåˆ°.bash_profileæ–‡ä»¶</h2><p>vi ~/.bash_profile</p><p>æ·»åŠ ä¸‹é¢ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME&#x3D;$(&#x2F;usr&#x2F;libexec&#x2F;java_home)</span><br><span class="line">export PATH&#x3D;$JAVA_HOME&#x2F;bin:$PATH</span><br><span class="line">export CLASS_PATH&#x3D;$JAVA_HOME&#x2F;lib</span><br></pre></td></tr></table></figure><p>é…ç½®ç”Ÿæ•ˆ$source ~/.bash_profile</p><a id="more"></a><p>é…ç½®mavenç¯å¢ƒå˜é‡</p><p>export M3_HOME=/usr/local/Cellar/maven/3.6.3_1/libexec<br>export PATH=$M3_HOME/bin:$PATH</p><p>åœ¨vscodeä¸­é…ç½®çš„    <code>&quot;maven.executable.path&quot;: &quot;/usr/local/Cellar/maven/3.6.3_1/libexec/bin/mvn&quot;,</code></p><p>è¦åŒ…å«åˆ°mvnæ‰è¡Œ</p><h2 id="ideaä¸­èƒ½æŸ¥çœ‹ä»£ç æ¯ä¸€è¡Œæœ€åä¿®æ”¹äººçš„æ’ä»¶"><a href="#ideaä¸­èƒ½æŸ¥çœ‹ä»£ç æ¯ä¸€è¡Œæœ€åä¿®æ”¹äººçš„æ’ä»¶" class="headerlink" title="ideaä¸­èƒ½æŸ¥çœ‹ä»£ç æ¯ä¸€è¡Œæœ€åä¿®æ”¹äººçš„æ’ä»¶"></a>ideaä¸­èƒ½æŸ¥çœ‹ä»£ç æ¯ä¸€è¡Œæœ€åä¿®æ”¹äººçš„æ’ä»¶</h2><p><code>GitToolBox</code> åœ¨MarketPlaceä¸­æœç´¢</p><h2 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h2><p><code>preferences -&gt; plugins -&gt; marketplaceæœç´¢one dark</code></p><h2 id="Inteli-Java-é…ç½®tomcat"><a href="#Inteli-Java-é…ç½®tomcat" class="headerlink" title="Inteli Java é…ç½®tomcat"></a>Inteli Java é…ç½®tomcat</h2><p>é»˜è®¤Javaç¯å¢ƒå’ŒIDEAå·²ç»å®‰å¥½äº†</p><h3 id="å®‰è£…Tomcat"><a href="#å®‰è£…Tomcat" class="headerlink" title="å®‰è£…Tomcat"></a>å®‰è£…Tomcat</h3><ol><li><p><a href="https://tomcat.apache.org/download-90.cgi">å®˜ç½‘</a>ä¸‹è½½ï¼ŒMacçš„è¯å¯ä»¥é€‰æ‹©zipæˆ–è€…taræ ¼å¼çš„ï¼Œæˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯tomcat9  </p></li><li><p>ä¸‹è½½å®Œæˆåï¼Œå»ºè®®å°†Tomcatç§»åŠ¨åˆ°<code>/Library</code>ç›®å½•ä¸‹ã€‚è¿›å…¥åˆ°ç»ˆç«¯ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤</p><p> <code>cd /Library/apache-tomcat-9.0.34/bin # apache-tomcat-9.0.34æ˜¯æˆ‘çš„ç›®å½•å</code></p></li><li><p>æˆæƒbinç›®å½•ä¸‹çš„æ‰€æœ‰æ“ä½œï¼šç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤</p><p> <code>sudo chmod 755 *.sh</code></p><p> å›è½¦ä¹‹åä¼šæç¤ºè¾“å…¥ç³»ç»Ÿå¯†ç </p></li><li><p>å®Œæˆä¹‹åå°±å¯ä»¥æ‰“å¼€Tomcatäº†</p><p> <code>sudo sh ./startup.sh</code></p><p> å¯ä»¥åœ¨æµè§ˆå™¨è¾“å…¥<code>http://localhost:8080/</code></p></li><li><p>å…³é—­çš„è¯ï¼Œå¯ä»¥è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><p> <code>sh ./shutdown.sh</code></p></li></ol><h3 id="IDEAé…ç½®Tomcat"><a href="#IDEAé…ç½®Tomcat" class="headerlink" title="IDEAé…ç½®Tomcat"></a>IDEAé…ç½®Tomcat</h3><ol><li><p>æ‰“å¼€IDEAï¼Œé€šè¿‡èœå• run -&gt; Edit Configurationsè¿›å…¥åˆ°å¦‚ä¸‹ç•Œé¢  </p></li><li><p>ä¾æ¬¡ç‚¹å‡»<code>+</code>ã€<code>Tomcat Server</code>ã€<code>Local</code>ï¼Œè¿›å…¥åˆ°å¦‚ä¸‹ç•Œé¢<br> å¯ä»¥ç»™æ–°é…ç½®çš„ç¯å¢ƒèµ·åï¼Œåˆæ¬¡é…ç½®Application serveråº”è¯¥æ— å†…å®¹ï¼Œå¯ä»¥ç‚¹å‡»ç„¶åé€‰ä¸­Tomcatå­˜æ”¾çš„ç›®å½•ï¼Œæˆ‘è¿™é‡Œä¸º<code>/Library/apache-tomcat-9.0.34</code></p></li><li><p>è¿™äº›å¼„å¥½ä¹‹åï¼Œä¸‹é¢ä¼šæç¤ºwarningï¼Œå¯ä»¥è¿›å…¥åˆ°Deploymenté€‰ä¸­ä¸€ä¸ªé¡¹ç›®<br> é€‰å®Œé¡¹ç›®åï¼Œä¸€è·¯okä¸‹å»ã€‚</p></li><li><p>é…ç½®å¥½Tomcatåï¼Œè¿è¡Œæ—¶ï¼Œå¯èƒ½ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯</p><blockquote><p>Directory is invalid /usr/local/apache-tomcat-8.5.3/conf/Catalina</p></blockquote><p> åŸå› æ˜¯tomcatä¸‹Catalinaç›®å½•æ²¡æœ‰æƒé™å¯¼è‡´ï¼Œå°†å…¶è®¾ç½®è¯»å†™æƒé™å³å¯ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</p><p> <code>cd /Library/apache-tomcat-9.0.34/conf/</code></p><p> <code>sudo chmod 777 Catalina</code></p></li><li><p>é‡å¯Tomcatï¼Œä½†åˆå¯èƒ½å‡ºç°å¦‚ä¸‹é—®é¢˜</p><blockquote><p>conf/Catalina/localhost (æƒé™ä¸å¤Ÿ)</p></blockquote><p> è§£å†³çš„è¯ï¼Œè¿›å…¥åˆ°Libraryç›®å½•ä¸‹ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤</p><p> <code>cd /Library</code></p><p> <code>sudo chmod -R 755 apache-tomcat-9.0.34</code></p></li></ol><p>å†é‡æ–°å¯åŠ¨Tomcatå³å¯ã€‚</p><h2 id="æŸ¥çœ‹æœ¬åœ°ä¿®æ”¹æ–‡ä»¶"><a href="#æŸ¥çœ‹æœ¬åœ°ä¿®æ”¹æ–‡ä»¶" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°ä¿®æ”¹æ–‡ä»¶"></a>æŸ¥çœ‹æœ¬åœ°ä¿®æ”¹æ–‡ä»¶</h2><p>èœå•æ <code>View -&gt; Tool Windows -&gt; Commit</code></p><p>å¿«æ·é”®<code>command + 0</code></p><p>å¿«æ·é”®<code>command + 1</code>å³å¯å±•ç¤º<code>Project</code></p><h2 id="æ–­ç‚¹è°ƒè¯•"><a href="#æ–­ç‚¹è°ƒè¯•" class="headerlink" title="æ–­ç‚¹è°ƒè¯•"></a>æ–­ç‚¹è°ƒè¯•</h2><p><code>Resume Program command+option+r</code>å¯ä»¥è·³è¿‡æ–­ç‚¹ç›´æ¥æ‰§è¡Œå®Œæ•´ä¸ªç¨‹åº</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Alfred</title>
      <link href="posts/Alfred/"/>
      <url>posts/Alfred/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="Alfredæ˜¯ä»€ä¹ˆ"><a href="#Alfredæ˜¯ä»€ä¹ˆ" class="headerlink" title="Alfredæ˜¯ä»€ä¹ˆ"></a>Alfredæ˜¯ä»€ä¹ˆ</h2><ol><li>å¯ä»¥å½“åšappå¿«é€Ÿå¯åŠ¨(å…³é—­)å·¥å…·æ¥ä½¿ç”¨</li><li>è‡ªå®šä¹‰æœç´¢</li><li>workflow</li></ol><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><a href="https://www.jianshu.com/p/72fe06566fce">ä¸‹è½½</a></p><h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><p>å”¤èµ·  <code>option+ç©ºæ ¼</code><br>è®¾ç½®  <code>command+,</code></p><a id="more"></a><h2 id="é…ç½®ç™¾åº¦æœç´¢"><a href="#é…ç½®ç™¾åº¦æœç´¢" class="headerlink" title="é…ç½®ç™¾åº¦æœç´¢"></a>é…ç½®ç™¾åº¦æœç´¢</h2><p>åœ¨é…ç½®é¡µæ‰¾åˆ°<code>Web Search</code> ç‚¹å‡»å³ä¸‹è§’<code>Edit custom Search</code>. åœ¨å¼¹å‡ºæ¡†é‡Œé…ç½®</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Search URL: https://www.baidu.com/s?wd=&#123;query&#125;</span><br><span class="line">Title: ç™¾åº¦(éšä¾¿å†™)</span><br><span class="line">keyWord: b</span><br></pre></td></tr></table></figure><p>ç‚¹save</p><p>å”¤é†’åå†è¾“å…¥æ¡†è¾“å…¥<code>b (ä»»æ„å­—ç¬¦)</code> ä¼šè‡ªåŠ¨æ‰“å¼€ç™¾åº¦æœç´¢</p><p>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œ å†ç‚¹å‡»â€Featuresâ€-&gt;Default Results-&gt;â€Setup fallback resultsâ€-&gt;ç‚¹å‡»å¼¹å‡ºçš„çª—å£å³ä¸‹è§’â€+â€å·-&gt;é€‰æ‹©Custom Rearch ä¸‹çš„ç™¾åº¦(ä¸Šä¸€æ­¥è®¾ç½®çš„Title)ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹å›¾ã€‚</p><p><img data-src="/posts/Alfred/addbaidu.png" alt="æ·»åŠ è‡ªå®šä¹‰search"><br><img data-src="/posts/Alfred/addbaidu-input.png" alt="è®¾ç½®ç™¾åº¦å†…å®¹"><br><img data-src="/posts/Alfred/setdefault.png" alt="ä¿®æ”¹é»˜è®¤æœç´¢"><br><img data-src="/posts/Alfred/first-baidu.png" alt="ä¿®æ”¹é»˜è®¤æœç´¢"></p><h2 id="é…ç½®è‡ªå®šä¹‰ç»ˆç«¯"><a href="#é…ç½®è‡ªå®šä¹‰ç»ˆç«¯" class="headerlink" title="é…ç½®è‡ªå®šä¹‰ç»ˆç«¯"></a>é…ç½®è‡ªå®šä¹‰ç»ˆç«¯</h2><p>ç»ˆç«¯ä½¿ç”¨iTerm2, å¯ä»¥å¦‚ä¸‹è®¾ç½®<br>åœ¨è®¾ç½®é¡µé¢ï¼Œå·¦ä¸‹è§’<code>Terminal/Shell</code>, é€‰æ‹©Custom</p><p>æ ¹æ®iTerm2çš„ç‰ˆæœ¬, <a href="https://github.com/stuartcryan/custom-iterm-applescripts-for-alfred">æ‰“å¼€è‡ªå®šä¹‰è„šæœ¬é…ç½®</a><br>å¤åˆ¶åˆ°è¾“å…¥æ¡†,å³å¯ã€‚</p><p>å”¤é†’åï¼Œ è¾“å…¥<code>&gt; [shellå‘½ä»¤]</code>å³å¯è‡ªåŠ¨æ‰“å¼€iTerm2ï¼Œæ‰§è¡Œ[shellå‘½ä»¤]</p><p>eg: <code>&gt; cd /</code></p><h2 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h2><h3 id="ç™¾åº¦æœç´¢"><a href="#ç™¾åº¦æœç´¢" class="headerlink" title="ç™¾åº¦æœç´¢"></a>ç™¾åº¦æœç´¢</h3><p><code>option+ç©ºæ ¼</code> å”¤é†’, éšä¾¿è¾“å…¥å†…å®¹ï¼Œä¸‹æ‹‰åˆ—è¡¨æ˜¾ç¤ºç™¾åº¦æœç´¢ï¼Œç›´æ¥å›è½¦ã€‚</p><h2 id="æ‰“å¼€æŒ‡å®šåº”ç”¨"><a href="#æ‰“å¼€æŒ‡å®šåº”ç”¨" class="headerlink" title="æ‰“å¼€æŒ‡å®šåº”ç”¨"></a>æ‰“å¼€æŒ‡å®šåº”ç”¨</h2><p><code>option+ç©ºæ ¼</code> å”¤é†’, è¾“å…¥<code>è®¾ç½®</code>, <code>chrome</code>ç­‰åº”ç”¨åå­—ï¼Œä¼šç›´æ¥æ˜¾ç¤ºappï¼Œå›è½¦æ‰“å¼€ã€‚</p><ul><li><code>w</code> å¯æ˜¾ç¤ºç½‘æ˜“äº‘éŸ³ä¹</li><li>iterm æ‰“å¼€ç»ˆç«¯</li></ul><h2 id="è®¡ç®—å™¨"><a href="#è®¡ç®—å™¨" class="headerlink" title="è®¡ç®—å™¨"></a>è®¡ç®—å™¨</h2><p>å”¤é†’ç›´æ¥åœ¨è¾“å…¥æ¡†è¾“å…¥ç®—å¼ï¼Œå³å¯æ˜¾ç¤ºç»“æœ</p><h2 id="ç¿»è¯‘"><a href="#ç¿»è¯‘" class="headerlink" title="ç¿»è¯‘"></a>ç¿»è¯‘</h2><p>åœ¨Web Searchä¸­æ·»åŠ <code>https://translate.google.cn/?text=&#123;query&#125;</code>ï¼Œè®¾ç½®å¿«æ·é”®<code>tr</code></p><p>å”¤é†’åè¾“å…¥<code>tr ç¿»è¯‘å†…å®¹</code> å›è½¦ï¼Œå¯è‡ªåŠ¨æ‰“å¼€è°·æ­Œç¿»è¯‘</p><h3 id="é»˜è®¤å­—å…¸ç¿»è¯‘"><a href="#é»˜è®¤å­—å…¸ç¿»è¯‘" class="headerlink" title="é»˜è®¤å­—å…¸ç¿»è¯‘"></a>é»˜è®¤å­—å…¸ç¿»è¯‘</h3><p><code>define ç¿»è¯‘å†…å®¹</code><br>åªèƒ½ç¿»è¯‘è¯, æ²¡æœ‰è°·æ­Œæ™ºèƒ½,å¯ä»¥åŠæ—¶æ˜¾ç¤ºç¿»è¯‘å†…å®¹ï¼Œä¸ç”¨æ‰“å¼€ç½‘é¡µ</p><p>å¯ä»¥åœ¨<code>features-&gt;Dictionary-&gt;Defined a word</code>ä¿®æ”¹<code>denife</code>ä¸º<code>de</code></p><h2 id="é€€å‡ºæŸä¸ªåº”ç”¨"><a href="#é€€å‡ºæŸä¸ªåº”ç”¨" class="headerlink" title="é€€å‡ºæŸä¸ªåº”ç”¨"></a>é€€å‡ºæŸä¸ªåº”ç”¨</h2><p><code>quit</code> åŠ ç©ºæ ¼</p><h2 id="alfred-æ¯æ¬¡å¼€æœºè¿è¡Œåéƒ½æç¤ºæ˜¯å¦å…è®¸è®¿é—®é€šè®¯å½•"><a href="#alfred-æ¯æ¬¡å¼€æœºè¿è¡Œåéƒ½æç¤ºæ˜¯å¦å…è®¸è®¿é—®é€šè®¯å½•" class="headerlink" title="alfred æ¯æ¬¡å¼€æœºè¿è¡Œåéƒ½æç¤ºæ˜¯å¦å…è®¸è®¿é—®é€šè®¯å½•"></a>alfred æ¯æ¬¡å¼€æœºè¿è¡Œåéƒ½æç¤ºæ˜¯å¦å…è®¸è®¿é—®é€šè®¯å½•</h2><p>åœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤è§£å†³</p><p><code>sudo codesign -f -d -s - /Applications/Alfred\ 3.app/Contents/Frameworks/Alfred\ Framework.framework/Versions/A/Alfred\ Framework</code></p><h2 id="å¸¸ç”¨"><a href="#å¸¸ç”¨" class="headerlink" title="å¸¸ç”¨"></a>å¸¸ç”¨</h2><p>openç”¨æ¥æ‰“å¼€æ–‡ä»¶ï¼Œfindç”¨æ¥æ˜¾ç¤ºæ–‡ä»¶æ‰€åœ¨ä½ç½®</p><p>screensaveræ˜¾ç¤ºå±ä¿</p><p>locké”å±â€”(ä¸ç”Ÿæ•ˆ)</p><p>sleepç¡çœ </p><p>trashåºŸçº¸ç¯“ï¼Œemptytrashæ¸…ç©ºåºŸçº¸ç¯“</p><p>shutdownå…³æœºï¼Œrestarté‡å¯ï¼Œlogoutæ³¨é”€</p><h2 id="workflow-æŸ¥è¯¢æœ¬æœºIP"><a href="#workflow-æŸ¥è¯¢æœ¬æœºIP" class="headerlink" title="workflow æŸ¥è¯¢æœ¬æœºIP"></a>workflow æŸ¥è¯¢æœ¬æœºIP</h2><p><a href="https://github.com/zenorocha/alfred-workflows/blob/master/ip-address/ip-address.alfredworkflow">ä¸‹è½½åœ°å€</a></p><p>åŒå‡»å¯¼å…¥ï¼Œ è¾“å…¥ipï¼Œå³å¯æŸ¥è¯¢æœ¬æœºipï¼ŒæŒ‰cmd+cå¯ä»¥å¤åˆ¶</p><h2 id="å¥½çš„é“¾æ¥æ¨è"><a href="#å¥½çš„é“¾æ¥æ¨è" class="headerlink" title="å¥½çš„é“¾æ¥æ¨è"></a>å¥½çš„é“¾æ¥æ¨è</h2><p><a href="https://www.jianshu.com/p/e9f3352c785f">5åˆ†é’Ÿä¸Šæ‰‹Macæ•ˆç‡ç¥å™¨Alfredä»¥åŠAlfredå¸¸ç”¨æ“ä½œ</a><br><a href="https://blog.csdn.net/sinat_32023305/article/details/78739118">Alfred Workflowæ•™ç¨‹ä¸å®ä¾‹</a><br><a href="http://www.alfredworkflow.com/">Workflowåˆ—è¡¨</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Alfred </tag>
            
            <tag> æ•ˆç‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ€ç»´å¯¼å›¾åˆ—è¡¨</title>
      <link href="posts/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%88%97%E8%A1%A8/"/>
      <url>posts/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%88%97%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<p><a href="../img/xmind/%E6%89%A7%E8%A1%8C%E6%9C%89%E9%81%93%E5%9B%9B%E6%AD%A5%E6%B3%95.xmind">æ‰§è¡Œæœ‰é“å››æ­¥æ³•</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ç¾½æ¯›çƒé€Ÿæˆ</title>
      <link href="posts/%E7%BE%BD%E6%AF%9B%E7%90%83%E9%80%9F%E6%88%90/"/>
      <url>posts/%E7%BE%BD%E6%AF%9B%E7%90%83%E9%80%9F%E6%88%90/</url>
      
        <content type="html"><![CDATA[<p>æ¡çƒæ‹çš„æ‰‹åŠ¿</p><p>æ—¶åˆ»ä¿æŒä¸»åŠ¨å‡ºå‡»çŠ¶æ€ï¼Œ ä¸è¦æ‰“å®Œä¸€ä¸ªçƒåï¼Œå°±å®šä½ä¸åŠ¨ç«™ç€çœ‹ï¼Œç­‰çƒå†è¿‡æ¥å°±æ²¡æœ‰æ—¶é—´å¯åŠ¨èº«ä½“ååº”äº†</p><p>ç½‘å‰æŒ‘çƒæ—¶å¯¹æ‰‹æ˜¯è½»æ‰“è¿‡æ¥çš„ï¼Œè¦ä½¿åŠ²æ‰“åˆ°ååœº</p><p>å¦‚æœå¯¹æ‰‹è½»æŒ‘è¿‡æ¥ï¼Œä½ å†è½»æŒ‘ï¼Œçƒçš„å¼¹åŠ›ä¸å¤Ÿå¾ˆéš¾è¿‡ç½‘</p><p>ååœºçƒæŒ¥æ‹æ‰£æ€å§¿åŠ¿è¦å¥½å¥½ç»ƒ</p><p>ç»ƒå¥½æ‰£çƒæ‰èƒ½å¾—åˆ†èµ¢çƒ</p><p>æ‰“çƒå§¿åŠ¿è¦å½•è§†é¢‘çœ‹æ˜¯å¦æ­£ç¡®ï¼Œå¯èƒ½è‡ªå·±è§‰å¾—æ­£ç¡®ï¼Œå®é™…æ˜¯é”™çš„ã€‚</p><p><strong>æ¡æ‹æ‰‹åŠ¿å’ŒæŒ¥æ‹å§¿åŠ¿æ˜¯åŸºç¡€ï¼ï¼ï¼</strong></p><p>è¦æœ‰åˆšæœ‰æŸ”, æ‰èƒ½å¯¹çƒæ§åˆ¶è‡ªå¦‚ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Reactä¸­APIä½¿ç”¨çš„æ­£ç¡®å§¿åŠ¿</title>
      <link href="posts/React%E4%B8%ADAPI%E4%BD%BF%E7%94%A8%E7%9A%84%E6%AD%A3%E7%A1%AE%E5%A7%BF%E5%8A%BF/"/>
      <url>posts/React%E4%B8%ADAPI%E4%BD%BF%E7%94%A8%E7%9A%84%E6%AD%A3%E7%A1%AE%E5%A7%BF%E5%8A%BF/</url>
      
        <content type="html"><![CDATA[<h2 id="æƒ°æ€§åˆå§‹åŒ–state"><a href="#æƒ°æ€§åˆå§‹åŒ–state" class="headerlink" title="æƒ°æ€§åˆå§‹åŒ–state"></a>æƒ°æ€§åˆå§‹åŒ–state</h2><p>defaultValue å‚æ•°åªä¼šåœ¨ç»„ä»¶çš„åˆå§‹æ¸²æŸ“ä¸­èµ·ä½œâ½¤ï¼Œåç»­æ¸²æŸ“æ—¶ä¼šè¢«å¿½ç•¥ã€‚å¦‚æœåˆå§‹ state éœ€è¦é€šè¿‡å¤æ‚è®¡ç®—è·<br>å¾—ï¼Œåˆ™å¯ä»¥ä¼ â¼Šâ¼€ä¸ªå‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­è®¡ç®—å¹¶è¿”å›åˆå§‹çš„ stateï¼Œæ­¤å‡½æ•°åªåœ¨åˆå§‹æ¸²æŸ“æ—¶è¢«è°ƒâ½¤ï¼š</p><p><strong>è¿™ç§å†™æ³•å¯ä»¥é¿å…å®šä¹‰å¤šä¸ªstateæ—¶ï¼Œæ¯æ¬¡æ¸²æŸ“éƒ½è¦æ‰§è¡Œåˆå§‹åŒ–æ“ä½œï¼Œè€Œç”¨æƒ°æ€§åˆå§‹åŒ–stateï¼Œå¯ä»¥è§£å†³é‡å¤åˆå§‹åŒ–çš„é—®é¢˜ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// æ¯æ¬¡setInputValueå¼•èµ·çš„é‡æ–°æ¸²æŸ“è¿›â¼Šå‡½æ•°ç»„ä»¶å†…defaultValueéƒ½ä¼šè¢«å¿½ç•¥ã€‚</span></span><br><span class="line"><span class="keyword">const</span> TestInput= <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> defaultValue = props.value || <span class="string">&#x27;è¯·è¾“â¼Š&#x27;</span></span><br><span class="line">    <span class="keyword">const</span> [inputValue,setInputValue] = useState(defaultValue)</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;input value=&#123;inputValue&#125; onChange=&#123;<span class="function">(<span class="params">e</span>)=&gt;</span>setInputValue(e.target.value)&#125; /&gt; &#123;<span class="keyword">in</span></span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TestInput</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿â½¤å‡½æ•°æ¥è§£å†³æ¯æ¬¡æ¸²æŸ“ state éœ€è¦é€šè¿‡å¤æ‚è®¡ç®—è·å¾—çš„é—®é¢˜</span></span><br><span class="line"><span class="keyword">const</span> TestInput= <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [inputValue,setInputValue] = useState(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> props.value || <span class="string">&#x27;è¯·è¾“â¼Š&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;input value=&#123;inputValue&#125; onChange=&#123;<span class="function">(<span class="params">e</span>)=&gt;</span>setInputValue(e.target.value)&#125; /&gt; &#123;<span class="keyword">in</span></span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TestInput</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é¡¹ç›®ä½¿ç”¨standardè§„èŒƒå¹¶ç”¨eslintè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç </title>
      <link href="posts/%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8standard%E8%A7%84%E8%8C%83%E5%B9%B6%E7%94%A8eslint%E8%87%AA%E5%8A%A8%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%BB%A3%E7%A0%81/"/>
      <url>posts/%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8standard%E8%A7%84%E8%8C%83%E5%B9%B6%E7%94%A8eslint%E8%87%AA%E5%8A%A8%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%BB%A3%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<p>åœ¨vscodeæ’ä»¶ä¸­å®‰è£…<code>standard</code>æ’ä»¶</p><p>å…ˆç¦ç”¨ï¼Œå†åœ¨å·¥ä½œåŒºå¯ç”¨ï¼Œå³å¯åªåœ¨å½“å‰å·¥ä½œåŒºç”Ÿæ•ˆ</p><p>åœ¨é¡¹ç›®ä¸­å®‰è£…<code>standard</code>å’Œ<code>eslint</code><br><code>npm i eslint standard -D</code></p><p>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ<code>eslint --init</code>åˆå§‹åŒ–ç”Ÿæˆ<code>.eslintrc.js</code>æ–‡ä»¶</p><p>ç”Ÿæˆè¿‡ç¨‹ä¸­æ ¹æ®è‡ªå·±éœ€æ±‚é€‰æ‹©å³å¯</p><p>åœ¨vsCodeé…ç½®ä¸­(setting.json)å¢åŠ å¦‚ä¸‹é…ç½®, å³å¯è‡ªåŠ¨æ ¼å¼åŒ–</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;standard.run&quot;: &quot;onSave&quot;,</span><br><span class="line">&quot;standard.autoFixOnSave&quot;: true,</span><br><span class="line">&quot;javascript.validate.enable&quot;: false</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>node cliå¼€å‘è°ƒè¯•ç»éªŒæ€»ç»“</title>
      <link href="posts/node-cli%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/"/>
      <url>posts/node-cli%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h2 id="nodeå‘½ä»¤è¡Œå·¥å…·å¼€å‘è°ƒè¯•"><a href="#nodeå‘½ä»¤è¡Œå·¥å…·å¼€å‘è°ƒè¯•" class="headerlink" title="nodeå‘½ä»¤è¡Œå·¥å…·å¼€å‘è°ƒè¯•"></a>nodeå‘½ä»¤è¡Œå·¥å…·å¼€å‘è°ƒè¯•</h2><p>npm linkå‘½ä»¤é€šè¿‡é“¾æ¥ç›®å½•å’Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå®ç°npmåŒ…å‘½ä»¤çš„å…¨å±€å¯æ‰§è¡Œã€‚</p><p>ç®€è¦åœ°è®²ï¼Œè¿™ä¸ªå‘½ä»¤ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼š</p><ol><li>ä¸ºnpmåŒ…ç›®å½•åˆ›å»ºè½¯é“¾æ¥ï¼Œå°†å…¶é“¾åˆ°{prefix}/lib/node_modules/package(åŒ…å)</li><li>ä¸ºå¯æ‰§è¡Œæ–‡ä»¶(bin)åˆ›å»ºè½¯é“¾æ¥ï¼Œå°†å…¶é“¾åˆ°{prefix}/bin/{name}</li></ol><a id="more"></a><p>åœ¨<code>package.json</code>ä¸­é…ç½®</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;bin&quot;: &#123;</span><br><span class="line">    &quot;ltsnode&quot;: &quot;bin/ltsnode.js&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ltsnode.jsä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‡å®šè¿è¡Œç¯å¢ƒä¸ºnode</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;è¿è¡Œltsnodeå‘½ä»¤&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="åœ¨VsCodeé‡Œdebugæ¨¡å¼é‡Œè°ƒè¯•"><a href="#åœ¨VsCodeé‡Œdebugæ¨¡å¼é‡Œè°ƒè¯•" class="headerlink" title="åœ¨VsCodeé‡Œdebugæ¨¡å¼é‡Œè°ƒè¯•"></a>åœ¨VsCodeé‡Œdebugæ¨¡å¼é‡Œè°ƒè¯•</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.2.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;node&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;å¯åŠ¨ç¨‹åº&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;skipFiles&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;&lt;node_internals&gt;/**&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="comment">// è¿™é‡Œæ˜¯å‘½ä»¤è¡Œéœ€è¦ä¼ å…¥çš„å‚æ•°</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;10&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="comment">// è¿™é‡Œæ˜¯å‘½ä»¤è¡Œå…¥å£æ–‡ä»¶çš„ä½ç½®ï¼Œä¸€èˆ¬æ”¾åœ¨binæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span>: <span class="string">&quot;$&#123;workspaceFolder&#125;/bin/ltsnode.js&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆåï¼Œç‚¹å‡»å¯åŠ¨ç¨‹åºï¼Œå³å¯å¼€å§‹è°ƒè¯•ã€‚ä¸Šä¸€æ­¥ä¸‹ä¸€æ­¥åœ¨VsCodeæ­£ä¸­é—´é¡¶éƒ¨ã€‚<br>å¯ä»¥ä½¿ç”¨<code>console.log</code>è¾“å‡ºç»“æœåˆ°è°ƒè¯•æ§åˆ¶å°</p><h2 id="åœ¨å‘½ä»¤è¡Œé‡Œé‡Œè°ƒè¯•"><a href="#åœ¨å‘½ä»¤è¡Œé‡Œé‡Œè°ƒè¯•" class="headerlink" title="åœ¨å‘½ä»¤è¡Œé‡Œé‡Œè°ƒè¯•"></a>åœ¨å‘½ä»¤è¡Œé‡Œé‡Œè°ƒè¯•</h2><p><code>npm link</code></p><p>å†è¿è¡Œ<code>npm link</code>å³å¯</p><p>ç„¶åå†å‘½ä»¤è¡Œé‡Œæ‰§è¡Œå‘½ä»¤<code>ltsnode</code>çœ‹æ•ˆæœ</p><p>è¿›å…¥<code>/usr/local/lib/node_modules</code>ä¼šå‘ç°ä¸€ä¸ªè½¯é“¾ï¼ŒæŒ‡å‘è‡ªå·±é¡¹ç›®ç›®å½•<br><code>ltsnode -&gt; /Users/zhaojianpeng/Desktop/workspaces/ltsnode</code></p><h2 id="å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜"><a href="#å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜" class="headerlink" title="å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜"></a>å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜</h2><ol><li>æ‰§è¡Œ<code>npm link</code>æŠ¥é”™</li></ol><p>å¼€å‘è¿‡ç¨‹é‡åˆ°çš„æŠ¥é”™</p><ul><li><p><code>ENOENT: no such file or directory, chmod &#39;/usr/local/lib/node_modules/videocount/bin/videocount&#39;</code><br>  è§£å†³åŠæ³•ï¼šåœ¨<code>package.json</code>ä¸­</p>  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;bin&quot;: &#123;</span><br><span class="line">    &quot;videocount&quot;: &quot;bin/videocount.js&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>  è¿™é‡Œä¸€å®šè¦åŠ åç¼€åjs</p></li><li><p><code>npm ERR! Refusing to delete /usr/local/bin/ltsnode: ../../../Users/zhaojianpeng/.config/yarn/link/ltsnode/bin/ltsnode symlink target is not controlled by npm /usr/local/bin</code></p></li><li><p><code>npm ERR! EEXIST: file already exists, symlink &#39;../lib/node_modules/ltsnode/bin/ltsnode.js&#39; -&gt; &#39;/usr/local/bin/ltsnode&#39;</code></p></li></ul><p>è§£å†³åŠæ³•ï¼š<br>å°è¯•äº†å„ç§åŠæ³•ï¼Œåˆ ç¼“å­˜ï¼Œå‡çº§npmç‰ˆæœ¬ã€‚æ‰§è¡Œ<code>npm link</code>æ€»æ˜¯æŠ¥é”™ã€‚<br><strong>æ‰§è¡Œ<code>rm /usr/local/bin/ltsnode</code>åˆ é™¤è½¯é“¾</strong>æå®š~~~</p><p>åœ¨<code>/usr/local/bin/node_modules</code>é‡Œåˆ é™¤è½¯é“¾ä¸å¥½ä½¿</p><p>æœŸé—´ç”¨åˆ°çŸ¥è¯†</p><p>ä¸€ã€ä½¿ç”¨æ·˜å®é•œåƒ<br>1.ä¸´æ—¶ä½¿ç”¨<br>npm â€“registry <a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a> install express</p><p>2.æŒä¹…ä½¿ç”¨<br>npm config set registry <a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></p><p>3.é€šè¿‡cnpm<br>npm install -g cnpm â€“registry=<a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></p><p>äºŒã€ä½¿ç”¨å®˜æ–¹é•œåƒ<br>npm config set registry <a href="https://registry.npmjs.org/">https://registry.npmjs.org/</a></p><p>ä¸‰ã€æŸ¥çœ‹npmæºåœ°å€<br>npm config get registry</p><p>åˆ é™¤è½¯é“¾<br><code>rm -rf ltsnode</code></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Promiseæ·±åº¦è§£æ</title>
      <link href="posts/Promise%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/"/>
      <url>posts/Promise%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<p>è¿™ä¸€ç« èŠ‚å°±æ˜¯æ•´ç†äº†<code>45</code>é“<code>Promise</code>çš„ç¬”è¯•é¢˜è®©å¤§å®¶çˆ½ä¸€çˆ½ ğŸ˜ã€‚</p><p>è¿™ç¯‡æ–‡ç« æ˜¯ä¸€ç¯‡æ¯”è¾ƒçº¯çš„<code>Promise</code>ç¬”è¯•æ–‡ç« ï¼Œæ˜¯æˆ‘è‡ªå·±åœ¨åšé¢˜çš„æ—¶å€™ï¼Œæ ¹æ®é¢˜ç›®æƒ³è¦çš„è€ƒç‚¹æ¥åæ•²çŸ¥è¯†ç‚¹ï¼Œç„¶åå†ç”±è¿™ä¸ªçŸ¥è¯†ç‚¹ç¼–å†™ä»æµ…åˆ°æ·±çš„çš„é¢˜ç›®ã€‚</p><p>æœ¬æ–‡çš„é¢˜ç›®æ²¡æœ‰åˆ°ç‰¹åˆ«æ·±å…¥ï¼Œä¸è¿‡åº”è¯¥è¦†ç›–äº†å¤§éƒ¨åˆ†çš„è€ƒç‚¹ï¼Œå¦å¤–ä¸ºäº†ä¸æŠŠå¤§å®¶ç»•æ··ï¼Œç­”æ¡ˆä¹Ÿæ²¡æœ‰è€ƒè™‘åœ¨<code>Node</code>çš„æ‰§è¡Œç»“æœï¼Œæ‰§è¡Œç»“æœå…¨ä¸ºæµè§ˆå™¨ç¯å¢ƒä¸‹ã€‚</p><p>OKğŸ‘Œï¼Œ æ¥çœ‹çœ‹é€šè¿‡é˜…è¯»æœ¬ç¯‡æ–‡ç« ä½ å¯ä»¥å­¦åˆ°ï¼š</p><ul><li>Promiseçš„å‡ é“åŸºç¡€é¢˜</li><li>Promiseç»“åˆsetTimeout</li><li>Promiseä¸­çš„thenã€catchã€finally</li><li>Promiseä¸­çš„allå’Œrace</li><li>async/awaitçš„å‡ é“é¢˜</li><li>asyncå¤„ç†é”™è¯¯</li><li>ç»¼åˆé¢˜</li><li>å‡ é“å¤§å‚çš„é¢è¯•é¢˜</li></ul><h2 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h2><p>åœ¨åšä¸‹é¢ğŸ‘‡çš„é¢˜ç›®ä¹‹å‰ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½æ¸…æ¥šå‡ ä¸ªçŸ¥è¯†ç‚¹ã€‚</p><p>(å¦‚æœä½ æ„Ÿè§‰ä¸€ä¸Šæ¥ä¸æƒ³çœ‹è¿™äº›åˆ—ä¸¾çš„çŸ¥è¯†ç‚¹çš„è¯ï¼Œç›´æ¥çœ‹åé¢çš„ä¾‹å­å†æ¥ç†è§£å®ƒä»¬ä¹Ÿå¯ä»¥)</p><p><strong><code>event loop</code>å®ƒçš„æ‰§è¡Œé¡ºåºï¼š</strong></p><ul><li>ä¸€å¼€å§‹æ•´ä¸ªè„šæœ¬ä½œä¸ºä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œ</li><li>æ‰§è¡Œè¿‡ç¨‹ä¸­åŒæ­¥ä»£ç ç›´æ¥æ‰§è¡Œï¼Œå®ä»»åŠ¡è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¾®ä»»åŠ¡è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li><li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œå‡ºé˜Ÿï¼Œæ£€æŸ¥å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œæœ‰åˆ™ä¾æ¬¡æ‰§è¡Œï¼Œç›´åˆ°å…¨éƒ¨æ‰§è¡Œå®Œ</li><li>æ‰§è¡Œæµè§ˆå™¨UIçº¿ç¨‹çš„æ¸²æŸ“å·¥ä½œ</li><li>æ£€æŸ¥æ˜¯å¦æœ‰<code>Web Worker</code>ä»»åŠ¡ï¼Œæœ‰åˆ™æ‰§è¡Œ</li><li>æ‰§è¡Œå®Œæœ¬è½®çš„å®ä»»åŠ¡ï¼Œå›åˆ°2ï¼Œä¾æ­¤å¾ªç¯ï¼Œç›´åˆ°å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—éƒ½ä¸ºç©º</li></ul><p><strong>å¾®ä»»åŠ¡åŒ…æ‹¬ï¼š</strong><code>MutationObserver</code>ã€<code>Promise.then()æˆ–catch()</code>ã€<code>Promiseä¸ºåŸºç¡€å¼€å‘çš„å…¶å®ƒæŠ€æœ¯ï¼Œæ¯”å¦‚fetch API</code>ã€<code>V8</code>çš„åƒåœ¾å›æ”¶è¿‡ç¨‹ã€<code>Nodeç‹¬æœ‰çš„process.nextTick</code>ã€‚</p><p><strong>å®ä»»åŠ¡åŒ…æ‹¬</strong>ï¼š<code>script</code> ã€<code>setTimeout</code>ã€<code>setInterval</code> ã€<code>setImmediate</code> ã€<code>I/O</code> ã€<code>UI rendering</code>ã€‚</p><p><strong>æ³¨æ„</strong>âš ï¸ï¼šåœ¨æ‰€æœ‰ä»»åŠ¡å¼€å§‹çš„æ—¶å€™ï¼Œç”±äºå®ä»»åŠ¡ä¸­åŒ…æ‹¬äº†<code>script</code>ï¼Œæ‰€ä»¥æµè§ˆå™¨ä¼šå…ˆæ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ çœ‹åˆ°çš„å»¶è¿Ÿä»»åŠ¡(ä¾‹å¦‚<code>setTimeout</code>)å°†è¢«æ”¾åˆ°ä¸‹ä¸€è½®å®ä»»åŠ¡ä¸­æ¥æ‰§è¡Œã€‚</p><h3 id="1-Promiseçš„å‡ é“åŸºç¡€é¢˜"><a href="#1-Promiseçš„å‡ é“åŸºç¡€é¢˜" class="headerlink" title="1. Promiseçš„å‡ é“åŸºç¡€é¢˜"></a>1. Promiseçš„å‡ é“åŸºç¡€é¢˜</h3><h4 id="1-1-é¢˜ç›®ä¸€"><a href="#1-1-é¢˜ç›®ä¸€" class="headerlink" title="1.1 é¢˜ç›®ä¸€"></a>1.1 é¢˜ç›®ä¸€</h4><pre><code>const promise1 = new Promise((resolve, reject) =&gt; &#123;  console.log(&#39;promise1&#39;)&#125;)console.log(&#39;1&#39;, promise1);å¤åˆ¶ä»£ç </code></pre><p>è¿‡ç¨‹åˆ†æï¼š</p><ul><li>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°<code>new Promise</code>ï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­çš„ä»£ç <code>promise1</code></li><li>ç„¶åæ‰§è¡ŒåŒæ­¥ä»£ç <code>1</code>ï¼Œæ­¤æ—¶<code>promise1</code>æ²¡æœ‰è¢«<code>resolve</code>æˆ–è€…<code>reject</code>ï¼Œå› æ­¤çŠ¶æ€è¿˜æ˜¯<code>pending</code></li></ul><p>ç»“æœï¼š</p><pre><code>&#39;promise1&#39;&#39;1&#39; Promise&#123;&lt;pending&gt;&#125;å¤åˆ¶ä»£ç </code></pre><h4 id="1-2-é¢˜ç›®äºŒ"><a href="#1-2-é¢˜ç›®äºŒ" class="headerlink" title="1.2 é¢˜ç›®äºŒ"></a>1.2 é¢˜ç›®äºŒ</h4><pre><code>const promise = new Promise((resolve, reject) =&gt; &#123;  console.log(1);  resolve(&#39;success&#39;)  console.log(2);&#125;);promise.then(() =&gt; &#123;  console.log(3);&#125;);console.log(4);å¤åˆ¶ä»£ç </code></pre><p>è¿‡ç¨‹åˆ†æï¼š</p><ul><li>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°<code>new Promise</code>ï¼Œæ‰§è¡Œå…¶ä¸­çš„åŒæ­¥ä»£ç <code>1</code></li><li>å†é‡åˆ°<code>resolve(&#39;success&#39;)</code>ï¼Œ å°†<code>promise</code>çš„çŠ¶æ€æ”¹ä¸ºäº†<code>resolved</code>å¹¶ä¸”å°†å€¼ä¿å­˜ä¸‹æ¥</li><li>ç»§ç»­æ‰§è¡ŒåŒæ­¥ä»£ç <code>2</code></li><li>è·³å‡º<code>promise</code>ï¼Œå¾€ä¸‹æ‰§è¡Œï¼Œç¢°åˆ°<code>promise.then</code>è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†å…¶åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li><li>æ‰§è¡ŒåŒæ­¥ä»£ç <code>4</code></li><li>æœ¬è½®å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°<code>promise.then</code>è¿™ä¸ªå¾®ä»»åŠ¡ä¸”çŠ¶æ€ä¸º<code>resolved</code>ï¼Œæ‰§è¡Œå®ƒã€‚</li></ul><p>ç»“æœï¼š</p><pre><code>1 2 4 3å¤åˆ¶ä»£ç </code></pre><h4 id="1-3-é¢˜ç›®ä¸‰"><a href="#1-3-é¢˜ç›®ä¸‰" class="headerlink" title="1.3 é¢˜ç›®ä¸‰"></a>1.3 é¢˜ç›®ä¸‰</h4><pre><code>const promise = new Promise((resolve, reject) =&gt; &#123;  console.log(1);  console.log(2);&#125;);promise.then(() =&gt; &#123;  console.log(3);&#125;);console.log(4);å¤åˆ¶ä»£ç </code></pre><p>è¿‡ç¨‹åˆ†æ</p><ul><li>å’Œé¢˜ç›®äºŒç›¸ä¼¼ï¼Œåªä¸è¿‡åœ¨<code>promise</code>ä¸­å¹¶æ²¡æœ‰<code>resolve</code>æˆ–è€…<code>reject</code></li><li>å› æ­¤<code>promise.then</code>å¹¶ä¸ä¼šæ‰§è¡Œï¼Œå®ƒåªæœ‰åœ¨è¢«æ”¹å˜äº†çŠ¶æ€ä¹‹åæ‰ä¼šæ‰§è¡Œã€‚</li></ul><p>ç»“æœï¼š</p><pre><code>1 2 4å¤åˆ¶ä»£ç </code></pre><h4 id="1-4-é¢˜ç›®å››"><a href="#1-4-é¢˜ç›®å››" class="headerlink" title="1.4 é¢˜ç›®å››"></a>1.4 é¢˜ç›®å››</h4><pre><code>const promise1 = new Promise((resolve, reject) =&gt; &#123;  console.log(&#39;promise1&#39;)  resolve(&#39;resolve1&#39;)&#125;)const promise2 = promise1.then(res =&gt; &#123;  console.log(res)&#125;)console.log(&#39;1&#39;, promise1);console.log(&#39;2&#39;, promise2);å¤åˆ¶ä»£ç </code></pre><p>è¿‡ç¨‹åˆ†æï¼š</p><ul><li>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°<code>new Promise</code>ï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­çš„ä»£ç <code>promise1</code></li><li>ç¢°åˆ°<code>resolve</code>å‡½æ•°, å°†<code>promise1</code>çš„çŠ¶æ€æ”¹å˜ä¸º<code>resolved</code>, å¹¶å°†ç»“æœä¿å­˜ä¸‹æ¥</li><li>ç¢°åˆ°<code>promise1.then</code>è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†å®ƒæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li><li><code>promise2</code>æ˜¯ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸º<code>pending</code>çš„<code>Promise</code></li><li>æ‰§è¡ŒåŒæ­¥ä»£ç <code>1</code>ï¼Œ åŒæ—¶æ‰“å°å‡º<code>promise1</code>çš„çŠ¶æ€æ˜¯<code>resolved</code></li><li>æ‰§è¡ŒåŒæ­¥ä»£ç <code>2</code>ï¼ŒåŒæ—¶æ‰“å°å‡º<code>promise2</code>çš„çŠ¶æ€æ˜¯<code>pending</code></li><li>å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥æ‰¾å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°<code>promise1.then</code>è¿™ä¸ªå¾®ä»»åŠ¡ä¸”çŠ¶æ€ä¸º<code>resolved</code>ï¼Œæ‰§è¡Œå®ƒã€‚</li></ul><p>ç»“æœï¼š</p><pre><code>&#39;promise1&#39;&#39;1&#39; Promise&#123;&lt;resolved&gt;: &#39;resolve1&#39;&#125;&#39;2&#39; Promise&#123;&lt;pending&gt;&#125;&#39;resolve1&#39;å¤åˆ¶ä»£ç </code></pre><h4 id="1-5-é¢˜ç›®äº”"><a href="#1-5-é¢˜ç›®äº”" class="headerlink" title="1.5 é¢˜ç›®äº”"></a>1.5 é¢˜ç›®äº”</h4><p>æ¥ä¸‹æ¥çœ‹çœ‹è¿™é“é¢˜ï¼š</p><pre><code>const fn = () =&gt; (new Promise((resolve, reject) =&gt; &#123;  console.log(1);  resolve(&#39;success&#39;)&#125;))fn().then(res =&gt; &#123;  console.log(res)&#125;)console.log(&#39;start&#39;)å¤åˆ¶ä»£ç </code></pre><p>è¿™é“é¢˜é‡Œæœ€å…ˆæ‰§è¡Œçš„æ˜¯<code>&#39;start&#39;</code>å— ğŸ¤”ï¸ ï¼Ÿ</p><p>è¯·ä»”ç»†çœ‹çœ‹å“¦ï¼Œ<code>fn</code>å‡½æ•°å®ƒæ˜¯ç›´æ¥è¿”å›äº†ä¸€ä¸ª<code>new Promise</code>çš„ï¼Œè€Œä¸”<code>fn</code>å‡½æ•°çš„è°ƒç”¨æ˜¯åœ¨<code>start</code>ä¹‹å‰ï¼Œæ‰€ä»¥å®ƒé‡Œé¢çš„å†…å®¹åº”è¯¥ä¼šå…ˆæ‰§è¡Œã€‚</p><p>ç»“æœï¼š</p><pre><code>1&#39;start&#39;&#39;success&#39;å¤åˆ¶ä»£ç </code></pre><h4 id="1-6-é¢˜ç›®å…­"><a href="#1-6-é¢˜ç›®å…­" class="headerlink" title="1.6 é¢˜ç›®å…­"></a>1.6 é¢˜ç›®å…­</h4><p>å¦‚æœæŠŠ<code>fn</code>çš„è°ƒç”¨æ”¾åˆ°<code>start</code>ä¹‹åå‘¢ï¼Ÿ</p><pre><code>const fn = () =&gt;  new Promise((resolve, reject) =&gt; &#123;    console.log(1);    resolve(&quot;success&quot;);  &#125;);console.log(&quot;start&quot;);fn().then(res =&gt; &#123;  console.log(res);&#125;);å¤åˆ¶ä»£ç </code></pre><p>æ˜¯çš„ï¼Œç°åœ¨<code>start</code>å°±åœ¨<code>1</code>ä¹‹å‰æ‰“å°å‡ºæ¥äº†ï¼Œå› ä¸º<code>fn</code>å‡½æ•°æ˜¯ä¹‹åæ‰§è¡Œçš„ã€‚</p><p><strong>æ³¨æ„âš ï¸</strong>ï¼šä¹‹å‰æˆ‘ä»¬å¾ˆå®¹æ˜“å°±ä»¥ä¸ºçœ‹åˆ°new Promise()å°±æ‰§è¡Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°äº†ï¼Œå…¶å®è¿™æ˜¯ä¸å¯¹çš„ï¼Œå°±åƒè¿™ä¸¤é“é¢˜ä¸­ï¼Œæˆ‘ä»¬å¾—æ³¨æ„å®ƒæ˜¯ä¸æ˜¯è¢«åŒ…è£¹åœ¨å‡½æ•°å½“ä¸­ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œåªæœ‰åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œã€‚</p><p>ç­”æ¡ˆï¼š</p><pre><code>&quot;start&quot;1&quot;success&quot;å¤åˆ¶ä»£ç </code></pre><p>å¥½å˜ï¼Œå­¦å®Œäº†è¿™å‡ é“åŸºç¡€é¢˜ï¼Œè®©æˆ‘ä»¬æ¥ç”¨ä¸ªè¡¨æƒ…åŒ…å‹å‹æƒŠã€‚</p><h3 id="2-Promiseç»“åˆsetTimeout"><a href="#2-Promiseç»“åˆsetTimeout" class="headerlink" title="2. Promiseç»“åˆsetTimeout"></a>2. Promiseç»“åˆsetTimeout</h3><h4 id="2-1-é¢˜ç›®ä¸€"><a href="#2-1-é¢˜ç›®ä¸€" class="headerlink" title="2.1 é¢˜ç›®ä¸€"></a>2.1 é¢˜ç›®ä¸€</h4><pre><code>console.log(&#39;start&#39;)setTimeout(() =&gt; &#123;  console.log(&#39;time&#39;)&#125;)Promise.resolve().then(() =&gt; &#123;  console.log(&#39;resolve&#39;)&#125;)console.log(&#39;end&#39;)å¤åˆ¶ä»£ç </code></pre><p>è¿‡ç¨‹åˆ†æï¼š</p><ul><li>åˆšå¼€å§‹æ•´ä¸ªè„šæœ¬ä½œä¸ºä¸€ä¸ªå®ä»»åŠ¡æ¥æ‰§è¡Œï¼Œå¯¹äºåŒæ­¥ä»£ç ç›´æ¥å‹å…¥æ‰§è¡Œæ ˆè¿›è¡Œæ‰§è¡Œï¼Œå› æ­¤å…ˆæ‰“å°å‡º<code>start</code>å’Œ<code>end</code>ã€‚</li><li><code>setTimout</code>ä½œä¸ºä¸€ä¸ªå®ä»»åŠ¡è¢«æ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—(ä¸‹ä¸€ä¸ª)</li><li><code>Promise.then</code>ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li><li>æœ¬æ¬¡å®ä»»åŠ¡æ‰§è¡Œå®Œï¼Œæ£€æŸ¥å¾®ä»»åŠ¡ï¼Œå‘ç°<code>Promise.then</code>ï¼Œæ‰§è¡Œå®ƒ</li><li>æ¥ä¸‹æ¥è¿›å…¥ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå‘ç°<code>setTimeout</code>ï¼Œæ‰§è¡Œã€‚</li></ul><p>ç»“æœï¼š</p><pre><code>&#39;start&#39;&#39;end&#39;&#39;resolve&#39;&#39;time&#39;å¤åˆ¶ä»£ç </code></pre><h4 id="2-2-é¢˜ç›®äºŒ"><a href="#2-2-é¢˜ç›®äºŒ" class="headerlink" title="2.2 é¢˜ç›®äºŒ"></a>2.2 é¢˜ç›®äºŒ</h4><pre><code>const promise = new Promise((resolve, reject) =&gt; &#123;  console.log(1);  setTimeout(() =&gt; &#123;    console.log(&quot;timerStart&quot;);    resolve(&quot;success&quot;);    console.log(&quot;timerEnd&quot;);  &#125;, 0);  console.log(2);&#125;);promise.then((res) =&gt; &#123;  console.log(res);&#125;);console.log(4);å¤åˆ¶ä»£ç </code></pre><p>è¿‡ç¨‹åˆ†æï¼š</p><p>å’Œé¢˜ç›®<code>1.2</code>å¾ˆåƒï¼Œä¸è¿‡åœ¨<code>resolve</code>çš„å¤–å±‚åŠ äº†ä¸€å±‚<code>setTimeout</code>å®šæ—¶å™¨ã€‚</p><ul><li>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°<code>new Promise</code>ï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­çš„ä»£ç <code>1</code></li><li>ç„¶åç¢°åˆ°äº†å®šæ—¶å™¨ï¼Œå°†è¿™ä¸ªå®šæ—¶å™¨ä¸­çš„å‡½æ•°æ”¾åˆ°ä¸‹ä¸€ä¸ªå®ä»»åŠ¡çš„å»¶è¿Ÿé˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œ</li><li>æ‰§è¡ŒåŒæ­¥ä»£ç <code>2</code></li><li>è·³å‡º<code>promise</code>å‡½æ•°ï¼Œé‡åˆ°<code>promise.then</code>ï¼Œä½†å…¶çŠ¶æ€è¿˜æ˜¯ä¸º<code>pending</code>ï¼Œè¿™é‡Œç†è§£ä¸ºå…ˆä¸æ‰§è¡Œ</li><li>æ‰§è¡ŒåŒæ­¥ä»£ç <code>4</code></li><li>ä¸€è½®å¾ªç¯è¿‡åï¼Œè¿›å…¥ç¬¬äºŒæ¬¡å®ä»»åŠ¡ï¼Œå‘ç°å»¶è¿Ÿé˜Ÿåˆ—ä¸­æœ‰<code>setTimeout</code>å®šæ—¶å™¨ï¼Œæ‰§è¡Œå®ƒ</li><li>é¦–å…ˆæ‰§è¡Œ<code>timerStart</code>ï¼Œç„¶åé‡åˆ°äº†<code>resolve</code>ï¼Œå°†<code>promise</code>çš„çŠ¶æ€æ”¹ä¸º<code>resolved</code>ä¸”ä¿å­˜ç»“æœå¹¶å°†ä¹‹å‰çš„<code>promise.then</code>æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li><li>ç»§ç»­æ‰§è¡ŒåŒæ­¥ä»£ç <code>timerEnd</code></li><li>å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥æ‰¾å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°<code>promise.then</code>è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œæ‰§è¡Œå®ƒã€‚</li></ul><p>å› æ­¤æ‰§è¡Œç»“æœä¸ºï¼š</p><pre><code>124&quot;timerStart&quot;&quot;timerEnd&quot;&quot;success&quot;å¤åˆ¶ä»£ç </code></pre><h4 id="2-3-é¢˜ç›®ä¸‰"><a href="#2-3-é¢˜ç›®ä¸‰" class="headerlink" title="2.3 é¢˜ç›®ä¸‰"></a>2.3 é¢˜ç›®ä¸‰</h4><p>é¢˜ç›®ä¸‰åˆ†äº†ä¸¤ä¸ªé¢˜ç›®ï¼Œå› ä¸ºçœ‹ç€éƒ½å·®ä¸å¤šï¼Œä¸è¿‡æ‰§è¡Œçš„ç»“æœå´ä¸ä¸€æ ·ï¼Œå¤§å®¶ä¸å¦¨å…ˆçŒœçŒœä¸‹é¢ä¸¤ä¸ªé¢˜ç›®åˆ†åˆ«æ‰§è¡Œä»€ä¹ˆï¼š</p><p><strong>(1)</strong>:</p><pre><code>setTimeout(() =&gt; &#123;  console.log(&#39;timer1&#39;);  setTimeout(() =&gt; &#123;    console.log(&#39;timer3&#39;)  &#125;, 0)&#125;, 0)setTimeout(() =&gt; &#123;  console.log(&#39;timer2&#39;)&#125;, 0)console.log(&#39;start&#39;)å¤åˆ¶ä»£ç </code></pre><p><strong>(2)</strong>:</p><pre><code>setTimeout(() =&gt; &#123;  console.log(&#39;timer1&#39;);  Promise.resolve().then(() =&gt; &#123;    console.log(&#39;promise&#39;)  &#125;)&#125;, 0)setTimeout(() =&gt; &#123;  console.log(&#39;timer2&#39;)&#125;, 0)console.log(&#39;start&#39;)å¤åˆ¶ä»£ç </code></pre><p><strong>æ‰§è¡Œç»“æœï¼š</strong></p><pre><code>&#39;start&#39;&#39;timer1&#39;&#39;timer2&#39;&#39;timer3&#39;å¤åˆ¶ä»£ç &#39;start&#39;&#39;timer1&#39;&#39;promise&#39;&#39;timer2&#39;å¤åˆ¶ä»£ç </code></pre><p>è¿™ä¸¤ä¸ªä¾‹å­ï¼Œçœ‹ç€å¥½åƒåªæ˜¯æŠŠç¬¬ä¸€ä¸ªå®šæ—¶å™¨ä¸­çš„å†…å®¹æ¢äº†ä¸€ä¸‹è€Œå·²ã€‚</p><p>ä¸€ä¸ªæ˜¯ä¸ºå®šæ—¶å™¨<code>timer3</code>ï¼Œä¸€ä¸ªæ˜¯ä¸º<code>Promise.then</code></p><p>ä½†æ˜¯å¦‚æœæ˜¯å®šæ—¶å™¨<code>timer3</code>çš„è¯ï¼Œå®ƒä¼šåœ¨<code>timer2</code>åæ‰§è¡Œï¼Œè€Œ<code>Promise.then</code>å´æ˜¯åœ¨<code>timer2</code>ä¹‹å‰æ‰§è¡Œã€‚</p><p>ä½ å¯ä»¥è¿™æ ·ç†è§£ï¼Œ<code>Promise.then</code>æ˜¯å¾®ä»»åŠ¡ï¼Œå®ƒä¼šè¢«åŠ å…¥åˆ°æœ¬è½®ä¸­çš„å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œè€Œå®šæ—¶å™¨<code>timer3</code>æ˜¯å®ä»»åŠ¡ï¼Œå®ƒä¼šè¢«åŠ å…¥åˆ°ä¸‹ä¸€è½®çš„å®ä»»åŠ¡ä¸­ã€‚</p><p>ç†è§£å®Œè¿™ä¸¤ä¸ªæ¡ˆä¾‹ï¼Œå¯ä»¥æ¥çœ‹çœ‹ä¸‹é¢ä¸€é“æ¯”è¾ƒéš¾çš„é¢˜ç›®äº†ã€‚</p><h4 id="2-3-é¢˜ç›®ä¸‰-1"><a href="#2-3-é¢˜ç›®ä¸‰-1" class="headerlink" title="2.3 é¢˜ç›®ä¸‰"></a>2.3 é¢˜ç›®ä¸‰</h4><pre><code>Promise.resolve().then(() =&gt; &#123;  console.log(&#39;promise1&#39;);  const timer2 = setTimeout(() =&gt; &#123;    console.log(&#39;timer2&#39;)  &#125;, 0)&#125;);const timer1 = setTimeout(() =&gt; &#123;  console.log(&#39;timer1&#39;)  Promise.resolve().then(() =&gt; &#123;    console.log(&#39;promise2&#39;)  &#125;)&#125;, 0)console.log(&#39;start&#39;);å¤åˆ¶ä»£ç </code></pre><p>è¿™é“é¢˜ç¨å¾®çš„éš¾ä¸€äº›ï¼Œåœ¨<code>promise</code>ä¸­æ‰§è¡Œå®šæ—¶å™¨ï¼Œåˆåœ¨å®šæ—¶å™¨ä¸­æ‰§è¡Œ<code>promise</code>ï¼›</p><p>å¹¶ä¸”è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„<code>Promise</code>æ˜¯ç›´æ¥<code>resolve</code>çš„ï¼Œè€Œä¹‹å‰çš„<code>new Promise</code>ä¸ä¸€æ ·ã€‚</p><p>(å·å·å‘Šè¯‰ä½ ï¼Œè¿™é“é¢˜å¾€ä¸‹ä¸€ç‚¹æœ‰æµç¨‹å›¾)</p><p>å› æ­¤è¿‡ç¨‹åˆ†æä¸ºï¼š</p><ul><li>åˆšå¼€å§‹æ•´ä¸ªè„šæœ¬ä½œä¸ºç¬¬ä¸€æ¬¡å®ä»»åŠ¡æ¥æ‰§è¡Œï¼Œæˆ‘ä»¬å°†å®ƒæ ‡è®°ä¸º<strong>å®1</strong>ï¼Œä»ä¸Šè‡³ä¸‹æ‰§è¡Œ</li><li>é‡åˆ°<code>Promise.resolve().then</code>è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†<code>then</code>ä¸­çš„å†…å®¹åŠ å…¥ç¬¬ä¸€æ¬¡çš„å¾®ä»»åŠ¡é˜Ÿåˆ—æ ‡è®°ä¸º<strong>å¾®1</strong></li><li>é‡åˆ°å®šæ—¶å™¨<code>timer1</code>ï¼Œå°†å®ƒåŠ å…¥ä¸‹ä¸€æ¬¡å®ä»»åŠ¡çš„å»¶è¿Ÿåˆ—è¡¨ï¼Œæ ‡è®°ä¸º<strong>å®2</strong>ï¼Œç­‰å¾…æ‰§è¡Œ(å…ˆä¸ç®¡é‡Œé¢æ˜¯ä»€ä¹ˆå†…å®¹)</li><li>æ‰§è¡Œ<strong>å®1</strong>ä¸­çš„åŒæ­¥ä»£ç <code>start</code></li><li>ç¬¬ä¸€æ¬¡å®ä»»åŠ¡(<strong>å®1</strong>)æ‰§è¡Œå®Œæ¯•ï¼Œæ£€æŸ¥ç¬¬ä¸€æ¬¡çš„å¾®ä»»åŠ¡é˜Ÿåˆ—(<strong>å¾®1</strong>)ï¼Œå‘ç°æœ‰ä¸€ä¸ª<code>promise.then</code>è¿™ä¸ªå¾®ä»»åŠ¡éœ€è¦æ‰§è¡Œ</li><li>æ‰§è¡Œæ‰“å°å‡º<strong>å¾®1</strong>ä¸­åŒæ­¥ä»£ç <code>promise1</code>ï¼Œç„¶åå‘ç°å®šæ—¶å™¨<code>timer2</code>ï¼Œå°†å®ƒåŠ å…¥<strong>å®2</strong>çš„åé¢ï¼Œæ ‡è®°ä¸º<strong>å®3</strong></li><li>ç¬¬ä¸€æ¬¡å¾®ä»»åŠ¡é˜Ÿåˆ—(<strong>å¾®1</strong>)æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œç¬¬äºŒæ¬¡å®ä»»åŠ¡(<strong>å®2</strong>)ï¼Œé¦–å…ˆæ‰§è¡ŒåŒæ­¥ä»£ç <code>timer1</code></li><li>ç„¶åé‡åˆ°äº†<code>promise2</code>è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†å®ƒåŠ å…¥æ­¤æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ ‡è®°ä¸º<strong>å¾®2</strong></li><li><strong>å®2</strong>ä¸­æ²¡æœ‰åŒæ­¥ä»£ç å¯æ‰§è¡Œäº†ï¼ŒæŸ¥æ‰¾æœ¬æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡é˜Ÿåˆ—(<strong>å¾®2</strong>)ï¼Œå‘ç°äº†<code>promise2</code>ï¼Œæ‰§è¡Œå®ƒ</li><li>ç¬¬äºŒè½®æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œ<strong>å®3</strong>ï¼Œæ‰“å°å‡º<code>timer2</code></li></ul><p>æ‰€ä»¥ç»“æœä¸ºï¼š</p><pre><code>&#39;start&#39;&#39;promise1&#39;&#39;timer1&#39;&#39;promise2&#39;&#39;timer2&#39;å¤åˆ¶ä»£ç </code></pre><p>å¦‚æœæ„Ÿè§‰æœ‰ç‚¹ç»•çš„è¯ï¼Œå¯ä»¥çœ‹ä¸‹é¢è¿™å¼ å›¾ï¼Œå°±ä¸€ç›®äº†ç„¶äº†ã€‚</p><p>![](<a href="https://juejin.im/post/data:image/svg+xml;utf8,">https://juejin.im/post/data:image/svg+xml;utf8,</a><?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1280" height="664"></svg>)</p><h4 id="2-4-é¢˜ç›®å››"><a href="#2-4-é¢˜ç›®å››" class="headerlink" title="2.4 é¢˜ç›®å››"></a>2.4 é¢˜ç›®å››</h4><pre><code>const promise1 = new Promise((resolve, reject) =&gt; &#123;  setTimeout(() =&gt; &#123;    resolve(&#39;success&#39;)  &#125;, 1000)&#125;)const promise2 = promise1.then(() =&gt; &#123;  throw new Error(&#39;error!!!&#39;)&#125;)console.log(&#39;promise1&#39;, promise1)console.log(&#39;promise2&#39;, promise2)setTimeout(() =&gt; &#123;  console.log(&#39;promise1&#39;, promise1)  console.log(&#39;promise2&#39;, promise2)&#125;, 2000)å¤åˆ¶ä»£ç </code></pre><p>è¿‡ç¨‹åˆ†æï¼š</p><ul><li>ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆæ‰§è¡Œç¬¬ä¸€ä¸ª<code>new Promise</code>ä¸­çš„å‡½æ•°ï¼Œç¢°åˆ°<code>setTimeout</code>å°†å®ƒåŠ å…¥ä¸‹ä¸€ä¸ªå®ä»»åŠ¡åˆ—è¡¨</li><li>è·³å‡º<code>new Promise</code>ï¼Œç¢°åˆ°<code>promise1.then</code>è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œä½†å…¶çŠ¶æ€è¿˜æ˜¯ä¸º<code>pending</code>ï¼Œè¿™é‡Œç†è§£ä¸ºå…ˆä¸æ‰§è¡Œ</li><li><code>promise2</code>æ˜¯ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸º<code>pending</code>çš„<code>Promise</code></li><li>æ‰§è¡ŒåŒæ­¥ä»£ç <code>console.log(&#39;promise1&#39;)</code>ï¼Œä¸”æ‰“å°å‡ºçš„<code>promise1</code>çš„çŠ¶æ€ä¸º<code>pending</code></li><li>æ‰§è¡ŒåŒæ­¥ä»£ç <code>console.log(&#39;promise2&#39;)</code>ï¼Œä¸”æ‰“å°å‡ºçš„<code>promise2</code>çš„çŠ¶æ€ä¸º<code>pending</code></li><li>ç¢°åˆ°ç¬¬äºŒä¸ªå®šæ—¶å™¨ï¼Œå°†å…¶æ”¾å…¥ä¸‹ä¸€ä¸ªå®ä»»åŠ¡åˆ—è¡¨</li><li>ç¬¬ä¸€è½®å®ä»»åŠ¡æ‰§è¡Œç»“æŸï¼Œå¹¶ä¸”æ²¡æœ‰å¾®ä»»åŠ¡éœ€è¦æ‰§è¡Œï¼Œå› æ­¤æ‰§è¡Œç¬¬äºŒè½®å®ä»»åŠ¡</li><li>å…ˆæ‰§è¡Œç¬¬ä¸€ä¸ªå®šæ—¶å™¨é‡Œçš„å†…å®¹ï¼Œå°†<code>promise1</code>çš„çŠ¶æ€æ”¹ä¸º<code>resolved</code>ä¸”ä¿å­˜ç»“æœå¹¶å°†ä¹‹å‰çš„<code>promise1.then</code>æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li><li>è¯¥å®šæ—¶å™¨ä¸­æ²¡æœ‰å…¶å®ƒçš„åŒæ­¥ä»£ç å¯æ‰§è¡Œï¼Œå› æ­¤æ‰§è¡Œæœ¬è½®çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯<code>promise1.then</code>ï¼Œå®ƒæŠ›å‡ºäº†ä¸€ä¸ªé”™è¯¯ï¼Œä¸”å°†<code>promise2</code>çš„çŠ¶æ€è®¾ç½®ä¸ºäº†<code>rejected</code></li><li>ç¬¬ä¸€ä¸ªå®šæ—¶å™¨æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œç¬¬äºŒä¸ªå®šæ—¶å™¨ä¸­çš„å†…å®¹</li><li>æ‰“å°å‡º<code>&#39;promise1&#39;</code>ï¼Œä¸”æ­¤æ—¶<code>promise1</code>çš„çŠ¶æ€ä¸º<code>resolved</code></li><li>æ‰“å°å‡º<code>&#39;promise2&#39;</code>ï¼Œä¸”æ­¤æ—¶<code>promise2</code>çš„çŠ¶æ€ä¸º<code>rejected</code></li></ul><p>å®Œæ•´çš„ç»“æœä¸ºï¼š</p><pre><code>&#39;promise1&#39; Promise&#123;&lt;pending&gt;&#125;&#39;promise2&#39; Promise&#123;&lt;pending&gt;&#125;test5.html:102 Uncaught (in promise) Error: error!!! at test.html:102&#39;promise1&#39; Promise&#123;&lt;resolved&gt;: &quot;success&quot;&#125;&#39;promise2&#39; Promise&#123;&lt;rejected&gt;: Error: error!!!&#125;å¤åˆ¶ä»£ç </code></pre><h4 id="2-5-é¢˜ç›®äº”"><a href="#2-5-é¢˜ç›®äº”" class="headerlink" title="2.5 é¢˜ç›®äº”"></a>2.5 é¢˜ç›®äº”</h4><p>å¦‚æœä½ ä¸Šé¢è¿™é“é¢˜ææ‡‚äº†ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥åšåšè¿™é“äº†ï¼Œä½ åº”è¯¥èƒ½å¾ˆå¿«å°±ç»™å‡ºç­”æ¡ˆï¼š</p><pre><code>const promise1 = new Promise((resolve, reject) =&gt; &#123;  setTimeout(() =&gt; &#123;    resolve(&quot;success&quot;);    console.log(&quot;timer1&quot;);  &#125;, 1000);  console.log(&quot;promise1é‡Œçš„å†…å®¹&quot;);&#125;);const promise2 = promise1.then(() =&gt; &#123;  throw new Error(&quot;error!!!&quot;);&#125;);console.log(&quot;promise1&quot;, promise1);console.log(&quot;promise2&quot;, promise2);setTimeout(() =&gt; &#123;  console.log(&quot;timer2&quot;);  console.log(&quot;promise1&quot;, promise1);  console.log(&quot;promise2&quot;, promise2);&#125;, 2000);å¤åˆ¶ä»£ç </code></pre><p>ç»“æœï¼š</p><pre><code>&#39;promise1é‡Œçš„å†…å®¹&#39;&#39;promise1&#39; Promise&#123;&lt;pending&gt;&#125;&#39;promise2&#39; Promise&#123;&lt;pending&gt;&#125;&#39;timer1&#39;test5.html:102 Uncaught (in promise) Error: error!!! at test.html:102&#39;timer2&#39;&#39;promise1&#39; Promise&#123;&lt;resolved&gt;: &quot;success&quot;&#125;&#39;promise2&#39; Promise&#123;&lt;rejected&gt;: Error: error!!!&#125;å¤åˆ¶ä»£ç </code></pre><h3 id="3-Promiseä¸­çš„thenã€catchã€finally"><a href="#3-Promiseä¸­çš„thenã€catchã€finally" class="headerlink" title="3. Promiseä¸­çš„thenã€catchã€finally"></a>3. Promiseä¸­çš„thenã€catchã€finally</h3><p>é¢ï¼Œå¯èƒ½ä½ çœ‹åˆ°ä¸‹é¢ğŸ‘‡è¿™ä¹ˆå¤šçš„<code>1ï¼Œ2ï¼Œ3</code>è„¾æ°”å°±ä¸Šæ¥äº†ï¼Œä¸æ˜¯è¯´å¥½äº†æœ¬ç¯‡æ–‡ç« æ²¡ä»€ä¹ˆå±è¯å˜›ï¼Œæ€ä¹ˆè¿˜æ˜¯è¿™ä¹ˆå¤šä¸€äºŒä¸‰å››ã€‚</p><p>ğŸ˜‚ï¼Œä½ è¦ç†è§£æˆ‘çš„ç”¨å¿ƒè‰¯è‹¦å•Šï¼Œæˆ‘è¿™æ˜¯å¸®ä½ æŠŠçŸ¥è¯†ç‚¹éƒ½åˆ—ä¸¾å‡ºæ¥ï¼Œåšä¸ªæ€»ç»“è€Œå·²ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å…ˆä¸çœ‹ï¼Œå…ˆå»åšåé¢çš„é¢˜ï¼Œç„¶åå†å›è¿‡å¤´æ¥çœ‹è¿™äº›ï¼Œä½ å°±è§‰å¾—è¿™äº›ç‚¹éƒ½å¥½å¥½æ‡‚å•Šï¼Œç”šè‡³éƒ½ä¸éœ€è¦è®°ã€‚</p><p><strong>æ€»ç»“ï¼š</strong></p><ol><li><code>Promise</code>çš„çŠ¶æ€ä¸€ç»æ”¹å˜å°±ä¸èƒ½å†æ”¹å˜ã€‚(è§3.1)</li><li><code>.then</code>å’Œ<code>.catch</code>éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„<code>Promise</code>ã€‚(ä¸Šé¢çš„ğŸ‘†1.4è¯æ˜äº†)</li><li><code>catch</code>ä¸ç®¡è¢«è¿æ¥åˆ°å“ªé‡Œï¼Œéƒ½èƒ½æ•è·ä¸Šå±‚æœªæ•æ‰è¿‡çš„é”™è¯¯ã€‚(è§3.2)</li><li>åœ¨<code>Promise</code>ä¸­ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªé <code>promise</code> çš„å€¼éƒ½ä¼šè¢«åŒ…è£¹æˆ <code>promise</code> å¯¹è±¡ï¼Œä¾‹å¦‚<code>return 2</code>ä¼šè¢«åŒ…è£…ä¸º<code>return Promise.resolve(2)</code>ã€‚</li><li><code>Promise</code> çš„ <code>.then</code> æˆ–è€… <code>.catch</code> å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡, ä½†å¦‚æœ<code>Promise</code>å†…éƒ¨çš„çŠ¶æ€ä¸€ç»æ”¹å˜ï¼Œå¹¶ä¸”æœ‰äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåç»­æ¯æ¬¡è°ƒç”¨<code>.then</code>æˆ–è€…<code>.catch</code>çš„æ—¶å€™éƒ½ä¼šç›´æ¥æ‹¿åˆ°è¯¥å€¼ã€‚(è§3.5)</li><li><code>.then</code> æˆ–è€… <code>.catch</code> ä¸­ <code>return</code> ä¸€ä¸ª <code>error</code> å¯¹è±¡å¹¶ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œæ‰€ä»¥ä¸ä¼šè¢«åç»­çš„ <code>.catch</code> æ•è·ã€‚(è§3.6)</li><li><code>.then</code> æˆ– <code>.catch</code> è¿”å›çš„å€¼ä¸èƒ½æ˜¯ promise æœ¬èº«ï¼Œå¦åˆ™ä¼šé€ æˆæ­»å¾ªç¯ã€‚(è§3.7)</li><li><code>.then</code> æˆ–è€… <code>.catch</code> çš„å‚æ•°æœŸæœ›æ˜¯å‡½æ•°ï¼Œä¼ å…¥éå‡½æ•°åˆ™ä¼šå‘ç”Ÿå€¼é€ä¼ ã€‚(è§3.8)</li><li><code>.then</code>æ–¹æ³•æ˜¯èƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°çš„ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¤„ç†æˆåŠŸçš„å‡½æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯å¤„ç†å¤±è´¥çš„å‡½æ•°ï¼Œå†æŸäº›æ—¶å€™ä½ å¯ä»¥è®¤ä¸º<code>catch</code>æ˜¯<code>.then</code>ç¬¬äºŒä¸ªå‚æ•°çš„ç®€ä¾¿å†™æ³•ã€‚(è§3.9)</li><li><code>.finally</code>æ–¹æ³•ä¹Ÿæ˜¯è¿”å›ä¸€ä¸ª<code>Promise</code>ï¼Œä»–åœ¨<code>Promise</code>ç»“æŸçš„æ—¶å€™ï¼Œæ— è®ºç»“æœä¸º<code>resolved</code>è¿˜æ˜¯<code>rejected</code>ï¼Œéƒ½ä¼šæ‰§è¡Œé‡Œé¢çš„å›è°ƒå‡½æ•°ã€‚</li></ol><h4 id="3-1-é¢˜ç›®ä¸€"><a href="#3-1-é¢˜ç›®ä¸€" class="headerlink" title="3.1 é¢˜ç›®ä¸€"></a>3.1 é¢˜ç›®ä¸€</h4><pre><code>const promise = new Promise((resolve, reject) =&gt; &#123;  resolve(&quot;success1&quot;);  reject(&quot;error&quot;);  resolve(&quot;success2&quot;);&#125;);promise.then(res =&gt; &#123;    console.log(&quot;then: &quot;, res);  &#125;).catch(err =&gt; &#123;    console.log(&quot;catch: &quot;, err);  &#125;)å¤åˆ¶ä»£ç </code></pre><p>ç»“æœï¼š</p><pre><code>&quot;then: success1&quot;å¤åˆ¶ä»£ç </code></pre><p>æ„é€ å‡½æ•°ä¸­çš„ <code>resolve</code> æˆ– <code>reject</code> åªæœ‰ç¬¬ä¸€æ¬¡æ‰§è¡Œæœ‰æ•ˆï¼Œå¤šæ¬¡è°ƒç”¨æ²¡æœ‰ä»»ä½•ä½œç”¨ ã€‚éªŒè¯äº†ç¬¬ä¸€ä¸ªç»“è®ºï¼Œ<code>Promise</code>çš„çŠ¶æ€ä¸€ç»æ”¹å˜å°±ä¸èƒ½å†æ”¹å˜ã€‚</p><h4 id="3-2-é¢˜ç›®äºŒ"><a href="#3-2-é¢˜ç›®äºŒ" class="headerlink" title="3.2 é¢˜ç›®äºŒ"></a>3.2 é¢˜ç›®äºŒ</h4><pre><code>const promise = new Promise((resolve, reject) =&gt; &#123;  reject(&quot;error&quot;);  resolve(&quot;success2&quot;);&#125;);promise.then(res =&gt; &#123;    console.log(&quot;then1: &quot;, res);  &#125;).then(res =&gt; &#123;    console.log(&quot;then2: &quot;, res);  &#125;).catch(err =&gt; &#123;    console.log(&quot;catch: &quot;, err);  &#125;).then(res =&gt; &#123;    console.log(&quot;then3: &quot;, res);  &#125;)å¤åˆ¶ä»£ç </code></pre><p>ç»“æœï¼š</p><pre><code>&quot;catch: &quot; &quot;error&quot;&quot;then3: &quot; undefinedå¤åˆ¶ä»£ç </code></pre><p>éªŒè¯äº†ç¬¬ä¸‰ä¸ªç»“è®ºï¼Œ<code>catch</code>ä¸ç®¡è¢«è¿æ¥åˆ°å“ªé‡Œï¼Œéƒ½èƒ½æ•è·ä¸Šå±‚æœªæ•æ‰è¿‡çš„é”™è¯¯ã€‚</p><p>è‡³äº<code>then3</code>ä¹Ÿä¼šè¢«æ‰§è¡Œï¼Œé‚£æ˜¯å› ä¸º<code>catch()</code>ä¹Ÿä¼šè¿”å›ä¸€ä¸ª<code>Promise</code>ï¼Œä¸”ç”±äºè¿™ä¸ª<code>Promise</code>æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„æ˜¯<code>undefined</code>ã€‚</p><h4 id="3-3-é¢˜ç›®ä¸‰"><a href="#3-3-é¢˜ç›®ä¸‰" class="headerlink" title="3.3 é¢˜ç›®ä¸‰"></a>3.3 é¢˜ç›®ä¸‰</h4><pre><code>Promise.resolve(1)  .then(res =&gt; &#123;    console.log(res);    return 2;  &#125;)  .catch(err =&gt; &#123;    return 3;  &#125;)  .then(res =&gt; &#123;    console.log(res);  &#125;);å¤åˆ¶ä»£ç </code></pre><p>ç»“æœï¼š</p><pre><code>12å¤åˆ¶ä»£ç </code></pre><p><code>Promise</code>å¯ä»¥é“¾å¼è°ƒç”¨ï¼Œä¸è¿‡<code>promise</code> æ¯æ¬¡è°ƒç”¨ <code>.then</code> æˆ–è€… <code>.catch</code> éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ <code>promise</code>ï¼Œä»è€Œå®ç°äº†é“¾å¼è°ƒç”¨, å®ƒå¹¶ä¸åƒä¸€èˆ¬æˆ‘ä»¬ä»»åŠ¡çš„é“¾å¼è°ƒç”¨ä¸€æ ·<code>return this</code>ã€‚</p><p>ä¸Šé¢çš„è¾“å‡ºç»“æœä¹‹æ‰€ä»¥ä¾æ¬¡æ‰“å°å‡º<code>1</code>å’Œ<code>2</code>ï¼Œé‚£æ˜¯å› ä¸º<code>resolve(1)</code>ä¹‹åèµ°çš„æ˜¯ç¬¬ä¸€ä¸ª<code>then</code>æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰èµ°<code>catch</code>é‡Œï¼Œæ‰€ä»¥ç¬¬äºŒä¸ª<code>then</code>ä¸­çš„<code>res</code>å¾—åˆ°çš„å®é™…ä¸Šæ˜¯ç¬¬ä¸€ä¸ª<code>then</code>çš„è¿”å›å€¼ã€‚</p><p>ä¸”<code>return 2</code>ä¼šè¢«åŒ…è£…æˆ<code>resolve(2)</code>ã€‚</p><h4 id="3-4-é¢˜ç›®å››"><a href="#3-4-é¢˜ç›®å››" class="headerlink" title="3.4 é¢˜ç›®å››"></a>3.4 é¢˜ç›®å››</h4><p>å¦‚æœæŠŠ<code>3.3</code>ä¸­çš„<code>Promise.resolve(1)</code>æ”¹ä¸º<code>Promise.reject(1)</code>åˆä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ</p><pre><code>Promise.reject(1)  .then(res =&gt; &#123;    console.log(res);    return 2;  &#125;)  .catch(err =&gt; &#123;    console.log(err);    return 3  &#125;)  .then(res =&gt; &#123;    console.log(res);  &#125;);å¤åˆ¶ä»£ç </code></pre><p>ç»“æœï¼š</p><pre><code>13å¤åˆ¶ä»£ç </code></pre><p>ç»“æœæ‰“å°çš„å½“ç„¶æ˜¯ <code>1 å’Œ 3</code>å•¦ï¼Œå› ä¸º<code>reject(1)</code>æ­¤æ—¶èµ°çš„å°±æ˜¯<code>catch</code>ï¼Œä¸”ç¬¬äºŒä¸ª<code>then</code>ä¸­çš„<code>res</code>å¾—åˆ°çš„å°±æ˜¯<code>catch</code>ä¸­çš„è¿”å›å€¼ã€‚</p><h4 id="3-5-é¢˜ç›®äº”"><a href="#3-5-é¢˜ç›®äº”" class="headerlink" title="3.5 é¢˜ç›®äº”"></a>3.5 é¢˜ç›®äº”</h4><pre><code>const promise = new Promise((resolve, reject) =&gt; &#123;  setTimeout(() =&gt; &#123;    console.log(&#39;timer&#39;)    resolve(&#39;success&#39;)  &#125;, 1000)&#125;)const start = Date.now();promise.then(res =&gt; &#123;  console.log(res, Date.now() - start)&#125;)promise.then(res =&gt; &#123;  console.log(res, Date.now() - start)&#125;)å¤åˆ¶ä»£ç </code></pre><p>æ‰§è¡Œç»“æœï¼š</p><pre><code>&#39;timer&#39;&#39;success&#39; 1001&#39;success&#39; 1002å¤åˆ¶ä»£ç </code></pre><p>å½“ç„¶ï¼Œå¦‚æœä½ è¶³å¤Ÿå¿«çš„è¯ï¼Œä¹Ÿå¯èƒ½ä¸¤ä¸ªéƒ½æ˜¯<code>1001</code>ã€‚</p><p><code>Promise</code> çš„ <code>.then</code> æˆ–è€… <code>.catch</code> å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ï¼Œä½†è¿™é‡Œ <code>Promise</code> æ„é€ å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚æˆ–è€…è¯´ <code>promise</code> å†…éƒ¨çŠ¶æ€ä¸€ç»æ”¹å˜ï¼Œå¹¶ä¸”æœ‰äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåç»­æ¯æ¬¡è°ƒç”¨ <code>.then</code> æˆ–è€… <code>.catch</code> éƒ½ä¼šç›´æ¥æ‹¿åˆ°è¯¥å€¼ã€‚</p><h4 id="3-6-é¢˜ç›®å…­"><a href="#3-6-é¢˜ç›®å…­" class="headerlink" title="3.6 é¢˜ç›®å…­"></a>3.6 é¢˜ç›®å…­</h4><pre><code>Promise.resolve().then(() =&gt; &#123;  return new Error(&#39;error!!!&#39;)&#125;).then(res =&gt; &#123;  console.log(&quot;then: &quot;, res)&#125;).catch(err =&gt; &#123;  console.log(&quot;catch: &quot;, err)&#125;)å¤åˆ¶ä»£ç </code></pre><p>çŒœçŒœè¿™é‡Œçš„ç»“æœè¾“å‡ºçš„æ˜¯ä»€ä¹ˆ ğŸ¤”ï¸ ï¼Ÿ</p><p>ä½ å¯èƒ½æƒ³åˆ°çš„æ˜¯è¿›å…¥<code>.catch</code>ç„¶åè¢«æ•è·äº†é”™è¯¯ã€‚</p><p>ç»“æœå¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œå®ƒèµ°çš„æ˜¯<code>.then</code>é‡Œé¢ï¼š</p><pre><code>&quot;then: &quot; &quot;Error: error!!!&quot;å¤åˆ¶ä»£ç </code></pre><p>è¿™ä¹ŸéªŒè¯äº†ç¬¬4ç‚¹å’Œç¬¬6ç‚¹ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªé <code>promise</code> çš„å€¼éƒ½ä¼šè¢«åŒ…è£¹æˆ <code>promise</code> å¯¹è±¡ï¼Œå› æ­¤è¿™é‡Œçš„<code>return new Error(&#39;error!!!&#39;)</code>ä¹Ÿè¢«åŒ…è£¹æˆäº†<code>return Promise.resolve(new Error(&#39;error!!!&#39;))</code>ã€‚</p><p>å½“ç„¶å¦‚æœä½ æŠ›å‡ºä¸€ä¸ªé”™è¯¯çš„è¯ï¼Œå¯ä»¥ç”¨ä¸‹é¢ğŸ‘‡ä¸¤çš„ä»»æ„ä¸€ç§ï¼š</p><pre><code>return Promise.reject(new Error(&#39;error!!!&#39;));// orthrow new Error(&#39;error!!!&#39;)å¤åˆ¶ä»£ç </code></pre><h4 id="3-7-é¢˜ç›®ä¸ƒ"><a href="#3-7-é¢˜ç›®ä¸ƒ" class="headerlink" title="3.7 é¢˜ç›®ä¸ƒ"></a>3.7 é¢˜ç›®ä¸ƒ</h4><pre><code>const promise = Promise.resolve().then(() =&gt; &#123;  return promise;&#125;)promise.catch(console.err)å¤åˆ¶ä»£ç </code></pre><p><code>.then</code> æˆ– <code>.catch</code> è¿”å›çš„å€¼ä¸èƒ½æ˜¯ promise æœ¬èº«ï¼Œå¦åˆ™ä¼šé€ æˆæ­»å¾ªç¯ã€‚</p><p>å› æ­¤ç»“æœä¼šæŠ¥é”™ï¼š</p><pre><code>Uncaught (in promise) TypeError: Chaining cycle detected for promise #&lt;Promise&gt;å¤åˆ¶ä»£ç </code></pre><h4 id="3-8-é¢˜ç›®å…«"><a href="#3-8-é¢˜ç›®å…«" class="headerlink" title="3.8 é¢˜ç›®å…«"></a>3.8 é¢˜ç›®å…«</h4><pre><code>Promise.resolve(1)  .then(2)  .then(Promise.resolve(3))  .then(console.log)å¤åˆ¶ä»£ç </code></pre><p>è¿™é“é¢˜çœ‹ç€å¥½åƒå¾ˆç®€å•ï¼Œåˆæ„Ÿè§‰å¾ˆå¤æ‚çš„æ ·å­ï¼Œæ€ä¹ˆè¿™ä¹ˆå¤šä¸ª<code>.then</code>å•Šâ€¦ ğŸ˜…</p><p><img data-src="https://user-gold-cdn.xitu.io/2020/2/28/1708baaf2b1e9075?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p><p>å…¶å®ä½ åªè¦è®°ä½<strong>åŸåˆ™8</strong>ï¼š<code>.then</code> æˆ–è€… <code>.catch</code> çš„å‚æ•°æœŸæœ›æ˜¯å‡½æ•°ï¼Œä¼ å…¥éå‡½æ•°åˆ™ä¼šå‘ç”Ÿå€¼é€ä¼ ã€‚</p><p>ç¬¬ä¸€ä¸ª<code>then</code>å’Œç¬¬äºŒä¸ª<code>then</code>ä¸­ä¼ å…¥çš„éƒ½ä¸æ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯æ•°å­—ç±»å‹ï¼Œä¸€ä¸ªæ˜¯å¯¹è±¡ç±»å‹ï¼Œå› æ­¤å‘ç”Ÿäº†é€ä¼ ï¼Œå°†<code>resolve(1)</code> çš„å€¼ç›´æ¥ä¼ åˆ°æœ€åä¸€ä¸ª<code>then</code>é‡Œã€‚</p><p>æ‰€ä»¥è¾“å‡ºç»“æœä¸ºï¼š</p><pre><code>1å¤åˆ¶ä»£ç </code></pre><h4 id="3-9-é¢˜ç›®ä¹"><a href="#3-9-é¢˜ç›®ä¹" class="headerlink" title="3.9 é¢˜ç›®ä¹"></a>3.9 é¢˜ç›®ä¹</h4><p>ä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹<code>.then</code>å‡½æ•°ä¸­çš„ä¸¤ä¸ªå‚æ•°ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨æ¥å¤„ç†<code>Promise</code>æˆåŠŸçš„å‡½æ•°ï¼Œç¬¬äºŒä¸ªåˆ™æ˜¯å¤„ç†å¤±è´¥çš„å‡½æ•°ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´<code>Promise.resolve(&#39;1&#39;)</code>çš„å€¼ä¼šè¿›å…¥æˆåŠŸçš„å‡½æ•°ï¼Œ<code>Promise.reject(&#39;2&#39;)</code>çš„å€¼ä¼šè¿›å…¥å¤±è´¥çš„å‡½æ•°ã€‚</p><p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­ğŸŒ°ï¼š</p><pre><code>Promise.reject(&#39;err!!!&#39;)  .then((res) =&gt; &#123;    console.log(&#39;success&#39;, res)  &#125;, (err) =&gt; &#123;    console.log(&#39;error&#39;, err)  &#125;).catch(err =&gt; &#123;    console.log(&#39;catch&#39;, err)  &#125;)å¤åˆ¶ä»£ç </code></pre><p>è¿™é‡Œçš„æ‰§è¡Œç»“æœæ˜¯ï¼š</p><pre><code>&#39;error&#39; &#39;error!!!&#39;å¤åˆ¶ä»£ç </code></pre><p>å®ƒè¿›å…¥çš„æ˜¯<code>then()</code>ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°é‡Œé¢ï¼Œè€Œå¦‚æœæŠŠç¬¬äºŒä¸ªå‚æ•°å»æ‰ï¼Œå°±è¿›å…¥äº†<code>catch()</code>ä¸­ï¼š</p><pre><code>Promise.reject(&#39;err!!!&#39;)  .then((res) =&gt; &#123;    console.log(&#39;success&#39;, res)  &#125;).catch(err =&gt; &#123;    console.log(&#39;catch&#39;, err)  &#125;)å¤åˆ¶ä»£ç </code></pre><p>æ‰§è¡Œç»“æœï¼š</p><pre><code>&#39;catch&#39; &#39;error!!!&#39;å¤åˆ¶ä»£ç </code></pre><p>ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ˜¯è¿™ä¸ªæ¡ˆä¾‹å‘¢ï¼Ÿ</p><pre><code>Promise.resolve()  .then(function success (res) &#123;    throw new Error(&#39;error!!!&#39;)  &#125;, function fail1 (err) &#123;    console.log(&#39;fail1&#39;, err)  &#125;).catch(function fail2 (err) &#123;    console.log(&#39;fail2&#39;, err)  &#125;)å¤åˆ¶ä»£ç </code></pre><p>ç”±äº<code>Promise</code>è°ƒç”¨çš„æ˜¯<code>resolve()</code>ï¼Œå› æ­¤<code>.then()</code>æ‰§è¡Œçš„åº”è¯¥æ˜¯<code>success()</code>å‡½æ•°ï¼Œå¯æ˜¯<code>success()</code>å‡½æ•°æŠ›å‡ºçš„æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œå®ƒä¼šè¢«åé¢çš„<code>catch()</code>ç»™æ•è·åˆ°ï¼Œè€Œä¸æ˜¯è¢«<code>fail1</code>å‡½æ•°æ•è·ã€‚</p><p>å› æ­¤æ‰§è¡Œç»“æœä¸ºï¼š</p><pre><code>fail2 Error: error!!!   at successå¤åˆ¶ä»£ç </code></pre><h4 id="3-10-é¢˜ç›®å"><a href="#3-10-é¢˜ç›®å" class="headerlink" title="3.10 é¢˜ç›®å"></a>3.10 é¢˜ç›®å</h4><p>æ¥ç€æ¥çœ‹çœ‹<code>.finally()</code>ï¼Œè¿™ä¸ªåŠŸèƒ½ä¸€èˆ¬ä¸å¤ªç”¨åœ¨é¢è¯•ä¸­ï¼Œä¸è¿‡å¦‚æœç¢°åˆ°äº†ä½ ä¹Ÿåº”è¯¥çŸ¥é“è¯¥å¦‚ä½•å¤„ç†ã€‚</p><p>å…¶å®ä½ åªè¦è®°ä½å®ƒä¸‰ä¸ªå¾ˆé‡è¦çš„çŸ¥è¯†ç‚¹å°±å¯ä»¥äº†ï¼š</p><ol><li><code>.finally()</code>æ–¹æ³•ä¸ç®¡<code>Promise</code>å¯¹è±¡æœ€åçš„çŠ¶æ€å¦‚ä½•éƒ½ä¼šæ‰§è¡Œ</li><li><code>.finally()</code>æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ åœ¨<code>.finally()</code>å‡½æ•°ä¸­æ˜¯æ²¡æ³•çŸ¥é“<code>Promise</code>æœ€ç»ˆçš„çŠ¶æ€æ˜¯<code>resolved</code>è¿˜æ˜¯<code>rejected</code>çš„</li><li>å®ƒæœ€ç»ˆè¿”å›çš„é»˜è®¤ä¼šæ˜¯ä¸€ä¸ª<strong>ä¸Šä¸€æ¬¡çš„Promiseå¯¹è±¡å€¼</strong>ï¼Œä¸è¿‡å¦‚æœæŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸åˆ™è¿”å›å¼‚å¸¸çš„<code>Promise</code>å¯¹è±¡ã€‚</li></ol><p>æ¥çœ‹çœ‹è¿™ä¸ªç®€å•çš„ä¾‹å­ğŸŒ°ï¼š</p><pre><code>Promise.resolve(&#39;1&#39;)  .then(res =&gt; &#123;    console.log(res)  &#125;)  .finally(() =&gt; &#123;    console.log(&#39;finally&#39;)  &#125;)Promise.resolve(&#39;2&#39;)  .finally(() =&gt; &#123;    console.log(&#39;finally2&#39;)   return &#39;æˆ‘æ˜¯finally2è¿”å›çš„å€¼&#39;  &#125;)  .then(res =&gt; &#123;    console.log(&#39;finally2åé¢çš„thenå‡½æ•°&#39;, res)  &#125;)å¤åˆ¶ä»£ç </code></pre><p>è¿™ä¸¤ä¸ª<code>Promise</code>çš„<code>.finally</code>éƒ½ä¼šæ‰§è¡Œï¼Œä¸”å°±ç®—<code>finally2</code>è¿”å›äº†æ–°çš„å€¼ï¼Œå®ƒåé¢çš„<code>then()</code>å‡½æ•°æ¥æ”¶åˆ°çš„ç»“æœå´è¿˜æ˜¯<code>&#39;2&#39;</code>ï¼Œå› æ­¤æ‰“å°ç»“æœä¸ºï¼š</p><pre><code>&#39;1&#39;&#39;finally2&#39;&#39;finally&#39;&#39;finally2åé¢çš„thenå‡½æ•°&#39; &#39;2&#39;å¤åˆ¶ä»£ç </code></pre><p>è‡³äºä¸ºä»€ä¹ˆ<code>finally2</code>çš„æ‰“å°è¦åœ¨<code>finally</code>å‰é¢ï¼Œè¯·çœ‹ä¸‹ä¸€ä¸ªä¾‹å­ä¸­çš„è§£æã€‚</p><p>ä¸è¿‡åœ¨æ­¤ä¹‹å‰è®©æˆ‘ä»¬å†æ¥ç¡®è®¤ä¸€ä¸‹ï¼Œ<code>finally</code>ä¸­è¦æ˜¯æŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸æ˜¯æ€æ ·çš„ï¼š</p><pre><code>Promise.resolve(&#39;1&#39;)  .finally(() =&gt; &#123;    console.log(&#39;finally1&#39;)    throw new Error(&#39;æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸&#39;)  &#125;)  .then(res =&gt; &#123;    console.log(&#39;finallyåé¢çš„thenå‡½æ•°&#39;, res)  &#125;)  .catch(err =&gt; &#123;    console.log(&#39;æ•è·é”™è¯¯&#39;, err)  &#125;)å¤åˆ¶ä»£ç </code></pre><p>æ‰§è¡Œç»“æœä¸ºï¼š</p><pre><code>&#39;finally1&#39;&#39;æ•è·é”™è¯¯&#39; Error: æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸å¤åˆ¶ä»£ç </code></pre><p>ä½†æ˜¯å¦‚æœæ”¹ä¸º<code>return new Error(&#39;æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸&#39;)</code>ï¼Œæ‰“å°å‡ºæ¥çš„å°±æ˜¯<code>&#39;finallyåé¢çš„thenå‡½æ•° 1&#39;</code></p><p>OKï¼ŒğŸ‘Œï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ¯”è¾ƒéš¾çš„ä¾‹å­ğŸŒ°ï¼š</p><pre><code>function promise1 () &#123;  let p = new Promise((resolve) =&gt; &#123;    console.log(&#39;promise1&#39;);    resolve(&#39;1&#39;)  &#125;)  return p;&#125;function promise2 () &#123;  return new Promise((resolve, reject) =&gt; &#123;    reject(&#39;error&#39;)  &#125;)&#125;promise1()  .then(res =&gt; console.log(res))  .catch(err =&gt; console.log(err))  .finally(() =&gt; console.log(&#39;finally1&#39;))promise2()  .then(res =&gt; console.log(res))  .catch(err =&gt; console.log(err))  .finally(() =&gt; console.log(&#39;finally2&#39;))å¤åˆ¶ä»£ç </code></pre><p>æ‰§è¡Œè¿‡ç¨‹ï¼š</p><ul><li>é¦–å…ˆå®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°<code>promise1</code>å’Œ<code>promise2</code>ï¼Œå…ˆä¸ç®¡æ¥ç€å¾€ä¸‹çœ‹ã€‚</li><li><code>promise1</code>å‡½æ•°å…ˆè¢«è°ƒç”¨äº†ï¼Œç„¶åæ‰§è¡Œé‡Œé¢<code>new Promise</code>çš„åŒæ­¥ä»£ç æ‰“å°å‡º<code>promise1</code></li><li>ä¹‹åé‡åˆ°äº†<code>resolve(1)</code>ï¼Œå°†<code>p</code>çš„çŠ¶æ€æ”¹ä¸ºäº†<code>resolved</code>å¹¶å°†ç»“æœä¿å­˜ä¸‹æ¥ã€‚</li><li>æ­¤æ—¶<code>promise1</code>å†…çš„å‡½æ•°å†…å®¹å·²ç»æ‰§è¡Œå®Œäº†ï¼Œè·³å‡ºè¯¥å‡½æ•°</li><li>ç¢°åˆ°äº†<code>promise1().then()</code>ï¼Œç”±äº<code>promise1</code>çš„çŠ¶æ€å·²ç»å‘ç”Ÿäº†æ”¹å˜ä¸”ä¸º<code>resolved</code>å› æ­¤å°†<code>promise1().then()</code>è¿™æ¡å¾®ä»»åŠ¡åŠ å…¥æœ¬è½®çš„å¾®ä»»åŠ¡åˆ—è¡¨(<strong>è¿™æ˜¯ç¬¬ä¸€ä¸ªå¾®ä»»åŠ¡</strong>)</li><li>è¿™æ—¶å€™è¦æ³¨æ„äº†ï¼Œä»£ç å¹¶ä¸ä¼šæ¥ç€å¾€é“¾å¼è°ƒç”¨çš„ä¸‹é¢èµ°ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šå…ˆå°†<code>.finally</code>åŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œé‚£æ˜¯å› ä¸º<code>.then</code>æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œå®ƒé“¾å¼åé¢çš„å†…å®¹å¿…é¡»å¾—ç­‰å½“å‰è¿™ä¸ªå¾®ä»»åŠ¡æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬å…ˆä¸ç®¡<code>.finally()</code></li><li>å†å¾€ä¸‹èµ°ç¢°åˆ°äº†<code>promise2()</code>å‡½æ•°ï¼Œå…¶ä¸­è¿”å›çš„<code>new Promise</code>ä¸­å¹¶æ²¡æœ‰åŒæ­¥ä»£ç éœ€è¦æ‰§è¡Œï¼Œæ‰€ä»¥æ‰§è¡Œ<code>reject(&#39;error&#39;)</code>çš„æ—¶å€™å°†<code>promise2</code>å‡½æ•°ä¸­çš„<code>Promise</code>çš„çŠ¶æ€å˜ä¸ºäº†<code>rejected</code></li><li>è·³å‡º<code>promise2</code>å‡½æ•°ï¼Œé‡åˆ°äº†<code>promise2().catch()</code>ï¼Œå°†å…¶åŠ å…¥å½“å‰çš„å¾®ä»»åŠ¡é˜Ÿåˆ—(<strong>è¿™æ˜¯ç¬¬äºŒä¸ªå¾®ä»»åŠ¡</strong>)ï¼Œä¸”é“¾å¼è°ƒç”¨åé¢çš„å†…å®¹å¾—ç­‰è¯¥ä»»åŠ¡æ‰§è¡Œå®Œåæ‰æ‰§è¡Œï¼Œå’Œ<code>.then()</code>ä¸€æ ·ã€‚</li><li>OKï¼Œ æœ¬è½®çš„å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œäº†ï¼Œæ¥çœ‹çœ‹å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œå­˜åœ¨<code>promise1().then()</code>ï¼Œæ‰§è¡Œå®ƒï¼Œæ‰“å°å‡º<code>1</code>ï¼Œç„¶åé‡åˆ°äº†<code>.finally()</code>è¿™ä¸ªå¾®ä»»åŠ¡å°†å®ƒåŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨(<strong>è¿™æ˜¯ç¬¬ä¸‰ä¸ªå¾®ä»»åŠ¡</strong>)ç­‰å¾…æ‰§è¡Œ</li><li>å†æ‰§è¡Œ<code>promise2().catch()</code>æ‰“å°å‡º<code>error</code>ï¼Œæ‰§è¡Œå®Œåå°†<code>finally2</code>åŠ å…¥å¾®ä»»åŠ¡åŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨(<strong>è¿™æ˜¯ç¬¬å››ä¸ªå¾®ä»»åŠ¡</strong>)</li><li>OKï¼Œ æœ¬è½®åˆå…¨éƒ¨æ‰§è¡Œå®Œäº†ï¼Œä½†æ˜¯å¾®ä»»åŠ¡åˆ—è¡¨è¿˜æœ‰ä¸¤ä¸ªæ–°çš„å¾®ä»»åŠ¡æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå› æ­¤ä¾æ¬¡æ‰§è¡Œ<code>finally1</code>å’Œ<code>finally2</code>ã€‚</li></ul><p>ç»“æœï¼š</p><pre><code>&#39;promise1&#39;&#39;1&#39;&#39;error&#39;&#39;finally1&#39;&#39;finally2&#39;å¤åˆ¶ä»£ç </code></pre><p>åœ¨è¿™é“é¢˜ä¸­å…¶å®èƒ½æ‹“å±•çš„ä¸œè¥¿æŒºå¤šçš„ï¼Œä¹‹å‰æ²¡æœ‰æåˆ°ï¼Œé‚£å°±æ˜¯ä½ å¯ä»¥ç†è§£ä¸º<strong>é“¾å¼è°ƒç”¨</strong>åé¢çš„å†…å®¹éœ€è¦ç­‰å‰ä¸€ä¸ªè°ƒç”¨æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œã€‚</p><p>å°±åƒæ˜¯è¿™é‡Œçš„<code>finally()</code>ä¼šç­‰<code>promise1().then()</code>æ‰§è¡Œå®Œæ‰ä¼šå°†<code>finally()</code>åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå…¶å®å¦‚æœè¿™é“é¢˜ä¸­ä½ æŠŠ<code>finally()</code>æ¢æˆæ˜¯<code>then()</code>ä¹Ÿæ˜¯è¿™æ ·çš„:</p><pre><code>function promise1 () &#123;  let p = new Promise((resolve) =&gt; &#123;    console.log(&#39;promise1&#39;);    resolve(&#39;1&#39;)  &#125;)  return p;&#125;function promise2 () &#123;  return new Promise((resolve, reject) =&gt; &#123;    reject(&#39;error&#39;)  &#125;)&#125;promise1()  .then(res =&gt; console.log(res))  .catch(err =&gt; console.log(err))  .then(() =&gt; console.log(&#39;finally1&#39;))promise2()  .then(res =&gt; console.log(res))  .catch(err =&gt; console.log(err))  .then(() =&gt; console.log(&#39;finally2&#39;))å¤åˆ¶ä»£ç </code></pre><h3 id="4-Promiseä¸­çš„allå’Œrace"><a href="#4-Promiseä¸­çš„allå’Œrace" class="headerlink" title="4. Promiseä¸­çš„allå’Œrace"></a>4. Promiseä¸­çš„allå’Œrace</h3><p>åœ¨åšä¸‹é¢ğŸ‘‡çš„é¢˜ç›®ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹<code>Promise.all()</code>å’Œ<code>Promise.race()</code>çš„ç”¨æ³•ã€‚</p><p>é€šä¿—æ¥è¯´ï¼Œ<code>.all()</code>çš„ä½œç”¨æ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåæ‰æ‰§è¡Œå›è°ƒã€‚</p><p><code>.race()</code>çš„ä½œç”¨ä¹Ÿæ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œåªä¿ç•™å–ç¬¬ä¸€ä¸ªæ‰§è¡Œå®Œæˆçš„å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå…¶ä»–çš„æ–¹æ³•ä»åœ¨æ‰§è¡Œï¼Œä¸è¿‡æ‰§è¡Œç»“æœä¼šè¢«æŠ›å¼ƒã€‚</p><p>æ¥çœ‹çœ‹é¢˜ç›®ä¸€ã€‚</p><h4 id="4-1-é¢˜ç›®ä¸€"><a href="#4-1-é¢˜ç›®ä¸€" class="headerlink" title="4.1 é¢˜ç›®ä¸€"></a>4.1 é¢˜ç›®ä¸€</h4><p>æˆ‘ä»¬çŸ¥é“å¦‚æœç›´æ¥åœ¨è„šæœ¬æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ª<code>Promise</code>ï¼Œå®ƒæ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¼šç«‹å³æ‰§è¡Œçš„ï¼Œå°±åƒè¿™æ ·ï¼š</p><pre><code>const p1 = new Promise(r =&gt; console.log(&#39;ç«‹å³æ‰“å°&#39;))å¤åˆ¶ä»£ç </code></pre><p>æ§åˆ¶å°ä¸­ä¼šç«‹å³æ‰“å°å‡º â€œç«‹å³æ‰“å°â€ã€‚</p><p>å› æ­¤ä¸ºäº†æ§åˆ¶å®ƒä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå‡½æ•°åŒ…è£¹ç€å®ƒï¼Œåœ¨éœ€è¦å®ƒæ‰§è¡Œçš„æ—¶å€™ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°å°±å¯ä»¥äº†ï¼š</p><pre><code>function runP1 () &#123;    const p1 = new Promise(r =&gt; console.log(&#39;ç«‹å³æ‰“å°&#39;))    return p1&#125;runP1() // è°ƒç”¨æ­¤å‡½æ•°æ—¶æ‰æ‰§è¡Œå¤åˆ¶ä»£ç </code></pre><p>OK ğŸ‘Œï¼Œ è®©æˆ‘ä»¬å›å½’æ­£é¢˜ã€‚</p><p>ç°åœ¨æ¥æ„å»ºè¿™ä¹ˆä¸€ä¸ªå‡½æ•°ï¼š</p><pre><code>function runAsync (x) &#123;    const p = new Promise(r =&gt; setTimeout(() =&gt; r(x, console.log(x)), 1000))    return p&#125;å¤åˆ¶ä»£ç </code></pre><p>è¯¥å‡½æ•°ä¼ å…¥ä¸€ä¸ªå€¼<code>x</code>ï¼Œç„¶åé—´éš”ä¸€ç§’åæ‰“å°å‡ºè¿™ä¸ª<code>x</code>ã€‚</p><p>å¦‚æœæˆ‘ç”¨<code>.all()</code>æ¥æ‰§è¡Œå®ƒä¼šæ€æ ·å‘¢ï¼Ÿ</p><pre><code>function runAsync (x) &#123;    const p = new Promise(r =&gt; setTimeout(() =&gt; r(x, console.log(x)), 1000))    return p&#125;Promise.all([runAsync(1), runAsync(2), runAsync(3)])  .then(res =&gt; console.log(res))å¤åˆ¶ä»£ç </code></pre><p>å…ˆæ¥æƒ³æƒ³æ­¤æ®µä»£ç åœ¨æµè§ˆå™¨ä¸­ä¼šå¦‚ä½•æ‰§è¡Œï¼Ÿ</p><p>æ²¡é”™ï¼Œå½“ä½ æ‰“å¼€é¡µé¢çš„æ—¶å€™ï¼Œåœ¨é—´éš”ä¸€ç§’åï¼Œæ§åˆ¶å°ä¼šåŒæ—¶æ‰“å°å‡º<code>1, 2, 3</code>ï¼Œè¿˜æœ‰ä¸€ä¸ªæ•°ç»„<code>[1, 2, 3]</code>ã€‚</p><pre><code>123[1, 2, 3]å¤åˆ¶ä»£ç </code></pre><p>æ‰€ä»¥ä½ ç°åœ¨èƒ½ç†è§£è¿™å¥è¯çš„æ„æ€äº†å—ï¼š<strong>æœ‰äº†allï¼Œä½ å°±å¯ä»¥å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªå›è°ƒä¸­å¤„ç†æ‰€æœ‰çš„è¿”å›æ•°æ®ã€‚</strong></p><p><code>.all()</code>åé¢çš„<code>.then()</code>é‡Œçš„å›è°ƒå‡½æ•°æ¥æ”¶çš„å°±æ˜¯æ‰€æœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚</p><p>è€Œä¸”è¿™ä¸ªç»“æœä¸­æ•°ç»„çš„é¡ºåºå’Œ<code>Promise.all()</code>æ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºä¸€è‡´ï¼ï¼ï¼</p><blockquote><p>æœ‰ä¸€ä¸ªåœºæ™¯æ˜¯å¾ˆé€‚åˆç”¨è¿™ä¸ªçš„ï¼Œä¸€äº›æ¸¸æˆç±»çš„ç´ ææ¯”è¾ƒå¤šçš„åº”ç”¨ï¼Œæ‰“å¼€ç½‘é¡µæ—¶ï¼Œé¢„å…ˆåŠ è½½éœ€è¦ç”¨åˆ°çš„å„ç§èµ„æºå¦‚å›¾ç‰‡ã€flashä»¥åŠå„ç§é™æ€æ–‡ä»¶ã€‚æ‰€æœ‰çš„éƒ½åŠ è½½å®Œåï¼Œæˆ‘ä»¬å†è¿›è¡Œé¡µé¢çš„åˆå§‹åŒ–ã€‚</p></blockquote><h4 id="4-2-é¢˜ç›®äºŒ"><a href="#4-2-é¢˜ç›®äºŒ" class="headerlink" title="4.2 é¢˜ç›®äºŒ"></a>4.2 é¢˜ç›®äºŒ</h4><p>æˆ‘æ–°å¢äº†ä¸€ä¸ª<code>runReject</code>å‡½æ•°ï¼Œå®ƒç”¨æ¥åœ¨<code>1000 * x</code>ç§’å<code>reject</code>ä¸€ä¸ªé”™è¯¯ã€‚</p><p>åŒæ—¶<code>.catch()</code>å‡½æ•°èƒ½å¤Ÿæ•è·åˆ°<code>.all()</code>é‡Œæœ€å…ˆçš„é‚£ä¸ªå¼‚å¸¸ï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚</p><p>æƒ³æƒ³è¿™é“é¢˜ä¼šæ€æ ·æ‰§è¡Œå‘¢ ğŸ¤”ï¸ï¼Ÿ</p><pre><code>function runAsync (x) &#123;  const p = new Promise(r =&gt; setTimeout(() =&gt; r(x, console.log(x)), 1000))  return p&#125;function runReject (x) &#123;  const p = new Promise((res, rej) =&gt; setTimeout(() =&gt; rej(`Error: $&#123;x&#125;`, console.log(x)), 1000 * x))  return p&#125;Promise.all([runAsync(1), runReject(4), runAsync(3), runReject(2)])  .then(res =&gt; console.log(res))  .catch(err =&gt; console.log(err))å¤åˆ¶ä»£ç </code></pre><p>ä¸å–å…³å­äº† ğŸ˜ï¼Œè®©æˆ‘æ¥å…¬å¸ƒç­”æ¡ˆï¼š</p><pre><code>// 1såè¾“å‡º13// 2såè¾“å‡º2Error: 2// 4såè¾“å‡º4å¤åˆ¶ä»£ç </code></pre><p>æ²¡é”™ï¼Œå°±åƒæˆ‘ä¹‹å‰è¯´çš„ï¼Œ<code>.catch</code>æ˜¯ä¼šæ•è·æœ€å…ˆçš„é‚£ä¸ªå¼‚å¸¸ï¼Œåœ¨è¿™é“é¢˜ç›®ä¸­æœ€å…ˆçš„å¼‚å¸¸å°±æ˜¯<code>runReject(2)</code>çš„ç»“æœã€‚</p><p>å¦å¤–ï¼Œå¦‚æœä¸€ç»„å¼‚æ­¥æ“ä½œä¸­æœ‰ä¸€ä¸ªå¼‚å¸¸éƒ½ä¸ä¼šè¿›å…¥<code>.then()</code>çš„ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°å‚æ•°ä¸­ã€‚</p><p>æ³¨æ„ï¼Œä¸ºä»€ä¹ˆä¸è¯´æ˜¯ä¸è¿›å…¥<code>.then()</code>ä¸­å‘¢ ğŸ¤”ï¸ï¼Ÿ</p><p>å“ˆå“ˆï¼Œå¤§å®¶åˆ«å¿˜äº†<code>.then()</code>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ˜¯å¯ä»¥æ•è·é”™è¯¯çš„ï¼š</p><pre><code>Promise.all([runAsync(1), runReject(4), runAsync(3), runReject(2)])  .then(res =&gt; console.log(res),   err =&gt; console.log(err))å¤åˆ¶ä»£ç </code></pre><h4 id="4-3-é¢˜ç›®ä¸‰"><a href="#4-3-é¢˜ç›®ä¸‰" class="headerlink" title="4.3 é¢˜ç›®ä¸‰"></a>4.3 é¢˜ç›®ä¸‰</h4><p>æ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹å¦ä¸€ä¸ªæœ‰è¶£çš„æ–¹æ³•<code>.race</code>ã€‚</p><p>è®©æˆ‘çœ‹çœ‹ä½ ä»¬çš„è‹±è¯­æ°´å¹³å¦‚ä½•ï¼Ÿ</p><p>å¿«ï¼ä¸€ç§’é’Ÿå‘Šè¯‰æˆ‘<code>race</code>æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p><p>![](<a href="https://juejin.im/post/data:image/svg+xml;utf8,">https://juejin.im/post/data:image/svg+xml;utf8,</a><?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="294" height="221"></svg>)</p><p>å¥½å§â€¦ä½ ä»¬æœç„¶å¾ˆå¼ºâ€¦</p><p><code>race</code>ï¼Œæ¯”èµ›ï¼Œèµ›è·‘çš„æ„æ€ã€‚</p><p>æ‰€ä»¥ä½¿ç”¨<code>.race()</code>æ–¹æ³•ï¼Œå®ƒåªä¼šè·å–æœ€å…ˆæ‰§è¡Œå®Œæˆçš„é‚£ä¸ªç»“æœï¼Œå…¶å®ƒçš„å¼‚æ­¥ä»»åŠ¡è™½ç„¶ä¹Ÿä¼šç»§ç»­è¿›è¡Œä¸‹å»ï¼Œä¸è¿‡<code>race</code>å·²ç»ä¸ç®¡é‚£äº›ä»»åŠ¡çš„ç»“æœäº†ã€‚</p><p>æ¥ï¼Œæ”¹é€ ä¸€ä¸‹<code>4.1</code>è¿™é“é¢˜ï¼š</p><pre><code>function runAsync (x) &#123;  const p = new Promise(r =&gt; setTimeout(() =&gt; r(x, console.log(x)), 1000))  return p&#125;Promise.race([runAsync(1), runAsync(2), runAsync(3)])  .then(res =&gt; console.log(&#39;result: &#39;, res))  .catch(err =&gt; console.log(err))å¤åˆ¶ä»£ç </code></pre><p>æ‰§è¡Œç»“æœä¸ºï¼š</p><pre><code>1&#39;result: &#39; 123å¤åˆ¶ä»£ç </code></pre><blockquote><p>è¿™ä¸ªraceæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿä½¿ç”¨åœºæ™¯è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç”¨raceç»™æŸä¸ªå¼‚æ­¥è¯·æ±‚è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¹¶ä¸”åœ¨è¶…æ—¶åæ‰§è¡Œç›¸åº”çš„æ“ä½œ</p></blockquote><h4 id="4-4-é¢˜ç›®å››"><a href="#4-4-é¢˜ç›®å››" class="headerlink" title="4.4 é¢˜ç›®å››"></a>4.4 é¢˜ç›®å››</h4><p>æ”¹é€ ä¸€ä¸‹é¢˜ç›®<code>4.2</code>ï¼š</p><pre><code>function runAsync(x) &#123;  const p = new Promise(r =&gt;    setTimeout(() =&gt; r(x, console.log(x)), 1000)  );  return p;&#125;function runReject(x) &#123;  const p = new Promise((res, rej) =&gt;    setTimeout(() =&gt; rej(`Error: $&#123;x&#125;`, console.log(x)), 1000 * x)  );  return p;&#125;Promise.race([runReject(0), runAsync(1), runAsync(2), runAsync(3)])  .then(res =&gt; console.log(&quot;result: &quot;, res))  .catch(err =&gt; console.log(err));å¤åˆ¶ä»£ç </code></pre><p>é‡åˆ°é”™è¯¯çš„è¯ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåœ¨è¿™é“é¢˜ä¸­ï¼Œ<code>runReject(0)</code>æœ€å…ˆæ‰§è¡Œå®Œï¼Œæ‰€ä»¥è¿›å…¥äº†<code>catch()</code>ä¸­ï¼š</p><pre><code>0&#39;Error: 0&#39;123å¤åˆ¶ä»£ç </code></pre><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>å¥½çš„ï¼Œè®©æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹<code>.then()</code>å’Œ<code>.race()</code>å§ï¼ŒğŸ˜„</p><ul><li><code>Promise.all()</code>çš„ä½œç”¨æ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåæ‰æ‰§è¡Œå›è°ƒã€‚</li><li><code>.race()</code>çš„ä½œç”¨ä¹Ÿæ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œåªä¿ç•™å–ç¬¬ä¸€ä¸ªæ‰§è¡Œå®Œæˆçš„å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå…¶ä»–çš„æ–¹æ³•ä»åœ¨æ‰§è¡Œï¼Œä¸è¿‡æ‰§è¡Œç»“æœä¼šè¢«æŠ›å¼ƒã€‚</li><li><code>Promise.all().then()</code>ç»“æœä¸­æ•°ç»„çš„é¡ºåºå’Œ<code>Promise.all()</code>æ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºä¸€è‡´ã€‚</li><li><code>allå’Œrace</code>ä¼ å…¥çš„æ•°ç»„ä¸­å¦‚æœæœ‰ä¼šæŠ›å‡ºå¼‚å¸¸çš„å¼‚æ­¥ä»»åŠ¡ï¼Œé‚£ä¹ˆåªæœ‰æœ€å…ˆæŠ›å‡ºçš„é”™è¯¯ä¼šè¢«æ•è·ï¼Œå¹¶ä¸”æ˜¯è¢«<code>then</code>çš„ç¬¬äºŒä¸ªå‚æ•°æˆ–è€…åé¢çš„<code>catch</code>æ•è·ï¼›ä½†å¹¶ä¸ä¼šå½±å“æ•°ç»„ä¸­å…¶å®ƒçš„å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œã€‚</li></ul><h3 id="5-async-awaitçš„å‡ é“é¢˜"><a href="#5-async-awaitçš„å‡ é“é¢˜" class="headerlink" title="5. async/awaitçš„å‡ é“é¢˜"></a>5. async/awaitçš„å‡ é“é¢˜</h3><p>æ—¢ç„¶è°ˆåˆ°äº†<code>Promise</code>ï¼Œé‚£å°±è‚¯å®šå¾—å†è¯´è¯´<code>async/await</code>ï¼Œåœ¨å¾ˆå¤šæ—¶å€™<code>async</code>å’Œ<code>Promise</code>çš„è§£æ³•å·®ä¸å¤šï¼Œåˆæœ‰äº›ä¸ä¸€æ ·ã€‚ä¸ä¿¡ä½ æ¥çœ‹çœ‹é¢˜ç›®ä¸€ã€‚</p><h4 id="5-1-é¢˜ç›®ä¸€"><a href="#5-1-é¢˜ç›®ä¸€" class="headerlink" title="5.1 é¢˜ç›®ä¸€"></a>5.1 é¢˜ç›®ä¸€</h4><pre><code>async function async1() &#123;  console.log(&quot;async1 start&quot;);  await async2();  console.log(&quot;async1 end&quot;);&#125;async function async2() &#123;  console.log(&quot;async2&quot;);&#125;async1();console.log(&#39;start&#39;)å¤åˆ¶ä»£ç </code></pre><p>è¿™é“åŸºç¡€é¢˜è¾“å‡ºçš„æ˜¯å•¥ï¼Ÿ</p><p>ç­”æ¡ˆï¼š</p><pre><code>&#39;async1 start&#39;&#39;async2&#39;&#39;start&#39;&#39;async1 end&#39;å¤åˆ¶ä»£ç </code></pre><p>è¿‡ç¨‹åˆ†æï¼š</p><ul><li>é¦–å…ˆä¸€è¿›æ¥æ˜¯åˆ›å»ºäº†ä¸¤ä¸ªå‡½æ•°çš„ï¼Œæˆ‘ä»¬å…ˆä¸çœ‹å‡½æ•°çš„åˆ›å»ºä½ç½®ï¼Œè€Œæ˜¯çœ‹å®ƒçš„è°ƒç”¨ä½ç½®</li><li>å‘ç°<code>async1</code>å‡½æ•°è¢«è°ƒç”¨äº†ï¼Œç„¶åå»çœ‹çœ‹è°ƒç”¨çš„å†…å®¹</li><li>æ‰§è¡Œå‡½æ•°ä¸­çš„åŒæ­¥ä»£ç <code>async1 start</code>ï¼Œä¹‹åç¢°åˆ°äº†<code>await</code>ï¼Œå®ƒä¼šé˜»å¡<code>async1</code>åé¢ä»£ç çš„æ‰§è¡Œï¼Œå› æ­¤ä¼šå…ˆå»æ‰§è¡Œ<code>async2</code>ä¸­çš„åŒæ­¥ä»£ç <code>async2</code>ï¼Œç„¶åè·³å‡º<code>async1</code></li><li>è·³å‡º<code>async1</code>å‡½æ•°åï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç <code>start</code></li><li>åœ¨ä¸€è½®å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œä¹‹åï¼Œå†æ¥æ‰§è¡Œåˆšåˆš<code>await</code>åé¢çš„å†…å®¹<code>async1 end</code>ã€‚</li></ul><p>åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥ç†è§£ä¸ºã€Œç´§è·Ÿç€awaitåé¢çš„è¯­å¥ç›¸å½“äºæ”¾åˆ°äº†new Promiseä¸­ï¼Œä¸‹ä¸€è¡ŒåŠä¹‹åçš„è¯­å¥ç›¸å½“äºæ”¾åœ¨Promise.thenä¸­ã€ã€‚</p><p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹å°†<code>await</code>è½¬æ¢ä¸º<code>Promise.then</code>çš„ä¼ªä»£ç ï¼š</p><pre><code>async function async1() &#123;  console.log(&quot;async1 start&quot;);  // åŸæ¥ä»£ç   // await async2();  // console.log(&quot;async1 end&quot;);  // è½¬æ¢åä»£ç   new Promise(resolve =&gt; &#123;    console.log(&quot;async2&quot;)    resolve()  &#125;).then(res =&gt; console.log(&quot;async1 end&quot;))&#125;async function async2() &#123;  console.log(&quot;async2&quot;);&#125;async1();console.log(&quot;start&quot;)å¤åˆ¶ä»£ç </code></pre><p>è½¬æ¢åçš„ä¼ªä»£ç å’Œå‰é¢çš„æ‰§è¡Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚(æ„Ÿè°¢è¯„è®ºåŒº<a href="https://juejin.im/user/57e0f2738ac2470061745306">Wing93</a>å’Œ<a href="https://juejin.im/user/5602aa7360b2521f381a3873">Jexxie</a>å°ä¼™ä¼´çš„æŒ‡å‡º)</p><p>å¦å¤–å…³äº<code>await</code>å’Œ<code>Promise</code>çš„åŒºåˆ«ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ<code>await async2()</code>æ¢æˆä¸€ä¸ª<code>new Promise</code>å‘¢ï¼Ÿ</p><pre><code>async function async1() &#123;  console.log(&quot;async1 start&quot;);  new Promise(resolve =&gt; &#123;    console.log(&#39;promise&#39;)  &#125;)  console.log(&quot;async1 end&quot;);&#125;async1();console.log(&quot;start&quot;)å¤åˆ¶ä»£ç </code></pre><p>æ­¤æ—¶çš„æ‰§è¡Œç»“æœä¸ºï¼š</p><pre><code>&#39;async start&#39;&#39;promise&#39;&#39;async1 end&#39;&#39;start&#39;å¤åˆ¶ä»£ç </code></pre><p>å¯ä»¥çœ‹åˆ°<code>new Promise()</code>å¹¶ä¸ä¼šé˜»å¡åé¢çš„åŒæ­¥ä»£ç <code>async1 end</code>çš„æ‰§è¡Œã€‚</p><h4 id="5-2-é¢˜ç›®äºŒ"><a href="#5-2-é¢˜ç›®äºŒ" class="headerlink" title="5.2 é¢˜ç›®äºŒ"></a>5.2 é¢˜ç›®äºŒ</h4><p>ç°åœ¨å°†<code>async</code>ç»“åˆå®šæ—¶å™¨çœ‹çœ‹ã€‚</p><p>ç»™é¢˜ç›®ä¸€ä¸­çš„ <code>async2</code>å‡½æ•°ä¸­åŠ ä¸Šä¸€ä¸ªå®šæ—¶å™¨ï¼š</p><pre><code>async function async1() &#123;  console.log(&quot;async1 start&quot;);  await async2();  console.log(&quot;async1 end&quot;);&#125;async function async2() &#123;  setTimeout(() =&gt; &#123;    console.log(&#39;timer&#39;)  &#125;, 0)  console.log(&quot;async2&quot;);&#125;async1();console.log(&quot;start&quot;)å¤åˆ¶ä»£ç </code></pre><p>æ²¡é”™ï¼Œå®šæ—¶å™¨å§‹ç»ˆè¿˜æ˜¯æœ€åæ‰§è¡Œçš„ï¼Œå®ƒè¢«æ”¾åˆ°ä¸‹ä¸€æ¡å®ä»»åŠ¡çš„å»¶è¿Ÿé˜Ÿåˆ—ä¸­ã€‚</p><p>ç­”æ¡ˆï¼š</p><pre><code>&#39;async1 start&#39;&#39;async2&#39;&#39;start&#39;&#39;async1 end&#39;&#39;timer&#39;å¤åˆ¶ä»£ç </code></pre><h4 id="5-3-é¢˜ç›®ä¸‰"><a href="#5-3-é¢˜ç›®ä¸‰" class="headerlink" title="5.3 é¢˜ç›®ä¸‰"></a>5.3 é¢˜ç›®ä¸‰</h4><p>æ¥å§ï¼Œå°ä¼™ä¼´ä»¬ï¼Œè®©æˆ‘ä»¬å¤šåŠ å‡ ä¸ªå®šæ—¶å™¨çœ‹çœ‹ã€‚ğŸ˜</p><pre><code>async function async1() &#123;  console.log(&quot;async1 start&quot;);  await async2();  console.log(&quot;async1 end&quot;);  setTimeout(() =&gt; &#123;    console.log(&#39;timer1&#39;)  &#125;, 0)&#125;async function async2() &#123;  setTimeout(() =&gt; &#123;    console.log(&#39;timer2&#39;)  &#125;, 0)  console.log(&quot;async2&quot;);&#125;async1();setTimeout(() =&gt; &#123;  console.log(&#39;timer3&#39;)&#125;, 0)console.log(&quot;start&quot;)å¤åˆ¶ä»£ç </code></pre><p>æ€è€ƒä¸€ä¸‹ğŸ¤”ï¼Œæ‰§è¡Œç»“æœä¼šæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å…¶å®å¦‚æœä½ èƒ½åšåˆ°è¿™é‡Œäº†ï¼Œè¯´æ˜ä½ å‰é¢çš„é‚£äº›çŸ¥è¯†ç‚¹ä¹Ÿéƒ½æŒæ¡äº†ï¼Œæˆ‘å°±ä¸éœ€è¦å¤ªè¿‡è¯¦ç»†çš„æ­¥éª¤åˆ†æäº†ã€‚</p><p>ç›´æ¥å…¬å¸ƒç­”æ¡ˆå§ï¼š</p><pre><code>&#39;async1 start&#39;&#39;async2&#39;&#39;start&#39;&#39;async1 end&#39;&#39;timer2&#39;&#39;timer3&#39;&#39;timer1&#39;å¤åˆ¶ä»£ç </code></pre><p>å®šæ—¶å™¨è°å…ˆæ‰§è¡Œï¼Œä½ åªéœ€è¦å…³æ³¨è°å…ˆè¢«è°ƒç”¨çš„ä»¥åŠå»¶è¿Ÿæ—¶é—´æ˜¯å¤šå°‘ï¼Œè¿™é“é¢˜ä¸­å»¶è¿Ÿæ—¶é—´éƒ½æ˜¯<code>0</code>ï¼Œæ‰€ä»¥åªè¦å…³æ³¨è°å…ˆè¢«è°ƒç”¨çš„ã€‚ã€‚</p><h4 id="5-4-é¢˜ç›®å››"><a href="#5-4-é¢˜ç›®å››" class="headerlink" title="5.4 é¢˜ç›®å››"></a>5.4 é¢˜ç›®å››</h4><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œ<code>async</code>ä¸­çš„<code>await</code>å‘½ä»¤æ˜¯ä¸€ä¸ª<code>Promise</code>å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç»“æœã€‚</p><p>ä½†å¦‚æœä¸æ˜¯<code>Promise</code>å¯¹è±¡çš„è¯ï¼Œå°±ä¼šç›´æ¥è¿”å›å¯¹åº”çš„å€¼ï¼Œç›¸å½“äº<code>Promise.resolve()</code></p><pre><code>async function fn () &#123;  // return await 1234  // ç­‰åŒäº  return 123&#125;fn().then(res =&gt; console.log(res))å¤åˆ¶ä»£ç </code></pre><p>ç»“æœï¼š</p><pre><code>123å¤åˆ¶ä»£ç </code></pre><h4 id="5-5-é¢˜ç›®äº”"><a href="#5-5-é¢˜ç›®äº”" class="headerlink" title="5.5 é¢˜ç›®äº”"></a>5.5 é¢˜ç›®äº”</h4><pre><code>async function async1 () &#123;  console.log(&#39;async1 start&#39;);  await new Promise(resolve =&gt; &#123;    console.log(&#39;promise1&#39;)  &#125;)  console.log(&#39;async1 success&#39;);  return &#39;async1 end&#39;&#125;console.log(&#39;srcipt start&#39;)async1().then(res =&gt; console.log(res))console.log(&#39;srcipt end&#39;)å¤åˆ¶ä»£ç </code></pre><p>è¿™é“é¢˜ç›®æ¯”è¾ƒæœ‰æ„æ€ï¼Œå¤§å®¶è¦æ³¨æ„äº†ã€‚</p><p>åœ¨<code>async1</code>ä¸­<code>await</code>åé¢çš„<code>Promise</code>æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„çŠ¶æ€å§‹ç»ˆæ˜¯<code>pending</code>çŠ¶æ€ï¼Œå› æ­¤ç›¸å½“äºä¸€ç›´åœ¨<code>await</code>ï¼Œ<code>await</code>ï¼Œ<code>await</code>å´å§‹ç»ˆæ²¡æœ‰å“åº”â€¦</p><p>![](<a href="https://juejin.im/post/data:image/svg+xml;utf8,">https://juejin.im/post/data:image/svg+xml;utf8,</a><?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="255" height="255"></svg>)</p><p>æ‰€ä»¥åœ¨<code>await</code>ä¹‹åçš„å†…å®¹æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œä¹ŸåŒ…æ‹¬<code>async1</code>åé¢çš„ <code>.then</code>ã€‚</p><p>ç­”æ¡ˆä¸ºï¼š</p><pre><code>&#39;script start&#39;&#39;async1 start&#39;&#39;promise1&#39;&#39;script end&#39;å¤åˆ¶ä»£ç </code></pre><h4 id="5-6-é¢˜ç›®å…­"><a href="#5-6-é¢˜ç›®å…­" class="headerlink" title="5.6 é¢˜ç›®å…­"></a>5.6 é¢˜ç›®å…­</h4><p>è®©æˆ‘ä»¬ç»™<code>5.5</code>ä¸­çš„<code>Promise</code>åŠ ä¸Š<code>resolve</code>ï¼š</p><pre><code>async function async1 () &#123;  console.log(&#39;async1 start&#39;);  await new Promise(resolve =&gt; &#123;    console.log(&#39;promise1&#39;)    resolve(&#39;promise1 resolve&#39;)  &#125;).then(res =&gt; console.log(res))  console.log(&#39;async1 success&#39;);  return &#39;async1 end&#39;&#125;console.log(&#39;srcipt start&#39;)async1().then(res =&gt; console.log(res))console.log(&#39;srcipt end&#39;)å¤åˆ¶ä»£ç </code></pre><p>ç°åœ¨<code>Promise</code>æœ‰äº†è¿”å›å€¼äº†ï¼Œå› æ­¤<code>await</code>åé¢çš„å†…å®¹å°†ä¼šè¢«æ‰§è¡Œï¼š</p><pre><code>&#39;script start&#39;&#39;async1 start&#39;&#39;promise1&#39;&#39;script end&#39;&#39;promise1 resolve&#39;&#39;async1 success&#39;&#39;async1 end&#39;å¤åˆ¶ä»£ç </code></pre><h4 id="5-7-é¢˜ç›®ä¸ƒ"><a href="#5-7-é¢˜ç›®ä¸ƒ" class="headerlink" title="5.7 é¢˜ç›®ä¸ƒ"></a>5.7 é¢˜ç›®ä¸ƒ</h4><pre><code>async function async1 () &#123;  console.log(&#39;async1 start&#39;);  await new Promise(resolve =&gt; &#123;    console.log(&#39;promise1&#39;)    resolve(&#39;promise resolve&#39;)  &#125;)  console.log(&#39;async1 success&#39;);  return &#39;async1 end&#39;&#125;console.log(&#39;srcipt start&#39;)async1().then(res =&gt; &#123;  console.log(res)&#125;)new Promise(resolve =&gt; &#123;  console.log(&#39;promise2&#39;)  setTimeout(() =&gt; &#123;    console.log(&#39;timer&#39;)  &#125;)&#125;)å¤åˆ¶ä»£ç </code></pre><p>è¿™é“é¢˜åº”è¯¥ä¹Ÿä¸éš¾ï¼Œä¸è¿‡æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„ï¼Œåœ¨<code>async1</code>ä¸­çš„<code>new Promise</code>å®ƒçš„<code>resovle</code>çš„å€¼å’Œ<code>async1().then()</code>é‡Œçš„å€¼æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œå¾ˆå¤šå°ä¼™ä¼´å¯èƒ½çœ‹åˆ°<code>resovle(&#39;promise resolve&#39;)</code>å°±ä¼šè¯¯ä»¥ä¸ºæ˜¯<code>async1().then()</code>ä¸­çš„è¿”å›å€¼ã€‚</p><p>å› æ­¤è¿™é‡Œçš„æ‰§è¡Œç»“æœä¸ºï¼š</p><pre><code>&#39;script start&#39;&#39;async1 start&#39;&#39;promise1&#39;&#39;promise2&#39;&#39;async1 success&#39;&#39;async1 end&#39;&#39;timer&#39;å¤åˆ¶ä»£ç </code></pre><h4 id="5-8-é¢˜ç›®å…«"><a href="#5-8-é¢˜ç›®å…«" class="headerlink" title="5.8 é¢˜ç›®å…«"></a>5.8 é¢˜ç›®å…«</h4><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€é“å¤´æ¡æ›¾ç»çš„é¢è¯•é¢˜ï¼š</p><pre><code>async function async1() &#123;  console.log(&quot;async1 start&quot;);  await async2();  console.log(&quot;async1 end&quot;);&#125;async function async2() &#123;  console.log(&quot;async2&quot;);&#125;console.log(&quot;script start&quot;);setTimeout(function() &#123;  console.log(&quot;setTimeout&quot;);&#125;, 0);async1();new Promise(function(resolve) &#123;  console.log(&quot;promise1&quot;);  resolve();&#125;).then(function() &#123;  console.log(&quot;promise2&quot;);&#125;);console.log(&#39;script end&#39;)å¤åˆ¶ä»£ç </code></pre><p>æœ‰äº†ä¸Šé¢ğŸ‘†å‡ é¢˜åšåŸºç¡€ï¼Œç›¸ä¿¡ä½ å¾ˆå¿«ä¹Ÿèƒ½ç­”ä¸Šæ¥äº†ã€‚</p><p>![](<a href="https://juejin.im/post/data:image/svg+xml;utf8,">https://juejin.im/post/data:image/svg+xml;utf8,</a><?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="300" height="300"></svg>)</p><p>è‡ªä¿¡çš„å†™ä¸‹ä½ ä»¬çš„ç­”æ¡ˆå§ã€‚</p><pre><code>&#39;script start&#39;&#39;async1 start&#39;&#39;async2&#39;&#39;promise1&#39;&#39;script end&#39;&#39;async1 end&#39;&#39;promise2&#39;&#39;setTimeout&#39;å¤åˆ¶ä»£ç </code></pre><p>(è¿™é“é¢˜æœ€å<code>async1 end</code>å’Œ<code>promise2</code>çš„é¡ºåºå…¶å®åœ¨ç½‘ä¸Šé¥±å—äº‰è®®ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨æµè§ˆå™¨<code>Chrome V80</code>ï¼Œ<code>Node v12.16.1</code>çš„æ‰§è¡Œç»“æœéƒ½æ˜¯ä¸Šé¢è¿™ä¸ªç­”æ¡ˆ)</p><h4 id="5-9-é¢˜ç›®ä¹"><a href="#5-9-é¢˜ç›®ä¹" class="headerlink" title="5.9 é¢˜ç›®ä¹"></a>5.9 é¢˜ç›®ä¹</h4><p>å¥½çš„ğŸ‘Œï¼Œ<code>async/await</code>å¤§æ³•å·²ç»ƒæˆï¼Œå’±ä»¬ç»§ç»­ï¼š</p><pre><code>async function testSometing() &#123;  console.log(&quot;æ‰§è¡ŒtestSometing&quot;);  return &quot;testSometing&quot;;&#125;async function testAsync() &#123;  console.log(&quot;æ‰§è¡ŒtestAsync&quot;);  return Promise.resolve(&quot;hello async&quot;);&#125;async function test() &#123;  console.log(&quot;test start...&quot;);  const v1 = await testSometing();  console.log(v1);  const v2 = await testAsync();  console.log(v2);  console.log(v1, v2);&#125;test();var promise = new Promise(resolve =&gt; &#123;  console.log(&quot;promise start...&quot;);  resolve(&quot;promise&quot;);&#125;);promise.then(val =&gt; console.log(val));console.log(&quot;test end...&quot;);å¤åˆ¶ä»£ç </code></pre><p>ç­”æ¡ˆï¼š</p><pre><code>&#39;test start...&#39;&#39;æ‰§è¡ŒtestSometing&#39;&#39;promise start...&#39;&#39;test end...&#39;&#39;testSometing&#39;&#39;æ‰§è¡ŒtestAsync&#39;&#39;promise&#39;&#39;hello async&#39;&#39;testSometing&#39; &#39;hello async&#39;å¤åˆ¶ä»£ç </code></pre><h3 id="6-asyncå¤„ç†é”™è¯¯"><a href="#6-asyncå¤„ç†é”™è¯¯" class="headerlink" title="6. asyncå¤„ç†é”™è¯¯"></a>6. asyncå¤„ç†é”™è¯¯</h3><h4 id="6-1-é¢˜ç›®ä¸€"><a href="#6-1-é¢˜ç›®ä¸€" class="headerlink" title="6.1 é¢˜ç›®ä¸€"></a>6.1 é¢˜ç›®ä¸€</h4><p>åœ¨<code>async</code>ä¸­ï¼Œå¦‚æœ <code>await</code>åé¢çš„å†…å®¹æ˜¯ä¸€ä¸ªå¼‚å¸¸æˆ–è€…é”™è¯¯çš„è¯ï¼Œä¼šæ€æ ·å‘¢ï¼Ÿ</p><pre><code>async function async1 () &#123;  await async2();  console.log(&#39;async1&#39;);  return &#39;async1 success&#39;&#125;async function async2 () &#123;  return new Promise((resolve, reject) =&gt; &#123;    console.log(&#39;async2&#39;)    reject(&#39;error&#39;)  &#125;)&#125;async1().then(res =&gt; console.log(res))å¤åˆ¶ä»£ç </code></pre><p>ä¾‹å¦‚è¿™é“é¢˜ä¸­ï¼Œ<code>await</code>åé¢è·Ÿç€çš„æ˜¯ä¸€ä¸ªçŠ¶æ€ä¸º<code>rejected</code>çš„<code>promise</code>ã€‚</p><p><strong>å¦‚æœåœ¨asyncå‡½æ•°ä¸­æŠ›å‡ºäº†é”™è¯¯ï¼Œåˆ™ç»ˆæ­¢é”™è¯¯ç»“æœï¼Œä¸ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚</strong></p><p>æ‰€ä»¥ç­”æ¡ˆä¸ºï¼š</p><pre><code>&#39;async2&#39;Uncaught (in promise) errorå¤åˆ¶ä»£ç </code></pre><p>å¦‚æœæ”¹ä¸º<code>throw new Error</code>ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼š</p><pre><code>async function async1 () &#123;  console.log(&#39;async1&#39;);  throw new Error(&#39;error!!!&#39;)  return &#39;async1 success&#39;&#125;async1().then(res =&gt; console.log(res))å¤åˆ¶ä»£ç </code></pre><p>ç»“æœä¸ºï¼š</p><pre><code>&#39;async1&#39;Uncaught (in promise) Error: error!!!å¤åˆ¶ä»£ç </code></pre><h4 id="6-2-é¢˜ç›®äºŒ"><a href="#6-2-é¢˜ç›®äºŒ" class="headerlink" title="6.2 é¢˜ç›®äºŒ"></a>6.2 é¢˜ç›®äºŒ</h4><p>å¦‚æœæƒ³è¦ä½¿å¾—é”™è¯¯çš„åœ°æ–¹ä¸å½±å“<code>async</code>å‡½æ•°åç»­çš„æ‰§è¡Œçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨<code>try catch</code></p><pre><code>async function async1 () &#123;  try &#123;    await Promise.reject(&#39;error!!!&#39;)  &#125; catch(e) &#123;    console.log(e)  &#125;  console.log(&#39;async1&#39;);  return Promise.resolve(&#39;async1 success&#39;)&#125;async1().then(res =&gt; console.log(res))console.log(&#39;script start&#39;)å¤åˆ¶ä»£ç </code></pre><p>è¿™é‡Œçš„ç»“æœä¸ºï¼š</p><pre><code>&#39;script start&#39;&#39;error!!!&#39;&#39;async1&#39;&#39;async1 success&#39;å¤åˆ¶ä»£ç </code></pre><p>æˆ–è€…ä½ å¯ä»¥ç›´æ¥åœ¨<code>Promise.reject</code>åé¢è·Ÿç€ä¸€ä¸ª<code>catch()</code>æ–¹æ³•ï¼š</p><pre><code>async function async1 () &#123;  // try &#123;  //   await Promise.reject(&#39;error!!!&#39;)  // &#125; catch(e) &#123;  //   console.log(e)  // &#125;  await Promise.reject(&#39;error!!!&#39;)    .catch(e =&gt; console.log(e))  console.log(&#39;async1&#39;);  return Promise.resolve(&#39;async1 success&#39;)&#125;async1().then(res =&gt; console.log(res))console.log(&#39;script start&#39;)å¤åˆ¶ä»£ç </code></pre><p>è¿è¡Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚</p><h3 id="7-ç»¼åˆé¢˜"><a href="#7-ç»¼åˆé¢˜" class="headerlink" title="7. ç»¼åˆé¢˜"></a>7. ç»¼åˆé¢˜</h3><p>ä¸Šé¢ğŸ‘†çš„é¢˜ç›®éƒ½æ˜¯è¢«æˆ‘æ‹†åˆ†ç€è¯´ä¸€äº›åŠŸèƒ½ç‚¹ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥åšä¸€äº›æ¯”è¾ƒéš¾çš„ç»¼åˆé¢˜å§ã€‚</p><h4 id="7-1-é¢˜ç›®ä¸€"><a href="#7-1-é¢˜ç›®ä¸€" class="headerlink" title="7.1 é¢˜ç›®ä¸€"></a>7.1 é¢˜ç›®ä¸€</h4><pre><code>const first = () =&gt; (new Promise((resolve, reject) =&gt; &#123;    console.log(3);    let p = new Promise((resolve, reject) =&gt; &#123;        console.log(7);        setTimeout(() =&gt; &#123;            console.log(5);            resolve(6);            console.log(p)        &#125;, 0)        resolve(1);    &#125;);    resolve(2);    p.then((arg) =&gt; &#123;        console.log(arg);    &#125;);&#125;));first().then((arg) =&gt; &#123;    console.log(arg);&#125;);console.log(4);å¤åˆ¶ä»£ç </code></pre><p>è¿‡ç¨‹åˆ†æï¼š</p><ul><li>ç¬¬ä¸€æ®µä»£ç å®šä¹‰çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—çœ‹çœ‹å®ƒæ˜¯åœ¨å“ªæ‰§è¡Œçš„ï¼Œå‘ç°å®ƒåœ¨<code>4</code>ä¹‹å‰ï¼Œæ‰€ä»¥å¯ä»¥æ¥çœ‹çœ‹<code>first</code>å‡½æ•°é‡Œé¢çš„å†…å®¹äº†ã€‚(è¿™ä¸€æ­¥æœ‰ç‚¹ç±»ä¼¼äºé¢˜ç›®<code>1.5</code>)</li><li>å‡½æ•°<code>first</code>è¿”å›çš„æ˜¯ä¸€ä¸ª<code>new Promise()</code>ï¼Œå› æ­¤å…ˆæ‰§è¡Œé‡Œé¢çš„åŒæ­¥ä»£ç <code>3</code></li><li>æ¥ç€åˆé‡åˆ°äº†ä¸€ä¸ª<code>new Promise()</code>ï¼Œç›´æ¥æ‰§è¡Œé‡Œé¢çš„åŒæ­¥ä»£ç <code>7</code></li><li>æ‰§è¡Œå®Œ<code>7</code>ä¹‹åï¼Œåœ¨<code>p</code>ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå…ˆå°†å®ƒæ”¾åˆ°ä¸‹ä¸€ä¸ªå®ä»»åŠ¡é˜Ÿåˆ—é‡Œä¸ç®¡å®ƒï¼Œæ¥ç€å‘ä¸‹èµ°</li><li>ç¢°åˆ°äº†<code>resolve(1)</code>ï¼Œè¿™é‡Œå°±æŠŠ<code>p</code>çš„çŠ¶æ€æ”¹ä¸ºäº†<code>resolved</code>ï¼Œä¸”è¿”å›å€¼ä¸º<code>1</code>ï¼Œä¸è¿‡è¿™é‡Œä¹Ÿå…ˆä¸æ‰§è¡Œ</li><li>è·³å‡º<code>p</code>ï¼Œç¢°åˆ°äº†<code>resolve(2)</code>ï¼Œè¿™é‡Œçš„<code>resolve(2)</code>ï¼Œè¡¨ç¤ºçš„æ˜¯æŠŠ<code>first</code>å‡½æ•°è¿”å›çš„é‚£ä¸ª<code>Promise</code>çš„çŠ¶æ€æ”¹äº†ï¼Œä¹Ÿå…ˆä¸ç®¡å®ƒã€‚</li><li>ç„¶åç¢°åˆ°äº†<code>p.then</code>ï¼Œå°†å®ƒåŠ å…¥æœ¬æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œç­‰å¾…æ‰§è¡Œ</li><li>è·³å‡º<code>first</code>å‡½æ•°ï¼Œé‡åˆ°äº†<code>first().then()</code>ï¼Œå°†å®ƒåŠ å…¥æœ¬æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡åˆ—è¡¨(<code>p.then</code>çš„åé¢æ‰§è¡Œ)</li><li>ç„¶åæ‰§è¡ŒåŒæ­¥ä»£ç <code>4</code></li><li>æœ¬è½®çš„åŒæ­¥ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥æ‰¾å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œå‘ç°<code>p.then</code>å’Œ<code>first().then()</code>ï¼Œä¾æ¬¡æ‰§è¡Œï¼Œæ‰“å°å‡º<code>1å’Œ2</code></li><li>æœ¬è½®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•äº†ï¼Œå‘ç°è¿˜æœ‰ä¸€ä¸ªå®šæ—¶å™¨æ²¡æœ‰è·‘å®Œï¼Œæ¥ç€æ‰§è¡Œè¿™ä¸ªå®šæ—¶å™¨é‡Œçš„å†…å®¹ï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç <code>5</code></li><li>ç„¶ååˆé‡åˆ°äº†ä¸€ä¸ª<code>resolve(6)</code>ï¼Œå®ƒæ˜¯æ”¾åœ¨<code>p</code>é‡Œçš„ï¼Œä½†æ˜¯<code>p</code>çš„çŠ¶æ€åœ¨ä¹‹å‰å·²ç»å‘ç”Ÿè¿‡æ”¹å˜äº†ï¼Œå› æ­¤è¿™é‡Œå°±ä¸ä¼šå†æ”¹å˜ï¼Œä¹Ÿå°±æ˜¯è¯´<code>resolve(6)</code>ç›¸å½“äºæ²¡ä»»ä½•ç”¨å¤„ï¼Œå› æ­¤æ‰“å°å‡ºæ¥çš„<code>p</code>ä¸º<code>Promise&#123;&lt;resolved&gt;: 1&#125;</code>ã€‚(è¿™ä¸€æ­¥ç±»ä¼¼äºé¢˜ç›®<code>3.1</code>)</li></ul><p>ç»“æœï¼š</p><pre><code>374125Promise&#123;&lt;resolved&gt;: 1&#125;å¤åˆ¶ä»£ç </code></pre><p>åšå¯¹äº†çš„å°ä¼™ä¼´å¥–åŠ±è‡ªå·±ä¸€æœµå°<code>(å¤§)</code>çº¢<code>(å˜´)</code>èŠ±<code>(å·´)</code>å§ï¼ŒğŸ˜„</p><p>![](<a href="https://juejin.im/post/data:image/svg+xml;utf8,">https://juejin.im/post/data:image/svg+xml;utf8,</a><?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="360" height="360"></svg>)</p><h4 id="7-2-é¢˜ç›®äºŒ"><a href="#7-2-é¢˜ç›®äºŒ" class="headerlink" title="7.2 é¢˜ç›®äºŒ"></a>7.2 é¢˜ç›®äºŒ</h4><pre><code>const async1 = async () =&gt; &#123;  console.log(&#39;async1&#39;);  setTimeout(() =&gt; &#123;    console.log(&#39;timer1&#39;)  &#125;, 2000)  await new Promise(resolve =&gt; &#123;    console.log(&#39;promise1&#39;)  &#125;)  console.log(&#39;async1 end&#39;)  return &#39;async1 success&#39;&#125; console.log(&#39;script start&#39;);async1().then(res =&gt; console.log(res));console.log(&#39;script end&#39;);Promise.resolve(1)  .then(2)  .then(Promise.resolve(3))  .catch(4)  .then(res =&gt; console.log(res))setTimeout(() =&gt; &#123;  console.log(&#39;timer2&#39;)&#125;, 1000)å¤åˆ¶ä»£ç </code></pre><p>æ³¨æ„çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li><code>async</code>å‡½æ•°ä¸­<code>await</code>çš„<code>new Promise</code>è¦æ˜¯æ²¡æœ‰è¿”å›å€¼çš„è¯åˆ™ä¸æ‰§è¡Œåé¢çš„å†…å®¹(ç±»ä¼¼é¢˜<code>5.5</code>)</li><li><code>.then</code>å‡½æ•°ä¸­çš„å‚æ•°æœŸå¾…çš„æ˜¯å‡½æ•°ï¼Œå¦‚æœä¸æ˜¯å‡½æ•°çš„è¯ä¼šå‘ç”Ÿé€ä¼ (ç±»ä¼¼é¢˜<code>3.8</code> )</li><li>æ³¨æ„å®šæ—¶å™¨çš„å»¶è¿Ÿæ—¶é—´</li></ul><p>å› æ­¤æœ¬é¢˜ç­”æ¡ˆä¸ºï¼š</p><pre><code>&#39;script start&#39;&#39;async1&#39;&#39;promise1&#39;&#39;script end&#39;1&#39;timer2&#39;&#39;timer1&#39;å¤åˆ¶ä»£ç </code></pre><h4 id="7-3-é¢˜ç›®ä¸‰"><a href="#7-3-é¢˜ç›®ä¸‰" class="headerlink" title="7.3 é¢˜ç›®ä¸‰"></a>7.3 é¢˜ç›®ä¸‰</h4><pre><code>const p1 = new Promise((resolve) =&gt; &#123;  setTimeout(() =&gt; &#123;    resolve(&#39;resolve3&#39;);    console.log(&#39;timer1&#39;)  &#125;, 0)  resolve(&#39;resovle1&#39;);  resolve(&#39;resolve2&#39;);&#125;).then(res =&gt; &#123;  console.log(res)  setTimeout(() =&gt; &#123;    console.log(p1)  &#125;, 1000)&#125;).finally(res =&gt; &#123;  console.log(&#39;finally&#39;, res)&#125;)å¤åˆ¶ä»£ç </code></pre><p>æ³¨æ„çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li><code>Promise</code>çš„çŠ¶æ€ä¸€æ—¦æ”¹å˜å°±æ— æ³•æ”¹å˜(ç±»ä¼¼é¢˜ç›®<code>3.5</code>)</li><li><code>finally</code>ä¸ç®¡<code>Promise</code>çš„çŠ¶æ€æ˜¯<code>resolved</code>è¿˜æ˜¯<code>rejected</code>éƒ½ä¼šæ‰§è¡Œï¼Œä¸”å®ƒçš„å›è°ƒå‡½æ•°æ˜¯æ¥æ”¶ä¸åˆ°<code>Promise</code>çš„ç»“æœçš„ï¼Œæ‰€ä»¥<code>finally()</code>ä¸­çš„<code>res</code>æ˜¯ä¸€ä¸ªè¿·æƒ‘é¡¹(ç±»ä¼¼<code>3.10</code>)ã€‚</li><li>æœ€åä¸€ä¸ªå®šæ—¶å™¨æ‰“å°å‡ºçš„<code>p1</code>å…¶å®æ˜¯<code>.finally</code>çš„è¿”å›å€¼ï¼Œæˆ‘ä»¬çŸ¥é“<code>.finally</code>çš„è¿”å›å€¼å¦‚æœåœ¨æ²¡æœ‰æŠ›å‡ºé”™è¯¯çš„æƒ…å†µä¸‹é»˜è®¤ä¼šæ˜¯ä¸Šä¸€ä¸ª<code>Promise</code>çš„è¿”å›å€¼(<code>3.10</code>ä¸­ä¹Ÿæœ‰æåˆ°), è€Œè¿™é“é¢˜ä¸­<code>.finally</code>ä¸Šä¸€ä¸ª<code>Promise</code>æ˜¯<code>.then()</code>ï¼Œä½†æ˜¯è¿™ä¸ª<code>.then()</code>å¹¶æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥<code>p1</code>æ‰“å°å‡ºæ¥çš„<code>Promise</code>çš„å€¼ä¼šæ˜¯<code>undefined</code>ï¼Œå¦‚æœä½ åœ¨å®šæ—¶å™¨çš„<strong>ä¸‹é¢</strong>åŠ ä¸Šä¸€ä¸ª<code>return 1</code>ï¼Œåˆ™å€¼å°±ä¼šå˜æˆ<code>1</code>(æ„Ÿè°¢æ˜å‹<a href="https://juejin.im/user/5b1487eee51d4506e1748613">JSä¸›ä¸­è¿‡</a>çš„æŒ‡å‡º)ã€‚</li></ul><p>ç­”æ¡ˆï¼š</p><pre><code>&#39;resolve1&#39;&#39;finally&#39; undefined&#39;timer1&#39;Promise&#123;&lt;resolved&gt;: undefined&#125;å¤åˆ¶ä»£ç </code></pre><h3 id="8-å‡ é“å¤§å‚çš„é¢è¯•é¢˜"><a href="#8-å‡ é“å¤§å‚çš„é¢è¯•é¢˜" class="headerlink" title="8. å‡ é“å¤§å‚çš„é¢è¯•é¢˜"></a>8. å‡ é“å¤§å‚çš„é¢è¯•é¢˜</h3><h4 id="8-1-ä½¿ç”¨Promiseå®ç°æ¯éš”1ç§’è¾“å‡º1-2-3"><a href="#8-1-ä½¿ç”¨Promiseå®ç°æ¯éš”1ç§’è¾“å‡º1-2-3" class="headerlink" title="8.1 ä½¿ç”¨Promiseå®ç°æ¯éš”1ç§’è¾“å‡º1,2,3"></a>8.1 ä½¿ç”¨Promiseå®ç°æ¯éš”1ç§’è¾“å‡º1,2,3</h4><p>è¿™é“é¢˜æ¯”è¾ƒç®€å•çš„ä¸€ç§åšæ³•æ˜¯å¯ä»¥ç”¨<code>Promise</code>é…åˆç€<code>reduce</code>ä¸åœçš„åœ¨<code>promise</code>åé¢å åŠ <code>.then</code>ï¼Œè¯·çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code>const arr = [1, 2, 3]arr.reduce((p, x) =&gt; &#123;  return p.then(() =&gt; &#123;    return new Promise(r =&gt; &#123;      setTimeout(() =&gt; r(console.log(x)), 1000)    &#125;)  &#125;)&#125;, Promise.resolve())å¤åˆ¶ä»£ç </code></pre><p>æˆ–è€…ä½ å¯ä»¥æ›´ç®€å•ä¸€ç‚¹å†™ï¼š</p><pre><code>const arr = [1, 2, 3]arr.reduce((p, x) =&gt; p.then(() =&gt; new Promise(r =&gt; setTimeout(() =&gt; r(console.log(x)), 1000))), Promise.resolve())å¤åˆ¶ä»£ç </code></pre><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://segmentfault.com/q/1010000010748967">å¦‚ä½•è®©å¼‚æ­¥æ“ä½œé¡ºåºæ‰§è¡Œ</a></p><p><strong>æ‹“å±•é¢˜</strong></p><p>è¿™é“æ‹“å±•é¢˜æ¥è‡ªäºâ€œä¸‡ç‰©çš†å¯çˆ±çš„<a href="https://juejin.im/user/5cd2341ce51d456e5c5baba3">LINGLONG</a> â€å°å§å§ï¼Œç‚’é¸¡æ£’ ğŸ˜ğŸ‘ã€‚</p><p>é¢˜ç›®æ˜¯è¿™æ ·çš„ï¼Œå¥¹æŠŠæˆ‘ä¸Šé¢ğŸ‘†å†™çš„ç®­å¤´å‡½æ•°ç‰ˆæœ¬æ”¹é€ äº†ä¸€ä¸‹ï¼š</p><pre><code>const arr = [1, 2, 3];const result = arr.reduce((p, x) =&gt; p.then(new Promise(r =&gt; setTimeout(() =&gt; r(console.log(x)), 1000))), Promise.resolve());å¤åˆ¶ä»£ç </code></pre><p>çœ¼å°–çš„å°ä¼™ä¼´çœ‹å‡ºåŒºåˆ«äº†å—ï¼ŸğŸ˜</p><p><code>p.then</code>é‡Œçš„ä»£ç ç”±<code>() =&gt; new Promise(...)</code>å˜æˆäº†<code>new Promise(...)</code>ã€‚</p><p>ç°åœ¨æ‰§è¡Œç»“æœå°±å¤§ä¸ç›¸åŒäº†ã€‚</p><p><strong>åœ¨ä¸€ç§’åæŒ‰é¡ºåºåŒæ—¶æ‰“å°å‡º<code>1ã€2ã€3</code>:</strong></p><pre><code>123å¤åˆ¶ä»£ç </code></pre><p>å’¦ ğŸ¤”ï¸ï¼Ÿä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ ğŸ¤”ï¸ï¼Ÿ</p><p>åªæ˜¯ä¸€ä¸ªå°å°çš„æ”¹å˜å´æœ‰å¤§å¤§çš„åŒºåˆ«ã€‚</p><p>å…¶å®åˆšå¼€å§‹çœ‹åˆ°çš„æ—¶å€™éœ–å‘†å‘†æˆ‘ä¹Ÿæ„£äº†é‚£ä¹ˆå‡ ç§’ğŸ˜‚ã€‚ä¸è¿‡ç­‰æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ‹†åˆ†å¹¶å¯¹æƒ³ä¸é€šçš„åœ°æ–¹å†™äº†å‡ ä¸ªæ¡ˆä¾‹æ¥çœ‹å°±ç†è§£äº†ã€‚</p><p>è¯„è®ºåŒºå’Œå°å§å§æ‰¯äº†ä¸€å¤§å †ï¼Œç»“æœæŠŠå¥¹è¶Šå¼„è¶Šç³ŠğŸ˜‚ã€‚åæ¥æˆ‘æ”¹å˜äº†ä¸€ç§æ€è·¯æ¥æè¿°ï¼Œè§‰å¾—åº”è¯¥ç›´æ¥ä¸Šä¼ªä»£ç ï¼š</p><pre><code>const arr = [1, 2, 3]arr.reduce((p, x) =&gt; p.then(() =&gt; new Promise(r =&gt; setTimeout(() =&gt; r(console.log(x)), 1000))), Promise.resolve())å¤åˆ¶ä»£ç </code></pre><p>è½¬æ¢ä¸ºä¼ªä»£ç å°±æ˜¯è¿™æ ·ï¼š</p><p>(ç›¸å½“äºæ˜¯ç”¨<code>reduce</code>ä¸åœçš„å¾€åé¢å åŠ <code>.then</code>)</p><pre><code>Promise.resolve()  .then(() =&gt; &#123;    return new Promise(r =&gt; &#123;      setTimeout(() =&gt; &#123;        r(console.log(1))      &#125;, 1000)    &#125;)  &#125;)  .then(r =&gt; &#123;    return new Promise(r =&gt; &#123;      setTimeout(() =&gt; &#123;        r(console.log(2))      &#125;, 1000)    &#125;)  &#125;)  .then(r =&gt; &#123;    return new Promise(r =&gt; &#123;      setTimeout(() =&gt; &#123;        r(console.log(3))      &#125;, 1000)    &#125;)  &#125;)å¤åˆ¶ä»£ç </code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸€ä¸ª<code>.then</code>éƒ½æ˜¯ä¾èµ–äºä¸Šä¸€ä¸ª<code>new Promise</code>ä½•æ—¶è¢«<code>resolve</code>äº†æ‰ä¼šæ‰§è¡Œçš„ï¼Œä¾‹å¦‚ç¬¬äºŒä¸ª<code>.then()</code>ï¼Œå®ƒè¦ç­‰<code>r(console.log(1)</code>è¿™æ®µä»£ç æ‰§è¡Œäº†ï¼Œæ‰ä¼šæ‰§è¡Œã€‚</p><p>é‚£ä¹ˆ<code>r(console.log(1))</code>ä»€ä¹ˆæ—¶å€™æ‰§è¡Œå‘¢ï¼Ÿå°±æ˜¯åœ¨ç¬¬ä¸€ä¸ªå®šæ—¶å™¨(ä¹Ÿå°±æ˜¯ä¸€ç§’å)è§¦å‘çš„æ—¶å€™æ‰æ‰§è¡Œã€‚è¿™æ ·å°±ä¿è¯äº†åé¢æ¥ç€çš„<code>.then()</code>è¦ç­‰å‰ä¸€ä¸ªå®šæ—¶å™¨æ‰§è¡Œå®Œæ‰èƒ½æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯éš”ä¸€ç§’è¾“å‡ºã€‚</p><p>è€Œå¦‚æœæ˜¯è¿™æ ·å†™çš„è¯ï¼š</p><pre><code>const arr = [1, 2, 3];const result = arr.reduce((p, x) =&gt; p.then(new Promise(r =&gt; setTimeout(() =&gt; r(console.log(x)), 1000))), Promise.resolve());å¤åˆ¶ä»£ç </code></pre><p>å®ƒçš„ä¼ªä»£ç å°±æ˜¯è¿™æ ·ï¼š</p><p>(æ¯ä¸ª<code>then</code>é‡Œé¢çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯ä¸€ä¸ªå‡½æ•°)</p><pre><code>Promise.resolve()  .then(new Promise(r =&gt; &#123;    setTimeout(() =&gt; &#123;      r(console.log(1))    &#125;, 1000)  &#125;))  .then(new Promise(r =&gt; &#123;    setTimeout(() =&gt; &#123;      r(console.log(2))    &#125;, 1000)  &#125;))  .then(new Promise(r =&gt; &#123;    setTimeout(() =&gt; &#123;      r(console.log(3))    &#125;, 1000)  &#125;))å¤åˆ¶ä»£ç </code></pre><p><code>p.then()</code>é‡Œé¢çš„å‚æ•°å¦‚æœä¸æ˜¯å‡½æ•°çš„è¯ï¼Œä¼šå‘ç”Ÿé€ä¼ ï¼Œè¿™ä¸ªåœ¨<code>3.8</code>ä¸­å·²ç»æè¿‡äº†ã€‚ä½†æ˜¯å‘ç”Ÿé€ä¼ ï¼Œ<code>.then()</code>é‡Œçš„ä»£ç å°±ä¸æ‰§è¡Œäº†å—ï¼Ÿ</p><p>å¹¶ä¸æ˜¯çš„ï¼Œæˆ‘ä»¬æ¥çœ‹è¿™ä¸ªä¾‹å­ï¼š</p><pre><code>const p = Promise.resolve(1).then(console.log(&#39;æˆ‘ä¸å…³å¿ƒç»“æœ&#39;))console.log(p)p.then((res) =&gt; console.log(res))å¤åˆ¶ä»£ç </code></pre><p>å¾ˆæ˜æ˜¾è¿™é‡Œä¹Ÿå‘ç”Ÿäº†é€ä¼ ï¼Œä½†æ˜¯<code>&#39;æˆ‘ä¸å…³å¿ƒç»“æœ&#39;</code>ä¹Ÿè¿˜æ˜¯è¢«æ‰“å°å‡ºæ¥äº†ï¼Œå¹¶ä¸”ç”±äºé€ä¼ ï¼Œ<code>p.then()</code>é‡Œè·å–åˆ°çš„<code>res</code>å°±æ˜¯<code>1</code>ï¼Œå› æ­¤ä¼šæ‰“å°å‡ºï¼š</p><pre><code>&#39;æˆ‘ä¸å…³å¿ƒç»“æœ&#39;Promise&#123;[[PromiseStatus]]: &quot;resolved&quot;[[PromiseValue]]: 1&#125;1å¤åˆ¶ä»£ç </code></pre><p>(ç¬¬äºŒè¡Œæ‰“å°å‡º<code>Promise&#123;&lt;pending&gt;&#125;</code>çš„å°ä¼™ä¼´è¯·æŠŠè¿™ä¸ªå¯¹è±¡å±•å¼€æ¥çœ‹)</p><p>è¿™ä¸ªä¾‹å­è¡¨æ˜ï¼Œå°±ç®—å‘ç”Ÿäº†é€ä¼ ï¼Œ<code>p.then()</code>ä¸­çš„ä»£ç ä¾æ—§ä¹Ÿæ˜¯ä¼šæ‰§è¡Œçš„ã€‚</p><p>æ‰€ä»¥å›åˆ°</p><pre><code>.then(new Promise(r =&gt; &#123;    setTimeout(() =&gt; &#123;      r(console.log(1))    &#125;, 1000)  &#125;))å¤åˆ¶ä»£ç </code></pre><p>ä¸­ï¼Œç°åœ¨<code>.then()</code>ä¸­å°±ç›¸å½“äºæ˜¯æ‰§è¡Œä¸€æ®µåŒæ­¥ä»£ç ï¼š</p><pre><code>new Promise(r =&gt; &#123;    setTimeout(() =&gt; &#123;      r(console.log(1))    &#125;, 1000)  &#125;)å¤åˆ¶ä»£ç </code></pre><p>è€Œè¿™æ®µä»£ç çš„ä½œç”¨æ˜¯å‘å»¶è¿Ÿé˜Ÿåˆ—ä¸­<code>push</code>ä¸€ä¸ªä¸€ç§’åæ‰§è¡Œçš„å®šæ—¶å™¨ä»»åŠ¡ã€‚</p><p>å¹¶ä¸”åœ¨<code>push</code>å®Œå®šæ—¶å™¨ä¹‹åï¼Œä»£ç å°±é©¬ä¸Šè¿›å…¥äº†ä¸‹ä¸€ä¸ª<code>.then</code>(å› ä¸ºæ—¢ç„¶ç¬¬ä¸€ä¸ª<code>.then</code>å·²ç»æ˜¯é€ä¼ çš„äº†å°±æ²¡æœ‰å¿…è¦ç­‰å®ƒçš„æ‰§è¡Œç»“æœäº†)</p><p>ä¸‹ä¸€ä¸ª<code>.then</code>ç«Ÿç„¶ä¹Ÿæ˜¯ä¸€ä¸ªé€ä¼ ï¼ŒOKï¼Œé‚£æˆ‘ç»§ç»­<code>push</code>è¿™ä¸ªå®šæ—¶å™¨ï¼Œç„¶åå†æ‰§è¡Œç¬¬ä¸‰ä¸ª<code>.then</code>ã€‚</p><p>ä¸‰ä¸ª<code>.then</code>å·²ç»æ‰§è¡Œå®Œæˆäº†ï¼Œç°åœ¨æˆ‘ä»¬çš„å»¶è¿Ÿé˜Ÿåˆ—ä¸­å·²ç»æœ‰äº†ä¸‰ä¸ªå®šæ—¶å™¨ç­‰å¾…æ‰§è¡Œï¼Œ**å¹¶ä¸”ä¸‰ä¸ªå®šæ—¶å™¨çš„å»¶è¿Ÿæ—¶é—´éƒ½æ˜¯1000ms!!!**ã€‚</p><p>æ‰€ä»¥ç­‰åˆ°äº†æ—¶é—´ä¹‹åï¼Œå°±ä¼šåŒæ—¶æ‰“å°å‡ºæ¥äº†<code>1ã€2ã€3</code>ã€‚ï¼ˆå…¶å®å‡†ç¡®æ¥è¯´ï¼Œä¸æ˜¯åŒæ—¶æ‰“å°çš„ï¼Œä¸è¿‡ä¸­é—´ç›¸å·®çš„æ—¶é—´éå¸¸éå¸¸çŸ­ï¼Œå¤§å¯å¿½ç•¥å®ƒï¼‰</p><p>ç°åœ¨ä½ æ˜¯å¦ç†è§£äº†å…¶ä¸­çš„åŒºåˆ«å‘¢ ğŸ˜ã€‚</p><h4 id="8-2-ä½¿ç”¨Promiseå®ç°çº¢ç»¿ç¯äº¤æ›¿é‡å¤äº®"><a href="#8-2-ä½¿ç”¨Promiseå®ç°çº¢ç»¿ç¯äº¤æ›¿é‡å¤äº®" class="headerlink" title="8.2 ä½¿ç”¨Promiseå®ç°çº¢ç»¿ç¯äº¤æ›¿é‡å¤äº®"></a>8.2 ä½¿ç”¨Promiseå®ç°çº¢ç»¿ç¯äº¤æ›¿é‡å¤äº®</h4><p>çº¢ç¯3ç§’äº®ä¸€æ¬¡ï¼Œé»„ç¯2ç§’äº®ä¸€æ¬¡ï¼Œç»¿ç¯1ç§’äº®ä¸€æ¬¡ï¼›å¦‚ä½•è®©ä¸‰ä¸ªç¯ä¸æ–­äº¤æ›¿é‡å¤äº®ç¯ï¼Ÿï¼ˆç”¨Promiseå®ç°ï¼‰ä¸‰ä¸ªäº®ç¯å‡½æ•°å·²ç»å­˜åœ¨ï¼š</p><pre><code>function red() &#123;    console.log(&#39;red&#39;);&#125;function green() &#123;    console.log(&#39;green&#39;);&#125;function yellow() &#123;    console.log(&#39;yellow&#39;);&#125;å¤åˆ¶ä»£ç </code></pre><p>ç­”æ¡ˆï¼š</p><pre><code>function red() &#123;  console.log(&quot;red&quot;);&#125;function green() &#123;  console.log(&quot;green&quot;);&#125;function yellow() &#123;  console.log(&quot;yellow&quot;);&#125;const light = function (timer, cb) &#123;  return new Promise(resolve =&gt; &#123;    setTimeout(() =&gt; &#123;      cb()      resolve()    &#125;, timer)  &#125;)&#125;const step = function () &#123;  Promise.resolve().then(() =&gt; &#123;    return light(3000, red)  &#125;).then(() =&gt; &#123;    return light(2000, green)  &#125;).then(() =&gt; &#123;    return light(1000, yellow)  &#125;).then(() =&gt; &#123;    return step()  &#125;)&#125;step();å¤åˆ¶ä»£ç </code></pre><h4 id="8-3-å®ç°mergePromiseå‡½æ•°"><a href="#8-3-å®ç°mergePromiseå‡½æ•°" class="headerlink" title="8.3 å®ç°mergePromiseå‡½æ•°"></a>8.3 å®ç°mergePromiseå‡½æ•°</h4><p>å®ç°mergePromiseå‡½æ•°ï¼ŒæŠŠä¼ è¿›å»çš„æ•°ç»„æŒ‰é¡ºåºå…ˆåæ‰§è¡Œï¼Œå¹¶ä¸”æŠŠè¿”å›çš„æ•°æ®å…ˆåæ”¾åˆ°æ•°ç»„dataä¸­ã€‚</p><pre><code>const time = (timer) =&gt; &#123;  return new Promise(resolve =&gt; &#123;    setTimeout(() =&gt; &#123;      resolve()    &#125;, timer)  &#125;)&#125;const ajax1 = () =&gt; time(2000).then(() =&gt; &#123;  console.log(1);  return 1&#125;)const ajax2 = () =&gt; time(1000).then(() =&gt; &#123;  console.log(2);  return 2&#125;)const ajax3 = () =&gt; time(1000).then(() =&gt; &#123;  console.log(3);  return 3&#125;)function mergePromise () &#123;  // åœ¨è¿™é‡Œå†™ä»£ç &#125;mergePromise([ajax1, ajax2, ajax3]).then(data =&gt; &#123;  console.log(&quot;done&quot;);  console.log(data); // data ä¸º [1, 2, 3]&#125;);// è¦æ±‚åˆ†åˆ«è¾“å‡º// 1// 2// 3// done// [1, 2, 3]å¤åˆ¶ä»£ç </code></pre><p>è¿™é“é¢˜æœ‰ç‚¹ç±»ä¼¼äº<code>Promise.all()</code>ï¼Œä¸è¿‡<code>.all()</code>ä¸éœ€è¦ç®¡æ‰§è¡Œé¡ºåºï¼Œåªéœ€è¦å¹¶å‘æ‰§è¡Œå°±è¡Œäº†ã€‚ä½†æ˜¯è¿™é‡Œéœ€è¦ç­‰ä¸Šä¸€ä¸ªæ‰§è¡Œå®Œæ¯•ä¹‹åæ‰èƒ½æ‰§è¡Œä¸‹ä¸€ä¸ªã€‚</p><p>è§£é¢˜æ€è·¯ï¼š</p><ul><li>å®šä¹‰ä¸€ä¸ªæ•°ç»„<code>data</code>ç”¨äºä¿å­˜æ‰€æœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœ</li><li>åˆå§‹åŒ–ä¸€ä¸ª<code>const promise = Promise.resolve()</code>ï¼Œç„¶åå¾ªç¯éå†æ•°ç»„ï¼Œåœ¨<code>promise</code>åé¢æ·»åŠ æ‰§è¡Œ<code>ajax</code>ä»»åŠ¡ï¼ŒåŒæ—¶è¦å°†æ·»åŠ çš„ç»“æœé‡æ–°èµ‹å€¼åˆ°<code>promise</code>ä¸Šã€‚</li></ul><p>ç­”æ¡ˆï¼š</p><pre><code>function mergePromise (ajaxArray) &#123;  // å­˜æ”¾æ¯ä¸ªajaxçš„ç»“æœ  const data = [];  let promise = Promise.resolve();  ajaxArray.forEach(ajax =&gt; &#123;   // ç¬¬ä¸€æ¬¡çš„thenä¸ºäº†ç”¨æ¥è°ƒç”¨ajax   // ç¬¬äºŒæ¬¡çš„thenæ˜¯ä¸ºäº†è·å–ajaxçš„ç»“æœ    promise = promise.then(ajax).then(res =&gt; &#123;      data.push(res);      return data; // æŠŠæ¯æ¬¡çš„ç»“æœè¿”å›    &#125;)  &#125;)  // æœ€åå¾—åˆ°çš„promiseå®ƒçš„å€¼å°±æ˜¯data  return promise;&#125;å¤åˆ¶ä»£ç </code></pre><h4 id="8-4-æ ¹æ®promiseA-å®ç°ä¸€ä¸ªè‡ªå·±çš„promise"><a href="#8-4-æ ¹æ®promiseA-å®ç°ä¸€ä¸ªè‡ªå·±çš„promise" class="headerlink" title="8.4 æ ¹æ®promiseA+å®ç°ä¸€ä¸ªè‡ªå·±çš„promise"></a>8.4 æ ¹æ®promiseA+å®ç°ä¸€ä¸ªè‡ªå·±çš„promise</h4><p>è¯´çœŸçš„ï¼Œè¿™é“é¢˜è¢«é—®åˆ°çš„æ¦‚ç‡è¿˜æ˜¯æŒºé«˜çš„ï¼Œè€Œä¸”è¦è¯´çš„å†…å®¹ä¹Ÿå¾ˆå¤šâ€¦</p><p>éœ–å‘†å‘†è¿™é‡Œå·ä¸ªæ‡’ï¼Œä¸æƒ³ç»†è¯´äº†â€¦</p><p>ä¸è¿‡å“ˆï¼Œæˆ‘ä¿è¯ï¼Œä¸‹ä¸‹é¢˜æˆ‘ä¸€å®šä»”ç»†è¯´ ğŸ˜¼.</p><p>![](<a href="https://juejin.im/post/data:image/svg+xml;utf8,">https://juejin.im/post/data:image/svg+xml;utf8,</a><?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="440" height="440"></svg>)</p><p>æ¥å§ï¼Œç»™ä½ ä»¬ä¸€äº›å¥½çš„å®å…¸ï¼š</p><ul><li>[ã€ŠPromiseä¸ä¼šï¼Ÿï¼Ÿçœ‹è¿™é‡Œï¼ï¼ï¼å²ä¸Šæœ€é€šä¿—æ˜“æ‡‚çš„Promiseï¼ï¼ï¼ã€‹](<a href="https://juejin.im/post/5afe6d3bf265da0b9e654c4b">https://juejin.im/post/5afe6d3bf265da0b9e654c4b</a> rel=)</li><li><a href="https://zhuanlan.zhihu.com/p/23312442">ã€Šå†™ä¸€ä¸ªç¬¦åˆ Promises/A+ è§„èŒƒå¹¶å¯é…åˆ ES7 async/await ä½¿ç”¨çš„ Promiseã€‹</a></li></ul><h4 id="8-5-å°è£…ä¸€ä¸ªå¼‚æ­¥åŠ è½½å›¾ç‰‡çš„æ–¹æ³•"><a href="#8-5-å°è£…ä¸€ä¸ªå¼‚æ­¥åŠ è½½å›¾ç‰‡çš„æ–¹æ³•" class="headerlink" title="8.5 å°è£…ä¸€ä¸ªå¼‚æ­¥åŠ è½½å›¾ç‰‡çš„æ–¹æ³•"></a>8.5 å°è£…ä¸€ä¸ªå¼‚æ­¥åŠ è½½å›¾ç‰‡çš„æ–¹æ³•</h4><p>è¿™ä¸ªç›¸å¯¹ç®€å•ä¸€äº›ï¼Œåªéœ€è¦åœ¨å›¾ç‰‡çš„<code>onload</code>å‡½æ•°ä¸­ï¼Œä½¿ç”¨<code>resolve</code>è¿”å›ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p><p>æ¥çœ‹çœ‹å…·ä½“ä»£ç ï¼š</p><pre><code>function loadImg(url) &#123;  return new Promise((resolve, reject) =&gt; &#123;    const img = new Image();    img.onload = function() &#123;      console.log(&quot;ä¸€å¼ å›¾ç‰‡åŠ è½½å®Œæˆ&quot;);      resolve(img);    &#125;;    img.onerror = function() &#123;     reject(new Error(&#39;Could not load image at&#39; + url));    &#125;;    img.src = url;  &#125;);å¤åˆ¶ä»£ç </code></pre><h4 id="8-6-é™åˆ¶å¼‚æ­¥æ“ä½œçš„å¹¶å‘ä¸ªæ•°å¹¶å°½å¯èƒ½å¿«çš„å®Œæˆå…¨éƒ¨"><a href="#8-6-é™åˆ¶å¼‚æ­¥æ“ä½œçš„å¹¶å‘ä¸ªæ•°å¹¶å°½å¯èƒ½å¿«çš„å®Œæˆå…¨éƒ¨" class="headerlink" title="8.6 é™åˆ¶å¼‚æ­¥æ“ä½œçš„å¹¶å‘ä¸ªæ•°å¹¶å°½å¯èƒ½å¿«çš„å®Œæˆå…¨éƒ¨"></a>8.6 é™åˆ¶å¼‚æ­¥æ“ä½œçš„å¹¶å‘ä¸ªæ•°å¹¶å°½å¯èƒ½å¿«çš„å®Œæˆå…¨éƒ¨</h4><p>æœ‰8ä¸ªå›¾ç‰‡èµ„æºçš„urlï¼Œå·²ç»å­˜å‚¨åœ¨æ•°ç»„<code>urls</code>ä¸­ã€‚</p><p><code>urls</code>ç±»ä¼¼äº<code>[&#39;https://image1.png&#39;, &#39;https://image2.png&#39;, ....]</code></p><p>è€Œä¸”å·²ç»æœ‰ä¸€ä¸ªå‡½æ•°<code>function loadImg</code>ï¼Œè¾“å…¥ä¸€ä¸ª<code>url</code>é“¾æ¥ï¼Œè¿”å›ä¸€ä¸ª<code>Promise</code>ï¼Œè¯¥<code>Promise</code>åœ¨å›¾ç‰‡ä¸‹è½½å®Œæˆçš„æ—¶å€™<code>resolve</code>ï¼Œä¸‹è½½å¤±è´¥åˆ™<code>reject</code>ã€‚</p><p>ä½†æœ‰ä¸€ä¸ªè¦æ±‚ï¼Œä»»ä½•æ—¶åˆ»åŒæ—¶ä¸‹è½½çš„é“¾æ¥<strong>æ•°é‡ä¸å¯ä»¥è¶…è¿‡3ä¸ª</strong>ã€‚</p><p>è¯·å†™ä¸€æ®µä»£ç å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œè¦æ±‚<strong>å°½å¯èƒ½å¿«é€Ÿ</strong>åœ°å°†æ‰€æœ‰å›¾ç‰‡ä¸‹è½½å®Œæˆã€‚</p><pre><code>var urls = [  &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting1.png&quot;,  &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting2.png&quot;,  &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting3.png&quot;,  &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting4.png&quot;,  &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting5.png&quot;,  &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn6.png&quot;,  &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn7.png&quot;,  &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn8.png&quot;,];function loadImg(url) &#123;  return new Promise((resolve, reject) =&gt; &#123;    const img = new Image();    img.onload = function() &#123;      console.log(&quot;ä¸€å¼ å›¾ç‰‡åŠ è½½å®Œæˆ&quot;);      resolve(img);    &#125;;    img.onerror = function() &#123;     reject(new Error(&#39;Could not load image at&#39; + url));    &#125;;    img.src = url;  &#125;);å¤åˆ¶ä»£ç </code></pre><p>çœ‹åˆ°è¿™é“é¢˜æ—¶ï¼Œæˆ‘æœ€å¼€å§‹çš„æƒ³æ³•æ˜¯ï¼š</p><ul><li>æ‹¿åˆ°<code>urls</code>ï¼Œç„¶åå°†è¿™ä¸ªæ•°ç»„æ¯3ä¸ª<code>url</code>ä¸€ç»„åˆ›å»ºæˆä¸€ä¸ªäºŒç»´æ•°ç»„</li><li>ç„¶åç”¨<code>Promise.all()</code>æ¯æ¬¡åŠ è½½ä¸€ç»„<code>url</code>ï¼ˆä¹Ÿå°±æ˜¯å¹¶å‘3ä¸ªï¼‰ï¼Œè¿™ä¸€ç»„åŠ è½½å®Œå†åŠ è½½ä¸‹ä¸€ç»„ã€‚</li></ul><p>è¿™ä¸ªæƒ³æ³•ä»æŠ€æœ¯ä¸Šè¯´å¹¶ä¸éš¾å®ç°ï¼Œæœ‰ç‚¹ç±»ä¼¼äºç¬¬ä¸‰é¢˜ã€‚ä¸è¿‡ç¼ºç‚¹ä¹Ÿæ˜æ˜¾ï¼Œé‚£å°±æ˜¯æ¯æ¬¡éƒ½è¦ç­‰åˆ°ä¸Šä¸€ç»„å…¨éƒ¨åŠ è½½å®Œä¹‹åï¼Œæ‰åŠ è½½ä¸‹ä¸€ç»„ï¼Œé‚£å¦‚æœä¸Šä¸€ç»„æœ‰<code>2</code>ä¸ªå·²ç»åŠ è½½å®Œäº†ï¼Œè¿˜æœ‰<code>1</code>ä¸ªç‰¹åˆ«æ…¢ï¼Œè¿˜åœ¨åŠ è½½ï¼Œè¦ç­‰è¿™ä¸ªæ…¢çš„ä¹ŸåŠ è½½å®Œæ‰èƒ½è¿›å…¥ä¸‹ä¸€ç»„ã€‚è¿™æ˜æ˜¾ä¼šç…§å¸¸å¡é¡¿ï¼Œå½±å“åŠ è½½æ•ˆç‡ã€‚</p><p>ä½†æ˜¯å¼€å§‹æ²¡æœ‰è€ƒè™‘è¿™ä¹ˆå¤šï¼Œå› æ­¤æœ‰äº†ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚</p><p><strong>å¦‚æœä½ æœ‰å…´è¶£å¯ä»¥çœ‹çœ‹æƒ³æ³•ä¸€çš„ä»£ç ï¼Œè™½ç„¶å¯¹ä½ æ²¡ä»€ä¹ˆå¸®åŠ©ï¼Œæƒ³ç›´æ¥çŸ¥é“æ¯”è¾ƒå¥½çš„åšæ³•çš„å°ä¼™ä¼´è¯·è·³åˆ°æƒ³æ³•äºŒ</strong></p><p>![](<a href="https://juejin.im/post/data:image/svg+xml;utf8,">https://juejin.im/post/data:image/svg+xml;utf8,</a><?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="320" height="259"></svg>)</p><p><strong>æƒ³æ³•ä¸€</strong>ğŸ’¡ï¼š</p><pre><code>function limitLoad (urls, handler, limit) &#123;  const data = []; // å­˜å‚¨æ‰€æœ‰çš„åŠ è½½ç»“æœ  let p = Promise.resolve();  const handleUrls = (urls) =&gt; &#123; // è¿™ä¸ªå‡½æ•°æ˜¯ä¸ºäº†ç”Ÿæˆ3ä¸ªurlä¸ºä¸€ç»„çš„äºŒç»´æ•°ç»„    const doubleDim = [];    const len = Math.ceil(urls.length / limit); // Math.ceil(8 / 3) = 3    console.log(len) // 3, è¡¨ç¤ºäºŒç»´æ•°ç»„çš„é•¿åº¦ä¸º3    for (let i = 0; i &lt; len; i++) &#123;      doubleDim.push(urls.slice(i * limit, (i + 1) * limit))    &#125;    return doubleDim;  &#125;  const ajaxImage = (urlCollect) =&gt; &#123; // å°†ä¸€ç»„å­—ç¬¦ä¸²url è½¬æ¢ä¸ºä¸€ä¸ªåŠ è½½å›¾ç‰‡çš„æ•°ç»„    console.log(urlCollect)    return urlCollect.map(url =&gt; handler(url))  &#125;  const doubleDim = handleUrls(urls); // å¾—åˆ°3ä¸ªurlä¸ºä¸€ç»„çš„äºŒç»´æ•°ç»„  doubleDim.forEach(urlCollect =&gt; &#123;    p = p.then(() =&gt; Promise.all(ajaxImage(urlCollect))).then(res =&gt; &#123;      data.push(...res); // å°†æ¯æ¬¡çš„ç»“æœå±•å¼€ï¼Œå¹¶å­˜å‚¨åˆ°dataä¸­ (resä¸ºï¼š[img, img, img])      return data;    &#125;)  &#125;)  return p;&#125;limitLoad(urls, loadImg, 3).then(res =&gt; &#123;  console.log(res); // æœ€ç»ˆå¾—åˆ°çš„æ˜¯é•¿åº¦ä¸º8çš„imgæ•°ç»„: [img, img, img, ...]  res.forEach(img =&gt; &#123;    document.body.appendChild(img);  &#125;)&#125;);å¤åˆ¶ä»£ç </code></pre><p><strong>æƒ³æ³•äºŒ</strong>ğŸ’¡ï¼š</p><p>å‚è€ƒ<a href="https://www.jianshu.com/p/4bb1521343ba">LHHå¤§ç¿°ä»”ä»”-Promiseé¢è¯•é¢˜</a></p><p>æ—¢ç„¶é¢˜ç›®çš„è¦æ±‚æ˜¯ä¿è¯æ¯æ¬¡å¹¶å‘è¯·æ±‚çš„æ•°é‡ä¸º3ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å…ˆè¯·æ±‚<code>urls</code>ä¸­çš„å‰é¢ä¸‰ä¸ª(ä¸‹æ ‡ä¸º<code>0,1,2</code>)ï¼Œå¹¶ä¸”è¯·æ±‚çš„æ—¶å€™ä½¿ç”¨<code>Promise.race()</code>æ¥åŒæ—¶è¯·æ±‚ï¼Œä¸‰ä¸ªä¸­æœ‰ä¸€ä¸ªå…ˆå®Œæˆäº†(ä¾‹å¦‚ä¸‹æ ‡ä¸º<code>1</code>çš„å›¾ç‰‡)ï¼Œæˆ‘ä»¬å°±æŠŠè¿™ä¸ªå½“å‰æ•°ç»„ä¸­å·²ç»å®Œæˆçš„é‚£ä¸€é¡¹(ç¬¬<code>1</code>é¡¹)æ¢æˆè¿˜æ²¡æœ‰è¯·æ±‚çš„é‚£ä¸€é¡¹(<code>urls</code>ä¸­ä¸‹æ ‡ä¸º<code>3</code>)ã€‚</p><p>ç›´åˆ°<code>urls</code>å·²ç»éå†å®Œäº†ï¼Œç„¶åå°†æœ€åä¸‰ä¸ªæ²¡æœ‰å®Œæˆçš„è¯·æ±‚(ä¹Ÿå°±æ˜¯çŠ¶æ€æ²¡æœ‰æ”¹å˜çš„<code>Promise</code>)ç”¨<code>Promise.all()</code>æ¥åŠ è½½å®ƒä»¬ã€‚</p><p>ä¸å¤šè¯´ï¼Œæµç¨‹å›¾éƒ½ç»™ä½ ç”»å¥½äº†ï¼Œä½ å¯ä»¥ç»“åˆæµç¨‹å›¾å†æ¥çœ‹ä»£ç ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ä½ æŸ¥çœ‹ï¼Œæˆ‘æˆªäº†ä¸ªå›¾ï¼Œä¸è¿‡ä»£ç åœ¨åé¢ä¹Ÿæœ‰</p><p>(è¯´çœŸçš„ï¼Œè¦æˆ‘çœ‹è¿™ä¸€å¤§é•¿ä¸²ä»£ç æˆ‘ä¹Ÿä¸æ„¿æ„â€¦)</p><p>ä»£ç ï¼š</p><pre><code>function limitLoad(urls, handler, limit) &#123;  let sequence = [].concat(urls); // å¤åˆ¶urls  // è¿™ä¸€æ­¥æ˜¯ä¸ºäº†åˆå§‹åŒ– promises è¿™ä¸ª&quot;å®¹å™¨&quot;  let promises = sequence.splice(0, limit).map((url, index) =&gt; &#123;    return handler(url).then(() =&gt; &#123;      // è¿”å›ä¸‹æ ‡æ˜¯ä¸ºäº†çŸ¥é“æ•°ç»„ä¸­æ˜¯å“ªä¸€é¡¹æœ€å…ˆå®Œæˆ      return index;    &#125;);  &#125;);  // æ³¨æ„è¿™é‡Œè¦å°†æ•´ä¸ªå˜é‡è¿‡ç¨‹è¿”å›ï¼Œè¿™æ ·å¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªPromiseï¼Œå¯ä»¥åœ¨å¤–é¢é“¾å¼è°ƒç”¨  return sequence    .reduce((pCollect, url) =&gt; &#123;      return pCollect        .then(() =&gt; &#123;          return Promise.race(promises); // è¿”å›å·²ç»å®Œæˆçš„ä¸‹æ ‡        &#125;)        .then(fastestIndex =&gt; &#123; // è·å–åˆ°å·²ç»å®Œæˆçš„ä¸‹æ ‡         // å°†&quot;å®¹å™¨&quot;å†…å·²ç»å®Œæˆçš„é‚£ä¸€é¡¹æ›¿æ¢          promises[fastestIndex] = handler(url).then(            () =&gt; &#123;              return fastestIndex; // è¦ç»§ç»­å°†è¿™ä¸ªä¸‹æ ‡è¿”å›ï¼Œä»¥ä¾¿ä¸‹ä¸€æ¬¡å˜é‡            &#125;          );        &#125;)        .catch(err =&gt; &#123;          console.error(err);        &#125;);    &#125;, Promise.resolve()) // åˆå§‹åŒ–ä¼ å…¥    .then(() =&gt; &#123; // æœ€åä¸‰ä¸ªç”¨.allæ¥è°ƒç”¨      return Promise.all(promises);    &#125;);&#125;limitLoad(urls, loadImg, 3)  .then(res =&gt; &#123;    console.log(&quot;å›¾ç‰‡å…¨éƒ¨åŠ è½½å®Œæ¯•&quot;);    console.log(res);  &#125;)  .catch(err =&gt; &#123;    console.error(err);  &#125;);å¤åˆ¶ä»£ç </code></pre><h2 id="åè¯­"><a href="#åè¯­" class="headerlink" title="åè¯­"></a>åè¯­</h2><p>å‚è€ƒæ–‡ç« ï¼š</p><ul><li><a href="https://blog.csdn.net/weixin_37719279/article/details/80950713">ã€ŠES6ä¹‹Promiseå¸¸è§é¢è¯•é¢˜ã€‹</a></li><li><a href="https://segmentfault.com/q/1010000010748967">ã€Šå¦‚ä½•è®©å¼‚æ­¥æ“ä½œé¡ºåºæ‰§è¡Œã€‹</a></li><li><a href="https://www.cnblogs.com/lvdabao/p/es6-promise-1.html">ã€Šå¤§ç™½è¯è®²è§£Promiseï¼ˆä¸€ï¼‰</a></li><li><a href="https://www.jianshu.com/p/4bb1521343ba">ã€ŠLHHå¤§ç¿°ä»”ä»”-Promiseé¢è¯•é¢˜ã€‹</a></li><li><a href="https://blog.csdn.net/guolinengineer/article/details/85067924">ã€Šä»Šæ—¥å¤´æ¡async/awaité¢è¯•é¢˜æ‰§è¡Œé¡ºåºã€‹</a></li><li><a href="https://juejin.im/post/5dd8b3a851882572f56b578f">ã€Š(2.4wå­—,å»ºè®®æ”¶è—)ğŸ˜‡åŸç”ŸJSçµé­‚ä¹‹é—®(ä¸‹), å†²åˆºğŸš€è¿›é˜¶æœ€åä¸€å…¬é‡Œ(é™„ä¸ªäººæˆé•¿ç»éªŒåˆ†äº«)ã€‹</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¿—è¯­</title>
      <link href="posts/%E4%BF%97%E8%AF%AD/"/>
      <url>posts/%E4%BF%97%E8%AF%AD/</url>
      
        <content type="html"><![CDATA[<h2 id="å®å¯è¤å£å¿µä½›ï¼Œä¸å¯ç´ å£éª‚äºº"><a href="#å®å¯è¤å£å¿µä½›ï¼Œä¸å¯ç´ å£éª‚äºº" class="headerlink" title="å®å¯è¤å£å¿µä½›ï¼Œä¸å¯ç´ å£éª‚äºº"></a>å®å¯è¤å£å¿µä½›ï¼Œä¸å¯ç´ å£éª‚äºº</h2><p>å­—é¢ä¸Šçš„æ„æ€æ˜¯è¯´ï¼Œæˆ‘ä»¬å®å¯åƒè‚‰å–é…’ï¼Œå£ä¸­å¿µä½›ï¼Œä½†æ˜¯ä¸èƒ½åƒç´ å´éª‚äººã€‚</p><p>è¿™é‡Œæ‰€è¯´çš„â€œè¤å£â€ï¼Œæ˜¯æŒ‡çš„æˆ‘ä»¬æ™®é€šäººï¼Œå› ä¸ºè¿™äº›äººé…’è‚‰ç©¿è‚ è¿‡ï¼Œæ²¡æœ‰ä»€ä¹ˆåƒå–å¿Œè®³ã€‚è™½ç„¶ä¸åˆ»æ„å»æˆ’å£ï¼Œä½†æ˜¯æ¯æ—¶æ¯åˆ»å¿ƒä¸­å‹å–„ï¼Œå£ä¸­å¿µä½›ã€‚è¿™å¥è¯æ˜¯è€ç¥–å®—å˜±å’ä»–ä»¬çš„å­å­™åä»£ï¼Œä¸å¿…æ‹˜æ³¥äºå½¢å¼ä¸»ä¹‰ï¼Œåªè¦æˆ‘ä»¬å¿ƒä¸­æœ‰ä½›ï¼Œå£ä¸­æœ‰å¾·ï¼Œä¸åƒæ–‹åƒç´ ä¹Ÿå¯ä»¥ã€‚å› ä¸ºäººå¿…å®šæ˜¯æ‚é£ŸåŠ¨ç‰©ï¼Œåªè¦åšåˆ°ä¸æµªè´¹ï¼Œå°±éš¾èƒ½å¯è´µäº†ï¼Œåšåˆ°å£å‡ºå–„è¨€å°±å¾ˆå¥½äº†ï¼Œæ‰€ä»¥å°±æœ‰äº†å†œæ‘ä¿—è¯­â€œå®å¯è¤å£å¿µä½›â€è¿™å¥è¯ã€‚</p><p>â€œä¸å¯ç´ å£éª‚äººâ€ï¼Œå®ƒå¼•ç”³çš„æ„ä¹‰å°±æ˜¯ï¼Œä¸€ä¸ªæ¯å¤©åƒæ–‹åƒç´ çš„äººï¼Œå´å¼ å£å°±éª‚äººï¼Œè¿™æ˜¯ä¸‡ä¸‡ä¸å¯çš„ã€‚è¿™å°±è¯´æ˜ä»–åƒæ–‹å¿µä½›åªæ˜¯è¡¨è±¡ï¼Œè€Œå†…å¿ƒæ˜¯ä¸‘æ¶çš„ï¼Œä»ä»–å£åè„è¨€å°±èƒ½è¯´æ˜ä¸€åˆ‡ï¼Œä»–æ‰€åšçš„ä¿®è¡Œä¹Ÿæ˜¯å‡çš„ã€‚ åœ¨å¤ä»£æœ‰ä¸ªå°å»ºæ€æƒ³ï¼Œè¯´è¿™æ ·çš„äººä¼šé­åˆ°æŠ¥åº”ï¼Œå› ä¸ºè¿™äº›äººæ˜¯â€œä¼ªå–„è€…â€ã€‚è€ç¥–å®—å‘Šè¯«åäººï¼Œåƒä¸‡ä¸è¦æ¯å¤©åƒæ–‹åƒç´ ï¼Œä»¥ä¸ºå°±æˆäº†ä¿®è¡Œäººï¼Œå¦‚æœä¸ä¿®å£å¾·ä¹Ÿæ˜¯åšæ— ç”¨åŠŸã€‚å°±åƒæœ‰äº›äººâ€œå±…åº™å ‚ä¹‹ä¸Šâ€ï¼Œå´ä¸ç†æ°‘ç”Ÿç–¾è‹¦ï¼Œæ˜¯ä¸€ä¸ªé“ç†ï¼Œè¦çŸ¥é“â€œæ³•ç½‘æ¢æ¢ï¼Œç–è€Œä¸æ¼â€ã€‚å¿µä½›å…¶å®å°±æ˜¯ä¸ºäº†è®©äººæ— æ¬²æ— æ±‚ï¼Œå¿ƒå­˜å–„å¿ƒï¼Œéª‚äººæ˜¾ç„¶å°±æ˜¯è¿èƒŒäº†è¿™æ ·çš„ç†å¿µã€‚è€Œåƒè¤ä¸ä¼šä¼¤å®³åˆ°åˆ«äººï¼Œä½†æ˜¯éª‚äººå´å¯ä»¥å½±å“ç€å…¶å®ƒäººï¼Œä¹Ÿä¼šä¼¤å®³åˆ°å…¶å®ƒäººï¼Œè¿™æ ·çœ‹æ¥å°±å®å¯è¤å£å¿µä½›ï¼Œä¸å¯ç´ å£éª‚äººäº†ã€‚</p><p>æ‰€ä»¥â€œå®å¯è¤å£å¿µä½›ï¼Œä¸å¯ç´ å£éª‚äººâ€ï¼Œå°±æ˜¯è€ç¥–å®—å‘Šè¯«åäººï¼Œæˆ‘ä»¬å®å¯åšä¸€ä¸ªâ€œé…’è‚‰ç©¿è‚ è¿‡â€çš„å–„è‰¯äººï¼Œä¹Ÿä¸è¦åšä¸€ä¸ªâ€œå‡ä»å‡ä¹‰â€çš„ä¼ªå›å­ã€‚å› ä¸ºæœ‰ä¸€äº›äººæ‰“ç€â€œä¿®è¡Œäººâ€çš„æ——å·ï¼Œå´åšç€ä¸‹æµäººçš„äº‹æƒ…ï¼Œæˆ–è€…åˆ©ç”¨ä¿¡ä»°åˆ°å¤„å»éª—é’±ï¼Œè¿™å°±æ˜¯å¯¹ä¿¡ä»°çš„æ¬ºéª—ï¼Œè¿·ä¿¡çš„è¯´æ³•å°±æ˜¯ä¼šâ€œé­å¤©è°´â€ã€‚</p><p>å…¶å®åƒè¤æ˜¯çŠ¯äº†æˆ’å¾‹ï¼Œä½†æ˜¯å°±ç®—æ˜¯åƒè¤äº†ï¼Œåªè¦å¿ƒä¸­æœ‰ä½›ï¼Œé‚£è¿˜æ˜¯å¯ä»¥å¿µä½›çš„ï¼Œå¿ƒå­˜å–„å¿µï¼Œå°±å¯æˆä½›ã€‚è€Œå°±ç®—æ˜¯ä¸åƒè¤å¤©å¤©å¿µç€ä½›ç»ï¼Œä½†æ˜¯å´å£ä¸Šä¸ç•™å¾·ï¼Œå¤©å¤©å°±çŸ¥é“éª‚äººï¼Œè¿™æ˜¾ç„¶è¿èƒŒäº†åšäººé“å¾·ï¼Œä¸€è¾¹éª‚ç€äººä¸€è¾¹å¿µç€ä½›ï¼Œé‚£å¯æ˜¯éå¸¸è™šä¼ªçš„è¡Œä¸ºã€‚</p><p>æ€»ä¹‹ï¼Œè¿™å¥è¯è¯´çš„å°±æ˜¯éª‚äººå¯æ¯”åƒè¤æ›´åŠ ä¸¥é‡ï¼Œå°±ç®—åƒè¤ä¹Ÿå¯ä»¥æˆä½›ï¼Œä½†æ˜¯å˜´ä¸Šæ— å¾·çš„è¯ï¼Œæ˜¯å§‹ç»ˆéƒ½å¾—ä¸åˆ°åˆ«äººçš„å°Šé‡ï¼Œä¹Ÿä¼šå½±å“è‡ªèº«ä¿®è¡Œçš„ã€‚</p><p>è¿‡å»å†œæ‘è€äººéƒ½ä¼šæ•™è‚²è‡ªå·±çš„å­å¥³ï¼Œä¸€å®šä¸è¦éšä¾¿éª‚äººï¼Œå¦åˆ™å®æ„¿å»åƒè¤å¿µä½›ï¼Œä¹Ÿä¸èƒ½è¡¨é‡Œä¸ä¸€ï¼Œå¯¹äººä¸å°Šã€‚ç°å®ç”Ÿæ´»å½“ä¸­ä¸ä¹è¿™æ ·çš„äººï¼Œè¡¨é¢ä¸Šåƒæ–‹å¿µä½›ï¼Œä¸€å‰¯è™”è¯šï¼Œå®è´¨ä¸Šä¸¾æ­¢ä¹–å¼ ï¼ŒåŠ¨ä¸åŠ¨å°±çˆ†ç²—å£ï¼Œæ ¹æœ¬æ²¡æœ‰ä¸€ç‚¹å„’é›…çš„æ ·å­ã€‚è¿™æ ·çš„äººæ˜¯æœ€ä»¤äººè®¨åŒçš„ï¼Œä¹Ÿæ˜¯æœ€ä¸å—æ¬¢è¿çš„äººã€‚</p><p>å¦‚æœæˆ‘ä»¬å¾€æ·±å±‚æ¬¡å‰–æï¼Œè¿™ä¸ªå†œæ‘ä¿—è¯­çš„æ„ä¹‰å°±éå¸¸æ·±åˆ»äº†ã€‚ä¸ä»…æ˜¾ç¤ºå‡ºäº†ç°å®ç”Ÿæ´»ä¸­ï¼Œä¸€äº›äººçš„æœ¬æ€§ï¼Œä¹Ÿå‘Šè¯‰æˆ‘ä»¬é€šè¿‡äººçš„è¡¨è±¡ï¼Œè¦çœ‹çœ‹ä»–çš„æœ¬è´¨å±æ€§ï¼Œä¹Ÿå°±èƒ½å¤Ÿåˆ†æ¸…å–„æ¶ï¼ŒæŠŠå¥½åäººè¿›è¡ŒåŒºåˆ†äº†ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå·±å®ç°EventBus</title>
      <link href="posts/%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0EventBus/"/>
      <url>posts/%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0EventBus/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é“¾è¡¨</title>
      <link href="posts/%E9%93%BE%E8%A1%A8/"/>
      <url>posts/%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="å•å‘é“¾è¡¨"><a href="#å•å‘é“¾è¡¨" class="headerlink" title="å•å‘é“¾è¡¨"></a>å•å‘é“¾è¡¨</h2><p>é“¾è¡¨èŠ‚ç‚¹å®šä¹‰-Node</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">el</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.el = el;</span><br><span class="line">        <span class="built_in">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é“¾è¡¨-LinkedList</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinkedList</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.head = <span class="keyword">new</span> Node(<span class="string">&#x27;head&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾</span></span><br><span class="line">    <span class="function"><span class="title">find</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ’å…¥èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="title">insert</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="title">remove</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾èŠ‚ç‚¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ä»é“¾è¡¨çš„å¤´èŠ‚ç‚¹å¼€å§‹éå†</span></span><br><span class="line">    <span class="keyword">let</span> currentNode = <span class="built_in">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(currentNode &amp;&amp; currentNode.el !== item) &#123;</span><br><span class="line">        currentNode = currentNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>  currentNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ’å…¥èŠ‚ç‚¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params">el, item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> newNode = <span class="keyword">new</span> Node(el);</span><br><span class="line">    <span class="keyword">const</span> currentNode = <span class="built_in">this</span>.find(item);</span><br><span class="line">    <span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„nextç»™äº†æ–°èŠ‚ç‚¹çš„next</span></span><br><span class="line">    newNode.next = currentNode.next;</span><br><span class="line">    currentNode.next = newNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ é™¤èŠ‚ç‚¹</p><p>åˆ é™¤å½“å‰èŠ‚ç‚¹è¦æ‰¾åˆ°å½“å‰èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚<br>å°†ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘ä¸‹ä¸€ä¸ª</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findPre</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="built_in">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(node.next !== <span class="literal">null</span> &amp;&amp; node.next.el !== item) &#123;</span><br><span class="line">        node = node.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> preNode = <span class="built_in">this</span>.findPre(item);</span><br><span class="line">    <span class="keyword">if</span> (preNode.next !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿™è¡Œä»£ç å¾ˆå…³é”®</span></span><br><span class="line">        preNode.next = preNode.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å•ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">el</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.el = el;</span><br><span class="line">    <span class="built_in">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinkedList</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.head = <span class="keyword">new</span> Node(<span class="string">&#x27;head&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç”¨äºæŸ¥æ‰¾</span></span><br><span class="line">  <span class="function"><span class="title">find</span>(<span class="params">item</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="built_in">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span> (node !== <span class="literal">null</span> &amp;&amp; node.el !== item) &#123;</span><br><span class="line">      node = node.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">findPrev</span>(<span class="params">item</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="built_in">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span> (node.next !== <span class="literal">null</span> &amp;&amp; node.next.el !== item) &#123;</span><br><span class="line">      node = node.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;  </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ’å…¥èŠ‚ç‚¹</span></span><br><span class="line">  <span class="function"><span class="title">insert</span>(<span class="params">el, item</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> newNode = <span class="keyword">new</span> Node(el);</span><br><span class="line">    <span class="keyword">const</span> currentNode = <span class="built_in">this</span>.find(item);</span><br><span class="line">    newNode.next = currentNode.next;</span><br><span class="line">    currentNode.next = newNode;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">  <span class="function"><span class="title">remove</span>(<span class="params">item</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> prevNode = <span class="built_in">this</span>.findPrev(item);</span><br><span class="line">    <span class="keyword">if</span> (prevNode.next !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿™è¡Œä»£ç å¾ˆå…³é”®</span></span><br><span class="line">      prevNode.next = prevNode.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŒå‘é“¾è¡¨"><a href="#åŒå‘é“¾è¡¨" class="headerlink" title="åŒå‘é“¾è¡¨"></a>åŒå‘é“¾è¡¨</h2><p>å®šä¹‰èŠ‚ç‚¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>() </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">el</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.el = el;</span><br><span class="line">        <span class="built_in">this</span>.prev = <span class="literal">null</span>;</span><br><span class="line">        <span class="built_in">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾åŒå•å‘é“¾è¡¨</p><p>æ’å…¥èŠ‚ç‚¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params">el, item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> newNode = <span class="keyword">new</span> Node(el);</span><br><span class="line">    <span class="keyword">const</span> currentNode = <span class="built_in">this</span>.find(item);</span><br><span class="line">    <span class="comment">// å…ˆå°†æ–°èŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘å¯¹åº”ä½ç½®</span></span><br><span class="line">    newNode.next = currentNode.next;</span><br><span class="line">    newNode.prev = currentNode;</span><br><span class="line">    <span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹</span></span><br><span class="line">    currentNode.next = newNode;</span><br><span class="line">    <span class="comment">// å½“å‰èŠ‚ç‚¹çš„nextèŠ‚ç‚¹çš„prevæŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹</span></span><br><span class="line">    currentNode.next.prev = newNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ é™¤èŠ‚ç‚¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> node = <span class="built_in">this</span>.find(item);</span><br><span class="line">    node.prev.next = node.next;</span><br><span class="line">    node.next.prev = node.prev;</span><br><span class="line">    node.prev = <span class="literal">null</span>;</span><br><span class="line">    node.next = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸šåŠ¡?! ä¸šåŠ¡ä¸æŠ€æœ¯ä¹‹äº‰</title>
      <link href="posts/%E4%B8%9A%E5%8A%A1-%E4%B8%9A%E5%8A%A1%E4%B8%8E%E6%8A%80%E6%9C%AF%E4%B9%8B%E4%BA%89/"/>
      <url>posts/%E4%B8%9A%E5%8A%A1-%E4%B8%9A%E5%8A%A1%E4%B8%8E%E6%8A%80%E6%9C%AF%E4%B9%8B%E4%BA%89/</url>
      
        <content type="html"><![CDATA[<p>ä»¥å‰ç¡®å®ä¸é‡è§†ä¸šåŠ¡ï¼Œè¯»äº†æ¥ä¸‹æ¥è¿™ç¯‡æ–‡ç« ï¼Œå‘ç°äº†è‡ªå·±çš„è¯¯åŒºã€‚å°†å¥½çš„è§‚ç‚¹æŠ„ä¸‹æ¥ï¼Œä»¥ä¾¿é¢†ä¼šå¸æ”¶ã€‚</p><h2 id="åŸæ–‡é“¾æ¥"><a href="#åŸæ–‡é“¾æ¥" class="headerlink" title="åŸæ–‡é“¾æ¥"></a><a href="https://juejin.im/post/5eb3cab66fb9a043856f3987">åŸæ–‡é“¾æ¥</a></h2><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><hr><p>ä½œä¸ºä¸€ä¸ªä¸šåŠ¡å‰ç«¯ï¼Œå®Œæˆä¸šåŠ¡éœ€æ±‚çš„åŒæ—¶ï¼Œè¿˜è¦å¤„ç†å„ç§çº¿ä¸Šé—®é¢˜ï¼ŒåŠ ç­è¾›è‹¦å¿™ç¢Œäº†ä¸€å¹´ï¼Œè¿˜è¦è¢«è€æ¿è¯´â€œæ€è€ƒæ˜¯ä¸å¤Ÿçš„â€ã€â€œæ²¡æœ‰ä¸šåŠ¡ senceâ€ï¼Œå‡ºå»é¢è¯•ï¼Œè¢«é—®é¡¹ç›®ï¼Œä¹Ÿè¯´ä¸å‡ºä»€ä¹ˆæœ‰äº®ç‚¹æˆ–è€…æœ‰æŒ‘æˆ˜çš„ä¸œè¥¿ï¼Œæƒ³åšç‚¹ç‰›é€¼çš„ä¸œè¥¿ï¼Œä¹Ÿæ²¡æœ‰å‘ç°ä»€ä¹ˆæœ‰ä»·å€¼çš„æ–¹å‘ï¼Œå¥½ä¸å®¹æ˜“æ‰¾åˆ°ä¸€äº›æ–¹å‘ï¼Œè¿˜è¦è¢«è€æ¿ä¸€é¡¿è´¨é—®ï¼Œä¸šåŠ¡ä»·å€¼æ˜¯ä»€ä¹ˆï¼ŸROI æ€æ ·ï¼Ÿæœ€ç»ˆå¯èƒ½å°±åªæ˜¯åšäº†ä¸€ç‚¹æ€§èƒ½ä¼˜åŒ–å·¥ä½œï¼ŒæŠ½ç¦»äº†ä¸€äº›å¯å¤ç”¨çš„ç»„ä»¶â€¦â€¦ä¸ç¦è®©äººæ„Ÿå¹ï¼Œä¸šåŠ¡éš¾ã€å‰ç«¯éš¾ã€åšä¸šåŠ¡çš„å‰ç«¯æ›´éš¾ï¼</p><a id="more"></a><h2 id="1-ä¸šåŠ¡å‰ç«¯çš„å›°å¢ƒ"><a href="#1-ä¸šåŠ¡å‰ç«¯çš„å›°å¢ƒ" class="headerlink" title="1. ä¸šåŠ¡å‰ç«¯çš„å›°å¢ƒ"></a>1. ä¸šåŠ¡å‰ç«¯çš„å›°å¢ƒ</h2><h3 id="1-1-ä¸šåŠ¡å‰ç«¯â€œå¥½å¿™â€"><a href="#1-1-ä¸šåŠ¡å‰ç«¯â€œå¥½å¿™â€" class="headerlink" title="1.1 ä¸šåŠ¡å‰ç«¯â€œå¥½å¿™â€"></a>1.1 ä¸šåŠ¡å‰ç«¯â€œå¥½å¿™â€</h3><p>ä¸šåŠ¡å‰ç«¯ï¼Œé¡¾åæ€ä¹‰ï¼Œåšä¸šåŠ¡çš„å‰ç«¯ï¼Œç›´æ¥ä¸ä¸šåŠ¡çš„ PDã€è¿è¥æ¥è§¦ï¼Œå¯¹äº§å“çš„ç”¨æˆ·ç›´æ¥è´Ÿè´£ã€‚åœ¨å®é™…çš„å·¥ä½œä¸­ï¼Œä¸šåŠ¡å‰ç«¯ç»å¸¸å¿™äºä¸šåŠ¡çš„å„ç§ä¼šè®®ã€é¡¹ç›®å’Œç­”ç–‘ï¼Œå³ä¾¿ä¸€æ¡ä¸šåŠ¡çº¿ä¸Šæœ‰å¤šä¸ªå‰ç«¯åŒå­¦æ”¯æŒï¼Œé¢å¯¹æˆå±±çš„éœ€æ±‚ï¼Œå¯èƒ½ä¾ç„¶æ„Ÿåˆ°åƒåŠ›ï¼Œè¿™å…¶ä¸­çš„åŸå› å¯èƒ½æœ‰ï¼š</p><ol><li>ç”¨æˆ·ä¾§äº§å“å¾€å¾€éœ€è¦å¿«é€Ÿä¸Šçº¿ï¼Œå¤§éƒ¨åˆ†éœ€æ±‚éƒ½éœ€è¦å€’æ’å·¥æœŸï¼Œå¼€å‘æ—¶é—´å°¤å…¶ç´§å¼ </li><li>å¯¹ä¸šåŠ¡ä¸ç†Ÿæ‚‰ï¼Œåœ¨é¡¹ç›®éœ€æ±‚å·²ç¡®å®šçš„æ—¶å€™æ‰å»å‚åŠ è§†è§‰è¯„å®¡ï¼Œæ²¡æœ‰åŠæ³•åˆ¤æ–­éœ€æ±‚èƒŒåçš„ä¸šåŠ¡é€»è¾‘è·Ÿä¸šåŠ¡å¤§èŠ‚å¥æ˜¯å¦åŒ¹é…ã€éœ€æ±‚æœ¬èº«æ˜¯å¦èƒ½å¤Ÿè¾¾æˆä¸šåŠ¡ç›®æ ‡ã€æœ‰æ²¡æœ‰æ›´å¥½çš„å®ç°æ–¹å¼ï¼Œåªèƒ½æ¥ä¸‹éœ€æ±‚ï¼Œç„¶åæ’æœŸ</li><li>ç»´æŠ¤æˆæœ¬é«˜ï¼Œæ¯å¤©è¿˜è¦å¿™äºè§£å†³å„ç§çº¿ä¸Šé—®é¢˜ï¼Œæ¯”å¦‚è¿™é‡Œæ ·å¼æœ‰ç‚¹é—®é¢˜ï¼Œé‚£é‡Œæ€ä¹ˆæ²¡æœ‰æ˜¾ç¤ºâ€¦â€¦å„ç§çç¢é—®é¢˜è®©ä½ è¿‡çš„éå¸¸â€œå……å®â€</li><li>éœ€æ±‚å“åº”é€Ÿåº¦è¾ƒæ…¢ï¼Œæ¯”å¦‚ä¸šåŠ¡çš„æŠ€æœ¯æ ˆè¾ƒè€ï¼Œæˆ–è€…å®šåˆ¶é€»è¾‘è¿‡å¤šï¼Œè¾¹å†™ä»£ç è¿˜è¦è¾¹æŸ¥æ–‡æ¡£ï¼ŒæŸ¥ä¸åˆ°å¯èƒ½è¿˜è¦æŸ¥æºç ï¼Œæ•ˆç‡å¤§å¹…é™ä½ã€‚åˆæˆ–è€…è·Ÿåˆ«çš„ä¸šåŠ¡æŠ€æœ¯ä½“ç³»ä¸åŒï¼Œéš¾ä»¥å¤ç”¨å’Œæ²‰æ·€ï¼Œå¦‚æœè¦ç”¨ï¼Œå¯èƒ½è¿˜è¦é‡å†™ä¸€éâ€¦â€¦</li></ol><h3 id="1-2-ä¸šåŠ¡å‰ç«¯æ˜¯â€œèµ„æºâ€"><a href="#1-2-ä¸šåŠ¡å‰ç«¯æ˜¯â€œèµ„æºâ€" class="headerlink" title="1.2 ä¸šåŠ¡å‰ç«¯æ˜¯â€œèµ„æºâ€"></a>1.2 ä¸šåŠ¡å‰ç«¯æ˜¯â€œèµ„æºâ€</h3><p>å‰ç«¯å²—ä½çš„ç‰¹ç‚¹å°±æ˜¯æœ‰è§†è§‰ç¨¿å°±å¯ä»¥å®Œæˆå·¥ä½œï¼Œä¸éœ€è¦ç†è§£ä¸šåŠ¡å…¨è²Œï¼Œæ‰€ä»¥åœ¨ç¹å¿™æœŸå¾ˆå®¹æ˜“è®©å‰ç«¯å¿½è§†äº†ä¸šåŠ¡æ€è€ƒï¼ŒåŠ ä¸Šä¹‹å‰æè¿°çš„å„ç§åŸå› ï¼Œä¸šåŠ¡å‰ç«¯ç»å¸¸æ²¦è½ä¸ºâ€œèµ„æºâ€ï¼Œå½“ä½ æ²¦è½ä¸ºâ€œèµ„æºâ€çš„æ—¶å€™ï¼Œå…¶å®å°±å·²ç»å¤±å»äº†å’Œä¸šåŠ¡å¹³ç­‰å¯¹è¯çš„èµ„æ ¼ï¼Œä»–ä»¬åªä¼šæŠŠä½ å½“æˆè«å¾—æ„Ÿæƒ…çš„å¼€å‘æœºå™¨ï¼Œè·Ÿä½ è¾“å…¥éœ€æ±‚ï¼Œè®©ä½ åå‡ºé¡µé¢ï¼Œè€Œä½ åœ¨è¿™æ ·çš„å…³ç³»ä¸­ï¼Œæœ¬æ¥å†™ç€è¿˜ç®—å·¥æ•´çš„ä»£ç ï¼Œä¸ºäº†å¿«é€Ÿå®ç°ä¸šåŠ¡éœ€æ±‚ï¼Œä¹Ÿå¼€å§‹å†™èµ·ä¹±ç³Ÿç³Ÿçš„ä»£ç ï¼Œå¯¹äºä½ æ‰€åˆ›é€ çš„äº§å“ä¹Ÿæ²¡æœ‰è¯è¯­æƒï¼Œä¹…è€Œä¹…ä¹‹ä¹Ÿå¤±å»äº†æ¿€æƒ…å’Œè€å¿ƒã€‚</p><p>å¤±å»æ¿€æƒ…ï¼Œå†™çš„ä¸å¼€å¿ƒä¹Ÿå°±ç®—äº†ï¼Œå› ä¸ºä½ æ²¡æœ‰åšå‡ºä»€ä¹ˆç‰¹åˆ«çš„ä¸œè¥¿ï¼Œè€æ¿ä¹Ÿä¸ä¼šç‰¹åˆ«è®¤å¯ä½ çš„è¾›è‹¦ï¼Œè¿˜ä¼šè§‰å¾—ä½ æ€è€ƒä¸å¤Ÿã€æ²¡æœ‰ä¸šåŠ¡ senceï¼Œå¯¹ä¸šåŠ¡æ²¡æœ‰åŠ©åŠ›ï¼Œæ²¡æœ‰è®©ä¸šåŠ¡å› ä¸ºä½ çš„å­˜åœ¨è€Œæœ‰æ‰€ä¸åŒâ€¦â€¦</p><h3 id="1-3-ä¸šåŠ¡å‰ç«¯æƒ³çªç ´"><a href="#1-3-ä¸šåŠ¡å‰ç«¯æƒ³çªç ´" class="headerlink" title="1.3 ä¸šåŠ¡å‰ç«¯æƒ³çªç ´"></a>1.3 ä¸šåŠ¡å‰ç«¯æƒ³çªç ´</h3><p>å¥½å§ï¼Œé‚£æˆ‘å†³å®šåšç‚¹ä»€ä¹ˆæ”¹å˜ä¸€ä¸‹ï¼Œäºæ˜¯è·Ÿè€æ¿æå‡ºäº†ä¸€ç³»åˆ—æƒ³æ³•ï¼š</p><ol><li>è¿™é‡ŒæŠ€æœ¯ä½“ç³»å¤ªè€äº†ï¼Œä¸ºäº†è¿›ä¸€æ­¥æå‡å¼€å‘æ•ˆç‡ï¼Œæˆ‘ä»¬æƒ³è¦ææŠ€æœ¯é‡æ„</li><li>å‰åç«¯è”è°ƒæœ‰ç‚¹è´¹åŠ²ï¼Œæˆ‘ä»¬æƒ³æä¸ªè”è°ƒæ•°æ®ä¸­å°ï¼Œæå‡è”è°ƒæ•ˆç‡</li><li>é‚£é‡Œå±•ç°é€Ÿåº¦å¤ªæ…¢äº†ï¼Œæˆ‘ä»¬è¦ææ€§èƒ½ä¼˜åŒ–</li><li>â€¦â€¦</li></ol><p>è€æ¿å¾€å¾€ä¼šæ¥ä¸€ç³»åˆ—çµé­‚æé—®ï¼š</p><ol><li>ä¸ºä»€ä¹ˆè¦åšï¼Ÿï¼ˆæœ‰ä»€ä¹ˆä¸šåŠ¡ä»·å€¼ï¼Ÿæœ‰ä»€ä¹ˆæŠ€æœ¯ä»·å€¼ï¼Ÿï¼‰</li><li>ä¸ºä»€ä¹ˆæ˜¯ç°åœ¨åšï¼Ÿ</li><li>ä¸ºä»€ä¹ˆæ˜¯ä½ åšï¼Ÿ</li><li>ROIï¼ˆæŠ•å…¥äº§å‡ºæ¯”ï¼‰æ€ä¹ˆæ ·ï¼Ÿ</li></ol><p>è¿˜æ²¡æœ‰å¼€å§‹ï¼ŒèºåŠ¨çš„å¿ƒå°±è¢«è€æ¿çš„ä¸€ç³»åˆ—â€œè´¨ç–‘â€æµ‡äº†ä¸€ç›†å†·æ°´ã€‚</p><p>å¦‚æœæ²¡æœ‰å›ç­”å¥½è¿™äº›é—®é¢˜ã€è¯´æœè€æ¿ï¼Œè‡ªç„¶ä¹Ÿäº‰å–ä¸åˆ°ä»€ä¹ˆèµ„æºï¼Œåªèƒ½ä¸€ä¸ªäººææï¼Œä¸€ä¸ªäººæçš„å¾€å¾€è´¨é‡ä¸è¡Œã€ä¹Ÿæ²¡æœ‰äººç”¨ï¼Œä¹…è€Œä¹…ä¹‹è‡ªå·±ä¹Ÿä¸ç»´æŠ¤äº†ï¼Œåªèƒ½åˆå¼€å§‹åŸ‹å¤´åœ¨éœ€æ±‚ä¸­ã€‚</p><p>å¹²çš„ä¸å¼€å¿ƒï¼Œä¹Ÿæ²¡æœ‰æˆé•¿ï¼Œæœ€ååªèƒ½æš—æ·¡ç¦»èŒï¼Œä½†æ¢äº†ä¸€ä¸ªå…¬å¸å°±ä¼šå¥½å—ï¼Œå¾ˆå¯èƒ½åˆæ˜¯ç±»ä¼¼çš„è¿‡ç¨‹â€¦â€¦</p><p>è¿™çœŸçš„å ªç§°æ˜¯ä¸šåŠ¡å‰ç«¯çš„â€œå›°å¢ƒâ€ï¼Œé‚£ä¹ˆå¦‚ä½•çªç ´è¿™ç§å›°å¢ƒå‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬å°±è¦æ‘†æ­£å¿ƒæ€ï¼Œä»äº†è§£ä¸šåŠ¡å¼€å§‹ã€‚</p><h2 id="2-äº†è§£ä¸šåŠ¡"><a href="#2-äº†è§£ä¸šåŠ¡" class="headerlink" title="2. äº†è§£ä¸šåŠ¡"></a>2. äº†è§£ä¸šåŠ¡</h2><h3 id="2-1-ä¸šåŠ¡å’Œéœ€æ±‚"><a href="#2-1-ä¸šåŠ¡å’Œéœ€æ±‚" class="headerlink" title="2.1 ä¸šåŠ¡å’Œéœ€æ±‚"></a>2.1 ä¸šåŠ¡å’Œéœ€æ±‚</h3><p>åœ¨äº†è§£ä¸šåŠ¡ä¹‹å‰ï¼Œé¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼Œä¸šåŠ¡è·Ÿéœ€æ±‚æ˜¯ä¸ä¸€æ ·çš„ã€‚ç†è§£éœ€æ±‚å¹¶ä¸ç­‰äºç†è§£ä¸šåŠ¡ï¼Œéœ€æ±‚æ˜¯ä¸šåŠ¡ç»è¿‡äº§å“æ¶ˆåŒ–åçš„äº§ç‰©ï¼Œå¯èƒ½å·²ç»ç»è¿‡æ¼”ç»æˆ–è€…æ‹†è§£ï¼Œå› æ­¤éœ€æ±‚å¹¶ä¸æ˜¯ä¸šåŠ¡æœ¬èº«ï¼Œå½“ç„¶äº†è§£çš„éœ€æ±‚è¶Šå¤šï¼Œå¯¹ä¸šåŠ¡çš„å…¨è²Œä¹Ÿä¼šæ›´åŠ äº†è§£ã€‚</p><p>é‚£ä¹ˆä»€ä¹ˆæ˜¯ä¸šåŠ¡å‘¢ï¼Ÿä¸šç•Œå¯¹â€ä¸šåŠ¡â€æœ‰å¤šç§å®šä¹‰ï¼Œä½†æ˜¯å…¶ä¸»è¦æ€æƒ³åŸºæœ¬ä¸å˜ï¼Œä¸šåŠ¡å°±æ˜¯ä¸€ç³»åˆ—äººé€šè¿‡ä¸€ç³»åˆ—æ´»åŠ¨å®ŒæˆæŸä¸€ä»»åŠ¡çš„è¿‡ç¨‹ï¼Œå› æ­¤ï¼Œä¸šåŠ¡å¯å¤§å¯å°ï¼Œå¯ä»¥æ— é™æ‹†åˆ†ã€‚</p><p>æˆ‘ä»¬æœ¬æ–‡æ¶‰åŠçš„ä¸šåŠ¡æ³›æŒ‡å•†ä¸šä¸šåŠ¡ï¼Œå°±æ˜¯ä¸è¯¥ BU æˆ–è€…å…¬å¸å•†ä¸šæ¨¡å¼ç›´æ¥å…³è”çš„ä¸šåŠ¡æˆ–å…¶ç»„æˆéƒ¨åˆ†ã€‚</p><h3 id="2-2-å‰ç«¯ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä¸šåŠ¡"><a href="#2-2-å‰ç«¯ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä¸šåŠ¡" class="headerlink" title="2.2 å‰ç«¯ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä¸šåŠ¡"></a>2.2 å‰ç«¯ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä¸šåŠ¡</h3><p>å‰ç«¯å³ä½¿ä¸å­¦ä¹ ä¸šåŠ¡ï¼Œå…¶å®ä¹Ÿä¸å½±å“åšéœ€æ±‚ï¼Œæ¯•ç«Ÿä½ åªè¦å‘Šè¯‰æˆ‘äº¤äº’æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå‰ç«¯å°±å¯ä»¥å¸®ä½ å®ç°ï¼Œè€Œä¸”å·²ç»æœ‰äº§å“ç»ç†çš„è§’è‰²äº†ï¼Œå¤§å®¶å„å¸å…¶èŒä¸å°±å¥½äº†ï¼Œä¸ºä»€ä¹ˆä¸€ä¸ªåšæŠ€æœ¯çš„ï¼Œè¦ç‹—æ‹¿è€—å­ã€æˆ–è€…æ˜¯è¶Šä¿ä»£åº–å‘¢ï¼Ÿè¿™å°±è¦è¯´åˆ°ï¼š</p><ol><li><p>åªæœ‰äº†è§£ä¸šåŠ¡ï¼Œæ‰èƒ½ä»æŠ€æœ¯çš„è§’åº¦æƒ³åˆ°ä¸šåŠ¡æ–¹ä¸æ›¾æƒ³åˆ°çš„åœ°æ–¹ï¼›ä¸äº†è§£ä¸šåŠ¡ï¼Œä½ å¯èƒ½å¬ä¸æ‡‚ä¸šåŠ¡æ–¹è¦ä»€ä¹ˆï¼Œç”šè‡³è¿éœ€æ±‚çš„ä¸šåŠ¡é€»è¾‘éƒ½æä¸æ¸…ï¼Œè¿™ç§æƒ…å†µçš„åˆä½œæ¨¡å¼åªæœ‰ä¸€ç§ï¼Œéœ€æ±‚ä¸‹æ¥äº†ï¼Œä½ æ¥ä½ï¼Œç„¶åç»™æ’æœŸã€‚ä¹Ÿè®¸ï¼Œè¿™ä¸ªéœ€æ±‚çš„è®¾è®¡ä¸åˆç†ï¼Œä½ ä¸çŸ¥é“ï¼›è¿™ä¸ªéœ€æ±‚æœ‰æ›´å¥½çš„å®ç°æ–¹æ¡ˆï¼Œä½ ä¸çŸ¥é“ï¼›è¿™ä¸ªéœ€æ±‚å¯ä»¥é€šè¿‡ç°æˆçš„å…³è”äº§å“æ–¹æ¡ˆè§£å†³ï¼Œçœæ—¶çœäººåŠ›ï¼Œä½ ä¹Ÿä¸çŸ¥é“ã€‚</p></li><li><p>åªæœ‰äº†è§£åˆ°ä¸šåŠ¡èƒŒåçš„åŸå› ï¼Œæ‰èƒ½ä»å…¨å±€çš„è§†è§’å»è§„åˆ’æŠ€æœ¯çš„æœªæ¥ã€‚ä¸äº†è§£ä¸šåŠ¡ï¼Œä¼šè®©ä½ ç¦»ç”¨æˆ·çš„çœŸå®éœ€æ±‚å¾ˆè¿œï¼Œä½ è¶Šéš¾å‘ç°å…¶ä¸­çš„ä¸€äº›ç—›ç‚¹å’ŒæŒ‘æˆ˜ï¼Œæ²¡æ³•çœŸæ­£æå‡ºä½ çš„æ€è€ƒå’Œè§£å†³æ–¹æ¡ˆï¼Œå»è§£å†³ç”¨æˆ·çš„éš¾é¢˜ã€‚</p></li><li><p>ä½œä¸ºä¸€åäº§å“ç ”å‘å·¥ç¨‹å¸ˆï¼Œè‡ªç„¶æ˜¯å¸Œæœ›äº²æ‰‹æ‰“ç£¨ä¸€æ¬¾è§£å†³ç”¨æˆ·é—®é¢˜ã€ä½“éªŒå‹å¥½çš„äº§å“ï¼Œå¦‚æœäº§å“èƒ½å¾—åˆ°ç”¨æˆ·è®¤å¯ï¼Œäº§ç”Ÿå½±å“åŠ›ã€è‡ªç„¶ä¼šç‰¹åˆ«æœ‰æˆå°±æ„Ÿã€‚</p></li><li><p>é˜¿é‡Œä½œä¸ºä¸€å®¶å•†ä¸šç§‘æŠ€å…¬å¸ï¼Œå¯¹æŠ€æœ¯äººçš„è¦æ±‚å°±æ˜¯æŠ€æœ¯ä¸ä¸šåŠ¡ç›¸ç»“åˆï¼Œåœ¨æ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„åŸºç¡€ä¸Šï¼Œæˆä¸ºæŠ€æœ¯ä¸ä¸šåŠ¡çš„æ¡¥æ¢ï¼Œä¸»åŠ¨èµ°è¿›ä¸šåŠ¡ï¼Œæ€è€ƒå¦‚ä½•é€šè¿‡æŠ€æœ¯æ‰‹æ®µå¸®åŠ©ä¸šåŠ¡åšèµ¢ã€æ»¡è¶³å¸‚åœºå’Œç”¨æˆ·éœ€æ±‚ï¼Œå…ˆä¸€æ­¥æŠ€æœ¯è§„åˆ’ã€äººæ‰å‚¨å¤‡ã€æŠ€æœ¯æ¶æ„å’ŒæŠ€æœ¯é¢„ç ”ã€‚</p></li></ol><h3 id="2-3-ä½ äº†è§£ä¸šåŠ¡å—"><a href="#2-3-ä½ äº†è§£ä¸šåŠ¡å—" class="headerlink" title="2.3 ä½ äº†è§£ä¸šåŠ¡å—"></a>2.3 ä½ äº†è§£ä¸šåŠ¡å—</h3><p>é‚£ä¹ˆç›®å‰ä½ äº†è§£ä½ å¯¹æ¥çš„ä¸šåŠ¡å—ï¼Ÿä¸å¦¨å°è¯•å›ç­”ä¸‹ä»¥ä¸‹é—®é¢˜ï¼š</p><ol><li>ä¸šåŠ¡åšçš„æ˜¯ä»€ä¹ˆï¼Ÿäº§å“å¤§å›¾æœ‰å—ï¼Ÿ</li><li>ä¸šåŠ¡çš„æ ¸å¿ƒæŒ‡æ ‡æ˜¯ä»€ä¹ˆï¼ŸKPIç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œè¿™äº›æ•°å­—èƒŒåçš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿè¦è¾¾æˆè¿™äº›ç›®æ ‡ï¼Œä¸šåŠ¡ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>ä¸šåŠ¡çš„ç”¨æˆ·æ˜¯è°ï¼Ÿæµé‡æ€ä¹ˆåˆ†å±‚ï¼Ÿå æ¯”å¤šå°‘ï¼Ÿåˆ†åˆ«åœ¨ä¸šåŠ¡ä¸­æ˜¯æ€æ ·çš„å®šä½ï¼Ÿ</li><li>ä¸šåŠ¡çš„å•†ä¸šæ¨¡å¼ï¼Ÿé ä»€ä¹ˆå¸å¼•æµé‡ï¼Œç›ˆåˆ©æ¨¡å¼æ˜¯æ€æ ·çš„ï¼Ÿ</li><li>æˆ‘ä»¬åšçš„é¡µé¢æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿä¸ºä¸šåŠ¡å¸¦æ¥ä»€ä¹ˆä»·å€¼ï¼Ÿè¦åˆ›é€ æ›´å¤šçš„ä»·å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åšä»€ä¹ˆï¼Ÿ</li></ol><h2 id="2-4-å¦‚ä½•å­¦ä¹ ä¸šåŠ¡"><a href="#2-4-å¦‚ä½•å­¦ä¹ ä¸šåŠ¡" class="headerlink" title="2.4 å¦‚ä½•å­¦ä¹ ä¸šåŠ¡"></a>2.4 å¦‚ä½•å­¦ä¹ ä¸šåŠ¡</h2><h3 id="2-4-1-ä¸šåŠ¡é¢†åŸŸçŸ¥è¯†çš„é˜…è¯»"><a href="#2-4-1-ä¸šåŠ¡é¢†åŸŸçŸ¥è¯†çš„é˜…è¯»" class="headerlink" title="2.4.1 ä¸šåŠ¡é¢†åŸŸçŸ¥è¯†çš„é˜…è¯»"></a>2.4.1 ä¸šåŠ¡é¢†åŸŸçŸ¥è¯†çš„é˜…è¯»</h3><p>æ‰¾åˆ°è¯¥é¢†åŸŸç›¸å…³çš„è¯„åˆ†è¾ƒå¥½çš„ä¹¦ç±é›†ä¸­é˜…è¯»ï¼Œå¿«é€Ÿå½¢æˆçŸ¥è¯†æ¡†æ¶ã€‚</p><h3 id="2-4-2-äº†è§£ä¸šåŠ¡èƒŒæ™¯å’Œè§„åˆ’"><a href="#2-4-2-äº†è§£ä¸šåŠ¡èƒŒæ™¯å’Œè§„åˆ’" class="headerlink" title="2.4.2 äº†è§£ä¸šåŠ¡èƒŒæ™¯å’Œè§„åˆ’"></a>2.4.2 äº†è§£ä¸šåŠ¡èƒŒæ™¯å’Œè§„åˆ’</h3><p>åˆšåˆšæ¥æ‰‹æ–°çš„ä¸šåŠ¡ï¼Œå¯ä»¥é‚€è¯·ä¸šåŠ¡æ–¹è€æ¿æˆ–è€…èµ„æ·±çš„è¿è¥/äº§å“åŒå­¦ï¼Œç»™ä½ è®²è®²è¿™å—ä¸šåŠ¡çš„è¿‡å»ã€ç°åœ¨ã€æœªæ¥ã€æ„¿æ™¯ã€è´¢å¹´è§„åˆ’ï¼Œä»¥åŠå¯¹æŠ€æœ¯åŒå­¦çš„æœŸæœ›ï¼›</p><ol><li>èŠ±æ—¶é—´è¯»åˆä½œæ–¹ï¼ˆè¿è¥ã€äº§å“ã€ç ”å‘ï¼‰çš„å‘¨æŠ¥ï¼Œäº†è§£ç°åœ¨åœ¨å‘ç”Ÿä»€ä¹ˆï¼Œæ˜¯ä¸æ˜¯ç¦»ç›®æ ‡è¶Šæ¥è¶Šè¿‘äº†ï¼›</li><li>äº†è§£ä¸šåŠ¡ç›®æ ‡ã€è½åœ°ç­–ç•¥ã€è¡¡é‡ç›®æ ‡çš„æ•°æ®å£å¾„ï¼Œå…³æ³¨æ•°æ®ï¼Œå…³æ³¨ç›®å‰åšçš„é¡¹ç›®æ˜¯å¦ä¸ºäº†è¾¾æˆç›®æ ‡è€Œæˆ˜ï¼Œå¦‚æœä¸æ˜¯ï¼Œæå‡ºä½ çš„æƒ³æ³•å’Œå»ºè®®ï¼›</li><li>å¤šå‚ä¼šï¼Œå»ºç«‹äº§å“ senseã€‚æ”¶é›†ä¿¡æ¯æœ€å¥½çš„æ–¹å¼å°±æ˜¯å‚åŠ æ‰€å¤„ä¸šåŠ¡è€å¤§çš„ KO ä¼šï¼Œå„ç§ KO ä¼šä¼šæŠŠæˆ˜ç•¥ä¸Šçš„æ‹†è§£å’ŒèƒŒåçš„æ€è€ƒæ•´ä½“æ¢³ç†ä¹‹åå®£è®²ä¼ è¾¾ç»™ BU æˆ–éƒ¨é—¨çš„åŒå­¦ï¼Œ</li></ol><h3 id="2-4-3-å¤šäº¤æµ"><a href="#2-4-3-å¤šäº¤æµ" class="headerlink" title="2.4.3 å¤šäº¤æµ"></a>2.4.3 å¤šäº¤æµ</h3><p>ä¸æœåŠ¡ç«¯åŒå­¦èŠå¤©ï¼Œä¸ PM èŠå¤©ï¼Œä¸ç”¨æˆ·èŠå¤©ï¼Œå¤šè§’åº¦çœ‹ä¸šåŠ¡ï¼Œä½†è¦æ³¨æ„çš„æ˜¯ï¼Œé’ˆå¯¹ä¸“ä¸šå‹æ¯”è¾ƒå¼ºçš„ä¸šåŠ¡ï¼Œéœ€è¦å…ˆåšåŠŸè¯¾ï¼Œè‡³å°‘ä¸€äº›è‹±æ–‡çš„ç¼©å†™è¦æ¸…æ¥šçš„æ˜ç™½æ„æ€ã€‚</p><h3 id="2-4-4-è°¨è®°æ•°å­—"><a href="#2-4-4-è°¨è®°æ•°å­—" class="headerlink" title="2.4.4 è°¨è®°æ•°å­—"></a>2.4.4 è°¨è®°æ•°å­—</h3><p>å¦‚æœå‰é¢è¿˜éœ€è¦èŠ±æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œé‚£è¿™ä¸€ä¸ªå¯ä»¥ç°åœ¨å°±åšèµ·æ¥ï¼Œé‚£å°±æ˜¯æŠŠä¸šåŠ¡ç›¸å…³çš„æ•°å­—è®°å¾—è¶Šç²¾ç»†çº¦å¥½ï¼Œè¶Šå…·ä½“è¶Šå¥½ï¼Œè¶Šå…¨é¢è¶Šå¤šè¶Šå¥½ã€‚è¿™æ ·åšæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p><ol><li>æ‰€è®°çš„æ•°å­—æŒ‡æ ‡æœ¬èº«ï¼Œå¾ˆå¤§ç¨‹åº¦å·²ç»æ¶µç›–äº†è¿™ä¸ªä¸šåŠ¡ä»·å€¼æ–¹å‘ï¼Œä½ ä¾¿çŸ¥é“äº†è¿™ä¸ªä¸šåŠ¡é‡ç‚¹å…³æ³¨çš„æ˜¯å“ªä¸ªç»´åº¦çš„ä¸œè¥¿</li><li>è¿™äº›æ•°å­—å¯ä»¥ä½œä¸ºå’Œä¸šåŠ¡æ–¹ä»¥åŠäº§å“â€œå¹³ç­‰å¯¹è¯â€çš„æºå¤´ï¼Œå¦åˆ™è¿æœ€åŸºæœ¬çš„å¯¹è¯åŸºç¡€éƒ½æ²¡æœ‰</li></ol><h3 id="2-4-5-ä»æ—¥å¸¸éœ€æ±‚å…¥æ‰‹"><a href="#2-4-5-ä»æ—¥å¸¸éœ€æ±‚å…¥æ‰‹" class="headerlink" title="2.4.5 ä»æ—¥å¸¸éœ€æ±‚å…¥æ‰‹"></a>2.4.5 ä»æ—¥å¸¸éœ€æ±‚å…¥æ‰‹</h3><p>å¯¹äºé¡¹ç›®ä¸­çš„éœ€æ±‚ï¼Œæˆ‘ä»¬è¦å°è¯•åˆ†æèƒŒåçš„ç›®çš„å’Œä»·å€¼ï¼Œåšäº†ä¹‹åæœ‰ä»€ä¹ˆé¢„æœŸçš„æ”¶ç›Šï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšå°±å¯ä»¥è¾¾åˆ°è¿™ä¸ªæ”¶ç›Šï¼Œè·Ÿæ€»ä½“ç›®æ ‡æ˜¯å¦å¥‘åˆï¼Œè¿˜è¦åˆ¤æ–­ä¸šåŠ¡æ–¹æåˆ°çš„ç‚¹æ˜¯ä¸æ˜¯æœ‰æ•ˆçš„æ–¹æ¡ˆæˆ–è€…è¯´æˆæœ¬å¤ªå¤§çš„æ–¹æ¡ˆï¼Œçœ‹èƒ½ä¸èƒ½ç»™å‡ºæ›¿ä»£æ–¹æ¡ˆï¼Œç”¨ç°æœ‰çš„æ–¹æ¡ˆæˆ–è€…å°æˆæœ¬çš„æ–¹å¼æ¥æ»¡è¶³ä¸šåŠ¡æ–¹ã€‚<br>è€Œåœ¨é¡¹ç›®ææµ‹ä¸Šçº¿åï¼Œè¿˜è¦ä»”ç»†åˆ†æä»¥åŠå¤šå…³æ³¨ä¸Šçº¿ä¹‹åçš„ä¸šåŠ¡æ•°æ®å’Œæ•ˆæœï¼Œä¼šæœ‰å¦‚ä¸‹å¥½å¤„ï¼š</p><ol><li><p>æé«˜è‡ªå·±å¯¹ä¸šåŠ¡çš„ç†è§£èƒ½åŠ›ï¼Œä½ åœ¨å…³æ³¨ä¸šåŠ¡æ•°æ®çš„åŒæ—¶ï¼Œä¹Ÿå°±ä¼šæ›´å¤šçš„ä»ä¸šåŠ¡çš„è§’åº¦æ¥çœ‹åˆ°è¿™ä¸ªåŠŸèƒ½æ‰€å¸¦æ¥çš„ä»·å€¼æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œå½“å‡ºç°ä¸ç¬¦åˆé¢„æœŸçš„æ—¶å€™ï¼Œå¯ä»¥å’Œä¸šåŠ¡æ–¹ä¸€èµ·è¿›è¡Œæ•°æ®æ¼æ–—çš„åˆ†æä»è€Œæ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼Œé¿å…æˆ‘ä»¬çš„åŠ³åŠ¨æˆæœæˆä¸ºä¸€æ¬¡æ€§çš„å·¥ä½œã€‚</p></li><li><p>æ€»ç»“çš„åŒæ—¶å¯ä»¥å¸®åŠ©è‡ªå·±æ¢³ç†è¿™ä¸ªé¡¹ç›®ä¸­è‡ªå·±å“ªäº›åœ°æ–¹åšçš„ä¸è¶³ï¼Œæˆ–è€…ç›¸å…³æ¨è¿›ä¸­å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Œä»¥åŠåé¢æ€ä¹ˆæ”¹è¿›ï¼Œæé«˜äº†ä¸‹æ¬¡é¡¹ç›®ä¸­çš„è¿­ä»£æ•ˆç‡å’Œè´¨é‡ã€‚æ¯”å¦‚è¿™ä¸ªé¡¹ç›®æ˜¯å¦å­˜åœ¨éœ€æ±‚ç†è§£ä¸åˆ°ä½å­˜åœ¨è¿”å·¥ï¼Œæˆ–è€…æ²Ÿé€š &amp; è”è°ƒä½æ•ˆï¼Œç¯å¢ƒä¸ç¨³å®šï¼Œè‡ªå·±è®¾è®¡çš„æ–¹æ¡ˆæ˜¯å¦åˆç†ç­‰é—®é¢˜ï¼Œåç»­è¦æ€ä¹ˆè§£å†³ã€‚</p></li><li><p>ä¹Ÿå¯ä»¥ä»æ•°æ®å’Œæ€»ç»“ä¸­åˆ¤æ–­å‡ºä»€ä¹ˆæ ·çš„éœ€æ±‚æ˜¯é è°±çš„ &amp; ä»€ä¹ˆçš„æ ·ä¸šåŠ¡æ–¹æ˜¯é è°±çš„ï¼Œé¢‘ç¹äº‰å–èµ„æºä¸Šçº¿æ•ˆæœåˆä¸å¥½çš„ä¸šåŠ¡æ–¹ï¼Œä¸‹æ¬¡å†æœ‰éœ€æ±‚è¿‡æ¥åˆ™éœ€è¦å¤šå¢åŠ ä¸€ä¸ªå¿ƒçœ¼å’Œæ€è€ƒçš„è¿‡ç¨‹ã€‚</p></li></ol><h3 id="2-4-6-åšæŒ"><a href="#2-4-6-åšæŒ" class="headerlink" title="2.4.6 åšæŒ"></a>2.4.6 åšæŒ</h3><p>ä¸šåŠ¡æ€è€ƒåŠ›ï¼Œæ²¡æœ‰ä¸ªè‡³å°‘åŠå¹´æ˜¯ä¸ä¼šè§æ•ˆçš„</p><h2 id="3-åŠ©åŠ›ä¸šåŠ¡"><a href="#3-åŠ©åŠ›ä¸šåŠ¡" class="headerlink" title="3. åŠ©åŠ›ä¸šåŠ¡"></a>3. åŠ©åŠ›ä¸šåŠ¡</h2><h3 id="3-1-æ€è€ƒ"><a href="#3-1-æ€è€ƒ" class="headerlink" title="3.1 æ€è€ƒ"></a>3.1 æ€è€ƒ</h3><p>å°½ç®¡å¹³æ—¶çš„ä¸šåŠ¡å¾ˆå¿™ï¼Œ<strong>ä½†å†å¿™ï¼Œä¹Ÿè¦æŠ½æ—¶é—´æ€è€ƒ</strong>ï¼Œé‚£ä¹ˆæ€è€ƒå“ªäº›å†…å®¹å‘¢ï¼Ÿä»¥ä¸‹ä¸¾ä¸€äº›ä¾‹å­ï¼š</p><ol><li><p>å…»æˆæ¯å¤©è®°å·¥ä½œå†…å®¹çš„ä¹ æƒ¯ï¼Œåˆ†æä¸€ä¸‹è‡ªå·±çš„æ—¶é—´åˆ°åº•è€—åœ¨å“ªäº†</p></li><li><p>åœ¨ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæœ‰é‡åˆ°è®©ä½ ç‰¹åˆ«æƒ³åæ§½çš„ç‚¹å—ï¼Ÿæƒ³ä¸‹é—®é¢˜èƒŒåçš„åŸå› ï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥é¿å…ä¸‹æ¬¡ä¸çŠ¯ï¼Œèƒ½ä¸èƒ½æç‚¼ä¸ºæ›´åŠ é€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå…¶ä»–åŒå­¦æ€ä¹ˆè§£å†³çš„ï¼Œæˆ‘å¯ä»¥æ€ä¹ˆè§£å†³ï¼Ÿ</p></li><li><p>ä¸æ–­åœ°è¾“å…¥ã€è§‚å¯Ÿï¼Œä¸šåŠ¡çš„çœŸå®éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿç«™åœ¨ä¸šåŠ¡æ–¹çš„è§’åº¦æ€è€ƒï¼Œä¸šåŠ¡é‡åˆ°çš„ç—›ç‚¹ã€æŒ‘æˆ˜åœ¨å“ªé‡Œï¼Ÿ</p></li></ol><h3 id="3-2-æ²Ÿé€š"><a href="#3-2-æ²Ÿé€š" class="headerlink" title="3.2 æ²Ÿé€š"></a>3.2 æ²Ÿé€š</h3><p>å’Œè€æ¿ã€å›¢é˜ŸåŒå­¦ã€ä¸šåŠ¡æ–¹å¯¹ç„¦ï¼Œç¡®è®¤â€œæˆ‘æƒ³åšçš„â€æ˜¯ä¸æ˜¯â€œå¤§å®¶æƒ³è¦çš„â€ï¼Ÿ<br>ä½ å¯èƒ½ä¼šæå‡ºå¾ˆå¤šæ„è§ï¼Œä½†ä¸€èˆ¬ä¼šé­åˆ°è€æ¿æˆ–è€…ä¸šåŠ¡æ–¹æ— æƒ…çš„æ‹’ç»ï¼Œè€Œä¸”é—®å¾—ä½ ä¸€è„¸æ‡µé€¼ï¼Œå°±æ¯”å¦‚ï¼š</p><ol><li>å½“å‰ä¸šåŠ¡èƒŒæ™¯ä¸‹ï¼Œä¸ºä»€ä¹ˆè¦åšï¼Ÿï¼ˆæœ‰ä»€ä¹ˆä¸šåŠ¡ä»·å€¼ï¼Ÿæœ‰ä»€ä¹ˆæŠ€æœ¯ä»·å€¼ï¼Ÿï¼‰</li><li>ç°åœ¨å¿…é¡»åšä¹ˆï¼Ÿ</li><li>ä¸ºä»€ä¹ˆæ˜¯ä½ åšï¼Ÿ</li><li>æ€ä¹ˆåšï¼Ÿï¼ˆä½“ç³»åŒ–ã€å…¨é“¾è·¯ã€å•ç‚¹æŠ€æœ¯æŒ‘æˆ˜ï¼‰</li><li>æœ‰ä»€ä¹ˆä¸šåŠ¡å’ŒæŠ€æœ¯ç»“æœï¼Ÿèƒ½å¦è¢«å¤ç”¨ï¼Ÿ</li><li>æœªæ¥è§„åˆ’ï¼ˆèƒ½å¦è·ŸBUæˆ–é›†å›¢çš„æ–¹æ¡ˆè”åŠ¨ã€å…±å»ºï¼‰</li></ol><p>è€Œè¿™å¾€å¾€æ˜¯å› ä¸ºä½ æå‡ºè¦åšçš„äº‹æƒ…ï¼Œæœ‰ä»·å€¼ä½†ä¸æ˜¯å¿…é¡»åšçš„ï¼Œæ²¡æœ‰ç»“åˆç›®å‰ä¸šåŠ¡éœ€è¦ä»€ä¹ˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æƒ³åšçš„æŠ€æœ¯æ˜¯ä¸ªäººå’Œçº¯æŠ€æœ¯è§’åº¦æ€è€ƒçš„ï¼Œæ²¡æœ‰åŸºäºä¸šåŠ¡çš„ç°çŠ¶å’Œç—›ç‚¹å»è€ƒè™‘æŠ€æœ¯æ–¹æ¡ˆï¼Œä¸æ¥åœ°æ°”ï¼ŒæŠ•å…¥äº§å‡ºæ¯”ä¸é«˜ã€‚<br>æ‰€ä»¥ç»™æŠ€æœ¯äº§å‡ºå…ˆæ‰¾å¥½ä¸šåŠ¡çš„é˜µåœ°ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰å¯ä»¥å€ŸåŠ›çš„åœ°æ–¹ï¼Œä¸è¦é‡å¤é€ è½®å­ã€‚å¿«é€ŸéªŒè¯è¿™ä¸ªæ–¹å‘çš„æ­£ç¡®æ€§åï¼Œå†é€æ¸å¤šåŠ æŠ•å…¥ã€ä¸°æ»¡æŠ€æœ¯è®¾è®¡ã€‚ä¸è¦è‡ªå·±YYã€é»˜é»˜åœ°åšå®Œï¼Œè¿™æ ·åšå‡ºæ¥çš„ä¸œè¥¿æ²¡æœ‰ä¸šåŠ¡åœºæ™¯åŸ‹å•ã€‚</p><h3 id="3-3-æŠ€æœ¯è§„åˆ’"><a href="#3-3-æŠ€æœ¯è§„åˆ’" class="headerlink" title="3.3 æŠ€æœ¯è§„åˆ’"></a>3.3 æŠ€æœ¯è§„åˆ’</h3><p>ä¸šåŠ¡èµ‹èƒ½å…¶å®æ˜¯éœ€è¦æˆ‘ä»¬ç´§è´´ä¸šåŠ¡è§„åˆ’ï¼Œåˆ¶å®šæŠ€æœ¯è§„åˆ’å’Œæ–¹æ¡ˆã€‚åœ¨äº†è§£ä¸šåŠ¡æ–¹ä»Šå¹´çš„ KPI é‡ç‚¹æ˜¯ä»€ä¹ˆï¼Œé¢„è®¡çš„æ‹†è§£å’Œå®ç°è·¯å¾„æ˜¯ä»€ä¹ˆåï¼Œå†ç»“åˆè‡ªå·±çš„å’Œå›¢é˜Ÿæƒ…å†µï¼Œæƒ³æƒ³è‡ªå·±èƒ½åšå“ªäº›äº‹æƒ…æ¥å¸®åŠ©ä¸šåŠ¡å®ç°å…¶ KPIï¼Œè¿™é‡Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ä¸‹ï¼š</p><p><strong>æŠ“ä½æœ¬è´¨ä»ç‚¹åŠé¢ï¼Œé€šç›˜è€ƒè™‘:</strong> å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æ”¶åˆ°çš„ç—›ç‚¹å’Œä¸šåŠ¡éœ€æ±‚éƒ½æ˜¯å•ç‚¹çš„ï¼Œè¿™æ—¶æˆ‘ä»¬ä¸èƒ½ç€çœ¼äºçœ¼å‰çš„å•ç‚¹é—®é¢˜ï¼Œè€Œéœ€è¦é€šç›˜æ¥è€ƒè™‘ï¼Œæ¯”å¦‚SEOçš„é¡µé¢å¯¹æ€§èƒ½éå¸¸æ•æ„Ÿï¼Œç»å¸¸å¯èƒ½ä¼šæ”¶åˆ°ä¸€äº›ä¸šåŠ¡æ–¹æ¥åé¦ˆï¼Œè¯´ç›®å‰æˆ‘ä»¬çš„SEOæœ‰è¿™ä¸ªåœ°æ–¹ï¼Œé‚£ä¸ªåœ°æ–¹éœ€è¦ä¼˜åŒ–ä¸‹ï¼Œè€Œå•ç‚¹è§£å†³è¿™äº›é—®é¢˜å¯èƒ½å¯¹ä¸šåŠ¡å¸¦æ¥çš„æ”¶ç›Šå¹¶ä¸å¤§ï¼Œå¯¹è‡ªå·±çš„æŠ€èƒ½ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæˆé•¿ã€‚è¿™æ—¶å€™å¦‚æœé€šç›˜è€ƒè™‘è¿™ä¸ªå‘½é¢˜ï¼Œå…¶å®ä¼šå‘ç°åšSEOé¡µé¢çš„ä¼˜åŒ–ï¼Œå…¶å®ç›®çš„æ˜¯ä¸ºäº†æå‡SEOé¡µé¢çš„æ”¶å½•å’Œæ’åã€‚è€Œæå‡SEOé¡µé¢çš„æ”¶å½•å’Œæ’åå…¶å®ä¸ä»…æœ‰å‰ç«¯æ€§èƒ½ä¼˜åŒ–è¿™ä¸€ä¸ªè·¯å¾„ï¼Œè€Œæ˜¯è¿˜æœ‰ä¸€äº›å…¶ä»–çš„è·¯å¾„ï¼šæ¯”å¦‚ä¼˜åŒ–å…³é”®è¯&amp;é•¿å°¾è¯ï¼Œé‡‡ç”¨Googleçš„AMPæŠ€æœ¯æ”¹é€ SEOé¡µé¢ï¼Œä¼˜åŒ–çˆ¬è™«çˆ¬å–é¡µé¢çš„è€—æ—¶æå‡çˆ¬å–ç‡ç­‰ç­‰ã€‚è¿™æ ·å°±èƒ½å§ç‚¹çš„é—®é¢˜è½¬åŒ–ä¸ºé¢çš„é—®é¢˜ï¼Œæ‰èƒ½åˆ¶å®šæ›´æœ‰æ•ˆå’Œå…¨é¢çš„æŠ“æ‰‹æ¥èµ‹èƒ½ä¸šåŠ¡ã€‚</p><p><strong>æ—¢è¦è§£å†³çœ¼å‰ç—›ç‚¹ï¼Œä¹Ÿè¦é•¿è¿œè°‹åˆ’:</strong> å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸èƒ½ä»…æ»¡è¶³äºçœ¼å‰çš„KPIï¼Œè¿˜éœ€è¦äº†è§£ä¸šåŠ¡æ–¹é•¿è¿œçš„æƒ³æ³•å’Œå¯ä»¥é¢„è§çš„è§„åˆ’ã€‚å°±æ¯”å¦‚è¯•ç‚¹çš„æ–°ä¸šåŠ¡ï¼Œä¸€å±‚è§„åˆ’æ˜¯ä¿è¯ä¸šåŠ¡é¡¹ç›®çš„æŒ‰æ—¶ä¸Šçº¿ï¼Œè€ƒè™‘åˆ°æœªæ¥ï¼Œå¦ä¸€å±‚è§„åˆ’å¯èƒ½å°±æ˜¯å¦‚ä½•åšåˆ°æŠ€æœ¯æ–¹æ¡ˆçš„å¯ä»¥å¤åˆ¶æ€§ã€‚</p><h3 id="3-4-ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š"><a href="#3-4-ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š" class="headerlink" title="3.4 ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š"></a>3.4 ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š</h3><p>å½“ä½ éœ€è¦åˆ¶å®šä¸€ä¸ªäº§å“åŒ–çš„æ–¹æ¡ˆæˆ–è€…å·¥å…·å’Œæ¡†æ¶çš„æ—¶å€™ï¼Œæœ€å¥½å…ˆæ”¾çœ¼é›†å›¢å†…éƒ¨å’Œè¡Œä¸šè¿›è¡Œä¸€ç•ªè°ƒç ”ï¼Œçœ‹çœ‹ä¸šç•Œå’Œå…¶ä»–åŒäº‹æ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚å°½é‡ç«™åœ¨åˆ«äººçš„è‚©è†€ä¸Šåšå‡ºåˆ›æ–°æˆ–è€…å‚ä¸å…±å»ºï¼Œé¿å…å°å›¢é˜Ÿå†…é€ å‡ºé‡å¤å’Œè´¨é‡ä½çš„è½®å­</p><h2 id="4-æŠ€æœ¯æ·±åº¦"><a href="#4-æŠ€æœ¯æ·±åº¦" class="headerlink" title="4. æŠ€æœ¯æ·±åº¦"></a>4. æŠ€æœ¯æ·±åº¦</h2><h3 id="4-1-æŠ€æœ¯çŸ¥è¯†ä¸æŠ€æœ¯èƒ½åŠ›"><a href="#4-1-æŠ€æœ¯çŸ¥è¯†ä¸æŠ€æœ¯èƒ½åŠ›" class="headerlink" title="4.1 æŠ€æœ¯çŸ¥è¯†ä¸æŠ€æœ¯èƒ½åŠ›"></a>4.1 æŠ€æœ¯çŸ¥è¯†ä¸æŠ€æœ¯èƒ½åŠ›</h3><p>â€œæŠ€æœ¯â€ä¸èƒ½æ˜¯ä¸€ä¸ªç¬¼ç»Ÿçš„è¯æ±‡ï¼Œæˆ‘æƒ³å®ƒè‡³å°‘å¯ä»¥åˆ†ä¸ºâ€œæŠ€æœ¯çŸ¥è¯†â€å’Œâ€œæŠ€æœ¯èƒ½åŠ›â€ä¸¤å¤§éƒ¨åˆ†ã€‚<br>ä»€ä¹ˆæ˜¯â€œæŠ€æœ¯çŸ¥è¯†â€ï¼ŸçŸ¥è¯†å°±æ˜¯ I KNOW</p><ul><li>ã€ŠTypeScript ä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹</li><li>ã€ŠReact ä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹</li><li>ã€ŠWebpack ä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹</li><li>â€¦â€¦</li></ul><p>ä»€ä¹ˆæ˜¯â€œæŠ€æœ¯èƒ½åŠ›â€ï¼Ÿèƒ½åŠ›å°±æ˜¯ I CAN</p><ul><li>æˆ‘ç”¨ TypeScript é‡æ„äº†ä¸€ä¸ªå¤§å‹ç³»ç»Ÿï¼Œä»£ç å¥å£®æ€§åŠç ”å‘æ•ˆç‡å¤§å¹…æå‡ã€‚</li><li>æˆ‘ç”¨ React Hooks ç»™å…¨æ ˆåŒå­¦è¿›è¡Œå‰ç«¯åŸ¹è®­ï¼ŒåŸ¹è®­æ•ˆæœå¤§å¹…æå‡ã€‚</li><li>æˆ‘æ·±å…¥ç ”ç©¶äº† Webpackï¼Œä¼˜åŒ–é…ç½®ï¼Œä½¿å¾—ç³»ç»Ÿæ„å»ºé€Ÿåº¦å¤§å¹…æå‡ã€‚<br>â€¦..</li></ul><h3 id="4-2-åŸ¹å…»æŠ€æœ¯è§†é‡"><a href="#4-2-åŸ¹å…»æŠ€æœ¯è§†é‡" class="headerlink" title="4.2 åŸ¹å…»æŠ€æœ¯è§†é‡"></a>4.2 åŸ¹å…»æŠ€æœ¯è§†é‡</h3><ol><li>å…³æ³¨æ—¥å¸¸ä¸šç•Œæ–°æŠ€æœ¯ã€‚ä¸ä¸€å®šè¦æ·±å…¥äº†è§£ï¼Œä½†å¯¹æ–°æŠ€æœ¯ä¿æŒå¥½å¥‡å¿ƒï¼Œå¤§æ¦‚äº†è§£å®ƒæ˜¯åšä»€ä¹ˆçš„ï¼Œå¦‚æœåœ¨å·¥ä½œä¸­é‡åˆ°åŒ¹é…çš„è½åœ°ç¯å¢ƒï¼Œå¯ä»¥è€ƒè™‘å†™ä¸ª demo çœ‹çœ‹æ˜¯ä¸æ˜¯æœ‰ä»·å€¼</li><li>å…³æ³¨é›†å›¢å’Œä¸šç•Œçš„è§£å†³æ–¹æ¡ˆã€‚åœ¨ä¸šåŠ¡ä¸­å‘ç°é—®é¢˜ï¼Œåšè§£å†³æ–¹æ¡ˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“é™·å…¥è‡ªå·±çš„è®¾è®¡ä¸­ï¼Œä¸€è„‘å­åœ°æƒ³æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½è‡ªå·±åšå‡ºæ¥ï¼Œä½†æŠ•å…¥ä¼šéå¸¸å¤§ï¼Œäº§å‡ºçš„ä»·å€¼æ˜¯å¦ä¸€æ ·å¤§å‘¢ï¼Ÿä¸çŸ¥é“ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ æƒ³åšçš„ï¼Œåœ¨ATAèƒ½æœåˆ°ï¼Œå‰äººè¸©çš„å‘ï¼Œæˆ–è€…å·²æœ‰çš„æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œåªè¦ä½ å»æ²Ÿé€šå»æ¥è§¦ï¼Œå°±å¯ä»¥è½»æ¾åœ°æ¥è¿›æ¥ï¼Œä¸ºä»€ä¹ˆè¦èŠ±å¤§é‡çš„æ—¶é—´å»é€ è½®å­å‘¢ï¼Ÿå¯ä»¥å€ŸåŠ›çš„åœ°æ–¹ï¼Œå°±å»å€ŸåŠ›å§ï¼ŒæŠŠæ—¶é—´å‰©ä¸‹æ¥ï¼Œåšä½ çš„è§£å†³æ–¹æ¡ˆä¸­æ›´æ ¸å¿ƒæ›´æœ‰ä»·å€¼çš„äº‹æƒ…ã€‚</li></ol><h3 id="4-3-æŠ€æœ¯æ·±åº¦"><a href="#4-3-æŠ€æœ¯æ·±åº¦" class="headerlink" title="4.3 æŠ€æœ¯æ·±åº¦"></a>4.3 æŠ€æœ¯æ·±åº¦</h3><p>ä¸€èŠåˆ°â€œæŠ€æœ¯æ·±åº¦â€ï¼Œå¯èƒ½å¾ˆè‡ªç„¶åœ°ä¼šè®¤ä¸ºæ˜¯åœ¨æŸé¡¹æŠ€æœ¯ä¸ŠæŒ–å¾—å¾ˆæ·±ï¼Œæˆ–è€…è§£å†³äº†ä¸€ä¸ªä¸šç•Œå…¬è®¤éš¾åº¦å¾ˆé«˜çš„æŠ€æœ¯éš¾é¢˜ï¼Œä½†è¿™åªæ˜¯â€œæŠ€æœ¯æ·±åº¦â€çš„å…¶ä¸­ä¸€éƒ¨åˆ†ï¼š</p><ol><li>ä½“ç³»åŒ– / ç³»ç»ŸåŒ–<br>ä½“ç³»åŒ–æ€ç»´æ˜¯è®¤è¯†äº‹ç‰©çš„ä¸€ç§æ–¹å¼ï¼Œåœ¨é¢å¯¹é—®é¢˜çš„æ—¶å€™ï¼Œèƒ½å¤Ÿé’ˆå¯¹å¤æ‚çš„é—®é¢˜ï¼Œåˆ—å‡ºå…³é”®çš„è¦ç´ å’Œè§£å†³æ–¹æ³•ï¼Œå°†æ•£ä¹±æ— åºçš„é—®é¢˜ï¼Œå˜å¾—é€»è¾‘æ¸…æ™°ï¼Œæœ‰ç« å¯å¾ªã€‚<br>åœ¨é—®é¢˜çš„å®šä½å’Œè§£å†³çš„ä½“ç°ï¼Œä»è¡¨è±¡åˆ°æœ¬è´¨ï¼Œæ‹†è§£å‡ºé€ æˆé—®é¢˜èƒŒåçš„åŸå› ï¼Œé’ˆå¯¹æ€§åœ°å»è§£å†³æœ¬è´¨çš„åŸå› ï¼Œè€Œéæ²»æ ‡ä¸æ²»æœ¬ï¼Œæœ‰è§£å†³æ–¹æ¡ˆæœ‰èŠ‚å¥åœ°è§£å†³ã€‚</li><li>å…¨é“¾è·¯<br>é™¤äº†å‰ç«¯çš„éƒ¨åˆ†ï¼Œå‘å‰å‘åçš„æŠ€æœ¯æ ˆï¼Œè¿˜èƒ½æŒ–å¤šæ·±ã€‚</li><li>å•ç‚¹æŠ€æœ¯æŒ‘æˆ˜<br>åœ¨æŸä¸ªæŠ€æœ¯æŒ‘æˆ˜ä¸Šï¼Œä½ çš„æ€è€ƒå’Œè§£å†³æ–¹æ¡ˆæ˜¯æ€æ ·çš„ã€‚</li></ol><h3 id="4-4-æŠ€æœ¯ä¸ä¸šåŠ¡å…±èµ¢"><a href="#4-4-æŠ€æœ¯ä¸ä¸šåŠ¡å…±èµ¢" class="headerlink" title="4.4 æŠ€æœ¯ä¸ä¸šåŠ¡å…±èµ¢"></a>4.4 æŠ€æœ¯ä¸ä¸šåŠ¡å…±èµ¢</h3><p>çœŸæ­£æœ‰çªç ´æ€§çš„ã€å¸¦æ¥é‡å¤§ä»·å€¼çš„ä¸šåŠ¡æˆæœå¿…ç„¶ä¼´éšç€æŠ€æœ¯ä¸Šçš„æ·±å…¥ä¹ƒè‡³åˆ›æ–°ï¼Œæ‰€ä»¥åœ¨åšä¸šåŠ¡æˆæœçš„æ—¶å€™ï¼Œä¸€å®šä¼šæœ‰è®©æˆ‘ä»¬å¢åŠ æŠ€æœ¯æ·±åº¦çš„åœºæ™¯ã€‚</p><h2 id="5-ç»™ä½ æ›´å¤šä½“æ„Ÿ"><a href="#5-ç»™ä½ æ›´å¤šä½“æ„Ÿ" class="headerlink" title="5. ç»™ä½ æ›´å¤šä½“æ„Ÿ"></a>5. ç»™ä½ æ›´å¤šä½“æ„Ÿ</h2><p>åŸ¹å…»ä¸šåŠ¡æ„Ÿç¡®å®æ˜¯ä¸€ä»¶éå¸¸æœ‰éš¾åº¦çš„äº‹æƒ…ï¼Œä»–è¦æ±‚ä½ ä»¥ä¸šåŠ¡è€ŒéæŠ€æœ¯ä¸ºç¬¬ä¸€è§†è§’ï¼Œè¿™å¯èƒ½è¿èƒŒäº†å¾ˆå¤šäººå†…å¿ƒçš„â€œæŠ€æœ¯åšæŒâ€ï¼Œä½†å¦‚æœä¸€ç›´åšæŠ€æœ¯ï¼Œå…¶å®æ˜¯å¾ˆéš¾æœ‰éå¸¸å¤§çš„çªç ´çš„ï¼Œåœ¨å·¥ä½œä¸­ï¼Œå¦‚æœèƒ½å®ç°æŠ€æœ¯ä¸ä¸šåŠ¡å…±èµ¢ï¼Œå°†ä¼šåŠ©åŠ›ä½ åˆ°è¾¾æ›´é«˜çš„é«˜åº¦ã€‚</p><p>æ”¹å˜çš„ç¡®å¾ˆéš¾ï¼Œä½†ç»“æœå€¼å¾—å†’é™©ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ä¸šåŠ¡ </tag>
            
            <tag> æŠ€æœ¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°ç¨‹åºé«˜æ€§èƒ½æ‰“é€ ä¹‹è·¯</title>
      <link href="posts/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%AB%98%E6%80%A7%E8%83%BD%E6%89%93%E9%80%A0%E4%B9%8B%E8%B7%AF/"/>
      <url>posts/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%AB%98%E6%80%A7%E8%83%BD%E6%89%93%E9%80%A0%E4%B9%8B%E8%B7%AF/</url>
      
        <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5e7d4487e51d4546d83af560">åŸæ–‡é“¾æ¥</a></p><p>å°ç¨‹åºé¡µé¢çš„æ ‡å‡†</p><ul><li>æè‡´çš„é¡µé¢æ€§èƒ½</li><li>å‹å¥½çš„äº§å“ä½“éªŒ</li><li>ç¨³å®šçš„ç³»ç»ŸæœåŠ¡</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Macå¿«é€Ÿæ­å»ºå¼€å‘ç¯å¢ƒ</title>
      <link href="posts/Mac%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
      <url>posts/Mac%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<p>å› ä¸ºç¬”è®°æœ¬ç”µæ± åäº†ï¼Œè¦é€æœºç»´ä¿®ï¼Œç”¨äº†åŠå¤©æ—¶é—´å¿«é€Ÿæ¢ç”µè„‘ä»0æ­å»ºå¾—å¿ƒåº”æ‰‹çš„å¼€å‘ç¯å¢ƒã€‚ç‰¹è®°å½•ç•™å¿µã€‚</p><h2 id="Macé”®ç›˜è®¾ç½®"><a href="#Macé”®ç›˜è®¾ç½®" class="headerlink" title="Macé”®ç›˜è®¾ç½®"></a>Macé”®ç›˜è®¾ç½®</h2><p>ç³»ç»Ÿè®¾ç½®-&gt; é”®ç›˜-&gt; è°ƒåˆ°æœ€å¿«</p><h2 id="Git-åˆå§‹åŒ–"><a href="#Git-åˆå§‹åŒ–" class="headerlink" title="Git åˆå§‹åŒ–"></a>Git åˆå§‹åŒ–</h2><p>å…ˆåˆ›å»ºç›®å½•</p><p>mkdir /Users/zjp(æ­¤å¤„ä¸ºç”µè„‘ç”¨æˆ·å)/.ssh</p><p>å°†åŸæ¥ç”µè„‘é‡Œçš„ known_hostsï¼Œid_rsa.pubï¼Œ id_rsaæ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹å³å¯ ç”¨gitå‘½ä»¤</p><a id="more"></a><h2 id="Git-å‘½ä»¤å¿«æ·æ–¹å¼"><a href="#Git-å‘½ä»¤å¿«æ·æ–¹å¼" class="headerlink" title="Git å‘½ä»¤å¿«æ·æ–¹å¼"></a>Git å‘½ä»¤å¿«æ·æ–¹å¼</h2><p>bdgp</p><p>åœ¨ ~/.oh-my-zsh/plugins/gitçš„ git.plugin.zshæ–‡ä»¶æœ«å°¾æ·»åŠ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">bdgp</span></span>() &#123;</span><br><span class="line"> <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$#</span>&quot;</span> != 0 ]] &amp;&amp; [[ <span class="string">&quot;<span class="variable">$#</span>&quot;</span> != 1 ]]; <span class="keyword">then</span></span><br><span class="line"> git push origin head:refs/<span class="keyword">for</span>/<span class="string">&quot;<span class="variable">$&#123;*&#125;</span>&quot;</span></span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line"> [[ <span class="string">&quot;<span class="variable">$#</span>&quot;</span> == 0 ]] &amp;&amp; <span class="built_in">local</span> b=<span class="string">&quot;<span class="subst">$(git_current_branch)</span>&quot;</span></span><br><span class="line"> git push origin head:refs/<span class="keyword">for</span>/<span class="string">&quot;<span class="variable">$&#123;b:=$1&#125;</span>&quot;</span></span><br><span class="line"> <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="homebrew-å®‰è£…åœ°å€"><a href="#homebrew-å®‰è£…åœ°å€" class="headerlink" title="homebrew å®‰è£…åœ°å€"></a>homebrew å®‰è£…åœ°å€</h2><p>å› ä¸ºHomeBrewå®˜ç½‘æä¾›çš„å®‰è£…åŠæ³•ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥æ”¹ç”¨ä»¥ä¸‹æ–¹æ³•ï¼Œç®€ä»‹å¥½ç”¨ï¼Œå¼ºçƒˆæ¨èï¼ï¼ï¼<br><a href="https://zhuanlan.zhihu.com/p/111014448">çŸ¥ä¹é“¾æ¥</a><br>ç„¶åå°±å¯ä»¥æ­£å¸¸å®‰è£…æ’ä»¶</p><p>å„ä¸ªæ’ä»¶çš„å®‰è£…è¦æ ¹æ®æ¯ä¸ªæ’ä»¶çš„å®‰è£…æŒ‡å—å¯¹åº”å®‰è£…</p><h2 id="iTerm2ä¸‹è½½"><a href="#iTerm2ä¸‹è½½" class="headerlink" title="iTerm2ä¸‹è½½"></a>iTerm2ä¸‹è½½</h2><p>å› ä¸ºç½‘é€ŸåŸå› ä¸‹è½½æœ€æ–°ç‰ˆä¼šç‰¹åˆ«æ…¢<br><a href="https://www.zhinin.com/wp-content/themes/2019_v0.1/down.php?id=25574">ä½ç‰ˆæœ¬ä¸‹è½½é“¾æ¥</a></p><p><strong>ç»éªŒ</strong>ä¸ç”¨ä»å®˜ç½‘ä¸‹è½½ï¼Œç›´æ¥å°†åŸç”µè„‘åº”ç”¨ç¨‹åºé‡Œçš„æ–‡ä»¶å‹ç¼©é€šè¿‡éš”ç©ºä¼ é€å‘é€åˆ°æ–°ç”µè„‘å³å¯ã€‚</p><h3 id="æ’ä»¶å®‰è£…"><a href="#æ’ä»¶å®‰è£…" class="headerlink" title="æ’ä»¶å®‰è£…"></a>æ’ä»¶å®‰è£…</h3><p>è¯¦è§<a href="http://believezjp.oriht.com/posts/iTerm2%E5%AE%8C%E7%BE%8E%E7%9A%84%E7%BB%88%E7%AB%AF%E4%BD%93%E9%AA%8C/">æˆ‘çš„åšå®¢believezjp.oriht.comé“¾æ¥</a><br><strong>Oh-my-zshçš„å®‰è£…éƒ½è¦ç”¨åº“å¯¹åº”çš„æ–¹æ³•å®‰è£…</strong></p><h2 id="å®‰è£…å¸¸ç”¨è½¯ä»¶"><a href="#å®‰è£…å¸¸ç”¨è½¯ä»¶" class="headerlink" title="å®‰è£…å¸¸ç”¨è½¯ä»¶"></a>å®‰è£…å¸¸ç”¨è½¯ä»¶</h2><p>æœç‹—è¾“å…¥æ³•ï¼ˆå¤–è§‚-ç®€çº¦é»‘2ï¼Œå€™é€‰9ä¸ªå­—ï¼‰</p><p>Vscode</p><p>å¾®ä¿¡å¼€å‘è€…å·¥å…·</p><p>ç™¾åº¦å¼€å‘è€…å·¥å…·</p><p>GitKraken(åªèƒ½å®‰è£…6.5.1ç‰ˆæœ¬ä»¥ä¸‹çš„)</p><p>PdfGuru</p><h3 id="vscodeæ’ä»¶å®‰è£…"><a href="#vscodeæ’ä»¶å®‰è£…" class="headerlink" title="vscodeæ’ä»¶å®‰è£…"></a>vscodeæ’ä»¶å®‰è£…</h3><p>ç›´æ¥å®‰è£…Settings SyncåŒæ­¥å³å¯</p><h2 id="Nodeç¯å¢ƒå®‰è£…"><a href="#Nodeç¯å¢ƒå®‰è£…" class="headerlink" title="Nodeç¯å¢ƒå®‰è£…"></a>Nodeç¯å¢ƒå®‰è£…</h2><p>ç›´æ¥å®˜ç½‘ä¸‹å®‰è£…åŒ…</p><h2 id="æ–‡ä»¶å¤‡ä»½"><a href="#æ–‡ä»¶å¤‡ä»½" class="headerlink" title="æ–‡ä»¶å¤‡ä»½"></a>æ–‡ä»¶å¤‡ä»½</h2><p>æ‰“å¼€Finderé‡Œçš„å„ä¸ªç›®å½•æŸ¥çœ‹æ–‡ä»¶ï¼Œå‹ç¼©ä¼ é€æ–°ç”µè„‘å³å¯</p><p>ç„¶åå°±å¯ä»¥ä¸‹ä»£ç å¼€å§‹æ¬ç –äº†~~</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šæˆ‘ç”Ÿæœ‰æ¶¯æ„¿æ— å°½ã€‹è¯»ä¹¦ç¬”è®°</title>
      <link href="posts/%E3%80%8A%E6%88%91%E7%94%9F%E6%9C%89%E6%B6%AF%E6%84%BF%E6%97%A0%E5%B0%BD%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
      <url>posts/%E3%80%8A%E6%88%91%E7%94%9F%E6%9C%89%E6%B6%AF%E6%84%BF%E6%97%A0%E5%B0%BD%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>æ‘˜è‡ªå¾—åˆ°APP</p><h2 id="æ€æ ·åƒæ¢æ¼±æºŸé‚£æ ·ï¼Œä¾é è‡ªå­¦ï¼Œå»ºç«‹ç‹¬ç«‹çš„æ€æƒ³ä½“ç³»"><a href="#æ€æ ·åƒæ¢æ¼±æºŸé‚£æ ·ï¼Œä¾é è‡ªå­¦ï¼Œå»ºç«‹ç‹¬ç«‹çš„æ€æƒ³ä½“ç³»" class="headerlink" title="æ€æ ·åƒæ¢æ¼±æºŸé‚£æ ·ï¼Œä¾é è‡ªå­¦ï¼Œå»ºç«‹ç‹¬ç«‹çš„æ€æƒ³ä½“ç³»"></a>æ€æ ·åƒæ¢æ¼±æºŸé‚£æ ·ï¼Œä¾é è‡ªå­¦ï¼Œå»ºç«‹ç‹¬ç«‹çš„æ€æƒ³ä½“ç³»</h2><p>æ¢æ¼±æºŸè¯´ï¼Œäººä»¬æ€»ä»¥ä¸ºçŸ¥é“å¾ˆå¤šï¼Œå¤„å¤„æ˜¾å¾—å¾ˆæ¸Šåšæ‰ç®—å­¦é—®ã€‚ <strong>å…¶å®æ¸Šåšå¹¶ä¸ç®—å­¦é—®ã€‚ä»€ä¹ˆæ‰æ˜¯å­¦é—®å‘¢ï¼Ÿæ˜¯èƒ½æŠŠçœ¼å‰çš„é“ç†å’Œææ–™åŠ ä»¥ç³»ç»ŸåŒ–ã€æ·±åˆ»åŒ–ã€‚</strong> ä»–æŠŠè¿™ä¸ªå»ºç«‹ç‹¬ç«‹æ€æƒ³ã€è·å¾—çœŸæ­£å­¦é—®çš„è¿‡ç¨‹ï¼Œåˆ†æˆäº†å…«ä¸ªæ­¥éª¤ã€‚</p><p>ç¬¬ä¸€æ­¥æ˜¯é€šè¿‡ç”¨å¿ƒæ€æ¥å»ºç«‹ä¸»è§ã€‚æ¢æ¼±æºŸè¯´ï¼Œä»€ä¹ˆæ˜¯å“²å­¦çš„é“ç†ï¼Ÿå…¶å®å°±æ˜¯åè§ï¼Œç¾å…¶åæ›°çš„è¯ï¼Œå¯ä»¥è¯´æ˜¯ä¸»è§ã€‚åªè¦æ˜¯å“²å­¦å®¶ï¼Œå°±ä¸€å®šæ˜¯æç«¯çš„ã€‚å“²å­¦å®¶ç”¨å¿ƒæ€åœ°æ€è€ƒé—®é¢˜ï¼Œå¯»æ‰¾èƒ½å¤Ÿè´¯é€šä¸€åˆ‡çš„æ™®éæ€§é“ç†ã€‚åªè¦è¿™ä¸ªä¸»è§å»ºç«‹èµ·æ¥ï¼Œä»–å°±ä¸ä¼šå†æ¥å—æ¨¡æ£±ä¸¤å¯ã€æ··ä¹±çŸ›ç›¾çš„ä¸œè¥¿ï¼Œä¼šåšå®šåœ°æ’æ–¥ä¸åŒè§‚ç‚¹ã€‚<strong>äººé€šè¿‡ç‹¬ç«‹æ€è€ƒè·å¾—çš„ä¸»è§ä¹Ÿè®¸æ˜¯æµ…è–„çš„ï¼Œä½†çºµç„¶æµ…è–„ï¼Œä¹Ÿæ˜¯çœŸæ­£å±äºè‡ªå·±çš„ã€‚</strong> ä»–è¯´ï¼Œèƒ¡é€‚çš„ä¸»è§å°±å¾ˆæµ…ï¼Œä½†å› ä¸ºæ˜¯ä»–ç‹¬ç«‹çš„å¿ƒå¾—ï¼Œè€Œä¸”ç†è®ºäº²åˆ‡åŠ¨äººï¼Œæ‰€ä»¥èƒ½è‡ªæˆä¸€æ´¾ã€‚åˆ«äººä¸è¡Œï¼Œå› ä¸ºè¿æµ…è–„çš„ä¸»è§éƒ½æ²¡æœ‰ã€‚</p><a id="more"></a><p>æœ‰äº†ä¸»è§ä¹‹åï¼Œç¬¬äºŒæ­¥å°±æ˜¯å»æ€è€ƒæ—äººçš„æ„è§ä¸è‡ªå·±ä¸åŒåœ¨å“ªé‡Œï¼Ÿè¿™åé¢éšè—ç€ä»€ä¹ˆé—®é¢˜ï¼Ÿæ¢æ¼±æºŸå¯¹å­¦é—®ä¸¤ä¸ªå­—çš„è§£é‡Šæ˜¯â€œå­¦ç€è®¤è¯†é—®é¢˜â€ã€‚æ¯”è¾ƒç³Ÿç³•çš„å­¦ä¹ æ˜¯ï¼šé“ç†çŸ¥é“äº†ä¸€å¤§å †ï¼Œå´æä¸å‡ºä¸€ä¸ªé—®é¢˜æ¥ã€‚</p><p>æœ€åˆçš„ä¸»è§å’Œé—®é¢˜æ˜¯é€šå¾€æ€æƒ³å’Œå­¦é—®çš„èŒèŠ½ï¼Œæœ‰äº†è¿™ä¸ªèŒèŠ½ï¼Œæ‰èƒ½åœ¨ä¸æ–­çš„å­¦ä¹ ä¸­å¸æ”¶å…»æ–™ï¼Œé•¿å‡ºå­¦é—®çš„å¤§æ ‘ã€‚åœ¨æ­¤ä¹‹åçš„ç¬¬ä¸‰æ­¥ï¼Œå°±èƒ½è¿›å…¥çœŸæ­£çš„è¯»ä¹¦å’Œå­¦ä¹ äº†ã€‚ç»è¿‡äº†ä¹‹å‰çš„è®­ç»ƒï¼Œåœ¨è¯»ä¹¦æ—¶ï¼Œäººä¼šè‡ªç„¶è€Œç„¶åœ°æ³¨æ„åˆ°ä¸ä¸€æ ·çš„è§è§£ï¼Œå‘ç°ä¸èƒ½è§£é‡Šçš„äº‹æƒ…ï¼Œæ€è€ƒå’Œæ¨æ±‚èƒŒåçš„è§£å†³åŠæ³•ï¼Œå¸æ”¶æˆä¸ºçœŸå®çš„çŸ¥è¯†ã€‚</p><p>ç¬¬å››æ­¥ï¼Œæ˜¯å­¦ç„¶åçŸ¥ä¸è¶³ã€‚ç”¨å¿ƒä¹‹åï¼Œä½ è‡ªç„¶å°±çŸ¥é“ï¼Œè‡ªå·±é‚£ä¸€ç‚¹å„¿æµ…æ˜¾çš„è§è¯†ï¼Œæ˜¯ä¸è¶³ä»¥è§£å†³é—®é¢˜çš„ã€‚è¿™å°±åƒæœ¨å¿ƒè¯´è¿‡çš„ä¸€å¥è¯ï¼šâ€œæœ‰äººä¸€çœ‹ä¹¦å°±å–å¼„ï¼Œå¤šçœ‹å‡ éå†å–å¼„å§ã€‚å¤šçœ‹å‡ éå°±ä¸å–å¼„äº†ã€‚â€ æ¢æ¼±æºŸåœ¨ä¸€æ¬¡é¢å‘å“²å­¦ç³»å­¦ç”Ÿçš„è®²æ¼”æ—¶è¯´ï¼šå­¦å“²å­¦åƒä¸‡ä¸è¦è½»æ˜“è¯´è‡ªå·±æ‡‚ã€‚ä½ è¦æ˜¯çœŸæ‡‚äº†æŸæ‹‰å›¾ï¼Œé‚£ä½ å°±ç­‰äºæ˜¯æŸæ‹‰å›¾ã€‚åªæœ‰è‡ªå·±çŸ¥é“è‡ªå·±ä¸æ‡‚ï¼Œæ‰æœ‰å¯èƒ½æ‰¾åˆ°è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚</p><p>å‰é¢è¿™å››æ­¥ï¼Œæ˜¯ä»é—®é¢˜åˆ°å­¦ä¹ ï¼Œå†åˆ°é€æ¸å½¢æˆæ€æƒ³çš„ä¿®ç‚¼è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹é‡Œä¸æ–­æ‰“ç£¨ï¼Œå°±å¯ä»¥æŠŠèŒƒå›´å¾ˆå¹¿çš„çŸ¥è¯†ï¼Œæ”¶é›†æ•´ç†æˆä¸ºä¸€ä¸ªæ€æƒ³ç³»ç»Ÿã€‚åˆ°äº†è¿™ä¸ªæ—¶å€™ï¼Œå°±å¯ä»¥è¿›å…¥ç¬¬äº”æ­¥ï¼šç”±æµ…å…¥æ·±ï¼Œä»¥ç®€åŒ–ç¹ã€‚<strong>æ¢æ¼±æºŸè¯´ï¼Œå‡¡æ˜¯æœ‰ç³»ç»Ÿçš„æ€æƒ³ï¼Œç»è¿‡æ•´åˆå’ŒæŠ½è±¡ï¼Œè¡¨ç°å‡ºæ¥çš„å½¢å¼éƒ½å¾ˆç®€å•ï¼Œä»¿ä½›åªæœ‰ä¸€ä¸¤å¥è¯ã€‚</strong> æœ‰äº›äººè°ˆè®ºå­¦é—®æ—¶å †ç Œä¸€å †åè¯ï¼Œè®ºè¯ç¹å¤ï¼Œæ—å¾åšå¼•ï¼Œå®é™…ä¸Šå´æ²¡æœ‰è‡ªå·±çš„æ€æƒ³ï¼Œå­¦é—®ä¹Ÿæ˜¯ä¸é€šçš„ã€‚</p><p>åä¸‰ä¸ªæ­¥éª¤ï¼Œæ˜¯åˆ¤æ–­æ€æƒ³å’Œå­¦è¯†é«˜åº¦çš„æ ‡å‡†ã€‚ç¬¬å…­æ­¥æ˜¯è¿ç”¨è‡ªå¦‚ã€‚æœ‰åˆ™ç¦…å®—æ•…äº‹è¯´ï¼Œä¸€ä½ç¦…å¸ˆå¯¹äººè®²ï¼šâ€œä½ ä»¬æœ‰ä¸€è½¦å…µå™¨ï¼Œæ‹¿å‡ºä¸€ä»¶åˆä¸€ä»¶ï¼Œå´ä¸ä¼šä½¿ç”¨ã€‚è€åƒ§è™½ç„¶åªæœ‰å¯¸é“ï¼Œä¾¿èƒ½æ€äººã€‚â€å› ä¸ºè¿™å¯¸é“å°±æ˜¯ä»–è‡ªå·±çš„æ€æƒ³æ–¹æ³•ï¼Œæ‰€ä»¥çŸ¥é“æ€ä¹ˆè¿ç”¨ã€‚å½“é—®é¢˜æ¥äº†ï¼Œä»–èƒ½è®¤è¯†ï¼Œèƒ½åˆ¤æ–­ï¼Œèƒ½æŠ“ä½ä¸­å¿ƒæ‰€åœ¨ã€‚è€ŒèŒ«ç„¶åœ°åˆ¤æ–­ä¸å‡ºé—®é¢˜çš„å…³é”®å’Œè§£å†³æ–¹å‘ï¼Œå°±è¯´æ˜æ²¡æœ‰è‡ªå·±çš„æ€æƒ³å’Œå­¦é—®ã€‚</p><p>ç¬¬ä¸ƒæ­¥çš„æ ‡å‡†æ˜¯å¯¹ä»–äººçš„æ¸…æ™°åˆ¤æ–­åŠ›ã€‚å½“äººç«™åœ¨ä¸€ä¸ªæ€æƒ³é«˜åº¦ä¸Šä»¥åï¼Œå°±ä¼šå¯¹æ—äººçš„æ€æƒ³æ°´å¹³ä¸€ç›®äº†ç„¶ã€‚åˆ°äº†æ€æƒ³åœ†ç†Ÿã€ç‚‰ç«çº¯é’çš„ç¬¬å…«æ­¥ï¼Œäººè¯´å‡ºæ¥çš„æ¯å¥è¯ï¼Œéƒ½æ˜¯ç²¾å·§é€å½»çš„ã€‚æœ‰å¤§å­¦é—®çš„äººï¼Œè¯´å‡ºæ¥çš„è¯ï¼Œå½¢å¼ä¸Šæ˜¯å¹³å¸¸çš„ã€éšæ„çš„ï¼Œå…¶ä¸­å´è•´å«ç€ä¸‡å˜ä¸ç¦»å…¶å®—çš„é«˜æ˜é“ç†ã€‚</p><p>æ¢æ¼±æºŸè¯´ï¼Œè¿™å…«ä¸ªå±‚æ¬¡ï¼Œä»–ä¸€ç›´æ˜¯åœ¨å‰å››å±‚ï¼Œä¹Ÿå°±æ˜¯å»ºç«‹ä¸»è§ã€å¯»æ‰¾é—®é¢˜å’Œå¯»æ±‚è§£ç­”ä¸Šä¸‹åŠŸå¤«ï¼›è‡³äºåé¢å››å±‚ï¼Œåªèƒ½è¯´æ˜¯è™½ä¸èƒ½è‡³ï¼Œå¿ƒå‘å¾€ä¹‹ã€‚</p><p>èŠåŠ å“¥å¤§å­¦å†å²æ•™æˆã€æ±‰å­¦å®¶è‰¾æºä¸€ç›´ä»äº‹æ¢æ¼±æºŸç ”ç©¶ã€‚åœ¨æ¥å—è‰¾æºçš„è®¿è°ˆæ—¶ï¼Œæ¢æ¼±æºŸè¯´ï¼šå­”å­å’Œç‹é˜³æ˜æ˜¯åœ£äººï¼Œæˆ‘æ˜¯ä¸ªæ™®é€šäººã€‚ä½†æˆ‘ä¸æ™®é€šäººæœ‰ä¸€ç‚¹ä¸åŒï¼Œæˆ‘â€œåœ¨é›¾ä¸­è¿œè¿œåœ°çœ‹è§äº†å­”å­æ˜¯æ€ä¹ˆå›äº‹ï¼Œç‹é˜³æ˜æ˜¯æ€ä¹ˆå›äº‹ï¼Œè¿œè¿œåœ°çœ‹è§â€ã€‚å„’å®¶è§£å†³äº†ä»–çš„äººç”Ÿé—®é¢˜ï¼Œè®©ä»–ä¸å†è®¤ä¸ºâ€œäººç”Ÿæ˜¯è‹¦â€ï¼Œè½¬è€Œä»¥èº¬èº«å…¥å±€çš„æ€åº¦ï¼Œè°¨æ…åœ°ç›¸ä¿¡â€œè¿™ä¸ªä¸–ç•Œä¼šå¥½èµ·æ¥â€ã€‚å¯¹äºç°å®çš„ä¸­å›½ï¼Œæ— è®ºä»–çš„ä¸»å¼ æ˜¯å¦è¡Œå¾—é€šï¼Œä»–éƒ½éµç…§éƒ‘é‡çš„äººç”Ÿè§‚æ€è€ƒè¿‡ã€æ±‚ç´¢è¿‡äº†ï¼Œä»–è¿œè¿œçš„å†å²èƒŒå½±ï¼Œå·²ç»åŠ å…¥äº†å¤ä»£å„’è€…çš„è¡Œåˆ—ã€‚</p><p>æ¢æ¼±æºŸè®¤ä¸ºæ‹¥æœ‰ç‹¬ç«‹æ€æƒ³ï¼Œè¦ä»å»ºç«‹ä¸»è§ã€å­¦ä¼šå¯¹æ¯”æ€æƒ³å·®å¼‚ã€å¯»æ±‚é—®é¢˜å¼€å§‹ã€‚é€šè¿‡åœ¨å­¦ä¹ ä¸­å¯»æ±‚è§£å†³æ–¹æ¡ˆï¼Œå»ºç«‹è‡ªå·±çš„æ€æƒ³ç³»ç»Ÿã€‚çœŸæ­£çš„å­¦é—®ï¼Œæ˜¯æŠŠçœ¼å‰çš„é“ç†å’Œææ–™ç³»ç»ŸåŒ–ï¼Œæ·±åˆ»åŒ–ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> è¯»ä¹¦ç¬”è®° </tag>
            
            <tag> å“²å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NodeJSä¸­çš„å†…å­˜æ³„æ¼</title>
      <link href="posts/NodeJS%E4%B8%AD%E7%9A%84%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"/>
      <url>posts/NodeJS%E4%B8%AD%E7%9A%84%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>å†…å­˜æ³„æ¼(Memory Leak): ç”±äºç–å¿½æˆ–é”™è¯¯é€ æˆç¨‹åºæœªèƒ½é‡Šæ”¾å·²ç»ä¸å†ä½¿ç”¨çš„å†…å­˜çš„æƒ…å†µã€‚ä¸¥é‡çš„æƒ…å†µä¸‹å¯¼è‡´å†…å­˜è¾¾åˆ°æŸä¸ªæé™ä¼šä½¿å¾—åº”ç”¨ç¨‹åºå´©æºƒã€‚</p><p>ä¼ ç»Ÿçš„ C/C++ ä¸­å­˜åœ¨æŒ‡é’ˆï¼Œå¯¹è±¡ç”¨å®Œåæœªé‡Šæ”¾ç­‰æƒ…å†µå¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚è€Œåœ¨ä½¿ç”¨è™šæ‹Ÿæœºæ‰§è¡Œçš„è¯­è¨€ä¸­å¦‚ Javaã€JavaScript ç”±äºä½¿ç”¨äº† GC ï¼ˆGarbage Collectionï¼Œåƒåœ¾å›æ”¶ï¼‰æœºåˆ¶è‡ªåŠ¨é‡Šæ”¾å†…å­˜ï¼Œä½¿å¾—ç¨‹åºå‘˜çš„ç²¾åŠ›å¾—åˆ°çš„æå¤§çš„è§£æ”¾ï¼Œä¸ç”¨å†åƒä¼ ç»Ÿè¯­è¨€é‚£æ ·æ—¶åˆ»å¯¹äºå†…å­˜çš„é‡Šæ”¾è€Œæˆ˜æˆ˜å…¢å…¢ã€‚</p><p>å³ä¾¿æœ‰äº† GC æœºåˆ¶å¯ä»¥è‡ªåŠ¨é‡Šæ”¾ï¼Œä½†è¿™å¹¶ä¸æ„å‘³è¿™å†…å­˜æ³„æ¼çš„é—®é¢˜ä¸å­˜åœ¨äº†ã€‚å†…å­˜æ³„æ¼ä¾æ—§æ˜¯å¼€å‘è€…ä»¬ä¸èƒ½ç»•è¿‡çš„ä¸€ä¸ªé—®é¢˜ï¼Œä»Šå¤©è®©æˆ‘ä»¬æ¥äº†è§£å¦‚ä½•åˆ†æ Node.js ä¸­çš„å†…å­˜æ³„æ¼ã€‚</p><h2 id="GC-in-Node-js"><a href="#GC-in-Node-js" class="headerlink" title="GC in Node.js"></a>GC in Node.js</h2><p>Node.js ä½¿ç”¨ V8 ä½œä¸º JavaScript çš„æ‰§è¡Œå¼•æ“ï¼Œæ‰€ä»¥è®¨è®º Node.js çš„ GC æƒ…å†µå°±ç­‰äºåœ¨è®¨è®º V8 çš„ GCã€‚</p><p>åœ¨ V8 ä¸­ä¸€ä¸ªå¯¹è±¡çš„å†…å­˜æ˜¯å¦è¢«é‡Šæ”¾ï¼Œæ˜¯çœ‹ç¨‹åºä¸­æ˜¯å¦è¿˜æœ‰åœ°æ–¹æŒæœ‰æ”¹å¯¹è±¡çš„å¼•ç”¨ã€‚</p><p>åœ¨ V8 ä¸­ï¼Œæ¯æ¬¡ GC æ—¶ï¼Œæ˜¯æ ¹æ® root å¯¹è±¡ (æµè§ˆå™¨ç¯å¢ƒä¸‹çš„ windowï¼ŒNode.js ç¯å¢ƒä¸‹çš„ global ) ä¾æ¬¡æ¢³ç†å¯¹è±¡çš„å¼•ç”¨ï¼Œå¦‚æœèƒ½ä» root çš„å¼•ç”¨é“¾åˆ°è¾¾è®¿é—®ï¼ŒV8 å°±ä¼šå°†å…¶æ ‡è®°ä¸ºå¯åˆ°è¾¾å¯¹è±¡ï¼Œåä¹‹ä¸ºä¸å¯åˆ°è¾¾å¯¹è±¡ã€‚è¢«æ ‡è®°ä¸ºä¸å¯åˆ°è¾¾å¯¹è±¡ï¼ˆå³æ— å¼•ç”¨çš„å¯¹è±¡ï¼‰åå°±ä¼šè¢« V8 å›æ”¶ã€‚</p><p>æ›´å¤šç»†èŠ‚ï¼Œå¯ä»¥å‚è§ <a href="https://yq.aliyun.com/articles/592878">è§£è¯» V8 GC</a>ã€‚</p><p>åœ¨ Node.js ä¸­å†…å­˜æ³„éœ²çš„åŸå› å°±æ˜¯æœ¬è¯¥è¢«æ¸…é™¤çš„å¯¹è±¡ï¼Œè¢«å¯åˆ°è¾¾å¯¹è±¡å¼•ç”¨ä»¥åï¼Œæœªè¢«æ­£ç¡®çš„æ¸…é™¤è€Œå¸¸é©»å†…å­˜ã€‚</p><h2 id="å†…å­˜æ³„æ¼çš„å‡ ç§æƒ…å†µ"><a href="#å†…å­˜æ³„æ¼çš„å‡ ç§æƒ…å†µ" class="headerlink" title="å†…å­˜æ³„æ¼çš„å‡ ç§æƒ…å†µ"></a>å†…å­˜æ³„æ¼çš„å‡ ç§æƒ…å†µ</h2><h3 id="å…¨å±€å˜é‡"><a href="#å…¨å±€å˜é‡" class="headerlink" title="å…¨å±€å˜é‡"></a>å…¨å±€å˜é‡</h3><p>ä½¿ç”¨å…¨å±€å˜é‡æˆ–æœªå®šä¹‰çš„å˜é‡ï¼Œä¸ä¼šè¢«æ¸…é™¤æ‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">global</span>.b = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><p>é—­åŒ…çš„å°±æ˜¯å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å®šä¹‰åœ¨å¤–éƒ¨å‡½æ•°ä¸­çš„å˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">functionout</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> bigData =newBuffer(<span class="number">100</span>);</span><br><span class="line">  inner =<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> bigData;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºinneræŒ‚è½½åœ¨rootä¸Šï¼Œå¯¼è‡´bigDataä¸ä¼šè¢«é‡Šæ”¾</p><h3 id="äº‹ä»¶ç›‘å¬"><a href="#äº‹ä»¶ç›‘å¬" class="headerlink" title="äº‹ä»¶ç›‘å¬"></a>äº‹ä»¶ç›‘å¬</h3><p>Node.js çš„äº‹ä»¶ç›‘å¬ä¹Ÿå¯èƒ½å‡ºç°çš„å†…å­˜æ³„æ¼ã€‚ä¾‹å¦‚å¯¹åŒä¸€ä¸ªäº‹ä»¶é‡å¤ç›‘å¬ï¼Œå¿˜è®°ç§»é™¤</p><p>node Agent keepAlive ä¸º true æ—¶ï¼Œå¯èƒ½é€ æˆçš„å†…å­˜æ³„æ¼ã€‚</p><p>å½“ Agent keepAlive ä¸º true çš„æ—¶å€™ï¼Œå°†ä¼šå¤ç”¨ä¹‹å‰ä½¿ç”¨è¿‡çš„ socketï¼Œå¦‚æœåœ¨ socket ä¸Šæ·»åŠ äº‹ä»¶ç›‘å¬ï¼Œå¿˜è®°æ¸…é™¤çš„è¯ï¼Œå› ä¸º socket çš„å¤ç”¨ï¼Œå°†å¯¼è‡´äº‹ä»¶é‡å¤ç›‘å¬ï¼Œè€Œäº§ç”Ÿå†…å­˜æ³„æ¼ã€‚</p><p>æ‰€ä»¥è¦äº†è§£æ·»åŠ äº‹ä»¶çš„å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚è‡ªå·±æ·»åŠ çš„äº‹ä»¶ç›‘å¬ï¼Œå¿…é¡»è‡ªå·±ç§»é™¤ã€‚</p><p><a href="https://github.com/nodejs/node/issues/9268">node Agent keepAlive å†…å­˜æ³„æ¼</a></p><h3 id="å…¶ä»–åŸå› "><a href="#å…¶ä»–åŸå› " class="headerlink" title="å…¶ä»–åŸå› "></a>å…¶ä»–åŸå› </h3><p>è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æƒ…å†µå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œæ¯”å¦‚ç¼“å­˜ã€‚</p><p>åœ¨ä½¿ç”¨ç¼“å­˜çš„æ—¶å€™ï¼Œå¾—æ¸…æ¥šç¼“å­˜çš„å¯¹è±¡çš„å¤šå°‘ï¼Œå¦‚æœç¼“å­˜å¯¹è±¡éå¸¸å¤šï¼Œå¾—åšé™åˆ¶æœ€å¤§ç¼“å­˜æ•°é‡å¤„ç†ã€‚è¿˜æœ‰å°±æ˜¯éå¸¸å ç”¨ CPU çš„ä»£ç ä¹Ÿä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼ŒæœåŠ¡å™¨åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå¦‚æœæœ‰é«˜ CPU çš„åŒæ­¥ä»£ç ï¼Œå› ä¸ºNode.js æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥ä¸èƒ½å¤„ç†å¤„ç†è¯·æ±‚ï¼Œè¯·æ±‚å †ç§¯å¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜ã€‚</p><h2 id="å¦‚ä½•é¿å…å†…å­˜æ³„æ¼"><a href="#å¦‚ä½•é¿å…å†…å­˜æ³„æ¼" class="headerlink" title="å¦‚ä½•é¿å…å†…å­˜æ³„æ¼"></a>å¦‚ä½•é¿å…å†…å­˜æ³„æ¼</h2><p>ESLint æ£€æµ‹ä»£ç æ£€æŸ¥éæœŸæœ›çš„å…¨å±€å˜é‡ã€‚</p><p>ä½¿ç”¨é—­åŒ…çš„æ—¶å€™ï¼Œå¾—çŸ¥é“é—­åŒ…äº†ä»€ä¹ˆå¯¹è±¡ï¼Œè¿˜æœ‰å¼•ç”¨é—­åŒ…çš„å¯¹è±¡ä½•æ—¶æ¸…é™¤é—­åŒ…ã€‚é¿å…å†™å‡ºå¤æ‚çš„é—­åŒ…</p><p>ç»‘å®šäº‹ä»¶çš„æ—¶å€™ï¼Œä¸€å®šå¾—åœ¨æ°å½“çš„æ—¶å€™æ¸…é™¤äº‹ä»¶ã€‚åœ¨ç¼–å†™ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œæ¨èä½¿ç”¨ init å‡½æ•°å¯¹ç±»çš„äº‹ä»¶ç›‘å¬è¿›è¡Œç»‘å®šå’Œèµ„æºç”³è¯·ï¼Œç„¶å destroy å‡½æ•°å¯¹äº‹ä»¶å’Œå ç”¨èµ„æºè¿›è¡Œé‡Šæ”¾ã€‚</p><h2 id="å®šä½å†…å­˜æ³„æ¼"><a href="#å®šä½å†…å­˜æ³„æ¼" class="headerlink" title="å®šä½å†…å­˜æ³„æ¼"></a>å®šä½å†…å­˜æ³„æ¼</h2><p>æ­£å¸¸ä½¿ç”¨å°±å¯ä»¥é‡ç°çš„å†…å­˜æ³„æ¼ï¼Œåªè¦åœ¨æµ‹è¯•ç¯å¢ƒæ¨¡æ‹Ÿå°±å¯ä»¥æ’æŸ¥</p><p>å¯¹äºå¶ç„¶çš„å†…å­˜æ³„æ¼ï¼Œä¸€èˆ¬ä¼šä¸ç‰¹æ®Šçš„è¾“å…¥æœ‰å…³ç³»ã€‚æƒ³ç¨³å®šé‡ç°è¿™ç§è¾“å…¥æ˜¯å¾ˆè€—æ—¶çš„è¿‡ç¨‹ã€‚å¦‚æœä¸èƒ½é€šè¿‡ä»£ç çš„æ—¥å¿—å®šä½åˆ°è¿™ä¸ªç‰¹æ®Šçš„è¾“å…¥ï¼Œé‚£ä¹ˆæ¨èå»ç”Ÿäº§ç¯å¢ƒæ‰“å°å†…å­˜å¿«ç…§äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰“å°å†…å­˜å¿«ç…§æ˜¯å¾ˆè€— CPU çš„æ“ä½œï¼Œå¯èƒ½ä¼šå¯¹çº¿ä¸Šä¸šåŠ¡é€ æˆå½±å“ã€‚</p><p>å¿«ç…§å·¥å…·æ¨èä½¿ç”¨ <a href="https://github.com/bnoordhuis/node-heapdump">heapdump</a> ç”¨æ¥ä¿å­˜å†…å­˜å¿«ç…§ï¼Œä½¿ç”¨ <a href="https://github.com/Jam3/devtool">devtool</a> æ¥æŸ¥çœ‹å†…å­˜å¿«ç…§ã€‚ä½¿ç”¨ heapdump ä¿å­˜å†…å­˜å¿«ç…§æ—¶ï¼Œåªä¼šæœ‰ Node.js ç¯å¢ƒä¸­çš„å¯¹è±¡ï¼Œä¸ä¼šå—åˆ°å¹²æ‰°ï¼ˆå¦‚æœä½¿ç”¨ node-inspector çš„è¯ï¼Œå¿«ç…§ä¸­ä¼šæœ‰å‰ç«¯çš„å˜é‡å¹²æ‰°ï¼‰ã€‚</p><p>PSï¼šå®‰è£… heapdump åœ¨æŸäº› Node.js ç‰ˆæœ¬ä¸Šå¯èƒ½å‡ºé”™ï¼Œå»ºè®®ä½¿ç”¨ <code>npm install heapdump -target=Node.js</code> ç‰ˆæœ¬æ¥å®‰è£…ã€‚</p><h3 id="æ‰“å°å†…å­˜å¿«ç…§"><a href="#æ‰“å°å†…å­˜å¿«ç…§" class="headerlink" title="æ‰“å°å†…å­˜å¿«ç…§"></a>æ‰“å°å†…å­˜å¿«ç…§</h3><p>å°† heapdump å¼•å…¥ä»£ç ä¸­ï¼Œä½¿ç”¨ heapdump.writeSnapshot å°±å¯ä»¥æ‰“å°å†…å­˜å¿«ç…§äº†äº†ã€‚ä¸ºäº†å‡å°‘æ­£å¸¸å˜é‡çš„å¹²æ‰°ï¼Œå¯ä»¥åœ¨æ‰“å°å†…å­˜å¿«ç…§ä¹‹å‰ä¼šè°ƒç”¨ä¸»åŠ¨é‡Šæ”¾å†…å­˜çš„ gc() å‡½æ•°ï¼ˆå¯åŠ¨æ—¶åŠ ä¸Š â€”expose-gc å‚æ•°å³å¯å¼€å¯ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> heapdump =<span class="built_in">require</span>(<span class="string">&#x27;heapdump&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> save =<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    gc();</span><br><span class="line">    heapdump.writeSnapshot(<span class="string">&#x27;./&#x27;</span>+<span class="built_in">Date</span>.now()+<span class="string">&#x27;.heapsnapshot&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ‰“å°çº¿ä¸Šçš„ä»£ç çš„æ—¶å€™ï¼Œå»ºè®®æŒ‰ç…§å†…å­˜å¢é•¿æƒ…å†µæ¥æ‰“å°å¿«ç…§ã€‚heapdump å¯ä»¥ä½¿ç”¨ kill å‘ç¨‹åºå‘é€ä¿¡å·æ¥æ‰“å°å†…å­˜å¿«ç…§ï¼ˆåªåœ¨ *nix ç³»ç»Ÿä¸Šæä¾›ï¼‰ã€‚</p><p><code>kill -USR2 &lt;pid&gt;</code></p><p>æ¨èæ‰“å° 3 ä¸ªå†…å­˜å¿«ç…§ï¼Œä¸€ä¸ªæ˜¯å†…å­˜æ³„æ¼ä¹‹å‰çš„å†…å­˜å¿«ç…§ï¼Œä¸€ä¸ªæ˜¯å°‘é‡æµ‹è¯•ä»¥åçš„å†…å­˜å¿«ç…§ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯å¤šæ¬¡æµ‹è¯•ä»¥åçš„å†…å­˜å¿«ç…§ã€‚<br>ç¬¬ä¸€ä¸ªå†…å­˜å¿«ç…§ä½œä¸ºå¯¹æ¯”ï¼Œæ¥æŸ¥çœ‹åœ¨æµ‹è¯•åæœ‰å“ªäº›å¯¹è±¡å¢é•¿ã€‚åœ¨å†…å­˜æ³„æ¼ä¸æ˜æ˜¾çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¸å¤§é‡æµ‹è¯•ä»¥åçš„å†…å­˜å¿«ç…§å¯¹æ¯”ï¼Œè¿™æ ·èƒ½æ›´å®¹æ˜“å®šä½ã€‚</p><h3 id="å¯¹æ¯”å†…å­˜å¿«ç…§æ‰¾å‡ºæ³„æ¼ä½ç½®"><a href="#å¯¹æ¯”å†…å­˜å¿«ç…§æ‰¾å‡ºæ³„æ¼ä½ç½®" class="headerlink" title="å¯¹æ¯”å†…å­˜å¿«ç…§æ‰¾å‡ºæ³„æ¼ä½ç½®"></a>å¯¹æ¯”å†…å­˜å¿«ç…§æ‰¾å‡ºæ³„æ¼ä½ç½®</h3><p>é€šè¿‡å†…å­˜å¿«ç…§æ‰¾åˆ°æ•°é‡ä¸æ–­å¢åŠ çš„å¯¹è±¡ï¼Œæ‰¾åˆ°å¢åŠ å¯¹è±¡æ˜¯è¢«è°ç»™å¼•ç”¨ï¼Œæ‰¾åˆ°é—®é¢˜ä»£ç ï¼Œæ”¹æ­£ä¹‹åå°±è¡Œï¼Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>&#123;EventEmitter&#125;=<span class="built_in">require</span>(<span class="string">&#x27;events&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> heapdump =<span class="built_in">require</span>(<span class="string">&#x27;heapdump&#x27;</span>);</span><br><span class="line"><span class="built_in">global</span>.test =newEventEmitter();</span><br><span class="line">heapdump.writeSnapshot(<span class="string">&#x27;./&#x27;</span>+<span class="built_in">Date</span>.now()+<span class="string">&#x27;.heapsnapshot&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run3</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> innerData =newBuffer(<span class="number">100</span>);</span><br><span class="line">    onst outClosure3 =<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">void</span> innerData;</span><br><span class="line">    &#125;;</span><br><span class="line">    test.on(<span class="string">&#x27;error&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    outClosure3();&#125;<span class="keyword">for</span>(<span class="keyword">let</span> i =<span class="number">0</span>; i &lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">    run3();</span><br><span class="line">&#125;</span><br><span class="line">gc();</span><br><span class="line">heapdump.writeSnapshot(<span class="string">&#x27;./&#x27;</span>+<span class="built_in">Date</span>.now()+<span class="string">&#x27;.heapsnapshot&#x27;</span>);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯å¯¹é”™è¯¯ä»£ç çš„æœ€å°é‡ç°ä»£ç ã€‚</p><p>é¦–å…ˆä½¿ç”¨ node â€”expose-gc index.js è¿è¡Œä»£ç ï¼Œå°†ä¼šå¾—åˆ°ä¸¤ä¸ªå†…å­˜å¿«ç…§ï¼Œä¹‹åæ‰“å¼€ devtoolï¼Œç‚¹å‡» profileï¼Œè½½å…¥å†…å­˜å¿«ç…§ã€‚æ‰“å¼€å¯¹æ¯”ï¼ŒDelta ä¼šæ˜¾ç¤ºå¯¹è±¡çš„å˜åŒ–æƒ…å†µï¼Œå¦‚æœå¯¹è±¡ Delta ä¸€ç›´å¢é•¿ï¼Œå°±å¾ˆæœ‰å¯èƒ½æ˜¯å†…å­˜æ³„æ¼äº†ã€‚</p><p>å…¶å®è¿™ä¸‰å¤„å¯¹è±¡å¢é•¿éƒ½æ˜¯ä¸€ä¸ªé—®é¢˜å¯¼è‡´çš„ã€‚test å¯¹è±¡ä¸­çš„ error ç›‘å¬äº‹ä»¶ä¸­é—­åŒ…å¼•ç”¨äº† innerData å¯¹è±¡ï¼Œå¯¼è‡´ buffer æ²¡æœ‰è¢«æ¸…é™¤ï¼Œä»è€Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚<br>å…¶å®è¿™é‡Œçš„ error ç›‘å¬äº‹ä»¶ä¸­æ²¡æœ‰å¼•ç”¨ innerData ä¸ºä»€ä¹ˆä¼šé—­åŒ…å¼•ç”¨äº† innerData å¯¹è±¡ï¼Œè¿™ä¸ªé—®é¢˜å¾ˆæ˜¯ç–‘æƒ‘ï¼Œåæ¥å¼„æ¸…æ˜¯ V8 çš„ä¼˜åŒ–é—®é¢˜ï¼Œåœ¨æ–‡æœ«ä¼šé¢å¤–è®²è§£ä¸€ä¸‹ã€‚å¯¹äºå¯¹æ¯”å¿«ç…§æ‰¾åˆ°é—®é¢˜ï¼Œå¾—çœ‹ä½ å¯¹ä»£ç çš„ç†Ÿæ‚‰ç¨‹åº¦ï¼Œè¿˜æœ‰çœ¼åŠ›äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> NodeJS </tag>
            
            <tag> å†…å­˜æ³„æ¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EventLoopäº‹ä»¶å¾ªç¯æ‰§è¡Œé¡ºåº--promise,nextTick,setTimeout</title>
      <link href="posts/EventLoop%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F--promise,nextTick,setTimeout/"/>
      <url>posts/EventLoop%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F--promise,nextTick,setTimeout/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><p>å†™å‡ºä¸‹é¢˜è¾“å‡ºç»“æœ:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;async1 start&#x27;</span>)</span><br><span class="line">    <span class="keyword">await</span> async2()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;async1 end&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;async2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout0&#x27;</span>)</span><br><span class="line">&#125;,<span class="number">0</span>)  </span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout3&#x27;</span>)</span><br><span class="line">&#125;,<span class="number">3</span>)  </span><br><span class="line">setImmediate(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;setImmediate&#x27;</span>));</span><br><span class="line">process.nextTick(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;nextTick&#x27;</span>));</span><br><span class="line">async1();</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">    resolve();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise3&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)</span><br></pre></td></tr></table></figure><a id="more"></a><p>é¢è¯•é¢˜æ­£ç¡®çš„è¾“å‡ºç»“æœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">script start</span><br><span class="line">async1 start</span><br><span class="line">async2</span><br><span class="line">promise1</span><br><span class="line">promise2</span><br><span class="line">script end</span><br><span class="line">nextTick</span><br><span class="line">async1 end</span><br><span class="line">promise3</span><br><span class="line">setTimeout0</span><br><span class="line">setImmediate</span><br><span class="line">setTimeout3</span><br></pre></td></tr></table></figure><h2 id="æå‡ºé—®é¢˜"><a href="#æå‡ºé—®é¢˜" class="headerlink" title="æå‡ºé—®é¢˜"></a>æå‡ºé—®é¢˜</h2><p>node.jsçš„å¼€å‘è€…ä¸€å®šéƒ½çŸ¥é“å®ƒæ˜¯å•çº¿ç¨‹çš„ï¼Œå¼‚æ­¥ä¸é˜»å¡ä¸”é«˜å¹¶å‘çš„ä¸€é—¨è¯­è¨€</p><p>node.jsä¸­çš„å¼‚æ­¥å†…éƒ¨åŸç†:ï¼ˆå¾®ä»»åŠ¡ä¸äº‹ä»¶å¾ªç¯ï¼‰</p><p>Node çš„å¼‚æ­¥è¯­æ³•æ¯”æµè§ˆå™¨æ›´å¤æ‚ï¼Œå› ä¸ºå®ƒå¯ä»¥è·Ÿå†…æ ¸å¯¹è¯ï¼Œä¸å¾—ä¸æäº†ä¸€ä¸ªä¸“é—¨çš„åº“ libuv åšè¿™ä»¶äº‹ã€‚è¿™ä¸ªåº“è´Ÿè´£å„ç§å›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼Œå¼‚æ­¥ä»»åŠ¡æœ€ååŸºäºäº‹ä»¶å¾ªç¯æœºåˆ¶è¿˜æ˜¯è¦å›åˆ°ä¸»çº¿ç¨‹ï¼Œä¸€ä¸ªä¸ªæ’é˜Ÿæ‰§è¡Œã€‚</p><h2 id="è¯¦ç»†è®²è§£"><a href="#è¯¦ç»†è®²è§£" class="headerlink" title="è¯¦ç»†è®²è§£"></a>è¯¦ç»†è®²è§£</h2><h3 id="1-æœ¬è½®å¾ªç¯ä¸æ¬¡è½®å¾ªç¯"><a href="#1-æœ¬è½®å¾ªç¯ä¸æ¬¡è½®å¾ªç¯" class="headerlink" title="1.æœ¬è½®å¾ªç¯ä¸æ¬¡è½®å¾ªç¯"></a>1.æœ¬è½®å¾ªç¯ä¸æ¬¡è½®å¾ªç¯</h3><p>å¼‚æ­¥ä»»åŠ¡å¯ä»¥åˆ†æˆä¸¤ç§ã€‚</p><ol><li>è¿½åŠ åœ¨æœ¬è½®å¾ªç¯çš„å¼‚æ­¥ä»»åŠ¡</li><li>è¿½åŠ åœ¨æ¬¡è½®å¾ªç¯çš„å¼‚æ­¥ä»»åŠ¡</li></ol><p>æ‰€è°“â€å¾ªç¯â€ï¼ŒæŒ‡çš„æ˜¯äº‹ä»¶å¾ªç¯ï¼ˆevent loopï¼‰ã€‚è¿™æ˜¯ JavaScript å¼•æ“å¤„ç†å¼‚æ­¥ä»»åŠ¡çš„æ–¹å¼. æœ¬è½®å¾ªç¯ä¸€å®šæ—©äºæ¬¡è½®å¾ªç¯æ‰§è¡Œã€‚</p><p>Node è§„å®šï¼Œ<strong>process.nextTickå’ŒPromiseçš„å›è°ƒå‡½æ•°ï¼Œè¿½åŠ åœ¨æœ¬è½®å¾ªç¯ï¼Œå³åŒæ­¥ä»»åŠ¡ä¸€æ—¦æ‰§è¡Œå®Œæˆï¼Œå°±å¼€å§‹æ‰§è¡Œå®ƒä»¬ã€‚è€ŒsetTimeoutã€setIntervalã€setImmediateçš„å›è°ƒå‡½æ•°ï¼Œè¿½åŠ åœ¨æ¬¡è½®å¾ªç¯ã€‚</strong></p><h3 id="2-process-nextTick"><a href="#2-process-nextTick" class="headerlink" title="2.process.nextTick()"></a>2.process.nextTick()</h3><p>1ï¼‰process.nextTickä¸è¦å› ä¸ºæœ‰nextå°±è¢«å¥½å¤šå°ä¼™ä¼´å½“ä½œæ¬¡è½®å¾ªç¯ã€‚</p><p>2ï¼‰<strong>Node æ‰§è¡Œå®Œæ‰€æœ‰åŒæ­¥ä»»åŠ¡ï¼Œæ¥ä¸‹æ¥å°±ä¼šæ‰§è¡Œprocess.nextTickçš„ä»»åŠ¡é˜Ÿåˆ—ã€‚</strong></p><p>3ï¼‰å¼€å‘è¿‡ç¨‹ä¸­å¦‚æœæƒ³è®©å¼‚æ­¥ä»»åŠ¡å°½å¯èƒ½å¿«åœ°æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨process.nextTickæ¥å®Œæˆã€‚</p><h3 id="3-å¾®ä»»åŠ¡ï¼ˆmicrotackï¼‰"><a href="#3-å¾®ä»»åŠ¡ï¼ˆmicrotackï¼‰" class="headerlink" title="3.å¾®ä»»åŠ¡ï¼ˆmicrotackï¼‰"></a>3.å¾®ä»»åŠ¡ï¼ˆmicrotackï¼‰</h3><p>æ ¹æ®è¯­è¨€è§„æ ¼ï¼Œ<strong>Promiseå¯¹è±¡çš„å›è°ƒå‡½æ•°ï¼Œä¼šè¿›å…¥å¼‚æ­¥ä»»åŠ¡é‡Œé¢çš„â€å¾®ä»»åŠ¡â€ï¼ˆmicrotaskï¼‰é˜Ÿåˆ—ã€‚</strong></p><p><strong>å¾®ä»»åŠ¡é˜Ÿåˆ—è¿½åŠ åœ¨process.nextTické˜Ÿåˆ—çš„åé¢ï¼Œä¹Ÿå±äºæœ¬è½®å¾ªç¯ã€‚</strong></p><p>æ ¹æ®è¯­è¨€è§„æ ¼ï¼ŒPromiseå¯¹è±¡çš„å›è°ƒå‡½æ•°ï¼Œä¼šè¿›å…¥å¼‚æ­¥ä»»åŠ¡é‡Œé¢çš„â€å¾®ä»»åŠ¡â€ï¼ˆmicrotaskï¼‰é˜Ÿåˆ—ã€‚</p><p>å¾®ä»»åŠ¡é˜Ÿåˆ—è¿½åŠ åœ¨process.nextTické˜Ÿåˆ—çš„åé¢ï¼Œä¹Ÿå±äºæœ¬è½®å¾ªç¯ã€‚æ‰€ä»¥ï¼Œä¸‹é¢çš„ä»£ç æ€»æ˜¯å…ˆè¾“å‡º3ï¼Œå†è¾“å‡º4ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">process.nextTick(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">3</span>));</span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">4</span>));</span><br></pre></td></tr></table></figure><p>// è¾“å‡ºç»“æœ3ï¼Œ4</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">process.nextTick(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">1</span>));</span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">2</span>));</span><br><span class="line">process.nextTick(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">3</span>));</span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">4</span>));</span><br></pre></td></tr></table></figure><p>// è¾“å‡ºç»“æœ 1ï¼Œ3ï¼Œ2ï¼Œ4</p><p>æ³¨æ„ï¼Œåªæœ‰å‰ä¸€ä¸ªé˜Ÿåˆ—å…¨éƒ¨æ¸…ç©ºä»¥åï¼Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªé˜Ÿåˆ—ã€‚ä¸¤ä¸ªé˜Ÿåˆ—çš„æ¦‚å¿µ nextTickQueue å’Œå¾®é˜Ÿåˆ—microTaskQueueï¼Œä¹Ÿå°±æ˜¯è¯´å¼€å¯å¼‚æ­¥ä»»åŠ¡ä¹Ÿåˆ†ä¸ºå‡ ç§ï¼Œåƒpromiseå¯¹è±¡è¿™ç§ï¼Œå¼€å¯ä¹‹åç›´æ¥è¿›å…¥å¾®é˜Ÿåˆ—ä¸­ï¼Œå¾®é˜Ÿåˆ—å†…çš„å°±æ˜¯é‚£ä¸ªä»»åŠ¡å¿«å°±é‚£ä¸ªå…ˆæ‰§è¡Œå®Œï¼Œä½†æ˜¯é’ˆå¯¹äºé˜Ÿåˆ—ä¸é˜Ÿåˆ—ä¹‹é—´ä¸åŒçš„ä»»åŠ¡ï¼Œè¿˜æ˜¯ä¼šæœ‰å…ˆåé¡ºåºï¼Œè¿™ä¸ªå…ˆåé¡ºåºæ˜¯ç”±é˜Ÿåˆ—å†³å®šçš„ã€‚</p><h3 id="4-äº‹ä»¶å¾ªç¯çš„é˜¶æ®µï¼ˆidle-prepareå¿½ç•¥äº†è¿™ä¸ªé˜¶æ®µï¼‰"><a href="#4-äº‹ä»¶å¾ªç¯çš„é˜¶æ®µï¼ˆidle-prepareå¿½ç•¥äº†è¿™ä¸ªé˜¶æ®µï¼‰" class="headerlink" title="4.äº‹ä»¶å¾ªç¯çš„é˜¶æ®µï¼ˆidle, prepareå¿½ç•¥äº†è¿™ä¸ªé˜¶æ®µï¼‰"></a>4.äº‹ä»¶å¾ªç¯çš„é˜¶æ®µï¼ˆidle, prepareå¿½ç•¥äº†è¿™ä¸ªé˜¶æ®µï¼‰</h3><p>äº‹ä»¶å¾ªç¯æœ€é˜¶æ®µæœ€è¯¦ç»†çš„è®²è§£ï¼ˆå®˜ç½‘ï¼š<a href="https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/#setimmediate-vs-settimeout%EF%BC%89">https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/#setimmediate-vs-settimeoutï¼‰</a></p><ol><li><p>timersé˜¶æ®µ</p><p>æ¬¡é˜¶æ®µåŒ…æ‹¬setTimeout()å’ŒsetInterval()</p></li><li><p>IO callbacks</p><p> å¤§éƒ¨åˆ†çš„å›è°ƒäº‹ä»¶ï¼Œæ™®é€šçš„caollback</p></li><li><p>pollé˜¶æ®µ</p><p>ç½‘ç»œè¿æ¥ï¼Œæ•°æ®è·å–ï¼Œè¯»å–æ–‡ä»¶ç­‰æ“ä½œ</p></li><li><p>checké˜¶æ®µ</p><p>setImmediate()åœ¨è¿™é‡Œè°ƒç”¨å›è°ƒ</p></li><li><p>closeé˜¶æ®µ<br> ä¸€äº›å…³é—­å›è°ƒï¼Œä¾‹å¦‚socket.on(â€˜closeâ€™, â€¦)</p></li></ol><ul><li>äº‹ä»¶å¾ªç¯æ³¨æ„ç‚¹</li></ul><p>1ï¼‰Node å¼€å§‹æ‰§è¡Œè„šæœ¬æ—¶ï¼Œä¼šå…ˆè¿›è¡Œäº‹ä»¶å¾ªç¯çš„åˆå§‹åŒ–ï¼Œä½†æ˜¯è¿™æ—¶äº‹ä»¶å¾ªç¯è¿˜æ²¡æœ‰å¼€å§‹ï¼Œä¼šå…ˆå®Œæˆä¸‹é¢çš„äº‹æƒ…ã€‚</p><p>åŒæ­¥ä»»åŠ¡<br>å‘å‡ºå¼‚æ­¥è¯·æ±‚<br>è§„åˆ’å®šæ—¶å™¨ç”Ÿæ•ˆçš„æ—¶é—´<br>æ‰§è¡Œprocess.nextTick()ç­‰ç­‰</p><p>æœ€åï¼Œä¸Šé¢è¿™äº›äº‹æƒ…éƒ½å¹²å®Œäº†ï¼Œäº‹ä»¶å¾ªç¯å°±æ­£å¼å¼€å§‹äº†ã€‚</p><p>2ï¼‰äº‹ä»¶å¾ªç¯åŒæ ·è¿è¡Œåœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œé«˜å¹¶å‘ä¹Ÿæ˜¯ä¾é äº‹ä»¶å¾ªç¯ï¼Œæ¯äº§ç”Ÿä¸€ä¸ªäº‹ä»¶ï¼Œå°±ä¼šåŠ å…¥åˆ°è¯¥é˜¶æ®µå¯¹åº”çš„é˜Ÿåˆ—ä¸­ï¼Œæ­¤æ—¶äº‹ä»¶å¾ªç¯å°†è¯¥é˜Ÿåˆ—ä¸­çš„äº‹ä»¶å–å‡ºï¼Œå‡†å¤‡æ‰§è¡Œä¹‹åçš„callbackã€‚</p><p>3ï¼‰å‡è®¾äº‹ä»¶å¾ªç¯ç°åœ¨è¿›å…¥äº†æŸä¸ªé˜¶æ®µï¼Œå³ä½¿è¿™æœŸé—´æœ‰å…¶ä»–é˜Ÿåˆ—ä¸­çš„äº‹ä»¶å°±ç»ªï¼Œä¹Ÿä¼šå…ˆå°†å½“å‰é˜Ÿåˆ—çš„å…¨éƒ¨å›è°ƒæ–¹æ³•æ‰§è¡Œå®Œæ¯•åï¼Œå†è¿›å…¥åˆ°ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚</p><h4 id="5-äº‹ä»¶å¾ªç¯ä¸­çš„setTimeOutä¸setImmediate"><a href="#5-äº‹ä»¶å¾ªç¯ä¸­çš„setTimeOutä¸setImmediate" class="headerlink" title="5.äº‹ä»¶å¾ªç¯ä¸­çš„setTimeOutä¸setImmediate"></a>5.äº‹ä»¶å¾ªç¯ä¸­çš„setTimeOutä¸setImmediate</h4><p>ç”±äºsetTimeoutåœ¨ timers é˜¶æ®µæ‰§è¡Œï¼Œè€ŒsetImmediateåœ¨ check é˜¶æ®µæ‰§è¡Œã€‚æ‰€ä»¥ï¼ŒsetTimeoutä¼šæ—©äºsetImmediateå®Œæˆã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">1</span>));</span><br><span class="line">setImmediate(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">2</span>));</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç åº”è¯¥å…ˆè¾“å‡º1ï¼Œå†è¾“å‡º2ï¼Œä½†æ˜¯å®é™…æ‰§è¡Œçš„æ—¶å€™ï¼Œç»“æœå´æ˜¯ä¸ç¡®å®šï¼Œæœ‰æ—¶è¿˜ä¼šå…ˆè¾“å‡º2ï¼Œå†è¾“å‡º1ã€‚</p><p>è¿™æ˜¯å› ä¸ºsetTimeoutçš„ç¬¬äºŒä¸ªå‚æ•°é»˜è®¤ä¸º0ã€‚ä½†æ˜¯å®é™…ä¸Šï¼ŒNode åšä¸åˆ°0æ¯«ç§’ï¼Œæœ€å°‘ä¹Ÿéœ€è¦1æ¯«ç§’ï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œç¬¬äºŒä¸ªå‚æ•°çš„å–å€¼èŒƒå›´åœ¨1æ¯«ç§’åˆ°2147483647æ¯«ç§’ä¹‹é—´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒsetTimeout(f, 0)ç­‰åŒäºsetTimeout(f, 1)ã€‚</p><p>å®é™…æ‰§è¡Œçš„æ—¶å€™ï¼Œè¿›å…¥äº‹ä»¶å¾ªç¯ä»¥åï¼Œæœ‰å¯èƒ½åˆ°äº†1æ¯«ç§’ï¼Œä¹Ÿå¯èƒ½è¿˜æ²¡åˆ°1æ¯«ç§’ï¼Œå–å†³äºç³»ç»Ÿå½“æ—¶çš„çŠ¶å†µã€‚å¦‚æœæ²¡åˆ°1æ¯«ç§’ï¼Œé‚£ä¹ˆ timers é˜¶æ®µå°±ä¼šè·³è¿‡ï¼Œè¿›å…¥ check é˜¶æ®µï¼Œå…ˆæ‰§è¡ŒsetImmediateçš„å›è°ƒå‡½æ•°ã€‚</p><p>ä½†æ˜¯ï¼Œä¸‹é¢çš„ä»£ç ä¸€å®šæ˜¯å…ˆè¾“å‡º2ï¼Œå†è¾“å‡º1ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line">fs.readFile(<span class="string">&#x27;test.js&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">1</span>));</span><br><span class="line"> setImmediate(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="number">2</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¼šå…ˆè¿›å…¥ I/O callbacks é˜¶æ®µï¼Œç„¶åæ˜¯ check é˜¶æ®µï¼Œæœ€åæ‰æ˜¯ timers é˜¶æ®µã€‚å› æ­¤ï¼ŒsetImmediateæ‰ä¼šæ—©äºsetTimeoutæ‰§è¡Œã€‚</p><h4 id="6-åŒæ­¥ä»»åŠ¡ä¸­asyncä»¥åŠpromiseçš„ä¸€äº›è¯¯è§£"><a href="#6-åŒæ­¥ä»»åŠ¡ä¸­asyncä»¥åŠpromiseçš„ä¸€äº›è¯¯è§£" class="headerlink" title="6.åŒæ­¥ä»»åŠ¡ä¸­asyncä»¥åŠpromiseçš„ä¸€äº›è¯¯è§£"></a>6.åŒæ­¥ä»»åŠ¡ä¸­asyncä»¥åŠpromiseçš„ä¸€äº›è¯¯è§£</h4><ul><li>é—®é¢˜1:</li></ul><p>åœ¨é‚£é“é¢è¯•é¢˜ä¸­ï¼Œåœ¨åŒæ­¥ä»»åŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯æ‰§è¡Œå®Œasync2è¾“å‡ºåæ‰§è¡Œasync1 endè¾“å‡ºï¼Œè€Œæ˜¯æ¥ç€æ‰§è¡Œpromise1ï¼Ÿ</p><p>è§£ç­”:å¼•ç”¨é˜®ä¸€å³°è€å¸ˆä¹¦ä¸­ä¸€å¥è¯ï¼šâ€œ async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ° await å°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°è§¦å‘çš„å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚â€<br>ç®€å•çš„è¯´ï¼Œå…ˆå»æ‰§è¡Œåé¢çš„åŒæ­¥ä»»åŠ¡ä»£ç ï¼Œæ‰§è¡Œå®Œæˆåï¼Œä¹Ÿå°±æ˜¯è¡¨è¾¾å¼ä¸­çš„ Promise è§£æå®Œæˆåç»§ç»­æ‰§è¡Œ async å‡½æ•°å¹¶è¿”å›è§£å†³ç»“æœã€‚ï¼ˆå…¶å®è¿˜æ˜¯æœ¬è½®å¾ªç¯promiseçš„é—®é¢˜ï¼Œæœ€åçš„resolveå±äºå¼‚æ­¥ï¼Œä½äºæœ¬è½®å¾ªç¯çš„æœ«å°¾ã€‚ï¼‰</p><ul><li>é—®é¢˜2:</li></ul><p>console.log(â€˜promise2â€™)ä¸ºä»€ä¹ˆä¹Ÿæ˜¯åœ¨resolveä¹‹å‰æ‰§è¡Œï¼Ÿ</p><p>è§£ç­”ï¼šæ³¨ï¼šæ­¤å†…å®¹æ¥æºä¸é˜®ä¸€å³°è€å¸ˆçš„ES6ä¹¦ç±ï¼Œè°ƒç”¨resolveæˆ–è€…rejectå¹¶ä¸ä¼šç»ˆç»“promiseçš„å‚æ•°å‡½æ•°çš„æ‰§è¡Œã€‚å› ä¸ºç«‹å³resolvedçš„Promiseæ˜¯<strong>æœ¬è½®å¾ªç¯</strong>çš„æœ«å°¾æ‰§è¡Œï¼ŒåŒæ—¶æ€»æ˜¯<strong>æ™šäºæœ¬è½®å¾ªç¯çš„åŒæ­¥ä»»åŠ¡</strong>ã€‚æ­£è§„çš„å†™æ³•è°ƒç”¨resolveæˆ–è€…rejectä»¥åï¼ŒPromiseçš„ä½¿å‘½å°±å®Œæˆäº†ï¼Œåç»§æ“ä½œåº”è¯¥æ”¾åœ¨thenæ–¹æ³•åé¢ã€‚æ‰€ä»¥æœ€å¥½åœ¨å®ƒçš„å‰é¢åŠ ä¸Šreturnè¯­å¥ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°æ„å¤–</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> resolve(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">//åé¢çš„è¯­å¥ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é—®é¢˜3:</li></ul><p>promise3å’Œscript endçš„æ‰§è¡Œé¡ºåºæ˜¯å¦æœ‰ç–‘é—®ï¼Ÿ</p><p>è§£ç­”ï¼šå› ä¸ºç«‹å³resolvedçš„Promiseæ˜¯<strong>æœ¬è½®å¾ªç¯</strong>çš„æœ«å°¾æ‰§è¡Œï¼ŒåŒæ—¶æ€»æ˜¯<strong>æ™šäºæœ¬è½®å¾ªç¯çš„åŒæ­¥ä»»åŠ¡</strong>ã€‚ Promise æ˜¯ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œä½†æ˜¯ä»–çš„æˆåŠŸï¼ˆæˆ–å¤±è´¥ï¼šrejectï¼‰çš„å›è°ƒå‡½æ•° resolve å´æ˜¯ä¸€ä¸ªå¼‚æ­¥æ‰§è¡Œçš„å›è°ƒã€‚å½“æ‰§è¡Œåˆ° resolve() æ—¶ï¼Œè¿™ä¸ªä»»åŠ¡ä¼šè¢«æ”¾å…¥åˆ°å›è°ƒé˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…è°ƒç”¨æ ˆæœ‰ç©ºé—²æ—¶äº‹ä»¶å¾ªç¯å†æ¥å–èµ°å®ƒã€‚æœ¬è½®å¾ªç¯ä¸­æœ€åæ‰§è¡Œçš„ã€‚</p><h2 id="æ•´ä½“ç»“è®º"><a href="#æ•´ä½“ç»“è®º" class="headerlink" title="æ•´ä½“ç»“è®º"></a>æ•´ä½“ç»“è®º</h2><p> é¡ºåºçš„æ•´ä½“æ€»ç»“å°±æ˜¯:<br> åŒæ­¥ä»»åŠ¡-&gt; æœ¬è½®å¾ªç¯ -&gt;æ¬¡è½®å¾ªç¯<br> æ­£å¸¸è¯­å¥ -&gt; nextTick -&gt; Promiseå¯¹è±¡çš„å›è°ƒå‡½æ•° -&gt; äº‹ä»¶å¾ªç¯ä¸­çš„setTimeOutä¸setImmediate</p><h2 id="é™„ä»¶-å‚è€ƒèµ„æ–™"><a href="#é™„ä»¶-å‚è€ƒèµ„æ–™" class="headerlink" title="é™„ä»¶:å‚è€ƒèµ„æ–™"></a>é™„ä»¶:å‚è€ƒèµ„æ–™</h2><p>node.jså®˜ç½‘ï¼š</p><ul><li>[äº‹ä»¶å¾ªç¯]ï¼š(<a href="https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/#setimmediate-vs-settimeout)">https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/#setimmediate-vs-settimeout)</a></li><li><a href="https://nodejs.org/dist/latest-v10.x/docs/api/timers.html">Timers</a></li><li><a href="https://github.com/koala-coding/goodBlog/blob/master/docs/node/eventLoop.md">eventLoopè§£æ</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Promise </tag>
            
            <tag> nextTick </tag>
            
            <tag> async </tag>
            
            <tag> await </tag>
            
            <tag> setTimeout </tag>
            
            <tag> setImmediate </tag>
            
            <tag> EventLoop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7å¤©å…¥é—¨æ•°æ®ç»“æ„å’Œç®—æ³•</title>
      <link href="posts/7%E5%A4%A9%E5%85%A5%E9%97%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/"/>
      <url>posts/7%E5%A4%A9%E5%85%A5%E9%97%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°æ®ç»“æ„å’Œç®—æ³•æ€»è§ˆ"><a href="#æ•°æ®ç»“æ„å’Œç®—æ³•æ€»è§ˆ" class="headerlink" title="æ•°æ®ç»“æ„å’Œç®—æ³•æ€»è§ˆ"></a>æ•°æ®ç»“æ„å’Œç®—æ³•æ€»è§ˆ</h2><p>çº¿ä¸Šè¯¾ç¨‹</p><p>é¢„ä¹ -åŸºç¡€çŸ¥è¯†è‡ªå·±é¢„ä¹ å’ŒæŸ¥çœ‹<br>è¯¾å ‚äº’åŠ¨-ä¸€èµ·æ€è€ƒå›ç­”é—®é¢˜<br>è¯¾åä½œä¸š-æŒ‰ç…§åˆ‡é¢˜æ–¹æ³•å®Œæˆ</p><p>æœŸå¾…æ•ˆæœ</p><p>èŒä¸šé¡¶å°–çº§åˆ« - å¯¹ç®—æ³•æ•°æ®ç»“æ„çš„ç†è§£<br>ä¸€çº¿äº’è”ç½‘å…¬å¸é¢è¯•<br>LeetCode 300+çš„ç§¯ç´¯</p><a id="more"></a><p>ã€ŠOutliersã€‹ ã€Šå¼‚ç±»:ä¸ä¸€æ ·çš„æˆåŠŸå¯ç¤ºå½•ã€‹â€“é©¬å°”ç§‘å§†Â·æ ¼æ‹‰å¾·ç»´å°”</p><p>ç²¾é€šä¸€ä¸ªé¢†åŸŸä¸‰æ­¥èµ°</p><ul><li>Chunk it up åˆ‡ç¢çŸ¥è¯†ç‚¹</li><li>Deliberate Practicing åˆ»æ„ç»ƒä¹ </li><li>Feedback åé¦ˆ</li></ul><p>Chunk it up</p><ul><li>åº–ä¸è§£ç‰›</li><li>è„‰ç»œç›¸è¿</li></ul><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><p><a href="https://naotu.baidu.com/file/b832f043e2ead159d584cca4efb19703?token=7a6a56eb2630548c">æ•°æ®ç»“æ„è„‘å›¾</a></p><ul><li><p>ä¸€ç»´</p><ul><li>åŸºç¡€: æ•°ç»„ array(string), é“¾è¡¨ linked list</li><li>é«˜çº§: æ ˆ stack, é˜Ÿåˆ— queue,  åŒç«¯é˜Ÿåˆ— deque, é›†åˆ set, æ˜ å°„ map(hash or map), etc</li></ul></li><li><p>äºŒç»´</p><ul><li>åŸºç¡€: æ ‘ tree, å›¾ graph</li><li>é«˜çº§: äºŒå‰æœç´¢æ ‘ binary search tree (red-black tree, AVL), å † heap, å¹¶æŸ¥é›† disjoint set, å­—å…¸æ ‘Trie, etc</li></ul></li><li><p>ç‰¹æ®Š</p><ul><li>ä½è¿ç®— Bitwise, å¸ƒéš†è¿‡æ»¤å™¨ BloomFilter</li><li>LRU Cache</li></ul></li></ul><h3 id="ç®—æ³•å…«ç‚¹"><a href="#ç®—æ³•å…«ç‚¹" class="headerlink" title="ç®—æ³•å…«ç‚¹"></a>ç®—æ³•å…«ç‚¹</h3><p><a href="https://naotu.baidu.com/file/0a53d3a5343bd86375f348b2831d3610?token=5ab1de1c90d5f3ec">ç®—æ³•è„‘å›¾</a></p><p>åŸºçŸ³-ä¸‰ç‚¹</p><ul><li>if-else, switch â€”&gt; è·³è½¬ branch</li><li>for, while loop â€”&gt; å¾ªç¯ iteration</li><li>é€’å½’ Recursion(Divide &amp; Conquer, Backtrace)</li></ul><p>æ‰€æœ‰å¤æ‚ç®—æ³•ï¼Œæœ€åå…¶å®å°±æ˜¯æ‰¾å®ƒçš„é‡å¤å•å…ƒæ˜¯ä»€ä¹ˆ</p><p>å…¶ä½™äº”ç‚¹</p><ul><li>æœç´¢Search: æ·±åº¦ä¼˜å…ˆç®—æ³• Depth first search, å¹¿åº¦ä¼˜å…ˆç®—æ³• Breadth first search, A*, etc</li><li>åŠ¨æ€è§„åˆ’ Dynamic Programming</li><li>äºŒåˆ†æŸ¥æ‰¾ Binary Search</li><li>è´ªå¿ƒ Greedy</li><li>æ•°å­¦ Math, å‡ ä½• Geometry</li></ul><h2 id="åˆ»æ„ç»ƒä¹ "><a href="#åˆ»æ„ç»ƒä¹ " class="headerlink" title="åˆ»æ„ç»ƒä¹ "></a>åˆ»æ„ç»ƒä¹ </h2><p>èŒä¸šåŒ–è¿åŠ¨</p><ul><li>åŸºæœ¬åŠŸæ˜¯åŒºåˆ«ä¸šä½™å’ŒèŒä¸šé€‰æ‰‹çš„æ ¹æœ¬</li><li>åŸºç¡€åŠ¨ä½œçš„åˆ†è§£è®­ç»ƒå’Œåå¤ç»ƒä¹  â€“&gt; æœ€å¤§çš„è¯¯åŒº(åªåšä¸€é)<ul><li>ä¹’ä¹“çƒï¼Œå°çƒï¼Œæ»‘é›ª</li></ul></li></ul><p>è§£å†³åŠæ³•</p><ul><li>åˆ»æ„è®­ç»ƒ â€“ è¿‡éæ•°(äº”æ¯’ç¥æŒ)</li><li>ç»ƒä¹ ç¼ºé™·ã€å¼±ç‚¹åœ°æ–¹</li><li>ä¸èˆ’æœã€ä¸çˆ½ã€æ¯ç‡¥</li><li>ç”Ÿæ´»ä¸­çš„ä¹’ä¹“çƒï¼Œå°çƒç­‰</li></ul><h2 id="åé¦ˆ"><a href="#åé¦ˆ" class="headerlink" title="åé¦ˆ"></a>åé¦ˆ</h2><p>å³ä½¿åé¦ˆ</p><ul><li>ä¸»åŠ¨å‹åé¦ˆ(è‡ªå·±å»æ‰¾)<ul><li>é«˜æ‰‹ä»£ç (GitHub, LeetCode, etc.)</li><li>ç¬¬ä¸€è§†è§’ç›´æ’­</li></ul></li><li>è¢«åŠ¨å‹åé¦ˆ(é«˜æ‰‹ç»™ä½ æŒ‡ç‚¹)<ul><li>code review</li><li>æ•™ç»ƒçœ‹ä½ æ‰“ï¼Œç»™ä½ åé¦ˆ</li></ul></li></ul><h2 id="åˆ·é¢˜æŠ€å·§"><a href="#åˆ·é¢˜æŠ€å·§" class="headerlink" title="åˆ·é¢˜æŠ€å·§"></a>åˆ·é¢˜æŠ€å·§</h2><h3 id="åˆ‡é¢˜å››ä»¶å¥—â€“å››æ­¥ç³»ç»ŸåŒ–æ€è€ƒæ–¹å¼"><a href="#åˆ‡é¢˜å››ä»¶å¥—â€“å››æ­¥ç³»ç»ŸåŒ–æ€è€ƒæ–¹å¼" class="headerlink" title="åˆ‡é¢˜å››ä»¶å¥—â€“å››æ­¥ç³»ç»ŸåŒ–æ€è€ƒæ–¹å¼"></a>åˆ‡é¢˜å››ä»¶å¥—â€“å››æ­¥ç³»ç»ŸåŒ–æ€è€ƒæ–¹å¼</h3><ul><li><p>Clarification æ˜ç¡®é¢˜ç›®è¦æ±‚ é˜æ˜</p></li><li><p>Possible solutions æƒ³<strong>æ‰€æœ‰</strong>å¯èƒ½çš„è§£æ³•ï¼Œæ¯”è¾ƒä¸åŒçš„æ–¹æ³•çš„æ—¶é—´ç©ºé—´å¤æ‚åº¦ï¼Œæ‰¾å‡ºæœ€ä¼˜è§£æ³•</p><ul><li>compare (time/space)</li><li>optimal (åŠ å¼º)</li></ul></li><li><p>Coding(å¤šå†™)</p></li><li><p>Test cases(åˆ—ä¸¾å‡ ä¸ªï¼Œæµ‹è‡ªå·±çš„ç¨‹åºï¼Œæœ‰å§‹æœ‰ç»ˆ)</p></li></ul><h3 id="äº”æ¯’ç¥æŒâ€“äº”éåˆ·é¢˜æ³•"><a href="#äº”æ¯’ç¥æŒâ€“äº”éåˆ·é¢˜æ³•" class="headerlink" title="äº”æ¯’ç¥æŒâ€“äº”éåˆ·é¢˜æ³•"></a>äº”æ¯’ç¥æŒâ€“äº”éåˆ·é¢˜æ³•</h3><h4 id="ç¬¬ä¸€é"><a href="#ç¬¬ä¸€é" class="headerlink" title="ç¬¬ä¸€é"></a>ç¬¬ä¸€é</h4><ul><li>èŠ±5åˆ†é’Ÿæ—¶é—´è¯»é¢˜æ€è€ƒ(æœ€å¤š10åˆ†é’Ÿï¼Œæ²¡æœ‰æ€è·¯èµ°ç¬¬äºŒæ­¥)</li><li><strong>ç›´æ¥çœ‹è§£æ³•</strong>(ä¸è¦çº ç»“) æ³¨æ„å¤šè§£æ³•æ¯”è¾ƒä¼˜åŠ£ï¼Œ</li><li>èƒŒè¯µå’Œé»˜å†™å¥½çš„è§£æ³•</li></ul><p>ç®—æ³•æ˜¯ç†è§£å’Œè¿ç”¨ï¼Œä¸æ˜¯åˆ›é€ ç®—æ³•</p><h4 id="ç¬¬äºŒé"><a href="#ç¬¬äºŒé" class="headerlink" title="ç¬¬äºŒé"></a>ç¬¬äºŒé</h4><p>é©¬ä¸Šè‡ªå·±å†™â€“LeetCodeæäº¤ï¼Œç›´åˆ°é€šè¿‡<br>å¤šç§è§£æ³•æ¯”è¾ƒã€ä½“ä¼šâ€“&gt; ä¼˜åŒ–ï¼</p><h4 id="ç¬¬ä¸‰é"><a href="#ç¬¬ä¸‰é" class="headerlink" title="ç¬¬ä¸‰é"></a>ç¬¬ä¸‰é</h4><p>è¿‡24å°æ—¶åï¼Œå†é‡å¤åšé¢˜<br>ä¸åŒè§£æ³•çš„ç†Ÿç»ƒç¨‹åº¦â€”&gt;ä¸“é¡¹è®­ç»ƒ</p><h4 id="ç¬¬å››é"><a href="#ç¬¬å››é" class="headerlink" title="ç¬¬å››é"></a>ç¬¬å››é</h4><p>è¿‡äº†ä¸€å‘¨ï¼š åå¤å›æ¥ç»ƒä¹ ç›¸åŒé¢˜ç›®</p><h4 id="ç¬¬äº”é"><a href="#ç¬¬äº”é" class="headerlink" title="ç¬¬äº”é"></a>ç¬¬äº”é</h4><p>é¢è¯•å‰ä¸€å‘¨æ¢å¤æ€§è®­ç»ƒ(çœ‹è‡ªå·±æ—¶é—´å®‰æ’)</p><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ul><li>èŒä¸šè®­ç»ƒ: æ‹†åˆ†çŸ¥è¯†ç‚¹ã€åˆ»æ„ç»ƒä¹ ã€åé¦ˆ</li><li>äº”æ­¥åˆ·é¢˜æ³•(äº”æ¯’ç¥æŒ)</li><li>åšç®—æ³•é¢˜æœ€å¤§è¯¯åŒº: åªåšä¸€é</li></ul><h2 id="LeetCode"><a href="#LeetCode" class="headerlink" title="LeetCode"></a>LeetCode</h2><p>æ’ä»¶VS Code Pluginé‡ŒæœLeetCode</p><p>æŠŠMost Votes æœ€é«˜ç¥¨çš„å‰ä¸‰ä¸ªéƒ½çœ‹ä¸€é</p><h3 id="CodeStyle-éµå®ˆä»£ç è§„èŒƒ"><a href="#CodeStyle-éµå®ˆä»£ç è§„èŒƒ" class="headerlink" title="CodeStyle éµå®ˆä»£ç è§„èŒƒ"></a>CodeStyle éµå®ˆä»£ç è§„èŒƒ</h3><h3 id="æŒ‡æ³•å’Œå°æ“ä½œ"><a href="#æŒ‡æ³•å’Œå°æ“ä½œ" class="headerlink" title="æŒ‡æ³•å’Œå°æ“ä½œ"></a>æŒ‡æ³•å’Œå°æ“ä½œ</h3><p>home, end (è¡Œå¤´ã€è¡Œå°¾)<br>Wordå•è¯ã€é€‰å•è¯ã€é€‰æ­£è¡Œ<br>IDEè‡ªåŠ¨è¡¥å…¨<br>Top tips for IDE-name è‡ªè¡Œæœç´¢ideç›¸å…³ä½¿ç”¨æŠ€å·§</p><h3 id="è‡ªé¡¶å‘ä¸‹ç¼–ç¨‹"><a href="#è‡ªé¡¶å‘ä¸‹ç¼–ç¨‹" class="headerlink" title="è‡ªé¡¶å‘ä¸‹ç¼–ç¨‹"></a>è‡ªé¡¶å‘ä¸‹ç¼–ç¨‹</h3><p>å…³é”®æ–¹æ³•ï¼Œå…³é”®å†…å®¹æ”¾åœ¨ä¸Šè¾¹</p><p>æœ€å¼€å§‹æ€è€ƒå¤§å±‚æ¬¡çš„é€»è¾‘</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> å­¦ä¹ æ–¹æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•</title>
      <link href="posts/%E7%AE%97%E6%B3%95/"/>
      <url>posts/%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="åå¤§ç»å…¸æ’åºç®—æ³•æ€»ç»“ï¼ˆJavaScriptæè¿°ï¼‰"><a href="#åå¤§ç»å…¸æ’åºç®—æ³•æ€»ç»“ï¼ˆJavaScriptæè¿°ï¼‰" class="headerlink" title="åå¤§ç»å…¸æ’åºç®—æ³•æ€»ç»“ï¼ˆJavaScriptæè¿°ï¼‰"></a>åå¤§ç»å…¸æ’åºç®—æ³•æ€»ç»“ï¼ˆJavaScriptæè¿°ï¼‰</h2><p><a href="https://juejin.im/post/57dcd394a22b9d00610c5ec8">é“¾æ¥</a></p><p><a href="http://www.cnblogs.com/zichi/p/5556633.html">å†’æ³¡æ’åº &amp; é€‰æ‹©æ’åº &amp; æ’å…¥æ’åº &amp; å¸Œå°”æ’åº JavaScript å®ç°</a></p><h2 id="é€’å½’ï¼Œwhileéå†æ ‘ç»“æ„"><a href="#é€’å½’ï¼Œwhileéå†æ ‘ç»“æ„" class="headerlink" title="é€’å½’ï¼Œwhileéå†æ ‘ç»“æ„"></a>é€’å½’ï¼Œwhileéå†æ ‘ç»“æ„</h2><h2 id="8ä¸ªè‹¹æœä¸€ä¸ªåçš„ï¼Œå¤–å½¢ä¸å…¶ä»–ç›¸åŒï¼Œåªæœ‰é‡é‡ä¸åŒæœ‰ä¸ªå¤©å¹³ï¼Œç”¨2æ¬¡æŠŠåçš„æ‰¾å‡ºæ¥ï¼Œæ€ä¹ˆç§°"><a href="#8ä¸ªè‹¹æœä¸€ä¸ªåçš„ï¼Œå¤–å½¢ä¸å…¶ä»–ç›¸åŒï¼Œåªæœ‰é‡é‡ä¸åŒæœ‰ä¸ªå¤©å¹³ï¼Œç”¨2æ¬¡æŠŠåçš„æ‰¾å‡ºæ¥ï¼Œæ€ä¹ˆç§°" class="headerlink" title="8ä¸ªè‹¹æœä¸€ä¸ªåçš„ï¼Œå¤–å½¢ä¸å…¶ä»–ç›¸åŒï¼Œåªæœ‰é‡é‡ä¸åŒæœ‰ä¸ªå¤©å¹³ï¼Œç”¨2æ¬¡æŠŠåçš„æ‰¾å‡ºæ¥ï¼Œæ€ä¹ˆç§°"></a>8ä¸ªè‹¹æœä¸€ä¸ªåçš„ï¼Œå¤–å½¢ä¸å…¶ä»–ç›¸åŒï¼Œåªæœ‰é‡é‡ä¸åŒæœ‰ä¸ªå¤©å¹³ï¼Œç”¨2æ¬¡æŠŠåçš„æ‰¾å‡ºæ¥ï¼Œæ€ä¹ˆç§°</h2><a id="more"></a><p>ç­”æ¡ˆï¼š (3,3)+ (1,1)ä¸¤æ¬¡</p><p>é¦–å…ˆæˆ‘ä»¬æ¥ç¡®å®šä¸€ä»¶äº‹,å°±æ˜¯åçš„è‹¹æœåº”è¯¥æ˜¯æ¯”å…¶ä»–çš„è¦è½».<br>ç¬¬ä¸€æ­¥,æŠŠè‹¹æœåˆ†ä¸º3+3+1+1;<br>ç¬¬äºŒæ­¥,ç§°é‡;</p><ol><li>3+3 æ”¾åˆ°å¤©å¹³ä¸¤ç«¯,å¦‚æœå¹³ç­‰   å†æ”¾1+1,ä¹Ÿå°±æ˜¯ä¸¤è¾¹å„æ”¾ä¸€ä¸ª,å€¾æ–œ,å‘ä¸Šç«¯,æœ€åæ”¾çš„æ˜¯åçš„.</li><li>3+3 æ”¾åˆ°å¤©å¹³ä¸¤ç«¯,å¦‚æœå€¾æ–œ, å–å‘ä¸Šç«¯3ä¸ªè‹¹æœ,åˆ†ä¸º1+1+1,ä¸¤è¾¹ä¸€è¾¹ä¸€ä¸ªéšä¾¿æ”¾,å¦‚æœå¹³è¡¡,æ²¡æ”¾çš„ä¸€ä¸ªæ˜¯åçš„,å¦‚æœå€¾æ–œ,å‘ä¸Šçš„æ˜¯åçš„.<br>æ²¡æœ‰å…¶ä»–æƒ…å†µäº†,ä¸¤æ¬¡å°±å¯ä»¥ç§°å‡º.</li></ol><h2 id="1-å†’æ³¡æ’åº"><a href="#1-å†’æ³¡æ’åº" class="headerlink" title="1. å†’æ³¡æ’åº"></a>1. å†’æ³¡æ’åº</h2><p>é‡å¤éå†è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ã€‚éå†æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚</p><p>å¹³å‡æƒ…å†µï¼šT(n) = O(n^2) å¤æ‚åº¦<br>æ—¶é—´å¤æ‚åº¦ï¼šå¹³å‡æ—¶é—´å¤æ‚åº¦O(n<em>n) ã€æœ€å¥½æƒ…å†µO(n)ã€æœ€å·®æƒ…å†µO(n</em>n)<br>ç©ºé—´å¤æ‚åº¦ï¼š O(1)<br>ç¨³å®šæ€§ï¼šç¨³å®š<br>å…³é”®ï¼š<br>ä¸¤æ¬¡å¾ªç¯</p><pre><code>i=0,i&lt;len;  j=0, j&lt;len-1-i  j å’Œj+1ç½®æ¢<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = arr.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="comment">// æ³¨æ„è¿™é‡Œçš„len-1-i, å¦‚æœå†™len-1ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¼šæœ‰å¤šä½™çš„å†…å±‚å¾ªç¯</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; len - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j+<span class="number">1</span>]) &#123;        <span class="comment">//ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”</span></span><br><span class="line">                <span class="keyword">var</span> temp = arr[j+<span class="number">1</span>];        <span class="comment">//å…ƒç´ äº¤æ¢</span></span><br><span class="line">                arr[j+<span class="number">1</span>] = arr[j];</span><br><span class="line">                arr[j] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">3</span>,<span class="number">44</span>,<span class="number">38</span>,<span class="number">5</span>,<span class="number">47</span>,<span class="number">15</span>,<span class="number">36</span>,<span class="number">26</span>,<span class="number">27</span>,<span class="number">2</span>,<span class="number">46</span>,<span class="number">4</span>,<span class="number">19</span>,<span class="number">50</span>,<span class="number">48</span>];</span><br><span class="line"><span class="built_in">console</span>.log(bubbleSort(arr));<span class="comment">//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre><h3 id="2-é€‰æ‹©æ’åºï¼ˆSelection-Sortï¼‰"><a href="#2-é€‰æ‹©æ’åºï¼ˆSelection-Sortï¼‰" class="headerlink" title="2.é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰"></a>2.é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰</h3><p>é¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚</p><p>æœ€ä½³æƒ…å†µï¼šT(n) = O(nÂ²)<br>æœ€å·®æƒ…å†µï¼šT(n) = O(nÂ²)<br>å¹³å‡æƒ…å†µï¼šT(n) = O(nÂ²)</p><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectionSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> len = arr.length;</span><br><span class="line">    <span class="keyword">let</span> minIndex, temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        minIndex = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &lt; arr[minIndex]) &#123;     <span class="comment">//å¯»æ‰¾æœ€å°çš„æ•°</span></span><br><span class="line">                minIndex = j;                 <span class="comment">//å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = arr[i];</span><br><span class="line">        arr[i] = arr[minIndex];</span><br><span class="line">        arr[minIndex] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">3</span>,<span class="number">44</span>,<span class="number">38</span>,<span class="number">5</span>,<span class="number">47</span>,<span class="number">15</span>,<span class="number">36</span>,<span class="number">26</span>,<span class="number">27</span>,<span class="number">2</span>,<span class="number">46</span>,<span class="number">4</span>,<span class="number">19</span>,<span class="number">50</span>,<span class="number">48</span>];</span><br><span class="line"><span class="built_in">console</span>.log(selectionSort(arr));<span class="comment">//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre><h2 id="3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰"><a href="#3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰" class="headerlink" title="3.æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰"></a>3.æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertionSort</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(array).slice(<span class="number">8</span>, -<span class="number">1</span>) === <span class="string">&#x27;Array&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.time(<span class="string">&#x27;æ’å…¥æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> key = array[i];</span><br><span class="line">            <span class="keyword">var</span> j = i - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (j &gt;= <span class="number">0</span> &amp;&amp; array[j] &gt; key) &#123;</span><br><span class="line">                array[j + <span class="number">1</span>] = array[j];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            array[j + <span class="number">1</span>] = key;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.timeEnd(<span class="string">&#x27;æ’å…¥æ’åºè€—æ—¶ï¼š&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;array is not an Array!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>6.å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰</p><p>å¿«é€Ÿæ’åºçš„åŸºæœ¬æ€æƒ³ï¼šé€šè¿‡ä¸€è¶Ÿæ’åºå°†å¾…æ’è®°å½•åˆ†éš”æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†è®°å½•çš„å…³é”®å­—å‡æ¯”å¦ä¸€éƒ¨åˆ†çš„å…³é”®å­—å°ï¼Œåˆ™å¯åˆ†åˆ«å¯¹è¿™ä¸¤éƒ¨åˆ†è®°å½•ç»§ç»­è¿›è¡Œæ’åºï¼Œä»¥è¾¾åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚</p><p>(3)ç®—æ³•åˆ†æ</p><p>æœ€ä½³æƒ…å†µï¼šT(n) = O(nlogn)</p><p>æœ€å·®æƒ…å†µï¼šT(n) = O(n2)</p><p>å¹³å‡æƒ…å†µï¼šT(n) = O(nlogn)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">Javascriptä»£ç å®ç°ï¼š</span><br><span class="line"><span class="comment">/*æ–¹æ³•è¯´æ˜ï¼šå¿«é€Ÿæ’åº</span></span><br><span class="line"><span class="comment">@param  array å¾…æ’åºæ•°ç»„*/</span></span><br><span class="line"><span class="comment">//æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">array, left, right</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.time(<span class="string">&#x27;1.å¿«é€Ÿæ’åºè€—æ—¶&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(array).slice(<span class="number">8</span>, -<span class="number">1</span>) === <span class="string">&#x27;Array&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> left === <span class="string">&#x27;number&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> right === <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">var</span> x = array[right], i = left - <span class="number">1</span>, temp;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = left; j &lt;= right; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (array[j] &lt;= x) &#123;</span><br><span class="line">                    i++;</span><br><span class="line">                    temp = array[i];</span><br><span class="line">                    array[i] = array[j];</span><br><span class="line">                    array[j] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            quickSort(array, left, i - <span class="number">1</span>);</span><br><span class="line">            quickSort(array, i + <span class="number">1</span>, right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.timeEnd(<span class="string">&#x27;1.å¿«é€Ÿæ’åºè€—æ—¶&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;array is not an Array or left or right is not a number!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="keyword">var</span> quickSort2 = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.time(<span class="string">&#x27;2.å¿«é€Ÿæ’åºè€—æ—¶&#x27;</span>);</span><br><span class="line">ã€€ã€€<span class="keyword">if</span> (arr.length &lt;= <span class="number">1</span>) &#123; <span class="keyword">return</span> arr; &#125;</span><br><span class="line">ã€€ã€€<span class="keyword">var</span> pivotIndex = <span class="built_in">Math</span>.floor(arr.length / <span class="number">2</span>);</span><br><span class="line">ã€€ã€€<span class="keyword">var</span> pivot = arr.splice(pivotIndex, <span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line">ã€€ã€€<span class="keyword">var</span> left = [];</span><br><span class="line">ã€€ã€€<span class="keyword">var</span> right = [];</span><br><span class="line">ã€€ã€€<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++)&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">if</span> (arr[i] &lt; pivot) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€left.push(arr[i]);</span><br><span class="line">ã€€ã€€ã€€ã€€&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€right.push(arr[i]);</span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">&#x27;2.å¿«é€Ÿæ’åºè€—æ—¶&#x27;</span>);</span><br><span class="line">ã€€ã€€<span class="keyword">return</span> quickSort2(left).concat([pivot], quickSort2(right));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">3</span>,<span class="number">44</span>,<span class="number">38</span>,<span class="number">5</span>,<span class="number">47</span>,<span class="number">15</span>,<span class="number">36</span>,<span class="number">26</span>,<span class="number">27</span>,<span class="number">2</span>,<span class="number">46</span>,<span class="number">4</span>,<span class="number">19</span>,<span class="number">50</span>,<span class="number">48</span>];</span><br><span class="line"><span class="built_in">console</span>.log(quickSort(arr,<span class="number">0</span>,arr.length-<span class="number">1</span>));<span class="comment">//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]</span></span><br><span class="line"><span class="built_in">console</span>.log(quickSort2(arr));<span class="comment">//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]</span></span><br><span class="line"></span><br><span class="line">ä½œè€…ï¼šDamonare</span><br><span class="line">é“¾æ¥ï¼šhttps:<span class="comment">//juejin.im/post/57dcd394a22b9d00610c5ec8</span></span><br><span class="line">æ¥æºï¼šæ˜é‡‘</span><br><span class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è®²çš„å¥½çš„ç®—æ³•"><a href="#è®²çš„å¥½çš„ç®—æ³•" class="headerlink" title="è®²çš„å¥½çš„ç®—æ³•"></a>è®²çš„å¥½çš„ç®—æ³•</h2><p><a href="https://www.cnblogs.com/zichi/p/4788953.html">å¿«é€Ÿé“¾æ¥</a></p><h3 id="é˜®ä¸€å³°å¿«é€Ÿæ’åº"><a href="#é˜®ä¸€å³°å¿«é€Ÿæ’åº" class="headerlink" title="é˜®ä¸€å³°å¿«é€Ÿæ’åº"></a>é˜®ä¸€å³°å¿«é€Ÿæ’åº</h3><p><a href="http://www.ruanyifeng.com/blog/2011/04/quicksort_in_javascript.html">é“¾æ¥</a></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p><a href="https://github.com/twinkle77/play-with-algorithm">jsç®—æ³•ç›®å½•</a></p><h2 id="äºŒå‰æ ‘çš„æ¦‚å¿µ"><a href="#äºŒå‰æ ‘çš„æ¦‚å¿µ" class="headerlink" title="äºŒå‰æ ‘çš„æ¦‚å¿µ"></a>äºŒå‰æ ‘çš„æ¦‚å¿µ</h2><p>äºŒå‰æ ‘èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">struct BinaryTreeNode</span><br><span class="line">&#123;</span><br><span class="line">    int m_nValue;</span><br><span class="line">    BinaryTreeNode* m_pLeft;</span><br><span class="line">    BinaryTreeNode* m_pRight;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å®Œå…¨äºŒå‰æ ‘"><a href="#å®Œå…¨äºŒå‰æ ‘" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘"></a>å®Œå…¨äºŒå‰æ ‘</h3><p>ä¸€ä¸ªæ·±åº¦ä¸ºkï¼ŒèŠ‚ç‚¹ä¸ªæ•°ä¸º 2^k - 1 çš„äºŒå‰æ ‘ä¸ºæ»¡äºŒå‰æ ‘ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰</p><h3 id="äºŒå‰æ ‘çš„æ€§è´¨"><a href="#äºŒå‰æ ‘çš„æ€§è´¨" class="headerlink" title="äºŒå‰æ ‘çš„æ€§è´¨"></a>äºŒå‰æ ‘çš„æ€§è´¨</h3><p>äºŒå‰æ ‘çš„æ€§è´¨ä¸€ï¼šåœ¨äºŒå‰æ ‘çš„ç¬¬iå±‚ä¸Šè‡³å¤šæœ‰2^(i-1)ä¸ªç»“ç‚¹(i&gt;=1)</p><p>äºŒå‰æ ‘çš„æ€§è´¨äºŒï¼šæ·±åº¦ä¸ºkçš„äºŒå‰æ ‘è‡³å¤šæœ‰2^k-1ä¸ªç»“ç‚¹(k&gt;=1)</p><h3 id="äºŒå‰é“¾è¡¨"><a href="#äºŒå‰é“¾è¡¨" class="headerlink" title="äºŒå‰é“¾è¡¨"></a>äºŒå‰é“¾è¡¨</h3><p>lchild data  rchild</p><p>dataä¸ºæ ¹èŠ‚ç‚¹ï¼Œ lchildä¸ºå·¦å­æ ‘ï¼Œrchildä¸ºå³å­æ ‘</p><h4 id="äºŒå‰æ ‘çš„éå†æœ‰ä¸‰ç§æ–¹å¼ï¼Œå¦‚ä¸‹"><a href="#äºŒå‰æ ‘çš„éå†æœ‰ä¸‰ç§æ–¹å¼ï¼Œå¦‚ä¸‹" class="headerlink" title="äºŒå‰æ ‘çš„éå†æœ‰ä¸‰ç§æ–¹å¼ï¼Œå¦‚ä¸‹"></a>äºŒå‰æ ‘çš„éå†æœ‰ä¸‰ç§æ–¹å¼ï¼Œå¦‚ä¸‹</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰å‰åºéå†ï¼ˆDLRï¼‰ï¼Œ</span><br><span class="line">    é¦–å…ˆè®¿é—®æ ¹ç»“ç‚¹ï¼Œç„¶åéå†å·¦å­æ ‘ï¼Œæœ€åéå†å³å­æ ‘ã€‚</span><br><span class="line">    ç®€è®°æ ¹-å·¦-å³ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰ä¸­åºéå†ï¼ˆLDRï¼‰ï¼Œ</span><br><span class="line">    é¦–å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åè®¿é—®æ ¹ç»“ç‚¹ï¼Œæœ€åéå†å³å­æ ‘ã€‚</span><br><span class="line">    ç®€è®°å·¦-æ ¹-å³ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ<span class="number">3</span>ï¼‰ååºéå†ï¼ˆLRDï¼‰ï¼Œ</span><br><span class="line">    é¦–å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åéå†å³å­æ ‘ï¼Œæœ€åè®¿é—®æ ¹ç»“ç‚¹ã€‚</span><br><span class="line">    ç®€è®°å·¦-å³-æ ¹ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å…ˆåºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">preOrder</span>(<span class="params">node</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(node.value);</span><br><span class="line">        preOrder(node.left);</span><br><span class="line">        preOrder(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨é€’å½’æ–¹å¼å®ç°ä¸­åºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inOrder</span>(<span class="params">node</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node)&#123;</span><br><span class="line">        inOrder(node.left);<span class="comment">//å…ˆè®¿é—®å·¦å­æ ‘</span></span><br><span class="line">        <span class="built_in">console</span>.log(node.value);</span><br><span class="line">        inOrder(node.right);<span class="comment">//æœ€åè®¿é—®å³å­æ ‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ååºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">postOrder</span>(<span class="params">node</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node)&#123;</span><br><span class="line">        postOrder(node.left);</span><br><span class="line">        postOrder(node.right);</span><br><span class="line">        <span class="built_in">console</span>.log(node.value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>åœ¨ä¸€ä¸ªå·²æ’åºçš„æ•°ç»„seqä¸­ï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ v (è¦æŸ¥æ‰¾çš„å…ƒç´ )ï¼Œ<br>å‡å¦‚è¿™ä¸ªæ•°ç»„çš„èŒƒå›´æ˜¯[lowâ€¦high]ï¼Œæˆ‘ä»¬è¦çš„vå°±åœ¨è¿™ä¸ªèŒƒå›´é‡Œã€‚</p><p>æŸ¥æ‰¾çš„æ–¹æ³•æ˜¯æ‹¿lowåˆ°highçš„æ­£ä¸­é—´çš„å€¼ï¼Œæˆ‘ä»¬å‡è®¾æ˜¯mï¼Œæ¥è·Ÿvç›¸æ¯”ï¼Œå¦‚æœm&gt;vï¼Œè¯´æ˜æˆ‘ä»¬è¦æŸ¥æ‰¾çš„våœ¨å‰æ•°ç»„seqçš„å‰åŠéƒ¨ï¼Œå¦åˆ™å°±åœ¨ååŠéƒ¨ã€‚æ— è®ºæ˜¯åœ¨å‰åŠéƒ¨è¿˜æ˜¯ååŠéƒ¨ï¼Œå°†é‚£éƒ¨åˆ†å†æ¬¡æŠ˜åŠæŸ¥æ‰¾ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼ŒçŸ¥é“æŸ¥æ‰¾åˆ°vå€¼æ‰€åœ¨çš„åœ°æ–¹ã€‚<br>å®ç°äºŒåˆ†æŸ¥æ‰¾å¯ä»¥ç”¨å¾ªç¯ï¼Œä¹Ÿå¯ä»¥é€’å½’ï¼Œå…ˆç»™å‡ºä¸¤ç§æ–¹å¼çš„ä¼ªä»£ç ã€‚</p><p>Javaç‰ˆ<br>ä½¿ç”¨å¾ªç¯å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] seq, <span class="keyword">int</span> v, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (low + high) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (v == seq[mid]) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (v &gt; seq[mid]) &#123;</span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            high = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨é€’å½’å®ç°</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">search2</span><span class="params">(<span class="keyword">int</span>[] seq, <span class="keyword">int</span> v, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (low &gt; high) &#123;</span><br><span class="line">            <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid = (low + high) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (v == seq[mid]) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (v &gt; seq[mid]) &#123;</span><br><span class="line">            <span class="keyword">return</span> search2(seq, v, mid + <span class="number">1</span>, high);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> search2(seq, v, low, mid - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">JS ç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line"><span class="comment">// éé€’å½’ç®—æ³•</span></span><br><span class="line">    <span class="function">function <span class="title">binary_search</span><span class="params">(arr, key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> low = <span class="number">0</span>,</span><br><span class="line">            high = arr.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(low &lt;= high)&#123;</span><br><span class="line">            <span class="keyword">var</span> mid = parseInt((high + low) / <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">if</span>(key == arr[mid])&#123;</span><br><span class="line">                <span class="keyword">return</span>  mid;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(key &gt; arr[mid])&#123;</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(key &lt; arr[mid])&#123;</span><br><span class="line">                high = mid -<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">44</span>,<span class="number">86</span>];</span><br><span class="line">    <span class="keyword">var</span> result = binary_search(arr,<span class="number">10</span>);</span><br><span class="line">    alert(result); <span class="comment">// 9 è¿”å›ç›®æ ‡å…ƒç´ çš„ç´¢å¼•å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é€’å½’ç®—æ³•</span></span><br><span class="line">    <span class="function">function <span class="title">binary_search</span><span class="params">(arr,low, high, key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (low &gt; high)&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> mid = parseInt((high + low) / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(arr[mid] == key)&#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &gt; key)&#123;</span><br><span class="line">            high = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> binary_search(arr, low, high, key);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &lt; key)&#123;</span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> binary_search(arr, low, high, key);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">44</span>,<span class="number">86</span>];</span><br><span class="line">    <span class="keyword">var</span> result = binary_search(arr, <span class="number">0</span>, <span class="number">13</span>, <span class="number">10</span>);</span><br><span class="line">    alert(result); <span class="comment">// 9 è¿”å›ç›®æ ‡å…ƒç´ çš„ç´¢å¼•å€¼  </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Chromeæ’ä»¶</title>
      <link href="posts/Chrome%E6%8F%92%E4%BB%B6/"/>
      <url>posts/Chrome%E6%8F%92%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>Chrome æœ‰ä¸°å¯Œçš„æ’ä»¶, å¯ä»¥æ‰©å±•å‡ºå¾ˆå¤šåŠŸèƒ½, æé«˜æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡.</p><h2 id="æ²™æ‹‰æŸ¥è¯"><a href="#æ²™æ‹‰æŸ¥è¯" class="headerlink" title="æ²™æ‹‰æŸ¥è¯"></a><a href="https://saladict.crimx.com/">æ²™æ‹‰æŸ¥è¯</a></h2><p>hrome ä¸­æœ€å¥½çš„ä¸€æ¬¾ç¿»è¯‘æ’ä»¶, chrome åº”ç”¨å•†åº—è¯¥æ’ä»¶ä¸‹çš„å¥½è¯„å¦‚æ½®.<br>åœ¨è®¾ç½®é‡Œå…³é—­â€”é»˜è®¤ç”¨æœ¬æ‰©å±•æµè§ˆ PDF</p><h2 id="Full-Page-Screen-Capture-å…¨ç½‘é¡µæˆªå±"><a href="#Full-Page-Screen-Capture-å…¨ç½‘é¡µæˆªå±" class="headerlink" title="Full Page Screen Capture (å…¨ç½‘é¡µæˆªå±)"></a>Full Page Screen Capture (å…¨ç½‘é¡µæˆªå±)</h2><p>è¯¥æ’ä»¶å¯ä»¥å°†æ•´ä¸ªç½‘é¡µæˆªæˆä¸€å¼ é•¿å›¾, å¹¶ä¸”æ”¯æŒç¼–è¾‘, æœ‰æ—¶æˆ‘ä»¬ä¸æ–¹ä¾¿åˆ†äº«ç½‘é¡µæ—¶, æ¯”å¦‚ä¸€äº›å†…ç½‘ç«™ç‚¹å¤–ç½‘è®¿é—®ä¸äº†, é€šè¿‡å…¨ç½‘é¡µæˆªå±å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åŠæ³•.</p><a id="more"></a><h2 id="Infinity-æ–°æ ‡ç­¾é¡µ"><a href="#Infinity-æ–°æ ‡ç­¾é¡µ" class="headerlink" title="Infinity æ–°æ ‡ç­¾é¡µ"></a><a href="https://www.infinitynewtab.com/">Infinity æ–°æ ‡ç­¾é¡µ</a></h2><p>æ›¿æ¢ chrome åŸæœ‰é¦–é¡µçš„ä¸€ä¸ªé€‰æ‹©, åŠŸèƒ½å®Œå–„, å¯ä»¥æ–¹ä¾¿çš„ç®¡ç†å’ŒæŸ¥æ‰¾ä¹¦ç­¾, æ¯å¤©æ›´æ¢ä¸€ä¸ªå£çº¸, ç‚¹å‡»ä¸‹è¾¹çš„å°é£è½¦, å¯ä»¥éšæœºåˆ‡æ¢å£çº¸</p><h2 id="Momentum"><a href="#Momentum" class="headerlink" title="Momentum"></a>Momentum</h2><p>æ˜¯å¦ä¸€æ¬¾æ›¿æ¢ chrome åŸæœ‰é¦–é¡µçš„æ’ä»¶, ç®€ä»‹å¤§æ°”, å·¦ä¸Šè§’å¯ä»¥æœç´¢, å³ä¸Šè§’å±•ç¤ºå¤©æ°”, ä¸­é—´å±•ç¤ºæ—¶é—´, ä¸‹æ–¹é»˜è®¤æœ‰ä¸ª todo çš„åŠŸèƒ½, å·¦ä¸‹è§’å¯ä»¥å¯¹æ ‡ç­¾é¡µè¿›è¡Œè®¾ç½®.</p><h2 id="Octotree"><a href="#Octotree" class="headerlink" title="Octotree"></a>Octotree</h2><p>è®©æµè§ˆ github ä»£ç å˜å¾—åƒæœ¬åœ°ç¼–è¾‘å™¨ä¸€æ ·è½»æ¾, å¯ä»¥æœç´¢æ–‡ä»¶, ç‚¹å‡»ä»£ç ç›®å½•è·³è½¬ç­‰, æ–¹ä¾¿åœ°åœ¨æ–‡ä»¶ä¹‹é—´åˆ‡æ¢</p><h2 id="Access-Control-Allow-Credentials-true"><a href="#Access-Control-Allow-Credentials-true" class="headerlink" title="Access-Control-Allow-Credentials: true"></a>Access-Control-Allow-Credentials: true</h2><p>å…è®¸è·¨åŸŸè®¿é—®</p><h2 id="Allow-Control-Allow-Origin"><a href="#Allow-Control-Allow-Origin" class="headerlink" title="Allow-Control-Allow-Origin: *"></a>Allow-Control-Allow-Origin: *</h2><p>åŒä¸Š</p><h2 id="Axure-RP-Extension-for-Chrome"><a href="#Axure-RP-Extension-for-Chrome" class="headerlink" title="Axure RP Extension for Chrome"></a>Axure RP Extension for Chrome</h2><p>AxureæŸ¥çœ‹æ’ä»¶</p><h2 id="EditThisCookie"><a href="#EditThisCookie" class="headerlink" title="EditThisCookie"></a>EditThisCookie</h2><p>Cookieä¿®æ”¹å·¥å…·</p><h2 id="EverSync-Sync-bookmarks-backup-favorites"><a href="#EverSync-Sync-bookmarks-backup-favorites" class="headerlink" title="EverSync - Sync bookmarks, backup favorites"></a>EverSync - Sync bookmarks, backup favorites</h2><p>ä¿å­˜ä¹¦ç­¾å·¥å…·</p><h2 id="React-Developer-Tools"><a href="#React-Developer-Tools" class="headerlink" title="React Developer Tools"></a>React Developer Tools</h2><h2 id="Redux-DevTools"><a href="#Redux-DevTools" class="headerlink" title="Redux DevTools"></a>Redux DevTools</h2><h2 id="Vue-js-devtools"><a href="#Vue-js-devtools" class="headerlink" title="Vue.js devtools"></a>Vue.js devtools</h2><h2 id="Google-ç¿»è¯‘"><a href="#Google-ç¿»è¯‘" class="headerlink" title="Google ç¿»è¯‘"></a>Google ç¿»è¯‘</h2><p>è°·æ­Œç¿»è¯‘</p><h2 id="PageSpeed-Insights-with-PNaCl"><a href="#PageSpeed-Insights-with-PNaCl" class="headerlink" title="PageSpeed Insights (with PNaCl)"></a>PageSpeed Insights (with PNaCl)</h2><p>ç½‘ç«™åŠ è½½é€Ÿåº¦ä¼˜åŒ–å·¥å…·</p><h2 id="æ˜é‡‘"><a href="#æ˜é‡‘" class="headerlink" title="æ˜é‡‘"></a>æ˜é‡‘</h2><p>æ˜é‡‘tabé¡µé»˜è®¤å·¥å…·<br>ä¸ºç¨‹åºå‘˜ã€è®¾è®¡å¸ˆã€äº§å“ç»ç†æ¯æ—¥å‘ç°ä¼˜è´¨å†…å®¹ã€‚</p><h2 id="æ½®æ±-æç®€ç•ªèŒ„é’Ÿä¸ç™½å™ªéŸ³"><a href="#æ½®æ±-æç®€ç•ªèŒ„é’Ÿä¸ç™½å™ªéŸ³" class="headerlink" title="æ½®æ± - æç®€ç•ªèŒ„é’Ÿä¸ç™½å™ªéŸ³"></a>æ½®æ± - æç®€ç•ªèŒ„é’Ÿä¸ç™½å™ªéŸ³</h2><p>æ½®æ±ï¼Œå±¡è·æ®Šè£çš„ç™½å™ªéŸ³ä¸“æ³¨è®¡æ—¶å™¨ï¼Œå¸®ä½ ä¿æŒä¸“æ³¨ï¼Œæå‡å·¥ä½œæ•ˆç‡ã€‚</p><h2 id="PPè°·æ­Œè®¿é—®åŠ©æ‰‹-æ°¸ä¹…å…è´¹-ä¸é™æ—¶"><a href="#PPè°·æ­Œè®¿é—®åŠ©æ‰‹-æ°¸ä¹…å…è´¹-ä¸é™æ—¶" class="headerlink" title="PPè°·æ­Œè®¿é—®åŠ©æ‰‹-æ°¸ä¹…å…è´¹-ä¸é™æ—¶"></a>PPè°·æ­Œè®¿é—®åŠ©æ‰‹-æ°¸ä¹…å…è´¹-ä¸é™æ—¶</h2><p>å¸®åŠ©è®¿é—®è¢«å°é”çš„è°·æ­Œå’Œæ——ä¸‹ç½‘ç«™ã€‚ä»£ç†æœåŠ¡å™¨ç¨³å®šï¼ŒVPNåŸç†ï¼ŒHTTPSçº§åˆ«åŠ å¯†ï¼Œç¡®ä¿é€šä¿¡å®‰å…¨ã€‚</p><h2 id="å¦‚ä½•å®‰è£…ä¸‹è½½çš„CRXæ’ä»¶"><a href="#å¦‚ä½•å®‰è£…ä¸‹è½½çš„CRXæ’ä»¶" class="headerlink" title="å¦‚ä½•å®‰è£…ä¸‹è½½çš„CRXæ’ä»¶"></a>å¦‚ä½•å®‰è£…ä¸‹è½½çš„CRXæ’ä»¶</h2><p>(1) ä»è®¾ç½®-&gt;æ›´å¤šå·¥å…·-&gt;æ‰©å±•ç¨‹åº æ‰“å¼€æ‰©å±•ç¨‹åºé¡µé¢ï¼Œæˆ–è€…åœ°å€æ è¾“å…¥ Chrome://extensions/ æŒ‰ä¸‹å›è½¦æ‰“å¼€æ‰©å±•ç¨‹åºé¡µ<br>(2) æ‰“å¼€æ‰©å±•ç¨‹åºé¡µé¢çš„â€œå¼€å‘è€…æ¨¡å¼â€(å³ä¸Šè§’)<br>(3) å°†crxæ–‡ä»¶æ‹–æ‹½åˆ°æ‰©å±•ç¨‹åºé¡µé¢ï¼Œå®Œæˆå®‰è£…</p><h2 id="Tampermonkey"><a href="#Tampermonkey" class="headerlink" title="Tampermonkey"></a>Tampermonkey</h2><p>å®‰è£…åå¯ä»¥æŸ¥æ‰¾åœ¨<a href="https://www.tampermonkey.net/scripts.php">ç½‘ç«™</a>æ‰¾æƒ³è¦çš„è„šæœ¬å®‰è£…</p><p>å®‰è£…æ–¹æ³•</p><ul><li>chromeåº”ç”¨å•†åº—</li><li><a href="https://www.crx4chrome.com/">ä¸ç¿»å¢™å¯ç”¨</a></li><li>[Tampermonkeyä¸‹è½½åœ°å€]<a href="https://www.crx4chrome.com/crx/755/">https://www.crx4chrome.com/crx/755/</a></li></ul><p><a href="https://greasyfork.org/zh-CN/users/104201-%E9%BB%84%E7%9B%90">ç ´è§£VIPä¼šå‘˜è§†é¢‘é›†åˆ</a></p><h2 id="Proxy-SwitchyOmega"><a href="#Proxy-SwitchyOmega" class="headerlink" title="Proxy SwitchyOmega"></a>Proxy SwitchyOmega</h2><p>ä»£ç†åˆ‡æ¢å·¥å…·</p><h2 id="GoogleHelper"><a href="#GoogleHelper" class="headerlink" title="GoogleHelper"></a><a href="http://googlehelper.net/">GoogleHelper</a></h2><p>å®‰è£…å¯ä»¥è®¿é—®Google</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>jså‰ç«¯å°çŸ¥è¯†</title>
      <link href="posts/js%E5%89%8D%E7%AB%AF%E5%B0%8F%E7%9F%A5%E8%AF%86/"/>
      <url>posts/js%E5%89%8D%E7%AB%AF%E5%B0%8F%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰ç«¯æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦"><a href="#å‰ç«¯æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="å‰ç«¯æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦"></a>å‰ç«¯æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦</h2><p> æ¯”å¦‚å›è½¦ï¼Œæ¢è¡Œï¼Œç­‰ã€‚<br>åœ¨windowä¸­ï¼Œæ¢è¡Œæœ‰å¯èƒ½æ˜¯\r\nè¿èµ·æ¥çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">str.replace(<span class="regexp">/\\n/g</span>, <span class="string">&quot;\\n&quot;</span>)</span><br><span class="line">  .replace(<span class="regexp">/\n/g</span>, <span class="string">&quot;\\n&quot;</span>)</span><br><span class="line">  .replace(<span class="regexp">/\\&#x27;/g</span>, <span class="string">&quot;\\&#x27;&quot;</span>)  </span><br><span class="line">  .replace(<span class="regexp">/&quot; &quot;/g</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">  .replace(<span class="regexp">/\\&quot;/g</span>, <span class="string">&quot;\\\&quot;&quot;</span>)  </span><br><span class="line">  .replace(<span class="regexp">/\\&amp;/g</span>, <span class="string">&quot;\\&amp;&quot;</span>)  </span><br><span class="line">  .replace(<span class="regexp">/\\r/g</span>, <span class="string">&quot;\\r&quot;</span>)  </span><br><span class="line">  .replace(<span class="regexp">/\\t/g</span>, <span class="string">&quot;\\t&quot;</span>)  </span><br><span class="line">  .replace(<span class="regexp">/\\b/g</span>, <span class="string">&quot;\\b&quot;</span>)  </span><br><span class="line">  .replace(<span class="regexp">/\\f/g</span>, <span class="string">&quot;\\f&quot;</span>);</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="jsè·å–optionsçš„åˆ—è¡¨å’Œæ¯ä¸ªçš„æ–‡æœ¬å’Œå€¼"><a href="#jsè·å–optionsçš„åˆ—è¡¨å’Œæ¯ä¸ªçš„æ–‡æœ¬å’Œå€¼" class="headerlink" title="jsè·å–optionsçš„åˆ—è¡¨å’Œæ¯ä¸ªçš„æ–‡æœ¬å’Œå€¼"></a>jsè·å–optionsçš„åˆ—è¡¨å’Œæ¯ä¸ªçš„æ–‡æœ¬å’Œå€¼</h2><p><code>var opts=document.getElementById(&quot;option&quot;).options;</code><br>opts[0].valueå¾—åˆ°ç¬¬ä¸€ä¸ªvalueçš„å€¼<br>opts[0].textå¾—åˆ°æ˜¾ç¤ºçš„æ–‡æœ¬å€¼</p><p>jsè·å–æ—¶é—´æˆ³<br><code>var nowTimestamp = new Date().getTime();</code><br>è·å–3ä¸ªå°æ—¶å‰çš„æ—¶é—´æˆ³<br><code>var threeHourAgo = nowTimestamp - 3 *60 * 60* 1000;</code></p><hr><h2 id="jsè·å–selecté€‰ä¸­çš„å€¼"><a href="#jsè·å–selecté€‰ä¸­çš„å€¼" class="headerlink" title="jsè·å–selecté€‰ä¸­çš„å€¼"></a>jsè·å–selecté€‰ä¸­çš„å€¼</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;#s option:selected&quot;</span>).text();  <span class="comment">//è·å–é€‰ä¸­çš„optionçš„æ–‡æœ¬å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–selectä¸­optionçš„è¢«é€‰ä¸­çš„valueå€¼ï¼Œ</span></span><br><span class="line">$(<span class="string">&quot;#s&quot;</span>).val();</span><br><span class="line">$(<span class="string">&quot;#s option:selected&quot;</span>).val();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// jsè·å–selecté€‰ä¸­çš„å€¼</span></span><br><span class="line"><span class="keyword">var</span> sel=<span class="built_in">document</span>.getElementById(<span class="string">&quot;select1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> index = sel.selectedIndex; <span class="comment">// é€‰ä¸­ç´¢å¼•</span></span><br><span class="line">albumid= sel.options[index].value;<span class="comment">//è¦çš„å€¼</span></span><br></pre></td></tr></table></figure><hr><h2 id="è·å–æ–‡æœ¬ä¸º-çš„å…ƒç´ "><a href="#è·å–æ–‡æœ¬ä¸º-çš„å…ƒç´ " class="headerlink" title="è·å–æ–‡æœ¬ä¸º{}çš„å…ƒç´ "></a>è·å–æ–‡æœ¬ä¸º{}çš„å…ƒç´ </h2><p>$(â€œtable tr td:contains(â€˜{}â€™)â€)</p><hr><h2 id="åœ¨å½“å‰å…ƒç´ ä¸Šæ·»åŠ ä¸€ä¸ªçˆ¶å…ƒç´ "><a href="#åœ¨å½“å‰å…ƒç´ ä¸Šæ·»åŠ ä¸€ä¸ªçˆ¶å…ƒç´ " class="headerlink" title="åœ¨å½“å‰å…ƒç´ ä¸Šæ·»åŠ ä¸€ä¸ªçˆ¶å…ƒç´ "></a>åœ¨å½“å‰å…ƒç´ ä¸Šæ·»åŠ ä¸€ä¸ªçˆ¶å…ƒç´ </h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™tableæ·»åŠ ä¸€ä¸ªdiv.table-responsiveçš„çˆ¶å…ƒç´ ï¼Œå¯ä»¥ä½¿tableå˜æˆå“åº”å¼çš„ã€‚</span></span><br><span class="line">$(<span class="string">&#x27;table&#x27;</span>).addClass(<span class="string">&#x27;table&#x27;</span>).wrap(<span class="string">&#x27;&lt;div class=&quot;table-responsive&quot;/&gt;&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="js-è§¦å‘resize"><a href="#js-è§¦å‘resize" class="headerlink" title="js è§¦å‘resize"></a>js è§¦å‘resize</h2><p>jQuery: $(selector).resize()<br> eg: $(window).resize();</p><p>jsçš„æš‚æœªæ‰¾åˆ°ï¼ï¼ï¼ï¼ï¼ï¼</p><h2 id="jsè®¾ç½®æ—¶é—´ä¸ºæ ‡å‡†æ—¶é—´æ ¼å¼"><a href="#jsè®¾ç½®æ—¶é—´ä¸ºæ ‡å‡†æ—¶é—´æ ¼å¼" class="headerlink" title="jsè®¾ç½®æ—¶é—´ä¸ºæ ‡å‡†æ—¶é—´æ ¼å¼"></a>jsè®¾ç½®æ—¶é—´ä¸ºæ ‡å‡†æ—¶é—´æ ¼å¼</h2><ul><li>æ™®é€š new Date();</li><li>var a = new Date(â€˜2016-10-12 12:12:11â€™);</li><li>è¿™ç§æƒ…å†µåœ¨safariä¸‹ä¸èƒ½ç”¨<br>ä¼šè¿”å›Invalid Date</li><li>å¯ä»¥ç”¨a == â€˜Invalid Dateâ€™ åˆ¤æ–­<br>new Date(â€˜2016/10/12 12:12:11â€™)</li><li>è¿™ç§å¯ä»¥åœ¨sarafiå’Œchromeä¸‹ä½¿ç”¨</li><li>äºæ˜¯ï¼Œ</li><li>var a = â€˜2016-10-12 12:12:11â€™</li><li>a = a.replace(/-/g,â€/â€œ)</li><li>var a = new Date(a)</li></ul><hr><h2 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout"></a>setTimeout</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;aaa&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">a();</span><br><span class="line">b();</span><br></pre></td></tr></table></figure><p>è°ƒç”¨ setTimeout å‡½æ•°ä¼šåœ¨ä¸€ä¸ªæ—¶é—´æ®µè¿‡å»ååœ¨é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªæ¶ˆæ¯ã€‚è¿™ä¸ªæ—¶é—´æ®µä½œä¸ºå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°è¢«ä¼ å…¥ã€‚å¦‚æœé˜Ÿåˆ—ä¸­æ²¡æœ‰å…¶å®ƒæ¶ˆæ¯ï¼Œæ¶ˆæ¯ä¼šè¢«é©¬ä¸Šå¤„ç†ã€‚ä½†æ˜¯ï¼Œå¦‚æœæœ‰å…¶å®ƒæ¶ˆæ¯ï¼ŒsetTimeout æ¶ˆæ¯å¿…é¡»ç­‰å¾…å…¶å®ƒæ¶ˆæ¯å¤„ç†å®Œã€‚å› æ­¤ç¬¬äºŒä¸ªå‚æ•°ä»…ä»…è¡¨ç¤ºæœ€å°‘çš„æ—¶é—´ è€Œéç¡®åˆ‡çš„æ—¶é—´<br>æ‰€ä»¥å³ä½¿ï¼Œæ—¶é—´è®¾ç½®ä¸º0ï¼Œä¹Ÿæ˜¯ä¼šç…§æ ·å…ˆæ‰§è¡Œå‡½æ•°b</p><hr><h2 id="js-replace-æ›¿æ¢ç©ºæ ¼"><a href="#js-replace-æ›¿æ¢ç©ºæ ¼" class="headerlink" title="js replace æ›¿æ¢ç©ºæ ¼"></a>js replace æ›¿æ¢ç©ºæ ¼</h2><p>var a = â€˜{â€œstringâ€:â€ â€œ,â€hexâ€:â€20â€,â€â€:â€ â€œ}â€™<br>a.replace(/â€œ â€œ/g, â€œâ€)</p><p>è¾“å‡ºç»“æœï¼šâ€{â€œstringâ€:,â€hexâ€:â€20â€,â€â€:}â€<br>è§£å†³åŠæ³•ï¼š<br>    a.replace(/â€œ â€œ/g, â€˜â€œâ€â€˜)<br>    a.replace(/â€œ â€œ/g, â€œ&quot; &quot;â€œ)</p><hr><h2 id="csså»é™¤æ‰€æœ‰è¾¹æ¡†"><a href="#csså»é™¤æ‰€æœ‰è¾¹æ¡†" class="headerlink" title="csså»é™¤æ‰€æœ‰è¾¹æ¡†"></a>csså»é™¤æ‰€æœ‰è¾¹æ¡†</h2><ol><li>border: none;</li><li>cellpadding=â€0â€ cellspacing=â€0â€</li></ol><h2 id="css-æ¢è¡Œ"><a href="#css-æ¢è¡Œ" class="headerlink" title="css æ¢è¡Œ"></a>css æ¢è¡Œ</h2><p><code>word-break: break-word;</code><br>åœ¨ç«ç‹ä¸‹ä¸æ”¯æŒï¼Œè§£å†³æ–¹æ¡ˆï¼š<br>æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="selector-tag">word-wrap</span>: <span class="selector-tag">break-word</span>;</span><br><span class="line"><span class="selector-tag">word-break</span>: <span class="selector-tag">break-all</span>;</span><br></pre></td></tr></table></figure><p>1ã€å¯¹å·²æœ‰å¯¹è±¡è¿›è¡Œæ‰©å……æ–¹æ³•å’Œå±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> object = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">   object.name = <span class="string">&quot;zhangsan&quot;</span>;<span class="comment">//æ¯ä¸ªå¯¹è±¡éœ€è¦å†™è¿™äº›è¯­å¥</span></span><br><span class="line">   object.sayName = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;<span class="comment">//æ¯ä¸ªå¯¹è±¡éœ€è¦å†™è¿™äº›è¯­å¥</span></span><br><span class="line">       <span class="built_in">this</span>.name = name;</span><br><span class="line">   &#125;;</span><br><span class="line">   object.sayName(<span class="string">&quot;lisi&quot;</span>);</span><br><span class="line">   alert(object.name);</span><br></pre></td></tr></table></figure><p>2ã€å·¥å‚æ–¹å¼åˆ›å»ºå¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createObject</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="keyword">var</span> object = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">       object.username = <span class="string">&quot;zhangsan&quot;</span>;</span><br><span class="line">       object.password = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">       object.get = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           alert(<span class="built_in">this</span>.username + <span class="string">&quot;,&quot;</span> + <span class="built_in">this</span>.password);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> object;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">var</span> object1 = createObject();</span><br><span class="line">   <span class="keyword">var</span> object2 = createObject();</span><br><span class="line">   object1.get();</span><br><span class="line">   object2.get();</span><br><span class="line"></span><br><span class="line">   <span class="comment">// å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">createObject</span>(<span class="params">username, password</span>)</span>&#123;</span><br><span class="line">       <span class="keyword">var</span> object = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">       object.username = username;</span><br><span class="line">       object.password = password;</span><br><span class="line">       object.get = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//ç¼ºç‚¹æ˜¯ï¼Œå¤šå°‘ä¸ªå¯¹è±¡åˆ™æ–¹æ³•å°±æœ‰å¤šå°‘ä¸ª</span></span><br><span class="line">           alert(<span class="built_in">this</span>.username + <span class="string">&quot;, &quot;</span> + <span class="built_in">this</span>.password);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> object;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">var</span> object1 = createObject(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">123456</span>);</span><br><span class="line">   object1.get();</span><br><span class="line"></span><br><span class="line">   <span class="comment">// æœ€ä½³æ”¹è¿›æ–¹å¼</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params"></span>)</span>&#123;<span class="comment">//ä½¿è¯¥å‡½æ•°è¢«å¤šä¸ªå¯¹è±¡å…±äº«</span></span><br><span class="line">       alert(<span class="built_in">this</span>.username + <span class="string">&quot;, &quot;</span> + <span class="built_in">this</span>.password);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">createObject</span>(<span class="params">username, password</span>)</span>&#123;<span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">       <span class="keyword">var</span> object = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">       object.username = username;</span><br><span class="line">       object.password = password;</span><br><span class="line">       object.get = get;</span><br><span class="line">       <span class="keyword">return</span> object;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">var</span> object1 = createObject(<span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">   <span class="keyword">var</span> object2 = createObject(<span class="string">&quot;wangwu&quot;</span>, <span class="string">&quot;654321&quot;</span>);</span><br><span class="line">   object1.get();</span><br><span class="line">   object2.get();</span><br></pre></td></tr></table></figure><p>3ã€æ„é€ å‡½æ•°æ–¹å¼åˆ›å»ºå¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="comment">//åœ¨æ‰§è¡Œç¬¬ä¸€è¡Œä»£ç æ¬ ï¼Œjså¼•æ“ä¼šä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">       <span class="built_in">this</span>.username = <span class="string">&quot;zhangsan&quot;</span>;</span><br><span class="line">       <span class="built_in">this</span>.password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">       <span class="built_in">this</span>.getInfo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           alert(<span class="built_in">this</span>.username + <span class="string">&quot;, &quot;</span> + <span class="built_in">this</span>.password);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//æ­¤å¤„æœ‰ä¸€ä¸ªéšè—çš„returnè¯­å¥ï¼Œç”¨äºå°†ä¹‹å‰ç”Ÿæˆå¯¹è±¡è¿”å›ã€‚</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line">   p1.getInfo();</span><br><span class="line"></span><br><span class="line">   <span class="comment">//å¸¦å‚æ•°</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">username, password</span>)</span>&#123;</span><br><span class="line">       <span class="built_in">this</span>.username = username;</span><br><span class="line">       <span class="built_in">this</span>.password = password;</span><br><span class="line">       <span class="built_in">this</span>.getInfo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           alert(<span class="built_in">this</span>.username + <span class="string">&quot;, &quot;</span> + <span class="built_in">this</span>.password);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">&quot;zhangsan&quot;</span>,<span class="string">&quot;1234546&quot;</span>);</span><br><span class="line">   p1.getInfo();</span><br></pre></td></tr></table></figure><p>4ã€åŸå‹ï¼ˆâ€œprototypeâ€ï¼‰æ–¹å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    Person.prototype.username = <span class="string">&quot;zhangsan&quot;</span>;</span><br><span class="line">    Person.prototype.password = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">    Person.prototype.getInfo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="built_in">this</span>.username + <span class="string">&quot;, &quot;</span> + <span class="built_in">this</span>.password);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">    <span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</span><br><span class="line">    person.username = <span class="string">&quot;haha&quot;</span>;</span><br><span class="line">    person.getInfo();</span><br><span class="line">    person2.getInfo();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å•çº¯ä½¿ç”¨åŸå‹æ–¹å¼å®šä¹‰å¯¹è±¡æ— æ³•åœ¨æ„é€ å‡½æ•°ä¸­ä¸ºå±æ€§èµ‹å€¼ï¼Œåªèƒ½åœ¨å¯¹è±¡ç”Ÿæˆåå†å»æ”¹å˜å±æ€§å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    Person.prototype.username = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    Person.prototype.password = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line"></span><br><span class="line">    Person.prototype.getInfo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="built_in">this</span>.username + <span class="string">&quot;, &quot;</span> + <span class="built_in">this</span>.password);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">    <span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</span><br><span class="line">    person.username.push(<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">    person.username.push(<span class="string">&quot;lisi&quot;</span>);</span><br><span class="line">    person.password = <span class="string">&quot;321&quot;</span>;</span><br><span class="line">    person.getInfo();</span><br><span class="line">    person2.getInfo();</span><br></pre></td></tr></table></figure><p>5ã€ç»¼åˆæ–¹å¼ï¼ˆåŸå‹+æ„é€ å‡½æ•°æ–¹å¼æ­é…ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.username = <span class="keyword">new</span> <span class="built_in">Array</span>();<span class="comment">//ä¸è¢«å¤šä¸ªå¯¹è±¡å…±äº«</span></span><br><span class="line">      <span class="built_in">this</span>.password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Person.prototype.getInfo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)//è¢«å¤šä¸ªå¯¹è±¡å…±äº«</span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      alert(<span class="built_in">this</span>.username + <span class="string">&quot;,&quot;</span> + <span class="built_in">this</span>.password);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line">  <span class="keyword">var</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line">  p1.username.push(<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">  p2.username.push(<span class="string">&quot;lisi&quot;</span>);</span><br><span class="line">  p1.getInfo();</span><br><span class="line">  p2.getInfo();</span><br></pre></td></tr></table></figure><p>6ã€åŠ¨æ€åŸå‹æ–¹å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.username = <span class="string">&quot;zhangsan&quot;</span>;</span><br><span class="line">    <span class="built_in">this</span>.password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">    <span class="comment">//é€šè¿‡æ ‡å¿—é‡è®©æ‰€æœ‰çš„å¯¹è±¡å…±äº«æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> Person.flag == <span class="string">&quot;undefined&quot;</span>)&#123;</span><br><span class="line">        alert(<span class="string">&quot;prototype&quot;</span>);</span><br><span class="line">        Person.prototype.getInfo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="built_in">this</span>.username + <span class="string">&quot;, &quot;</span> + <span class="built_in">this</span>.password);</span><br><span class="line">        &#125;</span><br><span class="line">        Person.flag = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line">p.getInfo();</span><br><span class="line">p2.getInfo();</span><br></pre></td></tr></table></figure><p>ä¸€é“å®¹æ˜“åšé”™çš„JavaScripté¢è¯•é¢˜</p><p><a href="http://caibaojian.com/toutiao/5446?fid=0#0-tsina-1-81079-397232819ff9a47a7b7e80a40613cfe1">http://caibaojian.com/toutiao/5446?fid=0#0-tsina-1-81079-397232819ff9a47a7b7e80a40613cfe1</a></p><hr><h2 id="jsè·å–å­—ç¬¦ä¸²å­—èŠ‚æ•°æ–¹æ³•å°ç»“"><a href="#jsè·å–å­—ç¬¦ä¸²å­—èŠ‚æ•°æ–¹æ³•å°ç»“" class="headerlink" title="jsè·å–å­—ç¬¦ä¸²å­—èŠ‚æ•°æ–¹æ³•å°ç»“"></a>jsè·å–å­—ç¬¦ä¸²å­—èŠ‚æ•°æ–¹æ³•å°ç»“</h2><p>  æ–¹æ³•ä¸€ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŸç†ï¼šæŠŠä¸­æ–‡å­—ç¬¦æ›¿æ¢æˆ2ä¸ªè‹±æ–‡å­—æ¯ï¼Œé‚£ä¹ˆå­—èŠ‚æ•°å°±æ˜¯2ï¼Œ</span></span><br><span class="line"><span class="comment">//\u0000è¿™ä¸ªè¡¨ç¤ºçš„æ˜¯unicodeç¼–ç </span></span><br><span class="line">alert(<span class="string">&#x27;aä½ å¥½&#x27;</span>.replace(<span class="regexp">/[^\u0000-\u00ff]/g</span>,<span class="string">&quot;aa&quot;</span>).length);</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»“æœæ˜¯6</span></span><br><span class="line"><span class="comment">//åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œç”¨æ­£åˆ™åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸­æ–‡ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå­—èŠ‚æ•°å°±åŠ 1ã€‚</span></span><br><span class="line"><span class="keyword">var</span> str=<span class="string">&#x27;æˆ‘æˆ‘æˆ‘&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> bytesCount;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; i++)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> c = str.charAt(i);</span><br><span class="line">  <span class="keyword">if</span> (<span class="regexp">/^[\u0000-\u00ff]$/</span>.test(c)) <span class="comment">//åŒ¹é…åŒå­—èŠ‚</span></span><br><span class="line">  &#123;</span><br><span class="line">  bytesCount += <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">  bytesCount += <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">alert(bytesCount);</span><br></pre></td></tr></table></figure><h3 id="å…³é”®"><a href="#å…³é”®" class="headerlink" title="å…³é”®"></a>å…³é”®</h3><p>åŒ¹é…ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š [\u4e00-\u9fa5]</p><p>åŒ¹é…åŒå­—èŠ‚å­—ç¬¦(åŒ…æ‹¬æ±‰å­—åœ¨å†…)ï¼š[^\u0000-\u00ff]</p><h2 id="è¿‡æ»¤ç‰¹æ®Šå­—ç¬¦"><a href="#è¿‡æ»¤ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="è¿‡æ»¤ç‰¹æ®Šå­—ç¬¦"></a>è¿‡æ»¤ç‰¹æ®Šå­—ç¬¦</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// /[&quot;&#x27;&lt;&gt;%;)(&amp;+]/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="regexp">/[&#x27;&quot;)-&gt;&lt;&amp;\\\/\.]/</span>.test(value)) &#123;</span><br><span class="line">    alert(<span class="string">&#x27;åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œä¸å…è®¸æäº¤!&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">IllegalString = <span class="string">&quot;\`~!#$%^&amp;*()+&#123;&#125;|\\:\&quot;&lt;&gt;?-=/,\&#x27;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pattern = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&quot;[%--`~!@#$^&amp;*()=|&#123;&#125;&#x27;:;&#x27;,\\\\\[\\].&lt;&gt;/?~ï¼@#ï¿¥â€¦â€¦&amp;*ï¼ˆï¼‰â€”â€”|&#123;&#125;ã€ã€‘â€˜ï¼›ï¼šâ€â€œ&#x27;ã€‚ï¼Œã€ï¼Ÿ]&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="regexp">/[ ,\\`,\\~,\\!,\\@,\#,\\$,\\%,\\^,\\+,\\*,\\&amp;,\\\\,\\/,\\?,\\|,\\:,\\.,\\&lt;,\\&gt;,\\&#123;,\&#125;,\\(,\\),\\&#x27;&#x27;,\\;,\\=,\&quot;]/</span>.test(key)) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="regexp">/[&#x27;&quot;)-&gt;&lt;&amp;\\\/\.]/</span>.test(key)) &#123;</span><br><span class="line"> alert(<span class="string">&#x27;åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œä¸å…è®¸æäº¤!&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1-å¦‚ä½•é€šè¿‡cssä½¿div-å®ç°å…¨å±æ•ˆæœ"><a href="#1-å¦‚ä½•é€šè¿‡cssä½¿div-å®ç°å…¨å±æ•ˆæœ" class="headerlink" title="1.å¦‚ä½•é€šè¿‡cssä½¿div å®ç°å…¨å±æ•ˆæœ"></a>1.å¦‚ä½•é€šè¿‡cssä½¿div å®ç°å…¨å±æ•ˆæœ</h2><p>â€“å…¨å±è¦ç´ ï¼š<br>    1.å…¨å±çš„å…ƒç´ åŠå…¶çˆ¶å…ƒç´ éƒ½è¦è®¾ç½®ä¸ºheight:100%,<br>    2.å°†html,bodyæ ‡ç­¾è®¾ç½®ä¸ºheight100%,<br>æ³¨ï¼šheight:100%æ˜¯è·Ÿéšå…¶çˆ¶å…ƒç´ é«˜åº¦å˜åŒ–è€Œå˜åŒ–çš„</p><h2 id="jQueryæ’ä»¶çš„å°è£…"><a href="#jQueryæ’ä»¶çš„å°è£…" class="headerlink" title="jQueryæ’ä»¶çš„å°è£…"></a>jQueryæ’ä»¶çš„å°è£…</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure><p>é—­åŒ…çš„ä½œç”¨<br>    â€“é¿å…å…¨å±€ä¾èµ–<br>    â€“é¿å…ç¬¬ä¸‰æ–¹ç ´å<br>    â€“å…¼å®¹jQueryæ“ä½œç¬¦â€˜$â€™å’ŒjQuery</p><h2 id="å¼€å‘æ–¹å¼"><a href="#å¼€å‘æ–¹å¼" class="headerlink" title="å¼€å‘æ–¹å¼"></a>å¼€å‘æ–¹å¼</h2><p>ç±»çº§åˆ«ç»„ä»¶å¼€å‘<br>    -å³ç»™jQueryå‘½åç©ºé—´ä¸‹æ·»åŠ æ–°çš„å…¨å±€å‡½æ•°ï¼Œä¹Ÿç§°é™æ€æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jQuery.myPlugin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š $.ajax,$.extend()</p><h2 id="å¯¹è±¡çº§åˆ«ç»„ä»¶å¼€å‘"><a href="#å¯¹è±¡çº§åˆ«ç»„ä»¶å¼€å‘" class="headerlink" title="å¯¹è±¡çº§åˆ«ç»„ä»¶å¼€å‘"></a>å¯¹è±¡çº§åˆ«ç»„ä»¶å¼€å‘</h2><p>-å³æŒ‚åœ¨jQueryåŸå‹ä¸‹çš„æ–¹æ³•ï¼Œè¿™æ ·é€šè¿‡é€‰æ‹©å™¨è·å–çš„jQueryå¯¹è±¡å®ä¾‹ä¹Ÿèƒ½å…±äº«è¯¥æ–¹æ³•ï¼Œ<br>    ä¹Ÿç§°åŠ¨æ€æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$.fn.myPlugin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">&#125;;</span><br><span class="line">è¿™é‡Œ$.fn===$.prototype</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼šaddClass()ã€attr()ç­‰ï¼Œéœ€è¦åˆ›å»ºå®ä¾‹æ¥è°ƒç”¨</p><h2 id="é“¾å¼è°ƒç”¨"><a href="#é“¾å¼è°ƒç”¨" class="headerlink" title="é“¾å¼è°ƒç”¨"></a>é“¾å¼è°ƒç”¨</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">eg: $(<span class="string">&quot;div&quot;</span>).next().addClass()....</span><br><span class="line"> $.fn.myPlugin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="comment">//do something</span></span><br><span class="line">     &#125;);</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure><p>ä»£ç è¯´æ˜ï¼š</p><ul><li>return this è¿”å›å½“å‰å¯¹è±¡ï¼Œæ¥ç»´æŠ¤æ’ä»¶çš„é“¾å¼è°ƒç”¨</li><li>each å¾ªç¯å®ç°æ¯ä¸ªå…ƒç´ çš„è®¿é—®</li></ul><h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$.fn.myPlugin  = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> me = $(<span class="built_in">this</span>),</span><br><span class="line">            instance = me.data(<span class="string">&quot;myPlugin&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(!instance)&#123;</span><br><span class="line">        me.data(<span class="string">&quot;myPlugin&quot;</span>,(instance= <span class="keyword">new</span> Plugin()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä»£ç è¯´æ˜ï¼š<br>    -å¦‚æœå®ä¾‹å­˜åœ¨åˆ™ä¸å†é‡æ–°åˆ›å»ºå®ä¾‹<br>    -åˆ©ç”¨data()æ¥å­˜æ”¾æ’ä»¶å¯¹è±¡çš„å®ä¾‹</p><h2 id="es6-ä»æ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ "><a href="#es6-ä»æ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ " class="headerlink" title="es6 ä»æ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ "></a>es6 ä»æ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ </h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> users = data.users</span><br><span class="line">result = users.find(<span class="function"><span class="params">ele</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> ele.username === username &amp;&amp; ele.password === password</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä»æ•°ç»„ä¸­åˆ é™¤æŸä¸ªå…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">splice(index, <span class="number">1</span>)</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„æ¯”è¾ƒ"><a href="#æ•°ç»„æ¯”è¾ƒ" class="headerlink" title="æ•°ç»„æ¯”è¾ƒ"></a>æ•°ç»„æ¯”è¾ƒ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 =[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 =[<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>];</span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">    arr1.sort() === arr1,</span><br><span class="line">    arr2.sort() === arr2,</span><br><span class="line">    arr1.sort() === arr2.sort()</span><br><span class="line">);</span><br><span class="line"><span class="comment">// true, true, false</span></span><br></pre></td></tr></table></figure><p>è§£æ:</p><p>arr.sortæ–¹æ³•å¯¹åŸå§‹æ•°ç»„è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„å¼•ç”¨ï¼Œè°ƒç”¨.sort(), å¯¹æ•°ç»„å†…å¯¹è±¡è¿›è¡Œæ’åº</p><p>å½“æ¯”è¾ƒå¯¹è±¡æ—¶ï¼Œæ•°ç»„çš„æ’åºé¡ºåºå¹¶ä¸é‡è¦ã€‚ç”±äºarr1.sort()å’Œarr1æŒ‡å‘å†…å­˜ä¸­çš„åŒä¸€å¯¹è±¡ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªè¿”å›true.</p><p>arr1.sort()å’Œarr2.sort()æ’åºé¡ºåºç›¸åŒï¼›ä½†ä»–ä»¬æŒ‡å‘å†…å­˜ä¸­çš„ä¸åŒå¯¹è±¡ï¼Œæ‰€ä»¥è¿”å›false</p><h2 id="å‰ç«¯å®ç°å³æ—¶é€šè®¯çš„æ–¹å¼æœ‰å“ªäº›ï¼Œå¹¶ä»‹ç»å¯¹åº”çš„ä¼˜ç¼ºç‚¹"><a href="#å‰ç«¯å®ç°å³æ—¶é€šè®¯çš„æ–¹å¼æœ‰å“ªäº›ï¼Œå¹¶ä»‹ç»å¯¹åº”çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å‰ç«¯å®ç°å³æ—¶é€šè®¯çš„æ–¹å¼æœ‰å“ªäº›ï¼Œå¹¶ä»‹ç»å¯¹åº”çš„ä¼˜ç¼ºç‚¹"></a>å‰ç«¯å®ç°å³æ—¶é€šè®¯çš„æ–¹å¼æœ‰å“ªäº›ï¼Œå¹¶ä»‹ç»å¯¹åº”çš„ä¼˜ç¼ºç‚¹</h2><h3 id="çŸ­è½®è¯¢"><a href="#çŸ­è½®è¯¢" class="headerlink" title="çŸ­è½®è¯¢"></a>çŸ­è½®è¯¢</h3><p>çŸ­è½®è¯¢çš„åŸç†å¾ˆç®€å•ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å®¢æˆ·ç«¯å°±å‘å‡ºä¸€ä¸ªè¯·æ±‚ï¼Œå»è·å–æœåŠ¡å™¨æœ€æ–°çš„æ•°æ®ï¼Œä¸€å®šç¨‹åº¦ä¸Šæ¨¡æ‹Ÿå®ç°äº†å³æ—¶é€šè®¯ã€‚</p><p>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¼ºï¼Œå®ç°éå¸¸ç®€å•<br>ç¼ºç‚¹ï¼šå»¶è¿Ÿæ€§é«˜ï¼Œéå¸¸æ¶ˆè€—è¯·æ±‚èµ„æºï¼Œå½±å“æ€§èƒ½</p><h3 id="comet"><a href="#comet" class="headerlink" title="comet"></a>comet</h3><p>cometæœ‰ä¸¤ç§ä¸»è¦å®ç°æ‰‹æ®µï¼Œ ä¸€ç§æ˜¯åŸºäºAJAXçš„é•¿è½®è¯¢(1ong-polling) æ–¹å¼ï¼Œ å¦ä¸€ç§æ˜¯åŸºäºIframeåŠhtml fileçš„æµ(streaming) æ–¹å¼ï¼Œé€šå¸¸è¢«å«åšé•¿è¿æ¥ã€‚</p><p>a.é•¿è½®è¯¢ä¼˜ç¼ºç‚¹ï¼š<br>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¥½ï¼Œèµ„æºæµªè´¹è¾ƒå°<br>ç¼ºç‚¹ï¼šæœåŠ¡å™¨holdè¿æ¥ä¼šæ¶ˆè€—èµ„æºï¼Œ è¿”å›æ•°æ®é¡ºåºæ— ä¿è¯ï¼Œéš¾äºç®¡ç†ç»´æŠ¤</p><p>b.é•¿è¿æ¥ä¼˜ç¼ºç‚¹ï¼š<br>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¥½ï¼Œæ¶ˆæ¯å³æ—¶åˆ°è¾¾ï¼Œä¸å‘æ— ç”¨è¯·æ±‚<br>ç¼ºç‚¹ï¼šæœåŠ¡å™¨ç»´æŠ¤é•¿è¿æ¥æ¶ˆè€—èµ„æº</p><h3 id="SSE"><a href="#SSE" class="headerlink" title="SSE"></a>SSE</h3><p>SSE(Server-Sent Eventï¼Œ æœåŠ¡ç«¯æ¨é€äº‹ä»¶) æ˜¯ä¸€ç§å…è®¸æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯æ¨é€æ–°æ•°æ®çš„HTML 5æŠ€æœ¯ã€‚</p><p>a.ä¼˜ç‚¹ï¼šåŸºäºHTTPè€Œç”Ÿï¼Œ å› æ­¤ä¸éœ€è¦å¤ªå¤šæ”¹é€ å°±èƒ½ä½¿ç”¨ï¼Œ ä½¿ç”¨æ–¹ä¾¿ï¼Œ è€Œwebsocketéå¸¸å¤æ‚ï¼Œ å¿…é¡»å€Ÿ<br>åŠ©æˆç†Ÿçš„åº“æˆ–æ¡†æ¶<br>b.ç¼ºç‚¹ï¼šåŸºäºæ–‡æœ¬ä¼ è¾“æ•ˆç‡æ²¡æœ‰websocketé«˜ï¼Œ ä¸æ˜¯ä¸¥æ ¼çš„åŒå‘é€šä¿¡ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æ— æ³•å¤ç”¨ä¹‹å‰çš„è¿æ¥ï¼Œéœ€è¦é‡æ–°å‘å‡ºç‹¬ç«‹çš„è¯·æ±‚</p><h3 id="Web-socket"><a href="#Web-socket" class="headerlink" title="Web socket"></a>Web socket</h3><p>Web socketæ˜¯ä¸€ä¸ªå…¨æ–°çš„ã€ç‹¬ç«‹çš„åè®®ï¼Œ åŸºäºTCPåè®®ï¼Œä¸httpåè®®å…¼å®¹ã€å´ä¸ä¼šèå…¥httpåè®®ï¼Œ ä»…ä»…ä½œä¸ºhtmL 5çš„ä¸€éƒ¨åˆ†ï¼Œ å…¶ä½œç”¨å°±æ˜¯åœ¨æœåŠ¡å™¨å’Œå®¢æˆ·<br>ç«¯ä¹‹é—´å»ºç«‹å®æ—¶çš„åŒå‘é€šä¿¡ã€‚<br>a.ä¼˜ç‚¹ï¼šçœŸæ­£æ„ä¹‰ä¸Šçš„å®æ—¶åŒå‘é€šä¿¡ï¼Œæ€§èƒ½å¥½ï¼Œä½å»¶è¿Ÿ<br>b.ç¼ºç‚¹ï¼šç‹¬ç«‹ä¸httpçš„åè®®ï¼Œ å› æ­¤éœ€è¦é¢å¤–çš„é¡¹ç›®æ”¹é€ ï¼Œä½¿ç”¨å¤æ‚åº¦é«˜ï¼Œå¿…é¡»å¼•å…¥æˆç†Ÿçš„åº“ï¼Œæ— æ³•å…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨</p><h3 id="Service-workers"><a href="#Service-workers" class="headerlink" title="Service workers"></a>Service workers</h3><p>Service Workerä»è‹±æ–‡ç¿»è¯‘è¿‡æ¥å°±æ˜¯ä¸€ä¸ªæœåŠ¡å·¥äººï¼Œ (æœåŠ¡äºå‰ç«¯é¡µé¢çš„åå°çº¿ç¨‹ï¼Œ åŸºäºWeb Workerå®ç°ã€‚æœ‰ç€ç‹¬ç«‹çš„jsè¿è¡Œç¯å¢ƒï¼Œåˆ†æ‹…ã€ååŠ©å‰ç«¯é¡µé¢å®Œæˆå‰ç«¯å¼€å‘è€…åˆ†é…çš„éœ€è¦åœ¨åå°æ‚„æ‚„æ‰§è¡Œçš„ä»»<br>åŠ¡ã€‚åŸºäºå®ƒå¯ä»¥å®ç°æ‹¦æˆªå’Œå¤„ç†ç½‘ç»œè¯·æ±‚ã€æ¶ˆæ¯æ¨é€ã€é™é»˜æ›´æ–°ã€äº‹ä»¶åŒæ­¥ç­‰æœåŠ¡ã€‚</p><p>ä¼˜åŠ¿åŠä½¿ç”¨åœºæ™¯ï¼š</p><p>â‘ ç¦»çº¿ç¼“å­˜ï¼šå¯ä»¥å°†H5åº”ç”¨ä¸­ä¸å˜åŒ–çš„èµ„æºæˆ–è€…å¾ˆå°‘å˜åŒ–çš„èµ„æºé•¿ä¹…çš„å­˜å‚¨åœ¨ç”¨æˆ·ç«¯ï¼Œæå‡åŠ è½½é€Ÿåº¦<br>é™ä½æµé‡æ¶ˆè€—ã€é™ä½æœåŠ¡å™¨å‹åŠ›ã€‚å¦‚ä¸­é‡åº¦çš„H5æ¸¸æˆã€æ¡†æ¶æ•°æ®ç‹¬ç«‹çš„webèµ„è®¯å®¢æˆ·ç«¯ã€webé‚®ä»¶å®¢æˆ·ç«¯ç­‰</p><p>â‘¡æ¶ˆæ¯æ¨é€ï¼šæ¿€æ´»æ²‰ç¡çš„ç”¨æˆ·ï¼Œæ¨é€å³æ—¶æ¶ˆæ¯ã€å…¬å‘Šé€šçŸ¥ï¼Œæ¿€å‘æ›´æ–°ç­‰ã€‚å¦‚webèµ„è®¯å®¢æˆ·ç«¯ã€webå³æ—¶é€šè®¯å·¥å…·ã€h5æ¸¸æˆç­‰è¿è¥äº§å“ã€‚</p><p>â‘¢äº‹ä»¶åŒæ­¥ï¼šç¡®ä¿webç«¯äº§ç”Ÿçš„ä»»åŠ¡å³ä½¿åœ¨ç”¨æˆ·å…³é—­äº†webé¡µé¢ä¹Ÿå¯ä»¥é¡ºåˆ©å®Œæˆã€‚å¦‚webé‚®ä»¶å®¢æˆ·ç«¯ã€webå³æ—¶é€šè®¯å·¥å…·ç­‰ã€‚</p><p>â‘£å®šæ—¶åŒæ­¥ï¼šå‘¨æœŸæ€§çš„è§¦å‘Service Workerè„šä¸­çš„å®šæ—¶åŒäº‹ä»¶ï¼Œå¯å€ŸåŠ©å®ƒæå‰åˆ·æ–°ç¼“å­˜å†…å®¹ã€‚å¦‚webèµ„è®¯å®¢æˆ·ç«¯ã€‚</p><h2 id="æ•°ç»„push"><a href="#æ•°ç»„push" class="headerlink" title="æ•°ç»„push"></a>æ•°ç»„push</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addToList</span>(<span class="params">item, list</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> list.push(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> result = addToList(<span class="string">&#x27;abc&#x27;</span>, [<span class="string">&#x27;de&#x27;</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">// ç»“æœæ˜¯2</span></span><br></pre></td></tr></table></figure><p>pushæ–¹æ³•è¿”å›æ–°æ•°ç»„çš„é•¿åº¦<br>pushæ–¹æ³•ä¿®æ”¹åŸå§‹æ•°ç»„ï¼Œå¦‚æœæƒ³ä»å‡½æ•°è¿”å›æ•°ç»„è€Œä¸æ˜¯æ•°ç»„é•¿åº¦ï¼Œåº”è¯¥å…ˆpushï¼Œåè¿”å›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list.push(item);</span><br><span class="line"><span class="keyword">return</span> list;</span><br></pre></td></tr></table></figure><h2 id="Scriptæ”¾åœ¨åº•éƒ¨ä¼šå½±å“DOMçš„è§£æå’Œæ¸²æŸ“å—"><a href="#Scriptæ”¾åœ¨åº•éƒ¨ä¼šå½±å“DOMçš„è§£æå’Œæ¸²æŸ“å—" class="headerlink" title="Scriptæ”¾åœ¨åº•éƒ¨ä¼šå½±å“DOMçš„è§£æå’Œæ¸²æŸ“å—"></a>Scriptæ”¾åœ¨åº•éƒ¨ä¼šå½±å“DOMçš„è§£æå’Œæ¸²æŸ“å—</h2><p>Scriptæ”¾åœ¨åº•éƒ¨å½±å“DOMæ¸²æŸ“ã€‚ä¸ä¼šå½±å“è§£æã€‚</p><h2 id="Scriptå†…çš„ä»£ç æ‰§è¡Œä¼šä¼šç­‰å¾…CSSåŠ è½½å®Œæˆä¹ˆ"><a href="#Scriptå†…çš„ä»£ç æ‰§è¡Œä¼šä¼šç­‰å¾…CSSåŠ è½½å®Œæˆä¹ˆ" class="headerlink" title="Scriptå†…çš„ä»£ç æ‰§è¡Œä¼šä¼šç­‰å¾…CSSåŠ è½½å®Œæˆä¹ˆ"></a>Scriptå†…çš„ä»£ç æ‰§è¡Œä¼šä¼šç­‰å¾…CSSåŠ è½½å®Œæˆä¹ˆ</h2><p>Scriptå†…çš„ä»£ç æ‰§è¡Œä¼šç­‰å¾…CSSåŠ è½½</p><h2 id="CSSåŠ è½½ä¼šå½±å“DOMContentLoadedä¹ˆ"><a href="#CSSåŠ è½½ä¼šå½±å“DOMContentLoadedä¹ˆ" class="headerlink" title="CSSåŠ è½½ä¼šå½±å“DOMContentLoadedä¹ˆ"></a>CSSåŠ è½½ä¼šå½±å“DOMContentLoadedä¹ˆ</h2><p>CSSä»£ç ä¸‹è‹¥æ— Scriptä»£ç æ®µï¼Œå°±ä¸ä¼šå½±å“DOMContentLoaded</p><p>ä¹Ÿå¯ä»¥å€ŸåŠ©<strong>æ§åˆ¶å°çš„Performance</strong>è¯¦ç»†çš„æŸ¥çœ‹HTMLçš„æ•´ä½“æ¸²æŸ“æµç¨‹ï¼Œè¿™æ˜¯æˆä¸ºé«˜çº§å‰ç«¯çš„ç¬¬ä¸€æ­¥ã€‚</p><h2 id="å®ç°Promise-all"><a href="#å®ç°Promise-all" class="headerlink" title="å®ç°Promise.all"></a>å®ç°Promise.all</h2><p>æ€è·¯</p><ol><li>æ¥æ”¶ä¸€ä¸ªPromiseå®ä¾‹çš„æ•°ç»„æˆ–å…·æœ‰Iteratoræ¥å£çš„å¯¹è±¡ä½œä¸ºå‚æ•°</li><li>è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„promiseå¯¹è±¡</li><li>éå†ä¼ å…¥çš„å‚æ•°ï¼Œç”¨promise.resolve()å°†å‚æ•°åŒ…ä¸€å±‚ï¼Œä½¿å…¶å˜æˆä¸€ä¸ªpromiseå¯¹è±¡</li><li>å‚æ•°æ‰€æœ‰å›è°ƒæˆåŠŸæ‰æ˜¯æˆåŠŸï¼Œè¿”å›å€¼æ•°ç»„ä¸å‚æ•°é¡ºåºä¸€è‡´</li><li>å‚æ•°æ•°ç»„å…¶ä¸­ä¸€ä¸ªå¤±è´¥ï¼Œåˆ™è§¦å‘å¤±è´¥çŠ¶æ€ï¼Œç¬¬ä¸€ä¸ªè§¦å‘å¤±è´¥çš„Promiseé”™è¯¯ä¿¡æ¯ä½œä¸ºPromise.allçš„é”™è¯¯ä¿¡æ¯</li></ol><p>æ‰©å±•</p><p>ä¸€èˆ¬æ¥è¯´ï¼ŒPromise.allç”¨æ¥å¤„ç†å¤šä¸ªå¹¶å‘è¯·æ±‚ï¼Œä¹Ÿæ˜¯ä¸ºäº†é¡µé¢æ•°æ®æ„é€ çš„æ–¹ä¾¿ï¼Œå°†ä¸€ä¸ªé¡µé¢æ‰€ç”¨åˆ°çš„åœ¨ä¸åŒæ¥å£çš„æ•°æ®ä¸€èµ·è¯·æ±‚è¿‡æ¥ã€‚<br>ä¸è¿‡å¦‚æœå…¶ä¸­ä¸€ä¸ªå€Ÿå£å¤±è´¥äº†ï¼Œå¤šä¸ªè¯·æ±‚ä¹Ÿå°±å¤±è´¥äº†ï¼Œé¡µé¢å¯èƒ½å•¥ä¹Ÿå‡ºä¸æ¥ï¼Œè¿™å°±çœ‹å½“å‰é¡µé¢çš„è€¦åˆç¨‹åº¦äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promiseAll</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(promises)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&#x27;argument must be a array&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> resolvedCounter = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> promiseNum = promises.length;</span><br><span class="line">        <span class="keyword">let</span> resolvedResult = [];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;promiseNum;i++) &#123;</span><br><span class="line">            <span class="built_in">Promise</span>.resolve(promises[i]).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">                resolvedCounter++;</span><br><span class="line">                resolvedResult[i] = value;</span><br><span class="line">                <span class="keyword">if</span> (resolvedCounter === promiseNum) &#123;</span><br><span class="line">                    <span class="keyword">return</span> resolve(resolvedResult)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> reject(error)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="number">1</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="number">2</span>)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="number">3</span>)</span><br><span class="line">    &#125;, <span class="number">3000</span>)</span><br><span class="line">&#125;)</span><br><span class="line">promiseAll([p3, p1, p2]).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>NodeJS è¿›é˜¶</title>
      <link href="posts/NodeJS-%E8%BF%9B%E9%98%B6/"/>
      <url>posts/NodeJS-%E8%BF%9B%E9%98%B6/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/nswbmw/N-blog">å‚è€ƒèµ„æ–™</a></p><h2 id="1-å®‰è£…Node-js"><a href="#1-å®‰è£…Node-js" class="headerlink" title="1. å®‰è£…Node.js"></a>1. å®‰è£…Node.js</h2><p>å®˜ç½‘ä¸‹è½½ç›´æ¥å®‰è£…</p><p>å®‰è£…æˆåŠŸåï¼Œè¾“å…¥npm -v å’Œnode -v æµ‹è¯•ã€‚</p><p>Linuxå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://nodejs.org/dist/v6.9.1/node-v6.9.1.tar.gz</span><br><span class="line">tar -xzvf node-v6.9.1.tar.gz</span><br><span class="line"><span class="built_in">cd</span> node-v6.9.1</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="ç‰ˆæœ¬ç®¡ç†"><a href="#ç‰ˆæœ¬ç®¡ç†" class="headerlink" title="ç‰ˆæœ¬ç®¡ç†"></a>ç‰ˆæœ¬ç®¡ç†</h3><p>ä½¿ç”¨<a href="https://github.com/creationix/nvm">nvm</a> æˆ– <a href="https://github.com/tj/n">n</a></p><h3 id="npm-æºç®¡ç†å·¥å…·"><a href="#npm-æºç®¡ç†å·¥å…·" class="headerlink" title="npm æºç®¡ç†å·¥å…·"></a>npm æºç®¡ç†å·¥å…·</h3><p>nrm ç”¨æ¥åˆ‡æ¢å®˜æ–¹npmæºå’Œå›½å†…npmæºï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åˆ‡æ¢å®˜æ–¹npmæºå’Œå…¬å¸ç§æœ‰npmæº</p><p>å…¨å±€å®‰è£… nrm :</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i nrm -g</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹nrmå†…ç½®çš„npmæºåœ°å€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nrm ls</span><br></pre></td></tr></table></figure><p>åˆ‡æ¢æº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm use cnpm</span><br></pre></td></tr></table></figure><p>éå¸¸æ£’çš„åšå®¢ï¼š<a href="http://blog.fens.me/">http://blog.fens.me</a><br> <a href="http://blog.fens.me/series-nodejs/">http://blog.fens.me/series-nodejs/</a></p><p>Node  æ•™ç¨‹<br><a href="https://github.com/nswbmw/N-blog/">https://github.com/nswbmw/N-blog/</a></p><p>Nodeæ–‡æ¡£åœ°å€ï¼š<br><a href="https://nodejs.org/api/fs.html#fs_event_open">https://nodejs.org/api/fs.html#fs_event_open</a><br>ä¸­æ–‡æ–‡æ¡£<br><a href="http://nodejs.cn/api/fs.html">http://nodejs.cn/api/fs.html</a><br>å…³äºæ–‡ä»¶è¯»å–ï¼Œå†™å…¥ File System<br>  è¯»å–æ–‡ä»¶</p><p><a href="https://segmentfault.com/a/1190000004957223">https://segmentfault.com/a/1190000004957223</a></p><p>express<br><a href="http://www.expressjs.com.cn/starter/generator.html">http://www.expressjs.com.cn/starter/generator.html</a><br>node+mongodbæ­å»ºåšå®¢<br><a href="https://segmentfault.com/a/1190000011794598">https://segmentfault.com/a/1190000011794598</a></p><p>Node è‡ªå­¦å®Œå…¨æ€»ç»“<br><a href="http://www.jianshu.com/p/22f62a08559f">http://www.jianshu.com/p/22f62a08559f</a></p><p>Node.jsæ•™ç¨‹<br>ä¸ƒå¤©å­¦ä¼šNodeJS<br><a href="http://nqdeng.github.io/7-days-nodejs/#1.1">http://nqdeng.github.io/7-days-nodejs/#1.1</a></p><p><a href="http://www.open-open.com/lib/view/1392611872538#_label2">http://www.open-open.com/lib/view/1392611872538#_label2</a></p><p><a href="https://github.com/alsotang/node-lessons">https://github.com/alsotang/node-lessons</a></p><blockquote><p>æˆ‘æ¥å¯¹åˆ›ä¸šå…¬å¸ä¸­ä½¿ç”¨ Nodejsï¼Œåšä¸€ä¸ªå°æ€»ç»“ï¼Œæˆ‘ä»¬åœ¨å¦¥å–„å¤„ç†äº† è¿ç»´ã€é›†ç¾¤ç®¡ç†ã€æ€§èƒ½è°ƒä¼˜ç­‰ç­‰è¿™äº›ä¼ ç»Ÿè¯­è¨€å·²ç»åšçš„éå¸¸æ£’éå¸¸æˆç†Ÿçš„é¢†åŸŸï¼Œåœ¨å¤§éƒ¨åˆ†çš„åˆ›ä¸šå…¬å¸ï¼Œéƒ½å¯ä»¥ç”±å‰ç«¯å›¢é˜Ÿæ¨åŠ¨ï¼Œæ¥ä½¿ç”¨ Nodejs å»æ¥ç®¡æ•°æ®è®¿é—®å±‚ä¸æ¸²æŸ“å±‚çš„äº‹æƒ…ï¼Œç­‰åˆ°å…¬å¸è§„æ¨¡ä¸Šæ¥ä»¥åï¼Œå°±å¯ä»¥ä¾é æ›´èµ„æ·±çš„å·¥ç¨‹å¸ˆä»¥åŠåŸæ¥å›¢é˜Ÿçš„æ²‰æ·€ï¼Œæ¥åš æ¯”å¦‚æ—¥å¿—ã€ç›‘æ§ç³»ç»Ÿã€åˆ†å¸ƒå¼æœåŠ¡æ¥å…¥è¿™äº›äº‹æƒ…ï¼ŒNodejs çš„è½åœ°éœ€è¦å‰ç«¯å·¥ç¨‹å¸ˆï¼Œéœ€è¦ Nodejs å·¥ç¨‹å¸ˆï¼Œæ›´éœ€è¦å¼ºå¤§çš„è¿ç»´ä¹‹é”¤ï¼Œäº†è§£é™¤äº† JS ä»¥å¤–çš„æ›´å¤šæŠ€èƒ½ï¼Œæ¯”å¦‚æ•°æ®åº“ï¼Œæ¯”å¦‚ç³»ç»Ÿçš„è®¾è®¡ï¼Œæ¯”å¦‚æ¥å£æœåŠ¡ï¼Œæ¯”å¦‚å›¢é˜Ÿè§„èŒƒåä½œæµç¨‹ç­‰ç­‰ç­‰ç­‰ï¼Œåœ¨å¤§å…¬å¸å¯ä»¥æ‰æ ¹ä¸€ä¸ªæ–¹å‘æŒ–ä¸‹å»ï¼Œåœ¨å°å…¬å¸åˆ™éœ€è¦æ”¾çœ¼å¤©ä¸‹ï¼Œç­¹å¤‡æœªæ¥ã€‚</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Expresså­¦ä¹ ç§¯ç´¯</title>
      <link href="posts/Express%E5%AD%A6%E4%B9%A0%E7%A7%AF%E7%B4%AF/"/>
      <url>posts/Express%E5%AD%A6%E4%B9%A0%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="express-å®˜ç½‘"><a href="#express-å®˜ç½‘" class="headerlink" title="express å®˜ç½‘"></a>express <a href="http://www.expressjs.com.cn/">å®˜ç½‘</a></h2><h2 id="pexpress-åº”ç”¨ç”Ÿæˆå™¨"><a href="#pexpress-åº”ç”¨ç”Ÿæˆå™¨" class="headerlink" title="pexpress åº”ç”¨ç”Ÿæˆå™¨"></a><a href="http://www.expressjs.com.cn/starter/generator.html">pexpress åº”ç”¨ç”Ÿæˆå™¨</a></h2><p>æƒ³ç”¨nodeæ¥åšä¸€ä¸ªåå°æœåŠ¡æ—¶ï¼Œçœ‹åˆ°äº†expressï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆä¸€ä¸ªç®€å•çš„åº”ç”¨éª¨æ¶ã€‚åœ¨æ­¤è®°å½•ä¸€ä¸‹å­¦ä¹ è¿‡ç¨‹ã€‚</p><h2 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1. å®‰è£…"></a>1. å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express-generator -g</span><br></pre></td></tr></table></figure><p>express -h æŸ¥çœ‹å¯ç”¨çš„å‘½ä»¤è¡Œé€‰é¡¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">express -h</span><br><span class="line"></span><br><span class="line">  Usage: express [options] [dir]</span><br><span class="line"></span><br><span class="line">  Options:</span><br><span class="line"></span><br><span class="line">    -h, --<span class="built_in">help</span>          output usage information</span><br><span class="line">    -V, --version       output the version number</span><br><span class="line">    -e, --ejs           add ejs engine support (defaults to jade)</span><br><span class="line">        --hbs           add handlebars engine support</span><br><span class="line">    -H, --hogan         add hogan.js engine support</span><br><span class="line">    -c, --css &lt;engine&gt;  add stylesheet &lt;engine&gt; support (less|stylus|compass|sass) (defaults to plain css)</span><br><span class="line">        --git           add .gitignore</span><br><span class="line">    -f, --force         force on non-empty directory</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="2-åˆ›å»ºåº”ç”¨"><a href="#2-åˆ›å»ºåº”ç”¨" class="headerlink" title="2. åˆ›å»ºåº”ç”¨"></a>2. åˆ›å»ºåº”ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">express node-server</span><br></pre></td></tr></table></figure><p>ä¼šè‡ªåŠ¨åˆ›å»ºå¥½å¤šæ–‡ä»¶<br>å„æ–‡ä»¶å«ä¹‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ app.js</span><br><span class="line">â”œâ”€â”€ bin</span><br><span class="line">â”‚   â””â”€â”€ www // å¯åŠ¨æœåŠ¡ï¼Œå¹¶ç›‘å¬ç«¯å£</span><br><span class="line">â”œâ”€â”€ package.json // åŒ…ç®¡ç†æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ public //ç›´æ¥è®¿é—®ç«¯å£ä¼šè®¿é—®åˆ°çš„æ–‡ä»¶</span><br><span class="line">â”‚   â”œâ”€â”€ images</span><br><span class="line">â”‚   â”œâ”€â”€ javascripts</span><br><span class="line">â”‚   â””â”€â”€ stylesheets</span><br><span class="line">â”‚       â””â”€â”€ style.css</span><br><span class="line">â”œâ”€â”€ routes // è·¯ç”±è®¾ç½®ï¼Œè®¾ç½®ä¸åŒè¯·æ±‚è·¯å¾„ä¸åŒå“åº”ï¼Œuser.jså°±æ˜¯è‡ªå®šä¹‰çš„</span><br><span class="line">â”‚   â”œâ”€â”€ index.js</span><br><span class="line">â”‚   â””â”€â”€ users.js</span><br><span class="line">â””â”€â”€ views   //æ¸²æŸ“è§†å›¾</span><br><span class="line">    â”œâ”€â”€ error.jade</span><br><span class="line">    â”œâ”€â”€ index.jade</span><br><span class="line">    â””â”€â”€ layout.jade</span><br></pre></td></tr></table></figure><h2 id="3-å®‰è£…ä¾èµ–"><a href="#3-å®‰è£…ä¾èµ–" class="headerlink" title="3. å®‰è£…ä¾èµ–"></a>3. å®‰è£…ä¾èµ–</h2><p>å…ˆè¿›å…¥é¡¹ç›®è·¯å¾„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> node-server</span><br></pre></td></tr></table></figure><p>å®‰è£…æ‰€æœ‰ä¾èµ–åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨åº”ç”¨"><a href="#å¯åŠ¨åº”ç”¨" class="headerlink" title="å¯åŠ¨åº”ç”¨"></a>å¯åŠ¨åº”ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DEBUG=node-server npm start</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®˜ç½‘æç¤ºwindowséœ€è¦ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œå®é™…æµ‹è¯•ï¼Œç”¨ä¸Šé¢çš„å°±å¯ä»¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> DEBUG=node-server &amp; npm start</span><br></pre></td></tr></table></figure><h2 id="åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€-http-localhost-3000-ç½‘å€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨äº†"><a href="#åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€-http-localhost-3000-ç½‘å€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨äº†" class="headerlink" title="åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:3000/ ç½‘å€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨äº†"></a>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href="http://localhost:3000/">http://localhost:3000/</a> ç½‘å€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨äº†</h2><h3 id="express-çƒ­éƒ¨ç½²ï¼Œä¿®æ”¹ä¸éœ€è¦é‡æ–°å¯åŠ¨"><a href="#express-çƒ­éƒ¨ç½²ï¼Œä¿®æ”¹ä¸éœ€è¦é‡æ–°å¯åŠ¨" class="headerlink" title="express çƒ­éƒ¨ç½²ï¼Œä¿®æ”¹ä¸éœ€è¦é‡æ–°å¯åŠ¨"></a>express çƒ­éƒ¨ç½²ï¼Œä¿®æ”¹ä¸éœ€è¦é‡æ–°å¯åŠ¨</h3><p>å®‰è£…node-dev</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g node-dev</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹package.jsonçš„scriptsï¼Œå¢åŠ devå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;node ./bin/www&quot;</span>,</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;node-dev ./bin/www&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="ç°åœ¨å¯åŠ¨æœåŠ¡ç”¨-npm-run-dev-å³å¯"><a href="#ç°åœ¨å¯åŠ¨æœåŠ¡ç”¨-npm-run-dev-å³å¯" class="headerlink" title="ç°åœ¨å¯åŠ¨æœåŠ¡ç”¨ npm run dev å³å¯"></a>ç°åœ¨å¯åŠ¨æœåŠ¡ç”¨ npm run dev å³å¯</h4><p>ä¿®æ”¹ä»£ç ä¼šå‘ç°å·²ç»æ›´æ”¹ã€‚</p><h3 id="express-è®¾ç½®getå’Œpostç”¨åŒä¸€ä¸ªæ–¹æ³•"><a href="#express-è®¾ç½®getå’Œpostç”¨åŒä¸€ä¸ªæ–¹æ³•" class="headerlink" title="express è®¾ç½®getå’Œpostç”¨åŒä¸€ä¸ªæ–¹æ³•"></a>express è®¾ç½®getå’Œpostç”¨åŒä¸€ä¸ªæ–¹æ³•</h3><p>ä¹‹å‰æ˜¯ router.get(â€˜/â€˜) æˆ– router.post(â€˜/â€˜), ç›´æ¥ç”¨router.all(â€˜/â€˜)å³å¯</p><p>nodeè¯»å†™æ–‡ä»¶api</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">readFile()</span><br><span class="line"></span><br><span class="line">writeFile()</span><br><span class="line"></span><br><span class="line">readFileAsync()</span><br><span class="line"></span><br><span class="line">writeFileAsync()</span><br><span class="line"></span><br><span class="line">createReadStream()</span><br><span class="line"></span><br><span class="line">createWriteStream()</span><br><span class="line"></span><br><span class="line">writestreamçš„åŒºåˆ«å’Œä¾‹å­æ²¡çœ‹åˆ°</span><br></pre></td></tr></table></figure><h2 id="vscode-è°ƒè¯•nodeæä¸å®šå•Šï¼Œ"><a href="#vscode-è°ƒè¯•nodeæä¸å®šå•Šï¼Œ" class="headerlink" title="vscode è°ƒè¯•nodeæä¸å®šå•Šï¼Œ~~~~~~~~~"></a>vscode è°ƒè¯•nodeæä¸å®šå•Šï¼Œ~~~~~~~~~</h2><h2 id="ç”¨expressç”Ÿæˆtoken-ä¾›æƒé™æ ¡éªŒ"><a href="#ç”¨expressç”Ÿæˆtoken-ä¾›æƒé™æ ¡éªŒ" class="headerlink" title="ç”¨expressç”Ÿæˆtoken ä¾›æƒé™æ ¡éªŒ"></a>ç”¨expressç”Ÿæˆtoken ä¾›æƒé™æ ¡éªŒ</h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MongoDB</title>
      <link href="posts/MongoDB/"/>
      <url>posts/MongoDB/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><a href="https://www.mongodb.com/download-center#community">ä¸‹è½½é“¾æ¥</a></p><p>ä¸‹è½½å®Œç›´æ¥å®‰è£…</p><h2 id="ç®¡ç†å·¥å…·ï¼š-Robomongo-å’Œ-Mongochef"><a href="#ç®¡ç†å·¥å…·ï¼š-Robomongo-å’Œ-Mongochef" class="headerlink" title="ç®¡ç†å·¥å…·ï¼š Robomongo å’Œ Mongochef"></a>ç®¡ç†å·¥å…·ï¼š Robomongo å’Œ Mongochef</h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Koa2 è¿›é˜¶</title>
      <link href="posts/Koa2-%E8%BF%9B%E9%98%B6/"/>
      <url>posts/Koa2-%E8%BF%9B%E9%98%B6/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Koa2æ˜¯ç°åœ¨æœ€æµè¡Œçš„åŸºäºNode.jså¹³å°çš„webå¼€å‘æ¡†æ¶ï¼Œå®ƒå¾ˆå°ï¼Œä½†æ‰©å±•æ€§å¾ˆå¼ºã€‚Koaç»™äººä¸€ç§å¹²å‡€åˆ©è½çš„æ„Ÿè§‰ï¼Œä½“ç§¯å°ã€ç¼–ç¨‹æ–¹å¼å¹²å‡€ã€‚<br>ä½¿ç”¨ koa ç¼–å†™ web åº”ç”¨ï¼Œé€šè¿‡ç»„åˆä¸åŒçš„ generatorï¼Œå¯ä»¥å…é™¤é‡å¤ç¹ççš„å›è°ƒå‡½æ•°åµŒå¥—ï¼Œå¹¶æå¤§åœ°æå‡é”™è¯¯å¤„ç†çš„æ•ˆç‡ã€‚ä¸€ä¸ªKoaåº”ç”¨å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«äº†ä¸€ä¸ªmiddlewareæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ç”±ä¸€ç»„Generatorå‡½æ•°ç»„æˆã€‚è¿™äº›å‡½æ•°è´Ÿè´£å¯¹HTTPè¯·æ±‚è¿›è¡Œå„ç§åŠ å·¥ï¼Œæ¯”å¦‚ç”Ÿæˆç¼“å­˜ã€æŒ‡å®šä»£ç†ã€è¯·æ±‚é‡å®šå‘ç­‰ç­‰ã€‚è¿™äº›ä¸­é—´ä»¶å‡½æ•°åŸºäº request è¯·æ±‚ä»¥ä¸€ä¸ªç±»ä¼¼äºæ ˆçš„ç»“æ„ç»„æˆå¹¶ä¾æ¬¡æ‰§è¡Œã€‚</p></blockquote><p>å‰ç½®çŸ¥è¯†ï¼š<br>js,ES6,node ,npm</p><a id="more"></a><h2 id="ç¬¬ä¸€èŠ‚-Koaå¼€å‘ç¯å¢ƒæ­å»º"><a href="#ç¬¬ä¸€èŠ‚-Koaå¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="ç¬¬ä¸€èŠ‚ Koaå¼€å‘ç¯å¢ƒæ­å»º"></a>ç¬¬ä¸€èŠ‚ Koaå¼€å‘ç¯å¢ƒæ­å»º</h2><ol><li><p>æ–°å»ºç›®å½•</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir koa2Tutorial</span><br><span class="line"><span class="built_in">cd</span> koa2Tutorial</span><br></pre></td></tr></table></figure></li><li><p>ç”Ÿæˆpackage.json æ–‡ä»¶</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…koaåŒ…</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save koa</span><br></pre></td></tr></table></figure></li><li><p>coding</p><p> å¼€å§‹ç¼–å†™koaå¯åŠ¨ä»£ç </p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">ctx.body = <span class="string">&#x27;Hello Koa2&#x27;</span>  </span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨</p></li></ol><p>åœ¨å‘½ä»¤è¡Œè¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node index.js</span><br></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ï¼š localhost:8040å°±èƒ½çœ‹åˆ°ç»“æœäº†</p><h2 id="ç¬¬2èŠ‚-async-await-ä½¿ç”¨æ–¹æ³•"><a href="#ç¬¬2èŠ‚-async-await-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ç¬¬2èŠ‚ async/await ä½¿ç”¨æ–¹æ³•"></a>ç¬¬2èŠ‚ async/await ä½¿ç”¨æ–¹æ³•</h2><p>ä»€ä¹ˆæ˜¯asyncå’Œawait</p><p>asyncæ˜¯å¼‚æ­¥çš„ç®€å†™</p><p>awaitè¿™é‡Œæ˜¯async awaitç®€å†™</p><p>asyncæ˜¯å£°æ˜ä¸€ä¸ªæ–¹æ³•æ˜¯å¼‚æ­¥çš„ï¼Œawaitæ˜¯ç­‰å¾…å¼‚æ­¥å®Œæˆã€‚</p><p>æ³¨æ„awaitå¿…é¡»æ˜¯åœ¨asyncæ–¹æ³•ä¸­æ‰å¯ä»¥ä½¿ç”¨å› ä¸ºawaitè®¿é—®æœ¬èº«ä¼šé€ æˆç¨‹åºåœæ­¢ï¼Œæ‰€ä»¥å¿…é¡»åœ¨å¼‚æ­¥æ–¹æ³•ä¸­æ‰å¯ä»¥ä½¿ç”¨</p><h2 id="async-åˆ°åº•èµ·ä»€ä¹ˆä½œç”¨"><a href="#async-åˆ°åº•èµ·ä»€ä¹ˆä½œç”¨" class="headerlink" title="async åˆ°åº•èµ·ä»€ä¹ˆä½œç”¨"></a>async åˆ°åº•èµ·ä»€ä¹ˆä½œç”¨</h2><p>asyncæ˜¯è®©æ–¹æ³•å˜æˆå¼‚æ­¥ï¼Œå…³é”®æ˜¯ä»–çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Œå¾—åˆ°åå¦‚ä½•å¤„ç†ï¼Ÿ</p><p>çœ‹ä¸€ä¸‹asyncæ–¹æ³•çš„è¿”å›å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testAsync</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello Async&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = testAsync()</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br></pre></td></tr></table></figure><p>åœ¨ç»ˆç«¯ä¸­è¿è¡Œnode testAsync.jsï¼Œå‘ç°è¿”å›çš„æ˜¯Promise</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node test.js</span><br><span class="line"><span class="built_in">Promise</span> &#123; <span class="string">&#x27;Hello async&#x27;</span> &#125;</span><br></pre></td></tr></table></figure><h2 id="awaitåœ¨ç­‰ä»€ä¹ˆ"><a href="#awaitåœ¨ç­‰ä»€ä¹ˆ" class="headerlink" title="awaitåœ¨ç­‰ä»€ä¹ˆ"></a>awaitåœ¨ç­‰ä»€ä¹ˆ</h2><p>awaitä¸€èˆ¬æ˜¯åœ¨ç­‰asyncæ–¹æ³•æ‰§è¡Œå®Œæ¯•ã€‚ä½†å…¶å®awaitç­‰å¾…çš„åªæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼(Promiseå¯¹è±¡)ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶æ™®é€šå€¼ã€‚çœ‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSomething</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;something&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">testAsync</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello Async&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> v1 = <span class="keyword">await</span> getSomething()</span><br><span class="line">    <span class="keyword">const</span> v2 = <span class="keyword">await</span> testAsync()</span><br><span class="line">    <span class="built_in">console</span>.log(v1, v2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test()</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸€ä¸ªæ˜¯å¼‚æ­¥å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯æ™®é€šå‡½æ•°ã€‚</p><p>å¯ä»¥çœ‹åˆ°éƒ½æ˜¯ç›´æ¥è¿”å›ç»“æœã€‚</p><h2 id="async-await-åŒæ—¶ä½¿ç”¨"><a href="#async-await-åŒæ—¶ä½¿ç”¨" class="headerlink" title="async/await åŒæ—¶ä½¿ç”¨"></a>async/await åŒæ—¶ä½¿ç”¨</h2><p>é€šè¿‡å‰é¢ä¸¤ä¸ªä¾‹å­ï¼Œå·²ç»åˆ†åˆ«äº†è§£åˆ°asyncå’Œawaitã€‚ç°åœ¨åšä¸ªè™šå‡çš„ä¾‹å­ï¼Œçœ‹ä¸‹ç­‰å¾…é—®é¢˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">takeLongTime</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            resolve(<span class="string">&#x27;long_time_value&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> v = <span class="keyword">await</span> takeLongTime()</span><br><span class="line">    <span class="built_in">console</span>.log(v)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test()</span><br></pre></td></tr></table></figure><h2 id="ç¬¬3èŠ‚-Getè¯·æ±‚æ¥æ”¶"><a href="#ç¬¬3èŠ‚-Getè¯·æ±‚æ¥æ”¶" class="headerlink" title="ç¬¬3èŠ‚ Getè¯·æ±‚æ¥æ”¶"></a>ç¬¬3èŠ‚ Getè¯·æ±‚æ¥æ”¶</h2><p>è¿™èŠ‚è¯¾çœ‹ä¸€ä¸‹Koaå¦‚ä½•å¤„ç†getè¯·æ±‚</p><h3 id="queryå’ŒquerystringåŒºåˆ«"><a href="#queryå’ŒquerystringåŒºåˆ«" class="headerlink" title="queryå’ŒquerystringåŒºåˆ«"></a>queryå’ŒquerystringåŒºåˆ«</h3><p>åœ¨Koa2ä¸­ï¼ŒGetè¯·æ±‚é€šè¿‡requestæ¥æ”¶ï¼Œä½†æ¥æ”¶æ–¹æ³•æœ‰ä¸¤ç§ï¼šqueryå’Œquerystringã€‚</p><ul><li>queryï¼š è¿”å›çš„æ˜¯æ ¼å¼åŒ–å¥½çš„å‚æ•°å¯¹è±¡</li><li>querystringï¼š è¿”å›çš„æ˜¯è¯·æ±‚å­—ç¬¦ä¸²</li></ul><p>å†™ä¸ªç®€å•çš„ä¾‹å­çœ‹ä¸‹è¾“å‡ºç»“æœã€‚</p><p>demo1.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line"> <span class="keyword">let</span> url = ctx.url</span><br><span class="line"> <span class="keyword">let</span> request = ctx.request</span><br><span class="line"> <span class="keyword">let</span> req_query = ctx.request.query</span><br><span class="line"> <span class="keyword">let</span> req_querystring = ctx.request.querystring</span><br><span class="line">   ctx.body = &#123;</span><br><span class="line">    url,</span><br><span class="line">    req_query,</span><br><span class="line">    req_querystring</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç ï¼Œåœ¨bodyä¸­è¿”å›äº†ä»ctxä¸­å–åˆ°çš„url, request, requeststring.</p><p>åœ¨ç»ˆç«¯ç”¨node demo1.jså¯åŠ¨æœåŠ¡ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥æŸ¥çœ‹é¡µé¢æ•ˆæœ</p><p><code>http://localhost:8040/?user=admin&amp;age=18</code></p><p>é¡µé¢è¾“å‡ºçš„ç»“æœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;url&quot;</span>:<span class="string">&quot;/?user=admin&amp;age=18&quot;</span>,<span class="string">&quot;req_query&quot;</span>:&#123;<span class="string">&quot;user&quot;</span>:<span class="string">&quot;admin&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="string">&quot;18&quot;</span>&#125;,<span class="string">&quot;req_querystring&quot;</span>:<span class="string">&quot;user=admin&amp;age=18&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="ç›´æ¥ä»ctxä¸­è·å–Getè¯·æ±‚"><a href="#ç›´æ¥ä»ctxä¸­è·å–Getè¯·æ±‚" class="headerlink" title="ç›´æ¥ä»ctxä¸­è·å–Getè¯·æ±‚"></a>ç›´æ¥ä»ctxä¸­è·å–Getè¯·æ±‚</h3><p>ä¸Šé¢ä»£ç æ˜¯åœ¨ctx.requestä¸­è·å–çš„requestå’Œrequeststringï¼Œ</p><p>è¿˜å¯ä»¥ç›´æ¥ä»ctxä¸­å¾—åˆ°Getè¯·æ±‚ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line"> <span class="keyword">let</span> url = ctx.url</span><br><span class="line"></span><br><span class="line"> <span class="comment">// ä» request ä¸­è·å–GETè¯·æ±‚</span></span><br><span class="line"> <span class="keyword">let</span> request = ctx.request</span><br><span class="line"> <span class="keyword">let</span> req_query = ctx.request.query</span><br><span class="line"> <span class="keyword">let</span> req_querystring = ctx.request.querystring</span><br><span class="line"></span><br><span class="line"> <span class="comment">// ä»ä¸Šä¸‹æ–‡è·å–GETè¯·æ±‚</span></span><br><span class="line"> <span class="keyword">let</span> ctx_query = ctx.query</span><br><span class="line"> <span class="keyword">let</span> ctx_querystring = ctx.querystring</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   ctx.body = &#123;</span><br><span class="line">    url,</span><br><span class="line">    req_query,</span><br><span class="line">    req_querystring,</span><br><span class="line">    ctx_query,</span><br><span class="line">    ctx_querystring</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹æ•ˆæœã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><p>è·å–GETè¯·æ±‚æ–¹å¼æœ‰ä¸¤ç§</p><ol><li>ä»requestè·å–</li><li>ä»ctxä¸­è·å–ã€‚</li></ol></li><li><p>è·å–çš„æ ¼å¼ä¹Ÿæœ‰ä¸¤ç§</p><ol><li>request</li><li>requeststring</li></ol></li></ul><h2 id="ç¬¬4èŠ‚-POSTè¯·æ±‚å¦‚ä½•æ¥æ”¶-1"><a href="#ç¬¬4èŠ‚-POSTè¯·æ±‚å¦‚ä½•æ¥æ”¶-1" class="headerlink" title="ç¬¬4èŠ‚ POSTè¯·æ±‚å¦‚ä½•æ¥æ”¶(1)"></a>ç¬¬4èŠ‚ POSTè¯·æ±‚å¦‚ä½•æ¥æ”¶(1)</h2><p>è¿™èŠ‚å­¦ä¹ POSTè¯·æ±‚çš„æ¥æ”¶æ–¹æ³•ã€‚</p><p>å¯¹äºPOSTï¼ŒKoa2æ²¡æœ‰å°è£…æ–¹ä¾¿çš„è·å–å‚æ•°æ–¹æ³•ï¼Œéœ€è¦é€šè¿‡è§£æä¸Šä¸‹æ–‡contextä¸­çš„åŸç”Ÿnode.jsè¯·æ±‚å¯¹è±¡reqæ¥è·å–ã€‚</p><p>è·å–Postè¯·æ±‚çš„æ­¥éª¤ï¼š</p><ol><li>è§£æä¸Šä¸‹æ–‡ctxä¸­çš„åŸç”Ÿnode.jså¯¹è±¡req</li><li>å°†postè¡¨å•æ•°æ®è§£ææˆquery string å­—ç¬¦ä¸²ã€‚</li><li>å°†å­—ç¬¦ä¸²è½¬æ¢æˆJSON</li></ol><p>ctx.requestå’Œctx.reqåŒºåˆ«</p><ul><li>ctx.request:æ˜¯Koa2ä¸­contextç»è¿‡å°è£…çš„è¯·æ±‚å¯¹è±¡ï¼Œç”¨èµ·æ¥æ›´ç®€å•ç›´è§‚</li><li>ctx.req: æ˜¯contextæä¾›çš„node.jsåŸç”ŸHTTPè¯·æ±‚å¯¹è±¡ã€‚å¯ä»¥å¾—åˆ°æ›´å¤šçš„å†…å®¹ã€‚</li></ul><h2 id="ctx-mothedå¾—åˆ°çš„è¯·æ±‚ç±»å‹"><a href="#ctx-mothedå¾—åˆ°çš„è¯·æ±‚ç±»å‹" class="headerlink" title="ctx.mothedå¾—åˆ°çš„è¯·æ±‚ç±»å‹"></a>ctx.mothedå¾—åˆ°çš„è¯·æ±‚ç±»å‹</h2><p>Koa2æä¾›äº†ctx.methodå±æ€§ï¼Œæ¥è·å–è¯·æ±‚ç±»å‹ã€‚æ ¹æ®ä¸åŒç±»å‹ç¼–å†™ä¸åŒçš„å“åº”ã€‚åœ¨å·¥ä½œä¸­å¾ˆå¸¸ç”¨ã€‚</p><p>å…ˆåšä¸ªå°ä¾‹å­ã€‚æ ¹æ®è¯·æ±‚ç±»å‹è·å–ä¸åŒçš„é¡µé¢å†…å®¹ã€‚GETè¯·æ±‚æ—¶å¾—åˆ°è¡¨å•å¡«å†™é¡µé¢ï¼ŒPOSTè¯·æ±‚æ—¶ï¼Œå¾—åˆ°POSTå¤„ç†é¡µé¢ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="comment">// å½“è¯·æ±‚æ˜¯getæ—¶ï¼Œæ˜¾ç¤ºè¡¨å•è®©ç”¨æˆ·å¡«å†™</span></span><br><span class="line">    <span class="keyword">if</span>(ctx.url === <span class="string">&#x27;/&#x27;</span> &amp;&amp; ctx.method === <span class="string">&#x27;GET&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> html = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;h1&gt;Koa2 request post demo&lt;/h1&gt;</span></span><br><span class="line"><span class="string">            &lt;form method=&quot;POST&quot;  action=&quot;/&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;p&gt;userName&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;input name=&quot;userName&quot; /&gt; &lt;br/&gt;</span></span><br><span class="line"><span class="string">                &lt;p&gt;age&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;input name=&quot;age&quot; /&gt; &lt;br/&gt;</span></span><br><span class="line"><span class="string">                &lt;p&gt;webSite&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;input name=&#x27;webSite&#x27; /&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="string">                &lt;button type=&quot;submit&quot;&gt;submit&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;/form&gt;</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">        ctx.body = html</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(ctx.url === <span class="string">&#x27;/&#x27;</span> &amp;&amp; ctx.method === <span class="string">&#x27;POST&#x27;</span>)&#123;</span><br><span class="line">        ctx.body = <span class="string">&#x27;æ¥æ”¶åˆ°çš„è¯·æ±‚&#x27;</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        ctx.body = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;h1&gt;404&lt;/h1&gt;</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å†™å®Œæ‰§è¡Œnode index.jsï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥<code>http://localhost:8040/</code>ï¼Œç¬¬ä¸€æ¬¡å±•ç°çš„æ˜¯è¡¨å•é¡µé¢ï¼Œç‚¹å‡»æäº¤åï¼Œè¿”å›æ¥æ”¶åˆ°çš„è¯·æ±‚ã€‚è¾“å…¥å…¶ä»–åœ°å€ï¼Œè¿”å›404.</p><h2 id="æ€»ç»“-4"><a href="#æ€»ç»“-4" class="headerlink" title="æ€»ç»“-4"></a>æ€»ç»“-4</h2><p>è¿™èŠ‚è¯¾ç†è®ºä¸Šå­¦ä¹ äº†å¦‚ä½•è·å–POSTè¯·æ±‚å‚æ•°ã€‚<br>å­¦ä¹ äº†å¦‚ä½•è·å–è¯·æ±‚ç±»å‹ï¼Œctx.method,å¹¶ç¼–å†™äº†ä¸€ä¸ªå°æ¡ˆä¾‹ã€‚</p><h2 id="ç¬¬5èŠ‚-POSTè¯·æ±‚å¦‚ä½•æ¥æ”¶å‚æ•°-2"><a href="#ç¬¬5èŠ‚-POSTè¯·æ±‚å¦‚ä½•æ¥æ”¶å‚æ•°-2" class="headerlink" title="ç¬¬5èŠ‚ POSTè¯·æ±‚å¦‚ä½•æ¥æ”¶å‚æ•°(2)"></a>ç¬¬5èŠ‚ POSTè¯·æ±‚å¦‚ä½•æ¥æ”¶å‚æ•°(2)</h2><p>è¿™èŠ‚è¯¾å…·ä½“å­¦ä¹ æ€ä¹ˆè§£æPOSTå‚æ•°ã€‚</p><h3 id="è§£æNodeåŸç”ŸPOSTå‚æ•°"><a href="#è§£æNodeåŸç”ŸPOSTå‚æ•°" class="headerlink" title="è§£æNodeåŸç”ŸPOSTå‚æ•°"></a>è§£æNodeåŸç”ŸPOSTå‚æ•°</h3><p>å…ˆå£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨Promiseå¯¹è±¡è§£æã€‚è¿™é‡Œä½¿ç”¨ctx.req.onæ¥æ”¶äº‹ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parsePostData</span>(<span class="params">ctx</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> postData = <span class="string">&#x27;&#x27;</span></span><br><span class="line">            ctx.req.on(<span class="string">&#x27;data&#x27;</span>, <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">                postData += data</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">            ctx.req.addListener(<span class="string">&#x27;end&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                resolve(postData)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;<span class="keyword">catch</span>(err)&#123;</span><br><span class="line">            reject(err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸ŠèŠ‚æ¥æ”¶POSTè¯·æ±‚çš„å¤„ç†æ–¹æ³•ï¼Œå¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ctx.body = &#x27;æ¥æ”¶åˆ°çš„è¯·æ±‚&#x27;</span></span><br><span class="line"><span class="keyword">let</span> postData = <span class="keyword">await</span> parsePostData(ctx)</span><br><span class="line">ctx.body = postData</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œç‚¹å‡»æäº¤å¯ä»¥çœ‹åˆ°è¿”å›å­—ç¬¦ä¸²</p><h3 id="POSTå­—ç¬¦ä¸²è§£ææˆJSONå¯¹è±¡"><a href="#POSTå­—ç¬¦ä¸²è§£ææˆJSONå¯¹è±¡" class="headerlink" title="POSTå­—ç¬¦ä¸²è§£ææˆJSONå¯¹è±¡"></a>POSTå­—ç¬¦ä¸²è§£ææˆJSONå¯¹è±¡</h3><p>ä¸Šé¢è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™é‡Œå†™ä¸€ä¸ªå°è£…JSONå¯¹è±¡çš„æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parseQueryStr</span>(<span class="params">queryStr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> queryData = &#123;&#125;</span><br><span class="line">    <span class="keyword">let</span> queryStrList = queryStr.split(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(queryStrList)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> [index, queryStr] <span class="keyword">of</span> queryStrList.entries()) &#123;</span><br><span class="line">        <span class="keyword">let</span> itemList = queryStr.split(<span class="string">&#x27;=&#x27;</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(itemList, <span class="string">&#x27;item&#x27;</span>)</span><br><span class="line">        queryData[itemList[<span class="number">0</span>]] = <span class="built_in">decodeURIComponent</span>(itemList[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> queryData</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹parsePostDataä¸­resolveè¿”å›å‰çš„è°ƒç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†postå‚æ•°ï¼Œåˆå¹¶ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parsePostData</span>(<span class="params">ctx</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> postData = <span class="string">&#x27;&#x27;</span></span><br><span class="line">            ctx.req.on(<span class="string">&#x27;data&#x27;</span>, <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">                postData += data</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">            ctx.req.addListener(<span class="string">&#x27;end&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">let</span> parseData = parseQueryStr(postData)</span><br><span class="line">                resolve(parseData)</span><br><span class="line"></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;<span class="keyword">catch</span>(err)&#123;</span><br><span class="line">            reject(err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨è¿”å›çš„æ˜¯jsonå¯¹è±¡ã€‚</p><h2 id="ç¬¬6èŠ‚-koa-bodyparserä¸­é—´ä»¶"><a href="#ç¬¬6èŠ‚-koa-bodyparserä¸­é—´ä»¶" class="headerlink" title="ç¬¬6èŠ‚ koa-bodyparserä¸­é—´ä»¶"></a>ç¬¬6èŠ‚ koa-bodyparserä¸­é—´ä»¶</h2><p>ä¸Šé¢å·²ç»å­¦ä¼šå¦‚ä½•è‡ªå·±ç¼–å†™ä»£ç æ¥æ”¶å¹¶è§£æPOSTè¯·æ±‚ã€‚æœ‰ç°æˆçš„å·¥å…·å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œkoa-bodyparser.</p><p>è¿™ç§è½®å­å«åšä¸­é—´ä»¶ã€‚å¯¹äºPOSTè¯·æ±‚çš„å¤„ç†ï¼Œkoa-bodyparserä¸­é—´ä»¶å¯ä»¥æŠŠkoa2ä¸Šä¸‹æ–‡å‘¢çš„formDataæ•°æ®è§£æåˆ°ctx.request.bodyä¸­</p><ol><li><p>å®‰è£…ä¸­é—´ä»¶</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save koa-bodyparser</span><br></pre></td></tr></table></figure></li><li><p>å¼•ç”¨</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;koa-bodyparser&#x27;</span>)</span><br><span class="line"></span><br><span class="line">app.use(bodyParser)</span><br></pre></td></tr></table></figure></li><li><p>ç›´æ¥ç”¨ctx.request.bodyè·å–POSTè¯·æ±‚å‚æ•°ï¼Œä¸­é—´ä»¶è‡ªåŠ¨åšäº†è§£æ</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;koa-bodyparser&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.use(bodyParser)  é”™è¯¯å†™æ³•ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line">app.use(bodyParser())</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="comment">// å½“è¯·æ±‚æ˜¯getæ—¶ï¼Œæ˜¾ç¤ºè¡¨å•è®©ç”¨æˆ·å¡«å†™</span></span><br><span class="line">    <span class="keyword">if</span>(ctx.url === <span class="string">&#x27;/&#x27;</span> &amp;&amp; ctx.method === <span class="string">&#x27;GET&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> html = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;h1&gt;Koa2 request post demo&lt;/h1&gt;</span></span><br><span class="line"><span class="string">            &lt;form method=&quot;POST&quot;  action=&quot;/&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;p&gt;userName&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;input name=&quot;userName&quot; /&gt; &lt;br/&gt;</span></span><br><span class="line"><span class="string">                &lt;p&gt;age&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;input name=&quot;age&quot; /&gt; &lt;br/&gt;</span></span><br><span class="line"><span class="string">                &lt;p&gt;webSite&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;input name=&#x27;webSite&#x27; /&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="string">                &lt;button type=&quot;submit&quot;&gt;submit&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;/form&gt;</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">        ctx.body = html</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(ctx.url === <span class="string">&#x27;/&#x27;</span> &amp;&amp; ctx.method === <span class="string">&#x27;POST&#x27;</span>)&#123;</span><br><span class="line">        <span class="comment">// ctx.body = &#x27;æ¥æ”¶åˆ°çš„è¯·æ±‚&#x27;</span></span><br><span class="line">        <span class="comment">// è¿™é‡Œæ˜¯æ–°å¢çš„</span></span><br><span class="line">        <span class="keyword">let</span> postData = ctx.request.body</span><br><span class="line">        ctx.body = postData</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        ctx.body = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;h1&gt;404&lt;/h1&gt;</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="ç»éªŒ"><a href="#ç»éªŒ" class="headerlink" title="ç»éªŒ"></a>ç»éªŒ</h2><p>æ³¨æ„åœ¨å¼•ç”¨æ—¶ï¼Œåˆ‡è®° ==app.use(bodyParser())== ä¸­çš„æ‹¬å·ï¼Œä¸å†™æ‹¬å·ä¼šæŠ¥é”™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">koa-bodyparser ctx.onerror is not a <span class="function"><span class="keyword">function</span></span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬7èŠ‚-Koa2åŸç”Ÿè·¯ç”±å®ç°"><a href="#ç¬¬7èŠ‚-Koa2åŸç”Ÿè·¯ç”±å®ç°" class="headerlink" title="ç¬¬7èŠ‚ Koa2åŸç”Ÿè·¯ç”±å®ç°"></a>ç¬¬7èŠ‚ Koa2åŸç”Ÿè·¯ç”±å®ç°</h2><p>è·¯ç”±ç”¨æ¥æ ¹æ®ä¸åŒçš„urlåˆ‡æ¢æ˜¾ç¤ºçš„é¡µé¢å†…å®¹ã€‚è¿™èŠ‚è¯¾ä¸å€ŸåŠ©ä¸­é—´ä»¶ï¼Œç”¨åŸç”Ÿæ–¹æ³•å®ç°ç®€å•è·¯ç”±ã€‚</p><h3 id="ctx-request-url"><a href="#ctx-request-url" class="headerlink" title="ctx.request.url"></a>ctx.request.url</h3><p>è¦å®ç°è·¯ç”±ï¼Œéœ€è¦å¾—åˆ°åœ°å€æ çš„è¯·æ±‚è·¯å¾„ã€‚æ ¹æ®è·¯å¾„çš„ä¸åŒè¿›è¡Œè·³è½¬ã€‚</p><p>é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œäº†è§£å¦‚ä½•é€šè¿‡ctx.request.urlæ¥è·å–è®¿é—®è·¯å¾„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line">app.use(bodyParser())</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> url = ctx.request.url</span><br><span class="line">    ctx.body = url</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ—¶ï¼Œè®¿é—®<code>http://localhost:8040/demo</code>,é¡µé¢è¾“å‡º/demoã€‚</p><p>æ ¹æ®è¿™ä¸ªï¼Œå¯ä»¥è·å–åˆ°ä¸åŒçš„è¯·æ±‚é“¾æ¥ã€‚</p><h3 id="åŸç”Ÿè·¯ç”±å®ç°"><a href="#åŸç”Ÿè·¯ç”±å®ç°" class="headerlink" title="åŸç”Ÿè·¯ç”±å®ç°"></a>åŸç”Ÿè·¯ç”±å®ç°</h3><p>å¤§ä½“æ€è·¯ï¼š</p><ol><li>æ ¹æ®ä¼ å…¥çš„urlï¼Œé€‰æ‹©å¯¹åº”çš„é¡µé¢åç§°</li><li>è°ƒç”¨fsè¯»å–æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å†…å®¹ä¼ ç»™ctx.bodyã€‚</li><li>é¡µé¢æ˜¾ç¤º</li></ol><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>caseä¸­å†™é€‰é¡¹æ—¶ï¼Œè¦æ³¨æ„urlçš„å…¨è·¯å¾„ï¼Œåˆšå¼€å§‹å†™çš„â€™todoâ€™, â€˜404â€™ è¿™æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œ<br>è¦å†™æˆâ€™/todoâ€™, â€˜/404â€™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> url = ctx.request.url</span><br><span class="line"></span><br><span class="line">    ctx.body = <span class="keyword">await</span> router(url)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">router</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> page = <span class="string">&#x27;404.html&#x27;</span></span><br><span class="line">    <span class="keyword">switch</span>(url) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">            page = <span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;/index&#x27;</span>:</span><br><span class="line">            page = <span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;/todo&#x27;</span>:</span><br><span class="line">            page = <span class="string">&#x27;todo.html&#x27;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;/404&#x27;</span>:</span><br><span class="line">            page = <span class="string">&#x27;404.html&#x27;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç”¨å¼‚æ­¥æ¥æ¥æ”¶htmlï¼Œé˜²æ­¢é¡µé¢å¡æ­»</span></span><br><span class="line">    <span class="keyword">let</span> html = <span class="keyword">await</span> render(page)</span><br><span class="line">    <span class="keyword">return</span> html</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">page</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> pageUrl = <span class="string">`./page/<span class="subst">$&#123;page&#125;</span>`</span></span><br><span class="line">        fs.readFile(pageUrl, <span class="string">&#x27;UTF-8&#x27;</span>, <span class="function">(<span class="params">err, data</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)&#123;</span><br><span class="line">                reject(err)</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                resolve(data)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-7"><a href="#æ€»ç»“-7" class="headerlink" title="æ€»ç»“-7"></a>æ€»ç»“-7</h2><p>è¿™èŠ‚è¯¾äº†è§£äº†å¦‚ä½•åŸç”Ÿå®ç°è·¯ç”±ã€‚</p><h2 id="ç¬¬8èŠ‚-Koa-routerä¸­é—´ä»¶å…¥é—¨-1"><a href="#ç¬¬8èŠ‚-Koa-routerä¸­é—´ä»¶å…¥é—¨-1" class="headerlink" title="ç¬¬8èŠ‚ Koa-routerä¸­é—´ä»¶å…¥é—¨(1)"></a>ç¬¬8èŠ‚ Koa-routerä¸­é—´ä»¶å…¥é—¨(1)</h2><p>ä¸ŠèŠ‚å†™çš„è·¯ç”±åªæ˜¯å¾ˆç®€å•çš„ä¾‹å­ï¼Œå®é™…é¡¹ç›®ä¸­éƒ½ä¼šç”¨å¼€æºçš„ä¸­é—´ä»¶æ¥å®Œæˆè·¯ç”±é…ç½®ã€‚</p><p>è¿™èŠ‚è¯¾ç”¨koa-routeræ¥å®ç°ã€‚</p><h2 id="1-å®‰è£…koa-router"><a href="#1-å®‰è£…koa-router" class="headerlink" title="1. å®‰è£…koa-router"></a>1. å®‰è£…koa-router</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save koa-router</span><br></pre></td></tr></table></figure><h2 id="2-koa-routeråŸºç¡€æ¡ˆä¾‹"><a href="#2-koa-routeråŸºç¡€æ¡ˆä¾‹" class="headerlink" title="2. koa-routeråŸºç¡€æ¡ˆä¾‹"></a>2. koa-routeråŸºç¡€æ¡ˆä¾‹</h2><p>å…ˆå†™ä¸€ä¸ªæœ€ç®€å•çš„koa-routerä¾‹å­ã€‚</p><ol><li>å¼•å…¥</li><li>æ–°å»ºä¸€ä¸ªå®ä¾‹</li><li>ä¸åŒè·¯ç”±é…ç½®</li><li>use</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> Router = <span class="built_in">require</span>(<span class="string">&#x27;koa-router&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> Router()</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">ctx, next</span>)</span>&#123;</span><br><span class="line">    ctx.body = <span class="string">&#x27;Hello Koa2&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(router.routes())</span><br><span class="line">    .use(router.allowedMethods())</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="å¤šé¡µé¢é…ç½®"><a href="#å¤šé¡µé¢é…ç½®" class="headerlink" title="å¤šé¡µé¢é…ç½®"></a>å¤šé¡µé¢é…ç½®</h3><p>å¤šé¡µé¢é…ç½®ï¼Œåªéœ€è¦åŠ get,postå³å¯ã€‚ç°åœ¨å¢åŠ ä¸€ä¸ªtodoé¡µé¢ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> Router = <span class="built_in">require</span>(<span class="string">&#x27;koa-router&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> Router()</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">ctx, next</span>)</span>&#123;</span><br><span class="line">    ctx.body = <span class="string">&#x27;Hello Koa2&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line">.get(<span class="string">&#x27;/todo&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">ctx, next</span>)</span>&#123;</span><br><span class="line">    ctx.body = <span class="string">&#x27;Todo Page&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.use(router.routes())</span><br><span class="line">    .use(router.allowedMethods())</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åˆ†åˆ«è®¿é—®<code>http://localhost:8040</code> å’Œ<code>http://localhost:8040/todo</code>ï¼Œå¯ä»¥çœ‹åˆ°ä¸åŒçš„ç»“æœã€‚</p><h2 id="ç¬¬9èŠ‚-Koa-routerä¸­é—´ä»¶-å±‚çº§-2"><a href="#ç¬¬9èŠ‚-Koa-routerä¸­é—´ä»¶-å±‚çº§-2" class="headerlink" title="ç¬¬9èŠ‚ Koa-routerä¸­é—´ä»¶ å±‚çº§(2)"></a>ç¬¬9èŠ‚ Koa-routerä¸­é—´ä»¶ å±‚çº§(2)</h2><h3 id="è®¾ç½®å‰ç¼€"><a href="#è®¾ç½®å‰ç¼€" class="headerlink" title="è®¾ç½®å‰ç¼€"></a>è®¾ç½®å‰ç¼€</h3><p>æœ‰æ—¶éœ€è¦æŠŠæ‰€æœ‰è·¯å¾„å‰åŠ ä¸€ä¸ªå±‚çº§ï¼Œä¾‹å¦‚ï¼Œ <code>http://localhost:8040/todo</code> åŠ ä¸€ä¸ªdemoå±‚çº§ï¼Œå˜æˆ<code>http://localhost:8040/demo/todo</code>.</p><p>è·¯ç”±åœ¨åˆ›å»ºæ—¶å¯ä»¥æŒ‡å®šä¸€ä¸ªå‰ç¼€ã€‚è¿™ä¸ªå‰ç¼€ä¼šè¢«æ·»åŠ åˆ°è·¯ç”±æœ€é¡¶å±‚ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">    prefix: <span class="string">&#x27;/demo&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è®¿é—®ï¼š</p><p><code>http://localhost:8040/demo/todo</code></p><p><code>http://localhost:8040/demo</code></p><p>å¯ä»¥çœ‹åˆ°é¡µé¢ï¼Œè®¿é—®åŸæ¥çš„è·¯å¾„ï¼Œä¼šæç¤ºNot Found</p><h3 id="è·¯ç”±å±‚çº§"><a href="#è·¯ç”±å±‚çº§" class="headerlink" title="è·¯ç”±å±‚çº§"></a>è·¯ç”±å±‚çº§</h3><p>ä¸Šé¢æ˜¯ä¸ºå…¨å±€è®¾ç½®å±‚çº§ï¼Œè¿™é‡Œä¸ºå•ä¸ªé¡µé¢è®¾ç½®å±‚çº§ï¼Œåªè¦åœ¨useæ—¶ï¼Œä½¿ç”¨è·¯å¾„å°±å¯ä»¥äº†ã€‚</p><p>è¿™é‡Œæ¼”ç¤ºä¸¤ä¸ªä¸åŒå±‚çº§çš„è·¯ç”±è®¾ç½®ã€‚ä¸€ä¸ªæ˜¯home,ä¸€ä¸ªæ˜¯page,é€šè¿‡useèµ‹äºˆä¸åŒçš„å‰å±‚çº§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨koa-router</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> Router = <span class="built_in">require</span>(<span class="string">&#x27;koa-router&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤ä¸ªå•ç‹¬çš„è·¯ç”±</span></span><br><span class="line"><span class="keyword">let</span> home = <span class="keyword">new</span> Router()</span><br><span class="line">home.get(<span class="string">&#x27;/koa&#x27;</span>, <span class="keyword">async</span>(ctx) =&gt;&#123;</span><br><span class="line">    ctx.body = <span class="string">&#x27;Hello Koa&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line">.get(<span class="string">&#x27;/todo&#x27;</span>, <span class="keyword">async</span>(ctx) =&gt; &#123;</span><br><span class="line">    ctx.body = <span class="string">&#x27;learning Koa&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> page = <span class="keyword">new</span> Router()</span><br><span class="line">page.get(<span class="string">&#x27;/koa&#x27;</span>, <span class="keyword">async</span>(ctx) =&gt;&#123;</span><br><span class="line">    ctx.body = <span class="string">&#x27;Hello Koa Page&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line">.get(<span class="string">&#x27;/todo&#x27;</span>, <span class="keyword">async</span>(ctx) =&gt; &#123;</span><br><span class="line">    ctx.body = <span class="string">&#x27;learning Koa Page&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è£…è½½æ‰€æœ‰å­è·¯ç”±</span></span><br><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> Router()</span><br><span class="line">router.use(<span class="string">&#x27;/home&#x27;</span>, home.routes(), home.allowedMethods())</span><br><span class="line">router.use(<span class="string">&#x27;/page&#x27;</span>, page.routes(), page.allowedMethods())</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ è½½è·¯ç”±ä¸­é—´ä»¶</span></span><br><span class="line">app.use(router.routes()).use(router.allowedMethods())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«è®¿é—®<code>/home/todo</code>,<code>/home/koa</code>,<code>/page/todo</code>, <code>/page/koa</code>å¯ä»¥çœ‹åˆ°ç»“æœã€‚</p><h2 id="ç¬¬10èŠ‚-Koa-router-ä¸­é—´ä»¶å‚æ•°-3"><a href="#ç¬¬10èŠ‚-Koa-router-ä¸­é—´ä»¶å‚æ•°-3" class="headerlink" title="ç¬¬10èŠ‚ Koa-router ä¸­é—´ä»¶å‚æ•° (3)"></a>ç¬¬10èŠ‚ Koa-router ä¸­é—´ä»¶å‚æ•° (3)</h2><p>è¿™èŠ‚å­¦ä¹ å¦‚ä½•ä¼ å‚</p><p>ç”¨ctx.queryæ¥æ”¶å‚æ•°</p><h2 id="ç¬¬11èŠ‚-Koaä¸­ä½¿ç”¨Cookie"><a href="#ç¬¬11èŠ‚-Koaä¸­ä½¿ç”¨Cookie" class="headerlink" title="ç¬¬11èŠ‚ Koaä¸­ä½¿ç”¨Cookie"></a>ç¬¬11èŠ‚ Koaä¸­ä½¿ç”¨Cookie</h2><p>è¿™èŠ‚å­¦ä¹ æ“ä½œcookieã€‚</p><p>Koaçš„ä¸Šä¸‹æ–‡(ctx)ç›´æ¥æä¾›äº†è¯»å–å’Œå†™å…¥çš„æ–¹æ³•ã€‚</p><ul><li>ctx.cookies.get(name, [options]): è¯»å–cookie</li><li>ctx.cookies.set(name, value, [options]): å†™å…¥cookie</li></ul><p>è¿™é‡Œçš„cookieæ˜¯å†™å…¥æµè§ˆå™¨ä¸­äº†</p><p>ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ“ä½œcookie</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line">app.use(<span class="keyword">async</span>(ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(ctx.url === <span class="string">&#x27;/index&#x27;</span>)&#123;</span><br><span class="line">        ctx.cookies.set(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;Hello Koa&#x27;</span>)</span><br><span class="line">        ctx.body = <span class="string">&#x27;cookie is set.&#x27;</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        ctx.body = <span class="string">&#x27;Hello Koa&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8040</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è®¿é—®<code>localhost:8040/index</code> ï¼ŒæŒ‰F12å¯ä»¥çœ‹åˆ°cookies</p><h3 id="Cookieé€‰é¡¹"><a href="#Cookieé€‰é¡¹" class="headerlink" title="Cookieé€‰é¡¹"></a>Cookieé€‰é¡¹</h3><p>ä¸€äº›é…ç½®é¡¹</p><ul><li>domain: cookieæ‰€åœ¨åŸŸå</li><li>path: æ‰€åœ¨è·¯å¾„</li><li>maxAge: æœ€å¤§æœ‰æ•ˆæ—¶é•¿</li><li>expires: cookieå¤±æ•ˆæ—¶é—´</li><li>httpOnly: æ˜¯å¦åªä»httpè¯·æ±‚ä¸­è·å–</li><li>overwrite: æ˜¯å¦å…è®¸é‡å†™</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ctx.cookies.set(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;Hello Koa&#x27;</span>,&#123;</span><br><span class="line">    domain:<span class="string">&#x27;localhost&#x27;</span>, <span class="comment">// å†™cookieæ‰€åœ¨çš„åŸŸå</span></span><br><span class="line">    path:<span class="string">&#x27;/index&#x27;</span>,       <span class="comment">// å†™cookieæ‰€åœ¨çš„è·¯å¾„</span></span><br><span class="line">    maxAge:<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>,   <span class="comment">// cookieæœ‰æ•ˆæ—¶é•¿</span></span><br><span class="line">    expires:<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;2018-12-31&#x27;</span>), <span class="comment">// cookieå¤±æ•ˆæ—¶é—´</span></span><br><span class="line">    httpOnly:<span class="literal">false</span>,  <span class="comment">// æ˜¯å¦åªç”¨äºhttpè¯·æ±‚ä¸­è·å–</span></span><br><span class="line">    overwrite:<span class="literal">false</span>  <span class="comment">// æ˜¯å¦å…è®¸é‡å†™</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="è¯»å–cookie"><a href="#è¯»å–cookie" class="headerlink" title="è¯»å–cookie"></a>è¯»å–cookie</h3><p>ç”¨ctx.cookies.get()æ¥è¯»å–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(ctx.cookies.get(<span class="string">&#x27;name&#x27;</span>))&#123;</span><br><span class="line">    ctx.body = ctx.cookies.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    ctx.body = <span class="string">&#x27;No cookie is set~~&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œå¦‚æœä¸Šé¢çš„pathè®¾ç½®çš„æ˜¯indexçš„è¯ï¼Œè®¿é—®localhost:8040æ˜¯è·å–ä¸åˆ°nameè¿™ä¸ªcookieçš„,<br>éœ€è¦å°†pathè®¾ä¸ºâ€™â€™</p><h2 id="ç¬¬12èŠ‚-Koa2-çš„æ¨¡æ¿åˆè¯†-ejs"><a href="#ç¬¬12èŠ‚-Koa2-çš„æ¨¡æ¿åˆè¯†-ejs" class="headerlink" title="ç¬¬12èŠ‚ Koa2 çš„æ¨¡æ¿åˆè¯† (ejs)"></a>ç¬¬12èŠ‚ Koa2 çš„æ¨¡æ¿åˆè¯† (ejs)</h2><p>å¼€å‘ä¸å¯èƒ½æŠŠæ‰€æœ‰çš„htmlä»£ç å…¨åŠ è½½åˆ°JSé‡Œï¼Œä¹Ÿæ²¡åŠæ³•å®Œæˆå¤§å‹webå¼€å‘ã€‚å¿…é¡»å€Ÿç”¨æ¨¡æ¿æ¥å¸®åŠ©æˆ‘ä»¬å¼€å‘ã€‚</p><p>è¿™èŠ‚ç®€å•äº†è§£ä¸€ä¸‹Koa2çš„æ¨¡æ¿æœºåˆ¶ã€‚éœ€è¦é ä¸­é—´ä»¶æ¥å®Œæˆå¼€å‘ã€‚</p><h3 id="å®‰è£…ä¸­é—´ä»¶"><a href="#å®‰è£…ä¸­é—´ä»¶" class="headerlink" title="å®‰è£…ä¸­é—´ä»¶"></a>å®‰è£…ä¸­é—´ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save koa-views</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-ejs-æ¨¡æ¿å¼•æ“"><a href="#å®‰è£…-ejs-æ¨¡æ¿å¼•æ“" class="headerlink" title="å®‰è£… ejs æ¨¡æ¿å¼•æ“"></a>å®‰è£… ejs æ¨¡æ¿å¼•æ“</h3><p>ejsæ˜¯è‘—åå¹¶ä¸”å¼ºå¤§çš„æ¨¡æ¿å¼•æ“ï¼Œå¯ä»¥å•ç‹¬å®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save ejs</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™æ¨¡æ¿"><a href="#ç¼–å†™æ¨¡æ¿" class="headerlink" title="ç¼–å†™æ¨¡æ¿"></a>ç¼–å†™æ¨¡æ¿</h3><p>ä¸ºäº†æ¨¡æ¿ç»Ÿä¸€ç®¡ç†ï¼Œæ–°å»ºä¸€ä¸ªviewæ–‡ä»¶å¤¹ï¼Œå¹¶æ–°å»ºindex.ejsæ–‡ä»¶</p><p>views/index.ejs</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// å¼•ç”¨ejsæ¨¡æ¿</span><br><span class="line"></span><br><span class="line">const Koa = require(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line">const views = require(<span class="string">&#x27;koa-views&#x27;</span>)</span><br><span class="line">const path = require(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line">const app = new Koa()</span><br><span class="line"></span><br><span class="line">app.use(views(path.join(__dirname, <span class="string">&#x27;./views&#x27;</span>), &#123;</span><br><span class="line">    extension: <span class="string">&#x27;ejs&#x27;</span></span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line">app.use(async(ctx)=&gt; &#123;</span><br><span class="line">    <span class="built_in">let</span> title = <span class="string">&#x27;Hello Koa2&#x27;</span></span><br><span class="line">    await ctx.render(<span class="string">&#x27;index&#x27;</span>, &#123;</span><br><span class="line">        title</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.listen(8040, ()=&gt;&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-12"><a href="#æ€»ç»“-12" class="headerlink" title="æ€»ç»“-12"></a>æ€»ç»“-12</h2><p>è¿™é‡Œåªæ˜¯ç®€å•çš„è®²è§£äº†koa2çš„æ¨¡æ¿æœºåˆ¶ã€‚</p><h2 id="ç¬¬13èŠ‚ï¼š-koa-staticé™æ€èµ„æºä¸­é—´ä»¶"><a href="#ç¬¬13èŠ‚ï¼š-koa-staticé™æ€èµ„æºä¸­é—´ä»¶" class="headerlink" title="ç¬¬13èŠ‚ï¼š koa-staticé™æ€èµ„æºä¸­é—´ä»¶"></a>ç¬¬13èŠ‚ï¼š koa-staticé™æ€èµ„æºä¸­é—´ä»¶</h2><p>å¼€å‘ä¸­ä¸åªè¦å¤„ç†ä¸šåŠ¡é€»è¾‘è¯·æ±‚ï¼Œä¹Ÿä¼šæœ‰å¾ˆå¤šé™æ€èµ„æºè¯·æ±‚ï¼Œå¦‚js, css, jpg, png è¿™äº›é™æ€è¯·æ±‚ã€‚æœ‰æ—¶å€™ä¹Ÿä¼šè®¿é—®é™æ€èµ„æºè·¯å¾„</p><p>ç”¨koaå¯ä»¥ç›´æ¥è®¿é—®è¿™äº›é™æ€æ–‡ä»¶ï¼Œä½†ä»£ç ä¼šå†—é•¿ï¼Œè¿™èŠ‚è¯¾åˆ©ç”¨ koa-static æ¥å®ç°é™æ€èµ„æºè®¿é—®ã€‚</p><h3 id="å®‰è£…koa-static"><a href="#å®‰è£…koa-static" class="headerlink" title="å®‰è£…koa-static"></a>å®‰è£…koa-static</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save koa-static</span><br></pre></td></tr></table></figure><h3 id="æ–°å»º-static-æ–‡ä»¶å¤¹"><a href="#æ–°å»º-static-æ–‡ä»¶å¤¹" class="headerlink" title="æ–°å»º static æ–‡ä»¶å¤¹"></a>æ–°å»º static æ–‡ä»¶å¤¹</h3><p>åœ¨staticæ–‡ä»¶å¤¹ä¸­æ”¾js, css, img<br>koa.png, test.js, style.css</p><h3 id="ä½¿ç”¨koa-static"><a href="#ä½¿ç”¨koa-static" class="headerlink" title="ä½¿ç”¨koa-static"></a>ä½¿ç”¨koa-static</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•ç”¨é™æ€èµ„æº</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">static</span> = <span class="built_in">require</span>(<span class="string">&#x27;koa-static&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> staticPath = <span class="string">&#x27;./static&#x27;</span></span><br><span class="line"></span><br><span class="line">app.use(<span class="keyword">static</span>(path.join(__dirname, staticPath)))</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> ( ctx ) =&gt; &#123;</span><br><span class="line">    ctx.body = <span class="string">&#x27;è®¿é—®é™æ€èµ„æºè¯•è¯• koa.png, test.js, style.css&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">app.listen(<span class="number">8040</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;[demo] start quick is starting at port 8040&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š</p><p><code>&lt;http://localhost:8040/style.css&gt;</code></p><p><code>&lt;http://localhost:8040/test.js&gt;</code></p><p><code>&lt;http://localhost:8040/koa.png&gt;</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> Koa </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reactå…¨å®¶æ¡¶è§†é¢‘æ•™ç¨‹</title>
      <link href="posts/React%E5%85%A8%E5%AE%B6%E6%A1%B6%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B/"/>
      <url>posts/React%E5%85%A8%E5%AE%B6%E6%A1%B6%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="å­¦ä¹ ç½‘å€"><a href="#å­¦ä¹ ç½‘å€" class="headerlink" title="å­¦ä¹ ç½‘å€"></a><a href="http://jspang.com/2017/08/15/react_basic/">å­¦ä¹ ç½‘å€</a></h2><p><a href="http://jspang.com/2017/10/22/react-all-01/">å…¨å®¶æ¡¶</a></p><h2 id="ç¬¬ä¸€èŠ‚-React-ç®€ä»‹"><a href="#ç¬¬ä¸€èŠ‚-React-ç®€ä»‹" class="headerlink" title="ç¬¬ä¸€èŠ‚ React ç®€ä»‹"></a>ç¬¬ä¸€èŠ‚ React ç®€ä»‹</h2><h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><p>Reactèµ·æºäºFacebookçš„å†…éƒ¨é¡¹ç›®ï¼Œè¯¥å…¬å¸ç§¯æå°è¯•å¼•å…¥HTML5æŠ€æœ¯ç”¨æ¥æ¶è®¾Instagramç½‘ç«™ï¼Œå¼€å‘ä¸­å‘ç°HTML5çš„æ€§èƒ½ä¸‹é™æ˜æ˜¾ï¼Œè¾¾ä¸åˆ°é¢„æœŸçš„æ•ˆæœã€‚ä»–ä»¬å°±è‡ªå·±å¼€å‘äº†Reactæ¡†æ¶ã€‚</p><p><a href="https://facebook.github.io/react/">ReactJSå®˜æ–¹åœ°å€</a></p><p><a href="https://github.com/facebook/react">GitHubåœ°å€</a></p><a id="more"></a><h3 id="react-ç‰¹ç‚¹"><a href="#react-ç‰¹ç‚¹" class="headerlink" title="react ç‰¹ç‚¹"></a>react ç‰¹ç‚¹</h3><ul><li>è™šæ‹ŸDOM: Reactä¹Ÿæ˜¯ä»¥æ•°æ®é©±åŠ¨çš„ï¼Œæ¯æ¬¡æ•°æ®å˜åŒ–Reactéƒ½ä¼šæ‰«ç æ•´ä¸ªè™šæ‹ŸDOMæ ‘ï¼Œè‡ªåŠ¨è®¡ç®—ä¸ä¸Šæ¬¡è™šæ‹ŸDOMçš„å·®å¼‚å˜åŒ–ï¼Œç„¶åé’ˆå¯¹éœ€è¦å˜åŒ–çš„éƒ¨åˆ†è¿›è¡Œå®é™…çš„æµè§ˆå™¨DOMæ›´æ–°ã€‚</li><li>ç»„ä»¶åŒ–ï¼š Reactå¯ä»¥ä»åŠŸèƒ½è§’åº¦æ¨ªå‘åˆ’åˆ†ï¼Œå°†UIåˆ†è§£æˆä¸åŒç»„ä»¶ï¼Œå„ç»„ä»¶éƒ½ç‹¬ç«‹å°è£…ï¼Œæ•´ä¸ªUIæ˜¯ç”±ä¸€ä¸ªä¸ªå°ç»„ä»¶æ„æˆçš„ä¸€ä¸ªå¤§ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶åªå…³ç³»è‡ªèº«çš„é€»è¾‘ï¼Œå½¼æ­¤ç‹¬ç«‹ã€‚</li><li>å•é¡¹æ•°æ®æµï¼šReactè®¾è®¡è€…è®¤ä¸ºæ•°æ®åŒå‘ç»‘å®šè™½ç„¶ä¾¿æ·ï¼Œä½†åœ¨å¤æ‚åœºæ™¯ä¸‹å‰¯ä½œç”¨ä¹Ÿæ˜¯å¾ˆæ˜æ˜¾ï¼Œæ‰€ä»¥Reactæ›´å€¾å‘äºå•å‘çš„æ•°æ®æµåŠ¨-ä»çˆ¶èŠ‚ç‚¹ä¼ é€’åˆ°å­èŠ‚ç‚¹ã€‚ï¼ˆä½¿ç”¨ReactLinkä¹Ÿå¯ä»¥å®ç°åŒå‘ç»‘å®šï¼Œä½†ä¸å»ºè®®ä½¿ç”¨ï¼‰</li></ul><h2 id="ç¬¬äºŒèŠ‚-æ„å»ºï¼šcreate-react-app-å¿«é€Ÿè„šæ‰‹æ¶-å®˜ç½‘"><a href="#ç¬¬äºŒèŠ‚-æ„å»ºï¼šcreate-react-app-å¿«é€Ÿè„šæ‰‹æ¶-å®˜ç½‘" class="headerlink" title="ç¬¬äºŒèŠ‚ æ„å»ºï¼šcreate-react-app å¿«é€Ÿè„šæ‰‹æ¶ å®˜ç½‘"></a>ç¬¬äºŒèŠ‚ æ„å»ºï¼šcreate-react-app å¿«é€Ÿè„šæ‰‹æ¶ <a href="https://github.com/facebookincubator/create-react-app">å®˜ç½‘</a></h2><h3 id="creat-react-appä¼˜ç‚¹"><a href="#creat-react-appä¼˜ç‚¹" class="headerlink" title="creat-react-appä¼˜ç‚¹"></a>creat-react-appä¼˜ç‚¹</h3><ul><li>æ— éœ€é…ç½®ï¼šå®˜æ–¹çš„é…ç½®å ªç§°å®Œç¾ï¼Œå‡ ä¹ä¸ç”¨ä½ å†é…ç½®ä»»ä½•ä¸œè¥¿ï¼Œå°±å¯ä»¥ä¸Šæ‰‹å¼€å‘é¡¹ç›®ã€‚</li><li>é«˜é›†æˆæ€§ï¼šé›†æˆäº†å¯¹Reactï¼ŒJSXï¼ŒES6å’ŒFlowçš„æ”¯æŒã€‚</li><li>è‡ªå¸¦æœåŠ¡ï¼šé›†æˆäº†å¼€å‘æœåŠ¡å™¨ï¼Œä½ å¯ä»¥å®ç°å¼€å‘é¢„è§ˆä¸€ä½“åŒ–ã€‚</li><li>çƒ­æ›´æ–°ï¼šä¿å­˜è‡ªåŠ¨æ›´æ–°ï¼Œè®©ä½ çš„å¼€å‘æ›´ç®€å•ã€‚</li><li>å…¨å…¼å®¹æ€§ï¼šè‡ªåŠ¨å¤„ç†CSSçš„å…¼å®¹é—®é¢˜ï¼Œæ— éœ€æ·»åŠ -webkitå‰ç¼€ã€‚</li><li>è‡ªåŠ¨å‘å¸ƒï¼šé›†æˆå¥½äº†å‘å¸ƒæˆå“åŠŸèƒ½ï¼Œç¼–è¯‘åç›´æ¥å‘å¸ƒï¼Œå¹¶ä¸”åŒ…å«äº†sourcemapsåŠŸèƒ½ã€‚</li></ul><h2 id="create-react-appå®‰è£…"><a href="#create-react-appå®‰è£…" class="headerlink" title="create-react-appå®‰è£…"></a>create-react-appå®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g create-react-app</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºReacté¡¹ç›®"><a href="#åˆ›å»ºReacté¡¹ç›®" class="headerlink" title="åˆ›å»ºReacté¡¹ç›®"></a>åˆ›å»ºReacté¡¹ç›®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create-react-app react-app</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š ç›®å½•åä¸è¦ä½¿ç”¨å¤§å°å†™ã€‚å› ä¸ºLinuxä¸‹æ˜¯ä¸¥æ ¼åŒºåˆ†å¤§å°å†™çš„ã€‚</p><h3 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š å¬æ‡‚ä¸ç­‰äºå­¦ä¼šï¼Œä¸€å®šè¦åŠ¨æ‰‹åšä¸€åšã€‚</p><h2 id="ç¬¬äºŒèŠ‚-æ„å»ºå·¥å…·-generator-react-webpack"><a href="#ç¬¬äºŒèŠ‚-æ„å»ºå·¥å…·-generator-react-webpack" class="headerlink" title="ç¬¬äºŒèŠ‚ æ„å»ºå·¥å…· generator-react-webpack"></a>ç¬¬äºŒèŠ‚ æ„å»ºå·¥å…· generator-react-webpack</h2><p>è¿™ä¹Ÿæ˜¯ä¸ªæ„å»ºå·¥å…·ï¼Œéœ€è¦yeomanæ”¯æŒã€‚</p><h3 id="ä¼˜ç‚¹ä»‹ç»"><a href="#ä¼˜ç‚¹ä»‹ç»" class="headerlink" title="ä¼˜ç‚¹ä»‹ç»"></a>ä¼˜ç‚¹ä»‹ç»</h3><ul><li>åŸºäºwebpackæ„å»ºï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„é…ç½®è‡ªå·±éœ€è¦çš„webpackã€‚</li><li>æ”¯æŒES6ï¼Œé›†æˆäº†Babel-Loaderã€‚</li><li>æ”¯æŒä¸åŒé£æ ¼çš„CSSï¼ˆsassï¼Œlessï¼Œstylusï¼‰ã€‚</li><li>æ”¯æŒPostCSSè½¬æ¢æ ·å¼ã€‚</li><li>é›†æˆäº†esLintåŠŸèƒ½ã€‚</li><li>å¯ä»¥è½»æ¾é…ç½®å•å…ƒæµ‹è¯•ï¼Œæ¯”å¦‚Karmaå’ŒMocha</li></ul><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>éœ€è¦å…ˆå®‰è£…yeoman</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g yo</span><br><span class="line">npm install -g generator-react-webpack</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºç›®å½•"><a href="#åˆ›å»ºç›®å½•" class="headerlink" title="åˆ›å»ºç›®å½•"></a>åˆ›å»ºç›®å½•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir new-react-demo</span><br></pre></td></tr></table></figure><p>è¿›å…¥æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> new-react-demo</span><br></pre></td></tr></table></figure><p>ç”¨ç”Ÿæˆå™¨ç”Ÿæˆé¡¹ç›®ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yo react-webpack</span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰èŠ‚-æ„å»ºï¼š-webpackä¸€æ­¥ä¸€æ­¥æ„å»º01"><a href="#ç¬¬ä¸‰èŠ‚-æ„å»ºï¼š-webpackä¸€æ­¥ä¸€æ­¥æ„å»º01" class="headerlink" title="ç¬¬ä¸‰èŠ‚ æ„å»ºï¼š webpackä¸€æ­¥ä¸€æ­¥æ„å»º01"></a>ç¬¬ä¸‰èŠ‚ æ„å»ºï¼š webpackä¸€æ­¥ä¸€æ­¥æ„å»º01</h2><p>ä»å¤´å¼€å§‹è‡ªå·±æ„å»ºä¸€ä¸ªç®€å•çš„Reactå¼€å‘ç¯å¢ƒã€‚</p><p>å»ºç«‹æ–‡ä»¶å¤¹,è¿›å…¥æ–‡ä»¶å¤¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir react-webpack</span><br><span class="line"><span class="built_in">cd</span> react-webpack</span><br></pre></td></tr></table></figure><p>å¯¹webpackåˆå§‹åŒ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure><p>å¦‚æœæ„Ÿè§‰ä¸€ç›´å›è½¦éº»çƒ¦ï¼Œå¯ä»¥åŠ -yå‚æ•°ï¼Œè¿™æ ·npmå°±ç›´æ¥ç”Ÿæˆäº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–åï¼Œå¯ä»¥å®‰è£…webpackäº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack</span><br></pre></td></tr></table></figure><h3 id="é…ç½®webpack-config-js"><a href="#é…ç½®webpack-config-js" class="headerlink" title="é…ç½®webpack.config.js"></a>é…ç½®webpack.config.js</h3><p>åœ¨æ ¹ç›®å½•å»ºç«‹webpack.config.js , å»ºç«‹åŸºæœ¬çš„å…¥å£å‡ºå£æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// å…¥å£æ–‡ä»¶</span></span><br><span class="line">    entry: <span class="string">&#x27;./app/index.js&#x27;</span>,</span><br><span class="line">    <span class="comment">// å‡ºå£æ–‡ä»¶</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">&#x27;index.js&#x27;</span>,</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶é…ç½®å¥½åï¼Œ è¦æ ¹æ®æ–‡ä»¶çš„ç»“æ„æ”¹é€ é¡¹ç›®ç›®å½•ã€‚åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºappå’Œdistæ–‡ä»¶å¤¹ï¼Œ<br>åœ¨appæ–‡ä»¶å¤¹é‡Œæ–°å»ºindex.jsæ–‡ä»¶</p><h3 id="æ–°å»ºindex-html"><a href="#æ–°å»ºindex-html" class="headerlink" title="æ–°å»ºindex.html"></a>æ–°å»ºindex.html</h3><p>åœ¨æ ¹ç›®å½•æ–°å»ºindex.htmlï¼Œ å¹¶å¼•å…¥webpackè®¾ç½®ä¸­çš„å‡ºå£æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Reactå…¨å®¶æ¡¶<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¼•å…¥å‡ºå£æ–‡ä»¶ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./dist/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ–°å»ºindex-js"><a href="#æ–°å»ºindex-js" class="headerlink" title="æ–°å»ºindex.js"></a>æ–°å»ºindex.js</h3><p>åœ¨/app/index.jsä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">component</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">    element.innerHTML = <span class="string">&#x27;Hello React&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> element</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(component())</span><br></pre></td></tr></table></figure><h3 id="åŠ å…¥æ‰“åŒ…å‘½ä»¤"><a href="#åŠ å…¥æ‰“åŒ…å‘½ä»¤" class="headerlink" title="åŠ å…¥æ‰“åŒ…å‘½ä»¤"></a>åŠ å…¥æ‰“åŒ…å‘½ä»¤</h3><p>åœ¨package.jsonä¸­ï¼Œscriptså±æ€§åŠ å…¥buildå‘½ä»¤</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &quot;webpack&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥npm run build ï¼Œå°±å¯ä»¥çœ‹åˆ°æ‰“åŒ…ç»“æœã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œæˆ‘ä»¬æ­£ç¡®å®‰è£…äº†webpackï¼Œè¿›è¡Œäº†å‡ºå…¥å£é…ç½®ï¼Œä¹Ÿçœ‹åˆ°äº†webpackçš„è¾“å‡ºæ•ˆæœã€‚</p><h3 id="å¼€å‘æœåŠ¡å™¨é…ç½®"><a href="#å¼€å‘æœåŠ¡å™¨é…ç½®" class="headerlink" title="å¼€å‘æœåŠ¡å™¨é…ç½®"></a>å¼€å‘æœåŠ¡å™¨é…ç½®</h3><p>æ·»åŠ å®æ—¶æ›´æ–°çš„æœåŠ¡</p><h3 id="å®‰è£…webpack-dev-server"><a href="#å®‰è£…webpack-dev-server" class="headerlink" title="å®‰è£…webpack-dev-server"></a>å®‰è£…webpack-dev-server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack-dev-server</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåé…ç½®webpack.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">    host: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    compress: <span class="literal">true</span>,</span><br><span class="line">    port: <span class="number">1717</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®å¥½åï¼Œåœ¨package.jsoné‡Œå¢åŠ scriptså‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &quot;webpack&quot;,</span><br><span class="line">    &quot;server&quot;: &quot;webpack-dev-server --open&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>â€“openæ˜¯è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œéƒ½é…ç½®å®Œæˆåå¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥npm run server çœ‹æ•ˆæœ</p><h3 id="è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨"><a href="#è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨" class="headerlink" title="è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨"></a>è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨</h3><p>ä¿®æ”¹ä»£ç æ—¶ï¼Œå¹¶ä¸èƒ½è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ï¼ŒæŸ¥çœ‹æœ€æ–°æ•ˆæœã€‚è€Œæ˜¯è¦å†æ¬¡npm run buildæ‰å¯ä»¥ã€‚<br>åªè¦åœ¨å‡ºå£æ–‡ä»¶é…ç½®ä¸­å¢åŠ ä¸€ä¸ªpublicPath: â€˜dist/â€˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    filename: <span class="string">&#x27;index.js&#x27;</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    publicPath: <span class="string">&#x27;dist/&#x27;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>åœ¨index.htmlä¸­å¼•å…¥js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./dist/index.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-3"><a href="#æ€»ç»“-3" class="headerlink" title="æ€»ç»“-3"></a>æ€»ç»“-3</h2><p>è¿™èŠ‚è¯¾ä¸»è¦é…ç½®webpackçš„åŸºæœ¬é…ç½®ã€‚</p><h2 id="ç¬¬4èŠ‚-æ„å»ºï¼š-webpackä¸€æ­¥ä¸€æ­¥æ„å»º02"><a href="#ç¬¬4èŠ‚-æ„å»ºï¼š-webpackä¸€æ­¥ä¸€æ­¥æ„å»º02" class="headerlink" title="ç¬¬4èŠ‚ æ„å»ºï¼š webpackä¸€æ­¥ä¸€æ­¥æ„å»º02"></a>ç¬¬4èŠ‚ æ„å»ºï¼š webpackä¸€æ­¥ä¸€æ­¥æ„å»º02</h2><p>ä¸ŠèŠ‚å¯¹webpackè¿›è¡ŒåŸºç¡€é…ç½®ï¼Œå·²ç»èƒ½æ‰“åŒ…åˆ°é¡µé¢ä¸­ã€‚è¿™èŠ‚ä¸»è¦é’ˆå¯¹ES6å’ŒReacté…ç½®ã€‚<br>å­¦ä¹ ä¹‹å‰éœ€ç¡®ä¿ä¸ŠèŠ‚é…ç½®å®Œæˆã€‚</p><h3 id="Babelå®‰è£…é…ç½®"><a href="#Babelå®‰è£…é…ç½®" class="headerlink" title="Babelå®‰è£…é…ç½®"></a>Babelå®‰è£…é…ç½®</h3><p>webpacké…ç½®Babeléœ€è¦å…ˆåŠ å…¥babel-loaderï¼Œè¿˜éœ€è¦æ”¯æŒes2015,Reactï¼Œæ‰€ä»¥å®‰è£…4ä¸ªåŒ…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-core babel-loader babel-preset-es2015 babel-preset-react</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œä¼šåœ¨package.jsonä¸­çœ‹åˆ°è¿™äº›åŒ…å’Œç‰ˆæœ¬ä¿¡æ¯</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&quot;devDependencies&quot;: &#123;</span><br><span class="line">    &quot;babel-core&quot;: &quot;^6.26.0&quot;,</span><br><span class="line">    &quot;babel-loader&quot;: &quot;^7.1.2&quot;,</span><br><span class="line">    &quot;babel-preset-es2015&quot;: &quot;^6.24.1&quot;,</span><br><span class="line">    &quot;babel-preset-react&quot;: &quot;^6.24.1&quot;,</span><br><span class="line">    &quot;webpack&quot;: &quot;^3.8.1&quot;,</span><br><span class="line">    &quot;webpack-dev-server&quot;: &quot;^2.9.4&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é…ç½®module"><a href="#é…ç½®module" class="headerlink" title="é…ç½®module"></a>é…ç½®module</h3><p>åœ¨webpack.config.jsä¸­é…ç½®moduleï¼Œå³loaderã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">module</span>: &#123;</span><br><span class="line">    loaders: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">            exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">            loaders: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">            query: &#123;</span><br><span class="line">                presets: [<span class="string">&#x27;es2015&#x27;</span>, <span class="string">&#x27;react&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™React"><a href="#ç¼–å†™React" class="headerlink" title="ç¼–å†™React"></a>ç¼–å†™React</h3><p>webpakcå·²ç»é…ç½®å®Œæˆã€‚ è¿™é‡Œå†™ä¸€ä¸ªReactæ–‡ä»¶æ¥æµ‹è¯•ä¸€ä¸‹ã€‚</p><p>å…ˆå®‰è£…Reactå’ŒReact-domè¿™ä¸¤ä¸ªåŒ…ã€‚</p><h3 id="å®‰è£…Reactå’ŒReact-dom"><a href="#å®‰è£…Reactå’ŒReact-dom" class="headerlink" title="å®‰è£…Reactå’ŒReact-dom"></a>å®‰è£…Reactå’ŒReact-dom</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save react react-dom</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œå°†app/index.jsä¸­çš„åŸç”Ÿjsä»£ç æ”¹å†™æˆReactä»£ç ã€‚</p><p>index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;div&gt;Hello Webpack&lt;/div&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¢åŠ äº†#appçš„divï¼Œåœ¨index.htmlä¸­æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆåï¼Œnpm run serverå¯ä»¥çœ‹åˆ°æ•ˆæœã€‚æ¥ä¸‹æ¥å°±å¯ä»¥æ„‰å¿«çš„å¼€å‘äº†</p><h2 id="æ€»ç»“-4"><a href="#æ€»ç»“-4" class="headerlink" title="æ€»ç»“-4"></a>æ€»ç»“-4</h2><p>å…¶å®è‡ªå·±é…ç½®Reactå¼€å‘ç¯å¢ƒåœ¨å®é™…å·¥ä½œä¸­å¹¶ä¸å¤šã€‚å› ä¸ºæˆ‘ä»¬çš„é…ç½®ä¸æ˜¯å¾ˆæˆç†Ÿï¼Œè€Œä¸”æ”¯æŒè¾ƒå°‘ã€‚</p><p>è¿™é‡Œå­¦ä¹ åªæ˜¯ä¸ºäº†æ›´å¥½çš„æŒæ¡Reactæ„å»ºè¿‡ç¨‹å’Œè®¾ç½®å‚æ•°ï¼Œå®é™…å·¥ä½œä¸­å°½é‡ä½¿ç”¨åˆé€‚çš„è„šæ‰‹æ¶å·¥å…·ã€‚</p><h2 id="ç¬¬5èŠ‚-è·¯ç”±ï¼š-Hello-Reactè·¯ç”±"><a href="#ç¬¬5èŠ‚-è·¯ç”±ï¼š-Hello-Reactè·¯ç”±" class="headerlink" title="ç¬¬5èŠ‚ è·¯ç”±ï¼š Hello Reactè·¯ç”±"></a>ç¬¬5èŠ‚ è·¯ç”±ï¼š Hello Reactè·¯ç”±</h2><p>é€šè¿‡å‰é¢4èŠ‚è¯¾å·²ç»å¯ä»¥é¡ºåˆ©çš„æ„å»ºReactçš„åŸºæœ¬å¼€å‘ç¯å¢ƒäº†ã€‚</p><p>è¿™èŠ‚è¯¾å¼€å§‹ç”¨å‡ èŠ‚è¯¾çš„æ—¶é—´å…¨é¢äº†è§£ä¸€ä¸‹React Routerã€‚ è·¯ç”±åœ¨å¼€å‘è¿‡ç¨‹ä¸­éƒ½ä¼šç”¨åˆ°ã€‚å®ƒæ˜¯SPA(å•é¡µåº”ç”¨)çš„åŸºç¡€ï¼Œå¯ä»¥è¯´ä¸ä¼šè·¯ç”±ç³»ç»Ÿå°±æ— æ³•ä½¿ç”¨Reactè¿›è¡Œç¼–ç¨‹ã€‚</p><p>å…¶å®è·¯ç”±å¯ä»¥ç®€å•çš„çœ‹ä½œæˆ‘ä»¬å¹³æ—¶è®¿é—®çš„ç½‘å€æˆ–åœ°å€ã€‚è¿™æ ·æœ‰åŠ©äºç†è§£ï¼Œä½†å¹¶ä¸æ­£ç¡®ã€‚</p><h3 id="routeråŒ…å®‰è£…"><a href="#routeråŒ…å®‰è£…" class="headerlink" title="routeråŒ…å®‰è£…"></a>routeråŒ…å®‰è£…</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save react-router react-router-dom</span><br></pre></td></tr></table></figure><ul><li>react-router: æ˜¯åŸºæœ¬çš„routeråŒ…ï¼Œé‡Œé¢å«çš„å†…å®¹è¾ƒå¤šï¼Œä½†æ˜¯åœ¨ç½‘é¡µå¼€å‘ä¸­æœ‰å¾ˆå¤šç”¨ä¸åˆ°ï¼Œç°åœ¨å¸‚é¢ä¸Šçš„è¯¾ç¨‹ç®€å•åŸºæœ¬éƒ½æ˜¯è¿™ä¸ªåŒ…çš„æ•™ç¨‹ã€‚</li><li>react-router-dom: éšç€Reactç”Ÿæ€ç¯å¢ƒçš„å£®å¤§ï¼Œåå‡ºç°çš„åŒ…ã€‚è¿™ä¸ªåŒ…æ¯”react-routerè½»å·§è®¸å¤šã€‚</li></ul><p><strong>æ³¨æ„ï¼š</strong></p><p>å®‰è£…äº†react-routerå°±ä¸ç”¨å®‰è£…react-router-domåŒ…äº†ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†è®²è¯¾æ–¹ä¾¿ï¼Œæ‰€ä»¥å®‰è£…äº†ä¸¤ä¸ªåŒ…ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œè¯·è·Ÿè¿›éœ€è¦è¿›è¡Œå®‰è£…ã€‚</p><p>å®‰è£…æ—¶ï¼Œä½¿ç”¨â€“saveï¼Œå› ä¸ºåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¹Ÿè¦ä½¿ç”¨ã€‚</p><h3 id="å¤ä¹ component"><a href="#å¤ä¹ component" class="headerlink" title="å¤ä¹ component"></a>å¤ä¹ component</h3><p>ä¹‹å‰å­¦è¿‡Reactç»„ä»¶å¦‚ä½•ç¼–å†™ï¼Œè¿™é‡Œç®€å•å¤ä¹ ä¸€ä¸‹ã€‚</p><p>åšä¸€ä¸ªAé¡µé¢çš„ç»„ä»¶</p><p>åœ¨appæ–‡ä»¶å¤¹ä¸‹æ–°å»ºcomponentA.jsï¼Œå¼•å…¥ReactåŒ…ï¼Œå¹¶ç¼–å†™Aé¡µé¢çš„ç»„ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><p>componentA.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentA</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;Aé»˜è®¤ç»„ä»¶&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨äº†ES6è¯­æ³•ï¼Œè¿™ä¹Ÿæ˜¯Reactç°åœ¨æ¨èçš„ï¼Œå¦‚æœä½¿ç”¨è€è¯­æ³•ä¼šå‡ºç°è­¦å‘Š</p><p>åœ¨index.jsä¸­å¼•å…¥Aç»„ä»¶ï¼Œå¹¶æ”¹å†™æ¸²æŸ“ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componenta <span class="keyword">from</span> <span class="string">&#x27;./componentA&#x27;</span></span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Componenta/&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é¢„è§ˆçœ‹æ•ˆæœ</p><h2 id="ç»éªŒ"><a href="#ç»éªŒ" class="headerlink" title="ç»éªŒ"></a>ç»éªŒ</h2><blockquote><p>ä¹‹å‰å†™çš„æ—¶å€™æ˜¯ <code>&lt;componentA/&gt;</code>, ä¼šæŠ¥ä¸¤ä¸ªé”™è¯¯</p></blockquote><p>Warning: <code>&lt;componentA /&gt;</code> is using uppercase HTML. Always use lowercase HTML tags in React.<br>è­¦å‘Šï¼š htmlæ ‡ç­¾ä¸€å®šè¦ç”¨å°å†™</p><p>Warning: The tag <code>&lt;componentA&gt;</code> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.<br>è­¦å‘Šï¼šæ ‡ç­¾<code>&lt;componentA&gt;</code>ä½œä¸ºç»„ä»¶ï¼Œé¦–å­—æ¯è¦å¤§å†™</p><h2 id="ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªç»„ä»¶çš„å¼€å‘å’Œå¼•ç”¨"><a href="#ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªç»„ä»¶çš„å¼€å‘å’Œå¼•ç”¨" class="headerlink" title="ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªç»„ä»¶çš„å¼€å‘å’Œå¼•ç”¨"></a>ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªç»„ä»¶çš„å¼€å‘å’Œå¼•ç”¨</h2><p>æ¥ä¸‹æ¥ä»¿ç…§ä¸Šé¢çš„æ–¹æ³•å¼€å‘ä¸¤ä¸ªæ–°ç»„ä»¶ï¼ŒComponentBï¼Œ ComponentCã€‚ä»£ç å¦‚ä¸‹</p><p>ComponentB.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentB</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;è¿™æ˜¯Bç»„ä»¶&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ComponentC.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentC</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;è¿™æ˜¯Cç»„ä»¶&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å†™å®Œåå¼•å…¥åˆ°index.js æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> Componenta <span class="keyword">from</span> <span class="string">&#x27;./componentA&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componentb <span class="keyword">from</span> <span class="string">&#x27;./componentb&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componentc <span class="keyword">from</span> <span class="string">&#x27;./componentc&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å¼•å…¥å’Œä¹¦å†™è·¯ç”±"><a href="#å¼•å…¥å’Œä¹¦å†™è·¯ç”±" class="headerlink" title="å¼•å…¥å’Œä¹¦å†™è·¯ç”±"></a>å¼•å…¥å’Œä¹¦å†™è·¯ç”±</h2><p>é¡µé¢åˆ¶ä½œå¥½åï¼Œéœ€è¦è·¯ç”±æ¥åˆ‡æ¢ã€‚å…ˆå¼•å…¥è·¯ç”±åŒ…ï¼Œè¿™é‡Œç”¨åˆ°ä¸¤ä¸ªæ¨¡å—Routerï¼Œrouteã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;BrowserRouter <span class="keyword">as</span> Router, Route&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ”¹å†™æ–‡ä»¶ï¼Œå¢åŠ è·¯ç”±è®¾ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=<span class="string">&quot;&#123;Componenta&#125;&quot;</span>/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=<span class="string">&quot;&#123;Componentb&#125;&quot;</span>/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentc&quot;</span> component=<span class="string">&quot;&#123;Componentc&#125;&quot;</span>/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„ï¼šè¿™é‡Œæ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½åŠ å¼•å·ï¼Œæ­£ç¡®å¦‚ä¸‹"><a href="#æ³¨æ„ï¼šè¿™é‡Œæ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½åŠ å¼•å·ï¼Œæ­£ç¡®å¦‚ä¸‹" class="headerlink" title="æ³¨æ„ï¼šè¿™é‡Œæ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½åŠ å¼•å·ï¼Œæ­£ç¡®å¦‚ä¸‹"></a>æ³¨æ„ï¼šè¿™é‡Œæ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½åŠ å¼•å·ï¼Œæ­£ç¡®å¦‚ä¸‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentc&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè¿™é‡Œçš„exactæ˜¯ç²¾ç¡®åŒ¹é…çš„æ„æ€ï¼Œå¦‚æœæœ‰å¤šå±‚è·¯ç”±åµŒå¥—æ—¶ï¼Œexactå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç²¾ç¡®åŒ¹é…åˆ°æƒ³è¦è·³è½¬çš„è·¯ç”±</p><p>è·¯ç”±è®¾ç½®å®Œæ¯•è¿˜ä¸èƒ½åˆ‡æ¢ï¼Œéœ€è¦åšä¸€ä¸ªåˆ‡æ¢çš„ç»„ä»¶ã€‚å‘½åä¸º&lt;nav/&gt;</p><h3 id="å¼€å‘Navç»„ä»¶"><a href="#å¼€å‘Navç»„ä»¶" class="headerlink" title="å¼€å‘Navç»„ä»¶"></a>å¼€å‘Navç»„ä»¶</h3><p>åœ¨appæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªnav.jsï¼Œå¼•å…¥Reactå’ŒReact-router-dom</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;NavLink&#125; <span class="keyword">from</span> <span class="string">&#x27;raect-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> NavBar = <span class="function">() =&gt;</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;NavLink exact to=<span class="string">&quot;/&quot;</span>&gt;ComponentA&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line">            &lt;NavLink to=<span class="string">&quot;/componentb&quot;</span>&gt;ComponentB&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line">            &lt;NavLink to=<span class="string">&quot;/componentc&quot;</span>&gt;ComponentC&lt;/NavLink&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> NavBar</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç»„ä»¶ç¼–å†™å®Œæˆåï¼Œå¼•å…¥index.jsï¼Œå¹¶æ·»åŠ &lt;Nav/&gt;æ ‡ç­¾åˆ°ä»£ç é‡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Nav/&gt;</span><br><span class="line">            &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentc&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œï¼Œå°±å¯ä»¥è¿›è¡Œé¢„è§ˆäº†ï¼Œä¹Ÿå¯ä»¥é¡ºåˆ©çš„åˆ‡æ¢é¡µé¢å†…å®¹ï¼Œè¯´æ˜è·¯ç”±å·²ç»èµ·ä½œç”¨äº†ã€‚<br>å½“ç„¶è¿™åªæ˜¯è·¯ç”±æœ€ç®€å•çš„å†™æ³•ã€‚</p><h2 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™é‡Œç¼–å†™ä»£ç çš„æ—¶å€™é‡åˆ°ç‚¹é—®é¢˜ï¼š</p><ol><li><p>å¤§å°å†™è¦æ³¨æ„</p><p> htmlæ ‡ç­¾ä¸€å®šè¦ç”¨å°å†™</p><p> æ ‡ç­¾<code>&lt;componentA&gt;</code>ä½œä¸ºç»„ä»¶ï¼Œé¦–å­—æ¯è¦å¤§å†™ï¼Œæ”¹ä¸º<code>&lt;Componenta/&gt;</code></p></li><li><p>æœ‰çš„åœ°æ–¹æ˜¯ä¸éœ€è¦å¼•å·çš„</p></li></ol><h2 id="ç¬¬6èŠ‚-è·¯ç”±ï¼š-NavLinkä¸­å¸¸ç”¨é€‰é¡¹"><a href="#ç¬¬6èŠ‚-è·¯ç”±ï¼š-NavLinkä¸­å¸¸ç”¨é€‰é¡¹" class="headerlink" title="ç¬¬6èŠ‚ è·¯ç”±ï¼š NavLinkä¸­å¸¸ç”¨é€‰é¡¹"></a>ç¬¬6èŠ‚ è·¯ç”±ï¼š NavLinkä¸­å¸¸ç”¨é€‰é¡¹</h2><p>ä¸ŠèŠ‚åˆè¯†äº†Reactè·¯ç”±ï¼Œå¹¶åˆ¶ä½œäº†å°æ¡ˆä¾‹ã€‚è¿™èŠ‚å­¦ä¹ NavLinkæ ‡ç­¾ä¸Šçš„é€‰é¡¹</p><h2 id="Routeå’ŒNavLinkçš„exacté€‰é¡¹"><a href="#Routeå’ŒNavLinkçš„exacté€‰é¡¹" class="headerlink" title="Routeå’ŒNavLinkçš„exacté€‰é¡¹"></a>Routeå’ŒNavLinkçš„exacté€‰é¡¹</h2><p>exact ç²¾ç¡®åŒ¹é…ï¼Œä¸€èˆ¬è€Œè¨€ï¼ŒReactä¼šåŒ¹é…æ‰€æœ‰èƒ½åŒ¹é…çš„è·¯ç”±ç»„ä»¶ï¼Œexactå¯ä»¥ä½¿æˆ‘ä»¬çš„åŒ¹é…æ›´ç²¾ç¡®ã€‚</p><p>exactçš„å€¼ä¸ºboolean, ä¸ºtrueè¡¨ç¤ºä¸¥æ ¼åŒ¹é…ï¼Œä¸ºfalseè¡¨ç¤ºæ­£å¸¸åŒ¹é…</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;Route path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">&lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line"><span class="comment">// è¿™ç§æƒ…å†µï¼Œè®¿é—®/componentbï¼Œä¼šæŠŠcomponentç»„ä»¶ä¹Ÿæ˜¾ç¤ºå‡ºæ¥</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œç”¨exactæ¥è§£å†³è¿™ä¸ªé—®é¢˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">&lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br></pre></td></tr></table></figure><blockquote><p><strong>åœ¨å¤šå±‚(è·¯ç”±)è·¯ç”±åµŒå¥—æ—¶ä¹Ÿä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œè¦å¤šç”¨exactæ¥è§£å†³ç²¾ç¡®åŒ¹é…é—®é¢˜</strong></p></blockquote><h2 id="NavLinkä½¿ç”¨æ ·å¼"><a href="#NavLinkä½¿ç”¨æ ·å¼" class="headerlink" title="NavLinkä½¿ç”¨æ ·å¼"></a>NavLinkä½¿ç”¨æ ·å¼</h2><p>æ€æ ·ç»™NavLinkæ·»åŠ æ ·å¼å‘¢ï¼Œè¦å…ˆé…ç½®ä¸€ä¸‹webpack.config.jsæ–‡ä»¶ã€‚</p><p>å…ˆå†™ä¸€ä¸ªcss,å’Œnav.jsæ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œå‘½åä¸ºnav.css</p><p>nav.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.blue</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨nav.jsä¸­å¼•å…¥css</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./nav.css&#x27;</span></span><br></pre></td></tr></table></figure><p>è¿™æ—¶ï¼Œä¼šæŠ¥é”™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Module parse failed: Unexpected token (<span class="number">1</span>:<span class="number">0</span>)</span><br><span class="line">You may need an appropriate loader to handle <span class="built_in">this</span> file type.</span><br></pre></td></tr></table></figure><p> å› ä¸ºwebpackè¿˜ä¸èƒ½å¯¹cssæ–‡ä»¶è¿›è¡Œæ­£ç¡®çš„è§£æï¼Œéœ€è¦åŠ å…¥cssçš„loaderã€‚å…ˆç”¨npmå®‰è£…style-loaderå’Œcss-loader</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev style-loader css-loader</span><br></pre></td></tr></table></figure><p> å®‰è£…å¥½åï¼Œåœ¨webpack.config.jsé‡Œé…ç½®cssçš„loaderã€‚å¦‚ä¸‹</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    loader: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> é…ç½®å¥½åï¼Œéœ€è¦é‡å¯ä¸€ä¸‹æœåŠ¡å™¨ï¼Œæ‰å¯ä»¥æ­£ç¡®è§£æã€‚<br> è¿™æ—¶å€™ï¼Œå°±å¯ä»¥åœ¨NavLinkä¸ŠåŠ ClassNameæŒ‡å®šcssç±»äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink exact to=<span class="string">&quot;/&quot;</span> className=<span class="string">&quot;blue&quot;</span>&gt;ComponentA&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="ç›´æ¥åœ¨NavLinkä¸Šå†™æ ·å¼"><a href="#ç›´æ¥åœ¨NavLinkä¸Šå†™æ ·å¼" class="headerlink" title="ç›´æ¥åœ¨NavLinkä¸Šå†™æ ·å¼"></a>ç›´æ¥åœ¨NavLinkä¸Šå†™æ ·å¼</h3><p>é™¤äº†ç”¨cssæ–‡ä»¶è¿™ç§æ–¹å¼ï¼Œè¿˜å¯ä»¥æ›´ç›´æ¥ï¼Œåœ¨NavLinkä¸Šå†™æ ·å¼ï¼Œçœ‹ä¸‹é¢</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink to=<span class="string">&quot;/componentb&quot;</span> style=&#123;&#123;<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span>,<span class="attr">fontSize</span>:<span class="string">&#x27;30px&#x27;</span>&#125;&#125;&gt;ComponentB&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ç§å†™æ³•è™½ç„¶åªç®¡å¥½ç”¨ï¼Œä½†æ˜¯ä¸å»ºè®®åœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨ï¼Œè¿™å¢åŠ äº†ä»£ç è€¦åˆåº¦ï¼Œä¸æ˜¯ä¸€ç§å¥½çš„ç¼–ç¨‹æ–¹å¼ã€‚<br><strong>æ³¨æ„ï¼Œè·ŸåŸç”Ÿå†™æ³•å®Œå…¨ä¸ä¸€æ ·</strong> ä¸‹é¢æ˜¯æˆ‘ç›´æ¥å†™çš„ã€‚é”™è¯¯â†“â†“â†“â†“â†“â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink to=<span class="string">&quot;/componentb&quot;</span> style=<span class="string">&quot;&#123;&#123;color:red;font-size:30px;&#125;&#125;&quot;</span>&gt;ComponentB&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><ol><li>styleåé¢çš„ä¸èƒ½ç”¨å¼•å·å¼•ç”¨ï¼Œæ˜¯ä¸ªå¤§å¯¹è±¡</li></ol></li><li><ol start="2"><li>é‡Œé¢æ˜¯key-valueå½¢å¼çš„ï¼Œä¸€ä¸ªå±æ€§ç»“æŸä¸æ˜¯ç”¨åˆ†å·</li></ol></li><li><ol start="3"><li>æ¯ä¸ªå±æ€§åé¢éƒ½è¦ç”¨å¼•å·å¼•èµ·æ¥ã€‚</li></ol></li></ul><h3 id="activeClassName"><a href="#activeClassName" class="headerlink" title="activeClassName"></a>activeClassName</h3><p>ä½œä¸ºä¸€ä¸ªé“¾æ¥ï¼Œæ˜¯æœ‰æ¿€æ´»çŠ¶æ€çš„ã€‚å®ƒæ¥å—ä¸€ä¸ªç±»åã€‚ç°åœ¨æˆ‘ä»¬åœ¨nav.csså®šä¹‰ä¸€ä¸ªactiveçš„ç±»ï¼ŒæŠŠå­—ä½“è®¾ä¸ºçº¢è‰²</p><p>.nav.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.blue</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.active</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹NavLinkæ ‡ç­¾</p><p>nav.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;NavLink&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./nav.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> NavBar = <span class="function">() =&gt;</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;NavLink exact to=<span class="string">&quot;/&quot;</span> className=<span class="string">&quot;blue&quot;</span>&gt;ComponentA&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line">            &lt;NavLink to=<span class="string">&quot;/componentb&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span> style=&#123;&#123;<span class="attr">color</span>:<span class="string">&#x27;#2BAB40&#x27;</span>,<span class="attr">fontSize</span>:<span class="string">&#x27;14px&#x27;</span>&#125;&#125;&gt;ComponentB&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line">            &lt;NavLink to=<span class="string">&quot;/componentc&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span>&gt;ComponentC&lt;/NavLink&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> NavBar</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-6"><a href="#æ€»ç»“-6" class="headerlink" title="æ€»ç»“-6"></a>æ€»ç»“-6</h2><p>è¿™èŠ‚è¯¾è™½ç„¶ç®€å•ï¼Œä½†éƒ½æ˜¯å®é™…å·¥ä½œä¸­å¸¸ç”¨åˆ°çš„å°æŠ€å·§ï¼Œä¾‹å¦‚activeClassNameï¼ŒclassNameï¼Œè¿˜æœ‰webpacké…ç½®ä¹Ÿæ˜¯å¿…é¡»æŒæ¡çš„ã€‚</p><p>ä¸€å®šè¦æ³¨æ„åŸç”Ÿå’ŒReactè¯­æ³•åŒºåˆ«~~~~</p><h2 id="ç¬¬7èŠ‚-è·¯ç”±ï¼š-404è®¾ç½®å’Œè·³è½¬"><a href="#ç¬¬7èŠ‚-è·¯ç”±ï¼š-404è®¾ç½®å’Œè·³è½¬" class="headerlink" title="ç¬¬7èŠ‚ è·¯ç”±ï¼š 404è®¾ç½®å’Œè·³è½¬"></a>ç¬¬7èŠ‚ è·¯ç”±ï¼š 404è®¾ç½®å’Œè·³è½¬</h2><p>é¡¹ç›®ä¸­éƒ½è¦è®¾ç½®404é¡µé¢ï¼Œå³è·¯ç”±ä¸å­˜åœ¨æ—¶è·³è½¬çš„é¡µé¢ã€‚Reactä¸­çš„404ä¸»è¦æ˜¯é Switchç»„ä»¶æ¥å®Œæˆçš„ã€‚</p><p>è¿™èŠ‚æ¥å­¦ä¹ Switchç»„ä»¶ç›¸å…³çŸ¥è¯†å’Œè·³è½¬çš„ç›¸å…³çŸ¥è¯†ã€‚</p><h3 id="Switchç»„ä»¶çš„ä½¿ç”¨"><a href="#Switchç»„ä»¶çš„ä½¿ç”¨" class="headerlink" title="Switchç»„ä»¶çš„ä½¿ç”¨"></a>Switchç»„ä»¶çš„ä½¿ç”¨</h3><ol><li><p>åœ¨index.jsé¡µé¢ä¸­ï¼Œåœ¨å¼•å…¥è·¯ç”±çš„åœ°æ–¹ï¼Œå¼•å…¥Switchã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;BrowserRouter <span class="keyword">as</span> Router, Route, Switch&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>ç¼–å†™404é¡µé¢<br> åœ¨appæ–‡ä»¶å¤¹ä¸‹æ–°å»ºerror.js, å°è£…æˆç»„ä»¶ï¼Œæ–¹ä¾¿è·¯ç”±è°ƒç”¨</p><p> error.js</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">error</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;h2&gt;<span class="number">404</span>é¡µé¢&lt;/h2&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨nav.jsä¸­åŠ å…¥ä¸€ä¸ªä¸å­˜åœ¨çš„é“¾æ¥NavLinkï¼Œä»¥ä¾¿é”™è¯¯æ—¶è·³è½¬åˆ°404é¡µé¢</p><p> nav.js</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink to=<span class="string">&quot;/notfound&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span>&gt;<span class="number">404</span>&lt;/NavLink&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>Switchç™»åœºï¼Œæ”¹å†™index.jsé¡µé¢ï¼Œå¦‚ä¸‹ï¼š</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;BrowserRouter <span class="keyword">as</span> Router, Route, Switch&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componenta <span class="keyword">from</span> <span class="string">&#x27;./componentA&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componentb <span class="keyword">from</span> <span class="string">&#x27;./componentB&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componentc <span class="keyword">from</span> <span class="string">&#x27;./componentC&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Nav <span class="keyword">from</span> <span class="string">&#x27;./nav&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="built_in">Error</span> <span class="keyword">from</span> <span class="string">&#x27;./error&#x27;</span> <span class="comment">// æ–°å¢</span></span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Nav/&gt;</span><br><span class="line">            <span class="comment">//æ–°å¢</span></span><br><span class="line">            &lt;Switch&gt;</span><br><span class="line">                &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/componentb&quot;</span>/&gt;</span><br><span class="line">                &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentc&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">                &lt;Route component=&#123;<span class="built_in">Error</span>&#125;/&gt; <span class="comment">//æ–°å¢</span></span><br><span class="line">            &lt;/Switch&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p><strong>==æ³¨æ„==ï¼šSwitchè¦å°†RouteåŒ…æ‹¬åœ¨é‡Œé¢</strong></p></blockquote><p>åœ¨æµè§ˆå™¨ä¸­ç‚¹å‡»404 ï¼Œä¼šè·³è½¬åˆ°error.jsé¡µé¢ï¼Œè¿™é‡Œçš„é“¾æ¥æ˜¯éšä¾¿å†™çš„ï¼Œä½†æ˜¯æˆåŠŸçš„è·³åˆ°äº†é”™è¯¯é¡µé¢ã€‚</p><p>æ³¨æ„é¡ºåºï¼š 404åº”è¯¥åœ¨æœ€åã€‚</p><h3 id="Redirectç»„ä»¶ä½¿ç”¨"><a href="#Redirectç»„ä»¶ä½¿ç”¨" class="headerlink" title="Redirectç»„ä»¶ä½¿ç”¨"></a>Redirectç»„ä»¶ä½¿ç”¨</h3><p>å¼€å‘ä¸­æœ‰æ—¶éœ€è¦åœ¨ç¨‹åºä¸­æ ¹æ®ä¸šåŠ¡é€»è¾‘è¿›è¡Œè·³è½¬ï¼Œæˆ–ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ç›´æ¥è·³è½¬åˆ°å…¶ä»–é“¾æ¥ï¼Œè¿™æ—¶ï¼Œå¯ä»¥ç”¨Redirectç»„ä»¶æ¥è§£å†³ã€‚</p><ol><li><p>å¼•å…¥Redirectç»„ä»¶</p><p> åœ¨index.jsä¸­å¼•å…¥Redirect ç»„ä»¶</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;BrowserRouter <span class="keyword">as</span> Router, Route, Switch, Redirect&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>åŠ å…¥è·³è½¬é“¾æ¥</p><p> åœ¨nav.jsé‡ŒåŠ å…¥ä¸€ä¸ªå‡†å¤‡è·³è½¬çš„é“¾æ¥ï¼Œå¦‚ä¸‹ï¼š</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink to=<span class="string">&quot;/redirect&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span>&gt;redirect&lt;/NavLink&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> è¿™æ—¶å€™ç‚¹å‡»é“¾æ¥ä¼šè·³è½¬åˆ°404é¡µé¢ï¼Œä½†æˆ‘ä»¬å¸Œæœ›è·³è½¬åˆ°componentBé¡µé¢ã€‚</p></li><li><p>åŠ å…¥<code>&lt;Redirect&gt;</code> æ ‡ç­¾</p></li></ol><p>åœ¨index.jsä¸­åŠ å…¥<code>&lt;Redirect&gt;</code>æ ‡ç­¾</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;Nav/&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/componentb&quot;</span>/&gt;</span><br><span class="line">            &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">            <span class="comment">// æ–°å¢</span></span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentc&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">            &lt;Route component=&#123;<span class="built_in">Error</span>&#125;/&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/Router&gt;,</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>from: è¡¨ç¤ºæ¥è‡ªäºä»€ä¹ˆé“¾æ¥ï¼Œä¹Ÿå°±æ˜¯å½“å‰é“¾æ¥æ˜¯redirectæ—¶ï¼Œè§¦å‘è·³è½¬å‘½ä»¤</li><li>to: è¡¨ç¤ºè¦è·³è½¬åˆ°çš„é“¾æ¥ï¼Œè¿™é‡Œè·³è½¬åˆ°componentbç»„ä»¶ã€‚</li></ul><p>å†™å®Œåï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹è·³è½¬æ•ˆæœäº†ã€‚</p><h2 id="æ€»ç»“-7"><a href="#æ€»ç»“-7" class="headerlink" title="æ€»ç»“-7"></a>æ€»ç»“-7</h2><p>è®¾ç½®404å’Œè·³è½¬éƒ½è¦å…ˆåŠ å…¥Switchçš„æ”¯æŒï¼Œåœ¨åˆ¶ä½œ404æ—¶ï¼Œä¸€å®šè¦æŠŠ404çš„Routeè®¾ç½®åˆ°æ‰€æœ‰è·¯ç”±çš„åé¢ã€‚</p><p>è·³è½¬æ—¶ä½¿ç”¨Redirectæ ‡ç­¾ï¼Œè¿™ä¸ªå¾ˆå®¹æ˜“å®ç°ã€‚</p><h2 id="ç¬¬8èŠ‚ï¼š-è·¯ç”±-é€šè¿‡è·¯ç”±ä¼ å€¼çš„æ–¹æ³•"><a href="#ç¬¬8èŠ‚ï¼š-è·¯ç”±-é€šè¿‡è·¯ç”±ä¼ å€¼çš„æ–¹æ³•" class="headerlink" title="ç¬¬8èŠ‚ï¼š è·¯ç”±: é€šè¿‡è·¯ç”±ä¼ å€¼çš„æ–¹æ³•"></a>ç¬¬8èŠ‚ï¼š è·¯ç”±: é€šè¿‡è·¯ç”±ä¼ å€¼çš„æ–¹æ³•</h2><p>å¼€å‘ä¸­è·¯ç”±ä¼ å€¼æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè™½ç„¶Reactæœ‰æ›´ä¼˜é›…çš„æ–¹å¼ï¼Œè¿™é‡Œè¿˜æ˜¯æ¥å­¦ä¹ ä¸€ä¸‹è·¯ç”±å¦‚ä½•ä¼ å€¼ã€‚</p><h2 id="æœ€å¸¸è§çš„ä¼ å€¼"><a href="#æœ€å¸¸è§çš„ä¼ å€¼" class="headerlink" title="æœ€å¸¸è§çš„ä¼ å€¼"></a>æœ€å¸¸è§çš„ä¼ å€¼</h2><p>ä¼ å€¼æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸»è¦ä¾é propsæ¥æ”¶ã€‚</p><p>åŸºç¡€è¯¾ç¨‹ä¸­å·²ç»å­¦äº†ç»„ä»¶ä¹‹é—´çš„ä¼ å€¼æ–¹æ³•ã€‚è·¯ç”±å’Œé¡µé¢ä¹‹é—´çš„ä¼ å€¼ä¹Ÿç±»ä¼¼ã€‚</p><ol><li><p>åœ¨nav.jsé¡µé¢ä¼ å€¼ï¼Œå¦‚ä¸‹</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink exact to=<span class="string">&quot;/componentc/ILoveWeb&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span> className=<span class="string">&quot;blue&quot;</span>&gt;ComponentCä¼ å€¼&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> åœ¨è·¯ç”±åé¢è·Ÿäº†ä¸ªILoveWebä½œä¸ºå€¼ä¼ é€’ç»™ç»„ä»¶</p></li><li><p>Routeä¸­çš„è®¾ç½®ï¼Œ ç”¨å†’å·æ¥é€šçŸ¥è·¯ç”±</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route path=<span class="string">&quot;/componentc/:param&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨componentcç»„ä»¶ä¸­è·å–<br> ç°åœ¨Componentcç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­çœ‹ä¸€ä¸‹propsé‡Œæœ‰ä»€ä¹ˆå€¼ã€‚<br> componentC.js</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentC</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="comment">// æ–°å¢</span></span><br><span class="line">    componentWillMount () &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.props)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;è¿™æ˜¯Cç»„ä»¶&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> åœ¨consoleä¸­å¯ä»¥çœ‹åˆ°match.paramsé‡Œæœ‰å€¼äº†ã€‚</p></li><li><p>åœ¨é¡µé¢ä¸­æ˜¾ç¤ºä¼ é€’çš„å‚æ•°<br> componentC.js</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentC</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    componentWillMount () &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.props)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">        <span class="comment">// æ–°å¢</span></span><br><span class="line">            &lt;div&gt;è¿™æ˜¯Cç»„ä»¶ï¼šå‚æ•°ï¼š&#123;<span class="built_in">this</span>.props.match.params.param&#125;&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¼ é€’2ä¸ªå€¼<br>nav.js</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink exact to=<span class="string">&quot;/componentc/ILoveWeb/HelloReact&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span> className=<span class="string">&quot;blue&quot;</span>&gt;ComponentCä¼ å€¼&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br></pre></td></tr></table></figure><p>index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route path=<span class="string">&quot;/componentc/:param/:a&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br></pre></td></tr></table></figure><p>componentC.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;è¿™æ˜¯Cç»„ä»¶ï¼šå‚æ•°ï¼š&#123;<span class="built_in">this</span>.props.match.params.param&#125;, &#123;<span class="built_in">this</span>.props.match.params.a&#125;&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç¬¬9èŠ‚-è·¯ç”±ï¼š-Routerä¸­çš„å±æ€§å’Œè·¯ç”±æ¨¡å¼"><a href="#ç¬¬9èŠ‚-è·¯ç”±ï¼š-Routerä¸­çš„å±æ€§å’Œè·¯ç”±æ¨¡å¼" class="headerlink" title="ç¬¬9èŠ‚ è·¯ç”±ï¼š Routerä¸­çš„å±æ€§å’Œè·¯ç”±æ¨¡å¼"></a>ç¬¬9èŠ‚ è·¯ç”±ï¼š Routerä¸­çš„å±æ€§å’Œè·¯ç”±æ¨¡å¼</h2><p>ä¸ŠèŠ‚å­¦ä¹ äº†Reactè·¯ç”±å¯¼èˆªçš„åŸºæœ¬æ–¹æ³•ï¼Œè¿™èŠ‚è¯¾å­¦ä¹ æ ‡ç­¾ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚è¿˜æœ‰ä¸€ä¸ªé‡ç‚¹æ˜¯è·¯ç”±5ç§æ¨¡å¼çš„è®²è§£ã€‚</p><h3 id="basenameå±æ€§"><a href="#basenameå±æ€§" class="headerlink" title="basenameå±æ€§"></a>basenameå±æ€§</h3><p>basenameæ˜¯å¢åŠ ä¸€çº§å¯¼èˆªç›®å½•ï¼Œå¦‚ä¹‹å‰è®¿é—®<a href="http://localhost:1717/componentb%EF%BC%8C%E7%8E%B0%E5%9C%A8%E8%AE%BF%E9%97%AE%E5%90%8C%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2%EF%BC%8C%E4%BD%86%E8%B7%AF%E5%BE%84%E6%98%AFhttp://localhost:1717/demo/componentb.%E8%BF%99%E6%97%B6%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8basename%E5%B1%9E%E6%80%A7%E6%9D%A5%E8%AE%BE%E7%BD%AE%E3%80%82">http://localhost:1717/componentbï¼Œç°åœ¨è®¿é—®åŒä¸€ä¸ªé¡µé¢ï¼Œä½†è·¯å¾„æ˜¯http://localhost:1717/demo/componentb.è¿™æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨basenameå±æ€§æ¥è®¾ç½®ã€‚</a></p><p>basenameæ˜¯æ”¾åœ¨<code>&lt;Router&gt;</code>æ ‡ç­¾ä¸­çš„</p><p>index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Router basename=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Nav/&gt;</span><br><span class="line">            &lt;Switch&gt;</span><br><span class="line">                &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/componentb&quot;</span>/&gt;</span><br><span class="line">                &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentc/:param/:a&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">                &lt;Route component=&#123;<span class="built_in">Error</span>&#125;/&gt;</span><br><span class="line">            &lt;/Switch&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ—¶å†ç‚¹å‡»å¯¼èˆªï¼Œå·²ç»éƒ½åŠ äº†/demoã€‚</p><p>==æ³¨æ„ï¼š==<br>æ­¤æ—¶çš„è®¾ç½®æ˜¯å…¨å±€å¢åŠ ï¼Œå¦‚æœæ˜¯å•ä¸ªè·¯ç”±å¢åŠ ï¼Œéœ€è¦ç‰¹æ®Šä¸ªæ€§è®¾ç½®ã€‚</p><h3 id="forceRefresh-å±æ€§"><a href="#forceRefresh-å±æ€§" class="headerlink" title="forceRefresh å±æ€§"></a>forceRefresh å±æ€§</h3><p>è¿™ä¸ªå±æ€§æ˜¯å¼€å¯æˆ–å…³é—­React Routerï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠforceRefresh è®¾ä¸ºtrueï¼Œå°†å…³é—­Reactè·¯ç”±ç³»ç»Ÿï¼ŒçœŸå®çš„å»æœåŠ¡å™¨ç«¯è¯·æ±‚ä¿¡æ¯</p><p>ç°åœ¨æŠŠforceRefreshè®¾ä¸ºtrueï¼Œä¼šå‘ç°è·¯ç”±å·²ç»ä¸èƒ½ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">&lt;!--æ–°å¢--&gt;</span><br><span class="line">    &lt;Router basename=<span class="string">&quot;demo&quot;</span> forceRefresh=&#123;<span class="literal">true</span>&#125;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Nav/&gt;</span><br><span class="line">            &lt;Switch&gt;</span><br><span class="line">                &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/componentb&quot;</span>/&gt;</span><br><span class="line">                &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentc/:param/:a&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">                &lt;Route component=&#123;<span class="built_in">Error</span>&#125;/&gt;</span><br><span class="line">            &lt;/Switch&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ“ä½œç»å¸¸åœ¨å¤§é¡¹ç›®ä¸­ä½¿ç”¨ã€‚åœ¨æœåŠ¡å™¨è·³è½¬å’ŒReactRouteråˆ‡æ¢æ—¶ä½¿ç”¨ã€‚æ¯”å¦‚åšä¸€ä¸ªAPPæ´»åŠ¨é¡µï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶åˆ°æœåŠ¡å™¨è¯·æ±‚æ•´ä¸ªé¡µé¢ï¼Œå°†æ•´ä¸ªé¡µé¢ç¼“å­˜ã€‚ç”ŸæˆReactRouterå®ç°æœ¬åœ°å•é¡µåº”ç”¨ï¼Œè®¾ç½®forceRefreshä¸ºfalseï¼Œå³å¯ã€‚</p><h2 id="5ç§è·¯ç”±æ–¹å¼"><a href="#5ç§è·¯ç”±æ–¹å¼" class="headerlink" title="5ç§è·¯ç”±æ–¹å¼"></a>5ç§è·¯ç”±æ–¹å¼</h2><p>æˆ‘ä»¬ä¸€ç›´ç”¨çš„æ˜¯BrowserRouterï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨çš„è·¯ç”±æ–¹å¼ï¼Œå…¶å®Reactè¿˜æœ‰å‡ ç§è·¯ç”±æ–¹å¼ã€‚</p><ul><li><h3 id="1-BrowserRouter"><a href="#1-BrowserRouter" class="headerlink" title="1.BrowserRouter"></a>1.BrowserRouter</h3><p>  æµè§ˆå™¨çš„è·¯ç”±æ–¹å¼ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä¸€ç›´å­¦ä¹ çš„è·¯ç”±æ–¹å¼ã€‚å¼€å‘ä¸­æœ€å¸¸ä½¿ç”¨ã€‚</p></li><li><h3 id="2-HashRouter"><a href="#2-HashRouter" class="headerlink" title="2. HashRouter"></a>2. HashRouter</h3><p>  åœ¨è·¯å¾„é’±åŠ å…¥#å·ç§°ä¸ºä¸€ä¸ªå“ˆå¸Œå€¼ã€‚Hashæ¨¡å¼çš„å¥½å¤„æ˜¯ï¼Œå†ä¹Ÿä¸ä¼šå› ä¸ºåˆ·æ–°è€Œæ‰¾ä¸åˆ°å¯¹åº”è·¯å¾„ã€‚</p></li><li><h3 id="3-MemoryRouter"><a href="#3-MemoryRouter" class="headerlink" title="3.MemoryRouter"></a>3.MemoryRouter</h3><p>  ä¸å­˜å‚¨historyï¼Œæ‰€æœ‰è·¯ç”±è¿‡ç¨‹éƒ½å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸èƒ½å‰è¿›åé€€ï¼Œæµè§ˆå™¨åœ°å€ä¸ä¼šå‘ç”Ÿã€‚</p></li><li><h3 id="4-NativeRouter"><a href="#4-NativeRouter" class="headerlink" title="4.NativeRouter"></a>4.NativeRouter</h3><p>  ç»å¸¸é…åˆReactNativeä½¿ç”¨ï¼Œå¤šç”¨äºç§»åŠ¨ç«¯ã€‚</p></li><li><h3 id="5-StaticRouter"><a href="#5-StaticRouter" class="headerlink" title="5. StaticRouter"></a>5. StaticRouter</h3><p>  è®¾ç½®é™æ€è·¯ç”±ï¼Œéœ€è¦å’Œåå°æœåŠ¡å™¨é…åˆè®¾ç½®ï¼Œæ¯”å¦‚è®¾ç½®æœåŠ¡ç«¯æ¸²æŸ“æ—¶ä½¿ç”¨ã€‚</p></li></ul><p>æ¯ä¸­æ¨¡å¼éƒ½æœ‰ä¼˜ç¼ºç‚¹ï¼Œæ ¹æ®é¡¹ç›®çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„ä½¿ç”¨å³å¯ã€‚</p><h3 id="ç¤ºä¾‹-ä½¿ç”¨HashRouter-æˆ–MemoryRouteræ¨¡å¼"><a href="#ç¤ºä¾‹-ä½¿ç”¨HashRouter-æˆ–MemoryRouteræ¨¡å¼" class="headerlink" title="ç¤ºä¾‹ ä½¿ç”¨HashRouter æˆ–MemoryRouteræ¨¡å¼"></a>ç¤ºä¾‹ ä½¿ç”¨HashRouter æˆ–MemoryRouteræ¨¡å¼</h3><ol><li><p>å¼•å…¥</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;BrowserRouter <span class="keyword">as</span> Router ,HashRouter,MemoryRouter, Route , Switch ,Redirect&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>è®¾ç½®</p></li></ol><p>HashRouter</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;HashRouter basename=<span class="string">&quot;demo&quot;</span> &gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;Nav/&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Route  exact  path=<span class="string">&quot;/&quot;</span>  component=&#123;Jspang&#125; /&gt;</span><br><span class="line">            &lt;Route  path=<span class="string">&quot;/Jspangb&quot;</span> component=&#123;Jspangb&#125; /&gt;</span><br><span class="line">            &lt;Route  path=<span class="string">&quot;/Jspangc/:param&quot;</span> component=&#123;Jspangc&#125; /&gt;</span><br><span class="line">            &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/Jspangb&quot;</span> /&gt;</span><br><span class="line">            &lt;Route  component=&#123;<span class="built_in">Error</span>&#125; /&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/HashRouter&gt;,</span><br></pre></td></tr></table></figure><p>MemoryRouter</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;MemoryRouter basename=<span class="string">&quot;demo&quot;</span> &gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;Nav/&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Route  exact  path=<span class="string">&quot;/&quot;</span>  component=&#123;Jspang&#125; /&gt;</span><br><span class="line">            &lt;Route  path=<span class="string">&quot;/Jspangb&quot;</span> component=&#123;Jspangb&#125; /&gt;</span><br><span class="line">            &lt;Route  path=<span class="string">&quot;/Jspangc/:param&quot;</span> component=&#123;Jspangc&#125; /&gt;</span><br><span class="line">            &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/Jspangb&quot;</span> /&gt;</span><br><span class="line">            &lt;Route  component=&#123;<span class="built_in">Error</span>&#125; /&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/MemoryRouter&gt;,</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“-9"><a href="#æ€»ç»“-9" class="headerlink" title="æ€»ç»“-9"></a>æ€»ç»“-9</h3><p>è¿™èŠ‚è¯¾é‡ç‚¹æ˜¯è·¯ç”±çš„æ–¹å¼ã€‚åœ¨é¡¹ç›®å¼€å§‹æ—¶å°±åº”è¯¥æ ¹æ®éœ€æ±‚é€‰æ‹©å¥½ï¼Œä¹Ÿæ˜¯è¦æŒæ¡çš„é‡ç‚¹ä¹‹ä¸€ã€‚ä¸Šæ‰‹é¡¹ç›®å®¹æ˜“é‡åˆ°å‘ã€‚</p><h2 id="ç¬¬10èŠ‚-è·¯ç”±-promptç”¨æ³•è¯¦è§£"><a href="#ç¬¬10èŠ‚-è·¯ç”±-promptç”¨æ³•è¯¦è§£" class="headerlink" title="ç¬¬10èŠ‚ è·¯ç”± promptç”¨æ³•è¯¦è§£"></a>ç¬¬10èŠ‚ è·¯ç”± promptç”¨æ³•è¯¦è§£</h2><p>åœ¨å¾ˆå¤šé¡¹ç›®ä¸­ï¼Œç¦»å¼€ä¸€ä¸ªé¡µé¢ï¼Œéƒ½ä¼šå¼¹å‡ºä¸€ä¸ªæç¤ºæ¡†ã€‚ç¡®å®šæ˜¯å¦ç¦»å¼€ã€‚Reactä¹Ÿæœ‰è¿™æ ·çš„ç»„ä»¶ï¼Œå°±æ˜¯Promptã€‚</p><h2 id="lt-Prompt-gt-æ ‡ç­¾"><a href="#lt-Prompt-gt-æ ‡ç­¾" class="headerlink" title="&lt;Prompt&gt;æ ‡ç­¾"></a><code>&lt;Prompt&gt;</code>æ ‡ç­¾</h2><p>è¦ä½¿ç”¨<code>&lt;Prompt&gt;</code>æ ‡ç­¾è¦å…ˆå¼•å…¥ã€‚</p><p>componentB.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="comment">// æ–°å¢</span></span><br><span class="line"><span class="keyword">import</span> &#123; Prompt &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentB</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                è¿™æ˜¯Bç»„ä»¶</span><br><span class="line">                <span class="comment">// æ–°å¢</span></span><br><span class="line">                &lt;Prompt message=<span class="string">&quot;æ®‹å¿ç¦»å¼€?&quot;</span> /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½¿ç”¨MemoryRouterï¼Œ<code>&lt;Prompt&gt;</code>ä¸èµ·ä½œç”¨ã€‚</p><h3 id="lt-Prompt-gt-æœ‰ä¸¤ä¸ªå±æ€§"><a href="#lt-Prompt-gt-æœ‰ä¸¤ä¸ªå±æ€§" class="headerlink" title="&lt;Prompt&gt;æœ‰ä¸¤ä¸ªå±æ€§"></a><code>&lt;Prompt&gt;</code>æœ‰ä¸¤ä¸ªå±æ€§</h3><ul><li>message: ç”¨äºæ˜¾ç¤ºæç¤ºçš„æ–‡æœ¬ä¿¡æ¯</li><li>whenï¼š ä¼ é€’å¸ƒå°”å€¼ï¼Œç›¸å½“äºæ ‡ç­¾çš„å¼€å…³ï¼Œé»˜è®¤æ˜¯trueï¼Œè®¾ç½®ä¸ºfalseï¼Œpromptå¤±æ•ˆã€‚</li></ul><p>å¦‚ä½•åŠ¨æ€æ”¹å˜whençš„çŠ¶æ€å‘¢ï¼Ÿåšä¸ªå°å®ä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Prompt &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentB</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="title">constructor</span> (<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="built_in">super</span>(props)</span><br><span class="line">        <span class="built_in">this</span>.state = &#123;</span><br><span class="line">            power: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.changePower = <span class="built_in">this</span>.changePower.bind(<span class="built_in">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    changePower () &#123;</span><br><span class="line">        alert(<span class="string">&#x27;å·²ç»å¼€å¯&#x27;</span>)</span><br><span class="line">        <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">            power: <span class="literal">true</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                è¿™æ˜¯Bç»„ä»¶</span><br><span class="line">                &lt;Prompt message=<span class="string">&quot;æ®‹å¿ç¦»å¼€?&quot;</span>  when=&#123;<span class="built_in">this</span>.state.power&#125;/&gt;</span><br><span class="line">                &lt;button onClick=&#123;<span class="built_in">this</span>.changePower&#125;&gt;å¯ç”¨&lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Fluxå’ŒReduxçš„å­¦ä¹ å»ºè®®åœ¨å®˜ç½‘å­¦ä¹ ã€‚</p><h3 id="å®˜æ–¹æ–‡æ¡£"><a href="#å®˜æ–¹æ–‡æ¡£" class="headerlink" title="å®˜æ–¹æ–‡æ¡£"></a><a href="https://redux.js.org/">å®˜æ–¹æ–‡æ¡£</a></h3><h3 id="ä¸­æ–‡æ–‡æ¡£"><a href="#ä¸­æ–‡æ–‡æ¡£" class="headerlink" title="ä¸­æ–‡æ–‡æ¡£"></a><a href="http://cn.redux.js.org/">ä¸­æ–‡æ–‡æ¡£</a></h3><h3 id="ç»éªŒ-10"><a href="#ç»éªŒ-10" class="headerlink" title="ç»éªŒ-10"></a>ç»éªŒ-10</h3><p>ç§»åŠ¨ç«¯æ ·å¼çœ‹èµ·æ¥å¤§éƒ¨åˆ†ç”¨flexå°±å¯ä»¥æ»¡è¶³ã€‚<br>å¸¸ç”¨ç»„ä»¶Textï¼ŒViewï¼ŒTextInputï¼ŒImage<br>Image srcå±æ€§ä¸ºsource<br>æ ·å¼çš„ç¼–å†™ä¸åŸç”ŸåŒºåˆ«</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>phpç§¯ç´¯</title>
      <link href="posts/php%E7%A7%AF%E7%B4%AF/"/>
      <url>posts/php%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<p>booleanå€¼ä¼ åˆ°å‰ç«¯çš„æ—¶å€™è½¬æˆäº†1</p><p>PHP è„šæœ¬å¯æ”¾ç½®äºæ–‡æ¡£ä¸­çš„ä»»ä½•ä½ç½®ã€‚<br>PHP è„šæœ¬ä»¥ <?php å¼€å¤´ï¼Œä»¥ `?>` ç»“å°¾ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// æ­¤å¤„æ˜¯ PHP ä»£ç </span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  <span class="comment">//è¿™é‡Œæ˜¯ä»£ç ï¼Œå“ˆå“ˆ</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>PHP æ–‡ä»¶çš„é»˜è®¤æ–‡ä»¶æ‰©å±•åæ˜¯ â€œ.phpâ€ã€‚<br>PHP æ–‡ä»¶é€šå¸¸åŒ…å« HTML æ ‡ç­¾ä»¥åŠä¸€äº› PHP è„šæœ¬ä»£ç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot; Hello World!&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"> <span class="comment">//è¿™æ˜¯å•è¡Œæ³¨é‡Š</span></span><br><span class="line"> <span class="comment">#è¿™ä¹Ÿæ˜¯ å•è¡Œæ³¨é‡Š</span></span><br><span class="line"> <span class="comment">/*</span></span><br><span class="line"><span class="comment">  è¿™æ˜¯å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å˜é‡å¤§å°å†™åˆ†æ˜</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"> <span class="variable">$color</span> = <span class="string">&quot;red&quot;</span>;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">&quot;My car is&quot;</span> .<span class="variable">$color</span>.<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">&quot;My car is&quot;</span> .<span class="variable">$COLOR</span>.<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">&quot;My car is&quot;</span> .<span class="variable">$coLOR</span>.<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>PHP å˜é‡è§„åˆ™ï¼š<br>å˜é‡ä»¥ <code>$</code> ç¬¦å·å¼€å¤´ï¼Œå…¶åæ˜¯å˜é‡çš„åç§°<br>å˜é‡åç§°å¿…é¡»ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´<br>å˜é‡åç§°ä¸èƒ½ä»¥æ•°å­—å¼€å¤´<br>å˜é‡åç§°åªèƒ½åŒ…å«å­—æ¯æ•°å­—å­—ç¬¦å’Œä¸‹åˆ’çº¿ï¼ˆA-zã€0-9 ä»¥åŠ _ï¼‰<br>å˜é‡åç§°å¯¹å¤§å°å†™æ•æ„Ÿï¼ˆ<code>$y</code> ä¸ <code>$Y</code> æ˜¯ä¸¤ä¸ªä¸åŒçš„å˜é‡ï¼‰<br>==æ³¨é‡Šï¼šPHP å˜é‡åç§°å¯¹å¤§å°å†™æ•æ„Ÿï¼==</p><p>PHP æœ‰ä¸‰ç§ä¸åŒçš„å˜é‡ä½œç”¨åŸŸï¼š<br>localï¼ˆå±€éƒ¨ï¼‰<br>globalï¼ˆå…¨å±€ï¼‰<br>staticï¼ˆé™æ€ï¼‰<br>PHP åŒæ—¶åœ¨åä¸º $GLOBALS[index] çš„æ•°ç»„ä¸­å­˜å‚¨äº†æ‰€æœ‰çš„å…¨å±€å˜é‡ã€‚ä¸‹æ ‡å­˜æœ‰å˜é‡åã€‚è¿™ä¸ªæ•°ç»„åœ¨å‡½æ•°å†…ä¹Ÿå¯ä»¥è®¿é—®ï¼Œå¹¶èƒ½å¤Ÿç”¨äºç›´æ¥æ›´æ–°å…¨å±€å˜é‡ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myTest</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="variable">$GLOBALS</span>[<span class="string">&#x27;y&#x27;</span>]=<span class="variable">$GLOBALS</span>[<span class="string">&#x27;x&#x27;</span>]+<span class="variable">$GLOBALS</span>[<span class="string">&#x27;y&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myTest</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">static</span> <span class="variable">$x</span>=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">echo</span> <span class="variable">$x</span>;</span><br><span class="line">  <span class="variable">$x</span>++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>echo å’Œ print è¯­å¥</li></ul><p>echo å’Œ print ä¹‹é—´çš„å·®å¼‚ï¼š<br>echo - èƒ½å¤Ÿè¾“å‡ºä¸€ä¸ªä»¥ä¸Šçš„å­—ç¬¦ä¸²<br>print - åªèƒ½è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å§‹ç»ˆè¿”å› 1</p><ul><li><p>å¹¶ç½®è¿ç®—ç¬¦ï¼ˆConcatenation Operatorï¼‰<br>åœ¨ PHP ä¸­ï¼Œåªæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²è¿ç®—ç¬¦ã€‚<br>å¹¶ç½®è¿ç®—ç¬¦ <code>.</code> ç”¨äºæŠŠä¸¤ä¸ªå­—ç¬¦ä¸²å€¼è¿æ¥èµ·æ¥ã€‚<br>è¦æŠŠä¸¤ä¸ªå˜é‡è¿æ¥åœ¨ä¸€èµ·ï¼Œè¯·ä½¿ç”¨è¿™ä¸ªç‚¹è¿ç®—ç¬¦ <code>.</code><br>ä¸¥æ ¼åŒºåˆ«äºå…¶ä»–è¯­è¨€çš„<code>+</code></p></li><li><p><code>strlen()</code>å’Œ<code>strpos()</code><br><code>strlen()</code> å‡½æ•°ç”¨äºè®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚<br><code>strpos()</code> å‡½æ•°ç”¨äºåœ¨å­—ç¬¦ä¸²å†…æ£€ç´¢ä¸€æ®µå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªå­—ç¬¦ã€‚</p></li></ul><p>PHP çš„çœŸæ­£å¨åŠ›æºè‡ªäºå®ƒçš„å‡½æ•°ã€‚<br>åœ¨ PHP ä¸­ï¼Œæä¾›äº†è¶…è¿‡ 700 ä¸ªå†…å»ºçš„å‡½æ•°ã€‚</p><p>åˆ›å»º PHP å‡½æ•°ï¼š<br>æ‰€æœ‰çš„å‡½æ•°éƒ½ä½¿ç”¨å…³é”®è¯ <code>function()</code> æ¥å¼€å§‹<br>å‘½åå‡½æ•° - å‡½æ•°çš„åç§°åº”è¯¥æç¤ºå‡ºå®ƒçš„åŠŸèƒ½ã€‚å‡½æ•°åç§°ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´ã€‚</p><p><code>$_REQUEST</code> å˜é‡<br>PHP çš„ <code>$_REQUEST</code> å˜é‡åŒ…å«äº† <code>$_GET</code>, <code>$_POST</code> ä»¥åŠ <code>$_COOKIE</code> çš„å†…å®¹ã€‚<br>PHP çš„ <code>$_REQUEST</code> å˜é‡å¯ç”¨æ¥å–å¾—é€šè¿‡ GET å’Œ POST æ–¹æ³•å‘é€çš„è¡¨å•æ•°æ®çš„ç»“æœã€‚</p><p><code>mktime()</code> å‡½æ•°<br>è¿”å›ä¸€ä¸ªæ—¥æœŸçš„ UNIX æ—¶é—´æˆ³<br><code>mktime(hour,minute,second,month,day,year,is_dst)</code></p><ul><li>æœåŠ¡å™¨ç«¯å¼•ç”¨ï¼ˆServer Side Includesï¼‰<br>é€šè¿‡ <code>include()</code> æˆ– <code>require()</code> å‡½æ•°ï¼Œæ‚¨å¯ä»¥åœ¨æœåŠ¡å™¨æ‰§è¡Œ PHP æ–‡ä»¶ä¹‹å‰åœ¨è¯¥æ–‡ä»¶ä¸­æ’å…¥ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚</li></ul><p>é™¤äº†å®ƒä»¬å¤„ç†é”™è¯¯çš„æ–¹å¼ä¸åŒä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°åœ¨å…¶ä»–æ–¹é¢éƒ½æ˜¯ç›¸åŒçš„ã€‚include() å‡½æ•°ä¼šç”Ÿæˆä¸€ä¸ªè­¦å‘Šï¼ˆä½†æ˜¯è„šæœ¬ä¼šç»§ç»­æ‰§è¡Œï¼‰ï¼Œè€Œ require() å‡½æ•°ä¼šç”Ÿæˆä¸€ä¸ªè‡´å‘½é”™è¯¯ï¼ˆfatal errorï¼‰ï¼ˆåœ¨é”™è¯¯å‘ç”Ÿåè„šæœ¬ä¼šåœæ­¢æ‰§è¡Œï¼‰ã€‚</p><ul><li><code>PHP Session</code><br>åœ¨æ‚¨æŠŠç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ° <code>PHP session</code> ä¸­ä¹‹å‰ï¼Œé¦–å…ˆå¿…é¡»å¯åŠ¨ä¼šè¯ã€‚<br>æ³¨é‡Šï¼š<code>session_start()</code> å‡½æ•°å¿…é¡»ä½äº html æ ‡ç­¾ä¹‹å‰ï¼š</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> session_start(); <span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç ä¼šå‘æœåŠ¡å™¨æ³¨å†Œç”¨æˆ·çš„ä¼šè¯ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥å¼€å§‹ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼ŒåŒæ—¶ä¼šä¸ºç”¨æˆ·ä¼šè¯åˆ†é…ä¸€ä¸ª UIDã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>HTML å°çŸ¥è¯†</title>
      <link href="posts/HTML-%E5%B0%8F%E7%9F%A5%E8%AF%86/"/>
      <url>posts/HTML-%E5%B0%8F%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<p>1.è®¾ç½®input è¯­æ³•æ£€æŸ¥<br><code>spellcheck=&quot;false/true&quot;</code></p><p>2.è®¾ç½®inputæ˜¯å¦è‡ªåŠ¨è¡¥å…¨<br><code>autocomplete=&quot;off/on&quot;</code></p><p>3.é¡µé¢åŠ è½½æ—¶ï¼Œè‡ªåŠ¨è·å–ç„¦ç‚¹<br><code>autofocus=&quot;autofocus&quot;</code></p><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç çš„æ„æ€æ˜¯ï¼Œè®©å¸ƒå±€è§†å£çš„å®½åº¦ç­‰äºç†æƒ³è§†å£çš„å®½åº¦ï¼Œé¡µé¢çš„åˆå§‹ç¼©æ”¾æ¯”ä¾‹ä»¥åŠæœ€å¤§ç¼©æ”¾æ¯”ä¾‹éƒ½ä¸º1ï¼Œä¸”ä¸å…è®¸ç”¨æˆ·å¯¹é¡µé¢è¿›è¡Œç¼©æ”¾æ“ä½œã€‚</p><h3 id="inputæ ‡ç­¾åªèƒ½è¾“å…¥æ•°å­—jså®ç°-ä¸”ä¸èƒ½è¾“å…¥eæˆ–è€…å…¶ä»–å„ç§ç¬¦å·"><a href="#inputæ ‡ç­¾åªèƒ½è¾“å…¥æ•°å­—jså®ç°-ä¸”ä¸èƒ½è¾“å…¥eæˆ–è€…å…¶ä»–å„ç§ç¬¦å·" class="headerlink" title="inputæ ‡ç­¾åªèƒ½è¾“å…¥æ•°å­—jså®ç°(ä¸”ä¸èƒ½è¾“å…¥eæˆ–è€…å…¶ä»–å„ç§ç¬¦å·)"></a>inputæ ‡ç­¾åªèƒ½è¾“å…¥æ•°å­—jså®ç°(ä¸”ä¸èƒ½è¾“å…¥eæˆ–è€…å…¶ä»–å„ç§ç¬¦å·)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">onKeypress</span>=<span class="string">&quot;return (/[\d]/.test(String.fromCharCode(event.keyCode)))&quot;</span> <span class="attr">style</span>=<span class="string">&quot;ime-mode: Disabled&quot;</span> &gt;</span></span><br></pre></td></tr></table></figure><p>ime-modeçš„è¯­æ³•è§£é‡Šå¦‚ä¸‹ï¼š</p><p>ime-mode : auto | active | inactive | disabled</p><p>å–å€¼ï¼š</p><p>auto  : é»˜è®¤å€¼ã€‚ä¸å½±å“IMEçš„çŠ¶æ€ã€‚ä¸ä¸æŒ‡å®š ime-mode å±æ€§æ—¶ç›¸åŒ</p><p>active  : æŒ‡å®šæ‰€æœ‰ä½¿ç”¨IMEè¾“å…¥çš„å­—ç¬¦ã€‚å³æ¿€æ´»æœ¬åœ°è¯­è¨€è¾“å…¥æ³•ã€‚ç”¨æˆ·ä»å¯ä»¥æ’¤é”€æ¿€æ´»IME</p><p>inactive  : æŒ‡å®šæ‰€æœ‰ä¸ä½¿ç”¨IMEè¾“å…¥çš„å­—ç¬¦ã€‚å³æ¿€æ´»éæœ¬åœ°è¯­è¨€ã€‚ç”¨æˆ·ä»å¯ä»¥æ’¤é”€æ¿€æ´»IME</p><p>disabled  : å®Œå…¨ç¦ç”¨IMEã€‚å¯¹äºæœ‰ç„¦ç‚¹çš„æ§ä»¶(å¦‚è¾“å…¥æ¡†)ï¼Œç”¨æˆ·ä¸å¯ä»¥æ¿€æ´»IME</p><p>IME æ˜¯æŒ‡ Input Method Editors è¾“å…¥æ³•ç¼–è¾‘å™¨</p><p>æ…•è¯¾ç½‘å­¦ä¹ </p><h2 id="1-htmlåŸºç¡€"><a href="#1-htmlåŸºç¡€" class="headerlink" title="1.htmlåŸºç¡€"></a>1.htmlåŸºç¡€</h2><p>  emæ ‡ç­¾ï¼šå¼ºè°ƒï¼Œæ–œä½“ï¼›strong:å¼ºè°ƒ<br> <code>&lt;address&gt;</code>æ–œä½“ï¼Œç”¨äºæ˜¾ç¤ºåœ°å€<br><code>&lt;q&gt;</code>æ ‡ç­¾çš„çœŸæ­£å…³é”®ç‚¹ä¸æ˜¯å®ƒçš„é»˜è®¤æ ·å¼åŒå¼•å·ï¼Œè€Œæ˜¯å®ƒçš„è¯­ä¹‰ï¼šå¼•ç”¨åˆ«äººçš„è¯ã€‚</p><p><code>&lt;blockquote&gt;</code>çš„ä½œç”¨ä¹Ÿæ˜¯å¼•ç”¨åˆ«äººçš„æ–‡æœ¬ã€‚ä½†å®ƒæ˜¯å¯¹é•¿æ–‡æœ¬çš„å¼•ç”¨ï¼Œå¦‚åœ¨æ–‡ç« ä¸­å¼•å…¥å¤§æ®µæŸçŸ¥åä½œå®¶çš„æ–‡å­—ï¼Œè¿™æ—¶éœ€è¦è¿™ä¸ªæ ‡ç­¾ã€‚</p><p>html4.01ç‰ˆæœ¬ <code>&lt;hr&gt;    &lt;br&gt;</code><br>xhtml1.0ç‰ˆæœ¬ <code>&lt;hr /&gt;  &lt;br/&gt;</code></p><p>æ˜¾ç¤ºä»£ç æ®µ<br>   ä¸€è¡Œâ€”<code>&lt;code&gt;&lt;/code&gt;</code><br>   å¤šè¡Œâ€”-<code>&lt;pre&gt;&lt;/pre&gt;</code><br>select å¤šé€‰<br>    <code>&lt;select multiple=&quot;multiple&quot;&gt;</code><br>Labelä¸­çš„foräº‹ä»¶<br>labelæ ‡ç­¾ä¸ä¼šå‘ç”¨æˆ·å‘ˆç°ä»»ä½•ç‰¹æ®Šæ•ˆæœï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¸ºé¼ æ ‡ç”¨æˆ·æ”¹è¿›äº†å¯ç”¨æ€§ã€‚å¦‚æœä½ åœ¨ label æ ‡ç­¾å†…ç‚¹å‡»æ–‡æœ¬ï¼Œå°±ä¼šè§¦å‘æ­¤æ§ä»¶ã€‚å°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·å•å‡»é€‰ä¸­è¯¥labelæ ‡ç­¾æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šè‡ªåŠ¨å°†ç„¦ç‚¹è½¬åˆ°å’Œæ ‡ç­¾ç›¸å…³çš„è¡¨å•æ§ä»¶ä¸Šï¼ˆå°±è‡ªåŠ¨é€‰ä¸­å’Œè¯¥ labelæ ‡ç­¾ç›¸å…³è¿çš„è¡¨å•æ§ä»¶ä¸Šï¼‰ã€‚<br>placeholderå±æ€§<br><code>&lt;input type=&quot;email&quot; id=&quot;email&quot; placeholder=&quot;Enter email&quot;&gt;</code></p><h2 id="cssæ ·å¼"><a href="#cssæ ·å¼" class="headerlink" title="cssæ ·å¼"></a>cssæ ·å¼</h2><p>ä¸‰ç§æ ·å¼æ˜¯æœ‰ä¼˜å…ˆçº§çš„ï¼Œè®°ä½ä»–ä»¬çš„ä¼˜å…ˆçº§ï¼šå†…è”å¼ &gt; åµŒå…¥å¼ &gt; å¤–éƒ¨å¼</p><p>ç±»é€‰æ‹©å™¨å’Œidé€‰æ‹©å™¨çš„ç›¸åŒã€ä¸åŒç‚¹</p><p>ç›¸åŒç‚¹å’Œä¸åŒç‚¹ï¼š<br>ç›¸åŒç‚¹ï¼šå¯ä»¥åº”ç”¨äºä»»ä½•å…ƒç´ </p><p>ä¸åŒç‚¹ï¼š<br>1ã€IDé€‰æ‹©å™¨åªèƒ½åœ¨æ–‡æ¡£ä¸­ä½¿ç”¨ä¸€æ¬¡ã€‚ä¸ç±»é€‰æ‹©å™¨ä¸åŒï¼Œåœ¨ä¸€ä¸ªHTMLæ–‡æ¡£ä¸­ï¼ŒIDé€‰æ‹©å™¨åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œè€Œä¸”ä»…ä¸€æ¬¡ã€‚è€Œç±»é€‰æ‹©å™¨å¯ä»¥ä½¿ç”¨å¤šæ¬¡ã€‚<br>2ã€å¯ä»¥ä½¿ç”¨ç±»é€‰æ‹©å™¨è¯åˆ—è¡¨æ–¹æ³•ä¸ºä¸€ä¸ªå…ƒç´ åŒæ—¶è®¾ç½®å¤šä¸ªæ ·å¼ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºä¸€ä¸ªå…ƒç´ åŒæ—¶è®¾å¤šä¸ªæ ·å¼ï¼Œä½†åªå¯ä»¥ç”¨ç±»é€‰æ‹©å™¨çš„æ–¹æ³•å®ç°ï¼ŒIDé€‰æ‹©å™¨æ˜¯ä¸å¯ä»¥çš„ï¼ˆä¸èƒ½ä½¿ç”¨ ID è¯åˆ—è¡¨ï¼‰ã€‚</p><p>å­é€‰æ‹©å™¨<br>è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„é€‰æ‹©å™¨å­é€‰æ‹©å™¨ï¼Œå³å¤§äºç¬¦å·(&gt;),ç”¨äºé€‰æ‹©æŒ‡å®šæ ‡ç­¾å…ƒç´ çš„ç¬¬ä¸€ä»£å­å…ƒç´ ã€‚å¦‚å³ä¾§ä»£ç ç¼–è¾‘å™¨ä¸­çš„ä»£ç ï¼š<br><code>.food&gt;li&#123;border:1px solid red;&#125;</code></p><p>åŒ…å«(åä»£)é€‰æ‹©å™¨<br>åŒ…å«é€‰æ‹©å™¨ï¼Œå³åŠ å…¥ç©ºæ ¼,ç”¨äºé€‰æ‹©æŒ‡å®šæ ‡ç­¾å…ƒç´ ä¸‹çš„åè¾ˆå…ƒç´ ã€‚å¦‚å³ä¾§ä»£ç ç¼–è¾‘å™¨ä¸­çš„ä»£ç ï¼š<br><code>.first  span&#123;color:red;&#125;</code><br>è¯·æ³¨æ„è¿™ä¸ªé€‰æ‹©å™¨ä¸å­é€‰æ‹©å™¨çš„åŒºåˆ«ï¼Œå­é€‰æ‹©å™¨ï¼ˆchild selectorï¼‰ä»…æ˜¯æŒ‡å®ƒçš„ç›´æ¥åä»£ï¼Œæˆ–è€…ä½ å¯ä»¥ç†è§£ä¸ºä½œç”¨äºå­å…ƒç´ çš„ç¬¬ä¸€ä»£åä»£ã€‚è€Œåä»£é€‰æ‹©å™¨æ˜¯ä½œç”¨äºæ‰€æœ‰å­åä»£å…ƒç´ ã€‚åä»£é€‰æ‹©å™¨é€šè¿‡ç©ºæ ¼æ¥è¿›è¡Œé€‰æ‹©ï¼Œè€Œå­é€‰æ‹©å™¨æ˜¯é€šè¿‡â€œ&gt;â€è¿›è¡Œé€‰æ‹©ã€‚</p><p>æ€»ç»“ï¼š&gt;ä½œç”¨äºå…ƒç´ çš„ç¬¬ä¸€ä»£åä»£ï¼Œç©ºæ ¼ä½œç”¨äºå…ƒç´ çš„æ‰€æœ‰åä»£ã€‚</p><p>é€šç”¨é€‰æ‹©å™¨  *</p><p>ä¼ªç±»é€‰æ‹©ç¬¦<br>æ›´æœ‰è¶£çš„æ˜¯ä¼ªç±»é€‰æ‹©ç¬¦ï¼Œä¸ºä»€ä¹ˆå«åšä¼ªç±»é€‰æ‹©ç¬¦ï¼Œå®ƒå…è®¸ç»™htmlä¸å­˜åœ¨çš„æ ‡ç­¾ï¼ˆæ ‡ç­¾çš„æŸç§çŠ¶æ€ï¼‰è®¾ç½®æ ·å¼ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬ç»™htmlä¸­ä¸€ä¸ªæ ‡ç­¾å…ƒç´ çš„é¼ æ ‡æ»‘è¿‡çš„çŠ¶æ€æ¥è®¾ç½®å­—ä½“é¢œè‰²ï¼š<br><code>a:hover&#123;color:red;&#125;</code></p><p>åˆ†ç»„é€‰æ‹©ç¬¦<br>å½“ä½ æƒ³ä¸ºhtmlä¸­å¤šä¸ªæ ‡ç­¾å…ƒç´ è®¾ç½®åŒä¸€ä¸ªæ ·å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åˆ†ç»„é€‰æ‹©ç¬¦ï¼ˆï¼Œï¼‰ï¼Œå¦‚ä¸‹ä»£ç ä¸ºå³ä¾§ä»£ç ç¼–è¾‘å™¨ä¸­çš„h1ã€spanæ ‡ç­¾åŒæ—¶è®¾ç½®å­—ä½“é¢œè‰²ä¸ºçº¢è‰²ï¼š<br><code>h1,span&#123;color:red;&#125;</code></p><p>ç»§æ‰¿<br>CSSçš„æŸäº›æ ·å¼æ˜¯å…·æœ‰ç»§æ‰¿æ€§çš„ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯ç»§æ‰¿å‘¢ï¼Ÿç»§æ‰¿æ˜¯ä¸€ç§è§„åˆ™ï¼Œå®ƒå…è®¸æ ·å¼ä¸ä»…åº”ç”¨äºæŸä¸ªç‰¹å®šhtmlæ ‡ç­¾å…ƒç´ ï¼Œè€Œä¸”åº”ç”¨äºå…¶åä»£ã€‚æ¯”å¦‚ä¸‹é¢ä»£ç ï¼šå¦‚æŸç§é¢œè‰²åº”ç”¨äºpæ ‡ç­¾ï¼Œè¿™ä¸ªé¢œè‰²è®¾ç½®ä¸ä»…åº”ç”¨pæ ‡ç­¾ï¼Œè¿˜åº”ç”¨äºpæ ‡ç­¾ä¸­çš„æ‰€æœ‰å­å…ƒç´ æ–‡æœ¬ï¼Œè¿™é‡Œå­å…ƒç´ ä¸ºspanæ ‡ç­¾ã€‚<br><code>p&#123;color:red;&#125;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ä¸‰å¹´çº§æ—¶ï¼Œæˆ‘è¿˜æ˜¯ä¸€ä¸ª<span class="tag">&lt;<span class="name">span</span>&gt;</span>èƒ†å°å¦‚é¼ <span class="tag">&lt;/<span class="name">span</span>&gt;</span>çš„å°å¥³å­©ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">å¯è§å³ä¾§ç»“æœçª—å£ä¸­pä¸­çš„æ–‡æœ¬ä¸spanä¸­çš„æ–‡æœ¬éƒ½è®¾ç½®ä¸ºäº†çº¢è‰²ã€‚ä½†æ³¨æ„æœ‰ä¸€äº›cssæ ·å¼æ˜¯ä¸å…·æœ‰ç»§æ‰¿æ€§çš„ã€‚å¦‚border:1px solid red;</span><br><span class="line">p&#123;border:1px solid red;&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ä¸‰å¹´çº§æ—¶ï¼Œæˆ‘è¿˜æ˜¯ä¸€ä¸ª<span class="tag">&lt;<span class="name">span</span>&gt;</span>èƒ†å°å¦‚é¼ <span class="tag">&lt;/<span class="name">span</span>&gt;</span>çš„å°å¥³å­©ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç‰¹æ®Šæ€§<br>æ ¹æ®æƒå€¼æ¥åˆ¤æ–­ä½¿ç”¨å“ªç§cssæ ·å¼çš„ï¼Œæƒå€¼é«˜çš„å°±ä½¿ç”¨å“ªç§cssæ ·å¼ã€‚<br>ä¸‹é¢æ˜¯æƒå€¼çš„è§„åˆ™ï¼š<br>æ ‡ç­¾çš„æƒå€¼ä¸º1ï¼Œç±»é€‰æ‹©ç¬¦çš„æƒå€¼ä¸º10ï¼ŒIDé€‰æ‹©ç¬¦çš„æƒå€¼æœ€é«˜ä¸º100ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">color</span>:red;&#125; <span class="comment">/*æƒå€¼ä¸º1*/</span></span><br><span class="line"><span class="selector-tag">p</span> <span class="selector-tag">span</span>&#123;<span class="attribute">color</span>:green;&#125; <span class="comment">/*æƒå€¼ä¸º1+1=2*/</span></span><br><span class="line"><span class="selector-class">.warning</span>&#123;<span class="attribute">color</span>:white;&#125; <span class="comment">/*æƒå€¼ä¸º10*/</span></span><br><span class="line"><span class="selector-tag">p</span> <span class="selector-tag">span</span><span class="selector-class">.warning</span>&#123;<span class="attribute">color</span>:purple;&#125; <span class="comment">/*æƒå€¼ä¸º1+1+10=12*/</span></span><br><span class="line"></span><br><span class="line"># <span class="selector-tag">footer</span> <span class="selector-class">.note</span> <span class="selector-tag">p</span>&#123;<span class="attribute">color</span>:yellow;&#125; <span class="comment">/*æƒå€¼ä¸º100+10+1=111*/</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¿˜æœ‰ä¸€ä¸ªæƒå€¼æ¯”è¾ƒç‰¹æ®Šâ€“ç»§æ‰¿ä¹Ÿæœ‰æƒå€¼ä½†å¾ˆä½ï¼Œæœ‰çš„æ–‡çŒ®æå‡ºå®ƒåªæœ‰0.1ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸ºç»§æ‰¿çš„æƒå€¼æœ€ä½ã€‚</p><p>å±‚å <br>å†…è”æ ·å¼è¡¨ï¼ˆæ ‡ç­¾å†…éƒ¨ï¼‰&gt; åµŒå…¥æ ·å¼è¡¨ï¼ˆå½“å‰æ–‡ä»¶ä¸­ï¼‰&gt; å¤–éƒ¨æ ·å¼è¡¨ï¼ˆå¤–éƒ¨æ–‡ä»¶ä¸­ï¼‰ã€‚</p><p>é‡è¦æ€§</p><p>æ ·å¼ä¼˜å…ˆçº§ä¸ºï¼šæµè§ˆå™¨é»˜è®¤çš„æ ·å¼ &lt; ç½‘é¡µåˆ¶ä½œè€…æ ·å¼ &lt; ç”¨æˆ·è‡ªå·±è®¾ç½®çš„æ ·å¼ï¼Œä½†è®°ä½!importantä¼˜å…ˆçº§æ ·å¼æ˜¯ä¸ªä¾‹å¤–ï¼Œæƒå€¼é«˜äºç”¨æˆ·è‡ªå·±è®¾ç½®çš„æ ·å¼ã€‚</p><p>ç°åœ¨ä¸€èˆ¬ç½‘é¡µå–œæ¬¢è®¾ç½®â€œå¾®è½¯é›…é»‘â€ï¼Œå¦‚ä¸‹ä»£ç ï¼š<br><code>body&#123;font-family:&quot;Microsoft Yahei&quot;;&#125;</code></p><p>æ–‡å­—æ’ç‰ˆâ€“æ–œä½“<br>ä»¥ä¸‹ä»£ç å¯ä»¥å®ç°æ–‡å­—ä»¥æ–œä½“æ ·å¼åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºï¼š<br><code>p a&#123;font-style:italic;&#125;</code></p><p>æ–‡å­—æ’ç‰ˆâ€“ä¸‹åˆ’çº¿<br>æœ‰äº›æƒ…å†µä¸‹æƒ³ä¸ºæ–‡å­—è®¾ç½®ä¸ºä¸‹åˆ’çº¿æ ·å¼ï¼Œè¿™æ ·å¯ä»¥åœ¨è§†è§‰ä¸Šå¼ºè°ƒæ–‡å­—ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢ä»£ç æ¥å®ç°ï¼š<br><code>p a&#123;text-decoration:underline;&#125;</code><br>åˆ é™¤çº¿ä½¿ç”¨ä¸‹é¢ä»£ç å°±å¯ä»¥å®ç°ï¼š<br><code>.oldPrice&#123;text-decoration:line-through;&#125;</code></p><p>æ®µè½æ’ç‰ˆâ€“ç¼©è¿›<br>ä¸­æ–‡æ–‡å­—ä¸­çš„æ®µå‰ä¹ æƒ¯ç©ºä¸¤ä¸ªæ–‡å­—çš„ç©ºç™½ï¼Œè¿™ä¸ªç‰¹æ®Šçš„æ ·å¼å¯ä»¥ç”¨ä¸‹é¢ä»£ç æ¥å®ç°ï¼š<br><code>p&#123;text-indent:2em;&#125;</code><br>æ³¨æ„ï¼š2emçš„æ„æ€å°±æ˜¯æ–‡å­—çš„2å€å¤§å°</p><p>æ®µè½æ’ç‰ˆâ€“è¡Œé—´è·<br>è¿™ä¸€å°èŠ‚æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹å¦ä¸€ä¸ªåœ¨æ®µè½æ’ç‰ˆä¸­èµ·é‡è¦ä½œç”¨çš„è¡Œé—´è·å±æ€§ï¼ˆline-heightï¼‰ï¼Œå¦‚ä¸‹ä»£ç å®ç°è®¾ç½®æ®µè½è¡Œé—´è·ä¸º1.5å€ã€‚<br><code>p&#123;line-height:1.5em;&#125;</code></p><p>æ®µè½æ’ç‰ˆâ€“å­—é—´è·ã€å­—æ¯é—´è·<br>æ–‡å­—é—´éš”ã€å­—æ¯é—´éš”è®¾ç½®ï¼š<br>å¦‚æœæƒ³åœ¨ç½‘é¡µæ’ç‰ˆä¸­è®¾ç½®æ–‡å­—é—´éš”æˆ–è€…å­—æ¯é—´éš”å°±å¯ä»¥ä½¿ç”¨    letter-spacingæ¥å®ç°ï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>&#123;</span><br><span class="line">    <span class="attribute">letter-spacing</span>:<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¿™ä¸ªæ ·å¼ä½¿ç”¨åœ¨è‹±æ–‡å•è¯æ—¶ï¼Œæ˜¯è®¾ç½®å­—æ¯ä¸å­—æ¯ä¹‹é—´çš„é—´è·ã€‚<br>å•è¯é—´è·è®¾ç½®ï¼š<br>å¦‚æœæˆ‘æƒ³è®¾ç½®è‹±æ–‡å•è¯ä¹‹é—´çš„é—´è·å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨word-spacingæ¥å®ç°ã€‚å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>&#123;</span><br><span class="line">    <span class="attribute">word-spacing</span>:<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ®µè½æ’ç‰ˆâ€“å¯¹é½<br>æƒ³ä¸ºå—çŠ¶å…ƒç´ ä¸­çš„æ–‡æœ¬ã€å›¾ç‰‡è®¾ç½®å±…ä¸­æ ·å¼å—ï¼Ÿå¯ä»¥ä½¿ç”¨text-alignæ ·å¼ä»£ç ï¼Œå¦‚ä¸‹ä»£ç å¯å®ç°æ–‡æœ¬å±…ä¸­æ˜¾ç¤ºã€‚(é‚£ä¹ˆä»€ä¹ˆæ˜¯å—çŠ¶å…ƒç´ å‘¢ï¼Ÿåœ¨åé¢çš„11-1ã€11-2å°èŠ‚ä¸­ä¼šè®²åˆ°ã€‚)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">h1&#123;</span><br><span class="line">    text-align:center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…ƒç´ åˆ†ç±»"><a href="#å…ƒç´ åˆ†ç±»" class="headerlink" title="å…ƒç´ åˆ†ç±»"></a>å…ƒç´ åˆ†ç±»</h2><p>åœ¨è®²è§£CSSå¸ƒå±€ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æå‰çŸ¥é“ä¸€äº›çŸ¥è¯†ï¼Œåœ¨CSSä¸­ï¼Œhtmlä¸­çš„æ ‡ç­¾å…ƒç´ å¤§ä½“è¢«åˆ†ä¸ºä¸‰ç§ä¸åŒçš„ç±»å‹ï¼šå—çŠ¶å…ƒç´ ã€å†…è”å…ƒç´ (åˆå«è¡Œå†…å…ƒç´ )å’Œå†…è”å—çŠ¶å…ƒç´ ã€‚<br>å¸¸ç”¨çš„å—çŠ¶å…ƒç´ æœ‰ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">p</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">h1</span>&gt;</span>...<span class="tag">&lt;<span class="name">h6</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">ol</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">ul</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">dl</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">table</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">address</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">blockquote</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¸¸ç”¨çš„å†…è”å…ƒç´ æœ‰ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">span</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">br</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">i</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">em</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">strong</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">label</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">q</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">var</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">cite</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">code</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¸¸ç”¨çš„å†…è”å—çŠ¶å…ƒç´ æœ‰ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span>&gt;</span>ã€<span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>å…ƒç´ åˆ†ç±»â€“å—çº§å…ƒç´ <br>ä»€ä¹ˆæ˜¯å—çº§å…ƒç´ ï¼Ÿåœ¨htmlä¸­<code>&lt;div&gt;ã€ &lt;p&gt;ã€&lt;h1&gt;ã€&lt;form&gt;ã€&lt;ul&gt; å’Œ &lt;li&gt;</code>å°±æ˜¯å—çº§å…ƒç´ ã€‚è®¾ç½®display:blockå°±æ˜¯å°†å…ƒç´ æ˜¾ç¤ºä¸ºå—çº§å…ƒç´ ã€‚å¦‚ä¸‹ä»£ç å°±æ˜¯å°†å†…è”å…ƒç´ aè½¬æ¢ä¸ºå—çŠ¶å…ƒç´ ï¼Œä»è€Œä½¿aå…ƒç´ å…·æœ‰å—çŠ¶å…ƒç´ ç‰¹ç‚¹ã€‚<br><code>a&#123;display:block;&#125;</code><br>å—çº§å…ƒç´ ç‰¹ç‚¹ï¼š<br>1ã€æ¯ä¸ªå—çº§å…ƒç´ éƒ½ä»æ–°çš„ä¸€è¡Œå¼€å§‹ï¼Œå¹¶ä¸”å…¶åçš„å…ƒç´ ä¹Ÿå¦èµ·ä¸€è¡Œã€‚ï¼ˆçœŸéœ¸é“ï¼Œä¸€ä¸ªå—çº§å…ƒç´ ç‹¬å ä¸€è¡Œï¼‰<br>2ã€å…ƒç´ çš„é«˜åº¦ã€å®½åº¦ã€è¡Œé«˜ä»¥åŠé¡¶å’Œåº•è¾¹è·éƒ½å¯è®¾ç½®ã€‚<br>3ã€å…ƒç´ å®½åº¦åœ¨ä¸è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œæ˜¯å®ƒæœ¬èº«çˆ¶å®¹å™¨çš„100%ï¼ˆå’Œçˆ¶å…ƒç´ çš„å®½åº¦ä¸€è‡´ï¼‰ï¼Œé™¤éè®¾å®šä¸€ä¸ªå®½åº¦ã€‚</p></li><li><p>å…ƒç´ åˆ†ç±»â€“å†…è”å…ƒç´ <br>åœ¨htmlä¸­ï¼Œ<code>&lt;span&gt;ã€&lt;a&gt;ã€&lt;label&gt;ã€&lt;input&gt;ã€ &lt;img&gt;ã€ &lt;strong&gt; å’Œ&lt;em&gt;</code>å°±æ˜¯å…¸å‹çš„å†…è”å…ƒç´ ï¼ˆè¡Œå†…å…ƒç´ ï¼‰ï¼ˆinlineï¼‰å…ƒç´ ã€‚å½“ç„¶å—çŠ¶å…ƒç´ ä¹Ÿå¯ä»¥é€šè¿‡ä»£ç display:inlineå°†å…ƒç´ è®¾ç½®ä¸ºå†…è”å…ƒç´ ã€‚å¦‚ä¸‹ä»£ç å°±æ˜¯å°†å—çŠ¶å…ƒç´ divè½¬æ¢ä¸ºå†…è”å…ƒç´ ï¼Œä»é¡µä½¿ç”¨divå…ƒç´ å…·æœ‰å†…è”å…ƒç´ ç‰¹ç‚¹ã€‚<br>å†…è”å…ƒç´ ç‰¹ç‚¹ï¼š<br>1ã€å’Œå…¶ä»–å…ƒç´ éƒ½åœ¨ä¸€è¡Œä¸Šï¼›<br>2ã€å…ƒç´ çš„é«˜åº¦ã€å®½åº¦ã€è¡Œé«˜åŠé¡¶éƒ¨å’Œåº•éƒ¨è¾¹è·ä¸å¯è®¾ç½®ï¼›<br>3ã€å…ƒç´ çš„å®½åº¦å°±æ˜¯å®ƒåŒ…å«çš„æ–‡å­—æˆ–å›¾ç‰‡çš„å®½åº¦ï¼Œä¸å¯æ”¹å˜ã€‚<br>å°ä¼™ä¼´ä»¬ä½ ä»¬è§‚æŸ¥ä¸€ä¸‹å³ä¾§ä»£ç æ®µï¼Œæœ‰æ²¡æœ‰å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå†…è”å…ƒç´ ä¹‹é—´æœ‰ä¸€ä¸ªé—´è·é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜åœ¨æœ¬å°èŠ‚çš„wikiä¸­æœ‰ä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å»æŸ¥çœ‹ã€‚<br>è§£å†³è¡Œå†…å…ƒç´ é—´éš™bugé—®é¢˜<br>è¡Œå†…å…ƒç´ ä¹‹é—´ä¼šäº§ç”Ÿé—´éš™bugé—®é¢˜çš„åœºæ™¯ï¼š<br>1ã€å½“è¡Œå†…å…ƒç´ ä¹‹é—´æœ‰â€œå›è½¦â€ã€â€œtabâ€ã€â€œç©ºæ ¼â€æ—¶å°±ä¼šå‡ºç°é—´éš™ã€‚<br>å¦‚ä¸‹ä»£ç ï¼š</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">a</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">span</span>&gt;</span>33333<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">span</span>&gt;</span>44444<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">em</span>&gt;</span>555555<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è§£å†³æ–¹æ³•ï¼š<br>1ã€å†™åœ¨ä¸€è¡Œï¼Œä¹‹é—´ä¸è¦æœ‰ç©ºæ ¼ä¹‹ç±»çš„ç¬¦å·ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>33333<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>44444<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span>555555<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨<code>font-size:0</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;<span class="attribute">font-size</span>:<span class="number">0</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span>,<span class="selector-tag">span</span>,<span class="selector-tag">em</span>&#123;<span class="attribute">font-size</span>:<span class="number">16px</span>;&#125;</span><br></pre></td></tr></table></figure><ul><li>å…ƒç´ åˆ†ç±»â€“å†…è”å—çŠ¶å…ƒç´ <br>å†…è”å—çŠ¶å…ƒç´ ï¼ˆinline-blockï¼‰å°±æ˜¯åŒæ—¶å…·å¤‡å†…è”å…ƒç´ ã€å—çŠ¶å…ƒç´ çš„ç‰¹ç‚¹ï¼Œä»£ç display:inline-blockå°±æ˜¯å°†å…ƒç´ è®¾ç½®ä¸ºå†…è”å—çŠ¶å…ƒç´ ã€‚(css2.1æ–°å¢)ï¼Œ<code>&lt;img&gt;ã€&lt;input&gt;</code>æ ‡ç­¾å°±æ˜¯è¿™ç§å†…è”å—çŠ¶æ ‡ç­¾ã€‚</li></ul><p>inline-blockå…ƒç´ ç‰¹ç‚¹ï¼š<br>1ã€å’Œå…¶ä»–å…ƒç´ éƒ½åœ¨ä¸€è¡Œä¸Šï¼›<br>2ã€å…ƒç´ çš„é«˜åº¦ã€å®½åº¦ã€è¡Œé«˜ä»¥åŠé¡¶å’Œåº•è¾¹è·éƒ½å¯è®¾ç½®ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=gb2312&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>å†…è”å—çŠ¶å…ƒç´ <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">a&#123;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-tag">display</span><span class="selector-pseudo">:inline-block</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="css"> <span class="selector-tag">width</span><span class="selector-pseudo">:20px</span>;<span class="comment">/*åœ¨é»˜è®¤æƒ…å†µä¸‹å®½åº¦ä¸èµ·ä½œç”¨*/</span></span></span><br><span class="line"></span><br><span class="line"><span class="css"> <span class="selector-tag">height</span><span class="selector-pseudo">:20px</span>;<span class="comment">/*åœ¨é»˜è®¤æƒ…å†µä¸‹é«˜åº¦ä¸èµ·ä½œç”¨*/</span></span></span><br><span class="line"></span><br><span class="line"><span class="css"> <span class="selector-tag">background</span><span class="selector-pseudo">:pink</span>;<span class="comment">/*è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºç²‰è‰²*/</span></span></span><br><span class="line"></span><br><span class="line"><span class="css"> <span class="selector-tag">text-align</span><span class="selector-pseudo">:center</span>; <span class="comment">/*è®¾ç½®æ–‡æœ¬å±…ä¸­æ˜¾ç¤º*/</span></span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å†…å¡«å……ï¼Œå¤–è¾¹è·ï¼Œè¾¹æ¡†"><a href="#å†…å¡«å……ï¼Œå¤–è¾¹è·ï¼Œè¾¹æ¡†" class="headerlink" title="å†…å¡«å……ï¼Œå¤–è¾¹è·ï¼Œè¾¹æ¡†"></a>å†…å¡«å……ï¼Œå¤–è¾¹è·ï¼Œè¾¹æ¡†</h2><p>ç›’æ¨¡å‹â€“è¾¹æ¡†ï¼ˆä¸€ï¼‰<br>ç›’å­æ¨¡å‹çš„è¾¹æ¡†å°±æ˜¯å›´ç»•ç€å†…å®¹åŠè¡¥ç™½çš„çº¿ï¼Œè¿™æ¡çº¿ä½ å¯ä»¥è®¾ç½®å®ƒçš„ç²—ç»†ã€æ ·å¼å’Œé¢œè‰²(è¾¹æ¡†ä¸‰ä¸ªå±æ€§)ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">2px</span>  solid  red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯borderä»£ç çš„ç¼©å†™å½¢å¼ï¼Œå¯ä»¥åˆ†å¼€å†™ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">border-width</span>:<span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">border-style</span>:solid;</span><br><span class="line">    <span class="attribute">border-color</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š<br>1ã€border-styleï¼ˆè¾¹æ¡†æ ·å¼ï¼‰å¸¸è§æ ·å¼æœ‰ï¼š<br>dashedï¼ˆè™šçº¿ï¼‰| dottedï¼ˆç‚¹çº¿ï¼‰| solidï¼ˆå®çº¿ï¼‰ã€‚<br>2ã€border-colorï¼ˆè¾¹æ¡†é¢œè‰²ï¼‰ä¸­çš„é¢œè‰²å¯è®¾ç½®ä¸ºåå…­è¿›åˆ¶é¢œè‰²ï¼Œå¦‚:<br>border-color:#888;//å‰é¢çš„äº•å·ä¸è¦å¿˜æ‰ã€‚<br>3ã€border-widthï¼ˆè¾¹æ¡†å®½åº¦ï¼‰ä¸­çš„å®½åº¦ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºï¼š<br>thin | medium | thickï¼ˆä½†ä¸æ˜¯å¾ˆå¸¸ç”¨ï¼‰ï¼Œæœ€å¸¸è¿˜æ˜¯ç”¨è±¡ç´ ï¼ˆpxï¼‰ã€‚<br>ç›’æ¨¡å‹â€“å®½åº¦å’Œé«˜åº¦<br>ç›’æ¨¡å‹å®½åº¦å’Œé«˜åº¦å’Œæˆ‘ä»¬å¹³å¸¸æ‰€è¯´çš„ç‰©ä½“çš„å®½åº¦å’Œé«˜åº¦ç†è§£æ˜¯ä¸ä¸€æ ·çš„ï¼Œcsså†…å®šä¹‰çš„å®½ï¼ˆwidthï¼‰å’Œé«˜ï¼ˆheightï¼‰ï¼ŒæŒ‡çš„æ˜¯å¡«å……ä»¥é‡Œçš„å†…å®¹èŒƒå›´ã€‚</p><p>å› æ­¤ä¸€ä¸ªå…ƒç´ å®é™…å®½åº¦ï¼ˆç›’å­çš„å®½åº¦ï¼‰=å·¦è¾¹ç•Œ+å·¦è¾¹æ¡†+å·¦å¡«å……+å†…å®¹å®½åº¦+å³å¡«å……+å³è¾¹æ¡†+å³è¾¹ç•Œã€‚</p><p>å…ƒç´ çš„é«˜åº¦ä¹Ÿæ˜¯åŒç†ã€‚<br>ç›’æ¨¡å‹â€“å¡«å……<br>å…ƒç´ å†…å®¹ä¸è¾¹æ¡†ä¹‹é—´æ˜¯å¯ä»¥è®¾ç½®è·ç¦»çš„ï¼Œç§°ä¹‹ä¸ºâ€œå¡«å……â€ã€‚å¡«å……ä¹Ÿå¯åˆ†ä¸ºä¸Šã€å³ã€ä¸‹ã€å·¦(é¡ºæ—¶é’ˆ)ã€‚å¦‚ä¸‹ä»£ç ï¼š<br><code>div&#123;padding:20px 10px 15px 30px;&#125;</code><br>é¡ºåºä¸€å®šä¸è¦ææ··ã€‚å¯ä»¥åˆ†å¼€å†™ä¸Šé¢ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">   <span class="attribute">padding-top</span>:<span class="number">20px</span>;</span><br><span class="line">   <span class="attribute">padding-right</span>:<span class="number">10px</span>;</span><br><span class="line">   <span class="attribute">padding-bottom</span>:<span class="number">15px</span>;</span><br><span class="line">   <span class="attribute">padding-left</span>:<span class="number">30px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸Šã€å³ã€ä¸‹ã€å·¦çš„å¡«å……éƒ½ä¸º10px;å¯ä»¥è¿™ä¹ˆå†™<br><code>div&#123;padding:10px;&#125;</code><br>å¦‚æœä¸Šä¸‹å¡«å……ä¸€æ ·ä¸º10pxï¼Œå·¦å³ä¸€æ ·ä¸º20pxï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š<br><code>div&#123;padding:10px 20px;&#125;</code><br>ç›’æ¨¡å‹â€“è¾¹ç•Œ<br>å…ƒç´ ä¸å…¶å®ƒå…ƒç´ ä¹‹é—´çš„è·ç¦»å¯ä»¥ä½¿ç”¨è¾¹ç•Œï¼ˆmarginï¼‰æ¥è®¾ç½®ã€‚è¾¹ç•Œä¹Ÿæ˜¯å¯åˆ†ä¸ºä¸Šã€å³ã€ä¸‹ã€å·¦ã€‚å¦‚ä¸‹ä»£ç ï¼š<br><code>div&#123;margin:20px 10px 15px 30px;&#125;</code><br>ä¹Ÿå¯ä»¥åˆ†å¼€å†™ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">   <span class="attribute">margin-top</span>:<span class="number">20px</span>;</span><br><span class="line">   <span class="attribute">margin-right</span>:<span class="number">10px</span>;</span><br><span class="line">   <span class="attribute">margin-bottom</span>:<span class="number">15px</span>;</span><br><span class="line">   <span class="attribute">margin-left</span>:<span class="number">30px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸Šå³ä¸‹å·¦çš„è¾¹ç•Œéƒ½ä¸º10px;å¯ä»¥è¿™ä¹ˆå†™ï¼š<br><code>div&#123; margin:10px;&#125;</code><br>å¦‚æœä¸Šä¸‹è¾¹ç•Œä¸€æ ·ä¸º10pxï¼Œå·¦å³ä¸€æ ·ä¸º20pxï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š<br><code>div&#123; margin:10px 20px;&#125;</code><br>æ€»ç»“ä¸€ä¸‹ï¼špaddingå’Œmarginçš„åŒºåˆ«ï¼Œpaddingåœ¨è¾¹æ¡†é‡Œï¼Œmarginåœ¨è¾¹æ¡†å¤–ã€‚</p><h2 id="12-1-CSSå¸ƒå±€æ¨¡å‹"><a href="#12-1-CSSå¸ƒå±€æ¨¡å‹" class="headerlink" title="12-1 CSSå¸ƒå±€æ¨¡å‹"></a>12-1 CSSå¸ƒå±€æ¨¡å‹</h2><p>csså¸ƒå±€æ¨¡å‹<br>æ¸…æ¥šäº†CSS ç›’æ¨¡å‹çš„åŸºæœ¬æ¦‚å¿µã€ ç›’æ¨¡å‹ç±»å‹ï¼Œ<br>æˆ‘ä»¬å°±å¯ä»¥æ·±å…¥æ¢è®¨ç½‘é¡µå¸ƒå±€çš„åŸºæœ¬æ¨¡å‹äº†ã€‚å¸ƒå±€æ¨¡å‹ä¸ç›’æ¨¡å‹ä¸€æ ·éƒ½æ˜¯ CSS æœ€åŸºæœ¬ã€ æœ€æ ¸å¿ƒçš„æ¦‚å¿µã€‚<br>ä½†å¸ƒå±€æ¨¡å‹æ˜¯å»ºç«‹åœ¨ç›’æ¨¡å‹åŸºç¡€ä¹‹ä¸Šï¼Œåˆä¸åŒäºæˆ‘ä»¬å¸¸è¯´çš„ CSS å¸ƒå±€æ ·å¼æˆ– CSS å¸ƒå±€æ¨¡æ¿ã€‚å¦‚æœè¯´å¸ƒå±€æ¨¡å‹æ˜¯æœ¬ï¼Œé‚£ä¹ˆ CSS<br>å¸ƒå±€æ¨¡æ¿å°±æ˜¯æœ«äº†ï¼Œæ˜¯å¤–åœ¨çš„è¡¨ç°å½¢å¼ã€‚<br>CSSåŒ…å«3ç§åŸºæœ¬çš„å¸ƒå±€æ¨¡å‹ï¼Œç”¨è‹±æ–‡æ¦‚æ‹¬ä¸ºï¼šFlowã€Layer å’Œ Floatã€‚<br>åœ¨ç½‘é¡µä¸­ï¼Œå…ƒç´ æœ‰ä¸‰ç§å¸ƒå±€æ¨¡å‹ï¼š<br>1ã€æµåŠ¨æ¨¡å‹ï¼ˆFlowï¼‰<br>2ã€æµ®åŠ¨æ¨¡å‹ (Float)<br>3ã€å±‚æ¨¡å‹ï¼ˆLayerï¼‰<br>sæµåŠ¨æ¨¡å‹ï¼ˆä¸€ï¼‰<br>å…ˆæ¥è¯´ä¸€è¯´æµåŠ¨æ¨¡å‹ï¼ŒæµåŠ¨ï¼ˆFlowï¼‰æ˜¯é»˜è®¤çš„ç½‘é¡µå¸ƒå±€æ¨¡å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ç½‘é¡µåœ¨é»˜è®¤çŠ¶æ€ä¸‹çš„ HTML ç½‘é¡µå…ƒç´ éƒ½æ˜¯æ ¹æ®æµåŠ¨æ¨¡å‹æ¥åˆ†å¸ƒç½‘é¡µå†…å®¹çš„ã€‚<br>æµåŠ¨å¸ƒå±€æ¨¡å‹å…·æœ‰2ä¸ªæ¯”è¾ƒå…¸å‹çš„ç‰¹å¾ï¼š<br>ç¬¬ä¸€ç‚¹ï¼Œå—çŠ¶å…ƒç´ éƒ½ä¼šåœ¨æ‰€å¤„çš„åŒ…å«å…ƒç´ å†…è‡ªä¸Šè€Œä¸‹æŒ‰é¡ºåºå‚ç›´å»¶ä¼¸åˆ†å¸ƒï¼Œå› ä¸ºåœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œå—çŠ¶å…ƒç´ çš„å®½åº¦éƒ½ä¸º100%ã€‚å®é™…ä¸Šï¼Œå—çŠ¶å…ƒç´ éƒ½ä¼šä»¥è¡Œçš„å½¢å¼å æ®ä½ç½®ã€‚å¦‚å³ä¾§ä»£ç ç¼–è¾‘å™¨ä¸­ä¸‰ä¸ªå—çŠ¶å…ƒç´ æ ‡ç­¾(divï¼Œh1ï¼Œp)å®½åº¦æ˜¾ç¤ºä¸º100%ã€‚<br>å—çŠ¶å…ƒç´ çš„ç‰¹ç‚¹ï¼šâ€œåœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œå—çŠ¶å…ƒç´ çš„å®½åº¦éƒ½ä¸º100%â€ã€‚</p><p>12-3  æµåŠ¨æ¨¡å‹äºŒ</p><p>æµåŠ¨æ¨¡å‹ï¼ˆäºŒï¼‰</p><p>ç¬¬äºŒç‚¹ï¼Œåœ¨æµåŠ¨æ¨¡å‹ä¸‹ï¼Œå†…è”å…ƒç´ éƒ½ä¼šåœ¨æ‰€å¤„çš„åŒ…å«å…ƒç´ å†…ä»å·¦åˆ°å³æ°´å¹³åˆ†å¸ƒæ˜¾ç¤ºã€‚ï¼ˆå†…è”å…ƒç´ å¯ä¸åƒå—çŠ¶å…ƒç´ è¿™ä¹ˆéœ¸é“ç‹¬å ä¸€è¡Œï¼‰</p><p>å³ä¾§ä»£ç ç¼–è¾‘å™¨ä¸­å†…è”å…ƒç´ æ ‡ç­¾aã€spanã€emã€strongéƒ½æ˜¯å†…è”å…ƒç´ ã€‚<br>å†…è”å…ƒç´ çš„ç‰¹ç‚¹ï¼šâ€œåŒ…å«å…ƒç´ å†…ä»å·¦åˆ°å³æ°´å¹³åˆ†å¸ƒæ˜¾ç¤ºâ€</p><p>12-4  æµ®åŠ¨æ¨¡å‹</p><p>æµ®åŠ¨æ¨¡å‹</p><p>å—çŠ¶å…ƒç´ è¿™ä¹ˆéœ¸é“éƒ½æ˜¯ç‹¬å ä¸€è¡Œï¼Œå¦‚æœç°åœ¨æˆ‘ä»¬æƒ³è®©ä¸¤ä¸ªå—çŠ¶å…ƒç´ å¹¶æ’æ˜¾ç¤ºï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿä¸è¦ç€æ€¥ï¼Œè®¾ç½®å…ƒç´ æµ®åŠ¨å°±å¯ä»¥å®ç°è¿™ä¸€æ„¿æœ›ã€‚ä»»ä½•å…ƒç´ åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸èƒ½æµ®åŠ¨çš„ï¼Œä½†å¯ä»¥ç”¨CSSå®šä¹‰ä¸ºæµ®åŠ¨ï¼Œå¦‚divã€pã€tableã€imgç­‰å…ƒç´ éƒ½å¯ä»¥è¢«å®šä¹‰ä¸ºæµ®åŠ¨ã€‚<br>float  æµ®åŠ¨</p><p>12-5<br>ä»€ä¹ˆæ˜¯å±‚æ¨¡å‹ï¼Ÿ</p><p>ä»€ä¹ˆæ˜¯å±‚å¸ƒå±€æ¨¡å‹ï¼Ÿå±‚å¸ƒå±€æ¨¡å‹å°±åƒæ˜¯å›¾åƒè½¯ä»¶PhotoShopä¸­éå¸¸æµè¡Œçš„å›¾å±‚ç¼–è¾‘åŠŸèƒ½<br>ä¸€æ ·ï¼Œæ¯ä¸ªå›¾å±‚èƒ½å¤Ÿç²¾ç¡®å®šä½æ“ä½œï¼Œä½†åœ¨ç½‘é¡µè®¾è®¡é¢†åŸŸï¼Œç”±äºç½‘é¡µå¤§å°çš„æ´»åŠ¨æ€§ï¼Œå±‚å¸ƒå±€æ²¡èƒ½å—åˆ°çƒ­æ§ã€‚ä½†æ˜¯åœ¨ç½‘é¡µä¸Šå±€éƒ¨ä½¿ç”¨å±‚å¸ƒå±€è¿˜æ˜¯æœ‰å…¶æ–¹ä¾¿ä¹‹å¤„çš„ã€‚ä¸‹é¢æˆ‘<br>ä»¬æ¥å­¦ä¹ ä¸€ä¸‹htmlä¸­çš„å±‚å¸ƒå±€ã€‚</p><p>å¦‚ä½•è®©htmlå…ƒç´ åœ¨ç½‘é¡µä¸­ç²¾ç¡®å®šä½ï¼Œå°±åƒå›¾åƒè½¯ä»¶PhotoShopä¸­çš„å›¾å±‚ä¸€æ ·å¯ä»¥å¯¹æ¯ä¸ªå›¾å±‚èƒ½å¤Ÿç²¾ç¡®å®šä½æ“ä½œã€‚CSSå®šä¹‰äº†ä¸€ç»„å®šä½ï¼ˆpositioningï¼‰å±æ€§æ¥æ”¯æŒå±‚å¸ƒå±€æ¨¡å‹ã€‚</p><p>å±‚æ¨¡å‹æœ‰ä¸‰ç§å½¢å¼ï¼š</p><p>1ã€ç»å¯¹å®šä½(position: absolute)</p><p>2ã€ç›¸å¯¹å®šä½(position: relative)</p><p>3ã€å›ºå®šå®šä½(position: fixed)</p><p>12-6<br>å±‚æ¨¡å‹â€“ç»å¯¹å®šä½<br>å¦‚æœæƒ³ä¸ºå…ƒç´ è®¾ç½®å±‚æ¨¡å‹ä¸­çš„ç»å¯¹å®šä½ï¼Œéœ€è¦è®¾ç½®position:absolute(è¡¨ç¤ºç»å¯¹å®šä½)ï¼Œè¿™æ¡è¯­å¥çš„ä½œç”¨å°†å…ƒç´ ä»æ–‡æ¡£æµä¸­æ‹–å‡ºæ¥ï¼Œç„¶åä½¿ç”¨leftã€rightã€topã€bottomå±æ€§ç›¸å¯¹äºå…¶æœ€æ¥è¿‘çš„ä¸€ä¸ªå…·æœ‰å®šä½å±æ€§çš„çˆ¶åŒ…å«å—è¿›è¡Œç»å¯¹å®šä½ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„åŒ…å«å—ï¼Œåˆ™ç›¸å¯¹äºbodyå…ƒç´ ï¼Œå³ç›¸å¯¹äºæµè§ˆå™¨çª—å£ã€‚<br>12-7<br>å±‚å…ƒç´ ç›¸å¯¹å®šä½<br>å±‚æ¨¡å‹â€“ç›¸å¯¹å®šä½</p><p>å¦‚æœæƒ³ä¸ºå…ƒç´ è®¾ç½®å±‚æ¨¡å‹ä¸­çš„ç›¸å¯¹å®šä½ï¼Œéœ€è¦è®¾ç½®position:relativeï¼ˆè¡¨ç¤ºç›¸å¯¹å®šä½ï¼‰ï¼Œå®ƒé€šè¿‡leftã€rightã€topã€bottomå±æ€§ç¡®å®šå…ƒç´ åœ¨æ­£å¸¸æ–‡æ¡£æµä¸­çš„åç§»ä½ç½®ã€‚ç›¸å¯¹å®šä½å®Œæˆçš„è¿‡ç¨‹æ˜¯é¦–å…ˆæŒ‰static(float)æ–¹å¼ç”Ÿæˆä¸€ä¸ªå…ƒç´ (å¹¶ä¸”å…ƒç´ åƒå±‚ä¸€æ ·æµ®åŠ¨äº†èµ·æ¥)ï¼Œç„¶åç›¸å¯¹äºä»¥å‰çš„ä½ç½®ç§»åŠ¨ï¼Œç§»åŠ¨çš„æ–¹å‘å’Œå¹…åº¦ç”±leftã€rightã€topã€bottomå±æ€§ç¡®å®šï¼Œåç§»å‰çš„ä½ç½®ä¿ç•™ä¸åŠ¨ã€‚</p><p>å¦‚ä¸‹ä»£ç å®ç°ç›¸å¯¹äºä»¥å‰ä½ç½®å‘ä¸‹ç§»åŠ¨50pxï¼Œå‘å³ç§»åŠ¨100px;</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">div1</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">2px</span> red solid;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>ä»€ä¹ˆå«åšâ€œåç§»å‰çš„ä½ç½®ä¿ç•™ä¸åŠ¨â€å‘¢ï¼Ÿ</p><p>å¤§å®¶å¯ä»¥åšä¸€ä¸ªå®éªŒï¼Œåœ¨å³ä¾§ä»£ç ç¼–è¾‘å™¨çš„19è¡Œdivæ ‡ç­¾çš„åé¢åŠ å…¥ä¸€ä¸ªspanæ ‡ç­¾ï¼Œåœ¨æ ‡å¹¶åœ¨spanæ ‡ç­¾ä¸­å†™å…¥ä¸€äº›æ–‡å­—ã€‚å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>åç§»å‰çš„ä½ç½®è¿˜ä¿ç•™ä¸åŠ¨ï¼Œè¦†ç›–ä¸äº†å‰é¢çš„divæ²¡æœ‰åç§»å‰çš„ä½ç½®<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾ï¼š</p><p>ä»æ•ˆæœå›¾ä¸­å¯ä»¥æ˜æ˜¾çš„çœ‹å‡ºï¼Œè™½ç„¶divå…ƒç´ ç›¸å¯¹äºä»¥å‰çš„ä½ç½®äº§ç”Ÿäº†åç§»ï¼Œä½†æ˜¯divå…ƒç´ ä»¥å‰çš„ä½ç½®è¿˜æ˜¯ä¿ç•™ç€ï¼Œæ‰€ä»¥åé¢çš„spanå…ƒç´ æ˜¯æ˜¾ç¤ºåœ¨äº†divå…ƒç´ ä»¥å‰ä½ç½®çš„åé¢ã€‚</p><p>12-8<br>å±‚æ¨¡å‹â€“å›ºå®šå®šä½</p><p>fixedï¼šè¡¨ç¤ºå›ºå®šå®šä½ï¼Œä¸absoluteå®šä½ç±»å‹ç±»ä¼¼ï¼Œä½†å®ƒçš„ç›¸å¯¹ç§»åŠ¨çš„åæ ‡æ˜¯è§†å›¾ï¼ˆå±å¹•å†…çš„ç½‘é¡µçª—å£ï¼‰<br>æœ¬èº«ã€‚ç”±äºè§†å›¾æœ¬èº«æ˜¯å›ºå®šçš„ï¼Œå®ƒä¸ä¼šéšæµè§ˆå™¨çª—å£çš„æ»šåŠ¨æ¡æ»šåŠ¨è€Œå˜åŒ–ï¼Œé™¤éä½ åœ¨å±å¹•ä¸­ç§»åŠ¨æµè§ˆå™¨çª—å£çš„å±å¹•ä½ç½®ï¼Œæˆ–æ”¹å˜æµè§ˆå™¨çª—å£çš„æ˜¾ç¤ºå¤§å°ï¼Œå› æ­¤å›ºå®šå®š<br>ä½çš„å…ƒç´ ä¼šå§‹ç»ˆä½äºæµè§ˆå™¨çª—å£å†…è§†å›¾çš„æŸä¸ªä½ç½®ï¼Œä¸ä¼šå—æ–‡æ¡£æµåŠ¨å½±å“ï¼Œè¿™ä¸background-attachment:fixedÍ¾å±æ€§åŠŸèƒ½ç›¸åŒã€‚ä»¥ä¸‹<br>ä»£ç å¯ä»¥å®ç°ç›¸å¯¹äºæµè§ˆå™¨è§†å›¾å‘å³ç§»åŠ¨100pxï¼Œå‘ä¸‹ç§»åŠ¨50pxã€‚å¹¶ä¸”æ‹–åŠ¨æ»šåŠ¨æ¡æ—¶ä½ç½®å›ºå®šä¸å˜ã€‚</p><p>12-9<br>Relativeä¸Absoluteç»„åˆä½¿ç”¨</p><p>å°ä¼™ä¼´ä»¬å­¦ä¹ äº†12-6å°èŠ‚çš„ç»å¯¹å®šä½çš„æ–¹æ³•ï¼šä½¿ç”¨position:absoluteå¯ä»¥å®ç°è¢«è®¾ç½®å…ƒç´ ç›¸å¯¹äºæµè§ˆå™¨ï¼ˆbodyï¼‰è®¾ç½®å®šä½ä»¥åï¼Œå¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡å¯ä¸å¯ä»¥ç›¸å¯¹äºå…¶å®ƒå…ƒç´ è¿›è¡Œå®šä½å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œå½“ç„¶å¯ä»¥ã€‚ä½¿ç”¨position:relativeæ¥å¸®å¿™ï¼Œä½†æ˜¯å¿…é¡»éµå®ˆä¸‹é¢è§„èŒƒï¼š</p><p>1ã€å‚ç…§å®šä½çš„å…ƒç´ å¿…é¡»æ˜¯ç›¸å¯¹å®šä½å…ƒç´ çš„å‰è¾ˆå…ƒç´ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="comment">&lt;!--å‚ç…§å®šä½çš„å…ƒç´ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box2&quot;</span>&gt;</span>ç›¸å¯¹å‚ç…§å…ƒç´ è¿›è¡Œå®šä½<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!--ç›¸å¯¹å®šä½å…ƒç´ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹å‡ºbox1æ˜¯box2çš„çˆ¶å…ƒç´ ï¼ˆçˆ¶å…ƒç´ å½“ç„¶ä¹Ÿæ˜¯å‰è¾ˆå…ƒç´ äº†ï¼‰ã€‚</p><p>2ã€å‚ç…§å®šä½çš„å…ƒç´ å¿…é¡»åŠ å…¥position:relative;</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">box1</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€å®šä½å…ƒç´ åŠ å…¥position:absoluteï¼Œä¾¿å¯ä»¥ä½¿ç”¨topã€bottomã€leftã€rightæ¥è¿›è¡Œåç§»å®šä½äº†ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">box2</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">30px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·box2å°±å¯ä»¥ç›¸å¯¹äºçˆ¶å…ƒç´ box1å®šä½äº†ï¼ˆè¿™é‡Œæ³¨æ„å‚ç…§ç‰©å°±å¯ä»¥ä¸æ˜¯æµè§ˆå™¨äº†ï¼Œè€Œå¯ä»¥è‡ªç”±è®¾ç½®äº†ï¼‰ã€‚</p><p>13.1<br>ç›’æ¨¡å‹ä»£ç ç®€å†™</p><p>è¿˜è®°å¾—åœ¨è®²ç›’æ¨¡å‹æ—¶å¤–è¾¹è·(margin)ã€å†…è¾¹è·(padding)å’Œè¾¹æ¡†(border)è®¾ç½®ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘çš„è¾¹è·æ˜¯æŒ‰ç…§é¡ºæ—¶é’ˆæ–¹å‘è®¾ç½®çš„ï¼šä¸Šå³ä¸‹å·¦ã€‚å…·ä½“åº”ç”¨åœ¨marginå’Œpaddingçš„ä¾‹å­å¦‚ä¸‹ï¼š</p><p>margin:10px 15px 12px 14px;/<em>ä¸Šè®¾ç½®ä¸º10pxã€å³è®¾ç½®ä¸º15pxã€ä¸‹è®¾ç½®ä¸º12pxã€å·¦è®¾ç½®ä¸º14px</em>/</p><p>é€šå¸¸æœ‰ä¸‹é¢ä¸‰ç§ç¼©å†™æ–¹æ³•:</p><p>1ã€å¦‚æœtopã€rightã€bottomã€leftçš„å€¼ç›¸åŒï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š</p><p>margin:10px 10px 10px 10px;</p><p>å¯ç¼©å†™ä¸ºï¼š</p><p>margin:10px;</p><p>2ã€å¦‚æœtopå’Œbottomå€¼ç›¸åŒã€leftå’Œ rightçš„å€¼ç›¸åŒï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š</p><p>margin:10px 20px 10px 20px;</p><p>å¯ç¼©å†™ä¸ºï¼š</p><p>margin:10px 20px;</p><p>3ã€å¦‚æœleftå’Œrightçš„å€¼ç›¸åŒï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š</p><p>margin:10px 20px 30px 20px;</p><p>å¯ç¼©å†™ä¸ºï¼š</p><p>margin:10px 20px 30px;</p><p>æ³¨æ„ï¼špaddingã€borderçš„ç¼©å†™æ–¹æ³•å’Œmarginæ˜¯ä¸€è‡´çš„ã€‚</p><p>13-2<br>é¢œè‰²å€¼ç¼©å†™</p><p>å…³äºé¢œè‰²çš„cssæ ·å¼ä¹Ÿæ˜¯å¯ä»¥ç¼©å†™çš„ï¼Œå½“ä½ è®¾ç½®çš„é¢œè‰²æ˜¯16è¿›åˆ¶çš„è‰²å½©å€¼æ—¶ï¼Œå¦‚æœæ¯ä¸¤ä½çš„å€¼ç›¸åŒï¼Œå¯ä»¥ç¼©å†™ä¸€åŠã€‚</p><p>ä¾‹å­1ï¼š</p><p>p{color:#000000;}</p><p>å¯ä»¥ç¼©å†™ä¸ºï¼š</p><p>p{color: #000;}</p><p>ä¾‹å­2ï¼š</p><p>p{color: #336699;}</p><p>å¯ä»¥ç¼©å†™ä¸ºï¼š</p><p>p{color: #369;}</p><p>13-3<br>å­—ä½“ç¼©å†™</p><p>ç½‘é¡µä¸­çš„å­—ä½“cssæ ·å¼ä»£ç ä¹Ÿæœ‰ä»–è‡ªå·±çš„ç¼©å†™æ–¹å¼ï¼Œä¸‹é¢æ˜¯ç»™ç½‘é¡µè®¾ç½®å­—ä½“çš„ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">font-style</span>:italic;</span><br><span class="line">    <span class="attribute">font-variant</span>:small-caps;</span><br><span class="line">    <span class="attribute">font-weight</span>:bold;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">1.5em</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:<span class="string">&quot;å®‹ä½“&quot;</span>,sans-serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¹ˆå¤šè¡Œçš„ä»£ç å…¶å®å¯ä»¥ç¼©å†™ä¸ºä¸€å¥ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">font</span>:italic  small-caps  bold  <span class="number">12px</span>/<span class="number">1.5em</span>  <span class="string">&quot;å®‹ä½“&quot;</span>,sans-serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><p>1ã€ä½¿ç”¨è¿™ä¸€ç®€å†™æ–¹å¼ä½ è‡³å°‘è¦æŒ‡å®š font-size å’Œ font-family å±æ€§ï¼Œå…¶ä»–çš„å±æ€§(å¦‚ font-weightã€font-styleã€font-varientã€line-height)å¦‚æœªæŒ‡å®šå°†è‡ªåŠ¨ä½¿ç”¨é»˜è®¤å€¼ã€‚</p><p>2ã€åœ¨ç¼©å†™æ—¶ font-size ä¸ line-height ä¸­é—´è¦åŠ å…¥â€œ/â€æ–œæ‰›ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹å› ä¸ºå¯¹äºä¸­æ–‡ç½‘ç«™ï¼Œè‹±æ–‡è¿˜æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œæ‰€ä»¥ä¸‹é¢ç¼©å†™ä»£ç æ¯”è¾ƒå¸¸ç”¨ï¼š</p><p>body{<br>    font:12px/1.5em  â€œå®‹ä½“â€,sans-serif;<br>}</p><p>åªæ˜¯æœ‰å­—å·ã€è¡Œé—´è·ã€ä¸­æ–‡å­—ä½“ã€è‹±æ–‡å­—ä½“è®¾ç½®ã€‚</p><p>ç¬¬äºŒé˜¶æ®µ</p><p>ç½‘é¡µè®¾è®¡ç‰¹ç‚¹ï¼Œ<br>å®½åº¦å¯ä»¥è‡ªé€‚åº”ï¼Œé•¿åº¦æ— é™åˆ¶</p><p>2-1ä¸€åˆ—å¸ƒå±€</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.main&#123;width:800px;height:300px;margin:0 auto;background:#ccc;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸‰åˆ—å¸ƒå±€</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>&#123; <span class="attribute">width</span>:<span class="number">200px</span>; <span class="attribute">height</span>:<span class="number">600px</span>; <span class="attribute">background</span>:<span class="number">#ccc</span>; <span class="attribute">position</span>:absolute; <span class="attribute">left</span>:<span class="number">0</span>; <span class="attribute">top</span>:<span class="number">0</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.main</span>&#123; <span class="attribute">height</span>:<span class="number">600px</span>; <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">200px</span> <span class="number">0</span> <span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#9CF</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right</span>&#123; <span class="attribute">height</span>:<span class="number">600px</span>; <span class="attribute">width</span>:<span class="number">200px</span>; <span class="attribute">position</span>:absolute; <span class="attribute">top</span>:<span class="number">0</span>; <span class="attribute">position</span>:absolute;<span class="attribute">right</span>:<span class="number">0</span>; <span class="attribute">background</span>:<span class="number">#FCC</span>;&#125;</span><br></pre></td></tr></table></figure><p>w3cå€¡å¯¼<br>å€¡å¯¼ç»“æ„ã€æ ·å¼ã€è¡Œä¸ºåˆ†ç¦»</p><p>cssä¸­ï¼Œå­˜åœ¨3ä¸­å®šä½æœºåˆ¶<br>æ ‡å‡†æ–‡æ¡£æµ(Normal flow)<br>æµ®åŠ¨ (Floats)<br>ç»å¯¹å®šä½(Absolute positioning)</p><p>æ ‡å‡†æ–‡æ¡£æµ<br>ç‰¹ç‚¹ï¼šä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³ã€è¾“å‡ºæ–‡æ¡£å†…å®¹<br>ç”±å—çº§æ ‡ç­¾å’Œè¡Œçº§æ ‡ç­¾ç»„æˆ</p><p>å—çº§ ç‰¹ç‚¹<br>ä»å·¦åˆ°å³æ’‘æ»¡é¡µé¢ï¼Œç‹¬å ä¸€è¡Œï¼›è§¦ç¢°åˆ°é¡µé¢è¾¹ç¼˜æ—¶ï¼Œä¼šè‡ªåŠ¨æ¢è¡Œ<br>div,ul,li,dl,dt,pâ€¦</p><p>è¡Œçº§å…ƒç´ <br>ç‰¹ç‚¹ï¼šèƒ½åœ¨åŒä¸€è¡Œå†…æ˜¾ç¤ºï¼Œä¸ä¼šæ”¹å˜htmlæ–‡æ¡£ç»“æ„<br>span,strong,img,input</p><p>å—çº§å…ƒç´ å’Œè¡Œçº§å…ƒç´ éƒ½æ˜¯ç›’å­æ¨¡å‹</p><p>å¦‚æœæƒ³è®©é¡µé¢è‡ªåŠ¨å±…ä¸­ï¼Œå½“è®¾ç½®marginå±æ€§ä¸ºautoæ—¶ï¼Œä¸èƒ½å†è®¾ç½®æµ®åŠ¨æˆ–ç»å¯¹å®šä½å±æ€§</p><p>floatå±æ€§ï¼šleft,right,none;<br>å½“å…ƒç´ æ²¡æœ‰è®¾ç½®å®½åº¦å€¼ï¼Œè€Œè®¾ç½®äº†æµ®åŠ¨å±æ€§ï¼Œå…ƒç´ çš„å®½åº¦éšå†…å®¹çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p><p>æ¸…é™¤æµ®åŠ¨çš„å¸¸ç”¨æ–¹æ³•<br>clear:both;æˆ–clear:left;æˆ–clear:right;</p><p>åŒæ—¶è®¾ç½®width:100%(æˆ–å›ºå®šé«˜åº¦)+overflow:hidden;<br>æ¸…é™¤æµ®åŠ¨æ—¶ï¼Œåªè®¾ç½®å®½åº¦ä¸è¡Œï¼Œå¿…é¡»è®¾ç½®overflow:hidden;æ‰èƒ½å®ç°æ¸…é™¤æµ®åŠ¨çš„æ•ˆæœ</p><p>æ¨ªå‘ä¸¤åˆ—å¸ƒå±€<br>ä¸»è¦åº”ç”¨æŠ€èƒ½<br>    float:ä½¿çºµå‘æ’åˆ—çš„å—çº§å…ƒç´ ï¼Œæ¨ªå‘æ’åˆ—<br>    marginå±æ€§ï¼Œè®¾ç½®ä¸¤åˆ—ä¹‹é—´çš„é—´è·<br>å½“çˆ¶å—åŒ…å«å—2ç¼©æˆä¸€æ¡æ—¶ï¼Œç”¨clear:bothæ¸…é™¤æµ®åŠ¨æ— æ•ˆï¼Œå®ƒä¸€èˆ¬ç”¨äºç´§é‚»åé¢çš„å…ƒç´ çš„æ¸…é™¤æµ®åŠ¨</p><p>positionå±æ€§</p><p>æ‹¥æœ‰3ç§å®šä½æ–¹å¼ 1.é™æ€å®šä½ 2.ç›¸å¯¹å®šä½  3.ç»å¯¹å®šä½<br>å¯ä»¥è®¾ç½®4ä¸ªå±æ€§å€¼<br> static ï¼ˆé™æ€å®šä½ï¼‰<br>    relative ï¼ˆç›¸å¯¹å®šä½ï¼‰<br>    absoluteï¼ˆç»å¯¹å®šä½ï¼‰<br>    fixedï¼ˆå›ºå®šå®šä½ï¼‰</p><p>ç›¸å¯¹å®šä½  ç‰¹ç‚¹ï¼šç›¸å¯¹äºè‡ªèº«åŸæœ‰ä½ç½®è¿›è¡Œå®šä½ï¼Œä»å¤„äºæ ‡å‡†æ–‡æ¡£æµä¸­ï¼Œéšå³æ‹¥æœ‰åç§»å±æ€§å’Œz-indexå±æ€§</p><p>  ç›¸å¯¹äºè‡ªå·±æœ¬æ¥åº”è¯¥åœ¨çš„ä½ç½®è¿›è¡Œåç§»ï¼Œè®¾ç½®top,left,right,bottomå±æ€§ã€‚</p><p>ç»å¯¹å®šä½ï¼š ç‰¹ç‚¹ï¼šå»ºç«‹äº†ä»¥åŒ…å«å—ä¸ºåŸºå‡†çš„å®šä½ï¼Œå®Œå…¨è„±ç¦»äº†æ ‡å‡†æ–‡æ¡£æµï¼Œéšå³æ‹¥æœ‰åç§»å±æ€§å’Œz-indeå±æ€§</p><p>æœªè®¾ç½®åç§»é‡<br>ç‰¹ç‚¹ æ— è®ºæ˜¯å¦å­˜åœ¨å·²å®šä½ç¥–å…ˆå…ƒç´ ï¼Œéƒ½ä¿æŒåœ¨åŸå§‹ä½ç½®  è„±ç¦»äº†æ ‡å‡†æ–‡æ¡£æµ</p><p>è®¾ç½®åç§»é‡<br> åç§»å‚ç…§åŸºå‡†<br>        æ— å®šä½ç¥–å…ˆå…ƒç´ ï¼Œä»¥<code>&lt;html&gt;</code>ä¸ºåç§»å‚ç…§æ ‡å‡†<br>        æœ‰å·²å®šä½ç¥–å…ˆå…ƒç´ ï¼Œä»¥è·å…¶æœ€è¿‘çš„å·²å®šä½ç¥–å…ˆå…ƒç´ ä¸ºåç§»å‚ç…§åŸºå‡†</p><p>ä½¿ç”¨absoluteå®ç°æ¨ªå‘ä¸¤åˆ—å¸ƒå±€<br>        â€“å¸¸ç”¨äºä¸€åˆ—å›ºå®šé•¿åº¦ï¼Œå¦ä¸€åˆ—å®½åº¦è‡ªé€‚åº”çš„æƒ…å†µ<br>  ä¸»è¦æŠ€èƒ½<br>        relative  æ°Ÿå…ƒç´ ç›¸å¯¹å®šä½<br>        absolute  è‡ªé€‚åº”å…ƒç´ ç»å¯¹å®šä½</p><p>   æ³¨æ„ ï¼šå›ºå®šå®½åº¦åˆ—çš„é«˜åº¦&gt;è‡ªé€‚åº”å®½åº¦çš„åˆ—</p><p> ä¸è®¾ç½®é•¿å®½ï¼Œç”¨absolute ç»å¯¹å®šä½æœ¬èº«å°±æ˜¯è‡ªé€‚åº”å®½åº¦</p><p>ç½‘é¡µç®€å•å¸ƒå±€ä¹‹ç»“æ„ä¸è¡¨ç°</p><p>html  css  javascript<br>ç»“æ„  è¡¨ç°  è¡Œä¸º</p><p>å…ˆæŒ‰ç…§ç»“æ„å’Œè¯­ä¹‰ç¼–å†™ä»£ç ï¼Œç„¶åè¿›è¡Œcssæ ·å¼è®¾ç½®ï¼Œå‡å°‘htmlå’Œcssçš„å¥‘åˆåº¦</p><p>1/1. åœ¨ç½‘é¡µåˆ¶ä½œä¸­ï¼Œé¢å¯¹è®¾è®¡å›¾ï¼Œç½‘é¡µåˆ¶ä½œäººå‘˜ä¸€èˆ¬è¦éµå¾ªçš„åŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ<br>Cå…ˆè€ƒè™‘è®¾è®¡å›¾ä¸­çš„æ–‡å­—å†…å®¹å’Œå†…å®¹æ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œé‡ç‚¹æ”¾åœ¨ç¼–å†™htmlç»“æ„å’Œè¯­ä¹‰åŒ–ï¼Œç„¶åè€ƒè™‘å¸ƒå±€å’Œè¡¨ç°å½¢å¼ã€‚</p><p>ç¬¬äºŒæ­¥  æ¡ˆä¾‹å®ç°</p><p>æŒ‰é’®ç‰¹æ•ˆ<br>1.1å¹½çµæŒ‰é’® é€æ˜æŒ‰é’®<br>  css3å…³é”®æŠ€æœ¯ç‚¹<br>    transform<br>    transition<br>    box-sizing<br>    border-radius</p><p>transfromå±æ€§å‘å…ƒç´ åº”ç”¨2Dæˆ–3Dè½¬æ¢ã€‚è¯¥å…ƒç´ å…è®¸æˆ‘ä»¬å¯¹å…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç§»åŠ¨æˆ–å€¾æ–œã€‚</p><p>css é›ªç¢§æ•ˆæœ</p><p>1.åŸåˆ™ï¼š<br>1.é™æ€å›¾ç‰‡ï¼Œä¸éšç”¨æˆ·ä¿¡æ¯å˜åŒ–è€Œå˜åŒ–</p><p>2.å°å›¾ç‰‡ï¼Œå›¾ç‰‡å®¹é‡æ¯”è¾ƒå°</p><p>ä¸€äº›å¤§å›¾ä¸å»ºè®®æ‹¼æˆé›ªç¢§å›¾</p><p>2.ç›®çš„<br>1.å‡å°‘ httpè¯·æ±‚æ•°é‡</p><p>2.åŠ é€Ÿå†…å®¹æ˜¾ç¤º</p><p>å®ç°åŸç†  background-position</p><p>æ§åˆ¶ä¸€ä¸ªå±‚ï¼Œå¯æ˜¾ç¤ºçš„åŒºåŸŸèŒƒå›´å¤§å°ï¼Œ</p><p>é€šè¿‡ä¸€ä¸ªçª—å£ï¼Œè¿›è¡ŒèƒŒæ™¯å›¾çš„æ»‘åŠ¨</p><p>å®ç°æ–¹å¼  1.psæ‰‹åŠ¨æ‹¼å›¾ï¼Œ<br>           2.ä½¿ç”¨spriteå·¥å…·è‡ªåŠ¨ç”Ÿæˆ</p><p>å·¥å…·  ï¼šcssgaga</p><p>cssåœ†è§’è®¾è®¡<br>    ä½¿ç”¨css2.0+htmlæ ‡ç­¾æ¨¡æ‹Ÿåœ†è§’ä¼˜ç¼ºç‚¹åˆ†æ<br>    1.ä»£ç é‡å°‘ï¼Œä¸éœ€è¦å¢åŠ httpè¯·æ±‚<br>    2.åæœŸç»´æŠ¤æ€§å¥½ï¼Œä½†æ˜¯åœ†è§’åƒç´ çš„å¢åŠ <br>    3.æ— æ„ä¹‰ä»£ç å°†æˆå€å¢åŠ <br>    4.å®ç°çš„åœ†è§’å±€é™æ€§<br>    5.åªèƒ½å®ç°çº¯è‰²åœ†è§’</p><p>css3.0åœ†è§’å±æ€§<br>border-radius<br>    å±æ€§å€¼ï¼šè¡¨ç¤ºåœ†è§’åŠå¾„ï¼Œå¯ä½¿ç”¨é•¿åº¦å•ä½px,æˆ–ç™¾åˆ†æ¯”<br>    ç®€å†™å±æ€§:border-radius<br>    åˆ†é‡å±æ€§ï¼šborder-top-left-radius(ä¸Šå·¦)ã€border-top-right-radius(ä¸Šå³)<br>        border-bottom-right-radius(ä¸‹å³)ã€border-bottom-left-radius(ä¸‹å·¦)</p><p>å±æ€§å€¼è®¾ç½®,ä¸marginç›¸åŒã€‚<br>    1ä¸ªï¼Œå››ä¸ªè§’åŠå¾„ç›¸åŒã€‚2ä¸ªï¼Œäº’ä¸ºå¯¹è§’ã€‚</p><p>æµè§ˆå™¨ç§æœ‰å‰ç¼€</p><p>è§£å†³æµè§ˆå™¨æ˜¾ç¤ºå·®å¼‚ï¼Œé’ˆå¯¹æµè§ˆå™¨å†™ç§æœ‰å‰ç¼€<br>       IEå†…æ ¸ï¼š-ms-<br>        Firefoxå†…æ ¸ï¼š-moz-<br>        è°·æ­Œæµè§ˆå™¨ã€safariå†…æ ¸:-webkit-</p><p>ä½¿ç”¨dl,dt,ddçš„åŸå› <br>    è¯­ä¹‰åŒ–ï¼Œä½¿ä¸€äº›å†…å®¹åœ¨ä¸€ä¸ªdlå†…ï¼Œè€Œulï¼Œliåšä¸åˆ°un</p><p>å“åº”å¼è®¾è®¡ä¼˜ç¼ºç‚¹:<br>    ä¼˜ç‚¹ï¼šè§£å†³äº†è®¾å¤‡ä¹‹é—´çš„å·®å¼‚åŒ–å±•ç¤º<br>    ç¼ºç‚¹:å…¼å®¹æ€§ä»£ç å¤šï¼Œå·¥ä½œé‡å¤§ï¼ŒåŠ è½½é€Ÿåº¦å—å½±å“<br>        å¯¹åŸæœ‰ç½‘ç«™å¸ƒå±€äº§ç”Ÿå½±å“ï¼Œç”¨æˆ·åˆ¤æ–­æœªå¿…ç²¾ç¡®<br>è®¾è®¡åŸåˆ™ï¼š</p><p>ç§»åŠ¨ä¼˜å…ˆï¼šåœ¨è®¾è®¡çš„åˆæœŸå°±è¦è€ƒè™‘é¡µé¢å¦‚ä½•åœ¨å¤šç»ˆç«¯å±•ç¤º<br>    æ¸è¿›å¢å¼º:å……åˆ†å‘æŒ¥ç¡¬ä»¶è®¾å¤‡çš„æœ€å¤§åŠŸèƒ½<br>å¦‚ä½•å®ç°:å“åº”å¼å¸ƒå±€<br>    css3-Media query æœ€ç®€å•çš„æ–¹å¼<br>    åŸç”Ÿjavascript  æˆæœ¬é«˜ï¼Œä¸æ¨èä½¿ç”¨<br>    ç¬¬ä¸‰æ–¹å¼€æºæ¡†æ¶  å¯ä»¥å¾ˆå¥½çš„æ”¯æŒæµè§ˆå™¨å“åº”å¼å¸ƒå±€</p><p>css3-Media Query<br>        å¸¸è§çš„å±æ€§ï¼š<br>            device-width,deivce-heightâ€”å±å¹•å®½é«˜<br>            width,height â€”æ¸²æŸ“çª—å£ï¼Œå±•ç¤ºé¡µé¢çš„å®½é«˜<br>            orientation â€”è®¾å¤‡æ–¹å‘<br>            resolutionâ€”è®¾å¤‡åˆ†è¾¨ç‡</p><h2 id="Yahooå†›è§„"><a href="#Yahooå†›è§„" class="headerlink" title="Yahooå†›è§„"></a>Yahooå†›è§„</h2><p>1.å°½å¯èƒ½å‡å°‘httpè¯·æ±‚æ•°é‡<br>2.ä½¿ç”¨CDN å†…å®¹åˆ†å‘ç½‘ç»œ<br>    åœ¨ç¦»ä½ æœ€è¿‘çš„åœ°æ–¹ï¼Œæ”¾ç½®ä¸€å°æ€§èƒ½å¥½é“¾æ¥é¡ºç•…<br>    çš„å‰¯æœ¬æœåŠ¡å™¨ï¼Œè®©ä½ èƒ½å¤Ÿä»¥æœ€è¿‘çš„è·ç¦»ï¼Œæœ€å¿«çš„é€Ÿåº¦<br>    è·å–å†…å®¹ã€‚<br>é moneyè§£å†³é—®é¢˜<br>3.æ·»åŠ expire/Cache-Controlå¤´<br>    expireå¤´çš„å†…å®¹æ˜¯ä¸€ä¸ªæ—¶é—´å€¼ï¼Œ<br>    å€¼å°±æ˜¯èµ„æºåœ¨æœ¬åœ°çš„è¿‡æœŸæ—¶é—´ã€å­˜åœ¨æœ¬åœ°ã€‚<br>    åœ¨æœ¬åœ°ç¼“å­˜é˜¶æ®µï¼Œæ‰¾åˆ°ä¸€ä¸ªå¯¹åº”çš„èµ„æºå€¼ï¼Œ<br>    å½“å‰æ—¶é—´è¿˜æ²¡è¶…è¿‡èµ„æºçš„è¿‡æœŸæ—¶é—´ï¼Œå°±ç›´æ¥ä½¿ç”¨è¿™ä¸€ä¸ªèµ„æºï¼Œä¸ä¼šå‘é€httpè¯·æ±‚ã€‚<br>    cache-control<br>    æ˜¯httpåè®®ä¸­å¸¸ç”¨çš„å¤´éƒ¨ä¹‹ä¸€ï¼Œ<br>    è´Ÿè´£æ§åˆ¶é¡µé¢çš„ç¼“å­˜æœºåˆ¶<br>4.å¯ç”¨Gzipå‹ç¼©<br>    æŠŠæ–‡ä»¶å…ˆæ”¾åœ¨æœåŠ¡å™¨å‹ç¼©å†ä¼ è¾“<br>    html,php,js,css,xml,css<br>5.å°†cssæ”¾åœ¨é¡µé¢æœ€ä¸Šé¢<br>    æ”¾åœ¨headä¸­ï¼Œå…ˆè¿›è¡ŒåŠ è½½å’Œæ¸²æŸ“<br>6.å°†scriptæ”¾åœ¨é¡µé¢æœ€ä¸‹é¢<br>    é¦–å…ˆå°†é¡µé¢å‘ˆç°å‡ºæ¥ï¼Œè¿™æ ·é¡µé¢ä¸ä¼šç­‰å¤ªä¹…<br>7.é¿å…åœ¨cssä¸­ä½¿ç”¨Expressions<br>    css Expressions:cssè¡¨è¾¾å¼â€“javascript<br>    é¡µé¢æ˜¾ç¤ºç¼©æ”¾ï¼Œé¡µé¢æ»šåŠ¨ï¼Œç§»åŠ¨é¼ æ ‡éƒ½ä¼šé‡æ–°è®¡ç®—<br>8.æŠŠjså’Œcssæ”¾åˆ°å¤–éƒ¨æ–‡ä»¶ä¸­<br>        å•ç‹¬æå–ï¼š<br>            æé«˜äº†jså’Œcssçš„å¤ç”¨æ€§<br>            å‡å°é¡µé¢ä½“ç§¯<br>            æé«˜äº†jså’Œcssçš„å¯ç»´æŠ¤æ€§<br>    å†™åœ¨é¡µé¢é‡Œ<br>            å‡å°‘é¡µé¢è¯·æ±‚<br>            æå‡é¡µé¢æ¸²æŸ“é€Ÿåº¦<br>    å†™åœ¨é¡µé¢å†…çš„æƒ…å†µï¼š<br>        æ ·å¼åªåº”ç”¨äºä¸€ä¸ªé¡µé¢<br>        ä¸ç»å¸¸è¢«è®¿é—®åˆ°<br>        è„šæœ¬å’Œæ ·å¼å¾ˆå°‘ï¼ˆä¸å¤šäº20è¡Œï¼‰<br>9.å‡å°‘dnsæŸ¥è¯¢<br>    å½“ç¼“å­˜æ—¶é—´é•¿æ—¶ï¼šå‡å°‘dnsçš„é‡å¤æŸ¥æ‰¾ï¼ŒèŠ‚çœæ—¶é—´<br>    å½“ç¼“å­˜æ—¶é—´çŸ­æ—¶ï¼šåŠæ—¶æ£€æµ‹ç½‘ç«™æœåŠ¡å™¨çš„å˜åŒ–ï¼Œä¿è¯æ­£ç¡®æ€§ã€‚<br>    å¤šåŸŸï¼Œå•åŸŸ<br>10.å‹ç¼©javascriptå’Œcss<br>     å»é™¤ä¸å¿…è¦çš„ç©ºç™½ç¬¦ï¼Œæ ¼å¼ç¬¦ï¼Œæ³¨é‡Šç¬¦<br>        ç®€å†™æ–¹æ³•åï¼Œå‚æ•°åå‹ç¼©jsè„šæœ¬<br>11.é¿å…é‡å®šå‘<br>    åŸå§‹è¯·æ±‚è¢«é‡æ–°è½¬å‘åˆ°äº†å…¶ä»–è¯·æ±‚<br>    301 è¢«ç§»åŠ¨åˆ°äº†å¦å¤–çš„ä½ç½®(æ°¸ä¹…é‡å®šå‘)<br>    302 ç”¨æˆ·æ‰€è¯·æ±‚çš„é¡µé¢æ‰¾åˆ°äº†ï¼Œä½†ä¸åœ¨åŸå§‹ä½ç½®ï¼ˆä¸´æ—¶é‡å®šå‘ï¼‰<br>  301æ›´æ™ºèƒ½<br> 12.ç§»é™¤é‡å¤è„šæœ¬<br>  13.é…ç½®å®ä½“æ ‡ç­¾(ETag)??<br>14.ä½¿ç”¨ajaxç¼“å­˜<br>    postæ¯æ¬¡éƒ½æ‰§è¡Œï¼Œä¸è¢«ç¼“å­˜<br>    getåŒä¸€åœ°å€ä¸é‡å¤æ‰§è¡Œï¼Œå¯ä»¥è¢«ç¼“å­˜</p><p>14.yslowå·¥å…·ç®€ä»‹<br>    å¯¹ç½‘ç«™è¿›è¡Œåˆ†æï¼Œç»™ä¸€äº›å»ºè®®ï¼Œè§„åˆ™ï¼Œ<br>    ä¸€æ­¥æ­¥ä¼˜åŒ–ç½‘ç«™<br>ä½¿ç”¨ï¼š<br>    æŒ‰f12ä¼šå‡ºç°åœ¨consoleä¹‹å</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>VSCode</title>
      <link href="posts/VSCode/"/>
      <url>posts/VSCode/</url>
      
        <content type="html"><![CDATA[<p>[toc]<br><a href="https://github.com/varHarrie/Dawn-Blossoms/issues/10">æ’ä»¶åˆ—è¡¨</a></p><h2 id="ä¸»å‘½ä»¤æ¡†"><a href="#ä¸»å‘½ä»¤æ¡†" class="headerlink" title="ä¸»å‘½ä»¤æ¡†"></a>ä¸»å‘½ä»¤æ¡†</h2><p><code>Command+Shift+P</code>: æ‰“å¼€å‘½ä»¤é¢æ¿ã€‚åœ¨æ‰“å¼€çš„è¾“å…¥æ¡†å†…ï¼Œå¯ä»¥è¾“å…¥ä»»ä½•å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š</p><p>æŒ‰ä¸€ä¸‹<code>Backspace</code>ä¼šè¿›å…¥åˆ°<code>Command+P</code>æ¨¡å¼</p><p>åœ¨<code>Command+P</code>ä¸‹è¾“å…¥&gt;å¯ä»¥è¿›å…¥<code>Command+Shift+P</code>æ¨¡å¼</p><p>åœ¨<code>Command+P</code>çª—å£ä¸‹è¿˜å¯ä»¥:</p><p>  â—‹ æ–‡ä»¶å è·³è½¬åˆ°å¯¹åº”æ–‡ä»¶<br>  â—‹ <code>?</code> åˆ—å‡ºå½“å‰å¯æ‰§è¡Œçš„åŠ¨ä½œ<br>  â—‹ <code>!</code> æ˜¾ç¤º Errorsæˆ– Warningsï¼Œä¹Ÿå¯ä»¥<code>Command+Shift+M</code><br>  â—‹ <code>:</code> è·³è½¬åˆ°è¡Œæ•°ï¼Œä¹Ÿå¯ä»¥<code>Command+G</code>ç›´æ¥è¿›å…¥<br>  â—‹ <code>@</code> è·³è½¬åˆ° symbolï¼ˆæœç´¢å˜é‡æˆ–è€…å‡½æ•°ï¼‰ï¼Œä¹Ÿå¯ä»¥<code>Command+Shift+O</code>ç›´æ¥è¿›å…¥<br>  â—‹ <code>@</code> æ ¹æ®åˆ†ç±»è·³è½¬ symbolï¼ŒæŸ¥æ‰¾å±æ€§æˆ–å‡½æ•°ï¼Œä¹Ÿå¯ä»¥<code>Command+Shift+O</code>åè¾“å…¥:è¿›å…¥<br>  â—‹ <code>#</code> æ ¹æ®åå­—æŸ¥æ‰¾ symbolï¼Œä¹Ÿå¯ä»¥ Command+T</p><a id="more"></a><h2 id="2-2ã€å¸¸ç”¨å¿«æ·é”®"><a href="#2-2ã€å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="2.2ã€å¸¸ç”¨å¿«æ·é”®"></a>2.2ã€å¸¸ç”¨å¿«æ·é”®</h2><h3 id="2-2-1ã€ç¼–è¾‘å™¨ä¸ç»ˆç«¯çª—å£ç®¡ç†"><a href="#2-2-1ã€ç¼–è¾‘å™¨ä¸ç»ˆç«¯çª—å£ç®¡ç†" class="headerlink" title="2.2.1ã€ç¼–è¾‘å™¨ä¸ç»ˆç«¯çª—å£ç®¡ç†"></a>2.2.1ã€ç¼–è¾‘å™¨ä¸ç»ˆç«¯çª—å£ç®¡ç†</h3><p>åŒæ—¶æ‰“å¼€å¤šä¸ªVscodeï¼ˆæŸ¥çœ‹å¤šä¸ªé¡¹ç›®ï¼‰</p><p><code>Command+Shift+N</code> æ‰“å¼€ä¸€ä¸ªæ–°çª—å£<br><code>Command+Shift+W</code> å…³é—­çª—å£ åŒæ—¶æ‰“å¼€å¤šä¸ªç¼–è¾‘å™¨ï¼ˆæŸ¥çœ‹å¤šä¸ªæ–‡ä»¶ï¼‰<br><code>Command+N</code> æ–°å»ºæ–‡ä»¶<br><code>Ctrl+Tab</code> æ–‡ä»¶ä¹‹é—´åˆ‡æ¢<br><code>Command+\</code> åˆ†å‰²å‡ºä¸€ä¸ªæ–°çš„ç¼–è¾‘å™¨<br><code>Command+1</code>ã€<code>Command+2</code>ã€<code>Command+3</code>å·¦ä¸­å³ 3 ä¸ªç¼–è¾‘å™¨çš„å¿«æ·é”®<br>Editorä¹‹é—´çš„äº’ç›¸åˆ‡æ¢ï¼š <code>Shift + Command + [(])</code></p><h3 id="2-2-2ã€å·¥ä½œåŒºçš„å¿«æ·é”®"><a href="#2-2-2ã€å·¥ä½œåŒºçš„å¿«æ·é”®" class="headerlink" title="2.2.2ã€å·¥ä½œåŒºçš„å¿«æ·é”®"></a>2.2.2ã€å·¥ä½œåŒºçš„å¿«æ·é”®</h3><p>å·¥ä½œåŒºçš„æ˜¾ç¤ºå’Œéšè—ï¼š <code>Command + B</code><br>å·¥ä½œåŒºå’Œç¼–è¾‘åŒºçš„åˆ‡æ¢ï¼š <code>Command + shift + E</code><br>å·¥ä½œåŒºæ–‡ä»¶èµ„æºç®¡ç†å™¨çš„æ–‡ä»¶é€‰æ‹©ï¼šH/J/K/Lä»£è¡¨æ–‡ä»¶å¤¹æŠ˜å (å¦‚æœä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†ä¼šè·³åˆ°è¿™ä¸ªæ–‡ä»¶æ‰€å±çš„æ–‡ä»¶å¤¹ä¸Šï¼Œä»¥ä¾¿å¯ä»¥åé¢æŠ˜å æ•´ä¸ªæ–‡ä»¶å¤¹)ã€èšç„¦ä¸‹ä¸€ä¸ªæ–‡ä»¶ã€èšç„¦ä¸Šä¸€ä¸ªæ–‡ä»¶ã€æ–‡ä»¶å¤¹å±•å¼€(å¦‚æœä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†ä¼šåœ¨ç¼–è¾‘åŒºæ‰“å¼€è¿™ä¸ªæ–‡ä»¶)<br>æ‰“å¼€æ–‡ä»¶ä¹‹åéœ€è¦å›ºå®šåœ¨å¼€å¯çŠ¶æ€ä¸‹ï¼š<code>Command + K + Enter</code><br>æ‰“å¼€è°ƒè¯•é¢æ¿ï¼š<code>Command + Shift + D</code></p><h3 id="2-2-3ã€ç»ˆç«¯åŒºçš„å¿«æ·é”®"><a href="#2-2-3ã€ç»ˆç«¯åŒºçš„å¿«æ·é”®" class="headerlink" title="2.2.3ã€ç»ˆç«¯åŒºçš„å¿«æ·é”®"></a>2.2.3ã€ç»ˆç«¯åŒºçš„å¿«æ·é”®</h3><p>`Ctrl + ``æ‰“å¼€ç»ˆç«¯</p><p>ä¸»é¢˜ï¼š<br>winter is coming<br>Dracula ä¸»é¢˜<br>espresso ä¸»é¢˜    è¿™ä¸ªæ˜¯å·¦ä¾§é»‘è‰²ï¼Œç¼–è¾‘åŒºç™½è‰²çš„~~<br>monokai light<br>sunrise<br>woolen<br>theme-bluloco-dark<br>theme-bluloco-light<br>github   éå¸¸ç»™åŠ›</p><p>å¿«æ·é”®ï¼š</p><p>ctrl + p å¿«é€Ÿæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶<br>ctrl + G è·³è½¬åˆ°æŒ‡å®šè¡Œ<br>ctrl + F åœ¨å½“å‰æ–‡ä»¶ä¸­æœç´¢<br>ctrl + shift + k åˆ é™¤å½“å‰è¡Œ</p><p>home è·³è½¬åˆ°è¡Œçš„å¼€å§‹<br>end è·³è½¬åˆ°è¡Œçš„ç»“å°¾</p><p>ctrl + home è·³è½¬åˆ°æ–‡ä»¶çš„å¼€å§‹<br>ctrl + end è·³è½¬åˆ°æ–‡ä»¶çš„ç»“å°¾</p><p>ctrl + shift + [  æŠ˜å ä¸€ä¸ªä»£ç å—<br>ctrl + shift + ]  å±•å¼€ä¸€ä¸ªä»£ç å—</p><p>f3/shift + f3  å‘ç°ä¸‹ä¸€å¤„/å‘ç°ä¸Šä¸€å¤„<br>ctrl + D å¯ä»¥æ‰¹é‡é€‰ä¸­åŒä¸€ä¸ªå…ƒç´ ï¼Œç„¶åè¿›è¡Œå˜é‡æˆ–æ–¹æ³•åçš„é‡å‘½å<br>ctrl + shift + o åœ¨å½“å‰æ–‡ä»¶æŸ¥æ‰¾ä¸€ä¸ªæ–¹æ³•<br> alt + shift + f æ ¼å¼åŒ–ä»£ç <br> F12 è·³è½¬åˆ°å®šä¹‰å¤„<br> ctrl + i  é€‰ä¸­å½“å‰è¡Œ</p><p>å¦å¤–ï¼Œé€šè¿‡è·¯å¾„<br>        File -&gt; Preferences -&gt; Keyboard Shortcutsä¸­çš„é“¾æ¥ï¼Œå¯ä»¥æ‰“å¼€keybindings.jsonæ–‡ä»¶ï¼Œå®šä¹‰è‡ªå·±çš„å¿«æ·é”®<br>     ä¾‹å¦‚ï¼šå®šä¹‰æŠŠæ‰€æœ‰å­—ç¬¦è½¬åŒ–ä¸ºå¤§å†™/å°å†™ï¼Œä¿®æ”¹æ–‡ä»¶keybindings.jsonæ–‡ä»¶ã€‚ç„¶åï¼Œé€šè¿‡ ctrl+shift+u å¿«æ·é”®å°±å¯ä»¥æŠŠä¸€ä¸ªå˜é‡ä¿®æ”¹ä¸ºå¤§å†™ã€‚é€šè¿‡ctrl+shift+læŠŠå¤§å†™çš„å˜é‡å˜æˆå°å†™ã€‚<br>8405da39ed76ac45f91c7ac4261fa687eb7566a2</p><p>Settings Sync   åŒæ­¥æ’ä»¶<br>æ’ä»¶ï¼š<br>ESLint   //jsæ–‡ä»¶è§„èŒƒåŒ–<br>HTML CSS Support   //html,css<br>html css snippets  html,css æç¤ºï¼Œè‡ªåŠ¨è¡¥å…¨</p><p>Vetur  //vueæ–‡ä»¶æ”¯æŒ<br>vscode-icons æ–‡ä»¶å‰æ˜¾ç¤ºå›¾æ ‡<br>mithril emmet  // zen coding<br>Path Autocomplete<br>PHP IntelliSense</p><p>waka Time //ç»Ÿè®¡å†™ä»£ç æ—¶é—´<br> è‡ªåŠ¨é—­åˆæ ‡ç­¾<br>Auto Close Tag<br>é¢œè‰²å˜å€¼çš„å®é™…é¢œè‰²<br>Color Highlight<br>æ‹¬å·é«˜äº®<br>Bracket Pair Colorizerï¼Œï¼Œ</p><p>markdown preview enhanced é¢„è§ˆmarkdownéå¸¸å¥½<br>Prettier - Code formatter è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç  ï¼Œå¯ä»¥è‡ªåŠ¨æ ¼å¼åŒ–<br>â€œeditor.formatOnSaveâ€: true</p><p>VS Code ç»ˆç«¯å­—ä½“é—´è·è¿‡å®½<br>è§£å†³åŠæ³•ï¼š<br>ç»ˆç«¯ç”¨VSCodeçš„é»˜è®¤å­—ä½“ï¼Œç¼–è¾‘å™¨å¯ä»¥ç”¨è‡ªå®šä¹‰çš„å­—ä½“<br>ç»ˆç«¯ä½¿ç”¨çš„å­—ä½“ä¸èƒ½æ˜¯ç­‰å®½å­—ä½“ï¼Œå¦åˆ™ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜</p><p>vscodeè‡ªåŠ¨ç»™æ‰€æœ‰çš„importæ”¹ä¸ºå®é™…è·¯å¾„è€Œä¸æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œè§£å†³åŠæ³•<br>è‡ªåŠ¨æ›´æ–° import è¯­å¥çš„è·¯å¾„</p><p>é»˜è®¤ç”¨æˆ·è®¾ç½®<br>// å¯ç”¨æˆ–ç¦ç”¨åœ¨ VS Code ä¸­é‡å‘½åæˆ–ç§»åŠ¨æ–‡ä»¶æ—¶è‡ªåŠ¨æ›´æ–° import è¯­å¥çš„è·¯å¾„ã€‚å¯é€‰å€¼æœ‰: â€œpromptâ€ (åœ¨æ¯æ¬¡é‡å‘½åæ—¶æç¤º)ã€â€alwaysâ€ (å§‹ç»ˆè‡ªåŠ¨æ›´æ–°è·¯å¾„) å’Œ â€œneverâ€ (ä»ä¸é‡å‘½åè·¯å¾„ä¸”ä¸è¦æç¤º)ã€‚è¦æ±‚å·¥ä½œåŒºä½¿ç”¨é«˜äº 2.9 ç‰ˆæœ¬çš„ TypeScriptã€‚<br>â€œtypescript.updateImportsOnFileMove.enabledâ€: â€œpromptâ€</p><p>å¦‚æœæŠŠè¿™ä¸ªå€¼æ”¹æˆalways<br>ï¼Œå°±ä¼šè‡ªåŠ¨ä¿®æ”¹æ‰€æœ‰çš„import</p><ul><li><p>VS Code setting Syncæ’ä»¶é…ç½®ç»éªŒï¼š<br>æŒ‰ç…§æ•™ç¨‹æç¤ºæŒ‰shift+alt+u ä¼šå¼¹å‡ºè¾“å…¥æ¡†è¦æ±‚è¾“å…¥githubä¸­çš„tokenï¼Œç¬¬ä¸€æ¬¡å¯ä»¥è¾“å…¥<br>å¦‚æœè¾“å…¥é”™è¯¯ï¼Œå†æ¬¡æŒ‰å¿«æ·é”®ä¼šä¸æ–­æç¤ºtokenè¿‡æœŸæˆ–é”™è¯¯ã€‚</p><p>è§£å†³åŠæ³•: æ‰¾åˆ°settings.jsonæ–‡ä»¶åŒç›®å½•ä¸‹çš„syncLocalSettings.json<br>æŸ¥æ‰¾åŠæ³•ï¼Œé¼ æ ‡æ”¾åˆ°setting.jsonçš„æ‰“å¼€æ ‡ç­¾ä¸Šä¼šæ˜¾ç¤ºæ–‡ä»¶ç›®å½•ï¼Œå³é”®å¯æ‰“å¼€æ‰€åœ¨ç›®å½•ã€‚<br>C:\Users\zhaojianpeng3\AppData\Roaming\Code\User</p><p>ä¿®æ”¹æ–‡ä»¶ä¸­çš„tokenä¸ºgithubä¸­å¯¹åº”çš„tokenï¼Œä¿å­˜æ–‡ä»¶ã€‚é‡æ–°æŒ‰å¿«æ·é”®å³å¯å¯ç”¨ã€‚</p></li></ul><h2 id="ç›´æ¥è¿è¡Œjsæ–‡ä»¶"><a href="#ç›´æ¥è¿è¡Œjsæ–‡ä»¶" class="headerlink" title="ç›´æ¥è¿è¡Œjsæ–‡ä»¶"></a>ç›´æ¥è¿è¡Œjsæ–‡ä»¶</h2><p>å®‰è£…<code>Code Runner</code>æ’ä»¶<br>åœ¨settings.jsonä¸­é…ç½®</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;code-runner.defaultLanguage&quot;: &quot;javascript&quot;,</span><br><span class="line">&quot;code-runner.executorMapByGlob&quot;: &#123;</span><br><span class="line">    &quot;*.js&quot;: &quot;node&quot;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;code-runner.runInTerminal&quot;: true</span><br></pre></td></tr></table></figure><p>æŒ‰å¿«æ·é”®<code>Ctrl+Alt+N</code>æˆ–å³é”®<code>Run Code</code>å³å¯åœ¨æ§åˆ¶å°çœ‹åˆ°è¾“å‡ºç»“æœ</p><h2 id="è°ƒè¯•js"><a href="#è°ƒè¯•js" class="headerlink" title="è°ƒè¯•js"></a>è°ƒè¯•js</h2><p>æ‰“å¼€jsæ–‡ä»¶ï¼Œç‚¹å‡»å·¦ä¾§å˜æ‡’è°ƒè¯•ï¼Œç‚¹å‡»<code>è¿è¡Œä¸è°ƒè¯•</code>ï¼Œé€‰æ‹©<code>Node.js(preview)</code>ï¼Œå³å¯æ‰“æ–­ç‚¹è°ƒè¯•</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Bundleræºç ç¼–å†™</title>
      <link href="posts/Bundler%E6%BA%90%E7%A0%81%E7%BC%96%E5%86%99/"/>
      <url>posts/Bundler%E6%BA%90%E7%A0%81%E7%BC%96%E5%86%99/</url>
      
        <content type="html"><![CDATA[<p>å®‰è£…ä¾èµ–-<a href="https://babeljs.io/docs/en/babel-parser">ç›¸å…³æ–‡æ¡£</a></p><p><code>npm install @babel/parser @babel/traverse @babel/core @babel/preset-env --save</code></p><p>index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> message <span class="keyword">from</span> <span class="string">&#x27;./message.js&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(message);</span><br></pre></td></tr></table></figure><p>message.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; word &#125; <span class="keyword">from</span> <span class="string">&#x27;./word.js&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> message = <span class="string">`say <span class="subst">$&#123;word&#125;</span>`</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> message;</span><br></pre></td></tr></table></figure><a id="more"></a><p>word.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> word = <span class="string">&#x27;hello&#x27;</span>;</span><br></pre></td></tr></table></figure><p>bundler.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> parser = <span class="built_in">require</span>(<span class="string">&#x27;@babel/parser&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> babel = <span class="built_in">require</span>(<span class="string">&#x27;@babel/core&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> traverse = <span class="built_in">require</span>(<span class="string">&#x27;@babel/traverse&#x27;</span>).default;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†æå…¥å£æ–‡ä»¶å’Œä¾èµ–</span></span><br><span class="line"><span class="keyword">const</span> moduleAnalyser = <span class="function">(<span class="params">filename</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è¯»å–æ–‡ä»¶å†…å®¹</span></span><br><span class="line">    <span class="keyword">const</span> content = fs.readFileSync(filename, <span class="string">&#x27;utf-8&#x27;</span>);</span><br><span class="line">    <span class="comment">// ä½¿ç”¨babelè§£ææ–‡ä»¶æˆæŠ½è±¡è¯­æ³•æ ‘</span></span><br><span class="line">    <span class="keyword">const</span> ast = parser.parse(content, &#123;</span><br><span class="line">        sourceType: <span class="string">&#x27;module&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">const</span> dependencies = &#123;&#125;;</span><br><span class="line">    traverse(ast, &#123;</span><br><span class="line">        <span class="comment">// å£°æ˜</span></span><br><span class="line">        <span class="function"><span class="title">ImportDeclaration</span>(<span class="params">&#123; node &#125;</span>)</span> &#123;</span><br><span class="line">            <span class="comment">// è·å–ç»å¯¹è·¯å¾„çš„æ–‡ä»¶</span></span><br><span class="line">            <span class="keyword">const</span> dirname = path.dirname(filename);</span><br><span class="line">            <span class="keyword">const</span> newFile = <span class="string">&#x27;./&#x27;</span> + path.join(dirname, node.source.value);</span><br><span class="line">            dependencies[node.source.value] = newFile;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// babelè½¬åŒ–es6ä»£ç åˆ°es5</span></span><br><span class="line">    <span class="keyword">const</span> &#123; code &#125; = babel.transformFromAst(ast, <span class="literal">null</span>, &#123;</span><br><span class="line">        presets:: [<span class="string">&#x27;@babel/preset-env&#x27;</span>]</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// è¿”å›å…¥å£æ–‡ä»¶å’Œä¾èµ–æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        filename,</span><br><span class="line">        dependencies,</span><br><span class="line">        code</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æµ‹è¯•å…¥å£æ–‡ä»¶è§£ææ˜¯å¦æ­£å¸¸</span></span><br><span class="line"><span class="comment">// moduleAnalyser(&#x27;./src/index.js&#x27;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾èµ–å›¾è°±ï¼Œåˆ†æå…¥å£æ–‡ä»¶åŠå…¥å£æ–‡ä»¶ä¸­å¼•å…¥æ–‡ä»¶çš„ä¾èµ–</span></span><br><span class="line"><span class="keyword">const</span> makeDependenciesGraph = <span class="function">(<span class="params">entry</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> entryModule = moduleAnalyser(entry);</span><br><span class="line">    <span class="keyword">const</span> graphArr = [entryModule];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; graphArr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> item = graphArr[i];</span><br><span class="line">        <span class="keyword">const</span> &#123; dependencies &#125; = item;</span><br><span class="line">        <span class="keyword">if</span> (dependencies) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> j <span class="keyword">in</span> dependencies) &#123;</span><br><span class="line">                graphArr.push(moduleAnalyser(dependencies[j]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> graph = &#123;&#125;;</span><br><span class="line">    graphArr.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        graph[item.filename] = &#123;</span><br><span class="line">            dependencies: item.dependencies,</span><br><span class="line">            code: item.code</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> graph;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆæœ€ç»ˆçš„ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> generageCode = <span class="function">(<span class="params">entry</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> graph = <span class="built_in">JSON</span>.stringify(makeDependenciesGraph(entry));</span><br><span class="line">    <span class="comment">// æ‹¿åˆ°entry, æ‰§è¡Œentryå¯¹åº”çš„ä»£ç </span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">        (function(graph) &#123;</span></span><br><span class="line"><span class="string">            function require(module) &#123;</span></span><br><span class="line"><span class="string">                function localRequire(relativePath) &#123;</span></span><br><span class="line"><span class="string">                    return require(graph[module].dependencies[relativePath]);</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                var exports = &#123;&#125;;</span></span><br><span class="line"><span class="string">                (function(require, exports, code)&#123;</span></span><br><span class="line"><span class="string">                    eval(code)</span></span><br><span class="line"><span class="string">                &#125;)(localRequire, exports, graph[module].code)</span></span><br><span class="line"><span class="string">                return exports;</span></span><br><span class="line"><span class="string">            &#125;;</span></span><br><span class="line"><span class="string">            require(&#x27;<span class="subst">$&#123;entry&#125;</span>&#x27;);</span></span><br><span class="line"><span class="string">        &#125;)(<span class="subst">$&#123;graph&#125;</span>);</span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// const graphInfo = makeDependenciesGraph(&#x27;./src/index.js&#x27;);</span></span><br><span class="line"><span class="keyword">const</span> code = generageCode(<span class="string">&#x27;./src/index.js&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªåŠ¨æ ¼å¼åŒ–-md,js,css,htmlç­‰</title>
      <link href="posts/%E8%87%AA%E5%8A%A8%E6%A0%BC%E5%BC%8F%E5%8C%96-md-js-css-html%E7%AD%89/"/>
      <url>posts/%E8%87%AA%E5%8A%A8%E6%A0%BC%E5%BC%8F%E5%8C%96-md-js-css-html%E7%AD%89/</url>
      
        <content type="html"><![CDATA[<h2 id="è‡ªåŠ¨æ ¼å¼åŒ–mdæ–‡æ¡£"><a href="#è‡ªåŠ¨æ ¼å¼åŒ–mdæ–‡æ¡£" class="headerlink" title="è‡ªåŠ¨æ ¼å¼åŒ–mdæ–‡æ¡£"></a>è‡ªåŠ¨æ ¼å¼åŒ–mdæ–‡æ¡£</h2><p><a href="https://marketplace.visualstudio.com/items?itemName=DavidAnson.vscode-markdownlint">æ–‡æ¡£é“¾æ¥</a></p><p>ç”¨VSCodeç¼–è¾‘å™¨å®‰è£…<code>markdownlint</code>æ‰©å±•</p><p>ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–éœ€è¦åœ¨settings.jsonä¸­é…ç½®</p><blockquote><p>æ‰“å¼€setting.jsonæ–¹æ³•<br>æŒ‰command+p,è¾“å…¥settings.json</p></blockquote><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;editor.codeActionsOnSave&quot;: &#123;</span><br><span class="line">    &quot;source.fixAll.markdownlint&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å³å¯ç”Ÿæ•ˆ</p><a id="more"></a><h2 id="jsæ–‡ä»¶è‡ªåŠ¨æ ¼å¼åŒ–"><a href="#jsæ–‡ä»¶è‡ªåŠ¨æ ¼å¼åŒ–" class="headerlink" title="jsæ–‡ä»¶è‡ªåŠ¨æ ¼å¼åŒ–"></a>jsæ–‡ä»¶è‡ªåŠ¨æ ¼å¼åŒ–</h2><p>å°è¯•äº†ç”¨<code>Prettier</code>, å‘ç°é…ç½®é¡¹æ²¡æœ‰ç›´æ¥ç”¨<code>ESLint</code>å¤šï¼Œæ”¹ç”¨<code>ESLint</code></p><h3 id="ESLintè¶Ÿå‘"><a href="#ESLintè¶Ÿå‘" class="headerlink" title="ESLintè¶Ÿå‘"></a>ESLintè¶Ÿå‘</h3><ul><li><a href="https://eslint.org/">å®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://cn.eslint.org/">ä¸­æ–‡æ–‡æ¡£</a></li></ul><blockquote><p>ä¹ æƒ¯ç”¨VSCodeæ‰©å±•çš„ç”¨æˆ·ï¼Œé»˜è®¤ä¼šå…ˆåœ¨æ‰©å±•å¸‚åœºç›´æ¥æœç´¢æ’ä»¶ï¼Œç„¶åå†settings.jsonä¸­ä¿®æ”¹é…ç½®é¡¹æ¥ä½¿æ’ä»¶ç”Ÿæ•ˆã€‚<br>è¿™æ ·çš„æ€ç»´æƒ¯æ€§å¯¼è‡´äº†ESLintæ’ä»¶çš„åˆå§‹åŒ–å·¥ä½œç›´æ¥è¢«å¿½ç•¥æ‰ï¼Œä¸€ç›´ä¸ç”Ÿæ•ˆã€‚</p></blockquote><ol><li><p>é¦–å…ˆéœ€è¦è¦æŒ‰ç…§ESLintçš„æ–‡æ¡£æ¥åˆå§‹åŒ–</p><p> <a href="https://cn.eslint.org/docs/user-guide/getting-started">å¯¹åº”æ–‡æ¡£æŒ‡å—</a></p><p> å…ˆå†³æ¡ä»¶ï¼šNode.js (&gt;=6.14), npm version 3+ã€‚</p><p> ä½ å¯ä»¥ä½¿ç”¨ npm å®‰è£… ESLintï¼š</p><p> åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ</p><p> <code>npm install eslint --save-dev</code></p><p> ç´§æ¥ç€ä½ åº”è¯¥è®¾ç½®ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼š</p><p> <code>./node_modules/.bin/eslint --init</code><br> æˆ–<code>npx --init</code></p><p> è¿™ä¸ªå‘½ä»¤æ‰§è¡Œå®Œåä¼šè‡ªåŠ¨ç”Ÿæˆ<code>eslintrc.js</code>æ–‡ä»¶</p><p> ä¹‹åï¼Œä½ å¯ä»¥åœ¨ä»»ä½•æ–‡ä»¶æˆ–ç›®å½•ä¸Šè¿è¡ŒESLintå¦‚ä¸‹ï¼š</p><p> <code>./node_modules/.bin/eslint yourfile.js</code></p><p> ä»¥ä¸Šåˆå§‹åŒ–å·¥ä½œå°±å®Œæˆäº†ã€‚</p></li><li><p>æ¥ä¸‹æ¥å¼€å§‹è‡ªåŠ¨æ ¼å¼åŒ–çš„å„ç§é…ç½®</p><p> åœ¨VSCodeä¸­å¦‚ä¸‹é…ç½®(<a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint">é…ç½®è¯´æ˜</a>)</p> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;eslint.autoFixOnSave&quot;: true,</span><br><span class="line">&quot;eslint.alwaysShowStatus&quot;: true,</span><br><span class="line">&quot;eslint.run&quot;: &quot;onSave&quot;,</span><br></pre></td></tr></table></figure></li><li><p>è®¾ç½®è‡ªå·±çš„ä»£ç é£æ ¼</p></li></ol><p><a href="https://cn.eslint.org/docs/rules/">è§„åˆ™åˆ—è¡¨</a></p><p>å› ä¸ºå…¬å¸æœ‰è‡ªå·±çš„ä»£ç æ ¼å¼æ ¡éªŒï¼Œæ‰€ä»¥è¿™é‡Œçš„é…ç½®æ˜¯å’Œå…¬å¸ä»£ç é£æ ¼ä¸€è‡´çš„ï¼Œä¸åŒçš„é…ç½®å¯ä»¥æŒ‰ç…§è§„åˆ™è‡ªå·±é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@file</span>: file</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: believeZJP</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="string">&#x27;env&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;browser&#x27;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&#x27;commonjs&#x27;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&#x27;es6&#x27;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;extends&#x27;</span>: <span class="string">&#x27;eslint:recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;globals&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;Component&#x27;</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;swan&#x27;</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Page&#x27;</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;getApp&#x27;</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Atomics&#x27;</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;SharedArrayBuffer&#x27;</span>: <span class="string">&#x27;readonly&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;parserOptions&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ecmaVersion&#x27;</span>: <span class="number">2018</span>,</span><br><span class="line">        <span class="string">&#x27;sourceType&#x27;</span>: <span class="string">&#x27;module&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;rules&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;semi&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;always&#x27;</span>],</span><br><span class="line">        <span class="comment">// æ“ä½œç¬¦åœ¨è¡Œé¦–</span></span><br><span class="line">        <span class="string">&#x27;operator-linebreak&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;before&#x27;</span>],</span><br><span class="line">        <span class="comment">// åˆ é™¤æœ€åä¸€ä¸ªé€—å·</span></span><br><span class="line">        <span class="string">&#x27;comma-dangle&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;never&#x27;</span>],</span><br><span class="line">        <span class="comment">// å¯¹è±¡ä¸¤è¾¹åŠ ç©ºæ ¼</span></span><br><span class="line">        <span class="string">&#x27;object-curly-spacing&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;always&#x27;</span>],</span><br><span class="line">        <span class="comment">// æ•°ç»„ç±»å‹å·¦å³ä¸åŠ ç©ºæ ¼</span></span><br><span class="line">        <span class="string">&#x27;array-bracket-spacing&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;never&#x27;</span>],</span><br><span class="line">        <span class="comment">// è®¡ç®—å±æ€§ç±»å‹åŠ ç©ºæ ¼ï¼ŒåŒä¸Š</span></span><br><span class="line">        <span class="string">&#x27;computed-property-spacing&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;never&#x27;</span>],</span><br><span class="line">        <span class="comment">// æ“ä½œç¬¦åŠ ç©ºæ ¼</span></span><br><span class="line">        <span class="string">&#x27;space-infix-ops&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, &#123; <span class="string">&#x27;int32Hint&#x27;</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">        <span class="comment">// åˆ é™¤å¤šä½™ç©ºæ ¼å’Œç©ºè¡Œ</span></span><br><span class="line">        <span class="string">&#x27;no-multi-spaces&#x27;</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">        <span class="comment">// ç¦æ­¢è¡Œå°¾ç©ºæ ¼</span></span><br><span class="line">        <span class="string">&#x27;no-trailing-spaces&#x27;</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">        <span class="comment">// æ–¹æ³•å‚æ•°æ˜¯å•ä¸ªæ˜¯ä¸åŠ æ‹¬å·</span></span><br><span class="line">        <span class="string">&#x27;arrow-parens&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;as-needed&#x27;</span>],</span><br><span class="line">        <span class="comment">// consoleè­¦å‘Š</span></span><br><span class="line">        <span class="string">&#x27;no-console&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, &#123; <span class="attr">allow</span>: [<span class="string">&#x27;warn&#x27;</span>] &#125;],</span><br><span class="line">        <span class="comment">// è¦æ±‚ä½¿ç”¨ === å’Œ !== (eqeqeq)</span></span><br><span class="line">        <span class="string">&#x27;eqeqeq&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;always&#x27;</span>],</span><br><span class="line">        <span class="comment">// å‡½æ•°åœ†æ‹¬å·ä¹‹å‰æœ‰ä¸€ä¸ªç©ºæ ¼</span></span><br><span class="line">        <span class="string">&#x27;space-before-function-paren&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;never&#x27;</span>],</span><br><span class="line">        <span class="comment">// å¤§æ‹¬å·ä¹‹å‰æœ‰ç©ºæ ¼</span></span><br><span class="line">        <span class="string">&#x27;block-spacing&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;always&#x27;</span>],</span><br><span class="line">        <span class="comment">// è¯­å¥å—ä¹‹å‰çš„ç©ºæ ¼</span></span><br><span class="line">        <span class="string">&#x27;space-before-blocks&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;always&#x27;</span>],</span><br><span class="line">        <span class="comment">// å¯¹è±¡å­—é¢é‡çš„é”®å’Œå€¼ä¹‹é—´ä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼</span></span><br><span class="line">        <span class="string">&#x27;key-spacing&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, &#123; <span class="string">&#x27;afterColon&#x27;</span>: <span class="literal">true</span>, <span class="string">&#x27;beforeColon&#x27;</span>: <span class="literal">false</span> &#125;],</span><br><span class="line">        <span class="comment">// ä½¿ç”¨éª†é©¼æ‹¼å†™æ³•</span></span><br><span class="line">        <span class="string">&#x27;camelcase&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, &#123; <span class="attr">allow</span>: [<span class="string">&#x27;Component&#x27;</span>] &#125;],</span><br><span class="line">        <span class="comment">// æ–‡ä»¶æœ«å°¾ä¿ç•™ä¸€è¡Œç©ºè¡Œ</span></span><br><span class="line">        <span class="string">&#x27;eol-last&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;always&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;no-multiple-empty-lines&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, &#123; <span class="string">&#x27;max&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;maxEOF&#x27;</span>: <span class="number">1</span> &#125;],</span><br><span class="line">        <span class="comment">// å•å¼•å·</span></span><br><span class="line">        <span class="string">&#x27;quotes&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;single&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¯´æ˜:<br>globals: æ˜¯ä¸ºäº†å¿½ç•¥ä¸€äº›å…¨å±€å˜é‡æ²¡æœ‰å®šä¹‰çš„æŠ¥é”™<br>rules: æ˜¯å¯¹åº”çš„è¯¦ç»†è§„åˆ™ï¼Œæœ‰äº›è§„åˆ™æŸ¥ä¸åˆ°çš„å¯ä»¥å…ˆæŸ¥è¯¢æŠ¥é”™ä¿¡æ¯å†æ‰¾å¯¹åº”çš„é…ç½®ä¼šå®¹æ˜“ç‚¹ï¼Œå®˜ç½‘çš„è§„åˆ™è§£é‡Šä¸æ˜¯å¾ˆæ¸…æ¥š</p><p>å¦‚ä¸Šé…ç½®ï¼Œå³å¯è‡ªåŠ¨æ ¼å¼åŒ–å¤§éƒ¨åˆ†ä»£ç é”™è¯¯</p><p>ä½†è¯­æ³•é”™è¯¯ä»€ä¹ˆçš„éœ€è¦æ‰‹åŠ¨è§£å†³</p><p>çœ‹åˆ°æœ‰çš„äººç”¨<a href="https://github.com/typicode/husky#readme">husky</a>+<a href="https://github.com/okonet/lint-staged#readme">lint-staged</a></p><p>ä½†è¿™ä¸ªæ˜¯åœ¨æäº¤ä»£ç ä¹‹å‰æ ¡éªŒï¼Œå› ä¸ºè¿™é‡Œå·²ç»åœ¨onSaveæ—¶æ ¼å¼åŒ–äº†ï¼Œæ‰€ä»¥æ²¡å¿…è¦åŠ è¿™æ­¥.(å½“ç„¶ï¼ŒåŠ äº†å¯ä»¥å¼ºåˆ¶æ ¡éªŒæäº¤çš„ä»£ç )</p><p>æ–°é¡¹ç›®å¯ä»¥å°è¯•ï¼Œæ—§é¡¹ç›®å› ä¸ºå†å²é—ç•™ä»£ç å°±æ²¡å¿…è¦äº†ã€‚</p><p>å‘å¸ƒä¸ºnpmåŒ…</p><p>åœ¨é¡¹ç›®çš„eslintrc.jsä¸­å¼•ç”¨<br><code>extends: lint-4bd</code></p><h2 id="è‡ªåŠ¨åŠ æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š"><a href="#è‡ªåŠ¨åŠ æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š" class="headerlink" title="è‡ªåŠ¨åŠ æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š"></a>è‡ªåŠ¨åŠ æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š</h2><p>å…¬å¸è¦æ±‚jsæ–‡ä»¶å¿…é¡»åŠ æ–‡ä»¶å¤´ï¼Œæ‰€ä»¥è¿™é‡Œç”¨æ’ä»¶è§£å†³</p><p>æ’ä»¶å: <a href="https://github.com/OBKoro1/koro1FileHeader">koro1FileHeader</a></p><p>åœ¨VSCodeæ‰©å±•å¸‚åœºæœç´¢ç›´æ¥å®‰è£…<br><strong>è¦æ³¨æ„ï¼Œæœç´¢åå­—æ˜¯<code>koroFileHeader</code>æ²¡æœ‰1</strong><br>é…ç½®</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&quot;fileheader.customMade&quot;: &#123;</span><br><span class="line">        &quot;file&quot;: &quot;file&quot;,</span><br><span class="line">        &quot;author&quot;: &quot;believeZJP&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;fileheader.configObj&quot;: &#123;</span><br><span class="line">        &quot;autoAdd&quot;: false,</span><br><span class="line">        &quot;language&quot;: &#123;</span><br><span class="line">        &quot;js&quot;: &#123;</span><br><span class="line">            &quot;head&quot;: &quot;/**&quot;,</span><br><span class="line">            &quot;middle&quot;: &quot; * @&quot;,</span><br><span class="line">            &quot;end&quot;: &quot; */&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>é…ç½®è‡ªå®šä¹‰æ—¶å‘ç°å¯¹å…¨å±€ä¿®æ”¹ä¸ç”Ÿæ•ˆï¼Œå¿…é¡»æŒ‡å®šè¯­è¨€è¿›è¡Œä¿®æ”¹ï¼Œå¦‚ä¸Šçš„<code>js</code>ã€‚</p><p><code>autoAdd</code>è®¾æˆ<code>false</code>æ¯”è¾ƒå¥½ï¼Œè¿™ä¸ªæ’ä»¶ä¸èƒ½è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶é‡Œæ˜¯å¦å·²ç»å­˜åœ¨æ³¨é‡Šï¼Œä¼šæ·»åŠ å¤šä¸ª</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯æ¬¡ä¿®æ”¹settings.jsonåè¦é‡å¯VSCode</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºå°çŸ¥è¯†</title>
      <link href="posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/"/>
      <url>posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="é›¶å®½å­—ä½“"><a href="#é›¶å®½å­—ä½“" class="headerlink" title="é›¶å®½å­—ä½“"></a>é›¶å®½å­—ä½“</h2><p><a href="http://www.fileformat.info/info/unicode/category/Mn/list.htm">åˆ—è¡¨</a></p><p>æ‰¾åˆ°ç©ºçš„å­—ç¬¦</p><p>æ‰¾åˆ°ç©ºå­—ç¬¦çš„ç¼–ç , å¦‚<code>U+034F</code></p><p>å°†<code>U+</code>æ¢æˆ<code>\u</code></p><p>åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ <code>copy(&#39;\u034F&#39;)</code></p><p>å³å¯ç²˜è´´åˆ°èŠå¤©è¾“å…¥æ¡†</p><h2 id="ç«ç‹æœ€æ–°ç‰ˆ"><a href="#ç«ç‹æœ€æ–°ç‰ˆ" class="headerlink" title="ç«ç‹æœ€æ–°ç‰ˆ"></a>ç«ç‹æœ€æ–°ç‰ˆ</h2><p>å®Œæ•´å®‰è£…åŒ…ï¼š<a href="http://download.firefox.com.cn/releases/full/zh-CN/Firefox-full-latest.exe">http://download.firefox.com.cn/releases/full/zh-CN/Firefox-full-latest.exe</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ¸…æ–°å†¥æƒ³</title>
      <link href="posts/%E6%B8%85%E6%96%B0%E5%86%A5%E6%83%B3/"/>
      <url>posts/%E6%B8%85%E6%96%B0%E5%86%A5%E6%83%B3/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="ç¬¬ä¸€èŠ‚â€“åˆè¯†å†¥æƒ³"><a href="#ç¬¬ä¸€èŠ‚â€“åˆè¯†å†¥æƒ³" class="headerlink" title="ç¬¬ä¸€èŠ‚â€“åˆè¯†å†¥æƒ³"></a>ç¬¬ä¸€èŠ‚â€“åˆè¯†å†¥æƒ³</h2><h3 id="å†¥æƒ³ç»ƒä¹ çš„ç‰¹ç‚¹"><a href="#å†¥æƒ³ç»ƒä¹ çš„ç‰¹ç‚¹" class="headerlink" title="å†¥æƒ³ç»ƒä¹ çš„ç‰¹ç‚¹"></a>å†¥æƒ³ç»ƒä¹ çš„ç‰¹ç‚¹</h3><p>å†¥æƒ³ä¸ä»»ä½•ç»„ç»‡å®—æ•™æ— å…³ï¼Œé€‚ç”¨äºæ¯ä¸ªäºº<br>ä½œç”¨: èƒ½å¤Ÿç¼“è§£å‹åŠ›ï¼Œç¼“è§£ç„¦è™‘ï¼Œæ”¹å–„ç¡çœ ï¼Œæé«˜å·¥ä½œæ•ˆç‡ï¼Œä¸èº«è¾¹çš„äººå’Œäº‹å»ºç«‹æ›´å¥½çš„è”ç³»ç­‰</p><p>å®¹æ˜“ä¸Šæ‰‹ è½»æ¾æŒæ¡<br>ç®€æ´æœ‰æ•ˆï¼Œæ¯å¤©åªéœ€ååˆ†é’Ÿ</p><p>å†¥æƒ³çš„åŸç†æ˜¯ä»€ä¹ˆï¼Œé€šè¿‡ä»€ä¹ˆå‘æŒ¥ä½œç”¨</p><p>ç­”æ¡ˆæ˜¯æ­£å¿µ</p><h3 id="ä»€ä¹ˆæ˜¯â€æ­£å¿µâ€"><a href="#ä»€ä¹ˆæ˜¯â€æ­£å¿µâ€" class="headerlink" title="ä»€ä¹ˆæ˜¯â€æ­£å¿µâ€"></a>ä»€ä¹ˆæ˜¯â€æ­£å¿µâ€</h3><p>é€šè¿‡ä¸“æ³¨ï¼Œæ¿€å‘å¿ƒçµçš„åŠ›é‡</p><p>ä»Šå¿ƒä¸ºå¿µï¼Œæ´»åœ¨å½“ä¸‹çš„å¿ƒå°±æ˜¯å¿µã€‚</p><p>ä¸ä¹‹ç›¸å¯¹çš„ï¼Œè¿˜æœ‰ä¸¤ç§çŠ¶æ€: æ´»åœ¨æ˜¨å¤©å’Œæ´»åœ¨æ˜å¤©,æ˜¯å¼•å‘è´Ÿé¢æƒ…ç»ªçš„æ ¹æº</p><p>æ´»åœ¨æ˜¨å¤©ä¼šæƒ³èµ·å¯¹æ—¶é—´çš„è’åºŸï¼Œä¸ä»–äººçš„äº‰æ‰§ï¼Œå­¦ä¹ å’Œå·¥ä½œçš„ä¸é¡ºï¼Œä»è€Œæ„Ÿåˆ°æ²®ä¸§å’Œåæ‚”</p><p>æ´»åœ¨æ˜å¤©ä¼šå°è¯•è§„åˆ’æœªæ¥ï¼Œè®¾æƒ³è®¸å¤šè¿˜æ²¡å‘ç”Ÿçš„äº‹ï¼Œå°åˆ°å®¶é•¿é‡ŒçŸ­ï¼Œå¤§åˆ°å›½å®¶å¤§äº‹ï¼Œå€æ„Ÿå‹åŠ›ç„¦è™‘</p><p>å¦‚æœå¿ƒæ€»åœ¨è¿‡å»å’Œæœªæ¥ä¹‹é—´æ‘‡æ‘†ï¼Œå°±ä¼šå¿½è§†æœ€é‡è¦çš„å½“ä¸‹</p><p>æ­£å¿µè¦åšçš„å°±æ˜¯é€šè¿‡åˆ»æ„çš„å¼•å¯¼ï¼Œå¸®ä½ çš„æ³¨æ„åŠ›å‡èšèµ·æ¥ï¼ŒæŠŠå†…å¿ƒä»è¿‡å»å’Œæœªæ¥çš„æ‹‰æ‰¯ä¸­è§£è„±å‡ºæ¥ï¼Œå›å½’å½“ä¸‹ï¼Œè€Œä¸æ˜¯é€ƒé¿ç°å®</p><p>åœ¨å†¥æƒ³çš„ç»å…¸ç»ƒä¹ ä¸­ï¼Œæ­£å¿µå‘¼å¸æœ€å®¹æ˜“æŒæ¡</p><a id="more"></a><h3 id="æ­£å¿µå‘¼å¸çš„ç»ƒä¹ è¦ç‚¹"><a href="#æ­£å¿µå‘¼å¸çš„ç»ƒä¹ è¦ç‚¹" class="headerlink" title="æ­£å¿µå‘¼å¸çš„ç»ƒä¹ è¦ç‚¹"></a>æ­£å¿µå‘¼å¸çš„ç»ƒä¹ è¦ç‚¹</h3><p>æƒ³è±¡è‡ªå·±å¤„äºä¸€ä¸ªå®‰é™ï¼Œä¸ä¼šè¢«æ‰“æ‰°çš„åœ°æ–¹<br>æ‰¾ä¸€ä¸ªæœ‰é èƒŒçš„åœ°æ–¹åä¸‹</p><p>ç°åœ¨é—­ä¸Šä½ çš„åŒçœ¼ï¼ŒæŒºç›´ä¸Šèº«ï¼Œè½»è½»æŠ¬èµ·å¤´<br>ç”±ä¸‹è‡³ä¸Šç”¨å¿ƒæ„Ÿå—ä½ çš„è…¿éƒ¨ï¼Œè‡€éƒ¨ï¼Œè…°éƒ¨ï¼ŒèƒŒéƒ¨<br>æ…¢æ…¢çš„ä½ ä¼šæ„Ÿè§‰åˆ°è‚Œè‚‰çš„é…¸ç—›<br>è¿™æ˜¯æ­£å¸¸çš„ç°è±¡<br>å› ä¸ºç—›æ˜¯æ„ŸçŸ¥æˆ‘ä»¬èº«ä½“çš„ä¸»è¦æ–¹å¼ï¼Œ</p><p>å°†æ³¨æ„åŠ›é›†ä¸­åˆ°é¼»å­<br>è®©æˆ‘ä»¬å¼€å§‹åšå‡ æ¬¡æ·±å‘¼å¸</p><p>è®©è‡ªå·±æ²‰æµ¸åœ¨æ­¤æ—¶æ­¤åˆ»<br>æ·±å¸ä¸€å£æ°”<br>ç„¶åæ·±æ·±å‘¼æ°”<br>åå¤å‘¼å¸å‡ æ¬¡<br>è®©ä½ ç°åœ¨çš„ç´§å¼ æ„Ÿå¾—åˆ°å®Œå…¨çš„é‡Šæ”¾</p><p>å½“ä½ å˜çš„å¹³é™<br>å°±è®©å‘¼å¸å›åˆ°æ™®é€šçŠ¶æ€</p><p>ä¿æŒè‡ªç„¶çš„å‘¼å¸<br>ä¸è¦è¯•å›¾å»æ”¹å˜å‘¼å¸çš„èŠ‚å¥<br>æŠŠæ³¨æ„åŠ›é™„å±åœ¨ä½ çš„å‘¼å¸ä¸Š<br>é¡ºç€ç©ºæ°”è¿›å…¥ä½ çš„èº«ä½“</p><p>æ„Ÿå—èº«ä½“å“ªä¸ªéƒ¨ä½æœ€å¼ºçƒˆ<br>å¯èƒ½æ˜¯ä¸Šä¸‹èµ·ä¼çš„è…¹éƒ¨<br>æˆ–è€…è‚ºéƒ¨<br>ä¹Ÿå¯èƒ½æ˜¯å†·çš„æˆ–çƒ­çš„ç©ºæ°”ç»è¿‡é¼»è…”</p><p>æŠŠæ³¨æ„åŠ›æ”¾åœ¨ä½ èº«ä½“æ„Ÿè§‰æœ€å¼ºçƒˆçš„éƒ¨ä½<br>å¹¶æŠŠå…¨éƒ¨æ³¨æ„åŠ›æ”¾åœ¨é‚£é‡Œ</p><p>è·Ÿéšä½ çš„å‘¼å¸<br>ä¸€ç›´åˆ°æ¯ä¸€æ¬¡å¸æ°”çš„æœ«ç«¯</p><p>å½“å¸æ°”ç»“æŸçš„æ—¶å€™<br>å†ä¸€è·¯è·Ÿéšå‘¼æ°”ï¼Œç›´åˆ°ç»“æŸ</p><p>ä½ å¯èƒ½ä¼šå‡ºç°èµ°ç¥<br>å—åˆ°ä¸€äº›å…³äºè¿‡å»å’Œæœªæ¥æƒ³æ³•çš„å¹²æ‰°<br>å¼€å§‹ä¸ç”±è‡ªä¸»çš„è¯„åˆ¤å’Œæ€è€ƒ<br>æ²¡æœ‰å…³ç³»</p><p>å½“ä½ æ„è¯†åˆ°è‡ªå·±èµ°ç¥æ—¶<br>ä¸éœ€è¦è¯„ä»·è¿™æ ·æ˜¯å¥½æ˜¯å</p><p>åªéœ€è¦å°†æ³¨æ„åŠ›å†è½¬ç§»åˆ°å‘¼å¸ä¸Š</p><p>å¯ä»¥é€šè¿‡è®¡æ•°æ–¹å¼<br>å¸æ°”æ•°ä¸€ï¼Œå‘¼æ°”æ•°äºŒ<br>ä¸€å¸æ°”ï¼ŒäºŒå‘¼æ°”</p><p>è¯·æŒ‰è‡ªå·±å–œæ¬¢çš„èŠ‚å¥å‘¼å¸ä¸€æ®µæ—¶é—´<br>ä»”ç»†è§‚å¯Ÿæ¯ä¸€æ®µçš„å‘¼å¸çš„é•¿åº¦å˜åŒ–ï¼ŒåŠ›åº¦å˜åŒ–</p><p>æ„Ÿå—å‘¼å¸å¦‚ä½•å¸¦åŠ¨èº«ä½“</p><p>ç°åœ¨èŠ±ä¸€ç‚¹æ—¶é—´æ¥ç•™æ„ä¸€ä¸‹èº«ä½“çš„æ„Ÿè§‰<br>è¯·æ”¾æ¾å¿ƒæƒ…</p><p>ä¸è¦åˆ»æ„è¯„åˆ¤è¿™æ¬¡ç»ƒä¹ çš„æ•ˆæœ<br>å› ä¸ºè¿™ä¼šä¸ºä½ å¢æ·»æ–°çš„è´Ÿæ‹…</p><p>ç»ƒä¹ å°±æ˜¯æœ€å¥½çš„å­¦ä¹ </p><p>å½“ä½ ç»§ç»­å†¥æƒ³å­¦ä¹ <br>ä¸ä»…ç»ƒä¹ æœ¬èº«ä¼šå˜å¾—è¶Šæ¥è¶Šç®€å•<br>å‹åŠ›å’Œç„¦è™‘ä¹Ÿä¼šé€æ¸æ¶ˆå¤±</p><p>æœ¬æ¬¡ç»ƒä¹ å·²æ¥è¿‘å°¾å£°<br>æŠŠæ³¨æ„åŠ›å›åˆ°ä½ æ‰€å¤„çš„ç¯å¢ƒ</p><p>è½»è½»æ´»åŠ¨ä½ çš„æ‰‹æŒ‡ï¼Œè„šè¶¾<br>èˆ’å±•èº«ä½“<br>æ…¢æ…¢çš„çå¼€çœ¼ç›</p><p>ç¥è´ºä½ ï¼Œä½ å·²ç»æˆåŠŸçš„å®Œæˆäº†ä¸€æ¬¡å†¥æƒ³ç»ƒä¹ </p><p>åœ¨è¿‡å»çš„ååˆ†é’Ÿé‡Œ<br>æŒæ¡äº†æ­£å¿µçš„æ ¸å¿ƒæ€æƒ³-ä¸“æ³¨å½“ä¸‹<br>é€šè¿‡å‘¼å¸ç»ƒä¹ çš„æ–¹å¼<br>å®Œæˆäº†å¯¹èº«ä½“çš„æ„ŸçŸ¥<br>å’Œå¯¹æ³¨æ„åŠ›çš„æ“æ§</p><h2 id="ç¬¬äºŒèŠ‚-å†¥æƒ³çš„æœ¬è´¨"><a href="#ç¬¬äºŒèŠ‚-å†¥æƒ³çš„æœ¬è´¨" class="headerlink" title="ç¬¬äºŒèŠ‚ å†¥æƒ³çš„æœ¬è´¨"></a>ç¬¬äºŒèŠ‚ å†¥æƒ³çš„æœ¬è´¨</h2><p>å½“ä¸‹æŒ‡çš„æ˜¯æ­¤æ—¶æ­¤åˆ»ï¼Œæ³¨æ„åŠ›éœ€è¦é›†ä¸­çš„åœ°æ–¹</p><h3 id="æ€æ ·æ‰ç®—â€œä¸“æ³¨å½“ä¸‹â€"><a href="#æ€æ ·æ‰ç®—â€œä¸“æ³¨å½“ä¸‹â€" class="headerlink" title="æ€æ ·æ‰ç®—â€œä¸“æ³¨å½“ä¸‹â€"></a>æ€æ ·æ‰ç®—â€œä¸“æ³¨å½“ä¸‹â€</h3><p>å…¨ç¥è´¯æ³¨ï¼ŒæŠŠæ³¨æ„åŠ›é›†ä¸­åˆ°æ­£åœ¨åšçš„äº‹æƒ…ä¸Šã€‚<br>æ‹’ç»ä¸€å¿ƒå¤šç”¨</p><p>äººå¹¶ä¸æ€»æ˜¯æ´»åœ¨å½“ä¸‹ï¼Œèµ°ç¥æ˜¯æˆ‘ä»¬çš„å¸¸æ€</p><h3 id="å¯¼è‡´èµ°ç¥çš„ä¸‰å¤§åŸå› "><a href="#å¯¼è‡´èµ°ç¥çš„ä¸‰å¤§åŸå› " class="headerlink" title="å¯¼è‡´èµ°ç¥çš„ä¸‰å¤§åŸå› "></a>å¯¼è‡´èµ°ç¥çš„ä¸‰å¤§åŸå› </h3><p>å‘è¾¾çš„æ„Ÿå®˜æ¥æ”¶å¤§é‡ä¸éœ€è¦çš„ä¿¡æ¯<br>ä¸°å¯Œçš„è”æƒ³äº§ç”Ÿæºæºä¸æ–­çš„æ‚å¿µ<br>    â€“è”æƒ³å¶å°”ä¼šå¸¦æ¥çµæ„Ÿï¼Œä½†ä¼šè€—è´¹ç²¾åŠ›ï¼Œå æ®æ—¶é—´ï¼Œæ˜æ˜æ²¡æœ‰å·æ‡’ï¼Œæ‰‹å¤´ä¸Šçš„äº‹å´æ²¡åšå¤šå°‘<br>ä¸ºäº†é€ƒé¿å‹åŠ›ï¼Œé€šè¿‡å‘å‘†æ”¾ç©ºè‡ªå·±<br>    â€“é€šè¿‡æ”¾ç©ºç¼“è§£å‹åŠ›ï¼Œåªæ˜¯è‡ªæˆ‘å®‰æ…°ï¼Œå‘å‘†çš„åŒæ—¶æ—¶é—´åœ¨æµé€ï¼Œæœ€åå·¥ä½œè¿˜è¦åš</p><p>ä»Šååœ¨é‡åˆ°è¿™ç§æƒ…å†µï¼Œä¸è¦è‡ªè´£<br>åªéœ€è¦å°†æ³¨æ„åŠ›æ‹‰å›åˆ°å½“å‰åœ¨åšçš„äº‹æƒ…ä¸Š</p><h3 id="å†¥æƒ³ç»ƒä¹ çš„æœ¬è´¨"><a href="#å†¥æƒ³ç»ƒä¹ çš„æœ¬è´¨" class="headerlink" title="å†¥æƒ³ç»ƒä¹ çš„æœ¬è´¨"></a>å†¥æƒ³ç»ƒä¹ çš„æœ¬è´¨</h3><p>å†¥æƒ³ç»ƒä¹ æ‰€åšçš„ï¼Œå°±æ˜¯åå¤å°†æ³¨æ„åŠ›ä»å…¶ä»–åœ°æ–¹æ‹½å›å½“ä¸‹ã€‚<br>å› æ­¤å†¥æƒ³å¯ä»¥èå…¥åˆ°æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæ— æ—¶ä¸åˆ»çš„ç»ƒä¹ ã€‚</p><p>ç»ƒä¹ æ˜¯æœ€å¥½çš„å­¦ä¹ </p><h2 id="ç¬¬ä¸‰èŠ‚-ä¹”å¸ƒæ–¯ä¸å†¥æƒ³"><a href="#ç¬¬ä¸‰èŠ‚-ä¹”å¸ƒæ–¯ä¸å†¥æƒ³" class="headerlink" title="ç¬¬ä¸‰èŠ‚ ä¹”å¸ƒæ–¯ä¸å†¥æƒ³"></a>ç¬¬ä¸‰èŠ‚ ä¹”å¸ƒæ–¯ä¸å†¥æƒ³</h2><h3 id="ä¹”å¸ƒæ–¯çš„å†¥æƒ³è¿‡ç¨‹"><a href="#ä¹”å¸ƒæ–¯çš„å†¥æƒ³è¿‡ç¨‹" class="headerlink" title="ä¹”å¸ƒæ–¯çš„å†¥æƒ³è¿‡ç¨‹"></a>ä¹”å¸ƒæ–¯çš„å†¥æƒ³è¿‡ç¨‹</h3><p>é›†ä¸­æ³¨æ„åŠ›ï¼Œè®©æ€æƒ³å¹³é™</p><p>æ€æƒ³ä¸ä¼šè½»æ˜“å¹³é™ï¼Œéœ€è¦è€å¿ƒç­‰å¾…</p><p>å½“å¹³é™åˆ°æ¥ï¼Œç›´è§‰å°±ä¼šå˜å¾—çµæ•ï¼Œçœ‹åˆ°æ›´åŠ å¹¿é˜”çš„ä¸–ç•Œ</p><h3 id="ä¸“æ³¨å½“ä¸‹çš„å¥½å¤„"><a href="#ä¸“æ³¨å½“ä¸‹çš„å¥½å¤„" class="headerlink" title="ä¸“æ³¨å½“ä¸‹çš„å¥½å¤„"></a>ä¸“æ³¨å½“ä¸‹çš„å¥½å¤„</h3><p>è¿œç¦»æµ®èºï¼Œè¿›å…¥å¹³é™çš„å†…å¿ƒçŠ¶æ€<br>æ¿€æ´»ç›´è§‰ï¼Œè·å¾—æ›´åŠ çµæ•çš„æ„ŸçŸ¥<br>æ´å¯Ÿç»†èŠ‚ï¼Œé€šè¿‡ä¿¡æ¯å·®å†³å®šæˆè´¥</p><h3 id="å¿ƒæ€€æ„Ÿæ©"><a href="#å¿ƒæ€€æ„Ÿæ©" class="headerlink" title="å¿ƒæ€€æ„Ÿæ©"></a>å¿ƒæ€€æ„Ÿæ©</h3><p>æ¬²æœ›æŒç»­è†¨èƒ€ï¼Œä¸€å‘³ç´¢å–åªä¼šåœ¨æ‰“åˆ°ç›®æ ‡åè·å¾—çŸ­æš‚çš„å¹¸ç¦ï¼Œæ›´å¤šæ—¶é—´é™·å…¥äº†äº†æ±‚è€Œä¸å¾—çš„ç—›è‹¦å’Œç„¦è™‘å½“ä¸­ã€‚</p><p>æ„è¯†åˆ°å¹¶é‡è§†æˆ‘ä»¬å·²ç»æ‹¥æœ‰çš„ä¸€åˆ‡ï¼Œå†…å¿ƒçš„å……ç›ˆä¸çŸ¥è¶³ï¼ŒåŒæ ·ä¼šå¸¦æ¥å¹³é™å’Œå¹¸ç¦ã€‚</p><h2 id="ç¬¬å››èŠ‚-å¤ä¹ è¯¾"><a href="#ç¬¬å››èŠ‚-å¤ä¹ è¯¾" class="headerlink" title="ç¬¬å››èŠ‚ å¤ä¹ è¯¾"></a>ç¬¬å››èŠ‚ å¤ä¹ è¯¾</h2><ol><li><p>æ­£å¿µçš„åŸºæœ¬æ¦‚å¿µ</p></li><li><ol><li>å†¥æƒ³ç»ƒä¹ çš„ç‰¹ç‚¹</li></ol></li><li><ol start="2"><li>æ­£å¿µå‘¼å¸çš„è¦ç‚¹</li></ol></li><li><p>ä¸“æ³¨å½“ä¸‹çš„æ·±å¤„å«ä¹‰</p></li><li><ol><li>åˆ†å¿ƒèµ°ç¥çš„ä¸‰ä¸ªåŸå› </li></ol></li><li><ol start="2"><li>å†¥æƒ³æ˜¯ä¸€ç§ç”Ÿæ´»æ–¹å¼</li></ol></li><li><p>ä¹”å¸ƒæ–¯çš„å†¥æƒ³è¿‡ç¨‹</p></li><li><p>1 ä¸“æ³¨å½“ä¸‹çš„é‡è¦æ€§</p></li><li><p>2 ä¸ºä»€ä¹ˆè¦å¿ƒæ€€æ„Ÿæ©</p></li></ol><h2 id="ç¬¬äº”èŠ‚-æƒ…ç»ªè°ƒæ•´"><a href="#ç¬¬äº”èŠ‚-æƒ…ç»ªè°ƒæ•´" class="headerlink" title="ç¬¬äº”èŠ‚ æƒ…ç»ªè°ƒæ•´"></a>ç¬¬äº”èŠ‚ æƒ…ç»ªè°ƒæ•´</h2><h3 id="æƒ…ç»ªçš„ç‰¹ç‚¹"><a href="#æƒ…ç»ªçš„ç‰¹ç‚¹" class="headerlink" title="æƒ…ç»ªçš„ç‰¹ç‚¹"></a>æƒ…ç»ªçš„ç‰¹ç‚¹</h3><p>æƒ…ç»ªçš„äº§ç”Ÿä¸é€‚ä¸€è¹´è€Œå°±ï¼Œè€Œæ˜¯é€æ¸ç§¯ç´¯<br>æƒ…ç»ªçš„ç»´æŒä¾èµ–äºçœŸå®å­˜åœ¨çš„äº‹ç‰©<br>æƒ…ç»ªä¼šè‡ªå‘è¶‹äºå¹³ç¨³</p><h3 id="å¦‚ä½•è°ƒæ•´æƒ…ç»ª"><a href="#å¦‚ä½•è°ƒæ•´æƒ…ç»ª" class="headerlink" title="å¦‚ä½•è°ƒæ•´æƒ…ç»ª"></a>å¦‚ä½•è°ƒæ•´æƒ…ç»ª</h3><p>æ‰¾åˆ°å¼•å‘æƒ…ç»ªçš„åŸå› <br>ç”¨æ›´ç§¯æçš„è§†è§’çœ‹å¾…<br>è®©æ³¨æ„åŠ›ä¸æƒ…ç»ªéš”ç¦»</p><p>æŠŠæƒ…ç»ªå½“æˆæ— å…³çš„å¿µå¤´ï¼Œæ³¨æ„åŠ›é›†ä¸­åœ¨æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œå¯ä»¥å¤§å¤§é™ä½æƒ…ç»ªå¯¹ç”Ÿæ´»çš„å½±å“ï¼Œç­‰ç©ºé—²ä¸‹æ¥å†æ…¢æ…¢æ‰¾åŸå› </p><h3 id="å†¥æƒ³ç»ƒä¹ å¯¹æƒ…ç»ªè°ƒæ•´çš„å¸®åŠ©"><a href="#å†¥æƒ³ç»ƒä¹ å¯¹æƒ…ç»ªè°ƒæ•´çš„å¸®åŠ©" class="headerlink" title="å†¥æƒ³ç»ƒä¹ å¯¹æƒ…ç»ªè°ƒæ•´çš„å¸®åŠ©"></a>å†¥æƒ³ç»ƒä¹ å¯¹æƒ…ç»ªè°ƒæ•´çš„å¸®åŠ©</h3><p>é€šè¿‡çµæ•çš„æ„ŸçŸ¥ï¼Œç²¾ç¡®æ‰¾åˆ°æƒ…ç»ªæ³¢åŠ¨çš„åŸå› <br>å¼ºåŒ–å¯¹æ³¨æ„åŠ›çš„æ§åˆ¶<br>æœ‰æ•ˆçš„éš”ç¦»ä»¥é¿å…è´Ÿé¢æƒ…ç»ªçš„æ‰©å¤§</p><h2 id="ç¬¬å…­èŠ‚-å†¥æƒ³ä¸ç¦…"><a href="#ç¬¬å…­èŠ‚-å†¥æƒ³ä¸ç¦…" class="headerlink" title="ç¬¬å…­èŠ‚ å†¥æƒ³ä¸ç¦…"></a>ç¬¬å…­èŠ‚ å†¥æƒ³ä¸ç¦…</h2><h3 id="ä»€ä¹ˆæ˜¯ç¦…"><a href="#ä»€ä¹ˆæ˜¯ç¦…" class="headerlink" title="ä»€ä¹ˆæ˜¯ç¦…"></a>ä»€ä¹ˆæ˜¯ç¦…</h3><p>æ—©åœ¨å…ˆç§¦æ—¶ä»£ï¼Œä¸­å›½äººå°±æŒæ¡äº†é€šè¿‡é™åé”»ç‚¼æ€ç»´ã€ç”Ÿå‘æ™ºæ…§çš„æ–¹æ³•ï¼Œä½†æ²¡æœ‰å‘½å</p><p>ä½›æ•™ä¼ å…¥ä¸­å›½åï¼Œå°†è¿™ç§è®­ç»ƒç§°ä¸ºç¦…</p><p>ç¦…æ˜¯è¶…è¶Šå®—æ•™èŒƒå›´çš„é¡¿æ‚Ÿä¸åˆ›è§</p><h3 id="ç¦…ä¿®å¯¹å†¥æƒ³çš„å¸®åŠ©"><a href="#ç¦…ä¿®å¯¹å†¥æƒ³çš„å¸®åŠ©" class="headerlink" title="ç¦…ä¿®å¯¹å†¥æƒ³çš„å¸®åŠ©"></a>ç¦…ä¿®å¯¹å†¥æƒ³çš„å¸®åŠ©</h3><p>æå‡å†¥æƒ³ç»ƒä¹ çš„æ•ˆæœ<br>æ›´å¥½çš„å°†ä¸“æ³¨å½“ä¸‹çš„æ€åº¦èå…¥ç”Ÿæ´»<br>ä¸ºçœ‹æ¸…è‡ªæˆ‘å’Œæ”¹å˜ç”Ÿæ´»æ‰“ä¸‹æ€æƒ³åŸºç¡€</p><h3 id="ç¦…å¿ƒä¸åˆå¿ƒ"><a href="#ç¦…å¿ƒä¸åˆå¿ƒ" class="headerlink" title="ç¦…å¿ƒä¸åˆå¿ƒ"></a>ç¦…å¿ƒä¸åˆå¿ƒ</h3><p>ç¦…å¿ƒæ²¡æœ‰å«ä¹‰ï¼Œæ€€æœ‰ç¦…å¿ƒæ˜¯ä¸ºäº†å¯¹å†…å¿ƒä¸è‡ªèº«å­˜åœ¨äº§ç”ŸæƒŠå¥‡ï¼Œå¹¶é€šè¿‡å‘æ˜æœ¬å¿ƒå›åº”æƒŠå¥‡</p><p>åˆå¿ƒæ˜¯åˆå­¦è€…çš„å¿ƒï¼Œè¦éšæ—¶å‡†å¤‡å¥½å»æ¥å—ã€å»æ€€ç–‘ï¼Œå¯¹æ‰€æœ‰çš„å¯èƒ½æ€§æ•å¼€</p><h2 id="ç¬¬ä¸ƒèŠ‚-æŒæ§æ‚å¿µ"><a href="#ç¬¬ä¸ƒèŠ‚-æŒæ§æ‚å¿µ" class="headerlink" title="ç¬¬ä¸ƒèŠ‚ æŒæ§æ‚å¿µ"></a>ç¬¬ä¸ƒèŠ‚ æŒæ§æ‚å¿µ</h2><h3 id="å‘¼å¸çš„æ„ä¹‰"><a href="#å‘¼å¸çš„æ„ä¹‰" class="headerlink" title="å‘¼å¸çš„æ„ä¹‰"></a>å‘¼å¸çš„æ„ä¹‰</h3><p>æ¯ä¸ªäººéƒ½æ˜¯ä¸€æ‰‡æ•å¼€çš„é—¨<br>ä¸€å‘¼ä¸€å¸ç©¿é—¨è€Œè¿‡ï¼Œå°±ä¼šè§‰å¯Ÿåˆ°è‡ªæˆ‘<br>å‘¼å¸æ˜¯å†…å¿ƒä¸–ç•Œä¸å¤–éƒ¨ä¸–ç•Œçš„äº¤æ±‡å¤„</p><h3 id="å…³äºæŒæ§æ‚å¿µ"><a href="#å…³äºæŒæ§æ‚å¿µ" class="headerlink" title="å…³äºæŒæ§æ‚å¿µ"></a>å…³äºæŒæ§æ‚å¿µ</h3><p>æƒ³è¦æ¸…é™¤æ‚å¿µï¼Œæ˜¯å› ä¸ºæ‹…å¿ƒè¢«æ‚å¿µå¹²æ‰°å¿ƒç»ª</p><p>è¶Šæƒ³æ¸…é™¤æ‚å¿µï¼Œå°±ä¼šåœ¨æ‚å¿µä¸­è¶Šé™·è¶Šæ·±</p><p>æœ€å¥½çš„æŒæ§æ–¹å¼å°±æ˜¯ä¸æŒæ§ï¼Œâ€œæ— ä¸ºè€Œæ²»â€<br>è‡ªç”±æ¥å»çš„æ‚å¿µå¹¶ä¸ä¼šæ‰°ä¹±å¿ƒç»ª</p><p>çœŸæ­£çš„æ··ä¹±ä¹‹æºæ˜¯å¯¹æ‚å¿µçš„æŒæ§æ¬²å’Œä¼å›¾å¿ƒ</p><p>è‡ªç”±æ˜¯æ‚å¿µçš„è‡ªç”±ï¼Œè€Œä¸æ˜¯æ„è¯†çš„è‡ªç”±</p><h2 id="ç¬¬å…«èŠ‚-æœŸå¾…ä¸æ”¶è·"><a href="#ç¬¬å…«èŠ‚-æœŸå¾…ä¸æ”¶è·" class="headerlink" title="ç¬¬å…«èŠ‚ æœŸå¾…ä¸æ”¶è·"></a>ç¬¬å…«èŠ‚ æœŸå¾…ä¸æ”¶è·</h2><h3 id="æœŸæœ›ä¸æ”¶è·å¾€å¾€æœ‰è½å·®"><a href="#æœŸæœ›ä¸æ”¶è·å¾€å¾€æœ‰è½å·®" class="headerlink" title="æœŸæœ›ä¸æ”¶è·å¾€å¾€æœ‰è½å·®"></a>æœŸæœ›ä¸æ”¶è·å¾€å¾€æœ‰è½å·®</h3><p>åºå±±çƒŸé›¨æµ™æ±Ÿæ½®ï¼Œæœªè‡³åƒèˆ¬æ¨ä¸æ¶ˆã€‚<br>åˆ°å¾—è¿˜æ¥åˆ«æ— äº‹ï¼Œåºå±±çƒŸé›¨æµ™æ±Ÿæ½®ã€‚</p><p>æ›¾ç»çš„æœæ€æš®æƒ³ï¼ŒæˆçœŸæ—¶å¾€å¾€å˜æˆâ€ä¸è¿‡å¦‚æ­¤â€<br>å¦‚æœä¸èƒ½æ­£ç¡®å¯¹å¾…ï¼Œè¿™ç§è½å·®å°±ä¼šå‰Šå¼±æˆ‘ä»¬ç»ƒä¹ çš„ç§¯ææ€§ï¼Œè®©æˆ‘ä»¬æ— æ³•åšæŒå†¥æƒ³</p><h3 id="æ”¶è·ä¸å¦‚æœŸå¾…æ€ä¹ˆåŠ"><a href="#æ”¶è·ä¸å¦‚æœŸå¾…æ€ä¹ˆåŠ" class="headerlink" title="æ”¶è·ä¸å¦‚æœŸå¾…æ€ä¹ˆåŠ"></a>æ”¶è·ä¸å¦‚æœŸå¾…æ€ä¹ˆåŠ</h3><p>ä¸å¿˜åˆå¿ƒ: æ°¸è¿œåƒåˆå­¦è€…ä¸€æ ·è°¦è™šä¸”å¼€æ”¾</p><p>å›å¿†å°æ—¶å€™å¯¹é•¿é«˜çš„æ¸´æœ›</p><p>ä½›æ€§ä¸å¼€æ‚Ÿ</p><p>ä¸åšè¯„åˆ¤: åƒå¯¹å¾…æ‚å¿µä¸€æ ·ï¼Œå¿½è§†åŠŸåˆ©å¿ƒ</p><p>æ»´æ°´ç©¿çŸ³ï¼Œåšç§¯è–„å‘</p><p>è§å±±æ˜¯å±±ï¼Œè§æ°´æ˜¯æ°´<br>è§å±±ä¸æ˜¯å±±ï¼Œè§æ°´ä¸æ˜¯æ°´<br>è§å±±æ˜¯å±±ï¼Œè§æ°´æ˜¯æ°´</p><h2 id="ç¬¬ä¹èŠ‚-é¿å…å…´å¥‹"><a href="#ç¬¬ä¹èŠ‚-é¿å…å…´å¥‹" class="headerlink" title="ç¬¬ä¹èŠ‚ é¿å…å…´å¥‹"></a>ç¬¬ä¹èŠ‚ é¿å…å…´å¥‹</h2><h3 id="æ”¶è·è¶…å‡ºæœŸå¾…æœªå¿…æ˜¯ä»¶å¥½äº‹"><a href="#æ”¶è·è¶…å‡ºæœŸå¾…æœªå¿…æ˜¯ä»¶å¥½äº‹" class="headerlink" title="æ”¶è·è¶…å‡ºæœŸå¾…æœªå¿…æ˜¯ä»¶å¥½äº‹"></a>æ”¶è·è¶…å‡ºæœŸå¾…æœªå¿…æ˜¯ä»¶å¥½äº‹</h3><p>å› ä¸ºæˆ‘ä»¬ä¼šäº§ç”Ÿå…´å¥‹å’Œéª„å‚²</p><p>å¦‚æœä¸åˆ»æ„çš„æ’é™¤è¿™ä¸¤ç§æƒ…ç»ªï¼Œä¹‹åçš„å†¥æƒ³ç»ƒä¹ å°±ä¼šé€æ¸å‘é”™è¯¯çš„æ–¹å‘åç¦»</p><h3 id="ä¸ºä»€ä¹ˆè¦å°½é‡é¿å…å…´å¥‹"><a href="#ä¸ºä»€ä¹ˆè¦å°½é‡é¿å…å…´å¥‹" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å°½é‡é¿å…å…´å¥‹"></a>ä¸ºä»€ä¹ˆè¦å°½é‡é¿å…å…´å¥‹</h3><p>å…´å¥‹ä¼šè®©æƒ…ç»ªæ³¢åŠ¨</p><p>å¿ƒç»ªæ³¢åŠ¨æ˜¯æˆ‘ä»¬æŒä¹‹ä»¥æ’ç»ƒä¹ å†¥æƒ³çš„æœ€å¤§é˜»ç¢</p><p>å¯¹äºå†¥æƒ³æœ¬èº«çš„å…´è¶£ä¸æ˜¯çœŸæ­£çš„å…´è¶£ï¼Œå†¥æƒ³çš„ç›®çš„æ˜¯æ¿€å‘å¯¹è‡ªå·±æ—¥å¸¸ç”Ÿæ´»çš„å…´è¶£</p><h2 id="ç¬¬åèŠ‚-å†¥æƒ³çš„æ–¹å‘"><a href="#ç¬¬åèŠ‚-å†¥æƒ³çš„æ–¹å‘" class="headerlink" title="ç¬¬åèŠ‚ å†¥æƒ³çš„æ–¹å‘"></a>ç¬¬åèŠ‚ å†¥æƒ³çš„æ–¹å‘</h2><h3 id="ä»€ä¹ˆæ˜¯ä¿®è¡Œä¸­æœ€é‡è¦çš„äº‹"><a href="#ä»€ä¹ˆæ˜¯ä¿®è¡Œä¸­æœ€é‡è¦çš„äº‹" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¿®è¡Œä¸­æœ€é‡è¦çš„äº‹"></a>ä»€ä¹ˆæ˜¯ä¿®è¡Œä¸­æœ€é‡è¦çš„äº‹</h3><p>æœ€é‡è¦çš„ä¸æ˜¯åŠªåŠ›ï¼Œè€Œæ˜¯æ‰¾åˆ°ä¸€ä¸ªæ­£ç¡®çš„æ–¹å‘</p><p>å¦‚æœä½ çš„åŠªåŠ›æŒ‡å‘ä¸æ­£ç¡®çš„æ–¹å‘ï¼Œä»˜å‡ºçš„åŠªåŠ›å¾€å¾€å°±æ˜¯ç™½å¿™ä¸€åœº</p><h3 id="å†¥æƒ³çš„æ­£ç¡®æ–¹å‘æ˜¯ä»€ä¹ˆ"><a href="#å†¥æƒ³çš„æ­£ç¡®æ–¹å‘æ˜¯ä»€ä¹ˆ" class="headerlink" title="å†¥æƒ³çš„æ­£ç¡®æ–¹å‘æ˜¯ä»€ä¹ˆ"></a>å†¥æƒ³çš„æ­£ç¡®æ–¹å‘æ˜¯ä»€ä¹ˆ</h3><p>é€šå¸¸åœ¨åšä¸€ä»¶äº‹æƒ…æ—¶ï¼Œäººä»¬æ˜¯æœ‰ç›®çš„çš„ï¼Œæƒ³è¦æœ‰æ‰€æˆå°±ï¼Œå¾—åˆ°æŸç§ç»“æœ</p><p>å†¥æƒ³çš„æ­£ç¡®æ–¹å‘æ˜¯â€æ— ç›®çš„â€, å¯ä»¥æ˜ç¡®äº‹æƒ…çš„ç›®çš„ï¼Œä½†ä¸æ‰§è‘—äºç›®çš„ã€‚</p><h3 id="ä¸ºä»€ä¹ˆä¸è¦éª„å‚²"><a href="#ä¸ºä»€ä¹ˆä¸è¦éª„å‚²" class="headerlink" title="ä¸ºä»€ä¹ˆä¸è¦éª„å‚²"></a>ä¸ºä»€ä¹ˆä¸è¦éª„å‚²</h3><p>äººçš„æƒ¯æ€§æ€ç»´æ˜¯æœ‰ç›®çš„ï¼Œæƒ³è¦åšåˆ°æ— ç›®çš„ï¼Œå°±éœ€è¦æ”¹å˜æ€ç»´æ–¹å¼ï¼Œæ¯å½“å› è¾¾åˆ°ç›®çš„è€Œäº§ç”Ÿæƒ…ç»ªæ³¢åŠ¨æ—¶ï¼ŒåŠæ—¶å¯Ÿè§‰å¹¶äºˆä»¥æ‰“æ–­ã€‚</p><p>åœ¨æ‰€æœ‰çš„æƒ…ç»ªä¸­ï¼Œç›®çš„æ€§æœ€å¼ºçš„å°±æ˜¯éª„å‚²</p><p>æˆ‘ä»¬ä¸ä¼šæ— ç¼˜æ— æ•…çš„éª„å‚²ï¼Œä¸€å®šæ˜¯å› ä¸ºåšåˆ°æ¥äº†æŸäº›äº‹æƒ…ï¼Œè¾¾åˆ°äº†æŸäº›ç›®çš„ï¼Œè¯æ˜äº†è‡ªæˆ‘ï¼Œæ‰ä¼šäº§ç”Ÿéª„å‚²ã€‚</p><p>ç”¨æ·¡æ·¡çš„å–œæ‚¦å–ä»£éª„å‚²</p><h2 id="ç¬¬åä¸€èŠ‚-ä¸è¦æƒ§æ€•å¤±å»"><a href="#ç¬¬åä¸€èŠ‚-ä¸è¦æƒ§æ€•å¤±å»" class="headerlink" title="ç¬¬åä¸€èŠ‚ ä¸è¦æƒ§æ€•å¤±å»"></a>ç¬¬åä¸€èŠ‚ ä¸è¦æƒ§æ€•å¤±å»</h2><p>è¿™ä¸–ä¸Šçš„ä¸€åˆ‡éƒ½æ—©å·²å­˜åœ¨ï¼Œå¹¶å°†ç»§ç»­å­˜åœ¨ä¸‹å»ã€‚</p><p>æˆ‘ä»¬ä»æœªçœŸæ­£æ„ä¹‰çš„æ‹¥æœ‰ä»€ä¹ˆï¼Œæ‰€æœ‰ä¹Ÿå°±ä¸å­˜åœ¨çœŸæ­£æ„ä¹‰ä¸Šçš„å¤±å»ã€‚</p><p>æ‰€æœ‰çš„å¾—ä¸å¤±ï¼Œåªæ˜¯å…¶ä»–å­˜åœ¨ä¸æˆ‘ä»¬ç‹­çª„çš„è§†çº¿æ°å·§å‘ç”Ÿäº†äº¤é”™ï¼Œçœ‹åˆ°æ—¶è¢«æˆ‘ä»¬è¯¯ä»¥ä¸ºæ‹¥æœ‰ï¼Œçœ‹ä¸åˆ°æ—¶åˆè¢«æˆ‘ä»¬è¯¯ä»¥ä¸ºå¤±å»ã€‚</p><p><strong>å¦‚æœæˆ‘ä»¬ä¸å»çœ‹ï¼Œå°±ä¸ä¼šæœ‰ä»»ä½•çš„äº‹ç‰©ä»æˆ‘ä»¬çš„ç›®å…‰ä¸­æ¶ˆå¤±.</strong></p><h2 id="ç¬¬åäºŒèŠ‚-å¤ä¹ è¯¾"><a href="#ç¬¬åäºŒèŠ‚-å¤ä¹ è¯¾" class="headerlink" title="ç¬¬åäºŒèŠ‚ å¤ä¹ è¯¾"></a>ç¬¬åäºŒèŠ‚ å¤ä¹ è¯¾</h2><p>ç¬¬å…«èŠ‚å›é¡¾<br>ç¬¬ä¹èŠ‚å›é¡¾<br>ç¬¬åèŠ‚å›é¡¾<br>ç¬¬åä¸€èŠ‚å›é¡¾</p><h2 id="ç¬¬åä¸‰èŠ‚-å…³äºæ²Ÿé€š"><a href="#ç¬¬åä¸‰èŠ‚-å…³äºæ²Ÿé€š" class="headerlink" title="ç¬¬åä¸‰èŠ‚ å…³äºæ²Ÿé€š"></a>ç¬¬åä¸‰èŠ‚ å…³äºæ²Ÿé€š</h2><h3 id="å…³äºæ²Ÿé€š"><a href="#å…³äºæ²Ÿé€š" class="headerlink" title="å…³äºæ²Ÿé€š"></a>å…³äºæ²Ÿé€š</h3><p>æ²Ÿé€šæ˜¯æ¢ç´¢è‡ªæˆ‘çš„å‡†å¤‡å·¥ä½œ</p><p>æ²Ÿé€šåŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†: è¡¨è¾¾è‡ªæˆ‘å’Œå€¾å¬ä»–äºº</p><p>è‰¯å¥½çš„è¡¨è¾¾å’Œå€¾å¬æ˜¯ç›¸è¾…ç›¸æˆçš„</p><h3 id="å¦‚ä½•è¿›è¡Œè‰¯å¥½çš„æ²Ÿé€š"><a href="#å¦‚ä½•è¿›è¡Œè‰¯å¥½çš„æ²Ÿé€š" class="headerlink" title="å¦‚ä½•è¿›è¡Œè‰¯å¥½çš„æ²Ÿé€š"></a>å¦‚ä½•è¿›è¡Œè‰¯å¥½çš„æ²Ÿé€š</h3><p>è¡¨è¾¾è‡ªæˆ‘æ—¶éœ€è¦åšåˆ°å¦è¯šï¼Œæƒ…ç»ªç¨³å®šå’Œæœ‰äº²å’ŒåŠ›</p><p>å€¾å¬ä»–äººæ—¶è¦æ³¨æ„æŠŠæ‰€æœ‰çš„æˆè§å’Œä¸»è§‚æ„è§æ‘†åœ¨ä¸€è¾¹ï¼Œä¸è¦è¿›è¡Œå¤ªå¤šå–„ä¸æ¶ã€å¯¹ä¸é”™çš„ä»·å€¼åˆ¤æ–­</p><h2 id="ç¬¬åå››èŠ‚-äº²å­æ²Ÿé€š"><a href="#ç¬¬åå››èŠ‚-äº²å­æ²Ÿé€š" class="headerlink" title="ç¬¬åå››èŠ‚ äº²å­æ²Ÿé€š"></a>ç¬¬åå››èŠ‚ äº²å­æ²Ÿé€š</h2><h3 id="çˆ¶æ¯ä¸å­å¥³é—´çš„æ²Ÿé€š"><a href="#çˆ¶æ¯ä¸å­å¥³é—´çš„æ²Ÿé€š" class="headerlink" title="çˆ¶æ¯ä¸å­å¥³é—´çš„æ²Ÿé€š"></a>çˆ¶æ¯ä¸å­å¥³é—´çš„æ²Ÿé€š</h3><p>æœ€å¸¸è§çš„æ²Ÿé€šé—®é¢˜ï¼Œå¾€å¾€å‘ç”Ÿåœ¨æœ€äº²å¯†çš„å…³ç³»ä¹‹é—´</p><p>çˆ¶æ¯å¯¹å­å¥³åªæœ‰å–„æ„ï¼Œä½†å§¿æ€å´æ€»æ˜¯é«˜é«˜åœ¨ä¸Š</p><p>å¯¹äºçˆ¶æ¯çš„å®å˜±ï¼Œå­å¥³å¤©ç„¶æŠ±æœ‰æŠµè§¦æƒ…ç»ª</p><p>ç”±äºæ˜¯æœ€äº²å¯†çš„äººï¼Œçˆ¶æ¯å’Œå­å¥³é—´çš„æ²Ÿé€šå¾€å¾€æ˜¯ä¸åŠ æ©é¥°çš„ï¼Œå› è€Œä¼šæœ‰ä¸°å¯Œçš„ä¸ªäººæƒ…æ„Ÿæµ¸é€åœ¨è¡¨è¾¾ä¸­</p><h3 id="æœ€çœŸå®çš„çˆ±æ˜¯æ²Ÿé€šçš„åŸºç¡€"><a href="#æœ€çœŸå®çš„çˆ±æ˜¯æ²Ÿé€šçš„åŸºç¡€" class="headerlink" title="æœ€çœŸå®çš„çˆ±æ˜¯æ²Ÿé€šçš„åŸºç¡€"></a>æœ€çœŸå®çš„çˆ±æ˜¯æ²Ÿé€šçš„åŸºç¡€</h3><p>è‰¯å¥½çš„æ²Ÿé€šéœ€è¦ä¿æŒæœ€è‡ªç„¶çš„çŠ¶æ€ï¼Œè¡¨è¾¾è‡ªå·±æœ€çœŸå®çš„æ„Ÿå—</p><p>çˆ¶æ¯å’Œå­å¥³ä¹‹é—´ï¼Œæ— è®ºè¿›è¡Œæ€æ ·çš„æ²Ÿé€šï¼Œåº•å±‚çš„æ„Ÿå—ä¸€å®šæ˜¯å½¼æ­¤çš„çˆ±ï¼Œå› æ­¤ä¸è¦åå•¬å¯¹çˆ±çš„è¡¨è¾¾</p><p>å“ªæ€•ä½ æš‚æ—¶è¿˜å­¦ä¸ä¼šæ²Ÿé€šæŠ€å·§ï¼Œä¸æ“…é•¿å€¾å¬ï¼Œåªè¦èƒ½å¤ŸæŠŠå†…å¿ƒæœ€çœŸå®çš„æ„Ÿå—åŠæ—¶çš„ä¼ è¾¾ï¼ŒåŒæ ·å¯ä»¥æ”¹å–„æ²Ÿé€š</p><h2 id="ç¬¬åäº”èŠ‚-åŠªåŠ›çš„æ„ä¹‰"><a href="#ç¬¬åäº”èŠ‚-åŠªåŠ›çš„æ„ä¹‰" class="headerlink" title="ç¬¬åäº”èŠ‚ åŠªåŠ›çš„æ„ä¹‰"></a>ç¬¬åäº”èŠ‚ åŠªåŠ›çš„æ„ä¹‰</h2><p>â€œé£åœè§èŠ±è½ï¼Œé¸Ÿé¸£è§‰å±±é™ã€‚â€<br>åœ¨äº‹æƒ…çš„æ ·è²Œå‘ç”Ÿæ”¹å˜ä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸æ„è¯†ä¸åˆ°å®ƒçœŸæ­£çš„æ ·å­ã€‚<br>å†¥æƒ³ç»ƒä¹ ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¸“æ³¨äºå‘¼å¸çš„æ—¶å€™ï¼Œä½ çš„å¿ƒä¼šå®Œå…¨é™ä¸‹æ¥ï¼Œæ„Ÿå—ä¸åˆ°ä»»ä½•ä¸œè¥¿ï¼Œä½ åªæ˜¯åç€ã€‚ä½†ä½ ä»ç»ƒä¹ ä¸­å¾—åˆ°çš„é™ï¼Œå´ä¼šåœ¨æ¥ä¸‹æ¥çš„æ—¥å¸¸ç”Ÿæ´»ä¸­å‘æŒ¥æ¿€åŠ±ä½œç”¨ã€‚</p><p>åŠªåŠ›çš„æ„ä¹‰ï¼Œåœ¨äºåŠªåŠ›æœ¬èº«</p><p>å¾ˆå¤šäººæŠŠç”Ÿæ´»å½“æˆå†œæ°‘ç§åœ°çš„è¿‡ç¨‹ï¼Œå…ˆæ’­ç§ï¼Œå†è€•ä½œï¼Œç»è¿‡æ¼«é•¿çš„ç­‰å¾…å’Œä¸æ‡ˆçš„åŠªåŠ›ï¼Œæœ€åè·å¾—ä¸°æ”¶ï¼Œè¿™å…¶å®æ˜¯å¯¹ç”Ÿæ´»çš„ä¸€ç§è¯¯è§£ã€‚</p><p>å¦‚æœä½ æŠŠè‡ªå·±çš„åŠªåŠ›å®šä¹‰æˆç§åœ°ï¼ŒæŠŠæ”¶è·å®šä¹‰æˆä¸°æ”¶ï¼Œé‚£ç”Ÿæ´»å°±åªæœ‰æ¼«é•¿çš„ç­‰å¾…å’Œæ”¶è·æ—¶çŸ­æš‚çš„å¿«ä¹ï¼Œä½ ä¼šé”™è¿‡æ¯ä¸€å¤©åŠ³åŠ¨æ—¶ä¸è‡ªç„¶çš„äº²åˆ‡ç›¸å¤„ï¼Œä¸“æ³¨è€•ä½œæ—¶å†…å¿ƒçš„å¹³é™ï¼Œå¯¹è‡ªå·±çš„è§‰å¯Ÿï¼ŒæŠ€èƒ½çš„ç†Ÿç»ƒä¸æå‡ï¼Œä»¥åŠç”Ÿæ´»å……å®è€Œå¸¦æ¥çš„æ»¡è¶³æ„Ÿã€‚</p><h2 id="ç¬¬åå…­èŠ‚-ä¹ æƒ¯çš„åŠ›é‡"><a href="#ç¬¬åå…­èŠ‚-ä¹ æƒ¯çš„åŠ›é‡" class="headerlink" title="ç¬¬åå…­èŠ‚ ä¹ æƒ¯çš„åŠ›é‡"></a>ç¬¬åå…­èŠ‚ ä¹ æƒ¯çš„åŠ›é‡</h2><p>å¥‡è‘©çš„å°ä¹ æƒ¯æ‰æ˜¯æˆåŠŸç§˜è¯€ï¼Ÿ<br>ç»è¿‡ç§‘å­¦å®¶çš„ç ”ç©¶å‘ç°ï¼Œå¤šæ¬¡æ‰§è¡Œä¸€å¥—ç›¸åŒçš„åŠ¨ä½œå’Œå‡†å¤‡ç¨‹åºï¼Œç¡®å®å¯ä»¥ä½¿å¤§è„‘å’Œèº«ä½“è‡ªæˆ‘è°ƒæ•´ï¼Œè¿›å…¥æ‰§è¡Œå·¥ä½œçš„æœ€ä½³çŠ¶æ€ã€‚</p><p>ä¹ æƒ¯æœ¬èº«å°±æ˜¯åŠ›é‡</p><p>å¦‚æœä½ èƒ½å¤Ÿç¡®å®šä¸€ä¸ªå›ºå®šçš„æ—¶é—´æ®µï¼ŒåšæŒæ¯å¤©è¿›è¡Œååˆ†é’Ÿçš„å‘¼å¸ç»ƒä¹ ï¼Œå³ä¾¿æ˜¯å†¥æƒ³æœ¬èº«çš„æ€æƒ³è¿˜æ²¡æœ‰å……åˆ†æŒæ¡ï¼Œå•å•è¿™ä¸ªä¹ æƒ¯æœ¬èº«å°±ä¼šä¸ºä½ å¸¦æ¥å¤§é‡çš„å¸®åŠ©ã€‚</p><h2 id="ç¬¬åä¸ƒèŠ‚-ç²¾ç¥çš„ä¸‰ä¸ªéƒ¨åˆ†"><a href="#ç¬¬åä¸ƒèŠ‚-ç²¾ç¥çš„ä¸‰ä¸ªéƒ¨åˆ†" class="headerlink" title="ç¬¬åä¸ƒèŠ‚ ç²¾ç¥çš„ä¸‰ä¸ªéƒ¨åˆ†"></a>ç¬¬åä¸ƒèŠ‚ ç²¾ç¥çš„ä¸‰ä¸ªéƒ¨åˆ†</h2><h3 id="â€œè‡ªæˆ‘â€çš„æ¦‚å¿µæ˜¯éš¾ä»¥æ‰æ‘¸çš„"><a href="#â€œè‡ªæˆ‘â€çš„æ¦‚å¿µæ˜¯éš¾ä»¥æ‰æ‘¸çš„" class="headerlink" title="â€œè‡ªæˆ‘â€çš„æ¦‚å¿µæ˜¯éš¾ä»¥æ‰æ‘¸çš„"></a>â€œè‡ªæˆ‘â€çš„æ¦‚å¿µæ˜¯éš¾ä»¥æ‰æ‘¸çš„</h3><p>æ¯ä¸ªäººéƒ½æœ‰å¾ˆå¤šé¢ï¼Œæœ‰åè„¾æ°”çš„æ—¶å€™ï¼Œæœ‰æ¸©æŸ”çš„æ—¶å€™ï¼Œæœ‰ç‰¹åˆ«å¼€å¿ƒçš„æ—¶å€™ï¼Œä¹Ÿæœ‰æ— ç¼˜æ— æ•…æ„Ÿåˆ°æŠ‘éƒå’Œæ²®ä¸§çš„æ—¶å€™ã€‚</p><p>çœŸæ­£çš„è‡ªæˆ‘ï¼Œåˆ°åº•æ˜¯å†…å¿ƒçš„å¹½æš—å¤„å‘å‡ºå£°éŸ³çš„é‚£ä¸ªäººï¼Œè¿˜æ˜¯å¯¹ç”Ÿæ´»å……æ»¡çƒ­çˆ±çš„é‚£ä¸ªäººå‘¢ï¼Ÿå¦‚æœæ¯ä¸€é¢éƒ½æ˜¯çœŸå®çš„è‡ªæˆ‘ï¼Œè¿™äº›çŸ›ç›¾çš„å­˜åœ¨åˆå¦‚ä½•èåˆåœ¨ä¸€èµ·å‘¢ï¼Ÿ</p><h3 id="å¼—æ´›ä¼Šå¾·å°†äººçš„ç²¾ç¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šæœ¬æˆ‘ï¼Œè‡ªæˆ‘å’Œè¶…æˆ‘"><a href="#å¼—æ´›ä¼Šå¾·å°†äººçš„ç²¾ç¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šæœ¬æˆ‘ï¼Œè‡ªæˆ‘å’Œè¶…æˆ‘" class="headerlink" title="å¼—æ´›ä¼Šå¾·å°†äººçš„ç²¾ç¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šæœ¬æˆ‘ï¼Œè‡ªæˆ‘å’Œè¶…æˆ‘"></a>å¼—æ´›ä¼Šå¾·å°†äººçš„ç²¾ç¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šæœ¬æˆ‘ï¼Œè‡ªæˆ‘å’Œè¶…æˆ‘</h3><p>æœ¬æˆ‘å³åŸæˆ‘ï¼Œæ˜¯æŒ‡åŸå§‹çš„è‡ªå·±ï¼ŒåŒ…å«ç”Ÿå­˜æ‰€éœ€çš„åŸºæœ¬æ¬²æœ›ã€å†²åŠ¨å’Œç”Ÿå‘½åŠ›ã€‚æœ¬æˆ‘æ˜¯ä¸€åˆ‡å¿ƒç†èƒ½é‡ä¹‹æºï¼Œæœ¬æˆ‘æŒ‰å¿«ä¹åŸåˆ™è¡Œäº‹ï¼Œå®ƒä¸ç†ä¼šç¤¾ä¼šé“å¾·ã€å¤–åœ¨çš„è¡Œä¸ºè§„èŒƒï¼Œå®ƒå”¯ä¸€çš„è¦æ±‚æ˜¯è·å¾—å¿«ä¹ï¼Œé¿å…ç—›è‹¦ï¼Œæœ¬æˆ‘çš„ç›®æ ‡éå¸¸ç®€å•ï¼Œå°±æ˜¯è¿½æ±‚ä¸ªä½“çš„èˆ’é€‚ï¼Œç”Ÿå­˜åŠç¹æ®–ã€‚</p><h2 id="ç¬¬åå…«èŠ‚-ä½•ä¸ºè¶…æˆ‘"><a href="#ç¬¬åå…«èŠ‚-ä½•ä¸ºè¶…æˆ‘" class="headerlink" title="ç¬¬åå…«èŠ‚ ä½•ä¸ºè¶…æˆ‘"></a>ç¬¬åå…«èŠ‚ ä½•ä¸ºè¶…æˆ‘</h2><p>ä»€ä¹ˆæ˜¯è¶…æˆ‘ï¼Ÿ<br>è¶…æˆ‘æ˜¯äººæ ¼ç³»ç»Ÿä¸­ä¸“ç®¡é“å¾·çš„å¸æ³•éƒ¨é—¨ã€‚å®ƒç”±äººçš„é“å¾·å¾‹æ³•å’Œè‡ªæˆ‘ç†æƒ³ç­‰æ„æˆï¼Œå¯ç®€å•åŒºåˆ†ä¸ºâ€œç†æƒ³â€ã€â€œè‰¯å¿ƒâ€ä¸¤ä¸ªå±‚æ¬¡ã€‚å…¶ä¸­â€œç†æƒ³â€ä¸­æ—¢åŒ…æ‹¬è‡ªæˆ‘ç†æƒ³ï¼ŒåˆåŒ…æ‹¬ç¤¾ä¼šç†æƒ³ã€‚</p><p>è‡ªå·±ç†æƒ³ä¸­æƒ³è¦æˆä¸ºçš„äººï¼Œä»¥åŠç¤¾ä¼šä¸»æµä»·å€¼è§‚æ‰€è®¤å¯çš„è‹±é›„äººç‰©ã€é“å¾·æ¥·æ¨¡çš„å½¢è±¡ï¼Œä¼šæ±‡æ€»èåˆæˆä¸ºä¸€å¥—ä¸ªä½“ä¸ºè‡ªå·±æ‰€è®¾çš„è¡Œä¸ºä»·å€¼æ ‡å‡†ï¼Œè€Œè¶…æˆ‘å°±æ˜¯è´Ÿè´£ç›‘ç£æˆ‘ä»¬æŒ‰ç…§è¿™å¥—æ ‡å‡†è¡Œäº‹çš„äººæ ¼ã€‚</p><p>è¶…æˆ‘ä¼šä¸åœçš„åŠå¯¼æˆ‘ä»¬è¡¨ç°çš„æ›´åŠ æˆç†Ÿï¼Œæ›´åŠ å–„è‰¯ï¼Œè¿½æ±‚å“è¶Šã€‚å½“æœ¬æˆ‘äº§ç”Ÿè¿åé“å¾·æˆ–ç¤¾ä¼šç§©åºçš„æ¬²æœ›å’Œå†²åŠ¨æ—¶ï¼Œè¶…æˆ‘å°±ä¼šè®©è¿™äº›å†²åŠ¨ç”Ÿæˆç½ªæ¶æ„Ÿå’Œå†…ç–šï¼Œä»è€ŒæŠ‘åˆ¶æœ¬æˆ‘ã€‚</p><h2 id="ç¬¬åä¹èŠ‚-è‡ªæˆ‘çš„ä½œç”¨"><a href="#ç¬¬åä¹èŠ‚-è‡ªæˆ‘çš„ä½œç”¨" class="headerlink" title="ç¬¬åä¹èŠ‚ è‡ªæˆ‘çš„ä½œç”¨"></a>ç¬¬åä¹èŠ‚ è‡ªæˆ‘çš„ä½œç”¨</h2><p>è‡ªæˆ‘å¤„äºç¤¾ä¼šç”Ÿæ´»çš„ç°å®è¦æ±‚ã€è¶…æˆ‘çš„é“å¾·è¿½æ±‚ä¸æœ¬æˆ‘çš„åˆ©ç›Šè¿½æ±‚ä¹‹é—´ï¼ŒæŒ‰ç…§ç°å®åŸåˆ™åè°ƒçŸ›ç›¾ï¼Œå°½å¯èƒ½åœ°å¯»æ‰¾æƒå®œä¹‹è®¡ã€‚</p><p>é€šä¿—ä¸€ç‚¹æ¥è¯´ï¼Œæ— è®ºæ˜¯æœ¬æˆ‘è¿˜æ˜¯è¶…æˆ‘ï¼Œéƒ½åªæ˜¯æä¾›å»ºè®®ï¼Œè‡ªæˆ‘æ‰æ˜¯ä¸ªä½“æœ€ç»ˆè¡Œä¸ºè¡¨ç°çš„å†³ç­–è€…ï¼Œæ—¶è€Œç®¡ç†æœ¬æˆ‘ï¼Œæ—¶è€Œæœä»è¶…æˆ‘ï¼Œæ—¢è¦å°½é‡æ»¡è¶³æœ¬æˆ‘çš„æ¬²æœ›ï¼Œåˆè¦é¡¾åŠåˆ°è¶…æˆ‘çš„é“å¾·å‡†åˆ™ã€‚</p><h2 id="ç¬¬äºŒåèŠ‚-è‡ªæˆ‘çš„æœ¬è´¨"><a href="#ç¬¬äºŒåèŠ‚-è‡ªæˆ‘çš„æœ¬è´¨" class="headerlink" title="ç¬¬äºŒåèŠ‚ è‡ªæˆ‘çš„æœ¬è´¨"></a>ç¬¬äºŒåèŠ‚ è‡ªæˆ‘çš„æœ¬è´¨</h2><h3 id="è‡ªæˆ‘ï¼Œå°±åƒæ°´ä¸€æ ·"><a href="#è‡ªæˆ‘ï¼Œå°±åƒæ°´ä¸€æ ·" class="headerlink" title="è‡ªæˆ‘ï¼Œå°±åƒæ°´ä¸€æ ·"></a>è‡ªæˆ‘ï¼Œå°±åƒæ°´ä¸€æ ·</h3><p>æŠŠè‡ªæˆ‘æ¯”åšæ˜¯æ°´ã€‚æ°´å€’åœ¨ä¸åŒçš„æ¯å­é‡Œé¢ï¼Œå®ƒå°±æ˜¯ä¸åŒçš„å½¢çŠ¶ã€‚è€Œæˆ‘ä»¬çš„ç”Ÿæ´»å’Œæ€è€ƒï¼Œå°±æ˜¯æŠŠæ°´ä»ä¸€ä¸ªæ¯å­è½¬ç§»åˆ°å¦ä¸€ä¸ªæ¯å­ã€‚ä½ èƒ½å¤Ÿæ„ŸçŸ¥åˆ°çš„ï¼Œå‘ˆç°å‡ºæ¥çš„ï¼Œè‡ªå·±æ¯æ—¶æ¯åˆ»è¡¨ç°å‡ºæ¥çš„è¡Œä¸ºï¼Œå°±æ˜¯æ°´åœ¨æ¯å­ä¸­å½¢æˆå½¢çŠ¶çš„è¿‡ç¨‹ã€‚</p><h3 id="è‡ªæˆ‘æ˜¯ä»€ä¹ˆ"><a href="#è‡ªæˆ‘æ˜¯ä»€ä¹ˆ" class="headerlink" title="è‡ªæˆ‘æ˜¯ä»€ä¹ˆ"></a>è‡ªæˆ‘æ˜¯ä»€ä¹ˆ</h3><p>å¦‚æœæ°´çš„å¤§éƒ¨åˆ†æ—¶é—´ï¼Œå°±æ˜¯ä»ä¸€ä¸ªæ¯å­è½¬ç§»åˆ°å¦ä¸€ä¸ªæ¯å­ï¼Œé‚£æ°´å°±æ˜¯ä¸€å›¢ä¸åœçš„è½¬ç§»ï¼Œä¸åœæ”¹å˜å½¢çŠ¶çš„ä¸œè¥¿ã€‚<br>è‡ªæˆ‘ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¸åŒçš„è§’åº¦ï¼Œæœ‰ä¸åŒçš„è§£é‡Šï¼Œä½†å­˜åœ¨ä¸€ç§æœ€è´´åˆ‡çš„è¡¨è¾¾ï¼šå¦‚æœæˆ‘ä»¬ä¸€åˆ‡çš„æƒ³æ³•éƒ½æ˜¯å›´ç»•ç”Ÿæ´»å±•å¼€çš„ï¼Œé‚£è‡ªæˆ‘å°±æ˜¯ä¸åœçš„ä½“éªŒã€æ€è€ƒï¼Œæ´»åœ¨å½“ä¸‹çš„é‚£ä¸ªæ„è¯†ã€‚<br>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼Œå†¥æƒ³å¹¶ä¸é¼“åŠ±å¤§å®¶å»å®šä¹‰è‡ªæˆ‘ï¼Œè€Œæ˜¯é¼“åŠ±å¤§å®¶å‘ç°å’Œæ¢ç´¢è‡ªæˆ‘ã€‚åªæœ‰ä¸æ–­çš„ä½“éªŒã€æ€è€ƒã€æ„Ÿå—ç”Ÿæ´»ï¼Œè‡ªæˆ‘æ‰å¾—ä»¥å±•å¼€ï¼Œå‘ˆç°å‡ºä¸åŒçš„æ ·å­ã€‚</p><h2 id="ç¬¬äºŒåä¸€èŠ‚-æ¢¦çš„æ¥æº-1"><a href="#ç¬¬äºŒåä¸€èŠ‚-æ¢¦çš„æ¥æº-1" class="headerlink" title="ç¬¬äºŒåä¸€èŠ‚ æ¢¦çš„æ¥æº(1)"></a>ç¬¬äºŒåä¸€èŠ‚ æ¢¦çš„æ¥æº(1)</h2><h3 id="æ¢¦çš„æ¥æº-â€”â€”-è®°å¿†"><a href="#æ¢¦çš„æ¥æº-â€”â€”-è®°å¿†" class="headerlink" title="æ¢¦çš„æ¥æº â€”â€” è®°å¿†"></a>æ¢¦çš„æ¥æº â€”â€” è®°å¿†</h3><p>äººä»¬æ‰€ç»å†ã€ä½“ä¼šè¿‡çš„ä¸œè¥¿ï¼Œæ˜¯æ„æˆæ¢¦çš„å…¨éƒ¨åŸææ–™ã€‚è®°å¿†ä¸æ¢¦å¢ƒçš„è”ç³»å¹¶ä¸æ˜¯ç®€å•çš„é‡å¤å›æ’­ï¼Œå¾€å¾€ä¼šé€šè¿‡å¤¸å¤§å’Œæ‹¼æ¥çš„æ–¹å¼å‘ˆç°ï¼ŒæŠŠè®°å¿†ä¸­çš„ç‰‡æ®µå˜æˆä¸€ä¸ªæ–°çš„åœºæ™¯æˆ–æ•…äº‹ã€‚</p><h3 id="å®¹æ˜“å‡ºç°åœ¨æ¢¦å¢ƒä¸­çš„è®°å¿†-â€”â€”-é—å¿˜è®°å¿†"><a href="#å®¹æ˜“å‡ºç°åœ¨æ¢¦å¢ƒä¸­çš„è®°å¿†-â€”â€”-é—å¿˜è®°å¿†" class="headerlink" title="å®¹æ˜“å‡ºç°åœ¨æ¢¦å¢ƒä¸­çš„è®°å¿† â€”â€” é—å¿˜è®°å¿†"></a>å®¹æ˜“å‡ºç°åœ¨æ¢¦å¢ƒä¸­çš„è®°å¿† â€”â€” é—å¿˜è®°å¿†</h3><p>é—å¿˜è®°å¿†ï¼ŒæŒ‡çš„å°±æ˜¯äººåœ¨æ¢¦é‡Œå¾€å¾€èƒ½å¤ŸçŸ¥é“å¹¶è®°èµ·ä¸€äº›æ¸…é†’çŠ¶æ€æ—¶æ‰€ä¸æ™“æˆ–è€…å¿˜å´çš„äº‹ã€‚è¿™äº›äº‹åœ¨æ¢¦å¢ƒä¸­å‡ºç°æ—¶ï¼Œä¸ä¼šè¢«å½“æˆæ˜¯è‡ªèº«å·²æœ‰çš„çŸ¥è¯†æˆ–ç»å†ï¼Œè¿™è®©æˆ‘ä»¬æ„Ÿåˆ°ä¸€å¤´é›¾æ°´ï¼Œä»¥ä¸ºè¿™æ˜¯æ¢¦ä¸­è‡ªå·±æƒ³è±¡æˆ–è€…åˆ›é€ å‡ºæ¥çš„äº‹ç‰©ã€‚</p><h2 id="ç¬¬äºŒåäºŒèŠ‚-æ¢¦çš„æ¥æº-2"><a href="#ç¬¬äºŒåäºŒèŠ‚-æ¢¦çš„æ¥æº-2" class="headerlink" title="ç¬¬äºŒåäºŒèŠ‚ æ¢¦çš„æ¥æº(2)"></a>ç¬¬äºŒåäºŒèŠ‚ æ¢¦çš„æ¥æº(2)</h2><h3 id="ç«¥å¹´è®°å¿†"><a href="#ç«¥å¹´è®°å¿†" class="headerlink" title="ç«¥å¹´è®°å¿†"></a>ç«¥å¹´è®°å¿†</h3><p>æ¢¦æœ‰ä¸€ç§å¥‡å¦™çš„åŠ›é‡ï¼Œå³ä¾¿æ˜¯å­©ç«¥æ—¶ä»£é‡Œï¼Œé‚£äº›ä¹…è¿œçš„å·²ç»è¢«æˆ‘ä»¬çš„è®°å¿†é—å¤±åœ¨é˜´æš—è§’è½é‡Œçš„ä¸œè¥¿ï¼Œæ¢¦ä¹Ÿèƒ½å¤ŸæŠŠå®ƒä»¬å¬å›ï¼Œé‡ç°åœ¨æˆ‘ä»¬çš„è„‘æµ·ä¸­ã€‚</p><p>æ¢¦ä¸ä½†èƒ½å¤Ÿå°†ä¸€äº›æ·±è—çš„ç«¥å¹´ç»å†æŒ–æ˜å‡ºæ¥ï¼Œè¿˜èƒ½ä¿æŒé‚£äº›ç‰¹å®šçš„äººç‰©ã€äº‹ä»¶å’Œåœºæ™¯åˆ†æ¯«ä¸å˜ï¼Œä¿æŒå®ƒä»¬æœ€é²œæ´»æœ€ç”ŸåŠ¨çš„åŸå§‹çŠ¶æ€ã€‚</p><h3 id="é‡Œç¨‹ç¢‘äº‹ä»¶çš„å°ç»†èŠ‚"><a href="#é‡Œç¨‹ç¢‘äº‹ä»¶çš„å°ç»†èŠ‚" class="headerlink" title="é‡Œç¨‹ç¢‘äº‹ä»¶çš„å°ç»†èŠ‚"></a>é‡Œç¨‹ç¢‘äº‹ä»¶çš„å°ç»†èŠ‚</h3><p>åœ¨æ¢¦å¢ƒä¸­ï¼Œæˆä¸ºç„¦ç‚¹çš„å¾€å¾€æ˜¯é‡è¦äº‹ä»¶é‡Œæ—ææœ«èŠ‚ã€ç”šè‡³æ˜¯æœ€ç©ºæ´æ— ç‰©çš„ä¸œè¥¿ã€‚é‚£äº›è¢«æˆ‘ä»¬çƒ­åˆ‡æ¸´æœ›ã€å€¾æ³¨äº†æµ“åšå…´è¶£çš„äº‹ç‰©åœ¨æ¢¦ä¸­çš„æˆä»½å¹¶ä¸å¤šï¼Œç›¸åï¼Œä¸€æ¬¡å¶ç„¶çš„é‚‚é€…ã€ä¸å¤ªé‡è¦çš„è§é—»æˆ–æ˜¯é›¶é›¶ç¢ç¢çš„ä¸€ç‚¹äº‹ç‰©ï¼Œå¾€å¾€æˆä¸ºæ¢¦ä¸­å…ƒç´ çš„çœŸæ­£æ¥æºã€‚</p><h2 id="ç¬¬äºŒåä¸‰èŠ‚-æ¢¦çš„æ¥æº-3"><a href="#ç¬¬äºŒåä¸‰èŠ‚-æ¢¦çš„æ¥æº-3" class="headerlink" title="ç¬¬äºŒåä¸‰èŠ‚ æ¢¦çš„æ¥æº(3)"></a>ç¬¬äºŒåä¸‰èŠ‚ æ¢¦çš„æ¥æº(3)</h2><h3 id="æ¢¦æ˜¯ä¸€ç§åº”æ¿€ååº”"><a href="#æ¢¦æ˜¯ä¸€ç§åº”æ¿€ååº”" class="headerlink" title="æ¢¦æ˜¯ä¸€ç§åº”æ¿€ååº”"></a>æ¢¦æ˜¯ä¸€ç§åº”æ¿€ååº”</h3><p>ä¸€å®šæ˜¯æˆ‘ä»¬å…ˆå—åˆ°äº†æŸç§åˆºæ¿€ï¼Œæ‰ä¼šæ ¹æ®è¿™ç§åˆºæ¿€äº§ç”Ÿç›¸å¯¹åº”çš„æ¢¦å¢ƒã€‚ä¸¾ä¸ªä¾‹å­çš„è¯ï¼Œæˆ‘ä»¬çš„æ¢¦å¢ƒå°±åƒæ˜¯ä¸€ä¸ªé¤å…çš„å¨å¸ˆåšé¥­ï¼šè®°å¿†æ˜¯å„ç§å„æ ·çš„é£Ÿæï¼Œè€Œå—åˆ°çš„åˆºæ¿€å°±æ˜¯å®¢äººç‚¹é¤æ—¶ä¸‹çš„è®¢å•ï¼Œå¨å¸ˆå…ˆæ”¶åˆ°è®¢å•ï¼Œå†ä¼šå†³å®šé€‰å–å“ªäº›é£Ÿæï¼Œè¿›è¡Œæ€æ ·çš„åŠ å·¥ã€‚</p><h3 id="å¤–éƒ¨çš„çŸ¥è§‰åˆºæ¿€"><a href="#å¤–éƒ¨çš„çŸ¥è§‰åˆºæ¿€" class="headerlink" title="å¤–éƒ¨çš„çŸ¥è§‰åˆºæ¿€"></a>å¤–éƒ¨çš„çŸ¥è§‰åˆºæ¿€</h3><p>æ‰€è°“çŸ¥è§‰åˆºæ¿€ï¼Œå°±æ˜¯é€šè¿‡å¤–ç•Œå¯¹èº«ä½“æ„Ÿå®˜å½¢æˆçš„åˆºæ¿€ã€‚æ¯”å¦‚ä¸€é“åˆºçœ¼çš„å¼ºå…‰ã€å¼ºçƒˆçš„å™ªéŸ³ã€æµ“çƒˆçš„æ°”å‘³ï¼Œæˆ–è€…èº«ä½“æŸä¸ªéƒ¨ä½éœ²å‡ºè¢«å­æ—¶æ„Ÿå—åˆ°å¯’å†·ã€‚è¿™ç§åˆºæ¿€èƒ½å¤Ÿéå¸¸æ˜ç¡®çš„å¼•å‘å¯¹åº”çš„æ¢¦å¢ƒï¼šå½“çª—å¤–å…¬é¸¡æŠ¥æ™“ï¼Œæ¢¦ä¸­ä¹Ÿè®¸å°±ä¼šå¬åˆ°æŸä¸ªäººåœ¨æƒŠå£°å°–å«ã€‚</p><h2 id="ç¬¬äºŒåå››èŠ‚-æ¢¦çš„æ¥æº-4"><a href="#ç¬¬äºŒåå››èŠ‚-æ¢¦çš„æ¥æº-4" class="headerlink" title="ç¬¬äºŒåå››èŠ‚ æ¢¦çš„æ¥æº(4)"></a>ç¬¬äºŒåå››èŠ‚ æ¢¦çš„æ¥æº(4)</h2><h3 id="å¹»æƒ³åˆºæ¿€"><a href="#å¹»æƒ³åˆºæ¿€" class="headerlink" title="å¹»æƒ³åˆºæ¿€"></a>å¹»æƒ³åˆºæ¿€</h3><p>å¹»æƒ³åˆºæ¿€ï¼ŒæŒ‡çš„å°±æ˜¯æˆ‘ä»¬èººåœ¨åºŠä¸Šï¼Œé—­ä¸Šçœ¼åè„‘æµ·ä¸­æµ®ç°çš„å„ç§ç”»é¢ã€‚å¦‚æœè¿™äº›è¢«æˆ‘ä»¬æƒ³è±¡å‡ºæ¥çš„ç”»é¢ä¸€ç›´ç»´æŒåˆ°å…¥ç¡çš„å‰ä¸€åˆ»ï¼Œå®ƒä»¬å°±å¾ˆæœ‰å¯èƒ½ç»§ç»­ä¿æŒè‡ªå·±çš„æ ·å­ï¼Œä¸æ¢¦å¢ƒç›¸ç»“åˆã€‚</p><h3 id="èº«ä½“å†…éƒ¨çš„åˆºæ¿€"><a href="#èº«ä½“å†…éƒ¨çš„åˆºæ¿€" class="headerlink" title="èº«ä½“å†…éƒ¨çš„åˆºæ¿€"></a>èº«ä½“å†…éƒ¨çš„åˆºæ¿€</h3><p>å½“æŸäº›å™¨å®˜å¤„äºå…´å¥‹çŠ¶æ€æˆ–ç”Ÿç—…æ—¶ï¼Œå°±ä¼šä¼ é€’å‡ºç±»ä¼¼ç–¼ç—›çš„ä¿¡å·ã€‚ä¸æ¸…é†’æ—¶çš„çŠ¶æ€ç›¸æ¯”ï¼Œç¡çœ æ—¶çš„å¿ƒçµå¯¹èº¯ä½“æ‰€å‘ç”Ÿçš„å˜åŒ–æœ‰ç€æ›´ä¸ºæ·±å…¥è€Œå¹¿æ³›çš„æ„ŸçŸ¥ï¼Œæ¥çº³èº«ä½“å„éƒ¨ä½çš„ä¿¡å·ä»¥åŠèº«ä½“å˜åŒ–äº§ç”Ÿçš„æ„Ÿå—ï¼Œå¹¶é€šè¿‡å½±å“æ¢¦å¢ƒçš„æ–¹å¼å‘ˆç°å‡ºæ¥ã€‚</p><h3 id="æ·±åº¦æ€è€ƒåˆºæ¿€"><a href="#æ·±åº¦æ€è€ƒåˆºæ¿€" class="headerlink" title="æ·±åº¦æ€è€ƒåˆºæ¿€"></a>æ·±åº¦æ€è€ƒåˆºæ¿€</h3><p>æ—¥æœ‰æ‰€æ€ï¼Œå¤œæœ‰æ‰€æ¢¦ã€‚å¦‚æœæˆ‘ä»¬åœ¨ç”Ÿæ´»ã€å­¦ä¹ å’Œå·¥ä½œä¸­ï¼Œå¯¹æŸäº›äº‹ç‰©çš„æ€è€ƒä¸“æ³¨æ·±åˆ»ï¼Œé‚£ä¹ˆè¿™ç§æ€è€ƒå°±å¾ˆæœ‰å¯èƒ½æ¸—é€åˆ°æ½œæ„è¯†å½“ä¸­ï¼Œå³ä¾¿æˆ‘ä»¬å…¥ç¡ï¼Œæ€è€ƒä¹Ÿä¸ä¼šåœæ­¢ã€‚è¿™ç§æ½œæ„è¯†çš„æ€è€ƒä¸ä»…ä¼šä½“ç°åœ¨æ¢¦ä¸­ï¼Œç”šè‡³ä¼šæ¯”æ¸…é†’æ—¶æ›´æœ‰åˆ›é€ åŠ›ï¼Œè§£å†³é‚£äº›æ²¡èƒ½è§£å†³çš„é—®é¢˜ã€‚</p><h2 id="ç¬¬äºŒåäº”èŠ‚-å…³äºæ¢¦çš„è®°å¿†"><a href="#ç¬¬äºŒåäº”èŠ‚-å…³äºæ¢¦çš„è®°å¿†" class="headerlink" title="ç¬¬äºŒåäº”èŠ‚ å…³äºæ¢¦çš„è®°å¿†"></a>ç¬¬äºŒåäº”èŠ‚ å…³äºæ¢¦çš„è®°å¿†</h2><h3 id="å†¥æƒ³å¯¹äºè§£å†³éš¾é¢˜çš„ç›Šå¤„"><a href="#å†¥æƒ³å¯¹äºè§£å†³éš¾é¢˜çš„ç›Šå¤„" class="headerlink" title="å†¥æƒ³å¯¹äºè§£å†³éš¾é¢˜çš„ç›Šå¤„"></a>å†¥æƒ³å¯¹äºè§£å†³éš¾é¢˜çš„ç›Šå¤„</h3><p>å†¥æƒ³ç»ƒä¹ èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ä¸“æ³¨å½“ä¸‹ï¼Œäº§ç”Ÿæ›´å¤šçš„æ·±åº¦æ€è€ƒã€‚æ·±åº¦æ€è€ƒåˆºæ¿€å¯ä»¥å°†æˆ‘ä»¬çš„æ€ç»´å»¶ç»­åˆ°æ¢¦å¢ƒï¼Œæ¯”æ¸…é†’æ—¶åˆ»æ›´æœ‰åˆ›é€ åŠ›ï¼Œä»è€Œè§£å†³æ£˜æ‰‹çš„éš¾é¢˜ã€‚</p><h3 id="å…³äºæ¢¦çš„è®°å¿†"><a href="#å…³äºæ¢¦çš„è®°å¿†" class="headerlink" title="å…³äºæ¢¦çš„è®°å¿†"></a>å…³äºæ¢¦çš„è®°å¿†</h3><p>é€šè¿‡å›å¿†ï¼Œæ¢¦å¯ä»¥è¢«é‡æ–°è®°èµ·æ¥ã€‚å¯æˆ‘ä»¬æ€»ä¼šæœ‰è¿™æ ·çš„æ„Ÿè§‰ï¼šå¤œé‡Œçš„æ¢¦åŒ…ç½—ä¸‡è±¡ã€å¤šå§¿å¤šå½©ï¼Œæ¯”æˆ‘ä»¬èƒ½å›æƒ³èµ·æ¥çš„éƒ¨åˆ†è¦ä¸°å¯Œå¾—å¤šã€‚è€Œä¸”ï¼Œéšç€æ—¶é—´çš„æµé€ï¼Œæˆ‘ä»¬å…³äºæ¢¦çš„è®°å¿†è¿˜ä¼šé€æ¸æ·¡å»</p><p>å…³äºæ¢¦çš„è®°å¿†ï¼Œæœ‰äº›æ·±åˆ»ã€æœ‰äº›æ¨¡ç³Šã€æœ‰äº›åˆ™è¢«å®Œå…¨é—å¿˜ï¼Œä½†æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®è®¤ä¸€ç‚¹ï¼šç›¸æ¯”èµ·æ¸…é†’æ—¶åˆ»çš„è®°å¿†ï¼Œå…³äºæ¢¦çš„è®°å¿†æˆ‘ä»¬æœ‰ç€æ›´åŠ å¼ºçƒˆçš„é—å¿˜è¶‹åŠ¿ï¼Œè€Œè¿™ç§é—å¿˜çš„è¶‹åŠ¿æ— æ³•è¢«æˆ‘ä»¬è‡ªå·±æ‰€æŒæ§ï¼Œæˆ‘ä»¬æ— æ³•é€‰æ‹©è‡ªå·±å¸Œæœ›è®°ä½çš„æ¢¦å’Œä¸æƒ³è®°ä½çš„æ¢¦ã€‚</p><h2 id="ç¬¬äºŒåå…­èŠ‚-å¯¹æ¢¦çš„é—å¿˜"><a href="#ç¬¬äºŒåå…­èŠ‚-å¯¹æ¢¦çš„é—å¿˜" class="headerlink" title="ç¬¬äºŒåå…­èŠ‚ å¯¹æ¢¦çš„é—å¿˜"></a>ç¬¬äºŒåå…­èŠ‚ å¯¹æ¢¦çš„é—å¿˜</h2><p>å“ªäº›åŸå› å¯¼è‡´äº†æˆ‘ä»¬å¯¹æ¢¦å¢ƒçš„é—å¿˜ï¼Ÿ<br>ç¬¬ä¸€ç‚¹ï¼šåœ¨åŒä¸€æ—¶é—´å†…ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè§‚å¯Ÿå’Œæ¥æ”¶ä¿¡æ¯çš„æ•°é‡æ˜¯éå¸¸æœ‰é™çš„ã€‚</p><p>ä½ å¯ä»¥æŠŠæ¢¦å¢ƒç†è§£ä¸ºå±å¹•ä¸Šçš„ä¸€å¹…å›¾åƒï¼Œé†’æ¥çš„ä¸€ç¬é—´ï¼Œå±å¹•ä¼šåœ¨æˆ‘ä»¬çœ¼å‰é—ªè¿‡ï¼Œç„¶åç¬é—´é»‘å±ã€‚ç”±äºç¬¬ä¸€æ—¶é—´æˆ‘ä»¬çš„è§†è§’åªèƒ½é›†ä¸­äºå›¾åƒä¸Šçš„æŸä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè®°ä½çš„æ¢¦å¢ƒä¹Ÿåªæœ‰ä¸€éƒ¨åˆ†ã€‚</p><p>ç¬¬äºŒç‚¹ï¼šå¤§è„‘è®°å¿†äº‹ç‰©æ˜¯éœ€è¦é‡å¤å·©å›ºçš„ï¼Œè€Œå¤§éƒ¨åˆ†çš„æ¢¦å¢ƒéƒ½æ˜¯ç‹¬ä¸€æ— äºŒï¼Œéš¾ä»¥é‡æ¸©çš„ä½“éªŒã€‚</p><p>ç¬¬ä¸‰ç‚¹ï¼šå¤§è„‘ä¸æ“…é•¿è®°å¿†æ²¡æœ‰è”ç³»çš„å†…å®¹ï¼Œè€Œå¤§å¤šæ•°æ¢¦ä¸ä¼šè¡¨ç°çš„äº•äº•æœ‰æ¡ï¼Œå¾€å¾€æ˜¯å¤©é©¬è¡Œç©ºã€‚</p><h2 id="ç¬¬äºŒåä¸ƒèŠ‚-æ¢¦å¢ƒä¸­çš„æ€ç»´ç‰¹å¾"><a href="#ç¬¬äºŒåä¸ƒèŠ‚-æ¢¦å¢ƒä¸­çš„æ€ç»´ç‰¹å¾" class="headerlink" title="ç¬¬äºŒåä¸ƒèŠ‚ æ¢¦å¢ƒä¸­çš„æ€ç»´ç‰¹å¾"></a>ç¬¬äºŒåä¸ƒèŠ‚ æ¢¦å¢ƒä¸­çš„æ€ç»´ç‰¹å¾</h2><p>æ¢¦å¢ƒä¸­çš„æ€ç»´ç‰¹å¾<br>ç¬¬ä¸€ä¸ªç‰¹å¾ï¼ŒæŒ‡çš„æ˜¯æ¢¦å¢ƒå…·æœ‰ä¸€ç§æ¸…é†’æ—¶å€™ä¸å…·å¤‡çš„èƒ½åŠ›ï¼Œé‚£å°±æ˜¯æŠŠå…¨éƒ¨çš„æƒ³æ³•éƒ½ç”¨å¹»æƒ³å‡ºæ¥çš„ç”»é¢å’Œåœºæ™¯å±•ç°ã€‚æˆ–è€…è¯´ï¼Œç”¨å¹»è§‰å–ä»£äº†æ€ç»´æ´»åŠ¨ã€‚</p><p>åœ¨æ¢¦å¢ƒå½“ä¸­ï¼Œæ‰€æœ‰çš„è§‚å¿µéƒ½ä¼šè½¬å˜ä¸ºå¹»è§‰ï¼Œç”¨ç±»ä¼¼äºæˆå‰§åŒ–çš„æ–¹å¼å‘ˆç°å‡ºæ¥ï¼Œæˆ‘ä»¬ä¸æ˜¯å¯¼æ¼”å’Œè¯„è®ºå®¶ï¼Œè€Œæ˜¯æ¼”å‘˜å’Œè§‚ä¼—ã€‚</p><p>ç¬¬äºŒä¸ªç‰¹å¾ï¼Œå°±æ˜¯æ¢¦å¢ƒä¸­æˆ‘ä»¬ä¸ä¼šå¸¦æœ‰ä»»ä½•æˆè§ã€‚ä¸è®ºæ˜¯å¤šä¹ˆè’è°¬çš„ï¼ŒçœŸå®ä¸–ç•Œä¸­ç»æ— å¯èƒ½å‘ç”Ÿçš„äº‹æƒ…ï¼Œéƒ½æœ‰å¯èƒ½åœ¨æ¢¦ä¸­å‡ºç°ï¼Œå¹¶ä¸”è¢«æˆ‘ä»¬æ³°ç„¶è‡ªè‹¥çš„æ¥å—ã€‚</p><h2 id="ç¬¬äºŒåå…«èŠ‚-æ¢¦çš„æ„ä¹‰-1"><a href="#ç¬¬äºŒåå…«èŠ‚-æ¢¦çš„æ„ä¹‰-1" class="headerlink" title="ç¬¬äºŒåå…«èŠ‚ æ¢¦çš„æ„ä¹‰(1)"></a>ç¬¬äºŒåå…«èŠ‚ æ¢¦çš„æ„ä¹‰(1)</h2><p>æ¢¦å­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ<br>åœ¨ç”Ÿæ´»ä¸­ï¼Œè‡ªæˆ‘ä¼šå‚è€ƒè¶…æˆ‘å’Œæœ¬æˆ‘çš„æ„Ÿå—ï¼Œä»è€Œä½œå‡ºå†³å®šã€‚è¿™æ„å‘³ç€åªè¦æˆ‘ä»¬ä¿æŒæ¸…é†’ï¼Œé“å¾·å’Œæ¬²æœ›å°±æ— æ—¶ä¸åˆ»å½±å“ç€è‡ªæˆ‘ã€‚å°†éšè”½çš„æœ¬æ€§æ­ç¤ºåœ¨æˆ‘ä»¬é¢å‰å°±æ˜¯æ¢¦å­˜åœ¨çš„æœ€å¤§æ„ä¹‰ã€‚</p><p>è¿™ç§æœ¬æ€§å¹¶éæˆ‘ä»¬å½“ä¸‹çš„çœŸå®é¢ç›®ï¼Œè€Œæ˜¯è®©æˆ‘ä»¬çœ‹åˆ°åœ¨ä¸€ç§åˆ«æ ·çš„ç”Ÿå­˜æ–¹å¼ä¸‹ï¼Œæˆ‘ä»¬æœ‰å¯èƒ½æˆä¸ºçš„æ ·å­ã€‚</p><h2 id="ç¬¬äºŒåä¹èŠ‚-æ¢¦çš„æ„ä¹‰-2"><a href="#ç¬¬äºŒåä¹èŠ‚-æ¢¦çš„æ„ä¹‰-2" class="headerlink" title="ç¬¬äºŒåä¹èŠ‚ æ¢¦çš„æ„ä¹‰(2)"></a>ç¬¬äºŒåä¹èŠ‚ æ¢¦çš„æ„ä¹‰(2)</h2><h3 id="çªç ´æ€§è¿›æ­¥"><a href="#çªç ´æ€§è¿›æ­¥" class="headerlink" title="çªç ´æ€§è¿›æ­¥"></a>çªç ´æ€§è¿›æ­¥</h3><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿›æ­¥çš„è¿‡ç¨‹éƒ½æ˜¯éå¸¸å±€é™çš„ï¼Œå› ä¸ºæˆ‘ä»¬è‡ªå·±å¿ƒé‡Œæœ‰ä¸€æ†ç§¤ï¼Œä¼šå…ˆåˆ¤æ–­ä»€ä¹ˆæ˜¯å¥½çš„ï¼Œä»€ä¹ˆæ˜¯å¯¹çš„ï¼Œä»€ä¹ˆæ˜¯æœ‰é“å¾·çš„ï¼Œä»€ä¹ˆæ˜¯è®©æˆ‘ä»¬å¼€å¿ƒçš„ã€‚æ¢å¥è¯è¯´ï¼Œæœ¬æˆ‘å’Œè¶…æˆ‘ä¼šæŒ‡å¼•æˆ‘ä»¬è¿›æ­¥çš„æ–¹å‘ï¼Œä½†åŒæ—¶ä¹Ÿé™åˆ¶æˆ‘ä»¬åªèƒ½å‘ä¸€ä¸ªæ–¹å‘å‰è¿›ã€‚æ¢¦èƒ½å¤Ÿå°†äººæœ€çœŸå®çš„æœ¬æ€§å±•ç°å‡ºæ¥ï¼Œè®©æˆ‘ä»¬çª¥æ¢åˆ°è‡ªå·±å†…å¿ƒæœ€ç§å¯†çš„ä¸œè¥¿ï¼Œä¹Ÿè®©æˆ‘ä»¬å¾—ä»¥ç»•å¼€æœ¬æˆ‘å’Œè¶…æˆ‘çš„å±€é™ï¼Œå®ç°çªç ´æ€§çš„è¿›æ­¥ã€‚</p><h3 id="æ‹“å±•è§†é‡"><a href="#æ‹“å±•è§†é‡" class="headerlink" title="æ‹“å±•è§†é‡"></a>æ‹“å±•è§†é‡</h3><p>å½“äººåœ¨æ¢¦ä¸­å®ç°äº†è‡ªç„¶çŠ¶æ€çš„å›å½’ï¼Œå°½æƒ…å±•ç°ç€è‡ªæˆ‘çš„æœ¬èƒ½ã€‚éšç€å¿ƒçµé€æ¸æ‘†è„±äº†å·²çŸ¥è§‚å¿µçš„æŸç¼šï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿä»è¿™ä¸ªä¸–ç•Œè‡ªç„¶çœŸå®çš„ä¸€é¢è·å–æ›´å¤šçš„å¯å‘ã€‚åœ¨å¯¹äº‹ç‰©çš„ä¸€åˆ‡å¤„ç†ä¸Šï¼Œæ¢¦çš„æœ¬è´¨åæ˜ å‡ºäº†æˆ‘ä»¬è‡ªèº«æ›´çœŸå®çš„ä¸€é¢ï¼Œè¿™ä¸€é¢çš„ä¸°å¯Œç¨‹åº¦è¶…å‡ºäº†æˆ‘ä»¬åœ¨æ¸…é†’ç”Ÿæ´»ä¸­é€šè¿‡è§‚å¯Ÿã€æ€è€ƒå’Œå­¦ä¹ äº†è§£åˆ°çš„å…¨éƒ¨ã€‚æ¢¦å¢ƒé€šè¿‡çœŸå®çš„åŠ›é‡ï¼Œè®©æˆ‘ä»¬çœ‹åˆ°æ›´å¹¿é˜”çš„ä¸–ç•Œã€‚</p><h2 id="ç¬¬ä¸‰åèŠ‚-å¤ä¹ è¯¾"><a href="#ç¬¬ä¸‰åèŠ‚-å¤ä¹ è¯¾" class="headerlink" title="ç¬¬ä¸‰åèŠ‚ å¤ä¹ è¯¾"></a>ç¬¬ä¸‰åèŠ‚ å¤ä¹ è¯¾</h2><h3 id="æ¢¦çš„æ¥æº"><a href="#æ¢¦çš„æ¥æº" class="headerlink" title="æ¢¦çš„æ¥æº"></a>æ¢¦çš„æ¥æº</h3><p>äººä»¬æ‰€ç»å†ã€ä½“ä¼šè¿‡çš„ä¸œè¥¿ï¼Œæ˜¯æ„æˆæ¢¦çš„åŸææ–™ã€‚æ¢¦å¢ƒä¸ä¼šè®©è®°å¿†é‡å¤ä¸Šæ¼”ï¼Œä½†å¾€å¾€ä¼šé€šè¿‡å¤¸å¤§å’Œæ‹¼æ¥çš„æ–¹å¼å‘ˆç°ï¼ŒæŠŠè®°å¿†ä¸­çš„ç‰‡æ®µå˜æˆä¸€ä¸ªæ–°çš„åœºæ™¯æˆ–æ•…äº‹ã€‚æ‰€æœ‰è®°å¿†éƒ½å¯èƒ½å‡ºç°åœ¨æ¢¦å¢ƒä¸­ï¼Œç›¸å¯¹è€Œè¨€ï¼Œæœ‰ä¸‰ç±»è®°å¿†å‡ºç°çš„æ¬¡æ•°æœ€å¤šï¼šé—å¿˜è®°å¿†ã€ç«¥å¹´è®°å¿†ã€å’Œæˆ‘ä»¬ç»å†è¿‡çš„é‡è¦äº‹ä»¶ä¸­ä¸èµ·çœ¼çš„å°ç»†èŠ‚ã€‚</p><h3 id="å‚¬ç”Ÿæ¢¦å¢ƒçš„åˆºæ¿€"><a href="#å‚¬ç”Ÿæ¢¦å¢ƒçš„åˆºæ¿€" class="headerlink" title="å‚¬ç”Ÿæ¢¦å¢ƒçš„åˆºæ¿€"></a>å‚¬ç”Ÿæ¢¦å¢ƒçš„åˆºæ¿€</h3><p>å¤–ç•Œå¯¹æ„Ÿå®˜å½¢æˆçš„åˆºæ¿€ã€æˆ‘ä»¬èººåœ¨åºŠä¸Šï¼Œé—­ä¸Šçœ¼åè„‘æµ·ä¸­æµ®ç°çš„å„ç§ç”»é¢ã€èº«ä½“å™¨å®˜ä¼ é€’å‡ºçš„ä¿¡å·ã€æ¸…é†’æ—¶å€™çš„æ·±åº¦æ€è€ƒï¼Œéƒ½ä¼šå¼•å‘å¯¹åº”çš„æ¢¦å¢ƒ</p><h3 id="ä¸ºä»€ä¹ˆä¼šé—å¿˜æ¢¦å¢ƒ"><a href="#ä¸ºä»€ä¹ˆä¼šé—å¿˜æ¢¦å¢ƒ" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šé—å¿˜æ¢¦å¢ƒ"></a>ä¸ºä»€ä¹ˆä¼šé—å¿˜æ¢¦å¢ƒ</h3><p>1ã€  åœ¨åŒä¸€æ—¶é—´å†…ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè§‚å¯Ÿå’Œæ¥æ”¶ä¿¡æ¯çš„æ•°é‡æ˜¯éå¸¸æœ‰é™çš„ï¼Œè€Œå…³äºæ¢¦çš„è®°å¿†æ˜¯ç¬é—´çš„å¤§é‡ä¿¡æ¯ã€‚<br>2ã€  å¤§è„‘è®°å¿†äº‹ç‰©æ˜¯éœ€è¦é‡å¤å·©å›ºçš„ï¼Œè€Œå¤§éƒ¨åˆ†çš„æ¢¦å¢ƒéƒ½æ˜¯ç‹¬ä¸€æ— äºŒï¼Œéš¾ä»¥é‡æ¸©çš„ä½“éªŒã€‚<br>3ã€  å¤§è„‘ä¸æ“…é•¿è®°å¿†æ²¡æœ‰è”ç³»çš„å†…å®¹ï¼Œè€Œå¤§å¤šæ•°æ¢¦ä¸ä¼šè¡¨ç°çš„äº•äº•æœ‰æ¡ï¼Œå¾€å¾€æ˜¯å¤©é©¬è¡Œç©ºã€‚</p><h3 id="æ¢¦å¢ƒçš„æ€ç»´ç‰¹å¾"><a href="#æ¢¦å¢ƒçš„æ€ç»´ç‰¹å¾" class="headerlink" title="æ¢¦å¢ƒçš„æ€ç»´ç‰¹å¾"></a>æ¢¦å¢ƒçš„æ€ç»´ç‰¹å¾</h3><p>æ¢¦å¢ƒèƒ½å¤ŸæŠŠå…¨éƒ¨çš„æƒ³æ³•éƒ½ç”¨å¹»æƒ³å‡ºæ¥çš„ç”»é¢å’Œåœºæ™¯å±•ç°ï¼Œè€Œä¸”ä¸ä¼šå¸¦æœ‰ä»»ä½•æˆè§ã€‚ä¸è®ºæ˜¯å¤šä¹ˆè’è°¬çš„ï¼ŒçœŸå®ä¸–ç•Œä¸­ç»æ— å¯èƒ½å‘ç”Ÿçš„äº‹æƒ…ï¼Œéƒ½æœ‰å¯èƒ½åœ¨æ¢¦ä¸­å‡ºç°ï¼Œå¹¶ä¸”è¢«æˆ‘ä»¬æ³°ç„¶è‡ªè‹¥çš„æ¥å—ã€‚æ­£å› å¦‚æ­¤ï¼Œæ¢¦å¢ƒæ‰ä¼šå°†éšè”½çš„æœ¬æ€§æ­ç¤ºåœ¨æˆ‘ä»¬é¢å‰ï¼Œè®©æˆ‘ä»¬çª¥æ¢åˆ°è‡ªå·±å†…å¿ƒæœ€ç§å¯†çš„ä¸œè¥¿ï¼Œä¹Ÿè®©æˆ‘ä»¬å¾—ä»¥ç»•å¼€æœ¬æˆ‘å’Œè¶…æˆ‘çš„å±€é™ï¼Œå®ç°çªç ´æ€§çš„è¿›æ­¥ã€‚é€šè¿‡çœŸå®çš„åŠ›é‡ï¼Œè®©æˆ‘ä»¬çœ‹åˆ°æ›´å¹¿é˜”çš„ä¸–ç•Œã€‚</p><h2 id="ç¬¬ä¸‰åä¸€èŠ‚-äººçš„éœ€æ±‚ï¼ˆ1ï¼‰"><a href="#ç¬¬ä¸‰åä¸€èŠ‚-äººçš„éœ€æ±‚ï¼ˆ1ï¼‰" class="headerlink" title="ç¬¬ä¸‰åä¸€èŠ‚ äººçš„éœ€æ±‚ï¼ˆ1ï¼‰"></a>ç¬¬ä¸‰åä¸€èŠ‚ äººçš„éœ€æ±‚ï¼ˆ1ï¼‰</h2><h3 id="ä½•ä¸ºæ¬²æœ›"><a href="#ä½•ä¸ºæ¬²æœ›" class="headerlink" title="ä½•ä¸ºæ¬²æœ›"></a>ä½•ä¸ºæ¬²æœ›</h3><p>å‡†ç¡®æ¥è¯´ï¼Œæ¬²æœ›å°±æ˜¯ç”±äººçš„æœ¬æ€§äº§ç”Ÿçš„ï¼Œæƒ³è¾¾åˆ°æŸç§ç›®çš„çš„éœ€æ±‚ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡é©¬æ–¯æ´›çš„éœ€æ±‚å±‚æ¬¡ç†è®ºæ¥æ‹†åˆ†æ¬²æœ›ã€‚</p><h3 id="ç”Ÿç†éœ€æ±‚"><a href="#ç”Ÿç†éœ€æ±‚" class="headerlink" title="ç”Ÿç†éœ€æ±‚"></a>ç”Ÿç†éœ€æ±‚</h3><p>ç”Ÿç†éœ€æ±‚æ˜¯äººä»¬æœ€åŸå§‹ã€æœ€åŸºæœ¬çš„éœ€è¦ã€‚å®ƒæ˜¯æœ€å¼ºçƒˆçš„ä¸å¯é¿å…çš„æœ€åº•å±‚éœ€è¦ï¼Œä¹Ÿæ˜¯æ¨åŠ¨äººä»¬è¡ŒåŠ¨çš„å¼ºå¤§åŠ¨åŠ›ã€‚ä½†å½“ä¸€ä¸ªäººçš„ç”Ÿç†éœ€æ±‚æ²¡æœ‰å¾—åˆ°æ»¡è¶³æ—¶ï¼Œå…¶ä»–ä¸€åˆ‡éœ€è¦å‡é€€å±…æ¬¡è¦åœ°ä½ã€‚</p><h3 id="å®‰å…¨éœ€æ±‚"><a href="#å®‰å…¨éœ€æ±‚" class="headerlink" title="å®‰å…¨éœ€æ±‚"></a>å®‰å…¨éœ€æ±‚</h3><p>å®‰å…¨éœ€æ±‚æŒ‡çš„æ˜¯äººä»¬å¯¹äºè‡ªèº«å®‰å…¨çš„è¿½æ±‚ã€‚åŒ…æ‹¬äººèº«å®‰å…¨ã€èº«ä½“å¥åº·ã€ç¨³å®šçš„æ”¶å…¥ã€ç¨³å®šçš„ç¤¾ä¼šå…³ç³»å’Œå·¥ä½œç­‰ç­‰ã€‚å®‰å…¨éœ€æ±‚æ¯”ç”Ÿç†éœ€æ±‚æ›´é«˜ä¸€çº§ï¼Œå½“äººçš„ç”Ÿç†éœ€æ±‚å¾—åˆ°æ»¡è¶³ä»¥åï¼Œå®‰å…¨éœ€æ±‚å°±ä¼šæ˜¾ç°ã€‚</p><h2 id="ç¬¬ä¸‰åäºŒèŠ‚-äººçš„éœ€æ±‚ï¼ˆ2ï¼‰"><a href="#ç¬¬ä¸‰åäºŒèŠ‚-äººçš„éœ€æ±‚ï¼ˆ2ï¼‰" class="headerlink" title="ç¬¬ä¸‰åäºŒèŠ‚ äººçš„éœ€æ±‚ï¼ˆ2ï¼‰"></a>ç¬¬ä¸‰åäºŒèŠ‚ äººçš„éœ€æ±‚ï¼ˆ2ï¼‰</h2><h3 id="ç¤¾äº¤éœ€æ±‚"><a href="#ç¤¾äº¤éœ€æ±‚" class="headerlink" title="ç¤¾äº¤éœ€æ±‚"></a>ç¤¾äº¤éœ€æ±‚</h3><p>ç¤¾äº¤éœ€æ±‚åˆå«å½’å±ä¸çˆ±çš„éœ€è¦ï¼Œæ˜¯æŒ‡æˆ‘ä»¬æ¯ä¸ªäººå¯¹å®¶åº­ã€é›†ä½“ã€æœ‹å‹ã€åŒäº‹çš„å…³æ€€ã€çˆ±æŠ¤å’Œç†è§£çš„æ¸´æœ›ã€‚åœ¨ç”Ÿæ´»ä¸­æœ€ä»¤æˆ‘ä»¬æ„Ÿåˆ°ç¾å¥½çš„å‹æƒ…ã€ä¿¡ä»»ã€æ¸©æš–å’Œçˆ±æƒ…ï¼Œéƒ½å±äºç¤¾äº¤éœ€æ±‚çš„èŒƒç•´ã€‚</p><h3 id="å°Šé‡éœ€æ±‚"><a href="#å°Šé‡éœ€æ±‚" class="headerlink" title="å°Šé‡éœ€æ±‚"></a>å°Šé‡éœ€æ±‚</h3><p>å°Šé‡éœ€æ±‚åŒ…å«å†…éƒ¨å°Šé‡å’Œå¤–éƒ¨å°Šé‡ä¸¤ç§ã€‚å†…éƒ¨å°Šé‡æŒ‡çš„æ˜¯äººå¯¹äºè‡ªå·±çš„è¯„ä»·å’Œè¦æ±‚ï¼Œå¸Œæœ›è‡ªå·±å…·å¤‡è¾ƒå¼ºçš„èƒ½åŠ›å’Œé“å¾·ï¼Œåœ¨å„ç§ä¸åŒç¯å¢ƒä¸­éƒ½èƒ½å¤Ÿé€‚åº”æŒ‘æˆ˜ã€å……æ»¡ä¿¡å¿ƒã€ç‹¬ç«‹è‡ªä¸»ã€‚å¤–éƒ¨å°Šé‡æ˜¯æŒ‡äººä»¬æ¸´æœ›è‡ªå·±æ‹¥æœ‰ä¸€ä¸ªä½“é¢ä¸”å—åˆ°æ‰¿è®¤çš„ç¤¾ä¼šåœ°ä½ï¼Œæœ‰ä¸€å®šçš„å¨ä¿¡ï¼Œè‡ªå·±çš„ä¸ªäººèƒ½åŠ›å’Œå–å¾—çš„æˆå°±èƒ½å¤Ÿå¾—åˆ°ä»–äººçš„è®¤å¯ã€å°Šé‡ã€ä¿¡èµ–å’Œèµèª‰ã€‚</p><h2 id="ç¬¬ä¸‰åä¸‰èŠ‚-äººçš„éœ€æ±‚ï¼ˆ3ï¼‰"><a href="#ç¬¬ä¸‰åä¸‰èŠ‚-äººçš„éœ€æ±‚ï¼ˆ3ï¼‰" class="headerlink" title="ç¬¬ä¸‰åä¸‰èŠ‚ äººçš„éœ€æ±‚ï¼ˆ3ï¼‰"></a>ç¬¬ä¸‰åä¸‰èŠ‚ äººçš„éœ€æ±‚ï¼ˆ3ï¼‰</h2><h3 id="è®¤çŸ¥éœ€æ±‚"><a href="#è®¤çŸ¥éœ€æ±‚" class="headerlink" title="è®¤çŸ¥éœ€æ±‚"></a>è®¤çŸ¥éœ€æ±‚</h3><p>è®¤çŸ¥éœ€æ±‚ï¼ŒæŒ‡çš„æ˜¯äººå¯¹è‡ªèº«å’Œå‘¨å›´ä¸–ç•Œçš„æ¢ç´¢ã€ç†è§£ä»¥åŠè§£å†³ç–‘éš¾é—®é¢˜çš„æ¸´æœ›ã€‚äººç±»æ–‡æ˜èƒ½æœ‰ä»Šå¤©è¿™ä¹ˆæƒŠäººçš„å‘å±•ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå°±æ˜¯å¾—ç›Šäºè®¤çŸ¥éœ€æ±‚çš„æ¨åŠ¨ã€‚å½“æˆ‘ä»¬è§£å†³äº†æ¸©é¥±ï¼Œæ‹¥æœ‰äº†çˆ±æƒ…å’Œå‹æƒ…ï¼Œå—åˆ°äº†å°Šé‡ï¼Œå‘å±•ç§‘å­¦æŠ€æœ¯ï¼Œæ¢ç´¢ä¸–ç•Œå°±ä¼šæˆä¸ºæˆ‘ä»¬æ–°çš„ç›®æ ‡ã€‚</p><h3 id="å®¡ç¾éœ€æ±‚"><a href="#å®¡ç¾éœ€æ±‚" class="headerlink" title="å®¡ç¾éœ€æ±‚"></a>å®¡ç¾éœ€æ±‚</h3><p>â€œçˆ±ç¾ä¹‹å¿ƒäººçš†æœ‰ä¹‹â€ï¼Œæ¯ä¸ªäººéƒ½å–œæ¬¢æ¬£èµç¾çš„äº‹ç‰©ï¼Œæ— è®ºæ˜¯ç¾ä¸½çš„é¢å­”ã€å£®ä¸½çš„é£æ™¯ã€è¿˜æ˜¯è‰ºæœ¯å®¶çš„æ°ä½œã€‚</p><h3 id="è‡ªæˆ‘å®ç°éœ€æ±‚"><a href="#è‡ªæˆ‘å®ç°éœ€æ±‚" class="headerlink" title="è‡ªæˆ‘å®ç°éœ€æ±‚"></a>è‡ªæˆ‘å®ç°éœ€æ±‚</h3><p>è‡ªæˆ‘å®ç°éœ€æ±‚æ˜¯æœ€é«˜ç­‰çº§çš„éœ€è¦ï¼ŒæŒ‡çš„æ˜¯äººä»¬ä¼šç«­å°½æ‰€èƒ½ï¼Œä½¿è‡ªå·±è¶‹äºå®Œç¾ï¼Œå®ç°è‡ªå·±çš„ç†æƒ³å’Œç›®æ ‡ï¼Œè·å¾—æˆå°±æ„Ÿã€‚è‡ªæˆ‘å®ç°éœ€æ±‚æœ€å¤§çš„ç‰¹ç‚¹æ˜¯æˆ‘ä»¬ä¸å†æŠŠç›®å…‰é›†ä¸­åœ¨å¤–ç•Œï¼Œè€Œæ˜¯å›å½’è‡ªæˆ‘ï¼Œä¸å†æ‰§ç€äºè¾¾æˆæŸç§ç›®çš„ï¼Œç”Ÿæ´»æœ¬èº«å°±æˆä¸ºäº†æœ€å¤§çš„ç›®çš„ã€‚</p><h2 id="ç¬¬ä¸‰åå››èŠ‚-æ‹©å¶çš„æ„ä¹‰"><a href="#ç¬¬ä¸‰åå››èŠ‚-æ‹©å¶çš„æ„ä¹‰" class="headerlink" title="ç¬¬ä¸‰åå››èŠ‚ æ‹©å¶çš„æ„ä¹‰"></a>ç¬¬ä¸‰åå››èŠ‚ æ‹©å¶çš„æ„ä¹‰</h2><h3 id="æ‹©å¶è¡Œä¸ºæ˜¯ç¤¾ä¼šç”Ÿæ´»çš„ä¸­å¿ƒ"><a href="#æ‹©å¶è¡Œä¸ºæ˜¯ç¤¾ä¼šç”Ÿæ´»çš„ä¸­å¿ƒ" class="headerlink" title="æ‹©å¶è¡Œä¸ºæ˜¯ç¤¾ä¼šç”Ÿæ´»çš„ä¸­å¿ƒ"></a>æ‹©å¶è¡Œä¸ºæ˜¯ç¤¾ä¼šç”Ÿæ´»çš„ä¸­å¿ƒ</h3><p>æƒ³è¦åœ¨è¡Œä¸ºå±‚é¢ä¸Šæ›´å¥½çš„ç†è§£æ¬²æœ›ï¼Œéœ€è¦åœ¨æ‰€æœ‰çš„ç¤¾ä¼šæ´»åŠ¨ä¸­æ‰¾åˆ°ä¸€ä¸ªæœ€å¹¿æ³›ã€æœ€é‡è¦ã€æœ€ä¾¿äºç†è§£çš„è¡Œä¸ºï¼Œæ²¡æœ‰å“ªç§è¡Œä¸ºèƒ½å¤Ÿåƒå¯»æ‰¾ä¼´ä¾£ä¸€æ ·ï¼Œé©±åŠ¨ç€æˆ‘ä»¬éœ€æ±‚çš„æ–¹æ–¹é¢é¢ã€‚</p><p>çˆ±æƒ…æ˜¯ç¤¾äº¤éœ€æ±‚çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œæƒ…æ„Ÿå…³ç³»çš„ç¨³å®šæ€§å½±å“åˆ°æˆ‘ä»¬çš„å®‰å…¨éœ€æ±‚ï¼Œå’Œä¼´ä¾£çš„å½¼æ­¤å°Šé‡å’Œå­¦ä¹ æ»¡è¶³äº†è®¤çŸ¥éœ€æ±‚å’Œå°Šé‡éœ€æ±‚ï¼Œç¾å¥½å’Œè°çš„å®¶åº­æœ‰åŠ©äºäººçš„è‡ªæˆ‘å®ç°ã€‚å¯ä»¥è¯´ï¼Œå‡ ä¹æ¯ä¸€å±‚æ¬¡çš„éœ€æ±‚ï¼Œéƒ½ç¦»ä¸å¼€ä¸ä¼´ä¾£çš„ç›¸å¤„ã€‚</p><p>å¦‚æœç”·æ€§èƒ½å¤Ÿäº†è§£å¥³æ€§çš„è¯‰æ±‚ï¼Œå¥³æ€§èƒ½å¤Ÿä»£å…¥ç”·æ€§çš„è§†è§’ï¼Œæ€§åˆ«å·®å¼‚å¸¦æ¥çš„æ²Ÿé€šä»£æ²Ÿå°±ä¼šå¾—åˆ°ç¼“è§£ã€‚</p><h2 id="ç¬¬ä¸‰åäº”èŠ‚-æ‹©å¶åå¥½"><a href="#ç¬¬ä¸‰åäº”èŠ‚-æ‹©å¶åå¥½" class="headerlink" title="ç¬¬ä¸‰åäº”èŠ‚ æ‹©å¶åå¥½"></a>ç¬¬ä¸‰åäº”èŠ‚ æ‹©å¶åå¥½</h2><h3 id="æ˜¯ç”·ç”Ÿä¸ç”¨å¿ƒï¼Œè¿˜æ˜¯å¥³ç”Ÿå¤ªæŒ‘å‰”"><a href="#æ˜¯ç”·ç”Ÿä¸ç”¨å¿ƒï¼Œè¿˜æ˜¯å¥³ç”Ÿå¤ªæŒ‘å‰”" class="headerlink" title="æ˜¯ç”·ç”Ÿä¸ç”¨å¿ƒï¼Œè¿˜æ˜¯å¥³ç”Ÿå¤ªæŒ‘å‰”"></a>æ˜¯ç”·ç”Ÿä¸ç”¨å¿ƒï¼Œè¿˜æ˜¯å¥³ç”Ÿå¤ªæŒ‘å‰”</h3><p>åœ¨ä¸¤æ€§å…³ç³»ä¸­ï¼Œä¹‹æ‰€ä»¥å¥³æ€§å¯¹ç»†èŠ‚æœ‰æ›´å¤šè¦æ±‚ï¼ŒèƒŒååŸå› è¦è¿½æº¯åˆ°ä¸Šå¤æ—¶ä»£ã€‚åœ¨å¦‚ä»Šè¿™ä¸ªå‘è¾¾çš„ç¤¾ä¼šå½“ä¸­ï¼Œäººä»¬çš„ç”Ÿæ´»è¿½æ±‚æ˜¯ä¸°å¯Œä¸”å¤æ‚çš„ï¼Œçˆ±æƒ…ä¹Ÿè¢«èµ‹äºˆäº†æµ“åšçš„äººæ–‡æ„ä¹‰ã€‚ä½†æ˜¯ï¼Œåœ¨ç”Ÿæ´»è´«ç˜ ï¼Œå°šæœªå¼€åŒ–çš„å¹´ä»£é‡Œï¼Œäººå’Œä¸–ç•Œä¸Šå¤§éƒ¨åˆ†ç”Ÿå‘½ä¸€æ ·ï¼Œåªæœ‰ä¸¤ç§ç®€å•æ˜ç¡®çš„è¯‰æ±‚ï¼šç”Ÿå­˜å’Œç¹è¡ã€‚</p><p>æ²¡æœ‰å´‡é«˜çš„çˆ±æƒ…ï¼Œä¹Ÿç¼ºä¹å®Œå–„çš„ç¤¾ä¼šèƒŒæ™¯ï¼Œåœ¨é‚£ä¸ªå¹´ä»£é‡Œï¼Œæ‹©å¶è¡Œä¸ºæ˜¯å®Œå…¨å›´ç»•ç¹è¡å±•å¼€çš„ã€‚æƒ³è¦å­•è‚²ä¸€ä¸ªç”Ÿå‘½ï¼Œç”·æ€§åªéœ€è¦å¾ˆå°çš„æˆæœ¬ï¼Œè€Œå¥³æ€§å´éœ€è¦æ‰¿å—æ¥è¿‘ä¸€å¹´çš„å­•æœŸï¼Œè¿™æ˜¯ä¸€é¡¹ä¸å¯æ¨å¸çš„ã€æ¶ˆè€—å·¨å¤§çš„æŠ•èµ„ã€‚</p><p>æ­£å› å¦‚æ­¤ï¼Œå¥³æ€§å¿…é¡»åœ¨é€‰æ‹©ä¼´ä¾£æ—¶ä¸¥æ ¼æŠŠå…³ï¼Œæ³¨é‡ç»†èŠ‚ã€‚å› ä¸ºä¸€æ—¦åšå‡ºäº†é€‰æ‹©ï¼Œå‡ ä¹å°±æ˜¯èµŒä¸Šäº†è‡ªå·±çš„ä¸€ç”Ÿã€‚éšç€ç§‘å­¦æŠ€æœ¯çš„å‘å±•ï¼Œç”Ÿè‚²å·²ç»æ˜¯å¯ä»¥æ§åˆ¶çš„äº‹æƒ…ã€‚äººä»¬é€‰æ‹©ä¼´ä¾£ä¹Ÿä¸å†æ˜¯åªä¸ºäº†ç¹è¡ï¼Œç”šè‡³è¿˜æœ‰ä¸å…‹å®¶åº­çš„å‡ºç°ã€‚ä½†ç¥–ç¥–ä»£ä»£åƒç™¾å¹´æ¥å½¢æˆçš„å¿ƒç†ç‰¹å¾ï¼Œæ—©å·²èå…¥äº†æœ¬èƒ½å½“ä¸­ï¼Œä¸ä¼šè½»æ˜“çš„ä»æˆ‘ä»¬èº«ä¸ŠæŠ¹å»ã€‚</p><h2 id="ç¬¬ä¸‰åå…­èŠ‚-ä¸¤ç§èƒ½åŠ›ã€ä¸‰ä¸ªç‰¹å¾"><a href="#ç¬¬ä¸‰åå…­èŠ‚-ä¸¤ç§èƒ½åŠ›ã€ä¸‰ä¸ªç‰¹å¾" class="headerlink" title="ç¬¬ä¸‰åå…­èŠ‚ ä¸¤ç§èƒ½åŠ›ã€ä¸‰ä¸ªç‰¹å¾"></a>ç¬¬ä¸‰åå…­èŠ‚ ä¸¤ç§èƒ½åŠ›ã€ä¸‰ä¸ªç‰¹å¾</h2><h3 id="ä¸¤ç§å¤©ç”Ÿçš„èƒ½åŠ›"><a href="#ä¸¤ç§å¤©ç”Ÿçš„èƒ½åŠ›" class="headerlink" title="ä¸¤ç§å¤©ç”Ÿçš„èƒ½åŠ›"></a>ä¸¤ç§å¤©ç”Ÿçš„èƒ½åŠ›</h3><p>å¥³æ€§åœ¨é€‰æ‹©ä¼´ä¾£æ—¶ï¼Œå¤©ç„¶å…·å¤‡ä¸¤ç§èƒ½åŠ›ã€‚ç¬¬ä¸€ç§èƒ½åŠ›æ˜¯ä»ç”·æ€§çš„æˆåƒä¸Šä¸‡ç§å·®å¼‚ä¸­ï¼Œç­›é€‰å‡ºæœ€å…·ä»·å€¼çš„å°‘æ•°ç‰¹å¾ã€‚çŸ¥é“è§‚å¯Ÿä¸€ä¸ªäººçš„æ—¶å€™è¦é‡ç‚¹å…³æ³¨å“ªäº›æ–¹é¢ã€‚ç¬¬äºŒç§èƒ½åŠ›æ˜¯æŠŠå…³é”®çš„ç‰¹å¾ä¸è‡ªå·±çš„ä¸ªäººéœ€è¦å’Œç‹¬ç‰¹å¢ƒå†µç»“åˆè¿›è¡Œåˆ†æã€‚</p><h3 id="ä¸‰ç±»å…³é”®ç‰¹å¾"><a href="#ä¸‰ç±»å…³é”®ç‰¹å¾" class="headerlink" title="ä¸‰ç±»å…³é”®ç‰¹å¾"></a>ä¸‰ç±»å…³é”®ç‰¹å¾</h3><p>å¥³æ€§å…³æ³¨çš„å…³é”®ç‰¹å¾ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼šèµ„æºã€æ½œåŠ›å’Œç”Ÿæ´»åŸºç¡€ã€‚</p><p>èµ„æºæŒ‡çš„æ˜¯ä¸€ä¸ªç”·æ€§åœ¨å½“ä¸‹è·å–å’Œæ§åˆ¶ç¤¾ä¼šèµ„æºçš„èƒ½åŠ›ï¼Œè¿™ç§èƒ½åŠ›ç”±ç»æµå®åŠ›ã€ç¤¾ä¼šåœ°ä½å’Œåˆé€‚çš„å¹´é¾„å…±åŒç»„æˆã€‚</p><p>å¯¹ç»æµå®åŠ›çš„é€‚åº¦å…³æ³¨ï¼Œå¹¶ä¸æ˜¯æ‹œé‡‘ä¸»ä¹‰æˆ–è€…æ”€é™„æƒè´µï¼Œè€Œæ˜¯å¯¹è‡ªå·±å’Œæœªæ¥ç”Ÿæ´»è´Ÿè´£çš„æœ¬èƒ½è¡Œä¸ºã€‚</p><h2 id="ç¬¬ä¸‰åä¸ƒèŠ‚-ç¤¾ä¼šåœ°ä½ä¸å¹´é¾„åå¥½"><a href="#ç¬¬ä¸‰åä¸ƒèŠ‚-ç¤¾ä¼šåœ°ä½ä¸å¹´é¾„åå¥½" class="headerlink" title="ç¬¬ä¸‰åä¸ƒèŠ‚ ç¤¾ä¼šåœ°ä½ä¸å¹´é¾„åå¥½"></a>ç¬¬ä¸‰åä¸ƒèŠ‚ ç¤¾ä¼šåœ°ä½ä¸å¹´é¾„åå¥½</h2><h3 id="çœ‹é‡ç¤¾ä¼šåœ°ä½çš„åŸå› "><a href="#çœ‹é‡ç¤¾ä¼šåœ°ä½çš„åŸå› " class="headerlink" title="çœ‹é‡ç¤¾ä¼šåœ°ä½çš„åŸå› "></a>çœ‹é‡ç¤¾ä¼šåœ°ä½çš„åŸå› </h3><p>ç¤¾ä¼šåœ°ä½å’Œç»æµå®åŠ›å…·æœ‰è¾ƒå¼ºçš„ç›¸å…³æ€§ã€‚ç¤¾ä¼šåœ°ä½æ›´é«˜çš„äººæ™®éæ‹¥æœ‰æ›´å¤šè´¢å¯Œï¼Œå¯¹ç»æµå®åŠ›çš„è¿½æ±‚ä¹Ÿä¼šæŠ˜å°„åœ¨ç¤¾ä¼šåœ°ä½ä¹‹ä¸­ã€‚</p><p>ç¤¾ä¼šåœ°ä½è±¡å¾ç€ä¸€ä¸ªäººæ˜¯å¦è¢«ç¤¾ä¼šä¸»æµçš„ä»·å€¼è§‚æ‰€æ‰¿è®¤ã€‚é€‰æ‹©ç¤¾ä¼šåœ°ä½é«˜çš„ç”·æ€§ä½œä¸ºä¼´ä¾£ï¼Œå…¶å®å°±ç›¸å½“äºå¾æ±‚äº†æ•´ä¸ªç¤¾ä¼šçš„æ„è§ï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„é™ä½åšå‡ºé”™è¯¯åˆ¤æ–­çš„æ¦‚ç‡ã€‚</p><h3 id="å¹´é¾„åå¥½ä¸èƒŒåçš„å¤æ‚æ€è€ƒ"><a href="#å¹´é¾„åå¥½ä¸èƒŒåçš„å¤æ‚æ€è€ƒ" class="headerlink" title="å¹´é¾„åå¥½ä¸èƒŒåçš„å¤æ‚æ€è€ƒ"></a>å¹´é¾„åå¥½ä¸èƒŒåçš„å¤æ‚æ€è€ƒ</h3><p>è¡¨é¢ä¸Šçœ‹ï¼Œå¤§å”å’Œå°é²œè‚‰éƒ½å¾ˆå—å¥³ç”Ÿçš„æ¬¢è¿ï¼Œå¹´é¾„ä¼¼ä¹ä¸ä¼šå½±å“ç”·æ€§çš„é­…åŠ›ã€‚ä½†è¿™ç§å–œçˆ±ï¼Œæ›´ç±»ä¼¼äºç²‰ä¸å¯¹äºå¶åƒçš„è¿½æ§ï¼Œæˆ–æ˜¯å¯¹äºå°‘æ•°å‡ ä¸ªç‰¹å¾çš„åå¥½ã€‚æ ¹æ®å¿ƒç†å­¦æƒå¨æˆ´ç»´å·´æ–¯æ•™æˆçš„ç ”ç©¶ï¼ŒçœŸæ­£åˆ°äº†ç»„å»ºå®¶åº­ï¼Œæ•²å®šäººç”Ÿå¤§äº‹çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†å¥³æ€§å€¾å‘äºé€‰æ‹©æ¯”è‡ªå·±å¤§ä¸‰å²åŠå·¦å³çš„ç”·æ€§ä½œä¸ºä¼´ä¾£ã€‚</p><p>è¿™ç§æœ¬èƒ½åå¥½çš„èƒŒåï¼Œå…¶å®æ˜¯å¤šç§å› ç´ æƒè¡¡å–èˆåçš„ç»¼åˆè€ƒè™‘ï¼šç”·æ€§çš„å¹´é¾„è¶Šå¤§ï¼Œç¤¾ä¼šåœ°ä½å’Œç»æµå®åŠ›å°±è¶Šå¼ºï¼Œä½†å‘å±•æ½œåŠ›åˆ™è¶Šæ¥è¶Šå°‘ï¼Œå¦‚æœè¿‡äºå¹´é•¿ï¼Œæ²Ÿé€šä¸Šä¼šæœ‰ä»£æ²Ÿï¼Œå¤«å¦»äºŒäººæºæ‰‹å…±åº¦çš„æ—¶å…‰ä¹Ÿä¼šæ›´çŸ­ã€‚</p><h2 id="ç¬¬ä¸‰åå…«èŠ‚-æ½œåŠ›åå¥½"><a href="#ç¬¬ä¸‰åå…«èŠ‚-æ½œåŠ›åå¥½" class="headerlink" title="ç¬¬ä¸‰åå…«èŠ‚ æ½œåŠ›åå¥½"></a>ç¬¬ä¸‰åå…«èŠ‚ æ½œåŠ›åå¥½</h2><h3 id="ä¸æ½œåŠ›ç›¸å…³çš„ç‰¹å¾"><a href="#ä¸æ½œåŠ›ç›¸å…³çš„ç‰¹å¾" class="headerlink" title="ä¸æ½œåŠ›ç›¸å…³çš„ç‰¹å¾"></a>ä¸æ½œåŠ›ç›¸å…³çš„ç‰¹å¾</h3><p>æ½œåŠ›ç”±ä¸‰ä¸ªç‰¹å¾å…±åŒç»„æˆï¼šåˆ†åˆ«æ˜¯å‹¤å¥‹ã€æƒ…ç»ªç¨³å®šæ€§ä¸æ‰åã€‚å¦‚æœè¯´ç»æµå®åŠ›å’Œç¤¾ä¼šåœ°ä½ä»£è¡¨äº†å½“ä¸‹æŒæ§çš„èµ„æºï¼Œé‚£ä¹ˆä¸€ä¸ªå‹¤å¥‹ã€æƒ…ç»ªç¨³å®šä¸”æ‰åæ¨ªæº¢çš„äººï¼Œå³ä¾¿å½“å‰èº«æ— åˆ†æ–‡ï¼Œä¹Ÿæ²¡æœ‰è¾ƒé«˜çš„ç¤¾ä¼šåœ°ä½ï¼Œä¹Ÿä¼šå› ä¸ºèƒ½å¤Ÿåœ¨æœªæ¥é•¿æœŸçš„ã€æŒç»­çš„è·å–èµ„æºï¼ŒåŒæ ·è·å¾—å¥³æ€§çš„åçˆ±ã€‚</p><p>ä»é•¿æœŸæ¥çœ‹ï¼Œè‡ªè®¤ä¸ºå·¥ä½œåŠªåŠ›ï¼Œæ‰åæ¨ªæº¢ï¼Œå¹¶ä¸”å¾—åˆ°å‘¨å›´äººè®¤å¯çš„ä¸ªä½“ï¼Œæ¯”èµ·å…¶ä»–äººè·å¾—äº†æ›´é«˜çš„æ•™è‚²æ°´å¹³ï¼Œæ‹¥æœ‰æ›´é«˜çš„å¹´æ”¶å…¥ï¼Œå¹¶ä¸”é¢„æœŸä¼šæœ‰æ›´å¤šçš„å‡èŒæœºä¼šã€‚</p><p>å¦‚æœç”Ÿæ´»æ˜¯ä¸€åœºæ²¡æœ‰å˜æ•°çš„ç«äº‰ï¼Œé‚£ä¹ˆåªä¾é åŠªåŠ›ä¸æ‰åå‡ºä¼—å°±è¶³å¤Ÿäº†ã€‚ä½†äººç”Ÿæ€»æ˜¯å……æ»¡äº†å˜æ•°ï¼Œä¿æŒç¨³å®šï¼Œæ‹¥æŠ±å˜åŒ–çš„èƒ½åŠ›åŒæ ·å¾ˆé‡è¦ï¼Œè¿™å°±æ˜¯æƒ…ç»ªç¨³å®šæ€§çš„ä½œç”¨ã€‚</p><p>æƒ…å•†çš„å…¨ç§°å«åšæƒ…ç»ªå•†æ•°ï¼Œè·Ÿæƒ…ç»ªç¨³å®šæ€§æ˜¯éå¸¸ç±»ä¼¼çš„æ¦‚å¿µã€‚æƒ…å•†é«˜å½¢å®¹çš„å¹¶ä¸æ˜¯â€œä¼šè¯´è¯ï¼Œä¼šçœ‹äººè„¸è‰²åŠäº‹â€ï¼Œè€Œæ˜¯æŒ‡èƒ½å¤Ÿå¿«é€Ÿé€‚åº”ç”Ÿæ´»çš„å„ç§å˜åŒ–ï¼Œèƒ½å¤Ÿåœ¨æ‰¿å—å‹åŠ›çš„æƒ…å†µä¸‹ä¿æŒå¸¸æ€ã€‚</p><h2 id="ç¬¬ä¸‰åä¹èŠ‚-ç”Ÿæ´»åŸºç¡€åå¥½"><a href="#ç¬¬ä¸‰åä¹èŠ‚-ç”Ÿæ´»åŸºç¡€åå¥½" class="headerlink" title="ç¬¬ä¸‰åä¹èŠ‚ ç”Ÿæ´»åŸºç¡€åå¥½"></a>ç¬¬ä¸‰åä¹èŠ‚ ç”Ÿæ´»åŸºç¡€åå¥½</h2><h3 id="ä¸ç”Ÿæ´»åŸºç¡€ç›¸å…³çš„ç‰¹å¾"><a href="#ä¸ç”Ÿæ´»åŸºç¡€ç›¸å…³çš„ç‰¹å¾" class="headerlink" title="ä¸ç”Ÿæ´»åŸºç¡€ç›¸å…³çš„ç‰¹å¾"></a>ä¸ç”Ÿæ´»åŸºç¡€ç›¸å…³çš„ç‰¹å¾</h3><p>ç”Ÿæ´»åŸºç¡€ç”±å››ä¸ªå…·ä½“çš„ç‰¹å¾å…±åŒç»„æˆï¼Œåˆ†åˆ«æ˜¯å’Œè°å…±å¤„ã€ä½“æ ¼ã€å¥åº·å’Œå¯¹çˆ±çš„æ‰¿è¯ºã€‚</p><p>å’Œè°ç›¸å¤„ï¼Œæ„å‘³ç€æ€§æ ¼äº’è¡¥ã€æ€æƒ³ç›¸ä¼¼ã€‚äº’è¡¥çš„æ€§æ ¼èƒ½å¤Ÿé™ä½ä¼´ä¾£é—´å‘ç”Ÿäº‰åµçš„æ¦‚ç‡ï¼Œæ€æƒ³çš„ç›¸ä¼¼æ„å‘³ç€ç±»ä¼¼çš„ç”Ÿæ´»ä¹ æƒ¯ã€çˆ±å¥½ï¼Œè¿˜èƒ½ç¡®ä¿åœ¨äººç”Ÿçš„é•¿è¿œè¿½æ±‚ä¸Šä¿æŒä¸€è‡´ã€‚</p><p>è‰¯å¥½çš„ä½“æ ¼å’Œå¥åº·ï¼Œæ—¢æ»¡è¶³äº†å®¡ç¾éœ€æ±‚ï¼Œä¹Ÿç…§é¡¾äº†å®‰å…¨éœ€æ±‚ã€‚</p><p>å¯¹çˆ±çš„æ‰¿è¯ºä¹Ÿéå¸¸é‡è¦ã€‚å¦‚æœç”·æ€§ä¸èƒ½ä¸‹å®šå†³å¿ƒå»ºç«‹é•¿æœŸå…³ç³»ï¼Œä»–çš„æ¡ä»¶å†å¥½ï¼Œå¯¹äºå¥³æ€§æ¥è¯´ä¹Ÿæœ‰å¯èƒ½æ˜¯ç«¹ç¯®æ‰“æ°´ä¸€åœºç©ºã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¼šæœ‰æ±‚å©šè¿™ä¸ªç¯èŠ‚ï¼Œè€Œä¸”è¿˜è¦ç”¨æ˜‚è´µçš„å©šæˆ’æ¥ä¸ºè¿™ä»½æ‰¿è¯ºå¢æ·»åˆ†é‡ã€‚</p><h3 id="åœ¨ä½ æ„è¯†ä¸åˆ°çš„åœ°æ–¹ï¼Œæœ¬èƒ½ä¹Ÿä¼šæ€è€ƒ"><a href="#åœ¨ä½ æ„è¯†ä¸åˆ°çš„åœ°æ–¹ï¼Œæœ¬èƒ½ä¹Ÿä¼šæ€è€ƒ" class="headerlink" title="åœ¨ä½ æ„è¯†ä¸åˆ°çš„åœ°æ–¹ï¼Œæœ¬èƒ½ä¹Ÿä¼šæ€è€ƒ"></a>åœ¨ä½ æ„è¯†ä¸åˆ°çš„åœ°æ–¹ï¼Œæœ¬èƒ½ä¹Ÿä¼šæ€è€ƒ</h3><p>åœ¨æ‹©å¶æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šåˆ»æ„å»å›´ç»•è¿™äº›å¤æ‚çš„å› ç´ é€ä¸€æ€è€ƒã€‚ä½†æ½œæ„è¯†ä¸­æ— æ³•ç›´æ¥æ„ŸçŸ¥åˆ°çš„å¿ƒç†æ´»åŠ¨ä¼šæœ¬èƒ½åœ°è¿›è¡Œåˆ¤æ–­ï¼Œå¹¶é€šè¿‡æƒ…ç»ªçš„æ–¹å¼ç›´æ¥ä¼ é€’ç»“æœã€‚</p><p>è¿™éƒ¨åˆ†æ— æ³•æ„ŸçŸ¥çš„è‡ªæˆ‘ï¼Œæ˜¯æ¢ç´¢è‡ªæˆ‘ä¹‹æ—…éå¸¸é‡è¦çš„ç ”ç©¶å¯¹è±¡ã€‚</p><h2 id="ç¬¬å››åèŠ‚-ä¸¤æ€§çš„æ‹©å¶å·®å¼‚"><a href="#ç¬¬å››åèŠ‚-ä¸¤æ€§çš„æ‹©å¶å·®å¼‚" class="headerlink" title="ç¬¬å››åèŠ‚ ä¸¤æ€§çš„æ‹©å¶å·®å¼‚"></a>ç¬¬å››åèŠ‚ ä¸¤æ€§çš„æ‹©å¶å·®å¼‚</h2><h3 id="å¥³æ€§å¯¹ç”·æ€§çš„æ”¹å˜"><a href="#å¥³æ€§å¯¹ç”·æ€§çš„æ”¹å˜" class="headerlink" title="å¥³æ€§å¯¹ç”·æ€§çš„æ”¹å˜"></a>å¥³æ€§å¯¹ç”·æ€§çš„æ”¹å˜</h3><p>ä»ç¹è¡æœ¬èƒ½çš„è§’åº¦å‡ºå‘ï¼Œç”·æ€§å¯¹äºæ‹©å¶çš„è¦æ±‚å¹¶ä¸å¤æ‚ï¼Œå› ä¸ºæœ€ç†æƒ³çš„ç­–ç•¥å¹¶ä¸æ˜¯å¯»æ‰¾æœ€åˆé€‚çš„ä¼´ä¾£ï¼Œæ‰¿è¯ºçˆ±æƒ…å’Œç›¸ä¼´ç»ˆç”Ÿï¼Œè€Œæ˜¯å’Œå°½å¯èƒ½å¤šçš„å¥³æ€§ä¿æŒäº²å¯†å…³ç³»ã€‚æ•°é‡æ¯”è´¨é‡æ›´é‡è¦ï¼Œé‚£ä¹ˆä¹Ÿå°±è°ˆä¸ä¸Šè¦ç­›é€‰ä¼´ä¾£ã€‚</p><p>ç”·æ€§ä¹‹æ‰€ä»¥å˜å¾—â€œä¸“ä¸€â€ï¼Œä¸€æ–¹é¢æ˜¯äººä¸æ­¢ä¼šæ ¹æ®æœ¬èƒ½æ€è€ƒï¼Œå¦ä¸€æ–¹é¢ï¼Œæ˜¯å› ä¸ºå¥³æ€§ä¸ä»…è¦æ±‚ç”·æ€§æœ‰èµ„æºã€æœ‰æ½œåŠ›ï¼Œè¿˜è¦æ±‚ä»–å¯¹çˆ±æƒ…è¿›è¡Œæ‰¿è¯ºã€‚ä¸“ä¸€çš„ç”·æ€§ä¼šæ›´å—æ¬¢è¿ï¼Œèƒ½å¤ŸæŠŠè‡ªå·±ä¸“ä¸€çš„åŸºå› é—ä¼ ä¸‹æ¥ã€‚</p><h2 id="ç¬¬å››åä¸€èŠ‚-å¹´è½»ã€å¥åº·ä¸å¿ è¯š"><a href="#ç¬¬å››åä¸€èŠ‚-å¹´è½»ã€å¥åº·ä¸å¿ è¯š" class="headerlink" title="ç¬¬å››åä¸€èŠ‚ å¹´è½»ã€å¥åº·ä¸å¿ è¯š"></a>ç¬¬å››åä¸€èŠ‚ å¹´è½»ã€å¥åº·ä¸å¿ è¯š</h2><h3 id="åˆ¤æ–­å¥åº·çš„æ–¹å¼"><a href="#åˆ¤æ–­å¥åº·çš„æ–¹å¼" class="headerlink" title="åˆ¤æ–­å¥åº·çš„æ–¹å¼"></a>åˆ¤æ–­å¥åº·çš„æ–¹å¼</h3><p>åœ¨åŒ»å­¦ä¸å‘è¾¾çš„ä¸Šå¤æ—¶ä»£ï¼Œåªèƒ½é€šè¿‡è§‚å¯Ÿå¤–éƒ¨ç‰¹å¾æ¥åˆ¤æ–­å¥åº·æƒ…å†µã€‚å¤–éƒ¨ç‰¹å¾ä¸»è¦æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯è¡Œä¸ºç‰¹å¾ï¼Œæ¯”å¦‚æ´»æ³¼çš„æ€§æ ¼ã€èµ°è·¯æ—¶è½»å¿«çš„æ­¥ä¼ã€‚å¦ä¸€ç§æ˜¯èº«ä½“ç‰¹å¾ï¼Œæ¯”å¦‚ä¸°æ»¡çš„å˜´å”‡ã€æ˜äº®çš„è‚¤è‰²ã€å…‰æ»‘çš„çš®è‚¤ã€æ¸…æ¾ˆçš„çœ¼ç¥ã€å¯Œæœ‰å…‰æ³½çš„å¤´å‘å’ŒåŒ€ç§°çš„è‚Œè‚‰ã€‚è¿™äº›èƒ½å¤Ÿä½“ç°å¥åº·çš„è±¡å¾ï¼Œæ°æ°ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨å®¡ç¾æ—¶çš„åå¥½ã€‚</p><p>çˆ±ç¾ä¹‹å¿ƒï¼Œäººçš†æœ‰ä¹‹ã€‚ä»æ ¹æºä¸Šæ¥è¯´ï¼Œæœ€åˆçš„ç¾ï¼Œå°±æ˜¯èƒ½å¤Ÿåæ˜ å¥åº·çŠ¶æ€çš„èº«ä½“ç‰¹å¾ã€‚å½“æˆ‘ä»¬è§‰å¾—ä¸€ä¸ªäººå¥½çœ‹çš„æ—¶å€™ï¼Œå…¶å®æ˜¯æœ¬èƒ½é€šè¿‡è‡ªå·±çš„åˆ¤æ–­ï¼Œè®¤å¯äº†å¯¹æ–¹çš„å¥åº·çŠ¶å†µã€‚</p><h2 id="ç¬¬å››åäºŒèŠ‚-å¤ä¹ è¯¾"><a href="#ç¬¬å››åäºŒèŠ‚-å¤ä¹ è¯¾" class="headerlink" title="ç¬¬å››åäºŒèŠ‚ å¤ä¹ è¯¾"></a>ç¬¬å››åäºŒèŠ‚ å¤ä¹ è¯¾</h2><h3 id="æ‹©å¶åå¥½çš„èµ·æº"><a href="#æ‹©å¶åå¥½çš„èµ·æº" class="headerlink" title="æ‹©å¶åå¥½çš„èµ·æº"></a>æ‹©å¶åå¥½çš„èµ·æº</h3><p>ç”Ÿå‘½çš„ä¸¤ä¸ªåŸºæœ¬è¯‰æ±‚æ˜¯ç”Ÿå­˜å’Œç¹è¡ï¼Œæ‹©å¶è¡Œä¸ºæ˜¯ç”±ç¹è¡è¯‰æ±‚è¡ç”Ÿå‡ºæ¥çš„ã€‚ä¸ºäº†åœ¨æ‹©å¶æ—¶åšå‡ºæ­£ç¡®çš„åˆ¤æ–­ï¼Œéœ€è¦ä»äººçš„æˆåƒä¸Šä¸‡ç§å·®å¼‚ä¸­ï¼Œç­›é€‰å‡ºæœ€å…·ä»·å€¼çš„å°‘æ•°ç‰¹å¾ï¼Œè¿™äº›ç‰¹å¾å°±æ˜¯æ‹©å¶åå¥½ã€‚</p><p>è¿™ç§åå¥½ä¸éœ€è¦åˆ»æ„æ€è€ƒï¼Œè€Œæ˜¯é€šè¿‡æ½œæ„è¯†ä¸­æ— æ³•ç›´æ¥æ„ŸçŸ¥åˆ°çš„å¿ƒç†æ´»åŠ¨è¿›è¡Œåˆ¤æ–­ï¼Œå¹¶é€šè¿‡æƒ…ç»ªçš„æ–¹å¼ç›´æ¥ä¼ é€’ç»“æœã€‚</p><h3 id="å¥³æ€§çš„æ‹©å¶åå¥½"><a href="#å¥³æ€§çš„æ‹©å¶åå¥½" class="headerlink" title="å¥³æ€§çš„æ‹©å¶åå¥½"></a>å¥³æ€§çš„æ‹©å¶åå¥½</h3><p>ç”Ÿè‚²éœ€è¦å¥³æ€§è¿›è¡Œå·¨å¤§çš„æŠ•å…¥ï¼Œéœ€è¦ä¼´ä¾£ç»™äºˆå……è¶³çš„èµ„æºæ”¯æŒï¼Œå› æ­¤å¥³æ€§çš„æ‹©å¶åå¥½æ˜¯å›´ç»•â€œèµ„æºâ€å±•å¼€çš„ã€‚</p><p>å¥³æ€§å…³æ³¨çš„å…³é”®ç‰¹å¾ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼šèµ„æºã€æ½œåŠ›å’Œç”Ÿæ´»åŸºç¡€ã€‚</p><p>èµ„æºæŒ‡çš„æ˜¯ä¸€ä¸ªç”·æ€§åœ¨å½“ä¸‹è·å–å’Œæ§åˆ¶ç¤¾ä¼šèµ„æºçš„èƒ½åŠ›ï¼Œè¿™ç§èƒ½åŠ›ç”±ç»æµå®åŠ›ã€ç¤¾ä¼šåœ°ä½å’Œåˆé€‚çš„å¹´é¾„å…±åŒç»„æˆã€‚</p><p>æ½œåŠ›æŒ‡çš„æ˜¯åœ¨æœªæ¥é•¿æœŸã€æŒç»­è·å–èµ„æºçš„èƒ½åŠ›ï¼Œè¿™ç§èƒ½åŠ›ç”±ä¸‰ä¸ªç‰¹å¾å…±åŒç»„æˆï¼šåˆ†åˆ«æ˜¯å‹¤å¥‹ã€æƒ…ç»ªç¨³å®šæ€§ä¸æ‰åã€‚</p><p>èµ„æºå¸¦æ¥çš„ç”Ÿæ´»æ¡ä»¶çš„ä¿è¯åªæ˜¯åŸºç¡€ï¼Œäººä¸äººä¹‹é—´çš„ç›¸å¤„æ˜¯å¦æ„‰æ‚¦ã€èƒ½å¦åŸ¹å…»æ·±åšçš„æ„Ÿæƒ…ä¹Ÿå¾ˆé‡è¦ã€‚å› æ­¤ï¼Œé™¤äº†èµ„æºå’Œæ½œåŠ›ï¼Œè¿˜éœ€è¦ç”Ÿæ´»åŸºç¡€ã€‚ç”Ÿæ´»åŸºç¡€ç”±å››ä¸ªå…·ä½“çš„ç‰¹å¾å…±åŒç»„æˆï¼Œåˆ†åˆ«æ˜¯å’Œè°å…±å¤„ã€ä½“æ ¼ã€å¥åº·å’Œå¯¹çˆ±çš„æ‰¿è¯ºã€‚</p><h3 id="ç”·æ€§çš„æ‹©å¶åå¥½"><a href="#ç”·æ€§çš„æ‹©å¶åå¥½" class="headerlink" title="ç”·æ€§çš„æ‹©å¶åå¥½"></a>ç”·æ€§çš„æ‹©å¶åå¥½</h3><p>å¥³æ€§å¾ˆå°‘ä¼šæ‹…å¿ƒç”·æ€§ç¼ºä¹ç”Ÿè‚²èƒ½åŠ›ï¼Œæ‹©å¶ä¸»è¦æ˜¯ä¸ºäº†æ‰¾åˆ°å¯é çš„ï¼Œèƒ½å¤Ÿæ‰¿æ‹…èµ·çˆ¶äº²è´£ä»»çš„ä¼´ä¾£ï¼›è€Œç”·æ€§æ‹©å¶ï¼Œé¦–å…ˆè¦æ‰¾åˆ°å…·å¤‡ç”Ÿè‚²èƒ½åŠ›çš„ä¼´ä¾£ã€‚å› æ­¤ï¼Œç”·æ€§çš„æ‹©å¶åå¥½æ˜¯å›´ç»•â€œç”Ÿè‚²èƒ½åŠ›â€å±•å¼€çš„ã€‚</p><p>ç”·æ€§å…³æ³¨çš„å…³é”®ç‰¹å¾ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼šå¥åº·ã€å¹´è½»å’Œå¿ è¯šã€‚</p><h2 id="ç¬¬å››åä¸‰èŠ‚-ä½•ä¸ºæ½œæ„è¯†"><a href="#ç¬¬å››åä¸‰èŠ‚-ä½•ä¸ºæ½œæ„è¯†" class="headerlink" title="ç¬¬å››åä¸‰èŠ‚ ä½•ä¸ºæ½œæ„è¯†"></a>ç¬¬å››åä¸‰èŠ‚ ä½•ä¸ºæ½œæ„è¯†</h2><h3 id="ä»€ä¹ˆæ˜¯æ½œæ„è¯†"><a href="#ä»€ä¹ˆæ˜¯æ½œæ„è¯†" class="headerlink" title="ä»€ä¹ˆæ˜¯æ½œæ„è¯†"></a>ä»€ä¹ˆæ˜¯æ½œæ„è¯†</h3><p>æ½œæ„è¯†æ˜¯ä¸€ä¸ªå¿ƒç†å­¦çš„ä¸“ä¸šè¯æ±‡ï¼Œæ½œæ˜¯æ½œåœ¨ã€æ½œåŠ›çš„æ½œï¼Œæœ€æ—©ç”±å¼—æ´›ä¼Šå¾·æå‡ºï¼ŒæŒ‡çš„æ˜¯äººç±»å¿ƒç†æ´»åŠ¨ä¸­ï¼Œä¸èƒ½è®¤çŸ¥æˆ–æ²¡æœ‰è®¤çŸ¥åˆ°çš„éƒ¨åˆ†ï¼Œæ˜¯äººä»¬â€œå·²ç»å‘ç”Ÿï¼Œä½†æ²¡æœ‰ä½“ç°åœ¨æ„è¯†ä¸­çš„å¿ƒç†æ´»åŠ¨è¿‡ç¨‹â€ã€‚</p><p>å¼—æ´›ä¼Šå¾·æŠŠæ½œæ„è¯†å…·ä½“åˆ†ä¸ºäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†å«å‰æ„è¯†ï¼Œä¸€éƒ¨åˆ†å«æ— æ„è¯†ã€‚å‰æ„è¯†å±äºæ½œæ„è¯†é‡Œæœ‰å¯èƒ½è¿›å…¥æ„è¯†çš„éƒ¨åˆ†ï¼›è€Œæ— æ„è¯†å±äºç»å¯¹æ— æ³•æ„ŸçŸ¥åˆ°çš„é‚£éƒ¨åˆ†æ„è¯†ã€‚</p><p>åœ¨å¼—æ´›ä¼Šå¾·çš„å¿ƒç†å­¦ç†è®ºä¸­ï¼Œæ— æ„è¯†ã€å‰æ„è¯†å’Œæ„è¯†æ˜¯ä¸‰ä¸ªå±‚æ¬¡ä¸åŒï¼Œä½†åˆç›¸äº’è”ç³»çš„ç³»ç»Ÿç»“æ„ã€‚</p><h2 id="ç¬¬å››åå››èŠ‚-æ½œæ„è¯†çš„çŸ­æœŸå½±å“"><a href="#ç¬¬å››åå››èŠ‚-æ½œæ„è¯†çš„çŸ­æœŸå½±å“" class="headerlink" title="ç¬¬å››åå››èŠ‚ æ½œæ„è¯†çš„çŸ­æœŸå½±å“"></a>ç¬¬å››åå››èŠ‚ æ½œæ„è¯†çš„çŸ­æœŸå½±å“</h2><p>æ½œæ„è¯†çš„çŸ­æœŸå½±å“<br>æ½œæ„è¯†å¯¹ç”Ÿæ´»çš„å½±å“ï¼Œå¯ä»¥ä»çŸ­æœŸå’Œé•¿æœŸä¸¤ä¸ªè§’åº¦æ¥çœ‹ã€‚æ‰€è°“çŸ­æœŸå½±å“ï¼Œå°±æ˜¯å³æ—¶å‘ç”Ÿçš„ï¼Œå¯¹æˆ‘ä»¬è¡Œä¸ºçš„å¼•å¯¼ã€‚</p><p>æ‹©å¶åå¥½å°±æ˜¯ä¸€ç§ï¼šæ½œæ„è¯†ä¼šæ ¹æ®æœ¬èƒ½çš„æ‹©å¶åå¥½ï¼Œå½±å“æˆ‘ä»¬çœ‹å¾…ä»–äººçš„æ–¹å¼ã€‚æ¯”å¦‚ï¼Œå“ªæ€•å¯¹ä¸€ä¸ªäººè¿˜ä¸äº†è§£çš„æ—¶å€™ï¼Œæœ‰äº›äººä½ ä¼šä¸€è§é’Ÿæƒ…ï¼Œäº§ç”Ÿå¤©ç„¶çš„å¥½æ„Ÿï¼Œè€Œæœ‰äº›äººæ²¡æœ‰å¾—ç½ªè¿‡ä½ ï¼Œä½ å´æ‰“å¿ƒåº•é‡Œå°±æƒ³è¦å’Œä»–ä¿æŒè·ç¦»ã€‚</p><h2 id="ç¬¬å››åäº”èŠ‚-æ½œæ„è¯†çš„é•¿æœŸå½±å“"><a href="#ç¬¬å››åäº”èŠ‚-æ½œæ„è¯†çš„é•¿æœŸå½±å“" class="headerlink" title="ç¬¬å››åäº”èŠ‚ æ½œæ„è¯†çš„é•¿æœŸå½±å“"></a>ç¬¬å››åäº”èŠ‚ æ½œæ„è¯†çš„é•¿æœŸå½±å“</h2><p>æ½œæ„è¯†çš„é•¿æœŸå½±å“ â€”â€” å‡å€¼å›å½’<br>å‡å€¼å›å½’æ˜¯ä¸€ä¸ªä¸è‚¡ç¥¨ç›¸å…³çš„æ¦‚å¿µã€‚å®ƒçš„æ„æ€æ˜¯ï¼šä»çŸ­æœŸæ¥çœ‹ï¼Œä¸€ä¸ªå…¬å¸çš„è‚¡ä»·ä¼šæœ‰æ³¢åŠ¨ï¼Œä¼šæœ‰å¤§å¹…åº¦çš„æ¶¨å’Œè·Œï¼Œéš¾ä»¥é¢„æµ‹ï¼Œä½†æŠŠæ—¶é—´å°ºåº¦æ”¾åˆ°äº”å¹´åå¹´ï¼Œç”šè‡³æ›´ä¹…ï¼Œè¿™ä¸ªå…¬å¸çš„çœŸå®ä»·å€¼æ˜¯å¤šå°‘ï¼Œè‚¡ä»·å°±ä¼šç¨³å®šåœ¨ä»€ä¹ˆæ°´å¹³ã€‚</p><p>å¦‚æœä¸è€ƒè™‘éåŒå¯»å¸¸çš„å¥½è¿æˆ–è€…å„è¿ï¼Œäººçš„ä¸€ç”Ÿï¼Œå…¶å®ä¹Ÿæ˜¯å‡å€¼å›å½’çš„è¿‡ç¨‹ã€‚åªä»å±€éƒ¨ä¸Šçœ‹ï¼Œå†³å®šäººç”Ÿèµ°å‘çš„ï¼Œæ˜¯ç«äº‰çš„ç»“æœå’Œæˆ‘ä»¬é€‰æ‹©çš„è·¯å¾„ã€‚ä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œäººç»ˆç©¶ä¼šå›åˆ°è‡ªå·±çš„å‡å€¼ã€‚é‚£ä¸ªå‡å€¼å°±æ˜¯ä½ çš„æ½œæ„è¯†ï¼Œæ˜¯ä½ å†…å¿ƒæœ€æ·±å¤„çš„å†²åŠ¨ï¼Œæ˜¯ä½ åˆ°åº•æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„äººã€‚</p><p>äººç”Ÿæœ€é‡è¦çš„äº‹æƒ…å°±æ˜¯å¦‚ä½•æ¸…æ¥šåœ°è®¤è¯†è‡ªå·±ï¼šæˆ‘çš„æ€§æ ¼å¦‚ä½•ï¼Œæˆ‘æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Œæˆ‘å–œæ¬¢åšä»€ä¹ˆå·¥ä½œï¼Œæˆ‘å–œæ¬¢ä»€ä¹ˆæ ·çš„ç”Ÿæ´»æ–¹å¼ã€‚æˆ‘çš„æ¢¦æƒ³æ˜¯æ”¹å˜ä¸–ç•Œï¼Œè·å¾—å°Šæ•¬ï¼Œè¿˜æ˜¯ä½åœ¨ä¸€ä¸ªæœ‰å±±æœ‰æ°´çš„åœ°æ–¹ï¼Œæ¯å¤©é›ç‹—ã€åšé¥­ã€å’Œæœ‹å‹æ‰“æ‰“ç‰Œã€é™ªè‡ªå·±çš„å®¶äººã€‚</p><p>ä¸æ˜¯æ™ºå•†å’Œæƒ…å•†ï¼Œè€Œæ˜¯æ½œæ„è¯†ä¸­çš„é‚£ä¸ªçœŸå®çš„è‡ªæˆ‘ï¼Œå†³å®šäº†ä½ æ„¿æ„ä¸ºä»€ä¹ˆå¥‹æ–—ï¼Œå†³å®šäº†ä½ å¯¹ä¸€ä»½äº‹ä¸šçš„çƒ­æƒ…å’Œè´£ä»»å¿ƒï¼ŒæŠŠè‡ªå·±æ”¾åœ¨ä»€ä¹ˆæ ·çš„ä½ç½®æ˜¯èˆ’æœçš„ã€‚è€Œè¿™äº›å› ç´ ï¼Œæœ€ç»ˆå†³å®šäº†ä½ çš„äººç”Ÿã€‚</p><h2 id="ç¬¬å››åå…­èŠ‚-å¤§è±¡ä¸éª‘è±¡äºº"><a href="#ç¬¬å››åå…­èŠ‚-å¤§è±¡ä¸éª‘è±¡äºº" class="headerlink" title="ç¬¬å››åå…­èŠ‚ å¤§è±¡ä¸éª‘è±¡äºº"></a>ç¬¬å››åå…­èŠ‚ å¤§è±¡ä¸éª‘è±¡äºº</h2><h3 id="è¿›ä¸€æ­¥æ¢ç´¢è‡ªæˆ‘-â€”â€”-å…³äºå¹¸ç¦"><a href="#è¿›ä¸€æ­¥æ¢ç´¢è‡ªæˆ‘-â€”â€”-å…³äºå¹¸ç¦" class="headerlink" title="è¿›ä¸€æ­¥æ¢ç´¢è‡ªæˆ‘ â€”â€” å…³äºå¹¸ç¦"></a>è¿›ä¸€æ­¥æ¢ç´¢è‡ªæˆ‘ â€”â€” å…³äºå¹¸ç¦</h3><p>å¹¸ç¦æ˜¯æˆ‘ä»¬æ‰€æœ‰äººçš„è¿½æ±‚ç›®æ ‡ï¼Œå´åœ¨ä¸åŒçš„äººå¿ƒä¸­æœ‰ä¸åŒçš„å®šä¹‰ã€‚åœ¨æ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡åä¸ªä¸»é¢˜çš„å±•å¼€ï¼Œä»æµ®èºå–§åš£çš„ç¯å¢ƒä¸­æŠ½ç¦»å‡ºæ¥ï¼Œçœ‹æ¸…è‡ªå·±çš„æœ¬å¿ƒã€‚ä½ è®¤ä¸ºå¹¸ç¦æ˜¯ä»€ä¹ˆï¼Œå®ƒå°±æ˜¯ä»€ä¹ˆã€‚</p><h3 id="ç¬¬ä¸€ä¸ªä¸»é¢˜-â€”â€”-å¤§è±¡ä¸éª‘è±¡äººå‡è®¾"><a href="#ç¬¬ä¸€ä¸ªä¸»é¢˜-â€”â€”-å¤§è±¡ä¸éª‘è±¡äººå‡è®¾" class="headerlink" title="ç¬¬ä¸€ä¸ªä¸»é¢˜ â€”â€” å¤§è±¡ä¸éª‘è±¡äººå‡è®¾"></a>ç¬¬ä¸€ä¸ªä¸»é¢˜ â€”â€” å¤§è±¡ä¸éª‘è±¡äººå‡è®¾</h3><p>äººçš„å¿ƒç†åˆ†ä¸ºä¸åŒçš„ä¸¤éƒ¨åˆ†ï¼šæˆ‘ä»¬èƒ½æ„ŸçŸ¥åˆ°çš„è‡ªæˆ‘æ˜¯ä¸€ä¸ªéª‘åœ¨å¤§è±¡èƒŒä¸Šçš„äººï¼Œè€Œä¸èƒ½è¢«æ„ŸçŸ¥åˆ°çš„è‡ªæˆ‘ï¼Œå°±æ˜¯å¤§è±¡æœ¬èº«ã€‚éª‘è±¡äººæ‰‹é‡Œæ¡ç€ç¼°ç»³ï¼Œå¯ä»¥æŒ‡æŒ¥å¤§è±¡è½¬å¼¯ã€åœæ­¢æˆ–æ˜¯å‰è¿›ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“å¤§è±¡æ²¡æœ‰è‡ªå·±çš„æƒ³æ³•æ—¶ï¼Œæˆ‘ä»¬æ‰å¯ä»¥æŒ‡æŒ¥ã€‚ä¸€æ—¦å¤§è±¡çœŸçš„æƒ³è¦åšä»€ä¹ˆï¼Œå®ƒå°±ä¼šè‡ªé¡¾è‡ªçš„èµ°ã€‚</p><h2 id="ç¬¬å››åä¸ƒèŠ‚-å¤§è±¡çš„æœ¬è´¨"><a href="#ç¬¬å››åä¸ƒèŠ‚-å¤§è±¡çš„æœ¬è´¨" class="headerlink" title="ç¬¬å››åä¸ƒèŠ‚ å¤§è±¡çš„æœ¬è´¨"></a>ç¬¬å››åä¸ƒèŠ‚ å¤§è±¡çš„æœ¬è´¨</h2><h3 id="å¿ƒç†çš„ä¸¤å¥—è¿è¡Œæœºåˆ¶"><a href="#å¿ƒç†çš„ä¸¤å¥—è¿è¡Œæœºåˆ¶" class="headerlink" title="å¿ƒç†çš„ä¸¤å¥—è¿è¡Œæœºåˆ¶"></a>å¿ƒç†çš„ä¸¤å¥—è¿è¡Œæœºåˆ¶</h3><p>è‡ªæˆ‘æ˜¯ä¸€ä¸ªç”±å¤§è±¡å’Œéª‘è±¡äººå…±åŒç»„æˆçš„å¤æ‚ç»„ç»‡ã€‚ç»„ç»‡çš„å†…éƒ¨åŒ…å«äº†å„ç§ä¸åŒçš„è§’è‰²ï¼Œå¿ƒçµå’Œèº«ä½“ã€ç†æ€§å’Œæ„Ÿæ€§ï¼Œä»¥åŠå·¦è„‘å’Œå³è„‘ã€‚ç»è¿‡äº†å¤šå¹´çš„ç ”ç©¶å’Œåˆ†æï¼Œå¿ƒç†å­¦å®¶ä»¬æŠŠä¸¤ä¸¤å¯¹ç«‹çš„å…ƒç´ ç»Ÿä¸€èµ·æ¥ï¼Œå°†äººçš„å¿ƒç†åˆ†æˆäº†ä¸¤å¥—è¿ä½œæœºåˆ¶ï¼šä¸»åŠ¨æ§åˆ¶å’Œè‡ªåŠ¨åŒ–å¤„ç†ã€‚</p><h3 id="å¤§è±¡-â€”â€”-è‡ªåŠ¨åŒ–å¤„ç†"><a href="#å¤§è±¡-â€”â€”-è‡ªåŠ¨åŒ–å¤„ç†" class="headerlink" title="å¤§è±¡ â€”â€” è‡ªåŠ¨åŒ–å¤„ç†"></a>å¤§è±¡ â€”â€” è‡ªåŠ¨åŒ–å¤„ç†</h3><p>å¤§éƒ¨åˆ†çš„å¿ƒç†æ´»åŠ¨ä¼šåœ¨æˆ‘ä»¬æ²¡æœ‰æ„è¯†åˆ°çš„æ—¶å€™è‡ªåŠ¨å‘ç”Ÿï¼Œå¹¶å¯¹èº«ä½“äº§ç”Ÿå®è´¨æ€§çš„å½±å“ã€‚è¿™ç§è‡ªåŠ¨åŒ–å¤„ç†çš„æœºåˆ¶ï¼Œåˆè¢«ç§°ä¸ºæ½œæ„è¯†ã€‚ç”±äºæ„è¯†ä¸åˆ°ï¼Œè¿™ç§è‡ªåŠ¨åŒ–å¤„ç†çš„æœºåˆ¶ä¸å¤Ÿç†æ™ºï¼Œä½†å’Œä¸€æ¬¡åªèƒ½æ€è€ƒä¸€ä¸¤ä»¶äº‹æƒ…çš„éª‘è±¡äººæ¯”èµ·æ¥ï¼Œå¤§è±¡çš„ä¼˜åŠ¿å°±æ˜¯å¯ä»¥åŒæ—¶å¤„ç†å¤§é‡ä»»åŠ¡ã€‚</p><h2 id="ç¬¬å››åå…«èŠ‚-äººè±¡å†²çª-1"><a href="#ç¬¬å››åå…«èŠ‚-äººè±¡å†²çª-1" class="headerlink" title="ç¬¬å››åå…«èŠ‚ äººè±¡å†²çª(1)"></a>ç¬¬å››åå…«èŠ‚ äººè±¡å†²çª(1)</h2><h3 id="ä¸ºä»€ä¹ˆæ°å‡ºçš„äººæ˜¯å°‘æ•°"><a href="#ä¸ºä»€ä¹ˆæ°å‡ºçš„äººæ˜¯å°‘æ•°" class="headerlink" title="ä¸ºä»€ä¹ˆæ°å‡ºçš„äººæ˜¯å°‘æ•°"></a>ä¸ºä»€ä¹ˆæ°å‡ºçš„äººæ˜¯å°‘æ•°</h3><p>éª‘è±¡äººä»£è¡¨äº†æœ‰æ„è¯†çš„ã€ä¸»åŠ¨æ§åˆ¶åçš„æ€è€ƒã€‚å¤§è±¡åŒ…å«æˆ‘ä»¬å†…å¿ƒçš„æ„Ÿè§‰ã€æœ¬èƒ½ååº”ã€æƒ…ç»ªå’Œç›´è§‰ï¼Œä»£è¡¨äº†è‡ªåŠ¨åŒ–çš„å¿ƒç†æ´»åŠ¨ã€‚å¤§è±¡å’Œéª‘è±¡äººå„æœ‰ä¼˜åŠ¿ï¼Œåªè¦é…åˆè‰¯å¥½ï¼Œå°±æˆç»„æˆä¸€ä¸ªæ°å‡ºçš„ä¸ªä½“ã€‚ä½†æ˜¯ï¼Œåœ¨å¤§éƒ¨åˆ†äººçš„å¿ƒä¸­ï¼Œå¤§è±¡å’Œéª‘è±¡äººä¹‹é—´ä¼šäº§ç”Ÿå¤æ‚çš„å†²çªï¼Œå¾ˆéš¾å½¢æˆä¸€ä¸ªè‰¯å¥½çš„æ•´ä½“ã€‚</p><h3 id="äººè±¡å†²çª-â€”â€”-å½“ä¸‹ä¸æœªæ¥"><a href="#äººè±¡å†²çª-â€”â€”-å½“ä¸‹ä¸æœªæ¥" class="headerlink" title="äººè±¡å†²çª â€”â€” å½“ä¸‹ä¸æœªæ¥"></a>äººè±¡å†²çª â€”â€” å½“ä¸‹ä¸æœªæ¥</h3><p>éª‘è±¡äººç›®å…‰é•¿è¿œï¼Œè€Œå¤§è±¡åªç›¯ç€å½“ä¸‹ã€‚å¦‚æœéª‘è±¡äººä¸èƒ½æ§åˆ¶å¤§è±¡ï¼Œäººå°±ä¼šä¸ºäº†å¾®ä¸è¶³é“çš„çŸ­æœŸåˆ©ç›Šè€Œæ”¾å¼ƒæœªæ¥æ›´å¥½çš„å‘å±•æœºä¼šã€‚</p><h2 id="ç¬¬å››åä¹èŠ‚-äººè±¡å†²çª-2"><a href="#ç¬¬å››åä¹èŠ‚-äººè±¡å†²çª-2" class="headerlink" title="ç¬¬å››åä¹èŠ‚ äººè±¡å†²çª(2)"></a>ç¬¬å››åä¹èŠ‚ äººè±¡å†²çª(2)</h2><p>äººè±¡å†²çª â€”â€” å¿ƒç†æ´»åŠ¨çš„å¾ªç¯<br>å½“éª‘è±¡äººäº§ç”Ÿä¸€ä¸ªç›®æ ‡ï¼Œå¹¶ä¸”å¤§è±¡ä¹Ÿæ„¿æ„æ‰§è¡Œæ—¶ï¼Œå¤§è±¡å°±ä¼šåˆ†å‡ºä¸€éƒ¨åˆ†ç²¾åŠ›ç”¨äºæ£€æŸ¥ç›®æ ‡çš„å®Œæˆæƒ…å†µå¹¶åŠ ä»¥ååŠ©ï¼Œç›´åˆ°ç¡®è®¤å®Œæˆæ‰åœæ­¢ã€‚è¿™ç§åˆä½œæ¨¡å¼åœ¨å®Œæˆå®é™…è¡ŒåŠ¨æ—¶éå¸¸åˆé€‚ï¼Œä½†åº”ç”¨åœ¨å¿ƒç†æ´»åŠ¨æ—¶å°±å¾ˆå®¹æ˜“é™·å…¥æ­»å¾ªç¯ã€‚</p><p>ä»¥æ¶ˆé™¤æ‚å¿µä¸ºä¾‹ï¼šå¦‚æœéª‘è±¡äººçš„ç›®æ ‡æ˜¯æ¶ˆé™¤æ‚å¿µï¼Œé‚£ä¹ˆå¤§è±¡ä¹Ÿä¼šå¼€å§‹è‡ªåŠ¨æ£€æŸ¥æ‚å¿µæ˜¯å¦æ¶ˆé™¤ã€‚æ¯å½“éª‘è±¡äººæŠŠæ‚å¿µæ¸…é™¤ï¼Œå¤§è±¡å°±ä¼šæŠŠæ‚å¿µå†æ‹½å›æ¥ï¼Œçœ‹çœ‹æ¶ˆé™¤çš„æ˜¯ä¸æ˜¯å®ƒã€‚ä½ è¶Šæ˜¯æƒ³è¦æ¸…é™¤æ‚å¿µï¼Œå¤§è±¡å°±è¶Šå–åŠ›çš„æ£€æŸ¥ï¼Œæ‚å¿µåè€Œåœ¨è„‘æµ·é‡Œç”Ÿæ ¹å‘èŠ½ã€‚</p><h2 id="ç¬¬äº”åèŠ‚-äººè±¡å†²çª-3"><a href="#ç¬¬äº”åèŠ‚-äººè±¡å†²çª-3" class="headerlink" title="ç¬¬äº”åèŠ‚ äººè±¡å†²çª(3)"></a>ç¬¬äº”åèŠ‚ äººè±¡å†²çª(3)</h2><p>äººè±¡å†²çª â€”â€” éª‘è±¡äººçš„è§£é‡Šè¯¯åŒº<br>æˆ‘ä»¬èƒ½æ„ŸçŸ¥åˆ°çš„è‡ªæˆ‘ï¼Œäº§ç”Ÿçš„æ€è€ƒå’Œæ„è¯†ï¼Œéƒ½æ˜¯ä»¥éª‘è±¡äººçš„èº«ä»½è¿›è¡Œçš„ã€‚è¿™ä¼šè®©æˆ‘ä»¬å½¢æˆä¸€ç§åˆ»æ¿çš„å°è±¡ï¼šè¯¯ä»¥ä¸ºæˆ‘ä»¬çš„æ‰€æœ‰è§‚ç‚¹ã€æƒ…æ„Ÿå’Œè¡Œä¸ºï¼Œéƒ½æ˜¯éª‘è±¡äººå…ˆè¿›è¡Œæ€è€ƒï¼Œå†ä¼ è¾¾ç»™å¤§è±¡ã€‚</p><p>ä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæ˜¯å¤§è±¡è‡ªå·±åšå‡ºäº†å†³å®šã€‚éª‘è±¡äººæ‰€åšçš„å¹¶ä¸æ˜¯å†³å®šï¼Œè€Œæ˜¯æƒ³åŠæ³•æ‹¼å‡‘å‡ºä¸€äº›è¯­å¥å’Œé“ç†æ¥è§£é‡Šè‡ªå·±çš„æ‰€ä½œæ‰€ä¸ºã€‚</p><p>å¦‚æœæˆ‘ä»¬æ€»æ˜¯è¯•å›¾ç”¨ç†æ€§æ¥è§£é‡Šè‡ªå·±çš„æ‰€ä½œæ‰€ä¸ºï¼Œå°±ä¼šåœ¨é‡åˆ°é‚£äº›æ ¹æœ¬æ— æ³•è§£é‡Šçš„å†…å¿ƒå†²åŠ¨æ—¶é™·å…¥è¿·èŒ«ï¼›æˆ–è€…åœ¨æ¯ä¸€æ¬¡ç«‹ä¸‹èª“è¨€å´æ— æ³•åšæŒçš„æ—¶å€™è´¨ç–‘è‡ªå·±çš„è™šä¼ªå’Œè½¯å¼±ã€‚</p><h2 id="ç¬¬äº”åä¸€èŠ‚-å¤§è±¡å¾ˆèªæ˜"><a href="#ç¬¬äº”åä¸€èŠ‚-å¤§è±¡å¾ˆèªæ˜" class="headerlink" title="ç¬¬äº”åä¸€èŠ‚ å¤§è±¡å¾ˆèªæ˜"></a>ç¬¬äº”åä¸€èŠ‚ å¤§è±¡å¾ˆèªæ˜</h2><p>å¤§è±¡å¾ˆâ€œèªæ˜â€<br>äººå’Œè±¡çš„åšå¼ˆçœ‹ä¸Šå»å¾ˆåƒç†æ€§ä¸æ„Ÿæ€§ï¼Œäººæ€§ä¸å…½æ€§çš„å¯¹æŠ—ï¼Œä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚å¤§è±¡ä¸ç­‰åŒäºä¸ç†æ€§çš„è‡ªæˆ‘ï¼Œåªæ˜¯å®ƒçš„ç†æ€§æ— æ³•è¢«ç›´æ¥æ„ŸçŸ¥ã€‚</p><p>å¿ƒç†å­¦å®¶é€šè¿‡å®éªŒå‘ç°ï¼šå±å¹•ä¸Šé£é€Ÿé—ªè¿‡çš„ã€æ— æ³•è¢«æˆ‘ä»¬æ„è¯†åˆ°çš„è¯è¯­ï¼Œä¾ç„¶å¯¹æˆ‘ä»¬äº§ç”Ÿäº†å½±å“ã€‚è¿™è¯´æ˜ï¼Œéª‘è±¡äººæ— æ³•æ„ŸçŸ¥çš„ç»†èŠ‚ï¼Œå¯ä»¥è¢«å¤§è±¡æ„ŸçŸ¥ï¼Œè€Œä¸”å¤§è±¡å…·å¤‡ä¸€å®šçš„è®¤çŸ¥èƒ½åŠ›ã€‚</p><p>èƒ½å¤Ÿé€šè¿‡æ„Ÿå®˜è§‚å¯Ÿä¸–ç•Œï¼Œè¿›è¡Œæ€è€ƒçš„ï¼Œä¸åªæœ‰è¢«æˆ‘ä»¬æ„ŸçŸ¥åˆ°çš„æ„è¯†ï¼Œè¿˜æœ‰ä¸€ä¸ªæ•æ„Ÿä¸”èªæ˜çš„å¤§è±¡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼Œæˆ‘ä»¬çš„æƒ…ç»ªæ€»æ˜¯ä¼šæ²¡æœ‰é“ç†ã€è«åå…¶å¦™çš„æ”¹å˜ã€‚è€Œä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œæƒ³è¦æ”¹å–„è‡ªå·±çš„å¿ƒæƒ…ï¼Œä¸èƒ½åªé æŠŠäº‹æƒ…æƒ³é€šï¼Œå¤–éƒ¨ç¯å¢ƒçš„ç»†èŠ‚ä¹Ÿå¾ˆé‡è¦ã€‚</p><h2 id="ç¬¬äº”åäºŒèŠ‚-å¯¹å¹¸ç¦çš„ç†è§£"><a href="#ç¬¬äº”åäºŒèŠ‚-å¯¹å¹¸ç¦çš„ç†è§£" class="headerlink" title="ç¬¬äº”åäºŒèŠ‚ å¯¹å¹¸ç¦çš„ç†è§£"></a>ç¬¬äº”åäºŒèŠ‚ å¯¹å¹¸ç¦çš„ç†è§£</h2><p>å¯¹å¹¸ç¦çš„ä¸‰ç§å¸¸è§ç†è§£<br>åœ¨ä¸€éƒ¨åˆ†äººçš„å¿ƒä¸­ï¼Œå¹¸ç¦çš„æ ·å­æ˜¯å¾ˆå…·ä½“çš„ã€‚ä»–ä»¬æŠŠå¹¸ç¦ä¸ç‰©è´¨ç»‘å®šèµ·æ¥ï¼Œå¯¹è·å¾—è´¢å¯ŒæŠ±æœ‰æå¤§çš„çƒ­æƒ…ï¼Œåšä¿¡æœ€å¤§çš„å¹¸ç¦æ¥è‡ªäºè·å¾—è‡ªå·±æƒ³è¦çš„èº«å¤–ä¹‹ç‰©ã€‚</p><p>åœ¨å¦ä¸€éƒ¨åˆ†äººçš„å¿ƒä¸­ï¼Œå¹¸ç¦ä¸æ˜¯åº¸ä¿—çš„ç‰©è´¨ï¼Œè€Œæ˜¯ç²¾ç¥ä¸Šçš„è´¢å¯Œã€‚æ¯”å¦‚ä»–äººçš„è®¤å¯ã€è¾ƒé«˜çš„ç¤¾ä¼šåœ°ä½ã€çœŸæŒšçš„å‹æƒ…ï¼Œç¾æ»¡çš„å®¶åº­ã€‚</p><p>è¿˜æœ‰äººè®¤ä¸ºï¼Œè¿½æ±‚èº«å¤–ä¹‹ç‰©ï¼Œæˆ–å¼ºæ±‚ä¸–äº‹å¦‚è‡ªå·±æ‰€æ„¿ï¼Œæœ€åéƒ½æ˜¯ä¸€åœºç©ºã€‚çœŸæ­£çš„å¹¸ç¦åªèƒ½æ¥è‡ªäºè‡ªå·±çš„å†…å¿ƒï¼Œæ–­é™¤å¯¹èº«å¤–ä¹‹ç‰©çš„æ‰§ç€ï¼Œå¯¹èº«è¾¹çš„ä¸€åˆ‡éƒ½é‡‡å–å¹³å’Œæ¥å—çš„æ€åº¦ã€‚</p><h2 id="ç¬¬äº”åä¸‰èŠ‚-è°ƒæ•´é¢„æœŸ"><a href="#ç¬¬äº”åä¸‰èŠ‚-è°ƒæ•´é¢„æœŸ" class="headerlink" title="ç¬¬äº”åä¸‰èŠ‚ è°ƒæ•´é¢„æœŸ"></a>ç¬¬äº”åä¸‰èŠ‚ è°ƒæ•´é¢„æœŸ</h2><p>æå‡å¹¸ç¦æ„Ÿçš„æŠ€å·§ â€”â€” è°ƒæ•´é¢„æœŸ<br>ä¿æŒè¿›å±•ï¼Œèƒ½å¤ŸæŠŠé•¿æœŸç›®æ ‡å¸¦æ¥çš„çŸ­æš‚å¹¸ç¦ï¼Œå˜æˆä¸€æ­¥ä¸€æ­¥å‰è¿›çš„å…´å¥‹å’Œæ»¡è¶³ã€‚æ˜¯ä¸€ç§é”¦ä¸Šæ·»èŠ±ã€æ‰©å¤§å¹¸ç¦çš„æ–¹å¼ã€‚ä½†æ˜¯ï¼Œç”Ÿæ´»ä¸­ä¸åªæœ‰å¥½äº‹ï¼Œéš¾å…è¿˜ä¼šé‡åˆ°äº›å„è¿é™ä¸´ã€‚æƒ³è¦æå‡å¹¸ç¦æ„Ÿï¼Œé™¤äº†é”¦ä¸Šæ·»èŠ±ï¼Œè¿˜éœ€è¦é›ªä¸­é€ç‚­ï¼Œè¿™æ—¶å€™å°±éœ€è¦è°ƒæ•´é¢„æœŸã€‚</p><p>äººå¯¹äºå½“ä¸‹å¤„å¢ƒçš„çœ‹å¾…æ–¹å¼ï¼Œé«˜åº¦å–å†³äºä»–å¯¹ç”Ÿæ´»çš„å¿ƒç†é¢„æœŸã€‚æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±ç¾¡æ…•çš„å¯¹è±¡ï¼Œä½†åŒæ ·ï¼Œæ¯ä¸ªäººéƒ½è¢«åˆ«äººç¾¡æ…•ç€ã€‚æ”¹å˜ç”Ÿæ´»å¾ˆéš¾ï¼Œä½†è°ƒæ•´é¢„æœŸåªéœ€è¦æˆ‘ä»¬æ¢ä¸ªè§’åº¦ã€‚å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿåšåˆ°â€œç¾¡æ…•è‡ªå·±â€œï¼Œå¹¸ç¦å°±ä¼šéšä¹‹é™ä¸´ã€‚</p><h2 id="ç¬¬äº”åå››èŠ‚-å¯¹ç”Ÿå‘½çš„ç†è§£"><a href="#ç¬¬äº”åå››èŠ‚-å¯¹ç”Ÿå‘½çš„ç†è§£" class="headerlink" title="ç¬¬äº”åå››èŠ‚ å¯¹ç”Ÿå‘½çš„ç†è§£"></a>ç¬¬äº”åå››èŠ‚ å¯¹ç”Ÿå‘½çš„ç†è§£</h2><p>ä½ è®¤ä¸ºç”Ÿå‘½æœ¬èº«æ˜¯ä»€ä¹ˆï¼Œå®ƒå°±æ˜¯ä»€ä¹ˆâ€<br>â€œæ²¡æœ‰äº‹å®ï¼Œåªæœ‰æ„Ÿå—ã€‚â€ä¸–ç•Œæ˜¯å®¢è§‚çš„ï¼Œä½†ä½ æ‰€ç†è§£çš„ç”Ÿæ´»ï¼Œä½ çœ‹åˆ°çš„äº‹å®ï¼Œéƒ½æ˜¯å®¢è§‚å­˜åœ¨ç»è¿‡è‡ªå·±æ€è€ƒåŠ å·¥åæ‰å½¢æˆçš„ã€‚</p><p>æ„ä¹‰æ˜¯æˆ‘ä»¬è‡ªå·±èµ‹äºˆçš„ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¹Ÿæœ‰æ”¹å˜æ„ä¹‰çš„æƒåŠ›å’Œèƒ½åŠ›ï¼Œæ˜ç¡®è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿæ˜ç™½ä¸€é¢—å¼ºå¤§å†…å¿ƒçš„é‡è¦ï¼šé™¤éä½ è§‰å¾—æ‚²æƒ¨ï¼Œå¦åˆ™æ²¡æœ‰ä»€ä¹ˆæ˜¯æ‚²æƒ¨çš„ï¼›åŒç†ï¼Œé™¤éä½ çŸ¥è¶³å¸¸ä¹ï¼Œå¦åˆ™æ²¡æœ‰ä»€ä¹ˆäº‹èƒ½è®©ä½ å¿«ä¹ã€‚</p><p>ç”Ÿæ´»æœ¬èº«æ²¡æœ‰ä»»ä½•æ·é”ï¼Œæ˜¯æ‚²è§‚çš„è§£è¯»æ–¹å¼å»ºé€ äº†å†…å¿ƒçš„ç‰¢ç¬¼ã€‚å› æ­¤ï¼Œæ”¹å˜é¢„æœŸå¹¶ä¸åªæ˜¯ä¸€ç§æŠ€å·§ï¼Œç©¶å…¶æ ¹æºï¼Œæ˜¯ä¸€ç§æ›´åŠ å¹¿é˜”ã€æ›´åŠ åŒ…å®¹çš„çœ‹å¾…ä¸–ç•Œå’Œç”Ÿæ´»çš„æ€åº¦ã€‚</p><h2 id="ç¬¬äº”åäº”èŠ‚-å¹¸ç¦æ–¹ç¨‹å¼"><a href="#ç¬¬äº”åäº”èŠ‚-å¹¸ç¦æ–¹ç¨‹å¼" class="headerlink" title="ç¬¬äº”åäº”èŠ‚ å¹¸ç¦æ–¹ç¨‹å¼"></a>ç¬¬äº”åäº”èŠ‚ å¹¸ç¦æ–¹ç¨‹å¼</h2><h3 id="å¹¸ç¦ç”±ä½•ç»„æˆ"><a href="#å¹¸ç¦ç”±ä½•ç»„æˆ" class="headerlink" title="å¹¸ç¦ç”±ä½•ç»„æˆ"></a>å¹¸ç¦ç”±ä½•ç»„æˆ</h3><p>è‡ªå¼—æ´›ä¼Šå¾·ä»¥æ¥ï¼Œå¿ƒç†å­¦ç•Œçš„ä¸»æµè§‚ç‚¹è®¤ä¸ºï¼Œäººçš„ä¸ªæ€§ä¸»è¦å—ç«¥å¹´æ—¶æœŸç¯å¢ƒçš„å½±å“ã€‚20ä¸–çºª90å¹´ä»£ï¼Œç ”ç©¶äººå‘˜åˆåœ¨æœ‰å…³å¹¸ç¦çš„ç ”ç©¶ä¸­å‘ç°ï¼šä¸€ä¸ªäººå¿«ä¹ä¸å¦ã€æ€§æ ¼å¦‚ä½•ï¼Œå…¶å®ä¸åŸºå› çš„å…³ç³»å¯†åˆ‡ï¼Œä¸åå¤©ç¯å¢ƒåˆ™ä¸å¤ªç›¸å…³ã€‚</p><p>äººçš„å¹¸ç¦ï¼Œç©¶ç«Ÿæ˜¯å…ˆå¤©å†³å®šï¼Œè¿˜æ˜¯åå¤©å½¢æˆï¼Ÿä¸ºäº†å›ç­”è¿™äº›ç–‘é—®ï¼Œç§¯æå¿ƒç†å­¦çš„å¼€åˆ›äººå¡åˆ©æ ¼æ›¼ç»„ç»‡äº†ä¸“å®¶ç ”ç©¶å°ç»„ï¼Œç»è¿‡äº†é•¿æœŸçš„è§‚å¯Ÿå’Œå®éªŒï¼Œå¾—å‡ºäº†å¹¸ç¦æ–¹ç¨‹å¼ã€‚</p><h3 id="å¹¸ç¦æ–¹ç¨‹å¼"><a href="#å¹¸ç¦æ–¹ç¨‹å¼" class="headerlink" title="å¹¸ç¦æ–¹ç¨‹å¼"></a>å¹¸ç¦æ–¹ç¨‹å¼</h3><p>å¹¸ç¦æ–¹ç¨‹å¼ï¼šH=S+C+Vã€‚<br>å…ˆå¤©çš„å¹¸ç¦æŒ‡æ•°ã€æ‰€å¤„ç¯å¢ƒçš„ç”Ÿæ´»æ¡ä»¶å’Œçœ‹å¾…ç”Ÿæ´»çš„æ€åº¦ï¼Œè¿™ä¸‰è€…å…±åŒå†³å®šäº†æˆ‘ä»¬çœŸæ­£æ„ŸçŸ¥åˆ°çš„å¹¸ç¦ã€‚è¿™è¯´æ˜å¹¸ç¦ä¸å…¨æ˜¯å¤©ç”Ÿçš„ï¼Œæˆ‘ä»¬å¯¹å¹¸ç¦çš„è¿½æ±‚å¹¶ä¸æ˜¯å¾’åŠ³ã€‚ä½†åœ¨è¿½æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œå…‰æ³¨é‡ç‰©è´¨ï¼Œæ”¹å–„ç”Ÿæ´»æ¡ä»¶æ˜¯ä¸è¡Œçš„ï¼›åªæ”¹å˜æ€åº¦ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œè¦å°½é‡å…¼é¡¾è¿™ä¸¤è€…æ‰å¯ä»¥ã€‚</p><h2 id="ç¬¬äº”åå…­èŠ‚-å½±å“å¹¸ç¦æ„Ÿçš„å› ç´ -1"><a href="#ç¬¬äº”åå…­èŠ‚-å½±å“å¹¸ç¦æ„Ÿçš„å› ç´ -1" class="headerlink" title="ç¬¬äº”åå…­èŠ‚ å½±å“å¹¸ç¦æ„Ÿçš„å› ç´ (1)"></a>ç¬¬äº”åå…­èŠ‚ å½±å“å¹¸ç¦æ„Ÿçš„å› ç´ (1)</h2><h3 id="å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´ -â€”â€”-å™ªå£°"><a href="#å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´ -â€”â€”-å™ªå£°" class="headerlink" title="å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” å™ªå£°"></a>å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” å™ªå£°</h3><p>ç”Ÿæ´»æ¡ä»¶æ˜¯æ— æ•°å¤–éƒ¨å› ç´ å…±åŒç»„æˆçš„ï¼Œåœ¨ä¼—å¤šå› ç´ ä¹‹ä¸­ï¼Œæœ‰äº”ç‚¹å®¹æ˜“è¢«å¿½è§†ï¼Œå´èƒ½æ˜¾è‘—å½±å“ç”Ÿæ´»ã€‚</p><p>å±…ä½ç¯å¢ƒçš„å™ªå£°å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼šç ”ç©¶æ˜¾ç¤ºï¼Œæ— è®ºè¿‡äº†å¤šä¹…ï¼Œäººéƒ½æ— æ³•åšåˆ°å®Œå…¨é€‚åº”å™ªå£°å¹²æ‰°ã€‚ç”šè‡³æœ‰ç ”ç©¶æ˜¾ç¤ºï¼Œäººæœ‰æ—¶ä¸ºäº†é€‚åº”å™ªå£°ï¼Œè®¤çŸ¥åŠŸèƒ½ä¼šå› è€Œå—æŸã€‚å„å¼å„æ ·ã€é—´æ­‡å‡ºç°çš„å™ªå£°éƒ½ä¼šå¹²æ‰°æˆ‘ä»¬çš„æ³¨æ„åŠ›ï¼Œå¢åŠ æˆ‘ä»¬çš„å‹åŠ›ã€‚</p><h3 id="å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´ -â€”â€”-é€šå‹¤æ—¶é—´"><a href="#å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´ -â€”â€”-é€šå‹¤æ—¶é—´" class="headerlink" title="å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” é€šå‹¤æ—¶é—´"></a>å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” é€šå‹¤æ—¶é—´</h3><p>å¾ˆå¤šäººä¸ºäº†ä½å¤§ä¸€ç‚¹å„¿çš„æˆ¿å­ï¼Œå®æ„¿ä½åˆ°ç¦»å…¬å¸è¾ƒè¿œçš„åœ°æ–¹ã€‚ä½†å¤§æˆ¿å­å¸¦æ¥çš„å¿«ä¹æ˜¯çŸ­æš‚çš„ï¼Œéšç€é¢„æœŸæé«˜ï¼Œäººå¾ˆå¿«å°±èƒ½é€‚åº”ç©ºé—´å˜å¤§çš„å¥½å¤„ã€‚ä½†æ— è®ºæ˜¯è‡ªå·±å¼€è½¦çš„å¡è½¦ä¹‹è‹¦ï¼Œè¿˜æ˜¯ä¸€è·¯æŒ¤åœ°é“ï¼Œé•¿æ—¶é—´é€šå‹¤çš„ç—›è‹¦å´æ˜¯æŒç»­çš„ï¼Œé€šå‹¤æ—¶é—´çš„å»¶é•¿è¿˜æ„å‘³ç€è¦ç‰ºç‰²ç¡çœ å’Œä¼‘æ¯æ—¶é—´ã€‚</p><h2 id="ç¬¬äº”åä¸ƒèŠ‚-å½±å“å¹¸ç¦æ„Ÿçš„å› ç´ -2"><a href="#ç¬¬äº”åä¸ƒèŠ‚-å½±å“å¹¸ç¦æ„Ÿçš„å› ç´ -2" class="headerlink" title="ç¬¬äº”åä¸ƒèŠ‚ å½±å“å¹¸ç¦æ„Ÿçš„å› ç´ (2)"></a>ç¬¬äº”åä¸ƒèŠ‚ å½±å“å¹¸ç¦æ„Ÿçš„å› ç´ (2)</h2><h3 id="å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´ -â€”â€”-æŒæ§æ„Ÿ"><a href="#å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´ -â€”â€”-æŒæ§æ„Ÿ" class="headerlink" title="å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” æŒæ§æ„Ÿ"></a>å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” æŒæ§æ„Ÿ</h3><p>å±…ä½ç¯å¢ƒçš„å™ªéŸ³ï¼Œå’Œæ¼«é•¿çš„é€šå‹¤æ—¶é—´ï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„å…±åŒç‚¹ï¼Œé‚£å°±æ˜¯è¿™ä¸¤é¡¹å› ç´ ä¹‹æ‰€ä»¥è®©äººæ¼ç«ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æ— æ³•æ§åˆ¶å®ƒä»¬ã€‚é€šè¿‡å®éªŒå‘ç°ï¼Œå¦‚æœäººä»¬è®¤ä¸ºè‡ªå·±å¯ä»¥æ§åˆ¶å™ªå£°ï¼Œè¿™ä¸ªæƒ³æ³•å°±ä¼šè®©ä»–ä»¬è§‰å¾—å™ªå£°æ²¡é‚£ä¹ˆçƒ¦äººã€‚</p><p>å› æ­¤ï¼Œå¢å¼ºè‡ªå·±å¯¹ç”Ÿæ´»çš„æŒæ§æ„Ÿï¼Œæ˜¯æå‡æ´»åŠ›å’Œå¿«ä¹çš„ä¸€å¤§åˆ©å™¨ã€‚å“ªæ€•æ˜¯é‡åˆ°äº†è‰°å·¨çš„æŒ‘æˆ˜ï¼Œä¹Ÿè¦è®¤çœŸè§„åˆ’ï¼Œæ‹†è§£æˆèƒ½å¤ŸæŒæ¡çš„å°ä»»åŠ¡ã€‚</p><h3 id="å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´ -â€”â€”-å¤©ç„¶çš„ç¼ºé™·"><a href="#å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´ -â€”â€”-å¤©ç„¶çš„ç¼ºé™·" class="headerlink" title="å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” å¤©ç„¶çš„ç¼ºé™·"></a>å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” å¤©ç„¶çš„ç¼ºé™·</h3><p>äººä»¬æœ‰ä¸€ä¸ªå…±è¯†ï¼Œé‚£å°±æ˜¯äººè¦æ‰¬é•¿é¿çŸ­ï¼Œä¸å…¶æŠŠç²¾åŠ›é›†ä¸­åœ¨æ”¹å–„ç¼ºç‚¹ï¼Œä¸å¦‚å¼ºåŒ–è‡ªå·±çš„ä¼˜åŠ¿ï¼Œæ›´å®¹æ˜“åœ¨ç¤¾ä¼šä¸­å–å¾—æˆåŠŸã€‚ä½†æƒ³è¦è¿½æ±‚å¹¸ç¦æ„Ÿï¼ŒæŸ¥æ¼è¡¥ç¼ºçš„ä¼˜å…ˆçº§å°±è¦æ›´é«˜ã€‚å“ªæ€•æ˜¯çœ‹ä¼¼è‚¤æµ…çš„æ”¹å˜ï¼Œåªè¦èƒ½æ©é¥°è‡ªå·±çš„å¤©ç„¶ç¼ºé™·ï¼Œå°±èƒ½ç«‹ç«¿è§å½±çš„è®©äººæ„Ÿåˆ°æ›´è‡ªä¿¡ï¼Œæ›´å¿«ä¹ã€‚</p><h2 id="ç¬¬äº”åå…«èŠ‚-å»ºç«‹è‰¯å¥½äººé™…å…³ç³»"><a href="#ç¬¬äº”åå…«èŠ‚-å»ºç«‹è‰¯å¥½äººé™…å…³ç³»" class="headerlink" title="ç¬¬äº”åå…«èŠ‚ å»ºç«‹è‰¯å¥½äººé™…å…³ç³»"></a>ç¬¬äº”åå…«èŠ‚ å»ºç«‹è‰¯å¥½äººé™…å…³ç³»</h2><h3 id="å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´ -â€”â€”-äººé™…å…³ç³»"><a href="#å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´ -â€”â€”-äººé™…å…³ç³»" class="headerlink" title="å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” äººé™…å…³ç³»"></a>å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” äººé™…å…³ç³»</h3><p>äººæ˜¯ç¤¾ä¼šåŠ¨ç‰©ã€‚å› æ­¤åœ¨å½±å“ä¸€ä¸ªäººå¹¸ç¦ä¸å¦çš„æ‰€æœ‰å¤–åœ¨å› ç´ ä¸­ï¼Œæœ€é‡è¦çš„å› ç´ ï¼Œæ­£æ˜¯äººé™…å…³ç³»çš„å¥½ååŠå¤šå¯¡ã€‚å¦‚æœå¤„äºä¸å’Œè°çš„äººé™…å…³ç³»ä¸­ï¼Œå°±ç®—æˆ‘ä»¬æ²¡çœ‹åˆ°å¯¹æ–¹ï¼Œä¸¤äººä¹‹é—´çš„å†²çªä¹Ÿè¿˜æ˜¯ä¼šè¦ç»•åœ¨è„‘æµ·ä¸­ï¼ŒæŒç»­ä¼¤å®³ç€æˆ‘ä»¬çš„æƒ…ç»ªï¼Œæ¯å¤©éƒ½ä¼šæŒç»­ï¼Œè®©äººå’Œå¹¸ç¦æ„Ÿè¿œç¦»ã€‚</p><h3 id="å»ºç«‹è‰¯å¥½äººé™…å…³ç³»çš„ä¸¤ä¸ªåŸåˆ™"><a href="#å»ºç«‹è‰¯å¥½äººé™…å…³ç³»çš„ä¸¤ä¸ªåŸåˆ™" class="headerlink" title="å»ºç«‹è‰¯å¥½äººé™…å…³ç³»çš„ä¸¤ä¸ªåŸåˆ™"></a>å»ºç«‹è‰¯å¥½äººé™…å…³ç³»çš„ä¸¤ä¸ªåŸåˆ™</h3><p>ç¬¬ä¸€æ¡åŸåˆ™ï¼Œæ˜¯è¦ä¸»åŠ¨ã€‚éšç€äººç±»ç¤¾ä¼šçš„å‘å±•ï¼Œä¸€ä¸ªäººèƒ½å»ºç«‹çš„ç¤¾äº¤ç½‘ç»œå˜å¾—è¶Šæ¥è¶Šåºå¤§ï¼Œè¿™æ„å‘³ç€æœ‹å‹é—´çš„å¸¸æ€å¹¶ä¸æ˜¯ç›¸èšï¼Œè€Œæ˜¯ç–ç¦»ã€‚ç–ç¦»ä¹…äº†ï¼Œä½ æˆ–è®¸å°±ä¼šå¯¹å‹æƒ…äº§ç”Ÿæ€€ç–‘ï¼Œå¦‚æœæ²¡èƒ½åŠæ—¶çš„ç¼“è§£ï¼Œè¿™ç§æ€€ç–‘å°±æœ‰å¯èƒ½æˆä¸ºæ°¸ä¹…çš„è¯¯ä¼šï¼Œå‹æƒ…ä¹Ÿå°±ä¸å¤å­˜åœ¨ã€‚</p><p>ç¬¬äºŒæ¡åŸåˆ™ï¼Œæ˜¯ä¸è¦è¿½æ±‚å…¬å¹³ã€‚äººé™…å…³ç³»ä¸èƒ½é‡åŒ–ï¼Œä¹Ÿå°±ä¸å¯èƒ½åƒæ•°å­¦ä¸­çš„ç­‰å¼é‚£æ ·ï¼Œç”¨ä¸€ä¸ªç­‰å·æ¥è¿æ¥ä¸¤ä¸ªäººã€‚åœ¨äººä¸äººçš„äº¤å¾€ä¸­ï¼Œä»˜å‡ºæœ¬èº«å°±æ˜¯ä¸€ç§å¿«ä¹ï¼Œåªæœ‰è¿™æ ·ç†è§£å‹æƒ…ï¼Œä½ çš„å†…å¿ƒæ‰èƒ½å¹³å’Œçš„å®¹çº³ä»–äººã€‚</p><h2 id="ç¬¬äº”åä¹èŠ‚-é€†å¢ƒçš„å¥½å¤„-1"><a href="#ç¬¬äº”åä¹èŠ‚-é€†å¢ƒçš„å¥½å¤„-1" class="headerlink" title="ç¬¬äº”åä¹èŠ‚ é€†å¢ƒçš„å¥½å¤„(1)"></a>ç¬¬äº”åä¹èŠ‚ é€†å¢ƒçš„å¥½å¤„(1)</h2><h3 id="é€†å¢ƒçš„æ­£é¢æ•ˆåº”"><a href="#é€†å¢ƒçš„æ­£é¢æ•ˆåº”" class="headerlink" title="é€†å¢ƒçš„æ­£é¢æ•ˆåº”"></a>é€†å¢ƒçš„æ­£é¢æ•ˆåº”</h3><p>å¥åº·å¿ƒç†å­¦æ–¹é¢çš„ç ”ç©¶ä¸€åº¦æŠŠé‡ç‚¹æ”¾åœ¨é€†å¢ƒå’Œå‹åŠ›æ‰€é€ æˆçš„è´Ÿé¢å½±å“ä¸Šï¼Œå¹¶æŠŠç”Ÿæ´»ä¸­é­é‡çš„è‹¦éš¾ä½œä¸ºå¤±å»å¹¸ç¦çš„ä¸»è¦åŸå› ã€‚ä½†éšç€ç¤¾ä¼šå‘å±•å’Œç”Ÿæ´»ç¯å¢ƒçš„è¿›æ­¥ç ”ç©¶äººå‘˜å¼€å§‹æ¢è®¨å·¨å¤§å‹åŠ›å¯èƒ½ä¸ºäººä»¬å¸¦æ¥å“ªäº›å¥½å¤„ï¼Œä¹Ÿå°±æ˜¯â€œåˆ›ä¼¤åæˆé•¿â€ã€‚</p><h3 id="é€†å¢ƒä¸­è·ç›Š-â€”â€”-æ¿€å‘æ½œè—åŠ›é‡"><a href="#é€†å¢ƒä¸­è·ç›Š-â€”â€”-æ¿€å‘æ½œè—åŠ›é‡" class="headerlink" title="é€†å¢ƒä¸­è·ç›Š â€”â€” æ¿€å‘æ½œè—åŠ›é‡"></a>é€†å¢ƒä¸­è·ç›Š â€”â€” æ¿€å‘æ½œè—åŠ›é‡</h3><p>ä¸€æ—¦ä½ èƒ½æŒºèº«é¢å¯¹äººç”Ÿçš„æŒ‘æˆ˜ï¼Œä¾¿å¯æ¿€å‘è‡ªå·±åŸæœ¬æ½œè—çš„èƒ½åŠ›ï¼Œè€Œè¿™äº›èƒ½åŠ›ä¼šæ”¹å˜æˆ‘ä»¬åŸæœ¬å¯¹è‡ªæˆ‘ç§‰æŒçš„è§‚å¿µã€‚å¦‚æœä½ é­å—äº†ä»¥å‰ä¸èƒ½æƒ³è±¡çš„è‹¦éš¾ï¼Œä½†æœ€ç»ˆæŒºè¿‡æ¥äº†ï¼Œä½ å°±ä¼šå‘ç°æˆ‘ä»¬å…¶å®æ¯”è‡ªå·±ä»¥ä¸ºçš„æ›´åšå¼ºï¼Œè€Œè¿™ç§è®¤çŸ¥ä¼šç»™è‡ªå·±å¸¦æ¥ä¿¡å¿ƒï¼Œä»¥é¢å¯¹æœªæ¥çš„æŒ‘æˆ˜ã€‚</p><h2 id="ç¬¬å…­åèŠ‚-é€†å¢ƒçš„å¥½å¤„-2"><a href="#ç¬¬å…­åèŠ‚-é€†å¢ƒçš„å¥½å¤„-2" class="headerlink" title="ç¬¬å…­åèŠ‚ é€†å¢ƒçš„å¥½å¤„(2)"></a>ç¬¬å…­åèŠ‚ é€†å¢ƒçš„å¥½å¤„(2)</h2><h3 id="é€†å¢ƒä¸­è·ç›Š-â€”â€”-æ”¹å–„äººé™…å…³ç³»"><a href="#é€†å¢ƒä¸­è·ç›Š-â€”â€”-æ”¹å–„äººé™…å…³ç³»" class="headerlink" title="é€†å¢ƒä¸­è·ç›Š â€”â€” æ”¹å–„äººé™…å…³ç³»"></a>é€†å¢ƒä¸­è·ç›Š â€”â€” æ”¹å–„äººé™…å…³ç³»</h3><p>é€†å¢ƒå°±åƒæ˜¯ä¸€ä¸ªæ¼æ–—ï¼Œè®©æˆ‘ä»¬çŸ¥é“è°æ˜¯é…’è‚‰æœ‹å‹ï¼Œè°æ˜¯å¯ä»¥æ‚£éš¾ä¸å…±çš„å¥½å‹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé€†å¢ƒè¿˜ä¼šå¼ºåŒ–äººé™…å…³ç³»ï¼Œè®©æˆ‘ä»¬æ‰“å¼€å¿ƒæ‰‰ã€‚æˆ‘ä»¬ä¼šå¯¹è‡ªå·±å…³å¿ƒçš„äººè¡¨ç°å‡ºçˆ±æ„ï¼Œè€Œåœ¨æ‚£éš¾æ—¶å…³å¿ƒæˆ‘ä»¬çš„äººï¼Œæˆ‘ä»¬ä¼šå¯¹å…¶å¿ƒå­˜çˆ±å¿ƒä¸æ„Ÿæ¿€ã€‚</p><h3 id="é€†å¢ƒä¸­è·ç›Š-â€”â€”-é‡æ–°å®¡è§†äººç”Ÿ"><a href="#é€†å¢ƒä¸­è·ç›Š-â€”â€”-é‡æ–°å®¡è§†äººç”Ÿ" class="headerlink" title="é€†å¢ƒä¸­è·ç›Š â€”â€” é‡æ–°å®¡è§†äººç”Ÿ"></a>é€†å¢ƒä¸­è·ç›Š â€”â€” é‡æ–°å®¡è§†äººç”Ÿ</h3><p>åˆ›ä¼¤èƒ½å¤Ÿæ”¹å˜ä½ å¯¹äººç”Ÿè¿½æ±‚ã€å¯¹å½“ä¸‹å’Œå¯¹ä»–äººçš„çœ‹æ³•ï¼Œè®©ä½ æƒ³æ¸…æ¥šï¼Œåˆ°åº•ä»€ä¹ˆæ‰æ˜¯æœ€é‡è¦çš„äº‹æƒ…ã€‚äººä»¬æ€»æ˜¯æŠŠååˆ©çœ‹å¾—æ¯”è‡ªèº«è¿˜é‡è¦ï¼Œå¯¹äºå·²ç»æ‹¥æœ‰çš„ä¸œè¥¿éƒ½è§†ä¸ºç†æ‰€å½“ç„¶ï¼Œä¸çŸ¥çæƒœã€‚ä½†ç”Ÿå‘½å—åˆ°é‡å¤§å¨èƒæ—¶ï¼Œäººå¾€å¾€ä¼šå¹¡ç„¶é†’æ‚Ÿï¼Œè¿™ç§æ€ç»´ä¸Šçš„è½¬å˜ï¼Œèƒ½å¤Ÿå¸®åŠ©äººä»¬ç”¨æ›´ç§¯ææ›´çŸ¥è¶³çš„æ€åº¦æ¥é¢å¯¹è‡ªå·±çš„å¤„å¢ƒã€‚</p><h2 id="ç¬¬å…­åä¸€èŠ‚-å¤ä¹ è¯¾"><a href="#ç¬¬å…­åä¸€èŠ‚-å¤ä¹ è¯¾" class="headerlink" title="ç¬¬å…­åä¸€èŠ‚ å¤ä¹ è¯¾"></a>ç¬¬å…­åä¸€èŠ‚ å¤ä¹ è¯¾</h2><h3 id="çŸ¥è¯†ç‚¹å›é¡¾"><a href="#çŸ¥è¯†ç‚¹å›é¡¾" class="headerlink" title="çŸ¥è¯†ç‚¹å›é¡¾"></a>çŸ¥è¯†ç‚¹å›é¡¾</h3><p><strong>å¤§è±¡ä¸éª‘è±¡äººï¼š</strong>äººæœ‰ä¸¤å¥—å¿ƒç†è¿è¡Œæœºåˆ¶ï¼Œéª‘è±¡äººä»£è¡¨äº†æœ‰æ„è¯†çš„ã€ä¸»åŠ¨æ§åˆ¶åçš„æ€è€ƒã€‚å¤§è±¡åŒ…å«æˆ‘ä»¬å†…å¿ƒçš„æ„Ÿè§‰ã€æœ¬èƒ½ååº”ã€æƒ…ç»ªå’Œç›´è§‰ï¼Œä»£è¡¨äº†è‡ªåŠ¨åŒ–çš„å¿ƒç†æ´»åŠ¨ã€‚å¤§è±¡å’Œéª‘è±¡äººå„æœ‰ä¼˜åŠ¿ï¼Œåªè¦é…åˆè‰¯å¥½ï¼Œå°±æˆç»„æˆä¸€ä¸ªæ°å‡ºçš„ä¸ªä½“ã€‚</p><p><strong>äººè±¡ä¹‹é—´ä¸»è¦çš„ä¸‰ç§å†²çªï¼š</strong>å½“ä¸‹ä¸æœªæ¥ã€å¿ƒç†æ´»åŠ¨çš„å¾ªç¯ã€éª‘è±¡äººçš„è§£é‡Šè¯¯åŒºã€‚äººå’Œè±¡çš„åšå¼ˆçœ‹ä¸Šå»å¾ˆåƒç†æ€§ä¸æ„Ÿæ€§ï¼Œäººæ€§ä¸å…½æ€§çš„å¯¹æŠ—ï¼Œä½†å¤§è±¡ä¸ç­‰åŒäºä¸ç†æ€§çš„è‡ªæˆ‘ï¼Œéª‘è±¡äººæ— æ³•æ„ŸçŸ¥çš„ç»†èŠ‚å¯ä»¥è¢«å¤§è±¡æ„ŸçŸ¥ï¼Œè€Œä¸”å¤§è±¡å…·å¤‡ä¸€å®šçš„è®¤çŸ¥èƒ½åŠ›ã€‚</p><p><strong>æå‡å¹¸ç¦æ„Ÿçš„ä¸¤ä¸ªæŠ€å·§ï¼š</strong>ä¿æŒå‰è¿›å’Œè°ƒæ•´é¢„æœŸã€‚ä¿æŒå‰è¿›ï¼ŒæŒ‡çš„æ˜¯æŠŠè¿œå¤§çš„ç†æƒ³åˆ†è§£æˆä¸€äº›å¯ä»¥å®Œæˆï¼Œå–å¾—è¿›å±•çš„å°ç›®æ ‡ï¼Œæ¯æœç›®æ ‡å‰è¿›ä¸€æ­¥ï¼Œå°±èƒ½å¤Ÿæºæºä¸æ–­çš„æ„Ÿåˆ°å…´å¥‹å’Œæ»¡è¶³ã€‚æ”¹å˜é¢„æœŸä¸åªæ˜¯ä¸€ç§æŠ€å·§ï¼Œç©¶å…¶æ ¹æºï¼Œæ˜¯ä¸€ç§æ›´åŠ å¹¿é˜”ã€æ›´åŠ åŒ…å®¹çš„çœ‹å¾…ä¸–ç•Œå’Œç”Ÿæ´»çš„æ€åº¦ã€‚</p><p><strong>å¹¸ç¦æ–¹ç¨‹å¼ï¼š</strong>å…ˆå¤©çš„å¹¸ç¦æŒ‡æ•°ã€æ‰€å¤„ç¯å¢ƒçš„ç”Ÿæ´»æ¡ä»¶å’Œçœ‹å¾…ç”Ÿæ´»çš„æ€åº¦ï¼Œè¿™ä¸‰è€…å…±åŒå†³å®šäº†æˆ‘ä»¬çœŸæ­£æ„ŸçŸ¥åˆ°çš„å¹¸ç¦ã€‚</p><p>å®¹æ˜“è¢«å¿½è§†ï¼Œå´èƒ½æ˜¾è‘—å½±å“ç”Ÿæ´»çš„å¤–éƒ¨å› ç´ ï¼šå™ªå£°ã€é€šå‹¤æ—¶é—´ã€æŒæ§æ„Ÿã€å¤©ç„¶ç¼ºé™·å’Œäººé™…å…³ç³»ã€‚</p><p><strong>é€†å¢ƒå¯¹äºå¹¸ç¦çš„æ­£é¢æ•ˆåº”ï¼š</strong>æ¿€å‘æ½œè—åŠ›é‡ã€æ”¹å–„äººé™…å…³ç³»ã€é‡æ–°å®¡è§†äººç”Ÿã€‚</p><h2 id="ç¬¬å…­åäºŒèŠ‚-å…³äºå­¦ä¹ çš„è¯¯åŒº-1"><a href="#ç¬¬å…­åäºŒèŠ‚-å…³äºå­¦ä¹ çš„è¯¯åŒº-1" class="headerlink" title="ç¬¬å…­åäºŒèŠ‚ å…³äºå­¦ä¹ çš„è¯¯åŒº(1)"></a>ç¬¬å…­åäºŒèŠ‚ å…³äºå­¦ä¹ çš„è¯¯åŒº(1)</h2><h3 id="å…³äºå­¦ä¹ çš„è¯¯åŒº-â€”â€”-ä¸€ä¸‡å°æ—¶å®šå¾‹"><a href="#å…³äºå­¦ä¹ çš„è¯¯åŒº-â€”â€”-ä¸€ä¸‡å°æ—¶å®šå¾‹" class="headerlink" title="å…³äºå­¦ä¹ çš„è¯¯åŒº â€”â€” ä¸€ä¸‡å°æ—¶å®šå¾‹"></a>å…³äºå­¦ä¹ çš„è¯¯åŒº â€”â€” ä¸€ä¸‡å°æ—¶å®šå¾‹</h3><p>æœ€è¿‘å‡ å¹´ï¼Œ1ä¸‡å°æ—¶å®šå¾‹è¿™ä¸ªæ¦‚å¿µéå¸¸çƒ­é—¨ï¼šåªè¦æŠŠä¸€ä¸ªæŠ€èƒ½é‡å¤ç»ƒä¹ ï¼Œç»ƒä¹ æ—¶é—´è¶…è¿‡ä¸€ä¸‡å°æ—¶ï¼Œå°±ä¸€å®šæˆä¸ºè¿™ä¸ªè¡Œä¸šçš„ä¸“å®¶ã€‚è¿™ç§è®¤è¯†éå¸¸ç‰‡é¢ï¼Œå› ä¸ºæŠ•å…¥çš„æ—¶é—´åªæ˜¯åŸºç¡€ï¼Œå¦‚æœæ²¡æœ‰æŒæ¡æ­£ç¡®çš„å­¦ä¹ æ–¹æ³•ï¼ŒæŠ•å…¥å†å¤šæ—¶é—´ï¼Œä¹Ÿåªèƒ½è¾¾åˆ°ç†Ÿç»ƒï¼Œè€Œä¸èƒ½ç²¾é€šã€‚</p><p>ç ”ç©¶è¡¨æ˜ï¼Œä¸€æ—¦æŸä¸ªäººçš„è¡¨ç°è¾¾åˆ°äº†ç†Ÿç»ƒæ°´å¹³ï¼Œå¹¶ä¸”å¯ä»¥åšåˆ°è‡ªåŠ¨åŒ–ï¼Œé‚£ä¹ˆï¼Œå³ä½¿å†å¤šâ€œç»ƒä¹ â€å‡ å¹´ï¼Œä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆè¿›æ­¥ã€‚</p><h2 id="ç¬¬å…­åä¸‰èŠ‚-å…³äºå­¦ä¹ çš„è¯¯åŒº-2"><a href="#ç¬¬å…­åä¸‰èŠ‚-å…³äºå­¦ä¹ çš„è¯¯åŒº-2" class="headerlink" title="ç¬¬å…­åä¸‰èŠ‚ å…³äºå­¦ä¹ çš„è¯¯åŒº(2)"></a>ç¬¬å…­åä¸‰èŠ‚ å…³äºå­¦ä¹ çš„è¯¯åŒº(2)</h2><h3 id="å…³äºå­¦ä¹ çš„è¯¯åŒº-â€”â€”-é«˜ä¼°å¤©èµ‹çš„ä½œç”¨"><a href="#å…³äºå­¦ä¹ çš„è¯¯åŒº-â€”â€”-é«˜ä¼°å¤©èµ‹çš„ä½œç”¨" class="headerlink" title="å…³äºå­¦ä¹ çš„è¯¯åŒº â€”â€” é«˜ä¼°å¤©èµ‹çš„ä½œç”¨"></a>å…³äºå­¦ä¹ çš„è¯¯åŒº â€”â€” é«˜ä¼°å¤©èµ‹çš„ä½œç”¨</h3><p>äººä»¬é€šå¸¸ä»¥ä¸ºï¼ŒæŸä¸ªäººåœ¨ä»»ä½•ç‰¹å®šè¡Œä¸šæˆ–é¢†åŸŸå†…çš„æ½œåŠ›ï¼Œä¸å¯é¿å…åœ°å—åˆ°å¤©ç”Ÿæ‰èƒ½çš„é™åˆ¶ï¼Œåªæœ‰ä¾é å¤©ç”Ÿå°±å…·æœ‰çš„ä¸€äº›å›ºå®šæ½œåŠ›æ‰èƒ½æˆå°±æ°å‡ºã€‚ä½†äº‹å®ä¸Šï¼Œæ½œåŠ›ä¸åªæ˜¯å¤©ç”Ÿçš„ï¼Œå®ƒè¿˜èƒ½é€šè¿‡æˆ‘ä»¬ä¸€ç”Ÿä¸­ç»å†çš„å„ç§å„æ ·çš„äº‹æƒ…æ¥åˆ›é€ ã€‚åªè¦å–„äºå­¦ä¹ ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›é€ è‡ªå·±çš„æ½œåŠ›ã€‚</p><p>åœ¨æˆ‘ä»¬å½“ä¸‹è¿™ä¸ªæ—¶ä»£ï¼Œè®¸å¤šäººæ‹¥æœ‰ç€è¶…å¸¸çš„èƒ½åŠ›ï¼Œé‚£äº›èƒ½åŠ›èƒœè¿‡äººç±»å†å²ä¸Šä»»ä½•æ—¶ä»£çš„äººã€‚æ˜¾ç„¶ï¼Œäººçš„èº«ä½“æ„é€ æ²¡æœ‰å˜åŒ–ï¼Œå¹¶ä¸æ˜¯å› ä¸ºç°ä»£äººçš„åŸºå› æœ‰å·¨å¤§æ”¹å˜ï¼Œæ¯”ä¸Šä¸–çºªçš„äººæ›´æœ‰å¤©èµ‹ï¼Œè€Œæ˜¯äººä»¬æ›´å–„äºå­¦ä¹ äº†ã€‚</p><h2 id="ç¬¬å…­åå››èŠ‚-æœ‰ç›®çš„çš„å­¦ä¹ -1"><a href="#ç¬¬å…­åå››èŠ‚-æœ‰ç›®çš„çš„å­¦ä¹ -1" class="headerlink" title="ç¬¬å…­åå››èŠ‚ æœ‰ç›®çš„çš„å­¦ä¹ (1)"></a>ç¬¬å…­åå››èŠ‚ æœ‰ç›®çš„çš„å­¦ä¹ (1)</h2><h3 id="æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹-â€”â€”-ç›®æ ‡å®šä¹‰æ˜ç¡®"><a href="#æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹-â€”â€”-ç›®æ ‡å®šä¹‰æ˜ç¡®" class="headerlink" title="æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” ç›®æ ‡å®šä¹‰æ˜ç¡®"></a>æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” ç›®æ ‡å®šä¹‰æ˜ç¡®</h3><p>æ²¡æœ‰ç›®æ ‡çš„ç»ƒä¹ ï¼šæ¯å¤©éƒ½è¦ç»ƒä¹ ã€‚<br>æœ‰ç›®æ ‡çš„ç»ƒä¹ ï¼šæ¯å¤©éƒ½è¦ç»ƒä¹ ä¸‰ä¸ªå°æ—¶<br>æœ‰æ˜ç¡®ç›®æ ‡çš„ç»ƒä¹ ï¼šæŠŠç»ƒä¹ æ›²è¿ç»­å¼¹å¥ä¸‰æ¬¡ï¼ŒæœŸé—´ä¸çŠ¯ä»»ä½•é”™è¯¯ï¼Œå¹¶ä¸”ä¿æŒé€‚å½“çš„é€Ÿåº¦ã€‚</p><p>æ‰€è°“æ˜ç¡®çš„ç›®æ ‡ï¼Œå°±æ˜¯æŒ‡ä½ èƒ½å¤Ÿåœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®è¿™ä¸ªç›®æ ‡å¯¹è‡ªå·±è¿›è¡Œè¯„ä»·ï¼Œåˆ¤æ–­è‡ªå·±æ˜¯å¦æˆåŠŸçš„è¾¾æˆäº†è¿™ä¸ªç›®æ ‡ã€‚</p><h3 id="æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹-â€”â€”-ä¿æŒä¸“æ³¨"><a href="#æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹-â€”â€”-ä¿æŒä¸“æ³¨" class="headerlink" title="æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” ä¿æŒä¸“æ³¨"></a>æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” ä¿æŒä¸“æ³¨</h3><p>æé«˜ä¸“æ³¨åº¦æœ€å¸¸ç”¨çš„æ–¹å¼æ˜¯éš”ç¦»å¹²æ‰°æºã€‚æ¯”å¦‚å¯»æ‰¾å®‰é™çš„å­¦ä¹ åœºæ‰€ã€æ‰“å¼€æ‰‹æœºçš„å‹¿æ‰°æ¨¡å¼ã€å…³é—­ç½‘ç»œã€‚<br>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¸€äº›æœ‰ä»ªå¼æ„Ÿçš„åŠ¨ä½œå’Œè¡Œä¸ºè¿›è¡Œå¿ƒç†æš—ç¤ºï¼Œå¸®åŠ©è‡ªå·±è¿›å…¥åˆ°ä¸“æ³¨çŠ¶æ€ã€‚æ¯”å¦‚å­¦ä¹ ä¹‹å‰ç»™è‡ªå·±é¼“é¼“æŒï¼Œå–ä¸€æ¯å’–å•¡ï¼Œæˆ–è€…è¿›è¡Œä¸€æ¬¡å†¥æƒ³å‘¼å¸ç»ƒä¹ ã€‚</p><h3 id="æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹-â€”â€”-è¦æœ‰åé¦ˆ"><a href="#æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹-â€”â€”-è¦æœ‰åé¦ˆ" class="headerlink" title="æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” è¦æœ‰åé¦ˆ"></a>æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” è¦æœ‰åé¦ˆ</h3><p>åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¿…é¡»çŸ¥é“æŸä»¶äº‹æƒ…è‡ªå·±åšå¾—å¯¹ä¸å¯¹ï¼Œå¦‚æœä¸å¯¹ï¼Œä½ åˆ°åº•æ€ä¹ˆé”™äº†ã€‚å¦‚æœä½ æ¸…æ¥šè‡ªå·±æ˜¯åœ¨å“ªä¸€ä¸ªç¯èŠ‚å‡ºé—®é¢˜ï¼Œå°±å¯ä»¥å›´ç»•è¿™ä¸ªç¯èŠ‚è¿›è¡Œé’ˆå¯¹æ€§çš„ç»ƒä¹ ã€‚å¦‚æœä½ çŸ¥é“è‡ªå·±å®ç°ç›®æ ‡çš„è¿›åº¦ï¼Œå°±å¯ä»¥çµæ´»çš„è°ƒæ•´å­¦ä¹ è®¡åˆ’ã€‚</p><h2 id="ç¬¬å…­åäº”èŠ‚-æœ‰ç›®çš„çš„å­¦ä¹ -2"><a href="#ç¬¬å…­åäº”èŠ‚-æœ‰ç›®çš„çš„å­¦ä¹ -2" class="headerlink" title="ç¬¬å…­åäº”èŠ‚ æœ‰ç›®çš„çš„å­¦ä¹ (2)"></a>ç¬¬å…­åäº”èŠ‚ æœ‰ç›®çš„çš„å­¦ä¹ (2)</h2><h3 id="æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹-â€”â€”-è¦èµ°å‡ºèˆ’é€‚åŒº"><a href="#æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹-â€”â€”-è¦èµ°å‡ºèˆ’é€‚åŒº" class="headerlink" title="æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” è¦èµ°å‡ºèˆ’é€‚åŒº"></a>æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” è¦èµ°å‡ºèˆ’é€‚åŒº</h3><p>èµ°å‡ºèˆ’é€‚åŒºï¼Œæ˜¯æœ‰ç›®çš„çš„ç»ƒä¹ æœ€ä¸ºé‡è¦çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ã€‚æ‰€è°“èˆ’é€‚åŒºï¼ŒæŒ‡çš„å°±æ˜¯é‚£äº›ä¸å¤ªè´¹åŠ›ï¼Œå¾ˆå®¹æ˜“å°±èƒ½æƒ³åˆ°ï¼Œå¹¶ä¸”ä¸€å®šå¯ä»¥åšåˆ°çš„äº‹æƒ…ã€‚</p><p><strong>èµ°å‡ºèˆ’é€‚åŒºæœ‰ä¸¤ç§æ–¹å¼ï¼š</strong>ç¬¬ä¸€ç§æ˜¯åšå¾ˆæœ‰éš¾åº¦ï¼ŒæŒ‘æˆ˜è‡ªå·±æé™çš„äº‹æƒ…ï¼Œç¬¬äºŒç§æ˜¯å°è¯•è‡ªå·±æ²¡åšè¿‡çš„äº‹æƒ…ã€‚å‰è€…æœ€éœ€è¦çš„æ˜¯å†³å¿ƒï¼Œè€Œåè€…æ›´éœ€è¦çš„æ˜¯åˆ›æ„ã€‚</p><p><strong>å¤§å®¶å¯ä»¥å¤šé—®è‡ªå·±ä¸¤ä¸ªé—®é¢˜ï¼š</strong>1ã€ä½ æœ‰æ²¡æœ‰è¾¾åˆ°è‡ªå·±çš„æé™ã€‚2ã€ä½ æœ‰æ²¡æœ‰å°è¯•æ–°çš„ç»ƒä¹ æ–¹æ³•ï¼Ÿå¦‚æœä¸¤ä¸ªé—®é¢˜çš„ç­”æ¡ˆéƒ½æ˜¯å¦å®šçš„ï¼Œå°±éœ€è¦æé†’è‡ªå·±è¦èµ°å‡ºèˆ’é€‚åŒºã€‚</p><h2 id="ç¬¬å…­åå…­èŠ‚-å¿ƒç†è¡¨å¾æ˜¯ä»€ä¹ˆ"><a href="#ç¬¬å…­åå…­èŠ‚-å¿ƒç†è¡¨å¾æ˜¯ä»€ä¹ˆ" class="headerlink" title="ç¬¬å…­åå…­èŠ‚ å¿ƒç†è¡¨å¾æ˜¯ä»€ä¹ˆ"></a>ç¬¬å…­åå…­èŠ‚ å¿ƒç†è¡¨å¾æ˜¯ä»€ä¹ˆ</h2><h3 id="å¿ƒç†è¡¨å¾æ˜¯ä»€ä¹ˆ"><a href="#å¿ƒç†è¡¨å¾æ˜¯ä»€ä¹ˆ" class="headerlink" title="å¿ƒç†è¡¨å¾æ˜¯ä»€ä¹ˆ"></a>å¿ƒç†è¡¨å¾æ˜¯ä»€ä¹ˆ</h3><p>å°±æ˜¯æŒ‡æˆ‘ä»¬äº†è§£çš„æŸä¸ªç‰©ä½“ã€æŸä¸ªè§‚ç‚¹ã€æŸäº›ä¿¡æ¯æˆ–è€…å…¶å®ƒä»»ä½•äº‹ç‰©åœ¨æ€ç»´ä¸­å¯¹åº”çš„æ ·å­ã€‚å¿ƒç†è¡¨å¾å¯ä»¥æ˜¯å…·ä½“çš„è§†è§‰å½¢è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯æŠ½è±¡çš„æ¦‚å¿µã€‚</p><h3 id="æœ‰æ•ˆå­¦ä¹ çš„æœ¬è´¨å°±æ˜¯å»ºç«‹é«˜è´¨é‡çš„å¿ƒç†è¡¨å¾"><a href="#æœ‰æ•ˆå­¦ä¹ çš„æœ¬è´¨å°±æ˜¯å»ºç«‹é«˜è´¨é‡çš„å¿ƒç†è¡¨å¾" class="headerlink" title="æœ‰æ•ˆå­¦ä¹ çš„æœ¬è´¨å°±æ˜¯å»ºç«‹é«˜è´¨é‡çš„å¿ƒç†è¡¨å¾"></a>æœ‰æ•ˆå­¦ä¹ çš„æœ¬è´¨å°±æ˜¯å»ºç«‹é«˜è´¨é‡çš„å¿ƒç†è¡¨å¾</h3><p>ä¸€ä¸ªé¢†åŸŸçš„ä¸“å®¶ï¼Œå’Œæ™®é€šäººæœ€å¤§çš„åŒºåˆ«ï¼Œå°±æ˜¯å‰è€…é€šè¿‡å¤šå¹´çš„æœ‰æ•ˆç»ƒä¹ ï¼Œé’ˆå¯¹æœ¬è¡Œä¸šæˆ–é¢†åŸŸä¸­è‡ªå·±å¯èƒ½é‡åˆ°çš„å„ç§ä¸åŒå±€é¢ï¼Œåˆ›å»ºäº†é«˜åº¦å¤æ‚å’Œç²¾ç»†çš„è¡¨å¾ï¼Œè¿™äº›è¡¨å¾ä½¿ä»–ä»¬èƒ½å¤Ÿåšå‡ºæ›´å¿«æ›´å‡†ç¡®çš„å†³ç­–ï¼Œå¹¶åœ¨ç‰¹å®šçš„å±€é¢ä¸Šæ›´æœ‰æ•ˆåœ°åº”å¯¹ã€‚</p><h2 id="ç¬¬å…­åä¸ƒèŠ‚-å¿ƒç†è¡¨å¾çš„ä½œç”¨-1"><a href="#ç¬¬å…­åä¸ƒèŠ‚-å¿ƒç†è¡¨å¾çš„ä½œç”¨-1" class="headerlink" title="ç¬¬å…­åä¸ƒèŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨(1)"></a>ç¬¬å…­åä¸ƒèŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨(1)</h2><h3 id="å¿ƒç†è¡¨å¾æœ‰åŠ©äºå¯»æ‰¾è§„å¾‹"><a href="#å¿ƒç†è¡¨å¾æœ‰åŠ©äºå¯»æ‰¾è§„å¾‹" class="headerlink" title="å¿ƒç†è¡¨å¾æœ‰åŠ©äºå¯»æ‰¾è§„å¾‹"></a>å¿ƒç†è¡¨å¾æœ‰åŠ©äºå¯»æ‰¾è§„å¾‹</h3><p>ç»†åˆ†æ¥è¯´ï¼Œå¿ƒç†è¡¨å¾å¯¹è§„å¾‹çš„æŠŠæ¡å…·ä½“è¡¨ç°æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯é¢„æµ‹æœªæ¥ã€‚<br>ä¼˜ç§€çƒå‘˜å¯ä»¥é€šè¿‡å°‘é‡ç»†èŠ‚æŠŠçƒåœºä¸Šå‘ç”Ÿçš„äº‹æƒ…ä¸è®°å¿†åº“ä¸­ä¸°å¯Œçš„å¿ƒç†è¡¨å¾è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœèƒ½å¤ŸåŒ¹é…æˆåŠŸï¼Œä»–å°±å¯ä»¥é¢„åˆ¤è¿™ä»¶äº‹æ¥ä¸‹æ¥çš„èµ°å‘ï¼Œä»è€Œæå‰åšå¥½åº”å¯¹ã€‚</p><p>ç¬¬äºŒç§æ˜¯å½’çº³å’Œåˆ†ç±»ã€‚ä»¥æ”€å²©ä¸ºä¾‹ã€‚æ”€å²©è€…åœ¨æ”€çˆ¬æ—¶ï¼Œä¼šé‡åˆ°ä¸åŒçš„æŠŠæ‰‹ï¼Œè¿™äº›æŠŠæ‰‹è¦æ±‚é‡‡ç”¨å„ç§ä¸åŒçš„æ¡æ³•ï¼Œå¦‚æœåœ¨æŠŠæ‰‹ä¸Šè¿ç”¨äº†é”™è¯¯çš„æŠ“æ¡æ–¹æ³•ï¼Œå°±æœ‰å¾ˆå¤§å¯èƒ½ä»å¢™ä¸Šæ‰ä¸‹æ¥ã€‚</p><p>æ²¡æœ‰ç»éªŒçš„æ”€å²©è€…ï¼Œå¿…é¡»è¾¹çˆ¬è¾¹æƒ³ï¼Œé‡åˆ°æ¯ä¸ªæŠŠæ‰‹éƒ½è¦è¯†åˆ«å’Œåˆ¤æ–­é€‚åˆå“ªç§æŠ“æ¡æ–¹æ³•ã€‚è€Œç»éªŒä¸°å¯Œçš„æ”€å²©è€…åœ¨å¯¹å„ç§æŠŠæ‰‹å»ºç«‹å¿ƒç†è¡¨å¾æ—¶ï¼Œä¼šæŒ‰ç…§æ¡æ³•åˆ†ç±»ï¼Œå†æŠŠåŒä¸€ç§æ¡æ³•å¯¹åº”çš„æŠŠæ‰‹å½’çº³åˆ°åŒä¸€ç»„ã€‚ä»–ä»¬åœ¨æ”€çˆ¬æ—¶å°±å¯ä»¥ä½¿ç”¨å¿ƒç†è¡¨å¾è½»æ¾åšå‡ºå†³ç­–ã€‚</p><h2 id="ç¬¬å…­åå…«èŠ‚-å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ2ï¼‰"><a href="#ç¬¬å…­åå…«èŠ‚-å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ2ï¼‰" class="headerlink" title="ç¬¬å…­åå…«èŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ2ï¼‰"></a>ç¬¬å…­åå…«èŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ2ï¼‰</h2><h3 id="å¿ƒç†è¡¨å¾æœ‰åŠ©äºè§£é‡Šä¿¡æ¯"><a href="#å¿ƒç†è¡¨å¾æœ‰åŠ©äºè§£é‡Šä¿¡æ¯" class="headerlink" title="å¿ƒç†è¡¨å¾æœ‰åŠ©äºè§£é‡Šä¿¡æ¯"></a>å¿ƒç†è¡¨å¾æœ‰åŠ©äºè§£é‡Šä¿¡æ¯</h3><p>åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šæ¥å—æµ·é‡çš„ä¿¡æ¯ã€‚å¿ƒç†è¡¨å¾çš„ä¸€ä¸ªé‡è¦å¥½å¤„åœ¨äºï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬é«˜æ•ˆçš„ç†è§£ä¿¡æ¯ï¼Œå¹¶æŠŠå®ƒä¿å­˜åœ¨è®°å¿†ä¹‹ä¸­ï¼Œç»„ç»‡å®ƒã€åˆ†æå®ƒï¼Œå¹¶ç”¨å®ƒæ¥å†³ç­–ã€‚</p><p>å¦‚æœä½ åªæ˜¯è®¤è¯†æ±‰å­—ï¼Œè€Œæ²¡æœ‰å¯¹åº”çš„å¿ƒç†è¡¨å¾ï¼Œé‚£ä½ åœ¨é˜…è¯»çš„æ—¶å€™ï¼Œåªä¼šçœ‹åˆ°ä¸åŒçš„æ±‰å­—æ¯«æ— æ„ä¹‰çš„éšæœºæ’å¸ƒï¼Œæ ¹æœ¬æ— æ³•è¿›è¡Œä»»ä½•çš„ç†è§£ã€‚</p><p>å¦‚æœå»ºç«‹äº†ç›¸å…³çš„å¿ƒç†è¡¨å¾ï¼Œå½“æˆ‘ä»¬çœ‹åˆ°â€œçŒ«â€è¿™ä¸ªå­—çš„æ—¶å€™ï¼Œå°±ä¼šå°†è¿™ä¸ªæ±‰å­—ä¸å®ƒçš„å‘éŸ³è”ç³»åˆ°ä¸€èµ·ï¼Œå¹¶ä¸æˆ‘ä»¬å¸¸è§åˆ°çš„ä¸€ç§å°å°çš„ã€é•¿æ¯›çš„ã€ä¼šå‘å‡ºâ€œå–µå–µâ€å«å£°ã€é€šå¸¸ä¸ç‹—æ— æ³•å’Œè°ç›¸å¤„çš„åŠ¨ç‰©è”ç³»èµ·æ¥ï¼Œä»è€Œç†è§£è¿™ä¸ªå­—ã€‚</p><p>å¿ƒç†è¡¨å¾å¯¹äºè§£é‡Šä¿¡æ¯çš„å¸®åŠ©æ— å¤„ä¸åœ¨ï¼Œå›½é™…è±¡æ£‹é«˜æ‰‹å¯ä»¥çœ‹æ‡‚æ£‹è°±ï¼ŒèŒä¸šéŸ³ä¹å®¶å¯ä»¥çœ‹æ‡‚ä¸€é¦–æ–°æ›²å­çš„ä¹è°±ï¼Œç¨‹åºå‘˜èƒ½å¤Ÿç†è§£å¤æ‚å¯¹ä»£ç ï¼Œä¹Ÿæ˜¯è¿™æ ·çš„é“ç†ã€‚</p><h2 id="ç¬¬å…­åä¹èŠ‚-å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ3ï¼‰"><a href="#ç¬¬å…­åä¹èŠ‚-å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ3ï¼‰" class="headerlink" title="ç¬¬å…­åä¹èŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ3ï¼‰"></a>ç¬¬å…­åä¹èŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ3ï¼‰</h2><h3 id="å¿ƒç†è¡¨å¾æœ‰åŠ©äºç»„ç»‡ä¿¡æ¯"><a href="#å¿ƒç†è¡¨å¾æœ‰åŠ©äºç»„ç»‡ä¿¡æ¯" class="headerlink" title="å¿ƒç†è¡¨å¾æœ‰åŠ©äºç»„ç»‡ä¿¡æ¯"></a>å¿ƒç†è¡¨å¾æœ‰åŠ©äºç»„ç»‡ä¿¡æ¯</h3><p>ç†è§£å’Œè§£é‡Šä¿¡æ¯éœ€è¦å€ŸåŠ©å¿ƒç†è¡¨å¾ã€‚ä½†ç†è§£åªæ˜¯åŸºç¡€ï¼ŒéŸ³ä¹å®¶ä¸å…‰è¦ä¼šè¯»ä¹è°±ï¼Œè¿˜è¦èƒ½å¤Ÿæ ¹æ®ä¹è°±åšå‡ºå¸¦æœ‰è‡ªå·±é£æ ¼çš„æ¼”ç»ï¼Œç”šè‡³è¦è‡ªå·±ä½œæ›²ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç»„ç»‡ä¿¡æ¯ã€‚</p><p>ç²¾å¿ƒåˆ›å»ºçš„å¿ƒç†è¡¨å¾ï¼Œä¸»è¦ä¼˜åŠ¿å°±æ˜¯å¯ä»¥åœ¨ç»„ç»‡ä¿¡æ¯æ—¶å¸æ”¶å’Œè€ƒè™‘æ›´å¤šçš„ä¿¡æ¯ã€‚æ¯”å¦‚å¸¸äººå¯¹äºâ€œå‘çƒ§â€å»ºç«‹çš„å¿ƒç†è¡¨å¾å°±æ˜¯â€œç”±æ„Ÿå†’å¼•èµ·â€ï¼Œè€ŒåŒ»ç”Ÿä¸ä¼šæŠŠç—…äººçš„ç—‡çŠ¶ä¸å…¶ä»–ç›¸å…³æ•°æ®è§†ä¸ºç›¸äº’å­¤ç«‹çš„ä¿¡æ¯ï¼Œè€Œæ˜¯ä½œä¸ºæ›´å¤§æ•´ä½“ä¸­çš„ä¸€éƒ¨åˆ†æ¥çœ‹å¾…ï¼Œè”æƒ³åˆ°å‡ åç§ä¸Šç™¾ç§å¯èƒ½æ€§ã€‚</p><h2 id="ç¬¬ä¸ƒåèŠ‚-å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ4ï¼‰"><a href="#ç¬¬ä¸ƒåèŠ‚-å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ4ï¼‰" class="headerlink" title="ç¬¬ä¸ƒåèŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ4ï¼‰"></a>ç¬¬ä¸ƒåèŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ4ï¼‰</h2><h3 id="å¿ƒç†è¡¨å¾æœ‰åŠ©äºæ‰§è¡Œå­¦ä¹ è®¡åˆ’"><a href="#å¿ƒç†è¡¨å¾æœ‰åŠ©äºæ‰§è¡Œå­¦ä¹ è®¡åˆ’" class="headerlink" title="å¿ƒç†è¡¨å¾æœ‰åŠ©äºæ‰§è¡Œå­¦ä¹ è®¡åˆ’"></a>å¿ƒç†è¡¨å¾æœ‰åŠ©äºæ‰§è¡Œå­¦ä¹ è®¡åˆ’</h3><p>æœ‰æ•ˆå­¦ä¹ çš„åŸºç¡€æ˜¯æœ‰ç›®çš„çš„å­¦ä¹ ã€‚æœ‰ç›®çš„å­¦ä¹ æœ‰å››ä¸ªç‰¹ç‚¹ï¼Œç¬¬ä¸€ç‚¹å°±æ˜¯è¦æœ‰å®šä¹‰æ˜ç¡®çš„ç›®æ ‡ã€‚æœ‰äº†ç›®æ ‡ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å›´ç»•ç›®æ ‡è¿›è¡Œç»†è‡´çš„å®‰æ’ï¼Œåˆ¶å®šä¸€ä¸ªåŒ…å«è¿›åº¦çš„å­¦ä¹ è®¡åˆ’ã€‚å…·ä½“çš„å­¦ä¹ è¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯æ‰§è¡Œè¿™ä¸ªè®¡åˆ’ã€‚</p><p>åœ¨å­¦ä¹ è¿‡ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬æœ€å®¹æ˜“é‡åˆ°çš„é—®é¢˜ï¼Œå°±æ˜¯å­¦ä¹ è®¡åˆ’çš„åˆ¶è®¢ä¸å®é™…æƒ…å†µå¹¶ä¸ç›¸ç¬¦ï¼Œæ¯”å¦‚é«˜ä¼°äº†è‡ªå·±çš„æ‰§è¡ŒåŠ›å’Œå­¦ä¹ é€Ÿåº¦ã€æˆ–è€…é‡åˆ°äº†è®¸å¤šæ²¡æœ‰é¢„æ–™åˆ°çš„çªå‘æƒ…å†µï¼Œè¿™äº›é—®é¢˜ä¼šä¸¥é‡é˜»ç¢æˆ‘ä»¬çš„å­¦ä¹ ã€‚</p><p>ä¸ºå­¦ä¹ ç›®æ ‡æ„å»ºæ›´ç²¾ç»†çš„å¿ƒç†è¡¨å¾ï¼Œèƒ½å¤Ÿè®©ç›®æ ‡çš„æ‰§è¡Œè·¯å¾„æ›´æ˜ç¡®ã€æ›´æœ‰æ¡ç†ï¼ŒæŒ‡å¯¼æˆ‘ä»¬æœ‰æ¡ç†çš„æ‰§è¡Œè®¡åˆ’ï¼Œä»è€Œæ›´å‡†ç¡®çš„é¢„è§å­¦ä¹ è¿‡ç¨‹ï¼Œç¡®ä¿å­¦ä¹ è®¡åˆ’èƒ½å¤Ÿç¬¦åˆå®é™…ã€‚</p><h2 id="ç¬¬ä¸ƒåä¸€èŠ‚-æœ‰æ•ˆå­¦ä¹ çš„åŸºç¡€"><a href="#ç¬¬ä¸ƒåä¸€èŠ‚-æœ‰æ•ˆå­¦ä¹ çš„åŸºç¡€" class="headerlink" title="ç¬¬ä¸ƒåä¸€èŠ‚ æœ‰æ•ˆå­¦ä¹ çš„åŸºç¡€"></a>ç¬¬ä¸ƒåä¸€èŠ‚ æœ‰æ•ˆå­¦ä¹ çš„åŸºç¡€</h2><h3 id="å¼€å±•æœ‰æ•ˆå­¦ä¹ çš„é‡è¦åŸºç¡€-â€”â€”-å¯»æ‰¾å¥½å¯¼å¸ˆ"><a href="#å¼€å±•æœ‰æ•ˆå­¦ä¹ çš„é‡è¦åŸºç¡€-â€”â€”-å¯»æ‰¾å¥½å¯¼å¸ˆ" class="headerlink" title="å¼€å±•æœ‰æ•ˆå­¦ä¹ çš„é‡è¦åŸºç¡€ â€”â€” å¯»æ‰¾å¥½å¯¼å¸ˆ"></a>å¼€å±•æœ‰æ•ˆå­¦ä¹ çš„é‡è¦åŸºç¡€ â€”â€” å¯»æ‰¾å¥½å¯¼å¸ˆ</h3><p>æœ‰æ•ˆå­¦ä¹ çš„æ ¸å¿ƒæ˜¯å»ºç«‹ç²¾å¯†çš„å¿ƒç†è¡¨å¾ã€‚è‡ªå·±ç»ƒä¹ æ—¶ï¼Œä½ å¿…é¡»ä¾é è‡ªå·±çš„å¿ƒç†è¡¨å¾æ¥ç›‘æµ‹è‡ªå·±çš„è¡¨ç°ï¼Œå¹¶åˆ¤æ–­è‡ªå·±åœ¨å“ªäº›åœ°æ–¹åšå¾—ä¸å¯¹ã€‚</p><p>è™½ç„¶è¿™ä¸æ˜¯ä¸å¯èƒ½åšåˆ°çš„ï¼Œä½†æ¯”èµ·æ‰¾ä¸€ä½ç»éªŒä¸°å¯Œçš„å¯¼å¸ˆæ¥è§‚å¯Ÿä½ ï¼Œå¹¶å‘ä½ æä¾›åé¦ˆç›¸æ¯”ï¼Œå•å‡­è‡ªå·±çš„åŠ›é‡æ¥ç»ƒä¹ ï¼Œä¸ä½†è‰°éš¾å¾—å¤šï¼Œè€Œä¸”æ•ˆæœå·®å¾—å¤šï¼Œåœ¨å­¦ä¹ è¿‡ç¨‹çš„æ—©æœŸå°¤å…¶å¦‚æ­¤ã€‚</p><p>å¥½çš„å¯¼å¸ˆæ˜ç™½å­¦ä¹ ä¸€é¡¹æŠ€èƒ½çš„æœ€ä½³é¡ºåºï¼Œèƒ½å¤Ÿç†è§£å¹¶ç¤ºèŒƒæ­£ç¡®çš„æ–¹å¼æ¥å±•ç¤ºå„ç§æŠ€èƒ½ï¼Œå¯ä»¥æä¾›æœ‰æ•ˆåé¦ˆï¼Œç”šè‡³è¿˜èƒ½è®¾è®¡ä¸€äº›ä¸“é—¨ç”¨æ¥å…‹æœç‰¹å®šç¼ºé™·çš„ç»ƒä¹ æ´»åŠ¨ï¼Œåœ¨å¯¼å¸ˆçš„æŒ‡å¯¼ä¸‹ï¼Œæ¿€æƒ…åè¶³ã€å­œå­œä¸å€¦çš„å­¦ç”Ÿèƒ½å¤Ÿæ›´åŠ è¿…é€Ÿåœ°å–å¾—è¿›æ­¥ã€‚</p><h2 id="ç¬¬ä¸ƒåäºŒèŠ‚-å¦‚ä½•å¯»æ‰¾å¯¼å¸ˆ"><a href="#ç¬¬ä¸ƒåäºŒèŠ‚-å¦‚ä½•å¯»æ‰¾å¯¼å¸ˆ" class="headerlink" title="ç¬¬ä¸ƒåäºŒèŠ‚ å¦‚ä½•å¯»æ‰¾å¯¼å¸ˆ"></a>ç¬¬ä¸ƒåäºŒèŠ‚ å¦‚ä½•å¯»æ‰¾å¯¼å¸ˆ</h2><h3 id="å¦‚ä½•è¾¨è®¤å¥½å¯¼å¸ˆ"><a href="#å¦‚ä½•è¾¨è®¤å¥½å¯¼å¸ˆ" class="headerlink" title="å¦‚ä½•è¾¨è®¤å¥½å¯¼å¸ˆ"></a>å¦‚ä½•è¾¨è®¤å¥½å¯¼å¸ˆ</h3><p>å¥½çš„å¯¼å¸ˆåº”å½“æ˜¯åœ¨æ‰€å±è¡Œä¸šæˆ–é¢†åŸŸä¹‹ä¸­æœ‰ä¸€å®šæˆå°±çš„äººï¼Œå› ä¸ºå¤§éƒ¨åˆ†å¯¼å¸ˆåªèƒ½å¼•å¯¼ä½ è¾¾åˆ°ä»–ä»¬æˆ–è€…ä»–ä»¬çš„å­¦ç”Ÿæ›¾ç»è¾¾åˆ°è¿‡çš„æ°´å¹³ã€‚</p><p>å¥½å¯¼å¸ˆåº”å½“å…·å¤‡ä¸€å®šçš„æ•™è‚²ç»éªŒã€‚å¾ˆå¤šæˆå°±çªå‡ºçš„äººå¹¶ä¸èƒ½èƒœä»»å¯¼å¸ˆçš„è§’è‰²ï¼Œä»–ä»¬è‡ªå·±èƒ½å¤Ÿåšå‡ºæ°å‡ºçš„æˆç»©ï¼Œå¹¶ä¸æ„å‘³ç€ä»–çš„æŠ€å·§å’Œç»éªŒå¯ä»¥å¤åˆ¶åˆ°å…¶ä»–äººèº«ä¸Šã€‚</p><p>é€‰æ‹©å¯¼å¸ˆæ—¶ï¼Œè¦è®°å¾—è¯¢é—®å¯¼å¸ˆçš„è¿‡å¾€ç»éªŒï¼Œå¯ä»¥å’Œè¿™ä½å¯¼å¸ˆä»¥å‰æˆ–ç°åœ¨çš„å­¦ç”Ÿäº¤è°ˆã€‚äº¤è°ˆæ—¶è¦æ³¨æ„å›´ç»•ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜å±•å¼€ï¼š</p><p>1ã€è¿™äº›å­¦ç”Ÿçš„æ°´å¹³å¦‚ä½•ï¼Ÿ</p><p>2ã€ä»–ä»¬æŠ€èƒ½çš„æå‡ï¼Œå¤šå¤§ç¨‹åº¦ä¸Šå½’åŠŸäºå¯¼å¸ˆï¼Ÿ</p><p>3ã€ä»–ä»¬å¯¹å¯¼å¸ˆçš„è¯„ä»·å¦‚ä½•ï¼Ÿ</p><h3 id="æ²¡æœ‰å¯¼å¸ˆæ—¶çš„æ›¿ä»£æ–¹æ¡ˆ"><a href="#æ²¡æœ‰å¯¼å¸ˆæ—¶çš„æ›¿ä»£æ–¹æ¡ˆ" class="headerlink" title="æ²¡æœ‰å¯¼å¸ˆæ—¶çš„æ›¿ä»£æ–¹æ¡ˆ"></a>æ²¡æœ‰å¯¼å¸ˆæ—¶çš„æ›¿ä»£æ–¹æ¡ˆ</h3><p>æƒ³è¦åœ¨æ²¡æœ‰å¯¼å¸ˆçš„æ—¶å€™æœ‰æ•ˆåœ°ç»ƒä¹ æŸç§æŠ€èƒ½ï¼Œæœ‰ä¸‰ä¸ªè¯éå¸¸é‡è¦ï¼šä¸“æ³¨ã€åé¦ˆå’Œçº æ­£ã€‚</p><p>æ— è®ºä½ é‡‡ç”¨ä»€ä¹ˆæ ·çš„ç»ƒä¹ æ–¹å¼ï¼Œéƒ½è¦åœ¨ç»ƒä¹ çš„è¿‡ç¨‹ä¸­ä¿æŒä¸“æ³¨ï¼Œåœ¨ç»ƒä¹ ç»“æŸåå¯¹è‡ªå·±è¿›è¡Œè¯„ä»·è®°å½•ï¼Œæ‰¾åˆ°è¡Œä¸šä¸“å®¶åœ¨è¿™ä¸ªç»ƒä¹ ä¸­çš„è¡¨ç°ï¼Œè·Ÿè‡ªå·±å¯¹æ¯”ï¼Œç”±æ­¤åˆ¶è®¢æ”¹è‰¯çš„æ–¹æ¡ˆï¼Œå¹¶åœ¨ä¸‹ä¸€æ¬¡ç»ƒä¹ æ—¶æ ¹æ®æ–¹æ¡ˆæ¥çº æ­£è‡ªå·±ã€‚</p><h2 id="ç¬¬ä¸ƒåä¸‰èŠ‚-å¦‚ä½•åšæŒå­¦ä¹ "><a href="#ç¬¬ä¸ƒåä¸‰èŠ‚-å¦‚ä½•åšæŒå­¦ä¹ " class="headerlink" title="ç¬¬ä¸ƒåä¸‰èŠ‚ å¦‚ä½•åšæŒå­¦ä¹ "></a>ç¬¬ä¸ƒåä¸‰èŠ‚ å¦‚ä½•åšæŒå­¦ä¹ </h2><h3 id="æ–°å¹´å†³å¿ƒæ•ˆåº”"><a href="#æ–°å¹´å†³å¿ƒæ•ˆåº”" class="headerlink" title="æ–°å¹´å†³å¿ƒæ•ˆåº”"></a>æ–°å¹´å†³å¿ƒæ•ˆåº”</h3><p>ä¿—è¯è¯´ä¸‡äº‹å¼€å¤´éš¾ã€‚ä½†å¯¹äºå­¦ä¹ æ¥è¯´ï¼Œç€æ‰‹åšå¹¶ä¸éš¾ï¼ŒåšæŒä¸æ‡ˆæ‰æ˜¯éš¾äº‹ã€‚å¾ˆå¤šäººéƒ½æœ‰åœ¨æ–°å¹´æ—¶æŒ‡å®šç›®æ ‡å’Œè®¡åˆ’çš„ä¹ æƒ¯ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ— è®ºä½ æœ€å¼€å§‹æœ‰å¤šçƒ­æƒ…ï¼Œæ”¾å¼ƒçš„æ„æ„¿éƒ½ä¼šè¶Šæ¥è¶Šå¼ºï¼Œå¾ˆå°‘æœ‰äººèƒ½å¤ŸçœŸæ­£çš„è¾¾æˆç›®æ ‡ã€‚</p><h3 id="èƒ½å¦åšæŒçš„å…³é”®æ˜¯åŠ¨æœº"><a href="#èƒ½å¦åšæŒçš„å…³é”®æ˜¯åŠ¨æœº" class="headerlink" title="èƒ½å¦åšæŒçš„å…³é”®æ˜¯åŠ¨æœº"></a>èƒ½å¦åšæŒçš„å…³é”®æ˜¯åŠ¨æœº</h3><p>æˆ‘ä»¬åšä¸€ä»¶äº‹æƒ…çš„åŠ¨æœºï¼ŒåŒ…æ‹¬ä¸¤ä¸ªç»„æˆéƒ¨åˆ†ï¼šç»§ç»­å‰è¡Œçš„ç†ç”±å’Œåœä¸‹è„šæ­¥çš„ç†ç”±ã€‚å¦‚æœåœä¸‹è„šæ­¥çš„ç†ç”±æˆ˜èƒœäº†ç»§ç»­å‰è¡Œçš„ç†ç”±ï¼Œå¤±å»äº†åŠ¨æœºï¼Œä½ å°±å¾ˆéš¾åšæŒã€‚å› æ­¤ï¼Œæƒ³è¦åšæŒå°±è¦ä¿æŒåŠ¨æœºï¼Œè¦ä¹ˆå¼ºåŒ–ç»§ç»­å‰è¡Œçš„ç†ç”±ï¼Œè¦ä¹ˆå¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±ã€‚</p><h3 id="å¦‚ä½•å¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±"><a href="#å¦‚ä½•å¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±" class="headerlink" title="å¦‚ä½•å¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±"></a>å¦‚ä½•å¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±</h3><p>1ã€æ‰¾åˆ°æœ€èˆ’é€‚çš„å­¦ä¹ æ—¶é—´ï¼Œå¹¶å›ºå®šä¸‹æ¥ã€‚</p><p>2ã€æ‰¾å‡ºé‚£äº›å¯èƒ½å¹²æ‰°ä½ ç»ƒä¹ çš„äº‹æƒ…ï¼Œæƒ³åŠæ³•å°†å®ƒä»¬çš„å½±å“æ§åˆ¶åœ¨æœ€å°ã€‚æˆ‘ä»¬å¿…é¡»è¦æ˜ç¡®ï¼Œå›ºå®šçš„å­¦ä¹ æ—¶é—´ä¸­ä¸€å®šä¸èƒ½åšå…¶ä»–äº‹æƒ…ï¼Œæ— è®ºæ˜¯ä¸æ˜¯æ­£äº‹ã€‚</p><h2 id="ç¬¬ä¸ƒåå››èŠ‚-æ­¥å±¥ä¸åœ"><a href="#ç¬¬ä¸ƒåå››èŠ‚-æ­¥å±¥ä¸åœ" class="headerlink" title="ç¬¬ä¸ƒåå››èŠ‚ æ­¥å±¥ä¸åœ"></a>ç¬¬ä¸ƒåå››èŠ‚ æ­¥å±¥ä¸åœ</h2><h3 id="å¦‚ä½•å¢å¼ºç»§ç»­å‰è¡Œçš„ç†ç”±"><a href="#å¦‚ä½•å¢å¼ºç»§ç»­å‰è¡Œçš„ç†ç”±" class="headerlink" title="å¦‚ä½•å¢å¼ºç»§ç»­å‰è¡Œçš„ç†ç”±"></a>å¦‚ä½•å¢å¼ºç»§ç»­å‰è¡Œçš„ç†ç”±</h3><p>å­¦ä¹ ä¸€ä¸ªæŠ€èƒ½æœ€åˆçš„ç†ç”±ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§ï¼šå‘è‡ªå†…å¿ƒçš„çƒ­çˆ±å’Œç¤¾ä¼šåŠ¨æœºã€‚å‰è€…æ¯”è¾ƒç½•è§ï¼Œä½†åŠ¨åŠ›ä¼šéå¸¸å¼ºå¤§ã€‚å¦‚æœæ²¡æœ‰å¤–åŠ›çš„é˜»æŒ ï¼Œå…´è¶£å°±ä¼šæˆä¸ºæœ€å¥½çš„è€å¸ˆï¼Œç£ä¿ƒç€æˆ‘ä»¬åšæŒå­¦ä¹ å¹¶ä¹åœ¨å…¶ä¸­ã€‚</p><p>ç¤¾ä¼šåŠ¨æœºå°±æ˜¯å—åˆ°å¤–ç•Œå½±å“æ‰äº§ç”Ÿçš„åŠ¨æœºï¼Œæ¯”è¾ƒå¸¸è§ä½†åŠ¨åŠ›è¾ƒå¼±ï¼Œå¦‚æœä¸é‡‡å–ç›¸åº”çš„æªæ–½ï¼Œç¤¾ä¼šåŠ¨æœºå¾ˆéš¾æ”¯æ’‘æˆ‘ä»¬é•¿æœŸåšæŒã€‚æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ˜¾è‘—çš„å¼ºåŒ–ç¤¾ä¼šåŠ¨æœºï¼Œå¸®åŠ©æˆ‘ä»¬åšæŒå­¦ä¹ ã€‚</p><p>ç¬¬ä¸€ç§æ–¹æ³•ï¼Œæ˜¯å°†å¯¹åŒä¸€ä»¶äº‹æƒ…æ„Ÿå…´è¶£çš„äººèšé›†èµ·æ¥ï¼Œæˆ–è€…åŠ å…¥ä¸€ä¸ªç°æœ‰çš„ï¼Œæ‰€æœ‰æˆå‘˜æœ‰ç€å…±åŒç›®æ ‡çš„å›¢ä½“ï¼Œå¹¶å’Œé›†ä½“ä¸­çš„å…¶ä»–äººå»ºç«‹è‰¯å¥½çš„äººé™…å…³ç³»ã€‚</p><p>ç¬¬äºŒç§æ–¹æ³•ï¼Œæ˜¯å»ºç«‹åšä¿¡è‡ªå·±èƒ½å¤ŸæˆåŠŸçš„ä¿¡å¿µã€‚è®¸å¤šå¤æ‚çš„æŠ€èƒ½ï¼Œéœ€è¦æ—¥ç§¯æœˆç´¯ï¼Œåšç§¯è–„å‘çš„å­¦ä¹ æ‰èƒ½çœ‹åˆ°æˆæ•ˆã€‚ä½†æ˜¯ï¼Œåœ¨çœ‹åˆ°æˆæ•ˆä¹‹å‰ï¼Œå¾ˆå°‘æœ‰äººèƒ½å¤Ÿæ¥å—è¿™ç§æ¯«æ— èµ·è‰²çš„çŠ¶æ€ï¼Œè½¬è€Œè®¤å®šè‡ªå·±çš„å­¦ä¹ æ˜¯å¾’åŠ³çš„ï¼Œä»è€Œæ”¾å¼ƒåšæŒã€‚å› æ­¤ï¼Œå“ªæ€•æ˜¯è‡ªæˆ‘æ¬ºéª—ï¼Œæˆ‘ä»¬éƒ½è¦åšä¿¡è‡ªå·±èƒ½å¤ŸæˆåŠŸã€‚</p><h2 id="ç¬¬ä¸ƒåäº”èŠ‚-å¤ä¹ è¯¾"><a href="#ç¬¬ä¸ƒåäº”èŠ‚-å¤ä¹ è¯¾" class="headerlink" title="ç¬¬ä¸ƒåäº”èŠ‚ å¤ä¹ è¯¾"></a>ç¬¬ä¸ƒåäº”èŠ‚ å¤ä¹ è¯¾</h2><p>å¤ä¹ è¯¾</p><h3 id="å…³äºå­¦ä¹ çš„ä¸¤ä¸ªè¯¯åŒº"><a href="#å…³äºå­¦ä¹ çš„ä¸¤ä¸ªè¯¯åŒº" class="headerlink" title="å…³äºå­¦ä¹ çš„ä¸¤ä¸ªè¯¯åŒº"></a>å…³äºå­¦ä¹ çš„ä¸¤ä¸ªè¯¯åŒº</h3><p>ä¸€ä¸‡å°æ—¶å®šå¾‹ã€é«˜ä¼°å¤©èµ‹çš„ä½œç”¨ã€‚</p><p><strong>æœ‰æ•ˆå­¦ä¹ çš„åŸºç¡€</strong>ï¼š</p><p>æœ‰ç›®çš„å­¦ä¹ ã€‚</p><p><strong>æœ‰ç›®çš„å­¦ä¹ çš„å››è¦ç´ </strong>ï¼š</p><p>ç›®æ ‡å®šä¹‰æ˜ç¡®ã€ä¿æŒä¸“æ³¨ã€æœ‰åé¦ˆï¼Œèµ°å‡ºèˆ’é€‚åŒºã€‚</p><p><strong>æœ‰æ•ˆå­¦ä¹ çš„æœ¬è´¨</strong>ï¼š</p><p>å»ºç«‹é«˜è´¨é‡çš„å¿ƒç†è¡¨å¾ã€‚</p><p><strong>å¿ƒç†è¡¨å¾çš„å››ä¸ªç‰¹ç‚¹</strong>ï¼š</p><p>æœ‰åŠ©äºå¯»æ‰¾è§„å¾‹ã€è§£é‡Šä¿¡æ¯ã€ç»„ç»‡ä¿¡æ¯å’Œæ‰§è¡Œè®¡åˆ’ã€‚</p><p><strong>å¥½å¯¼å¸ˆå¯¹å­¦ä¹ éå¸¸é‡è¦</strong>ï¼š</p><p>æˆ‘ä»¬å¯ä»¥ä¾é è‡ªå·±çš„å¿ƒç†è¡¨å¾æ¥ç›‘æµ‹è‡ªå·±çš„è¡¨ç°ï¼Œä½†æ¯”èµ·æ‰¾ä¸€ä½ç»éªŒä¸°å¯Œçš„å¯¼å¸ˆæ¥è§‚å¯Ÿä½ ï¼Œå¹¶å‘ä½ æä¾›åé¦ˆç›¸æ¯”ï¼Œå•å‡­è‡ªå·±çš„åŠ›é‡æ¥ç»ƒä¹ ï¼Œä¸ä½†è‰°éš¾å¾—å¤šï¼Œè€Œä¸”æ•ˆæœå·®å¾—å¤šã€‚</p><p><strong>å¥½å¯¼å¸ˆçš„ä¸¤ä¸ªç‰¹å¾</strong>ï¼š</p><p>åœ¨æ‰€å±é¢†åŸŸå’Œè¡Œä¸šæœ‰ä¸€å®šçš„æˆå°±ï¼Œå¹¶ä¸”æœ‰è¿‡æˆåŠŸçš„æ•™è‚²ç»å†ã€‚</p><p>åœ¨é€‰æ‹©å¯¼å¸ˆæ—¶ï¼Œå¯ä»¥å’Œè¿™ä½å¯¼å¸ˆä»¥å‰æˆ–ç°åœ¨çš„å­¦ç”Ÿäº¤è°ˆï¼Œè§£ç­”ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜å±•å¼€ï¼š1ã€è¿™äº›å­¦ç”Ÿçš„æ°´å¹³å¦‚ä½•ï¼Ÿ2ã€ä»–ä»¬æŠ€èƒ½çš„æå‡ï¼Œå¤šå¤§ç¨‹åº¦ä¸Šå½’åŠŸäºå¯¼å¸ˆï¼Ÿ3ã€ä»–ä»¬å¯¹å¯¼å¸ˆçš„è¯„ä»·å¦‚ä½•ï¼Ÿ</p><p><strong>æ²¡æœ‰å¯¼å¸ˆçš„æ›¿ä»£æ–¹æ¡ˆ</strong>ï¼š</p><p><strong>ä¸‰ä¸ªå…³é”®è¯ï¼š</strong>ä¸“æ³¨ã€åé¦ˆã€çº æ­£ã€‚</p><p>æ— è®ºä½ é‡‡ç”¨ä»€ä¹ˆæ ·çš„ç»ƒä¹ æ–¹å¼ï¼Œéƒ½è¦åœ¨ç»ƒä¹ çš„è¿‡ç¨‹ä¸­ä¿æŒä¸“æ³¨ï¼Œåœ¨ç»ƒä¹ ç»“æŸåå¯¹è‡ªå·±è¿›è¡Œè¯„ä»·è®°å½•ï¼Œæ‰¾åˆ°è¡Œä¸šä¸“å®¶åœ¨è¿™ä¸ªç»ƒä¹ ä¸­çš„è¡¨ç°ï¼Œè·Ÿè‡ªå·±å¯¹æ¯”ï¼Œç”±æ­¤åˆ¶è®¢æ”¹è‰¯çš„æ–¹æ¡ˆï¼Œå¹¶åœ¨ä¸‹ä¸€æ¬¡ç»ƒä¹ æ—¶æ ¹æ®æ–¹æ¡ˆæ¥çº æ­£è‡ªå·±ã€‚</p><p><strong>å¦‚ä½•åšæŒå­¦ä¹ </strong>ï¼Ÿ</p><p>æƒ³è¦åšæŒå­¦ä¹ ï¼Œå°±è¦ä¿æŒåŠ¨æœºï¼Œè¦ä¹ˆå¼ºåŒ–ç»§ç»­å‰è¡Œçš„ç†ç”±ï¼Œè¦ä¹ˆå¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±ã€‚</p><p><strong>å¦‚ä½•å¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±</strong>ï¼Ÿ</p><p>1ã€æ‰¾åˆ°æœ€èˆ’é€‚çš„å­¦ä¹ æ—¶é—´ï¼Œå¹¶å›ºå®šä¸‹æ¥ã€‚</p><p>2ã€æ‰¾å‡ºé‚£äº›å¯èƒ½å¹²æ‰°ä½ ç»ƒä¹ çš„äº‹æƒ…ï¼Œæƒ³åŠæ³•å°†å®ƒä»¬çš„å½±å“æ§åˆ¶åœ¨æœ€å°ã€‚</p><p><strong>å¦‚ä½•å¼ºåŒ–ç»§ç»­å‰è¡Œçš„ç†ç”±</strong>ï¼Ÿ</p><p>1ã€å°†å¯¹åŒä¸€ä»¶äº‹æƒ…æ„Ÿå…´è¶£çš„äººèšé›†èµ·æ¥ï¼Œæˆ–è€…åŠ å…¥ä¸€ä¸ªç°æœ‰çš„ï¼Œæ‰€æœ‰æˆå‘˜æœ‰ç€å…±åŒç›®æ ‡çš„å›¢ä½“ï¼Œå¹¶å’Œé›†ä½“ä¸­çš„å…¶ä»–äººå»ºç«‹è‰¯å¥½çš„äººé™…å…³ç³»ã€‚</p><p>2ã€å»ºç«‹åšä¿¡è‡ªå·±èƒ½å¤ŸæˆåŠŸçš„ä¿¡å¿µã€‚</p><h2 id="ç¬¬ä¸ƒåå…­èŠ‚-è‡ªæ§åŠ›çš„ç»„æˆ"><a href="#ç¬¬ä¸ƒåå…­èŠ‚-è‡ªæ§åŠ›çš„ç»„æˆ" class="headerlink" title="ç¬¬ä¸ƒåå…­èŠ‚ è‡ªæ§åŠ›çš„ç»„æˆ"></a>ç¬¬ä¸ƒåå…­èŠ‚ è‡ªæ§åŠ›çš„ç»„æˆ</h2><h3 id="è‡ªæ§åŠ›æ˜¯èƒ½å¤Ÿæé«˜çš„"><a href="#è‡ªæ§åŠ›æ˜¯èƒ½å¤Ÿæé«˜çš„" class="headerlink" title="è‡ªæ§åŠ›æ˜¯èƒ½å¤Ÿæé«˜çš„"></a>è‡ªæ§åŠ›æ˜¯èƒ½å¤Ÿæé«˜çš„</h3><p>é«˜åº¦è‡ªå¾‹ä¼¼ä¹æ˜¯ä¸€é¡¹ä¸ç”Ÿä¿±æ¥çš„å¤©èµ‹ï¼Œä¸è¿‡äº‹å®å¹¶éå¦‚æ­¤ã€‚æ­£å¦‚åŒå­¦ä¹ ä¸“ä¸šæŠ€èƒ½å¯ä»¥ä¸ä¾èµ–å¤©èµ‹ï¼Œè‡ªæ§åŠ›ä¹Ÿæ˜¯äººäººéƒ½èƒ½å…·å¤‡çš„èƒ½åŠ›ã€‚è‘—åçš„å¿ƒç†å­¦ä¸“å®¶ã€æ–¯å¦ç¦å¤§å­¦çš„éº¦æ ¼å°¼æ ¼å°”æ•™æˆï¼Œé€šè¿‡å¤šå¹´æ¥å¯¹äººä»¬æ”¹å˜æƒ³æ³•ã€æƒ…ç»ªå’Œä¹ æƒ¯çš„è§‚å¯Ÿï¼Œæ‘¸ç´¢å‡ºäº†ä¸€å¥—èƒ½å¤Ÿåˆ‡å®æœ‰æ•ˆæé«˜è‡ªæ§åŠ›çš„æ–¹æ³•ã€‚</p><h3 id="è‡ªæ§åŠ›çš„ä¸‰ç§ç»„æˆ"><a href="#è‡ªæ§åŠ›çš„ä¸‰ç§ç»„æˆ" class="headerlink" title="è‡ªæ§åŠ›çš„ä¸‰ç§ç»„æˆ"></a>è‡ªæ§åŠ›çš„ä¸‰ç§ç»„æˆ</h3><p>æˆ‘æƒ³è¦ï¼šè½å®ä¸æƒ³åšçš„äº‹ï¼ˆèµ·åºŠã€å·¥ä½œï¼‰</p><p>æˆ‘ä¸è¦ï¼šæ‹’ç»è¯±æƒ‘ï¼ˆæŠµåˆ¶é›¶é£Ÿå’ŒçƒŸé…’ï¼‰</p><p>æˆ‘éœ€è¦ï¼šè‡ªæˆ‘è®¤çŸ¥ä¸ä»·å€¼åˆ¤æ–­</p><h2 id="ç¬¬ä¸ƒåä¸ƒèŠ‚"><a href="#ç¬¬ä¸ƒåä¸ƒèŠ‚" class="headerlink" title="ç¬¬ä¸ƒåä¸ƒèŠ‚"></a>ç¬¬ä¸ƒåä¸ƒèŠ‚</h2><h2 id="ç¬¬ä¸ƒåå…«èŠ‚"><a href="#ç¬¬ä¸ƒåå…«èŠ‚" class="headerlink" title="ç¬¬ä¸ƒåå…«èŠ‚"></a>ç¬¬ä¸ƒåå…«èŠ‚</h2><h2 id="ç¬¬ä¸ƒåä¹èŠ‚"><a href="#ç¬¬ä¸ƒåä¹èŠ‚" class="headerlink" title="ç¬¬ä¸ƒåä¹èŠ‚"></a>ç¬¬ä¸ƒåä¹èŠ‚</h2><h2 id="ç¬¬å…«åèŠ‚"><a href="#ç¬¬å…«åèŠ‚" class="headerlink" title="ç¬¬å…«åèŠ‚"></a>ç¬¬å…«åèŠ‚</h2>]]></content>
      
      
      
        <tags>
            
            <tag> å†¥æƒ³ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js-ç»„åˆå‡½æ•° </title>
      <link href="posts/js-%E7%BB%84%E5%90%88%E5%87%BD%E6%95%B0/"/>
      <url>posts/js-%E7%BB%84%E5%90%88%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>composeå‡½æ•°ï¼Œä¼šæ¥æ”¶è‹¥å¹²ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ¯ä¸ªå‡½æ•°æ‰§è¡Œåçš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºï¼Œç›´è‡³æœ€åä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºä½œä¸ºæœ€ç»ˆçš„ç»“æœã€‚</p><p>show code~~~</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = <span class="string">&#x27;3.56&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> data = <span class="built_in">parseFloat</span>(n);</span><br><span class="line"><span class="keyword">let</span> result = <span class="built_in">Math</span>.round(data); <span class="comment">// =&gt; æœ€ç»ˆç»“æœ 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨ ç»„åˆå‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> n = <span class="string">&#x27;3.56&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> number = compose(<span class="built_in">Math</span>.round,<span class="built_in">parseFloat</span>);</span><br><span class="line"><span class="keyword">let</span> result = number(n); <span class="comment">// =&gt;4 æœ€ç»ˆç»“æœ</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç çš„æ ¸å¿ƒæ˜¯é€šè¿‡<code>compose</code>å°†<code>parseFloat</code>å’Œ<code>Math.round</code>ç»„åˆåˆ°ä¸€ä¸ªè¿”å›ä¸€ä¸ªæ–°å‡½æ•° <code>number</code></p><p>è¿™å°±æ˜¯å‡½æ•°å¼ç»„åˆï¼Œå°†ä¸¤ä¸ªå‡½æ•°ç»„åˆåœ¨ä¸€èµ·ä»¥ä¾¿èƒ½åŠæ—¶çš„æ„é€ å‡ºä¸€ä¸ªæ–°å‡½æ•°ã€‚</p><a id="more"></a><h2 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h2><p>éœ€æ±‚: ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå¤§å†™ï¼Œç„¶åé€†åºã€‚</p><p>å¸¸è§„æ€è·¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;jspool&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…ˆè½¬æˆå¤§å†™ï¼Œå†é€†åº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> upperStr = str.toUpperCase();</span><br><span class="line">    <span class="keyword">return</span> upperStr.split(<span class="string">&#x27;&#x27;</span>).reverse().join();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn(str);</span><br></pre></td></tr></table></figure><p>ä»£ç æ²¡é—®é¢˜ï¼Œç°åœ¨æ”¹éœ€æ±‚ã€‚å°†å­—ç¬¦ä¸²å¤§å†™ä¹‹åï¼Œæ¯ä¸ªå­—ç¬¦æ‹†å¼€å¹¶å°è£…æˆä¸€ä¸ªæ•°ç»„ã€‚<code>&quot;jspool&quot; =&gt; [&quot;J&quot;,&quot;S&quot;,&quot;P&quot;,&quot;O&quot;,&quot;O&quot;,&quot;L&quot;]</code></p><p>ä¸ºäº†ä¿®æ”¹è¿™ä¸ªç›®æ ‡ï¼Œéœ€è¦ä¿®æ”¹ä¹‹å‰å°è£…çš„å‡½æ•°ï¼Œè¿™å°±ç ´åäº†è®¾è®¡æ¨¡å¼çš„å¼€é—­åŸåˆ™ã€‚</p><blockquote><p>å¼€é—­åŸåˆ™ï¼šè½¯ä»¶ä¸­çš„å¯¹è±¡ï¼ˆç±»ï¼Œæ¨¡å—ï¼Œå‡½æ•°ç­‰ç­‰ï¼‰åº”è¯¥å¯¹äºæ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºä¿®æ”¹æ˜¯å°é—­çš„ã€‚</p></blockquote><p>ç”¨ç»„åˆæ€æƒ³æ€ä¹ˆå†™å‘¢?</p><p>åŸéœ€æ±‚å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;jspool&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringToUpper</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.toUpperCase()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringReverse</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.split(<span class="string">&#x27;&#x27;</span>).reverse().join(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> toUpperAndReverse = compose(stringReverse, stringToUpper)</span><br><span class="line"><span class="keyword">let</span> result = toUpperAndReverse(str) <span class="comment">// &quot;LOOPSJ&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç°åœ¨å®ç°æ–°éœ€æ±‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;jspool&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringToUpper</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.toUpperCase()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringReverse</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.split(<span class="string">&#x27;&#x27;</span>).reverse().join(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringToArray</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.split(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> toUpperAndArray = compose(stringToArray, stringToUpper)</span><br><span class="line"><span class="keyword">let</span> result = toUpperAndArray(str) <span class="comment">// =&gt; [&quot;J&quot;,&quot;S&quot;,&quot;P&quot;,&quot;O&quot;,&quot;O&quot;,&quot;L&quot;]</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œéœ€æ±‚å˜æ›´æ—¶ï¼Œæ²¡æœ‰æ‰“ç ´å°è£…ä»¥å‰çš„ä»£ç ï¼Œåªæ˜¯æ–°å¢äº†å‡½æ•°åŠŸèƒ½ï¼ŒæŠŠå‡½æ•°è¿›è¡Œé‡æ–°ç»„åˆã€‚</p><blockquote><p>å¯èƒ½æœ‰äººä¼šæœ‰ç–‘é—®ï¼Œåº”ç”¨ç»„åˆçš„æ–¹å¼ä¹¦å†™ä»£ç ï¼Œå½“éœ€æ±‚å˜æ›´æ—¶ï¼Œä¾ç„¶ä¹Ÿä¿®æ”¹äº†ä»£ç ï¼Œä¸æ˜¯ä¹Ÿç®—ç ´åäº†å¼€é—­åŸåˆ™ä¹ˆï¼Ÿå…¶å®æˆ‘ä»¬ä¿®æ”¹çš„æ˜¯è°ƒç”¨çš„é€»è¾‘ä»£ç ï¼Œå¹¶æ²¡æœ‰ä¿®æ”¹å°è£…ã€æŠ½è±¡å‡ºæ¥çš„ä»£ç ï¼Œè€Œè¿™ç§ä¹¦å†™æ–¹å¼ä¹Ÿæ­£æ˜¯å¼€é—­åŸåˆ™æ‰€æå€¡çš„ã€‚</p></blockquote><p>ç°åœ¨åˆæ”¹éœ€æ±‚: å­—ç¬¦ä¸²è½¬å¤§å†™åï¼Œæˆªå–å‰3ä¸ªå­—ç¬¦ï¼Œç„¶åè½¬ä¸ºæ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;jspool&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringToUpper</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.toUpperCase()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringReverse</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.split(<span class="string">&#x27;&#x27;</span>).reverse().join(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getThreeCharacters</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.substring(<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringToArray</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.split(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> toUpperAndGetThreeAndArray = compose(stringToArray, getThreeCharacters,stringToUpper)</span><br><span class="line"><span class="keyword">let</span> result = toUpperAndGetThreeAndArray(str) <span class="comment">// =&gt; [&quot;J&quot;,&quot;S&quot;,&quot;P&quot;]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šï¼Œç»„åˆçš„æ–¹å¼æ˜¯æŠ½è±¡å•ä¸€åŠŸèƒ½çš„å‡½æ•°ï¼Œå†ç»„æˆå¤æ‚åŠŸèƒ½ï¼Œä»£ç é€»è¾‘æ›´æ¸…æ™°ï¼Œä¹Ÿç»™ç»´æŠ¤å¸¦æ¥å·¨å¤§æ–¹ä¾¿ã€‚</p><h2 id="å®ç°ç»„åˆ"><a href="#å®ç°ç»„åˆ" class="headerlink" title="å®ç°ç»„åˆ"></a>å®ç°ç»„åˆ</h2><p>æ–°å‡½æ•°æ‰§è¡Œæ—¶ï¼ŒæŒ‰ç…§<strong>ç”±å³å‘å·¦</strong>çš„é¡ºåºä¾æ¬¡æ‰§è¡Œä¼ å…¥<code>compose</code>ä¸­çš„å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°çš„æ‰§è¡Œç»“æœä½œä¸ºä¸‹ä¸€ä¸ªå‡½æ•°çš„å…¥å‚ï¼Œç›´åˆ°æœ€åä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºä½œä¸ºæœ€ç»ˆçš„è¾“å‡ºç»“æœã€‚</p><p>å¦‚æœcomposeå‡½æ•°æ¥æ”¶çš„å‡½æ•°æ•°é‡æ˜¯å›ºå®šçš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">f,g</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> f(g(x));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">f,g</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> f(g(x));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†å®é™…composeæ¥æ”¶çš„å‚æ•°ä¸ªæ•°æ˜¯ä¸ç¡®å®šçš„ï¼Œæˆ‘ä»¬è€ƒè™‘ç”¨restå‚æ•°æ¥æ¥æ”¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">...fns</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨composeæ¥æ”¶çš„å‚æ•°fnsæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚ä½•å°†æ•°ç»„ä¸­çš„å‡½æ•°<code>ä»å³å‘å·¦</code>ä¾æ¬¡æ‰§è¡Œ.</p><p>ç”¨æ•°ç»„çš„reduceRightæ¥å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">...fns</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fns.reduceRight(<span class="function"><span class="keyword">function</span>(<span class="params">arg, fn</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> fn(arg);</span><br><span class="line">        &#125;, x)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å®ç°äº†composeå‡½æ•°~~</p><h2 id="å®ç°ç®¡é“"><a href="#å®ç°ç®¡é“" class="headerlink" title="å®ç°ç®¡é“"></a>å®ç°ç®¡é“</h2><p>composeçš„æ•°æ®æµæ˜¯<code>ä»å³åˆ°å·¦</code>, å› ä¸ºå³ä¾§å‡½æ•°é¦–å…ˆæ‰§è¡Œï¼Œå·¦ä¾§æœ€åæ‰§è¡Œã€‚<br>ä½†æœ‰äººå–œæ¬¢ä»å·¦è‡³å³çš„æ‰§è¡Œæ–¹å¼ã€‚</p><blockquote><p>ä»å·¦è‡³å³å¤„ç†æ•°æ®æµçš„è¿‡ç¨‹ç§°ä¹‹ä¸ºç®¡é“(pipeline)</p></blockquote><p>åªéœ€å°†<code>reduceRight</code>æ›¿æ¢ä¸º<code>reduce</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pipe</span>(<span class="params">...fns</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fns.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">arg, fn</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> fn(arg);</span><br><span class="line">        &#125;, x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> ç»„åˆå‡½æ•° </tag>
            
            <tag> compose </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js ä»£ç ç‰‡æ®µ</title>
      <link href="posts/js-%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"/>
      <url>posts/js-%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/</url>
      
        <content type="html"><![CDATA[<h2 id="jsæ¯”è¾ƒç‰ˆæœ¬å·"><a href="#jsæ¯”è¾ƒç‰ˆæœ¬å·" class="headerlink" title="jsæ¯”è¾ƒç‰ˆæœ¬å·"></a>jsæ¯”è¾ƒç‰ˆæœ¬å·</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç‰ˆæœ¬æ¯”è¾ƒ versionCompare</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>currVer å½“å‰ç‰ˆæœ¬.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>promoteVer æ¯”è¾ƒç‰ˆæœ¬.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;Boolean&#125;</span> </span>false å½“å‰ç‰ˆæœ¬å°äºæ¯”è¾ƒç‰ˆæœ¬è¿”å› true.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨</span></span><br><span class="line"><span class="comment"> * versionCompare(&quot;6.3&quot;,&quot;5.2.5&quot;); // false.</span></span><br><span class="line"><span class="comment"> * versionCompare(&quot;6.1&quot;, &quot;6.1&quot;); // false.</span></span><br><span class="line"><span class="comment"> * versionCompare(&quot;6.1.5&quot;, &quot;6.2&quot;); // true.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">versionCompare</span>(<span class="params">currVer = <span class="string">&#x27;0.0.0&#x27;</span>, promoteVer = <span class="string">&#x27;0.0.0&#x27;</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (currVer === promoteVer) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> currVerArr = currVer.split(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> promoteVerArr = promoteVer.split(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> len = <span class="built_in">Math</span>.max(currVerArr.length, promoteVerArr.length);</span><br><span class="line">    <span class="comment">// ~æ˜¯æŒ‰ä½å–åçš„æ„æ€ï¼Œè®¡ç®—æœºé‡Œé¢å¤„ç†äºŒè¿›åˆ¶æ•°æ®æ—¶å€™çš„éï¼Œ</span></span><br><span class="line">    <span class="comment">// ~~åˆ©ç”¨ä¸¤ä¸ªæŒ‰ä½å–åçš„ç¬¦å·ï¼Œè¿›è¡Œç±»å‹çš„è½¬æ¢ï¼Œè½¬æ¢æˆæ•°å­—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="comment">// å°†æ¯”è¾ƒå¯¹è±¡è½¬æˆæ•°å­—</span></span><br><span class="line">        <span class="keyword">const</span> proVal = ~~promoteVerArr[i];</span><br><span class="line">        <span class="keyword">const</span> curVal = ~~currVerArr[i];</span><br><span class="line">        <span class="keyword">if</span> (proVal &lt; curVal) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (proVal &gt; curVal) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><p>bind è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œä½ å¿…é¡»è°ƒç”¨å®ƒæ‰ä¼šè¢«æ‰§è¡Œ</p><p>function() {}.bind(thisArg [, arg1 [, arg2, â€¦]]);</p><p>bindå‡½æ•°ä¼ å‚ä¼šå…ˆäºæ–°å‡½æ•°è°ƒç”¨æ—¶çš„å‚æ•°ä¼ å…¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;.bind(&#123;<span class="attr">name</span>: <span class="number">2</span>&#125;), <span class="number">100</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">name</span>:<span class="number">1</span>&#125;</span><br><span class="line">fn.call(obj1) <span class="comment">//è¾“å‡º2 ï¼Œå› ä¸ºbindçš„å‚æ•°å…ˆäºå…¶ä»–å‚æ•°ã€‚</span></span><br><span class="line"></span><br><span class="line">è‡ªå·±å®ç°bind</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;.bind) &#123;</span><br><span class="line">    <span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> self = <span class="built_in">this</span></span><br><span class="line">            , args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> self.apply(context, args.slice(<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æŠŠqueryStringè½¬æ¢æˆjså¯¹è±¡"><a href="#æŠŠqueryStringè½¬æ¢æˆjså¯¹è±¡" class="headerlink" title="æŠŠqueryStringè½¬æ¢æˆjså¯¹è±¡"></a>æŠŠqueryStringè½¬æ¢æˆjså¯¹è±¡</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getQueryObject</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    url=url==<span class="literal">null</span>?<span class="built_in">window</span>.location.href:url;</span><br><span class="line">    <span class="keyword">var</span> search=url.substring(url.lastIndexOf(<span class="string">&quot;?&quot;</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> reg=<span class="regexp">/([^?&amp;=]+)=([^?&amp;=]*)/g</span>;</span><br><span class="line">    search.replace(reg,<span class="function"><span class="keyword">function</span>(<span class="params">rs,$<span class="number">1</span>,$<span class="number">2</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> name=<span class="built_in">decodeURIComponent</span>($<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">var</span> val=<span class="built_in">decodeURIComponent</span>($<span class="number">2</span>);</span><br><span class="line">        obj[name]=<span class="built_in">String</span>(val);</span><br><span class="line">        <span class="keyword">return</span> rs;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getQueryObject(<span class="string">&quot;http://www.cnblogs.com/zichi/p/4359786.html?aa=111&amp;bb=3dadsads&amp;43=43a&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="å®ç°ä¸€ä¸ªå¼‚æ­¥ç¼“å­˜å™¨ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œå‘é€è¯·æ±‚ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œç›´æ¥å–ç»“æœ"><a href="#å®ç°ä¸€ä¸ªå¼‚æ­¥ç¼“å­˜å™¨ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œå‘é€è¯·æ±‚ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œç›´æ¥å–ç»“æœ" class="headerlink" title="å®ç°ä¸€ä¸ªå¼‚æ­¥ç¼“å­˜å™¨ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œå‘é€è¯·æ±‚ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œç›´æ¥å–ç»“æœ"></a>å®ç°ä¸€ä¸ªå¼‚æ­¥ç¼“å­˜å™¨ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œå‘é€è¯·æ±‚ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œç›´æ¥å–ç»“æœ</h2><p>ç”¨å‘å¸ƒè®¢é˜…è€…æ¨¡å¼</p><p>ä¸ç®¡è°è°ƒç”¨éƒ½æ˜¯æ‹¿çš„åŒä¸€ä¸ªPromiseï¼Œ</p><h2 id="Promise-å†™æ³•"><a href="#Promise-å†™æ³•" class="headerlink" title="Promise å†™æ³•"></a>Promise å†™æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ‡å‡†å†™æ³•ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ... some code</span></span><br><span class="line">    <span class="keyword">if</span> ( <span class="comment">/* å¼‚æ­¥æ“ä½œæˆåŠŸ */</span> ) &#123;</span><br><span class="line">        resolve(value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// success</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// failure</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line"><span class="comment">// ä¸€ã€è¿™é‡Œæ˜¯Promiseè¦æ‰§è¡Œçš„ä»£ç </span></span><br><span class="line">    log(<span class="string">&#x27;start new Promise...&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> timeOut = <span class="built_in">Math</span>.random() * <span class="number">2</span>;</span><br><span class="line">    log(<span class="string">&#x27;set timeout to: &#x27;</span> + timeOut + <span class="string">&#x27; seconds.&#x27;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (timeOut &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            log(<span class="string">&#x27;call resolve()...&#x27;</span>);</span><br><span class="line">            <span class="comment">// äºŒã€è¿™é‡Œæ‰æ˜¯å¼‚æ­¥æ‰§è¡Œåè°ƒç”¨çš„æ­¥éª¤</span></span><br><span class="line">            resolve(<span class="string">&#x27;200 OK&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            log(<span class="string">&#x27;call reject()...&#x27;</span>);</span><br><span class="line">            reject(<span class="string">&#x27;timeout in &#x27;</span> + timeOut + <span class="string">&#x27; seconds.&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, timeOut * <span class="number">1000</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">r</span>) </span>&#123;</span><br><span class="line">    log(<span class="string">&#x27;Done: &#x27;</span> + r);</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">reason</span>) </span>&#123;</span><br><span class="line">    log(<span class="string">&#x27;Failed: &#x27;</span> + reason);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è‡ªå·±å®ç°promise-all"><a href="#è‡ªå·±å®ç°promise-all" class="headerlink" title="è‡ªå·±å®ç°promise.all"></a>è‡ªå·±å®ç°promise.all</h2><p>æ€è·¯ï¼Œç”¨ä¸€ä¸ªæ•°ç»„å°†æ‰€æœ‰è¦è¯·æ±‚çš„å­˜èµ·æ¥ï¼Œå¾ªç¯å‘é€æ‰§è¡Œåï¼Œæ ¹æ®æ•°ç»„é•¿åº¦åˆ¤æ–­æ˜¯å¦æ‰§è¡Œå®Œæˆã€‚</p><p>1ã€æ¥æ”¶ä¸€ä¸ª Promise å®ä¾‹çš„æ•°ç»„æˆ–å…·æœ‰ Iterator æ¥å£çš„å¯¹è±¡ï¼Œ</p><p>2ã€å¦‚æœå…ƒç´ ä¸æ˜¯ Promise å¯¹è±¡ï¼Œåˆ™ä½¿ç”¨ Promise.resolve è½¬æˆ Promise å¯¹è±¡</p><p>3ã€å¦‚æœå…¨éƒ¨æˆåŠŸï¼ŒçŠ¶æ€å˜ä¸º resolvedï¼Œè¿”å›å€¼å°†ç»„æˆä¸€ä¸ªæ•°ç»„ä¼ ç»™å›è°ƒ</p><p>4ã€åªè¦æœ‰ä¸€ä¸ªå¤±è´¥ï¼ŒçŠ¶æ€å°±å˜ä¸º rejectedï¼Œè¿”å›å€¼å°†ç›´æ¥ä¼ é€’ç»™å›è°ƒ<br>all() çš„è¿”å›å€¼ä¹Ÿæ˜¯æ–°çš„ Promise å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promiseAll</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!isArray(promises)) &#123;</span><br><span class="line">      <span class="keyword">return</span> reject(<span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&#x27;arguments must be an array&#x27;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> resolvedCounter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> promiseNum = promises.length;</span><br><span class="line">    <span class="keyword">var</span> resolvedValues = <span class="keyword">new</span> <span class="built_in">Array</span>(promiseNum);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; promiseNum; i++) &#123;</span><br><span class="line">      (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">Promise</span>.resolve(promises[i]).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">          resolvedCounter++</span><br><span class="line">          resolvedValues[i] = value</span><br><span class="line">          <span class="keyword">if</span> (resolvedCounter == promiseNum) &#123;</span><br><span class="line">            <span class="keyword">return</span> resolve(resolvedValues)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">reason</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> reject(reason)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)(i)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ‰‹åŠ¨å†™å¤šæ¬¡å¼‚æ­¥è°ƒç”¨å›è°ƒ"><a href="#æ‰‹åŠ¨å†™å¤šæ¬¡å¼‚æ­¥è°ƒç”¨å›è°ƒ" class="headerlink" title="æ‰‹åŠ¨å†™å¤šæ¬¡å¼‚æ­¥è°ƒç”¨å›è°ƒ"></a>æ‰‹åŠ¨å†™å¤šæ¬¡å¼‚æ­¥è°ƒç”¨å›è°ƒ</h2><p>åœºæ™¯ä¸€ï¼šå…ˆè°ƒç”¨getData1ï¼Œå†è°ƒç”¨getData2ï¼Œå†è°ƒç”¨getData3  â€¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªPromiseå®ä¾‹ï¼Œè·å–æ•°æ®ã€‚å¹¶æŠŠæ•°æ®ä¼ é€’ç»™å¤„ç†å‡½æ•°resolveå’Œrejectã€‚éœ€è¦æ³¨æ„çš„æ˜¯Promiseåœ¨å£°æ˜çš„æ—¶å€™å°±æ‰§è¡Œäº†ã€‚</span></span><br><span class="line"><span class="keyword">var</span> getData1=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        type:<span class="string">&quot;get&quot;</span>,</span><br><span class="line">        url:<span class="string">&quot;index.aspx&quot;</span>,</span><br><span class="line">        success:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(data.Status==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">                resolve(data.ResultJson)<span class="comment">//åœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                reject(data.ErrMsg);<span class="comment">//åœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getData2= <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        type:<span class="string">&quot;get&quot;</span>,</span><br><span class="line">        url:<span class="string">&quot;index.aspx&quot;</span>,</span><br><span class="line">        success:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(data.Status==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">                resolve(data.ResultJson)<span class="comment">//åœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                reject(data.ErrMsg);<span class="comment">//åœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> getData3=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        type:<span class="string">&quot;get&quot;</span>,</span><br><span class="line">        url:<span class="string">&quot;index.aspx&quot;</span>,</span><br><span class="line">        success:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(data.Status==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">                resolve(data.ResultJson)<span class="comment">//åœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                reject(data.ErrMsg);<span class="comment">//åœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">getData1.then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">ã€€ã€€<span class="keyword">return</span> getData2(res)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">ã€€ã€€<span class="keyword">return</span> getData3(res)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">ã€€ã€€<span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;).cache(<span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">ã€€ã€€<span class="built_in">console</span>.log(error)</span><br><span class="line">&#125;)</span><br><span class="line">åœºæ™¯äºŒï¼šgetData3çš„æ‰§è¡Œä¾èµ–getData1å’ŒgetData2</span><br><span class="line"><span class="comment">//Promiseçš„allæ–¹æ³•ï¼Œç­‰æ•°ç»„ä¸­çš„æ‰€æœ‰promiseå¯¹è±¡éƒ½å®Œæˆæ‰§è¡Œ</span></span><br><span class="line"><span class="built_in">Promise</span>.all([getData1,getData2]).then(<span class="function"><span class="keyword">function</span>(<span class="params">[ResultJson1,ResultJson2]</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//è¿™é‡Œå†™ç­‰è¿™ä¸¤ä¸ªajaxéƒ½æˆåŠŸè¿”å›æ•°æ®æ‰æ‰§è¡Œçš„ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line">ã€€ã€€getData3()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="Object-defineProperty-obj-prop-descriptor"><a href="#Object-defineProperty-obj-prop-descriptor" class="headerlink" title="Object.defineProperty(obj, prop, descriptor)"></a>Object.defineProperty(obj, prop, descriptor)</h2><p>value<br>å±æ€§å¯¹åº”çš„å€¼,å¯ä»¥ä½¿ä»»æ„ç±»å‹çš„å€¼ï¼Œé»˜è®¤ä¸ºundefined</p><p>writable<br>å±æ€§çš„å€¼æ˜¯å¦å¯ä»¥è¢«é‡å†™ã€‚è®¾ç½®ä¸ºtrueå¯ä»¥è¢«é‡å†™ï¼›è®¾ç½®ä¸ºfalseï¼Œä¸èƒ½è¢«é‡å†™ã€‚é»˜è®¤ä¸ºfalse</p><p>enumerable<br>æ­¤å±æ€§æ˜¯å¦å¯ä»¥è¢«æšä¸¾ï¼ˆä½¿ç”¨forâ€¦inæˆ–Object.keys()ï¼‰ã€‚è®¾ç½®ä¸ºtrueå¯ä»¥è¢«æšä¸¾ï¼›è®¾ç½®ä¸ºfalseï¼Œä¸èƒ½è¢«æšä¸¾ã€‚é»˜è®¤ä¸ºfalseã€‚</p><p>configurable<br>æ˜¯å¦å¯ä»¥åˆ é™¤ç›®æ ‡å±æ€§æˆ–æ˜¯å¦å¯ä»¥å†æ¬¡ä¿®æ”¹å±æ€§çš„ç‰¹æ€§ï¼ˆwritable, configurable, enumerableï¼‰ã€‚è®¾ç½®ä¸ºtrueå¯ä»¥è¢«åˆ é™¤æˆ–å¯ä»¥é‡æ–°è®¾ç½®ç‰¹æ€§ï¼›è®¾ç½®ä¸ºfalseï¼Œä¸èƒ½è¢«å¯ä»¥è¢«åˆ é™¤æˆ–ä¸å¯ä»¥é‡æ–°è®¾ç½®ç‰¹æ€§ã€‚é»˜è®¤ä¸ºfalseã€‚</p><p>è¿™ä¸ªå±æ€§èµ·åˆ°ä¸¤ä¸ªä½œç”¨ï¼š</p><p>ç›®æ ‡å±æ€§æ˜¯å¦å¯ä»¥ä½¿ç”¨deleteåˆ é™¤</p><p>ç›®æ ‡å±æ€§æ˜¯å¦å¯ä»¥å†æ¬¡è®¾ç½®ç‰¹æ€§</p><p>//ç¬¬ä¸€ç§æƒ…å†µï¼šconfigurableè®¾ç½®ä¸ºfalseï¼Œä¸èƒ½è¢«åˆ é™¤ã€‚<br>//ç¬¬äºŒç§æƒ…å†µï¼šconfigurableè®¾ç½®ä¸ºtrueï¼Œå¯ä»¥è¢«åˆ é™¤ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¹è±¡æ–°æ·»åŠ çš„å±æ€§çš„ç‰¹æ€§æè¿°</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">&quot;newKey&quot;</span>,&#123;</span><br><span class="line">    configurable:<span class="literal">true</span> | <span class="literal">false</span>,</span><br><span class="line">    enumerable:<span class="literal">true</span> | <span class="literal">false</span>,</span><br><span class="line">    value:ä»»æ„ç±»å‹çš„å€¼,</span><br><span class="line">    writable:<span class="literal">true</span> | <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å­˜å–å™¨æè¿°</span><br><span class="line">å½“ä½¿ç”¨å­˜å–å™¨æè¿°å±æ€§çš„ç‰¹æ€§çš„æ—¶å€™ï¼Œå…è®¸è®¾ç½®ä»¥ä¸‹ç‰¹æ€§å±æ€§ï¼š</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">&quot;newKey&quot;</span>,&#123;</span><br><span class="line">    get:<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125; | <span class="literal">undefined</span>,</span><br><span class="line">    set:<span class="function"><span class="keyword">function</span> (<span class="params">value</span>)</span>&#123;&#125; | <span class="literal">undefined</span></span><br><span class="line">    configurable: <span class="literal">true</span> | <span class="literal">false</span></span><br><span class="line">    enumerable: <span class="literal">true</span> | <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å±æ€§å¯¹åº”çš„å€¼,å¯ä»¥ä½¿ä»»æ„ç±»å‹çš„å€¼ï¼Œé»˜è®¤ä¸º<span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">getter æ˜¯ä¸€ç§è·å¾—å±æ€§å€¼çš„æ–¹æ³•</span><br><span class="line"></span><br><span class="line">setteræ˜¯ä¸€ç§è®¾ç½®å±æ€§å€¼çš„æ–¹æ³•ã€‚</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> initValue = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">&quot;newKey&quot;</span>,&#123;</span><br><span class="line">    get:<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//å½“è·å–å€¼çš„æ—¶å€™è§¦å‘çš„å‡½æ•°</span></span><br><span class="line">        <span class="keyword">return</span> initValue;</span><br><span class="line">    &#125;,</span><br><span class="line">    set:<span class="function"><span class="keyword">function</span> (<span class="params">value</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//å½“è®¾ç½®å€¼çš„æ—¶å€™è§¦å‘çš„å‡½æ•°,è®¾ç½®çš„æ–°å€¼é€šè¿‡å‚æ•°valueæ‹¿åˆ°</span></span><br><span class="line">        initValue = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//è·å–å€¼</span></span><br><span class="line"><span class="built_in">console</span>.log( obj.newKey );  <span class="comment">//hello</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®å€¼</span></span><br><span class="line">obj.newKey = <span class="string">&#x27;change value&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( obj.newKey ); <span class="comment">//change value</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²é‡å¤"><a href="#å­—ç¬¦ä¸²é‡å¤" class="headerlink" title="å­—ç¬¦ä¸²é‡å¤"></a>å­—ç¬¦ä¸²é‡å¤</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;x&#x27;</span>.repeat(<span class="number">3</span>) <span class="comment">// &quot;xxx&quot;</span></span><br><span class="line"><span class="number">264</span> <span class="string">&#x27;hello&#x27;</span>.repeat(<span class="number">2</span>) <span class="comment">// &quot;hellohello&quot;</span></span><br><span class="line"><span class="number">265</span> <span class="string">&#x27;na&#x27;</span>.repeat(<span class="number">0</span>) <span class="comment">// &quot;&quot;</span></span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„é‡å¤"><a href="#æ•°ç»„é‡å¤" class="headerlink" title="æ•°ç»„é‡å¤"></a>æ•°ç»„é‡å¤</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.cp = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">while</span>(n&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">        n--;</span><br><span class="line">        arr= arr.concat(<span class="built_in">this</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(arr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="jså¤åˆ¶æ•°ç»„"><a href="#jså¤åˆ¶æ•°ç»„" class="headerlink" title="jså¤åˆ¶æ•°ç»„"></a>jså¤åˆ¶æ•°ç»„</h2><p>ä¸€ã€ slice</p><p>slice æ–¹æ³•è¿”å›ä¸€ä¸ª Array å¯¹è±¡ï¼Œ<br>å…¶ä¸­åŒ…å«äº† arrayObj çš„æŒ‡å®šéƒ¨åˆ†ã€‚</p><p>å¦‚æœçœç•¥ end ï¼Œé‚£ä¹ˆ slice æ–¹æ³•å°†ä¸€ç›´å¤åˆ¶åˆ° arrayObj çš„ç»“å°¾ã€‚<br>å¦‚æœ end å‡ºç°åœ¨ start ä¹‹å‰ï¼Œä¸å¤åˆ¶ä»»ä½•å…ƒç´ åˆ°æ–°æ•°ç»„ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&quot;One&quot;</span>,<span class="string">&quot;Two&quot;</span>,<span class="string">&quot;Three&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arrtoo = arr.slice(<span class="number">0</span>);</span><br><span class="line">arrtoo[<span class="number">1</span>] = <span class="string">&quot;set Map&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// arr  One,Two,Three</span></span><br><span class="line"><span class="comment">// arrtoo  One,set Map,Three</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>äºŒã€concat() æ–¹æ³•ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚<br>è¯¥æ–¹æ³•ä¸ä¼šæ”¹å˜ç°æœ‰çš„æ•°ç»„ï¼Œè€Œä»…ä»…ä¼šè¿”å›è¢«è¿æ¥æ•°ç»„çš„ä¸€ä¸ªå‰¯æœ¬ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arrtooo = arr.concat();</span><br><span class="line">arrtooo[<span class="number">1</span>] = <span class="string">&quot;set Map To&quot;</span>;</span><br></pre></td></tr></table></figure><p>ä¸‰ã€è™½ç„¶è¯´assginä¹Ÿæ˜¯æ·±æ‹·è´ï¼Œä½†æ˜¯ä»–åªæ˜¯ç¬¬ä¸€å±‚æ·±æ‹·è´ï¼Œç¬¬äºŒå±‚ä¹‹åè¿˜æ˜¯è¿›è¡Œæµ…æ‹·è´</p><h2 id="æ¨¡æ‹Ÿé“¾å¼è°ƒç”¨"><a href="#æ¨¡æ‹Ÿé“¾å¼è°ƒç”¨" class="headerlink" title="æ¨¡æ‹Ÿé“¾å¼è°ƒç”¨"></a>æ¨¡æ‹Ÿé“¾å¼è°ƒç”¨</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line">obj.a=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">&#125;</span><br><span class="line">obj.b=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;n&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">&#125;</span><br><span class="line">obj.a().b();</span><br></pre></td></tr></table></figure><h2 id="å‚æ•°é“¾å¼è°ƒç”¨"><a href="#å‚æ•°é“¾å¼è°ƒç”¨" class="headerlink" title="å‚æ•°é“¾å¼è°ƒç”¨"></a>å‚æ•°é“¾å¼è°ƒç”¨</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> functionFunction = <span class="function">(<span class="params">s</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> func = <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</span><br><span class="line">    s += <span class="string">&#x27;,&#x27;</span> + str;</span><br><span class="line">    <span class="keyword">return</span> func;</span><br><span class="line">  &#125;</span><br><span class="line">  func.toString = func.valueOf = <span class="function">() =&gt;</span> s;</span><br><span class="line">  <span class="keyword">return</span> func;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(functionFunction(<span class="number">2</span>)(<span class="number">3</span>)(<span class="number">4</span>)) <span class="comment">// 2,3,4</span></span><br></pre></td></tr></table></figure><h2 id="Promiseå¼‚æ­¥é“¾å¼å†™æ³•"><a href="#Promiseå¼‚æ­¥é“¾å¼å†™æ³•" class="headerlink" title="Promiseå¼‚æ­¥é“¾å¼å†™æ³•"></a>Promiseå¼‚æ­¥é“¾å¼å†™æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn_a</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num!= <span class="literal">undefined</span>)&#123;</span><br><span class="line">            num=num+<span class="number">1</span>;</span><br><span class="line">            <span class="built_in">setTimeout</span>(resolve(num), <span class="number">500</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//é”™è¯¯</span></span><br><span class="line">            reject(<span class="string">&quot;numæœªå®šä¹‰&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn_b</span>(<span class="params">num,parm</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">            num=num*parm;</span><br><span class="line">            <span class="built_in">setTimeout</span>(resolve(num), <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">fn_a(<span class="number">1</span>).then(<span class="function"><span class="params">num</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fn_b(num,<span class="number">5</span>);</span><br><span class="line">&#125;,<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">num</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(num);<span class="comment">//åœ¨1.5ç§’å›è¿”å›10</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="mapï¼ŒforEachï¼Œ-filterï¼Œ-reduce"><a href="#mapï¼ŒforEachï¼Œ-filterï¼Œ-reduce" class="headerlink" title="mapï¼ŒforEachï¼Œ filterï¼Œ reduce"></a>mapï¼ŒforEachï¼Œ filterï¼Œ reduce</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.isArray(a)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">a.indexOf(<span class="number">2</span>)); <span class="comment">//1</span></span><br><span class="line">a.lastIndexOf(<span class="number">2</span>); <span class="comment">//4</span></span><br><span class="line"></span><br><span class="line">a.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">e,i,array</span>)</span>&#123;</span><br><span class="line">    array[i]=e+<span class="number">1</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">a.every(<span class="function"><span class="keyword">function</span>(<span class="params">e,i,arr</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i+<span class="string">&#x27; : &#x27;</span>+e);</span><br><span class="line">    <span class="keyword">return</span> e&lt;<span class="number">5</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">a.map(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> e*e;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">a.filter(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> e%<span class="number">2</span>==<span class="number">0</span>;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">a.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">v1,v2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> v1+v2;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„ arr = [1,2,3,4] æ±‚æ•°ç»„çš„å’Œ</span></span><br><span class="line"></span><br><span class="line">forEach å®ç°</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;sum += e;&#125;); <span class="comment">// sum = 10</span></span><br><span class="line">map å®ç°</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line">arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;sum += obj&#125;);<span class="comment">//return undefined array. sum = 10</span></span><br><span class="line">reduceå®ç°</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">pre,cur</span>)</span>&#123;<span class="keyword">return</span> pre + cur&#125;); <span class="comment">// return 10</span></span><br></pre></td></tr></table></figure><h2 id="å†™ä¸€ä¸ªæ–¹æ³•clone-å®ç°jsäº”ç§æ•°æ®ç±»å‹-string-number-boolean-array-object-çš„å¤åˆ¶"><a href="#å†™ä¸€ä¸ªæ–¹æ³•clone-å®ç°jsäº”ç§æ•°æ®ç±»å‹-string-number-boolean-array-object-çš„å¤åˆ¶" class="headerlink" title="å†™ä¸€ä¸ªæ–¹æ³•clone; å®ç°jsäº”ç§æ•°æ®ç±»å‹(string, number, boolean, array, object)çš„å¤åˆ¶"></a>å†™ä¸€ä¸ªæ–¹æ³•clone; å®ç°jsäº”ç§æ•°æ®ç±»å‹(string, number, boolean, array, object)çš„å¤åˆ¶</h2><p>number , string , boolean ç›´æ¥èµ‹å€¼</p><p>object , array éå†åèµ‹å€¼</p><p>æ–¹æ³•ä¸­ç”¨åˆ°çš„applyæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> copy;</span><br><span class="line">    <span class="keyword">switch</span>(<span class="keyword">typeof</span> obj)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;number&#x27;</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;string&#x27;</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;boolean&#x27;</span>:</span><br><span class="line">        copy = obj;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;object&#x27;</span>:</span><br><span class="line">        <span class="keyword">if</span> (obj == <span class="literal">null</span>) &#123;</span><br><span class="line">            copy = <span class="literal">null</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (toString.apply(obj) === <span class="string">&#x27;[object Array]&#x27;</span>) &#123;</span><br><span class="line">            copy = [];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> obj) &#123;</span><br><span class="line">                copy.push(clone(obj[i]))</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            copy = &#123;&#125;;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j <span class="keyword">in</span> obj) &#123;</span><br><span class="line">                copy[j] = clone(obj[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> copy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="comment">//å„ç§ç±»å‹çš„è¿”å›å€¼; call å’Œ apply è¿”å›å€¼ç›¸åŒ; åªæ˜¯å‚æ•°ä¸åŒ</span></span><br><span class="line">ã€€ã€€ <span class="built_in">console</span>.log(<span class="string">&quot;string&quot;</span> +toString.apply(str))</span><br><span class="line">ã€€ã€€ <span class="comment">// string[object String]  </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;number&quot;</span> +toString.apply(num))</span><br><span class="line">    <span class="comment">// number[object Number]</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;object&quot;</span> +toString.apply(obj))</span><br><span class="line">    <span class="comment">// object[object Object]</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;array&quot;</span> + toString.apply(arr))</span><br><span class="line">    <span class="comment">// array[object Array]</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;boolean&quot;</span> + toString.apply(bool))</span><br><span class="line">    <span class="comment">// boolean[object Boolean]</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;undefined&quot;</span> + toString.apply(<span class="literal">undefined</span>))</span><br><span class="line">    <span class="comment">//undefined[object Undefined]</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;null&quot;</span> + toString.apply(<span class="literal">null</span>))</span><br><span class="line">    <span class="comment">//  null[object Null]</span></span><br></pre></td></tr></table></figure><h2 id="çº¯jsçš„ajax"><a href="#çº¯jsçš„ajax" class="headerlink" title="çº¯jsçš„ajax"></a>çº¯jsçš„ajax</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¾—åˆ°ajaxå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getajaxHttp</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xmlHttp;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// Firefox, Opera 8.0+, Safari</span></span><br><span class="line">        xmlHttp = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            <span class="comment">// Internet Explorer</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                xmlHttp = <span class="keyword">new</span> ActiveXObject(<span class="string">&quot;Msxml2.XMLHTTP&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                xmlHttp = <span class="keyword">new</span> ActiveXObject(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                alert(<span class="string">&quot;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒAJAXï¼&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> xmlHttp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å‘é€ajaxè¯·æ±‚</span></span><br><span class="line"><span class="comment"> * url--url</span></span><br><span class="line"><span class="comment"> * methodtype(post/get)</span></span><br><span class="line"><span class="comment"> * con (true(å¼‚æ­¥)|false(åŒæ­¥))</span></span><br><span class="line"><span class="comment"> * parameter(å‚æ•°)</span></span><br><span class="line"><span class="comment"> * functionName(å›è°ƒæ–¹æ³•åï¼Œä¸éœ€è¦å¼•å·,è¿™é‡Œåªæœ‰æˆåŠŸçš„æ—¶å€™æ‰è°ƒç”¨)</span></span><br><span class="line"><span class="comment"> * (æ³¨æ„ï¼šè¿™æ–¹æ³•æœ‰äºŒä¸ªå‚æ•°ï¼Œä¸€ä¸ªå°±æ˜¯xmlhttp,ä¸€ä¸ªå°±æ˜¯è¦å¤„ç†çš„å¯¹è±¡)</span></span><br><span class="line"><span class="comment"> * objéœ€è¦åˆ°å›è°ƒæ–¹æ³•ä¸­å¤„ç†çš„å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajaxrequest</span>(<span class="params">url,methodtype,con,parameter,functionName,obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xmlhttp=getajaxHttp();</span><br><span class="line">    xmlhttp.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(xmlhttp.readyState==<span class="number">4</span>)&#123;</span><br><span class="line">            <span class="comment">//HTTPå“åº”å·²ç»å®Œå…¨æ¥æ”¶æ‰è°ƒç”¨</span></span><br><span class="line">            functionName(xmlhttp,obj);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    xmlhttp.open(methodtype,url,con);</span><br><span class="line">    xmlhttp.send(parameter);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿™å°±æ˜¯å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createxml</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xml=<span class="string">&quot;&lt;user&gt;&lt;userid&gt;haorooms çº¯js ajaxè¯·æ±‚&lt;\/userid&gt;&lt;\/user&gt;&quot;</span>;<span class="comment">//&quot;\/&quot;è¿™ä¸æ˜¯å¤§å†™Vè€Œæ˜¯è½¬ä¹‰æ˜¯å·¦æ–œæ å’Œå³æ–œæ </span></span><br><span class="line">    <span class="keyword">return</span> xml;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿™å°±æ˜¯å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createjson</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> json=&#123;<span class="attr">id</span>:<span class="number">0</span>,<span class="attr">username</span>:<span class="string">&quot;haorooms&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">return</span> json;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æµ‹è¯•</span></span><br><span class="line">ajaxrequest(<span class="string">&quot;http://www.haorooms.com&quot;</span>,<span class="string">&quot;post&quot;</span>,<span class="literal">true</span>,createxml(),c,<span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><h2 id="reduceç”¨æ³•"><a href="#reduceç”¨æ³•" class="headerlink" title="reduceç”¨æ³•"></a>reduceç”¨æ³•</h2><h2 id="å°†æ•°ç»„æ‰€æœ‰é¡¹ç›¸åŠ "><a href="#å°†æ•°ç»„æ‰€æœ‰é¡¹ç›¸åŠ " class="headerlink" title="å°†æ•°ç»„æ‰€æœ‰é¡¹ç›¸åŠ "></a>å°†æ•°ç»„æ‰€æœ‰é¡¹ç›¸åŠ </h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> total = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// total == 6</span></span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„æ‰å¹³åŒ–-æœ‰å¤šç§è§£å†³åŠæ³•"><a href="#æ•°ç»„æ‰å¹³åŒ–-æœ‰å¤šç§è§£å†³åŠæ³•" class="headerlink" title="æ•°ç»„æ‰å¹³åŒ–  æœ‰å¤šç§è§£å†³åŠæ³•"></a>æ•°ç»„æ‰å¹³åŒ–  æœ‰å¤šç§è§£å†³åŠæ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flattened = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.concat(b);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// flattened is [0, 1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line">ä½¿ç”¨é€’å½’å®ç°</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flattenDepth</span>(<span class="params">array, depth=<span class="number">1</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = [];</span><br><span class="line">  array.forEach (<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> d = depth;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">Array</span>.isArray(item) &amp;&amp; d &gt; <span class="number">0</span>)&#123;</span><br><span class="line">      result.push(...(flattenDepth(item, --d)))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      result.push(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(flattenDepth([<span class="number">1</span>,[<span class="number">2</span>,[<span class="number">3</span>,[<span class="number">4</span>]],<span class="number">5</span>]]))</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„å»é‡å¤šç§æ–¹æ³•"><a href="#æ•°ç»„å»é‡å¤šç§æ–¹æ³•" class="headerlink" title="æ•°ç»„å»é‡å¤šç§æ–¹æ³•"></a>æ•°ç»„å»é‡å¤šç§æ–¹æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰å†…éƒ¨ä½¿ç”¨<span class="keyword">for</span>â€¦<span class="keyword">of</span>å¾ªç¯</span><br><span class="line"></span><br><span class="line">[...new <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="string">&#x27;a&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;a&#x27;</span>])]</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(array));</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸç†ï¼šåˆ©ç”¨forEachçš„ä¸‰ä¸ªå‚æ•°å’ŒindexOf()çš„ç¬¬äºŒä¸ªå‚æ•°(ä»å“ªé‡Œå¼€å§‹æŸ¥æ‰¾)ï¼Œ</span></span><br><span class="line">åœ¨æ•°ç»„ä¸­æ£€æµ‹è¯¥å…ƒç´ åæ–¹æ˜¯å¦æœ‰ä¸è¯¥å…ƒç´ ç›¸åŒçš„å…ƒç´ ã€‚</span><br><span class="line">distinct = <span class="function">(<span class="params">arr</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> _arr = [];</span><br><span class="line">    arr.forEach(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> bool = arr.indexOf(item,index+<span class="number">1</span>);</span><br><span class="line"> <span class="keyword">if</span>(bool === -<span class="number">1</span>)&#123;</span><br><span class="line">            _arr.push(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> _arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>];</span><br><span class="line">distinct(arr);</span><br><span class="line">=&gt; [<span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]   <span class="comment">//1æ˜¯åé¢çš„1ï¼Œ2ä¹Ÿæ˜¯åå‡ºç°çš„2.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸç†ï¼šsplice()åˆ é™¤å…ƒç´ ï¼Œä¼šæ”¹å˜åŸæ•°ç»„ã€‚</span></span><br><span class="line"></span><br><span class="line">distinct = <span class="function">(<span class="params">arr</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.length;  </span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;  </span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;  </span><br><span class="line">         <span class="keyword">if</span>(arr[i] === arr[j]) &#123;  </span><br><span class="line">             arr.splice(j,<span class="number">1</span>);  </span><br><span class="line">             len--;  </span><br><span class="line">             j--;  </span><br><span class="line">         &#125;  </span><br><span class="line">     &#125;  </span><br><span class="line"> &#125;  </span><br><span class="line"> <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>];</span><br><span class="line">distinct(arr);</span><br><span class="line">=&gt;[<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è·å–æ•°ç»„æœ€å¤§æœ€å°å€¼"><a href="#è·å–æ•°ç»„æœ€å¤§æœ€å°å€¼" class="headerlink" title="è·å–æ•°ç»„æœ€å¤§æœ€å°å€¼"></a>è·å–æ•°ç»„æœ€å¤§æœ€å°å€¼</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.max = <span class="function"><span class="keyword">function</span>(<span class="params"> array </span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Math</span>.max.apply( <span class="built_in">Math</span>, array );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Array</span>.min = <span class="function"><span class="keyword">function</span>(<span class="params"> array </span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Math</span>.min.apply( <span class="built_in">Math</span>, array );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.max = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Math</span>.max.apply(&#123;&#125;,<span class="built_in">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Array</span>.prototype.min = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Math</span>.min.apply(&#123;&#125;,<span class="built_in">this</span>)</span><br><span class="line">&#125;</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].max()<span class="comment">// =&gt; 3</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].min()<span class="comment">// =&gt; 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">1</span>,<span class="number">4</span>,<span class="number">8</span>]];</span><br><span class="line"><span class="keyword">var</span> ta=a.join(<span class="string">&quot;,&quot;</span>).split(<span class="string">&quot;,&quot;</span>);<span class="comment">//è½¬åŒ–ä¸ºä¸€ç»´æ•°ç»„</span></span><br><span class="line">alert(<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,ta));<span class="comment">//æœ€å¤§å€¼</span></span><br><span class="line">alert(<span class="built_in">Math</span>.min.apply(<span class="literal">null</span>,ta));<span class="comment">//æœ€å°å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//sort()æ’åºé»˜è®¤ä¸ºå‡åºï¼Œreverse()å°†æ•°ç»„æ‰ä¸ª</span></span><br><span class="line"><span class="keyword">var</span> max3 = arr.sort().reverse()[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">console</span>.log(max3)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ES6çš„æ‰©å±•è¿ç®—ç¬¦</span><br><span class="line"> <span class="keyword">var</span> arr = [<span class="number">22</span>,<span class="number">13</span>,<span class="number">6</span>,<span class="number">55</span>,<span class="number">30</span>];</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(...arr)); <span class="comment">// 55</span></span><br></pre></td></tr></table></figure><h2 id="é˜²æŠ–ï¼ˆdebounceï¼‰"><a href="#é˜²æŠ–ï¼ˆdebounceï¼‰" class="headerlink" title="é˜²æŠ–ï¼ˆdebounceï¼‰"></a>é˜²æŠ–ï¼ˆdebounceï¼‰</h2><p>å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµéƒ½èƒ½æ§åˆ¶ä¸€æ®µæ—¶é—´å†…å‡½æ•°æ‰§è¡Œçš„æ¬¡æ•°.</p><p>å‡½æ•°é˜²æŠ–: å°†æœ¬æ¥çŸ­æ—¶é—´å†…çˆ†å‘çš„ä¸€ç»„äº‹ä»¶ç»„åˆæˆå•ä¸ªäº‹ä»¶æ¥è§¦å‘ã€‚ç­‰ç”µæ¢¯å°±æ˜¯ä¸€ä¸ªéå¸¸å½¢è±¡çš„æ¯”å–»ï¼Œç”µæ¢¯ä¸ä¼šç«‹å³ä¸Šè¡Œï¼Œè€Œæ˜¯ç­‰å¾…ä¸€æ®µæ—¶é—´å†…æ²¡æœ‰äººå†ä¸Šç”µæ¢¯äº†æ‰ä¸Šè¡Œï¼Œæ¢å¥è¯è¯´æ­¤æ—¶å‡½æ•°æ‰§è¡Œæ—¶ä¸€é˜µä¸€é˜µçš„ï¼Œå¦‚æœä¸€ç›´æœ‰äººä¸Šç”µæ¢¯ï¼Œç”µæ¢¯å°±æ°¸è¿œä¸ä¼šä¸Šè¡Œã€‚</p><blockquote><p>ä½¿ç”¨åœºåˆï¼šç”¨æˆ·è¾“å…¥å…³é”®è¯å®æ—¶æœç´¢ï¼Œå¦‚æœç”¨æˆ·æ¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦å°±å‘è¯·æ±‚æœç´¢ä¸€æ¬¡ï¼Œå°±å¤ªæµªè´¹ç½‘ç»œï¼Œé¡µé¢æ€§èƒ½ä¹Ÿå·®ï¼›å†æ¯”å¦‚ç¼©æ”¾æµè§ˆå™¨çª—å£äº‹ä»¶ï¼›å†å†æ¯”å¦‚é¡µé¢æ»šåŠ¨åŸ‹ç‚¹</p></blockquote><p>å‡½æ•°èŠ‚æµ: æ§åˆ¶æŒç»­å¿«é€Ÿè§¦å‘çš„ä¸€ç³»åˆ—äº‹ä»¶æ¯éš”â€™Xâ€™æ¯«ç§’æ‰§è¡Œä¸€æ¬¡,å°±åƒMagicæŠŠç“¢æ³¼å¤§é›¨ç¼–ç¨‹äº†ç»µç»µç»†é›¨ã€‚</p><blockquote><p>ä½¿ç”¨åœºåˆï¼šé¡µé¢æ»šåŠ¨è¿‡ç¨‹ä¸­ä¸æ–­ç»Ÿè®¡ç¦»åº•éƒ¨è·ç¦»ä»¥ä¾¿æ‡’åŠ è½½ã€‚<br>ä½œç”¨æ˜¯åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡è§¦å‘åŒä¸€ä¸ªå‡½æ•°ï¼Œåªæ‰§è¡Œæœ€åä¸€æ¬¡ï¼Œæˆ–è€…åªåœ¨å¼€å§‹æ—¶æ‰§è¡Œã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// debounce å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°å’Œå»¶è¿Ÿæ‰§è¡Œçš„æ—¶é—´ä½œä¸ºå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ç»´æŠ¤ä¸€ä¸ª timer</span></span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›çš„å‡½æ•°å¹¶æ²¡æœ‰ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œç›®çš„æ˜¯åœ¨äº‹ä»¶æ‰§è¡Œæ—¶ç¡®å®šä¸Šä¸‹æ–‡</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–å‡½æ•°çš„ä½œç”¨åŸŸå’Œå˜é‡</span></span><br><span class="line">        <span class="keyword">let</span> context = <span class="built_in">this</span>;</span><br><span class="line">        <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line"></span><br><span class="line">        timer &amp;&amp; <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            fn.apply(context, args);</span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;trigger&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åœ¨ debounce ä¸­åŒ…è£…æˆ‘ä»¬çš„å‡½æ•°ï¼Œè¿‡ 2 ç§’è§¦å‘ä¸€æ¬¡</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;resize&#x27;</span>, debounce(foo, <span class="number">2000</span>));</span><br><span class="line"></span><br><span class="line">æ¯ä¸€æ¬¡äº‹ä»¶è¢«è§¦å‘ï¼Œéƒ½ä¼šæ¸…é™¤å½“å‰çš„ timer ç„¶åé‡æ–°è®¾ç½®è¶…æ—¶è°ƒç”¨ã€‚</span><br><span class="line">åªæœ‰åœ¨æœ€åä¸€æ¬¡è§¦å‘äº‹ä»¶ï¼Œæ‰èƒ½åœ¨ delay æ—¶é—´åæ‰§è¡Œã€‚</span><br></pre></td></tr></table></figure><h2 id="èŠ‚æµï¼ˆthrottleï¼‰"><a href="#èŠ‚æµï¼ˆthrottleï¼‰" class="headerlink" title="èŠ‚æµï¼ˆthrottleï¼‰"></a>èŠ‚æµï¼ˆthrottleï¼‰</h2><p>èŠ‚æµæ˜¯åœ¨ä¸€æ®µæ—¶é—´å†…åªå…è®¸å‡½æ•°æ‰§è¡Œä¸€æ¬¡ã€‚</p><p>æ—¶é—´æˆ³å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">func, wait = <span class="number">100</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timerId</span><br><span class="line">  <span class="keyword">let</span> start = <span class="built_in">Date</span>.now()</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> now = <span class="built_in">Date</span>.now()</span><br><span class="line">    <span class="built_in">clearTimeout</span>(timerId)</span><br><span class="line">    <span class="keyword">if</span> (now - start &gt;= wait) &#123;<span class="comment">// å¯ä»¥ä¿è¯funcä¸€å®šä¼šè¢«æ‰§è¡Œ</span></span><br><span class="line">      func.apply(<span class="built_in">this</span>, args)</span><br><span class="line">      start = now</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      timerId = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        func.apply(<span class="built_in">this</span>, args)</span><br><span class="line">      &#125;, wait)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ—¶é—´æˆ³å®ç°çš„èŠ‚æµå‡½æ•°ä¼šåœ¨ç¬¬ä¸€æ¬¡è§¦å‘äº‹ä»¶æ—¶ç«‹å³æ‰§è¡Œï¼Œä»¥åæ¯è¿‡ delay ç§’ä¹‹åæ‰æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”æœ€åä¸€æ¬¡è§¦å‘äº‹ä»¶ä¸ä¼šè¢«æ‰§è¡Œï¼›è€Œå®šæ—¶å™¨å®ç°çš„èŠ‚æµå‡½æ•°åœ¨ç¬¬ä¸€æ¬¡è§¦å‘æ—¶ä¸ä¼šæ‰§è¡Œï¼Œè€Œæ˜¯åœ¨ delay ç§’ä¹‹åæ‰æ‰§è¡Œï¼Œå½“æœ€åä¸€æ¬¡åœæ­¢è§¦å‘åï¼Œè¿˜ä¼šå†æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚</p><h2 id="æŸ¯é‡ŒåŒ–"><a href="#æŸ¯é‡ŒåŒ–" class="headerlink" title="æŸ¯é‡ŒåŒ–"></a>æŸ¯é‡ŒåŒ–</h2><p>å‚æ•°å¤Ÿäº†å°±æ‰§è¡Œï¼Œå‚æ•°ä¸å¤Ÿå°±è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä¹‹å‰çš„å‚æ•°å­˜èµ·æ¥ï¼Œç›´åˆ°å¤Ÿäº†ä¸ºæ­¢ã€‚</p><p>3ä¸ªå¸¸è§ä½œç”¨ï¼š1. å‚æ•°å¤ç”¨ï¼›2. æå‰è¿”å›ï¼›3. å»¶è¿Ÿè®¡ç®—/è¿è¡Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry</span>(<span class="params">func</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> l = func.length;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">curried</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">if</span>(args.length &lt; l) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> argsInner = [].slice.call(<span class="built_in">arguments</span>)</span><br><span class="line">        <span class="keyword">return</span> curried.apply(<span class="built_in">this</span>, args.concat(argsInner))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> func.apply(<span class="built_in">this</span>, args)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">console</span>.log([a,b,c])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> curried = curry(f);</span><br><span class="line">curried(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ã€€<span class="function"><span class="keyword">function</span> <span class="title">extendCopy</span>(<span class="params">p</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> c = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> p) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€c[i] = p[i];</span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€c.uber = p;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">return</span> c;</span><br><span class="line">ã€€ã€€&#125;</span><br></pre></td></tr></table></figure><h2 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepCopy</span>(<span class="params">p, c</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> c = c || &#123;&#125;;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> p) &#123;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€<span class="keyword">if</span> (<span class="keyword">typeof</span> p[i] === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€c[i] = (p[i].constructor === <span class="built_in">Array</span>) ? [] : &#123;&#125;;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€deepCopy(p[i], c[i]);</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€c[i] = p[i];</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è‡ªå·±å®ç°bindæ–¹æ³•"><a href="#è‡ªå·±å®ç°bindæ–¹æ³•" class="headerlink" title="è‡ªå·±å®ç°bindæ–¹æ³•"></a>è‡ªå·±å®ç°bindæ–¹æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.bind=<span class="built_in">Function</span>.prototype.bind||<span class="function"><span class="keyword">function</span>(<span class="params">context</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> self=<span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> self.apply(contex,<span class="built_in">arguments</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ç™¾åº¦å°ç¨‹åºç»éªŒç§¯ç´¯</title>
      <link href="posts/%E7%99%BE%E5%BA%A6%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/"/>
      <url>posts/%E7%99%BE%E5%BA%A6%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="é‡å¯å¤§æ³•"><a href="#é‡å¯å¤§æ³•" class="headerlink" title="é‡å¯å¤§æ³•"></a>é‡å¯å¤§æ³•</h2><p>å¦‚æœé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼Œä¸è¦æ€€ç–‘è‡ªå·±ï¼Œè¯·é‡å¯</p><ol><li>æ ·å¼ä¸ç”Ÿæ•ˆ</li><li>é¡µé¢ä¸èƒ½æ­£å¸¸æ¸²æŸ“</li><li>é¡¹ç›®ç¼–è¯‘å¤±è´¥</li><li>å†™çš„æ–°ç»„ä»¶ï¼Œå¼•ç”¨åä¸ç”Ÿæ•ˆ</li></ol><h2 id="ç¼–è¯‘æŠ¥é”™"><a href="#ç¼–è¯‘æŠ¥é”™" class="headerlink" title="ç¼–è¯‘æŠ¥é”™"></a>ç¼–è¯‘æŠ¥é”™</h2><pre><code>å¼€å‘è€…å·¥å…·æŠ¥ä¸€å †ä¸æ˜¯ä»£ç çš„é”™è¯¯ï¼Œæ£€æŸ¥è°ƒè¯•åŸºç¡€åº“çš„ç‰ˆæœ¬æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯-&gt; è°ƒè¯•åŸºç¡€åº“-&gt; 3.40.28</code></pre><a id="more"></a><h2 id="ç»„ä»¶ç¼–å†™"><a href="#ç»„ä»¶ç¼–å†™" class="headerlink" title="ç»„ä»¶ç¼–å†™"></a>ç»„ä»¶ç¼–å†™</h2><ol><li><p>æ–°åˆ›å»ºçš„æ–‡ä»¶å¤¹åœ¨å¼•ç”¨æ—¶ä¸ç”Ÿæ•ˆ<br> è§£å†³æ–¹æ¡ˆï¼š é‡å¯å¼€å‘è€…å·¥å…·</p></li><li><p>å¼•ç”¨ç»„ä»¶åç§°ä¸èƒ½æ˜¯é©¼å³°å†™æ³•(arrivalDialog)ï¼Œå¿…é¡»ç”¨arrival-dialog</p></li><li><p>ç»„ä»¶å¼•ç”¨åï¼Œåœ¨é¡µé¢å‡ºç°ä¸¤ä¸ªç›¸åŒçš„DOM<br> åŸå› : ç»„ä»¶ä¸­æœ‰è¯­æ³•é”™è¯¯</p></li><li><p>jsonæ–‡ä»¶</p><pre><code> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;component&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;usingComponents&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;popup&quot;</span>: <span class="string">&quot;/pages/components/popup/popup&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;btn-group&quot;</span>:<span class="string">&quot;../btngroup/index&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre></li><li><p>å­ç»„ä»¶æ¥æ”¶å‚æ•°è¦åœ¨<code>properties</code>ä¸­å®šä¹‰</p><pre><code> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">properties: &#123;</span><br><span class="line">    dataSource: &#123;</span><br><span class="line">        type: Object,</span><br><span class="line">        value: null,</span><br><span class="line">        observer: function(newVal, oldVal) &#123;</span><br><span class="line">            this.renderView();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre><p> å¦‚æœå­ç»„ä»¶é‡Œè¦æ ¹æ®çˆ¶ç»„ä»¶é‡Œä¼ æ¥çš„æ•°æ®è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œéœ€è¦åœ¨<code>observer</code>é‡Œé‡æ–°<code>setData</code></p></li><li><p>ç»„ä»¶çš„æ–¹æ³•è¦å†™åˆ°<code>methods: &#123;&#125;</code>é‡Œ</p></li></ol><h2 id="äº‹ä»¶ç»‘å®š"><a href="#äº‹ä»¶ç»‘å®š" class="headerlink" title="äº‹ä»¶ç»‘å®š"></a>äº‹ä»¶ç»‘å®š</h2><ol><li>åœ¨å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œè¦<strong>é€çº§ä¼ é€’</strong>ï¼Œä¸èƒ½æ¼æ‰å…¶ä¸­ä¸€å±‚</li></ol><p>å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•</p><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">closeModal</span>(<span class="params">e</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.triggerEvent(<span class="string">&#x27;toggleReservationDialog&#x27;</span>, &#123;<span class="attr">isShow</span>: <span class="literal">false</span>&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre><p>å¼•ç”¨å­ç»„ä»¶</p><pre><code><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;order-dialog</span><br><span class="line">    bind:toggleReservationDialog = &quot;toggleReservationDialog&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure></code></pre><p>äº‹ä»¶ä¼ å‚</p><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.triggerEvent(<span class="string">&#x27;arrivalSubmit&#x27;</span>, &#123;<span class="attr">telephone</span>: input&#125;);</span><br></pre></td></tr></table></figure></code></pre><p>åœ¨çˆ¶ç»„ä»¶<code>arrivalSubmit</code>ä¸­ï¼Œè·å–å‚æ•°ä¸èƒ½ç›´æ¥å–åˆ°telephoneè¿™ä¸ªå¯¹è±¡<br>å°ç¨‹åºä¼šå†åŒ…ä¸€å±‚ï¼Œç”¨ä»¥ä¸‹æ–¹å¼è·å–</p><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> telephone = e.detail.telephone;</span><br></pre></td></tr></table></figure></code></pre><h2 id="å°ç¨‹åºè‡ªèº«ç¼ºé™·"><a href="#å°ç¨‹åºè‡ªèº«ç¼ºé™·" class="headerlink" title="å°ç¨‹åºè‡ªèº«ç¼ºé™·"></a>å°ç¨‹åºè‡ªèº«ç¼ºé™·</h2><ol><li><p>s-ifä¸­çš„è¡¨è¾¾å¼</p><pre><code> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ— æ³•è¯†åˆ«ï¼Œä¼šæŠ¥é”™ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;swan s-if=&quot;&#123;&#123;+res.code === 1&#125;&#125;&quot;&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">swan</span> <span class="attr">s-if</span>=<span class="string">&quot;&#123;&#123;res.code === 1&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">swan</span>&gt;</span></span><br></pre></td></tr></table></figure></code></pre></li><li><p>è¡¨è¾¾å¼è¿‡äºå¤æ‚ï¼Œä¼šå¯¼è‡´DOMæ— æ³•æ¸²æŸ“</p></li><li><p>forå¾ªç¯æ— æ³•ä¸€æ¬¡å¾ªç¯ä¸¤æ¡æ•°æ®ï¼Œä¸èƒ½ä¿®æ”¹å½“å‰index. è§£å†³åŠæ³•: å…ˆå¤„ç†å¥½æ•°æ®ç»“æ„å†å¾ªç¯</p></li><li><p>cssè¯­æ³•ä¸èƒ½è¯†åˆ«<code>color: var(--color-white);</code>(ä¹‹å‰å¯ä»¥è¯†åˆ«~~~)</p></li></ol><h2 id="Reactä»£ç è¿ç§»åˆ°å°ç¨‹åºç»éªŒ"><a href="#Reactä»£ç è¿ç§»åˆ°å°ç¨‹åºç»éªŒ" class="headerlink" title="Reactä»£ç è¿ç§»åˆ°å°ç¨‹åºç»éªŒ"></a>Reactä»£ç è¿ç§»åˆ°å°ç¨‹åºç»éªŒ</h2><p>htmlç»“æ„ç›´æ¥æ‹·è´åˆ°swanæ–‡ä»¶</p><ol><li><p>divæ›¿æ¢ä¸ºview</p></li><li><p>p, h1-h6 ç­‰æ›¿æ¢ä¸ºview, åŸæ¥çš„æ ‡ç­¾æ ·å¼æ›¿æ¢ä¸ºviewååŠ classã€‚å¦‚: <code>&lt;view class=&quot;h1&quot;&gt;&lt;/view</code></p></li><li><p>classNameæ›¿æ¢ä¸ºclass</p></li><li><p>onClickæ›¿æ¢ä¸ºbindtap</p></li><li><p>onclickä¼ å‚éœ€è¦åœ¨jsæ–¹æ³•é‡Œä¼ é€’ï¼Œå‚æ•°å…·ä½“å€¼å¯ä»¥ç”¨<code>data-</code>ç»‘å®šåˆ°domä¸Šï¼Œåœ¨jsä¸­é€šè¿‡<code>e.currentTarget.dataset.</code>è·å–, å¦‚æœå½“å‰ç»„ä»¶åªæœ‰ä¸€ä¸ªdataï¼Œä¸æ˜¯æ•°ç»„ç±»å‹çš„æ•°æ®, å¯ä»¥ç›´æ¥ä»<code>this.data</code>ä¸­è·å–</p></li><li><p>lessé€šè¿‡è½¬æ¢å·¥å…·è½¬æˆcssï¼Œpxæ›¿æ¢ä¸ºrpxï¼Œæ•°å€¼éƒ½éœ€è¦<code>*2</code>ã€‚å¦‚ï¼š<code>width:20px---&gt; width: 40rpx;</code></p></li><li><p>js <code>setState</code>æ›¿æ¢ä¸º<code>setData</code></p></li><li><p>jsxä¸­æ ¹æ®æ¡ä»¶æ¸²æŸ“çš„DOMå¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µçœ‹æ‹†åˆ†æˆæ–°ç»„ä»¶è¿˜æ˜¯é€šè¿‡<code>s-if, s-else</code>è§£å†³</p></li><li><p>æƒ³æŸ¥çœ‹æŸä¸ªjså˜é‡çš„å€¼ï¼Œå¯ä»¥ç»‘å®šåˆ°DOMä¸ŠæŸ¥çœ‹ï¼Œå¦‚</p><pre><code> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">swan</span> <span class="attr">item</span>=<span class="string">&quot;&#123;&#123;item&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">swan</span>&gt;</span></span><br></pre></td></tr></table></figure></code></pre></li></ol><h2 id="å¼ºåˆ¶è§¦å‘å°ç¨‹åºé¡µé¢æ¸²æŸ“çš„æ–¹æ³•"><a href="#å¼ºåˆ¶è§¦å‘å°ç¨‹åºé¡µé¢æ¸²æŸ“çš„æ–¹æ³•" class="headerlink" title="å¼ºåˆ¶è§¦å‘å°ç¨‹åºé¡µé¢æ¸²æŸ“çš„æ–¹æ³•"></a>å¼ºåˆ¶è§¦å‘å°ç¨‹åºé¡µé¢æ¸²æŸ“çš„æ–¹æ³•</h2><ol><li><p>åœ¨ç»„ä»¶propertiesé‡Œå®šä¹‰å˜é‡å, ä»¥åŠç›‘å¬äº‹ä»¶</p><pre><code> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">properties: &#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">        type: <span class="built_in">Object</span>,</span><br><span class="line">        value: &#123;&#125;,</span><br><span class="line">        <span class="function"><span class="title">observer</span>(<span class="params">newVal, oldVal</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.processData();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre></li><li><p>è®¾ç½®å˜é‡ä¸ºnull,å†è®¾å€¼</p><pre><code> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.setData(&#123;</span><br><span class="line">    dataList: <span class="literal">null</span></span><br><span class="line">&#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">        dataList: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></code></pre></li><li><p>å¼ºåˆ¶é”€æ¯DOM, s-ifè®¾ä¸ºfalseï¼Œå†è®¾ä¸ºtrue<br>åœ¨è®¾ç½®style=<code>background-color: rgba(255, 255, 255, $&#123;opacity&#125;);</code>æ—¶, dataå·²ç»å‘ç”Ÿå˜åŒ–ï¼Œä½†é¡µé¢æ²¡æ”¹å˜</p></li></ol><h2 id="æ ·å¼é—®é¢˜"><a href="#æ ·å¼é—®é¢˜" class="headerlink" title="æ ·å¼é—®é¢˜"></a>æ ·å¼é—®é¢˜</h2><p>åœ¨viewé‡ŒåŒ…ä¸€ä¸ªimageå…ƒç´ ï¼Œå¦‚ä¸‹</p><pre><code><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;con&quot;</span>&gt;</span></span><br><span class="line">    &lt;image</span><br><span class="line">        src=&quot;https://cms-dumall.cdn.bcebos.com/cms_upload_pro/cms_1569467395902.jpg&quot;</span><br><span class="line">        mode=&quot;widthFix&quot;</span><br><span class="line">        class=&quot;image&quot;</span><br><span class="line">    /&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre><p>css</p><pre><code><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.con</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>:crimson;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.image</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">12</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>è¿™æ—¶å€™imageä¼šæœ‰å¤šä½™çš„èƒŒæ™¯è‰²å‡ºç°, åŸå› æ˜¯imageå…ƒç´ ä¸ºinline-blockå…ƒç´ ï¼Œé€šè¿‡è®¾ç½®`display: block;`è§£å†³</code></pre><h2 id="åŠ¨ç”»å®ç°"><a href="#åŠ¨ç”»å®ç°" class="headerlink" title="åŠ¨ç”»å®ç°"></a>åŠ¨ç”»å®ç°</h2><p>ä¸€äº›å¤æ‚çš„åŠ¨ç”»ä¸èƒ½é€šè¿‡æ ·å¼æ¥å®ç°ï¼Œåªèƒ½é€šè¿‡æä¾›çš„<code>Animation</code> APIæ¥å®ç°ï¼Œéå¸¸éº»çƒ¦~~~</p><h2 id="scroll-viewé«˜åº¦å¿…é¡»å›ºå®š"><a href="#scroll-viewé«˜åº¦å¿…é¡»å›ºå®š" class="headerlink" title="scroll-viewé«˜åº¦å¿…é¡»å›ºå®š"></a>scroll-viewé«˜åº¦å¿…é¡»å›ºå®š</h2><p>é€šè¿‡cssè®¾ç½®height: 100vh;</p><p>è§£é‡Šï¼šä½¿ç”¨ç«–å‘æ»šåŠ¨æ—¶ï¼Œéœ€è¦ç»™å®šä¸€ä¸ªå›ºå®šé«˜åº¦ï¼Œå¯ä»¥é€šè¿‡cssæ¥è®¾ç½®heightã€‚</p><h2 id="ç»ˆäºæ”¯æŒasyncäº†å•Šï¼Œ-çœŸä¸å®¹æ˜“2019-12-26-20-06-33"><a href="#ç»ˆäºæ”¯æŒasyncäº†å•Šï¼Œ-çœŸä¸å®¹æ˜“2019-12-26-20-06-33" class="headerlink" title="ç»ˆäºæ”¯æŒasyncäº†å•Šï¼Œ çœŸä¸å®¹æ˜“2019-12-26 20:06:33"></a>ç»ˆäºæ”¯æŒasyncäº†å•Šï¼Œ çœŸä¸å®¹æ˜“2019-12-26 20:06:33</h2><h2 id="éŸ³é¢‘æ’­æ”¾"><a href="#éŸ³é¢‘æ’­æ”¾" class="headerlink" title="éŸ³é¢‘æ’­æ”¾"></a>éŸ³é¢‘æ’­æ”¾</h2><p>ä¸è¦ç”¨audioç»„ä»¶ï¼Œç›´æ¥ç”¨APIé‡Œçš„<code>innerAudioContext</code>å¼€å‘ã€‚<br>æ‹–åŠ¨æ¡ç”¨sliderç»„ä»¶</p><p>è·³åˆ°æŒ‡å®šä½ç½®æ’­æ”¾ç”¨<code>InnerAudioContext.seek</code></p><h2 id="éŸ³é¢‘æ’­æ”¾å™¨æ’­æ”¾æ—¶æ§åˆ¶slideré—®é¢˜"><a href="#éŸ³é¢‘æ’­æ”¾å™¨æ’­æ”¾æ—¶æ§åˆ¶slideré—®é¢˜" class="headerlink" title="éŸ³é¢‘æ’­æ”¾å™¨æ’­æ”¾æ—¶æ§åˆ¶slideré—®é¢˜"></a>éŸ³é¢‘æ’­æ”¾å™¨æ’­æ”¾æ—¶æ§åˆ¶slideré—®é¢˜</h2><p>æ’­æ”¾ä¼šè‡ªåŠ¨è®¾ç½®sliderçš„å€¼ï¼Œ<br>ä½†æ˜¯æ‹–åŠ¨æ—¶ä¹Ÿä¼šè®¾ç½®å€¼ï¼Œä¼šæœ‰é—ªçƒçš„æ•ˆæœ</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>æ‹–åŠ¨æ—¶ï¼Œæš‚åœæ’­æ”¾ï¼Œç»“æŸåå¼€å§‹æ’­æ”¾</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç»éªŒç§¯ç´¯ </tag>
            
            <tag> å°ç¨‹åº </tag>
            
            <tag> ç™¾åº¦å°ç¨‹åº </tag>
            
            <tag> Reactè¿ç§»åˆ°ç™¾åº¦å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨è°ƒç ”</title>
      <link href="posts/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8%E8%B0%83%E7%A0%94/"/>
      <url>posts/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8%E8%B0%83%E7%A0%94/</url>
      
        <content type="html"><![CDATA[<h1 id="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨draft-jsè°ƒç ”"><a href="#å¯Œæ–‡æœ¬ç¼–è¾‘å™¨draft-jsè°ƒç ”" class="headerlink" title="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨draft-jsè°ƒç ”"></a>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨draft-jsè°ƒç ”</h1><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>ç§»åŠ¨ç«¯å’ŒPCç«¯å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æŠ€æœ¯é€‰å‹, Facebookå¼€æºæ¡†æ¶draft-jsè°ƒç ”</p><h2 id="ä¸ç°æœ‰å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¯”è¾ƒ"><a href="#ä¸ç°æœ‰å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¯”è¾ƒ" class="headerlink" title="ä¸ç°æœ‰å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¯”è¾ƒ"></a>ä¸ç°æœ‰å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¯”è¾ƒ</h2><table><thead><tr><th>é¡¹ç›®</th><th align="left">draft</th><th align="center">ç°æœ‰</th></tr></thead><tbody><tr><td>æ ·å¼</td><td align="left">å¯ä»¥è‡ªå®šä¹‰ï¼Œå¼•ç”¨cssæ–‡ä»¶ï¼Œå†…è”æ ·å¼</td><td align="center">å¯ä»¥è‡ªå®šä¹‰ï¼Œå¼•ç”¨cssæ–‡ä»¶</td></tr><tr><td>è‡ªå®šä¹‰å—ç»„ä»¶</td><td align="left">ç”¨draftæä¾›çš„è¯­æ³•ï¼Œ<a href="https://draftjs.org/docs/advanced-topics-custom-block-render-map">è‡ªå®šä¹‰å—</a>ï¼Œå®šä¹‰ç­–ç•¥ç±»å‹ï¼Œæ ¹æ®ç±»å‹æ¸²æŸ“ç»„ä»¶</td><td align="center">æ‹¼HTML</td></tr><tr><td>ç§»åŠ¨ç«¯æ”¯æŒ</td><td align="left"><a href="https://draftjs.org/docs/advanced-topics-issues-and-pitfalls.html#mobile-not-yet-supported">å®˜ç½‘ç”³æ˜ä¸æ”¯æŒ</a></td><td align="center">æœªæµ‹è¯•</td></tr><tr><td>ä¸Šæ‰‹</td><td align="left">éœ€ç†Ÿæ‚‰æä¾›çš„æ¥å£åŠä¸€äº›æ¦‚å¿µï¼Œ<a href="https://draftjs.org/docs/api-reference-rich-utils">ä¸€ç³»åˆ—æ¥å£</a></td><td align="center">æ“ä½œDOM,è°ƒç”¨åŸç”Ÿæµè§ˆå™¨æä¾›çš„æ–¹æ³•</td></tr><tr><td>æ•°æ®å­˜å‚¨</td><td align="left">è‡ªå®šä¹‰çš„objectå¯¹è±¡ï¼Œå¸¦æ¥è°ƒè¯•éš¾ç‚¹ï¼Œéœ€ç†Ÿæ‚‰æ•°æ®æ ¼å¼</td><td align="center">html</td></tr><tr><td>æ ¼å¼è½¬æ¢</td><td align="left">æä¾›<code>convertToRaw</code>æ¥å£ï¼Œå°†draftçš„<code>ContentState</code>è½¬æˆjså¯¹è±¡ï¼Œä¸ç›´æ¥æä¾›HTML(ç‚¹å‡»äº‹ä»¶ï¼Œäº¤äº’ç­‰). éœ€è¦æ’ä»¶è½¬HTML(è‡ªå®šä¹‰ç»„ä»¶ç‰¹æ®ŠåŠŸèƒ½æ’ä»¶å¯èƒ½ä¸æ”¯æŒ)</td><td align="center">ä»¥HTMLæ ¼å¼å­˜å‚¨</td></tr><tr><td>ç¼–è¾‘å™¨ä¸­DOMæ“ä½œï¼Œè·å–ç„¦ç‚¹(åˆ é™¤å•†å“å—æ— æ³•æ•´ä¸ªåˆ é™¤ï¼Œç¼–è¾‘åŒºæœ‰videoï¼ŒæŒ‰åˆ é™¤é”®ï¼Œæ— æ³•åˆ é™¤)</td><td align="left">demoä¸­æœ‰é—®é¢˜</td><td align="center">å®é™…ä½¿ç”¨ä¹Ÿæœ‰é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡hackæ–¹å¼è§£å†³</td></tr></tbody></table><h2 id="å­˜åœ¨çš„é£é™©ç‚¹"><a href="#å­˜åœ¨çš„é£é™©ç‚¹" class="headerlink" title="å­˜åœ¨çš„é£é™©ç‚¹"></a>å­˜åœ¨çš„é£é™©ç‚¹</h2><ol><li><p>ç§»åŠ¨ç«¯å…¼å®¹æ€§</p></li><li><p>æ•°æ®å­˜å‚¨ä¸ºdraftè‡ªå®šä¹‰æ ¼å¼ï¼Œå¼€å‘è°ƒè¯•å›°éš¾ï¼Œåœ¨å±•ç¤ºæ—¶ï¼Œéœ€è¦è½¬æˆHTMLï¼Œå®˜æ–¹æœªæä¾›è½¬æ¢æ’ä»¶ï¼Œè½¬æ¢è¿‡ç¨‹ä¼šé€ æˆæ‰€è§éæ‰€å¾—çš„æƒ…å†µ</p></li><li><p>å¯¹å¤–æä¾›çš„APIå°è£…åŸç”Ÿçš„æ–¹æ³•ï¼Œå¼€å‘éš¾åº¦å¤§</p></li><li><p>ç”±äºå†…éƒ¨å°è£…é€»è¾‘è¿‡é‡ï¼Œé‡åˆ°é—®é¢˜ä»æ ¹æºå¤„è§£å†³éš¾åº¦å¤§</p></li></ol><h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><ol><li><p>ç”±äºå­˜åœ¨é£é™©ç‚¹è¾ƒå¤šï¼Œæš‚æ—¶ä¸è€ƒè™‘ä»¥draftä¸ºåŸºç¡€æ¡†æ¶ã€‚</p></li><li><p>ç›®å‰å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¡†æ¶å¯¹ç§»åŠ¨ç«¯æ”¯æŒæ™®éä¸å¤Ÿï¼Œä¼šæŒç»­è°ƒç ”ç°æœ‰æ¡†æ¶ï¼Œå¦‚<code>quilljs, å°ç±³ç¤¾åŒº</code>ç­‰ã€‚</p></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>h5å¼€å‘ç§¯ç´¯</title>
      <link href="posts/h5%E5%BC%80%E5%8F%91%E7%A7%AF%E7%B4%AF/"/>
      <url>posts/h5%E5%BC%80%E5%8F%91%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<ol><li>å›¾ç‰‡åˆ‡å›¾é«˜åº¦750*1334</li></ol><p>h5æ»šåŠ¨ç”»å¸ƒæ’ä»¶</p><ul><li><a href="https://github.com/pbakaus/scroller">scroller</a></li><li><a href="https://www.npmjs.com/package/animateJs">animateJs</a></li><li><a href="https://github.com/CreateJS/TweenJS">TweenJS</a></li><li><a href="https://pixijs.io/">pixi.js</a></li></ul><p>H5 è¦è€ƒè™‘çš„å› ç´ :<br>. å±å¹•æ—‹è½¬è‡ªåŠ¨é€‚é…<br>å…ƒç´ æ ¹æ®å±å¹•ç¡®å®šä½ç½®</p><a id="more"></a><h2 id="ç½‘æ˜“-o-h5"><a href="#ç½‘æ˜“-o-h5" class="headerlink" title="ç½‘æ˜“(^o^)/~ h5"></a>ç½‘æ˜“(^o^)/~ h5</h2><p><a href="http://d.news.163.com/">æ€»ç½‘ç«™</a></p><p><a href="http://news.163.com/special/fdh5_sleeping_14/">ç¡å§¿å¤§æ¯”æ‹¼â€”åŠ å¯†</a></p><p><a href="http://news.163.com/special/fdh5_tongnian_rt/">æ»‘å‘ç«¥å¹´ ä¸æ˜¯pixi</a></p><p><a href="http://go.163.com/web/20180423_aa3/index.html">jqueryå®ç°çš„</a></p><h2 id="pixi-å­¦ä¹ èµ„æ–™"><a href="#pixi-å­¦ä¹ èµ„æ–™" class="headerlink" title="pixi å­¦ä¹ èµ„æ–™"></a>pixi å­¦ä¹ èµ„æ–™</h2><p><a href="https://pixijs.io/examples/">å®˜ç½‘ä¾‹å­</a><br><a href="http://pixijs.io/pixi-sound/examples/">å£°éŸ³æ’ä»¶</a><br>éƒ½å¯ä»¥åœ¨npmä¸­æ‰¾åˆ°</p><p>æ‰‹æœºç«¯videoæ ‡ç­¾ä¸èƒ½è‡ªåŠ¨æ˜¾ç¤ºå°é¢ï¼Œéœ€è®¾ç½®poster</p><h2 id="é—ç•™é—®é¢˜"><a href="#é—ç•™é—®é¢˜" class="headerlink" title="é—ç•™é—®é¢˜"></a>é—ç•™é—®é¢˜</h2><ol><li><p>å¾®ä¿¡é‡Œé¢çš„éŸ³ä¹ä¸èƒ½è‡ªåŠ¨æ’­æ”¾ï¼Œ<br>å¦‚æœç”¨domçš„è‡ªåŠ¨æ’­æ”¾ï¼Œæµè§ˆå™¨é‡Œçš„åˆä¸èƒ½è‡ªåŠ¨æ’­æ”¾ã€‚<br>ç½‘æ˜“ä¹Ÿæ˜¯é€‰æ‹©ä¸€ç§å®ç°çš„ã€‚</p></li><li><p>å›¾ç‰‡è™šåŒ–ï¼ŒåŸå› ï¼šæœ€å¤–å±‚å®¹å™¨ç¼©å°äº†0.5ï¼Œå¯¼è‡´æ‰€æœ‰ç´ æç¼©å°0.5.ä½†è¿™ä¸æ˜¯è™šåŒ–çš„åŸå› ï¼Œå› ä¸ºå…¶ä»–ç½‘é¡µä¹Ÿæ˜¯è¿™æ ·è™šåŒ–çš„ã€‚</p></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ—¥å¸¸æ‰å‘è®°</title>
      <link href="posts/%E6%97%A5%E5%B8%B8%E6%8E%89%E5%9D%91%E8%AE%B0/"/>
      <url>posts/%E6%97%A5%E5%B8%B8%E6%8E%89%E5%9D%91%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="æ—¥å¸¸æ‰å‘è®°"><a href="#æ—¥å¸¸æ‰å‘è®°" class="headerlink" title="æ—¥å¸¸æ‰å‘è®°"></a>æ—¥å¸¸æ‰å‘è®°</h2><h3 id="1-scrollIntoView"><a href="#1-scrollIntoView" class="headerlink" title="1. scrollIntoView"></a>1. <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView">scrollIntoView</a></h3><p>è¯¥æ–¹æ³•å¯ä»¥å¾ˆå¥½çš„è§£å†³é¡µé¢å†…é”šç‚¹è·³è½¬ï¼Œä¸ç”¨åœ¨urlé‡ŒåŠ <code>#é”šç‚¹</code></p><p>åœ¨QQæµè§ˆå™¨ä¸‹ä¼šæ— æ³•æ»šåŠ¨åˆ°æŒ‡å®šé”šç‚¹, åœ¨æœ‰äº›ç‰ˆæœ¬çš„Chromeé‡Œä¹Ÿä¼šé‡åˆ°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;box&#x27;</span>);</span><br><span class="line">element.scrollIntoView(&#123;<span class="attr">behavior</span>: <span class="string">&quot;smooth&quot;</span>&#125;);</span><br></pre></td></tr></table></figure><p>å»æ‰<code>&#123;behavior: &quot;smooth&quot;&#125;</code>å¯ä»¥æ­£å¸¸æ»šåŠ¨</p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#box&#x27;</span>);</span><br><span class="line"><span class="built_in">window</span>.scrollTo(&#123;</span><br><span class="line">    top: button.offsetTop,</span><br><span class="line">    left: <span class="number">0</span>,</span><br><span class="line">    behavior: <span class="string">&#x27;smooth&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç»æµ‹è¯•ï¼Œåœ¨IEå’ŒUCä¸­è¿™ä¸ªæ–¹æ³•ä¹Ÿä¸å¥½ä½¿ã€‚<br>æ‰€ä»¥æœ€ç»ˆæ–¹æ¡ˆæ˜¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;box&#x27;</span>);</span><br><span class="line">element.scrollIntoView();</span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹æ˜¯æ²¡æœ‰åŠ¨ç”»æ•ˆæœã€‚<br>å¯ä»¥æ ¹æ®å…¼å®¹æ€§è¦æ±‚æ¥é€‰æ‹©æ–¹æ¡ˆã€‚</p><h2 id="Clipboard"><a href="#Clipboard" class="headerlink" title="Clipboard"></a><a href="https://github.com/zenorocha/clipboard.js">Clipboard</a></h2><p>  è§¦å‘äº‹ä»¶çš„å…ƒç´ ä¸€å®šè¦ç”¨buttonæ‰èƒ½ç”Ÿæ•ˆã€‚</p><h2 id="è§†é¢‘æ’­æ”¾åˆ°æœ€åä¸€å¸§é»‘å±"><a href="#è§†é¢‘æ’­æ”¾åˆ°æœ€åä¸€å¸§é»‘å±" class="headerlink" title="è§†é¢‘æ’­æ”¾åˆ°æœ€åä¸€å¸§é»‘å±"></a>è§†é¢‘æ’­æ”¾åˆ°æœ€åä¸€å¸§é»‘å±</h2><p>ç»æµ‹è¯•ï¼Œæ˜¯è§†é¢‘æœ¬èº«é»‘å±</p><p>æµè§ˆå™¨ç”¨window.innerWidth ä¸º1280ï¼Œä¸ºä½•æµè§ˆå™¨æˆªå›¾ä¸º1920ï¼Œ<br>å› ä¸ºç”µè„‘è®¾ç½®äº†æ˜¾ç¤ºæ¯”ä¾‹ã€‚150%ï¼Œæ‰€ä»¥ä¼šå‡ºç°æ˜¾ç¤ºå¼‚å¸¸ã€‚</p><p>èƒŒæ™¯é€æ˜ä¸è¦ç”¨opacityï¼Œè¦ç”¨rgba()<br>ç”¨opacityä¼šå¯¼è‡´èƒŒæ™¯é€æ˜æ–‡å­—ä¹Ÿé€æ˜ã€‚</p><p>èƒŒæ™¯é€æ˜ï¼Œæ–‡å­—ä¹Ÿé€æ˜è§£å†³åŠæ³•</p><p>è®¾ç½®z-indexå¤±æ•ˆï¼Œ å‘ç°åœ¨å®¹å™¨ä¸­å¯ç”¨ï¼Œposition absoluteç¦»å¼€å®¹å™¨åå°±çœ‹ä¸åˆ°äº†ï¼Œ</p><p>åŸå› ï¼š çˆ¶å®¹å™¨è®¾ç½®äº†overflow:hidden, æ‰€ä»¥å¦‚æœè¦ç§»åˆ°åˆé€‚çš„ä½ç½®ï¼Œéœ€è¦æŠŠåˆé€‚çš„ä½ç½®ä¹Ÿæ”¾åˆ°çˆ¶å®¹å™¨ä¸­ã€‚</p><p>bootstrapæ¯åˆ—ä¹‹é—´æ²¡æœ‰é—´éš”ï¼Œçœ‹èµ·æ¥ä¸­é—´æœ‰é—´éš”ï¼Œç‚¹å‡»çš„æ—¶å€™è¿˜æ˜¯ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼Œ</p><p>è§£å†³åŠæ³•ï¼š æŠŠç»‘å®šäº‹ä»¶åŠ åœ¨æ¯åˆ—ä¸­çš„å†…å®¹åŒºåŸŸï¼Œè€Œä¸æ˜¯col-mdä¸Šã€‚</p><p>formè¡¨å•æäº¤æ–‡å­—å¸¦å›¾ç‰‡</p><ol><li><p>å¦‚å›¾ç‰‡æ˜¯å•ç‹¬çš„å­—æ®µï¼Œæ²¡æœ‰é—®é¢˜{â€˜picâ€™:url, text: â€˜â€™}</p></li><li><p>å¦‚æœæ˜¯å¯Œæ–‡æœ¬ï¼Ÿæ–‡å­—å›¾ç‰‡æ··åœ¨ä¸€èµ·ï¼Œæ€ä¹ˆå¤„ç†ã€‚<br>ç­”æ¡ˆï¼šåœ¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨é‡Œï¼Œä¸Šä¼ å›¾ç‰‡ä¼šè¦æ±‚é…ç½®ä¸Šä¼ å›¾ç‰‡è·¯å¾„ï¼Œæ”¾å…¥çš„å›¾ç‰‡ä¼šå…ˆä¸Šä¼ è¿”å›å›¾ç‰‡åœ°å€ã€‚</p><p>2018-7-11 16:31:43</p></li></ol><p>æ»šåŠ¨æ¡å¸é¡¶æ•ˆæœç»éªŒæ€»ç»“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> menu= <span class="built_in">document</span>.getElementById(<span class="string">&quot;nav&quot;</span>);</span><br><span class="line"><span class="comment">//è·å–è·ç¦»é¡µé¢é¡¶ç«¯çš„è·ç¦»</span></span><br><span class="line"><span class="keyword">var</span> titleTop = menu.offsetTop;</span><br><span class="line"><span class="comment">//æ»šåŠ¨äº‹ä»¶</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&quot;scroll&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> btop = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¦‚æœæ»šåŠ¨è·ç¦»å¤§äºå¯¼èˆªæ¡æ®é¡¶éƒ¨çš„è·ç¦»</span></span><br><span class="line">    <span class="keyword">if</span>(btop &gt; titleTop) &#123;</span><br><span class="line">        <span class="comment">//ä¸ºå¯¼èˆªæ¡è®¾ç½®fix</span></span><br><span class="line">        $(<span class="string">&quot;.nav&quot;</span>).addClass(<span class="string">&quot;fixed&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//ç§»é™¤fixed</span></span><br><span class="line">        $(<span class="string">&quot;.nav&quot;</span>).removeClass(<span class="string">&quot;fixed&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¸ºäº†å‡å°‘é¡µé¢é‡ç»˜æ¬¡æ•°å¢åŠ å»¶æ—¶åŠŸèƒ½</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;scroll once..&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> timeoutRef;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span> , <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(timeoutRef)&#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeoutRef);</span><br><span class="line">    &#125;</span><br><span class="line">    timeoutRef = <span class="built_in">setTimeout</span>(callback , <span class="number">50</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦å¸é¡¶çš„å…ƒç´ åœ¨é¡µé¢ä¸­é—´ï¼Œä¼šé€ æˆé¡µé¢æŠ–åŠ¨ï¼Œ<br>éœ€è¦å¸é¡¶çš„å…ƒç´ è®¾ç½®position:fixedåç§»åˆ°é¡¶éƒ¨é€ æˆé¡µé¢é«˜åº¦å‘ç”Ÿå˜åŒ–é‡æ–°è§¦å‘scrollæ–¹æ³•ï¼Œ</p><p>è§£å†³åŠæ³•ï¼š<br> å°†éœ€è¦å¸é¡¶çš„å…ƒç´ çˆ¶å®¹å™¨è®¾å®šæœ€å°é«˜åº¦ï¼Œå³ä½¿ä½ç½®å‘ç”Ÿç§»åŠ¨ï¼Œä¹Ÿæœ‰å›ºå®šé«˜åº¦åœ¨ï¼Œä¸ä¼šè§¦å‘scrollæ–¹æ³•ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é¢è¯•ç§¯ç´¯</title>
      <link href="posts/%E9%9D%A2%E8%AF%95%E7%A7%AF%E7%B4%AF/%E9%9D%A2%E8%AF%95%E7%A7%AF%E7%B4%AF/"/>
      <url>posts/%E9%9D%A2%E8%AF%95%E7%A7%AF%E7%B4%AF/%E9%9D%A2%E8%AF%95%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="ç§¯ç´¯"><a href="#ç§¯ç´¯" class="headerlink" title="ç§¯ç´¯"></a>ç§¯ç´¯</h2><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><p>OSã€æ•°æ®ç»“æ„ä¸ç®—æ³•ã€ç½‘ç»œè¿™å‡ å—å†…å®¹æ˜¯å¿…é¡»è¦æŒæ¡çš„åŸºç¡€çš„ï¼Œè¿™äº›åŸºç¡€ä¸æ‰å®ï¼Œå¤©èŠ±æ¿åŠ¿å¿…ä¸é«˜ã€‚</p><p>åŸºç¡€ä¸å¥½è™½ç„¶ä¹ŸåŒæ ·èƒ½å¹²æ´»ï¼Œä½†æ˜¯å¤©èŠ±æ¿ä¸é«˜ä¼šå¯¼è‡´ä½ çš„æŠ€æœ¯æˆé•¿ä¼šéšç€å¹´é¾„å¢é•¿å˜å¾—è¶Šæ¥è¶Šä½ï¼Œæœ€åç»“æœä¹ŸåŸºæœ¬æ˜¯åœç•™äºäºŒä¸‰çº¿å…¬å¸ã€‚</p><p>å¤§éƒ¨åˆ†äººé—®åŸºç¡€çŸ¥è¯†ç‚¹è¿˜æ˜¯èƒ½å¤Ÿè¯´å‡ºæ¥çš„ï¼Œä½†æ˜¯ä»…é™äºçŸ¥é“ã€‚å¯¹äºå¦‚ä½•å°†å¤šä¸ªçŸ¥è¯†ç‚¹ä¸²è”èµ·æ¥æˆ–è€…çŸ¥è¯†ç‚¹çš„æ›´æ·±å±‚æ¬¡çš„é—®é¢˜å°±å¾ˆå°‘æœ‰äººèƒ½å¤Ÿç­”å¥½ã€‚</p><p>å»ºè®®å­¦å¥½è®¡ç®—æœºåŸºç¡€</p><h2 id="æ¡†æ¶"><a href="#æ¡†æ¶" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h2><p>å­¦ä¹ æ¡†æ¶å‰ï¼Œæˆ‘è§‰å¾—ä½ åº”è¯¥å…ˆæ‰“å¥½åŸºç¡€ï¼Œè€Œä¸æ˜¯å¥½é«˜éª›è¿œçš„å…ˆä½¿ç”¨æ¡†æ¶ã€‚å†è€…ï¼Œå‡ å¤§çƒ­é—¨çš„æ¡†æ¶åº•å±‚çš„æ€æƒ³éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¹¶æ²¡æœ‰å“ªä¸ªå¥½å“ªä¸ªå·®ä¹‹åˆ†ã€‚</p><p>å­¦ä¹ ä¸€ä»¶äº‹ç‰©ï¼Œç†Ÿç»ƒä½¿ç”¨å®ƒæ˜¯åŸºæœ¬ï¼Œåœ¨ç†Ÿç»ƒä½¿ç”¨ä»¥åï¼Œåº”è¯¥è½¬è€Œå»å­¦ä¹ ä»–åº•å±‚çš„åŸç†æœºåˆ¶ï¼Œ<strong>ç”šè‡³è‡ªå·±å»å®ç°ä¸€ä¸ªç±»ä¼¼çš„ä¸œè¥¿</strong>ã€‚<br>å½“ä½ è¿™æ ·å»åšçš„æ—¶å€™ï¼Œæ°¸è¿œä¸éœ€è¦æ‹…å¿ƒè‡ªå·±æ˜¯å¦ä¼šæ·˜æ±°ï¼Œå› ä¸ºä½ å·²ç»é¢†å…ˆæ‰€æœ‰åªä¼šç”¨ API çš„äººäº†ï¼Œè¿™éƒ¨åˆ†ç»å¯¹æ˜¯æœ€å¤šçš„ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æƒ³åœ¨é¢è¯•ä¸­è·å¾—å¥½çš„ç»“æœçš„äººæ¥è¯´ï¼Œéƒ½åº”è¯¥åšåˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>å¤¯å®è‡ªå·±çš„åŸºç¡€ï¼ŒåŸºç¡€å†³å®šäº†å¤§æ¥¼çš„é«˜åº¦</li><li>æœ‰æ·±å…¥æŒ–æ˜çŸ¥è¯†çš„æ€æƒ³ï¼Œå¯¹äºæ¯ä¸ªçŸ¥è¯†ç‚¹éƒ½åº”è¯¥è€ƒè™‘ä¸€ä¸‹è¿™ç©æ„æ€ä¹ˆå®ç°çš„ï¼Œä¸ºä»€ä¹ˆè¦æœ‰è¿™ç©æ„</li><li>ä¸è¦åšæ¡†æ¶ API çš„ç†Ÿç»ƒå·¥ï¼Œå°½é‡å»äº†è§£æ¡†æ¶åº•å±‚çš„åŸç†æœºåˆ¶</li></ul><h2 id="4ã€é¢è¯•æ˜¯ä¸€ç§è¾“å‡º"><a href="#4ã€é¢è¯•æ˜¯ä¸€ç§è¾“å‡º" class="headerlink" title="4ã€é¢è¯•æ˜¯ä¸€ç§è¾“å‡º"></a>4ã€é¢è¯•æ˜¯ä¸€ç§è¾“å‡º</h2><p>å­¦ä¹ æ˜¯ä¸€ç§è¾“å…¥ï¼Œä½†é¢è¯•æ˜¯ä¸€ç§è¾“å‡ºã€‚</p><p>é¢è¯•éœ€è¦çš„ä¸æ˜¯ä½ æ‡‚ï¼Œè€Œæ˜¯è¦è®©é¢è¯•å®˜çŸ¥é“ä½ æ‡‚ï¼Œä½ å¿…é¡»æœ‰èƒ½åŠ›å°†è€ƒç‚¹ä¸­çš„è¦ç‚¹è”ç³»èµ·æ¥ï¼Œè¿è´¯çš„è¯´å‡ºæ¥ï¼Œè¿™å¹¶ä¸æ˜¯çœ‹è¿‡ä¸€æ¬¡å°±èƒ½è¾¾åˆ°çš„ã€‚ä½†ä¸å°‘äººä»¥ä¸ºçœ‹è¿‡è¿™ç±»æ–‡ç« ï¼ŒçŸ¥é“è¿™ä¸ªç‚¹ï¼Œå°±å¯ä»¥äº†ã€‚äº‹å®ä¸Šï¼Œåªæ˜¯â€œçŸ¥é“â€è¿œè¿œä¸å¤Ÿã€‚</p><p>è¿™ç§é—®é¢˜ï¼Œæ ¹æœ¬ä¸Šï¼Œæ˜¯å¯¹æŠ€æœ¯ç‚¹çš„ä¸å¤Ÿæ·±å…¥ï¼Œä¸å¤Ÿç†Ÿæ‚‰ï¼Œæ²¡æœ‰å½¢æˆè‡ªå·±çš„ç†è§£ã€‚æˆ‘ä¹Ÿç»å†è¿‡è¿™ä¸€è¿‡ç¨‹ï¼Œä½ çŸ¥é“è¿™äº›æ¦‚å¿µï¼Œè‡ªå·±ä¹Ÿèƒ½åˆ†æ¸…ï¼Œä½†éš¾ä»¥å‘åˆ«äººè®²æ˜ç™½ã€‚ç®€å•æµ‹è¯•ä¸€ä¸ªCSSé—®é¢˜ï¼šä»€ä¹ˆæ˜¯BFCï¼Ÿ ä½ è‚¯å®šçŸ¥é“å«å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œé—®é¢˜æ˜¯ï¼Œæ€ä¹ˆå‘é¢è¯•å®˜è§£é‡Šè¿™ä¸ªä¸œè¥¿ï¼Ÿ</p><p><strong>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆï¼Œå­¦ä¹ è¿‡ç¨‹æ³¨é‡ç†è§£è€Œä¸æ˜¯è®°å¿†ã€‚</strong></p><p>ç¬¬äºŒï¼Œä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œéœ€è¦é€šè¿‡å¤šç¯‡æ–‡ç« å­¦ä¹ ï¼Œé‡å¤å­¦ä¹ ï¼ŒåŠ æ·±ç†è§£ï¼Œæ€»ç»“å‡ºè‡ªå·±çš„ç­”æ¡ˆå’Œçœ‹æ³•ã€‚</p><p>ç¬¬ä¸‰ï¼Œåˆ»æ„ç»ƒä¹ ã€‚å¦‚æœä½ æœ‰ä¼™ä¼´ï¼Œå¯ä»¥ç›¸äº’æé—®ã€‚å¦‚æœæ²¡æœ‰ï¼Œä¹Ÿå¯ä»¥è‡ªé—®è‡ªç­”ã€‚</p><h2 id="5ã€æ³¨é‡è¡¨è¾¾é€»è¾‘"><a href="#5ã€æ³¨é‡è¡¨è¾¾é€»è¾‘" class="headerlink" title="5ã€æ³¨é‡è¡¨è¾¾é€»è¾‘"></a>5ã€æ³¨é‡è¡¨è¾¾é€»è¾‘</h2><p>å¦‚æœä¸Šä¸€ç‚¹æ˜¯è¯´èƒ½æ­£ç¡®å›ç­”é—®é¢˜ï¼Œè¿™ç‚¹åˆ™æ˜¯èƒ½æ›´å¥½çš„å›ç­”é—®é¢˜ã€‚ä¸€ä¸ªé€»è¾‘æ¸…æ™°çš„å›ç­”ï¼Œèƒ½è®©é¢è¯•å®˜æ„Ÿå—åˆ°ï¼Œé¢è¯•è€…ä¸ä»…ç†Ÿæ‚‰è¿™ä¸ªé—®é¢˜ï¼Œè¿˜æœ‰æ¯”è¾ƒä¼˜ç§€çš„è¯­è¨€èƒ½åŠ›å’Œé€»è¾‘èƒ½åŠ›ã€‚</p><p>æ¯”å¦‚ï¼Œå¸¸è§é—®é¢˜ï¼šè¯´è¯´ <code>var, let/const</code> çš„åŒºåˆ«ã€‚å¤§éƒ¨åˆ†äººéƒ½èƒ½ç½—åˆ—å‡ºå®ƒä»¬çš„åŒºåˆ«å’Œæ³¨æ„ç‚¹ï¼Œä½†è¿™å¾ˆéš¾ç»™é¢è¯•å®˜ç•™ä¸‹ä»€ä¹ˆå°è±¡ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æ·»åŠ å‡ å¥è”ç³»æ€§çš„è¯­å¥ï¼Œæ•ˆæœå°±ä¸ä¸€æ ·äº†ï¼š</p><blockquote><p><code>var</code>æ˜¯ <code>ES5</code> ä¹‹å‰çš„å˜é‡å£°æ˜æ–¹å¼ï¼Œå­˜åœ¨å¾ˆå¤šå®¹æ˜“äº§ç”Ÿè¯¯è§£çš„ç¼ºé™·ï¼Œå…·ä½“ä½“ç°åœ¨ï¼šâ€¦â€¦ï¼ˆç½—åˆ— <code>var</code> çš„ä¸€äº›ä¸è¶³ï¼‰, é’ˆå¯¹è¿™äº›é—®é¢˜ï¼ŒES6 æå‡ºäº† <code>let/const</code> çš„å˜é‡å£°æ˜æ–¹å¼ï¼Œå®ƒä»¬å…·æœ‰ä¸€äº›æ–°çš„ç‰¹æ€§ï¼šâ€¦â€¦ï¼ˆç½—åˆ— <code>let/const</code> ç‰¹æ€§ï¼‰ã€‚</p></blockquote><p>è¿™å‡ å¥ç®€å•çš„è¿æ¥ï¼Œè®©æ•´ä¸ªå›ç­”ä»ä¸€ä¸ªç®€å•çš„è¦ç‚¹å †ç Œå˜æˆå…³ç³»å¯†åˆ‡çš„è¡¨è¾¾ã€‚</p><p>ç„¶è€Œï¼Œè¿™å¹¶éæ˜“äº‹ã€‚å‰ææ˜¯å¿…é¡»è¦æœ‰è¾ƒå¥½çš„é€»è¾‘æ€ç»´ã€‚</p><p>åœ¨å­¦ä¹ æ¯ä¸€ä¸ªæŠ€æœ¯ç‚¹çš„æ—¶å€™ï¼Œéƒ½è¦æ³¨æ„ä¸€äº›é—®é¢˜ï¼šæ˜¯ä»€ä¹ˆï¼Ÿä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•å®ç°çš„ï¼Œæœ‰æ²¡æœ‰æ›´æ·±çš„åŸç†ï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨çš„åœºæ™¯ï¼Ÿæœ‰ä»€ä¹ˆä¸è¶³ï¼Ÿè¿™äº›ä¸è¶³èƒ½å¦é¿å…ï¼Ÿ è¿™äº›é—®é¢˜èƒ½è®©ä½ æ›´åŠ å…¨é¢åœ°ä½“ä¼šå„ä¸ªé—®é¢˜çš„è”ç³»ã€‚</p><p>éœ€è¦æŒ‡å‡ºä¸€ç‚¹ï¼Œå†™åšå®¢å¯¹è¿™æ–¹é¢æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</p><p>å³ä½¿ä½ æ²¡æœ‰å†™è¿‡åšå®¢ï¼Œå»ºè®®åœ¨å¤‡è€ƒçš„æ—¶å€™ï¼Œä½¿ç”¨æ€ç»´å¯¼å›¾ç­‰å·¥å…·ï¼Œå¹¶ä¸”ç»å¸¸æ•´ç†å·²å­¦çŸ¥è¯†çš„è”ç³»ã€‚</p><p>å¯èƒ½æœ‰äººè·Ÿæˆ‘ä¸€æ ·é¢è¯•ä¼šç´§å¼ ï¼Œä¸€ç´§å¼ å°±å®¹æ˜“è„‘å­ç©ºç™½ã€‚æˆ‘çš„æ–¹æ³•æ˜¯ï¼ŒæŠŠé¢è¯•å®˜å‡æƒ³æˆæ˜¯æ¥è¯·æ•™æˆ‘é—®é¢˜çš„åŒå­¦ï¼Œä¸å¾—ä¸è¯´è¿™ç§æ•ˆæœçœŸçš„å¾ˆå¥½ã€‚</p><h2 id="6ã€æ‰¬é•¿é¿çŸ­ï¼Œä½†å°½é‡äº‰å–"><a href="#6ã€æ‰¬é•¿é¿çŸ­ï¼Œä½†å°½é‡äº‰å–" class="headerlink" title="6ã€æ‰¬é•¿é¿çŸ­ï¼Œä½†å°½é‡äº‰å–"></a>6ã€æ‰¬é•¿é¿çŸ­ï¼Œä½†å°½é‡äº‰å–</h2><p>å¯¹äºé‚£äº›æ¯ä¸ªåº”è˜è€…å¿…å¤‡çš„æŠ€èƒ½ï¼Œå¿…é¡»è¦ç†Ÿæ‚‰å†ç†Ÿæ‚‰ï¼Œä¸è¦è®©åŸºç¡€æˆä¸ºè‡ªå·±çš„çŸ­æ¿ã€‚è€Œå¯¹äºå…¶å®ƒæŠ€èƒ½ï¼Œæ·±å…¥å­¦ä¹ å…¶ä¸­çš„å‡ ä¸ªï¼Œç„¶åæƒ³åŠæ³•å¼•å¯¼é¢è¯•å®˜æé—®è¿™äº›æ–¹é¢çš„é—®é¢˜ã€‚</p><p>æœ€æœ‰æ•ˆæœ€å¸¸è§çš„å¼•å¯¼æ–¹å¼æ˜¯ç®€å†ã€‚ç®€å†ä¿¡æ¯å¾€å¾€æ˜¯é¢è¯•å®˜å‡ºé¢˜çš„ä¾æ®ï¼Œæ‰€ä»¥ç®€å†ä¸€å®šä¸è¦å†™è‡ªå·±æ²¡æ¥è§¦è¿‡çš„æŠ€æœ¯ï¼Œå³ä½¿æ‹›è˜ä¿¡æ¯æœ‰è¿™é¡¹è¦æ±‚ï¼Œå¦‚æœé¢è¯•å®˜æé—®ç®€å†ä¸Šçš„å†…å®¹ï¼Œå‘ç°ä½ æ ¹æœ¬ä¸ä¼šï¼Œé‚£ä¹ˆï¼Œä½ ç®€å†ä¸Šçš„æ‰€æœ‰æŠ€èƒ½ç‚¹ï¼Œé¢è¯•å®˜éƒ½ä¼šæ‰“ä¸ªé—®å·ã€‚å¯¹äºä½ æœ‰æ·±å…¥å­¦ä¹ çš„æ–¹é¢ï¼Œå¯ä»¥å•ç‚¹åˆ—å‡ºï¼Œæ¯”å¦‚ï¼Œç†Ÿæ‚‰ JavaScriptï¼Œèƒ½ç†Ÿç»ƒæ“ä½œ DOMï¼Œå°½ç®¡ JavaScript åŒ…å«äº† DOMï¼Œä½†ä½ ä¾ç„¶å¯ä»¥å¼ºè°ƒä¸€ä¸‹ã€‚<br>é¢è¯•å®˜å¾€å¾€ä¼šæ ¹æ®åº”è˜è€…çš„å›ç­”æ¥å†³å®šä¸‹ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ç‚¹ï¼Œåœ¨é¢è¯•å›ç­”ä¸­å¼•å¯¼ã€‚åœ¨å›ç­”å¼€æ”¾æ€§é—®é¢˜æ—¶ï¼Œè¿™ç§æ–¹æ³•ååˆ†æœ‰æ•ˆï¼Œä½†åˆ‡è®°ç‚¹åˆ°ä¸ºæ­¢ï¼Œä¸è¦è¿‡åˆ†æ·±å…¥å¯¼è‡´åé¢˜ã€‚æ¯”å¦‚ï¼Œé¢è¯•å®˜æé—®ï¼šå¯¹ä¸€ä¸ªå·²æœ‰çš„ç½‘ç«™ï¼Œä½ å“ªäº›çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼Ÿ å½“ä½ é˜è¿°æ€§èƒ½æ”¹è¿›æè®®ä¹‹åï¼Œæœ«äº†ï¼ŒåŠ ä¸€å¥â€œé™¤äº†æ€§èƒ½ï¼Œä¸€ä¸ªç½‘ç«™è€ƒè™‘è¿˜å¯ä»¥ä»å®‰å…¨æ€§å’Œ SEO è¿™äº›æ–¹é¢è¿›è¡Œä¼˜åŒ–â€ã€‚ å¦‚æœé¢è¯•å®˜ Web å®‰å…¨å’Œ SEO æ„Ÿå…´è¶£ï¼Œé‚£ä»–å°±ä¸­å¥—äº†ã€‚</p><p>å¦‚æœé¢è¯•å®˜æŠ›å‡ºäº†ä¸€ä¸ªä½ ç¨æœ‰äº†è§£ä½†ä¸ç†Ÿæ‚‰çš„é—®é¢˜ã€‚ä¸è¦æ…Œï¼Œå…ˆæ€è€ƒç‰‡åˆ»ã€‚æ•´åˆè‡ªå·±çŸ¥é“çš„ï¼Œåšä¸€äº›åˆç†çš„æ¨æµ‹ã€‚ç„¶ååœ¨å›ç­”çš„æ—¶å€™ï¼Œå…ˆè¡¨æ˜è‡ªå·±ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä½†åœ¨å­¦ä¹ å…¶ä»–çŸ¥è¯†çš„æ—¶å€™æœ‰æ¥è§¦è¿‡ï¼Œç®€å•è¯´è¯´è‡ªå·±çš„äº†è§£å’Œæ¨æ–­ã€‚ä¸å°‘é¢è¯•å®˜ä¼šæ•…æ„æå‡ºä¸€äº›ç¨å¾®è¶…å‡ºé¢è¯•è€…èƒ½åŠ›çš„é—®é¢˜ï¼Œè€ƒé‡é¢è¯•è€…çš„ä¸´åœºèƒ½åŠ›å’Œè¿ç§»å­¦ä¹ èƒ½åŠ›ã€‚</p><p>ä¸‡ä¸€ï¼Œæ˜ç¡®é¢è¯•å®˜é—®é¢˜åï¼Œå‘ç°è‡ªå·±ä¸æ¯«ä¸ä¼šï¼Œç›´æ¥è¡¨æ˜ï¼ŒæŠŠé¢è¯•å®˜çš„æ³¨æ„åŠ›è½¬ç§»åˆ°ä¸‹ä¸€é“é¢˜ï¼Œåœç•™çš„æ—¶å€™é•¿äº†ï¼Œå¯èƒ½ä¼šæ”¾å¤§è¿™é“é¢˜çš„å½±å“ã€‚ä»å®¹åº”å¯¹æ¥ä¸‹æ¥çš„é¢˜ç›®ï¼Œé¢è¯•å®˜ä¸ä¼šå› ä¸ºä¸€ä¸¤é“é¢˜æ·˜æ±°ä¸€ä¸ªå„æ–¹é¢éƒ½å¾ˆä¼˜ç§€çš„é¢è¯•è€…ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ—¥å¸¸ç§¯ç´¯ </tag>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç²¾è¯»ä½ ä¸çŸ¥é“çš„JavaScriptä¸Šå·</title>
      <link href="posts/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%B2%BE%E8%AF%BB%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%E4%B8%8A%E5%8D%B7/"/>
      <url>posts/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%B2%BE%E8%AF%BB%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%E4%B8%8A%E5%8D%B7/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="I-ç¬¬1ç« ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ"><a href="#I-ç¬¬1ç« ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ" class="headerlink" title="I-ç¬¬1ç« ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ"></a>I-ç¬¬1ç« ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆ</h2><h3 id="ç¼–è¯‘åŸç†"><a href="#ç¼–è¯‘åŸç†" class="headerlink" title="ç¼–è¯‘åŸç†"></a>ç¼–è¯‘åŸç†</h3><p>JavaScriptæ˜¯ä¸€é—¨ç¼–è¯‘è¯­è¨€</p><p>ä¼ ç»Ÿçš„ç¼–è¯‘è¯­è¨€åœ¨ä»£ç æ‰§è¡Œå‰ä¼šç»å†ä¸‰ä¸ªæ­¥éª¤(ç¼–è¯‘)</p><ul><li><p>åˆ†è¯/è¯æ³•åˆ†æ(Tokenizing/Lexing)</p><p>  å°†ç”±å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²åˆ†è§£æˆ(å¯¹ç¼–ç¨‹è¯­è¨€æ¥è¯´)æœ‰æ„ä¹‰çš„ä»£ç å—(è¯æ³•å•å…ƒtoken)</p></li><li><p>è§£æ/è¯­æ³•åˆ†æ(Parsing)</p><p>  å°†è¯æ³•å•å…ƒæµ(æ•°ç»„)è½¬æ¢æˆä¸€ä¸ªç”±å…ƒç´ é€çº§åµŒå¥—æ‰€ç»„æˆçš„ä»£è¡¨äº†ç¨‹åºè¯­æ³•ç»“æ„çš„æ ‘(æŠ½è±¡è¯­æ³•æ ‘Abstract Syntax Treeï¼ŒAST)ã€‚</p></li><li><p>ä»£ç ç”Ÿæˆ</p><p>  å°† AST è½¬æ¢ä¸ºå¯æ‰§è¡Œä»£ç </p></li></ul><p>JavaScriptå¼•æ“ç¼–è¯‘è¿‡ç¨‹æ¯”æ™®é€šç¼–è¯‘è¯­è¨€æ›´å¤æ‚<br>åœ¨è¯­æ³•åˆ†æå’Œä»£ç ç”Ÿæˆé˜¶æ®µæœ‰ç‰¹å®šçš„æ­¥éª¤æ¥å¯¹è¿è¡Œæ€§èƒ½è¿›è¡Œä¼˜åŒ–ï¼ŒåŒ…æ‹¬å¯¹å†—ä½™å…ƒç´ è¿›è¡Œä¼˜åŒ–ç­‰ã€‚<br>ç”¨å°½äº†å„ç§åŠæ³•(æ¯”å¦‚ JITï¼Œå¯ä»¥å»¶è¿Ÿç¼–è¯‘ç”šè‡³å®æ–½é‡ç¼–è¯‘)æ¥ä¿è¯æ€§èƒ½æœ€ä½³ã€‚</p><h3 id="ç†è§£ä½œç”¨åŸŸ-å»ºè®®å¤šè¯»å‡ é"><a href="#ç†è§£ä½œç”¨åŸŸ-å»ºè®®å¤šè¯»å‡ é" class="headerlink" title="ç†è§£ä½œç”¨åŸŸ(å»ºè®®å¤šè¯»å‡ é)"></a>ç†è§£ä½œç”¨åŸŸ(å»ºè®®å¤šè¯»å‡ é)</h3><p>å½“å˜é‡å‡ºç°åœ¨èµ‹å€¼æ“ä½œçš„å·¦ä¾§æ—¶è¿›è¡Œ LHS æŸ¥è¯¢ï¼Œå‡ºç°åœ¨å³ä¾§æ—¶è¿›è¡Œ RHS æŸ¥è¯¢ã€‚</p><p>å¯ä»¥å°† RHS ç†è§£æˆ retrieve his source value(å–åˆ°å®ƒçš„æºå€¼)ï¼Œè¿™æ„å‘³ç€â€œå¾—åˆ°æŸæŸçš„å€¼â€ã€‚<br>åœ¨æ¦‚å¿µä¸Šæœ€å¥½å°†å…¶ç†è§£ä¸ºâ€œèµ‹å€¼æ“ä½œçš„ç›®æ ‡æ˜¯è°(LHS)â€ä»¥åŠâ€œè°æ˜¯èµ‹å€¼æ“ä½œçš„æºå¤´(RHS)â€ã€‚</p><p>å¦‚æœæŸ¥æ‰¾çš„ç›®çš„æ˜¯å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨ LHS æŸ¥è¯¢;å¦‚æœç›®çš„æ˜¯è·å–å˜é‡çš„å€¼ï¼Œå°±ä¼šä½¿ç”¨ RHS æŸ¥è¯¢ã€‚</p><p>èµ‹å€¼æ“ä½œç¬¦ä¼šå¯¼è‡´ LHS æŸ¥è¯¢ã€‚=æ“ä½œç¬¦æˆ–è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥å‚æ•°çš„æ“ä½œéƒ½ä¼šå¯¼è‡´å…³è”ä½œç”¨åŸŸçš„èµ‹å€¼æ“ä½œã€‚</p><h3 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h3><p>ä½œç”¨åŸŸæ˜¯ä¸€å¥—è§„åˆ™ï¼Œç”¨äºç¡®å®šåœ¨ä½•å¤„ä»¥åŠå¦‚ä½•æŸ¥æ‰¾å˜é‡(æ ‡è¯†ç¬¦)ã€‚</p><p>éå†åµŒå¥—ä½œç”¨åŸŸé“¾çš„è§„åˆ™: ä»å½“å‰çš„æ‰§è¡Œä½œç”¨åŸŸå¼€å§‹æŸ¥æ‰¾å˜é‡ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±å‘ä¸Šä¸€çº§ç»§ç»­æŸ¥æ‰¾ã€‚å½“æŠµè¾¾æœ€å¤–å±‚çš„å…¨å±€ä½œç”¨åŸŸæ—¶ï¼Œæ— è®ºæ‰¾åˆ°è¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼ŒæŸ¥æ‰¾è¿‡ç¨‹éƒ½ä¼šåœæ­¢ã€‚</p><hr><p>ç¼–ç ç»éªŒï¼šå‡å°‘æ— æ„ä¹‰çš„å˜é‡æŸ¥æ‰¾æ¬¡æ•°å’Œæœªå®šä¹‰å˜é‡çš„æŸ¥æ‰¾ï¼Œå¯ä»¥æå‡æ•ˆç‡</p><hr><h3 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h3><p>RHS æŸ¥è¯¢éå¯»ä¸åˆ°æ‰€éœ€çš„å˜é‡ï¼Œå¼•æ“å°±ä¼šæŠ›å‡º ReferenceError å¼‚å¸¸ã€‚</p><p>éä¸¥æ ¼æ¨¡å¼ï¼šå¼•æ“æ‰§è¡Œ LHS æŸ¥è¯¢æ—¶ï¼Œå¦‚æœåœ¨é¡¶å±‚(å…¨å±€ä½œç”¨åŸŸ)ä¸­ä¹Ÿæ— æ³•æ‰¾åˆ°ç›®æ ‡å˜é‡ï¼Œ<br>å…¨å±€ä½œç”¨åŸŸä¸­å°±ä¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰è¯¥åç§°çš„å˜é‡ï¼Œå¹¶å°†å…¶è¿”è¿˜ç»™å¼•æ“ã€‚</p><p>ä¸¥æ ¼æ¨¡å¼ä¸­ LHS æŸ¥è¯¢å¤±è´¥æ—¶ï¼Œå¹¶ä¸ä¼šåˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¼•æ“ä¼šæŠ›å‡ºåŒ RHS æŸ¥è¯¢ å¤±è´¥æ—¶ç±»ä¼¼çš„ ReferenceError å¼‚å¸¸ã€‚</p><p>å¦‚æœ RHS æŸ¥è¯¢æ‰¾åˆ°äº†ä¸€ä¸ªå˜é‡ï¼Œä½†æ˜¯ä½ å°è¯•å¯¹è¿™ä¸ªå˜é‡çš„å€¼è¿›è¡Œä¸åˆç†çš„æ“ä½œï¼Œ æ¯”å¦‚è¯•å›¾å¯¹ä¸€ä¸ªéå‡½æ•°ç±»å‹çš„å€¼è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼Œæˆ–è€…å¼•ç”¨ null æˆ– undefined ç±»å‹çš„å€¼ä¸­çš„å±æ€§ï¼Œé‚£ä¹ˆå¼•æ“ä¼šæŠ›å‡ºå¦å¤–ä¸€ç§ç±»å‹çš„å¼‚å¸¸ï¼Œå«ä½œ TypeErrorã€‚</p><p>ReferenceError åŒä½œç”¨åŸŸåˆ¤åˆ«å¤±è´¥ç›¸å…³ï¼Œè€Œ TypeError åˆ™ä»£è¡¨ä½œç”¨åŸŸåˆ¤åˆ«æˆåŠŸäº†ï¼Œä½†æ˜¯å¯¹ç»“æœçš„æ“ä½œæ˜¯éæ³•æˆ–ä¸åˆç†çš„ã€‚</p><h3 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> b = a;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c = foo( <span class="number">2</span> );</span><br></pre></td></tr></table></figure><ol><li><p>æ‰¾å‡ºæ‰€æœ‰çš„LHSæŸ¥è¯¢(è¿™é‡Œæœ‰3å¤„!)</p><p> c = ..;ã€a = 2(éšå¼å˜é‡åˆ†é…)ã€b = ..</p></li><li><p>æ‰¾å‡ºæ‰€æœ‰çš„RHSæŸ¥è¯¢(è¿™é‡Œæœ‰4å¤„!)</p><p> foo(2..ã€= a;ã€a ..ã€.. b</p></li></ol><h2 id="I-ç¬¬2ç« -è¯æ³•ä½œç”¨åŸŸ"><a href="#I-ç¬¬2ç« -è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="I-ç¬¬2ç«  è¯æ³•ä½œç”¨åŸŸ"></a>I-ç¬¬2ç«  è¯æ³•ä½œç”¨åŸŸ</h2><p>è¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µçš„ä½œç”¨åŸŸã€‚</p><p>è¯æ³•ä½œç”¨åŸŸæ„å‘³ç€ä½œç”¨åŸŸæ˜¯ç”±ä¹¦å†™ä»£ç æ—¶å‡½æ•°å£°æ˜çš„ä½ç½®æ¥å†³å®šçš„ã€‚ç¼–è¯‘çš„è¯æ³•åˆ†æé˜¶æ®µåŸºæœ¬èƒ½å¤ŸçŸ¥é“å…¨éƒ¨æ ‡è¯†ç¬¦åœ¨å“ªé‡Œä»¥åŠæ˜¯å¦‚ä½•å£°æ˜çš„ï¼Œä»è€Œèƒ½å¤Ÿé¢„æµ‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚ä½•å¯¹å®ƒä»¬è¿›è¡ŒæŸ¥æ‰¾ã€‚</p><p>æ— è®ºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼Œä¹Ÿæ— è®ºå®ƒå¦‚ä½•è¢«è°ƒç”¨ï¼Œå®ƒçš„è¯æ³•ä½œç”¨åŸŸéƒ½åªç”±å‡½æ•°è¢«å£°æ˜æ—¶æ‰€å¤„çš„ä½ç½®å†³å®šã€‚</p><hr><p>åœ¨å¤šå±‚çš„åµŒå¥—ä½œç”¨åŸŸä¸­å¯ä»¥å®šä¹‰åŒåçš„æ ‡è¯†ç¬¦ï¼Œè¿™å«ä½œâ€œé®è”½æ•ˆåº”â€(å†…éƒ¨çš„æ ‡è¯†ç¬¦â€œé®è”½â€äº†å¤–éƒ¨çš„æ ‡è¯†ç¬¦)ã€‚</p><p>å…¨å±€å˜é‡ä¼šè‡ªåŠ¨æˆä¸ºå…¨å±€å¯¹è±¡(æ¯”å¦‚æµè§ˆå™¨ä¸­çš„ window å¯¹è±¡)çš„å±æ€§ï¼Œå› æ­¤å¯ä»¥ä¸ç›´æ¥é€šè¿‡å…¨å±€å¯¹è±¡çš„è¯æ³•åç§°ï¼Œè€Œæ˜¯é—´æ¥åœ°é€šè¿‡å¯¹å…¨å±€å¯¹è±¡å±æ€§çš„å¼•ç”¨æ¥å¯¹å…¶è¿›è¡Œè®¿é—®<code>window.a</code>ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥è®¿é—®é‚£äº›è¢«åŒåå˜é‡æ‰€é®è”½çš„å…¨å±€å˜é‡ã€‚</p><p>ä½†éå…¨å±€çš„å˜é‡å¦‚æœè¢«é®è”½äº†ï¼Œæ— è®ºå¦‚ä½•éƒ½æ— æ³•è¢«è®¿é—®åˆ°ã€‚</p><hr><h3 id="æ¬ºéª—è¯­æ³•"><a href="#æ¬ºéª—è¯­æ³•" class="headerlink" title="æ¬ºéª—è¯­æ³•"></a>æ¬ºéª—è¯­æ³•</h3><p>JavaScript ä¸­æœ‰ä¸¤ä¸ªæœºåˆ¶å¯ä»¥â€œæ¬ºéª—â€è¯æ³•ä½œç”¨åŸŸ:eval(..) å’Œ withã€‚</p><p>å‰è€…å¯ä»¥å¯¹ä¸€æ®µåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå£°æ˜çš„â€œä»£ç â€å­—ç¬¦ä¸²è¿›è¡Œæ¼”ç®—ï¼Œå¹¶å€Ÿæ­¤æ¥ä¿®æ”¹å·²ç»å­˜åœ¨çš„è¯æ³•ä½œç”¨åŸŸ(åœ¨è¿è¡Œæ—¶)ã€‚</p><p>åè€…æœ¬è´¨ä¸Šæ˜¯é€šè¿‡å°†ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨å½“ä½œä½œç”¨åŸŸæ¥å¤„ç†ï¼Œå°†å¯¹è±¡çš„å±æ€§å½“ä½œä½œç”¨åŸŸä¸­çš„æ ‡è¯†ç¬¦æ¥å¤„ç†ï¼Œä»è€Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„è¯æ³•ä½œç”¨åŸŸ(åŒæ ·æ˜¯åœ¨è¿è¡Œæ—¶)ã€‚</p><p>è¿™ä¸¤ä¸ªæœºåˆ¶çš„å‰¯ä½œç”¨æ˜¯å¼•æ“æ— æ³•åœ¨ç¼–è¯‘æ—¶å¯¹ä½œç”¨åŸŸæŸ¥æ‰¾è¿›è¡Œä¼˜åŒ–ï¼Œå› ä¸ºå¼•æ“åªèƒ½è°¨æ…åœ°è®¤ä¸ºè¿™æ ·çš„ä¼˜åŒ–æ˜¯æ— æ•ˆçš„ã€‚ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚<strong>ä¸è¦ä½¿ç”¨å®ƒä»¬ã€‚</strong></p><h2 id="I-ç¬¬3ç« -å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸ"><a href="#I-ç¬¬3ç« -å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸ" class="headerlink" title="I-ç¬¬3ç«  å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸ"></a>I-ç¬¬3ç«  å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸ</h2><blockquote><p>å¼€å‘ä¸­ï¼Œå‡½æ•°å†™çš„å¤ªå¤šäº†ã€‚æ€æ ·æ‰æ˜¯ä¸ªå¥½çš„å‡½æ•°ï¼Ÿæˆ‘ä»¬å¸¸è®²å°è£…ã€‚å°è£…å‡½æ•°ï¼Œå°è£…å¸¸ç”¨çš„æ–¹æ³•ï¼Œé€šè¿‡è¿™ç« å†…å®¹å¯ä»¥å­¦ä¹ åˆ°ä¸ºä»€ä¹ˆè¦å°è£…ï¼Œå°è£…çš„å¥½å¤„å’Œä¸€äº›å°è£…çš„æ–¹æ³•ã€‚</p></blockquote><p>å‡½æ•°ä½œç”¨åŸŸæ˜¯æŒ‡ï¼Œå±äºè¿™ä¸ªå‡½æ•°çš„å…¨éƒ¨å˜é‡éƒ½å¯ä»¥åœ¨æ•´ä¸ªå‡½æ•°çš„èŒƒå›´å†…ä½¿ç”¨åŠå¤ç”¨(åœ¨åµŒå¥—çš„ä½œç”¨åŸŸä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨)ã€‚<br>è¿™ç§è®¾è®¡æ–¹æ¡ˆèƒ½å……åˆ†åˆ©ç”¨ JavaScript å˜é‡å¯ä»¥æ ¹æ®éœ€è¦æ”¹å˜å€¼ç±»å‹çš„â€œåŠ¨æ€â€ç‰¹æ€§ã€‚</p><h3 id="åˆ©ç”¨å‡½æ•°ä½œç”¨åŸŸéšè—å†…éƒ¨å®ç°"><a href="#åˆ©ç”¨å‡½æ•°ä½œç”¨åŸŸéšè—å†…éƒ¨å®ç°" class="headerlink" title="åˆ©ç”¨å‡½æ•°ä½œç”¨åŸŸéšè—å†…éƒ¨å®ç°"></a>åˆ©ç”¨å‡½æ•°ä½œç”¨åŸŸéšè—å†…éƒ¨å®ç°</h3><p>æ­£ç¡®çš„ä»£ç åº”è¯¥è€ƒè™‘åˆ°å¦‚ä½•é€‰æ‹©ä½œç”¨åŸŸæ¥åŒ…å«å˜é‡å’Œå‡½æ•°ã€‚éµå¾ªæœ€å°æˆæƒåŸåˆ™ã€‚</p><hr><p>æœ€å°æˆæƒæˆ–æœ€å°æš´éœ²åŸåˆ™ï¼šåœ¨è½¯ä»¶è®¾è®¡ä¸­ï¼Œåº”è¯¥æœ€å°é™åº¦åœ°æš´éœ²å¿…è¦å†…å®¹ï¼Œè€Œå°†å…¶ä»–å†…å®¹éƒ½â€œéšè—â€èµ·æ¥ï¼Œæ¯”å¦‚æŸä¸ªæ¨¡å—æˆ–å¯¹è±¡çš„ API è®¾è®¡ã€‚</p><hr><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    b = a + doSomethingElse( a * <span class="number">2</span> );</span><br><span class="line">    <span class="built_in">console</span>.log( b * <span class="number">3</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomethingElse</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> b;</span><br><span class="line">doSomething( <span class="number">2</span> ); <span class="comment">// 15</span></span><br></pre></td></tr></table></figure><p>å˜é‡ <code>b</code> å’Œå‡½æ•° <code>doSomethingElse(..)</code> æ˜¯ <code>doSomething(..)</code> å†…éƒ¨å…·ä½“å®ç°çš„â€œç§æœ‰â€å†…å®¹ã€‚<br>ç»™äºˆå¤–éƒ¨ä½œç”¨åŸŸå¯¹ <code>b</code> å’Œ <code>doSomethingElse(..)</code> çš„â€œè®¿é—®æƒé™â€ä¸ä»…æ²¡æœ‰å¿…è¦ï¼Œè€Œä¸”å¯èƒ½æ˜¯â€œå±é™©â€çš„ï¼Œ<br>å› ä¸ºå®ƒä»¬å¯èƒ½è¢«æœ‰æ„æˆ–æ— æ„åœ°ä»¥éé¢„æœŸçš„æ–¹å¼ä½¿ç”¨ï¼Œä»è€Œå¯¼è‡´è¶…å‡ºäº†doSomething(..) çš„é€‚ç”¨æ¡ä»¶ã€‚<br>æ›´â€œåˆç†â€çš„è®¾è®¡ä¼šå°†è¿™äº›ç§æœ‰çš„å…·ä½“å†…å®¹éšè—åœ¨ <code>doSomething(..)</code> å†…éƒ¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doSomethingElse</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> b;</span><br><span class="line">    b = a + doSomethingElse( a * <span class="number">2</span> );</span><br><span class="line">    <span class="built_in">console</span>.log( b * <span class="number">3</span> );</span><br><span class="line">&#125;</span><br><span class="line">doSomething( <span class="number">2</span> ); <span class="comment">// 15</span></span><br></pre></td></tr></table></figure><p><strong>åŠŸèƒ½å’Œæ•ˆæœéƒ½æ²¡å—å½±å“ï¼Œè®¾è®¡ä¸Šå°†å…·ä½“å†…å®¹ç§æœ‰åŒ–ï¼Œè®¾è®¡è‰¯å¥½çš„è½¯ä»¶éƒ½ä¼šä¾æ­¤è¿›è¡Œå®ç°ã€‚</strong></p><h4 id="è§„é¿å†²çª"><a href="#è§„é¿å†²çª" class="headerlink" title="è§„é¿å†²çª"></a>è§„é¿å†²çª</h4><p>éšè—ä½œç”¨åŸŸä¸­çš„å˜é‡å’Œå‡½æ•°æ‰€å¸¦æ¥çš„å¦ä¸€ä¸ªå¥½å¤„ï¼Œæ˜¯å¯ä»¥é¿å…åŒåæ ‡è¯†ç¬¦ä¹‹é—´çš„å†²çªï¼Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">        i = <span class="number">3</span>; <span class="comment">// ä¿®æ”¹forå¾ªç¯æ‰€å±ä½œç”¨åŸŸä¸­çš„i</span></span><br><span class="line">        <span class="built_in">console</span>.log( a + i );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">        bar( i * <span class="number">2</span> ); <span class="comment">// ç³Ÿç³•ï¼Œæ— é™å¾ªç¯äº†!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨<code>var i = 3;</code>å’Œ <code>j = 3;</code>éƒ½å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†ä½¿ç”¨ä½œç”¨åŸŸæ¥â€œéšè—â€å†…éƒ¨å£°æ˜æ˜¯å”¯ä¸€çš„æœ€ä½³é€‰æ‹©ã€‚</p><h5 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h5><ol><li><p>å…¨å±€å‘½åç©ºé—´</p><p> åœ¨jQueryæ—¶ä»£ï¼Œå¼•ç”¨å„ç§ç¬¬ä¸‰æ–¹åº“å°¤ä¸ºæ˜æ˜¾ã€‚å¦‚æœç»„ä»¶æ²¡æœ‰å¾ˆå¥½çš„å°†å†…éƒ¨ç§æœ‰å‡½æ•°å’Œå˜é‡éšè—èµ·æ¥ä¼šå¼•èµ·å¾ˆå¤šé—®é¢˜ã€‚</p><p> æœ€ä½³å®è·µï¼šå£°æ˜ä¸€ä¸ªåå­—è¶³å¤Ÿç‹¬ç‰¹çš„å˜é‡ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚æ‰€æœ‰éœ€è¦æš´éœ²ç»™å¤–ç•Œçš„åŠŸèƒ½éƒ½ä¼šæˆä¸ºè¿™ä¸ªå¯¹è±¡(å‘½åç©ºé—´)çš„å±æ€§ï¼Œè€Œä¸æ˜¯å°†è‡ªå·±çš„æ ‡è¯†ç¬¦æš´æ¼åœ¨é¡¶çº§çš„è¯æ³•ä½œç”¨åŸŸä¸­ã€‚</p><p> ç¤ºä¾‹</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> MyReallyCoolLibrary = &#123;</span><br><span class="line">    awesome: <span class="string">&quot;stuff&quot;</span>,</span><br><span class="line">    doSomething: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">    doAnotherThing: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>æ¨¡å—ç®¡ç†</p><p> ä»ä¼—å¤šæ¨¡å—ç®¡ç†å™¨ä¸­æŒ‘é€‰ä¸€ä¸ªæ¥ä½¿ç”¨ã€‚ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œä»»ä½•åº“éƒ½æ— éœ€å°†æ ‡è¯†ç¬¦åŠ å…¥åˆ°å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œè€Œæ˜¯é€šè¿‡ä¾èµ–ç®¡ç†å™¨çš„æœºåˆ¶å°†åº“çš„æ ‡è¯†ç¬¦æ˜¾å¼åœ°å¯¼å…¥åˆ°å¦å¤–ä¸€ä¸ªç‰¹å®šçš„ä½œç”¨åŸŸä¸­ã€‚</p></li></ol><h3 id="å‡½æ•°ä½œç”¨åŸŸä¼˜åŒ–"><a href="#å‡½æ•°ä½œç”¨åŸŸä¼˜åŒ–" class="headerlink" title="å‡½æ•°ä½œç”¨åŸŸä¼˜åŒ–"></a>å‡½æ•°ä½œç”¨åŸŸä¼˜åŒ–</h3><p>å‡½æ•°ä½œç”¨åŸŸéœ€è¦æ˜¾ç¤ºå£°æ˜å‡½æ•°åå’Œè°ƒç”¨è¯¥å‡½æ•°</p><p>é‡‡ç”¨åŒ…è£…å‡½æ•°æ¥è§£å†³ï¼Œå°†å‡½æ•°å£°æ˜è½¬æˆè¡¨è¾¾å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123; <span class="comment">// &lt;-- æ·»åŠ è¿™ä¸€è¡Œ</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log( a ); <span class="comment">// 3</span></span><br><span class="line">    &#125;)(); <span class="comment">// &lt;-- ä»¥åŠè¿™ä¸€è¡Œ</span></span><br><span class="line"><span class="built_in">console</span>.log( a ); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœ function æ˜¯å£°æ˜ä¸­çš„ç¬¬ä¸€ä¸ªè¯ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜ï¼Œå¦åˆ™å°±æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ã€‚</span><br></pre></td></tr></table></figure><h4 id="åŒ¿åå’Œå…·åå‡½æ•°"><a href="#åŒ¿åå’Œå…·åå‡½æ•°" class="headerlink" title="åŒ¿åå’Œå…·åå‡½æ•°"></a>åŒ¿åå’Œå…·åå‡½æ•°</h4><h5 id="åŒ¿åå‡½æ•°è¡¨è¾¾å¼"><a href="#åŒ¿åå‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="åŒ¿åå‡½æ•°è¡¨è¾¾å¼"></a>åŒ¿åå‡½æ•°è¡¨è¾¾å¼</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>( <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;I waited 1 second!&quot;</span>);</span><br><span class="line">&#125;, <span class="number">1000</span> );</span><br></pre></td></tr></table></figure><p>è¿™å«ä½œåŒ¿åå‡½æ•°è¡¨è¾¾å¼ï¼Œå› ä¸º <code>function()..</code> æ²¡æœ‰åç§°æ ‡è¯†ç¬¦ã€‚å‡½æ•°è¡¨è¾¾å¼å¯ä»¥æ˜¯åŒ¿åçš„ï¼Œ<br>è€Œå‡½æ•°å£°æ˜åˆ™ä¸å¯ä»¥çœç•¥å‡½æ•°åâ€”â€”åœ¨ JavaScript çš„è¯­æ³•ä¸­è¿™æ˜¯éæ³•çš„ã€‚</p><p>åŒ¿åå‡½æ•°ç¼ºç‚¹ï¼š</p><ol><li>åŒ¿åå‡½æ•°åœ¨æ ˆè¿½è¸ªä¸­ä¸ä¼šæ˜¾ç¤ºå‡½æ•°åï¼Œè°ƒè¯•å¾ˆå›°éš¾ã€‚</li><li>å¦‚æœæ²¡æœ‰å‡½æ•°åï¼Œå½“å‡½æ•°éœ€è¦å¼•ç”¨è‡ªèº«æ—¶åªèƒ½ä½¿ç”¨å·²ç»è¿‡æœŸçš„arguments.calleeå¼•ç”¨ï¼Œæ¯”å¦‚åœ¨é€’å½’ä¸­ã€‚<br>å¦ä¸€ä¸ªå‡½æ•°éœ€è¦å¼•ç”¨è‡ªèº«çš„ä¾‹å­ï¼Œæ˜¯åœ¨äº‹ä»¶è§¦å‘åäº‹ä»¶ç›‘å¬å™¨éœ€è¦è§£ç»‘è‡ªèº«ã€‚</li><li>åŒ¿åå‡½æ•°çœç•¥äº†å¯¹äºä»£ç å¯è¯»æ€§/å¯ç†è§£æ€§å¾ˆé‡è¦çš„å‡½æ•°åã€‚ä¸€ä¸ªæè¿°æ€§çš„åç§°å¯ä»¥è®©ä»£ç ä¸è¨€è‡ªæ˜ã€‚</li></ol><p>è¡Œå†…å‡½æ•°è¡¨è¾¾å¼éå¸¸å¼ºå¤§ä¸”æœ‰ç”¨â€”â€”åŒ¿åå’Œå…·åä¹‹é—´çš„åŒºåˆ«å¹¶ä¸ä¼šå¯¹è¿™ç‚¹æœ‰ä»»ä½•å½±å“ã€‚<br>ç»™å‡½æ•°è¡¨è¾¾å¼æŒ‡å®šä¸€ä¸ªå‡½æ•°åå¯ä»¥æœ‰æ•ˆè§£å†³ä»¥ä¸Šé—®é¢˜ã€‚<br><strong>å§‹ç»ˆç»™å‡½æ•°è¡¨è¾¾å¼å‘½åæ˜¯ä¸€ä¸ªæœ€ä½³å®è·µ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>( <span class="function"><span class="keyword">function</span> <span class="title">timeoutHandler</span>(<span class="params"></span>) </span>&#123; <span class="comment">// &lt;-- å¿«çœ‹ï¼Œæˆ‘æœ‰åå­—äº†!</span></span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">&quot;I waited 1 second!&quot;</span> );</span><br><span class="line">&#125;, <span class="number">1000</span> );</span><br></pre></td></tr></table></figure><h5 id="ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼-IIFE-Immediately-Invoked-Function-Expression"><a href="#ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼-IIFE-Immediately-Invoked-Function-Expression" class="headerlink" title="ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼(IIFE Immediately Invoked Function Expression)"></a>ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼(IIFE Immediately Invoked Function Expression)</h5><p>å°†å‡½æ•°åŒ…å«åœ¨ä¸€å¯¹ ( ) æ‹¬å·å†…éƒ¨ï¼Œå› æ­¤æˆä¸ºäº†ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé€šè¿‡åœ¨æœ«å°¾åŠ ä¸Šå¦å¤–ä¸€ä¸ª ( ) å¯ä»¥ç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚<br>æ¯”å¦‚ <code>(function foo()&#123; .. &#125;)()</code>, å¦ä¸€ç§å½¢å¼<code>(function()&#123; .. &#125;())</code>ã€‚ä¸¤ç§å½¢å¼åœ¨åŠŸèƒ½ä¸Šæ˜¯ä¸€è‡´çš„ã€‚</p><p>IIFEè¿›é˜¶ç”¨æ³•ï¼ŒæŠŠå®ƒä»¬å½“ä½œå‡½æ•°è°ƒç”¨å¹¶ä¼ é€’å‚æ•°è¿›å»ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">IIFE</span>(<span class="params"> <span class="built_in">global</span> </span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log( a ); <span class="comment">// 3</span></span><br><span class="line">    <span class="built_in">console</span>.log( <span class="built_in">global</span>.a ); <span class="comment">// 2</span></span><br><span class="line">&#125;)( <span class="built_in">window</span> );</span><br><span class="line"><span class="built_in">console</span>.log( a ); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p>å°† window å¯¹è±¡çš„å¼•ç”¨ä¼ é€’è¿›å»ï¼Œä½†å°†å‚æ•°å‘½åä¸º globalï¼Œå› æ­¤åœ¨ä»£ç é£æ ¼ä¸Šå¯¹å…¨å±€å¯¹è±¡çš„å¼•ç”¨å˜å¾—æ¯”å¼•ç”¨ä¸€ä¸ªæ²¡æœ‰â€œå…¨å±€â€å­—æ ·çš„å˜é‡æ›´åŠ æ¸…æ™°ã€‚<br>è¿™å¯¹äºæ”¹è¿›ä»£ç é£æ ¼æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚</p><p>IIFE è¿˜æœ‰ä¸€ç§å˜åŒ–çš„ç”¨é€”æ˜¯å€’ç½®ä»£ç çš„è¿è¡Œé¡ºåºï¼Œå°†éœ€è¦è¿è¡Œçš„å‡½æ•°æ”¾åœ¨ç¬¬äºŒä½ï¼Œåœ¨ IIFE æ‰§è¡Œä¹‹åå½“ä½œå‚æ•°ä¼ é€’è¿›å»ã€‚<br>è¿™ç§æ¨¡å¼åœ¨ UMD(Universal Module Definition)é¡¹ç›®ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">IIFE</span>(<span class="params"> def </span>) </span>&#123;</span><br><span class="line">    def( <span class="built_in">window</span> );</span><br><span class="line">&#125;)(<span class="function"><span class="keyword">function</span> <span class="title">def</span>(<span class="params"> <span class="built_in">global</span> </span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log( a ); <span class="comment">// 3</span></span><br><span class="line">    <span class="built_in">console</span>.log( <span class="built_in">global</span>.a ); <span class="comment">// 2</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="å—ä½œç”¨åŸŸ"><a href="#å—ä½œç”¨åŸŸ" class="headerlink" title="å—ä½œç”¨åŸŸ"></a>å—ä½œç”¨åŸŸ</h3><p><code>&#123;&#125;</code>, <code>for</code>, <code>if</code>, <code>with</code>, <code>try/catch</code>, <code>let</code>, <code>const</code>éƒ½æ˜¯å£°æ˜å—çº§ä½œç”¨åŸŸã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">    &#123; <span class="comment">// &lt;-- æ˜¾å¼çš„å—</span></span><br><span class="line">        <span class="keyword">let</span> bar = foo * <span class="number">2</span>;</span><br><span class="line">        bar = something( bar ); <span class="built_in">console</span>.log( bar );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log( bar ); <span class="comment">// ReferenceError</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æœ¬è´¨ä¸Šï¼Œå£°æ˜åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å˜é‡æˆ–å‡½æ•°ä¼šåœ¨æ‰€å¤„çš„ä½œç”¨åŸŸä¸­â€œéšè—â€èµ·æ¥ï¼Œè¿™æ˜¯æœ‰æ„ä¸ºä¹‹çš„è‰¯å¥½è½¯ä»¶çš„è®¾è®¡åŸåˆ™ã€‚</strong></p><h2 id="I-ç¬¬4ç« -æå‡"><a href="#I-ç¬¬4ç« -æå‡" class="headerlink" title="I-ç¬¬4ç«  æå‡"></a>I-ç¬¬4ç«  æå‡</h2><blockquote><p>ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ä»£ç æ—¶æ˜¯ä»ä¸Šåˆ°ä¸‹ä¸€è¡Œè¡Œç¼–è¯‘çš„å—ï¼Ÿ</p></blockquote><p>å¼•æ“ä¼šåœ¨æ‰§è¡Œ JavaScript ä»£ç ä¹‹å‰å…ˆå¯¹å…¶è¿›è¡Œç¼–è¯‘ã€‚ç¼–è¯‘é˜¶æ®µä¸­çš„ä¸€éƒ¨åˆ†å·¥ä½œå°±æ˜¯æ‰¾åˆ°æ‰€æœ‰çš„å£°æ˜ï¼Œå¹¶ç”¨åˆé€‚çš„ä½œç”¨åŸŸå°†å®ƒä»¬å…³è”èµ·æ¥ã€‚</p><p>å˜é‡å’Œå‡½æ•°å£°æ˜ä»å®ƒä»¬åœ¨ä»£ç ä¸­å‡ºç°çš„ä½ç½®è¢«â€œç§»åŠ¨â€åˆ°äº†æœ€ä¸Šé¢ã€‚è¿™ä¸ªè¿‡ç¨‹å°±å«ä½œæå‡ã€‚</p><p>æ³¨æ„ï¼šå‡½æ•°å£°æ˜ä¼šè¢«æå‡ï¼Œ<strong>åŒ…æ‹¬å‡½æ•°è¡¨è¾¾å¼çš„èµ‹å€¼åœ¨å†…çš„èµ‹å€¼æ“ä½œ</strong>å¹¶ä¸ä¼šæå‡ã€‚</p><p><strong>å‡½æ•°ä¼šé¦–å…ˆè¢«æå‡ï¼Œç„¶åæ‰æ˜¯å˜é‡ã€‚</strong></p><p>åé¢çš„å‡½æ•°å£°æ˜å¯ä»¥è¦†ç›–å‰é¢çš„ï¼Œå¦‚ä¸‹è¾“å‡º3</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">foo(); <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">var</span> foo;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="number">1</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å‡½æ•°è¡¨è¾¾å¼ä¸ä¼šæå‡</span></span><br><span class="line">foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="number">2</span> );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="number">3</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä»£ç è¢«å¼•æ“è§£æå¦‚ä¸‹:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="number">1</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="number">3</span> );</span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">// 3</span></span><br><span class="line">foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="number">2</span> );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¦æ³¨æ„é¿å…é‡å¤å£°æ˜ï¼Œç‰¹åˆ«æ˜¯å½“æ™®é€šçš„ var å£°æ˜å’Œå‡½æ•°å£°æ˜æ··åˆåœ¨ä¸€èµ·çš„æ—¶å€™ï¼Œå¦åˆ™ä¼šå¼•èµ·å¾ˆå¤šå±é™©çš„é—®é¢˜!</p><p>ç”¨<code>let</code>å’Œ<code>const</code>å¯ä»¥è§£å†³é‡å¤å£°æ˜çš„é—®é¢˜ã€‚</p><h2 id="I-ç¬¬5ç« -ä½œç”¨åŸŸé—­åŒ…"><a href="#I-ç¬¬5ç« -ä½œç”¨åŸŸé—­åŒ…" class="headerlink" title="I-ç¬¬5ç«  ä½œç”¨åŸŸé—­åŒ…"></a>I-ç¬¬5ç«  ä½œç”¨åŸŸé—­åŒ…</h2><h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚</p><p>ç»å…¸ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( a );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz = foo();</span><br><span class="line">baz(); <span class="comment">// 2 â€”â€” è¿™å°±æ˜¯é—­åŒ…çš„æ•ˆæœã€‚</span></span><br></pre></td></tr></table></figure><p>bar() åœ¨è‡ªå·±å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹æ‰§è¡Œã€‚</p><p>åœ¨ foo() æ‰§è¡Œåï¼Œé€šå¸¸ä¼šæœŸå¾… foo() çš„æ•´ä¸ªå†…éƒ¨ä½œç”¨åŸŸéƒ½è¢«é”€æ¯ï¼Œå› ä¸ºå¼•æ“æœ‰åƒåœ¾å›æ”¶å™¨ç”¨æ¥é‡Šæ”¾ä¸å†ä½¿ç”¨çš„å†…å­˜ç©ºé—´ã€‚<br>ç”±äºçœ‹ä¸Šå» foo() çš„å†…å®¹ä¸ä¼šå†è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶åœ°ä¼šè€ƒè™‘å¯¹å…¶è¿›è¡Œå›æ”¶ã€‚</p><p>è€Œé—­åŒ…çš„â€œç¥å¥‡â€ä¹‹å¤„æ­£æ˜¯å¯ä»¥é˜»æ­¢è¿™ä»¶äº‹æƒ…çš„å‘ç”Ÿã€‚<br>ç”±äº bar() æ‰€å£°æ˜çš„ä½ç½®åœ¨fooå†…éƒ¨ï¼Œå®ƒæ‹¥æœ‰æ¶µç›– foo() å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œä½¿å¾—è¯¥ä½œç”¨åŸŸèƒ½å¤Ÿä¸€ç›´å­˜æ´»ï¼Œä»¥ä¾› bar() åœ¨ä¹‹åä»»ä½•æ—¶é—´è¿›è¡Œå¼•ç”¨ã€‚</p><p>bar() ä¾ç„¶æŒæœ‰å¯¹è¯¥ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè€Œè¿™ä¸ªå¼•ç”¨å°±å«ä½œé—­åŒ…ã€‚</p><p>å¾ªç¯ç»å…¸æ¡ˆä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i&lt;=<span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>( <span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( i ); <span class="comment">// ä»¥æ¯ç§’ä¸€æ¬¡çš„é¢‘ç‡è¾“å‡ºäº”æ¬¡ 6</span></span><br><span class="line">    &#125;, i*<span class="number">1000</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ ¹æ®ä½œç”¨åŸŸçš„å·¥ä½œåŸç†ï¼Œå®é™…æƒ…å†µæ˜¯å°½ç®¡å¾ªç¯ä¸­çš„äº”ä¸ªå‡½æ•°æ˜¯åœ¨å„ä¸ªè¿­ä»£ä¸­åˆ†åˆ«å®šä¹‰çš„ï¼Œä½†æ˜¯å®ƒä»¬éƒ½è¢«å°é—­åœ¨ä¸€ä¸ªå…±äº«çš„å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œå› æ­¤å®é™…ä¸Šåªæœ‰ä¸€ä¸ª iã€‚</p><p>æ”¹è¿›ï¼Œä¸ºæ¯æ¬¡è¿­ä»£ç”Ÿæˆæ–°çš„ä½œç”¨åŸŸ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i&lt;=<span class="number">5</span>; i++) &#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params">j</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>( <span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log( j );</span><br><span class="line">        &#125;, j*<span class="number">1000</span> );</span><br><span class="line">    &#125;)( i );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”¨<code>let</code>è§£å†³ã€‚letå˜é‡åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¸æ­¢è¢«å£°æ˜ä¸€æ¬¡ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šå£°æ˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">1</span>; i&lt;=<span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>( <span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( i );</span><br><span class="line">    &#125;, i*<span class="number">1000</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h3><p>æ¨¡å—æ¨¡å¼éœ€è¦å…·å¤‡ä¸¤ä¸ªå¿…è¦æ¡ä»¶ã€‚</p><ol><li>å¿…é¡»æœ‰å¤–éƒ¨çš„å°é—­å‡½æ•°ï¼Œè¯¥å‡½æ•°å¿…é¡»è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡(æ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—å®ä¾‹)ã€‚</li><li>å°é—­å‡½æ•°å¿…é¡»è¿”å›è‡³å°‘ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œè¿™æ ·å†…éƒ¨å‡½æ•°æ‰èƒ½åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­å½¢æˆé—­åŒ…ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®æˆ–è€…ä¿®æ”¹ç§æœ‰çš„çŠ¶æ€ã€‚</li></ol><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = (<span class="function"><span class="keyword">function</span> <span class="title">CoolModule</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> something = <span class="string">&quot;cool&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> another = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( something );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doAnother</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( another.join( <span class="string">&quot; ! &quot;</span> ) );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        doSomething: doSomething,</span><br><span class="line">        doAnother: doAnother</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">foo.doSomething(); <span class="comment">// cool</span></span><br><span class="line">foo.doAnother(); <span class="comment">// 1 ! 2 ! 3</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = (<span class="function"><span class="keyword">function</span> <span class="title">CoolModule</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// modifying the public API</span></span><br><span class="line">        publicAPI.identify = identify2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">identify1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( id );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">identify2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( id.toUpperCase() );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> publicAPI = &#123;</span><br><span class="line">        change: change,</span><br><span class="line">        identify: identify1</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> publicAPI;</span><br><span class="line">&#125;)( <span class="string">&quot;foo module&quot;</span> );</span><br><span class="line"></span><br><span class="line">foo.identify(); <span class="comment">// foo module</span></span><br><span class="line">foo.change();</span><br><span class="line">foo.identify(); <span class="comment">// FOO MODULE</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡åœ¨æ¨¡å—å®ä¾‹çš„å†…éƒ¨ä¿ç•™å¯¹å…¬å…± API å¯¹è±¡çš„å†…éƒ¨å¼•ç”¨ï¼Œå¯ä»¥ä»å†…éƒ¨å¯¹æ¨¡å—å®ä¾‹è¿›è¡Œä¿®æ”¹ï¼ŒåŒ…æ‹¬æ·»åŠ æˆ–åˆ é™¤æ–¹æ³•å’Œå±æ€§ï¼Œä»¥åŠä¿®æ”¹å®ƒä»¬çš„å€¼ã€‚</p><h4 id="ç°ä»£çš„æ¨¡å—æœºåˆ¶"><a href="#ç°ä»£çš„æ¨¡å—æœºåˆ¶" class="headerlink" title="ç°ä»£çš„æ¨¡å—æœºåˆ¶"></a>ç°ä»£çš„æ¨¡å—æœºåˆ¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> MyModules = (<span class="function"><span class="keyword">function</span> <span class="title">Manager</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> modules = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">define</span>(<span class="params">name, deps, impl</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;deps.length; i++) &#123;</span><br><span class="line">            deps[i] = modules[deps[i]];</span><br><span class="line">        &#125;</span><br><span class="line">        modules[name] = impl.apply( impl, deps );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> modules[name];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        define: define,</span><br><span class="line">        get: get</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p><strong>æ ¸å¿ƒä»£ç æ˜¯è¿™è¡Œ<code>modules[name] = impl.apply( impl, deps );</code></strong><br>ä¸ºäº†æ¨¡å—çš„å®šä¹‰å¼•å…¥äº†åŒ…è£…å‡½æ•°(å¯ä»¥ä¼ å…¥ä»»ä½•ä¾èµ–)ï¼Œå¹¶ä¸”å°†è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯æ¨¡å—çš„ APIï¼Œå‚¨å­˜åœ¨ä¸€ä¸ªæ ¹æ®åå­—æ¥ç®¡ç†çš„æ¨¡å—åˆ—è¡¨ä¸­ã€‚</p><p>çœ‹çœ‹æ€ä¹ˆä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">MyModules.define( <span class="string">&quot;bar&quot;</span>, [], <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">who</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Let me introduce: &quot;</span> + who;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        hello: hello</span><br><span class="line">    &#125;;</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line">MyModules.define( <span class="string">&quot;foo&quot;</span>, [<span class="string">&quot;bar&quot;</span>], <span class="function"><span class="keyword">function</span>(<span class="params">bar</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hungry = <span class="string">&quot;hippo&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">awesome</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( bar.hello( hungry ).toUpperCase() );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        awesome: awesome</span><br><span class="line">    &#125;;</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = MyModules.get( <span class="string">&quot;bar&quot;</span> );</span><br><span class="line"><span class="keyword">var</span> foo = MyModules.get( <span class="string">&quot;foo&quot;</span> );</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">    bar.hello( <span class="string">&quot;hippo&quot;</span> )</span><br><span class="line">); <span class="comment">// Let me introduce: hippo</span></span><br><span class="line"></span><br><span class="line">foo.awesome(); <span class="comment">// LET ME INTRODUCE: HIPPO</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¤šèŠ±ä¸€ç‚¹æ—¶é—´æ¥ç ”ç©¶è¿™äº›ç¤ºä¾‹ä»£ç å¹¶å®Œå…¨ç†è§£é—­åŒ…çš„ä½œç”¨å§ã€‚æœ€é‡è¦çš„æ˜¯è¦ç†è§£æ¨¡å—ç®¡ç†å™¨æ²¡æœ‰ä»»ä½•ç‰¹æ®Šçš„â€œé­”åŠ›â€ã€‚<br>å®ƒä»¬ç¬¦åˆå‰é¢åˆ—å‡ºçš„æ¨¡å—æ¨¡å¼çš„ä¸¤ä¸ªç‰¹ç‚¹:ä¸ºå‡½æ•°å®šä¹‰å¼•å…¥åŒ…è£…å‡½æ•°ï¼Œå¹¶ä¿è¯å®ƒçš„è¿”å›å€¼å’Œæ¨¡å—çš„ API ä¿æŒä¸€è‡´ã€‚<br>æ¢å¥è¯è¯´ï¼Œæ¨¡å—å°±æ˜¯æ¨¡å—ï¼Œå³ä½¿åœ¨å®ƒä»¬å¤–å±‚åŠ ä¸Šä¸€ä¸ªå‹å¥½çš„åŒ…è£…å·¥å…·ä¹Ÿä¸ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚</p><h4 id="æœªæ¥çš„æ¨¡å—æœºåˆ¶"><a href="#æœªæ¥çš„æ¨¡å—æœºåˆ¶" class="headerlink" title="æœªæ¥çš„æ¨¡å—æœºåˆ¶"></a>æœªæ¥çš„æ¨¡å—æœºåˆ¶</h4><p>ES6 ä¸­ä¸ºæ¨¡å—å¢åŠ äº†ä¸€çº§è¯­æ³•æ”¯æŒã€‚ä½†é€šè¿‡æ¨¡å—ç³»ç»Ÿè¿›è¡ŒåŠ è½½æ—¶ï¼ŒES6 ä¼šå°†æ–‡ä»¶å½“ä½œç‹¬ç«‹çš„æ¨¡å—æ¥å¤„ç†ã€‚<br>æ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥å¯¼å…¥å…¶ä»–æ¨¡å—æˆ–ç‰¹å®šçš„ API æˆå‘˜ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥å¯¼å‡ºè‡ªå·±çš„ API æˆå‘˜ã€‚</p><p>ES6 çš„æ¨¡å—æ²¡æœ‰â€œè¡Œå†…â€æ ¼å¼ï¼Œå¿…é¡»è¢«å®šä¹‰åœ¨ç‹¬ç«‹çš„æ–‡ä»¶ä¸­(ä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªæ¨¡å—)ã€‚</p><p>import å¯ä»¥å°†ä¸€ä¸ªæ¨¡å—ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ª API å¯¼å…¥åˆ°å½“å‰ä½œç”¨åŸŸä¸­ï¼Œå¹¶åˆ†åˆ«ç»‘å®šåœ¨ä¸€ä¸ªå˜é‡ä¸Š(åœ¨æˆ‘ä»¬çš„ä¾‹å­é‡Œæ˜¯ hello)ã€‚<br>module ä¼šå°†æ•´ä¸ªæ¨¡å—çš„ API å¯¼å…¥å¹¶ç»‘å®šåˆ°ä¸€ä¸ªå˜é‡ä¸Š(åœ¨æˆ‘ä»¬çš„ä¾‹å­é‡Œæ˜¯ bar)ã€‚export ä¼šå°†å½“å‰æ¨¡å—çš„ä¸€ä¸ªæ ‡è¯†ç¬¦(å˜é‡ã€å‡½æ•°)å¯¼å‡ºä¸ºå…¬å…± APIã€‚<br>è¿™äº›æ“ä½œå¯ä»¥åœ¨æ¨¡å—å®šä¹‰ä¸­æ ¹æ®éœ€è¦ä½¿ç”¨ä»»æ„å¤šæ¬¡ã€‚</p><p>bar.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">who</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Let me introduce: &quot;</span> + who;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> hello;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>baz.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> bar <span class="keyword">from</span> <span class="string">&quot;bar&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(bar.hello( <span class="string">&quot;rhino&quot;</span> )); <span class="comment">// Let</span></span><br></pre></td></tr></table></figure><h2 id="II-ç¬¬1ç« -å…³äºthis"><a href="#II-ç¬¬1ç« -å…³äºthis" class="headerlink" title="II-ç¬¬1ç«  å…³äºthis"></a>II-ç¬¬1ç«  å…³äºthis</h2><p>this æä¾›äº†ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼æ¥éšå¼â€œä¼ é€’â€ä¸€ä¸ªå¯¹è±¡å¼•ç”¨ï¼Œå› æ­¤å¯ä»¥å°† API è®¾è®¡å¾—æ›´åŠ ç®€æ´å¹¶ä¸”æ˜“äºå¤ç”¨ã€‚</p><p>this æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œç»‘å®šçš„ï¼Œå¹¶ä¸æ˜¯åœ¨ç¼–å†™æ—¶ç»‘å®šï¼Œå®ƒçš„ä¸Šä¸‹æ–‡å–å†³äºå‡½æ•°è°ƒç”¨æ—¶çš„å„ç§æ¡ä»¶ã€‚this çš„ç»‘å®šå’Œå‡½æ•°å£°æ˜çš„ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªå–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚<br>å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ´»åŠ¨è®°å½•(æœ‰æ—¶å€™ä¹Ÿç§°ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡)ã€‚è¿™ä¸ªè®°å½•ä¼šåŒ…å«å‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨(è°ƒç”¨æ ˆ)ã€å‡½æ•°çš„è°ƒç”¨æ–¹æ³•ã€ä¼ å…¥çš„å‚æ•°ç­‰ä¿¡æ¯ã€‚this å°±æ˜¯è®°å½•çš„å…¶ä¸­ä¸€ä¸ªå±æ€§ï¼Œä¼šåœ¨å‡½æ•°æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ç”¨åˆ°ã€‚</p><p>this<strong>æ—¢ä¸æŒ‡å‘å‡½æ•°è‡ªèº«ä¹Ÿä¸æŒ‡å‘å‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸ</strong></p><p><strong>thiså®é™…ä¸Šæ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶å‘ç”Ÿçš„ç»‘å®šï¼Œå®ƒæŒ‡å‘ä»€ä¹ˆå®Œå…¨å–å†³äºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ã€‚</strong></p><h2 id="II-ç¬¬2ç« -thiså…¨é¢è§£æ"><a href="#II-ç¬¬2ç« -thiså…¨é¢è§£æ" class="headerlink" title="II-ç¬¬2ç«  thiså…¨é¢è§£æ"></a>II-ç¬¬2ç«  thiså…¨é¢è§£æ</h2><p>ä»<a href="https://juejin.im/post/5efe67276fb9a07e5d76be30">ä¸Šä¸€ç« </a>çŸ¥é“ç†è§£thisï¼Œå°±æ˜¯è¦ç†è§£<code>å‡½æ•°è¢«è°ƒç”¨çš„ä½ç½®</code>ã€‚ä½†å®è·µèµ·æ¥æœ‰ç‚¹å¤æ‚ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é‡è¦çš„æ˜¯åˆ†æè°ƒç”¨æ ˆï¼Œåœ¨å½“å‰æ­£åœ¨æ‰§è¡Œå‡½æ•°å‰ä¸€ä¸ªè°ƒç”¨ä¸­ã€‚åœ¨å‡½æ•°ç¬¬ä¸€è¡Œè®¾ç½®&#96;debugger&#96;,å¼€å‘è€…å·¥å…·è°ƒç”¨æ ˆçš„ç¬¬äºŒä¸ªå…ƒç´ å°±æ˜¯çœŸæ­£çš„è°ƒç”¨ä½ç½®ã€‚</span><br></pre></td></tr></table></figure><h3 id="å››æ¡ç»‘å®šè§„åˆ™"><a href="#å››æ¡ç»‘å®šè§„åˆ™" class="headerlink" title="å››æ¡ç»‘å®šè§„åˆ™"></a>å››æ¡ç»‘å®šè§„åˆ™</h3><h4 id="1-ç‹¬ç«‹è°ƒç”¨"><a href="#1-ç‹¬ç«‹è°ƒç”¨" class="headerlink" title="1. ç‹¬ç«‹è°ƒç”¨"></a>1. ç‹¬ç«‹è°ƒç”¨</h4><p>ç‹¬ç«‹å‡½æ•°è°ƒç”¨ï¼Œå³ä½¿ç”¨ä¸å¸¦ä»»ä½•ä¿®é¥°çš„å‡½æ•°å¼•ç”¨è¿›è¡Œè°ƒç”¨çš„ï¼Œå› æ­¤åªèƒ½ä½¿ç”¨é»˜è®¤ç»‘å®šï¼Œæ— æ³•åº”ç”¨å…¶ä»–è§„åˆ™ã€‚</p><p>this çš„ç»‘å®šè§„åˆ™å®Œå…¨å–å†³äºè°ƒç”¨ä½ç½®ï¼Œä½†æ˜¯åªæœ‰ foo() è¿è¡Œåœ¨é <code>strict mode</code> ä¸‹æ—¶ï¼Œé»˜è®¤ç»‘å®šæ‰èƒ½ç»‘å®šåˆ°å…¨å±€å¯¹è±¡;ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸ foo() çš„è°ƒç”¨ä½ç½®æ— å…³:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    &quot;use strict&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="built_in">this</span>.a );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">foo(); <span class="comment">// TypeError: this is undefined</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="built_in">this</span>.a );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">foo(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h4 id="2-éšå¼ç»‘å®š"><a href="#2-éšå¼ç»‘å®š" class="headerlink" title="2. éšå¼ç»‘å®š"></a>2. éšå¼ç»‘å®š</h4><p>å½“å‡½æ•°å¼•ç”¨æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡æ—¶ï¼Œéšå¼ç»‘å®šè§„åˆ™ä¼šæŠŠå‡½æ•°è°ƒç”¨ä¸­çš„ this ç»‘å®šåˆ°è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</p><p>å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="built_in">this</span>.a );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    a: <span class="number">42</span>,</span><br><span class="line">    foo: foo</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    a: <span class="number">2</span>,</span><br><span class="line">    obj2: obj2</span><br><span class="line">&#125;;</span><br><span class="line">obj1.obj2.foo(); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><h5 id="éšå¼ä¸¢å¤±"><a href="#éšå¼ä¸¢å¤±" class="headerlink" title="éšå¼ä¸¢å¤±"></a>éšå¼ä¸¢å¤±</h5><p>ä¸€ä¸ªæœ€å¸¸è§çš„ this ç»‘å®šé—®é¢˜æ˜¯è¢«éšå¼ç»‘å®šçš„å‡½æ•°ä¼šä¸¢å¤±ç»‘å®šå¯¹è±¡ï¼Œå®ƒä¼šåº”ç”¨é»˜è®¤ç»‘å®šï¼Œä»è€ŒæŠŠ this ç»‘å®šåˆ°å…¨å±€å¯¹è±¡æˆ–è€… undefined ä¸Šï¼Œå–å†³äºæ˜¯å¦æ˜¯ä¸¥æ ¼æ¨¡å¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="built_in">this</span>.a );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">2</span>,</span><br><span class="line">    foo: foo</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> bar = obj.foo; <span class="comment">// å‡½æ•°åˆ«å!</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;oops, global&quot;</span>; <span class="comment">// a æ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§ bar(); // &quot;oops, global&quot;</span></span><br></pre></td></tr></table></figure><p>å›è°ƒå‡½æ•°é‡Œä¹Ÿä¼šæœ‰thisä¸¢å¤±ç°è±¡</p><h3 id="3-æ˜¾å¼ç»‘å®š"><a href="#3-æ˜¾å¼ç»‘å®š" class="headerlink" title="3. æ˜¾å¼ç»‘å®š"></a>3. æ˜¾å¼ç»‘å®š</h3><p><code>call</code>å’Œ<code>apply</code>å¯ä»¥ç›´æ¥æŒ‡å®š this çš„ç»‘å®šå¯¹è±¡ï¼Œç§°ä¹‹ä¸ºæ˜¾å¼ç»‘å®šã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line">foo.call(obj); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h4 id="ç¡¬ç»‘å®š"><a href="#ç¡¬ç»‘å®š" class="headerlink" title="ç¡¬ç»‘å®š"></a>ç¡¬ç»‘å®š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="built_in">this</span>.a );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    foo.call( obj );</span><br><span class="line">&#125;;</span><br><span class="line">bar(); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">setTimeout</span>( bar, <span class="number">10</span> ); <span class="comment">// 2</span></span><br><span class="line"><span class="comment">// ç¡¬ç»‘å®šçš„ bar ä¸å¯èƒ½å†ä¿®æ”¹å®ƒçš„ this</span></span><br><span class="line">bar.call( <span class="built_in">window</span> ); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>bar</code>ä¸­å¼ºåˆ¶æŠŠfooçš„thisç»‘å®šåˆ°objä¸Šï¼Œæ— è®ºä¹‹åæ€ä¹ˆè°ƒç”¨barï¼Œéƒ½ä¸ä¼šä¿®æ”¹thisã€‚è¿™ç§æ˜¾ç¤ºå¼ºç»‘å®šï¼Œç§°ä¸ºç¡¬ç»‘å®šã€‚</p><p>ES5 ä¸­æä¾›äº†å†…ç½®çš„æ–¹æ³•<code>Function.prototype.bind</code>ä¹Ÿæ˜¯å¼ºç»‘å®šã€‚</p><h4 id="APIè°ƒç”¨çš„â€œä¸Šä¸‹æ–‡â€-context"><a href="#APIè°ƒç”¨çš„â€œä¸Šä¸‹æ–‡â€-context" class="headerlink" title="APIè°ƒç”¨çš„â€œä¸Šä¸‹æ–‡â€(context)"></a>APIè°ƒç”¨çš„â€œä¸Šä¸‹æ–‡â€(context)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach( foo, obj );</span><br><span class="line"><span class="comment">// 1 awesome 2 awesome 3 awesome</span></span><br></pre></td></tr></table></figure><p>è¿™ç§ä¹Ÿæ˜¯é€šè¿‡callå’Œapplyå®ç°çš„æ˜¾ç¤ºç»‘å®šã€‚</p><h3 id="4-newç»‘å®š"><a href="#4-newç»‘å®š" class="headerlink" title="4. newç»‘å®š"></a>4. newç»‘å®š</h3><p>jsé€šè¿‡newæ¥è°ƒç”¨å‡½æ•°ï¼Œæˆ–è€…è¯´å‘ç”Ÿæ„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢çš„æ“ä½œã€‚</p><ol><li>åˆ›å»º(æ„é€ )ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚</li><li>è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡ŒåŸå‹è¿æ¥ã€‚</li><li>è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„thisã€‚</li><li>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆnewè¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°å¯¹è±¡ã€‚</li></ol><h3 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h3><p>å››æ¡ç»‘å®šåŸåˆ™çš„ä¼˜å…ˆçº§</p><ol><li>ç”±newè°ƒç”¨? ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</li><li>ç”±callæˆ–è€…apply(æˆ–è€…bind)è°ƒç”¨? ç»‘å®šåˆ°æŒ‡å®šçš„å¯¹è±¡ã€‚</li><li>ç”±ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨? ç»‘å®šåˆ°é‚£ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</li><li>é»˜è®¤:åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç»‘å®šåˆ°undefinedï¼Œå¦åˆ™ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚</li></ol><h3 id="ç»‘å®šä¾‹å¤–"><a href="#ç»‘å®šä¾‹å¤–" class="headerlink" title="ç»‘å®šä¾‹å¤–"></a>ç»‘å®šä¾‹å¤–</h3><p>æŠŠ null æˆ–è€… undefined ä½œä¸º this çš„ç»‘å®šå¯¹è±¡ä¼ å…¥ callã€apply æˆ–è€… bindï¼Œè¿™äº›å€¼<br>åœ¨è°ƒç”¨æ—¶ä¼šè¢«å¿½ç•¥ï¼Œå®é™…åº”ç”¨çš„æ˜¯é»˜è®¤ç»‘å®šè§„åˆ™ã€‚</p><p>å‡½æ•°çš„é—´æ¥å¼•ç”¨ï¼Œä¼šå¯¼è‡´åº”ç”¨é»˜è®¤ç»‘å®šã€‚</p><h4 id="è½¯ç»‘å®š"><a href="#è½¯ç»‘å®š" class="headerlink" title="è½¯ç»‘å®š"></a>è½¯ç»‘å®š</h4><p>ç¡¬ç»‘å®šå¯ä»¥å¼ºåˆ¶ç»‘å®šåˆ°æŒ‡å®šå¯¹è±¡(é™¤newæ—¶)ï¼Œé™ä½äº†å‡½æ•°çš„çµæ´»æ€§ã€‚é‡‡ç”¨è½¯ç»‘å®šæ–¹å¼å¯ä»¥å®ç°å’Œç¡¬ç»‘å®šç›¸åŒçš„æ•ˆæœï¼ŒåŒæ—¶ä¿ç•™éšå¼ç»‘å®šä¿®æ”¹thisçš„èƒ½åŠ›ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Function</span>.prototype.softBind) &#123;</span><br><span class="line">    <span class="built_in">Function</span>.prototype.softBind = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> fn = <span class="built_in">this</span>;</span><br><span class="line">        <span class="comment">// æ•è·æ‰€æœ‰ curried å‚æ•°</span></span><br><span class="line">        <span class="keyword">var</span> curried = [].slice.call( <span class="built_in">arguments</span>, <span class="number">1</span> );</span><br><span class="line">        <span class="keyword">var</span> bound = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> fn.apply(</span><br><span class="line">            (!<span class="built_in">this</span> || <span class="built_in">this</span> === (<span class="built_in">window</span> || <span class="built_in">global</span>)) ?</span><br><span class="line">            obj : <span class="built_in">this</span></span><br><span class="line">            curried.concat.apply( curried, <span class="built_in">arguments</span> )</span><br><span class="line">            );</span><br><span class="line">        &#125;;</span><br><span class="line">        bound.prototype = <span class="built_in">Object</span>.create( fn.prototype );</span><br><span class="line">        <span class="keyword">return</span> bound;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="thisè¯­æ³•"><a href="#thisè¯­æ³•" class="headerlink" title="thisè¯­æ³•"></a>thisè¯­æ³•</h3><p>ç®­å¤´å‡½æ•°<code>() =&gt; &#123;&#125;</code>æ— æ³•ä½¿ç”¨ä¸Šè¿°å››ç§è§„åˆ™ã€‚è€Œæ˜¯<strong>æ ¹æ®å¤–å±‚ï¼ˆå‡½æ•°æˆ–è€…å…¨å±€ï¼‰ä½œç”¨åŸŸæ¥å†³å®šthis</strong>ã€‚<br>ç®­å¤´å‡½æ•°å¯ä»¥åƒ <code>bind(..)</code> ä¸€æ ·ç¡®ä¿å‡½æ•°çš„ this è¢«ç»‘å®šåˆ°æŒ‡å®šå¯¹è±¡ï¼Œå®ƒç”¨æ›´å¸¸è§çš„è¯æ³•ä½œç”¨åŸŸå–ä»£äº†ä¼ ç»Ÿçš„ this æœºåˆ¶ã€‚</p><p>æ²¡æœ‰ç®­å¤´å‡½æ•°ä¹‹å‰æˆ‘ä»¬ä¹ æƒ¯é‡‡ç”¨çš„æ–¹å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> self = <span class="built_in">this</span>; <span class="comment">// lexical capture of this</span></span><br><span class="line">    <span class="built_in">setTimeout</span>( <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log( self.a );</span><br><span class="line">    &#125;, <span class="number">100</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line">foo.call( obj ); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p><code>self = this</code> å’Œç®­å¤´å‡½æ•°çœ‹èµ·æ¥éƒ½å¯ä»¥å–ä»£<code>bind(..)</code>ï¼Œä½†æ˜¯ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œå®ƒä»¬æƒ³æ›¿ä»£çš„æ˜¯ this æœºåˆ¶ã€‚</p><h3 id="å°ç»“thiså…¨é¢è§£æ"><a href="#å°ç»“thiså…¨é¢è§£æ" class="headerlink" title="å°ç»“thiså…¨é¢è§£æ"></a>å°ç»“thiså…¨é¢è§£æ</h3><p>å­¦ä¹ æœ¬ç« äº†è§£thisç»‘å®šçš„æ–¹å¼ï¼Œé€šè¿‡4æ¡å‡†åˆ™å®šä½å‡½æ•°è¿è¡Œæ—¶thisåˆ°åº•æŒ‡å‘ä»€ä¹ˆã€‚</p><p>åœ¨ç®­å¤´å‡½æ•°å‡ºæ¥ä¹‹åï¼Œç”¨<code>() =&gt; &#123;&#125;</code>å’Œ<code>bind</code>å¯ä»¥è§£å†³å¤§å¤šæ•°é—®é¢˜äº†ã€‚</p><p>ES5å‡ºæ¥ä¹‹åï¼Œå¾ˆå¤šjsçš„é—®é¢˜è¢«æ–°è¯­æ³•å–ä»£äº†ï¼Œä½†æˆ‘ä»¬å¯ä»¥æŠ½æ—¶é—´å¤šäº†è§£æ–°è¯­æ³•èƒŒåçš„å†å²ï¼Œèƒ½æ›´æ·±å…¥çš„äº†è§£jsæœ¬èº«çš„é­…åŠ›ã€‚</p><h2 id="II-ç¬¬3ç« -å¯¹è±¡"><a href="#II-ç¬¬3ç« -å¯¹è±¡" class="headerlink" title="II-ç¬¬3ç«  å¯¹è±¡"></a>II-ç¬¬3ç«  å¯¹è±¡</h2><p>å¯¹è±¡æ˜¯JavaScriptçš„åŸºç¡€ã€‚</p><p>ECMAScript æ ‡å‡†å®šä¹‰äº† 8 ç§æ•°æ®ç±»å‹:</p><p>7 ç§åŸå§‹ç±»å‹:<br>Undefined<br>Null<br>Number<br>Boolean<br>BigInt<br>String<br>Symbol<br>å’Œ Object</p><p>è®°å¿†å£è¯€ï¼šæ¬§å‘¦(O)ä½ (U)ä¿©(2ä¸ª)ç‰›(N)é€¼(B)å•¥(S)</p><p>å®šä¹‰å¯¹è±¡ä¸¤ç§å½¢å¼ï¼šå£°æ˜å½¢å¼å’Œæ„é€ å½¢å¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜</span></span><br><span class="line"><span class="keyword">var</span> myObj = &#123;</span><br><span class="line">    key: value</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ </span></span><br><span class="line"><span class="keyword">var</span> myObj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">myObj.key = value;</span><br></pre></td></tr></table></figure><h3 id="å¯è®¡ç®—å±æ€§"><a href="#å¯è®¡ç®—å±æ€§" class="headerlink" title="å¯è®¡ç®—å±æ€§"></a>å¯è®¡ç®—å±æ€§</h3><p>ES6 å¢åŠ äº†å¯è®¡ç®—å±æ€§åï¼Œå¯ä»¥åœ¨æ–‡å­—å½¢å¼ä¸­ä½¿ç”¨ [] åŒ…è£¹ä¸€ä¸ªè¡¨è¾¾å¼æ¥å½“ä½œå±æ€§å:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> prefix = <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    [prefix + <span class="string">&quot;bar&quot;</span>]:<span class="string">&quot;hello&quot;</span>,</span><br><span class="line">    [prefix + <span class="string">&quot;baz&quot;</span>]: <span class="string">&quot;world&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line">myObject[<span class="string">&quot;foobar&quot;</span>]; <span class="comment">// hello</span></span><br></pre></td></tr></table></figure><h3 id="å±æ€§ä¸æ–¹æ³•"><a href="#å±æ€§ä¸æ–¹æ³•" class="headerlink" title="å±æ€§ä¸æ–¹æ³•"></a>å±æ€§ä¸æ–¹æ³•</h3><p>jsä¸­å‡½æ•°ä¸ä¼šå±äºä¸€ä¸ªå¯¹è±¡ï¼Œå› ä¸ºthisæ˜¯åœ¨è¿è¡Œæ—¶æ ¹æ®è°ƒç”¨ä½ç½®åŠ¨æ€ç»‘å®šçš„ã€‚ æ‰€ä»¥æ–¹æ³•è¿™ä¸ªç§°å‘¼ä¸å¤ªæˆç«‹ã€‚ä½†è¿™åªæ˜¯ä¸ªç§°å‘¼ï¼Œä¸å¿…å¤ªçº ç»“ã€‚</p><h3 id="å¤åˆ¶å¯¹è±¡"><a href="#å¤åˆ¶å¯¹è±¡" class="headerlink" title="å¤åˆ¶å¯¹è±¡"></a>å¤åˆ¶å¯¹è±¡</h3><p>æµ…å¤åˆ¶</p><p>å¯¹äºJSONå®‰å…¨(å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ª JSON å­—ç¬¦ä¸²å¹¶ä¸”å¯ä»¥æ ¹æ®è¿™ä¸ªå­—ç¬¦ä¸²è§£æå‡ºä¸€ä¸ªç»“æ„å’Œå€¼å®Œå…¨ä¸€æ ·çš„å¯¹è±¡)çš„å¯¹è±¡å¯ä»¥ç”¨<code>JSON.parse</code>å¤åˆ¶</p><p><code>var newObj = JSON.parse(JSON.stringify(someObj));</code></p><p>ES6ä¸­å¯ä»¥ç”¨<code>Object.assign(&#123;&#125;, obj)</code>å¤åˆ¶</p><h3 id="å±æ€§æè¿°ç¬¦"><a href="#å±æ€§æè¿°ç¬¦" class="headerlink" title="å±æ€§æè¿°ç¬¦"></a>å±æ€§æè¿°ç¬¦</h3><p>å±æ€§æè¿°ç¬¦<code>writable(å¯å†™), configurable(å¯é…ç½®), enumerable(å¯æšä¸¾)</code></p><p>å¯ä»¥ä½¿ç”¨<code>Object.defineProperty</code>å®šä¹‰å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;KEY&#x27;</span>, &#123;</span><br><span class="line">    value: <span class="number">12</span>,</span><br><span class="line">    writable: <span class="literal">false</span>,</span><br><span class="line">    configurable: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœæŠŠ enumerable è®¾ç½®æˆ falseï¼Œè¿™ä¸ªå±æ€§ä¸ä¼šå‡ºç°åœ¨æšä¸¾ä¸­ï¼ˆæ¯”å¦‚for..inï¼‰ã€‚ä½†å¯ä»¥æ­£å¸¸è®¿é—®è¿™ä¸ªå±æ€§ã€‚</p><p>ç»“åˆ<code>writable: false</code>å’Œ<code>configurable: false</code>å¯ä»¥åˆ›å»ºä¸€ä¸ªçœŸæ­£çš„å¸¸é‡å±æ€§(ä¸å¯ä¿®æ”¹ã€é‡å®šä¹‰æˆ–åˆ é™¤)</p><p>ç¦æ­¢ä¸€ä¸ªå¯¹è±¡æ·»åŠ æ–°å±æ€§å¹¶ä¸”ä¿ç•™å·²æœ‰å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨<code>Object.preventExtensions(obj)</code></p><p>å¯†å°ï¼š<code>Object.seal(..)</code>è°ƒç”¨<code>Object.preventExtensions(obj)</code>æŠŠæ‰€æœ‰ç°æœ‰å±æ€§æ ‡è®°ä¸º<code>configurable: false</code>ã€‚å¯†å°åä¸èƒ½æ·»åŠ ï¼Œé‡æ–°é…ç½®å’Œåˆ é™¤ç°æœ‰å±æ€§ã€‚å¯ä»¥ä¿®æ”¹å±æ€§çš„å€¼ã€‚</p><p>å†»ç»“ï¼š<code>Object.freeze(..)</code>è°ƒç”¨<code>Object.seal(..)</code>æŠŠæ‰€æœ‰æ•°æ®è®¿é—®å±æ€§æ ‡è®°ä¸º<code>writable: false</code>ã€‚è¿™æ ·å°±æ— æ³•ä¿®æ”¹å±æ€§å€¼ã€‚</p><h3 id="get-set"><a href="#get-set" class="headerlink" title="get, set"></a>get, set</h3><p>get: å±æ€§è®¿é—®å…ˆåœ¨å¯¹è±¡ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰åç§°ç›¸åŒçš„å±æ€§ï¼Œæ²¡æ‰¾åˆ°å°±éå†å¯èƒ½å­˜åœ¨çš„åŸå‹é“¾ï¼Œæ‰¾ä¸åˆ°çš„è¯è¿”å›undefinedã€‚</p><p>set:</p><ol><li>å…ˆåˆ¤æ–­å±æ€§æ˜¯å¦æ˜¯è®¿é—®æè¿°ç¬¦ï¼Œå­˜åœ¨setterå°±è°ƒç”¨setterã€‚</li><li>writableæ˜¯å¦ä¸ºfalseã€‚æ˜¯ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹é™é»˜å¤±è´¥ï¼Œä¸¥æ ¼æ¨¡å¼æŠ›å‡ºTypeErrorå¼‚å¸¸ã€‚</li><li>éƒ½ä¸æ˜¯ï¼Œè®¾ç½®å±æ€§å€¼ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line"><span class="comment">// ç»™ a å®šä¹‰ä¸€ä¸ª getter</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title">a</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>._a_;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="comment">// ç»™ a å®šä¹‰ä¸€ä¸ª setter</span></span><br><span class="line">    <span class="keyword">set</span> <span class="title">a</span>(<span class="params">val</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>._a_ = val * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">myObject.a = <span class="number">2</span>; myObject.a; <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><h3 id="å­˜åœ¨æ€§"><a href="#å­˜åœ¨æ€§" class="headerlink" title="å­˜åœ¨æ€§"></a>å­˜åœ¨æ€§</h3><p>åˆ¤æ–­å¯¹è±¡æ˜¯å¦æœ‰æŸä¸ªå±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    a:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line">(<span class="string">&quot;a&quot;</span> <span class="keyword">in</span> myObject); <span class="comment">// true</span></span><br><span class="line">(<span class="string">&quot;b&quot;</span> <span class="keyword">in</span> myObject); <span class="comment">// false</span></span><br><span class="line">myObject.hasOwnProperty( <span class="string">&quot;a&quot;</span> ); <span class="comment">// true</span></span><br><span class="line">myObject.hasOwnProperty( <span class="string">&quot;b&quot;</span> ); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><code>in</code>æ“ä½œç¬¦ä¼šæ£€æŸ¥å±æ€§æ˜¯å¦åœ¨å¯¹è±¡åŠå…¶åŸå‹é“¾ä¸­</p><p><code>hasOwnProperty(..)</code> åªä¼šæ£€æŸ¥å±æ€§æ˜¯å¦åœ¨ myObject å¯¹è±¡ä¸­ï¼Œä¸ä¼šæ£€æŸ¥é“¾ã€‚</p><p>æ‰€æœ‰çš„æ™®é€šå¯¹è±¡éƒ½å¯ä»¥é€šè¿‡å¯¹äº Object.prototype çš„å§”æ‰˜æ¥è®¿é—® hasOwnProperty(..)ï¼Œ<br>ä½†æ˜¯æœ‰çš„å¯¹è±¡å¯èƒ½æ²¡æœ‰è¿æ¥åˆ° Object.prototype(é€šè¿‡ Object. create(null) æ¥åˆ›å»º)ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½¢å¦‚<code>myObejct.hasOwnProperty(..)</code>å°±ä¼šå¤±è´¥ã€‚</p><p>å¯ä»¥é‡‡ç”¨<code>Object.prototype.hasOwnProperty. call(myObject,&quot;a&quot;)</code>åˆ¤æ–­</p><p>åœ¨æ•°ç»„ä¸Šåº”ç”¨ for..in å¾ªç¯æœ‰æ—¶ä¼šäº§ç”Ÿå‡ºäººæ„æ–™çš„ç»“æœï¼Œå› ä¸ºè¿™ç§æšä¸¾ä¸ä»…ä¼šåŒ…å«æ‰€æœ‰æ•°å€¼ç´¢å¼•ï¼Œè¿˜ä¼šåŒ…å«æ‰€æœ‰å¯æšä¸¾å±æ€§ã€‚æœ€å¥½åªåœ¨å¯¹è±¡ä¸Šåº”ç”¨ for..in å¾ªç¯ï¼Œå¦‚æœè¦éå†æ•°ç»„å°±ä½¿ç”¨ä¼ ç»Ÿçš„ for å¾ªç¯æ¥éå†æ•°å€¼ç´¢å¼•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦å¯æšä¸¾</span></span><br><span class="line">myObject.propertyIsEnumerable( <span class="string">&quot;a&quot;</span> ); <span class="comment">// true</span></span><br><span class="line">myObject.propertyIsEnumerable( <span class="string">&quot;b&quot;</span> ); <span class="comment">// false</span></span><br><span class="line"><span class="comment">// æ‰€æœ‰å¯æšä¸¾å±æ€§çš„æ•°ç»„</span></span><br><span class="line"><span class="built_in">Object</span>.keys( myObject ); <span class="comment">// [&quot;a&quot;]</span></span><br><span class="line"><span class="comment">// æ‰€æœ‰å±æ€§ï¼Œæ— è®ºå®ƒä»¬æ˜¯å¦å¯æšä¸¾</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames( myObject ); <span class="comment">// [&quot;a&quot;, &quot;b&quot;]</span></span><br></pre></td></tr></table></figure><h3 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h3><p><code>for..in</code>æ— æ³•ç›´æ¥è·å–å±æ€§å€¼ï¼Œå› ä¸ºå®ƒéå†çš„æ˜¯å¯¹è±¡ä¸­çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œéœ€è¦æ‰‹åŠ¨è·å–å±æ€§å€¼ã€‚<br><code>for..of</code>å¾ªç¯æ¯æ¬¡è°ƒç”¨ myObject è¿­ä»£å™¨å¯¹è±¡çš„ next() æ–¹æ³•æ—¶ï¼Œå†…éƒ¨çš„æŒ‡é’ˆéƒ½ä¼šå‘å‰ç§»åŠ¨å¹¶è¿”å›å¯¹è±¡å±æ€§åˆ—è¡¨çš„ä¸‹ä¸€ä¸ªå€¼ã€‚</p><h3 id="å°ç»“-ç¬¬3ç« å¯¹è±¡"><a href="#å°ç»“-ç¬¬3ç« å¯¹è±¡" class="headerlink" title="å°ç»“ ç¬¬3ç« å¯¹è±¡"></a>å°ç»“ ç¬¬3ç« å¯¹è±¡</h3><p>äº†è§£å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆå®šä¹‰ï¼Œä¸€äº›å¸¸ç”¨æ–¹æ³•å’Œç‰¹æ€§ï¼Œéå†å¯¹è±¡ã€‚</p><p>å·¥ä½œä¸­å¯¹è±¡çš„ä½¿ç”¨æ˜¯éå¸¸é¢‘ç¹çš„ï¼Œç†Ÿç»ƒæŒæ¡å„ç§APIæ˜¯æå‡æŠ€æœ¯çš„å¿…å¤‡æ¡ä»¶ã€‚</p><h3 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> newObj = &#123;</span><br><span class="line">    a: <span class="number">12</span>,</span><br><span class="line">    b: <span class="number">23</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> newObj = &#123;&#125;;</span><br><span class="line">newObj.a = <span class="number">12</span>;</span><br><span class="line">newObj.b = <span class="number">23</span>;</span><br><span class="line">newObj[<span class="string">&#x27;a&#x27;</span>] = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="built_in">this</span>.setState(&#123;</span><br><span class="line">    ...newObj</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="built_in">this</span>.setState(&#123;</span><br><span class="line">    a: newObj.a,</span><br><span class="line">    b: newObj.b</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="II-ç¬¬4ç« -æ··åˆå¯¹è±¡â€ç±»â€œ"><a href="#II-ç¬¬4ç« -æ··åˆå¯¹è±¡â€ç±»â€œ" class="headerlink" title="II-ç¬¬4ç«  æ··åˆå¯¹è±¡â€ç±»â€œ"></a>II-ç¬¬4ç«  æ··åˆå¯¹è±¡â€ç±»â€œ</h2><blockquote><p>æˆ‘çš„ç†è§£ç±»ä¹Ÿæ˜¯ä¸€ç§å¯¹è±¡è€Œå·²ï¼Œæ²¡é‚£ä¹ˆå¤æ‚ã€‚</p></blockquote><p>ç±»æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚è®¸å¤šè¯­è¨€æä¾›äº†å¯¹äºé¢å‘ç±»è½¯ä»¶è®¾è®¡çš„åŸç”Ÿè¯­æ³•ã€‚</p><p>ç±»æ„å‘³ç€å¤åˆ¶ã€‚<br>ä¼ ç»Ÿçš„ç±»è¢«å®ä¾‹åŒ–æ—¶ï¼Œå®ƒçš„è¡Œä¸ºä¼šè¢«å¤åˆ¶åˆ°å®ä¾‹ä¸­ã€‚ç±»è¢«ç»§æ‰¿æ—¶ï¼Œè¡Œä¸ºä¹Ÿä¼šè¢«å¤åˆ¶åˆ°å­ç±»ä¸­ã€‚<br>å¤šæ€(åœ¨ç»§æ‰¿é“¾çš„ä¸åŒå±‚æ¬¡åç§°ç›¸åŒä½†æ˜¯åŠŸèƒ½ä¸åŒçš„å‡½æ•°)çœ‹èµ·æ¥ä¼¼ä¹æ˜¯ä»å­ç±»å¼•ç”¨çˆ¶ç±»ï¼Œä½†æ˜¯æœ¬è´¨ä¸Šå¼•ç”¨çš„æ˜¯å¤åˆ¶çš„ç»“æœã€‚</p><p>JavaScript å¹¶ä¸ä¼š(åƒç±»é‚£æ ·)è‡ªåŠ¨åˆ›å»ºå¯¹è±¡çš„å‰¯æœ¬ã€‚</p><p>æ··å…¥æ¨¡å¼ç”¨æ¥æ¨¡æ‹Ÿç±»çš„å¤åˆ¶è¡Œä¸ºã€‚Vueä¸­ä¹Ÿæä¾›äº†ç±»ä¼¼çš„API,<a href="https://cn.vuejs.org/v2/guide/mixins.html">mixin</a></p><h2 id="II-ç¬¬5ç« -åŸå‹ï¼ˆè¿˜éœ€å¤šè¯»å‡ éï¼‰"><a href="#II-ç¬¬5ç« -åŸå‹ï¼ˆè¿˜éœ€å¤šè¯»å‡ éï¼‰" class="headerlink" title="II-ç¬¬5ç«  åŸå‹ï¼ˆè¿˜éœ€å¤šè¯»å‡ éï¼‰"></a>II-ç¬¬5ç«  åŸå‹ï¼ˆè¿˜éœ€å¤šè¯»å‡ éï¼‰</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¿™ç¯‡æ–‡ç« æ˜¯JSçš„é‡ä¸­ä¹‹é‡ï¼Œè¦ç”¨å¿ƒç ”è¯»~~</span><br></pre></td></tr></table></figure><p>èƒ½å­¦åˆ°çš„çŸ¥è¯†ï¼š</p><ol><li><p>å¯¹è±¡æŸ¥æ‰¾å’Œè®¾ç½®å±æ€§èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆ</p></li><li><p>åŸå‹é“¾å½¢æˆçš„æœºåˆ¶å’Œç‰¹ç‚¹</p></li></ol><p>å‰é¢è¯´åˆ°åœ¨å¯¹è±¡é‡ŒæŸ¥æ‰¾å±æ€§æ—¶ï¼Œå¦‚æœåœ¨å¯¹è±¡æœ¬èº«æ‰¾ä¸åˆ°ï¼Œä¼šç»§ç»­è®¿é—®å¯¹è±¡çš„prototypeé“¾ã€‚å¦‚æœéƒ½æ²¡æœ‰çš„è¯è¿”å›<code>undefined</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObject = &#123;</span><br><span class="line">    a:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå…³è”åˆ° anotherObject çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> myObject = <span class="built_in">Object</span>.create( anotherObject );</span><br><span class="line"><span class="built_in">console</span>.log(myObject); <span class="comment">// &#123;&#125;</span></span><br><span class="line">myObject.a; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨<code>myObject</code>çš„<code>prototype</code>å…³è”åˆ°<code>anotherObject</code>ï¼Œ<code>myObject.a</code>å¹¶ä¸å­˜åœ¨ï¼Œä½†<code>myObject.a</code>ç»“æœä¸º2</p><p><code>for..in</code>éå†å¯¹è±¡æ—¶åŸç†å’ŒæŸ¥æ‰¾åŸå‹é“¾ç±»ä¼¼ã€‚ä»»ä½•å¯é€šè¿‡åŸå‹é“¾è®¿é—®åˆ°(å¹¶ä¸”æ˜¯enumerable)çš„å±æ€§éƒ½ä¼šè¢«æšä¸¾</p><p>å½“ä½ é€šè¿‡å„ç§è¯­æ³•è¿›è¡Œå±æ€§æŸ¥æ‰¾æ—¶éƒ½ä¼šæŸ¥æ‰¾åŸå‹é“¾ï¼Œç›´åˆ°æ‰¾åˆ°å±æ€§æˆ–è€…æŸ¥æ‰¾å®Œæ•´æ¡åŸå‹é“¾ã€‚</p><p><strong>åŸå‹é“¾çš„å°½å¤´æ˜¯<code>Object.prototype</code></strong><br><code>toString()</code>ã€<code>valueOf()</code>å’Œå…¶ä»–ä¸€äº›é€šç”¨çš„åŠŸèƒ½ éƒ½å­˜åœ¨äº<code>Object.prototype</code>å¯¹è±¡ä¸Šï¼Œå› æ­¤è¯­è¨€ä¸­æ‰€æœ‰çš„å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨å®ƒä»¬ã€‚</p><h3 id="å±æ€§è®¾ç½®å’Œå±è”½"><a href="#å±æ€§è®¾ç½®å’Œå±è”½" class="headerlink" title="å±æ€§è®¾ç½®å’Œå±è”½"></a>å±æ€§è®¾ç½®å’Œå±è”½</h3><p>ç»™ä¸€ä¸ªå¯¹è±¡è®¾ç½®å±æ€§çš„è¿‡ç¨‹å¹¶ä¸ç®€å•ã€‚é€šè¿‡ä¾‹å­æ¥çœ‹<code>myObject.foo = &quot;bar&quot;;</code></p><p>ä¸€ã€ å¦‚æœ myObject å¯¹è±¡ä¸­åŒ…å«åä¸º foo çš„æ™®é€šæ•°æ®è®¿é—®å±æ€§ï¼Œè¿™æ¡èµ‹å€¼è¯­å¥åªä¼šä¿®æ”¹å·²æœ‰çš„å±æ€§å€¼ã€‚</p><p>äºŒã€ å¦‚æœ foo ä¸æ˜¯ç›´æ¥å­˜åœ¨äº myObject ä¸­ï¼ŒåŸå‹é“¾å°±ä¼šè¢«éå†ã€‚å¦‚æœåŸå‹é“¾ä¸Šæ‰¾ä¸åˆ° fooï¼Œfoo å°±ä¼šè¢«ç›´æ¥æ·»åŠ åˆ° myObject ä¸Šã€‚</p><p>ä¸‰ã€ å¦‚æœ foo å­˜åœ¨äºåŸå‹é“¾ä¸Šå±‚ï¼Œèµ‹å€¼è¯­å¥ <code>myObject.foo = &quot;bar&quot;</code> çš„è¡Œä¸ºå°±ä¼šæœ‰äº›ä¸åŒã€‚</p><p>å¦‚æœå±æ€§å foo æ—¢å‡ºç°åœ¨ myObject ä¸­ä¹Ÿå‡ºç°åœ¨ myObject çš„åŸå‹é“¾ä¸Šå±‚ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿå±è”½ã€‚myObject ä¸­åŒ…å«çš„ foo å±æ€§ä¼šå±è”½åŸå‹é“¾ä¸Šå±‚çš„æ‰€æœ‰ foo å±æ€§ï¼Œå› ä¸º myObject.foo æ€»æ˜¯ä¼šé€‰æ‹©åŸå‹é“¾ä¸­æœ€åº•å±‚çš„ foo å±æ€§ã€‚</p><blockquote><p>å±è”½ï¼šåœ¨å½“å‰ä½œç”¨åŸŸæ·»åŠ å±æ€§ï¼Œä»¥éš”ç»è®¿é—®åŸå‹é“¾ä¸Šå±‚çš„åŒæ ·å±æ€§</p></blockquote><p>å‘ç”Ÿå±è”½çš„ä¸‰ç§æƒ…å†µï¼š</p><ol><li>å¦‚æœåœ¨åŸå‹é“¾ä¸Šå±‚å­˜åœ¨åä¸ºfooçš„æ™®é€šæ•°æ®è®¿é—®å±æ€§å¹¶ä¸”æ²¡æœ‰è¢«æ ‡è®°ä¸ºåªè¯»ï¼Œé‚£å°±ä¼šç›´æ¥åœ¨ myObject ä¸­æ·»åŠ ä¸€ä¸ªåä¸º foo çš„æ–°å±æ€§ï¼Œå®ƒæ˜¯å±è”½å±æ€§ã€‚</li><li>å¦‚æœåœ¨åŸå‹é“¾ä¸Šå±‚å­˜åœ¨fooï¼Œä½†æ˜¯å®ƒè¢«æ ‡è®°ä¸ºåªè¯»ï¼Œé‚£ä¹ˆæ— æ³•ä¿®æ”¹å·²æœ‰å±æ€§æˆ–è€…åœ¨ myObject ä¸Šåˆ›å»ºå±è”½å±æ€§ã€‚å¦‚æœè¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä»£ç ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å¦åˆ™ï¼Œè¿™æ¡èµ‹å€¼è¯­å¥ä¼šè¢«å¿½ç•¥ã€‚æ€»ä¹‹ï¼Œä¸ä¼šå‘ç”Ÿå±è”½ã€‚</li><li>å¦‚æœåœ¨åŸå‹é“¾ä¸Šå±‚å­˜åœ¨fooå¹¶ä¸”å®ƒæ˜¯ä¸€ä¸ªsetterï¼Œé‚£å°±ä¸€å®šä¼šè°ƒç”¨è¿™ä¸ª setterã€‚foo ä¸ä¼šè¢«æ·»åŠ åˆ°(æˆ–è€…è¯´å±è”½äº)myObjectï¼Œä¹Ÿä¸ä¼šé‡æ–°å®šä¹‰ foo è¿™ä¸ª setterã€‚</li></ol><p>å‘åŸå‹é“¾ä¸Šå±‚å·²ç»å­˜åœ¨çš„å±æ€§èµ‹å€¼ï¼Œä¸ä¸€å®šä¼šè§¦å‘å±è”½(ç¬¬äºŒä¸‰ç§)ã€‚<br>å¦‚æœå¸Œæœ›åœ¨ç¬¬äºŒç§å’Œç¬¬ä¸‰ç§æƒ…å†µä¸‹ä¹Ÿå±è”½ fooï¼Œé‚£å°±ä¸èƒ½ä½¿ç”¨ = æ“ä½œç¬¦æ¥èµ‹å€¼ï¼Œè€Œæ˜¯ä½¿ç”¨ Object.defineProperty(..)æ¥å‘ myObject æ·»åŠ  fooã€‚</p><blockquote><p>åªè¯»å±æ€§ä¼šé˜»æ­¢åŸå‹é“¾ä¸‹å±‚å±è”½åŒåå±æ€§ã€‚è¿™æ ·åšä¸»è¦æ˜¯ä¸ºäº†æ¨¡æ‹Ÿç±»å±æ€§çš„ç»§æ‰¿ã€‚ä½ å¯ä»¥æŠŠåŸå‹é“¾ä¸Šå±‚çš„ foo çœ‹ä½œæ˜¯çˆ¶ç±»ä¸­çš„å±æ€§ï¼Œå®ƒä¼šè¢« myObject ç»§æ‰¿(å¤åˆ¶)ï¼Œè¿™æ ·ä¸€æ¥ myObject ä¸­çš„ foo å±æ€§ä¹Ÿæ˜¯åªè¯»ï¼Œæ‰€ä»¥æ— æ³•åˆ›å»ºã€‚ä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼Œå®é™…ä¸Šå¹¶ä¸ä¼šå‘ç”Ÿç±»ä¼¼çš„ç»§æ‰¿å¤åˆ¶ã€‚è¿™çœ‹èµ·æ¥æœ‰ç‚¹å¥‡æ€ªï¼ŒmyObject å¯¹è±¡ç«Ÿç„¶ä¼šå› ä¸ºå…¶ä»–å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªåªè¯» foo å°±ä¸èƒ½åŒ…å« foo å±æ€§ã€‚æ›´å¥‡æ€ªçš„æ˜¯ï¼Œè¿™ä¸ªé™åˆ¶åªå­˜åœ¨äº = èµ‹å€¼ä¸­ï¼Œä½¿ç”¨ Object. defineProperty(..) å¹¶ä¸ä¼šå—åˆ°å½±å“ã€‚</p></blockquote><p>æœ‰äº›æƒ…å†µä¸‹ä¼šéšå¼äº§ç”Ÿå±è”½ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObject = &#123;</span><br><span class="line">    a:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> myObject = <span class="built_in">Object</span>.create( anotherObject );</span><br><span class="line">anotherObject.a; <span class="comment">// 2</span></span><br><span class="line">myObject.a; <span class="comment">// 2</span></span><br><span class="line">myObject.a++; <span class="comment">// éšå¼å±è”½!</span></span><br><span class="line">anotherObject.a; <span class="comment">// 2</span></span><br><span class="line">myObject.a; <span class="comment">// 3</span></span><br><span class="line">myObject.hasOwnProperty( <span class="string">&quot;a&quot;</span> ); <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>++</code> æ“ä½œç›¸å½“äº <code>myObject.a = myObject.a + 1</code>ã€‚å› æ­¤ ++ æ“ä½œé¦–å…ˆä¼šé€šè¿‡åŸå‹é“¾æŸ¥æ‰¾å±æ€§ a å¹¶ä» anotherObject.a è·å–å½“å‰å±æ€§å€¼ 2ï¼Œç„¶åç»™è¿™ä¸ªå€¼åŠ  1ï¼Œæ¥ç€å°†å€¼ 3 èµ‹ç»™ myObject ä¸­æ–°å»ºçš„å±è”½å±æ€§ aã€‚</p><p>ä¿®æ”¹å§”æ‰˜å±æ€§æ—¶ä¸€å®šè¦å°å¿ƒã€‚å¦‚æœæƒ³è®© anotherObject.a çš„å€¼å¢åŠ ï¼Œå”¯ä¸€çš„åŠæ³•æ˜¯ anotherObject.a++ã€‚</p><h3 id="ç±»å‡½æ•°"><a href="#ç±»å‡½æ•°" class="headerlink" title="ç±»å‡½æ•°"></a>ç±»å‡½æ•°</h3><p>å‡½æ•°çš„ä¸€ç§ç‰¹æ®Šç‰¹æ€§:æ‰€æœ‰çš„å‡½æ•°é»˜è®¤éƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªåä¸º prototype çš„å…¬æœ‰å¹¶ä¸”ä¸å¯æšä¸¾çš„å±æ€§ï¼Œå®ƒä¼šæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡: Fooçš„åŸå‹ã€‚æˆ‘ä»¬é€šè¿‡åä¸º Foo.prototype çš„å±æ€§å¼•ç”¨æ¥è®¿é—®å®ƒã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">Foo.prototype; <span class="comment">// &#123; &#125;</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf( a ) === Foo.prototype; <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è°ƒç”¨ new Foo() æ—¶ä¼šåˆ›å»º aï¼Œå…¶ä¸­çš„ä¸€æ­¥å°±æ˜¯ç»™ a ä¸€ä¸ªå†…éƒ¨çš„åŸå‹é“¾ï¼Œå…³è”åˆ° Foo.prototype æŒ‡å‘çš„é‚£ä¸ªå¯¹è±¡ã€‚</p><p>åœ¨ JavaScript ä¸­ï¼Œä¸èƒ½åˆ›å»ºä¸€ä¸ªç±»çš„å¤šä¸ªå®ä¾‹ï¼Œåªèƒ½åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œå®ƒä»¬çš„åŸå‹é“¾å…³è”çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹å¤šæ¬¡å®ä¾‹åŒ–ä¸€ä¸ªç±»ä¸ä¼šè¿›è¡Œå¤åˆ¶ï¼Œ å› æ­¤è¿™äº›å¯¹è±¡ä¹‹é—´å¹¶ä¸ä¼šå®Œå…¨å¤±å»è”ç³»ï¼Œå®ƒä»¬æ˜¯äº’ç›¸å…³è”çš„ã€‚</p><p>é€šè¿‡<code>new Foo()</code>å¾—åˆ°äº†ä¸¤ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬ä¹‹é—´äº’ç›¸å…³è”ï¼Œå°±æ˜¯è¿™æ ·ã€‚æˆ‘ä»¬å¹¶æ²¡æœ‰åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå®é™…ä¸Šæˆ‘ä»¬å¹¶æ²¡æœ‰ä»â€œç±»â€ä¸­å¤åˆ¶ä»»ä½•è¡Œä¸ºåˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œåªæ˜¯è®©ä¸¤ä¸ªå¯¹è±¡äº’ç›¸å…³è”ã€‚</p><p>å®é™…ä¸Šï¼Œç»å¤§å¤šæ•° JavaScript å¼€å‘è€…ä¸çŸ¥é“çš„ç§˜å¯†æ˜¯ï¼Œnew Foo() è¿™ä¸ªå‡½æ•°è°ƒç”¨å®é™…ä¸Šå¹¶æ²¡æœ‰ç›´æ¥åˆ›å»ºå…³è”ï¼Œè¿™ä¸ªå…³è”åªæ˜¯ä¸€ä¸ªæ„å¤–çš„å‰¯ä½œç”¨ã€‚new Foo() åªæ˜¯é—´æ¥å®Œæˆäº†æˆ‘ä»¬çš„ç›®æ ‡:ä¸€ä¸ªå…³è”åˆ°å…¶ä»–å¯¹è±¡çš„æ–°å¯¹è±¡ã€‚</p><p>é€šè¿‡<code>Object.create(..)</code>å¯ä»¥ç›´æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p><p>é€šå¸¸æˆ‘ä»¬è®²åŸå‹ç»§æ‰¿ã€‚ç»§æ‰¿æ„å‘³ç€å¤åˆ¶æ“ä½œã€‚JSé»˜è®¤ä¸ä¼šå¤åˆ¶å¯¹è±¡å±æ€§ã€‚ä¼šåœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºå…³è”ï¼Œè¿™æ ·ä¸€ä¸ªå¯¹è±¡å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ã€‚</p><p>å·®å¼‚ç»§æ‰¿ï¼Ÿ</p><h3 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h3><p>åœ¨ JavaScript ä¸­å¯¹äºâ€œæ„é€ å‡½æ•°â€æœ€å‡†ç¡®çš„è§£é‡Šæ˜¯ï¼Œæ‰€æœ‰å¸¦ new çš„å‡½æ•°è°ƒç”¨ã€‚</p><p>å‡½æ•°ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å½“ä¸”ä»…å½“ä½¿ç”¨ new æ—¶ï¼Œå‡½æ•°è°ƒç”¨ä¼šå˜æˆâ€œæ„é€ å‡½æ•°è°ƒç”¨â€ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">Foo.prototype.constructor === Foo; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> Foo();</span><br><span class="line">a.constructor === Foo; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>Foo.prototype é»˜è®¤(åœ¨ä»£ç ä¸­ç¬¬ä¸€è¡Œå£°æ˜æ—¶)æœ‰ä¸€ä¸ªå…¬æœ‰å¹¶ä¸”ä¸å¯æšä¸¾çš„å±æ€§<code>.constructor</code>ï¼Œè¿™ä¸ªå±æ€§å¼•ç”¨çš„æ˜¯å¯¹è±¡å…³è”çš„å‡½æ•°(æœ¬ä¾‹ä¸­æ˜¯ Foo)ã€‚<br>æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é€šè¿‡â€œæ„é€ å‡½æ•°â€è°ƒç”¨ new Foo() åˆ›å»ºçš„å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ª <code>.constructor</code> å±æ€§ï¼ŒæŒ‡å‘ â€œåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°â€ã€‚</p><p><code>a.constructor</code> åªæ˜¯é€šè¿‡é»˜è®¤çš„åŸå‹å§”æ‰˜æŒ‡å‘ Fooï¼Œè¿™å’Œæ„é€ æ¯«æ— å…³ç³»ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123; <span class="comment">/* .. */</span> &#125;</span><br><span class="line">Foo.prototype = &#123; <span class="comment">/* .. */</span> &#125;; <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°åŸå‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> a1 = <span class="keyword">new</span> Foo();</span><br><span class="line">a1.constructor === Foo; <span class="comment">// false!</span></span><br><span class="line">a1.constructor === <span class="built_in">Object</span>; <span class="comment">// true!</span></span><br></pre></td></tr></table></figure><p>Object(..) å¹¶æ²¡æœ‰â€œæ„é€ â€a1ï¼Œçœ‹èµ·æ¥åº”è¯¥æ˜¯ Foo()â€œæ„é€ â€äº†å®ƒã€‚<br>å¤§éƒ¨åˆ†å¼€å‘è€… éƒ½è®¤ä¸ºæ˜¯ Foo() æ‰§è¡Œäº†æ„é€ å·¥ä½œï¼Œä½†æ˜¯é—®é¢˜åœ¨äºï¼Œå¦‚æœä½ è®¤ä¸º<code>constructor</code>è¡¨ç¤ºâ€œç”±â€¦â€¦ æ„é€ â€çš„è¯ï¼Œa1.constructor åº”è¯¥æ˜¯ Fooï¼Œä½†æ˜¯å®ƒå¹¶ä¸æ˜¯ Foo !</p><p>a1 å¹¶æ²¡æœ‰ .constructor å±æ€§ï¼Œæ‰€ä»¥å®ƒä¼šå§”æ‰˜åŸå‹é“¾ä¸Šçš„ Foo. prototypeã€‚ä½†æ˜¯è¿™ä¸ªå¯¹è±¡ä¹Ÿæ²¡æœ‰ .constructor å±æ€§(ä¸è¿‡é»˜è®¤çš„ Foo.prototype å¯¹è±¡æœ‰è¿™ ä¸ªå±æ€§!)ï¼Œ<br>æ‰€ä»¥å®ƒä¼šç»§ç»­å§”æ‰˜ï¼Œè¿™æ¬¡ä¼šå§”æ‰˜ç»™å§”æ‰˜é“¾é¡¶ç«¯çš„ Object.prototypeã€‚è¿™ä¸ªå¯¹è±¡ æœ‰ .constructor å±æ€§ï¼ŒæŒ‡å‘å†…ç½®çš„ Object(..) å‡½æ•°ã€‚</p><p>å¯¹è±¡çš„ .constructor ä¼šé»˜è®¤æŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥é€šè¿‡å¯¹è±¡çš„ .prototype å¼•ç”¨ã€‚</p><p><strong>constructor å¹¶ä¸è¡¨ç¤ºè¢«æ„é€ </strong><br>.constructor å¹¶ä¸æ˜¯ä¸€ä¸ªä¸å¯å˜å±æ€§ã€‚å®ƒæ˜¯ä¸å¯æšä¸¾çš„ï¼Œä½†æ˜¯å®ƒçš„å€¼æ˜¯å¯å†™çš„ã€‚æ­¤å¤–ï¼Œä½ å¯ä»¥ç»™ä»»æ„åŸå‹é“¾ä¸­çš„ä»»æ„å¯¹è±¡æ·»åŠ ä¸€ä¸ªåä¸º constructor çš„å±æ€§æˆ–è€…å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œä½ å¯ä»¥ä»»æ„å¯¹å…¶èµ‹å€¼ã€‚</p><h3 id="åŸå‹ç»§æ‰¿"><a href="#åŸå‹ç»§æ‰¿" class="headerlink" title="åŸå‹ç»§æ‰¿"></a>åŸå‹ç»§æ‰¿</h3><p><code>Bar.prototype = Object.create()</code><br>Object.create(..) ä¼šå‡­ç©ºåˆ›å»ºä¸€ä¸ªâ€œæ–°â€å¯¹è±¡å¹¶æŠŠæ–°å¯¹è±¡å†…éƒ¨çš„åŸå‹é“¾å…³è”åˆ°æŒ‡å®šçš„å¯¹è±¡(æœ¬ä¾‹ä¸­æ˜¯ Foo.prototype)ã€‚<br>æ¢å¥è¯è¯´ï¼Œè¿™æ¡è¯­å¥çš„æ„æ€æ˜¯:â€œåˆ›å»ºä¸€ä¸ªæ–°çš„ Bar.prototype å¯¹è±¡å¹¶æŠŠå®ƒå…³è”åˆ° Foo. prototypeâ€ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å’Œä½ æƒ³è¦çš„æœºåˆ¶ä¸ä¸€æ ·!</span></span><br><span class="line">Bar.prototype = Foo.prototype;</span><br><span class="line"><span class="comment">// åŸºæœ¬ä¸Šæ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œä½†æ˜¯å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›å‰¯ä½œç”¨ :(</span></span><br><span class="line">Bar.prototype = <span class="keyword">new</span> Foo();</span><br></pre></td></tr></table></figure><p>Bar.prototype = Foo.prototype å¹¶ä¸ä¼šåˆ›å»ºä¸€ä¸ªå…³è”åˆ° Bar.prototype çš„æ–°å¯¹è±¡ï¼Œå®ƒåªæ˜¯è®© Bar.prototype ç›´æ¥å¼•ç”¨ Foo.prototype å¯¹è±¡ã€‚<br>å› æ­¤å½“ä½ æ‰§è¡Œç±»ä¼¼<code>Bar.prototype. myLabel = ...</code>çš„èµ‹å€¼è¯­å¥æ—¶ä¼šç›´æ¥ä¿®æ”¹ Foo.prototype å¯¹è±¡æœ¬èº«ã€‚<br>æ˜¾ç„¶è¿™ä¸æ˜¯ä½ æƒ³è¦çš„ç»“æœï¼Œå¦åˆ™ä½ æ ¹æœ¬ä¸éœ€è¦ Bar å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨ Foo å°±å¯ä»¥äº†ï¼Œè¿™æ ·ä»£ç ä¹Ÿä¼šæ›´ç®€å•ä¸€äº›ã€‚</p><p>Bar.prototype = new Foo() çš„ç¡®ä¼šåˆ›å»ºä¸€ä¸ªå…³è”åˆ° Bar.prototype çš„æ–°å¯¹è±¡ã€‚<br>ä½†æ˜¯å®ƒä½¿ç”¨äº† Foo(..) çš„â€œæ„é€ å‡½æ•°è°ƒç”¨â€ï¼Œå¦‚æœå‡½æ•° Foo æœ‰ä¸€äº›å‰¯ä½œç”¨(æ¯”å¦‚å†™æ—¥å¿—ã€ä¿®æ”¹çŠ¶æ€ã€æ³¨å†Œåˆ°å…¶ä»–å¯¹è±¡ã€ç»™ this æ·»åŠ æ•°æ®å±æ€§ï¼Œç­‰ç­‰)çš„è¯ï¼Œ<br>å°±ä¼šå½±å“åˆ° Bar() çš„â€œåä»£â€ï¼Œåæœ ä¸å ªè®¾æƒ³ã€‚</p><p>å¯¹æ¯”ä¸€ä¸‹ä¸¤ç§æŠŠ Bar.prototype å…³è”åˆ° Foo.prototype çš„æ–¹æ³•:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6 ä¹‹å‰éœ€è¦æŠ›å¼ƒé»˜è®¤çš„ Bar.prototype</span></span><br><span class="line">Bar.ptototype = <span class="built_in">Object</span>.create( Foo.prototype );</span><br><span class="line"><span class="comment">// ES6 å¼€å§‹å¯ä»¥ç›´æ¥ä¿®æ”¹ç°æœ‰çš„</span></span><br><span class="line">Bar.prototype <span class="built_in">Object</span>.setPrototypeOf( Bar.prototype, Foo.prototype );</span><br></pre></td></tr></table></figure><p>å¦‚æœå¿½ç•¥æ‰ Object.create(..) æ–¹æ³•å¸¦æ¥çš„è½»å¾®æ€§èƒ½æŸå¤±(æŠ›å¼ƒçš„å¯¹è±¡éœ€è¦è¿›è¡Œåƒåœ¾å›æ”¶)ï¼Œå®ƒå®é™…ä¸Šæ¯” ES6 åŠå…¶ä¹‹åçš„æ–¹æ³•æ›´çŸ­è€Œä¸”å¯è¯»æ€§æ›´é«˜ã€‚ä¸è¿‡æ— è®ºå¦‚ä½•ï¼Œè¿™æ˜¯ä¸¤ç§å®Œå…¨ä¸åŒçš„è¯­æ³•ã€‚</p><h3 id="æ£€æŸ¥ç±»å…³ç³»"><a href="#æ£€æŸ¥ç±»å…³ç³»" class="headerlink" title="æ£€æŸ¥ç±»å…³ç³»"></a>æ£€æŸ¥ç±»å…³ç³»</h3><p><code>instanceof</code> æ“ä½œç¬¦çš„å·¦æ“ä½œæ•°æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œå³æ“ä½œæ•°æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p><p>åœ¨ a çš„æ•´æ¡åŸå‹é“¾ä¸­æ˜¯å¦æœ‰æŒ‡å‘ Foo.prototype çš„å¯¹è±¡?</p><p>è¿™ä¸ªæ–¹æ³•åªèƒ½å¤„ç†å¯¹è±¡(a)å’Œå‡½æ•°(å¸¦ .prototype å¼•ç”¨çš„ Foo)ä¹‹é—´çš„å…³ç³»ã€‚å¦‚æœä½ æƒ³åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡(æ¯”å¦‚ a å’Œ b)ä¹‹é—´æ˜¯å¦é€šè¿‡åŸå‹é“¾å…³è”ï¼Œåªç”¨ instanceof æ— æ³•å®ç°ã€‚</p><p>ç¬¬äºŒç§åˆ¤æ–­åå°„çš„æ–¹æ³•ï¼š</p><p><code>Foo.prototype.isPrototypeOf( a ); // true</code></p><p>b æ˜¯å¦å‡ºç°åœ¨ c çš„åŸå‹é“¾ä¸­?<br><code>b.isPrototypeOf( c );</code></p><p>ç›´æ¥è·å–ä¸€ä¸ªå¯¹è±¡åŸå‹é“¾çš„æ–¹æ³•<code>Object.getPrototypeOf(a)</code></p><p><code>Object.getPrototypeOf( a ) === Foo.prototype; // true</code></p><p>éæ ‡å‡†çš„æ–¹æ³•<code>a.__proto__ === Foo.prototype; // true</code></p><p><code>.constructor</code>å’Œ<code>.__proto__</code>ä¸€æ ·ï¼Œå¹¶ä¸å­˜åœ¨äºä½ æ­£åœ¨ä½¿ç”¨çš„å¯¹è±¡ä¸­ (æœ¬ä¾‹ä¸­æ˜¯ a)ã€‚<br>å®ƒå’Œå…¶ä»–çš„å¸¸ç”¨å‡½æ•°(.toString()ã€.isPrototypeOf(..)ï¼Œç­‰ç­‰)<br>ä¸€æ ·ï¼Œå­˜åœ¨äºå†…ç½®çš„ Object.prototype ä¸­ã€‚æ˜¯ä¸å¯æšä¸¾çš„ã€‚</p><p>.<strong>proto</strong> çš„å®ç°å¤§è‡´ä¸Šæ˜¯è¿™æ ·çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty( <span class="built_in">Object</span>.prototype, <span class="string">&quot;__proto__&quot;</span>, &#123;</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Object</span>.getPrototypeOf( <span class="built_in">this</span> ); &#125;,</span><br><span class="line">    set: <span class="function"><span class="keyword">function</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ES6 ä¸­çš„ setPrototypeOf(..)</span></span><br><span class="line">        <span class="built_in">Object</span>.setPrototypeOf( <span class="built_in">this</span>, o );</span><br><span class="line">        <span class="keyword">return</span> o;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡å…³è”"><a href="#å¯¹è±¡å…³è”" class="headerlink" title="å¯¹è±¡å…³è”"></a>å¯¹è±¡å…³è”</h3><p><code>Object.create(..)</code> ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡(bar)å¹¶æŠŠå®ƒå…³è”åˆ°æˆ‘ä»¬æŒ‡å®šçš„å¯¹è±¡(foo)ï¼Œ<br>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å……åˆ†å‘æŒ¥åŸå‹é“¾æœºåˆ¶çš„å¨åŠ›(å§”æ‰˜)å¹¶ä¸”é¿å…ä¸å¿…è¦çš„éº»çƒ¦(æ¯”å¦‚ä½¿ç”¨ new çš„æ„é€ å‡½æ•°è°ƒç”¨ä¼šç”Ÿæˆ <code>.prototype</code> å’Œ <code>.constructor</code> å¼•ç”¨)ã€‚</p><p><code>Object.create()</code>çš„polyfillä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Object</span>.create) &#123;</span><br><span class="line">    <span class="built_in">Object</span>.create = <span class="function"><span class="keyword">function</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">        F.prototype = o;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="II-ç¬¬6ç« -è¡Œä¸ºå§”æ‰˜"><a href="#II-ç¬¬6ç« -è¡Œä¸ºå§”æ‰˜" class="headerlink" title="II-ç¬¬6ç«  è¡Œä¸ºå§”æ‰˜"></a>II-ç¬¬6ç«  è¡Œä¸ºå§”æ‰˜</h2><p>å§”æ‰˜è¡Œä¸ºæ„å‘³ç€æŸäº›å¯¹è±¡(XYZ)åœ¨æ‰¾ä¸åˆ°å±æ€§æˆ–è€…æ–¹æ³•å¼•ç”¨æ—¶ä¼šæŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™å¦ä¸€ä¸ªå¯¹è±¡(Task)ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Task = &#123;</span><br><span class="line">    setID: <span class="function"><span class="keyword">function</span>(<span class="params">ID</span>) </span>&#123; <span class="built_in">this</span>.id = ID; &#125;,</span><br><span class="line">    outputID: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log( <span class="built_in">this</span>.id ); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è®©XYZå§”æ‰˜Task</span></span><br><span class="line">XYZ = <span class="built_in">Object</span>.create( Task );</span><br><span class="line">XYZ.prepareTask = <span class="function"><span class="keyword">function</span>(<span class="params">ID,Label</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.setID(ID);</span><br><span class="line">    <span class="built_in">this</span>.label = Label;</span><br><span class="line">&#125;;</span><br><span class="line">XYZ.outputTaskDetails = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.outputID();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.label);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ç§æå…¶å¼ºå¤§çš„è®¾è®¡æ¨¡å¼ï¼Œå’Œçˆ¶ç±»ã€å­ç±»ã€ç»§æ‰¿ã€å¤šæ€ç­‰æ¦‚å¿µå®Œå…¨ä¸åŒã€‚åœ¨ä½ çš„è„‘æµ·ä¸­å¯¹è±¡å¹¶ä¸æ˜¯æŒ‰ç…§çˆ¶ç±»åˆ°å­ç±»çš„å…³ç³»å‚ç›´ç»„ç»‡çš„ï¼Œè€Œæ˜¯é€šè¿‡ä»»æ„æ–¹å‘çš„å§”æ‰˜å…³è”å¹¶æ’ç»„ç»‡çš„ã€‚</p><p>å†™ä¸ä¸‹å»äº†~~</p><p>å­¦ä¸ç²¾ï¼Œæ‰€ä»¥è®²ä¸é€š</p><p>å¾…æˆ‘ç†è§£é€å½»å†æ¥æ›´æ–°å§</p>]]></content>
      
      
      
        <tags>
            
            <tag> è¯»ä¹¦ç¬”è®° </tag>
            
            <tag> ç²¾è¯» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç²¾è¯»ä½ ä¸çŸ¥é“çš„JavaScriptä¸­å·</title>
      <link href="posts/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%B2%BE%E8%AF%BB%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%E4%B8%AD%E5%8D%B7/"/>
      <url>posts/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%B2%BE%E8%AF%BB%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%E4%B8%AD%E5%8D%B7/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="I-ç¬¬1ç« -ç±»å‹"><a href="#I-ç¬¬1ç« -ç±»å‹" class="headerlink" title="I-ç¬¬1ç«  ç±»å‹"></a>I-ç¬¬1ç«  ç±»å‹</h2><p>ä¸€ä¸ªäººèº«ä¸Šçš„ç‰¹å¼‚æ€§å’Œä¸€ä¸ªäººèº«ä¸Šçš„ç‰¹å¼‚æ€§ä¸æƒŠå¥‡æ€§å¹¶ä¸ä¼šå¯¹å¦ä¸€äººäº§ç”Ÿå‹åˆ¶ã€‚ä½ èº«ä¸Šçš„å¤©æ‰ï¼Œä¼šæ¿€å‘æˆ‘èº«ä¸Šçš„å¤©æ‰ã€‚</p><h3 id="å†…ç½®ç±»å‹"><a href="#å†…ç½®ç±»å‹" class="headerlink" title="å†…ç½®ç±»å‹"></a>å†…ç½®ç±»å‹</h3><p>ECMAScript æ ‡å‡†å®šä¹‰äº† 8 ç§æ•°æ®ç±»å‹:</p><p>7 ç§åŸå§‹ç±»å‹:<br>Undefined<br>Null<br>Number<br>Boolean<br>BigInt<br>String<br>Symbol<br>å’Œ Object(åŸºæœ¬ç±»å‹)</p><p>è®°å¿†å£è¯€ï¼šæ¬§å‘¦(O)ä½ (U)ä¿©(2ä¸ª)ç‰›(N)é€¼(B)å•¥(S)</p><p>ç”¨typeofæ¥æŸ¥çœ‹å€¼çš„ç±»å‹ï¼Œè¿”å›çš„æ˜¯å­—ç¬¦ä¸²ã€‚ä½†ç±»å‹å’Œå®ƒä»¬çš„å­—ç¬¦ä¸²å€¼ä¸ä¸€ä¸€å¯¹åº”</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> === <span class="string">&#x27;undefined&#x27;</span>  <span class="comment">// true</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span> === <span class="string">&#x27;boolean&#x27;</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">12</span> === <span class="string">&#x27;number&#x27;</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&#x27;12&#x27;</span> === <span class="string">&#x27;string&#x27;</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">typeof</span> &#123; <span class="attr">life</span>: <span class="number">12</span> &#125; === <span class="string">&#x27;object&#x27;</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>() === <span class="string">&#x27;symbol&#x27;</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">typeof</span> BigInt(<span class="string">&#x27;1&#x27;</span>) === <span class="string">&#x27;bigint&#x27;</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Object</span>(BigInt(<span class="string">&#x27;2&#x27;</span>)) === <span class="string">&#x27;object&#x27;</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ä¸€æ ·çš„</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> === <span class="string">&#x27;object&#x27;</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æµ‹nullå€¼çš„ç±»å‹éœ€è¦å¤åˆæ¡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="literal">null</span>;</span><br><span class="line">(!a &amp;&amp; <span class="keyword">typeof</span> a === <span class="string">&#x27;object&#x27;</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// functionä¹Ÿæ˜¯JSçš„å†…ç½®ç±»å‹ï¼Œå®é™…æ˜¯objectçš„å­ç±»å‹</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;<span class="comment">/**/&#125; === &#x27;function&#x27;; // true</span></span><br><span class="line"><span class="comment">// æ•°ç»„ä¹Ÿæ˜¯objectçš„å­ç±»å‹</span></span><br><span class="line"><span class="comment">typeof [1,2,3] === &#x27;object&#x27; // true</span></span><br></pre></td></tr></table></figure><h3 id="å€¼å’Œç±»å‹"><a href="#å€¼å’Œç±»å‹" class="headerlink" title="å€¼å’Œç±»å‹"></a>å€¼å’Œç±»å‹</h3><p>JSä¸­å˜é‡æ²¡æœ‰ç±»å‹ï¼Œå€¼æ‰æœ‰ã€‚å˜é‡å¯ä»¥éšæ—¶æŒæœ‰ä»»ä½•ç±»å‹çš„å€¼ã€‚</p><p>typeofå¾—åˆ°çš„ç»“æœä¸æ˜¯è¯¥å˜é‡çš„ç±»å‹ï¼Œè€Œæ˜¯è¯¥å˜é‡æŒæœ‰å€¼çš„ç±»å‹ã€‚è¿”å›çš„æ€»æ˜¯å­—ç¬¦ä¸²ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">typeof</span> a; <span class="comment">// &#x27;number&#x27;</span></span><br><span class="line"></span><br><span class="line">a = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">typeof</span> a; <span class="comment">// &#x27;boolean&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">typeof</span> <span class="number">12</span>; <span class="comment">// &#x27;string&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="typeof-Undeclared"><a href="#typeof-Undeclared" class="headerlink" title="typeof Undeclared"></a>typeof Undeclared</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a;</span><br><span class="line">a; <span class="comment">// undefined</span></span><br><span class="line">b; <span class="comment">// ReferenceError: b is not defined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> a; <span class="comment">// &#x27;undefined&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> b; <span class="comment">// &#x27;undefined&#x27;</span></span><br></pre></td></tr></table></figure><p>typeofå¯¹æœªå®šä¹‰çš„å˜é‡ä¹Ÿè¿”å›<code>undefined</code>ã€‚ä¸”æ²¡æœ‰æŠ¥é”™ã€‚</p><p>è¿™æ˜¯å› ä¸ºtypeofæœ‰ä¸€ä¸ªç‰¹æ®Šçš„å®‰å…¨é˜²èŒƒæœºåˆ¶ã€‚</p><p>å¤šä¸ªè„šæœ¬ä¼šåœ¨å…±äº«çš„å…¨å±€å‘½åç©ºé—´ä¸­åŠ è½½å˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™æ ·ä¼šæŠ›å‡ºé”™è¯¯</span></span><br><span class="line"><span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">&#x27;Debugging is starting&#x27;</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™æ ·æ˜¯å®‰å…¨çš„</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> DEBUG !== <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">&#x27;Debugging is starting&#x27;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹å†…å»ºAPIä¹Ÿæœ‰å¸®åŠ©</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> atob === <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">    atob = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">/*..*/</span> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>typeofå®‰å…¨æœºåˆ¶ä¹Ÿå¯ä»¥ç”¨æ¥åˆ¤æ–­éå…¨å±€å˜é‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">FeatureXYZ</span>(<span class="params"></span>) </span>&#123; <span class="comment">/*.. my XYZ feature ..*/</span> &#125;</span><br><span class="line">    <span class="comment">// åŒ…å«doSomethingCool(..)</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doSomethingCool</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> helper =</span><br><span class="line">            (<span class="keyword">typeof</span> FeatureXYZ !== <span class="string">&#x27;undefined&#x27;</span>) ? FeatureXYZ :</span><br><span class="line">            <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">/*.. default feature ..*/</span> &#125;;</span><br><span class="line">        <span class="keyword">var</span> val = helper();</span><br><span class="line">        <span class="comment">// ..</span></span><br><span class="line">    &#125;</span><br><span class="line">    doSomethingCool();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>è¿™é‡ŒFeatureXYZä¸æ˜¯å…¨å±€å˜é‡ï¼Œä¹Ÿå¯ä»¥ç”¨typeofå®‰å…¨é˜²èŒƒæœºåˆ¶æ¥åšæ£€æŸ¥</p><p>ä¹Ÿå¯ä»¥ç”¨ä¾èµ–æ³¨å…¥æ–¹å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomethingCool</span>(<span class="params">FeatureXYZ</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> helper = FeatureXYZ ||</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">/*.. default feature ..*/</span> &#125;;</span><br><span class="line">    <span class="keyword">var</span> val = helper();</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»å‹å°ç»“"><a href="#ç±»å‹å°ç»“" class="headerlink" title="ç±»å‹å°ç»“"></a>ç±»å‹å°ç»“</h3><ol><li>äº†è§£JSå†…ç½®ç±»å‹</li><li>æ ¹æ®typeofåˆ¤æ–­ç±»å‹</li><li>typeofçš„å®‰å…¨æœºåˆ¶åº”ç”¨åœºæ™¯</li></ol><h2 id="I-ç¬¬2ç« -å€¼"><a href="#I-ç¬¬2ç« -å€¼" class="headerlink" title="I-ç¬¬2ç«  å€¼"></a>I-ç¬¬2ç«  å€¼</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é€šè¿‡è¿™ç« çš„å­¦ä¹ ï¼Œå¯ä»¥äº†è§£ï¼Œæ•°ç»„ï¼Œå­—ç¬¦ä¸²ï¼Œç‰¹æ®Šæ•°å€¼ï¼Œå€¼ä¼ é€’å’Œå€¼å¼•ç”¨çš„åŒºåˆ«</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><p>JSçš„æ•°ç»„å¯å®¹çº³ä»»ä½•ç±»å‹çš„å€¼ï¼Œæ•°ç»„å£°æ˜åå³å¯æ·»åŠ å€¼ï¼Œä¸ç”¨é¢„è®¾å¤§å°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>, [<span class="number">3</span>]];</span><br><span class="line">a.length; <span class="comment">// 3</span></span><br><span class="line">a[<span class="number">2</span>][<span class="number">0</span>] === <span class="number">3</span>; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">4</span>] =  <span class="number">5</span>;</span><br><span class="line">a[<span class="number">3</span>]; <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p>a[3]ä¸ºundefinedï¼Œç§°ä½œâ€ç¨€ç–æ•°ç»„â€ï¼ˆsparse arrayï¼‰ã€‚è¿™é‡Œçš„undefinedä¸æ˜¾ç¤ºèµ‹å€¼ä¸ºundefinedä¸åŒã€‚</p><p>æ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ã€‚å¯ä»¥è‡ªå®šä¹‰å±æ€§(ä¸è®¡ç®—åœ¨æ•°ç»„é•¿åº¦å†…)ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>];</span><br><span class="line">a[<span class="string">&#x27;foo&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">a.length; <span class="comment">// 1</span></span><br><span class="line">a[<span class="string">&#x27;foo&#x27;</span>]; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h3 id="ç±»æ•°ç»„"><a href="#ç±»æ•°ç»„" class="headerlink" title="ç±»æ•°ç»„"></a>ç±»æ•°ç»„</h3><p>ç±»æ•°ç»„è½¬æ•°ç»„å¸¸ç”¨æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// slice() è¿”å›å‚æ•°åˆ—è¡¨çš„ä¸€ä¸ªæ•°ç»„å¤æœ¬ã€‚</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="built_in">Array</span>.prototype.slice.call( <span class="built_in">arguments</span> );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = <span class="built_in">Array</span>.from( <span class="built_in">arguments</span> );</span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><p>å­—ç¬¦ä¸²å’Œæ•°ç»„ç›¸ä¼¼ï¼Œéƒ½æœ‰lengthå±æ€§ï¼ŒindexOf, concatæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b = [<span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;o&#x27;</span>];</span><br><span class="line"></span><br><span class="line">a.length; <span class="comment">// 3</span></span><br><span class="line">b.length; <span class="comment">// 3</span></span><br><span class="line">a.indexOf(<span class="string">&#x27;o&#x27;</span>); <span class="comment">// 1</span></span><br><span class="line">b.indexOf(<span class="string">&#x27;o&#x27;</span>); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = a.concat( <span class="string">&#x27;bar&#x27;</span> );<span class="comment">// &#x27;foobar&#x27;</span></span><br><span class="line"><span class="keyword">var</span> d = b.concat( [<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;r&#x27;</span>] );<span class="comment">// [&#x27;f&#x27;,&#x27;o&#x27;,&#x27;o&#x27;,&#x27;b&#x27;,&#x27;a&#x27;,&#x27;r&#x27;]</span></span><br><span class="line">a === c;<span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">b === d;<span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">a; <span class="comment">// &#x27;foo&#x27;</span></span><br><span class="line"></span><br><span class="line">b; <span class="comment">// [&#x27;f&#x27;,&#x27;o&#x27;,&#x27;o&#x27;]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²ä¸å¯å˜æ˜¯æŒ‡å­—ç¬¦ä¸²çš„æˆå‘˜å‡½æ•°ä¸ä¼šæ”¹å˜å…¶åŸå§‹å€¼ï¼Œè€Œæ˜¯åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚è€Œæ•°ç»„çš„æˆå‘˜å‡½æ•°éƒ½æ˜¯åœ¨å…¶åŸå§‹å€¼ä¸Šè¿›è¡Œæ“ä½œã€‚</p><p>å€ŸåŠ©æ•°ç»„æ–¹æ³•æ¥å¤„ç†å­—ç¬¦ä¸²</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a.join;   <span class="comment">// undefined</span></span><br><span class="line">a.map;   <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="built_in">Array</span>.prototype.join.call( a, <span class="string">&#x27;-&#x27;</span> );</span><br><span class="line"><span class="keyword">var</span> d = <span class="built_in">Array</span>.prototype.map.call( a, <span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> v.toUpperCase() + <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">&#125; ).join( <span class="string">&#x27;&#x27;</span> );</span><br><span class="line"></span><br><span class="line">c;    <span class="comment">// &#x27;f-o-o&#x27;</span></span><br><span class="line">d;    <span class="comment">// &#x27;F.O.O.&#x27;</span></span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²åè½¬</p><p>å­—ç¬¦ä¸²æ²¡æœ‰<code>reverse</code>æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c = a</span><br><span class="line"><span class="comment">// å°†açš„å€¼è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„</span></span><br><span class="line">.split( <span class="string">&quot;&quot;</span> )</span><br><span class="line"><span class="comment">// å°†æ•°ç»„ä¸­çš„å­—ç¬¦è¿›è¡Œå€’è½¬</span></span><br><span class="line">.reverse()</span><br><span class="line"><span class="comment">// å°†æ•°ç»„ä¸­çš„å­—ç¬¦æ‹¼æ¥å›å­—ç¬¦ä¸²</span></span><br><span class="line">.join( <span class="string">&quot;&quot;</span> );</span><br><span class="line">c; <span class="comment">// &quot;oof&quot;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœç»å¸¸ä»¥å­—ç¬¦æ•°ç»„æ–¹å¼å¤„ç†å­—ç¬¦ä¸²çš„è¯ï¼Œå€’ä¸å¦‚ç›´æ¥ç”¨æ•°ç»„ã€‚åœ¨éœ€è¦æ—¶ä½¿ç”¨<code>join()</code>å°†æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ã€‚</p><h3 id="æ•°å­—"><a href="#æ•°å­—" class="headerlink" title="æ•°å­—"></a>æ•°å­—</h3><p>toFixed()è¿”å›çš„æ˜¯å­—ç¬¦ä¸²<br>toPrecision(..) æ–¹æ³•ç”¨æ¥æŒ‡å®šæœ‰æ•ˆæ•°ä½çš„æ˜¾ç¤ºä½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42.59</span>;</span><br><span class="line">a.toFixed( <span class="number">0</span> ); <span class="comment">// &quot;43&quot;</span></span><br><span class="line">a.toFixed( <span class="number">1</span> ); <span class="comment">// &quot;42.6&quot;</span></span><br><span class="line">a.toFixed( <span class="number">2</span> ); <span class="comment">// &quot;42.59&quot;</span></span><br><span class="line">a.toFixed( <span class="number">3</span> ); <span class="comment">// &quot;42.590&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">42.59</span>;</span><br><span class="line"></span><br><span class="line">a.toPrecision( <span class="number">1</span> ); <span class="comment">// &quot;4e+1&quot;</span></span><br><span class="line">a.toPrecision( <span class="number">2</span> ); <span class="comment">// &quot;43&quot;</span></span><br><span class="line">a.toPrecision( <span class="number">3</span> ); <span class="comment">// &quot;42.6&quot;</span></span><br><span class="line">a.toPrecision( <span class="number">4</span> ); <span class="comment">// &quot;42.59&quot;</span></span><br><span class="line">a.toPrecision( <span class="number">5</span> ); <span class="comment">// &quot;42.590&quot;</span></span><br></pre></td></tr></table></figure><p>ä¸è¿‡å¯¹äº <code>.</code> è¿ç®—ç¬¦éœ€è¦ç»™äºˆç‰¹åˆ«æ³¨æ„ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—å­—ç¬¦ï¼Œä¼šè¢«ä¼˜å…ˆè¯†åˆ«ä¸ºæ•°å­—å¸¸é‡çš„ä¸€éƒ¨åˆ†ï¼Œç„¶åæ‰æ˜¯å¯¹è±¡å±æ€§è®¿é—®è¿ç®—ç¬¦ã€‚</p><p><code>42.tofixed(3)</code> æ˜¯æ— æ•ˆè¯­æ³•ï¼Œå› ä¸º <code>.</code> è¢«è§†ä¸ºå¸¸é‡ <code>42.</code> çš„ä¸€éƒ¨åˆ†(å¦‚å‰æ‰€è¿°)ï¼Œæ‰€ä»¥æ²¡æœ‰ <code>.</code> å± æ€§è®¿é—®è¿ç®—ç¬¦æ¥è°ƒç”¨ tofixed æ–¹æ³•ã€‚<br><code>42..tofixed(3)</code> åˆ™æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºç¬¬ä¸€ä¸ª <code>.</code> è¢«è§†ä¸º number çš„ä¸€éƒ¨åˆ†ï¼Œç¬¬äºŒä¸ª <code>.</code> æ˜¯å±æ€§è®¿é—®è¿ç®—ç¬¦ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// invalid syntax:</span></span><br><span class="line"><span class="number">42.</span>toFixed( <span class="number">3</span> ); <span class="comment">// SyntaxError</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// these are all valid:</span></span><br><span class="line">(<span class="number">42</span>).toFixed( <span class="number">3</span> ); <span class="comment">// &quot;42.000&quot;</span></span><br><span class="line"><span class="number">0.42</span>.toFixed( <span class="number">3</span> ); <span class="comment">// &quot;0.420&quot;</span></span><br><span class="line"><span class="number">42.</span>.toFixed( <span class="number">3</span> ); <span class="comment">// &quot;42.000&quot;</span></span><br><span class="line"><span class="number">42</span> .toFixed(<span class="number">3</span>); <span class="comment">// &quot;42.000&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ€æ ·åˆ¤æ–­<code>0.1+0.2 === 0.3</code></p><p>æœ€å¸¸è§çš„æ–¹æ³•æ˜¯è®¾ç½®ä¸€ä¸ªè¯¯å·®èŒƒå›´å€¼ï¼Œé€šå¸¸ç§°ä¸ºâ€œæœºå™¨ç²¾åº¦â€(machine epsilon)ï¼Œå¯¹JavaScriptçš„æ•°å­—æ¥è¯´ï¼Œè¿™ä¸ªå€¼é€šå¸¸æ˜¯ 2^-52 (2.220446049250313e-16)ã€‚<br>ä» ES6 å¼€å§‹ï¼Œè¯¥å€¼å®šä¹‰åœ¨ Number.EPSILON ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œä¹Ÿå¯ä»¥ä¸º ES6 ä¹‹å‰<br>çš„ç‰ˆæœ¬å†™ polyfill:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Number</span>.EPSILON) &#123;</span><br><span class="line">    <span class="built_in">Number</span>.EPSILON = <span class="built_in">Math</span>.pow(<span class="number">2</span>,-<span class="number">52</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ Number.EPSILON æ¥æ¯”è¾ƒä¸¤ä¸ªæ•°å­—æ˜¯å¦ç›¸ç­‰(åœ¨æŒ‡å®šçš„è¯¯å·®èŒƒå›´å†…):</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">numbersCloseEnoughToEqual</span>(<span class="params">n1,n2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.abs( n1 - n2 ) &lt; <span class="built_in">Number</span>.EPSILON;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">0.1</span> + <span class="number">0.2</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">0.3</span>;</span><br><span class="line">numbersCloseEnoughToEqual( a, b );  <span class="comment">// true</span></span><br><span class="line">numbersCloseEnoughToEqual( <span class="number">0.0000001</span>, <span class="number">0.0000002</span> ); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>æ•°å­—â€œå®‰å…¨â€å‘ˆç°çš„æœ€å¤§æ•´æ•°æ˜¯2^53 - 1ï¼Œå³9007199254740991ï¼Œåœ¨ES6ä¸­è¢«å®šä¹‰ä¸º Number.MAX_SAFE_INTEGERã€‚<br>æœ€å°æ•´æ•°æ˜¯ -9007199254740991ï¼Œ åœ¨ ES6 ä¸­ è¢« å®š ä¹‰ ä¸º Number. MIN_SAFE_INTEGERã€‚</p><p>æ•´æ•°æ£€æµ‹<code>Number.isInteger(..)</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isInteger( <span class="number">42</span> ); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger( <span class="number">42.000</span> ); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger( <span class="number">42.3</span> ); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// polyfill</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Number</span>.isInteger) &#123;</span><br><span class="line">    <span class="built_in">Number</span>.isInteger = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">typeof</span> num == <span class="string">&quot;number&quot;</span> &amp;&amp; num % <span class="number">1</span> == <span class="number">0</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ£€æµ‹å®‰å…¨çš„æ•´æ•°<code>Number.isSafeInteger(..)</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isSafeInteger( <span class="built_in">Number</span>.MAX_SAFE_INTEGER );<span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger( <span class="built_in">Math</span>.pow( <span class="number">2</span>, <span class="number">53</span> ) );<span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger( <span class="built_in">Math</span>.pow( <span class="number">2</span>, <span class="number">53</span> ) - <span class="number">1</span> );<span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// polyfill</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Number</span>.isSafeInteger) &#123; <span class="built_in">Number</span>.isSafeInteger = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Number</span>.isInteger( num ) &amp;&amp;</span><br><span class="line">        <span class="built_in">Math</span>.abs( num ) &lt;= <span class="built_in">Number</span>.MAX_SAFE_INTEGER;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ç‰¹æ®Šæ•°å€¼"><a href="#ç‰¹æ®Šæ•°å€¼" class="headerlink" title="ç‰¹æ®Šæ•°å€¼"></a>ç‰¹æ®Šæ•°å€¼</h3><h4 id="undefinedå’Œnull"><a href="#undefinedå’Œnull" class="headerlink" title="undefinedå’Œnull"></a>undefinedå’Œnull</h4><p>undefined ç±»å‹åªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ undefinedã€‚null ç±»å‹ä¹Ÿåªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ nullã€‚å®ƒä»¬çš„å<br>ç§°æ—¢æ˜¯ç±»å‹ä¹Ÿæ˜¯å€¼ã€‚</p><ul><li>null æŒ‡ç©ºå€¼(empty value)ï¼Œæ›¾èµ‹è¿‡å€¼ï¼Œä½†æ˜¯ç›®å‰æ²¡æœ‰å€¼</li><li>undefined æŒ‡æ²¡æœ‰å€¼(missing value)ï¼Œä»æœªèµ‹å€¼</li></ul><p>null æ˜¯ä¸€ä¸ªç‰¹æ®Šå…³é”®å­—ï¼Œä¸æ˜¯æ ‡è¯†ç¬¦ï¼Œæˆ‘ä»¬ä¸èƒ½å°†å…¶å½“ä½œå˜é‡æ¥ä½¿ç”¨å’Œèµ‹å€¼ã€‚ç„¶è€Œ<br>undefined å´æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«å½“ä½œå˜é‡æ¥ä½¿ç”¨å’Œèµ‹å€¼ã€‚ï¼ˆä¸è¦ç»™undefinedèµ‹å€¼ï¼ï¼‰</p><h4 id="voidè¿ç®—ç¬¦"><a href="#voidè¿ç®—ç¬¦" class="headerlink" title="voidè¿ç®—ç¬¦"></a>voidè¿ç®—ç¬¦</h4><p>è¡¨è¾¾å¼void ___æ²¡æœ‰è¿”å›å€¼ï¼Œå› æ­¤è¿”å›ç»“æœæ˜¯undefinedã€‚voidå¹¶ä¸æ”¹å˜è¡¨è¾¾å¼çš„ç»“æœï¼Œ åªæ˜¯è®©è¡¨è¾¾å¼ä¸è¿”å›å€¼:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="built_in">console</span>.log( <span class="keyword">void</span> a, a ); <span class="comment">// undefined 42</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦å°†ä»£ç ä¸­çš„å€¼(å¦‚è¡¨è¾¾å¼çš„è¿”å›å€¼)è®¾ä¸º undefinedï¼Œå°±å¯ä»¥ä½¿ç”¨ voidã€‚</p><h4 id="ç‰¹æ®Šçš„æ•°å­—"><a href="#ç‰¹æ®Šçš„æ•°å­—" class="headerlink" title="ç‰¹æ®Šçš„æ•°å­—"></a>ç‰¹æ®Šçš„æ•°å­—</h4><p>NaN æ„æŒ‡â€œä¸æ˜¯ä¸€ä¸ªæ•°å­—â€(not a number)ï¼Œä¸æ˜¯æ•°å­—çš„æ•°å­—ï¼Œä½†ä»ç„¶æ˜¯æ•°å­—ç±»å‹</p><p>NaNæ˜¯ä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œå®ƒå’Œè‡ªèº«ä¸ç›¸ç­‰ï¼Œæ˜¯å”¯ä¸€ä¸€ä¸ªéè‡ªå(è‡ªåï¼Œreflexiveï¼Œå³x === xä¸æˆç«‹)çš„å€¼ã€‚è€Œ NaN != NaN ä¸º trueï¼Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span> / <span class="string">&quot;foo&quot;</span>; <span class="comment">// NaN</span></span><br><span class="line"><span class="keyword">typeof</span> a === <span class="string">&quot;number&quot;</span>; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span> / <span class="string">&quot;foo&quot;</span>;</span><br><span class="line">a == <span class="literal">NaN</span>;   <span class="comment">// false</span></span><br><span class="line">a === <span class="literal">NaN</span>;  <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>ES6ä»¥åï¼Œå¯ä»¥ç”¨Number.isNaN()åˆ¤æ–­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Number</span>.isNaN) &#123;</span><br><span class="line">    <span class="built_in">Number</span>.isNaN = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">typeof</span> n === <span class="string">&quot;number&quot;</span> &amp;&amp; <span class="built_in">window</span>.isNaN( n ));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span> / <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"><span class="built_in">Number</span>.isNaN( a ); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN( b );<span class="comment">// falseâ€”â€”å¥½!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Number</span>.isNaN) &#123;</span><br><span class="line">    <span class="built_in">Number</span>.isNaN = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n !== n;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> JavaScript ä¸­Infinity(å³ Number.POSITIVE_INfiNITY)è¡¨ç¤ºæ— ç©·æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span> / <span class="number">0</span>; <span class="comment">// Infinity</span></span><br><span class="line"><span class="keyword">var</span> b = -<span class="number">1</span> / <span class="number">0</span>; <span class="comment">// -Infinity</span></span><br></pre></td></tr></table></figure><p>è´Ÿé›¶ï¼ˆ-0ï¼‰</p><p>åŠ æ³•å’Œå‡æ³•è¿ç®—ä¸ä¼šå¾—åˆ°è´Ÿé›¶(negative zero)ã€‚</p><p>åˆ¤æ–­æ˜¯å¦æ˜¯è´Ÿé›¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNegZero</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    n = <span class="built_in">Number</span>( n );</span><br><span class="line">    <span class="keyword">return</span> (n === <span class="number">0</span>) &amp;&amp; (<span class="number">1</span> / n === -<span class="literal">Infinity</span>);</span><br><span class="line">&#125;</span><br><span class="line">isNegZero( -<span class="number">0</span> );<span class="comment">// true</span></span><br><span class="line">isNegZero( <span class="number">0</span> / -<span class="number">3</span> );<span class="comment">// true</span></span><br><span class="line">isNegZero( <span class="number">0</span> );<span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>æœ‰äº›åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®éœ€è¦ä»¥çº§æ•°å½¢å¼æ¥è¡¨ç¤º(æ¯”å¦‚åŠ¨ç”»å¸§çš„ç§»åŠ¨é€Ÿåº¦)ï¼Œæ•°å­—çš„ç¬¦å·ä½ (sign)ç”¨æ¥ä»£è¡¨å…¶ä»–ä¿¡æ¯(æ¯”å¦‚ç§»åŠ¨çš„æ–¹å‘)ã€‚<br>æ­¤æ—¶å¦‚æœä¸€ä¸ªå€¼ä¸º 0 çš„å˜é‡å¤±å»äº†å®ƒçš„ç¬¦å·ä½ï¼Œå®ƒçš„æ–¹å‘ä¿¡æ¯å°±ä¼šä¸¢å¤±ã€‚æ‰€ä»¥ä¿ç•™ 0 å€¼çš„ç¬¦å·ä½å¯ä»¥é˜²æ­¢è¿™ç±»æƒ…å†µå‘ç”Ÿã€‚</p><h4 id="ç‰¹æ®Šç­‰å¼"><a href="#ç‰¹æ®Šç­‰å¼" class="headerlink" title="ç‰¹æ®Šç­‰å¼"></a>ç‰¹æ®Šç­‰å¼</h4><p>ES6 ä¸­æ–°åŠ å…¥äº†ä¸€ä¸ªå·¥å…·æ–¹æ³• Object.is(..) æ¥åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç»å¯¹ç›¸ç­‰ã€‚<br>ä»…ç”¨æ¥åˆ¤æ–­NaNå’Œ-0ç­‰æƒ…å†µï¼Œèƒ½ç”¨===å°±ä¸ç”¨è¿™ä¸ª</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span> / <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = -<span class="number">3</span> * <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.is( a, <span class="literal">NaN</span> ); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is( b, -<span class="number">0</span> );  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.is( b, <span class="number">0</span> );  <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>polyfill</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Object</span>.is) &#123;</span><br><span class="line">    <span class="built_in">Object</span>.is = <span class="function"><span class="keyword">function</span>(<span class="params">v1, v2</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// test for `-0`</span></span><br><span class="line">        <span class="keyword">if</span> (v1 === <span class="number">0</span> &amp;&amp; v2 === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span> / v1 === <span class="number">1</span> / v2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// test for `NaN`</span></span><br><span class="line">        <span class="keyword">if</span> (v1 !== v1) &#123;</span><br><span class="line">        <span class="keyword">return</span> v2 !== v2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// everything else</span></span><br><span class="line">        <span class="keyword">return</span> v1 === v2;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å€¼å’Œå¼•ç”¨"><a href="#å€¼å’Œå¼•ç”¨" class="headerlink" title="å€¼å’Œå¼•ç”¨"></a>å€¼å’Œå¼•ç”¨</h3><p>JSä¸­ï¼Œå€¼å¤åˆ¶è¿˜æ˜¯å¼•ç”¨å¤åˆ¶ï¼Œä¸€åˆ‡ç”±å€¼çš„ç±»å‹æ¥å†³å®šã€‚</p><p>ç®€å•ç±»å‹ï¼ˆnullã€undefinedã€å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å’Œ ES6 ä¸­çš„ symbolï¼‰æ€»æ˜¯é€šè¿‡å€¼å¤åˆ¶æ–¹å¼æ¥èµ‹å€¼/ä¼ é€’ã€‚</p><p>å¤åˆå€¼(compound value)â€”â€”å¯¹è±¡(åŒ…æ‹¬æ•°ç»„å’Œå°è£…å¯¹è±¡)å’Œå‡½æ•°ï¼Œåˆ™æ€»æ˜¯é€šè¿‡å¼•ç”¨å¤åˆ¶çš„æ–¹å¼æ¥èµ‹å€¼/ä¼ é€’ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> b = a; <span class="comment">// `b` is always a copy of the value in `a`</span></span><br><span class="line">b++;</span><br><span class="line">a; <span class="comment">// 2</span></span><br><span class="line">b; <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> d = c; <span class="comment">// `d` is a reference to the shared `[1,2,3]` value</span></span><br><span class="line">d.push( <span class="number">4</span> );</span><br><span class="line">c; <span class="comment">// [1,2,3,4]</span></span><br><span class="line">d; <span class="comment">// [1,2,3,4]</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°ä¼ å‚çš„é—®é¢˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    x.push( <span class="number">4</span> );</span><br><span class="line">    x; <span class="comment">// [1,2,3,4]</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œxå˜æˆäº†ä¸€ä¸ªæ–°æ•°ç»„ï¼Œaè¿˜æ˜¯åŸæ¥çš„</span></span><br><span class="line">    x = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">    x.push( <span class="number">7</span> );</span><br><span class="line">    x; <span class="comment">// [4,5,6,7]</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">foo( a );</span><br><span class="line">a; <span class="comment">// [1,2,3,4]  not  [4,5,6,7]</span></span><br></pre></td></tr></table></figure><p>å°† a çš„å€¼å˜ä¸º [4,5,6,7]ï¼Œå¿…é¡»æ›´æ”¹ x æŒ‡å‘çš„æ•°ç»„ï¼Œè€Œä¸æ˜¯ä¸º x èµ‹å€¼ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    x.push( <span class="number">4</span> );</span><br><span class="line">    x; <span class="comment">// [1,2,3,4]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™æ ·åšä¸ä¼šåˆ›å»ºæ–°æ•°ç»„</span></span><br><span class="line">    x.length = <span class="number">0</span>; <span class="comment">// empty existing array in-place</span></span><br><span class="line">    x.push( <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span> );</span><br><span class="line">    x; <span class="comment">// [4,5,6,7]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">foo( a );</span><br><span class="line"></span><br><span class="line">a; <span class="comment">// [4,5,6,7]  not  [1,2,3,4]</span></span><br></pre></td></tr></table></figure><p>å¦‚æœé€šè¿‡å€¼å¤åˆ¶çš„æ–¹å¼æ¥ä¼ é€’å¤åˆå€¼(å¦‚æ•°ç»„)ï¼Œå°±éœ€è¦ä¸ºå…¶åˆ›å»ºä¸€ä¸ªå¤æœ¬ï¼Œè¿™æ ·ä¼ é€’çš„å°±ä¸å†æ˜¯åŸå§‹å€¼ã€‚<br><code>foo( a.slice() );</code> a.slice()è¿”å›çš„æ˜¯æ•°ç»„çš„æµ…å¤æœ¬ï¼Œfooçš„æ“ä½œä¸ä¼šå½±å“aæŒ‡å‘çš„æ•°ç»„ã€‚<br>ç›¸åï¼Œå¦‚æœè¦å°†æ ‡é‡åŸºæœ¬ç±»å‹å€¼ä¼ é€’åˆ°å‡½æ•°å†…å¹¶è¿›è¡Œæ›´æ”¹ï¼Œå°±éœ€è¦å°†è¯¥å€¼å°è£…åˆ°ä¸€ä¸ªå¤åˆå€¼(å¯¹è±¡ã€æ•°ç»„ç­‰)ä¸­ï¼Œç„¶åé€šè¿‡å¼•ç”¨å¤åˆ¶çš„æ–¹å¼ä¼ é€’ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">wrapper</span>) </span>&#123;</span><br><span class="line">    wrapper.a = <span class="number">42</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">foo( obj );</span><br><span class="line"></span><br><span class="line">obj.a; <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><h2 id="I-ç¬¬3ç« -åŸç”Ÿå‡½æ•°"><a href="#I-ç¬¬3ç« -åŸç”Ÿå‡½æ•°" class="headerlink" title="I-ç¬¬3ç«  åŸç”Ÿå‡½æ•°"></a>I-ç¬¬3ç«  åŸç”Ÿå‡½æ•°</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å­¦ä¹ åŸç”Ÿå‡½æ•°ï¼Œå°è£…å¯¹è±¡åŒ…è£…ï¼Œæ‹†åˆ†ã€‚</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨çš„åŸç”Ÿå‡½æ•°<br>â€¢ String()<br>â€¢ Number()<br>â€¢ Boolean()<br>â€¢ Array()<br>â€¢ Object()<br>â€¢ Function()<br>â€¢ RegExp()<br>â€¢ Date()<br>â€¢ Error()<br>â€¢ Symbol()</p><p>åŸç”Ÿå‡½æ•°å¯ä»¥è¢«å½“ä½œæ„é€ å‡½æ•°æ¥ä½¿ç”¨ã€‚é€šè¿‡æ„é€ å‡½æ•°(å¦‚new String(â€œabcâ€))åˆ›å»ºå‡ºæ¥çš„æ˜¯å°è£…äº†åŸºæœ¬ç±»å‹å€¼(å¦‚â€abcâ€)çš„å°è£…å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">String</span>( <span class="string">&quot;abc&quot;</span> );</span><br><span class="line"><span class="keyword">typeof</span> a; <span class="comment">// æ˜¯&quot;object&quot;ï¼Œä¸æ˜¯&quot;String&quot;</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="built_in">String</span>; <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call( a ); <span class="comment">// &quot;[object String]&quot;</span></span><br></pre></td></tr></table></figure><h3 id="å†…éƒ¨å±æ€§class"><a href="#å†…éƒ¨å±æ€§class" class="headerlink" title="å†…éƒ¨å±æ€§class"></a>å†…éƒ¨å±æ€§class</h3><p>æ‰€æœ‰ typeof è¿”å›å€¼ä¸º â€œobjectâ€ çš„å¯¹è±¡(å¦‚æ•°ç»„)éƒ½åŒ…å«ä¸€ä¸ªå†…éƒ¨å±æ€§Classã€‚è¿™ä¸ªå±æ€§æ— æ³•ç›´æ¥è®¿é—®ï¼Œé€šè¿‡ <code>Object.prototype.toString(..)</code> æ¥æŸ¥çœ‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.toString.call( [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] ); <span class="comment">// &quot;[object Array]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call( <span class="regexp">/regex-literal/i</span> ); <span class="comment">// &quot;[object RegExp]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call( <span class="literal">null</span> ); <span class="comment">// &quot;[object Null]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call( <span class="literal">undefined</span> ); <span class="comment">// &quot;[object Undefined]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call( <span class="string">&quot;abc&quot;</span> ); <span class="comment">// &quot;[object String]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call( <span class="number">42</span> ); <span class="comment">// &quot;[object Number]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call( <span class="literal">true</span> ); <span class="comment">// &quot;[object Boolean]&quot;</span></span><br></pre></td></tr></table></figure><h3 id="å°è£…å¯¹è±¡åŒ…è£…"><a href="#å°è£…å¯¹è±¡åŒ…è£…" class="headerlink" title="å°è£…å¯¹è±¡åŒ…è£…"></a>å°è£…å¯¹è±¡åŒ…è£…</h3><p>ç”±äºåŸºæœ¬ç±»å‹å€¼æ²¡æœ‰<code>.length</code>å’Œ<code>.toString()</code>è¿™æ ·çš„å±æ€§å’Œæ–¹æ³•ï¼Œéœ€è¦é€šè¿‡å°è£…å¯¹è±¡æ‰èƒ½è®¿é—®ã€‚JSä¼šè‡ªåŠ¨ä¸ºåŸºæœ¬ç±»å‹åŒ…è£…ä¸€ä¸ªå°è£…å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">a.length; <span class="comment">// 3</span></span><br><span class="line">a.toUpperCase(); <span class="comment">// &quot;ABC&quot;</span></span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸éœ€è¦ç›´æ¥ä½¿ç”¨å°è£…å¯¹è±¡ã€‚æœ€å¥½çš„åŠæ³•æ˜¯è®© JavaScript å¼•æ“è‡ªå·±å†³å®šä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å°è£…å¯¹è±¡ã€‚</p><p>å¦‚æœè¦è‡ªè¡Œå°è£…åŸºæœ¬ç±»å‹å€¼ï¼Œå¯ä»¥ç”¨Object()å‡½æ•°(ä¸å¸¦newå…³é”®å­—)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="built_in">String</span>( a );</span><br><span class="line"><span class="keyword">var</span> c = <span class="built_in">Object</span>( a );</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> a; <span class="comment">// &quot;string&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> b; <span class="comment">// &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> c; <span class="comment">// &quot;object&quot;</span></span><br><span class="line"></span><br><span class="line">b <span class="keyword">instanceof</span> <span class="built_in">String</span>; <span class="comment">// true</span></span><br><span class="line">c <span class="keyword">instanceof</span> <span class="built_in">String</span>; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call( b ); <span class="comment">// &quot;[object String]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call( c ); <span class="comment">// &quot;[object String]&quot;</span></span><br></pre></td></tr></table></figure><h3 id="æ‹†å°"><a href="#æ‹†å°" class="headerlink" title="æ‹†å°"></a>æ‹†å°</h3><p>è¦æ‹†å°å°è£…å¯¹è±¡ä¸­çš„åŸºæœ¬ç±»å‹å€¼ï¼Œå¯ä»¥ç”¨valuesOf()å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">String</span>( <span class="string">&quot;abc&quot;</span> );</span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="built_in">Number</span>( <span class="number">42</span> );</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> <span class="built_in">Boolean</span>( <span class="literal">true</span> );</span><br><span class="line"></span><br><span class="line">a.valueOf(); <span class="comment">// &quot;abc&quot;</span></span><br><span class="line">b.valueOf(); <span class="comment">// 42</span></span><br><span class="line">c.valueOf(); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>åœ¨éœ€è¦ç”¨åˆ°å°è£…å¯¹è±¡ä¸­çš„åŸºæœ¬ç±»å‹å€¼çš„åœ°æ–¹ä¼šå‘ç”Ÿéšå¼æ‹†å°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">String</span>( <span class="string">&quot;abc&quot;</span> );</span><br><span class="line"><span class="keyword">var</span> b = a + <span class="string">&quot;&quot;</span>; <span class="comment">// bæ‹¥æœ‰äº†æ‹†å°åçš„å€¼abc</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> a; <span class="comment">// &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> b; <span class="comment">// &quot;string&quot;</span></span><br></pre></td></tr></table></figure><h3 id="åŸç”Ÿå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°"><a href="#åŸç”Ÿå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°" class="headerlink" title="åŸç”Ÿå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°"></a>åŸç”Ÿå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°</h3><ol><li><p>æ•°ç»„</p><p> æ°¸è¿œä¸è¦åˆ›å»ºå’Œä½¿ç”¨ç©ºå•å…ƒæ•°ç»„ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Array</span>( <span class="number">3</span> );</span><br><span class="line"><span class="keyword">var</span> b = [ <span class="literal">undefined</span>, <span class="literal">undefined</span>, <span class="literal">undefined</span> ];</span><br><span class="line"><span class="keyword">var</span> c = [];</span><br><span class="line">c.length = <span class="number">3</span>;</span><br></pre></td></tr></table></figure></li><li><p>Object(..)ã€Function(..) å’Œ RegExp(..)</p><p> ä¸å»ºè®®ä½¿ç”¨Objectå’ŒFunction</p><p> å¼ºçƒˆå»ºè®®ä½¿ç”¨å¸¸é‡å½¢å¼(å¦‚ /^a*b+/g)æ¥å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™æ ·ä¸ä»…è¯­æ³•ç®€å•ï¼Œæ‰§è¡Œæ•ˆç‡ä¹Ÿæ›´é«˜ï¼Œå› ä¸º JavaScript å¼•æ“åœ¨ä»£ç æ‰§è¡Œå‰ä¼šå¯¹å®ƒä»¬è¿›è¡Œé¢„ç¼–è¯‘å’Œç¼“å­˜ã€‚<br> ä¸å‰é¢çš„æ„é€ å‡½æ•°ä¸åŒï¼ŒRegExp(..) æœ‰æ—¶è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œæ¯”å¦‚åŠ¨æ€å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼æ—¶:</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;Kyle&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> namePattern = <span class="keyword">new</span> <span class="built_in">RegExp</span>( <span class="string">&quot;\\b(?:&quot;</span> + name + <span class="string">&quot;)+\\b&quot;</span>, <span class="string">&quot;ig&quot;</span> );</span><br><span class="line"><span class="keyword">var</span> matches = someText.match( namePattern );</span><br></pre></td></tr></table></figure><p> ä¸Šè¿°æƒ…å†µåœ¨JavaScriptç¼–ç¨‹ä¸­æ—¶æœ‰å‘ç”Ÿï¼Œè¿™æ—¶new RegExp(â€œpatternâ€,â€flagsâ€)å°±èƒ½æ´¾ä¸Šç”¨åœºã€‚</p></li><li><p>Date(..) å’Œ Error(..)</p><p> åˆ›å»ºæ—¥æœŸå¿…é¡»ä½¿ç”¨ <code>new Date()</code>ã€‚<br> Date(..) ä¸»è¦ç”¨æ¥è·å¾—å½“å‰çš„ Unix æ—¶é—´æˆ³(ä» 1970 å¹´ 1 æœˆ 1 æ—¥å¼€å§‹è®¡ç®—ï¼Œä»¥ç§’ä¸ºå•ä½)ã€‚ è¯¥å€¼å¯ä»¥é€šè¿‡æ—¥æœŸå¯¹è±¡ä¸­çš„ getTime() æ¥è·å¾—ã€‚</p><p> ç”¨<code>Date.now()</code>å³å¯è·å–</p><p> åˆ›å»ºé”™è¯¯å¯¹è±¡(error object)ä¸»è¦æ˜¯ä¸ºäº†è·å¾—å½“å‰è¿è¡Œæ ˆçš„ä¸Šä¸‹æ–‡(å¤§éƒ¨åˆ† JavaScript å¼•æ“é€šè¿‡åªè¯»å±æ€§ .stack æ¥è®¿é—®)ã€‚<br> æ ˆä¸Šä¸‹æ–‡ä¿¡æ¯åŒ…æ‹¬å‡½æ•°è°ƒç”¨æ ˆä¿¡æ¯å’Œäº§ç”Ÿé”™è¯¯çš„ä»£ç è¡Œå·ï¼Œ ä»¥ä¾¿äºè°ƒè¯•(debug)ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!x) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>( <span class="string">&quot;x wasnâ€™t provided&quot;</span> );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> é€šå¸¸é”™è¯¯å¯¹è±¡è‡³å°‘åŒ…å«ä¸€ä¸ª message å±æ€§ï¼Œæœ‰æ—¶ä¹Ÿä¸ä¹å…¶ä»–å±æ€§(å¿…é¡»ä½œä¸ºåªè¯»å±æ€§è®¿é—®)ï¼Œå¦‚ typeã€‚<br> é™¤äº†è®¿é—® stack å±æ€§ä»¥å¤–ï¼Œæœ€å¥½çš„åŠæ³•æ˜¯è°ƒç”¨toString() æ¥è·å¾—ç»è¿‡æ ¼å¼åŒ–çš„ä¾¿äºé˜…è¯»çš„é”™è¯¯ä¿¡æ¯ã€‚</p></li><li><p>Symbol</p><p> å¯ä»¥ä½¿ç”¨ Symbol(..) åŸç”Ÿæ„é€ å‡½æ•°æ¥è‡ªå®šä¹‰ç¬¦å·ã€‚ä½†å®ƒæ¯”è¾ƒç‰¹æ®Šï¼Œä¸èƒ½å¸¦ new å…³é”®<br> å­—ï¼Œå¦åˆ™ä¼šå‡ºé”™:</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mysym = <span class="built_in">Symbol</span>( <span class="string">&quot;my own symbol&quot;</span> );</span><br><span class="line">mysym;    <span class="comment">// Symbol(my own symbol)</span></span><br><span class="line">mysym.toString(); <span class="comment">// &quot;Symbol(my own symbol)&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> mysym;   <span class="comment">// &quot;symbol&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = &#123; &#125;;</span><br><span class="line">a[mysym] = <span class="string">&quot;foobar&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertySymbols( a );</span><br><span class="line"><span class="comment">// [ Symbol(my own symbol) ]</span></span><br></pre></td></tr></table></figure></li><li><p>åŸç”ŸåŸå‹</p><p> åŸç”Ÿæ„é€ å‡½æ•°æœ‰è‡ªå·±çš„ .prototype å¯¹è±¡ï¼Œå¦‚ Array.prototypeã€String.prototype ç­‰ã€‚</p><p> è¿™äº›å¯¹è±¡åŒ…å«å…¶å¯¹åº”å­ç±»å‹æ‰€ç‰¹æœ‰çš„è¡Œä¸ºç‰¹å¾ã€‚</p><p> Function.prototype æ˜¯ä¸€ä¸ªç©ºå‡½æ•°ï¼ŒRegExp.prototype æ˜¯ä¸€ä¸ªâ€œç©ºâ€çš„æ­£åˆ™è¡¨è¾¾å¼(æ— ä»»ä½•åŒ¹é…)ï¼Œè€Œ Array.prototype æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ã€‚å¯¹æœªèµ‹å€¼çš„å˜é‡æ¥è¯´ï¼Œå®ƒä»¬æ˜¯å¾ˆå¥½çš„é»˜è®¤å€¼ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isThisCool</span>(<span class="params">vals = <span class="built_in">Array</span>.prototype,fn = <span class="built_in">Function</span>.prototype,rx = <span class="built_in">RegExp</span>.prototype</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> rx.test(</span><br><span class="line">        vals.map( fn ).join( <span class="string">&quot;&quot;</span> )</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isThisCool();  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">isThisCool(</span><br><span class="line">    [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>],</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123; <span class="keyword">return</span> v.toUpperCase(); &#125;,</span><br><span class="line">    /D/</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p> è¿™ç§æ–¹æ³•çš„ä¸€ä¸ªå¥½å¤„æ˜¯ .prototype å·²è¢«åˆ›å»ºå¹¶ä¸”ä»…åˆ›å»ºä¸€æ¬¡ã€‚ç›¸åï¼Œå¦‚æœå°† []ã€function(){} å’Œ /(?:)/ ä½œä¸ºé»˜è®¤å€¼ï¼Œ<br> åˆ™æ¯æ¬¡è°ƒç”¨ isThisCool(..) æ—¶å®ƒä»¬éƒ½ä¼šè¢«åˆ›å»ºä¸€æ¬¡ (å…·ä½“åˆ›å»ºä¸å¦å–å†³äº JavaScript å¼•æ“ï¼Œç¨åå®ƒä»¬å¯èƒ½ä¼šè¢«åƒåœ¾å›æ”¶)ï¼Œè¿™æ ·æ— ç–‘ä¼šé€ æˆå†…å­˜å’Œ CPU èµ„æºçš„æµªè´¹ã€‚</p></li></ol><h2 id="I-ç¬¬4ç« -å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#I-ç¬¬4ç« -å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="I-ç¬¬4ç«  å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>I-ç¬¬4ç«  å¼ºåˆ¶ç±»å‹è½¬æ¢</h2><p>å€¼ä»ä¸€ä¸ªç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ï¼Œç§°ä¸ºç±»å‹è½¬æ¢(type casting)ã€‚è¿™æ˜¯æ˜¾ç¤ºçš„æƒ…å†µï¼Œéšå¼çš„æƒ…å†µç§°ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢(coercion)ã€‚</p><p>ç±»å‹è½¬æ¢å‘ç”Ÿåœ¨é™æ€è¯­è¨€çš„ç¼–è¯‘é˜¶æ®µï¼Œå¼ºåˆ¶ç±»å‹è½¬æ¢å‘ç”Ÿåœ¨åŠ¨æ€ç±»å‹è¯­è¨€çš„è¿è¡Œæ—¶</p><p>åœ¨JSä¸­ç»Ÿç§°ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚å¯ä»¥é€šè¿‡éšå¼å¼ºåˆ¶ç±»å‹å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢æ¥åŒºåˆ†ã€‚</p><p>éšå¼ç±»å‹è½¬æ¢ä¸æ˜æ˜¾ï¼Œé€šå¸¸æ˜¯æŸäº›æ“ä½œäº§ç”Ÿçš„å‰¯ä½œç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = a + <span class="string">&quot;&quot;</span>; <span class="comment">// éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="keyword">var</span> c = <span class="built_in">String</span>(a); <span class="comment">// æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br></pre></td></tr></table></figure><h3 id="æŠ½è±¡å€¼æ“ä½œ"><a href="#æŠ½è±¡å€¼æ“ä½œ" class="headerlink" title="æŠ½è±¡å€¼æ“ä½œ"></a>æŠ½è±¡å€¼æ“ä½œ</h3><h4 id="ToString-éå­—ç¬¦ä¸²åˆ°å­—ç¬¦ä¸²å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#ToString-éå­—ç¬¦ä¸²åˆ°å­—ç¬¦ä¸²å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="ToString éå­—ç¬¦ä¸²åˆ°å­—ç¬¦ä¸²å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>ToString éå­—ç¬¦ä¸²åˆ°å­—ç¬¦ä¸²å¼ºåˆ¶ç±»å‹è½¬æ¢</h4><p>åŸºæœ¬ç±»å‹å€¼çš„å­—ç¬¦ä¸²åŒ–è§„åˆ™ä¸º:null è½¬æ¢ä¸º â€œnullâ€ï¼Œundefined è½¬æ¢ä¸º â€œundefinedâ€ï¼Œtrue è½¬æ¢ä¸º â€œtrueâ€ã€‚æ•°å­—æå¤§æå°å€¼ç”¨æŒ‡æ•°å½¢å¼ã€‚<br>æ•°ç»„çš„toStringé»˜è®¤å°†æ‰€æœ‰å•å…ƒå­—ç¬¦ä¸²åŒ–åç”¨<code>,</code>è¿æ¥ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">a.toString(); <span class="comment">// &#x27;1,2,3,&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="JSON-stringify"><a href="#JSON-stringify" class="headerlink" title="JSON.stringify"></a>JSON.stringify</h4><p>(1) å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼å’Œ null çš„ JSON.stringify(..) è§„åˆ™ä¸ ToString åŸºæœ¬ç›¸åŒã€‚<br>(2) å¦‚æœä¼ é€’ç»™ JSON.stringify(..) çš„å¯¹è±¡ä¸­å®šä¹‰äº† toJSON() æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•ä¼šåœ¨å­—ç¬¦ä¸²åŒ–å‰è°ƒç”¨ï¼Œä»¥ä¾¿å°†å¯¹è±¡è½¬æ¢ä¸ºå®‰å…¨çš„ JSON å€¼ã€‚</p><p>JSONå­—ç¬¦ä¸²åŒ–ç”¨<code>stringify</code>,é‡åˆ° undefinedã€function å’Œ symbol æ—¶ä¼šè‡ªåŠ¨å°†å…¶å¿½ç•¥ï¼Œåœ¨æ•°ç»„ä¸­åˆ™ä¼šè¿”å› nullã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify( <span class="literal">undefined</span> );     <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify( <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; );     <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.stringify( [<span class="number">1</span>,<span class="literal">undefined</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="number">4</span>] ); <span class="comment">// &quot;[1,null,null,4]&quot;</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify( &#123; <span class="attr">a</span>:<span class="number">2</span>, <span class="attr">b</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; &#125; );  <span class="comment">// &quot;&#123;&quot;a&quot;:2&#125;&quot;</span></span><br></pre></td></tr></table></figure><p>åŒ…å«å¾ªç¯å¼•ç”¨çš„å¯¹è±¡æ‰§è¡Œ JSON.stringify(..) ä¼šå‡ºé”™ã€‚</p><p>å¦‚æœè¦å¯¹å«æœ‰éæ³• JSON å€¼çš„å¯¹è±¡åšå­—ç¬¦ä¸²åŒ–ï¼Œæˆ–è€…å¯¹è±¡ä¸­çš„æŸäº›å€¼æ— æ³•è¢«åºåˆ—åŒ–æ—¶ï¼Œéœ€è¦å®šä¹‰ toJSON() æ–¹æ³•æ¥è¿”å›ä¸€ä¸ªèƒ½å¤Ÿè¢«å­—ç¬¦ä¸²åŒ–çš„å®‰å…¨çš„ JSON å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    b: <span class="number">42</span>,</span><br><span class="line">    c: o,</span><br><span class="line">    d: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// aè¢«å¾ªç¯å¼•ç”¨</span></span><br><span class="line">o.e = a;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”±äºå¾ªç¯å¼•ç”¨ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line"><span class="comment">// JSON.stringify( a );</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// define a custom JSON value serialization</span></span><br><span class="line">a.toJSON = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// only include the `b` property for serialization</span></span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">b</span>: <span class="built_in">this</span>.b &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.stringify( a ); <span class="comment">// &quot;&#123;&quot;b&quot;:42&#125;&quot;</span></span><br></pre></td></tr></table></figure><p>å‘ <code>JSON.stringify(..)</code> ä¼ é€’ä¸€ä¸ªå¯é€‰å‚æ•° replacerï¼Œå¯ä»¥æ˜¯æ•°ç»„æˆ–è€…å‡½æ•°ï¼Œç”¨æ¥æŒ‡å®šå¯¹è±¡åºåˆ—åŒ–è¿‡ç¨‹ä¸­å“ªäº›å±æ€§åº”è¯¥è¢«å¤„ç†ï¼Œå“ªäº›åº”è¯¥è¢«æ’é™¤ã€‚<br>å¦‚æœ replacer æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«åºåˆ—åŒ–è¦å¤„ç†çš„å¯¹è±¡çš„å±æ€§åç§°ï¼Œé™¤æ­¤ä¹‹å¤–å…¶ä»–çš„å±æ€§åˆ™è¢«å¿½ç•¥ã€‚<br>å¦‚æœ replacer æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šå¯¹å¯¹è±¡æœ¬èº«è°ƒç”¨ä¸€æ¬¡ï¼Œç„¶åå¯¹å¯¹è±¡ä¸­çš„æ¯ä¸ªå±æ€§å„è°ƒç”¨ä¸€æ¬¡ï¼Œæ¯æ¬¡ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œé”®å’Œå€¼ã€‚å¦‚æœè¦å¿½ç•¥æŸä¸ªé”®å°±è¿”å› undefinedï¼Œå¦åˆ™è¿”å›æŒ‡å®šçš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    b: <span class="number">42</span>,</span><br><span class="line">    c: <span class="string">&quot;42&quot;</span>,</span><br><span class="line">    d: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.stringify( a, [<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>] ); <span class="comment">// &quot;&#123;&quot;b&quot;:42,&quot;c&quot;:&quot;42&quot;&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.stringify( a, <span class="function"><span class="keyword">function</span>(<span class="params">k,v</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k !== <span class="string">&quot;c&quot;</span>) <span class="keyword">return</span> v;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// &quot;&#123;&quot;b&quot;:42,&quot;d&quot;:[1,2,3]&#125;&quot;</span></span><br></pre></td></tr></table></figure><h4 id="ToNumber"><a href="#ToNumber" class="headerlink" title="ToNumber"></a>ToNumber</h4><p>true è½¬æ¢ä¸º 1ï¼Œfalse è½¬æ¢ä¸º 0ã€‚undefined è½¬æ¢ä¸º NaNï¼Œnull è½¬æ¢ä¸º 0ã€‚</p><p>å¯¹è±¡(åŒ…æ‹¬æ•°ç»„)ä¼šé¦–å…ˆè¢«è½¬æ¢ä¸ºç›¸åº”çš„åŸºæœ¬ç±»å‹å€¼ï¼Œå¦‚æœè¿”å›çš„æ˜¯éæ•°å­—çš„åŸºæœ¬ç±»å‹å€¼ï¼Œåˆ™å†éµå¾ªä»¥ä¸Šè§„åˆ™å°†å…¶å¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—ã€‚</p><h4 id="ToBoolean"><a href="#ToBoolean" class="headerlink" title="ToBoolean"></a>ToBoolean</h4><ol><li><p>å‡å€¼(false value) å¯ä»¥è¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º false çš„å€¼ã€‚</p><ul><li>undefined</li><li>null</li><li>false</li><li>+0, -0, NaN</li><li>â€˜â€™</li></ul></li><li><p>å‡å€¼å¯¹è±¡</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Boolean</span>( <span class="literal">false</span> );</span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="built_in">Number</span>( <span class="number">0</span> );</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> <span class="built_in">String</span>( <span class="string">&quot;&quot;</span> );</span><br></pre></td></tr></table></figure><p> a, b, céƒ½ä¸ºtrue</p></li><li><p>çœŸå€¼</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;false&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;0&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="string">&quot;&#x27;&#x27;&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> d = <span class="built_in">Boolean</span>( a &amp;&amp; b &amp;&amp; c );</span><br><span class="line">d; <span class="comment">// å­—ç¬¦ä¸²ä¸ä¸ºç©ºæ‰€ä»¥ä¸ºtrue</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line"><span class="keyword">var</span> b = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> c = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> d = <span class="built_in">Boolean</span>( a &amp;&amp; b &amp;&amp; c );</span><br><span class="line">d; <span class="comment">// [], &#123;&#125;, function()&#123;&#125; ä¸ä¸ºç©ºï¼Œä¸ºtrue</span></span><br></pre></td></tr></table></figure><h3 id="æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><p>ä»£ç è½¬æ¢æ¸…æ™°ï¼Œå¯è¯»æ€§é«˜ï¼Œæ›´å®¹æ˜“ç†è§£ï¼Œæ¨èä½¿ç”¨ã€‚</p><ol><li><p>å­—ç¬¦ä¸²æ•°å­—äº’è½¬</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">String</span>( a );</span><br><span class="line">b; <span class="comment">// &quot;42&quot;</span></span><br><span class="line"><span class="keyword">var</span> c = <span class="string">&quot;3.14&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> d = <span class="built_in">Number</span>( c );</span><br><span class="line">d; <span class="comment">// 3.14</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="string">&quot;3.14&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> d = +c; <span class="comment">// æœ€å¸¸ç”¨~~~</span></span><br><span class="line">d; <span class="comment">// 3.14</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>å¥‡ç‰¹çš„~è¿ç®—ç¬¦</p><p> å­—ä½è¿ç®—ç¬¦(å¦‚ | å’Œ ~)å’ŒæŸäº›ç‰¹æ®Šæ•°å­—ä¸€èµ·ä½¿ç”¨æ—¶ä¼šäº§ç”Ÿç±»ä¼¼å¼ºåˆ¶ç±»å‹è½¬æ¢çš„æ•ˆæœï¼Œè¿”å›å¦å¤–ä¸€ä¸ªæ•°å­—ã€‚</p></li></ol><p>åœ¨ -(x+1) ä¸­å”¯ä¸€èƒ½å¤Ÿå¾—åˆ° 0(æˆ–è€…ä¸¥æ ¼è¯´æ˜¯ -0)çš„ x å€¼æ˜¯ -1ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœ x ä¸º -1 æ—¶ï¼Œ~å’Œä¸€äº›æ•°å­—å€¼åœ¨ä¸€èµ·ä¼šè¿”å›å‡å€¼ 0ï¼Œå…¶ä»–æƒ…å†µåˆ™è¿”å›çœŸå€¼ã€‚</p><p><code>indexOf</code>æœç´¢åˆ°æŒ‡å®šå­—ç¬¦ä¸²è¿”å›å­—ç¬¦ä¸²æ‰€åœ¨ä½ç½®(ä»0å¼€å§‹)ï¼Œå¦åˆ™è¿”å›-1ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a.indexOf( <span class="string">&quot;lo&quot;</span> ) &gt;= <span class="number">0</span>) &#123; <span class="comment">// true</span></span><br><span class="line"> <span class="comment">// found it!</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (a.indexOf( <span class="string">&quot;lo&quot;</span> ) != -<span class="number">1</span>) &#123; <span class="comment">// true</span></span><br><span class="line"> <span class="comment">// found it</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a.indexOf( <span class="string">&quot;ol&quot;</span> ) &lt; <span class="number">0</span>) &#123; <span class="comment">// true</span></span><br><span class="line"> <span class="comment">// not found!</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (a.indexOf( <span class="string">&quot;ol&quot;</span> ) == -<span class="number">1</span>) &#123; <span class="comment">// true</span></span><br><span class="line"> <span class="comment">// not found!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">~a.indexOf( <span class="string">&quot;lo&quot;</span> );   <span class="comment">// -4   &lt;-- truthy!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (~a.indexOf( <span class="string">&quot;lo&quot;</span> )) &#123; <span class="comment">// true</span></span><br><span class="line"> <span class="comment">// found it!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">~a.indexOf( <span class="string">&quot;ol&quot;</span> );   <span class="comment">// 0    &lt;-- falsy!</span></span><br><span class="line">!~a.indexOf( <span class="string">&quot;ol&quot;</span> );  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!~a.indexOf( <span class="string">&quot;ol&quot;</span> )) &#123; <span class="comment">// true</span></span><br><span class="line"> <span class="comment">// not found!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>&gt;= 0</code>å’Œ<code>== -1</code>è¿™æ ·çš„å†™æ³•ä¸æ˜¯å¾ˆå¥½ï¼Œç§°ä¸ºâ€œæŠ½è±¡æ¸—æ¼â€ï¼Œåœ¨ä»£ç ä¸­æš´éœ²äº†åº•å±‚çš„å®ç°ç»†èŠ‚ï¼Œè¿™é‡Œæ˜¯æŒ‡ç”¨ -1 ä½œä¸ºå¤±è´¥æ—¶çš„è¿”å›å€¼ï¼Œè¿™äº›ç»†èŠ‚åº”è¯¥è¢«å±è”½æ‰ã€‚<br><strong><code>~</code> å’Œ <code>indexOf()</code> ä¸€èµ·å¯ä»¥å°†ç»“æœå¼ºåˆ¶ç±»å‹è½¬æ¢(å®é™…ä¸Šä»…ä»…æ˜¯è½¬æ¢)ä¸ºçœŸ / å‡å€¼</strong></p><p>è¿™ç§å†™æ³•çœ‹èµ·æ¥é€¼æ ¼ä¹Ÿé«˜ï¼Œå“ˆå“ˆ</p><p><code>~~</code>ä¸­çš„ç¬¬ä¸€ä¸ª ~ æ‰§è¡Œ ToInt32 å¹¶åè½¬å­—ä½ï¼Œç„¶åç¬¬äºŒä¸ª ~ å†è¿›è¡Œä¸€æ¬¡å­—ä½åè½¬ï¼Œå³å°†æ‰€æœ‰å­—ä½åè½¬å›åŸå€¼ï¼Œæœ€åå¾—åˆ°çš„ä»ç„¶æ˜¯ ToInt32 çš„ç»“æœã€‚</p><p>åªé€‚ç”¨äº 32 ä½æ•°å­—ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒå¯¹è´Ÿæ•°çš„å¤„ç†ä¸ Math. floor(..) ä¸åŒã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.floor( -<span class="number">49.6</span> ); <span class="comment">// -50</span></span><br><span class="line">~~-<span class="number">49.6</span>; <span class="comment">// -49</span></span><br></pre></td></tr></table></figure><h3 id="æ˜¾å¼è§£ææ•°å­—å­—ç¬¦ä¸²"><a href="#æ˜¾å¼è§£ææ•°å­—å­—ç¬¦ä¸²" class="headerlink" title="æ˜¾å¼è§£ææ•°å­—å­—ç¬¦ä¸²"></a>æ˜¾å¼è§£ææ•°å­—å­—ç¬¦ä¸²</h3><p>è§£æ(parseInt)å…è®¸å­—ç¬¦ä¸²ä¸­å«æœ‰éæ•°å­—å­—ç¬¦ï¼Œè§£ææŒ‰ä»å·¦åˆ°å³çš„é¡ºåºï¼Œå¦‚æœé‡åˆ°éæ•°å­—å­—ç¬¦å°±åœæ­¢ã€‚å­—ç¬¦ä¸²è½¬æ•°å­—(Number)ä¸å…è®¸å‡ºç°éæ•°å­—å­—ç¬¦ï¼Œå¦åˆ™ä¼šå¤±è´¥å¹¶è¿”å› NaNã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;42&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;42px&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>( a ); <span class="comment">// 42</span></span><br><span class="line"><span class="built_in">parseInt</span>( a ); <span class="comment">// 42</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>( b ); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">parseInt</span>( b ); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>parseInt(..) é’ˆå¯¹çš„æ˜¯å­—ç¬¦ä¸²å€¼ã€‚å‘ parseInt(..) ä¼ é€’å…¶ä»–ç±»å‹çš„å‚æ•°ï¼Œæ¯”å¦‚ <code>trueã€function()&#123;...&#125;</code> å’Œ <code>[1,2,3]</code>ã€‚<br>ä¼šé¦–å…ˆè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä¾èµ–è¿™æ ·çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢å¹¶éä¸Šç­–ï¼Œåº”è¯¥é¿å…å‘ parseInt(..) ä¼ é€’éå­—ç¬¦ä¸²å‚æ•°ã€‚</p><p>parseInt(..) å…ˆå°†å‚æ•°å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²å†è¿›è¡Œè§£æã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>( <span class="number">1</span>/<span class="number">0</span>, <span class="number">19</span> ); <span class="comment">// 18</span></span><br></pre></td></tr></table></figure><p>æ€ä¹ˆæ¥å¤„ç† Infinity(1/0 çš„ç»“æœ)æœ€åˆç†å‘¢?æœ‰ä¸¤ä¸ªé€‰æ‹©:â€Infinityâ€ å’Œ â€œâˆâ€ï¼ŒJavaScripté€‰æ‹©çš„æ˜¯ â€œInfinityâ€ã€‚</p><p>parseInt(1/0, 19) å®é™…ä¸Šæ˜¯ parseInt(â€œInfinityâ€, 19)ã€‚ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ â€œIâ€ï¼Œä»¥ 19 ä¸ºåŸºæ•° æ—¶å€¼ä¸º 18ã€‚ç¬¬äºŒä¸ªå­—ç¬¦ â€œnâ€ ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—å­—ç¬¦ï¼Œè§£æåˆ°æ­¤ä¸ºæ­¢ï¼Œå’Œ â€œ42pxâ€ ä¸­çš„ â€œpâ€ ä¸€æ ·ã€‚</p><p>æœ€åçš„ç»“æœæ˜¯ 18ï¼Œè€Œé Infinity æˆ–è€…æŠ¥é”™ã€‚æ‰€ä»¥ç†è§£å…¶ä¸­çš„å·¥ä½œåŸç†å¯¹äºæˆ‘ä»¬å­¦ä¹  JavaScript æ˜¯éå¸¸é‡è¦çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>( <span class="number">0.000008</span> );  <span class="comment">// 0   (&quot;0&quot; from &quot;0.000008&quot;)</span></span><br><span class="line"><span class="built_in">parseInt</span>( <span class="number">0.0000008</span> );  <span class="comment">// 8   (&quot;8&quot; from &quot;8e-7&quot;)</span></span><br><span class="line"><span class="built_in">parseInt</span>( <span class="literal">false</span>, <span class="number">16</span> );  <span class="comment">// 250 (&quot;fa&quot; from &quot;false&quot;)</span></span><br><span class="line"><span class="built_in">parseInt</span>( <span class="built_in">parseInt</span>, <span class="number">16</span> ); <span class="comment">// 15  (&quot;f&quot; from &quot;function..&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">parseInt</span>( <span class="string">&quot;0x10&quot;</span> );   <span class="comment">// 16</span></span><br><span class="line"><span class="built_in">parseInt</span>( <span class="string">&quot;103&quot;</span>, <span class="number">2</span> );  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h3 id="æ˜¾ç¤ºè½¬æ¢ä¸ºå¸ƒå°”å€¼"><a href="#æ˜¾ç¤ºè½¬æ¢ä¸ºå¸ƒå°”å€¼" class="headerlink" title="æ˜¾ç¤ºè½¬æ¢ä¸ºå¸ƒå°”å€¼"></a>æ˜¾ç¤ºè½¬æ¢ä¸ºå¸ƒå°”å€¼</h3><p>æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼æœ€å¸¸ç”¨çš„æ–¹æ³•<code>!!</code>ï¼Œç¬¬äºŒä¸ª<code>!</code>ä¼šæŠŠç»“æœåè½¬å›åŸå€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;0&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = [];</span><br><span class="line"><span class="keyword">var</span> c = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> e = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> f = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> g;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Boolean</span>( a ); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>( b ); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>( c ); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Boolean</span>( d ); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>( e ); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>( f ); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>( g ); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">!!a; <span class="comment">// true</span></span><br><span class="line">!!b; <span class="comment">// true</span></span><br><span class="line">!!c; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">!!d; <span class="comment">// false</span></span><br><span class="line">!!e; <span class="comment">// false</span></span><br><span class="line">!!f; <span class="comment">// false</span></span><br><span class="line">!!g; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>ä¸‰å…ƒè¿ç®—ç¬¦ <code>? :</code> åˆ¤æ–­ a æ˜¯å¦ä¸ºçœŸï¼Œå¦‚æœæ˜¯åˆ™å°†å˜é‡ b èµ‹å€¼ä¸º trueï¼Œå¦åˆ™èµ‹å€¼ä¸º falseã€‚ è¡¨é¢ä¸Šè¿™æ˜¯ä¸€ä¸ªæ˜¾å¼çš„ ToBoolean å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå› ä¸ºè¿”å›ç»“æœæ˜¯ true æˆ–è€… falseã€‚<br>ç„¶è€Œè¿™é‡Œæ¶‰åŠéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå› ä¸º a è¦é¦–å…ˆè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼æ‰èƒ½è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚è¿™ç§æƒ…å†µç§°ä¸ºâ€œæ˜¾å¼çš„éšå¼â€ï¼Œæœ‰ç™¾å®³è€Œæ— ä¸€ç›Šï¼Œæˆ‘ä»¬åº”å½»åº•æœç»ã€‚<br>å»ºè®®ä½¿ç”¨ Boolean(a) å’Œ !!a æ¥è¿›è¡Œæ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p><h3 id="éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><p>ä¸å¤Ÿæ˜æ˜¾çš„å¼ºåˆ¶ç±»å‹è½¬æ¢éƒ½å¯ä»¥ç®—ä½œéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p><p>éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢çš„ä½œç”¨æ˜¯å‡å°‘å†—ä½™ï¼Œè®©ä»£ç æ›´ç®€æ´ã€‚å¯èƒ½ä¼šè®©ä»£ç æ™¦æ¶©éš¾æ‡‚ã€‚</p><p><code>+</code>æ—¢èƒ½ç”¨äºå­—ç¬¦ä¸²ä¹Ÿèƒ½ç”¨äºæ•°å­—ã€‚æ€ä¹ˆåˆ¤æ–­è¦æ‰§è¡Œå“ªä¸ªæ“ä½œï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;42&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;0&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> d = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">a + b; <span class="comment">// &quot;420&quot;</span></span><br><span class="line">c + d; <span class="comment">// 42</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> b = [<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">a + b; <span class="comment">// &quot;1,23,4&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ•°å­—è½¬æˆå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = a + <span class="string">&quot;&quot;</span>;</span><br><span class="line">b; <span class="comment">// &quot;42&quot;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡(åŒ…æ‹¬æ•°ç»„)ï¼Œåˆ™é¦–å…ˆå¯¹å…¶è°ƒç”¨ ToPrimitive æŠ½è±¡æ“ä½œï¼Œè¯¥æŠ½è±¡æ“ä½œå†è°ƒç”¨DefaultValueï¼Œä»¥æ•°å­—ä½œä¸ºä¸Šä¸‹æ–‡ã€‚<br>æ•°ç»„çš„ valueOf() æ“ä½œæ— æ³•å¾—åˆ°ç®€å•åŸºæœ¬ç±»å‹å€¼ï¼Œäºæ˜¯å®ƒè½¬è€Œè°ƒç”¨ toString()ã€‚å› æ­¤ä¸Šä¾‹ä¸­çš„ä¸¤ä¸ªæ•°ç»„å˜æˆäº† â€œ1,2â€ å’Œ â€œ3,4â€ã€‚+ å°†å®ƒä»¬æ‹¼æ¥åè¿”å› â€œ1,23,4â€ã€‚</p><p>å¦‚æœ + çš„å…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²(æˆ–è€…é€šè¿‡ä»¥ä¸Šæ­¥éª¤å¯ä»¥å¾—åˆ°å­—ç¬¦ä¸²)ï¼Œ åˆ™æ‰§è¡Œå­—ç¬¦ä¸²æ‹¼æ¥;å¦åˆ™æ‰§è¡Œæ•°å­—åŠ æ³•ã€‚</p><p>a + â€œâ€(éšå¼)å’Œå‰é¢çš„String(a)(æ˜¾å¼)ä¹‹é—´æœ‰ä¸€ä¸ªç»†å¾®çš„å·®åˆ«éœ€è¦æ³¨æ„ã€‚<br>æ ¹æ® ToPrimitiveæŠ½è±¡æ“ä½œè§„åˆ™ï¼Œa + â€œâ€ä¼šå¯¹aè°ƒç”¨valueOf()æ–¹æ³•ï¼Œç„¶åé€šè¿‡ToStringæŠ½è±¡ æ“ä½œå°†è¿”å›å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚è€Œ String(a) åˆ™æ˜¯ç›´æ¥è°ƒç”¨ ToString()ã€‚</p><p>å¦‚æœaæ˜¯å¯¹è±¡ï¼Œç»“æœä¼šä¸ä¸€æ ·ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    valueOf: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">42</span>; &#125;,</span><br><span class="line">    toString: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">4</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">a + <span class="string">&quot;&quot;</span>;   <span class="comment">// &quot;42&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>( a ); <span class="comment">// &quot;4</span></span><br></pre></td></tr></table></figure><p>åœ¨å®šåˆ¶ valueOf() å’Œ toString() æ–¹æ³•æ—¶éœ€è¦ç‰¹åˆ«å°å¿ƒï¼Œå› ä¸ºè¿™ä¼šå½±å“å¼ºåˆ¶ç±»å‹è½¬æ¢çš„ç»“æœã€‚</p><p><code>-</code>å‡æ³•è¿ç®—ç¬¦ï¼Œä¼šå…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå†è½¬æ¢ä¸ºæ•°å­—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;3.14&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = a - <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">b; <span class="comment">// 3.14</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> b = [<span class="number">1</span>];</span><br><span class="line">a - b; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h3 id="å¸ƒå°”å€¼åˆ°æ•°å­—çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#å¸ƒå°”å€¼åˆ°æ•°å­—çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="å¸ƒå°”å€¼åˆ°æ•°å­—çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>å¸ƒå°”å€¼åˆ°æ•°å­—çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">arr = [<span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">true</span>]</span><br><span class="line">arr.reduce(<span class="function"><span class="params">item</span>=&gt;</span> &#123;</span><br><span class="line">    sum +=item</span><br><span class="line">&#125;, sum)</span><br></pre></td></tr></table></figure><p>åœ¨æ§åˆ¶å°æ˜¾ç¤ºæ˜¯NaNï¼Ÿï¼Ÿï¼Ÿå’Œä¹¦é‡Œä¸ä¸€æ ·</p><h3 id="éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼"><a href="#éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼" class="headerlink" title="éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼"></a>éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼</h3><p>(1)if (..)è¯­å¥ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚<br>(2)for ( .. ; .. ; .. )è¯­å¥ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼(ç¬¬äºŒä¸ª)ã€‚<br>(3) while (..) å’Œ do..while(..) å¾ªç¯ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚<br>(4)? :ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚<br>(5) é€»è¾‘è¿ç®—ç¬¦ ||(é€»è¾‘æˆ–)å’Œ &amp;&amp;(é€»è¾‘ä¸)å·¦è¾¹çš„æ“ä½œæ•°(ä½œä¸ºæ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼)ã€‚</p><p>ä»¥ä¸Šæƒ…å†µä¸­ï¼Œéå¸ƒå°”å€¼ä¼šè¢«éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œéµå¾ªå‰é¢ä»‹ç»è¿‡çš„ ToBoolean æŠ½è±¡æ“ä½œè§„åˆ™ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> c;</span><br><span class="line"><span class="keyword">var</span> d = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a) &#123;</span><br><span class="line"> <span class="built_in">console</span>.log( <span class="string">&quot;yep&quot;</span> );  <span class="comment">// yep</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (c) &#123;</span><br><span class="line"> <span class="built_in">console</span>.log( <span class="string">&quot;nope, never runs&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c = d ? a : b;</span><br><span class="line">c;     <span class="comment">// &quot;abc&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ((a &amp;&amp; d) || c) &#123;</span><br><span class="line"> <span class="built_in">console</span>.log( <span class="string">&quot;yep&quot;</span> );  <span class="comment">// yep</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å’Œ-amp-amp"><a href="#å’Œ-amp-amp" class="headerlink" title="|| å’Œ &amp;&amp;"></a>|| å’Œ &amp;&amp;</h3><p>JSä¸­è¿”å›çš„ä¸ä¸€å®šå¸ƒå°”å€¼ã€‚è€Œæ˜¯ä¸¤ä¸ªæ“ä½œæ•°ä¸­çš„ä¸€ä¸ªçš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">a || b;  <span class="comment">// 42</span></span><br><span class="line">a &amp;&amp; b;  <span class="comment">// &quot;abc&quot;</span></span><br><span class="line"></span><br><span class="line">c || b;  <span class="comment">// &quot;abc&quot;</span></span><br><span class="line">c &amp;&amp; b;  <span class="comment">// null</span></span><br></pre></td></tr></table></figure><p>|| å’Œ &amp;&amp; é¦–å…ˆä¼šå¯¹ç¬¬ä¸€ä¸ªæ“ä½œæ•°(a å’Œ c)æ‰§è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœå…¶ä¸æ˜¯å¸ƒå°”å€¼å°±å…ˆè¿›è¡Œ ToBoolean å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œç„¶åå†æ‰§è¡Œæ¡ä»¶åˆ¤æ–­ã€‚</p><p>å¯¹äº || æ¥è¯´ï¼Œå¦‚æœæ¡ä»¶åˆ¤æ–­ç»“æœä¸º true å°±è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°(a å’Œ c)çš„å€¼ï¼Œå¦‚æœä¸º false å°±è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°(b)çš„å€¼ã€‚<br>&amp;&amp; åˆ™ç›¸åï¼Œå¦‚æœæ¡ä»¶åˆ¤æ–­ç»“æœä¸º true å°±è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°(b)çš„å€¼ï¼Œå¦‚æœä¸º false å°±è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°(a å’Œ c)çš„å€¼ã€‚</p><p>æ¢ä¸ªè§’åº¦ç†è§£</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a || b;</span><br><span class="line"><span class="comment">// ç›¸å½“äº</span></span><br><span class="line">a ? a : b;</span><br><span class="line"></span><br><span class="line">a &amp;&amp; b;</span><br><span class="line"><span class="comment">// ç›¸å½“äº</span></span><br><span class="line">a ? b : a;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒä¸‰å…ƒè¡¨è¾¾å¼ä¸åŒçš„æ˜¯, å¦‚æœaæ˜¯è¡¨è¾¾å¼ï¼Œå¯èƒ½ä¼šæ‰§è¡Œä¸¤æ¬¡ã€‚</span></span><br></pre></td></tr></table></figure><h4 id="å¸¸è§ç”¨æ³•"><a href="#å¸¸è§ç”¨æ³•" class="headerlink" title="å¸¸è§ç”¨æ³•"></a>å¸¸è§ç”¨æ³•</h4><p>è®¾ç½®é»˜è®¤å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line"> a = a || <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"> b = b || <span class="string">&quot;world&quot;</span>;</span><br><span class="line"></span><br><span class="line"> <span class="built_in">console</span>.log( a + <span class="string">&quot; &quot;</span> + b );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();     <span class="comment">// &quot;hello world&quot;</span></span><br><span class="line">foo( <span class="string">&quot;yeah&quot;</span>, <span class="string">&quot;yeah!&quot;</span> ); <span class="comment">// &quot;yeah yeah!&quot;</span></span><br></pre></td></tr></table></figure><p>çŸ­è·¯æœºåˆ¶</p><p>aä¸ºfalseæ—¶ï¼Œfooä¸ä¼šæ‰§è¡Œã€‚æ¯”<code>if (a) &#123; foo() &#125;</code>ç®€æ´æ˜äº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( a );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"></span><br><span class="line">a &amp;&amp; foo(); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><h3 id="å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰"><a href="#å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰" class="headerlink" title="å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰"></a>å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰</h3><p><strong><code>==</code>å…è®¸åœ¨ç›¸ç­‰æ¯”è¾ƒä¸­è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè€Œ<code>===</code>ä¸å…è®¸ã€‚</strong></p><p>äººè§‰å¾— == ä¼šæ¯” === æ…¢ï¼Œå®é™…ä¸Šè™½ç„¶å¼ºåˆ¶ç±»å‹è½¬æ¢ç¡®å®è¦å¤šèŠ±ç‚¹æ—¶é—´ï¼Œä½†ä»…ä»…æ˜¯å¾®ç§’çº§ (ç™¾ä¸‡åˆ†ä¹‹ä¸€ç§’)çš„å·®åˆ«è€Œå·²ã€‚<br>å¦‚æœè¿›è¡Œæ¯”è¾ƒçš„ä¸¤ä¸ªå€¼ç±»å‹ç›¸åŒï¼Œåˆ™ == å’Œ === ä½¿ç”¨ç›¸åŒçš„ç®—æ³•ï¼Œæ‰€ä»¥é™¤äº† JavaScript å¼•æ“ å®ç°ä¸Šçš„ç»†å¾®å·®åˆ«ä¹‹å¤–ï¼Œå®ƒä»¬ä¹‹é—´å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚</p><h4 id="æŠ½è±¡ç›¸ç­‰"><a href="#æŠ½è±¡ç›¸ç­‰" class="headerlink" title="æŠ½è±¡ç›¸ç­‰"></a>æŠ½è±¡ç›¸ç­‰</h4><p>è§„å®šå¦‚æœä¸¤ä¸ªå€¼çš„ç±»å‹ç›¸åŒï¼Œå°±ä»…æ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œ42 ç­‰äº 42ï¼Œâ€abcâ€ ç­‰äº â€œabcâ€ã€‚</p><p>ç‰¹æ®Šæƒ…å†µ NaN ä¸ç­‰äº NaNï¼Œ+0 ç­‰äº -0ã€‚</p><p>ä»¥ x å’Œ y ä¸ºå€¼è¿›è¡Œ x == y æ¯”è¾ƒä¼šäº§ç”Ÿçš„ç»“æœå¯ä¸º true æˆ– falseã€‚æ¯”è¾ƒçš„æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>è‹¥ Type(x) ä¸ Type(y) ç›¸åŒï¼Œ åˆ™<ol><li>è‹¥ Type(x) ä¸º Undefinedï¼Œ è¿”å› trueã€‚</li><li>è‹¥ Type(x)ä¸º Nullï¼Œ è¿”å› trueã€‚</li><li>è‹¥ Type(x)ä¸º Numberï¼Œåˆ™<ol><li>è‹¥ x ä¸º NaNï¼Œè¿”å› falseã€‚</li><li>è‹¥ y ä¸º NaNï¼Œè¿”å› falseã€‚</li><li>è‹¥ x ä¸ y ä¸ºç›¸ç­‰æ•°å€¼ï¼Œè¿”å› trueã€‚</li><li>è‹¥ x ä¸º +0 ä¸” y ä¸º âˆ’0ï¼Œè¿”å› trueã€‚</li><li>è‹¥ x ä¸º âˆ’0 ä¸” y ä¸º +0ï¼Œè¿”å› trueã€‚</li><li>è¿”å› falseã€‚</li></ol></li><li>è‹¥ Type(x) ä¸º Stringï¼Œåˆ™å½“ x å’Œ y ä¸ºå®Œå…¨ç›¸åŒçš„å­—ç¬¦åºåˆ—ï¼ˆé•¿åº¦ç›¸ç­‰ä¸”ç›¸åŒå­—ç¬¦åœ¨ç›¸åŒä½ç½®ï¼‰æ—¶è¿”å› trueã€‚å¦åˆ™ï¼Œè¿”å› falseã€‚</li><li>è‹¥ Type(x) ä¸º Booleanï¼Œå½“ x å’Œ y ä¸ºåŒä¸º true æˆ–è€…åŒä¸º false æ—¶è¿”å› trueã€‚å¦åˆ™ï¼Œè¿”å› falseã€‚</li><li>å½“ x å’Œ y ä¸ºå¼•ç”¨åŒä¸€å¯¹è±¡æ—¶è¿”å› trueã€‚å¦åˆ™ï¼Œè¿”å› falseã€‚</li></ol></li><li>è‹¥ x ä¸º null ä¸” y ä¸º undefinedï¼Œè¿”å› trueã€‚</li><li>è‹¥ x ä¸º undefined ä¸” y ä¸º nullï¼Œè¿”å› trueã€‚</li><li>è‹¥ Type(x) ä¸º Number ä¸” Type(y) ä¸º Stringï¼Œè¿”å› x == ToNumber(y) çš„ç»“æœã€‚</li><li>è‹¥ Type(x) ä¸º String ä¸” Type(y) ä¸º Numberï¼Œè¿”å›æ¯”è¾ƒ ToNumber(x) == y çš„ç»“æœã€‚</li><li>è‹¥ Type(x) ä¸º Booleanï¼Œè¿”å›æ¯”è¾ƒ ToNumber(x) == y çš„ç»“æœã€‚</li><li>è‹¥ Type(y) ä¸º Booleanï¼Œè¿”å›æ¯”è¾ƒ x == ToNumber(y) çš„ç»“æœã€‚</li><li>è‹¥ Type(x) ä¸º String æˆ– Numberï¼Œä¸” Type(y) ä¸º Objectï¼Œè¿”å›æ¯”è¾ƒ x == ToPrimitive(y) çš„ç»“æœã€‚</li><li>è‹¥ Type(x) ä¸º Object ä¸” Type(y) ä¸º String æˆ– Numberï¼Œè¿”å›æ¯”è¾ƒ ToPrimitive(x) == y çš„ç»“æœã€‚</li><li>è¿”å› falseã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;42&quot;</span>;</span><br><span class="line">a === b; <span class="comment">// false</span></span><br><span class="line">a == b;  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;42&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="literal">true</span>;</span><br><span class="line">a == b; <span class="comment">// false 1==42</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="string">&quot;42&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> y = <span class="literal">false</span>;</span><br><span class="line">x == y; <span class="comment">// false 42==0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = [ <span class="number">42</span> ];</span><br><span class="line">a == b; <span class="comment">// true 42==42</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">Object</span>( a ); <span class="comment">// same as `new String( a )`</span></span><br><span class="line">a === b;    <span class="comment">// false</span></span><br><span class="line">a == b;     <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">Object</span>( a ); <span class="comment">// same as `Object()`</span></span><br><span class="line">a == b;     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">var</span> d = <span class="built_in">Object</span>( c ); <span class="comment">// same as `Object()`</span></span><br><span class="line">c == d;     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> e = <span class="literal">NaN</span>;</span><br><span class="line"><span class="keyword">var</span> f = <span class="built_in">Object</span>( e ); <span class="comment">// same as `new Number( e )`</span></span><br><span class="line">e == f;     <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>æ— è®ºä»€ä¹ˆæƒ…å†µä¸‹éƒ½ä¸è¦ä½¿ç”¨ == true å’Œ == falseã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;42&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼šå¤±è´¥</span></span><br><span class="line"><span class="keyword">if</span> (a == <span class="literal">true</span>) &#123;</span><br><span class="line"> <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹Ÿä¼šå¤±è´¥</span></span><br><span class="line"><span class="keyword">if</span> (a === <span class="literal">true</span>) &#123;</span><br><span class="line"> <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ²¡é—®é¢˜</span></span><br><span class="line"><span class="keyword">if</span> (a) &#123;</span><br><span class="line"> <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´å¥½</span></span><br><span class="line"><span class="keyword">if</span> (!!a) &#123;</span><br><span class="line"> <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹Ÿå¾ˆå¥½</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Boolean</span>( a )) &#123;</span><br><span class="line"> <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…¶ä»–æƒ…å†µ"><a href="#å…¶ä»–æƒ…å†µ" class="headerlink" title="å…¶ä»–æƒ…å†µ"></a>å…¶ä»–æƒ…å†µ</h4><p>æ›´æ”¹å†…ç½®åŸç”ŸåŸå‹ä¼šå¯¼è‡´å¥‡æ€ªæ•ˆæœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.prototype.valueOf = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Number</span>( <span class="number">2</span> ) == <span class="number">3</span>; <span class="comment">// trueï¼Œå› ä¸ºvalueOfè¿”å›3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ç§æƒ…å†µä¹Ÿä¼šå‘ç”Ÿï¼Œå¦‚ä¸‹</span></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line"> <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">2</span>;</span><br><span class="line"><span class="comment">// è®© a.valueOf() æ¯æ¬¡è°ƒç”¨éƒ½äº§ç”Ÿå‰¯ä½œç”¨ï¼Œç¬¬ä¸€æ¬¡è¿”å› 2ï¼Œç¬¬äºŒæ¬¡è¿”å› 3</span></span><br><span class="line"><span class="built_in">Number</span>.prototype.valueOf = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> i++;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Number</span>( <span class="number">42</span> );</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line"> <span class="built_in">console</span>.log( <span class="string">&quot;Yep, this happened.&quot;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;0&quot;</span> == <span class="literal">null</span>;   <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="literal">undefined</span>;  <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="literal">false</span>;   <span class="comment">// true -- UH OH!</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="literal">NaN</span>;    <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="number">0</span>;    <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="string">&quot;&quot;</span>;    <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="literal">false</span> == <span class="literal">null</span>;   <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="literal">undefined</span>;  <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="literal">NaN</span>;   <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="number">0</span>;    <span class="comment">// true -- UH OH!</span></span><br><span class="line"><span class="literal">false</span> == <span class="string">&quot;&quot;</span>;   <span class="comment">// true -- UH OH!</span></span><br><span class="line"><span class="literal">false</span> == [];   <span class="comment">// true -- UH OH!</span></span><br><span class="line"><span class="literal">false</span> == &#123;&#125;;   <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="literal">null</span>;    <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="literal">undefined</span>;  <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="literal">NaN</span>;    <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="number">0</span>;    <span class="comment">// true -- UH OH!</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == [];    <span class="comment">// true -- UH OH!</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == &#123;&#125;;    <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span> == <span class="literal">null</span>;    <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">undefined</span>;   <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">NaN</span>;    <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == [];    <span class="comment">// true -- UH OH!</span></span><br><span class="line"><span class="number">0</span> == &#123;&#125;;    <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>æœ‰ 7 ç§æ³¨é‡Šäº†â€œUH OH!â€ï¼Œå› ä¸ºå®ƒä»¬å±äºå‡é˜³(false positive)çš„æƒ…å†µï¼Œé‡Œé¢å‘å¾ˆå¤šã€‚ â€œâ€ å’Œ 0 æ˜æ˜¾æ˜¯ä¸¤ä¸ªä¸åŒçš„å€¼ï¼Œå®ƒä»¬ä¹‹é—´çš„å¼ºåˆ¶ç±»å‹è½¬æ¢å¾ˆå®¹æ˜“æé”™ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[] == ![] <span class="comment">// true,æ ¹æ®toBooleanå˜æˆ[]==false</span></span><br><span class="line"><span class="number">2</span> == [<span class="number">2</span>];  <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == [<span class="literal">null</span>]; <span class="comment">// true</span></span><br><span class="line"><span class="number">0</span> == <span class="string">&quot;\n&quot;</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>ï¼Œ== å³è¾¹çš„å€¼ <code>[2]</code> å’Œ <code>[null]</code> ä¼šè¿›è¡Œ ToPrimitive å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œ ä»¥ä¾¿èƒ½å¤Ÿå’Œå·¦è¾¹çš„åŸºæœ¬ç±»å‹å€¼(2 å’Œ â€œâ€)è¿›è¡Œæ¯”è¾ƒã€‚å› ä¸ºæ•°ç»„çš„ valueOf() è¿”å›æ•°ç»„æœ¬èº«ï¼Œ æ‰€ä»¥å¼ºåˆ¶ç±»å‹è½¬æ¢è¿‡ç¨‹ä¸­æ•°ç»„ä¼šè¿›è¡Œå­—ç¬¦ä¸²åŒ–ã€‚<br>ç¬¬ä¸€è¡Œä¸­çš„ <code>[2]</code> ä¼šè½¬æ¢ä¸º <code>&quot;2&quot;</code>ï¼Œç„¶åé€šè¿‡ ToNumber è½¬æ¢ä¸º 2ã€‚ç¬¬äºŒè¡Œä¸­çš„ <code>[null]</code> ä¼šç›´æ¥è½¬ æ¢ä¸º â€œâ€ã€‚<br>æ‰€ä»¥æœ€åçš„ç»“æœå°±æ˜¯ <code>2 == 2</code> å’Œ <code>&quot;&quot; == &quot;&quot;</code>ã€‚</p><p>å®‰å…¨è¿ç”¨éšå¼å¼ºåˆ¶è½¬æ¢ï¼Œéµå¾ªä»¥ä¸‹ä¸¤ä¸ªåŸåˆ™ï¼š</p><ul><li>å¦‚æœä¸¤è¾¹çš„å€¼ä¸­æœ‰ true æˆ–è€… falseï¼Œåƒä¸‡ä¸è¦ä½¿ç”¨ ==ã€‚</li><li>å¦‚æœä¸¤è¾¹çš„å€¼ä¸­æœ‰ []ã€â€â€ æˆ–è€… 0ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ ==ã€‚</li></ul><p><strong>æœ€å¥½ç”¨ === æ¥é¿å…ä¸ç»æ„çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚è¿™ä¸¤ä¸ªåŸåˆ™å¯ä»¥è®©æˆ‘ä»¬é¿å¼€å‡ ä¹æ‰€æœ‰å¼ºåˆ¶ç±»å‹è½¬æ¢çš„å‘ã€‚</strong></p><h3 id="æŠ½è±¡å…³ç³»æ¯”è¾ƒ"><a href="#æŠ½è±¡å…³ç³»æ¯”è¾ƒ" class="headerlink" title="æŠ½è±¡å…³ç³»æ¯”è¾ƒ"></a>æŠ½è±¡å…³ç³»æ¯”è¾ƒ</h3><p>æ¯”è¾ƒåŒæ–¹é¦–å…ˆè°ƒç”¨ ToPrimitiveï¼Œå¦‚æœç»“æœå‡ºç°éå­—ç¬¦ä¸²ï¼Œå°±æ ¹æ® ToNumber è§„åˆ™å°†åŒæ–¹å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºæ•°å­—æ¥è¿›è¡Œæ¯”è¾ƒã€‚</p><p>å¦‚æœæ¯”è¾ƒåŒæ–¹éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰å­—æ¯é¡ºåºæ¥è¿›è¡Œæ¯”è¾ƒ:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [ <span class="number">42</span> ];</span><br><span class="line"><span class="keyword">var</span> b = [ <span class="string">&quot;43&quot;</span> ];</span><br><span class="line"></span><br><span class="line">a &lt; b; <span class="comment">// true  42&lt;43</span></span><br><span class="line">b &lt; a; <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [ <span class="string">&quot;42&quot;</span> ];</span><br><span class="line"><span class="keyword">var</span> b = [ <span class="string">&quot;043&quot;</span> ];</span><br><span class="line"></span><br><span class="line">a &lt; b; <span class="comment">// false  å­—ç¬¦ä¸²ï¼Œ&quot;42&quot; &lt; &quot;043&quot; 4&gt;0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [ <span class="number">4</span>, <span class="number">2</span> ];</span><br><span class="line"><span class="keyword">var</span> b = [ <span class="number">0</span>, <span class="number">4</span>, <span class="number">3</span> ];</span><br><span class="line">a &lt; b; <span class="comment">// false &#x27;4,2&#x27; &lt; &#x27;0,4,3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">b</span>: <span class="number">42</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> b = &#123; <span class="attr">b</span>: <span class="number">43</span> &#125;;</span><br><span class="line">a &lt; b; <span class="comment">// false &#x27;[object Object]&#x27; &lt; &#x27;[object Object]&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹å¾ˆå¥‡æ€ª</span></span><br><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">b</span>: <span class="number">42</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> b = &#123; <span class="attr">b</span>: <span class="number">43</span> &#125;;</span><br><span class="line"></span><br><span class="line">a &lt; b; <span class="comment">// false</span></span><br><span class="line">a == b; <span class="comment">// false</span></span><br><span class="line">a &gt; b; <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">a &lt;= b; <span class="comment">// true</span></span><br><span class="line">a &gt;= b; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>JSä¸­ <code>&lt;=</code> æ˜¯â€œä¸å¤§äºâ€çš„æ„æ€(å³ !(a &gt; b)ï¼Œå¤„ç†ä¸º !(b &lt; a))ã€‚åŒç† a &gt;= b å¤„ç†ä¸º !(a&lt;b)ã€‚</p><p>è¦é¿å…a &lt; bä¸­å‘ç”Ÿéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæˆ‘ä»¬åªèƒ½ç¡®ä¿aå’Œbä¸ºç›¸åŒçš„ç±»å‹ï¼Œ é™¤æ­¤ä¹‹å¤–åˆ«æ— ä»–æ³•ã€‚</p><p>ä¸ºäº†ä¿è¯å®‰å…¨ï¼Œåº”è¯¥å¯¹å…³ç³»æ¯”è¾ƒä¸­çš„å€¼è¿›è¡Œæ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [ <span class="number">42</span> ];</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;043&quot;</span>;</span><br><span class="line"></span><br><span class="line">a &lt; b;      <span class="comment">// false -- string comparison!</span></span><br><span class="line"><span class="built_in">Number</span>( a ) &lt; <span class="built_in">Number</span>( b ); <span class="comment">// true -- number comparison!</span></span><br></pre></td></tr></table></figure><h3 id="å°ç»“ç±»å‹è½¬æ¢"><a href="#å°ç»“ç±»å‹è½¬æ¢" class="headerlink" title="å°ç»“ç±»å‹è½¬æ¢"></a>å°ç»“ç±»å‹è½¬æ¢</h3><p>äº†è§£æ˜¾ç¤ºéšå¼è½¬æ¢</p><p>ä¸€èˆ¬ç¼–ç è§„èŒƒçš„é¡¹ç›®éƒ½ä¼šè¦æ±‚å¼ºåˆ¶ç±»å‹è½¬æ¢</p><p>å†åŠ ä¸Šç”¨äº†TSä¹‹åï¼Œè¦æ±‚æ›´é«˜äº†ã€‚</p><p>ä¸è¿‡è¿˜æ˜¯è¦çŸ¥å…¶ç„¶ï¼Œæ›´è¦çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> è¯»ä¹¦ç¬”è®° </tag>
            
            <tag> ç²¾è¯» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leetcodeåˆ·é¢˜ç­”æ¡ˆè®°å½•</title>
      <link href="posts/leetcode%E5%88%B7%E9%A2%98%E7%AD%94%E6%A1%88%E8%AE%B0%E5%BD%95/"/>
      <url>posts/leetcode%E5%88%B7%E9%A2%98%E7%AD%94%E6%A1%88%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="LeetCodeåˆ·é¢˜ç­”æ¡ˆè®°å½•"><a href="#LeetCodeåˆ·é¢˜ç­”æ¡ˆè®°å½•" class="headerlink" title="LeetCodeåˆ·é¢˜ç­”æ¡ˆè®°å½•"></a>LeetCodeåˆ·é¢˜ç­”æ¡ˆè®°å½•</h2><h2 id="å¸¸è§ç®—æ³•æ€è·¯"><a href="#å¸¸è§ç®—æ³•æ€è·¯" class="headerlink" title="å¸¸è§ç®—æ³•æ€è·¯"></a>å¸¸è§ç®—æ³•æ€è·¯</h2><h3 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h3><pre><code>äºŒåˆ†æœç´¢æ˜¯ä¸€ç§åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æŸä¸€ç‰¹å®šå…ƒç´ çš„æœç´¢ç®—æ³•ã€‚äºŒåˆ†æœç´¢ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log n)ï¼Œç›¸æ¯”è¾ƒé¡ºåºæœç´¢çš„ O(n) æ—¶é—´å¤æ‚åº¦ï¼Œå®ƒè¦å¿«å¾ˆå¤šã€‚é¦–å…ˆè¦æ±‚å‡ºæ•°ç»„çš„ä¸­é—´ä¸‹æ ‡ï¼ˆæ•´æ•°ï¼‰ï¼Œä»è€Œè·å–åˆ°ä¸­é—´å€¼ï¼š`const mid = Math.floor((start + end) / 2)`ä½†åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹ `start+ end` å¯èƒ½ç›´æ¥è¶…å‡ºæœ€å¤§å®‰å…¨æ•°ï¼Œæ‰€ä»¥æ›´è°¨æ…çš„å†™æ³•`const mid = Math.floor(start + (end - start) / 2)`<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">    <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor(start + (end - start) / <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> (arr[mid]<span class="string">` &lt; target) &#123;</span></span><br><span class="line"><span class="string">        start = mid + 1</span></span><br><span class="line"><span class="string">    &#125; else &#123;</span></span><br><span class="line"><span class="string">        end = mid</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></code></pre><a id="more"></a><h2 id="ç¬¬ä¸€é¢˜-æ±‚å’Œï¼Œåœ¨æ•°ç»„ä¸­æ‰¾ä¸¤ä¸ªå…ƒç´ åŠ èµ·æ¥ç­‰äºä¸€ä¸ªæ•°"><a href="#ç¬¬ä¸€é¢˜-æ±‚å’Œï¼Œåœ¨æ•°ç»„ä¸­æ‰¾ä¸¤ä¸ªå…ƒç´ åŠ èµ·æ¥ç­‰äºä¸€ä¸ªæ•°" class="headerlink" title="ç¬¬ä¸€é¢˜ æ±‚å’Œï¼Œåœ¨æ•°ç»„ä¸­æ‰¾ä¸¤ä¸ªå…ƒç´ åŠ èµ·æ¥ç­‰äºä¸€ä¸ªæ•°"></a>ç¬¬ä¸€é¢˜ æ±‚å’Œï¼Œåœ¨æ•°ç»„ä¸­æ‰¾ä¸¤ä¸ªå…ƒç´ åŠ èµ·æ¥ç­‰äºä¸€ä¸ªæ•°</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">target</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number[]&#125;</span></span></span></span><br><span class="line"><span class="comment"> * æš´åŠ›æŸ¥æ‰¾ï¼Œå¾ªç¯ä¸¤æ¬¡</span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦O(n^2)ï¼Œ ç©ºé—´å¤æ‚åº¦ï¼šO(1)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> twoSum = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">0</span>, il = nums.length, sumArr = [];</span><br><span class="line">    <span class="keyword">for</span>(; i &lt; il; i++ ) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; il; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (**nums**[i] === target - nums[j]) &#123;</span><br><span class="line">                <span class="keyword">return</span> [i, j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">&#x27;not find~&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">target</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number[]&#125;</span></span></span></span><br><span class="line"><span class="comment"> * åŒ¹é…ä¸åˆ°çš„å­˜å…¥map, å¾ªç¯çš„æ—¶å€™å»mapé‡Œæ‰¾æ˜¯å¦æœ‰åŒ¹é…çš„</span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦ï¼šO(n)</span></span><br><span class="line"><span class="comment"> * ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ‰€éœ€çš„é¢å¤–ç©ºé—´å–å†³äºå“ˆå¸Œè¡¨ä¸­å­˜å‚¨çš„å…ƒç´ æ•°é‡ï¼Œè¯¥è¡¨æœ€å¤šéœ€è¦å­˜å‚¨ n ä¸ªå…ƒç´ ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> twoSum = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arrObj = &#123;&#125;, i = <span class="number">0</span>, il = nums.length;</span><br><span class="line">    <span class="keyword">for</span>(; i &lt; il; i++ ) &#123;</span><br><span class="line">        <span class="keyword">let</span> extra = target - nums[i];</span><br><span class="line">        <span class="comment">// æ”¾è¿›å»çš„å€¼å¯èƒ½æ˜¯0ï¼Œä¸èƒ½ç”¨if(arrObj[extra]) åˆ¤æ–­æ˜¯å¦æœ‰å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (arrObj[extra] !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="comment">// æ”¾å…¥æ•°ç»„çš„é¡ºåºï¼Œå‰é¢çš„å…ˆæ”¾è¿›å»çš„ï¼Œæ‰€ä»¥iåœ¨åé¢</span></span><br><span class="line">            <span class="keyword">return</span> [arrObj[extra], i];</span><br><span class="line">        &#125;</span><br><span class="line">        arrObj[nums[i]] = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬2é¢˜-ä¸¤ä¸ªé“¾è¡¨æ±‚å’Œ"><a href="#ç¬¬2é¢˜-ä¸¤ä¸ªé“¾è¡¨æ±‚å’Œ" class="headerlink" title="ç¬¬2é¢˜ ä¸¤ä¸ªé“¾è¡¨æ±‚å’Œ"></a>ç¬¬2é¢˜ ä¸¤ä¸ªé“¾è¡¨æ±‚å’Œ</h2><p>ç»™å‡ºä¸¤ä¸ª éç©º çš„é“¾è¡¨ç”¨æ¥è¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å…¶ä¸­ï¼Œå®ƒä»¬å„è‡ªçš„ä½æ•°æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚</p><p>è¿™ä¸ªé¢˜æ˜¯å‚è€ƒç­”æ¡ˆåšçš„ã€‚</p><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* function ListNode(val) &#123;</span></span><br><span class="line"><span class="comment">*     this.val = val;</span></span><br><span class="line"><span class="comment">*     this.next = null;</span></span><br><span class="line"><span class="comment">* &#125;</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;ListNode&#125;</span> <span class="variable">l1</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;ListNode&#125;</span> <span class="variable">l2</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@return <span class="type">&#123;ListNode&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> addTwoNumbers = <span class="function"><span class="keyword">function</span>(<span class="params">l1, l2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> List = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">var</span> head = List;</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> carry = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (l1 !== <span class="literal">null</span> || l2 !== <span class="literal">null</span> || sum &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (l1 !== <span class="literal">null</span>) &#123;</span><br><span class="line">            sum = sum + l1.val;</span><br><span class="line">            l1 = l1.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (l2 !== <span class="literal">null</span>) &#123;</span><br><span class="line">            sum = sum + l2.val;</span><br><span class="line">            l2 = l2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (sum &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">            carry = <span class="number">1</span>;</span><br><span class="line">            sum -= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        head.next = <span class="keyword">new</span> ListNode(sum);</span><br><span class="line">        head = head.next;</span><br><span class="line"></span><br><span class="line">        sum = carry;</span><br><span class="line">        carry = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> List.next;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></code></pre><h2 id="ç¬¬3é¢˜-æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­å­å­—ç¬¦ä¸²æœ€é•¿é•¿åº¦"><a href="#ç¬¬3é¢˜-æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­å­å­—ç¬¦ä¸²æœ€é•¿é•¿åº¦" class="headerlink" title="ç¬¬3é¢˜ æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­å­å­—ç¬¦ä¸²æœ€é•¿é•¿åº¦"></a>ç¬¬3é¢˜ æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­å­å­—ç¬¦ä¸²æœ€é•¿é•¿åº¦</h2><p>åˆšå¼€å§‹çš„æ€è·¯æ˜¯æ”¾åˆ°mapé‡Œï¼Œåæ¥å‘ç°ä¼šæœ‰bdfbçš„æƒ…å†µï¼Œæ‰€ä»¥ä¸èƒ½ç”¨mapæ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œæ”¹ä¸ºç”¨æ•°ç»„åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨å°±ä»æ‰€åœ¨ä½ç½®åˆ é™¤ä¹‹å‰çš„æ•°ç»„</p><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @lc app=leetcode id=3 lang=javascript</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* [3] Longest Substring Without Repeating Characters</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">s</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> lengthOfLongestSubstring = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> sArr = s.split(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> maxArr = [];</span><br><span class="line">    <span class="keyword">let</span> l = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, il = sArr.length; i &lt; il; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> tmp = sArr[i];</span><br><span class="line">        <span class="keyword">if</span> (maxArr.includes(tmp)) &#123;</span><br><span class="line">            maxArr = maxArr.slice(maxArr.indexOf(tmp) + <span class="number">1</span>, maxArr.length);</span><br><span class="line">            maxArr.push(tmp);</span><br><span class="line">            l = maxArr.length;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            maxArr.push(tmp);</span><br><span class="line">            ++l;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (l &gt; max) &#123;</span><br><span class="line">            max = l;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰å®³çš„è§£æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lengthOfLongestSubstring</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> map = &#123;&#125;;</span><br><span class="line">    <span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> s.split(<span class="string">&#x27;&#x27;</span>).reduce(<span class="function">(<span class="params">max, v, i</span>) =&gt;</span> &#123;</span><br><span class="line">        left = map[v] &gt;= left ? map[v] + <span class="number">1</span> : left;</span><br><span class="line">        map[v] = i;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.max(max, i - left + <span class="number">1</span>);</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre><h2 id="4-å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°"><a href="#4-å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°" class="headerlink" title="4. å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°"></a>4. å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°</h2><p>ä¸¤ä¸ªæœ‰åºæ•°ç»„æ±‚ä¸­ä½æ•°ï¼Œ<br>é—®é¢˜ä¸€èˆ¬åŒ–ä¸ºï¼Œæ±‚ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ç¬¬kä¸ªæ•°ï¼Œå½“k = (m+n)/2æ—¶ä¸ºåŸé—®é¢˜çš„è§£ã€‚</p><p>æ€ä¹ˆæ±‚ç¬¬kä¸ªæ•°ï¼Ÿåˆ†åˆ«æ±‚å‡ºç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ•°ç»„çš„ç¬¬ k / 2ä¸ªæ•° a å’Œ bï¼Œç„¶åæ¯”è¾ƒ a å’Œ bï¼Œ<br>å½“a &lt; b ï¼Œè¯´æ˜ç¬¬ k ä¸ªæ•°ä½äº aæ•°ç»„çš„ç¬¬ k / 2ä¸ªæ•°ååŠæ®µï¼Œ<br>æˆ–è€…bæ•°ç»„çš„ ç¬¬ k / 2 ä¸ªæ•°å‰åŠæ®µï¼Œé—®é¢˜è§„æ¨¡ç¼©å°äº†ä¸€åŠï¼Œç„¶åé€’å½’å¤„ç†å°±è¡Œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ O(log(m+n))</p><p><a href="https://leetcode-cn.com/problems/median-of-two-sorted-arrays/solution/zhen-zheng-ologmnde-jie-fa-na-xie-shuo-gui-bing-pa/">é“¾æ¥</a></p><p><a href="https://leetcode-cn.com/problems/median-of-two-sorted-arrays/solution/4-xun-zhao-liang-ge-you-xu-shu-zu-de-zhong-wei-shu/">è§£æ³•äºŒ</a>ï¼š</p><p>å°†ä¸¤ä¸ªæ•°ç»„åˆæˆä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ä¸­é—´ä½ç½®çš„å…ƒç´ ã€‚(å› ä¸ºäºŒåˆ†æ³•çš„å¤æ‚åº¦æ˜¯O(log(m+n)))</p><h2 id="367-æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°â€“äºŒåˆ†æ³•"><a href="#367-æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°â€“äºŒåˆ†æ³•" class="headerlink" title="367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°â€“äºŒåˆ†æ³•"></a>367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°â€“äºŒåˆ†æ³•</h2><pre><code>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° numï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœ num æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isPerfectSquare = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num === <span class="number">0</span> || num === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> start = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> end = num;</span><br><span class="line">    <span class="keyword">while</span>(start &lt;= end) &#123;</span><br><span class="line">        <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor(start + (end - start) / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">const</span> tmp = mid * mid;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (tmp === num) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (tmp &gt; num) &#123;</span><br><span class="line">            end = mid -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            start = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre><h2 id="744-å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯â€“äºŒåˆ†æ³•"><a href="#744-å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯â€“äºŒåˆ†æ³•" class="headerlink" title="744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯â€“äºŒåˆ†æ³•"></a>744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯â€“äºŒåˆ†æ³•</h2><p>ç»™å®šä¸€ä¸ªåªåŒ…å«å°å†™å­—æ¯çš„æœ‰åºæ•°ç»„lettersÂ å’Œä¸€ä¸ªç›®æ ‡å­—æ¯Â targetï¼Œå¯»æ‰¾æœ‰åºæ•°ç»„é‡Œé¢æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯ã€‚</p><p>æ•°ç»„é‡Œå­—æ¯çš„é¡ºåºæ˜¯å¾ªç¯çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœç›®æ ‡å­—æ¯target = â€˜zâ€™ å¹¶ä¸”æœ‰åºæ•°ç»„ä¸ºÂ letters = [â€˜aâ€™, â€˜bâ€™]ï¼Œåˆ™ç­”æ¡ˆè¿”å›Â â€˜aâ€™ã€‚</p><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nextGreatestLetter = <span class="function"><span class="keyword">function</span>(<span class="params">letters, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> max = letters.length;</span><br><span class="line">    <span class="comment">// è¾¹ç•Œå¤„ç†ï¼Œ</span></span><br><span class="line">    <span class="keyword">if</span> (letters[max -<span class="number">1</span>] &lt; target) &#123;</span><br><span class="line">        <span class="keyword">return</span> letters[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> last = binarySearch(letters, <span class="number">0</span>, max, target);</span><br><span class="line">    <span class="comment">// è¿™é‡Œå–å€¼æ—¶å€™ä¸èƒ½ç›´æ¥ç”¨lastï¼Œå¯èƒ½ä¼šæœ‰last === letters.length</span></span><br><span class="line">    <span class="keyword">return</span> letters[last % letters.length];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">binarySearch</span>(<span class="params">arr, start, end, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(start &lt; end) &#123;</span><br><span class="line">        <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor(start + (end - start)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (target &lt; arr[mid]) &#123;</span><br><span class="line">            end = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            start = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ€ä¼˜è§£</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nextGreatestLetter = <span class="function"><span class="keyword">function</span>(<span class="params">letters, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res = letters[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> l = <span class="number">0</span>, r = letters.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        <span class="keyword">let</span> mid = <span class="built_in">Math</span>.floor((l + r) / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (letters[mid] &gt; target) &#123;</span><br><span class="line">        res = letters[mid];</span><br><span class="line">        r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></code></pre><h2 id="852-å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•-Peak-Index-in-a-Mountain-Array"><a href="#852-å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•-Peak-Index-in-a-Mountain-Array" class="headerlink" title="852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•  Peak Index in a Mountain Array"></a>852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•  Peak Index in a Mountain Array</h2><p>æˆ‘ä»¬æŠŠç¬¦åˆä¸‹åˆ—å±æ€§çš„æ•°ç»„Â AÂ ç§°ä½œå±±è„‰ï¼š</p><p>A.length &gt;= 3<br>å­˜åœ¨ 0 &lt; iÂ &lt; A.length - 1 ä½¿å¾—A[0] &lt; A[1] &lt; â€¦ A[i-1] &lt; A[i] &gt; A[i+1] &gt; â€¦ &gt; A[A.length - 1]<br>ç»™å®šä¸€ä¸ªç¡®å®šä¸ºå±±è„‰çš„æ•°ç»„ï¼Œè¿”å›ä»»ä½•æ»¡è¶³Â A[0] &lt; A[1] &lt; â€¦ A[i-1] &lt; A[i] &gt; A[i+1] &gt; â€¦ &gt; A[A.length - 1]Â çš„ iÂ çš„å€¼ã€‚</p><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> peakIndexInMountainArray = <span class="function"><span class="keyword">function</span>(<span class="params">A</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> start = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> end = A.length -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">debugger</span></span><br><span class="line">    <span class="keyword">while</span>(start &lt;= end) &#123;</span><br><span class="line">        <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor(start + (end - start) / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (A[mid] &lt; A[mid + <span class="number">1</span>]) &#123;</span><br><span class="line">            start = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (A[mid] &lt; A[mid - <span class="number">1</span>]) &#123;</span><br><span class="line">            end = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// é€’å½’è§£æ³•</span></span><br><span class="line"><span class="keyword">const</span> peakIndexInMountainArray = <span class="function"><span class="keyword">function</span>(<span class="params">A</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">recursive</span>(<span class="params">i, j</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> mid = (i + j) &gt;&gt; <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> (A[mid - <span class="number">1</span>] &lt; A[mid] &amp;&amp; A[mid] &gt; A[mid + <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> mid</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (A[mid] &lt; A[mid + <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> recursive(mid + <span class="number">1</span>, j)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> recursive(i, mid - <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> recursive(<span class="number">1</span>, A.length - <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// reduce è§£æ³•</span></span><br><span class="line"><span class="keyword">var</span> peakIndexInMountainArray = <span class="function"><span class="keyword">function</span>(<span class="params">A</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> A.reduce(<span class="function">(<span class="params">acc, curr, i</span>) =&gt;</span> (<span class="string">&#x27;undefined&#x27;</span> === <span class="keyword">typeof</span> acc || A[acc] &lt; curr ? i : acc), <span class="literal">undefined</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre><h2 id="475-ä¾›æš–å™¨-Heaters"><a href="#475-ä¾›æš–å™¨-Heaters" class="headerlink" title="475. ä¾›æš–å™¨  Heaters"></a>475. ä¾›æš–å™¨  Heaters</h2><p>å†¬å­£å·²ç»æ¥ä¸´ã€‚Â ä½ çš„ä»»åŠ¡æ˜¯è®¾è®¡ä¸€ä¸ªæœ‰å›ºå®šåŠ çƒ­åŠå¾„çš„ä¾›æš–å™¨å‘æ‰€æœ‰æˆ¿å±‹ä¾›æš–ã€‚</p><p>ç°åœ¨ï¼Œç»™å‡ºä½äºä¸€æ¡æ°´å¹³çº¿ä¸Šçš„æˆ¿å±‹å’Œä¾›æš–å™¨çš„ä½ç½®ï¼Œæ‰¾åˆ°å¯ä»¥è¦†ç›–æ‰€æœ‰æˆ¿å±‹çš„æœ€å°åŠ çƒ­åŠå¾„ã€‚</p><p>æ‰€ä»¥ï¼Œä½ çš„è¾“å…¥å°†ä¼šæ˜¯æˆ¿å±‹å’Œä¾›æš–å™¨çš„ä½ç½®ã€‚ä½ å°†è¾“å‡ºä¾›æš–å™¨çš„æœ€å°åŠ çƒ­åŠå¾„ã€‚<br>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: [1,2,3],[2]<br>è¾“å‡º: 1<br>è§£é‡Š: ä»…åœ¨ä½ç½®2ä¸Šæœ‰ä¸€ä¸ªä¾›æš–å™¨ã€‚å¦‚æœæˆ‘ä»¬å°†åŠ çƒ­åŠå¾„è®¾ä¸º1ï¼Œé‚£ä¹ˆæ‰€æœ‰æˆ¿å±‹å°±éƒ½èƒ½å¾—åˆ°ä¾›æš–ã€‚<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: [1,2,3,4],[1,4]<br>è¾“å‡º: 1<br>è§£é‡Š: åœ¨ä½ç½®1, 4ä¸Šæœ‰ä¸¤ä¸ªä¾›æš–å™¨ã€‚æˆ‘ä»¬éœ€è¦å°†åŠ çƒ­åŠå¾„è®¾ä¸º1ï¼Œè¿™æ ·æ‰€æœ‰æˆ¿å±‹å°±éƒ½èƒ½å¾—åˆ°ä¾›æš–ã€‚</p><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§ï¼Œæ²¡é€šè¿‡</span></span><br><span class="line"><span class="keyword">var</span> findRadius = <span class="function"><span class="keyword">function</span>(<span class="params">houses, heaters</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ç°å°†æˆ¿å±‹å’ŒåŠ çƒ­å™¨ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">    houses.sort(sortNum);</span><br><span class="line">    heaters.sort(sortNum);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> housesL = houses.length;</span><br><span class="line">    <span class="keyword">const</span> heatersL = heaters.length;</span><br><span class="line">    <span class="comment">// å…ˆå®šä¹‰åŠå¾„ä¸º0</span></span><br><span class="line">    <span class="keyword">let</span> radius = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾ªç¯æ¯ä¸ªhouse</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;housesL; i++) &#123;</span><br><span class="line">        <span class="comment">// æ¯”è¾ƒæˆ¿é—´å’ŒåŠ çƒ­å™¨æœ€å¤§å€¼ï¼Œå–æœ€å¤§å€¼ä½œä¸ºæœ€å°å€¼ï¼Ÿ</span></span><br><span class="line">        <span class="keyword">let</span> min = houses[housesL - <span class="number">1</span>] &gt; heaters[heatersL - <span class="number">1</span>] ? houses[housesL - <span class="number">1</span>] : heaters[heatersL - <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// æ¯”è¾ƒhouseåˆ°æ¯ä¸ªheaterçš„è·ç¦»</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>; j&lt;heatersL; j++) &#123;</span><br><span class="line">            <span class="comment">// è®¡ç®—å½“å‰houseåˆ°å½“å‰heaterçš„ç»å¯¹è·ç¦»</span></span><br><span class="line">            <span class="keyword">const</span> diff = <span class="built_in">Math</span>.abs(heaters[j] - houses[i]);</span><br><span class="line">            <span class="comment">// æœ€å°å€¼å¤§äºç»å¯¹å€¼ï¼Œå–ç»å¯¹å€¼ï¼Œåä¹‹å–æœ€å°å€¼</span></span><br><span class="line">            min = min &gt;= diff? diff : min;</span><br><span class="line">            <span class="comment">// å¦‚æœç»å¯¹å€¼å¤§äºæœ€å°å€¼ï¼Œè·³å‡ºå¾ªç¯</span></span><br><span class="line">            <span class="keyword">if</span> (diff &gt; min) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¦‚æœåŠå¾„å°äºæœ€å°å€¼ï¼Œç”¨æœ€å°å€¼ï¼Œåä¹‹ç”¨å½“å‰åŠå¾„</span></span><br><span class="line">            radius = radius &lt; min ? min : radius;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¾ªç¯ç»“æŸï¼Œè¿”å›æœ€å°çš„radius</span></span><br><span class="line">        <span class="keyword">return</span> radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortNum</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§ï¼Œå¯ä»¥é€šè¿‡</span></span><br><span class="line"><span class="keyword">var</span> findRadius = <span class="function"><span class="keyword">function</span>(<span class="params">houses, heaters</span>) </span>&#123;</span><br><span class="line">    houses.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">    heaters.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">    <span class="keyword">const</span> n = houses.length;</span><br><span class="line">    <span class="keyword">const</span> m = heaters.length;</span><br><span class="line">    <span class="keyword">let</span> radius = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> j = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> temp = <span class="literal">Infinity</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> k = j; k &lt; m; k++) &#123;</span><br><span class="line">        <span class="comment">// console.log(&#x27;check!!&#x27;, houses[i], heaters[k]);</span></span><br><span class="line">        <span class="comment">// è·å–å½“å‰heatersåˆ°æ¯ä¸ªå±‹å­çš„æœ€å°å€¼</span></span><br><span class="line">        temp = <span class="built_in">Math</span>.min(temp, <span class="built_in">Math</span>.abs(heaters[k] - houses[i]));</span><br><span class="line">        <span class="comment">// å¦‚æœheaterçš„å€¼å°äºhouseçš„å€¼ï¼Œä»heaterå½“å‰çš„å€¼å¼€å§‹å¾ªç¯</span></span><br><span class="line">        <span class="keyword">if</span> (heaters[k] &lt; houses[i]) &#123;</span><br><span class="line">            j = k;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœheaterçš„å€¼å¤§äºhouseçš„å€¼ï¼Œå–å½“å‰houseåˆ°heaterçš„è·ç¦»å’Œå½“å‰tmpçš„æœ€å°å€¼ï¼Œå¹¶è·³å‡ºå¾ªç¯</span></span><br><span class="line">        <span class="keyword">if</span> (heaters[k] &gt; houses[i]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (j &gt; <span class="number">0</span>) temp = <span class="built_in">Math</span>.min(temp, <span class="built_in">Math</span>.abs(houses[i] - heaters[j - <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        radius = <span class="built_in">Math</span>.max(radius, temp);</span><br><span class="line">        <span class="comment">// console.log(&#x27;==&#x27;, temp, radius);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> radius;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ€ä¼˜è§£</span></span><br><span class="line"><span class="keyword">var</span> findRadius = <span class="function"><span class="keyword">function</span>(<span class="params">houses, heaters</span>) </span>&#123;</span><br><span class="line">    heaters.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> dist = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> left;</span><br><span class="line">    <span class="keyword">let</span> right;</span><br><span class="line">    <span class="keyword">let</span> mid;</span><br><span class="line">    <span class="keyword">let</span> target;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, size = houses.length; i &lt; size; i++) &#123;</span><br><span class="line">        target = houses[i];</span><br><span class="line">        left = <span class="number">0</span>;</span><br><span class="line">        right = heaters.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        mid = left + ((right - left) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (heaters[mid] === target) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (heaters[mid] &gt; target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left &lt;= right) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> distLeft =</span><br><span class="line">        left &gt;= <span class="number">0</span> &amp;&amp; left &lt; heaters.length</span><br><span class="line">            ? <span class="built_in">Math</span>.abs(houses[i] - heaters[left])</span><br><span class="line">            : <span class="built_in">Number</span>.MAX_SAFE_INTEGER;</span><br><span class="line">        <span class="keyword">let</span> distRight =</span><br><span class="line">        right &gt;= <span class="number">0</span> &amp;&amp; right &lt; heaters.length</span><br><span class="line">            ? <span class="built_in">Math</span>.abs(houses[i] - heaters[right])</span><br><span class="line">            : <span class="built_in">Number</span>.MAX_SAFE_INTEGER;</span><br><span class="line"></span><br><span class="line">        dist = <span class="built_in">Math</span>.max(dist, <span class="built_in">Math</span>.min(distLeft, distRight));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dist;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ä¹ æ–¹æ³•</title>
      <link href="posts/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/"/>
      <url>posts/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="å­¦ä¹ æ–¹æ³•ï¼šå¦‚ä½•åœ¨å·¥ä½œå†…å¤–è·å¾—æŒç»­çš„æŠ€æœ¯æˆé•¿"><a href="#å­¦ä¹ æ–¹æ³•ï¼šå¦‚ä½•åœ¨å·¥ä½œå†…å¤–è·å¾—æŒç»­çš„æŠ€æœ¯æˆé•¿" class="headerlink" title="å­¦ä¹ æ–¹æ³•ï¼šå¦‚ä½•åœ¨å·¥ä½œå†…å¤–è·å¾—æŒç»­çš„æŠ€æœ¯æˆé•¿"></a>å­¦ä¹ æ–¹æ³•ï¼šå¦‚ä½•åœ¨å·¥ä½œå†…å¤–è·å¾—æŒç»­çš„æŠ€æœ¯æˆé•¿</h2><p>å‚è€ƒé“¾æ¥</p><ul><li><a href="https://juejin.im/post/5cbd7477f265da039d32834e">å­¦ä¹ æ–¹æ³•ï¼šå¦‚ä½•åœ¨å·¥ä½œå†…å¤–è·å¾—æŒç»­çš„æŠ€æœ¯æˆé•¿</a></li></ul><p>çœ‹æ–‡ç« å†™çš„å¾ˆå¥½ï¼Œæ‘˜ä¸€äº›å¯¹è‡ªå·±æœ‰ç”¨çš„ä¸œè¥¿ä¿å­˜ä¸‹æ¥</p><h2 id="æˆé•¿æœ¬è´¨æ˜¯çªç ´å¤©èŠ±æ¿"><a href="#æˆé•¿æœ¬è´¨æ˜¯çªç ´å¤©èŠ±æ¿" class="headerlink" title="æˆé•¿æœ¬è´¨æ˜¯çªç ´å¤©èŠ±æ¿"></a>æˆé•¿æœ¬è´¨æ˜¯çªç ´å¤©èŠ±æ¿</h2><p>æˆé•¿æ˜¯ä¸€ä»¶å¾ˆéš¾æ‰æ‘¸å’Œé‡åŒ–çš„äº‹æƒ…ï¼Œå®Œå…¨ä¸åŒçš„ç¯å¢ƒå’Œä¸»è§‚æ„è¯†åŠ ä¸Šå®Œå…¨ä¸åŒçš„è¡ŒåŠ¨æªæ–½æ—¢å¯ä»¥è®©ä¸€ä¸ªäººå¿«é€Ÿæˆä¸ºæŸä¸ªé¢†åŸŸçš„é¡¶å°–é«˜æ‰‹ï¼Œä¹Ÿå¯èƒ½å®Œå…¨ç›¸åã€‚</p><a id="more"></a><h2 id="äº†è§£æŠ€æœ¯çš„æˆæœ¬å’Œé—¨æ§›"><a href="#äº†è§£æŠ€æœ¯çš„æˆæœ¬å’Œé—¨æ§›" class="headerlink" title="äº†è§£æŠ€æœ¯çš„æˆæœ¬å’Œé—¨æ§›"></a>äº†è§£æŠ€æœ¯çš„æˆæœ¬å’Œé—¨æ§›</h2><p>å¯¹æŠ€æœ¯å¯»æ ¹æº¯æºè¿½æ±‚æœ¬è´¨æ˜¯æœ€é‡è¦çš„ï¼Œä½†æ¯”è¿™ä¸ªæ›´é‡è¦çš„æ˜¯è‡ªå·±çš„æ—¶é—´åˆ†é…å’Œå¦‚ä½•é€‰æ‹©ï¼Œä½ çš„æ—¶é—´è¿œæ¯”ä½ ä»¥ä¸ºçš„è¦å€¼é’±çš„å¤šï¼Œè¯·çæƒœå®ƒã€‚</p><p>å“ªäº›æŠ€æœ¯æ ˆæ˜¯æ—¶é—´é•¿åº¦ç›¸å¯¹å¯è¢«æ¥å—ï¼Œä¹Ÿå°±æ˜¯å“ªäº›å­¦ä¹ æˆæœ¬å¯ä»¥è¢«æ¥å—æ˜¯ä½ éœ€è¦æ€è€ƒçš„ï¼Œæ€è€ƒæ¸…æ¥šåï¼Œå†å»é€‰æ‹©ï¼Œä¼šæ›´æœ‰ä¾§é‡ï¼Œç„¶åå†æ¥çœ‹ä¸åŒçš„æŠ€æœ¯å­¦ä¹ æˆæœ¬èƒŒåï¼Œå“ªä¸ªæ›´è´´åˆè‡ªå·±ã€‚</p><h2 id="æ±‚å˜ä¹‹å‰è¦å…ˆè®¤æ¸…è‡ªå·±"><a href="#æ±‚å˜ä¹‹å‰è¦å…ˆè®¤æ¸…è‡ªå·±" class="headerlink" title="æ±‚å˜ä¹‹å‰è¦å…ˆè®¤æ¸…è‡ªå·±"></a>æ±‚å˜ä¹‹å‰è¦å…ˆè®¤æ¸…è‡ªå·±</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘æ˜¯è°ï¼Ÿæˆ‘çš„èº«ä»½æ˜¯ï¼Ÿæœªæ¥æˆ‘æƒ³è¦åšä»€ä¹ˆï¼Ÿå½“ä¸‹æˆ‘å¯ä»¥åšä»€ä¹ˆï¼Ÿæˆ‘æ“…é•¿ä»€ä¹ˆï¼Ÿæˆ‘è¿˜éœ€è¦å­¦ä¼šä»€ä¹ˆï¼Ÿ</span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆæ°¸è¿œåœ¨å˜åŒ–ï¼Œä¹Ÿæ°¸è¿œæ²¡åœ¨å˜ï¼Œæ—¶é—´è¶Šä¹…æ€è€ƒçš„è¶Šä¹…ç»å†ä¹Ÿè¶Šå¤šï¼Œå°±ä¼šè·ç¦»å®ƒæœ€çœŸå®çš„ç­”æ¡ˆè¶Šè¿‘ã€‚</p><p>å…¶å®æœ‰å¤ªå¤šå¤ªå¤šçš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•é—®è‡ªå·±ï¼Œä½†æˆ‘ä»¬å¾€å¾€æ‰¾åˆ«äººå»é—®ï¼ŒæŒ‘é€‰è·Ÿè‡ªå·±å†…å¿ƒä¸æœªæ¥æ— å…³çš„è¯é¢˜ï¼Œå…¶å®æ‰€æœ‰çš„ç­”æ¡ˆéƒ½å–å†³äºè‡ªå·±æ¥ä¸‹æ¥ 3 ~ 9 ä¸ªæœˆå…·ä½“çš„è¡ŒåŠ¨ï¼Œè¿™äº›ç­”æ¡ˆæ¥æºäºå†…å¿ƒçš„åŸåŠ¨åŠ›ä»¥åŠè‡ªå·±è§„åˆ’çš„æœ€ä¼˜æˆ–è€…æœ€å¯æ‰§è¡Œè·¯å¾„ï¼Œå¯ä¸€æ—¦æˆ‘ä»¬çœ¼ç›çœ‹åˆ° 9 ä¸ªæœˆåçš„ç»“æœï¼Œè€Œå¿½è§†è¿™ä¸ªå¯æ‰§è¡Œè·¯å¾„ï¼Œç”šè‡³å¿½ç•¥åŸåŠ¨åŠ›çš„æ—¶å€™ï¼Œç»“æœå°±å˜å¾—éå¸¸æƒ‹æƒœï¼Œå¿½ç•¥æ•´ä¸ªæ€è€ƒè¿‡ç¨‹ï¼Œä¹Ÿå°±å‹æ ¹æ— æ³•äº†è§£è‡ªå·±çš„çœŸå®è¯‰æ±‚å’ŒçœŸå®èƒ½åŠ›ã€‚</p><h2 id="ä¹ æƒ¯å…»æˆä¸å®šç›®æ ‡è®¡åˆ’"><a href="#ä¹ æƒ¯å…»æˆä¸å®šç›®æ ‡è®¡åˆ’" class="headerlink" title="ä¹ æƒ¯å…»æˆä¸å®šç›®æ ‡è®¡åˆ’"></a>ä¹ æƒ¯å…»æˆä¸å®šç›®æ ‡è®¡åˆ’</h2><p>åœ¨ç»è¿‡æ·±æ€ç†Ÿè™‘åå»åˆ¶å®šçš„ç›®æ ‡æˆåŠŸçš„æ¦‚ç‡æ›´å¤§ï¼Œè€Œè„‘è¢‹ä¸€çƒ­è·‘å‡ºæ¥çš„ç›®æ ‡å¾€å¾€ä¼šæ³¡æ±¤ï¼Œæ³¡æ±¤å€’ä¹Ÿç½¢äº†ï¼Œè¿™ä¼šè®©è‡ªå·±é™·å…¥å®šç›®æ ‡ - æ‰§è¡Œéš¾åº¦è¿‡å¤§ - æ”¾å¼ƒ - å†å®šç›®æ ‡è¿™æ ·çš„æ­»å¾ªç¯ï¼Œä¿¡å¿ƒå’Œæˆå°±æ„Ÿä¸€å¤©å¤©æŒ«è´¥ä¸‹å»ï¼Œå°±å˜æˆäº†ä»Šæ—¥çš„è‡ªå·±ï¼Œæ™šä¸Šæƒ³åƒä¸‡æ¡è·¯æ—©ä¸Šèµ·æ¥èµ°åŸè·¯ï¼Œè¶Šæ¥è¶Šéº»æœ¨è¶Šæ¥è¶Šæ°”é¦ã€‚</p><p>å»ºè®®: åˆ¶å®šç›®æ ‡è¦è€ƒè™‘èƒ½ä¸èƒ½åšæŒä¸‹æ¥ï¼Œå¦‚æœä¸èƒ½åšæŒä¸‹æ¥ï¼Œå°±ä¿®æ­£ã€‚åšæŒä¸¤ä¸‰å‘¨æ…¢æ…¢å½¢æˆä¹ æƒ¯ï¼Œå¹¶ä»ä¸­å—ç›Šè·å–ä¸€äº›å…´è¶£å’Œæˆå°±æ„Ÿï¼Œè¿™æ—¶å€™æ‰æ˜¯å®šç›®æ ‡çš„æ—¶å€™ï¼Œå› ä¸ºè¿™æ—¶å€™ï¼Œä¹ æƒ¯æ­£åœ¨å…»æˆã€‚</p><p>å½“æœ‰äº†ä¸€ç§æ­£åœ¨å»ºç«‹æˆ–è€…æˆç†Ÿçš„ä¹ æƒ¯ï¼Œä¹Ÿå®šäº†å…·ä½“çš„ç›®æ ‡åï¼Œå°±å¯ä»¥å®šå…·ä½“çš„è®¡åˆ’äº†ã€‚è®¡åˆ’å°±æ˜¯è¡ŒåŠ¨æŒ‡å—ï¼Œè¦ä¸€æ¿ä¸€çœ¼çš„å»æ‰§è¡Œï¼Œåšå†³ä¸èƒ½é©¬è™å¤§æ„ï¼Œæœ€å¥½ä¸€æ¡æ¡å†™ä¸‹æ¥ã€‚æ¯”å¦‚ï¼š</p><ul><li>æ¯å‘¨æ™šä¸Š10ç‚¹é’Ÿï¼ŒèŠ±10åˆ†é’Ÿè¯»ä¹¦</li><li>æ¯å‘¨å…­èŠ±ä¸€å°æ—¶æ•´ç†ç¬”è®°</li><li>æ¯å‘¨æ—¥èŠ±2å°æ—¶å¯¹é‡åˆ°çš„é—®é¢˜è¿›è¡Œæ·±å…¥ç ”ç©¶</li></ul><p>å†æŠŠè¿™ä¸ªè§„å¾‹æ€§çš„äº‹é¡¹ï¼Œåˆ†è§£åˆ°æ¯ä¸€å¤©ï¼Œæ¯ä¸€å¤©éƒ½è¦æ‰“ä¸€ä¸ªå¯¹å‹¾ï¼Œä»»åŠ¡æ‰ç®—å®Œæˆï¼Œå®Œæˆåç»™è‡ªå·±ä¸€ä¸ªæ¿€åŠ±ï¼Œæ¯”å¦‚è¯´è¿ç»­5å¤©å®Œæˆï¼Œçœ‹åœºç”µå½±ä¹‹ç±»ã€‚æŒ‡å®šæ˜ç¡®çš„å¥–æƒ©ç»†åˆ™ï¼Œå åŠ åˆ°æ¯æ—¥çš„æ‰‹æœº/ç”µè„‘è¡Œç¨‹ä¸­ï¼Œç»™è‡ªå·±å¼ºæœ‰åŠ›çš„æé†’ï¼ŒåšæŒä¸‰ä¸ªæœˆï¼Œä¸€ä¸ªä¹ æƒ¯å¤§æ¦‚ç‡å°±èƒ½å…»æˆäº†ï¼Œå°±å¯ä»¥å®šç¬¬äºŒä¸ªç›®æ ‡å»å…»æˆç¬¬äºŒä¸ªä¹ æƒ¯äº†ã€‚</p><p>æ‰€ä»¥ä¹ æƒ¯å’Œç›®æ ‡åŠè®¡åˆ’çš„å…³ç³»æ˜¯ï¼Œå®šç›®æ ‡å‰è¦å°½å¯èƒ½å…ˆå…»æˆä¸€ä¸ªæ½œåœ¨çš„ä¹ æƒ¯ï¼ŒæŠŠè‡ªå·±çš„åº•çº¿æµ‹è¯•å‡ºæ¥ï¼Œç„¶åè°ƒæ•´ç›®æ ‡ï¼Œå†æ‹†è§£ç›®æ ‡å½¢æˆè§„å¾‹æ€§çš„è®¡åˆ’ï¼Œæœ€åæŠŠè®¡åˆ’å®Œæˆè·Ÿå¥–æƒ©å…³è”èµ·æ¥ï¼Œå¹¶é€šè¿‡è½¯ç¡¬ä»¶æ¥è·Ÿè‡ªå·±è¿›è¡Œäº’åŠ¨æé†’ã€‚è¿™æ³¨å®šæ˜¯ä¸€ä¸ªå•è°ƒçš„è¿‡ç¨‹ï¼Œä½†è¿™ä¸€å®šæ˜¯ä¸€ä¸ªè¶ŠåšæŒè¶Šå¥½ç©çš„è¿‡ç¨‹ï¼Œç­‰ä¹ æƒ¯è®­ç»ƒæœ‰äº†é›å½¢çš„æ—¶å€™ï¼Œæ‰ä¼šçœŸæ­£å¯åŠ¨æŒç»­æˆé•¿è¿™ä»¶äº‹æƒ…ã€‚</p><h2 id="è®­ç»ƒç¨³å®šçš„æ€ç»´è·¯å¾„"><a href="#è®­ç»ƒç¨³å®šçš„æ€ç»´è·¯å¾„" class="headerlink" title="è®­ç»ƒç¨³å®šçš„æ€ç»´è·¯å¾„"></a>è®­ç»ƒç¨³å®šçš„æ€ç»´è·¯å¾„</h2><p>æˆ‘ä»¬å‰é¢å¯¹è‡ªå·±æœ‰äº†æ›´å®¢è§‚çš„è®¤çŸ¥ï¼Œä¹ŸåŸ¹å…»äº†å®Œæˆç›®æ ‡çš„ä¹ æƒ¯ï¼Œè¿™ä¸¤ä¸ªå‰ææ¡ä»¶å°±æˆç«‹äº†ï¼Œè¿˜ç¼ºç¬¬ä¸‰æ ·ä¸œè¥¿ï¼Œå°±æ˜¯ç¨³å®šçš„æ€ç»´è·¯å¾„ï¼Œæœ€åˆ»æ¿ä¹Ÿæœ€ç®€å•çš„æ€ç»´æ–¹å¼å°±æ˜¯ç©·å°½å¼çš„æé—®ï¼Œä¹Ÿå°±æ˜¯å‰é¢è®¤æ¸…è‡ªå·±è¿™é‡Œï¼Œæˆ‘ç”¨åˆ—ä¸¾é—®é¢˜çš„è¿™ç§åŠæ³•ï¼Œæ¥è®©è‡ªå·±ä¸æ–­çš„æ¥è¿‘æŸä¸€ä¸ªçœŸç›¸ï¼Œé‚£ä¹ˆé¢å¯¹ä»»ä½•ä¸€ä¸ªå›°å±€çš„æ—¶å€™ï¼Œéƒ½å¯ä»¥ç”¨è¿™ç§æ–¹æ³•ã€‚å®é™…ä¸Šï¼Œå½“ä½ æŠŠå‡ åä¸ªé—®é¢˜éƒ½å›ç­”ä¸€éçš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥ç»§ç»­å†™ä¸‹æ›´å‡»ä¸­çµé­‚çš„é—®é¢˜ï¼Œè€Œè¿™æ¬¡é—®é¢˜å†™ä¸‹å»çš„æ—¶å€™ï¼Œå¾€å¾€ç­”æ¡ˆå°±è‡ªç„¶æµ®å‡ºæ°´é¢ã€‚</p><p>æé—®çš„å¥—è·¯å¯ä»¥æ›´ç®€å•ä¸€äº›ï¼Œå°±æ˜¯ What Why Howï¼Œè¿™ä¸ªé—®é¢˜æ˜¯ä»€ä¹ˆï¼Œå½“å‰çš„çœŸç›¸æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆå‘ç”Ÿï¼Œä¸ºä»€ä¹ˆèµ°åˆ°è¿™ä¸ªåœ°æ­¥ï¼ŒåŸºäºè¿™äº›åŸå› è¦å¦‚ä½•è§£å†³ï¼Œæ— è®ºä»»ä½•äº‹æƒ…ï¼Œéƒ½é€¼è‡ªå·±å»æ‰æ‘¸å®ƒå»æ€è€ƒå®ƒçš„å‰å› åæœï¼Œæ…¢æ…¢ä¼šå‘ç°è‡ªå·±ä¼šå˜æˆä¸€ä¸ªå–œæ¬¢ä¸Šæ€è€ƒå’Œå–„äºæ€è€ƒçš„äººï¼Œå†ä¹Ÿä¸æ˜¯ä¹‹å‰çš„é‚£ä¸ªé²è½çš„æ¯›å¤´å°å­ï¼Œçœ‹é—®é¢˜åªçœ‹è´Ÿé¢çœ‹ç°è±¡åªçœ‹è¡¨é¢ã€‚</p><p>è®¤è¯†è‡ªå·±ã€ä¹ æƒ¯å…»æˆã€æ€ç»´è®­ç»ƒè¿™ä¸‰ä¸ªè¦æˆå¹´ç´¯æœˆæŒç»­çš„åšï¼Œå½“è¿™äº›éƒ½é€æ¸å˜æˆé•¿åœ¨è‡ªå·±èº«ä½“å†…çš„ä¸€ç§èƒ½åŠ›çš„æ—¶å€™ï¼Œæ‰€ä»¥ä½ é¢ä¸´çš„é—®é¢˜éƒ½ä¸ä¼šè®©ä½ åƒä¹‹å‰é‚£æ ·ç„¦è™‘ï¼Œåœ¨åšå®Œè¿™ä¹ˆé•¿é“ºå«åï¼Œæˆ‘ä»¬å†æ¥çœ‹å¦‚ä½•è·å¾—æŒç»­çš„æŠ€æœ¯æˆé•¿ã€‚</p><h2 id="å·¥ä½œå†…å¤–çš„æŠ€æœ¯æˆé•¿"><a href="#å·¥ä½œå†…å¤–çš„æŠ€æœ¯æˆé•¿" class="headerlink" title="å·¥ä½œå†…å¤–çš„æŠ€æœ¯æˆé•¿"></a>å·¥ä½œå†…å¤–çš„æŠ€æœ¯æˆé•¿</h2><p>æˆé•¿æ˜¯ç»å¸¸ä¸ç¬¦åˆé¢„æœŸçš„ï¼Œè¯·è®°ä½ï¼Œå®ƒå¤§æ¦‚ç‡æ˜¯ä¸ç¬¦åˆé¢„æœŸçš„ï¼ŒåŸå› æ˜¯è‡ªå·±çš„é¢„æœŸæœ¬èº«æ˜¯éå¸¸ä¸»è§‚ä¸å‡†ç¡®çš„ï¼ŒåŒæ—¶æˆé•¿åªæ˜¯è¿‡ç¨‹çš„ç§¯ç´¯å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆç›´è§‚çš„ç»“æœã€‚<br>åŸºäºè¿™æ ·çš„èƒŒæ™¯ï¼Œæˆ‘ä»¬å¸Œæœ›è¾¾æˆçš„å…±è¯†æ˜¯ï¼Œæ— è®ºæˆé•¿æ˜¯å¦é¢„æœŸï¼Œæˆ‘éƒ½å¸Œæœ›æœ‰æŒç»­çš„æˆé•¿ï¼ŒåŒæ—¶ç›¼æœ›å¥‡è¿¹çš„å‘ç”Ÿ - å°±æ˜¯è¿œè¶…é¢„æœŸçš„æˆé•¿ä¼šå‘ç”Ÿåœ¨æˆ‘èº«ä¸Šã€‚</p><h3 id="å·¥ä½œå†…çš„æˆé•¿ä¸»è¦æ¥è‡ªé¡¹ç›®"><a href="#å·¥ä½œå†…çš„æˆé•¿ä¸»è¦æ¥è‡ªé¡¹ç›®" class="headerlink" title="å·¥ä½œå†…çš„æˆé•¿ä¸»è¦æ¥è‡ªé¡¹ç›®"></a>å·¥ä½œå†…çš„æˆé•¿ä¸»è¦æ¥è‡ªé¡¹ç›®</h3><p>å¸¦ç€è¿™æ ·çš„æœŸæœ›ï¼Œæˆ‘ä»¬å›åˆ°å·¥ä½œå†…å·¥ä½œå¤–ä¼šå‘ç°ï¼Œæ‰€æœ‰çš„æˆé•¿æœ€æ ¸å¿ƒçš„è¿‡ç¨‹æŒ‡æ ‡å°±æ˜¯é¡¹ç›®ç»éªŒï¼Œå·¥ä½œå†…å¤©ç„¶å°±å¯ä»¥æ²‰æ·€ï¼Œé‚£ä¹ˆå¦‚ä½•æ²‰æ·€æˆ–è€…æŒ–æ˜æˆé•¿ç‚¹å‘¢ï¼Ÿ</p><p>å¾ˆå¤šäººåœ¨é¢è¯•ä¸­ä¼šè¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜ã€Œä½ åšçš„é¡¹ç›®æœ‰ä»€ä¹ˆéš¾ç‚¹ã€ã€‚å¯èƒ½å¤§å®¶ä¼šæŠŠæ€ç»´å±€é™åœ¨æˆ‘åšçš„è¿™ä¸ªä¸šåŠ¡æœ‰ä»€ä¹ˆéš¾çš„åœ°æ–¹ï¼Œæˆ‘ç”¨äº†ä»€ä¹ˆç‰›é€¼çš„æŠ€æœ¯å»è§£å†³äº†ä¸šåŠ¡ä¸Šçš„ä»€ä¹ˆéš¾é¢˜ã€‚æˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†äººä¸ä¼šæœ‰è¿™æ ·çš„ç»å†ï¼Œç”±æ­¤ä¼šè§‰å¾—è¿™ä¸ªé—®é¢˜å¾ˆéš¾ç­”ã€‚é‚£ä¹ˆè¿™ä¸ªé—®é¢˜å…¶å®å°±å¯ä»¥å¼•ç”³ä¸ºæˆ‘ä»¬å¦‚ä½•åœ¨å·¥ä½œä¸­ã€ä¸šåŠ¡ä¸­å‘ç°é—®é¢˜å¹¶å¾—åˆ°æˆé•¿ï¼Ÿ</p><p>å¦‚ä½•å®ç°ä¸šåŠ¡åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸ä¼šæ˜¯ä¸€ä¸ªéš¾é¢˜ï¼Œ<strong>ä½†æ˜¯å¦‚ä½•æŠŠä¸šåŠ¡ä¸­ç›¸å…³çš„ç»„ä»¶ã€é€»è¾‘ç­‰ç­‰å¯ä»¥å¤ç”¨çš„ä¸œè¥¿æŠ½è±¡å‡ºæ¥ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªéš¾é¢˜äº†ã€‚ä½ å¯ä»¥é€šè¿‡å­¦ä¹ æ¯”ä½ å‰å®³çš„åŒäº‹çš„ä»£ç ï¼Œä¹Ÿå¯ä»¥å­¦ä¹ è¿™æ–¹é¢ä¸šå†…é¡¶å°–çš„åº“æ˜¯å¦‚ä½•å®ç°çš„ï¼Œè¿™å°±æ˜¯åœ¨å·¥ä½œä¸­å­¦ä¹ åŠæˆé•¿ã€‚</strong></p><p>åœ¨å®ç°ä¸šåŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œå¤§å®¶è‚¯å®šä¼šä½¿ç”¨å„ç§å„æ ·çš„åº“åŠæ¡†æ¶ã€‚é‚£ä¹ˆå½“æˆ‘ä»¬ç†Ÿç»ƒä½¿ç”¨è¿™ä¸ªåº“çš„æ—¶å€™ï¼Œå°±åº”è¯¥å°½å¯èƒ½çš„å»äº†è§£å¸¸ç”¨çš„åº“çš„å®ç°åŸç†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ–‡ç« å»äº†è§£ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é˜…è¯»æºç å»äº†è§£ï¼Œè¿™ä¹Ÿæ˜¯åœ¨å·¥ä½œä¸­å­¦ä¹ åŠæˆé•¿ã€‚</p><p>å®é™…ä¸Šå¤§éƒ¨åˆ†å·¥ä½œåœºæ™¯ä¸­çš„é¡¹ç›®ï¼Œæ·±åº¦çš„æ€è€ƒæŒç»­çš„æ€è€ƒéƒ½ä¼šå¸¦æ¥è¾ƒå¤§çš„æŠ€æœ¯æˆé•¿ï¼Œä½†å¾€å¾€æˆ‘ä»¬æ²¡æœ‰è€å¿ƒå’ŒåŠ¨åŠ›å»åšè¿™ä»¶äº‹æƒ…ï¼Œå› ä¸ºä¼šæœ‰é›‡ä½£å¿ƒæ€ï¼Œä¹Ÿå°±æ˜¯ä½ ä»˜æˆ‘é‚£ç‚¹å·¥èµ„ï¼Œå‡­ä»€ä¹ˆæˆ‘æƒ³ç ´å¤´çš®å»æ‰æ‘¸æ€ä¹ˆä¼˜åŒ–å®ƒï¼Œè¿™å°±ç­‰äºæ˜¯æŠŠè‡ªå·±æ‹¦åˆ°äº†æ± å­ä¹‹å¤–ï¼Œå…¬å¸ä»˜è–ªæ°´ï¼ˆæ— è®ºå¤šå°‘ï¼‰æ˜¯è´­ä¹°äº†ä½ çš„æ—¶é—´ï¼Œè€Œä½ çš„æˆé•¿æ˜¯åŸºäºè¿™äº›æ—¶é—´å¦‚ä½•åœ¨æ± å­é‡Œå­¦æ¸¸æ³³æŠ€èƒ½ï¼Œæ± å­å¤§å°æ°´æ¸©æ·±æµ…ç”šè‡³å½¢çŠ¶ä½ éƒ½å¾ˆéš¾æœ‰æ§åˆ¶æƒï¼Œä½†è›™æ³³ä»°æ³³è‡ªç”±æ³³ç”šè‡³é—­æ°”æ½œæ°´è¿™äº›éƒ½æ˜¯è‡ªå·±è¯´äº†ç®—ï¼Œå¦‚æœè¿™äº›éƒ½ç©æºœäº†ï¼Œå»ä»»æ„ä¸€ä¸ªæ± å­éƒ½èƒ½å¦‚é±¼å¾—æ°´ï¼Œä¸æ˜¯ä¹ˆï¼Ÿ</p><p>ä¾‹å¦‚ï¼šæ‰“é€ å·¥ä½œç›¸å…³çš„å·¥å…·é“¾ï¼Œè®©æ¯ä¸ªæµç¨‹ä¸ç‹¬ç«‹è¿›è¡Œã€‚</p><p>æ‰€ä»¥å·¥ä½œå†…ï¼Œä¸ä»…é è€å¿ƒï¼Œè¿˜è¦æœ‰ä¸æ€•åƒäºçš„å¿ƒæ€ï¼Œæ›´è¦æœ‰å–„äºå‘ç°çš„åŒçœ¼ï¼Œæ— æ•°æœºä¼šéƒ½åœ¨ä½ é¢å‰ï¼Œéƒ½å¯ä»¥æŒç»­ä¸æ–­çš„å¸¦æ¥æˆé•¿ï¼ŒåŒæ—¶ç»™è‡ªå·±å›¢é˜Ÿå’Œä¸ªäººå¸¦æ¥æ›´å¤šæ•ˆç‡å’Œä½“éªŒçš„æå‡ã€‚</p><h3 id="å·¥ä½œå¤–çš„æˆé•¿ä¸»è¦æ¥è‡ªå°è¯•ä¸æ€è€ƒ"><a href="#å·¥ä½œå¤–çš„æˆé•¿ä¸»è¦æ¥è‡ªå°è¯•ä¸æ€è€ƒ" class="headerlink" title="å·¥ä½œå¤–çš„æˆé•¿ä¸»è¦æ¥è‡ªå°è¯•ä¸æ€è€ƒ"></a>å·¥ä½œå¤–çš„æˆé•¿ä¸»è¦æ¥è‡ªå°è¯•ä¸æ€è€ƒ</h3><p>å·¥ä½œå¤–çš„æˆé•¿æ›´ç®€å•æ˜“æ“ä½œä¸€äº›ï¼Œå¾€å¾€å°±æ˜¯æŠ€æœ¯å‚¨å¤‡ã€æŠ€æœ¯å°é²œå’Œæ€»ç»“æ€è€ƒï¼ŒæŠ€æœ¯å‚¨å¤‡ä¸€éƒ¨åˆ†æ˜¯ä¸ºäº†è‡ªå·±çš„èŒä¸šè€ƒè™‘ï¼Œæ¯”å¦‚å­¦ä¹  RN/Flutter/Go ç­‰ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥æ˜¯ä¸ºäº†è‡ªå·±å…¬å¸ä¸šåŠ¡æœªæ¥çš„å¯èƒ½æ€§é¢†åŸŸï¼Œæ¯”å¦‚ NodeJS/Taro/MPVue ç­‰ç­‰ï¼Œæ‰€æœ‰æ„Ÿå…´è¶£çš„æ–¹å‘éƒ½å¯ä»¥å»å­¦ä¹ å‚¨å¤‡ã€‚<br>å¦å¤–å°±æ˜¯è‡ªå·±çš„æƒ³æ³•ï¼Œå¯ä»¥æŠŠä»–å˜æˆç°å®ï¼Œæ¯”å¦‚ä¸€ä¸ªè¡Œç¨‹æé†’å°å·¥å…·ï¼Œä¸€ä¸ªèè‰å¦¹å­å«èµ·åºŠå°å·¥å…·ï¼Œä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆå‘¨æœ«é£Ÿè°±çš„å·¥å…·ç­‰ç­‰ï¼Œä»»ä½•ä¸€ä¸ªç”Ÿæ´»ç—›ç‚¹å’Œåˆ›æ„æƒ³æ³•ï¼Œéƒ½å¯ä»¥åŠ¨æ‰‹æŠŠå®ƒå®ç°å‡ºæ¥ï¼Œå‰åç«¯å¯ä»¥ä¸€èµ·åšï¼ŒæŠ€æœ¯æ ˆå¯ä»¥æ¿€è¿›ï¼Œæ‰€æœ‰çš„è¿™äº›å°é²œéƒ½ä¼šå¸¦æ¥æŠ€æœ¯è§†é‡çš„æ‰©å¼ ï¼Œä¹Ÿä¼šå¸¦æ¥æŠ€æœ¯æ·±åº¦çš„æ²‰æ·€ã€‚<br>æœ€å€¼å¾—å°è¯•çš„å°±æ˜¯æ€è€ƒå’Œæ€»ç»“ï¼ŒæŠŠä»»ä½•è‡ªå·±å­¦ä¹ çš„æ¡†æ¶ï¼Œçœ‹è¿‡çš„ä¹¦ï¼Œåšè¿‡çš„é¡¹ç›®ï¼Œç”šè‡³è§£å†³è¿‡çš„ Bugï¼Œéƒ½å¯ä»¥æœ‰åºçš„æ•´ç†èµ·æ¥ï¼ŒæŠŠè¿™äº›æ•´ç†å˜æˆæ–‡å­—å’Œå›¾è¡¨ï¼Œæ¥å¼ºåŒ–è‡ªå·±å¯¹äºæŠ€æœ¯çš„è®°å¿†ï¼Œæ‰€æœ‰çš„è¿™äº›è®°å¿†é‡å¤è®­ç»ƒçš„æ¬¡æ•°è¶Šå¤šï¼Œå¯¹äºä»–ä»¬çš„ç†è§£å’Œè¿è¥å°±è¶Šå¨´ç†Ÿï¼Œå¾€å¾€æœ€æ…¢çš„åè€Œæ˜¯æœ€æœ‰æ•ˆçš„ã€‚</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æˆé•¿æ˜¯ä¸€ä¸ªæ°¸æ’çš„è¯é¢˜ï¼Œäº’è”ç½‘å‡ åå¹´æ¥ï¼Œæ— æ•°çš„æ–°äººé—®æˆé•¿ï¼Œä¹Ÿæ— æ•°çš„æ–°äººå˜è€äººï¼Œæœ‰çš„æ··æˆä¸€æ–¹å¤§æ‹¿ï¼Œæœ‰çš„æ··æˆèºä¸å·¥å¤´ï¼ŒæŠ›å¼€ç»æµç¯å¢ƒã€è¡Œä¸šè¶‹åŠ¿å’Œå…¬å¸ç»è¥ï¼Œæ›´å¤šæ—¶å€™å–å†³äºæˆ‘ä»¬æˆé•¿çš„æ˜¯ä¸€äº›å­¦ä¹ æ–¹æ³•ï¼Œæ›´æ ¹æœ¬ä¸Šä¾ç„¶æ˜¯æˆ‘ä»¬å¯¹äºè‡ªå·±çš„ç†è§£ã€è§„åˆ’å’ŒæŒä¹‹ä»¥æ’çš„æ‰§è¡Œï¼Œè¿™é‡Œé¢æ— å…³è¿æ°”æ›´å…³ä¹å®åŠ›ï¼Œä¸æ˜¯ç¯å¢ƒå¸¦æ¥çš„æˆé•¿å»é€‰æ‹©ä½ ï¼Œè€Œæ˜¯ä½ é€‰æ‹©åœ¨ä»»ä½•ç¯å¢ƒä¸­éƒ½èƒ½æˆé•¿ï¼Œå…·å¤‡é€‰æ‹©æƒåï¼Œå‰©ä¸‹çš„æ— éæ˜¯è§„åˆ’ã€æ‰§è¡Œä¸åšæŒï¼Œæ— å®ƒï¼</p>]]></content>
      
      
      
        <tags>
            
            <tag> å­¦ä¹ æ–¹æ³• </tag>
            
            <tag> ç»éªŒç§¯ç´¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·‘æ­¥è®­ç»ƒåŠç»éªŒ</title>
      <link href="posts/%E8%B7%91%E6%AD%A5%E8%AE%AD%E7%BB%83%E5%8F%8A%E7%BB%8F%E9%AA%8C/"/>
      <url>posts/%E8%B7%91%E6%AD%A5%E8%AE%AD%E7%BB%83%E5%8F%8A%E7%BB%8F%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="è·‘æ­¥å§¿åŠ¿"><a href="#è·‘æ­¥å§¿åŠ¿" class="headerlink" title="è·‘æ­¥å§¿åŠ¿"></a>è·‘æ­¥å§¿åŠ¿</h2><p>èº«ä½“å¾®å¾®å‰å€¾ï¼ŒåŒè‡‚å°½å¯èƒ½è´´è¿‘èº«ä½“ï¼Œå‰åæ‘†åŠ¨</p><p>èº«ä½“ç›´ç«‹ï¼Œé‡å¿ƒç¨å‘å‰ï¼Œä¿æŒèº«ä½“ç¨³å®š</p><h2 id="æ‘†è‡‚æŠ€æœ¯"><a href="#æ‘†è‡‚æŠ€æœ¯" class="headerlink" title="æ‘†è‡‚æŠ€æœ¯"></a>æ‘†è‡‚æŠ€æœ¯</h2><ul><li>å‰ä¸æ¼è‚˜åä¸æ¼æ‰‹ ï¼Œ çŸ­è·‘å¯ä»¥å¤§å¹…åº¦ï¼Œé•¿è·‘å°å¹…åº¦</li><li>å¤§è‡‚å°è‡‚å‘ˆ90åº¦æˆ–å°äº90åº¦</li><li>ä¸èƒ½è€¸è‚©</li><li>ä¸è¦å·¦å³æ‘†è‡‚</li></ul><h2 id="ä¸‰ä¸ªåŸºç¡€ç»ƒä¹ "><a href="#ä¸‰ä¸ªåŸºç¡€ç»ƒä¹ " class="headerlink" title="ä¸‰ä¸ªåŸºç¡€ç»ƒä¹ "></a>ä¸‰ä¸ªåŸºç¡€ç»ƒä¹ </h2><p>é™ä½å—ä¼¤å‡ ç‡ï¼Œä¿è¯å®‰å…¨å¥åº·è·‘æ­¥</p><h2 id="ç»ƒä¹ ä¸€ï¼Œ-æè¸µ"><a href="#ç»ƒä¹ ä¸€ï¼Œ-æè¸µ" class="headerlink" title="ç»ƒä¹ ä¸€ï¼Œ æè¸µ"></a>ç»ƒä¹ ä¸€ï¼Œ æè¸µ</h2><p>æé«˜å°è…¿è‚Œè‚‰åŠ›é‡åŠè·Ÿè…±å¼ºåº¦</p><p>æŠ¬è„šåè·Ÿï¼Œå°½å¯èƒ½æåˆ°æœ€é«˜å¹…åº¦ï¼ŒåŒè…¿åŠ ç´§</p><p>é‹å­å‰é¢çš„çº¿å‘ˆä¸€å­—å‹</p><p>æ³¨æ„äº‹é¡¹ï¼š</p><ol><li>åŠ¨ä½œæ ‡å‡†æ€§</li><li>é€Ÿåº¦ä¸€å®šè¦æ…¢ï¼Œè¶³ä¸‹æ”¯æ’‘åŠ›é‡ä¸è¶³ä¼šå¯¼è‡´è…±é˜ç‚</li></ol><p>ä¸€å®šè¦åšæ­£ç¡®ï¼Œä¸ç„¶ä¸å¦‚ä¸åš</p><h2 id="ç»ƒä¹ äºŒã€å¼“æ­¥ä¸Šä¸‹èµ·"><a href="#ç»ƒä¹ äºŒã€å¼“æ­¥ä¸Šä¸‹èµ·" class="headerlink" title="ç»ƒä¹ äºŒã€å¼“æ­¥ä¸Šä¸‹èµ·"></a>ç»ƒä¹ äºŒã€å¼“æ­¥ä¸Šä¸‹èµ·</h2><p>åŠ å¼ºè†ç›–åŠ›é‡å’Œå¤§è…¿è‚¡å››å¤´è‚ŒåŠ›é‡ï¼Œé¿å…è·‘æ­¥æ—¶çš„è†ç›–ä¼¤å®³</p><p>å¼“æ­¥ä¸Šä¸‹è¿åŠ¨ï¼Œèº«ä½“ç›´ç«‹ï¼Œå°è…¿å‡ ä¹ä¸åŠ¨ï¼Œé å¤§è…¿ä¸Šä¸‹æµ®åŠ¨ï¼Œé€Ÿåº¦è¦æ…¢ï¼Œ</p><p>æ¯æ¬¡åŠ¨æ€åšå®Œåšä¸€æ¬¡é™åŠ›ï¼Œæ„Ÿè§‰è…¿å¾ˆé…¸èƒ€æ‰æœ‰æ•ˆæœ</p><h2 id="ç»ƒä¹ ä¸‰ã€é«‹éƒ¨ç»ƒä¹ ä¸‰éƒ¨æ›²"><a href="#ç»ƒä¹ ä¸‰ã€é«‹éƒ¨ç»ƒä¹ ä¸‰éƒ¨æ›²" class="headerlink" title="ç»ƒä¹ ä¸‰ã€é«‹éƒ¨ç»ƒä¹ ä¸‰éƒ¨æ›²"></a>ç»ƒä¹ ä¸‰ã€é«‹éƒ¨ç»ƒä¹ ä¸‰éƒ¨æ›²</h2><p>å¢åŠ è…°éƒ¨åŠ›é‡ã€‚é«‹éƒ¨æ²¡æœ‰åŠ›é‡ï¼Œåªèƒ½ç”¨å¤§è…¿æ‹–ç€è·‘ï¼Œä¼šé€ æˆè…¿ç²—ã€‚</p><p>æ­£èµ·æ­£è¸¢ï¼Œèº«ä½“ç›´ç«‹</p><p>å¾€å‰è¸¢ï¼Œèº«ä½“ä¸è¦åä»°ï¼Œä¸­é—´ä¸å¯ä»¥è½åœ°ï¼Œ</p><p>èº«ä½“ä¸è¦æ­ªï¼Œä¸­é—´è…¿ä¸è¦è½åœ°</p><p>å‰ï¼Œä¾§ï¼Œå</p><p><strong>ä¸‰ä¸ªç»ƒä¹ ä¸¤ä¸ªæœˆåï¼Œè·‘æ­¥ä¼šéå¸¸è½»æ¾~~~~~</strong></p><h2 id="å‚èµ›"><a href="#å‚èµ›" class="headerlink" title="å‚èµ›"></a>å‚èµ›</h2><p>è·‘æ­¥è®­ç»ƒä¸€å¹´ä»¥ä¸Šï¼Œæ¯å‘¨è®­ç»ƒé‡è¶…è¿‡åŠé©¬30å…¬é‡Œï¼Œå…¨é©¬60å…¬é‡Œ</p><p>å…·å¤‡2åˆ°3æ¬¡ï¼Œ35åˆ°38å…¬é‡Œ</p><p>è®­ç»ƒè®¡åˆ’</p><h2 id="æ¯”èµ›æ³¨æ„äº‹é¡¹"><a href="#æ¯”èµ›æ³¨æ„äº‹é¡¹" class="headerlink" title="æ¯”èµ›æ³¨æ„äº‹é¡¹"></a>æ¯”èµ›æ³¨æ„äº‹é¡¹</h2><ul><li>é¢‘ç¹æŠ½ç­‹</li><li>çªç„¶è§‰å¾—å¾ˆç´¯ï¼Œç›´æ¥ååˆ°è·¯è¾¹</li><li>å†²åˆºä¹‹åç«‹å³ä¼‘æ¯</li></ul><h2 id="æ‘†è…¿åŠ¨ä½œ"><a href="#æ‘†è…¿åŠ¨ä½œ" class="headerlink" title="æ‘†è…¿åŠ¨ä½œ"></a>æ‘†è…¿åŠ¨ä½œ</h2><p>åæ”¶å‰æ‘†è¿è´¯</p><p>æ­¥å¹…æ…¢å°å¿«å¤§</p><p>å‰æ‘†åˆ°ä½ï¼Œè†ç›–ä¸Šæ</p><h2 id="é«˜çº§æŠ€å·§"><a href="#é«˜çº§æŠ€å·§" class="headerlink" title="é«˜çº§æŠ€å·§"></a>é«˜çº§æŠ€å·§</h2><p>é€é«‹â€“ï¼Ÿï¼Ÿï¼Ÿ</p>]]></content>
      
      
      
        <tags>
            
            <tag> è¿åŠ¨ </tag>
            
            <tag> è·‘æ­¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯æ€§èƒ½çš„ç›‘æ§å’Œä¼˜åŒ–</title>
      <link href="posts/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9A%84%E7%9B%91%E6%8E%A7%E5%92%8C%E4%BC%98%E5%8C%96/"/>
      <url>posts/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9A%84%E7%9B%91%E6%8E%A7%E5%92%8C%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h1><ul><li>ç†è§£æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–çš„ä¸€èˆ¬æ–¹æ³•</li><li>ç§»åŠ¨ç«¯çš„æ€§èƒ½</li><li>è¿ç”¨å·¥å…·æ¥ç›‘æ§å’Œä¼˜åŒ–</li></ul><h2 id="æ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ€§"><a href="#æ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ€§" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ€§"></a>æ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ€§</h2><pre><code>1. æ€§èƒ½å’ŒPVç›´æ¥ç›¸å…³2. æ€§èƒ½ä¸æ”¶å…¥æœ‰å…³3. å‰ç«¯å®¹æ˜“äº§ç”Ÿæ€§èƒ½çš„ç“¶é¢ˆ4. æ— çº¿è®¾å¤‡æ€§èƒ½é—®é¢˜æ›´æ˜æ˜¾</code></pre><p>åé¢æ¡ˆä¾‹: ç™¾ç§‘æŸæ¬¡ä¸Šçº¿ï¼Œæ€§èƒ½ä¸‹é™20% ====&gt; PVæµå¤±è¿‘15%====&gt; æ”¶å…¥ä¸‹é™10%</p><p>ç§»åŠ¨ç«¯æ›´ä¸¥é‡<br>DOM readyæ—¶é—´ï¼š wifi 2.3s, 3G/4G 4.2s, 2G é¦–å­—èŠ‚5-6sï¼Œ 8s+</p><h3 id="ä¸€ã€ä½•ä¸ºå‰ç«¯æ€§èƒ½"><a href="#ä¸€ã€ä½•ä¸ºå‰ç«¯æ€§èƒ½" class="headerlink" title="ä¸€ã€ä½•ä¸ºå‰ç«¯æ€§èƒ½"></a>ä¸€ã€ä½•ä¸ºå‰ç«¯æ€§èƒ½</h3><p>æ‰“å¼€ä¸€ä¸ªç½‘ç«™ï¼Œéœ€è¦ç»è¿‡å¤šå°‘æ­¥</p><p>æ€§èƒ½ä¼˜åŒ–çš„ä¸€èˆ¬æ€è·¯</p><ol><li>å‡å°‘è¯·æ±‚æ¬¡æ•°</li><li>å‡å°‘è¯·æ±‚ä½“ç§¯</li><li>åŠ å¿«è¯·æ±‚é€Ÿåº¦</li><li>ç¼©çŸ­æ¸²æŸ“æ—¶é—´</li></ol><a id="more"></a><h2 id="äºŒã€æŒ‡æ ‡çš„ç¡®å®šã€é‡‡é›†å’Œåˆ†æ"><a href="#äºŒã€æŒ‡æ ‡çš„ç¡®å®šã€é‡‡é›†å’Œåˆ†æ" class="headerlink" title="äºŒã€æŒ‡æ ‡çš„ç¡®å®šã€é‡‡é›†å’Œåˆ†æ"></a>äºŒã€æŒ‡æ ‡çš„ç¡®å®šã€é‡‡é›†å’Œåˆ†æ</h2><h3 id="åŸºäºç”¨æˆ·è§’åº¦çš„å…³é”®æŒ‡æ ‡é€‰å–"><a href="#åŸºäºç”¨æˆ·è§’åº¦çš„å…³é”®æŒ‡æ ‡é€‰å–" class="headerlink" title="åŸºäºç”¨æˆ·è§’åº¦çš„å…³é”®æŒ‡æ ‡é€‰å–"></a>åŸºäºç”¨æˆ·è§’åº¦çš„å…³é”®æŒ‡æ ‡é€‰å–</h3><ol><li>é¡µé¢æ‰“ä¸å¼€ â€“ ç™½å±æ—¶é—´(DNSæŸ¥è¯¢ï¼ŒTCPè¿æ¥ï¼Œå‘é€è¯·æ±‚ï¼Œç­‰å¾…å“åº”)</li><li>é¡µé¢æ˜¾ç¤ºä¸å‡ºæ¥ â€“ é¦–å±æ—¶é—´(htmlä¼ è¾“ï¼Œé™æ€èµ„æºä¸‹è½½)</li><li>æŒ‰é’®ç‚¹å‡»ä¸äº† â€“ ç”¨æˆ·å¯æ“ä½œ(è§£ææ–‡æ¡£ï¼Œæ‰§è¡ŒJS/CSSè§„åˆ™ï¼Œè®¡ç®—å¸ƒå±€)</li><li>å›¾ç‰‡æ˜¾ç¤ºæ…¢ â€“ é¡µé¢æ€»ä¸‹è½½(æ¸²æŸ“å®Œæˆ)</li></ol><h3 id="æ€ä¹ˆé‡‡é›†å±•ç¤º"><a href="#æ€ä¹ˆé‡‡é›†å±•ç¤º" class="headerlink" title="æ€ä¹ˆé‡‡é›†å±•ç¤º"></a>æ€ä¹ˆé‡‡é›†å±•ç¤º</h3><p>é¡µé¢æ‰“å¼€çš„æ—¶é—´èµ·ç‚¹åˆ°é¡µé¢æ¸²æŸ“å®Œæˆçš„æ—¶é—´å„é˜¶æ®µæ—¶é—´åˆ†å¸ƒï¼Œæ€»å æ¯”</p><h3 id="æ•°æ®æ³¢åŠ¨"><a href="#æ•°æ®æ³¢åŠ¨" class="headerlink" title="æ•°æ®æ³¢åŠ¨"></a>æ•°æ®æ³¢åŠ¨</h3><p>æ³¢åŠ¨å³æ„å‘³ç€æ€§èƒ½å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦æ³¨æ„</p><h3 id="å æ¯”æ›´é‡è¦"><a href="#å æ¯”æ›´é‡è¦" class="headerlink" title="å æ¯”æ›´é‡è¦"></a>å æ¯”æ›´é‡è¦</h3><p>æ€»ä¸‹è½½çš„æ—¶é—´ï¼Œå„é˜¶æ®µçš„ç”¨æˆ·ä¸‹è½½å æ¯”(å¾ˆå¿«0-2ï¼Œè¾ƒå¿«2-4ï¼Œå¯æ¥å—4-8ï¼Œå¾ˆæ…¢8+)</p><h4 id="æ•°æ®é‡‡é›†-é¦–å±æ—¶é—´"><a href="#æ•°æ®é‡‡é›†-é¦–å±æ—¶é—´" class="headerlink" title="æ•°æ®é‡‡é›†-é¦–å±æ—¶é—´"></a>æ•°æ®é‡‡é›†-é¦–å±æ—¶é—´</h4><pre><code>å›¾ç‰‡æ˜¯åˆ¶çº¦é¦–å±çš„ä¸»è¦å› ç´ è·å–é¦–å±å›¾ç‰‡çš„åŠ è½½è€—æ—¶å³å¯è·å–å¤§æ¦‚é¦–å±æ—¶é—´</code></pre><h5 id="é¦–å±ç»Ÿè®¡æµç¨‹"><a href="#é¦–å±ç»Ÿè®¡æµç¨‹" class="headerlink" title="é¦–å±ç»Ÿè®¡æµç¨‹"></a>é¦–å±ç»Ÿè®¡æµç¨‹</h5><ol><li>é¦–å±å¤§æ¦‚ä½ç½®æ‰§è¡Œç»Ÿè®¡JS</li><li>ç»‘å®šæ‰€æœ‰å›¾ç‰‡åŠ è½½äº‹ä»¶</li><li>é¡µé¢onloadä¹‹åæ‰¾åˆ°æœ€æ…¢ä¸€å¼ å›¾ç‰‡åŠ è½½æ—¶é—´</li></ol><h4 id="æ•°æ®é‡‡é›†-å¯æ“ä½œæ—¶é—´"><a href="#æ•°æ®é‡‡é›†-å¯æ“ä½œæ—¶é—´" class="headerlink" title="æ•°æ®é‡‡é›†- å¯æ“ä½œæ—¶é—´"></a>æ•°æ®é‡‡é›†- å¯æ“ä½œæ—¶é—´</h4><pre><code>DomReadyæˆ–æ ¸å¿ƒJSåŠ è½½å®Œæ¯•</code></pre><h4 id="æ•°æ®é‡‡é›†-æ€»ä¸‹è½½æ—¶é—´"><a href="#æ•°æ®é‡‡é›†-æ€»ä¸‹è½½æ—¶é—´" class="headerlink" title="æ•°æ®é‡‡é›†-æ€»ä¸‹è½½æ—¶é—´"></a>æ•°æ®é‡‡é›†-æ€»ä¸‹è½½æ—¶é—´</h4><pre><code>onload or å¼‚æ­¥æ¸²æŸ“å®Œæˆ</code></pre><h3 id="æµè§ˆå™¨æ€§èƒ½API"><a href="#æµè§ˆå™¨æ€§èƒ½API" class="headerlink" title="æµè§ˆå™¨æ€§èƒ½API"></a>æµè§ˆå™¨æ€§èƒ½API</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming">Performance Timing</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Resource_Timing_API/Using_the_Resource_Timing_API">Resource Timing</a></p><h2 id="ä¸‰ã€å¸¸ç”¨çš„ä¼˜åŒ–æ–¹æ³•"><a href="#ä¸‰ã€å¸¸ç”¨çš„ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="ä¸‰ã€å¸¸ç”¨çš„ä¼˜åŒ–æ–¹æ³•"></a>ä¸‰ã€å¸¸ç”¨çš„ä¼˜åŒ–æ–¹æ³•</h2><ol><li><p>é›…è™æ€§èƒ½ä¼˜åŒ–å†›è§„</p></li><li><p>å¯ä¼˜åŒ–çš„ç‚¹</p><ol><li>DNSæŸ¥è¯¢<ol><li>DNSç¼“å­˜(æµè§ˆå™¨ã€æ“ä½œç³»ç»Ÿ)</li><li>å‡å°‘DNSæ•°(ä¸€ä¸ªé¡µé¢ä¸è¶…è¿‡4ä¸ª, DNSé¢„æŸ¥è¯¢dns-prefetch)</li></ol></li><li>å»ºç«‹è¿æ¥<ol><li>ä½¿ç”¨CDN æé€Ÿ10%-20%(ç¼©çŸ­è·ç¦»ï¼Œé™ä½è¿æ¥æ—¶é—´)</li></ol></li><li>å‘é€è¯·æ±‚<ol><li>å‡å°‘HTTPè¯·æ±‚(æ‰“åŒ…JSï¼ŒCSSæ–‡ä»¶ï¼Œå›¾ç‰‡åˆå¹¶)</li><li>Keep alive å‡å°‘TCPè¯·æ±‚è¿æ¥æ•°</li></ol></li><li>å†…å®¹ä¼ è¾“<ol><li>æ–‡ä»¶å‹ç¼©(js, css, html),ä»£ç æ··æ·† 60%+</li><li>ä»£ç ç²¾ç®€ å‡å°‘æ— ç”¨ä»£ç ï¼Œæé«˜è´¨é‡</li><li>gzip</li></ol></li><li>ç¼“å­˜<ol><li>Expiresã€Cache-Control</li><li>Last-Modified</li><li>Etag</li></ol></li><li>å……åˆ†åˆ©ç”¨ç¼“å­˜â€“å¼ºç¼“å­˜(æ–‡ä»¶åmd5åç¼€)</li></ol></li><li><p>å‰ç«¯å·¥ç¨‹åŒ–ä¸æ€§èƒ½ä¼˜åŒ–â€“é™æ€èµ„æºç®¡ç†<br> è‡ªåŠ¨å°†æ ·å¼è¡¨æ”¾åœ¨å¤´éƒ¨ï¼Œè„šæœ¬æ”¾åœ¨åº•éƒ¨ï¼Œå¹¶æŒ‰éœ€åŠ è½½</p></li><li><p>ä»£ç çš„æ€§èƒ½â€“css</p><ul><li>ä¹¦å†™é«˜æ•ˆçš„CSS selectors</li><li>åˆ é™¤æ²¡ç”¨çš„CSSä»£ç </li><li>é¿å…ä½¿ç”¨CSS expressions(å®è·µä¸­æ¯”è¾ƒéš¾~~~)</li><li>æŠŠCSSæ”¾åˆ°é¡µé¢é¡¶éƒ¨</li><li>ä¸è¦ç¼©æ”¾å›¾ç‰‡â€“å¾ˆå¤§çš„å›¾ç‰‡ç¼©åˆ°å¾ˆå°å±•ç¤ºï¼Œè€—æ€§èƒ½</li></ul></li><li><p>ä»£ç çš„æ€§èƒ½â€“JavaScript</p><ul><li>æ•°æ®ç»“æ„å’Œç®—æ³•ä¼˜åŒ–</li><li>é¿å…with, eval</li><li>å‡å°‘è·¨ä¸Šä¸‹æ–‡æŸ¥æ‰¾: å…¨éƒ¨å˜é‡ã€å±æ€§</li><li>é¿å…argumentsã€debugger</li><li>ç¼“å­˜è®¡ç®—ç»“æœ</li></ul></li><li><p>DOMæ‰æ˜¯æ€§èƒ½å¤§å¤´</p><ul><li>é¿å…DOMé‡ç»˜(é¿å…è®¿é—®childNodeæ•°ç»„ï¼Œè¯»å†™åˆ†ç¦»)ï¼Œä¸åœ¨forå¾ªç¯é‡ç»˜DOM</li><li>æ”¶å›ã€é‡å¤åˆ©ç”¨DOM</li><li>ç¼“å­˜æ•°æ®è€Œä¸æ˜¯DOM</li></ul></li><li><p>MVVM æ¡†æ¶çš„DOM<br> åªåœ¨éœ€è¦æ—¶æ‰æ›´æ–°DOM<br> æ€§èƒ½ï¼šJS Engine &gt; Render Engine</p></li><li><p>Reactçš„æ€§èƒ½ä¼˜åŒ–</p><ol><li><p>shouldComponentUpdate / PureComponent</p></li><li><p>å…¨å±€æ•°æ®storeç®¡ç†(redux) + immutable</p></li><li><p>åœ¨shouldComponentUpdateé‡Œå…¨éƒ¨return false,åœ¨componentWillReceivePropsé‡Œåˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Line</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">shouldComponentUpdate</span>(<span class="params">nextProps</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">componentWillReceiveProps</span>(<span class="params">nextProps</span>)</span> &#123;</span><br><span class="line">        <span class="comment">// åªæœ‰æŸäº›æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶è¿›è¡Œç»˜å›¾</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.props.data !== nextProps.data) &#123;</span><br><span class="line">            <span class="built_in">this</span>.refresh();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Debounceé˜²æŠ–å»¶è¿Ÿæ›´æ–°<br>  compositionstart, compositionend è§£å†³ä¸­æ–‡è¾“å…¥æ—¶çš„é¢‘ç¹æ›´æ–°</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">DebounceText</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">componentWillMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.props_onChange = debounce(<span class="built_in">this</span>.props.onchange, <span class="number">300</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    onChange = <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">            value: val</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="built_in">this</span>.props_onChange(val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> props = <span class="built_in">Object</span>.assign(&#123;&#125;, <span class="built_in">this</span>.props, &#123;<span class="attr">value</span>: <span class="built_in">this</span>.state.value&#125;);</span><br><span class="line">        <span class="keyword">delete</span> props.onChange;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Input</span> <span class="attr">value</span>=<span class="string">&#123;this.state.value&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.onChange&#125;</span> /&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>React æ€§èƒ½ä¼˜åŒ–</p><ul><li>redux â€“&gt; mobx, mobx-state-tree å¯¹reduxæ€§èƒ½ä¼˜åŒ–ï¼Œä¸»åŠ¨ç”¨observerè§‚å¯Ÿæ•°æ®çš„å˜åŒ–â€¦</li><li>é¿å…è¿‡åº¦çš„åŠ¨ç”»æ•ˆæœ</li></ul></li></ol></li></ol><h2 id="å››ã€æè‡´çš„æ€§èƒ½ä¼˜åŒ–"><a href="#å››ã€æè‡´çš„æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="å››ã€æè‡´çš„æ€§èƒ½ä¼˜åŒ–"></a>å››ã€æè‡´çš„æ€§èƒ½ä¼˜åŒ–</h2><ol><li>æ‡’åŠ è½½(lazy render), é€å±åŠ è½½ï¼Œä¼˜åŒ–é¦–å±æ—¶é—´</li><li>bigRender å‡å°‘DOMæ•°ï¼Œæå‡é¦–å±ï¼ˆDOMæ ‘è½¬ä¸ºæ³¨é‡Šï¼Œé¡µé¢æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®æ‰åŠ è½½ï¼‰</li><li>bigpipe ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ†chunkæ–¹å¼è·å–æ‰€æœ‰å†…å®¹ï¼Œåç«¯å¹¶å‘<br> Request-header (http 1.1)<ul><li>transfer-encoding: chunked</li><li>content-length<br>å…ˆç»™å‰ç«¯åä¸€ä¸ªç»“æ„ï¼Œåœ¨HTMLç»“æŸåï¼Œè¾“å‡ºä¸€äº›jsä»£ç æ¸²æŸ“å†…å®¹ä¸Šå»<br>æ€§èƒ½æå‡<br>  è´´å§é¦–é¡µç™½å±æå‡40%<br>  FRSé¡µè´´å§åˆ—è¡¨åŒºå±•ç¤ºæ—¶é—´æå‡20%<br>å¼Šç«¯<br>  ä»£ç å¤æ‚åº¦<br>  åç«¯æˆæœ¬</li></ul></li></ol><h2 id="äº”ã€ç§»åŠ¨ç«¯çš„æ€§èƒ½"><a href="#äº”ã€ç§»åŠ¨ç«¯çš„æ€§èƒ½" class="headerlink" title="äº”ã€ç§»åŠ¨ç«¯çš„æ€§èƒ½"></a>äº”ã€ç§»åŠ¨ç«¯çš„æ€§èƒ½</h2><ol><li><p>æ˜¾æ€§åŠ è½½- loadingé¡µ</p></li><li><p>é¦–å±ä¼˜å…ˆ</p><ul><li>å•é¡µåº”ç”¨é¦–å±åç«¯æ¸²æŸ“</li><li>é€å±åŠ è½½</li><li>æ»šåŠ¨åŠ è½½(ç”¨æˆ·æ— æ„ŸçŸ¥ï¼Œæé€Ÿ30%)</li></ul></li><li><p>å‡å°‘é¦–å±å›¾ç‰‡æ•°é‡ï¼Œå‡å°‘è¯·æ±‚</p><ul><li>ä½¿ç”¨å…¶ä»–æ–¹å¼ä»£æ›¿å›¾ç‰‡: css3,svg,iconfont</li><li>åˆé€‚çš„å›¾ç‰‡ç±»å‹: webP &gt; jpg, png8&gt;gif</li><li>é¿å…ä½¿ç”¨dataURL</li><li>å“åº”å¼å›¾ç‰‡<br>  åˆ†è¾¨ç‡ã€Retina<br>  srcset, picture</li></ul></li><li><p>åŠ è½½è¿‡ç¨‹çš„ä¼˜åŒ–</p><ul><li>é¢„åŠ è½½: æå‰åŠ è½½ä¸‹ä¸€é¡µ</li><li>é¿å…302é‡å®šå‘</li><li>å¼‚æ­¥åŠ è½½å¹¿å‘Šç­‰ç¬¬ä¸‰æ–¹èµ„æº</li><li>å‡å°‘cookieï¼šé™æ€èµ„æºåŸŸåä¸é€‚ç”¨cookie</li><li>é•¿ç¼“å­˜</li></ul></li><li><p>æ‰§è¡Œè¿‡ç¨‹çš„ä¼˜åŒ–</p><ul><li>åˆç†ä½¿ç”¨CSS 3DåŠ é€Ÿ</li><li>é¿å…æ‰¹é‡ç»‘å®šæ•°é‡ï¼Œä½¿ç”¨äº‹ä»¶ä»£ç†</li><li>ä¸¥æ ¼æ§åˆ¶DOMæ•°ï¼Œç¼“å­˜æ•°æ®è€Œä¸æ˜¯DOMï¼ˆä¸è¶…20å±‚ï¼‰</li><li>ç”¨touchstart, touchendä»£æ›¿click</li></ul></li><li><p>åˆ©ç”¨Nativeçš„èƒ½åŠ›</p><p>å°†ä¸€äº›ä¸é¢‘ç¹æ›´æ–°çš„ä¸€äº›ä¸œè¥¿æœ¬åœ°åŒ–</p><ul><li><p>Hybirdçš„åŠ é€Ÿæ–¹å¼</p><ul><li>æ¨¡æ¿èµ„æºæœ¬åœ°åŒ–ï¼Œæå¤§æé€Ÿé¦–å±</li><li>æ¨¡æ¿èµ„æºçš„å¢é‡ä¸‹å‘</li><li>å›¾ç‰‡ç¼“å­˜ï¼šimageCache</li><li>åˆ©ç”¨NA(native)çš„Requestã€socketé•¿è¿æ¥</li><li>åˆ©ç”¨NAè·å–ç”¨æˆ·ä¿¡æ¯ã€ä½ç½®ç­‰</li></ul><p>æ‰‹ç™¾ä½¿ç”¨Hybirdçš„æ€§èƒ½æ”¶ç›Š</p><ul><li>ç›¸æ¯”H5æ–¹æ¡ˆï¼Œé¦–å±æ—¶é—´é™ä½60%+</li><li>æ¨¡æ¿å¢é‡ä¸‹å‘ï¼Œä½“ç§¯å‡å°90%</li></ul></li></ul></li></ol><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å‰ç«¯æ€§èƒ½ååˆ†å…³é”®ï¼Œå½±å“PV å’Œæ”¶å…¥<br>æ‰¾åˆ°å…³é”®æŒ‡æ ‡ï¼Œç”¨ç»Ÿè®¡åˆ°çš„æ•°æ®è¯´è¯<br>æ€§èƒ½ä¼˜åŒ–è´¯ç©¿é¡µé¢çš„æ•´ä¸ªå“åº”è¿‡ç¨‹<br>æ— çº¿ç«¯æ›´éœ€è¦ä¼˜åŒ–<br>ç›‘æ§-åˆ†æ-ä¼˜åŒ–ï¼Œåˆ©ç”¨ç°æœ‰çš„å·¥å…·æ–¹æ¡ˆ</p>]]></content>
      
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> æ€§èƒ½ä¼˜åŒ– </tag>
            
            <tag> ç›‘æ§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿ä¸Šé—®é¢˜è¿½æŸ¥é€šç”¨æ–¹æ³•</title>
      <link href="posts/%E7%BA%BF%E4%B8%8A%E9%97%AE%E9%A2%98%E8%BF%BD%E6%9F%A5%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>posts/%E7%BA%BF%E4%B8%8A%E9%97%AE%E9%A2%98%E8%BF%BD%E6%9F%A5%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="å¤„ç†åŸåˆ™"><a href="#å¤„ç†åŸåˆ™" class="headerlink" title="å¤„ç†åŸåˆ™"></a>å¤„ç†åŸåˆ™</h1><ol><li><p>æ­¢æŸåŸåˆ™</p></li><li><p>åŠæ—¶é€šå‘Š</p></li></ol><h1 id="é€»è¾‘æ–¹æ³•"><a href="#é€»è¾‘æ–¹æ³•" class="headerlink" title="é€»è¾‘æ–¹æ³•"></a>é€»è¾‘æ–¹æ³•</h1><ul><li>åˆ†ç»´åº¦ï¼Œåˆ¤å®šå½±å“é¢ï¼Œç¼©å°èŒƒå›´</li></ul><h1 id="æœ‰èƒ†æœ‰è¯†"><a href="#æœ‰èƒ†æœ‰è¯†" class="headerlink" title="æœ‰èƒ†æœ‰è¯†"></a>æœ‰èƒ†æœ‰è¯†</h1><ol><li><p>å¿ƒæ€å‡†å¤‡<br>è¿…é€Ÿç²¾å‡†ï¼Œâ€“è„šæœ¬åŠŸåº•ï¼Œä¿¡å¿ƒ<br>å¤§èƒ†å‡è®¾ï¼Œâ€“æ€è·¯æ¸…æ™°å¼€æ”¾ï¼Œæ²¡æœ‰SOP<br>æ­¢æŸæ„è¯† â€”æ— æŸåˆ¤æ–­<br>è´¨ç–‘æ‰€æœ‰ â€”å„ä¸ªæ•°æ®ã€ç»“è®º(ç›‘æ§ç³»ç»Ÿ)æœ‰æ•ˆæ€§<br>æœ‰çš„æ”¾çŸ¢ â€”é€»è¾‘æ€ç»´</p></li><li><p>çŸ¥è¯†å‡†å¤‡<br>æ—¥å¿—â€”å„å­—æ®µæ„ä¹‰è¦éå¸¸ç†Ÿæ‚‰<br>é…ç½®â€”å°¤å…¶æ˜¯è°ƒåº¦ç›¸å…³çš„è¦äº†ç„¶äºèƒ¸<br>ç»†èŠ‚â€”æ¯æ¬¡æ›´ç»†ä¸€ç‚¹<br>å‘½ä»¤â€”åŸºæœ¬åŠŸ(linuxæ¯ä¸ªå‘½ä»¤ï¼Œæ¯ä¸ªå‚æ•°)</p></li></ol><h1 id="çŸ¥è¯†ç§¯ç´¯-æ¼”è¿›è¿‡ç¨‹"><a href="#çŸ¥è¯†ç§¯ç´¯-æ¼”è¿›è¿‡ç¨‹" class="headerlink" title="çŸ¥è¯†ç§¯ç´¯ æ¼”è¿›è¿‡ç¨‹"></a>çŸ¥è¯†ç§¯ç´¯ æ¼”è¿›è¿‡ç¨‹</h1>]]></content>
      
      
      
        <tags>
            
            <tag> å¤„ç†é—®é¢˜ </tag>
            
            <tag> çº¿ä¸Šäº‹æ•… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux</title>
      <link href="posts/Linux/"/>
      <url>posts/Linux/</url>
      
        <content type="html"><![CDATA[<p>ç»ˆç«¯ä¸Šä¼ ä¸‹è½½æ–‡ä»¶</p><p>åœ¨ç»ˆç«¯å¾€linuxä¸Šä¼ æ–‡ä»¶<br><code>rz -b</code></p><p>ä¸­æ–‡çš„æ— æ³•ä¸Šä¼ ï¼Œéœ€è¦å…ˆå°†æ–‡ä»¶åæ”¹ä¸ºè‹±æ–‡çš„ï¼Œä¸Šä¼ ä¸Šå»åï¼Œå†æ”¹ä¸ºä¸­æ–‡ã€‚</p><p>ä¸‹è½½<br><code>sz  -b</code></p><p>å‚è€ƒ:<a href="https://segmentfault.com/a/1190000011048277">é“¾æ¥</a></p><h2 id="ä¸€ã€å‘½ä»¤åŸºæœ¬æ ¼å¼"><a href="#ä¸€ã€å‘½ä»¤åŸºæœ¬æ ¼å¼" class="headerlink" title="ä¸€ã€å‘½ä»¤åŸºæœ¬æ ¼å¼"></a>ä¸€ã€å‘½ä»¤åŸºæœ¬æ ¼å¼</h2><p><a href="http://www.cnblogs.com/ShaYeBlog/p/5576601.html">http://www.cnblogs.com/ShaYeBlog/p/5576601.html</a></p><p>git æ‰“tag</p><blockquote><p>å‘½ä»¤ [é€‰é¡¹][å‚æ•°]</p></blockquote><p>æ³¨æ„ï¼š<br>    1. ä¸ªåˆ«å‘½ä»¤ä¸éµå¾ªæ­¤æ ¼å¼<br>    2. æœ‰å¤šä¸ªé€‰é¡¹ï¼Œå¯ä»¥å†™åœ¨ä¸€èµ·<br>    3. ç®€å†™ï¼š-a == -all, ll == ls -l</p><h3 id="1-1-ls"><a href="#1-1-ls" class="headerlink" title="1.1 ls"></a>1.1 ls</h3><ul><li>ls -a æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶</li><li>ls -l æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</li><li>ls -d æŸ¥çœ‹ç›®å½•å±æ€§</li><li>ls -h äººæ€§åŒ–æ˜¾ç¤ºæ–‡ä»¶å¤§å° ï¼ŒK/M</li><li>ls -i æ˜¾ç¤ºinode</li></ul><h3 id="1-2-æ–‡ä»¶æƒé™-10ä½"><a href="#1-2-æ–‡ä»¶æƒé™-10ä½" class="headerlink" title="1.2 æ–‡ä»¶æƒé™(10ä½)"></a>1.2 æ–‡ä»¶æƒé™(10ä½)</h3><blockquote><p>ç¬¬ä¸€ä½æ˜¯æ–‡ä»¶ç±»å‹ï¼Œåé¢æ¯3ä½ä¸€ç»„</p></blockquote><p>-rw-r-râ€“</p><ul><li>-æ–‡ä»¶ç±»å‹(-æ–‡ä»¶ dç›®å½• lè½¯é“¾æ¥)</li><li>rw- uæ‰€æœ‰è€…</li><li>râ€“ gæ‰€å±ç»„</li><li>râ€“ oå…¶ä»–äºº</li><li>r è¯» w å†™ x æ‰§è¡Œ</li></ul><a id="more"></a><h2 id="äºŒã€æ–‡ä»¶å¤„ç†å‘½ä»¤"><a href="#äºŒã€æ–‡ä»¶å¤„ç†å‘½ä»¤" class="headerlink" title="äºŒã€æ–‡ä»¶å¤„ç†å‘½ä»¤"></a>äºŒã€æ–‡ä»¶å¤„ç†å‘½ä»¤</h2><p>linuxä¸­ä¸€åˆ‡çš†æ–‡ä»¶ã€‚ç›®å½•ä¸ºç›®å½•æ–‡ä»¶ã€‚æ™®é€šæ–‡ä»¶ç”¨æ¥ä¿å­˜æ•°æ®ï¼Œç›®å½•æ–‡ä»¶ç”¨æ¥ä¿å­˜ç›®å½•ã€‚</p><h3 id="2-1-å¸¸ç”¨ç›®å½•ä»‹ç»åŠä½œç”¨"><a href="#2-1-å¸¸ç”¨ç›®å½•ä»‹ç»åŠä½œç”¨" class="headerlink" title="2.1 å¸¸ç”¨ç›®å½•ä»‹ç»åŠä½œç”¨"></a>2.1 å¸¸ç”¨ç›®å½•ä»‹ç»åŠä½œç”¨</h3><ol><li><p>/ æ ¹ç›®å½•</p></li><li><p>/sbin ï¼Œ/bin å‘½ä»¤ä¿å­˜ç›®å½•</p><blockquote><p>æ ¹ç›®å½•ä¸‹çš„binå’Œsbinï¼Œusrä¸‹çš„bin å’Œsbinéƒ½æ˜¯ç”¨æ¥ä¿å­˜ç³»ç»Ÿå‘½ä»¤ã€‚binç›®å½•ä¸‹çš„å‘½ä»¤ä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥æ‰§è¡Œï¼Œsbinä¸‹åªæœ‰rootæ‰å¯ä»¥æ‰§è¡Œã€‚Linuxé€šè¿‡æ­¤æ–¹å¼åŒºåˆ†ç”¨æˆ·æƒé™</p></blockquote></li><li><p>/boot å¯åŠ¨ç›®å½•ï¼Œå¯åŠ¨ç›¸å…³æ–‡ä»¶</p></li><li><p>/dev è®¾å¤‡æ–‡ä»¶ä¿å­˜ç›®å½•</p></li><li><p>/etc é…ç½®æ–‡ä»¶ä¿å­˜ç›®å½•</p></li><li><p>/home  æ™®é€šç”¨æˆ·çš„å®¶ç›®å½•</p></li><li><p>/lib ç³»ç»Ÿåº“ä¿å­˜ç›®å½•</p></li><li><p>/mnt ç³»ç»ŸæŒ‚è½½uç›˜ã€ç§»åŠ¨ç¡¬ç›˜ç›®å½•</p></li><li><p>/media æŒ‚è½½å…‰ç›˜ç›®å½•</p></li><li><p>/misc å¤–æ¥ç£å¸¦æœºæŒ‚è½½ç›®å½•</p></li><li><p>/root è¶…çº§ç”¨æˆ·çš„å®¶ç›®å½•</p></li><li><p>/tmp ä¸´æ—¶ç›®å½• å¯å­˜æ”¾ä¸´æ—¶æ•°æ®</p></li><li><p>/proc ç›´æ¥å†™å…¥å†…å­˜çš„</p></li><li><p>/sys åŒ /procä¸èƒ½ç›´æ¥æ“ä½œ</p></li><li><p>/usr ç³»ç»Ÿè½¯ä»¶èµ„æºç›®å½•</p><ul><li>/usr/bin/ ç³»ç»Ÿå‘½ä»¤ (æ™®é€šç”¨æˆ·)</li><li>/usr/sbin/ ç³»ç»Ÿå‘½ä»¤ (è¶…çº§ç”¨æˆ·)</li></ul></li></ol><h3 id="2-2-ç›®å½•å¤„ç†æ–‡ä»¶å‘½ä»¤"><a href="#2-2-ç›®å½•å¤„ç†æ–‡ä»¶å‘½ä»¤" class="headerlink" title="2.2 ç›®å½•å¤„ç†æ–‡ä»¶å‘½ä»¤"></a>2.2 ç›®å½•å¤„ç†æ–‡ä»¶å‘½ä»¤</h3><ul><li><p>mkdir -p [ç›®å½•å]<br>  -p é€’å½’åˆ›å»º<br>  make directories<br>  mkdir  src<br>  mkdir  bin</p></li><li><p>cd åˆ‡æ¢æ‰€åœ¨ç›®å½•</p><p>  change directory</p><blockquote><p>ç®€åŒ–æ“ä½œ</p></blockquote><p>  cd ~ è¿›å…¥å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•<br>  cd - è¿›å…¥ä¸Šæ¬¡ç›®å½•<br>  cd .. è¿›å…¥ä¸Šä¸€çº§ç›®å½•<br>  cd . è¿›å…¥å½“å‰ç›®å½•</p></li><li><p>pwd æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•ä½ç½®<br>  print working directory</p></li></ul><h3 id="2-3-æ–‡ä»¶å¤„ç†å‘½ä»¤"><a href="#2-3-æ–‡ä»¶å¤„ç†å‘½ä»¤" class="headerlink" title="2.3 æ–‡ä»¶å¤„ç†å‘½ä»¤"></a>2.3 æ–‡ä»¶å¤„ç†å‘½ä»¤</h3><ul><li><p>rmdir [ç›®å½•å] åˆ é™¤ç©ºç›®å½•</p><p>  remove empty directory</p></li><li><p>rm -rf [æ–‡ä»¶æˆ–ç›®å½•] åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•</p><p>  é€‰é¡¹ï¼š</p><pre><code>-r åˆ é™¤ç›®å½•-f å¼ºåˆ¶rm [æ–‡ä»¶å] :æç¤ºæ˜¯å¦åˆ é™¤rm -r [ç›®å½•]: åˆ é™¤ç›®å½•éœ€åŠ -rï¼Œç›®å½•ä¸­å«æœ‰å­æ–‡ä»¶ï¼Œå°†ç»§ç»­è¯¢é—®æ˜¯å¦åˆ é™¤rm -rf [ç›®å½•]: åˆ é™¤ç›®å½•ï¼Œç›´æ¥åˆ é™¤**è‡ªæ€æŒ‡ä»¤** rm -rf /</code></pre></li><li><p>cp [é€‰é¡¹] [åŸæ–‡ä»¶æˆ–ç›®å½•] [ç›®æ ‡ç›®å½•] å¤åˆ¶</p><p>  copy</p><pre><code>  -r å¤åˆ¶ç›®å½•  -p è¿å¸¦æ–‡ä»¶å±æ€§å¤åˆ¶  -d è‹¥æºæ–‡ä»¶æ˜¯é“¾æ¥æ–‡ä»¶ï¼Œåˆ™å¤åˆ¶é“¾æ¥å±æ€§  -a ç›¸å½“äº-pdr ç›®æ ‡æ–‡ä»¶å’Œæºæ–‡ä»¶å±æ€§ç›¸åŒ  è¢«å¤åˆ¶æ–‡ä»¶çš„æ—¶é—´ä¸ºæ‰§è¡Œå¤åˆ¶å‘½ä»¤çš„æ—¶é—´ï¼Œè‹¥è¦ä½¿è¢«å¤åˆ¶çš„æ–‡ä»¶ä¸åŸæ–‡ä»¶å±æ€§å®Œå…¨ä¸€è‡´ï¼Œéœ€åŠ  -a</code></pre><hr><pre><code>eg:cp abc /tmp/ è‹¥ç›®æ ‡ç›®å½•ä¸åŠ æ–‡ä»¶åï¼Œåˆ™åŸåå¤åˆ¶cp abc /tmp/ana ç›®æ ‡æ–‡ä»¶åŠ å…¥æ–‡ä»¶åï¼Œæ”¹åå¤åˆ¶cp -r ja/ /tmp/ å¤åˆ¶ç›®å½•cp -a ja/ /tmp/ å®Œå…¨å¤åˆ¶ï¼ŒåŒ…å«æ‰€æœ‰å±æ€§</code></pre></li><li><p>mv [åŸæ–‡ä»¶æˆ–ç›®å½•] [ç›®æ ‡ç›®å½•] move</p><pre><code>eg:mv ja /tmp/ å‰ªåˆ‡mv abc longls åŸæ–‡ä»¶ä¸ç›®æ ‡ç›®å½•åœ¨åŒä¸€ä¸ªç›®å½•ï¼Œåˆ™ä¸ºé‡å‘½å</code></pre></li><li><p>date æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ—¶é—´</p></li></ul><h3 id="2-4-é“¾æ¥å‘½ä»¤"><a href="#2-4-é“¾æ¥å‘½ä»¤" class="headerlink" title="2.4 é“¾æ¥å‘½ä»¤"></a>2.4 é“¾æ¥å‘½ä»¤</h3><ul><li><p>æ ¼å¼åŒ–ç¡¬ç›˜<br>??</p></li><li><p>ln -s [æºæ–‡ä»¶] [ç›®æ ‡æ–‡ä»¶]    link</p></li></ul><blockquote><p>é€‰é¡¹ -s åˆ›å»ºè½¯é“¾æ¥</p></blockquote><ul><li><p>ç¡¬é“¾æ¥ç‰¹å¾</p><p>  æ‹¥æœ‰ç›¸åŒièŠ‚ç‚¹å’Œå­˜å‚¨blockå—ï¼Œå¯ä»¥çœ‹åšæ˜¯åŒä¸€ä¸ªæ–‡ä»¶ã€‚</p><p>  ç¡¬é“¾æ¥ä¸æºæ–‡ä»¶æ‹¥æœ‰ç›¸åŒçš„ièŠ‚ç‚¹ã€‚</p><p>  åˆ é™¤åŸæ–‡ä»¶æˆ–ç¡¬é“¾æ¥æ–‡ä»¶çš„ä»»ä½•ä¸€æ–‡ä»¶ï¼Œä¸å½±å“æ–‡ä»¶ç´¢å¼•æ“ä½œï¼Ÿï¼Ÿï¼ŸåŸæ–‡ä»¶åˆ é™¤äº†å—ï¼Ÿ</p><pre><code>1ï¼‰å¯ä»¥é€šè¿‡ièŠ‚ç‚¹è¯†åˆ«2ï¼‰ä¸èƒ½è·¨åˆ†åŒºå»ºç«‹3ï¼‰ln ./source/abc ./target/bcd.hard åˆ›å»ºåï¼Œå¼•ç”¨è®¡æ•°+11) ls -i ./souce/abc ./target/bcd.hard å¯ä½¿ç”¨ls -i æ¥æŸ¥çœ‹æ–‡ä»¶ièŠ‚ç‚¹</code></pre><p>  ä¸å»ºè®®åˆ›å»ºç¡¬é“¾æ¥æ–‡ä»¶ï¼š</p><ul><li>æ–‡ä»¶è¿‡äºéšè”½ï¼Œé™¤äº†ièŠ‚ç‚¹å¾ˆéš¾åŒºåˆ†å®ƒæ˜¯ä¸æ˜¯ç¡¬é“¾æ¥</li><li>ç¡¬é“¾æ¥é™åˆ¶è¾ƒå¤šï¼Œä¸èƒ½è·¨åˆ†åŒºï¼Œä¸èƒ½é’ˆå¯¹ç›®å½•ï¼Œä½¿ç”¨ä¸­å®¹æ˜“å‡ºç°é”™è¯¯ä½¿ç”¨æ–¹æ³•</li></ul></li><li><p>è½¯é“¾æ¥ç‰¹å¾</p><ol><li>ç±»ä¼¼äºWindowsçš„å¿«æ·æ–¹å¼</li><li>è½¯é“¾æ¥æ‹¥æœ‰è‡ªå·±çš„ièŠ‚ç‚¹å’Œblockå—ï¼Œåªä¿å­˜åŸæ–‡ä»¶çš„æ–‡ä»¶åå’ŒèŠ‚ç‚¹å·ï¼Œå¹¶æ²¡æœ‰å®é™…çš„æ–‡ä»¶æ•°æ®ã€‚</li><li>è½¯é“¾æ¥çš„æƒé™éƒ½ä¸º777ï¼Œä½†å®é™…æƒé™è¦çœ‹åŸæ–‡ä»¶æƒé™ã€‚</li><li>ä¿®æ”¹ä»»æ„æ–‡ä»¶ï¼Œå¦ä¸€ä¸ªéƒ½ä¼šæ”¹å˜ã€‚</li><li>åˆ é™¤åŸæ–‡ä»¶ï¼Œè½¯é“¾æ¥ä¸èƒ½ç”¨</li><li>åˆ›å»ºè½¯é“¾æ¥ï¼ŒåŸæ–‡ä»¶ä¸€å®šè¦å†™ç»å¯¹è·¯å¾„ï¼Œå¦åˆ™è½¯é“¾æ¥ä¼šåˆ°å®ƒæ‰€åœ¨çš„åŒä¸€ä¸ªç›®å½•å»æ‰¾åŸæ–‡ä»¶</li></ol></li></ul><p><a href="https://www.processon.com/view/link/59b296fae4b0d3fbea262c6c%22">ç¡¬é“¾æ¥ä¸è½¯é“¾æ¥å›¾</a></p><h2 id="ä¸‰ã€æ–‡ä»¶æœç´¢å‘½ä»¤"><a href="#ä¸‰ã€æ–‡ä»¶æœç´¢å‘½ä»¤" class="headerlink" title="ä¸‰ã€æ–‡ä»¶æœç´¢å‘½ä»¤"></a>ä¸‰ã€æ–‡ä»¶æœç´¢å‘½ä»¤</h2><h3 id="3-1-locate-æ–‡ä»¶å"><a href="#3-1-locate-æ–‡ä»¶å" class="headerlink" title="3.1 locate æ–‡ä»¶å"></a>3.1 locate æ–‡ä»¶å</h3><pre><code>é€Ÿåº¦å¿«ï¼Œä½†åªèƒ½æŒ‰ç…§æ–‡ä»¶åæœç´¢ï¼Œä¸èƒ½è¿›è¡Œæ›´å¤æ‚çš„æœç´¢</code></pre><h3 id="3-2-whereis"><a href="#3-2-whereis" class="headerlink" title="3.2 whereis"></a>3.2 whereis</h3><pre><code>ç”¨äºæœç´¢å‘½ä»¤æ‰€åœ¨çš„è·¯å¾„å·²ç»å¸®åŠ©æ–‡æ¡£æ‰€åœ¨çš„ä½ç½®-b: åªæŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶-m: åªæŸ¥æ‰¾å¸®åŠ©æ–‡ä»¶</code></pre><h3 id="3-3-which"><a href="#3-3-which" class="headerlink" title="3.3 which"></a>3.3 which</h3><pre><code>èƒ½çœ‹åˆ°å‘½ä»¤çš„è·¯å¾„ï¼Œå¦‚æœæœ‰åˆ«åï¼Œè¿˜èƒ½çœ‹åˆ°åˆ«åçš„è¯´æ˜åªèƒ½çœ‹åˆ°å¤–éƒ¨å®‰è£…çš„å‘½ä»¤ï¼Œå¦‚pwd.</code></pre><h3 id="3-4-PATH"><a href="#3-4-PATH" class="headerlink" title="3.4 $PATH"></a>3.4 $PATH</h3><pre><code>ç±»ä¼¼äºWindowsçš„ç¯å¢ƒå˜é‡ï¼Œæ‰§è¡Œå‘½ä»¤æ—¶ï¼Œä»pathå®šä¹‰çš„ç›®å½•ä¸­å¯»æ‰¾echo $PATH</code></pre><h3 id="3-5-whoami"><a href="#3-5-whoami" class="headerlink" title="3.5 whoami"></a>3.5 whoami</h3><pre><code>æ˜¾ç¤ºå½“å‰ç”¨æˆ·</code></pre><h3 id="3-6-whatis"><a href="#3-6-whatis" class="headerlink" title="3.6 whatis"></a>3.6 whatis</h3><pre><code>æŸ¥è¯¢ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œä»€ä¹ˆåŠŸèƒ½ï¼Œå¹¶å°†ç»“æœæ‰“å°åˆ°ç»ˆç«¯ä¸Š</code></pre><h3 id="3-7-find-æœç´¢èŒƒå›´-æœç´¢æ¡ä»¶"><a href="#3-7-find-æœç´¢èŒƒå›´-æœç´¢æ¡ä»¶" class="headerlink" title="3.7 find [æœç´¢èŒƒå›´] [æœç´¢æ¡ä»¶]"></a>3.7 find [æœç´¢èŒƒå›´] [æœç´¢æ¡ä»¶]</h3><blockquote><ol><li>é»˜è®¤å®Œå…¨åŒ¹é…</li><li>é¿å…å¤§èŒƒå›´æœç´¢ï¼Œéå¸¸æµªè´¹èµ„æºï¼Œå»ºè®®ä¸åœ¨ç›´æ¥â€™/â€˜ç›®å½•ä¸‹æœç´¢</li></ol></blockquote><pre><code>find /root -iname test ä¸åŒºåˆ†è¦æœç´¢çš„testå¤§å°å†™æ ¼å¼find /root -user root æœç´¢rootç›®å½•ä¸‹æ‰€æœ‰å±äºrootç”¨æˆ·çš„æ–‡ä»¶find /root -nouser æ²¡æœ‰æ‰€å±è€…çš„æ–‡ä»¶ã€‚linuxä¸­æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰æ‰€å±è€…ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¸€èˆ¬éƒ½æ˜¯åƒåœ¾æ–‡ä»¶ã€‚ä½†è¿˜æ˜¯æœ‰ç‰¹æ®Šçš„ï¼Œå†…æ ¸äº§ç”Ÿçš„æ–‡ä»¶ï¼Œå°±æ²¡æœ‰æ‰€å±è€…ï¼Œä¸€èˆ¬åœ¨procå’Œsysç›®å½•ä¸‹ï¼›è¿˜æœ‰å¤–æ¥æ–‡ä»¶ï¼Œuç›˜æ‹·å…¥çš„æ–‡ä»¶ä¹Ÿä¼šå¿½ç•¥æ‰€æœ‰è€…</code></pre><h4 id="æ¨¡ç³ŠæŸ¥è¯¢"><a href="#æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="æ¨¡ç³ŠæŸ¥è¯¢"></a>æ¨¡ç³ŠæŸ¥è¯¢</h4><pre><code>é€šé…ç¬¦æœ‰3ç§1. * åŒ¹é…ä»»ä½•å­—ç¬¦    find /home -name &quot;*test*&quot;,æ˜¾ç¤ºæ‰€æœ‰åå­—å¸¦testçš„æ–‡ä»¶    find /home -name &quot;*&quot;, homeç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶2. ? åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦3. [] åŒ¹é…ä»»æ„ä¸€ä¸ªä¸­æ‹¬å·å†…çš„å­—ç¬¦ï¼Œ    find /home -name &quot;test[12]&quot; æ˜¾ç¤ºtest1 test2æ–‡ä»¶    find /home -name &quot;[12]*&quot; æ˜¾ç¤º1æˆ–2å¼€å¤´çš„æ–‡ä»¶    find /home -name &quot;*[12]&quot; æ˜¾ç¤ºæ‰€æœ‰1æˆ–2ç»“å°¾çš„æ–‡ä»¶</code></pre><h4 id="find-æŒ‰æ–‡ä»¶æ—¶é—´æœç´¢"><a href="#find-æŒ‰æ–‡ä»¶æ—¶é—´æœç´¢" class="headerlink" title="find æŒ‰æ–‡ä»¶æ—¶é—´æœç´¢"></a>find æŒ‰æ–‡ä»¶æ—¶é—´æœç´¢</h4><pre><code>1. find /home -mtime +10 åœ¨homeç›®å½•ä¸‹ï¼ŒæŸ¥æ‰¾10å¤©å‰ä¿®æ”¹çš„æ–‡ä»¶2. find /home -mtime 10                    10å¤©å‰å½“å¤©çš„æ–‡ä»¶3. find /home -mtime -10                   10å¤©å†…ä¿®æ”¹çš„æ–‡ä»¶atime æ–‡ä»¶è®¿é—®æ—¶é—´  ctime æ”¹å˜æ–‡ä»¶å±æ€§ mtime ä¿®æ”¹æ–‡ä»¶å†…å®¹</code></pre><h4 id="find-ç›®å½•-size-å¤§å°"><a href="#find-ç›®å½•-size-å¤§å°" class="headerlink" title="find ç›®å½• -size å¤§å°"></a>find ç›®å½• -size å¤§å°</h4><pre><code>å°å†™kå’Œå¤§å†™Mfind /etc -size +20k -a -size -50k  æŸ¥æ‰¾/etc/ç›®å½•ä¸‹å¤§äº20kå¹¶ä¸”å°äº50kçš„æ–‡ä»¶-a and ä¸ï¼Œä¸¤ä¸ªæ¡ä»¶éƒ½æ»¡è¶³-o or  æˆ–ï¼Œä¸¤ä¸ªæ¡ä»¶æ»¡è¶³ä¸€ä¸ªå³å¯find /etc -size +20k -a -size -50k -exec ls -lh &#123;&#125; \;æŸ¥æ‰¾/etc ç›®å½•ä¸‹ï¼Œå¤§äº20kä¸”å°äº50kçš„æ–‡ä»¶ï¼Œå¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯-exec/ -ok å‘½ä»¤ &#123;&#125; \; å¯¹æœç´¢ç»“æœæ‰§è¡Œæ“ä½œå›ºå®šæ ¼å¼ï¼š-exec &#123;&#125; \\ ï¼Œè¡¨ç¤ºç›´æ¥å¯¹å‰é¢çš„æœç´¢ç»“æœè¿›è¡Œåé¢çš„å‘½ä»¤å¤„ç†ã€‚ï¼Ÿï¼Ÿï¼Ÿ</code></pre><h4 id="grep-é€‰é¡¹-å­—ç¬¦ä¸²-æ–‡ä»¶å"><a href="#grep-é€‰é¡¹-å­—ç¬¦ä¸²-æ–‡ä»¶å" class="headerlink" title="grep [é€‰é¡¹] å­—ç¬¦ä¸² æ–‡ä»¶å"></a>grep [é€‰é¡¹] å­—ç¬¦ä¸² æ–‡ä»¶å</h4><pre><code>-i å¿½ç•¥å¤§å°å†™-v æ’é™¤æŒ‡å®šå­—ç¬¦ä¸²</code></pre><blockquote><p>findä¸grepçš„åŒºåˆ«</p></blockquote><pre><code>find: åœ¨ç³»ç»Ÿä¸­æœç´¢ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶åï¼Œå¦‚æœéœ€è¦åŒ¹é…ï¼Œä½¿ç”¨é€šé…ç¬¦ï¼Œä¸ºå®Œå…¨åŒ¹é…grep: åœ¨æ–‡ä»¶ä¸­æœç´¢ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœéœ€è¦åŒ¹é…ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸ºåŒ…å«åŒ¹é…</code></pre><h2 id="å››ã€å¸®åŠ©å‘½ä»¤"><a href="#å››ã€å¸®åŠ©å‘½ä»¤" class="headerlink" title="å››ã€å¸®åŠ©å‘½ä»¤"></a>å››ã€å¸®åŠ©å‘½ä»¤</h2><h3 id="4-1-man-å‘½ä»¤åç§°-manual"><a href="#4-1-man-å‘½ä»¤åç§°-manual" class="headerlink" title="4.1 man å‘½ä»¤åç§°  manual"></a>4.1 man å‘½ä»¤åç§°  manual</h3><p>è¿›å…¥manå‘½ä»¤æ“ä½œï¼Œqé€€å‡ºï¼›è¾“å…¥: / -d æœç´¢â€™-dâ€™å­—ç¬¦ä¸²ï¼›æŒ‰nå¾€ä¸‹æœï¼Œshfit+n ç½‘ä¸Šæœ</p><h3 id="4-2-å…¶ä»–å¸®åŠ©å‘½ä»¤"><a href="#4-2-å…¶ä»–å¸®åŠ©å‘½ä»¤" class="headerlink" title="4.2 å…¶ä»–å¸®åŠ©å‘½ä»¤"></a>4.2 å…¶ä»–å¸®åŠ©å‘½ä»¤</h3><ul><li><p>å‘½ä»¤ â€“help</p></li><li><p>info å‘½ä»¤<br>  ls â€“help</p><p>  -å›è½¦ è¿›å…¥å¸¦*å·çš„å‘½ä»¤<br>  -u è¿›å…¥ä¸Šå±‚é¡µé¢<br>  -n è¿›å…¥ä¸‹ä¸€ä¸ªå¸®åŠ©å°èŠ‚<br>  -p è¿›å…¥ä¸Šä¸€ä¸ªå¸®åŠ©å°èŠ‚<br>  -q é€€å‡º</p></li></ul><h2 id="äº”ã€å‹ç¼©ä¸è§£å‹ç¼©å‘½ä»¤"><a href="#äº”ã€å‹ç¼©ä¸è§£å‹ç¼©å‘½ä»¤" class="headerlink" title="äº”ã€å‹ç¼©ä¸è§£å‹ç¼©å‘½ä»¤"></a>äº”ã€å‹ç¼©ä¸è§£å‹ç¼©å‘½ä»¤</h2><blockquote><p>.zip .gz .bz2 .tar.gz .tar.bz2</p></blockquote><h3 id="5-1-zip"><a href="#5-1-zip" class="headerlink" title="5.1 zip"></a>5.1 zip</h3><pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">zip å‹ç¼©æ–‡ä»¶å æºæ–‡ä»¶ <span class="comment"># å‹ç¼©æ–‡ä»¶</span></span><br><span class="line">zip -r å‹ç¼©ç›®å½•å æºç›®å½• <span class="comment"># å‹ç¼©ç›®å½•</span></span><br><span class="line"></span><br><span class="line">unzip å‹ç¼©æ–‡ä»¶ <span class="comment"># è§£å‹ç¼©æ–‡ä»¶</span></span><br></pre></td></tr></table></figure></code></pre><h3 id="5-2-gz"><a href="#5-2-gz" class="headerlink" title="5.2 gz"></a>5.2 gz</h3><pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gzip æºæ–‡ä»¶ <span class="comment"># å‹ç¼©ä¸º.gzæ ¼å¼çš„å‹ç¼©æ–‡ä»¶ï¼Œæºæ–‡ä»¶ä¼šæ¶ˆå¤±</span></span><br><span class="line">gzip -c æºæ–‡ä»¶&gt;å‹ç¼©æ–‡ä»¶ <span class="comment"># å‹ç¼©ä¸º.gzæ ¼å¼ï¼Œæºæ–‡ä»¶ä¼šä¿ç•™</span></span><br><span class="line">gzip -r ç›®å½• <span class="comment"># å‹ç¼©ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å¤¹ï¼Œä½†ä¸èƒ½å‹ç¼©ç›®å½•</span></span><br><span class="line"></span><br><span class="line">gzip -d å‹ç¼©æ–‡ä»¶ <span class="comment"># è§£å‹ç¼©æ–‡ä»¶</span></span><br><span class="line">gunzip å‹ç¼©æ–‡ä»¶ <span class="comment"># è§£å‹ç¼©æ–‡ä»¶</span></span><br></pre></td></tr></table></figure></code></pre><h3 id="5-3-bzipæ ¼å¼"><a href="#5-3-bzipæ ¼å¼" class="headerlink" title="5.3 bzipæ ¼å¼"></a>5.3 bzipæ ¼å¼</h3><p>bzip ä¸èƒ½å‹ç¼©ç›®å½•</p><pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bzip2 æºæ–‡ä»¶ <span class="comment"># å‹ç¼©æ–‡ä»¶ æºæ–‡ä»¶ä¼šæ¶ˆå¤±</span></span><br><span class="line">bzip2 -k æºæ–‡ä»¶ <span class="comment"># å‹ç¼©å ä¿ç•™æºæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">bzip -d å‹ç¼©æ–‡ä»¶ <span class="comment"># è§£å‹bzip2æ–‡ä»¶</span></span><br><span class="line">bunbzip å‹ç¼©æ–‡ä»¶ <span class="comment"># è§£å‹æ–‡ä»¶</span></span><br></pre></td></tr></table></figure></code></pre><h3 id="5-4-tar-gz-tar-bz2"><a href="#5-4-tar-gz-tar-bz2" class="headerlink" title="5.4 tar.gz tar.bz2"></a>5.4 tar.gz tar.bz2</h3><pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf æ‰“åŒ…æ–‡ä»¶å æºæ–‡ä»¶ <span class="comment"># å‹ç¼©ä¸ºtaræ ¼å¼</span></span><br><span class="line">tar -zvcf å‹ç¼©åŒ…å.tar.gz æºæ–‡ä»¶ <span class="comment"># å‹ç¼©ä¸º.tar.gzæ ¼å¼</span></span><br><span class="line">tar -jvcf å‹ç¼©åŒ…å.tar.bz2 æºæ–‡ä»¶ <span class="comment"># å‹ç¼©ä¸º.tar.bz2æ ¼å¼</span></span><br><span class="line"><span class="comment"># -c æ‰“åŒ…</span></span><br><span class="line"><span class="comment"># -v æ˜¾ç¤ºè¿‡ç¨‹</span></span><br><span class="line"><span class="comment"># -f æŒ‡å®šæ‰“åŒ…åçš„æ–‡ä»¶å</span></span><br><span class="line"></span><br><span class="line">tar -xvf æ‰“åŒ…æ–‡ä»¶å <span class="comment"># è§£å‹taræ ¼å¼</span></span><br><span class="line">tar -zxvf å‹ç¼©åŒ…å.tar.gz <span class="comment"># è§£å‹.tar.gzæ ¼å¼</span></span><br><span class="line">tar -jxvf å‹ç¼©åŒ…å.tar.bz2 <span class="comment"># è§£å‹.tar.bz2æ ¼å¼</span></span><br><span class="line"><span class="comment"># -x è§£å‹åŒ…</span></span><br><span class="line"><span class="comment"># -z å‹ç¼©ä¸ºtar.gzæ ¼å¼</span></span><br><span class="line"><span class="comment"># -j å‹ç¼©ä¸º.tar.bz2æ ¼å¼</span></span><br></pre></td></tr></table></figure></code></pre><blockquote><p>å…¶ä»–ç”¨æ³•</p></blockquote><pre><code>1. æŒ‡å®šè§£å‹ä½ç½®tar -jxvfæ‰“åŒ…æ–‡ä»¶å -C ç»å¯¹è·¯å¾„2. åŒæ—¶å‹ç¼©å¤šä¸ªæ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„tar -zcvf ç»å¯¹è·¯å¾„ ï¼ˆ/tmp/ï¼‰ æ‰“åŒ…æ–‡ä»¶å æºæ–‡ä»¶ æºæ–‡ä»¶3. æŸ¥çœ‹å‹ç¼©åŒ…å†…æ–‡ä»¶ï¼Œä¸è§£å‹tar -ztvf å‹ç¼©åŒ…æ–‡ä»¶å<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tar â€“cvf jpg.tar *.jpg <span class="comment"># å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆtar.jpg</span></span><br><span class="line">tar â€“czf jpg.tar.gz *.jpg <span class="comment"># å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨gzipå‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªgzipå‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.gz</span></span><br><span class="line">tar â€“cjf jpg.tar.bz2 *.jpg <span class="comment"># å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨bzip2å‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªbzip2å‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.bz2</span></span><br><span class="line">tar â€“cZf jpg.tar.Z *.jpg <span class="comment"># å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨compresså‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªumcompresså‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.Z</span></span><br><span class="line">rar a jpg.rar *.jpg <span class="comment"># raræ ¼å¼çš„å‹ç¼©ï¼Œéœ€è¦å…ˆä¸‹è½½rar for linux</span></span><br><span class="line">zip jpg.zip *.jpg <span class="comment"># zipæ ¼å¼çš„å‹ç¼©ï¼Œéœ€è¦å…ˆä¸‹è½½zip for linux</span></span><br></pre></td></tr></table></figure></code></pre><p>è§£å‹</p><pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tar â€“xvf file.tar <span class="comment"># è§£å‹ taråŒ…</span></span><br><span class="line">tar -xzvf file.tar.gz <span class="comment"># è§£å‹tar.gz</span></span><br><span class="line">tar -xjvf file.tar.bz2 <span class="comment"># è§£å‹ tar.bz2</span></span><br><span class="line">tar â€“xZvf file.tar.Z <span class="comment"># è§£å‹tar.Z</span></span><br><span class="line">unrar e file.rar <span class="comment"># è§£å‹rar</span></span><br><span class="line">unzip file.zip <span class="comment"># è§£å‹zip</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre><h2 id="å…­ã€å…³æœºå’Œé‡å¯å‘½ä»¤"><a href="#å…­ã€å…³æœºå’Œé‡å¯å‘½ä»¤" class="headerlink" title="å…­ã€å…³æœºå’Œé‡å¯å‘½ä»¤"></a>å…­ã€å…³æœºå’Œé‡å¯å‘½ä»¤</h2><h3 id="6-1-å…³æœºå’Œé‡å¯"><a href="#6-1-å…³æœºå’Œé‡å¯" class="headerlink" title="6.1 å…³æœºå’Œé‡å¯"></a>6.1 å…³æœºå’Œé‡å¯</h3><blockquote><p>shutdown [é€‰é¡¹] æ—¶é—´</p></blockquote><pre><code>æ—¶é—´åé¢åŠ &quot;&amp;&quot;,è¡¨ç¤ºå°†å½“å‰è®¡åˆ’ä»»åŠ¡æ”¾ç½®åå°è¿è¡Œï¼è‹¥ä¸æ”¾ç½®ï¼Œå½“å‰ç•Œé¢ç›´åˆ°å…³æœº/é‡å¯éƒ½æ— æ³•è¿›è¡Œæ“ä½œã€‚è¿™æ—¶ï¼Œå¦‚æœå½“å‰ç”¨æˆ·æŒ‰ä¸‹ctrl+c ï¼Œå¯ä»¥å–æ¶ˆæœ¬æ¬¡å…³æœºæˆ–é‡å¯çš„æ“ä½œï¼›è€Œå…¶ä»–ç”¨æˆ·æŒ‰ä¸‹ctrl+cï¼Œä¸ä¼šå–æ¶ˆå…³æœºæˆ–é‡å¯ï¼Œä½†å¯ä»¥ä¸­æ–­é€€å‡ºï¼Œç»§ç»­å…¶ä»–æ“ä½œã€‚</code></pre><h4 id="é€‰é¡¹"><a href="#é€‰é¡¹" class="headerlink" title="é€‰é¡¹"></a>é€‰é¡¹</h4><pre><code>-h å…³æœº-r é‡å¯-c å–æ¶ˆä¸Šä¸€ä¸ªå…³æœºå‘½ä»¤</code></pre><h4 id="æ—¶é—´"><a href="#æ—¶é—´" class="headerlink" title="æ—¶é—´"></a>æ—¶é—´</h4><pre><code> now //ç°åœ¨ æ—¶: åˆ† // åé¢çš„æ—¶é—´å¯ä»¥ä½¿ç”¨[+m]æ ¼å¼ï¼Œè¡¨ç¤ºå¤šå°‘åˆ†é’Ÿåæ‰§è¡Œã€‚ ä¹Ÿå¯ä»¥ç”¨[hh:mm]æ ¼å¼ï¼Œè¡¨ç¤ºæŒ‡å®šçš„æ—¶é—´æ‰§è¡Œï¼Œè¯¥æ—¶é—´æ˜¯24å°æ—¶åˆ¶çš„</code></pre><h4 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4><pre><code>shutdown -h 05:30 è®¾å®šå‡Œæ™¨05:30å…³æœºshutdown -h now ç«‹å³å…³æœºshutdown -r 05:30 è®¾å®šå‡Œæ™¨05:30é‡å¯shutdown -r now ç«‹å³é‡å¯shutdown -c å–æ¶ˆå‰ä¸€ä¸ªå…³æœºæˆ–é‡å¯å‘½ä»¤</code></pre><h3 id="6-2-ç³»ç»Ÿè¿è¡Œçº§åˆ«"><a href="#6-2-ç³»ç»Ÿè¿è¡Œçº§åˆ«" class="headerlink" title="6.2 ç³»ç»Ÿè¿è¡Œçº§åˆ«"></a>6.2 ç³»ç»Ÿè¿è¡Œçº§åˆ«</h3><pre><code>runlevel æŸ¥çœ‹è¿è¡Œçº§åˆ« å‰çº§åˆ« å½“å‰çº§åˆ«logout æ³¨é”€0    //å…³æœº1    //å•ç”¨æˆ·(ç±»ä¼¼windowså®‰å…¨æ¨¡å¼ï¼‰2    //ä¸å®Œå…¨å¤šç”¨æˆ·ï¼Œä¸å«NFSæœåŠ¡ï¼ˆå­—ç¬¦ç•Œé¢ï¼Œä¸åŒ…å«æ–‡ä»¶å…±äº«æœåŠ¡ï¼‰3    //å®Œå…¨å¤šç”¨æˆ·ï¼ˆå­—ç¬¦ç•Œé¢ï¼‰4    //æœªåˆ†é…5    //å›¾å½¢ç•Œé¢6    //é‡å¯</code></pre><h2 id="ä¸ƒã€æŒ‚è½½ä¸å¸è½½å‘½ä»¤"><a href="#ä¸ƒã€æŒ‚è½½ä¸å¸è½½å‘½ä»¤" class="headerlink" title="ä¸ƒã€æŒ‚è½½ä¸å¸è½½å‘½ä»¤"></a>ä¸ƒã€æŒ‚è½½ä¸å¸è½½å‘½ä»¤</h2><h3 id="7-1-æŒ‚è½½-å¯ç†è§£ä¸ºåˆ†é…ç›˜ç¬¦"><a href="#7-1-æŒ‚è½½-å¯ç†è§£ä¸ºåˆ†é…ç›˜ç¬¦" class="headerlink" title="7.1 æŒ‚è½½(å¯ç†è§£ä¸ºåˆ†é…ç›˜ç¬¦)"></a>7.1 æŒ‚è½½(å¯ç†è§£ä¸ºåˆ†é…ç›˜ç¬¦)</h3><p>(1)æŸ¥è¯¢ä¸è‡ªåŠ¨æŒ‚è½½</p><p>mount æŸ¥è¯¢ç³»ç»Ÿä¸­å·²æŒ‚è½½çš„è®¾å¤‡<br>mount -a ä¾æ®é…ç½®æ–‡ä»¶/etc/fstabçš„å†…å®¹ï¼Œè‡ªåŠ¨æŒ‚è½½</p><p>å…‰ç›˜ Uç›˜ æ•°æ®ä¸å»ºè®®å†™å…¥è‡ªåŠ¨æŒ‚è½½</p><p>(2) æŒ‚è½½å‘½ä»¤çš„æ ¼å¼</p><blockquote><p>mount [-t æ–‡ä»¶ç³»ç»Ÿ] [-o ç‰¹æ®Šé€‰é¡¹][è®¾å¤‡æ–‡ä»¶å][æŒ‚è½½ç‚¹]</p></blockquote><h4 id="mounté€‰é¡¹"><a href="#mounté€‰é¡¹" class="headerlink" title="mounté€‰é¡¹"></a>mounté€‰é¡¹</h4><p>-t æ–‡ä»¶ç³»ç»Ÿï¼šåŠ å…¥æ–‡ä»¶ç³»ç»Ÿç±»å‹æ¥æŒ‡å®šæŒ‚è½½çš„ç±»å‹ï¼Œext3,ext4,å…‰ç›˜ï¼šiso9660ç­‰æ–‡ä»¶ç³»ç»Ÿ<br>-o ç‰¹æ®Šé€‰é¡¹ï¼šå¯ä»¥æŒ‡å®šæŒ‚è½½çš„é¢å¤–é€‰é¡¹</p><h2 id="7-2-æŒ‚è½½-å¸è½½å…‰ç›˜-æ²¡ç”¨äº†å§"><a href="#7-2-æŒ‚è½½-å¸è½½å…‰ç›˜-æ²¡ç”¨äº†å§" class="headerlink" title="7.2 æŒ‚è½½/å¸è½½å…‰ç›˜ æ²¡ç”¨äº†å§"></a>7.2 æŒ‚è½½/å¸è½½å…‰ç›˜ æ²¡ç”¨äº†å§</h2><h2 id="7-3-æŒ‚è½½Uç›˜"><a href="#7-3-æŒ‚è½½Uç›˜" class="headerlink" title="7.3 æŒ‚è½½Uç›˜"></a>7.3 æŒ‚è½½Uç›˜</h2><p>å…ˆçœ‹Uç›˜çš„è®¾å¤‡åï¼Œç„¶åå†æŒ‚è½½</p><p>fdisk -l //æŸ¥çœ‹ç³»ç»Ÿä¸­å·²ç»è¯†åˆ«çš„ç¡¬ç›˜</p><p>mount -t vfat /dev/sdb1 /mnt/usb/</p><p>æ³¨:</p><pre><code>vfat æŒ‡çš„æ˜¯fat32æ–‡ä»¶ç³»ç»Ÿï¼Œå•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡4GLinuxé»˜è®¤ä¸æ”¯æŒNTFSæ–‡ä»¶ç³»ç»Ÿï¼Œå¯ä»¥ä¸‹è½½ntfs-3gè½¯ä»¶å®‰è£…</code></pre><h2 id="å…«ã€ç”¨æˆ·ç™»å½•æŸ¥çœ‹å‘½ä»¤"><a href="#å…«ã€ç”¨æˆ·ç™»å½•æŸ¥çœ‹å‘½ä»¤" class="headerlink" title="å…«ã€ç”¨æˆ·ç™»å½•æŸ¥çœ‹å‘½ä»¤"></a>å…«ã€ç”¨æˆ·ç™»å½•æŸ¥çœ‹å‘½ä»¤</h2><h3 id="8-1-w"><a href="#8-1-w" class="headerlink" title="8.1 w"></a>8.1 w</h3><pre><code>æŸ¥çœ‹ç³»ç»Ÿå½“å‰ä¿¡æ¯(è´Ÿè½½å’Œå¼€æœºæ—¶é—´ç­‰ä¿¡æ¯) å½“å‰å·²ç»ç™»å½•çš„ç”¨æˆ·åŠç”¨ä»€ä¹ˆç»ˆç«¯è¿›å…¥ã€‚</code></pre><blockquote><p>load average: X.XX X.XX X.XX è¡¨ç¤ºç³»ç»Ÿåœ¨1åˆ†é’Ÿå†… 5åˆ†é’Ÿå†… 15åˆ†é’Ÿå†… çš„å¹³å‡è´Ÿè½½(CPUå†…å­˜)<br>USER: ç”¨æˆ·<br>TTY:ç™»å½•ç»ˆç«¯ pts/0 ç¬¬ä¸€ä¸ªè¿œç¨‹ç»ˆç«¯<br>LOGIN@: ç™»å½•æ—¶é—´<br>IDLE: ç”¨æˆ·é—²ç½®æ—¶é—´<br>JCPU: æŒ‡çš„æ˜¯å’Œè¯¥ç»ˆç«¯è¿æ¥çš„æ‰€æœ‰è¿›ç¨‹å ç”¨çš„æ—¶é—´ã€‚<br>PCPU: æŒ‡å½“å‰è¿›ç¨‹æ‰€å ç”¨çš„æ—¶é—´<br>WHAT: å½“å‰æ­£åœ¨è¿è¡Œçš„å‘½ä»¤</p></blockquote><h3 id="8-2-who-ä¸wç±»ä¼¼ï¼Œä½†ä¿¡æ¯æœ‰æ‰€ç®€åŒ–"><a href="#8-2-who-ä¸wç±»ä¼¼ï¼Œä½†ä¿¡æ¯æœ‰æ‰€ç®€åŒ–" class="headerlink" title="8.2 who ä¸wç±»ä¼¼ï¼Œä½†ä¿¡æ¯æœ‰æ‰€ç®€åŒ–"></a>8.2 who ä¸wç±»ä¼¼ï¼Œä½†ä¿¡æ¯æœ‰æ‰€ç®€åŒ–</h3><pre><code>ä¼šæ˜¾ç¤ºç™»å½•æ¥æºIPåœ°å€</code></pre><h3 id="8-3-last"><a href="#8-3-last" class="headerlink" title="8.3 last"></a>8.3 last</h3><pre><code>æŸ¥çœ‹å½“å‰ç™»å½•å’Œè¿‡å»ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯å¯ä»¥çœ‹åˆ°rebootæ—¶é—´ï¼Œå®é™…æ˜¯æŸ¥çœ‹/var/log/wtmpä½†å¿…é¡»ç”¨lastå‘½ä»¤æ‰èƒ½çœ‹</code></pre><h3 id="8-4-lastlog"><a href="#8-4-lastlog" class="headerlink" title="8.4 lastlog"></a>8.4 lastlog</h3><pre><code>æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·æœ€åä¸€æ¬¡ç™»å½•æ—¶é—´/var/log/lastlog ä¸èƒ½ç›´æ¥çœ‹ï¼Œä¹Ÿæ˜¯ç”¨lastlogçœ‹</code></pre><h2 id="ç¼–è¾‘å™¨"><a href="#ç¼–è¾‘å™¨" class="headerlink" title="ç¼–è¾‘å™¨"></a>ç¼–è¾‘å™¨</h2><ul><li>:w æŠ¥é”™</li><li>:q é€€å‡º</li><li>:! å¼ºåˆ¶ä¿å­˜</li><li>:ls åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶</li><li>:n ä¸‹ä¸€ä¸ª</li><li>:N ä¸Šä¸€ä¸ª</li><li>:15è·³è½¬åˆ°æŒ‡å®šè¡Œ</li><li>/xxx ä»å…‰æ ‡ä½ç½®å¼€å§‹å‘åæœç´¢ xxx å­—ç¬¦ä¸²</li><li>?xxx ä»å…‰æ ‡ä½ç½®å¼€å§‹å‘å‰æœç´¢</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javascriptè®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µ-è¯»ä¹¦ç¬”è®°</title>
      <link href="posts/Javascript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
      <url>posts/Javascript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>è¯»ã€ŠJavaScriptè®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹ç¬”è®°æ‘˜è¦</p><h2 id="è®¾è®¡æ¨¡å¼å®šä¹‰"><a href="#è®¾è®¡æ¨¡å¼å®šä¹‰" class="headerlink" title="è®¾è®¡æ¨¡å¼å®šä¹‰"></a>è®¾è®¡æ¨¡å¼å®šä¹‰</h2><p>è®¾è®¡æ¨¡å¼çš„å®šä¹‰ï¼šåœ¨é¢å‘å¯¹è±¡è½¯ä»¶è®¾è®¡è¿‡ç¨‹ä¸­é’ˆå¯¹ç‰¹å®šé—®é¢˜çš„ç®€æ´è€Œä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚<br>é€šä¿—çš„è¯´ï¼š<br>è®¾è®¡æ¨¡å¼æ˜¯åœ¨æŸç§åœºåˆä¸‹å¯¹æŸä¸ªé—®é¢˜çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚<br>è®¾è®¡æ¨¡å¼æ˜¯ç»™é¢å‘å¯¹è±¡è½¯ä»¶å¼€å‘ä¸­çš„ä¸€äº›å¥½çš„è®¾è®¡å–çš„åå­—ã€‚</p><p>åœ¨è½¯ä»¶è®¾è®¡ä¸­ï¼Œæ¨¡å¼æ˜¯ä¸€äº›ç»è¿‡äº†å¤§é‡å®é™…é¡¹ç›®éªŒè¯çš„ä¼˜ç§€è§£å†³æ–¹æ¡ˆã€‚<br>ç†Ÿæ‚‰è¿™äº›æ¨¡å¼ çš„ç¨‹åºå‘˜ï¼Œå¯¹æŸäº›æ¨¡å¼çš„ç†è§£ä¹Ÿè®¸å½¢æˆäº†æ¡ä»¶åå°„ã€‚å½“åˆé€‚çš„åœºæ™¯å‡ºç°æ—¶ï¼Œä»–ä»¬å¯ä»¥å¾ˆå¿«åœ°æ‰¾åˆ° æŸç§æ¨¡å¼ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚</p><a id="more"></a><h2 id="è®¾è®¡æ¨¡å¼çš„ä¸»é¢˜æ€»æ˜¯æŠŠä¸å˜çš„äº‹ç‰©å’Œå˜åŒ–çš„äº‹ç‰©åˆ†ç¦»å¼€"><a href="#è®¾è®¡æ¨¡å¼çš„ä¸»é¢˜æ€»æ˜¯æŠŠä¸å˜çš„äº‹ç‰©å’Œå˜åŒ–çš„äº‹ç‰©åˆ†ç¦»å¼€" class="headerlink" title="è®¾è®¡æ¨¡å¼çš„ä¸»é¢˜æ€»æ˜¯æŠŠä¸å˜çš„äº‹ç‰©å’Œå˜åŒ–çš„äº‹ç‰©åˆ†ç¦»å¼€"></a>è®¾è®¡æ¨¡å¼çš„ä¸»é¢˜æ€»æ˜¯æŠŠä¸å˜çš„äº‹ç‰©å’Œå˜åŒ–çš„äº‹ç‰©åˆ†ç¦»å¼€</h2><h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><p>è®©äººä»¬å†™å‡ºå¯å¤ç”¨å’Œå¯ç»´æŠ¤æ€§é«˜çš„ç¨‹åº.</p><p>æ‰€æœ‰è®¾è®¡æ¨¡å¼éƒ½éµå¾ªä¸€æ¡åŸåˆ™ï¼Œå³â€™æ‰¾å‡ºç¨‹åºä¸­å˜åŒ–çš„åœ°æ–¹ï¼Œå¹¶å°†å˜åŒ–å°è£…èµ·æ¥â€™ã€‚<br>ä¸€ä¸ªç¨‹åºçš„è®¾è®¡æ€»æ˜¯å¯ä»¥åˆ†ä¸ºå¯å˜çš„éƒ¨åˆ†å’Œä¸å˜çš„éƒ¨åˆ†ã€‚å½“æˆ‘ä»¬æ‰¾å‡ºå¯å˜çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”æŠŠè¿™äº›éƒ¨ åˆ†å°è£…èµ·æ¥ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å°±æ˜¯ä¸å˜å’Œç¨³å®šçš„éƒ¨åˆ†ã€‚<br>è¿™äº›ä¸å˜å’Œç¨³å®šçš„éƒ¨åˆ†æ˜¯éå¸¸å®¹æ˜“å¤ç”¨çš„ã€‚è¿™ ä¹Ÿæ˜¯è®¾è®¡æ¨¡å¼ä¸ºä»€ä¹ˆæå†™çš„æ˜¯å¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶åŸºç¡€çš„åŸå› ã€‚</p><p>è®¾è®¡æ¨¡å¼è¢«äººè¯¯è§£çš„ä¸€ä¸ªé‡è¦åŸå› æ˜¯äººä»¬å¯¹å®ƒçš„è¯¯ç”¨å’Œæ»¥ç”¨ï¼Œæ¯”å¦‚å°†ä¸€äº›æ¨¡å¼ç”¨åœ¨äº†é”™è¯¯çš„ åœºæ™¯ä¸­ï¼Œæˆ–è€…è¯´åœ¨ä¸è¯¥ä½¿ç”¨æ¨¡å¼çš„åœ°æ–¹åˆ»æ„ä½¿ç”¨æ¨¡å¼ã€‚</p><h2 id="åˆ†è¾¨æ¨¡å¼çš„å…³é”®æ˜¯æ„å›¾è€Œä¸æ˜¯ç»“æ„"><a href="#åˆ†è¾¨æ¨¡å¼çš„å…³é”®æ˜¯æ„å›¾è€Œä¸æ˜¯ç»“æ„" class="headerlink" title="åˆ†è¾¨æ¨¡å¼çš„å…³é”®æ˜¯æ„å›¾è€Œä¸æ˜¯ç»“æ„"></a>åˆ†è¾¨æ¨¡å¼çš„å…³é”®æ˜¯æ„å›¾è€Œä¸æ˜¯ç»“æ„</h2><p>åœ¨è®¾è®¡æ¨¡å¼çš„å­¦ä¹ ä¸­ï¼Œæœ‰äººç»å¸¸å‘å‡ºè¿™æ ·çš„ç–‘é—®:<br>ä»£ç†æ¨¡å¼å’Œè£…é¥°è€…æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼å’ŒçŠ¶æ€ æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼å’Œæ™ºèƒ½å‘½ä»¤æ¨¡å¼ï¼Œè¿™äº›æ¨¡å¼çš„ç±»å›¾çœ‹èµ·æ¥å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œå®ƒä»¬åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«?</p><p>è¾¨åˆ«æ¨¡å¼çš„å…³é”®æ˜¯è¿™ä¸ªæ¨¡å¼å‡ºç°çš„åœºæ™¯ï¼Œä»¥åŠä¸ºæˆ‘ä»¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€‚</p><h2 id="å¯¹JavaScriptè®¾è®¡æ¨¡å¼çš„è¯¯è§£"><a href="#å¯¹JavaScriptè®¾è®¡æ¨¡å¼çš„è¯¯è§£" class="headerlink" title="å¯¹JavaScriptè®¾è®¡æ¨¡å¼çš„è¯¯è§£"></a>å¯¹JavaScriptè®¾è®¡æ¨¡å¼çš„è¯¯è§£</h2><p>ä¸€äº›èµ„æ–™ä¸­å¯¹JavaScriptæ¨¡å¼å­˜åœ¨çš„ä¸¤ä¸ªé—®é¢˜:</p><ol><li><p>ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ä¹ æƒ¯æŠŠé™æ€ç±»å‹è¯­è¨€çš„è®¾è®¡æ¨¡å¼ç…§æ¬åˆ°JavaScriptä¸­.</p><p> æ¯”å¦‚æœ‰äººä¸ºäº†æ¨¡æ‹Ÿ JavaScriptç‰ˆæœ¬çš„å·¥å‚æ–¹æ³•(Factory Method)æ¨¡å¼ï¼Œè€Œç”Ÿç¡¬åœ°æŠŠåˆ›å»ºå¯¹è±¡çš„æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚<br> å®é™…ä¸Šï¼Œåœ¨Javaç­‰é™æ€ç±»å‹è¯­è¨€ä¸­ï¼Œè®©å­ç±»æ¥â€œå†³å®šâ€åˆ›å»ºä½•ç§å¯¹è±¡çš„åŸå› æ˜¯ä¸ºäº†è®©ç¨‹åºè¿åˆä¾èµ–å€’ç½®åŸåˆ™(DIP)ã€‚<br> åœ¨è¿™äº›è¯­è¨€ä¸­åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå…ˆè§£å¼€å¯¹è±¡ç±»å‹ä¹‹é—´çš„è€¦åˆå…³ç³»éå¸¸é‡è¦ï¼Œè¿™æ ·æ‰æœ‰æœºä¼šåœ¨å°†æ¥è®©å¯¹è±¡è¡¨ç°å‡ºå¤šæ€æ€§ã€‚<br> è€Œåœ¨JavaScriptè¿™ç§ç±»å‹æ¨¡ç³Šçš„è¯­è¨€ä¸­ï¼Œå¯¹è±¡å¤šæ€æ€§æ˜¯å¤©ç”Ÿçš„ï¼Œä¸€ä¸ªå˜é‡æ—¢å¯ä»¥æŒ‡å‘ä¸€ä¸ªç±»ï¼Œåˆå¯ä»¥éšæ—¶æŒ‡å‘å¦å¤–ä¸€ä¸ªç±»ã€‚<br> JavaScriptä¸å­˜åœ¨ç±»å‹è€¦åˆçš„é—®é¢˜ï¼Œè‡ªç„¶ä¹Ÿæ²¡æœ‰å¿…è¦åˆ»æ„å»æŠŠå¯¹è±¡â€œå»¶è¿Ÿâ€åˆ°å­ç±»åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaScriptå®é™…ä¸Šæ˜¯ä¸éœ€è¦å·¥å‚æ–¹æ³•æ¨¡å¼çš„ã€‚<br> æ¨¡å¼çš„å­˜åœ¨é¦–å…ˆæ˜¯èƒ½ä¸ºæˆ‘ä»¬è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œè¿™ç§ç‰µå¼ºçš„æ¨¡æ‹Ÿåªä¼šè®©äººè§‰å¾—è®¾è®¡æ¨¡å¼æ—¢éš¾æ‡‚åˆæ²¡ä»€ä¹ˆç”¨å¤„ã€‚</p></li><li><p>å¦ä¸€ä¸ªé—®é¢˜æ˜¯ä¹ æƒ¯æ ¹æ®æ¨¡å¼çš„åå­—å»è‡†æµ‹è¯¥æ¨¡å¼çš„ä¸€åˆ‡ã€‚</p><p> æ¯”å¦‚å‘½ä»¤æ¨¡å¼æœ¬æ„æ˜¯æŠŠè¯·æ±‚å°è£…åˆ°å¯¹è±¡ä¸­ï¼Œåˆ©ç”¨å‘½ä»¤æ¨¡å¼å¯ä»¥è§£å¼€è¯·æ±‚å‘é€è€…å’Œè¯·æ±‚æ¥å—è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚<br> ä½†å‘½ä»¤æ¨¡å¼ç»å¸¸è¢«äººè¯¯è§£ä¸ºåªæ˜¯ä¸€ä¸ªåä¸ºexecuteçš„æ™®é€šæ–¹æ³•è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•é™¤äº†å«ä½œexecuteä¹‹å¤–ï¼Œå…¶å®å¹¶æ²¡æœ‰çœ‹å‡ºå…¶ä»–ç”¨å¤„ã€‚<br> æ‰€ä»¥è®¸å¤šäººä¼šè¯¯ä¼šå‘½ä»¤æ¨¡å¼çš„æ„å›¾ï¼Œä»¥ä¸ºå®ƒå…¶å®æ²¡ä»€ä¹ˆç”¨å¤„ï¼Œä»è€Œè”æƒ³åˆ°å…¶ä»–è®¾è®¡æ¨¡å¼ ä¹Ÿæ²¡æœ‰ç”¨å¤„ã€‚</p></li></ol><p>è¿™äº›è¯¯è§£éƒ½å½±å“äº†è®¾è®¡æ¨¡å¼åœ¨JavaScriptè¯­è¨€ä¸­çš„å‘å±•ã€‚</p><p>JavaScriptä¸­çš„åŸå‹ç»§æ‰¿</p><ol><li><p>æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å¯¹è±¡</p></li><li><p>è¦å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯é€šè¿‡å®ä¾‹åŒ–ç±»ï¼Œè€Œæ˜¯æ‰¾åˆ°ä¸€ä¸ªå¯¹è±¡ä½œä¸ºåŸå‹å¹¶å…‹éš†å®ƒ<br> JavaScriptçš„æ ¹å¯¹è±¡æ˜¯Object.prototypeå¯¹è±¡ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(obj1) === <span class="built_in">Object</span>.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(obj2) === <span class="built_in">Object</span>.prototype); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li><li><p>JavaScriptå¯¹è±¡ä¼šè®°ä½å®ƒçš„åŸå‹</p></li><li><p>å¦‚æœå¯¹è±¡æ— æ³•å“åº”æŸä¸ªè¯·æ±‚ï¼Œå®ƒä¼šæŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™å®ƒçš„æ„é€ å™¨çš„åŸå‹</p></li></ol><h2 id="å·¥å‚æ¨¡å¼åˆ—è¡¨"><a href="#å·¥å‚æ¨¡å¼åˆ—è¡¨" class="headerlink" title="å·¥å‚æ¨¡å¼åˆ—è¡¨"></a>å·¥å‚æ¨¡å¼åˆ—è¡¨</h2><ol><li>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factoryï¼‰<br> å®šä¹‰: æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— éœ€åˆ¶å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚<br> æœ¬è´¨: é€‰æ‹©äº§å“ç°‡çš„å®ç°ã€‚</li><li>ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilderï¼‰<br> å®šä¹‰: å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚<br> æœ¬è´¨ï¼š<pre><code> åˆ†ç¦»æ•´ä½“æ„å»ºç®—æ³•å’Œéƒ¨ä»¶æ„é€ ã€‚ ç”Ÿæˆå™¨æ¨¡å¼çš„é‡å¿ƒåœ¨äºåˆ†ç¦»æ•´ä½“æ„å»ºç®—æ³•å’Œéƒ¨ä»¶æ„é€ ï¼Œè€Œåˆ†æ­¥éª¤æ„å»ºå¯¹è±¡ä¸è¿‡æ˜¯æ•´ä½“æ„å»ºç®—æ³•çš„ä¸€ä¸ªç®€å•å®ç°ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªé™„å¸¦äº§ç‰©ã€‚</code></pre></li></ol><p>ç”Ÿæˆå™¨æ¨¡å¼ä¸æŠ½è±¡å·¥å‚æ¨¡å¼</p><p>è¿™ä¸¤ä¸ªæ¨¡å¼æ—¢ç›¸ä¼¼åˆæœ‰åŒºåˆ«ï¼Œä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ã€‚<br>    åŒºåˆ«ï¼šæŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯åˆ›å»ºäº§å“ç°‡ï¼Œè¿™ä¸ªäº§å“ç°‡é‡Œé¢çš„å•ä¸ªäº§å“å°±ç›¸å½“äºæ˜¯æ„æˆä¸€ä¸ªå¤æ‚å¯¹è±¡çš„éƒ¨ä»¶å¯¹è±¡ï¼ŒæŠ½è±¡å·¥å‚å¯¹è±¡åˆ›å»ºå®Œæˆåå°±ç«‹å³è¿”å›æ•´ä¸ªäº§å“ç°‡ï¼›è€Œç”Ÿæˆå™¨æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯æŒ‰ç…§æ„é€ ç®—æ³•ï¼Œä¸€æ­¥ä¸€æ­¥æ¥æ„å»ºä¸€ä¸ªå¤æ‚çš„äº§å“å¯¹è±¡ï¼Œæ¡åŸè¦ç­‰åˆ°æ•´ä¸ªæ„å»ºè¿‡ç¨‹ç»“æŸä»¥åæ²¡æ‰ä¼šå¾—åˆ°æœ€ç»ˆçš„äº§å“å¯¹è±¡ã€‚</p><p>ç»„åˆä½¿ç”¨ï¼šåœ¨ç”Ÿæˆå™¨æ¨¡å¼çš„Builderå®ç°ä¸­ï¼Œéœ€è¦åˆ›å»ºå„ä¸ªéƒ¨ä»¶å¯¹è±¡ï¼Œè€Œè¿™äº›éƒ¨ä»¶å¯¹è±¡æ˜¯æœ‰å…³è”çš„ï¼Œé€šå¸¸æ˜¯æ„æˆä¸€ä¸ªå¤æ‚å¯¹è±¡çš„éƒ¨ä»¶å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒBuilderå®ç°ä¸­ï¼Œéœ€è¦è·å–æ„æˆä¸€ä¸ªå¤æ‚å¯¹è±¡çš„äº§å“ç°‡ï¼Œå°±å¯ä»¥ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼æ¥å®ç°ã€‚æœ‰æŠ½è±¡å·¥å‚æ¨¡å¼è´Ÿè´£éƒ¨ä»¶å¯¹è±¡åˆ›å»ºï¼ŒBuilderå®ç°é‡Œé¢åˆ™ä¸»è¦è´Ÿè´£äº§å“å¯¹è±¡æ•´ä½“çš„æ„å»ºäº†ã€‚</p><h2 id="ç­–ç•¥æ¨¡å¼"><a href="#ç­–ç•¥æ¨¡å¼" class="headerlink" title="ç­–ç•¥æ¨¡å¼"></a>ç­–ç•¥æ¨¡å¼</h2><p>ç­–ç•¥æ¨¡å¼æŒ‡çš„æ˜¯å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ã€‚å°†ä¸å˜çš„éƒ¨åˆ†å’Œå˜åŒ–çš„éƒ¨åˆ†éš”å¼€æ˜¯æ¯ä¸ªè®¾è®¡æ¨¡å¼çš„ä¸»é¢˜ï¼Œç­–ç•¥æ¨¡å¼ä¹Ÿä¸ä¾‹å¤–ï¼Œç­–ç•¥æ¨¡å¼çš„ç›®çš„å°±æ˜¯å°†ç®—æ³•çš„ä½¿ç”¨ä¸ç®—æ³•çš„å®ç°åˆ†ç¦»å¼€æ¥ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> strategies = &#123;</span><br><span class="line">    <span class="string">&quot;S&quot;</span>: <span class="function"><span class="keyword">function</span>(<span class="params"> salary </span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> salary * <span class="number">4</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;A&quot;</span>: <span class="function"><span class="keyword">function</span>(<span class="params"> salary </span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> salary * <span class="number">3</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;B&quot;</span>: <span class="function"><span class="keyword">function</span>(<span class="params"> salary </span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> salary * <span class="number">2</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="keyword">var</span> calculateBonus = <span class="function"><span class="keyword">function</span>(<span class="params">level, salary</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> strategies[level](salary);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(calculateBonus(<span class="string">&#x27;S&#x27;</span>, <span class="number">20000</span>));</span><br><span class="line"><span class="built_in">console</span>.log(calculateBonus(<span class="string">&#x27;A&#x27;</span>, <span class="number">10000</span>));</span><br><span class="line"><span class="comment">// è¾“å‡º:80000 // è¾“å‡º:30000</span></span><br></pre></td></tr></table></figure><h2 id="å‘å¸ƒ-è®¢é˜…æ¨¡å¼"><a href="#å‘å¸ƒ-è®¢é˜…æ¨¡å¼" class="headerlink" title="å‘å¸ƒ-è®¢é˜…æ¨¡å¼"></a>å‘å¸ƒ-è®¢é˜…æ¨¡å¼</h2><p>å‘å¸ƒâ€”è®¢é˜…æ¨¡å¼åˆå«è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå®ƒå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ã€‚<br>åœ¨ JavaScript å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨äº‹ä»¶æ¨¡å‹æ¥æ›¿ä»£ä¼ ç»Ÿçš„å‘å¸ƒâ€”è®¢é˜…æ¨¡å¼ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><p>ä¸€ä¸ºæ—¶é—´ä¸Šçš„è§£è€¦<br>äºŒä¸ºå¯¹è±¡ä¹‹é—´çš„è§£è€¦ã€‚<br>è¿˜å¯ä»¥ç”¨æ¥å¸®åŠ©å®ç°ä¸€äº›åˆ«çš„è®¾è®¡æ¨¡å¼ï¼Œæ¯”å¦‚ä¸­ä»‹è€…æ¨¡å¼ã€‚</p><p>ç¼ºç‚¹:</p><p>åˆ›å»ºè®¢é˜…è€…æœ¬èº«è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´å’Œå†…å­˜.<br>å‘å¸ƒâ€”è®¢é˜…æ¨¡å¼è™½ç„¶å¯ä»¥å¼±åŒ–å¯¹è±¡ä¹‹é—´çš„è”ç³»ï¼Œä½†å¦‚æœè¿‡åº¦ä½¿ç”¨çš„è¯ï¼Œå¯¹è±¡å’Œå¯¹è±¡ä¹‹é—´çš„å¿…è¦è”ç³»ä¹Ÿå°†è¢«æ·±åŸ‹åœ¨èƒŒåï¼Œä¼šå¯¼è‡´ç¨‹åºéš¾ä»¥è·Ÿè¸ªç»´æŠ¤å’Œç†è§£ã€‚<br>ç‰¹åˆ«æ˜¯æœ‰å¤šä¸ªå‘å¸ƒè€…å’Œè®¢é˜…è€…åµŒå¥—åˆ°ä¸€ èµ·çš„æ—¶å€™ï¼Œè¦è·Ÿè¸ªä¸€ä¸ª bug ä¸æ˜¯ä»¶è½»æ¾çš„äº‹æƒ…ã€‚</p><h2 id="ç»„åˆæ¨¡å¼"><a href="#ç»„åˆæ¨¡å¼" class="headerlink" title="ç»„åˆæ¨¡å¼"></a>ç»„åˆæ¨¡å¼</h2><p>ç»„åˆæ¨¡å¼: ç”¨å°çš„å­å¯¹è±¡æ¥æ„å»ºæ›´å¤§çš„å¯¹è±¡ï¼Œè€Œè¿™äº›å°çš„å­å¯¹è±¡æœ¬èº«ä¹Ÿè®¸æ˜¯ç”±æ›´ å°çš„â€œå­™å¯¹è±¡â€æ„æˆçš„ã€‚</p><p>ç»„åˆå¯¹è±¡å’Œå¶å¯¹è±¡ä¼šå„è‡ªåšè‡ªå·±æ­£ç¡®çš„äº‹æƒ…ã€‚â€“ç»„åˆæ¨¡å¼æœ€é‡è¦çš„èƒ½åŠ›</p><p>ä½¿ç”¨åœºæ™¯ï¼š<br>    1. ä»£è¡¨å¯¹è±¡çš„éƒ¨åˆ†-æ•´ä½“å±‚æ¬¡ç»“æ„ã€‚<br>    2. å¯¹æ ‘ä¸­æ‰€æœ‰å¯¹è±¡ç»Ÿä¸€å¯¹å¾…</p><p>ç»„åˆæ¨¡å¼å¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨æ ‘å½¢æ–¹å¼åˆ›å»ºå¯¹è±¡çš„ç»“æ„ï¼ŒæŠŠç›¸åŒçš„æ“ä½œåº”ç”¨åœ¨ç»„åˆå¯¹è±¡å’Œå•ä¸ªå¯¹è±¡ä¸Šã€‚å¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥å¿½ç•¥æ‰ä¸¤è€…çš„å·®åˆ«ï¼Œç”¨ä¸€è‡´çš„æ–¹å¼æ¥å¤„ç†ã€‚</p><p>ç¼ºç‚¹ï¼š</p><p>æ¯ä¸ªå¯¹è±¡çœ‹ä½ èµ·æ¥ä¸å…¶ä»–å¯¹è±¡å·®ä¸å¤šï¼Œä½†åŒºåˆ«ä¼šåœ¨è¿è¡Œæ—¶æ˜¾ç°å‡ºæ¥ï¼Œä¼šè®©ä»£ç éš¾ä»¥ç†è§£ï¼›<br>    å¦‚æœç»„åˆæ¨¡å¼åˆ›å»ºçš„å¯¹è±¡å¤ªå¤šï¼Œå¯èƒ½è®©ç³»ç»Ÿè´Ÿæ‹…ä¸èµ·ã€‚</p><h2 id="æ¨¡æ¿æ–¹æ³•æ¨¡å¼-Template-Method"><a href="#æ¨¡æ¿æ–¹æ³•æ¨¡å¼-Template-Method" class="headerlink" title="æ¨¡æ¿æ–¹æ³•æ¨¡å¼(Template Method)"></a>æ¨¡æ¿æ–¹æ³•æ¨¡å¼(Template Method)</h2><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§åªéœ€ä½¿ç”¨ç»§æ‰¿å°±å¯ä»¥å®ç°çš„éå¸¸ç®€å•çš„æ¨¡å¼ã€‚</p><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç”±ä¸¤éƒ¨åˆ†ç»“æ„ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æŠ½è±¡çˆ¶ç±»ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å…·ä½“çš„å®ç°å­ç±»ã€‚<br>é€šå¸¸ åœ¨æŠ½è±¡çˆ¶ç±»ä¸­å°è£…äº†å­ç±»çš„ç®—æ³•æ¡†æ¶ï¼ŒåŒ…æ‹¬å®ç°ä¸€äº›å…¬å…±æ–¹æ³•ä»¥åŠå°è£…å­ç±»ä¸­æ‰€æœ‰æ–¹æ³•çš„æ‰§è¡Œé¡ºåºã€‚<br>å­ç±»é€šè¿‡ç»§æ‰¿è¿™ä¸ªæŠ½è±¡ç±»ï¼Œä¹Ÿç»§æ‰¿äº†æ•´ä¸ªç®—æ³•ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚</p><p>å¦‚æœå­ç±»æœªå®ç°çˆ¶ç±»è¦æ±‚å®ç°çš„æ–¹æ³•ï¼Œå¯ä»¥<code>throw new Error(&#39;å­ç±»å¿…é¡»é‡å†™xxxæ–¹æ³•&#39;)</code>æ¥åšæ£€æŸ¥ã€‚</p><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§å…¸å‹çš„é€šè¿‡å°è£…å˜åŒ–æé«˜ç³»ç»Ÿæ‰©å±•æ€§çš„è®¾è®¡æ¨¡å¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> brew = param.brew || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>( <span class="string">&#x27;å¿…é¡»ä¼ é€’ brew æ–¹æ³•&#x27;</span> );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼å¸¸è¢«æ¶æ„å¸ˆç”¨äºæ­å»ºé¡¹ç›®çš„æ¡†æ¶ï¼Œæ¶æ„å¸ˆå®šå¥½äº†æ¡†æ¶çš„éª¨æ¶ï¼Œ ç¨‹åºå‘˜ç»§æ‰¿æ¡†æ¶çš„ç»“æ„ä¹‹åï¼Œè´Ÿè´£å¾€é‡Œé¢å¡«ç©ºï¼Œ</p><p>é’©å­æ–¹æ³•(hook)ç”¨æ¥è§£å†³ä¸€äº›ç‰¹æ®Šçš„å­ç±»ï¼Œä¸ç¬¦åˆçˆ¶ç±»çš„æ‰§è¡Œé¡ºåºç­‰ã€‚</p><h2 id="äº«å…ƒæ¨¡å¼-flyweight"><a href="#äº«å…ƒæ¨¡å¼-flyweight" class="headerlink" title="äº«å…ƒæ¨¡å¼(flyweight)"></a>äº«å…ƒæ¨¡å¼(flyweight)</h2><p>æ˜¯ä¸€ç§ç”¨æ—¶é—´æ¢ç©ºé—´çš„ä¼˜åŒ–æ¨¡å¼ï¼Œä¸ºè§£å†³æ€§èƒ½è€Œç”Ÿ</p><p>æ ¸å¿ƒ: è¿ç”¨å…±äº«æŠ€æœ¯æ¥æœ‰æ•ˆæ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡</p><p>ç›®æ ‡: å°½é‡å‡å°‘å…±äº«å¯¹è±¡çš„æ•°é‡</p><p>äº«å…ƒæ¨¡å¼è¦æ±‚å°†å¯¹è±¡çš„å±æ€§åˆ†ä¸ºå†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€ã€‚åˆ’åˆ†å†…å¤–éƒ¨çŠ¶æ€è§„åˆ™ï¼š</p><ul><li>å†…éƒ¨çŠ¶æ€å­˜å‚¨äºå¯¹è±¡å†…éƒ¨</li><li>å†…éƒ¨çŠ¶æ€å¯ä»¥è¢«ä¸€äº›å¯¹è±¡å…±äº«</li><li>å†…éƒ¨çŠ¶æ€ç‹¬ç«‹äºå…·ä½“çš„åœºæ™¯ï¼Œé€šå¸¸ä¸ä¼šå˜</li><li>å¤–éƒ¨çŠ¶æ€å–å†³äºå…·ä½“çš„åœºæ™¯ï¼Œæ ¹æ®åœºæ™¯è€Œå˜ï¼Œå¤–éƒ¨çŠ¶æ€ä¸èƒ½å…±äº«</li></ul><p>ä½¿ç”¨åœºæ™¯ï¼š</p><ul><li>ä¸€ä¸ªç¨‹åºä¸­ä½¿ç”¨äº†å¤§é‡çš„ç›¸ä¼¼å¯¹è±¡</li><li>ç”±äºä½¿ç”¨äº†å¤§é‡çš„ç›¸ä¼¼å¯¹è±¡ï¼Œé€ æˆå¾ˆå¤§çš„å†…å­˜å¼€é”€</li><li>å¯¹è±¡çš„å¤§å¤šæ•°çŠ¶æ€éƒ½å¯ä»¥å˜ä¸ºå¤–éƒ¨çŠ¶æ€</li><li>å‰¥ç¦»å‡ºå¯¹è±¡çš„å¤–éƒ¨çŠ¶æ€åï¼Œå¯ä»¥ç”¨ç›¸å¯¹è¾ƒå°‘çš„å…±äº«å¯¹è±¡å–ä»£å¤§é‡å¯¹è±¡</li></ul><p>æ€è€ƒï¼š</p><p>åˆ›å»ºå‡ºçš„å…±äº«å¯¹è±¡åœ¨æ¯æ¬¡ç»‘å®šäº‹ä»¶åä¼šæ‰§è¡Œè‡ªå·±çš„ç»‘å®šæ—¶é—´è¿˜æ˜¯ä¼šè¦†ç›–</p><h2 id="èŒè´£é“¾æ¨¡å¼"><a href="#èŒè´£é“¾æ¨¡å¼" class="headerlink" title="èŒè´£é“¾æ¨¡å¼"></a>èŒè´£é“¾æ¨¡å¼</h2><p>å®šä¹‰: ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œå°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œ<br>è¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚</p><p>æŠŠå¤§å‡½æ•°æ‹†æˆå°å‡½æ•°ï¼Œå»æ‰è®¸å¤šåµŒå¥—çš„æ¡ä»¶åˆ†æ”¯è¯­å¥</p><p>æ­¤å¤– Chain çš„ prototype ä¸­è¿˜æœ‰ä¸¤ä¸ªå‡½æ•°ï¼Œå®ƒä»¬çš„ä½œç”¨å¦‚ä¸‹æ‰€ç¤º: // Chain.prototype.setNextSuccessor æŒ‡å®šåœ¨é“¾ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹<br>// Chain.prototype.passRequest ä¼ é€’è¯·æ±‚ç»™æŸä¸ªèŠ‚ç‚¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Chain = <span class="function"><span class="keyword">function</span>(<span class="params"> fn </span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.fn = fn;</span><br><span class="line">    <span class="built_in">this</span>.successor = <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br><span class="line">Chain.prototype.setNextSuccessor = <span class="function"><span class="keyword">function</span>(<span class="params"> successor </span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.successor = successor;</span><br><span class="line">&#125;;</span><br><span class="line">Chain.prototype.passRequest = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ret = <span class="built_in">this</span>.fn.apply( <span class="built_in">this</span>, <span class="built_in">arguments</span> );</span><br><span class="line">    <span class="keyword">if</span> ( ret === <span class="string">&#x27;nextSuccessor&#x27;</span> )&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.successor &amp;&amp; <span class="built_in">this</span>.successor.passRequest.apply( <span class="built_in">this</span>.successor, <span class="built_in">arguments</span> );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">var</span> chainOrder500 = <span class="keyword">new</span> Chain( order500 );</span><br><span class="line"><span class="keyword">var</span> chainOrder200 = <span class="keyword">new</span> Chain( order200 );</span><br><span class="line"><span class="keyword">var</span> chainOrderNormal = <span class="keyword">new</span> Chain( orderNormal );</span><br><span class="line"></span><br><span class="line">chainOrder500.setNextSuccessor( chainOrder200 );</span><br><span class="line">chainOrder200.setNextSuccessor( chainOrderNormal);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼š</p><ul><li><p>è§£è€¦äº†è¯·æ±‚å‘é€è€…å’ŒNä¸ªæ¥æ”¶è€…ä¹‹é—´çš„å¤æ‚å…³ç³»</p></li><li><p>é“¾ä¸­çš„èŠ‚ç‚¹å¯ä»¥çµæ´»çš„æ‹†åˆ†é‡ç»„</p></li><li><p>å¯ä»¥æ‰‹åŠ¨æŒ‡å®šèµ·å§‹èŠ‚ç‚¹</p></li><li><p>å¯ä»¥åœ¨é“¾å°¾å¢åŠ ä¸€ä¸ªä¿åº•çš„æ¥å—è€…èŠ‚ç‚¹å¤„ç†å‰é¢æ— æ³•å¤„ç†çš„è¯·æ±‚</p></li></ul><p>è¦é¿å…è¿‡é•¿çš„èŒè´£é“¾å¸¦æ¥çš„æ€§èƒ½æŸè€—</p><h2 id="ä¸­ä»‹è€…æ¨¡å¼"><a href="#ä¸­ä»‹è€…æ¨¡å¼" class="headerlink" title="ä¸­ä»‹è€…æ¨¡å¼"></a>ä¸­ä»‹è€…æ¨¡å¼</h2><p>é€šè¿‡å¢åŠ ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ï¼Œæ‰€æœ‰ç›¸å…³çš„å¯¹è±¡éƒ½é€šè¿‡ä¸­ä»‹è€…æ¥é€šä¿¡ï¼Œè€Œä¸æ˜¯äº’ç›¸å¼•ç”¨ã€‚å½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œåªéœ€é€šçŸ¥ä¸­ä»‹è€…ã€‚</p><p>ä½¿ç½‘çŠ¶çš„å¤šå¯¹å¤šå…³ç³»å˜æˆç›¸å¯¹ç®€å•çš„ä¸€å¯¹å¤šå…³ç³»</p><p><strong>ä½œç”¨</strong><br>    è§£é™¤å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„ç´§è€¦åˆå…³ç³»ã€‚</p><p><strong>ç¼ºç‚¹</strong><br>    ç³»ç»Ÿä¼šå¢åŠ ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ã€‚å¯¹è±¡ä¹‹é—´å¤æ‚çš„äº¤äº’æ€§ï¼Œè½¬ç§»æˆäº†ä¸­ä»‹è€…å¯¹è±¡çš„å¤æ‚æ€§ï¼Œä½¿å¾—ä¸­ä»‹è€…å¯¹è±¡ç»å¸¸æ˜¯å·¨å¤§çš„ã€‚ä¸­ä»‹è€…å¯¹è±¡è‡ªèº«å°±æ˜¯ä¸€ä¸ªéš¾ä»¥ç»´æŠ¤çš„å¯¹è±¡ã€‚</p><p><strong>æ€»ç»“</strong><br>ä¸­ä»‹è€…æ¨¡å¼å¯ä»¥éå¸¸æ–¹ä¾¿åœ°å¯¹æ¨¡å—æˆ–è€…å¯¹è±¡è¿›è¡Œè§£è€¦ï¼Œä½†å¯¹è±¡ä¹‹é—´å¹¶éä¸€å®šéœ€è¦è§£è€¦ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ¨¡å—æˆ–å¯¹è±¡ä¹‹é—´æœ‰ä¸€äº›ä¾èµ–å…³ç³»æ˜¯å¾ˆæ­£å¸¸çš„ã€‚æ¯•ç«Ÿæˆ‘ä»¬å†™ç¨‹åºæ˜¯ä¸ºäº†å¿«é€Ÿå®Œæˆé¡¹ç›®äº¤ä»˜ç”Ÿäº§ï¼Œè€Œä¸æ˜¯å †ç Œæ¨¡å¼å’Œè¿‡åº¦è®¾è®¡ã€‚å…³é”®å°±åœ¨äºå¦‚ä½•å»è¡¡é‡å¯¹è±¡ä¹‹é—´çš„è€¦åˆç¨‹åº¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœå¯¹è±¡ä¹‹é—´çš„å¤æ‚è€¦åˆç¡®å®å¯¼è‡´è°ƒç”¨å’Œç»´æŠ¤å‡ºç°äº†å›°éš¾ï¼Œè€Œä¸”è¿™äº›è€¦åˆåº¦éšé¡¹ç›®çš„å˜åŒ–å‘ˆæŒ‡æ•°å¢é•¿æ›²çº¿ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ç”¨ä¸­ä»‹è€…æ¨¡å¼æ¥é‡æ„ä»£ç ã€‚</p><h2 id="è£…é¥°è€…æ¨¡å¼"><a href="#è£…é¥°è€…æ¨¡å¼" class="headerlink" title="è£…é¥°è€…æ¨¡å¼"></a>è£…é¥°è€…æ¨¡å¼</h2><p>åŠ¨æ€çš„ç»™æŸä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œè€Œä¸ä¼šå½±å“è¿™ä¸ªç±»ä¸­æ´¾ç”Ÿçš„å…¶ä»–å¯¹è±¡ã€‚</p><p>è£…é¥°è€…èƒ½å¤Ÿåœ¨ä¸æ”¹å˜å¯¹è±¡è‡ªèº«çš„åŸºç¡€ä¸Šï¼Œåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç»™å¯¹è±¡åŠ¨æ€çš„æ·»åŠ èŒè´£ã€‚</p><p>ä¼ ç»Ÿè¯­è¨€ä¸­ï¼Œç»™å¯¹è±¡æ·»åŠ åŠŸèƒ½å¸¸ç”¨ç»§æ‰¿æ–¹å¼ï¼Œä½†ç»§æ‰¿ä¼šå¸¦æ¥ä»¥ä¸‹é—®é¢˜:<br>    1. å¯¼è‡´å­ç±»å’Œè¶…ç±»ä¹‹é—´å­˜åœ¨å¼ºè€¦åˆæ€§ï¼Œ è¶…ç±»æ”¹å˜ï¼Œå­ç±»ä¹Ÿéšä¹‹æ”¹å˜<br>    2. ç»§æ‰¿çš„å¤ç”¨æ–¹å¼æ˜¯ç™½ç®±å¤ç”¨ï¼Œè¶…ç±»çš„å†…éƒ¨ç»†èŠ‚å¯¹å­ç±»å¯è§ã€‚ç»§æ‰¿å¸¸å¸¸è¢«è®¤ä¸ºç ´åäº†å°è£…æ€§ã€‚<br>    3. å®ŒæˆåŠŸèƒ½å¤ç”¨æ—¶ï¼Œæœ‰å¯èƒ½åˆ›é€ å‡ºå¤§é‡çš„å­ç±»ã€‚</p><p>è£…é¥°è€…æ¨¡å¼è·Ÿç»§æ‰¿è€…æ¨¡å¼ç›¸æ¯”æ›´è½»ä¾¿çµæ´»ã€‚</p><p>ä»£ç†è€…æ¨¡å¼å’Œè£…é¥°è€…æ¨¡å¼åŒºåˆ«</p><p>åœ¨äºä»–ä»¬çš„æ„å›¾å’Œè®¾è®¡ç›®çš„</p><p>ä»£ç†æ¨¡å¼çš„ç›®çš„æ˜¯ç›´æ¥è®¿é—®æœ¬ä½“ä¸æ–¹ä¾¿æˆ–ä¸éœ€è¦æ—¶ï¼Œæä¾›ä¸€ä¸ªæ›¿ä»£è€…ï¼Œæœ¬ä½“å®šä¹‰äº†å…³é”®åŠŸèƒ½ã€‚ä»£ç†è€…æ¨¡å¼å¼ºè°ƒä¸€ç§å…³ç³»(proxyå’Œå®ƒæœ¬ä½“ä¹‹é—´çš„å…³ç³»), è¿™ç§å…³ç³»å¯ä»¥é™æ€çš„è¡¨è¾¾ã€‚è¿™ç§å…³ç³»ä¸€å¼€å§‹å°±å¯ä»¥ç¡®å®šã€‚<br>è€Œè£…é¥°å™¨æ¨¡å¼ç”¨äºä¸€å¼€å§‹ä¸èƒ½ç¡®å®šå¯¹è±¡çš„å…¨éƒ¨åŠŸèƒ½æ—¶ã€‚</p><p>ä»£ç†æ¨¡å¼é€šå¸¸åªæœ‰ä¸€å±‚ä»£ç†-æœ¬ä½“çš„å¼•ç”¨ï¼Œè£…é¥°è€…æ¨¡å¼ä¼šå½¢æˆä¸€æ¡é•¿é•¿çš„é“¾æ¡ã€‚</p><h2 id="çŠ¶æ€æ¨¡å¼"><a href="#çŠ¶æ€æ¨¡å¼" class="headerlink" title="çŠ¶æ€æ¨¡å¼"></a>çŠ¶æ€æ¨¡å¼</h2><p><strong>å®šä¹‰</strong><br>å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚</p><p>æˆ‘ä»¬ä»¥é€—å·åˆ†å‰²ï¼ŒæŠŠè¿™å¥è¯åˆ†ä¸ºä¸¤éƒ¨åˆ†æ¥çœ‹ã€‚ç¬¬ä¸€éƒ¨åˆ†çš„æ„æ€æ˜¯å°†çŠ¶æ€å°è£…æˆç‹¬ç«‹çš„ç±»ï¼Œå¹¶å°†è¯·æ±‚å§”æ‰˜ç»™å½“å‰çš„çŠ¶æ€å¯¹è±¡ï¼Œå½“å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œä¼šå¸¦æ¥ä¸åŒçš„è¡Œä¸ºå˜åŒ–ã€‚<br>ç¬¬äºŒéƒ¨åˆ†æ˜¯ä»å®¢æˆ·çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„å¯¹è±¡ï¼Œåœ¨ä¸åŒçš„çŠ¶æ€ä¸‹å…·æœ‰æˆªç„¶ä¸åŒçš„è¡Œä¸ºï¼Œè¿™ ä¸ªå¯¹è±¡çœ‹èµ·æ¥æ˜¯ä»ä¸åŒçš„ç±»ä¸­å®ä¾‹åŒ–è€Œæ¥çš„ï¼Œå®é™…ä¸Šè¿™æ˜¯ä½¿ç”¨äº†å§”æ‰˜çš„æ•ˆæœã€‚</p><p>çŠ¶æ€æ¨¡å¼çš„å…³é”®æ˜¯åŒºåˆ†äº‹ç‰©å†…éƒ¨çš„çŠ¶æ€ï¼Œäº‹ç‰©å†…éƒ¨çŠ¶æ€çš„æ”¹å˜ï¼Œå¾€å¾€ä¼šå¸¦æ¥äº‹ç‰©è¡Œä¸ºçš„æ”¹å˜ã€‚</p><p>æŠŠäº‹ç‰©çš„æ¯ä¸ªçŠ¶æ€éƒ½å°è£…æˆå•ç‹¬çš„ç±»ï¼Œè·Ÿæ­¤ç§çŠ¶æ€æœ‰å…³çš„è¡Œä¸ºéƒ½å°è£…åœ¨è¿™ä¸ªç±»çš„å†…éƒ¨ã€‚<br>è¦ä¿®æ”¹æ—¶ï¼ŒæŠŠè¯·æ±‚å§”æ‰˜ç»™å½“å‰çš„çŠ¶æ€å¯¹è±¡å³å¯ï¼Œè¯¥çŠ¶æ€å¯¹è±¡è´Ÿè´£æ‰§è¡Œç›¸åº”çš„æ–¹æ³•ã€‚</p><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>çŠ¶æ€æ¨¡å¼å®šä¹‰äº†çŠ¶æ€ä¸è¡Œä¸ºä¹‹é—´çš„å…³ç³»ï¼Œå¹¶å°†å®ƒä»¬å°è£…åœ¨ä¸€ä¸ªç±»é‡Œã€‚é€šè¿‡å¢åŠ æ–°çš„çŠ¶æ€ç±»ï¼Œå¾ˆå®¹æ˜“å¢åŠ æ–°çš„çŠ¶æ€å’Œè½¬æ¢ã€‚</li><li>é¿å… Context æ— é™è†¨èƒ€ï¼ŒçŠ¶æ€åˆ‡æ¢çš„é€»è¾‘è¢«åˆ†å¸ƒåœ¨çŠ¶æ€ç±»ä¸­ï¼Œä¹Ÿå»æ‰äº† Context ä¸­åŸæœ¬è¿‡ 5 å¤šçš„æ¡ä»¶åˆ†æ”¯ã€‚</li><li>ç”¨å¯¹è±¡ä»£æ›¿å­—ç¬¦ä¸²æ¥è®°å½•å½“å‰çŠ¶æ€ï¼Œä½¿å¾—çŠ¶æ€çš„åˆ‡æ¢æ›´åŠ ä¸€ç›®äº†ç„¶ã€‚</li><li>Context ä¸­çš„è¯·æ±‚åŠ¨ä½œå’ŒçŠ¶æ€ç±»ä¸­å°è£…çš„è¡Œä¸ºå¯ä»¥éå¸¸å®¹æ˜“åœ°ç‹¬ç«‹å˜åŒ–è€Œäº’ä¸å½±å“ã€‚</li></ul><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><p>ä¼šåœ¨ç³»ç»Ÿä¸­å®šä¹‰è®¸å¤šçŠ¶æ€ç±»ï¼Œç³»ç»Ÿä¸­ä¼šå› æ­¤è€Œå¢åŠ ä¸å°‘å¯¹è±¡ã€‚å¦å¤–ï¼Œç”±äºé€»è¾‘åˆ†æ•£åœ¨çŠ¶æ€ç±»ä¸­ï¼Œè™½ç„¶é¿å¼€äº†ä¸å—æ¬¢è¿çš„æ¡ä»¶åˆ†æ”¯è¯­å¥ï¼Œä½†ä¹Ÿé€ æˆäº†é€»è¾‘åˆ†æ•£çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ— æ³•åœ¨ä¸€ä¸ªåœ°æ–¹å°±çœ‹å‡ºæ•´ä¸ªçŠ¶æ€æœºçš„é€»è¾‘ã€‚</p><h3 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h3><p>ç®¡ç† state å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ã€‚</p><p>ç¬¬ä¸€ç§æ˜¯ä»…å½“ state å¯¹è±¡è¢«éœ€è¦æ—¶æ‰åˆ›å»ºå¹¶éšåé”€æ¯ï¼Œ<br>å¦ä¸€ç§æ˜¯ä¸€å¼€å§‹å°±åˆ›å»ºå¥½æ‰€æœ‰çš„çŠ¶æ€å¯¹è±¡ï¼Œå¹¶ä¸”å§‹ç»ˆä¸é”€æ¯å®ƒä»¬ã€‚<br>å¦‚æœ state å¯¹è±¡æ¯”è¾ƒåºå¤§ï¼Œå¯ä»¥ç”¨ç¬¬ä¸€ç§æ–¹å¼æ¥èŠ‚çœå†…å­˜ï¼Œ<br>è¿™æ ·å¯ä»¥é¿å…åˆ›å»ºä¸€äº›ä¸ä¼šç”¨åˆ°çš„å¯¹è±¡å¹¶åŠæ—¶åœ°å›æ”¶å®ƒä»¬ã€‚</p><h3 id="çŠ¶æ€æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼åŒºåˆ«"><a href="#çŠ¶æ€æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼åŒºåˆ«" class="headerlink" title="çŠ¶æ€æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼åŒºåˆ«"></a>çŠ¶æ€æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼åŒºåˆ«</h3><p>ç›¸åŒç‚¹</p><p>å®ƒä»¬éƒ½æœ‰ä¸€ä¸ªä¸Šä¸‹æ–‡ã€ä¸€äº›ç­–ç•¥æˆ–è€…çŠ¶æ€ç±»ï¼Œä¸Šä¸‹æ–‡æŠŠè¯·æ±‚å§”æ‰˜ç»™è¿™äº›ç±»æ¥æ‰§è¡Œã€‚</p><p>åŒºåˆ«</p><p>ç­–ç•¥æ¨¡å¼ä¸­çš„å„ä¸ªç­–ç•¥ç±»ä¹‹é—´æ˜¯å¹³ç­‰åˆå¹³è¡Œçš„ï¼Œå®ƒä»¬ä¹‹é—´æ²¡æœ‰ä»»ä½•è”ç³»ï¼Œ æ‰€ä»¥å®¢æˆ·å¿…é¡»ç†ŸçŸ¥è¿™äº›ç­–ç•¥ç±»çš„ä½œç”¨ï¼Œä»¥ä¾¿å®¢æˆ·å¯ä»¥éšæ—¶ä¸»åŠ¨åˆ‡æ¢ç®—æ³•;è€Œåœ¨çŠ¶æ€æ¨¡å¼ä¸­ï¼ŒçŠ¶æ€å’ŒçŠ¶æ€å¯¹åº”çš„è¡Œä¸ºæ˜¯æ—©å·²è¢«å°è£…å¥½çš„ï¼ŒçŠ¶æ€ä¹‹é—´çš„åˆ‡æ¢ä¹Ÿæ—©è¢«è§„å®šå®Œæˆï¼Œâ€œæ”¹å˜è¡Œä¸ºâ€è¿™ä»¶äº‹æƒ…å‘ç”Ÿåœ¨çŠ¶æ€æ¨¡å¼å†…éƒ¨ã€‚å¯¹å®¢æˆ·æ¥è¯´ï¼Œå¹¶ä¸éœ€è¦äº†è§£è¿™äº›ç»†èŠ‚ã€‚è¿™æ­£æ˜¯çŠ¶æ€æ¨¡å¼çš„ä½œç”¨æ‰€åœ¨ã€‚</p><h2 id="é€‚é…å™¨æ¨¡å¼"><a href="#é€‚é…å™¨æ¨¡å¼" class="headerlink" title="é€‚é…å™¨æ¨¡å¼"></a>é€‚é…å™¨æ¨¡å¼</h2><p>å½“æˆ‘ä»¬è¯•å›¾è°ƒç”¨æ¨¡å—æˆ–è€…å¯¹è±¡çš„æŸä¸ªæ¥å£æ—¶ï¼Œå´å‘ç°è¿™ä¸ªæ¥å£çš„æ ¼å¼å¹¶ä¸ç¬¦åˆç›®å‰çš„éœ€æ±‚ã€‚<br>ä¸¤ç§è§£å†³åŠæ³•ï¼Œç¬¬ä¸€ç§æ˜¯ä¿®æ”¹åŸæ¥çš„æ¥å£å®ç°ã€‚<br>ç¬¬äºŒç§åŠæ³•æ˜¯åˆ›å»ºä¸€ä¸ªé€‚é…å™¨ï¼Œå°†åŸæ¥å£è½¬æ¢ä¸ºå®¢æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œå®¢æˆ·åªéœ€è¦å’Œé€‚é…å™¨æ‰“äº¤é“ã€‚</p><h3 id="é€‚é…å™¨ä½œç”¨"><a href="#é€‚é…å™¨ä½œç”¨" class="headerlink" title="é€‚é…å™¨ä½œç”¨"></a>é€‚é…å™¨ä½œç”¨</h3><p>è§£å†³ä¸¤ä¸ªè½¯ä»¶é—´çš„æ¥å£ä¸å…¼å®¹çš„é—®é¢˜ã€‚</p><h3 id="é€‚é…å™¨å’Œå…¶ä»–æ¨¡å¼çš„åŒºåˆ«"><a href="#é€‚é…å™¨å’Œå…¶ä»–æ¨¡å¼çš„åŒºåˆ«" class="headerlink" title="é€‚é…å™¨å’Œå…¶ä»–æ¨¡å¼çš„åŒºåˆ«"></a>é€‚é…å™¨å’Œå…¶ä»–æ¨¡å¼çš„åŒºåˆ«</h3><p>å…³é”®ä»ç„¶æ˜¯æ¨¡å¼çš„æ„å›¾</p><ul><li>é€‚é…å™¨æ¨¡å¼ä¸»è¦ç”¨æ¥è§£å†³ä¸¤ä¸ªå·²æœ‰æ¥å£ä¹‹é—´ä¸åŒ¹é…çš„é—®é¢˜ï¼Œå®ƒä¸è€ƒè™‘è¿™äº›æ¥å£æ˜¯æ€æ ·å®ç°çš„ï¼Œä¹Ÿä¸è€ƒè™‘å®ƒä»¬å°†æ¥å¯èƒ½ä¼šå¦‚ä½•æ¼”åŒ–ã€‚é€‚é…å™¨æ¨¡å¼ä¸éœ€è¦æ”¹å˜å·²æœ‰çš„æ¥å£ï¼Œå°±èƒ½å¤Ÿä½¿å®ƒä»¬ååŒä½œç”¨ã€‚</li><li>è£…é¥°è€…æ¨¡å¼å’Œä»£ç†æ¨¡å¼ä¹Ÿä¸ä¼šæ”¹å˜åŸæœ‰å¯¹è±¡çš„æ¥å£ï¼Œä½†è£…é¥°è€…æ¨¡å¼çš„ä½œç”¨æ˜¯ä¸ºäº†ç»™å¯¹è±¡å¢åŠ åŠŸèƒ½ã€‚è£…é¥°è€…æ¨¡å¼å¸¸å¸¸å½¢æˆä¸€æ¡é•¿çš„è£…é¥°é“¾ï¼Œè€Œé€‚é…å™¨æ¨¡å¼é€šå¸¸åªåŒ…è£…ä¸€æ¬¡ã€‚ä»£ç†æ¨¡å¼æ˜¯ä¸ºäº†æ§åˆ¶å¯¹å¯¹è±¡çš„è®¿é—®ï¼Œé€šå¸¸ä¹ŸåªåŒ…è£…ä¸€æ¬¡ã€‚</li><li>å¤–è§‚æ¨¡å¼çš„ä½œç”¨å€’æ˜¯å’Œé€‚é…å™¨æ¯”è¾ƒç›¸ä¼¼ï¼Œæœ‰äººæŠŠå¤–è§‚æ¨¡å¼çœ‹æˆä¸€ç»„å¯¹è±¡çš„é€‚é…å™¨ï¼Œä½†å¤– è§‚æ¨¡å¼æœ€æ˜¾è‘—çš„ç‰¹ç‚¹æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„æ¥å£ã€‚</li></ul><h2 id="è®¾è®¡åŸåˆ™å’Œç¼–ç¨‹æŠ€å·§"><a href="#è®¾è®¡åŸåˆ™å’Œç¼–ç¨‹æŠ€å·§" class="headerlink" title="è®¾è®¡åŸåˆ™å’Œç¼–ç¨‹æŠ€å·§"></a>è®¾è®¡åŸåˆ™å’Œç¼–ç¨‹æŠ€å·§</h2><h2 id="å•ä¸€èŒè´£åŸåˆ™SRP-Single-Responsibility-Principle"><a href="#å•ä¸€èŒè´£åŸåˆ™SRP-Single-Responsibility-Principle" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™SRP(Single Responsibility Principle)"></a>å•ä¸€èŒè´£åŸåˆ™SRP(Single Responsibility Principle)</h2><p>ä¸€ä¸ªå¯¹è±¡(æ–¹æ³•)åªåšä¸€ä»¶äº‹æƒ…ã€‚</p><p>SRP åŸåˆ™åœ¨å¾ˆå¤šè®¾è®¡æ¨¡å¼ä¸­éƒ½æœ‰ç€å¹¿æ³›çš„è¿ç”¨ï¼Œä¾‹å¦‚ä»£ç†æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€å•ä¾‹æ¨¡å¼å’Œè£…é¥°è€…æ¨¡å¼ã€‚</p><p>è¦æ˜ç¡®çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„èŒè´£éƒ½åº”è¯¥ä¸€ä¸€åˆ†ç¦»ã€‚<br>ä¸€æ–¹é¢ï¼Œå¦‚æœéšç€éœ€æ±‚çš„å˜åŒ–ï¼Œæœ‰ä¸¤ä¸ªèŒè´£æ€»æ˜¯åŒæ—¶å˜åŒ–ï¼Œé‚£å°±ä¸å¿…åˆ†ç¦»ä»–ä»¬ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼ŒèŒè´£çš„å˜åŒ–è½´çº¿ä»…å½“å®ƒä»¬ç¡®å®šä¼šå‘ç”Ÿå˜åŒ–æ—¶æ‰å…·æœ‰æ„ä¹‰ï¼Œå³ä½¿ä¸¤ä¸ªèŒè´£å·²ç»è¢«è€¦åˆåœ¨ä¸€èµ·ï¼Œä½†å®ƒä»¬è¿˜æ²¡æœ‰å‘ç”Ÿæ”¹å˜çš„å¾å…†ï¼Œé‚£ä¹ˆä¹Ÿè®¸æ²¡æœ‰å¿…è¦ä¸»åŠ¨åˆ†ç¦»å®ƒä»¬ï¼Œåœ¨ä»£ç éœ€è¦é‡æ„çš„æ—¶å€™å†è¿›è¡Œåˆ†ç¦»ä¹Ÿä¸è¿Ÿã€‚</p><p>åœ¨æ–¹ä¾¿æ€§ä¸ç¨³å®šæ€§ä¹‹é—´è¦æœ‰ä¸€äº›å–èˆã€‚å…·ä½“æ˜¯é€‰æ‹©æ–¹ä¾¿æ€§è¿˜æ˜¯ç¨³å®šæ€§ï¼Œå¹¶æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œè€Œ æ˜¯è¦å–å†³äºå…·ä½“çš„åº”ç”¨ç¯å¢ƒã€‚</p><h3 id="SRP-åŸåˆ™çš„ä¼˜ç¼ºç‚¹"><a href="#SRP-åŸåˆ™çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="SRP åŸåˆ™çš„ä¼˜ç¼ºç‚¹"></a>SRP åŸåˆ™çš„ä¼˜ç¼ºç‚¹</h3><p>ä¼˜ç‚¹</p><p>é™ä½äº†å•ä¸ªç±»æˆ–è€…å¯¹è±¡çš„å¤æ‚åº¦ï¼ŒæŒ‰ç…§èŒè´£æŠŠå¯¹è±¡åˆ†è§£æˆæ›´å°çš„ç²’åº¦ï¼Œ è¿™æœ‰åŠ©äºä»£ç çš„å¤ç”¨ï¼Œä¹Ÿæœ‰åˆ©äºè¿›è¡Œå•å…ƒæµ‹è¯•ã€‚å½“ä¸€ä¸ªèŒè´£éœ€è¦å˜æ›´çš„æ—¶å€™ï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»–çš„èŒè´£ã€‚</p><p>ç¼ºç‚¹</p><p>æœ€æ˜æ˜¾çš„æ˜¯ä¼šå¢åŠ ç¼–å†™ä»£ç çš„å¤æ‚åº¦ã€‚å½“æˆ‘ä»¬æŒ‰ç…§èŒè´£æŠŠå¯¹è±¡åˆ†è§£æˆæ›´å°çš„ç²’åº¦ä¹‹åï¼Œå®é™…ä¸Šä¹Ÿå¢å¤§äº†è¿™äº›å¯¹è±¡ä¹‹é—´ç›¸äº’è”ç³»çš„éš¾åº¦ã€‚</p><h2 id="æœ€å°‘çŸ¥è¯†åŸåˆ™-LKP"><a href="#æœ€å°‘çŸ¥è¯†åŸåˆ™-LKP" class="headerlink" title="æœ€å°‘çŸ¥è¯†åŸåˆ™(LKP)"></a>æœ€å°‘çŸ¥è¯†åŸåˆ™(LKP)</h2><p>ä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å°½å¯èƒ½å°‘åœ°ä¸å…¶ä»–å®ä½“å‘ç”Ÿç›¸äº’ä½œç”¨ã€‚</p><p>ä¾‹å¦‚ï¼šä¸­ä»‹è€…æ¨¡å¼å’Œå¤–è§‚æ¨¡å¼ã€‚</p><p>ç»ˆç»“è€…æ¨¡å¼ï¼šé€šè¿‡å¢åŠ ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ï¼Œè®©æ‰€æœ‰çš„ç›¸å…³å¯¹è±¡éƒ½é€šè¿‡ä¸­ä»‹è€…å¯¹è±¡æ¥é€šä¿¡ï¼Œè€Œä¸æ˜¯äº’ç›¸å¼•ç”¨ã€‚</p><p>å¤–è§‚æ¨¡å¼ï¼šä¸ºä¸€ç»„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•ä¾¿åˆ©çš„è®¿é—®å…¥å£, éš”ç¦»å®¢æˆ·ä¸å¤æ‚å­ç³»ç»Ÿä¹‹é—´çš„è”ç³»ï¼Œå®¢æˆ·ä¸ç”¨å»äº†è§£å­ç³»ç»Ÿçš„ç»†èŠ‚ã€‚</p><p>å°è£…ï¼šå°è£…åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šè¡¨è¾¾çš„æ˜¯æ•°æ®çš„éšè—ã€‚ä¸€ä¸ªæ¨¡å—æˆ–è€…å¯¹è±¡å¯ä»¥å°†å†…éƒ¨çš„æ•°æ®æˆ–è€…å®ç°ç»†èŠ‚éšè—èµ·æ¥ï¼Œåªæš´éœ²å¿…è¦çš„æ¥å£ API ä¾›å¤–ç•Œè®¿é—®ã€‚å¯¹è±¡ä¹‹é—´éš¾å…äº§ç”Ÿè”ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»å¼•ç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è®©å¯¹è±¡åªæš´éœ²å¿…è¦çš„æ¥å£ï¼Œè®©å¯¹è±¡ä¹‹é—´çš„è”ç³»é™åˆ¶åœ¨æœ€å°çš„èŒƒå›´ä¹‹å†…ã€‚</p><p>è™½ç„¶éµå®ˆæœ€å°çŸ¥è¯†åŸåˆ™å‡å°‘äº†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½å¢åŠ ä¸€äº›åºå¤§åˆ°éš¾ ä»¥ç»´æŠ¤çš„ç¬¬ä¸‰è€…å¯¹è±¡ã€‚è·Ÿå•ä¸€èŒè´£åŸåˆ™ä¸€æ ·ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæ˜¯å¦é€‰æ‹©è®©ä»£ç ç¬¦åˆæœ€å°‘çŸ¥è¯†åŸåˆ™ï¼Œ è¦æ ¹æ®å…·ä½“çš„ç¯å¢ƒæ¥å®šã€‚</p><h2 id="å¼€æ”¾å°é—­åŸåˆ™-OCP"><a href="#å¼€æ”¾å°é—­åŸåˆ™-OCP" class="headerlink" title="å¼€æ”¾å°é—­åŸåˆ™(OCP)"></a>å¼€æ”¾å°é—­åŸåˆ™(OCP)</h2><p>å½“éœ€è¦æ”¹å˜ä¸€ä¸ªç¨‹åºçš„åŠŸèƒ½æˆ–è€…ç»™è¿™ä¸ªç¨‹åºå¢åŠ æ–°åŠŸ èƒ½çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å¢åŠ ä»£ç çš„æ–¹å¼ï¼Œä½†æ˜¯ä¸å…è®¸æ”¹åŠ¨ç¨‹åºçš„æºä»£ç ã€‚</p><h3 id="ç”¨å¯¹è±¡çš„å¤šæ€æ€§æ¶ˆé™¤æ¡ä»¶åˆ†æ”¯"><a href="#ç”¨å¯¹è±¡çš„å¤šæ€æ€§æ¶ˆé™¤æ¡ä»¶åˆ†æ”¯" class="headerlink" title="ç”¨å¯¹è±¡çš„å¤šæ€æ€§æ¶ˆé™¤æ¡ä»¶åˆ†æ”¯"></a>ç”¨å¯¹è±¡çš„å¤šæ€æ€§æ¶ˆé™¤æ¡ä»¶åˆ†æ”¯</h3><p>è¿‡å¤šçš„æ¡ä»¶åˆ†æ”¯è¯­å¥æ˜¯é€ æˆç¨‹åºè¿åå¼€æ”¾ï€­å°é—­åŸåˆ™çš„ä¸€ä¸ªå¸¸è§åŸå› ã€‚æ¯å½“éœ€è¦å¢åŠ ä¸€ä¸ªæ–°çš„ if è¯­å¥æ—¶ï¼Œéƒ½è¦è¢«è¿«æ”¹åŠ¨åŸå‡½æ•°ã€‚æŠŠ if æ¢æˆ switch-case æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œè¿™æ˜¯ä¸€ç§æ¢æ±¤ä¸æ¢è¯çš„åšæ³•ã€‚å®é™…ä¸Šï¼Œæ¯å½“æˆ‘ä»¬çœ‹åˆ°ä¸€å¤§ç‰‡çš„ if æˆ–è€… swtich-case è¯­å¥æ—¶ï¼Œç¬¬ä¸€æ—¶é—´å°±åº”è¯¥è€ƒè™‘ï¼Œèƒ½å¦åˆ©ç”¨å¯¹è±¡çš„å¤šæ€æ€§æ¥é‡æ„å®ƒä»¬ã€‚</p><p>åˆ©ç”¨å¯¹è±¡çš„å¤šæ€æ€§æ¥è®©ç¨‹åºéµå®ˆå¼€æ”¾ï€­å°é—­åŸåˆ™ï¼Œæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æŠ€å·§ã€‚</p><p>æ‰¾åˆ°ä¸€äº›è®©ç¨‹åºå°½é‡éµå®ˆå¼€æ”¾ï€­å°é—­åŸåˆ™çš„è§„å¾‹ï¼Œæœ€æ˜æ˜¾çš„å°±æ˜¯æ‰¾å‡ºç¨‹åºä¸­å°†è¦å‘ç”Ÿå˜åŒ–çš„åœ°æ–¹ï¼Œç„¶åæŠŠå˜åŒ–å°è£…èµ·æ¥ã€‚</p><h3 id="å…¶ä»–æ–¹å¼"><a href="#å…¶ä»–æ–¹å¼" class="headerlink" title="å…¶ä»–æ–¹å¼"></a>å…¶ä»–æ–¹å¼</h3><ol><li><p>æ”¾ç½®æŒ‚é’©(hook)<br> åœ¨ç¨‹åºæœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–çš„åœ°æ–¹æ”¾ç½®æŒ‚é’©ï¼ŒæŒ‚é’©è¿”å›çš„ç»“æœå†³å®šç¨‹åºä¸‹ä¸€æ­¥èµ°å‘ã€‚</p></li><li><p>ä½¿ç”¨å›è°ƒå‡½æ•°<br> ç­–ç•¥æ¨¡å¼å’Œå‘½ä»¤æ¨¡å¼ç­‰éƒ½å¯ä»¥ç”¨å›è°ƒå‡½æ•°è½»æ¾å®ç°ã€‚</p></li></ol><!-- TODO --><h2 id="ä»£ç é‡æ„"><a href="#ä»£ç é‡æ„" class="headerlink" title="ä»£ç é‡æ„"></a>ä»£ç é‡æ„</h2><ol><li><p>æç‚¼å‡½æ•°<br>å‡½æ•°è¦æœ‰è‰¯å¥½çš„å‘½åï¼Œå‡½æ•°ä½“å†…åŒ…å«çš„é€»è¾‘æ¸…æ™°æ˜äº†ã€‚<br>å¥½å¤„</p><ul><li>é¿å…å‡ºç°è¶…å¤§å‡½æ•°ã€‚</li><li>ç‹¬ç«‹å‡ºæ¥çš„å‡½æ•°æœ‰åŠ©äºä»£ç å¤ç”¨ã€‚</li><li>ç‹¬ç«‹å‡ºæ¥çš„å‡½æ•°æ›´å®¹æ˜“è¢«è¦†å†™ã€‚</li><li>ç‹¬ç«‹å‡ºæ¥çš„å‡½æ•°å¦‚æœæ‹¥æœ‰ä¸€ä¸ªè‰¯å¥½çš„å‘½åï¼Œå®ƒæœ¬èº«å°±èµ·åˆ°äº†æ³¨é‡Šçš„ä½œç”¨ã€‚</li></ul></li><li><p>åˆå¹¶é‡å¤çš„æ¡ä»¶ç‰‡æ®µ</p></li><li><p>æŠŠæ¡ä»¶åˆ†æ”¯è¯­å¥æç‚¼æˆå‡½æ•°</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ( date.getMonth() &gt;= <span class="number">6</span> &amp;&amp; date.getMonth() &lt;= <span class="number">9</span> )&#123; <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æç‚¼å‡ºæ¥</span></span><br><span class="line"><span class="keyword">var</span> isSummer = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="keyword">return</span> date.getMonth() &gt;= <span class="number">6</span> &amp;&amp; date.getMonth() &lt;= <span class="number">9</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (isSummer) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åˆç†ä½¿ç”¨å¾ªç¯</p></li><li><p>æå‰è®©å‡½æ•°é€€å‡ºä»£æ›¿åµŒå¥—æ¡ä»¶åˆ†æ”¯</p></li><li><p>ä¼ é€’å¯¹è±¡å‚æ•°ä»£æ›¿è¿‡é•¿çš„å‚æ•°åˆ—è¡¨<br>å¯ä»¥æŠŠå‚æ•°éƒ½æ”¾å…¥ä¸€ä¸ªå¯¹è±¡å†…</p></li><li><p>å°½é‡å‡å°‘å‚æ•°æ•°é‡</p></li><li><p>å°‘ç”¨ä¸‰ç›®è¿ç®—ç¬¦</p></li><li><p>å°‘ç”¨ä¸‰ç›®è¿ç®—ç¬¦</p></li><li><p>åˆ†è§£å¤§å‹ç±»</p></li><li><p>ç”¨returné€€å‡ºå¤šé‡å¾ªç¯</p></li></ol><p><a href="https://www.cnblogs.com/tugenhua0707/p/5198407.html">é“¾æ¥</a></p><h2 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h2><p>ç®€å•çš„å·¥å‚æ¨¡å¼å¯ä»¥ç†è§£ä¸ºè§£å†³å¤šä¸ªç›¸ä¼¼çš„é—®é¢˜;</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CreatePerson</span>(<span class="params">name,age,sex</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    obj.name = name;</span><br><span class="line">    obj.age = age;</span><br><span class="line">    obj.sex = sex;</span><br><span class="line">    obj.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> CreatePerson(<span class="string">&quot;longen&quot;</span>,<span class="string">&#x27;28&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> CreatePerson(<span class="string">&quot;tugenhua&quot;</span>,<span class="string">&#x27;27&#x27;</span>,<span class="string">&#x27;å¥³&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p1.name); <span class="comment">// longen</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.age);  <span class="comment">// 28</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.sex);  <span class="comment">// ç”·</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.sayName()); <span class="comment">// longen</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p2.name);  <span class="comment">// tugenhua</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.age);   <span class="comment">// 27</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.sex);   <span class="comment">// å¥³</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.sayName()); <span class="comment">// tugenhua  </span></span><br></pre></td></tr></table></figure><h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><p>åªèƒ½è¢«å®ä¾‹åŒ–(æ„é€ å‡½æ•°ç»™å®ä¾‹æ·»åŠ å±æ€§ä¸æ–¹æ³•)ä¸€æ¬¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å•ä½“æ¨¡å¼</span></span><br><span class="line"><span class="keyword">var</span> Singleton = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;;</span><br><span class="line">Singleton.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è·å–å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> getInstance = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> instance = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!instance) &#123;<span class="comment">//ç›¸å½“äºä¸€ä¸ªä¸€æ¬¡æ€§é˜€é—¨,åªèƒ½å®ä¾‹åŒ–ä¸€æ¬¡</span></span><br><span class="line">            instance = <span class="keyword">new</span> Singleton(name);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">// æµ‹è¯•å•ä½“æ¨¡å¼çš„å®ä¾‹,æ‰€ä»¥a===b</span></span><br><span class="line"><span class="keyword">var</span> a = getInstance(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> b = getInstance(<span class="string">&quot;bb&quot;</span>);  </span><br></pre></td></tr></table></figure><h2 id="æ²™ç®±æ¨¡å¼"><a href="#æ²™ç®±æ¨¡å¼" class="headerlink" title="æ²™ç®±æ¨¡å¼"></a>æ²™ç®±æ¨¡å¼</h2><p>å°†ä¸€äº›å‡½æ•°æ”¾åˆ°è‡ªæ‰§è¡Œå‡½æ•°é‡Œé¢,ä½†è¦ç”¨é—­åŒ…æš´éœ²æ¥å£,ç”¨å˜é‡æ¥æ”¶æš´éœ²çš„æ¥å£,å†è°ƒç”¨é‡Œé¢çš„å€¼,å¦åˆ™æ— æ³•ä½¿ç”¨é‡Œé¢çš„å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sandboxModel=(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sayAge</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        sayName:sayName,</span><br><span class="line">        sayAge:sayAge</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><h2 id="å‘å¸ƒè€…è®¢é˜…æ¨¡å¼"><a href="#å‘å¸ƒè€…è®¢é˜…æ¨¡å¼" class="headerlink" title="å‘å¸ƒè€…è®¢é˜…æ¨¡å¼"></a>å‘å¸ƒè€…è®¢é˜…æ¨¡å¼</h2><p>å°±ä¾‹å¦‚å¦‚æˆ‘ä»¬å…³æ³¨äº†æŸä¸€ä¸ªå…¬ä¼—å·,ç„¶åä»–å¯¹åº”çš„æœ‰æ–°çš„æ¶ˆæ¯å°±ä¼šç»™ä½ æ¨é€,</p><p>ä»£ç å®ç°é€»è¾‘æ˜¯ç”¨æ•°ç»„å­˜è´®è®¢é˜…è€…, å‘å¸ƒè€…å›è°ƒå‡½æ•°é‡Œé¢é€šçŸ¥çš„æ–¹å¼æ˜¯éå†è®¢é˜…è€…æ•°ç»„,å¹¶å°†å‘å¸ƒè€…å†…å®¹ä¼ å…¥è®¢é˜…è€…æ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‘å¸ƒè€…ä¸è®¢é˜…æ¨¡å¼</span></span><br><span class="line"><span class="keyword">var</span> shoeObj = &#123;&#125;; <span class="comment">// å®šä¹‰å‘å¸ƒè€…</span></span><br><span class="line">shoeObj.list = []; <span class="comment">// ç¼“å­˜åˆ—è¡¨ å­˜æ”¾è®¢é˜…è€…å›è°ƒå‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¢åŠ è®¢é˜…è€…</span></span><br><span class="line">shoeObj.listen = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    shoeObj.list.push(fn); <span class="comment">// è®¢é˜…æ¶ˆæ¯æ·»åŠ åˆ°ç¼“å­˜åˆ—è¡¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¸ƒæ¶ˆæ¯</span></span><br><span class="line">shoeObj.trigger = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, fn; fn = <span class="built_in">this</span>.list[i++];) &#123;</span><br><span class="line">            fn.apply(<span class="built_in">this</span>, <span class="built_in">arguments</span>);<span class="comment">//ç¬¬ä¸€ä¸ªå‚æ•°åªæ˜¯æ”¹å˜fnçš„this,</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="comment">// å°çº¢è®¢é˜…å¦‚ä¸‹æ¶ˆæ¯</span></span><br><span class="line">shoeObj.listen(<span class="function"><span class="keyword">function</span>(<span class="params">color, size</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;é¢œè‰²æ˜¯ï¼š&quot;</span> + color);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;å°ºç æ˜¯ï¼š&quot;</span> + size);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°èŠ±è®¢é˜…å¦‚ä¸‹æ¶ˆæ¯</span></span><br><span class="line">shoeObj.listen(<span class="function"><span class="keyword">function</span>(<span class="params">color, size</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;å†æ¬¡æ‰“å°é¢œè‰²æ˜¯ï¼š&quot;</span> + color);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;å†æ¬¡æ‰“å°å°ºç æ˜¯ï¼š&quot;</span> + size);</span><br><span class="line">&#125;);</span><br><span class="line">shoeObj.trigger(<span class="string">&quot;çº¢è‰²&quot;</span>, <span class="number">40</span>);</span><br><span class="line">shoeObj.trigger(<span class="string">&quot;é»‘è‰²&quot;</span>, <span class="number">42</span>);  </span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> è¯»ä¹¦ç¬”è®° </tag>
            
            <tag> Javascript </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ²Ÿé€šæŠ€å·§</title>
      <link href="posts/%E6%B2%9F%E9%80%9A%E6%8A%80%E5%B7%A7/"/>
      <url>posts/%E6%B2%9F%E9%80%9A%E6%8A%80%E5%B7%A7/</url>
      
        <content type="html"><![CDATA[<h1 id="2-å¦‚ä½•è·Ÿçˆ¸å¦ˆæ‰“ç”µè¯â€”å“„çˆ¶æ¯å¼€å¿ƒçš„ä¸‰å¿ƒæŠ€æ³•"><a href="#2-å¦‚ä½•è·Ÿçˆ¸å¦ˆæ‰“ç”µè¯â€”å“„çˆ¶æ¯å¼€å¿ƒçš„ä¸‰å¿ƒæŠ€æ³•" class="headerlink" title="2. å¦‚ä½•è·Ÿçˆ¸å¦ˆæ‰“ç”µè¯â€”å“„çˆ¶æ¯å¼€å¿ƒçš„ä¸‰å¿ƒæŠ€æ³•"></a>2. å¦‚ä½•è·Ÿçˆ¸å¦ˆæ‰“ç”µè¯â€”å“„çˆ¶æ¯å¼€å¿ƒçš„ä¸‰å¿ƒæŠ€æ³•</h1><p>å®‰å¿ƒï¼Œèˆ’å¿ƒï¼Œå¼€å¿ƒï¼Œ æˆ‘ä»¬æ‰èƒ½æ”¾å¿ƒ</p><p>çˆ¶æ¯ä¸çŸ¥é“è¯´ä»€ä¹ˆï¼Œæˆ‘ä»¬ä¹Ÿä¸çŸ¥é“è¯´ä»€ä¹ˆ<br>æå‡è·Ÿçˆ¶æ¯çš„ç«¥è¯è´¨é‡</p><a id="more"></a><h2 id="ç»†èŠ‚â€“å®‰å¿ƒ"><a href="#ç»†èŠ‚â€“å®‰å¿ƒ" class="headerlink" title="ç»†èŠ‚â€“å®‰å¿ƒ"></a>ç»†èŠ‚â€“å®‰å¿ƒ</h2><p>å¤§è€Œç¬¼ç»Ÿçš„è¯è¶Šä¸æ”¾å¿ƒ<br>å°‘æ“å¿ƒï¼Œæ—©ç¡æ—©èµ·ï¼Œå¤šåƒé¥­ï¼Œä¸€åˆ‡éƒ½å¥½è¯·æ”¾å¿ƒâ€“ä¼šè§‰å¾—è—ç€æ–ç€æŠ¥å–œä¸æŠ¥å¿§</p><p>è¯´ç»†èŠ‚ï¼Œçœ‹äº†ä»€ä¹ˆç”µå½±ï¼Œç”µè§†å‰§ï¼Œè·Ÿå“ªä¸ªæœ‹å‹åƒäº†é¥­</p><p>ç»†èŠ‚æš—ç¤ºæ¯”ä¿¡èª“æ—¦æ—¦æ›´æœ‰æ•ˆ</p><h2 id="é—®é¢˜â€“èˆ’å¿ƒ"><a href="#é—®é¢˜â€“èˆ’å¿ƒ" class="headerlink" title="é—®é¢˜â€“èˆ’å¿ƒ"></a>é—®é¢˜â€“èˆ’å¿ƒ</h2><p>é—®é¢˜ä½¿ä»–ä»¬èˆ’å¿ƒ<br>ç»å¸¸åœ¨ç”µè¯ä¸­å‘ä»–ä»¬æé—®ï¼Œæœ€å¥½é—®ç”Ÿæ´»ä¸­ä»–ä»¬å¾—å¿ƒåº”æ‰‹çš„é—®é¢˜</p><ul><li>æ’éª¨æ±¤æ€ä¹ˆç‚–</li><li>è¡£æœæ€ä¹ˆæ´—å¥½</li><li>å¤å¤©åƒä»€ä¹ˆæ°´æœæ¯”è¾ƒå¥åº·</li></ul><p>è€å¿ƒå¬å–ç­”æ¡ˆï¼Œåšå‡ºæç„¶å¤§æ‚Ÿçš„å›åº”</p><p>æœ€å¥½ä¸è¦é—®å·¥ä½œä¸­çš„é—®é¢˜</p><h2 id="æ‹¿å¯¹æ¯”ä½¿ä»–ä»¬å¼€å¿ƒ"><a href="#æ‹¿å¯¹æ¯”ä½¿ä»–ä»¬å¼€å¿ƒ" class="headerlink" title="æ‹¿å¯¹æ¯”ä½¿ä»–ä»¬å¼€å¿ƒ"></a>æ‹¿å¯¹æ¯”ä½¿ä»–ä»¬å¼€å¿ƒ</h2><p>çˆ¶æ¯ä»¬åœ¨å„¿å¥³è¿™ä¸ªè¯é¢˜ä¸Šè¦æœ‰å‘è¨€æƒ<br>è®©ä»–ä»¬æœ‰å€¼å¾—éª„å‚²å’Œç‚«è€€çš„è¯é¢˜ç‚¹ï¼Œå®é™…æˆå°±å¹¶ä¸é‡è¦ï¼Œåªéœ€è¦å¤šè¯´è¯´å’ŒåŒäº‹æœ‹å‹çš„å…«å¦ã€‚</p><p>æŸåŒäº‹æ²¡å¥³æœ‹å‹ï¼ŒæŸåŒäº‹è¿˜æ²¡ç»“å©šï¼ŒæŸåŒäº‹æ²¡å·¥ä½œäº†ã€‚<br>è®©çˆ¶æ¯æœ‰è°ˆèµ„ï¼Œèˆ’ç¼“çˆ¶æ¯ç¤¾äº¤å‹åŠ›</p><p>çˆ¶æ¯ä¸»åŠ¨ç¤¾äº¤èƒ½åŠ›åœ¨ä¸æ–­ä¸‹é™ï¼Œå­©å­æ‰¿æ‹…èµ·ä¸»åŠ¨æ²Ÿé€šçš„è´£ä»»ï¼Œå¹¶æä¾›çˆ¶æ¯æ²Ÿé€šçš„è°ˆèµ„</p><p>äººçš„ä¸€ç”Ÿéƒ½æ˜¯ç¤¾äº¤çš„ä¸€ç”Ÿ</p><p>ç”¨ç»†èŠ‚è®©çˆ¶æ¯å®‰å¿ƒï¼Œæ„å‘³ç€ä½ è¦å‘ä»–ä»¬å‘ˆç°çœŸå®ç”Ÿæ´»ï¼ŒæŠŠè‡ªå·±ç½®äºæ±‡æŠ¥è€…çš„åœ°ä½<br>ç”¨é—®é¢˜è®©çˆ¶æ¯èˆ’å¿ƒï¼Œä½ è¦è®©ä»–ä»¬æ„Ÿè§‰åˆ°ä»–ä»¬å¯¹ä½ çš„ç”Ÿæ´»æ˜¯æœ‰æ„ä¹‰çš„ï¼Œæ˜¯èƒ½å¤Ÿæå‡ºæŒ‡å¯¼æ„è§çš„ï¼Œæ˜¯æœ‰æƒå¨çš„<br>ç”¨å¯¹æ¯”è®©ä»–ä»¬å¼€å¿ƒï¼Œä½ è¦å‘ä»–ä»¬è¯æ˜ä½ æ˜¯å€¼å¾—ä»–ä»¬ç‚«è€€çš„ï¼Œæ˜¯èƒ½å¤Ÿè®©ä»–ä»¬åœ¨ç¤¾äº¤çš„æ—¶å€™ç‰¹åˆ«æœ‰é¢å­çš„ã€‚</p><p>è¿™æ ·çš„æ²Ÿé€šæŠ€å·§è¿˜èƒ½ç”¨åœ¨å…¶ä»–å¾ˆå¤šæ–¹é¢ï¼Œå¼€é€šè„‘ç­‹ï¼Œå¥½å¥½è¯´è¯</p><h1 id="3-è§‚å†²çªï¼Œè¯¥æ€ä¹ˆèŠ"><a href="#3-è§‚å†²çªï¼Œè¯¥æ€ä¹ˆèŠ" class="headerlink" title="3. è§‚å†²çªï¼Œè¯¥æ€ä¹ˆèŠ"></a>3. è§‚å†²çªï¼Œè¯¥æ€ä¹ˆèŠ</h1>]]></content>
      
      
      
        <tags>
            
            <tag> æ²Ÿé€šæŠ€å·§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­£åˆ™</title>
      <link href="posts/%E6%AD%A3%E5%88%99/"/>
      <url>posts/%E6%AD%A3%E5%88%99/</url>
      
        <content type="html"><![CDATA[<p>[TOC]<br><a href="https://juejin.im/post/5bf174396fb9a049ca36f13d#heading-7">å‚è€ƒé“¾æ¥</a><br><a href="https://juejin.im/post/5b62717ee51d4519873f858a">é¢è¯•å®˜ï¼è®©æˆ‘ä»¬èŠèŠæ­£åˆ™</a></p><p><a href="http://www.runoob.com/regexp/regexp-metachar.html">æ­£åˆ™è¡¨è¾¾å¼ - å…ƒå­—ç¬¦!!!</a><br>ä¸€ç›´ä»¥æ¥æ­£åˆ™éƒ½é æœç´¢ï¼Œå¤åˆ¶ç²˜è´´ã€‚ä»Šå¤©å¼€å§‹å­¦ä¹ ï¼Œä»¥åå°±å¯ä»¥è‡ªå·±å†™å•¦~~~</p><h2 id="æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆ"><a href="#æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆ"></a>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆ</h2><p>æ­£åˆ™è¡¨è¾¾å¼(Regular Expression)æ˜¯ä¸€ä¸ªæè¿°å­—ç¬¦æ¨¡å¼çš„å¯¹è±¡ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¿›è¡Œå¼ºå¤§çš„æ¨¡å¼åŒ¹é…å’Œæ–‡æœ¬æ£€ç´¢ä¸æ›¿æ¢åŠŸèƒ½ã€‚<br>åœ¨ç¼–å†™å¤„ç†å­—ç¬¦ä¸²çš„ç¨‹åºæˆ–ç½‘é¡µæ—¶ï¼Œç»å¸¸ä¼šæœ‰æŸ¥æ‰¾ç¬¦åˆæŸäº›å¤æ‚è§„åˆ™çš„å­—ç¬¦ä¸²çš„éœ€è¦ã€‚æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ç”¨äºæè¿°è¿™äº›è§„åˆ™çš„å·¥å…·ã€‚æ¢å¥è¯è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯è®°å½•æ–‡æœ¬è§„åˆ™çš„ä»£ç ã€‚</p><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¤„ç†å­—ç¬¦ä¸²çš„åˆ©å™¨ï¼Œå¹¶æé«˜å·¥ä½œæ•ˆç‡ï¼Œä¸€ä¸ªå¥½çš„æ­£åˆ™èƒ½å¤Ÿå¸®æˆ‘ä»¬çœå»å‡ åç”šè‡³ä¸Šç™¾è¡Œä»£ç ã€‚</p><a id="more"></a><h2 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h2><p><strong>å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼æœ€å¥½æ–¹æ³•æ˜¯ä»ä¾‹å­å¼€å§‹ï¼Œç†è§£ä¾‹å­ä¹‹åå†å¯¹ä¾‹å­è¿›è¡Œä¿®æ”¹ï¼Œå®éªŒã€‚</strong></p><h2 id="å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"><a href="#å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"></a>å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼</h2><ol><li>å§“å<ul><li>2-9ä½ä¸­æ–‡æ˜µç§°ï¼š <code>^[\u4e00-\u9fa5]&#123;2,9&#125;$</code></li></ul></li><li>éªŒè¯å¯†ç <ul><li>åªèƒ½æ˜¯æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ï¼Œé•¿åº¦ä¸é™åˆ¶: <code>^\w+$</code></li><li>å…è®¸ å°å†™å­—æ¯ a-zã€å¤§å†™å­—æ¯ A-Zã€æ•°å­— 0-9ã€ä¸‹åˆ’çº¿ _ã€ è¿æ¥ç¬¦ -ï¼Œä¸”é•¿åº¦åœ¨ 6-18 ä½æ•°ï¼š<br><code>/^[a-zA-Z0-9_-]&#123;6,18&#125;$/</code></li><li>å¿…é¡»åŒ…å«æ•°å­—+å°å†™å­—æ¯+å¤§å†™å­—æ¯çš„å¯†ç ï¼Œä¸”é•¿åº¦åœ¨8-10ä½ä¹‹é—´ï¼š<code>^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$</code></li></ul></li><li>éªŒè¯ Email<ul><li>å…è®¸æœ‰ä¸€ä¸ªå­—ç¬¦ç¬¦åˆ [A-Za-z0-9_] ä¹‹åå¯ä»¥ä¸º [A-Za-z0-9_-+.] + @ + å…è®¸æœ‰ä¸€ä¸ªå­—ç¬¦ç¬¦åˆ [A-Za-z0-9_] ä¹‹åå¯ä»¥ä¸º [A-Za-z0-9_-.] + . + å…è®¸æœ‰ä¸€ä¸ªå­—ç¬¦ç¬¦åˆ [A-Za-z0-9_] ä¹‹åå¯ä»¥æœ‰ [A-Za-z0-9_-.] çš„é‚®ç®±ï¼š^\w+([-+.]\w+)*@\w+([-.]\w+)<em>.\w+([-.]\w+)</em>$</li></ul></li><li>éªŒè¯èº«ä»½è¯<ul><li>18 ä½èº«ä»½è¯å·ï¼Œå°¾æ•°æ˜¯æ•°å­—æˆ–è€…å­—æ¯ Xï¼š<code>^(\d&#123;6&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)(\d&#123;3&#125;)([0-9]|X)$</code></li><li>15 æˆ–è€… 18 ä½èº«ä»½è¯å·ï¼Œå°¾æ•°å¯ä»¥æ˜¯æ•°å­—åŠ X æˆ–è€… xï¼š<code>(^\d&#123;15&#125;$)|(^\d&#123;18&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)</code></li></ul></li><li>éªŒè¯æ‰‹æœºå·<ul><li>ä»¥ 1 å¼€å¤´ï¼Œç¬¬äºŒä½æ•°æ˜¯ 3/4/5/7/8 çš„ 11 ä½æ‰‹æœºå·ç ï¼š<code>^1[3,4,5,7,8,9]\d&#123;9&#125;$</code></li><li>ç§»åŠ¨å·ç ï¼š<code>^134[0-8]\d&#123;7&#125;$|^(?:13[5-9]|147|15[0-27-9]|178|1703|1705|1706|18[2-478])\d&#123;7,8&#125;$</code></li><li>ç”µä¿¡å·ç ï¼š<code>^(?:133|153|1700|1701|1702|177|173|18[019])\d&#123;7,8&#125;$</code></li><li>è”é€šå·ç ï¼š<code>^(?:13[0-2]|145|15[56]|176|1704|1707|1708|1709|171|18[56])\d&#123;7,8&#125;|$</code></li></ul></li></ol><h2 id="JavaScript-åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼"><a href="#JavaScript-åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="JavaScript åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼"></a>JavaScript åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼</h2><p>ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>ç”¨<code>/æ­£åˆ™è¡¨è¾¾å¼/</code>ä¸¤ä¸ªæ–œæ æ¥åŒ…è£¹è¦å†™çš„æ­£åˆ™è¡¨è¾¾å¼</li><li>æ„é€ å‡½æ•°åˆ›å»º(ä¸æ¨è)<br><code>var reg = new RegExp(&#39;\\d+&#39;, &#39;img&#39;)</code><br>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å…ƒå­—ç¬¦å¹¶ä¸”\dè¿™ç§ç‰¹æ®Šå­—ç¬¦åœ¨è¿™é‡Œé¢æ˜¯æ™®é€šå­—ç¬¦ï¼Œæ‰€ä»¥éœ€è¦ç”¨\è½¬ä¹‰ä¸ºç‰¹æ®Šå­—ç¬¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¿®é¥°ç¬¦</li></ol><p>è¿™ä¸¤ç§çš„ç”¨é€”æœ‰åŒºåˆ«ï¼Œä¸€èˆ¬éœ€è¦åŠ¨æ€åˆ›å»ºæ­£åˆ™å…ƒå­—ç¬¦é‡‡ç”¨æ„é€ å‡½æ•°åˆ›å»ºï¼Œå› ä¸ºé‡Œé¢å…ƒå­—ç¬¦æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¸¸è§„å›ºå®šå†™æ­»æ­£åˆ™é‡‡ç”¨å­—é¢é‡åˆ›å»ºï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p><p><code>var reg = /^[a-z0-9_-]&#123;6,12&#125;$/</code></p><p>è¿™å°±æ˜¯ä¸€æ¡è§„åˆ™ã€‚</p><p>å¦‚ä½•åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚è¿™é‡Œç”¨testæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc-cba_abc&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[a-z0-9_-]&#123;6,12&#125;$/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str)); <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>reg é€šè¿‡ test() æ–¹æ³•å»æµ‹è¯• str æ˜¯å¦ç¬¦åˆ regçš„è§„åˆ™ï¼Œå¦‚æœç¬¦åˆåˆ™è¿”å› trueï¼Œå¦‚æœä¸ç¬¦åˆåˆ™è¿”å› falseã€‚<br>è¿™é‡Œè¿”å›çš„æ˜¯ trueï¼Œå› ä¸ºæˆ‘ä»¬çš„ str æ˜¯ç¬¦åˆ reg è§„åˆ™çš„ã€‚</p><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><p>è¦æƒ³ç©è½¬æ­£åˆ™é¦–å…ˆè¦æ˜ç™½ä¸‰å¤§å…ƒç´ ï¼š<code>ä¿®é¥°ç¬¦ å…ƒå­—ç¬¦ é‡è¯</code><br>ä¾‹ï¼švar reg = /^\d$/g è¿™æ˜¯ä¸€ä¸ªç®€å•ç‚¹æ­£åˆ™ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å¯¹ä¸‰å¤§å…ƒç´ ä¸€æ¢ç©¶ç«Ÿ</p><h3 id="1-ä¿®é¥°ç¬¦"><a href="#1-ä¿®é¥°ç¬¦" class="headerlink" title="1. ä¿®é¥°ç¬¦"></a>1. ä¿®é¥°ç¬¦</h3><ul><li><code>g</code> - global å…¨å±€åŒ¹é…ï¼ˆåªè¦æœ‰åŒ¹é…æˆåŠŸçš„ç»“æœä¸€ç›´åŒ¹é…ç›´åˆ°æ²¡æœ‰ä¸ºæ­¢ï¼‰</li><li><code>i</code> - ignoreCase å¿½ç•¥å¤§å°å†™</li><li><code>m</code> - multiline å¤šè¡ŒåŒ¹é…</li></ul><h3 id="2-å…ƒå­—ç¬¦"><a href="#2-å…ƒå­—ç¬¦" class="headerlink" title="2. å…ƒå­—ç¬¦"></a>2. å…ƒå­—ç¬¦</h3><p>å…ƒå­—ç¬¦åˆ†ä¸ºç‰¹æ®Šå…ƒå­—ç¬¦å’Œæ™®é€šå…ƒå­—ç¬¦<br>æ™®é€šå…ƒå­—ç¬¦å°±æ˜¯åˆ—å…¥æ•°ç»„ï¼Œå­—æ¯ç­‰å…ƒç´ <br>å¸¸ç”¨ç‰¹æ®Šå…ƒå­—ç¬¦å¦‚ä¸‹ï¼š</p><ul><li><p><code>\</code> è½¬ä¹‰å­—ç¬¦ï¼ˆæŠŠä¸€ä¸ªæ™®é€šå­—ç¬¦è½¬å˜ä¸ºæœ‰ç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ï¼Œæˆ–è€…æŠŠä¸€ä¸ªæœ‰æ„ä¹‰çš„å­—ç¬¦è½¬å˜ä¸ºæ™®é€šå­—ç¬¦ï¼‰</p></li><li><p><code>.</code> é™¤äº†<code>\n</code>ï¼ˆæ¢è¡Œç¬¦ï¼‰ä»¥å¤–çš„ä»»æ„å­—ç¬¦</p></li><li><p><code>\d</code> åŒ¹é…ä¸€ä¸ª<code>0~9</code>ä¹‹é—´çš„æ•°å­—</p></li><li><p><code>\D</code> åŒ¹é…ä¸€ä¸ªé<code>0~9</code>ä¹‹é—´çš„æ•°å­—ï¼ˆå¤§å†™ä¸å°å†™å­—æ¯ç»„åˆæ­£å¥½æ˜¯ç›¸åå«ä¹‰</p></li><li><p><code>\w</code> åŒ¹é…ä¸€ä¸ª0~9æˆ–å­—æ¯æˆ–_ä¹‹é—´çš„ä¸€ä¸ªå­—ç¬¦</p></li><li><p><code>\s</code> åŒ¹é…ä¸€ä¸ªä»»æ„ç©ºç™½å­—ç¬¦</p></li><li><p><code>\b</code> åŒ¹é…ä¸€ä¸ªè¾¹ç•Œç¬¦</p></li><li><p><code>x|y</code> åŒ¹é…xæˆ–è€…yä¸­çš„ä¸€ä¸ª</p></li><li><p><code>[a-z]</code> åŒ¹é…<code>a-z</code>ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</p></li><li><p><code>[^a-z]</code> åŒ¹é…é<code>a-z</code>ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</p></li><li><p><code>[x- yz]</code> åŒ¹é…xæˆ–yæˆ–zä¸­çš„ä¸€ä¸ªå­—ç¬¦</p></li><li><p><code>[^xyz</code> å’Œä¸Šæ–¹ç›¸å</p></li><li><p><code>()</code> æ•´çš„å°åˆ†ç»„ï¼ŒåŒ¹é…ä¸€ä¸ªå°åˆ†ç»„ï¼ˆå¯ä»¥ç†è§£ä¸ºå¤§æ­£åˆ™ä¸­çš„ä¸€ä¸ªå°æ­£åˆ™ï¼‰</p></li><li><p><code>^</code> ä»¥æŸä¸€ä¸ªå…ƒå­—ç¬¦å¼€å§‹ã€‚ä¾‹ï¼š<code>var reg = /^2/;</code> è¡¨ç¤ºå¼€å¤´å¿…é¡»æ˜¯2ï¼Œå¦‚æœå¼€å§‹å…ƒå­—ç¬¦æ”¾åœ¨[]é‡Œé¢ ä¾‹ï¼š<code>[^]</code>è¡¨ç¤ºéä¸­æ‹¬å·ç§æƒ…å†µ ç›¸åå«ä¹‰</p></li><li><p><code>$</code> ä»¥æŸä¸€ä¸ªå…ƒå­—ç¬¦ç»“æŸã€‚ä¾‹ï¼š <code>var reg = /2$/;</code> è¡¨ç¤ºç»“å°¾å¿…é¡»æ˜¯2ï¼Œå¦‚æœæ˜¯ <code>var reg = /^2$/;</code> è¡¨ç¤ºåªèƒ½ä¸º2ï¼Œå› ä¸º2åªä»£è¡¨ä¸€ä¸ªå…ƒå­—ç¬¦ã€‚</p></li><li><p><code>?:</code> åªåŒ¹é…ä¸æ•è·</p></li><li><p><code>?=</code> æ­£å‘è‚¯å®šé¢„æŸ¥</p></li><li><p><code>?!</code> æ­£å‘å¦å®šé¢„æŸ¥</p></li></ul><h3 id="ä½¿ç”¨è§£æ"><a href="#ä½¿ç”¨è§£æ" class="headerlink" title="ä½¿ç”¨è§£æ"></a>ä½¿ç”¨è§£æ</h3><h4 id="1-å°åˆ†ç»„-åŒ¹é…å­é¡¹"><a href="#1-å°åˆ†ç»„-åŒ¹é…å­é¡¹" class="headerlink" title="1. () å°åˆ†ç»„ åŒ¹é…å­é¡¹"></a>1. <code>()</code> å°åˆ†ç»„ åŒ¹é…å­é¡¹</h4><p>åŒ¹é…å­é¡¹ï¼Œå°±æ˜¯å°æ‹¬å·<code>()</code>ï¼Œä¹Ÿå«åˆ†ç»„æ“ä½œã€‚<br>|è¡¨è¾¾å¼| é‡Šä¹‰| ç”¨æ³•|<br>|â€”â€“|â€”â€”-|â€”â€”|<br>|(å­è¡¨è¾¾å¼)|æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚| (\w)\1 èƒ½åŒ¹é… deep ä¸­çš„ ee|</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^18|19$/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªä¾‹å­å¾ˆå¤šåŒå­¦èƒ½å¤Ÿäº†è§£æ˜¯18æˆ–è€…19å¼€å¤´ ä½†æ˜¯ç»“å°¾å‘¢ï¼ŸçœŸçš„åªåŒ¹é…19ä¹ˆï¼Ÿ å…¶å®å¹¶ä¸æ˜¯</span></span><br><span class="line"><span class="comment">// æ­£ç¡®çš„åŒ¹é…é™¤äº†18 19 è¿˜æœ‰181ã€189ã€819 è¿™æ—¶å€™å°åˆ†ç»„å°±èµ·åˆ°äº†ä½œç”¨å¦‚ä¸‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(18|19)$/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡Œå°†18æˆ–19ç”¨()åŒ…è£¹èµ·æ¥ï¼Œèµ·åˆ°å°åˆ†ç»„çš„ä½œç”¨</span></span><br><span class="line"><span class="comment">// è¿™æ ·è¿™ä¸ªæ­£åˆ™åªåŒ¹é…18å¼€å¤´ç»“å°¾æˆ–è€…19è€Œä¸æ˜¯181å’Œ189</span></span><br></pre></td></tr></table></figure><p><code>var re = /(\d+)(-)/g;</code></p><p>åˆ†æè¿™ä¸ªæ­£åˆ™ï¼š</p><ul><li><code>/(\d+)/</code> è¡¨ç¤ºä»»æ„ 1 ä¸ªåŠä»¥ä¸Šçš„æ•°å­—</li><li><code>/(-)/</code> è¡¨ç¤ºåŒ¹é…å­—ç¬¦ -</li><li><code>g</code> è¡¨ç¤ºåŒ¹é…ä¸€æ¬¡ä»¥ä¸Š</li></ul><p>æ‰€ä»¥è¿™æ®µæ­£åˆ™çš„æ„æ€å°±æ˜¯åŒ¹é…ä¸€æ¬¡åŠä»¥ä¸Šçš„ <code>æ•°å­—-</code> å½¢å¼çš„å­—ç¬¦ä¸²ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;2018-11-28&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/(\d+)(-)/g</span>;</span><br><span class="line">str = str.replace(re, <span class="function"><span class="keyword">function</span>(<span class="params">$<span class="number">0</span>, $<span class="number">1</span>, $<span class="number">2</span></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ï¼š$0ï¼ˆæ¯äº²)</span></span><br><span class="line">    <span class="comment">// ç¬¬äºŒä¸ªå‚æ•°ï¼š$1ï¼ˆç¬¬ä¸€ä¸ªå­©å­ï¼‰</span></span><br><span class="line">    <span class="comment">// ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š$2 (ç¬¬äºŒä¸ªå­©å­)</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;$0ï¼š&quot;</span> + $<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;$1ï¼š&quot;</span> + $<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;$2ï¼š&quot;</span> + $<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> $<span class="number">1</span> + <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// 2018.11.28</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>consoleç»“æœï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$<span class="number">0</span>ï¼š<span class="number">2018</span>-</span><br><span class="line">$<span class="number">1</span>ï¼š<span class="number">2018</span></span><br><span class="line">$<span class="number">2</span>ï¼š-</span><br><span class="line">$<span class="number">0</span>ï¼š<span class="number">11</span>-</span><br><span class="line">$<span class="number">1</span>ï¼š<span class="number">11</span></span><br><span class="line">$<span class="number">2</span>ï¼š-</span><br><span class="line"><span class="number">2018.11</span><span class="number">.28</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨äº† replace() æ–¹æ³•ã€‚<br>è§‚å¯Ÿ Console æ‰“å°å‡ºæ¥çš„ç»“æœï¼Œå¯ä»¥çœ‹å‡º<br><code>$0</code> å³æ˜¯æˆ‘ä»¬çš„æ­£åˆ™ var re = /(\d+)(-)/g å»åŒ¹é… var str = â€œ2018-11-28â€ æ‰€å¾—åˆ°çš„ç»“æœï¼Œ<br>è¿™é‡Œæˆ‘ä»¬åŒ¹é…æˆåŠŸäº†ä¸¤æ¬¡ï¼Œå³ 2018- åŠ 11-ï¼›<br><code>$1</code> å³æ˜¯æˆ‘ä»¬çš„ä¸€ä¸ªå°æ‹¬å· (\d+) çš„åŒ¹é…ç»“æœï¼Œæ‰€ä»¥ç»“æœä¸º 2018 ä»¥åŠ 11ï¼›<code>$2</code> å³æ˜¯æˆ‘ä»¬çš„ç¬¬äºŒä¸ªå°æ‹¬å· (-) çš„åŒ¹é…ç»“æœï¼Œæ‰€ä»¥ç»“æœä¸º - ä»¥åŠ -ã€‚<br>â€ƒæœ€åï¼Œæˆ‘ä»¬åšçš„äº‹æƒ…å°±æ˜¯ï¼Œå°† $1 åŠ ä¸Š <code>.</code>ï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœç»™ strï¼Œæœ€ç»ˆç»“æœï¼š<code>2018.11.28</code>ã€‚</p><p>å¦ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/(a)(b)(c)/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(re));</span><br></pre></td></tr></table></figure><p>consoleç»“æœï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">input</span>: <span class="string">&quot;abc&quot;</span>, <span class="attr">groups</span>: <span class="literal">undefined</span>]</span><br></pre></td></tr></table></figure><h4 id="2-åˆ†ç»„å¼•ç”¨-n"><a href="#2-åˆ†ç»„å¼•ç”¨-n" class="headerlink" title="2. åˆ†ç»„å¼•ç”¨\n"></a>2. åˆ†ç»„å¼•ç”¨<code>\n</code></h4><p>åˆ†ç»„å¼•ç”¨çš„æ¦‚å¿µå°±æ˜¯å¯ä»¥å¼•ç”¨å¤§æ­£åˆ™ä¸­æŒ‡å®šçš„å°æ­£åˆ™è§„åˆ™ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^([a-z])([a-z])\2([a-z])$/</span></span><br><span class="line"><span class="comment">// ç¬¦åˆçš„å­—ç¬¦ä¸²ï¼šbook week http ...â€‹</span></span><br></pre></td></tr></table></figure><blockquote><p>å…·ä½“ä¸Šé¢çš„ä¾‹å­ç†è§£ä¸º\2ä»£è¡¨ç€ç¬¬äºŒä¸ªå°æ­£åˆ™è§„åˆ™çš„å®Œå…¨å¼•ç”¨ï¼Œå°±æ˜¯å’Œç¬¬äºŒä¸ªå°æ­£åˆ™([a-z])ä¸€æ ·ï¼Œå¯ä»¥å‡å°‘æ­£åˆ™çš„å¤æ‚åº¦å’Œå¤„ç†å¤šæ¬¡é‡å¤è§„åˆ™</p></blockquote><h4 id="4-åŒ¹é…å­—ç¬¦"><a href="#4-åŒ¹é…å­—ç¬¦" class="headerlink" title="4. åŒ¹é…å­—ç¬¦ []"></a>4. åŒ¹é…å­—ç¬¦ <code>[]</code></h4><p><code>[]</code> è¿™æ ·çš„ä¸­æ‹¬å·çš„æ•´ä½“ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚<br><strong>å­—ç¬¦ä¸²åŒ…å«ä¸­æ‹¬å·ä¸­ä»»ä¸€å­—ç¬¦å³æ»¡è¶³æ¡ä»¶</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[a-zA_Z0-9_]$/</span></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ­£åˆ™å’Œç­‰ä»·äº\w å°±æ˜¯åŒ¹é…ä¸€ä¸ª0~9æˆ–å­—æ¯æˆ–_ä¹‹é—´çš„ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="comment">// è€Œæ­£åˆ™[xyz]ä¸­çš„xyzåˆ†åˆ«ä»£è¡¨a-zã€A_Zã€0-9,xyzåªæ˜¯ä¸€ä¸ªä»£è¡¨æ ‡è¯†ï¼Œ</span></span><br><span class="line"><span class="comment">// å¯ä»¥æœ‰xyzhwå„ç§ç»„åˆ</span></span><br><span class="line"><span class="comment">// å°±åƒè¿™ä¸ªä¾‹å­ä¸­æœ‰ä¸‹åˆ’çº¿_ä¸€æ ·å››ä¸ªçš„åŒ¹é…</span></span><br><span class="line"><span class="comment">// æœ‰ä¸€ä¸ªé‡ç‚¹è¡¥å……ï¼Œåœ¨[]ä¸­çš„ç‰¹æ®Šå…ƒå­—ç¬¦ä¸€èˆ¬éƒ½ä»£è¡¨æœ¬èº«å«ä¹‰ï¼Œå¦‚ä¸‹</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[.?+&amp;]$/</span></span><br><span class="line"><span class="comment">// ä»£è¡¨ç€åŒ¹é…. .? ?+ ...ç­‰ç­‰</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">&quot;abcd&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> re1 = <span class="regexp">/a[bcd]c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(re1.test(str1)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> re2 = <span class="regexp">/a[^bcd]c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(re2.test(str2)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str3 = <span class="string">&quot;a.c&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> re3 = <span class="regexp">/a[a-z0-9A-Z]c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(re3.test(str3));  <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>è§£æï¼š</p><ul><li>/a/ï¼šåŒ¹é…å­—æ¯ a</li><li>/[bcd]/ï¼šåŒ¹é…å­—æ¯ bcd ä¸­çš„ä¸€ä½</li><li>/[d]ï¼šåŒ¹é…å­—æ¯ d</li><li>^ å¦‚æœå†™åœ¨ [] é‡Œé¢çš„è¯ï¼Œå°±ä»£è¡¨æ’é™¤çš„æ„æ€ã€‚åœ¨è¿™é‡Œå°±ä»£è¡¨ç€ a å’Œ c ä¸­é—´ä¸èƒ½æ˜¯ bcd ä¸­çš„ä»»æ„ä¸€ä¸ª</li><li>/[a-z0-9A-Z]/ï¼šåŒ¹é…å°å†™å­—æ¯ a-zï¼Œæˆ–è€…æ•°å­— 0-9ï¼Œæˆ–è€…å¤§å†™å­—æ¯ A-Zã€‚å³ a ä¸ c ä¹‹é—´åªèƒ½æ˜¯ä¸Šé¢åŒ¹é…åœ°ä¸Šçš„å­—ç¬¦ã€‚</li></ul><h4 id="5-è¾¹ç•Œç¬¦-b"><a href="#5-è¾¹ç•Œç¬¦-b" class="headerlink" title="5. è¾¹ç•Œç¬¦\b"></a>5. è¾¹ç•Œç¬¦<code>\b</code></h4><p>åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ï¼ˆè¾¹ç•Œä¸»è¦æ˜¯å•è¯çš„å·¦å³ä¸¤è¾¹ï¼‰ ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/er\b/</span></span><br><span class="line"><span class="comment">// å¯ä»¥åŒ¹é…neverä¸­çš„erï¼Œä½†æ˜¯ä¸èƒ½åŒ¹é…verbä¸­çš„er</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\b\w+\b/g</span></span><br><span class="line"><span class="comment">// èƒ½åŒ¹é…å­—æ¯æ•°å­—å’Œä¸‹åˆ’çº¿ä¸å•è¯è¾¹ç•Œ &#x27;my blog is www.ngaiwe.com&#x27;</span></span><br><span class="line"><span class="comment">// èƒ½åŒ¹é… &#x27;my&#x27;ã€&#x27;blog&#x27;ã€&#x27;is&#x27;ã€&#x27;www&#x27;ã€&#x27;ngaiwe&#x27;ã€&#x27;com&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="6-åªåŒ¹é…ä¸æ•è·"><a href="#6-åªåŒ¹é…ä¸æ•è·" class="headerlink" title="6. åªåŒ¹é…ä¸æ•è· ?"></a>6. åªåŒ¹é…ä¸æ•è· <code>?</code></h4><p>ä¸‹é¢ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä½†æ˜¯æ¶‰åŠåˆ°æ•è·å†…å®¹ï¼Œå¦‚æœåŒå­¦ä»¬ä¸å¤ªæ˜ç™½ï¼Œå¯ä»¥å…ˆè·³è¿‡æ­¤å¤„ï¼Œçœ‹å®Œä¸‹é¢æ•è·ï¼Œå†è¿”å›æ¥çœ‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(\d&#123;6&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)\d&#123;2&#125;(\d)(\d|X)$/g</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;110105199001220613&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str))</span><br><span class="line"><span class="comment">// æ‰“å°ç»“æœä¸º &quot;110105199001220613&quot;, &quot;110105&quot;, &quot;1990&quot;, &quot;01&quot;, &quot;22&quot;, &quot;1&quot;, &quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(\d&#123;6&#125;)(?:\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)\d&#123;2&#125;(\d)(\d|X)$/g</span></span><br><span class="line"><span class="comment">// æ‰“å°ç»“æœä¸º &quot;110105199001220613&quot;, &quot;110105&quot;, &quot;01&quot;, &quot;22&quot;, &quot;1&quot;, &quot;3&quot;</span></span><br><span class="line"><span class="comment">// ä¼šå°†ç¬¬äºŒä¸ªå°åˆ†ç»„åªåŒ¹é…ï¼Œä¸æ•è·</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="7-æ­£å‘è‚¯å®šé¢„æŸ¥"><a href="#7-æ­£å‘è‚¯å®šé¢„æŸ¥" class="headerlink" title="7. æ­£å‘è‚¯å®šé¢„æŸ¥ ?="></a>7. æ­£å‘è‚¯å®šé¢„æŸ¥ <code>?=</code></h4><p>è¿™ä¸ªæ¦‚å¿µæ¯”è¾ƒéš¾ç†è§£ï¼Œç”¨äºå°±æ˜¯ä¸ºäº†åŒ¹é…ä¸€ä¸ªå…ƒç´ åé¢æ˜¯çš„å…ƒç´ æ˜¯å¦ç¬¦åˆç›¸åº”è§„åˆ™ï¼Œä½†æ˜¯å¹¶ä¸æ¶ˆè€—è¿™ä¸ªè§„åˆ™ï¼Œä¾‹å­1ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/windows(?=95|98|NT|2000)/</span></span><br><span class="line"><span class="keyword">var</span> str1 = <span class="string">&#x27;windows2000&#x27;</span></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">&#x27;windowsxp&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str1))</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str2))</span><br><span class="line"><span class="comment">// str1 ä¸ºtrue str2 ä¸ºfalse</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str1))</span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str2))</span><br><span class="line"><span class="comment">// èƒ½æ•è·åˆ°str1 å¹¶ä¸”æ•è·ç»“æœæ—¶windows å¹¶æ²¡æœ‰å°†2000ä¹ŸåŒæ—¶æ•è·</span></span><br><span class="line"><span class="comment">// è¯´æ˜æ­£å‘é¢„æŸ¥åªè´Ÿè´£åŒ¹é…ç›¸åº”è§„åˆ™</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//-------ä¾‹å­2-----------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/win(?=d)dows/</span></span><br><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/win(d)dows/</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;windows&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(reg1.test(str))</span><br><span class="line"><span class="built_in">console</span>.log(reg2.test(str))</span><br><span class="line"><span class="comment">// reg1 è¿”å›true reg2è¿”å› false</span></span><br><span class="line"><span class="comment">// åŸå› æ˜¯æ­£å‘é¢„æŸ¥åªè´Ÿè´£åŒ¹é…ï¼Œä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯å¹¶ä¸ä¼šåŒ¹é…ä¸ºé‡Œé¢è§„åˆ™çš„å­—ç¬¦</span></span><br><span class="line"><span class="comment">// reg1 ç›¸å½“äºåŒ¹é…windowså¹¶ä¸”ç¬¦åˆwinåé¢ç¬¬ä¸€ä¸ªå‡ºç°çš„æ˜¯d</span></span><br><span class="line"><span class="comment">// reg2 ç›¸å½“äºåŒ¹é…winddows</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="8-æ­£æƒ³å¦å®šé¢„æŸ¥"><a href="#8-æ­£æƒ³å¦å®šé¢„æŸ¥" class="headerlink" title="8. æ­£æƒ³å¦å®šé¢„æŸ¥ ?!"></a>8. æ­£æƒ³å¦å®šé¢„æŸ¥ <code>?!</code></h4><p>å’Œæ­£å‘è‚¯å®šé¢„æŸ¥ç›¸åï¼ŒåŒ¹é…ä¸ç¬¦åˆè§„åˆ™çš„æ­£åˆ™</p><h4 id="9-è½¬ä¹‰å­—ç¬¦"><a href="#9-è½¬ä¹‰å­—ç¬¦" class="headerlink" title="9. \ è½¬ä¹‰å­—ç¬¦"></a>9. <code>\</code> è½¬ä¹‰å­—ç¬¦</h4><blockquote><p>å°†ç‰¹æ®Šå…ƒå­—ç¬¦è½¬æ¢ä¸ºæ™®é€šå­—ç¬¦ï¼Œä¾‹ï¼š<code>var reg = /^2.3$/</code> æ­£å¸¸ç†è§£ä¸ºåŒ¹é…å¯ç¤ºä¸º2 ç»“æŸä¸º3ä¸­é—´æ˜¯.çš„æ­£åˆ™ï¼Œä½†æ˜¯åœ¨è¿™é‡Œé¢.å±äºç‰¹æ®Šå…ƒå­—ç¬¦ï¼Œæ„ä¹‰æ˜¯é™¤äº†\nï¼ˆæ¢è¡Œç¬¦ï¼‰ä»¥å¤–çš„ä»»æ„å­—ç¬¦ï¼Œæ‰€ä»¥ä¸è®ºæ˜¯2.3/2+3/2s.3ç­‰ç­‰ï¼Œåªè¦æ˜¯ä¸Â·\néƒ½åŒ¹é…æˆåŠŸï¼Œæ‰€ä»¥ä¸ºäº†è¿™ç§éœ€æ±‚å°±ç”¨åˆ°äº†è½¬ä¹‰å­—ç¬¦\ å¦‚ä¸‹ï¼š <code>var reg = /^2\.3$/</code> å°†ç‰¹æ®Šå…ƒå­—ç¬¦.è½¬ä¹‰ä¸ºçœŸæ­£çš„.å…ƒç´ ï¼Œå†æ¬¡åŒ¹é…åªæœ‰2.3æ‰èƒ½åŒ¹é…æˆåŠŸ å¦‚ä¸‹æ€è€ƒï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/^\d$/</span></span><br><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/^\\d$/</span></span><br><span class="line"><span class="keyword">var</span> reg3 = <span class="regexp">/^\\\d$/</span></span><br><span class="line"><span class="keyword">var</span> reg4 = <span class="regexp">/^\\\\d$/</span></span><br></pre></td></tr></table></figure><p>é¦–å…ˆreg1 è¡¨ç¤º0-9ä¹‹é—´çš„æ•°å­— æ‰€ä»¥0-9éƒ½èƒ½åŒ¹é…æˆåŠŸ</p><p>reg2å‡ºç°ä¸¤ä¸ª\ ä¸è®ºæ˜¯0-9 d \déƒ½åŒ¹é…å¤±è´¥ï¼Œåªæœ‰\dæ‰åŒ¹é…æˆåŠŸï¼Œ<br>åŸå› åœ¨äºç¬¬ä¸€ä¸ªè½¬ä¹‰å­—ç¬¦æŠŠç¬¬äºŒä¸ª\è½¬ä¹‰ä¸ºæ™®é€š\ï¼Œ<br>æ­¤æ—¶ç¬¬ä¸€ä¸ª\ä¹Ÿè¡¨ç¤ºæ™®é€šå­—ç¬¦ï¼Œæ‰€ä»¥åªæœ‰åŒ¹é…åˆ°<code>\\d</code>æ‰ç”Ÿæ•ˆ</p><p>reg3å‡ºç°ä¸‰ä¸ª\ï¼Œæ­¤æ—¶å¤§å®¶ä¸€å®šä¼šè®¤ä¸º<code>\\\d</code>æ‰æ˜¯æ­£ç¡®ç­”æ¡ˆï¼Œéä¹Ÿï¼Œ<br>æ­¤æ—¶çš„æ­£ç¡®ç­”æ¡ˆæ˜¯\[0-9]æ„æ€æ˜¯\å’Œ0-9ä¸­ä»»æ„ä¸€ä¸ªæ•°å­—ï¼Œ<br>åŸå› åœ¨äºç¬¬ä¸€ä¸ª\å°†ç¬¬äºŒä¸ªè½¬ä¹‰ï¼Œæ‰€ä»¥å˜ä¸º<code>\\ \d</code>åˆ†ä¸ºäº†ä¸¤éƒ¨åˆ†ï¼Œ<br>\ä¸ºæ™®é€šå­—ç¬¦ï¼Œè€Œ\dè¡¨ç¤ºä¸€ä¸ª0~9ä¹‹é—´çš„æ•°å­—ï¼Œæ‰€ä»¥æ­£ç¡®ç­”æ¡ˆæ˜¯<code>\\[0-9]</code></p><p>reg4å‡ºç°å››ä¸ª\ å¾ˆå¤šåŒå­¦ä¼šè®¤ä¸ºæ­£ç¡®ç­”æ¡ˆä¸€å®šæ˜¯\[0-9], å¾ˆå¯æƒœï¼Œ<br>æ­£ç¡®çš„æ˜¯<code>\\\\d</code>ï¼ŒåŸå› æ˜¯å½“ç¬¬ä¸€ä¸ªæŠŠç¬¬äºŒä¸ªè½¬ä¹‰ä¸ºæ™®é€šå­—ç¬¦æ—¶ï¼Œ<br>ç¬¬ä¸‰ä¸ªåˆæŠŠç¬¬å››ä¸ªè½¬ä¹‰ä¸ºæ™®é€šå­—ç¬¦ï¼Œæ‰€ä»¥æœ€ååŒ¹é…ä¸º<code>\\\\d</code></p><p>çœ‹åˆ°è¿™é‡Œç›¸ä¿¡æœ‰ä¸€éƒ¨åˆ†å°ä¼™ä¼´å·²ç»æ™•äº†ï¼Œ<br>è™½ç„¶åœ¨å·¥ä½œæˆ‘ä»¬ä¸ä¼šç©è¿™ç§æ“ä½œï¼Œä½†æ˜¯è¦æ·±åˆ»ç†è§£è½¬ä¹‰å­—ç¬¦ï¼Œ<br>åœ¨æ­£åˆ™ä¸­å¦‚æœä½ ç›´æ¥å†™ <code>var reg = /\/</code> ä¼šæŠ¥é”™ï¼Œ<br>å› ä¸ºæ­£åˆ™ä¸­ä¸èƒ½å•ç‹¬ä¸€ä¸ª\å‡ºç°ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šå…ƒå­—ç¬¦ï¼Œ<br>éœ€è¦å†™è‡³å°‘ä¸¤ä¸ª, ä¾‹å¦‚ï¼š <code>var reg = /^\\$/</code><br>æ­£ç¡®çš„åŒ¹é…ç»“æœä¸º<code>\\</code>ï¼Œæ‰€ä»¥ç‰¢è®°ä¸¤ä¸ª\ä»£è¡¨çœŸæ­£çš„\ï¼Œ<br>åˆ°è¿™é‡Œèƒ½ææ˜ç™½çš„åŒå­¦ï¼Œç›¸ä¿¡è½¬ä¹‰å­—ç¬¦å·²ç»å®Œå…¨æŒæ¡ã€‚</p><h2 id="3-é‡è¯"><a href="#3-é‡è¯" class="headerlink" title="3. é‡è¯"></a>3. é‡è¯</h2><p>é‡è¯ä¸»è¦çš„ä½œç”¨æ˜¯ç”¨æ¥æè¿°å…ƒå­—ç¬¦å‡ºç°çš„æ¬¡æ•° å¦‚ä¸‹ï¼š</p><ul><li><code>+</code> è®©å‰é¢çš„å…ƒå­—ç¬¦å‡ºç°ä¸€åˆ°å¤šæ¬¡</li><li><code>?</code> å‡ºç°é›¶åˆ°ä¸€æ¬¡</li><li><code>*</code> å‡ºç°é›¶åˆ°å¤šæ¬¡</li><li><code>&#123;n&#125;</code> å‡ºç°næ¬¡</li><li><code>&#123;n,&#125;</code> å‡ºç°nåˆ°å¤šæ¬¡</li><li><code>&#123;n,m&#125;</code> å‡ºç°nåˆ°mæ¬¡</li></ul><h2 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h2><p>JavaScript æ­£åˆ™é»˜è®¤ï¼š æ­£åˆ™åŒ¹é…æˆåŠŸå°±ä¼šç»“æŸï¼Œä¸ä¼šç»§ç»­åŒ¹é…ã€‚å¦‚æœæƒ³æŸ¥æ‰¾å…¨éƒ¨ï¼Œå°±è¦åŠ æ ‡è¯† <code>g</code>ï¼ˆå…¨å±€åŒ¹é…ï¼‰</p><h3 id="1-test"><a href="#1-test" class="headerlink" title="1. test()"></a>1. test()</h3><p>è§„åˆ™ï¼šåŒ¹é…å­—ç¬¦ä¸²ï¼ŒåŒ¹é…æˆåŠŸè¿”å›trueï¼ŒåŒ¹é…å¤±è´¥è¿”å›false<br>è¯­æ³•ï¼šæ­£åˆ™.test(å­—ç¬¦ä¸²)<br>æ¡ˆä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;123abc&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/\D/</span>; <span class="comment">// åŒ¹é…éæ•°å­—</span></span><br><span class="line"><span class="keyword">if</span>(re.test(str)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;ä¸å…¨æ˜¯æ•°å­—ï¼&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;å…¨æ˜¯æ•°å­—ï¼&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“teståŒ¹é…åˆ°ç»“å°¾æˆ–è€…åŒ¹é…ä¸åˆ°æ—¶ï¼Œè¿”å›falseï¼Œ<br>æˆåŠŸåˆ™å‘æ•°ç»„æ·»åŠ å½“å‰å°åˆ†ç»„åŒ¹é…ç¬¬ä¸€ä¸ªå…ƒç´ å†…å®¹ã€‚<br>åœ¨RegExpçš„constructorä¸­å­˜åœ¨$1-$9ï¼Œä»–ä»¬çš„å…·ä½“æŒ‡çš„æ˜¯å½“å‰æœ¬æ¬¡åŒ¹é…å°åˆ†ç»„ç¬¬ä¸€åˆ°ç¬¬ä¹æ•è·çš„å†…å®¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\&#123;([a-z]+)\&#125;/g</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;my name is &#123;weiran&#125;. I am from &#123;china&#125;&#x27;</span></span><br><span class="line"><span class="keyword">var</span> result = []</span><br><span class="line"><span class="keyword">while</span> (reg.test(str)) &#123;</span><br><span class="line"> result.push(<span class="built_in">RegExp</span>.$1)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// [&#x27;weiran&#x27;, &#x27;china&#x27;]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰‹åŠ¨å®ç°ä¸€ä¸ªå‡½æ•°åŒ¹é…åˆ°å…¨éƒ¨å†…å®¹å¹¶ä¸”éƒ½èƒ½æ•è·åˆ°</p><p>è¿™ä¸ªæ–¹æ³•å½“æ­£åˆ™regåŠ äº†ä¿®é¥°ç¬¦g åˆ™è¿”å›å¤§æ­£åˆ™åŒ¹é…åˆ°ç»“æœï¼Œå¦‚æœæ²¡åŠ gåˆ™è¿”å›execæ•è·ç»“æœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(\d&#123;6&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)\d&#123;2&#125;(\d)(\d|X)$/g</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;110105199001220613&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">RegExp</span>.prototype.myExec = <span class="function"><span class="keyword">function</span> <span class="title">myExec</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> str = <span class="built_in">arguments</span>[<span class="number">0</span>] || <span class="string">&#x27;&#x27;</span></span><br><span class="line"> <span class="keyword">var</span> result = []</span><br><span class="line"> <span class="comment">// é¦–å…ˆthisæŒ‡å‘çš„æ˜¯RegExpï¼Œæ‰€ä»¥åˆ¤æ–­thisæ˜¯å¦åŠ äº†å…¨å±€ä¿®é¥°ç¬¦g</span></span><br><span class="line"> <span class="comment">// å¦‚æœæ²¡æœ‰ï¼Œé˜²æ­¢æ‰§è¡Œæ­»å¾ªç¯ï¼Œæˆ‘ä»¬åªæ‰§è¡Œä¸€æ¬¡execå¹¶å°†å…¶è¿”å›å³å¯</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">if</span>(!<span class="built_in">this</span>.global) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.exec(str)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> arrs = <span class="built_in">this</span>.exec(str)</span><br><span class="line"> <span class="keyword">while</span>(arrs) &#123;</span><br><span class="line">  result.push(arrs[<span class="number">0</span>])</span><br><span class="line">  <span class="comment">// æ­¤æ—¶lastIndexçš„å€¼å·²ç»å˜ä¸ºä¸Šä¸€æ¬¡çš„ç»“å°¾</span></span><br><span class="line">  arrs = <span class="built_in">this</span>.exec(str)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-search"><a href="#2-search" class="headerlink" title="2. search()"></a>2. search()</h3><p>è§„åˆ™ï¼šåŒ¹é…æˆåŠŸï¼Œè¿”å›æˆåŠŸçš„ä½ç½®ï¼Œå¤±è´¥è¿”å›-1<br>ç”¨æ³•ï¼šå­—ç¬¦ä¸².search(æ­£åˆ™)<br>æ¡ˆä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> re1 = <span class="regexp">/d/i</span>;</span><br><span class="line"><span class="keyword">var</span> re2 = <span class="regexp">/h/i</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.search(re1)); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(str.search(re2)); <span class="comment">// -1</span></span><br></pre></td></tr></table></figure><h3 id="3-match"><a href="#3-match" class="headerlink" title="3. match()"></a>3. match()</h3><p>è§„åˆ™ï¼šåŒ¹é…æˆåŠŸï¼Œè¿”å›åŒ¹é…æˆåŠŸçš„æ•°ç»„ï¼ŒåŒ¹é…ä¸æˆåŠŸï¼Œè¿”å› null<br>ç”¨æ³•ï¼šå­—ç¬¦ä¸².match(æ­£åˆ™)<br>æ¡ˆä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;123fadf321dfadf4fadf1&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/\d+/g</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(re)); <span class="comment">//(4)Â [&quot;123&quot;, &quot;321&quot;, &quot;4&quot;, &quot;1&quot;]</span></span><br></pre></td></tr></table></figure><p>å½“åŠ äº†ä¿®é¥°ç¬¦<code>g</code>ï¼Œè¿”å›çš„æ˜¯å¤§æ­£åˆ™åŒ¹é…ç»“æœç»„æˆçš„æ•°ç»„ï¼Œ<br>ä¸åŠ ä¿®é¥°ç¬¦<code>g</code>åˆ™è¿”å›å¤§æ­£åˆ™å’Œæ¯ä¸ªå°åˆ†ç»„è¿”å›ç»“æœç»„æˆçš„æ•°ç»„ï¼Œ<br>ä½†æ˜¯ä»–ä¹Ÿæœ‰å±€é™æ€§ï¼Œå°±æƒ³ä¸Šé¢è¯´çš„åœ¨åŠ äº†ä¿®é¥°ç¬¦gçš„æ—¶å€™ï¼Œä¼šå¿½ç•¥å°åˆ†ç»„æ•è·å†…å®¹ï¼Œåªæ•è·å¤§æ­£åˆ™æ•è·å†…å®¹ï¼Œè§£å†³åŠæ³•å°±å‘ä¸Šé¢myExecä¸€æ ·ï¼Œå°†arrs[0]æ”¹ä¸ºarrsï¼Œåœ¨æ¯æ¬¡åŒ¹é…åˆ°ç»“æœæ—¶ï¼Œå°†æ¯ä¸ªå°åˆ†ç»„ä¹Ÿä¿å­˜ä¸‹æ¥ã€‚</p><h3 id="4-replace"><a href="#4-replace" class="headerlink" title="4. replace()"></a>4. replace()</h3><p>è§„åˆ™ï¼šåŒ¹é…é™ˆå®«çš„å­—ç¬¦ä¸²æ›¿æ¢æˆæ–°çš„å­—ç¬¦ä¸²ã€‚<br>ç”¨æ³•ï¼šå­—ç¬¦ä¸².replace(æ­£åˆ™, æ–°çš„å­—ç¬¦ä¸²)<br>æ¡ˆä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;aaa&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/a+/g</span>;</span><br><span class="line">str = str.replace(re, <span class="string">&quot;b&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// b</span></span><br></pre></td></tr></table></figure><p>æ•æ„Ÿè¯æ›¿æ¢</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="string">&#x27;éè¯šå‹¿æ‰°åœ¨ä¸­å›½èˆ¹çš„ç›‘è§†ä¹‹ä¸‹å¯¸æ­¥éš¾è¡Œ&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/éè¯š|ä¸­å›½èˆ¹|ç›‘è§†ä¹‹ä¸‹/g</span>;</span><br><span class="line">s1.replace(re, <span class="function"><span class="keyword">function</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;*&#x27;</span>.repeat(str.length);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ›¿æ¢å¤§æ‹¬å·é‡Œçš„å†…å®¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;my name is &#123;lalala&#125;, I\&#x27;m from &#123;haia&#125;&#x27;</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\&#123;([a-z]+)\&#125;/</span></span><br><span class="line">str = str.replace(reg, <span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(str)</span><br><span class="line"><span class="comment">// æ‰“å°å‡º my name is 123, I&#x27;m from &#123;ngaiwe&#125;</span></span><br><span class="line"><span class="comment">// åŒå­¦ä»¬ä¼šå‘ç°å’Œexecçš„æ‡’æƒ°æ€§å¾ˆç›¸ä¼¼ï¼Œä¸åŠ ä¿®é¥°ç¬¦g åªåŒ¹é…ç¬¬ä¸€ä¸ªlastIndexæ²¡æœ‰æ”¹å˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\&#123;([a-z]+)\&#125;/g</span></span><br><span class="line"><span class="comment">// æ‰“å°å‡º my name is 123, I&#x27;m from 123</span></span><br></pre></td></tr></table></figure><blockquote><p>replaceä¸ä¼šä¿®æ”¹åŸå§‹å­—ç¬¦ä¸²</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;my name is &#123;weiran&#125;, my blog is &#123;ngaiwe&#125;&#x27;</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\&#123;([a-z]+)\&#125;/g</span></span><br><span class="line">str = str.replace(reg, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// æ‰“å°å‡ºå½“å‰åŒ¹é…çš„å°åˆ†ç»„ï¼Œå¦‚æœå‡½æ•°ä¸­æ²¡æœ‰returnå‡ºæ›¿æ¢å€¼ï¼Œåˆ™è¿”å›undefined</span></span><br></pre></td></tr></table></figure><h3 id="5-split"><a href="#5-split" class="headerlink" title="5. split()"></a>5. split()</h3><p>æŒ‰ç…§æ­£åˆ™è§„åˆ™æ‹†åˆ†æ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;weiRanNgaiWe&#x27;</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[A-Z]/</span></span><br><span class="line"><span class="built_in">console</span>.log(str.split(reg))</span><br><span class="line"><span class="comment">// [&quot;wei&quot;, &quot;an&quot;, &quot;gai&quot;, &quot;e&quot;]æŒ‰ç…§å¤§å†™æ‹†åˆ†æˆæ•°ç»„</span></span><br></pre></td></tr></table></figure><h2 id="æ­£åˆ™åŸå‹æ–¹æ³•"><a href="#æ­£åˆ™åŸå‹æ–¹æ³•" class="headerlink" title="æ­£åˆ™åŸå‹æ–¹æ³•"></a>æ­£åˆ™åŸå‹æ–¹æ³•</h2><p><code>RegExp.prototype</code>æ­£åˆ™åŸå‹å¯¹è±¡ä¸Šä¸€å…±å°±ä¸‰ä¸ªæ–¹æ³•,<code>exec</code> <code>test</code>å’Œ<code>toString</code></p><h3 id="execç”¨äºæ•è·ç»„è€Œè®¾è®¡ï¼Œå®å‚æ˜¯è¦åŒ¹é…çš„å­—ç¬¦ä¸²"><a href="#execç”¨äºæ•è·ç»„è€Œè®¾è®¡ï¼Œå®å‚æ˜¯è¦åŒ¹é…çš„å­—ç¬¦ä¸²" class="headerlink" title="execç”¨äºæ•è·ç»„è€Œè®¾è®¡ï¼Œå®å‚æ˜¯è¦åŒ¹é…çš„å­—ç¬¦ä¸²"></a><code>exec</code>ç”¨äºæ•è·ç»„è€Œè®¾è®¡ï¼Œå®å‚æ˜¯è¦åŒ¹é…çš„å­—ç¬¦ä¸²</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;234ewqe2r3562&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/</span>;</span><br><span class="line">reg.exec(str);</span><br><span class="line"><span class="comment">// [&quot;234&quot;, index: 0, input: &quot;234ewqe2r3562&quot;, groups: undefined]</span></span><br><span class="line"><span class="comment">// 0: &quot;234&quot;</span></span><br><span class="line"><span class="comment">// groups: undefined</span></span><br><span class="line"><span class="comment">// index: 0</span></span><br><span class="line"><span class="comment">// input: &quot;234ewqe2r3562&quot;</span></span><br><span class="line"><span class="comment">// length: 1</span></span><br><span class="line"><span class="comment">// __proto__: Array(0)</span></span><br><span class="line">str = <span class="string">&#x27;æ–‡å­—&#x27;</span>;</span><br><span class="line">reg.exec(str);</span><br><span class="line"><span class="comment">// null</span></span><br></pre></td></tr></table></figure><p>æ•è·åŸç†</p><ol><li>åœ¨æ•è·çš„æ—¶å€™å…ˆéªŒè¯å½“å‰å­—ç¬¦ä¸²å’Œæ­£åˆ™æ˜¯å¦åŒ¹é…ï¼Œä¸åŒ¹é…è¿”å›nullï¼ˆæ²¡æœ‰æ•è·åˆ°ä»»ä½•å†…å®¹ï¼‰</li><li>å¦‚æœåŒ¹é…ä»å­—ç¬¦ä¸²æœ€å·¦è¾¹å¼€å§‹ï¼Œå‘å³æŸ¥æ‰¾åˆ°åŒ¹é…å†…å®¹ï¼Œå¹¶æŠŠåŒ¹é…çš„å†…å®¹è¿”å›</li></ol><p>æ•è·ç»“æœ</p><ol><li>ç»“æœæ˜¯ä¸€ä¸ªæ•°ç»„</li><li>ç¬¬ä¸€é¡¹0 æ˜¯å½“å‰æœ¬æ¬¡å¤§æ­£åˆ™ä¸­åŒ¹é…çš„ç»“æœ</li><li>indexæ˜¯åŒ¹é…åˆ°çš„ç»“æœåœ¨å­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ä½ç½®</li><li>inputå½“å‰æ­£åˆ™æ“ä½œçš„åŸå§‹å­—ç¬¦ä¸²</li><li>å¦‚æœå¤§æ­£åˆ™ä¸­æœ‰åˆ†ç»„()ï¼Œè·å–çš„æ•°ç»„ä¸­ä»ç¬¬äºŒé¡¹å¼€å§‹éƒ½æ˜¯æ¯ä¸ªå°åˆ†ç»„çš„æ•è·ç»“æœ<br>ä¸‹é¢ä¸¾ä¸€ä¸ªèº«ä»½è¯æ­£åˆ™çš„ä¾‹å­ ä¾¿äºå‚è€ƒï¼Œå…·ä½“é‡Œé¢åŒ¹é…è§„åˆ™ä¸‹é¢ä¼šå•ç‹¬ä»‹ç»ï¼Œè¿™é‡Œåªå­¦ä¹ å­—æ®µæ„ä¹‰</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(\d&#123;6&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)\d&#123;2&#125;(\d)(\d|X)$/</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;110010199301032345&#x27;</span></span><br><span class="line">reg.exec(str)</span><br><span class="line"><span class="comment">// æ‰§è¡Œç»“æœï¼š</span></span><br><span class="line"><span class="comment">// [&quot;110010199301032345&quot;, &quot;110010&quot;, &quot;1993&quot;, &quot;01&quot;, &quot;03&quot;, &quot;4&quot;, &quot;5&quot;, index: 0, input: &quot;110010199301032345&quot;, groups: undefined]</span></span><br><span class="line"><span class="comment">// 0: &quot;110010199301032345&quot;</span></span><br><span class="line"><span class="comment">// 1: &quot;110010&quot;</span></span><br><span class="line"><span class="comment">// 2: &quot;1993&quot;</span></span><br><span class="line"><span class="comment">// 3: &quot;01&quot;</span></span><br><span class="line"><span class="comment">// 4: &quot;03&quot;</span></span><br><span class="line"><span class="comment">// 5: &quot;4&quot;</span></span><br><span class="line"><span class="comment">// 6: &quot;5&quot;</span></span><br><span class="line"><span class="comment">// groups: undefined</span></span><br><span class="line"><span class="comment">// index: 0</span></span><br><span class="line"><span class="comment">// input: &quot;110010199301032345&quot;</span></span><br><span class="line"><span class="comment">// length: 7</span></span><br></pre></td></tr></table></figure><h3 id="æ‡’æƒ°æ€§"><a href="#æ‡’æƒ°æ€§" class="headerlink" title="æ‡’æƒ°æ€§"></a>æ‡’æƒ°æ€§</h3><p>æ­£åˆ™æ•è·å­˜åœ¨æ‡’æƒ°æ€§ï¼Œåœ¨ä¸Šé¢æ‰§è¡Œexecåªæ•è·åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆè§„åˆ™çš„å†…å®¹ï¼Œç¬¬äºŒæ¬¡æ‰§è¡Œä¹Ÿæ˜¯æ•è·åˆ°ç¬¬ä¸€ä¸ªå†…å®¹ï¼Œ<br>åé¢çš„å†…å®¹æ— è®ºæ‰§è¡Œå¤šå°‘æ¬¡éƒ½æ— æ³•æ•è·åˆ°ã€‚</p><blockquote><p>è§£å†³åŠæ³•ï¼šåœ¨æ­£åˆ™æœ«å°¾åŠ ä¿®é¥°ç¬¦<code>g</code>(å…¨å±€åŒ¹é…)</p></blockquote><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>æ­£åˆ™æœ¬èº«æœ‰<code>lastIndex</code>å±æ€§, ä¸‹ä¸€æ¬¡æ­£åˆ™åœ¨å­—ç¬¦ä¸²ä¸­åŒ¹é…æŸ¥æ‰¾çš„å¼€å§‹ç´¢å¼•<br>é»˜è®¤å€¼æ˜¯0ï¼Œ ä»å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹æŸ¥æ‰¾ï¼Œç”±æ­¤å¯è§å½“æ‰§è¡Œå®ŒexecålastIndexå¹¶æ²¡æœ‰å˜ï¼Œ<br>å¹¶ä¸”å°±ç®—æ‰‹åŠ¨ä¿®æ”¹lastIndexä¹Ÿä¸ä¼šèµ·ä½œç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;1w2q3e&#x27;</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex)</span><br><span class="line">reg.exec(str)</span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex)</span><br><span class="line">reg.exec(str)</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼æœ«å°¾åŠ <code>g</code>åï¼Œæ¯æ¬¡æ‰§è¡Œexecåï¼Œæµè§ˆå™¨é»˜è®¤ä¼šä¿®æ”¹lastIndexã€‚<br>ä¸‹æ¬¡ä»ä¸Šä¸€æ¬¡ç»“æŸçš„ä½ç½®å¼€å§‹æŸ¥æ‰¾</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/\d+/g</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex) <span class="comment">// 0</span></span><br><span class="line">reg.exec(str)</span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex) <span class="comment">// 1</span></span><br><span class="line">reg.exec(str)</span><br></pre></td></tr></table></figure><blockquote><p><code>reg.global</code> å¯ä»¥åˆ¤æ–­æ­£åˆ™æ˜¯å¦æ˜¯å…¨å±€åŒ¹é…</p></blockquote><h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h3><p>å°†æ­£åˆ™è¡¨è¾¾å¼è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</p><h3 id="test"><a href="#test" class="headerlink" title="test"></a>test</h3><p>å¦‚ä¸Š</p><h2 id="æ­£åˆ™è§£æ"><a href="#æ­£åˆ™è§£æ" class="headerlink" title="æ­£åˆ™è§£æ"></a>æ­£åˆ™è§£æ</h2><p>çœ‹ä¸€ä¸ªç®€å•çš„æ­£åˆ™ï¼š<code>^[a-z0-9_-]&#123;6,12&#125;$</code></p><ul><li>^è¡¨ç¤ºåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®</li><li>[a-z0-9_-]è¡¨ç¤ºå­—ç¬¦ä¸²çš„å¼€å¤´å¯ä»¥ä¸º<code>a-z</code>çš„å­—æ¯, <code>0-9</code>çš„æ•°å­—, <code>_</code>ä¸‹åˆ’çº¿, <code>-</code>è¿æ¥ç¬¦<ul><li>[a-z] è¡¨ç¤ºåŒ¹é… a-z ä¸­ä»»æ„å•ä¸ªå­—æ¯ï¼›</li><li>[0-9] è¡¨ç¤ºåŒ¹é… 0-9 ä¸­ä»»æ„å•ä¸ªæ•°å­—ï¼›</li><li>[_] è¡¨ç¤ºåŒ¹é…ä¸‹åˆ’çº¿ï¼›</li><li>[-] è¡¨ç¤ºåŒ¹é…è¿æ¥ç¬¦ -ã€‚<br>æ‰€ä»¥ï¼Œå°†å‰é¢çš„è¿èµ·æ¥ï¼Œ[a-z0-9_-] è¡¨ç¤ºå­—ç¬¦ä¸²å¯ä»¥åŒ…å«æ•°å­—ã€å­—æ¯ã€_ã€- è¿™å››ç§å½¢å¼çš„å­—ç¬¦ä¸²ã€‚</li></ul></li><li>{6, 12} è¡¨ç¤ºè¯¥å­—ç¬¦ä¸²çš„é•¿åº¦ä¸º 6-12 ä½ã€‚</li><li><code>$</code>è¡¨ç¤ºç»“æŸæ ‡å¿—ï¼Œ<code>^</code> è¡¨ç¤ºå¼€å§‹</li></ul><blockquote><p><code>^</code> ä¸ <code>$</code> åŒæ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºç²¾ç¡®åŒ¹é…ã€‚</p></blockquote><p>ç»¼ä¸Šï¼šè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ç”¨é€”æ ¡éªŒå­—ç¬¦ä¸²åªèƒ½åŒ…å«å°å†™å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œè¿æ¥å­—ç¬¦ï¼Œå¹¶ä¸”æœ€é•¿12ä½ï¼Œæœ€çŸ­6ä½ã€‚</p><h3 id="å°æ —å­ğŸŒ°ğŸŒ°ğŸŒ°"><a href="#å°æ —å­ğŸŒ°ğŸŒ°ğŸŒ°" class="headerlink" title="å°æ —å­ğŸŒ°ğŸŒ°ğŸŒ°"></a>å°æ —å­ğŸŒ°ğŸŒ°ğŸŒ°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;Cheer for yourself&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/^Cheer/</span>;</span><br><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/yourself$/</span>;</span><br><span class="line"><span class="keyword">var</span> reg3 = <span class="regexp">/for/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg1.test(str));</span><br><span class="line"><span class="built_in">console</span>.log(reg2.test(str));</span><br><span class="line"><span class="built_in">console</span>.log(reg3.test(str));</span><br></pre></td></tr></table></figure><p>â€ƒç¬¬ä¸€ä¸ªåˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ Cheer å¼€å¤´ï¼›<br>â€ƒç¬¬äºŒä¸ªåˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ yourself ç»“å°¾ï¼›<br>â€ƒç¬¬ä¸‰ä¸ªåˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦åŒ…å« forã€‚</p><ol><li><p>èº«ä»½è¯å·<br> å‰6ä½æ˜¯æ•°å­—åœ°åŒºåŒºå·ç»„æˆï¼Œç„¶åå››ä½æ˜¯å¹´ï¼Œä¸¤ä½æœˆï¼Œä¸¤ä½æ—¥å’Œå››ä½éšæœºï¼Œå€’æ•°ç¬¬äºŒä½å•æ•°ç”·æ€§ï¼ŒåŒæ•°å¥³æ€§ï¼Œ<br> æœ€åä¸€ä½å¯èƒ½æ˜¯å¤§å†™X,æ‰€ä»¥æ ¹æ®è¿™ä¸ªè§„åˆ™çš„æ­£åˆ™æ˜¯</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;110105199109214237&#x27;</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(\d&#123;6&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)\d&#123;2&#125;(\d)(\d|X)$/</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str))</span><br><span class="line"><span class="comment">// [&quot;110105199109214237&quot;, &quot;110105&quot;, &quot;1991&quot;, &quot;09&quot;, &quot;21&quot;, &quot;3&quot;, &quot;7&quot;, index: 0, input: &quot;110105199109214237&quot;, groups: undefined]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>é‚®ç®±<br> è§„åˆ™ï¼š</p><ol><li><p>@å‰é¢å¯èƒ½æ˜¯æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ã€-ã€.</p></li><li><p>-å’Œ.ä¸èƒ½ç›¸è¿åœ¨ä¸€èµ·<br> /^\w+((-|\w+)|(.\w+))*/ å¼€å¤´ä¸€å®šæ˜¯æ•°å­—ï¼Œå­—æ¯æˆ–ä¸‹åˆ’çº¿ç»„æˆï¼Œåé¢çš„å†…å®¹å¯èƒ½æ˜¯-ä¸æ•°å­—å­—æ¯ä¸‹åˆ’çº¿ æˆ–è€….å’Œæ•°å­—å­—æ¯ä¸‹åˆ’çº¿ç»„æˆçš„0åˆ°å¤šä¸ªå­—ç¬¦</p></li><li><p>@åé¢éƒ¨åˆ†<br>é¦–å…ˆä¸€å®šæ˜¯æ•°å­—å­—æ¯ç»„æˆçš„å¤šä½å­—ç¬¦<br>ç„¶åå¯èƒ½å­˜åœ¨æ˜¯.ç»„æˆçš„é‚®ç®±åç¼€æˆ–è€…é“¾æ¥å‰æ–¹å­—ç¬¦çš„.å’Œ-<br>æœ€åè‚¯å®šæ˜¯.ç»„æˆçš„é‚®ç®±åç¼€</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\w+((-|\w+)|(\.\w+))*@[a-zA-Z0-9]+((\.|-)[a-zA-Z0-9]+)*\.[a-zA-Z0-9]+$/</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;aaa@hotmail.com.cn&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str))</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol></li><li><p>URLæˆªå–<br> è·å–urlåçš„æœç´¢å‚æ•°<br> å‚æ•°è½¬åŒ–é”®å€¼å¯¹å’Œå“ˆå¸Œå€¼{key: â€˜valueâ€™}</p></li></ol><p>éœ€è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†æ•è·ï¼Œé¦–å…ˆç¬¬ä¸€æ¬¡æ•è·?åé¢çš„å‚æ•°ï¼Œç¬¬äºŒæ¬¡æ•è·#åé¢çš„hashå€¼<br>é¦–å…ˆåŒ¹é…ç¬¬ä¸€ä¸ªï¼Œä»–çš„è§„åˆ™æ˜¯åŒ¹é…ç­‰å·ä¸¤è¾¹æ‰€ä»¥æ˜¯/()=()/ï¼Œå¹¶ä¸”åŒ¹é…çš„æ˜¯é?&amp;=#çš„ç‰¹æ®Šå­—ç¬¦ï¼Œå°†ä»–ä»¬ä¿å­˜åœ¨objå¯¹è±¡ä¸­<br>å…¶æ¬¡åŒ¹é…hashï¼Œæ–¹æ³•å’Œç¬¬ä¸€ä¸ªç±»ä¼¼åªæ˜¯åŒ¹é…#åé¢çš„éƒ¨åˆ†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.myQueryURLParameter = <span class="function"><span class="keyword">function</span> <span class="title">myQueryURLParameter</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line"> <span class="built_in">this</span>.replace(<span class="regexp">/([^?&amp;=#]+)=([^?&amp;=#]+)/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  obj[<span class="built_in">arguments</span>[<span class="number">1</span>]] = <span class="built_in">arguments</span>[<span class="number">2</span>]</span><br><span class="line"> &#125;)</span><br><span class="line"> <span class="built_in">this</span>.replace(<span class="regexp">/#([^?&amp;=#]+)/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  obj[<span class="string">&#x27;HASH&#x27;</span>] = <span class="built_in">arguments</span>[<span class="number">1</span>]</span><br><span class="line"> &#125;)</span><br><span class="line"> <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç¼–å†™éªŒè¯è§„åˆ™æœ€æµè¡Œå’Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ­£åˆ™è¡¨è¾¾å¼äº†ï¼Œä½†å”¯ä¸€çš„ä¸€ä¸ªé—®é¢˜æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•å¤ªéšæ™¦äº†ï¼Œè®©äººè›‹ç–¼æ— æ¯”ã€‚å¾ˆå¤šå¼€å‘è€…ä¸ºäº†åœ¨é¡¹ç›®ä¸­åº”ç”¨å¤æ‚çš„éªŒè¯ï¼Œç»å¸¸è¦ä½¿ç”¨ä¸€äº›å°æŠ„æ¥è®°ä½æ­£åˆ™å¼çš„å¤æ‚è¯­æ³•å’Œå„ç§å¸¸ç”¨å‘½ä»¤ã€‚</p><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è¯•å›¾è®©å¤§å®¶æ˜ç™½ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»¥åŠå¦‚ä½•æ›´è½»æ¾åœ°å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><p>ä¹Ÿè®¸ä½ æ˜¯åˆå­¦è€…ï¼Œé‚£ä»¥é˜²ä¸‡ä¸€ï¼Œæˆ‘å…ˆæ¥è®²è®²ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼å§ï¼š</p><p>æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„æè¿°å¤æ‚çš„æ–‡æœ¬æ ¼å¼ã€‚ä¸€æ—¦ä½ æè¿°æ¸…æ¥šäº†è¿™äº›æ ¼å¼ï¼Œé‚£ä½ å°±å¯ä»¥åˆ©ç”¨å®ƒä»¬å¯¹æ–‡æœ¬æ•°æ®è¿›è¡Œæ£€ç´¢ã€æ›¿æ¢ã€æå–å’Œä¿®æ”¹æ“ä½œã€‚</p><p>ä¸‹é¢æœ‰ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ç®€å•ä¾‹å­ã€‚ç¬¬ä¸€æ­¥å…ˆè¦å¼•å…¥æœ‰å…³æ­£åˆ™å¼çš„å‘½åç©ºé—´ï¼š<br>using System.Text.RegularExpressions;<br>ç¬¬äºŒæ­¥å°±æ˜¯ç”¨æŒ‡å®šçš„æ­£åˆ™å¼æ„å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡,ä¸‹é¢çš„æ­£åˆ™å¼æ˜¯ç”¨æ¥æœç´¢é•¿åº¦ä¸º10çš„a-zçš„è‹±æ–‡å­—æ¯ï¼š<br>Regex obj = new Regex(â€œ[a-z]{10}â€);<br>æœ€åï¼Œæ ¹æ®æ­£åˆ™å¼åœ¨æŒ‡å®šæ•°æ®ä¸­æ£€ç´¢åŒ¹é…é¡¹,å¦‚æœåŒ¹é…IsMatchæ–¹æ³•å°±ä¼šè¿”å›trueã€‚<br>MessageBox.Show(obj.IsMatch(â€œshivkoiralaâ€).ToString());<br>3ä¸ªé‡è¦çš„æ­£åˆ™å¼å‘½ä»¤</p><p>è®°ä½æ­£åˆ™è¯­æ³•æœ€å¥½çš„åŠæ³•å°±æ˜¯è®°ä½è¿™ä¸‰æ ·ä¸œè¥¿ï¼šBracketï¼ˆæ‹¬å·ï¼‰, caretï¼ˆæ’å…¥ç¬¦å·ï¼‰å’ŒDollarsï¼ˆç¾å…ƒç¬¦å·ï¼‰ã€‚</p><p>B</p><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰3ç§ç±»å‹çš„æ‹¬å·</p><p>æ–¹æ‹¬å· â€œ[â€œå’ŒèŠ±æ‹¬å·â€œ{â€œ ã€‚</p><p>æ–¹æ‹¬å·â€[â€œå†…æ˜¯éœ€è¦åŒ¹é…çš„å­—ç¬¦ï¼ŒèŠ±æ‹¬å·â€{â€œå†…æ˜¯æŒ‡å®šåŒ¹é…å­—ç¬¦çš„æ•°é‡ã€‚</p><p>åœ†æ‹¬å·â€œ(â€œ åˆ™æ˜¯ç”¨æ¥åˆ†ç»„çš„ã€‚</p><p>C<br>æ’å…¥ç¬¦å· â€œ^â€ è¡¨ç¤ºæ­£åˆ™å¼çš„å¼€å§‹ã€‚</p><p>D<br>ç¾å…ƒç¬¦å·â€œ$â€ è¡¨ç¤ºæ­£åˆ™å¼çš„ç»“æŸã€‚<br>ç°åœ¨ä½ çŸ¥é“ä¸Šé¢çš„3ä¸ªè¯­æ³•åï¼Œä½ å°±å¯ä»¥å†™ä¸–ç•Œä¸Šä»»ä½•ä¸€æ¡éªŒè¯è§„åˆ™äº†ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­å°±å¾ˆå¥½çš„è¯´æ˜äº†ä¸Šé¢3æ¡æ­£åˆ™è¯­æ³•æ˜¯å¦‚ä½•åè°ƒè¿ä½œçš„ã€‚</p><p>æ³¨ï¼šä¸Šå›¾æœ‰ä¸ªé”™è¯¯ï¼Œâ€()â€åº”ä¸ºâ€{}â€</p><p>ä¸Šé¢çš„è¿™æ¡æ­£åˆ™å¼åªèƒ½åŒ¹é…a-zçš„è‹±æ–‡å­—æ¯ï¼ŒåŒæ ·æ˜¯åœ¨ä¸­æ‹¬å·ä¸­æ ‡æ˜åŒ¹é…èŒƒå›´ã€‚</p><p>èŠ±æ‹¬å·ä¸­åˆ™æ˜¯æ ‡æ˜åŒ¹é…å­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦å’Œæœ€å¤§é•¿åº¦ã€‚</p><p>æœ€åä¸ºäº†è®©è¡¨è¾¾å¼æ›´è§„åˆ™ï¼Œåˆ†åˆ«åœ¨å¼€å¤´å’Œç»“å°¾åŠ ä¸Šäº†æ’å…¥ç¬¦å·â€^â€å’Œç¾å…ƒç¬¦å·â€$â€ã€‚</p><p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±ç”¨ä¸Šé¢çš„3æ¡è¯­æ³•æ¥å®ç°ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼çš„éªŒè¯è§„åˆ™å§ã€‚</p><p>æ£€æŸ¥ç”¨æˆ·æ˜¯å¦è¾“å…¥äº†shivkoiralaï¼Ÿ<br>shivkoirala<br>è®©æˆ‘ä»¬å¼€å§‹ç¬¬ä¸€ä¸ªéªŒè¯ï¼Œè¾“å…¥çš„å­—ç¬¦åœ¨a-gä¹‹é—´ï¼Ÿ<br>[a-g]<br>è¾“å…¥çš„å­—ç¬¦åœ¨a-gä¹‹é—´å¹¶ä¸”é•¿åº¦ä¸º3ï¼Ÿ<br>[a-g]{3}<br>è¾“å…¥çš„å­—ç¬¦åœ¨a-gä¹‹é—´å¹¶ä¸”æœ€å¤§é•¿åº¦ä¸º3æœ€å°é•¿åº¦ä¸º1ï¼Ÿ<br>[a-g]{1,3}<br>æˆ‘å¦‚ä½•åœ¨åŒ¹é…åƒ91230456, 01237648é‚£æ ·çš„å›ºå®š8ä½æ•°ï¼Ÿ<br>^[0-9]{8}$<br>å¦‚ä½•éªŒè¯æœ€å°é•¿åº¦ä¸º3æœ€å¤§é•¿åº¦ä¸º7çš„æ•°å­—ï¼Œå¦‚ï¼š123, 1274667, 87654ï¼Ÿ<br>^[0-9]{3,7}$<br>å¦‚ä½•éªŒè¯åƒLJI1020é‚£æ ·çš„å‘ç¥¨ç¼–å·ï¼Œå‰3ä¸ªæ˜¯å­—æ¯å‰©ä½™ä¸º8ä½é•¿åº¦çš„æ•°å­—ï¼Ÿ</p><p>å‰ä¸‰ä¸ªæ˜¯å­—æ¯ï¼š<br>^[a-z]{3}<br>åé¢æ˜¯8ä½é•¿åº¦çš„æ•°å­—ï¼š<br>[0-9]{8}<br>æ‰€ä»¥æ•´ä¸ªè¡¨è¾¾å¼ä¸ºï¼š<br>^[a-z]{3}[0-9]{7}$<br>éªŒè¯åƒINV190203 æˆ– inv820830é‚£æ ·çš„å‰3ä½æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„è‹±æ–‡å­—æ¯ï¼Œå‰©ä½™8ä½æ˜¯æ•°å­—ã€‚</p><p>åœ¨å‰é¢çš„è¡¨è¾¾å¼ä¸­åªèƒ½åŒ¹é…å‰3ä¸ªæ˜¯å°å†™è‹±æ–‡å­—æ¯çš„å‘ç¥¨ç¼–å·ï¼Œå¦‚æœæˆ‘ä»¬è¾“å…¥å¤§å†™å­—æ¯é‚£å°±ä¸èƒ½åŒ¹é…äº†ã€‚æ‰€ä»¥ä¸ºäº†ç¡®ä¿å‰3ä¸ªå­—æ¯æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œæˆ‘ä»¬å°±è¦ç”¨è¡¨è¾¾å¼^[a-zA-Z]{3}ã€‚<br>^[a-zA-Z]{3}[0-9]{7}$<br>æˆ‘ä»¬å¯ä»¥éªŒè¯ç®€å•çš„ç½‘å€URLæ ¼å¼å—ï¼Ÿ</p><p>ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨wwwï¼š<br>^www.<br>ç¬¬äºŒæ­¥ï¼šåŸŸåå¿…é¡»æ˜¯é•¿åº¦åœ¨1-15çš„è‹±æ–‡å­—æ¯ï¼š<br>. [a-z]{1,15}<br>ç¬¬ä¸‰æ­¥ï¼šä»¥.comæˆ–è€….orgç»“æŸï¼š<br>. (com|org)$<br>å®Œæ•´çš„è¡¨è¾¾å¼å¦‚ä¸‹ï¼š<br>^www[.][a-z]{1,15}<a href="com%7Corg">.</a>$<br>è®©æˆ‘ä»¬åœ¨æ¥çœ‹çœ‹BCDï¼ˆå…¶å®ä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„3æ¡åŸºæœ¬è¯­æ³•ï¼‰å¦‚ä½•éªŒè¯emailæ ¼å¼ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼šemailå¼€å§‹æ˜¯é•¿åº¦åœ¨1-10çš„è‹±æ–‡å­—æ¯ï¼Œæœ€åè·Ÿä¸€ä¸ªâ€@â€ï¼š<br>^[a-zA-Z0-9]{1,10}@<br>ç¬¬äºŒæ­¥ï¼š@åé¢æ˜¯é•¿åº¦åœ¨1-10çš„è‹±æ–‡å­—æ¯ï¼Œåé¢è·Ÿä¸€ä¸ªâ€.â€ï¼š<br>[a-zA-Z]{1,10}.<br>ç¬¬ä¸‰æ­¥ï¼šæœ€åä»¥.comæˆ–.orgç»“æŸï¼š<br>.(com|org)$<br>æœ€åå®Œæ•´çš„è¡¨è¾¾å¼å¦‚ä¸‹ï¼š<br>^[a-zA-Z0-9]{1,10}@[a-zA-Z]{1,10}.(com|org)$<br>éªŒè¯å€¼åœ¨0-25çš„æ•°å­—ï¼š<br>^(([0-9])|([0-1][0-9])|([0-2][0-5]))$<br>éªŒè¯æ ¼å¼ä¸ºMM/DD/YYYY, YYYY/MM/DD and DD/MM/YYYYçš„æ—¥æœŸï¼š<br>æ­¥éª¤</p><p>æ­£åˆ™å¼</p><p>æè¿°è¯´æ˜</p><p>å…ˆæ¥æ£€æŸ¥ DD. é¦–å…ˆDDçš„é•¿åº¦ä¸º1-29 ( 2æœˆä»½) , 1-30 (æœˆå°) , 1-31 (æœˆå¤§) .</p><p>æ‰€ä»¥ DD å°±æ˜¯ 1-9 æˆ– 01-09</p><p>[1-9]|0[1-9]</p><p>å…è®¸ç”¨æˆ·è¾“å…¥1-9æˆ–è€…01-09.</p><p>å†ä¸ºDDæ·»åŠ åŒ¹é…10-19</p><p>[1-9]|1[0-9]</p><p>å…è®¸ç”¨æˆ·è¾“å…¥01-19.</p><p>å†ä¸ºDDæ·»åŠ åŒ¹é…20-29</p><p>[1-9]|1[0-9]|2[0-9]</p><p>å…è®¸ç”¨æˆ·è¾“å…¥01-29.</p><p>iå†ä¸ºDDæ·»åŠ åŒ¹é…30-31</p><p>[1-9]|1[0-9]|2[0-9]|3[0-1]</p><p>æœ€åç”¨æˆ·å¯ä»¥è¾“å…¥01-31.</p><p>å†æ¥åŒ¹é…æ—¥æœŸé—´çš„åˆ†éš”ç¬¦â€/â€œï¼Œâ€-â€œ</p><p>[/ . -]</p><p>å…è®¸ç”¨æˆ·è¾“å…¥æ—¥æœŸåˆ†éš”ç¬¦.</p><p>MMä¹Ÿæ˜¯ç±»ä¼¼çš„æ“ä½œ</p><p>[1-9]|0[1-9]|1[0-2]</p><p>è®©ç”¨æˆ·è¾“å…¥æœˆä»½å€¼01-12.</p><p>æœ€åå°±æ˜¯YYçš„æ“ä½œ</p><p>1[9][0-9][0-9]|2[0][0-9][0-9]</p><p>å…è®¸ç”¨æˆ·è¾“å…¥å¹´ä»½1900-2099.<br>æœ€åDD/MM/YYYYæ ¼å¼çš„æ—¥æœŸçš„æ­£åˆ™è¡¨è¾¾å¼ä¸ºï¼š<br>^([1-9]|0[1-9]|1[0-9]|2[0-9]|3[0-1])<a href="%5B1-9%5D%7C0%5B1-9%5D%7C1%5B0-2%5D">- / .</a><a href="1%5B9%5D%5B0-9%5D%5B0-9%5D%7C2%5B0%5D%5B0-9%5D%5B0-9%5D">- / .</a>$<br>MM/DD/YYYYæ ¼å¼çš„æ—¥æœŸï¼š<br>^([1-9]|0[1-9]|1[0-2])<a href="%5B1-9%5D%7C0%5B1-9%5D%7C1%5B0-9%5D%7C2%5B0-9%5D%7C3%5B0-1%5D">- / .</a><a href="1%5B9%5D%5B0-9%5D%5B0-9%5D%7C2%5B0%5D%5B0-9%5D%5B0-9%5D">- / .</a>$<br>YYYY/MM/DDæ ¼å¼çš„æ—¥æœŸï¼š<br>^(1[9][0-9][0-9]|2[0][0-9][0-9])<a href="%5B1-9%5D%7C0%5B1-9%5D%7C1%5B0-2%5D">- / .</a><a href="%5B1-9%5D%7C0%5B1-9%5D%7C1%5B0-9%5D%7C2%5B0-9%5D%7C3%5B0-1%5D">- / .</a>$<br>å¿«æ·å‘½ä»¤</p><p>ä½ ä¹Ÿå¯ä»¥ç”¨ä»¥ä¸‹çš„å¿«æ·å‘½ä»¤æ¥ç®€åŒ–ä½ çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<br>å®é™…å‘½ä»¤<br>å¿«æ·å‘½ä»¤</p><p>[0-9]<br>d</p><p>[a-z][0-9][_]<br>w</p><p>0æ¬¡æˆ–å¤šæ¬¡å‘ç”Ÿ<br>*</p><p>è‡³å°‘ä¸€æ¬¡å‘ç”Ÿ<br>+</p><p>0æ¬¡æˆ–1æ¬¡å‘ç”Ÿ<br>?</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> æ­£åˆ™ </tag>
            
            <tag> æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Node-å¸¸ç”¨å·¥å…·</title>
      <link href="posts/Node-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
      <url>posts/Node-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<h2 id="supervisor-ç›‘å¬Nodeæ”¹åŠ¨"><a href="#supervisor-ç›‘å¬Nodeæ”¹åŠ¨" class="headerlink" title="supervisor ç›‘å¬Nodeæ”¹åŠ¨"></a>supervisor ç›‘å¬Nodeæ”¹åŠ¨</h2><p><a href="http://supervisord.org/">supervisor å®˜ç½‘</a><br>æ˜¯ä¸€ä¸ªè¿›ç¨‹æ§åˆ¶ç³»ç»Ÿ</p><p>å¹³æ—¶ï¼Œæˆ‘ä»¬ <code>node app.js</code> åï¼Œå½“æˆ‘ä»¬ä¿®æ”¹äº† app.js çš„å†…å®¹ï¼Œå°±éœ€è¦å…³é—­ node å‘½ä»¤è¡Œå†æ‰§è¡Œ node app.jsã€‚<br>è€Œæˆ‘ä»¬ä½¿ç”¨ supervisor åï¼Œæˆ‘ä»¬ä¿®æ”¹äº† app.js ä¸­çš„å†…å®¹ï¼Œåªè¦ç‚¹å‡»ä¿å­˜ï¼Œå³å¯ç”Ÿæ•ˆä¿å­˜åçš„ä»£ç ï¼Œå®ç°å®æ—¶ç›‘å¬ node ä»£ç çš„å˜åŠ¨ã€‚</p><a id="more"></a><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><ol><li>å®‰è£…æ’ä»¶ï¼š<code>npm i supervisor -g</code></li><li>è¿è¡Œå‘½ä»¤ï¼š<code>supervisor app.js</code></li><li>æŸ¥çœ‹è¿è¡Œï¼š<code>localhost:3000</code></li></ol><p><strong>æ‰§è¡Œå‘½ä»¤å¿…é¡»åœ¨é¡¹ç›®çš„æ ¹ç›®å½•å¯åŠ¨ã€‚ä¸ç®¡æœåŠ¡å¯åŠ¨æ–‡ä»¶åœ¨ä»€ä¹ˆä½ç½®ã€‚</strong></p><p>ä¾‹å¦‚ï¼šExpress4.0ä¸­ï¼Œå¯åŠ¨æ–‡ä»¶ä½äº<code>./bin/www</code>ï¼Œå¯åŠ¨æ—¶ï¼Œå¿…é¡»åœ¨<code>./</code>ä¸‹æ‰§è¡Œ<code>supervisor bin/www</code></p><p>æ²¡æœ‰ä»»ä½•å‚æ•°å¯åŠ¨æœåŠ¡ï¼Œé»˜è®¤ç›‘æ§æ‰€æœ‰æ–‡ä»¶, æ–‡ä»¶å¤¹çš„å˜åŒ–ï¼Œä¸€æ—¦æœ‰å˜åŒ–ï¼ŒæœåŠ¡å°±ä¼šé‡å¯ã€‚</p><p>è¿™æ ·ä¼šå‡ºç°å¾ˆå¤šé—®é¢˜ï¼šå°†æ—¥å¿—å­˜å…¥æŸäº›æ–‡ä»¶å¤¹ï¼Œæˆ–ä¸Šä¼ é™„ä»¶ç­‰ï¼Œéƒ½ä¼šå¯¼è‡´æœåŠ¡å™¨æ–‡ä»¶çš„å˜åŒ–ï¼Œå¿…ç„¶å¼•èµ·nodeæœåŠ¡å™¨çš„é‡å¯ã€‚</p><p>ä¸æƒ³ç›‘æ§æŸäº›æ–‡ä»¶å¤¹ï¼Œå¯ä»¥ä½¿ç”¨-iå‚æ•°ã€‚å¦‚ï¼šå¿½ç•¥æ ¹ç›®å½•ä¸‹çš„private, å¯ä»¥è¿™æ ·å¯åŠ¨ï¼š<br><code>supervisor -i ./private myapp</code><br>å¿½ç•¥å¤šä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ™ç”¨<code>,</code>éš”å¼€<br><code>supervisor -i ./private,./otherdir myapp</code></p><h3 id="è¯¦ç»†ä»‹ç»"><a href="#è¯¦ç»†ä»‹ç»" class="headerlink" title="è¯¦ç»†ä»‹ç»"></a>è¯¦ç»†ä»‹ç»</h3><p>è¿è¡Œï¼š<code>supervisor</code></p><h2 id="PM2-Nodeè¿›ç¨‹ç®¡ç†"><a href="#PM2-Nodeè¿›ç¨‹ç®¡ç†" class="headerlink" title="PM2 - Nodeè¿›ç¨‹ç®¡ç†"></a>PM2 - Nodeè¿›ç¨‹ç®¡ç†</h2><p><a href="https://www.npmjs.com/package/pm2">PM2- NPM</a><br><a href="https://pm2.io/doc/en/runtime/quick-start/">å®˜ç½‘</a><br>PM2 æ˜¯ Node è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥åˆ©ç”¨å®ƒæ¥ç®€åŒ–å¾ˆå¤š Node åº”ç”¨ç®¡ç†çš„ç¹çä»»åŠ¡ï¼Œå¦‚æ€§èƒ½ç›‘æ§ã€è‡ªåŠ¨é‡å¯ã€è´Ÿè½½å‡è¡¡ç­‰ï¼Œè€Œä¸”ä½¿ç”¨éå¸¸ç®€å•ã€‚<br>ä¸‹é¢å°±å¯¹ PM2 è¿›è¡Œå…¥é—¨æ€§çš„ä»‹ç»ï¼ŒåŸºæœ¬æ¶µç›–äº† PM2 çš„å¸¸ç”¨çš„åŠŸèƒ½å’Œé…ç½®ï¼š</p><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><ol><li>å…¨å±€å®‰è£… <code>PM2ï¼šnpm i pm2 -g</code></li><li>ç›‘å¬åº”ç”¨ï¼š<code>pm2 start index.js</code></li><li>æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ï¼š<code>pm2 list</code></li><li>æŸ¥çœ‹æŸä¸ªè¿›ç¨‹ï¼š<code>pm2 describe App name/id</code></li><li>åœæ­¢æŸä¸ªè¿›ç¨‹ï¼š<code>pm2 stop App name/id</code></li><li>åœæ­¢æ‰€æœ‰è¿›ç¨‹ï¼š<code>pm2 stop all</code></li><li>é‡å¯æŸä¸ªè¿›ç¨‹ï¼š<code>pm2 restart App name/id</code></li><li>åˆ é™¤æŸä¸ªè¿›ç¨‹ï¼š<code>pm2 delete App name/id</code></li><li>æŸ¥çœ‹æ‰€æœ‰çš„è¿›ç¨‹çŠ¶æ€ï¼špm2 status</li></ol><p>supervisor æ˜¯ç›‘å¬å•ä¸ªè¿›ç¨‹çš„è¯ï¼Œé‚£ä¹ˆ PM2 å°±æ˜¯ç›‘å¬å¤šä¸ªè¿›ç¨‹ã€‚</p><h2 id="å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜" class="headerlink" title="å‚æ•°è¯´æ˜"></a>å‚æ•°è¯´æ˜</h2><ul><li><code>--watch</code>ï¼šç›‘å¬åº”ç”¨ç›®å½•æºç çš„å˜åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œè‡ªåŠ¨é‡å¯ã€‚å¦‚æœè¦ç²¾ç¡®ç›‘å¬ã€ä¸è§å¬çš„ç›®å½•ï¼Œæœ€å¥½é€šè¿‡é…ç½®æ–‡ä»¶</li><li><code>-i --instances</code>ï¼šå¯ç”¨å¤šå°‘ä¸ªå®ä¾‹ï¼Œå¯ç”¨äºè´Ÿè½½å‡è¡¡ã€‚å¦‚æœ-i 0æˆ–è€…-i maxï¼Œåˆ™æ ¹æ®å½“å‰æœºå™¨æ ¸æ•°ç¡®å®šå®ä¾‹æ•°ç›®ï¼Œå¯ä»¥å¼¥è¡¥node.jsç¼ºé™·</li><li><code>--ignore-watch</code>ï¼šæ’é™¤ç›‘å¬çš„ç›®å½•/æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ç‰¹å®šçš„æ–‡ä»¶åï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ã€‚æ¯”å¦‚â€“ignore-watch=â€test node_modules â€œsome scriptsâ€</li><li>-n â€“nameï¼šåº”ç”¨çš„åç§°ã€‚æŸ¥çœ‹åº”ç”¨ä¿¡æ¯çš„æ—¶å€™å¯ä»¥ç”¨åˆ°</li><li><code>-o --output &lt;path&gt;</code>ï¼šæ ‡å‡†è¾“å‡ºæ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ï¼Œæœ‰é»˜è®¤è·¯å¾„</li><li><code>-e --error &lt;path&gt;</code>ï¼šé”™è¯¯è¾“å‡ºæ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ï¼Œæœ‰é»˜è®¤è·¯å¾„</li><li><code>--interpreter &lt;interpreter&gt;</code>ï¼šthe interpreter pm2 should use for executing app (bash, pythonâ€¦)ã€‚æ¯”å¦‚ä½ ç”¨çš„coffee scriptæ¥ç¼–å†™åº”ç”¨</li></ul><h2 id="é€šè¿‡yamlç®¡ç†å¤šä¸ªåº”ç”¨"><a href="#é€šè¿‡yamlç®¡ç†å¤šä¸ªåº”ç”¨" class="headerlink" title="é€šè¿‡yamlç®¡ç†å¤šä¸ªåº”ç”¨"></a>é€šè¿‡yamlç®¡ç†å¤šä¸ªåº”ç”¨</h2><p>process.yml</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apps:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">script   :</span> <span class="string">app.js</span></span><br><span class="line">    <span class="attr">instances:</span> <span class="number">4</span></span><br><span class="line">    <span class="attr">exec_mode:</span> <span class="string">cluster</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">script :</span> <span class="string">worker.js</span></span><br><span class="line">    <span class="attr">watch  :</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">env    :</span></span><br><span class="line">      <span class="attr">NODE_ENV:</span> <span class="string">development</span></span><br><span class="line">    <span class="attr">env_production:</span></span><br><span class="line">      <span class="attr">NODE_ENV:</span> <span class="string">production</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨: <code>pm2 start process.yml</code></p><h2 id="ç¯å¢ƒåˆ‡æ¢"><a href="#ç¯å¢ƒåˆ‡æ¢" class="headerlink" title="ç¯å¢ƒåˆ‡æ¢"></a>ç¯å¢ƒåˆ‡æ¢</h2><p>å¼€å‘ä¸­ä¼šæœ‰å¤šä¸ªç¯å¢ƒ(å¼€å‘ï¼Œæµ‹è¯•ï¼Œç”Ÿäº§ç­‰), æ ¹æ®ä¸åŒç¯å¢ƒåˆ‡æ¢å„ç§æƒ…æ™¯</p><p>pm2é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­çš„<code>env_xx</code>æ¥å£°æ˜ä¸åŒç¯å¢ƒçš„é…ç½®ï¼Œç„¶ååœ¨å¯åŠ¨æ—¶é€šè¿‡<code>--env</code>å‚æ•°æŒ‡å®šè¿è¡Œç¯å¢ƒ</p><p>ç¯å¢ƒå˜é‡å¦‚ä¸‹å®šä¹‰</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&quot;env&quot;: &#123;</span><br><span class="line">    &quot;NODE_ENV&quot;: &quot;production&quot;,</span><br><span class="line">    &quot;REMOTE_ADDR&quot;: &quot;http://www.example.com/&quot;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;env_dev&quot;: &#123;</span><br><span class="line">    &quot;NODE_ENV&quot;: &quot;development&quot;,</span><br><span class="line">    &quot;REMOTE_ADDR&quot;: &quot;http://wdev.example.com/&quot;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;env_test&quot;: &#123;</span><br><span class="line">    &quot;NODE_ENV&quot;: &quot;test&quot;,</span><br><span class="line">    &quot;REMOTE_ADDR&quot;: &quot;http://wtest.example.com/&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨åº”ç”¨ä¸­é€šè¿‡process.env.REMOTE_ADDRç­‰æ¥è¯»å–é…ç½®ä¸­å£°æ˜çš„å˜é‡</p><p>å¯åŠ¨æŒ‡å®šçš„ç¯å¢ƒï¼š<code>pm2 start app.js --env development</code></p><h2 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pm2 start app.js -i 3 <span class="comment"># å¼€å¯ä¸‰ä¸ªè¿›ç¨‹</span></span><br><span class="line">pm2 start app.js -i max <span class="comment"># æ ¹æ®æœºå™¨CPUæ ¸æ•°ï¼Œå¼€å¯å¯¹åº”æ•°ç›®çš„è¿›ç¨‹</span></span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ—¥å¿—"><a href="#æŸ¥çœ‹æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹æ—¥å¿—"></a>æŸ¥çœ‹æ—¥å¿—</h2><p><code>pm2 logs</code></p><h2 id="æŸ¥çœ‹ç›‘æ§"><a href="#æŸ¥çœ‹ç›‘æ§" class="headerlink" title="æŸ¥çœ‹ç›‘æ§"></a>æŸ¥çœ‹ç›‘æ§</h2><p><code>pm2 monit</code></p><h2 id="å¼€æœºè‡ªåŠ¨å¯åŠ¨"><a href="#å¼€æœºè‡ªåŠ¨å¯åŠ¨" class="headerlink" title="å¼€æœºè‡ªåŠ¨å¯åŠ¨"></a>å¼€æœºè‡ªåŠ¨å¯åŠ¨</h2><ol><li>è¿è¡Œ <code>pm2 startup</code>ï¼Œå³åœ¨<code>/etc/init.d/</code> ç›®å½•ä¸‹ç”Ÿæˆ <code>pm2-root</code> çš„å¯åŠ¨è„šæœ¬ï¼Œä¸”è‡ªåŠ¨å°† <code>pm2-root</code> è®¾ä¸ºæœåŠ¡ï¼›</li><li>é€šè¿‡pm2 saveä¿å­˜å½“å‰è¿›ç¨‹çŠ¶æ€ã€‚</li></ol><h2 id="è¯¦ç»†ä»‹ç»pm2"><a href="#è¯¦ç»†ä»‹ç»pm2" class="headerlink" title="è¯¦ç»†ä»‹ç»pm2"></a>è¯¦ç»†ä»‹ç»pm2</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pm2 -h <span class="comment"># help</span></span><br><span class="line">pm2 <span class="comment"># è¯­æ³•ä»‹ç»</span></span><br></pre></td></tr></table></figure><h2 id="nodeç‰ˆæœ¬å‡çº§"><a href="#nodeç‰ˆæœ¬å‡çº§" class="headerlink" title="nodeç‰ˆæœ¬å‡çº§"></a>nodeç‰ˆæœ¬å‡çº§</h2><p>å…ˆæ¸…ç¼“å­˜<br>å®‰è£…næ¨¡å—<br>å‡çº§åˆ°æŒ‡å®šç‰ˆæœ¬/æœ€æ–°ç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm cache clean -f</span><br><span class="line"></span><br><span class="line">npm install -g n</span><br><span class="line"></span><br><span class="line">n stable</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼ŒæŸ¥çœ‹Nodeçš„ç‰ˆæœ¬<br><code>node -v</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> node </tag>
            
            <tag> è¿›ç¨‹ç®¡ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript:for-ofåˆ°generator</title>
      <link href="posts/JavaScript-for-of%E5%88%B0generator/"/>
      <url>posts/JavaScript-for-of%E5%88%B0generator/</url>
      
        <content type="html"><![CDATA[<h1 id="for-of"><a href="#for-of" class="headerlink" title="for of"></a>for of</h1><p>åœ¨<code>JavaScript</code>ä¸­, å¾ªç¯æ•°ç»„å¯ä»¥é€šè¿‡<code>map, filter, for of</code> ç­‰æ¥éå†ä¸€ä¸ªæ•°ç»„.</p><p>ä¸ºä»€ä¹ˆfor of å¯ä»¥éå†æ•°ç»„æˆ–ç±»æ•°ç»„å¯¹è±¡(<code>String, Maps, Sets, arguments</code>)ï¼Ÿ<br>ä¸ºä»€ä¹ˆä¸èƒ½ç”¨æ¥éå†ä¸€ä¸ªå¯¹è±¡ï¼Ÿ</p><p>å¾ªç¯æ•°ç»„æ—¶ï¼Œéœ€è¦ä¸¤ä¸ªä¿¡æ¯ï¼š</p><blockquote><ol><li>å¯¹åº”ä¸‹æ ‡çš„å€¼</li><li>æ˜¯å¦éå†ç»“æŸçš„æ ‡å¿—</li></ol></blockquote><p>åœ¨æ§åˆ¶å°æ‰“å°ä¸€ä¸ªæ•°ç»„çœ‹ä¸€ä¸‹ç»“æ„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.dir(arr);</span><br></pre></td></tr></table></figure><p>åœ¨__proto__ä¸­å¯ä»¥çœ‹åˆ°<code>Symbol(Symbol.iterator)</code><br><strong>æ•°ç»„æˆ–ç±»æ•°ç»„å¯¹è±¡çš„åŸå‹ä¸­éƒ½å®ç°äº†ä¸€ä¸ªæ–¹æ³•<code>Symbol.iterator</code></strong></p><p>å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•æŸ¥çœ‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="built_in">console</span>.dir(map);</span><br><span class="line"><span class="keyword">const</span> str = <span class="keyword">new</span> <span class="built_in">String</span>();</span><br><span class="line"><span class="built_in">console</span>.dir(str);</span><br><span class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="built_in">console</span>.dir(set);</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="iterator-è¿­ä»£å™¨"><a href="#iterator-è¿­ä»£å™¨" class="headerlink" title="iterator(è¿­ä»£å™¨)"></a>iterator(è¿­ä»£å™¨)</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols">è¿­ä»£åè®® mdnæ–‡æ¡£</a></p><p>The iterator protocol(å¯è¿­ä»£åè®®å…è®¸) JavaScript å¯¹è±¡å»å®šä¹‰æˆ–å®šåˆ¶å®ƒä»¬çš„è¿­ä»£è¡Œä¸º.<br>æ‰€ä»¥ä¸Šé¢å‡ºç°çš„<code>Symbol.iterator</code>å°±æ˜¯æ•°ç»„å¯¹äºè¿™ä¸ªåè®®çš„å®ç°ã€‚</p><h3 id="æ•°ç»„æ€ä¹ˆå®ç°äº†ä¸€ä¸ªiteratorå‘¢ï¼Ÿ"><a href="#æ•°ç»„æ€ä¹ˆå®ç°äº†ä¸€ä¸ªiteratorå‘¢ï¼Ÿ" class="headerlink" title="æ•°ç»„æ€ä¹ˆå®ç°äº†ä¸€ä¸ªiteratorå‘¢ï¼Ÿ"></a>æ•°ç»„æ€ä¹ˆå®ç°äº†ä¸€ä¸ªiteratorå‘¢ï¼Ÿ</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Iterators_and_Generators">MDN æ–‡æ¡£</a></p><p>ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ ï¼ŒçŸ¥é“å¦‚ä½•æ¯æ¬¡è®¿é—®é›†åˆä¸­çš„ä¸€é¡¹ï¼Œ å¹¶è·Ÿè¸ªè¯¥åºåˆ—ä¸­çš„å½“å‰ä½ç½®ã€‚åœ¨  JavaScript ä¸­ è¿­ä»£å™¨æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªnext() æ–¹æ³•ï¼Œç”¨æ¥è¿”å›åºåˆ—ä¸­çš„ä¸‹ä¸€é¡¹ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›åŒ…å«ä¸¤ä¸ªå±æ€§ï¼šdoneå’Œ valueã€‚</p><p>è¿™é‡Œè·å–ä¸Šé¢æ•°ç»„çš„<code>Symbol.iterator</code>, æ‰“å°å‡ºæ¥çœ‹çœ‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> iterator = arr[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="built_in">console</span>.dir(iterator);</span><br></pre></td></tr></table></figure><p>åœ¨iteratorçš„åŸå‹ä¸­æœ‰<code>next</code>æ–¹æ³•ï¼Œæ‰§è¡Œnextæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">iterator.next(); <span class="comment">// è¾“å‡º &#123;value: 1, done: false&#125;</span></span><br><span class="line">iterator.next(); <span class="comment">// è¾“å‡º &#123;value: 2, done: false&#125;</span></span><br><span class="line">iterator.next(); <span class="comment">// è¾“å‡º &#123;value: 3, done: false&#125;</span></span><br><span class="line">iterator.next(); <span class="comment">// è¾“å‡º &#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>å½“ä¸‹æ ‡è¶…å‡ºæ—¶ï¼Œvalue:undefined<br>iteratoræ¯æ¬¡éƒ½è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«ä¸¤ä¸ªä¿¡æ¯ï¼Œå½“å‰ä¸‹æ ‡çš„å€¼<code>value</code>, éå†æ˜¯å¦ç»“æŸçš„æ ‡å¿—<code>done</code></p></blockquote><p><strong>ä¸ºä»€ä¹ˆfor of ä¸èƒ½éå†ä¸€ä¸ªå¯¹è±¡å‘¢ï¼ŸJavaScript çš„å¯¹è±¡ä¸­æ²¡æœ‰å®ç°ä¸€ä¸ªè¿™æ ·çš„ iterator</strong></p><p>å¯ä»¥æ‰“å°çœ‹ä¸€ä¸‹<code>console.log(&#123;&#125;)</code></p><h3 id="ä¸ºä»€ä¹ˆåœ¨Objectä¸­æ²¡æœ‰å†…ç½®è¿­ä»£å™¨ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆåœ¨Objectä¸­æ²¡æœ‰å†…ç½®è¿­ä»£å™¨ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆåœ¨Objectä¸­æ²¡æœ‰å†…ç½®è¿­ä»£å™¨ï¼Ÿ"></a>ä¸ºä»€ä¹ˆåœ¨Objectä¸­æ²¡æœ‰å†…ç½®è¿­ä»£å™¨ï¼Ÿ</h3><p>å…ˆäº†è§£ä¸€ä¸‹åŸºæœ¬æ¦‚å¿µ</p><p>éå†å¯¹è±¡åªä¼šåœ¨ä¸¤ç§å±‚çº§ä¸Šå¯¹ä¸€ä¸ª<code>JavaScript</code>å¯¹è±¡è¿›è¡Œéå†ï¼š</p><ul><li>ç¨‹åºçš„å±‚çº§ã€‚å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œè¿­ä»£ï¼Œæ˜¯åœ¨è¿­ä»£å±•ç¤ºå…¶ç»“æ„çš„å¯¹è±¡å±æ€§ã€‚ä¸¾ä¸ªæ —å­ï¼š<code>Array.prototype.length</code>è¿™ä¸ªå±æ€§ä¸å¯¹è±¡çš„ç»“æ„ç›¸å…³ï¼Œä½†å´ä¸æ˜¯å®ƒçš„æ•°æ®ã€‚</li><li>æ•°æ®çš„å±‚çº§ã€‚è¿­ä»£æ•°æ®ç»“æ„å¹¶æå–å®ƒçš„æ•°æ®ã€‚ä¸¾ä¸ªæ —å­ï¼šè¿­ä»£æ•°ç»„ï¼Œå¯¹å®ƒçš„æ¯ä¸ªæ•°æ®è¿›è¡Œè¿­ä»£ï¼Œå¦‚æœ<code>arr=[aï¼Œbï¼Œc]</code>ï¼Œè¿­ä»£å™¨è®¿é—®çš„æ˜¯<code>1,2,3</code></li></ul><p><strong><code>JavaScript</code>è™½ç„¶ä¸æ”¯æŒç”¨<code>for of</code>éå†å¯¹è±¡ï¼Œä½†æä¾›äº†<code>for in</code> æ–¹æ³•æ¥éå†æ‰€æœ‰é<code>Symbol</code>ç±»å‹å¹¶ä¸”æ˜¯å¯æšä¸¾çš„å±æ€§ã€‚</strong></p><p>æ ‡å‡†ä¸æ”¯æŒï¼Œè‡ªå·±å®ç°ä¸€ä¸ªfor-ofæ¥éå†å¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> [key, value] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(<span class="built_in">this</span>)) &#123;</span><br><span class="line">        <span class="keyword">yield</span> &#123; key, value &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> &#123; key, value &#125; <span class="keyword">of</span> &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> &#125;) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key, value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨å®ç°iteratorä»£ç ä¸­ï¼Œç”¨åˆ°äº†Generator ç»“æ„ï¼š<code>function*() &#123;&#125;</code></p><h2 id="Generators"><a href="#Generators" class="headerlink" title="Generators"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator">Generators</a></h2><p>è¯­æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> g = gen(); </span><br><span class="line"><span class="comment">// &quot;Generator &#123; &#125;&quot;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ‰“å°ä¸€ä¸‹genï¼Œ <code>console.dir(gen)</code><br>å¯ä»¥çœ‹åˆ°<code>next</code>æ–¹æ³•ã€‚æ‰§è¡Œçœ‹ç»“æœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = gen();</span><br><span class="line">s.next(); <span class="comment">// &#123;value: 1, done: false&#125;</span></span><br><span class="line">s.next(); <span class="comment">// &#123;value: 2, done: false&#125;</span></span><br><span class="line">s.next(); <span class="comment">// &#123;value: 3, done: false&#125;</span></span><br><span class="line">s.next(); <span class="comment">// &#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure><p>generatorå¯ä»¥å®ä¾‹åŒ–å‡ºä¸€ä¸ªiteratorï¼Œyieldè¯­å¥å°±æ˜¯ç”¨æ¥ä¸­æ–­ä»£ç çš„æ‰§è¡Œçš„ã€‚é…åˆnext() æ–¹æ³•ï¼Œæ¯æ¬¡åªä¼šæ‰§è¡Œä¸€ä¸ªyieldè¯­å¥ã€‚</p><h3 id="generatorç‰¹æ€§"><a href="#generatorç‰¹æ€§" class="headerlink" title="generatorç‰¹æ€§"></a>generatorç‰¹æ€§</h3><ul><li><p>yieldåé¢å¯ä»¥è·Ÿä¸Šå¦ä¸€ä¸ªGenerator, å¹¶ä¸”ä»–ä»¬ä¼šæŒ‰ç…§æ¬¡åºæ‰§è¡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span>* gen2();</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">4</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> iterator = gen();</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1,4,5,2</span></span><br></pre></td></tr></table></figure></li><li><p>return ä¼šç»ˆç»“æ•´ä¸ªGeneratorã€‚å¸è½½returnåçš„yieldä¸ä¼šæ‰§è¡Œã€‚</p></li></ul><h3 id="Generatoræœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#Generatoræœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="Generatoræœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>Generatoræœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>èƒ½å¤Ÿä¸­æ–­æ‰§è¡Œä»£ç ï¼Œå¸®åŠ©æˆ‘ä»¬æ§åˆ¶å¼‚æ­¥ä»£ç çš„æ‰§è¡Œé¡ºåºã€‚</p><p>ä¾‹å¦‚æœ‰ä¸¤ä¸ªå¼‚æ­¥çš„å‡½æ•° A å’Œ B, å¹¶ä¸” B çš„å‚æ•°æ˜¯ A çš„è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ A æ²¡æœ‰æ‰§è¡Œç»“æŸï¼Œæˆ‘ä»¬ä¸èƒ½æ‰§è¡Œ B</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">effect</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; param &#125; = <span class="keyword">yield</span> A();</span><br><span class="line">  <span class="keyword">const</span> &#123; result &#125; = <span class="keyword">yield</span> B(param);</span><br><span class="line">  <span class="built_in">console</span>.table(result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> iterator = effect();</span><br><span class="line">iterator.next();</span><br><span class="line">iterator.next();</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸¤æ¬¡ next() å¾—åˆ°ç»“æœï¼Œçœ‹èµ·æ¥å¾ˆç¹çã€‚<br>å‡è®¾æ¯æ¬¡æ‰§è¡Œ A() / B() çš„è¯·æ±‚ç»“æŸä¹‹åï¼Œéƒ½ä¼šè‡ªåŠ¨æ‰§è¡Œ next() å³å¯è§£å†³ã€‚</p><p>å‚è€ƒ<a href="https://github.com/tj/co">co</a>æºç </p><h2 id="GeneratoråŸç†"><a href="#GeneratoråŸç†" class="headerlink" title="GeneratoråŸç†"></a>GeneratoråŸç†</h2><p>async å’Œawait åªæ˜¯Generatorçš„è¯­æ³•ç³–ã€‚<br><a href="https://dvajs.com/guide/concepts.html#effect">dva</a>ä¸­æœ‰Effectæ¦‚å¿µï¼Œå®ƒå°±æ˜¯ä½¿ç”¨Generatoræ¥è§£å†³å¼‚æ­¥è¯·æ±‚çš„é—®é¢˜ã€‚</p><h3 id="Generatorå’ŒPromiseå¦‚ä½•å¼‚æ­¥ç¼–ç¨‹"><a href="#Generatorå’ŒPromiseå¦‚ä½•å¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="Generatorå’ŒPromiseå¦‚ä½•å¼‚æ­¥ç¼–ç¨‹"></a>Generatorå’ŒPromiseå¦‚ä½•å¼‚æ­¥ç¼–ç¨‹</h3><p>ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼š</p><ul><li>Generatorä½œä¸º ES6 ä¸­ä½¿ç”¨åç¨‹çš„è§£å†³æ–¹æ¡ˆæ¥å¤„ç†å¼‚æ­¥ç¼–ç¨‹çš„å…·ä½“å®ç°ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯: Generator ä¸­å¯ä»¥ä½¿ç”¨ yield å…³é”®å­—é…åˆå®ä¾‹ gen è°ƒç”¨ next() æ–¹æ³•ï¼Œæ¥å°†å…¶å†…éƒ¨çš„è¯­å¥åˆ†å‰²æ‰§è¡Œã€‚ ç®€è¨€ä¹‹ : next() è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œåˆ™ yield è¯­å¥è¢«æ‰§è¡Œä¸€å¥ï¼Œéšç€ next() è°ƒç”¨ï¼Œ yield è¯­å¥è¢«ä¾æ¬¡æ‰§è¡Œã€‚</li></ul><p>Promiseè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆçŠ¶æ€ï¼ˆå®Œæˆæˆ–å¤±è´¥ï¼‰ï¼Œä»¥åŠå…¶è¿”å›çš„å€¼ã€‚å‚è€ƒ<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise-MDN</a></p><p>å¼‚æ­¥ç¼–ç¨‹ä½¿ç”¨Generatorå’ŒPromiseå®ç°çš„åŸç†ï¼š</p><ol><li>å› ä¸º Generator æœ¬èº« yield è¯­å¥æ˜¯åˆ†ç¦»æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œåœ¨ yield è¯­å¥ä¸­è¿”å›ä¸€ä¸ª Promise å¯¹è±¡</li><li>é¦–æ¬¡è°ƒç”¨ Generator ä¸­çš„ next() å, å‡è®¾è¿”å›å€¼å« result ,é‚£ä¹ˆæ­¤æ—¶ result.value å°±æ˜¯æˆ‘ä»¬å®šä¹‰åœ¨ yield è¯­å¥ä¸­çš„ Promise å¯¹è±¡</li></ol><blockquote><p>æ³¨æ„ï¼šåœ¨è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å·²ç»æŠŠåŸæ¥çš„æ‰§è¡Œæµç¨‹æš‚åœï¼Œè½¬è€Œæ‰§è¡Œ Promise çš„å†…å®¹,å·²ç»å®ç°äº†æ§åˆ¶å¼‚æ­¥ä»£ç çš„æ‰§è¡Œï¼Œå› ä¸ºæ­¤æ—¶æˆ‘ä»¬å¦‚æœä¸ç»§ç»­æ‰§è¡Œ next() åˆ™ generator ä¸­ä½äºå½“å‰è¢«æ‰§è¡Œçš„ yield åé¢çš„å†…å®¹ï¼Œå°†ä¸ä¼šç»§ç»­æ‰§è¡Œ,è¿™å·²ç»è¾¾åˆ°äº†æˆ‘ä»¬éœ€è¦çš„æ•ˆæœ<br>3. æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ˜¯åœ¨æ‰§è¡Œå®Œå½“å‰ Promise ä¹‹åï¼Œè®©ä»£ç ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª yield è¯­å¥:<br>è¿™ä¸€æ­¥æ˜¯æœ€å…³é”®çš„  æ‰€ä»¥æˆ‘ä»¬æ€ä¹ˆåšå‘¢:</p></blockquote><ul><li>æ­¥éª¤1ï¼š åœ¨å½“å‰çš„ Promise çš„ then() æ–¹æ³•ä¸­ï¼Œç»§ç»­æ‰§è¡Œ gen.next()</li><li>æ­¥éª¤2ï¼š å½“ gen.next() è¿”å›çš„ç»“æœ result.done === true æ—¶,æˆ‘ä»¬æ‹¿åˆ° result.valueã€ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡ã€‘å†æ¬¡æ‰§è¡Œå¹¶ä¸”åœ¨å®ƒçš„then() æ–¹æ³•ä¸­ç»§ç»­ä¸Šé¢çš„æ­¥éª¤1ï¼Œç›´è‡³ result.done === false çš„æ—¶å€™ã€‚è¿™æ—¶å€™è°ƒç”¨ resolve() ä½¿ promise çŠ¶æ€æ”¹å˜ï¼Œå› ä¸ºæ‰€æœ‰çš„ yield è¯­å¥å·²ç»è¢«æ‰§è¡Œå®Œã€‚</li></ul><p>æ­¥éª¤1 ä¿è¯äº†æˆ‘ä»¬å¯ä»¥èµ°åˆ°ä¸‹ä¸€ä¸ª yield è¯­å¥<br>æ­¥éª¤2 ä¿è¯äº†ä¸‹ä¸€ä¸ª yield è¯­å¥æ‰§è¡Œå®Œä¸ä¼šä¸­æ–­ï¼Œç›´è‡³ Generator ä¸­çš„æœ€åä¸€ä¸ª yield è¯­å¥è¢«æ‰§è¡Œå®Œã€‚</p><h2 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h2><blockquote><p>ä»coåº“ä¸­çš„ä¸€ä¸ªdemoå¼€å§‹ï¼Œäº†è§£æˆ‘ä»¬çš„æ•´ä¸ªå¼‚æ­¥è¯·æ±‚å°è£…å®ç°</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">co(<span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> me.loginAction(me.form);</span><br><span class="line">    ...</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¼•å…¥coåº“ï¼Œå¹¶ä¸”ç”¨coæ¥åŒ…è£¹äº†ä¸€ä¸ªgeneratorï¼ˆç”Ÿæˆå™¨ï¼‰å¯¹è±¡ã€‚<br>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹coå¯¹äºåŒ…è£¹èµ·æ¥çš„generatoråšäº†ä»€ä¹ˆå¤„ç†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">co</span>(<span class="params">gen</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1.è·å–å½“å‰coå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ,è·å–åˆ°å‚æ•°åˆ—è¡¨</span></span><br><span class="line">  <span class="keyword">var</span> ctx = <span class="built_in">this</span>;</span><br><span class="line">  <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="comment">// 2.è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//  åˆ¤æ–­å¹¶ä¸”ä½¿ç”¨ctx:context(ä¸Šä¸‹æ–‡ç¯å¢ƒ)å’Œarg:arguments(å‚æ•°åˆ—è¡¨)åˆå§‹åŒ–generatorå¹¶ä¸”å¤åˆ¶ç»™gen</span></span><br><span class="line">    <span class="comment">// æ³¨æ„:</span></span><br><span class="line">    <span class="comment">// gen = gen.apply(ctx, args)ä¹‹å</span></span><br><span class="line">    <span class="comment">// æˆ‘ä»¬è°ƒç”¨ gen.next() æ—¶ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®é™…çš„å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="comment">// å¯¹è±¡çš„å½¢å¼ï¼š&#123;done:[false | true], value: &#x27;&#x27;&#125;</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> gen === <span class="string">&#x27;function&#x27;</span>) gen = gen.apply(ctx, args);</span><br><span class="line">    <span class="comment">// å½“è¿”å›å€¼ä¸ä¸ºgenæ—¶æˆ–è€…gen.nextçš„ç±»å‹ä¸ä¸ºfunctionã€å®é™…æ˜¯åˆ¤æ–­æ˜¯å¦ä¸ºgeneratorã€‘æ—¶</span></span><br><span class="line">    <span class="comment">// å½“å‰promiseçŠ¶æ€è¢«è®¾ç½®ä¸ºresolveè€Œç»“æŸ</span></span><br><span class="line">    <span class="keyword">if</span> (!gen || <span class="keyword">typeof</span> gen.next !== <span class="string">&#x27;function&#x27;</span>) <span class="keyword">return</span> resolve(gen);</span><br><span class="line">    <span class="comment">// å¦åˆ™æ‰§è¡ŒonFulfilled()</span></span><br><span class="line">    onFulfilled();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆ</p><ol><li>è¿”å›ä¸€ä¸ª promise</li><li>promise ä¸­å°†è¢«åŒ…è£¹çš„ generator å®ä¾‹åŒ–ä¸ºä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ generator ä¸­ç¬¬ä¸€ä¸ª yield è¯­å¥</li><li>åˆ¤æ–­ generator å®ä¾‹åŒ–å‡ºæ¥çš„æŒ‡é’ˆæ˜¯å¦å­˜åœ¨ï¼šå¦‚æœæ²¡æœ‰ yield è¯­å¥åˆ™æŒ‡é’ˆä¸å­˜åœ¨, åˆ¤æ–­æŒ‡é’ˆ gen.next() æ–¹æ³•æ˜¯å¦ä¸º function ï¼šå¦‚æœä¸ä¸º function è¯æ˜æ— æ³•æ‰§è¡Œ gen.next()<br>æ¡ä»¶æœ‰ä¸€é¡¹ä¸æ»¡è¶³å°±å°† promise çš„çŠ¶æ€ç½®ä¸º resolve<br>å¦åˆ™æ‰§è¡Œ onFulfilled()</li></ol><p>çœ‹ä¸‹ onFulfilled() çš„å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onFulfilled</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åœ¨æ‰§è¡ŒonFulfilledæ—¶ï¼Œå®šä¹‰äº†ä¸€ä¸ªretæ¥å‚¨å­˜gen.next(res)æ‰§è¡Œåçš„æŒ‡é’ˆå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">var</span> ret;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">    ret = gen.next(res);</span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œï¼Œyieldè¯­å¥æŠ›å‡ºçš„å€¼å°±æ˜¯&#123;value:me.loginAction(me.form), done:false&#125;</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">return</span> reject(e);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// å°†retå¯¹è±¡ä¼ å…¥åˆ°æˆ‘ä»¬å®šä¹‰åœ¨promiseä¸­çš„nextæ–¹æ³•ä¸­</span></span><br><span class="line">    next(ret);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>onFulfilled æœ€ä¸»è¦çš„å·¥ä½œå°±æ˜¯</p><ol><li>æ‰§è¡Œ gen.next() ä½¿ä»£ç æ‰§è¡Œåˆ° yield è¯­å¥</li><li>å°†æ‰§è¡Œåè¿”å›çš„ç»“æœä¼ å…¥æˆ‘ä»¬è‡ªå®šä¹‰çš„ next() æ–¹æ³•ä¸­</li></ol><p>next() æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">ret</span>) </span>&#123;</span><br><span class="line"><span class="comment">// è¿›å…¥nextä¸­é¦–å…ˆåˆ¤æ–­æˆ‘ä»¬ä¼ å…¥çš„retçš„doneçŠ¶æ€:</span></span><br><span class="line"><span class="comment">// æƒ…å†µ1:ret.done = true ä»£è¡¨æˆ‘ä»¬è¿™ä¸ªgeneratorä¸­æ‰€æœ‰yieldè¯­å¥éƒ½å·²ç»æ‰§è¡Œå®Œã€‚</span></span><br><span class="line"><span class="comment">// é‚£ä¹ˆå°†ret.valueä¼ å…¥åˆ°resolve()ä¸­ï¼Œpromiseçš„çŠ¶æ€å˜æˆè§£å†³ï¼Œæ•´ä¸ªè¿‡ç¨‹ç»“æŸã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (ret.done) <span class="keyword">return</span> resolve(ret.value);</span><br><span class="line"><span class="comment">// æƒ…å†µ2:å½“å‰ret.done = false ä»£è¡¨generatorè¿˜æœªå°†æ‰€æœ‰çš„yieldè¯­å¥æ‰§è¡Œå®Œï¼Œé‚£ä¹ˆè¿™æ—¶å€™</span></span><br><span class="line"><span class="comment">// æˆ‘ä»¬æŠŠå½“å‰ä¸Šä¸‹æ–‡å’Œret.valueä¼ å…¥toPromiseä¸­ï¼Œå°†å…¶è½¬æ¢ä¸ºå¯¹åº”çš„Promiseå¯¹è±¡`value`</span></span><br><span class="line">    <span class="keyword">var</span> value = toPromise.call(ctx, ret.value);</span><br><span class="line">    <span class="keyword">if</span> (value &amp;&amp; isPromise(value)) <span class="keyword">return</span> value.then(onFulfilled, onRejected);</span><br><span class="line"><span class="comment">// å½“valueç¡®å®æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡çš„æ—¶å€™ï¼Œreturn value.then(onFulfilled,onRejected)</span></span><br><span class="line"><span class="comment">// æˆ‘ä»¬é‡æ–°è¿›å…¥åˆ°äº†generatorä¸­ï¼Œæ‰§è¡Œä¸‹ä¸€æ¡yieldè¯­å¥</span></span><br><span class="line">    <span class="keyword">return</span> onRejected(<span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&#x27;You may only yield a function, promise, generator, array, or object, &#x27;</span></span><br><span class="line">    + <span class="string">&#x27;but the following object was passed: &quot;&#x27;</span> + <span class="built_in">String</span>(ret.value) + <span class="string">&#x27;&quot;&#x27;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>next ä¸»è¦å·¥ä½œ</p><ol><li>åˆ¤æ–­ä¸Šä¸€æ¬¡ yield è¯­å¥çš„æ‰§è¡Œç»“æœ</li><li>å°† yield çš„ result çš„ value å€¼ã€å…¶å®å°±æ˜¯æˆ‘ä»¬è¦å¼‚æ­¥æ‰§è¡Œçš„ Promise ã€‘</li><li>æ‰§è¡Œ value çš„ then æ–¹æ³•ï¼Œé‡æ–°è¿›å…¥åˆ° onFulfilled æ–¹æ³•ä¸­ï¼Œè€Œåœ¨ onFulfilled ä¸­ï¼Œæˆ‘ä»¬åˆå°†è¿›å…¥åˆ°å½“å‰æ–¹æ³•ï¼Œå¦‚æ­¤å¾ªç¯çš„è°ƒç”¨ï¼Œå®ç°äº† generator å’Œ Promise çš„æ‰§è¡Œåˆ‡æ¢ï¼Œä»è€Œå®ç°äº† Promise çš„å†…å®¹æŒ‰ç…§æˆ‘ä»¬æ‰€å®šä¹‰çš„é¡ºåºæ‰§è¡Œã€‚</li></ol><p>è‡³æ­¤å®ç°å¼‚æ­¥æ“ä½œçš„æ§åˆ¶ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://juejin.im/post/5c4045d1f265da617831ace3">å‰ç«¯æ€ªè°ˆ_2ä» Dva çš„ Effect åˆ° Generator + Promise å®ç°å¼‚æ­¥ç¼–ç¨‹</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> es6 </tag>
            
            <tag> for of </tag>
            
            <tag> generator </tag>
            
            <tag> iterator </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°ƒè¯•ç»éªŒ</title>
      <link href="posts/%E8%B0%83%E8%AF%95%E7%BB%8F%E9%AA%8C/"/>
      <url>posts/%E8%B0%83%E8%AF%95%E7%BB%8F%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="å¾®ä¿¡é‡Œè®¿é—®é¡µé¢å‡ºé”™ï¼Œæµè§ˆå™¨è®¿é—®æ²¡é”™"><a href="#å¾®ä¿¡é‡Œè®¿é—®é¡µé¢å‡ºé”™ï¼Œæµè§ˆå™¨è®¿é—®æ²¡é”™" class="headerlink" title="å¾®ä¿¡é‡Œè®¿é—®é¡µé¢å‡ºé”™ï¼Œæµè§ˆå™¨è®¿é—®æ²¡é”™"></a>å¾®ä¿¡é‡Œè®¿é—®é¡µé¢å‡ºé”™ï¼Œæµè§ˆå™¨è®¿é—®æ²¡é”™</h2><p>åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€è¯¥é“¾æ¥ï¼Œå¯ä»¥æ¨¡æ‹Ÿå¾®ä¿¡è®¿é—®é“¾æ¥</p><h2 id="æ‰‹æœºè®¿é—®æœ¬åœ°æœåŠ¡"><a href="#æ‰‹æœºè®¿é—®æœ¬åœ°æœåŠ¡" class="headerlink" title="æ‰‹æœºè®¿é—®æœ¬åœ°æœåŠ¡"></a>æ‰‹æœºè®¿é—®æœ¬åœ°æœåŠ¡</h2><p>è®¾ç½® æ‰‹æœºâ€“æ— çº¿å±€åŸŸç½‘â€“é€‰æ‹©é“¾æ¥çš„wifiâ€“é…ç½®DNSâ€“æ”¹ä¸ºæ‰‹åŠ¨ï¼Œæ·»åŠ æœ¬åœ°æœºå™¨çš„IPã€‚</p><p>ç”¨æ‰‹æœºè®¿é—®æœ¬æœºIPåŠ æœåŠ¡åœ°å€å³å¯è®¿é—®æœ¬åœ°æœåŠ¡.</p><h2 id="åœ¨é¡µé¢ä¸­åŠ è°ƒè¯•å·¥å…·"><a href="#åœ¨é¡µé¢ä¸­åŠ è°ƒè¯•å·¥å…·" class="headerlink" title="åœ¨é¡µé¢ä¸­åŠ è°ƒè¯•å·¥å…·"></a>åœ¨é¡µé¢ä¸­åŠ è°ƒè¯•å·¥å…·</h2><p><a href="https://github.com/Tencent/vConsole">vConsole ä¸€ä¸ªè½»é‡ã€å¯æ‹“å±•ã€é’ˆå¯¹æ‰‹æœºç½‘é¡µçš„å‰ç«¯å¼€å‘è€…è°ƒè¯•é¢æ¿ã€‚</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/vConsole/3.2.0/vconsole.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// init vConsole</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> vConsole = <span class="keyword">new</span> VConsole();</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">&#x27;Hello world&#x27;</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å‡ºé”™è¦çœ‹å¼‚å¸¸é”™è¯¯ç , 302 Not Found ä¸ºè¯·æ±‚é“¾æ¥æœªæ‰¾åˆ°ã€‚ä¼šå¯¼è‡´å¼‚å¸¸</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>centoså®‰è£…git</title>
      <link href="posts/centos%E5%AE%89%E8%A3%85git/"/>
      <url>posts/centos%E5%AE%89%E8%A3%85git/</url>
      
        <content type="html"><![CDATA[<h2 id="centoså®‰è£…git"><a href="#centoså®‰è£…git" class="headerlink" title="centoså®‰è£…git"></a>centoså®‰è£…git</h2><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>yum install -y git</p><h2 id="æ£€æŸ¥ç‰ˆæœ¬"><a href="#æ£€æŸ¥ç‰ˆæœ¬" class="headerlink" title="æ£€æŸ¥ç‰ˆæœ¬"></a>æ£€æŸ¥ç‰ˆæœ¬</h2><p>git â€“version</p><h2 id="ç”Ÿæˆå…¬é’¥å¹¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Š"><a href="#ç”Ÿæˆå…¬é’¥å¹¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Š" class="headerlink" title="ç”Ÿæˆå…¬é’¥å¹¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Š"></a>ç”Ÿæˆå…¬é’¥å¹¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Š</h2><h3 id="ç”Ÿæˆå…¬é’¥"><a href="#ç”Ÿæˆå…¬é’¥" class="headerlink" title="ç”Ÿæˆå…¬é’¥"></a>ç”Ÿæˆå…¬é’¥</h3><p>ssh-keygen -t rsa</p><h3 id="æŸ¥çœ‹å…¬é’¥"><a href="#æŸ¥çœ‹å…¬é’¥" class="headerlink" title="æŸ¥çœ‹å…¬é’¥"></a>æŸ¥çœ‹å…¬é’¥</h3><p>cat .ssh/id_rsa.pub</p><h3 id="å¤åˆ¶id-rsa-pubé‡Œçš„å…¬é’¥åˆ°æœåŠ¡å™¨ä¸Šçš„authorized-keysæ–‡ä»¶"><a href="#å¤åˆ¶id-rsa-pubé‡Œçš„å…¬é’¥åˆ°æœåŠ¡å™¨ä¸Šçš„authorized-keysæ–‡ä»¶" class="headerlink" title="å¤åˆ¶id_rsa.pubé‡Œçš„å…¬é’¥åˆ°æœåŠ¡å™¨ä¸Šçš„authorized_keysæ–‡ä»¶"></a>å¤åˆ¶id_rsa.pubé‡Œçš„å…¬é’¥åˆ°æœåŠ¡å™¨ä¸Šçš„authorized_keysæ–‡ä»¶</h3><p>æ‹·è´å‡ºæ¥ï¼Œå¤åˆ¶åˆ°github.comçš„settingsçš„SSH and GPG keysä¸­</p><h2 id="å®‰è£…nodejs"><a href="#å®‰è£…nodejs" class="headerlink" title="å®‰è£…nodejs"></a>å®‰è£…nodejs</h2><p>yum install -y nodejs//è¡Œä¸é€šï¼Œç‰ˆæœ¬å¤ªæ—§äº†</p><p>å‚è€ƒï¼š<a href="http://wiki.jikexueyuan.com/project/nodejs-guide/install.html">http://wiki.jikexueyuan.com/project/nodejs-guide/install.html</a></p><h2 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h2><p>yum remove nodejs -y</p><h2 id="æ­£ç¡®æ–¹æ³•"><a href="#æ­£ç¡®æ–¹æ³•" class="headerlink" title="æ­£ç¡®æ–¹æ³•"></a>æ­£ç¡®æ–¹æ³•</h2><p>1.ç¡®ä¿ç³»ç»Ÿä¸‹ g++ ç‰ˆæœ¬åœ¨ 4.6 ä»¥ä¸Šï¼Œpython ç‰ˆæœ¬åœ¨ 2.6 ä»¥ä¸Šã€‚</p><p>2.ä» nodejs.org ä¸‹è½½ tar.gz åç¼€çš„ NodeJS æœ€æ–°ç‰ˆæºä»£ç åŒ…å¹¶è§£å‹åˆ°æŸä¸ªä½ç½®ã€‚</p><p>wget <a href="https://nodejs.org/dist/v4.5.0/node-v4.5.0.tar.gz">https://nodejs.org/dist/v4.5.0/node-v4.5.0.tar.gz</a></p><p>3.è¿›å…¥è§£å‹åˆ°çš„ç›®å½•ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘å’Œå®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar -zvxf node-v4.5.0.tar.gz</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> centos </tag>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TODO.md</title>
      <link href="posts/TODO/"/>
      <url>posts/TODO/</url>
      
        <content type="html"><![CDATA[<h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><h2 id="å¦‚ä½•åœ¨-JS-å¾ªç¯ä¸­æ­£ç¡®ä½¿ç”¨-async-ä¸-await"><a href="#å¦‚ä½•åœ¨-JS-å¾ªç¯ä¸­æ­£ç¡®ä½¿ç”¨-async-ä¸-await" class="headerlink" title="å¦‚ä½•åœ¨ JS å¾ªç¯ä¸­æ­£ç¡®ä½¿ç”¨ async ä¸ await"></a>å¦‚ä½•åœ¨ JS å¾ªç¯ä¸­æ­£ç¡®ä½¿ç”¨ async ä¸ await</h2><p><a href="https://juejin.im/post/5cf7042df265da1ba647d9d1#heading-5">å‚è€ƒ</a><br>åœ¨å¾ªç¯ä¸­ä½¿ç”¨å¼‚æ­¥ï¼Œè¯·ä½¿ç”¨<code>for..of</code></p><h2 id="JS-ç²¾åº¦é—®é¢˜"><a href="#JS-ç²¾åº¦é—®é¢˜" class="headerlink" title="JS ç²¾åº¦é—®é¢˜"></a>JS ç²¾åº¦é—®é¢˜</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2599.7</span> * <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="number">1.1</span> * <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> = <span class="number">0.3</span>ï¼Ÿ</span><br><span class="line">[ä»æ ‡å‡†åŸç†å‡ºå‘ç†è§£ JavaScript æ•°å€¼ç²¾åº¦](https:<span class="comment">//juejin.im/post/5c3db8b7e51d45515817bdeb)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><a id="more"></a><p><a href="https://www.cnblogs.com/xinggood/p/6639022.html">1</a><br>[math.js]</p><p><a href="https://blog.csdn.net/qq_39712029/article/details/81031458">è§£å†³åŠæ³•</a></p><h2 id="æ— æ³•å®ç°çš„éœ€æ±‚"><a href="#æ— æ³•å®ç°çš„éœ€æ±‚" class="headerlink" title="æ— æ³•å®ç°çš„éœ€æ±‚"></a>æ— æ³•å®ç°çš„éœ€æ±‚</h2><h2 id="1-æ•°å­—è¾“å…¥æ¡†åªå”¤èµ·æ•°å­—é”®ç›˜ï¼Œä¸èƒ½è¾“å…¥æ±‰å­—"><a href="#1-æ•°å­—è¾“å…¥æ¡†åªå”¤èµ·æ•°å­—é”®ç›˜ï¼Œä¸èƒ½è¾“å…¥æ±‰å­—" class="headerlink" title="1. æ•°å­—è¾“å…¥æ¡†åªå”¤èµ·æ•°å­—é”®ç›˜ï¼Œä¸èƒ½è¾“å…¥æ±‰å­—"></a>1. æ•°å­—è¾“å…¥æ¡†åªå”¤èµ·æ•°å­—é”®ç›˜ï¼Œä¸èƒ½è¾“å…¥æ±‰å­—</h2><p><code>&lt;input type=&#39;number&#39;&gt;</code></p><p>åœ¨æœ‰çš„æ‰‹æœºè£…äº†æœç‹—è¾“å…¥æ³•æˆ–å…¶ä»–è¾“å…¥æ³•åï¼Œå”¤èµ·é”®ç›˜è¾“å…¥æ³•å¯ä»¥åˆ‡æ¢æˆå…¶ä»–è¾“å…¥æ³•</p><p>æœ‰çš„æœºå‹æ²¡æœ‰è£…å…¶ä»–è¾“å…¥æ³•ï¼Œå”¤é†’çš„ä¸æ˜¯æ•°å­—é”®ç›˜</p><h2 id="2-æ•°å­—è¾“å…¥æ¡†è·å–ä¸æ˜¯æ•°å­—çš„å€¼"><a href="#2-æ•°å­—è¾“å…¥æ¡†è·å–ä¸æ˜¯æ•°å­—çš„å€¼" class="headerlink" title="2. æ•°å­—è¾“å…¥æ¡†è·å–ä¸æ˜¯æ•°å­—çš„å€¼"></a>2. æ•°å­—è¾“å…¥æ¡†è·å–ä¸æ˜¯æ•°å­—çš„å€¼</h2><p>éœ€æ±‚:</p><ul><li><p>è¾“å…¥<code>.</code>æ—¶, åœ¨<code>.</code>å‰åŠ 0, æ˜¾ç¤º<code>0.</code></p></li><li><p>è¾“å…¥ä¸¤ä¸ª<code>..</code>æ—¶ï¼Œå»æ‰åä¸€ä¸ª</p></li></ul><p>åœ¨inputä¸ºnumberç±»å‹æ—¶ï¼Œè¾“å…¥ . ï¼Œä½†onchange å–ä¸åˆ° . ï¼Œå–åˆ°çš„æ˜¯ç©ºå­—ç¬¦ä¸²</p><ul><li>ç›¸å…³çŸ¥è¯†ç‚¹<br><code>input ime-mode: disabled</code><br><a href="https://blog.csdn.net/yctccg/article/details/52217988">[CSS]æµè§ˆå™¨IMEè¾“å…¥æ³•æ§åˆ¶ç¦æ­¢è¾“å…¥ä¸­æ–‡</a><br><a href="https://www.qcyoung.com/2015/09/01/type-number%E9%9D%9E%E6%B3%95%E5%80%BC%E7%9A%84%E4%B8%80%E4%BA%9B%E6%8E%A2%E7%A9%B6%E5%8F%8A%E6%8B%93%E5%B1%95/">å…³äºè¡¨å•input type=â€numberâ€éæ³•å€¼æ—¶çš„ä¸€äº›æ¢ç©¶åŠæ‹“å±•</a><br><a href="https://www.itread01.com/p/1000919.html">input type=numberé©—è­‰å•é¡ŒScript</a></li></ul><p>Reacté«˜é˜¶</p><p><a href="https://github.com/dt-fe/weekly/blob/master/12.%E7%B2%BE%E8%AF%BB%20React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6.md">https://github.com/dt-fe/weekly/blob/master/12.%E7%B2%BE%E8%AF%BB%20React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6.md</a></p><p>å¾ˆå¥½çš„vueæºç è§£æ<br><a href="https://juejin.im/post/5abe5822f265da2373149276">https://juejin.im/post/5abe5822f265da2373149276</a></p><p>é¢è¯•å¤§å…¨ï¼ï¼ï¼ï¼<br><a href="https://www.tuicool.com/articles/bInqieZ">https://www.tuicool.com/articles/bInqieZ</a></p><p>è…¾è®¯ä¸€é¢<br><a href="https://juejin.im/post/5ab8d9e06fb9a028c22ac36c">https://juejin.im/post/5ab8d9e06fb9a028c22ac36c</a></p><p>æµè§ˆå™¨çš„ç¼“å­˜(1)<br><a href="https://segmentfault.com/a/1190000004486640">https://segmentfault.com/a/1190000004486640</a></p><p>å‰ç«¯æ€ç»´å¯¼å›¾<br><a href="https://github.com/qiu-deqing/FE-interview/blob/master/javascript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.md?1520994177199">https://github.com/qiu-deqing/FE-interview/blob/master/javascript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.md?1520994177199</a></p><p>æ’åº<br><a href="https://juejin.im/post/57dcd394a22b9d00610c5ec8">https://juejin.im/post/57dcd394a22b9d00610c5ec8</a></p><p>  é¢è¯•é“¾æ¥ è¿˜æŒºå¥½çš„<br><a href="https://github.com/geekape/good-article/issues/2">https://github.com/geekape/good-article/issues/2</a><br>Reactä¸­æ–‡å®˜æ–¹æ–‡æ¡£<br><a href="https://doc.react-china.org/">https://doc.react-china.org/</a></p><p>Reactåšå®¢<br>Reactæ„å»º<br><a href="https://segmentfault.com/a/1190000007891318">https://segmentfault.com/a/1190000007891318</a><br><a href="https://taikongfeizhu.github.io/webpack3-in-action/index.html#16">https://taikongfeizhu.github.io/webpack3-in-action/index.html#16</a><br><a href="https://github.com/hujiulong/blog">https://github.com/hujiulong/blog</a></p><p>CSS<br><a href="http://caibaojian.com/30-seconds-of-css/">http://caibaojian.com/30-seconds-of-css/</a><br>es6å¸¸è§æ–°ç‰¹æ€§<br><a href="https://segmentfault.com/a/1190000010230939">https://segmentfault.com/a/1190000010230939</a></p><p><a href="https://segmentfault.com/a/1190000010204791">https://segmentfault.com/a/1190000010204791</a></p><p>é—­åŒ…<br><a href="http://www.cnblogs.com/xxcanghai/p/4991870.html">http://www.cnblogs.com/xxcanghai/p/4991870.html</a></p><p>letå’Œvarçš„åŒºåˆ«<br><a href="https://zhuanlan.zhihu.com/p/28140450">https://zhuanlan.zhihu.com/p/28140450</a></p><p>Reactç”Ÿå‘½å‘¨æœŸ<br><a href="https://www.cnblogs.com/lijie33402/p/6384080.html">https://www.cnblogs.com/lijie33402/p/6384080.html</a><br>HTTPåè®®<br><a href="https://zouhangwithsweet.github.io/">https://zouhangwithsweet.github.io/</a></p><p>ç®€å†åˆ¶ä½œç½‘ç«™<br><a href="http://www.500d.me/">http://www.500d.me/</a></p><p>ä¼šåŠ¨çš„ç®€å†æ¨¡æ¿<br><a href="https://github.com/jirengu-inc/animating-resume">https://github.com/jirengu-inc/animating-resume</a></p><p><a href="https://segmentfault.com/a/1190000010868439">https://segmentfault.com/a/1190000010868439</a></p><p><a href="https://segmentfault.com/a/1190000010871559">https://segmentfault.com/a/1190000010871559</a>  webpack3</p><p>DOMæ“ä½œæˆæœ¬åˆ°åº•é«˜åœ¨å“ªå„¿ï¼Ÿ<br><a href="https://segmentfault.com/a/1190000014070240#articleHeader5">https://segmentfault.com/a/1190000014070240#articleHeader5</a></p><p>js å†…å­˜æ³„æ¼åˆ†æ</p><p><a href="https://www.tuicool.com/articles/ErIR7rE">https://www.tuicool.com/articles/ErIR7rE?</a></p><p>ä¸é”™çš„é¢è¯•é¢˜</p><p><a href="https://github.com/WangXiZhu/frontend-interview-question">https://github.com/WangXiZhu/frontend-interview-question</a></p><p>å¤§æ¼ çš„å­¦ä¹ ç¬”è®°</p><p><a href="https://www.w3cplus.com/blogs/airen">https://www.w3cplus.com/blogs/airen</a></p><p>ä¸‡ç‰©çš†ç©ºä¹‹ JavaScript åŸå‹<br><a href="https://www.tuicool.com/articles/BN7bi2F">https://www.tuicool.com/articles/BN7bi2F</a></p><p><a href="https://www.tuicool.com/articles/aEr22ue">https://www.tuicool.com/articles/aEr22ue</a></p><p>Vue.jsæœ€ä½³å®è·µï¼ˆäº”æ‹›è®©ä½ æˆä¸ºVue.jså¤§å¸ˆï¼‰<br><a href="https://segmentfault.com/a/1190000014085613">https://segmentfault.com/a/1190000014085613</a></p><p><a href="https://segmentfault.com/a/1190000013331105">https://segmentfault.com/a/1190000013331105</a></p><p><a href="https://github.com/qiu-deqing/FE-interview">https://github.com/qiu-deqing/FE-interview</a></p><p><a href="https://github.com/fouber/blog">https://github.com/fouber/blog</a></p><p>BFC ç»å…¸è®²è§£<br><a href="https://www.cnblogs.com/lhb25/p/inside-block-formatting-ontext.html">https://www.cnblogs.com/lhb25/p/inside-block-formatting-ontext.html</a><br><a href="https://segmentfault.com/a/1190000013372963">https://segmentfault.com/a/1190000013372963</a></p><p>å®è·µæ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹å¼<br>js æœ€å…¨<br><a href="https://github.com/mqyqingfeng/Blog">https://github.com/mqyqingfeng/Blog</a></p><p>çˆ¬è™«ä¸“ç”¨ç½‘ç«™ï¼š<a href="http://books.toscrape.com/">http://books.toscrape.com/</a></p><p>åœ¨æœåŠ¡å™¨æ”¾æ‰“åŒ…å¥½çš„æ–‡ä»¶çš„è¯ï¼Œ</p><p>å…ˆäº†è§£å‘èµ·è¯·æ±‚çš„æœ¬è´¨ï¼š<br>åœ¨ä¸€ä¸ªæœåŠ¡å™¨ï¼ˆæ³¨æ„å¿…é¡»æ˜¯æœåŠ¡å™¨ï¼Œæœ‰ç«¯å£å¯ä»¥è®¿é—®çš„ï¼‰ä¸­ï¼Œè®¿é—®åˆ°ä¸€ä¸ªé¡µé¢</p><p>è¿™ä¸ªé¡µé¢ç”± axios ä¹‹ç±»çš„httpè¯·æ±‚æœåŠ¡æ¥å£</p><p>åœ¨æ²¡æœ‰é…ç½®ProxyTableæ—¶ï¼Œç›´æ¥è¯·æ±‚ä¼šæœ‰è·¨åŸŸé—®é¢˜å­˜åœ¨ã€‚</p><p>å¼€å‘ç¯å¢ƒ</p><p>ä½†é…ç½®proxyTableåï¼Œå¯ä»¥è§£å†³è·¨åŸŸé—®é¢˜ï¼Œè¯·æ±‚å¾—åˆ°æœåŠ¡è¿”å›çš„ç»“æœã€‚</p><p>é…ç½®äº†proxyTableåï¼Œè¯·æ±‚çš„è·¯å¾„ å‰é¢çš„<a href="http://åŸŸåç«¯å£éƒ½å¯ä»¥ä¸ç”¨å†™,ç›´æ¥åœ¨proxytableçš„targeté‡Œé…ç½®å¥½,åœ¨axiosé‡Œè¯·æ±‚çš„urlåªéœ€æ ¹æ®éœ€è¦å†™åé¢çš„è·¯å¾„å³å¯./">http://åŸŸåç«¯å£éƒ½å¯ä»¥ä¸ç”¨å†™ï¼Œç›´æ¥åœ¨proxyTableçš„targeté‡Œé…ç½®å¥½ï¼Œåœ¨axiosé‡Œè¯·æ±‚çš„urlåªéœ€æ ¹æ®éœ€è¦å†™åé¢çš„è·¯å¾„å³å¯ã€‚</a></p><p>ç”Ÿäº§ç¯å¢ƒ<br>åœ¨å¼€å‘ç¯å¢ƒæ‰“åŒ…å¥½çš„æ–‡ä»¶è¯·æ±‚åç«¯æ¥å£æ—¶æ˜¯ä¸å¸¦httpå’ŒåŸŸåç«¯å£çš„ï¼Œæ‰€ä»¥è¯·æ±‚çš„æ˜¯ç›¸å¯¹è·¯å¾„ã€‚<br>è¿™ä¸ªæ—¶å€™åœ¨åç«¯èµ·ä¸€ä¸ªæœåŠ¡(æ¯”å¦‚node),</p><p>åœ¨è¿™ä¸ªnodeæœåŠ¡é‡Œå‘èµ·è¯·æ±‚çš„è¯ï¼Œæ˜¯è¦å†™å…¨è·¯å¾„çš„ï¼Œå¦åˆ™ä¼šæ‰¾ä¸åˆ°åœ°å€ã€‚</p><p>è§£å†³åŠæ³•</p><p>åœ¨è¿™ä¸ªnodeæœåŠ¡ä¸­ï¼Œå°è£…ä¸€ä¸ªaxiosçš„æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•é‡Œå†™å…¨è·¯å¾„ï¼Œ<br>è¿™æ ·ä¹‹å‰æ‰“åŒ…å¥½çš„æ–‡ä»¶æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ”¾åˆ°è¿™ä¸ªnodeæœåŠ¡çš„ç›®å½•ä¸‹ï¼Œå°±æˆäº†å…¨è·¯å¾„è®¿é—®æœåŠ¡ã€‚</p><p>è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯åœ¨æ‰“åŒ…æ–‡ä»¶ä¸­é€šè¿‡é…ç½®å†™è¯·æ±‚è·¯å¾„ï¼Œç„¶åå°†è¯·æ±‚åç«¯çš„å…¨è·¯å¾„ï¼Œæ‰“åŒ…åˆ°ç”Ÿæˆçš„æ–‡ä»¶ä¸­ã€‚â€“è¿™ä¸ªè¿˜æ²¡è¯•è¿‡</p><p>Dockerè¯´äº†è¿™ä¹ˆå¤š æœ€å…¨çš„ä¸€ç¯‡åœ¨è¿™é‡Œ</p><p><a href="https://mp.weixin.qq.com/s/r6Zj9Umlc9v_rqplq8207A">https://mp.weixin.qq.com/s/r6Zj9Umlc9v_rqplq8207A</a></p><p>å‰ç«¯ä¹¦ç±</p><p><a href="https://github.com/wxyyxc1992/Web-Development-And-Engineering-Practices">https://github.com/wxyyxc1992/Web-Development-And-Engineering-Practices</a></p><p>androidï¼Œ<br>å¾®ä¿¡å¼€å‘<br>angular.js<br>springmvcâ€“ä¸Šç¡…è°·è§†é¢‘<br>rollup.js<br>Vue.js<br>React<br>ES6<br>node.js<br>sql<br>java<br>php<br>linux å‘½ä»¤è¡Œ<br>nginx<br>ansible è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·<br>fetch.js<br>pm2.js<br>bluebird.js</p><p>é¢è¯•è€ƒå¯Ÿç‚¹ï¼š</p><ol><li>æ€è·¯æ˜¯å¦æ¸…æ™°ï¼›</li><li>åŸºæœ¬è¯­æ³•æ˜¯å¦æœ‰é”™ï¼›</li><li>æ‰‹å†™ä»£ç çš„èƒ½åŠ›</li><li>ç®—æ³•</li></ol><p><a href="http://www.materialscss.com/grid">http://www.materialscss.com/grid</a></p><p>electron    <a href="https://github.com/electron/electron">https://github.com/electron/electron</a>   è·¨å¹³å°çš„GUIè½¯ä»¶æ„å»ºå·¥å…·</p><p><a href="https://www.html5rocks.com/en/tutorials/file/filesystem/">https://www.html5rocks.com/en/tutorials/file/filesystem/</a> H5æ–‡ä»¶æ¥å£</p><p>Express   <a href="http://www.expressjs.com.cn/">http://www.expressjs.com.cn/</a>   åŸºäºnodeã€‚jsçš„webæ¡†æ¶<br>lodash <a href="http://lodashjs.com/docs/#_now">http://lodashjs.com/docs/#_now</a>   jsåº“</p><p>write  a blog</p><p><a href="http://ssh.today/blog/something-about-js-timer">http://ssh.today/blog/something-about-js-timer</a></p><p>js æ­£åˆ™è¡¨è¾¾å¼<br><a href="https://segmentfault.com/a/1190000008812676#articleHeader1">https://segmentfault.com/a/1190000008812676#articleHeader1</a><br><a href="https://juejin.im/post/5965943ff265da6c30653879">https://juejin.im/post/5965943ff265da6c30653879</a></p><p>js æ’åº<br><a href="https://segmentfault.com/a/1190000008796659">https://segmentfault.com/a/1190000008796659</a></p><p>å¾®ä¿¡å°ç¨‹åº<br><a href="https://github.com/lin-xin/wxapp-mall">https://github.com/lin-xin/wxapp-mall</a></p><p>å‰ç«¯é¢è¯•é¢˜ï¼š<br><a href="https://juejin.im/post/59be99a0f265da0644289dde">https://juejin.im/post/59be99a0f265da0644289dde</a><br>å‰ç«¯ç¨‹åºå‘˜ç»å¸¸å¿½è§†çš„ä¸€ä¸ªJavaScripté¢è¯•é¢˜</p><p><a href="https://segmentfault.com/p/1210000008946418/read#top">https://segmentfault.com/p/1210000008946418/read#top</a></p><p>å°èœé¸Ÿå‰ç«¯é¢è¯•å¤§ä½œæˆ˜<br><a href="https://huruji.github.io/FE-Interview/#/">https://huruji.github.io/FE-Interview/#/</a></p><p>å¦¨ç¢è¿›æ­¥çš„å› ç´ <br><a href="https://juejin.im/post/59bf2a1d51882531b730b718">https://juejin.im/post/59bf2a1d51882531b730b718</a></p><p>å¼‚æ­¥é€’å½’å›è°ƒ<br><a href="https://zhuanlan.zhihu.com/p/29534555">https://zhuanlan.zhihu.com/p/29534555</a><br>ä½ ä¸çŸ¥é“çš„ CSS</p><p><a href="https://mp.weixin.qq.com/s/GxtJTIbMbFteCEFnFB7waw">https://mp.weixin.qq.com/s/GxtJTIbMbFteCEFnFB7waw</a></p><p><a href="https://smohan.net/blog/6gr77h">https://smohan.net/blog/6gr77h</a></p><p>css åŠ è½½åŠ¨ç”»æ•ˆæœæºç <br><a href="http://loading.awesomes.cn/">http://loading.awesomes.cn/</a></p><p>ä½¿ç”¨é€’å½’éå†å¹¶è½¬æ¢æ ‘å½¢æ•°æ®ï¼ˆä»¥ TypeScript ä¸ºä¾‹ï¼‰<br><a href="https://segmentfault.com/a/1190000011819279">https://segmentfault.com/a/1190000011819279</a></p><p>React:<br>ä¸€ç¯‡åŒ…å«äº†reactæ‰€æœ‰åŸºæœ¬ç‚¹çš„æ–‡ç« </p><p><a href="https://segmentfault.com/a/1190000011205580">https://segmentfault.com/a/1190000011205580</a><br>æ­ç§˜reactå…¨å®¶æ¡¶(redux,react-redux,react-router)<br><a href="https://github.com/shen1992/blog/issues/2">https://github.com/shen1992/blog/issues/2</a><br>Node<br>é¥¿äº†ä¹ˆNode.jsæ•™ç¨‹<br><a href="https://github.com/ElemeFE/node-interview/tree/master/sections/zh-cn">https://github.com/ElemeFE/node-interview/tree/master/sections/zh-cn</a></p><p><a href="https://github.com/ElemeFE/node-practice">https://github.com/ElemeFE/node-practice</a></p><p>React å…è´¹æ•™ç¨‹<br><a href="https://react-course.magicfun.ai/">https://react-course.magicfun.ai/</a></p><p>macè¯»å–ç§»åŠ¨ç¡¬ç›˜<br><a href="http://vip.zgyjzf.com/nfm/">http://vip.zgyjzf.com/nfm/</a></p><p>GitHubè½¯ä»¶<br><a href="https://osxfuse.github.io/">https://osxfuse.github.io/</a></p><p><a href="http://www.cnblogs.com/macsoft/p/6835753.html">http://www.cnblogs.com/macsoft/p/6835753.html</a></p><p><a href="http://www.orsoon.com/Mac/150550.html">http://www.orsoon.com/Mac/150550.html</a></p><p><a href="http://wm.makeding.com/redirect/url?segment=axEJmc-ik43ina5LG-TZD5_vApJ8vMxEnzLuVBELJ7z1iJBTC25zxyiSookdjOflPQ-BBKfzOu8S0TT3T6H3sDYVMbITp52pODsN82VD8jrLwXt9uhTQFq_XOsbWm65NgbxaG6R8Mk6-AfLaZNWB9aeCYPbr_mq2VQMeCsKne_U-sXLaxRW9KmP7UG0SKEAwKUWVD2m8pkHSRF5N-2o1i79iLyUwl2pjDCB93P64q753lx_QCO28E9nH_8r7BI0hD9-dXEJp9dEZkU2NL__inFM1LFFdI_6h0GOU3fWoPescmS_HrDNHlvytmT4qrypAaB5Y0_-YzFIcq1TWs79zj-nJwyETD8zaEMC43M1rThHEPYncCvFLvP7F9S140X10&amp;utm_medium=wm&amp;utm_source=http://www.cnblogs.com/macsoft/p/6835753.html&amp;utm_content=Tuxera+NTFS--&amp;utm_campaign=LM_echo">http://wm.makeding.com/redirect/url?segment=axEJmc-ik43ina5LG-TZD5_vApJ8vMxEnzLuVBELJ7z1iJBTC25zxyiSookdjOflPQ-BBKfzOu8S0TT3T6H3sDYVMbITp52pODsN82VD8jrLwXt9uhTQFq_XOsbWm65NgbxaG6R8Mk6-AfLaZNWB9aeCYPbr_mq2VQMeCsKne_U-sXLaxRW9KmP7UG0SKEAwKUWVD2m8pkHSRF5N-2o1i79iLyUwl2pjDCB93P64q753lx_QCO28E9nH_8r7BI0hD9-dXEJp9dEZkU2NL__inFM1LFFdI_6h0GOU3fWoPescmS_HrDNHlvytmT4qrypAaB5Y0_-YzFIcq1TWs79zj-nJwyETD8zaEMC43M1rThHEPYncCvFLvP7F9S140X10&amp;utm_medium=wm&amp;utm_source=http%3A%2F%2Fwww.cnblogs.com%2Fmacsoft%2Fp%2F6835753.html&amp;utm_content=Tuxera+NTFS--&amp;utm_campaign=LM_echo</a></p><p>jsäº‹ä»¶ç»‘å®šé—®é¢˜ï¼Œ<br>    å¯¹æ¥é«˜å¾·å¯¼èˆªæœåŠ¡ï¼Œèµ·ç‚¹ç»ˆç‚¹ç¡®å®šåæ ‡ã€‚<br>   èµ·ç‚¹ï¼šè¾“å…¥å†…å®¹ï¼Œæœ‰ä¸‹æ‹‰æ¡†ï¼Œé€‰æ‹©äº†ä¸‹æ‹‰æ¡†çš„å°±æœ‰å¯ç¡®å®šåæ ‡ï¼Œæ²¡é€‰ä¸‹æ‹‰æ¡†ï¼Œå°±è¦æœç´¢ï¼Œ<br>   ç»ˆç‚¹ï¼š åŒä¸Š<br>  ç‚¹å‡»æœç´¢è·¯çº¿ã€‚å¦‚æœèµ·ç‚¹ç»ˆç‚¹éƒ½ç¡®å®šåæ ‡ï¼Œç›´æ¥æœç´¢è·¯çº¿ï¼Œ<br>                            ä¸ç¡®å®šèµ·ç‚¹ç»ˆç‚¹ï¼Œåˆ™å…ˆæœç´¢ç»“æœã€‚<br>    æ€ä¹ˆåˆ¤å®šè¿™ä¸¤ä¸ªçŠ¶æ€ï¼Ÿ<br>     æˆ‘çš„æ€è·¯ï¼Œåœ¨ä¸‹æ‹‰æ¡†ä¸­é€‰æ‹©ä¸€ä¸ªç»“æœï¼Œåˆ™ç»™è¾“å…¥æ¡†èµ‹ä¸€ä¸ªåæ ‡çš„å±æ€§ï¼Œ<br>                        ç‚¹å‡»æœç´¢è·¯çº¿ï¼Œåˆ¤æ–­è¾“å…¥æ¡†æ˜¯å¦æœ‰åæ ‡å±æ€§ï¼Œæœ‰ç›´æ¥æœè·¯çº¿ï¼Œæ²¡æœ‰ï¼ŒæŸ¥è¯¢ç»“æœã€‚<br>                       onchangeæˆ–onkeyupæ¸…é™¤åæ ‡å±æ€§</p><p>node ä½œä¸ºä¸­é—´ä»¶æ­å»ºå‰æ®µä»£ç†ï¼Œä¸­è½¬è¯·æ±‚åˆ°åç«¯ã€‚<br><a href="https://segmentfault.com/a/1190000007992200">https://segmentfault.com/a/1190000007992200</a></p><ol><li><p>git bookä¸­æ–‡æ•™ç¨‹<br><a href="https://chenyitian.gitbooks.io/react-docs">https://chenyitian.gitbooks.io/react-docs</a></p></li><li><p>å®˜ç½‘</p></li><li><p>ä¸é”™çš„æ•™ç¨‹<br><a href="http://www.runoob.com/w3cnote/getting-started-with-react.html">http://www.runoob.com/w3cnote/getting-started-with-react.html</a></p></li><li><p>æå®¢å­¦é™¢æ•™ç¨‹<br><a href="http://wiki.jikexueyuan.com/project/react-tutorial/">http://wiki.jikexueyuan.com/project/react-tutorial/</a></p></li><li><p>Reactå¯è’™ï¼ˆè¯‘ï¼‰<br><a href="https://www.gitbook.com/book/zhangwang1990/reactenlightenment/details">https://www.gitbook.com/book/zhangwang1990/reactenlightenment/details</a><br>Reactä¸­å›½<br><a href="https://tianxiangbing.github.io/react-cn/index.html">https://tianxiangbing.github.io/react-cn/index.html</a><br>React å…¥é—¨æ•™ç¨‹<br><a href="https://hulufei.gitbooks.io/react-tutorial/content/component.html">https://hulufei.gitbooks.io/react-tutorial/content/component.html</a></p></li></ol><p>å®Œç¾ä½¿ç”¨ React, Redux, and React-Routerï¼æœ€å¥½ç”¨çš„è„šæ‰‹æ¶<br><a href="https://github.com/bodyno/react-starter-kit">https://github.com/bodyno/react-starter-kit</a></p><p>react ä¸­æ–‡ç½‘<br><a href="http://www.react-cn.com/">http://www.react-cn.com/</a><br><a href="https://segmentfault.com/blog/jasonnote">https://segmentfault.com/blog/jasonnote</a></p><p><a href="https://github.com/theJian/build-a-hn-front-page">https://github.com/theJian/build-a-hn-front-page</a><br>ReactæŠ€æœ¯æ ˆ+Express+Mongodbå®ç°ä¸ªäººåšå®¢<br><a href="https://github.com/Nealyang/React-Express-Blog-Demo">https://github.com/Nealyang/React-Express-Blog-Demo</a></p><p>Vue<br>routeræ–‡æ¡£ï¼š<br><a href="http://router.vuejs.org/zh-cn/">http://router.vuejs.org/zh-cn/</a></p><p>demoç¤ºä¾‹ï¼š<br><a href="https://github.com/cwsjoker/webpack-vue-spa-demo/tree/master">https://github.com/cwsjoker/webpack-vue-spa-demo/tree/master</a></p><p>ä¸­æ–‡æ–‡æ¡£ï¼›<br><a href="https://vuefe.cn/v2/guide/">https://vuefe.cn/v2/guide/</a></p><p>vueå­¦ä¹ æ•™ç¨‹<br><a href="http://www.cnblogs.com/keepfool/p/5619070.html">http://www.cnblogs.com/keepfool/p/5619070.html</a></p><p>vue  vue-materialæ¡†æ¶<br><a href="https://vuematerial.github.io/">https://vuematerial.github.io</a></p><p>å¾ˆå…¨çš„vueèµ„æ–™ èµèµèµ~~~~~~~~~~~~~<br><a href="https://github.com/opendigg/awesome-github-vue">https://github.com/opendigg/awesome-github-vue</a></p><p><a href="https://github.com/vuejs/awesome-vue">https://github.com/vuejs/awesome-vue</a></p><p>ç®€å•çš„åå°ç®¡ç†ç³»ç»Ÿ<br><a href="https://github.com/monster1935/vue-element">https://github.com/monster1935/vue-element</a></p><p>å¾ˆæ£’çš„åå°ç®¡ç†ç³»ç»Ÿ<br><a href="http://panjiachen.github.io/vue-element-admin/#/introduction/index">http://panjiachen.github.io/vue-element-admin/#/introduction/index</a></p><p>è¿™ä¸ªä¹Ÿä¸é”™<br><a href="https://github.com/vue-bulma/vue-admin">https://github.com/vue-bulma/vue-admin</a></p><p>Vueé¡¹ç›®ä¸­å¼•ç”¨çŸ¥ä¹APIè·å–å›¾ç‰‡æŠ¥403è§£å†³æ–¹æ¡ˆ</p><ol><li>åœ¨htmlè®¾ç½®meta</li></ol><meta name="referrer" content="never">é“¾æ¥http://www.cnblogs.com/dongcanliang/archive/2017/04/01/6655061.html<ol start="2"><li>é€šè¿‡è·å–img srcï¼Œç”¨iframeå»è¯·æ±‚<br>é“¾æ¥ï¼š<br><a href="https://segmentfault.com/q/1010000002581983/a-1020000002592757">https://segmentfault.com/q/1010000002581983/a-1020000002592757</a></li></ol><p><a href="https://www.xiabingbao.com/vue/2017/07/10/vue-curd.html">https://www.xiabingbao.com/vue/2017/07/10/vue-curd.html</a></p><p><a href="https://www.xiabingbao.com/">https://www.xiabingbao.com</a></p><p>Vue ç»„ä»¶ç¼–å†™<br><a href="https://segmentfault.com/a/1190000011796898">https://segmentfault.com/a/1190000011796898</a><br>React<br>React æœåŠ¡ç«¯æ¸²æŸ“å¦‚æ­¤è½»æ¾ ä»é›¶å¼€å§‹æ„å»ºå‰åç«¯åº”ç”¨<br><a href="https://segmentfault.com/a/1190000010260036">https://segmentfault.com/a/1190000010260036</a></p><p>Vue2.0â€”ä»¿çŸ¥ä¹æ—¥æŠ¥æ€»ç»“</p><p><a href="https://segmentfault.com/a/1190000009305496">https://segmentfault.com/a/1190000009305496</a></p><p>VUE-WASï¼šä¸€ä¸ªåŸºäºVueçš„Web Appæ”¶é›†å‘é¡¹ç›®</p><p><a href="https://segmentfault.com/a/1190000010330905">https://segmentfault.com/a/1190000010330905</a></p><p> Vue ä¸ iOS çš„ç»„ä»¶åŒ–.md<br><a href="https://github.com/halfrost/Halfrost-Field/blob/master/contents/Vue/%E5%A4%A7%E8%AF%9D%E5%A4%A7%E5%89%8D%E7%AB%AF%E6%97%B6%E4%BB%A3(%E4%B8%80)%20%E2%80%94%E2%80%94%20Vue%20%E4%B8%8E%20iOS%20%E7%9A%84%E7%BB%84%E4%BB%B6%E5%8C%96.md">https://github.com/halfrost/Halfrost-Field/blob/master/contents/Vue/%E5%A4%A7%E8%AF%9D%E5%A4%A7%E5%89%8D%E7%AB%AF%E6%97%B6%E4%BB%A3(%E4%B8%80)%20%E2%80%94%E2%80%94%20Vue%20%E4%B8%8E%20iOS%20%E7%9A%84%E7%BB%84%E4%BB%B6%E5%8C%96.md</a></p><p>å¥½çš„jsåšå®¢<br><a href="https://zhuanlan.zhihu.com/dreawer?author=qiangdada520">https://zhuanlan.zhihu.com/dreawer?author=qiangdada520</a></p><p>å¤©çŒ«å‰ç«¯<br><a href="http://tmallfe.github.io/">http://tmallfe.github.io/</a></p><p>js æ ¸å¿ƒæ¦‚å¿µ<br><a href="https://mp.weixin.qq.com/s/I7A1iC8Et6uOGZ234DsTlA">https://mp.weixin.qq.com/s/I7A1iC8Et6uOGZ234DsTlA</a></p><p>Vue mock<br><a href="http://www.jianshu.com/p/284590b5b717">http://www.jianshu.com/p/284590b5b717</a><br><a href="https://github.com/yanm1ng/vue-starter-kit">https://github.com/yanm1ng/vue-starter-kit</a></p><p>å¾ˆå¥½çš„é¢è¯•é¢˜<br><a href="https://zhoukekestar.github.io/notes/2017/06/07/interview-answers.html">https://zhoukekestar.github.io/notes/2017/06/07/interview-answers.html</a></p><p>vue å¾ˆå¥½çš„åå°ç®¡ç†ç³»ç»Ÿ<br><a href="https://github.com/PanJiaChen/vue-element-admin">https://github.com/PanJiaChen/vue-element-admin</a><br><a href="https://github.com/PanJiaChen/vueAdmin-template">https://github.com/PanJiaChen/vueAdmin-template</a></p><p>Vueæºç è§£æ~~éå¸¸æ£’<br><a href="https://zhuanlan.zhihu.com/p/25869382">https://zhuanlan.zhihu.com/p/25869382</a></p><p><a href="https://zhuanlan.zhihu.com/p/28835709">https://zhuanlan.zhihu.com/p/28835709</a>  é«˜é˜¶å‡½æ•°</p><p>easy-mock<br><a href="https://easy-mock.com/">https://easy-mock.com/</a>    believezjp zhao110120</p><p>å‰ç«¯æ¯å‘¨ç›˜ç‚¹åŠå¹´æ¸…å•ç³»åˆ—</p><p><a href="https://segmentfault.com/a/1190000010769946">https://segmentfault.com/a/1190000010769946</a></p><p><a href="https://segmentfault.com/a/1190000010716195">https://segmentfault.com/a/1190000010716195</a></p><p>MVVMå®ç°åŸç†ã€‚<br><a href="https://segmentfault.com/a/1190000010744960">https://segmentfault.com/a/1190000010744960</a></p><p>React å­¦ä¹ æ•™ç¨‹<br><a href="https://segmentfault.com/a/1190000005136764">https://segmentfault.com/a/1190000005136764</a></p><p>Vue è„±å‘è®° - æŸ¥æ¼è¡¥ç¼º(æ±‡æ€»ä¸‹ç¾¤é‡Œé«˜é¢‘è¯¢é—®çš„xxxåŠç»™å‡ºä¸é è°±çš„è§£å†³æ–¹æ¡ˆ)<br><a href="https://juejin.im/post/59fa9257f265da43062a1b0e">https://juejin.im/post/59fa9257f265da43062a1b0e</a></p><p>ä½¿ç”¨vscode è‡ªåŠ¨ä¿®å¤eslintçš„æ ¼å¼é”™è¯¯(ç©ºæ ¼å¤šå°‘ï¼Œtabä¹‹ç±»çš„)<br>vscodeå·¦ä¸‹è§’ï¼Œè®¾ç½®é…ç½®å¦‚ä¸‹ï¼š<br>â€œeslint.validateâ€: [<br>        â€œjavascriptâ€,<br>        â€œjavascriptreactâ€,<br>        {<br>            â€œlanguageâ€: â€œvu             eâ€,<br>            â€œautoFixâ€: true<br>        }<br>    ]</p><p>æŠŠvueæ–‡ä»¶è®¾ä¸ºtrue,<br>æƒ³ä¿®å¤çš„æ—¶å€™ï¼Œåœ¨vscodeç”¨ctrl+shift+pæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥Fix  all  auto-fixable problems<br>å³å¯è‡ªåŠ¨ä¿®å¤æ‰€æœ‰çš„æ ¼å¼é”™è¯¯</p><p><a href="http://www.gbtags.com/">http://www.gbtags.com/</a></p><p>æ‰€æœ‰è½¯ä»¶çš„ä¹¦ç±ï¼š</p><p><a href="https://github.com/vhf/free-programming-books/blob/master/free-programming-books-zh.md">https://github.com/vhf/free-programming-books/blob/master/free-programming-books-zh.md</a></p><p>react æ•™ç¨‹ï¼š<br><a href="https://fakefish.github.io/react-webpack-cookbook/">https://fakefish.github.io/react-webpack-cookbook/</a></p><p>FLEX<br>ç…§ç€æ”¹é€ è‡ªå·±çš„flex é¡µé¢ã€‚<br><a href="https://zhuanlan.zhihu.com/p/25303493">https://zhuanlan.zhihu.com/p/25303493</a></p><p><a href="http://www.fgm.cc/learn/">http://www.fgm.cc/learn/</a>  å„ç§å®ä¾‹<br>å„ç§è§†é¢‘è¯¾ç¨‹ <a href="http://www.stuq.org/">http://www.stuq.org/</a></p><p><a href="http://www.chengxuyuans.com/web_technology/ajax-jsonp.html">http://www.chengxuyuans.com/web_technology/ajax-jsonp.html</a> jsonpçš„è®²è§£<br><a href="http://kb.cnblogs.com/page/159704/web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%8D%81%E6%97%A5%E8%B0%88">http://kb.cnblogs.com/page/159704/webå‰ç«¯å¼€å‘åæ—¥è°ˆ</a><br><a href="http://www.cnblogs.com/dowinning/archive/2012/04/19/json-jsonp-jquery.html">http://www.cnblogs.com/dowinning/archive/2012/04/19/json-jsonp-jquery.html</a></p><p><a href="https://github.com/FreeCodeCamp/FreeCodeCamp/blob/staging/CONTRIBUTING.md">https://github.com/FreeCodeCamp/FreeCodeCamp/blob/staging/CONTRIBUTING.md</a></p><p>çº¿ä¸‹è¯¾ &lt;&lt;å‰ç«¯å·¥ç¨‹å¸ˆä¸æµ‹è¯•å·¥ç¨‹å¸ˆ&gt;&gt;<br><a href="http://www.tudou.com/programs/view/NRpKuBbeZEg">http://www.tudou.com/programs/view/NRpKuBbeZEg</a><br>å¯†ç  ydxt2016</p><p>&lt;&lt;EcmaScript6ç¼–ç¨‹é£æ ¼ä¸Š&gt;&gt;<br>é“¾æ¥: <a href="http://pan.baidu.com/s/1c1TfnUC">http://pan.baidu.com/s/1c1TfnUC</a> å¯†ç : 945t</p><p>&lt;&lt;ç¬¬ä¸€å‘¨è€ƒé¢˜&gt;&gt;ä½ å¯ä»¥æµ‹éªŒä¸€ä¸‹è‡ªå·±çš„æ°´å¹³ã€‚<br><a href="http://pan.baidu.com/s/1gf7BsUf">http://pan.baidu.com/s/1gf7BsUf</a> å¯†ç ceuh<br>è®²è§£ <a href="http://www.tudou.com/programs/view/epsKmGW-Nwg/">http://www.tudou.com/programs/view/epsKmGW-Nwg/</a><br>å¯†ç YDXTpass2016</p><p>Vue.jsèµ„æºåˆ†äº«<br><a href="https://github.com/maidishike/FrontEnd-Wikis/blob/master/vuejs.md">https://github.com/maidishike/FrontEnd-Wikis/blob/master/vuejs.md</a></p><p>JavaScript å…¨æ ˆå·¥ç¨‹å¸ˆåŸ¹è®­æ•™ç¨‹<br><a href="http://www.ruanyifeng.com/blog/2016/11/javascript.html">http://www.ruanyifeng.com/blog/2016/11/javascript.html</a></p><p>ç®€ä¹¦å¾ˆæ£’çš„æ–‡ç« ï¼š<br><a href="http://www.jianshu.com/p/cc1cb9a5650c">http://www.jianshu.com/p/cc1cb9a5650c</a></p><p><a href="http://blog.phpfamily.org/">http://blog.phpfamily.org</a></p><p><a href="http://ued.party/#%E5%BA%8F%E4%B8%BA%E4%BB%80%E4%B9%88%E5%89%8D%E7%AB%AF%E6%B2%A1%E6%9C%89%E5%89%8D%E9%80%94">http://ued.party/#åºä¸ºä»€ä¹ˆå‰ç«¯æ²¡æœ‰å‰é€”</a></p><p><a href="https://www.shiyanlou.com/paths/web%E5%AE%9E%E9%AA%8C%E6%A5%BC">https://www.shiyanlou.com/paths/webå®éªŒæ¥¼</a></p><p>JavaScriptè®¾è®¡æ¨¡å¼ä¹‹ç»“æ„å‹è®¾è®¡æ¨¡å¼<br><a href="https://segmentfault.com/a/1190000012585364">https://segmentfault.com/a/1190000012585364</a></p><p>JavaScriptæ•°æ®ç±»å‹çš„å­˜å‚¨<br><a href="http://axuebin.com/blog/2017/08/24/javascript-data-storage/">http://axuebin.com/blog/2017/08/24/javascript-data-storage/</a></p><p>jQuery å¯¹åº”åŸç”Ÿjsæ€ä¹ˆå†™~~~<br><a href="http://youmightnotneedjquery.com/">http://youmightnotneedjquery.com/</a></p><p><a href="https://github.com/oneuijs/You-Dont-Need-jQuery/blob/master/README.zh-CN.md">https://github.com/oneuijs/You-Dont-Need-jQuery/blob/master/README.zh-CN.md</a></p><p>JavaScriptæ·±å…¥æ•™ç¨‹â€“å¿…å­¦ï¼ï¼<br><a href="https://github.com/mqyqingfeng/Blog">https://github.com/mqyqingfeng/Blog</a></p><h1 id="jsä¸“é¢˜"><a href="#jsä¸“é¢˜" class="headerlink" title="jsä¸“é¢˜"></a>jsä¸“é¢˜</h1><pre><code>https://segmentfault.com/blog/yayu-blog?tag=javascript%E4%B8%93%E9%A2%98%E7%B3%BB%E5%88%97</code></pre><p>vitual-domåŸç†ä¸ç®€å•å®ç°</p><p><a href="https://segmentfault.com/a/1190000012230659#articleHeader2">https://segmentfault.com/a/1190000012230659#articleHeader2</a></p><p>ã€JavaScriptä»å…¥é—¨åˆ°ç²¾é€šã€‘<br><a href="http://www.igeekbar.com/igeekbar/mypost/113.htm">http://www.igeekbar.com/igeekbar/mypost/113.htm</a></p><p>å‰ç«¯PDFä¸‹è½½<br><a href="http://www.menvscode.com/list/ziyuan/webpdf/1">http://www.menvscode.com/list/ziyuan/webpdf/1</a></p><p>javascriptç»„ä»¶åŒ–<br><a href="http://caibaojian.com/javascript-module-2.html">http://caibaojian.com/javascript-module-2.html</a></p><h2 id="ä»-for-of-èŠåˆ°-Generator"><a href="#ä»-for-of-èŠåˆ°-Generator" class="headerlink" title="ä» for of èŠåˆ° Generator"></a><a href="https://juejin.im/post/5c40484bf265da61171cfb4d">ä» for of èŠåˆ° Generator</a></h2><h2 id="æ·±å…¥ç†è§£-TypeScript"><a href="#æ·±å…¥ç†è§£-TypeScript" class="headerlink" title="æ·±å…¥ç†è§£ TypeScript"></a><a href="https://jkchao.github.io/typescript-book-chinese/project/modules.html">æ·±å…¥ç†è§£ TypeScript</a></h2><h2 id="MDN-javascriptä¸­é«˜çº§æ•™ç¨‹"><a href="#MDN-javascriptä¸­é«˜çº§æ•™ç¨‹" class="headerlink" title="MDN javascriptä¸­é«˜çº§æ•™ç¨‹"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">MDN javascriptä¸­é«˜çº§æ•™ç¨‹</a></h2><h2 id="ã€Œä¸­é«˜çº§å‰ç«¯ã€é«˜æ€§èƒ½æ¸²æŸ“åä¸‡æ¡æ•°æ®"><a href="#ã€Œä¸­é«˜çº§å‰ç«¯ã€é«˜æ€§èƒ½æ¸²æŸ“åä¸‡æ¡æ•°æ®" class="headerlink" title="ã€Œä¸­é«˜çº§å‰ç«¯ã€é«˜æ€§èƒ½æ¸²æŸ“åä¸‡æ¡æ•°æ®"></a>ã€Œä¸­é«˜çº§å‰ç«¯ã€é«˜æ€§èƒ½æ¸²æŸ“åä¸‡æ¡æ•°æ®</h2><p><a href="https://juejin.im/post/5d76f469f265da039a28aff7">ã€Œä¸­é«˜çº§å‰ç«¯ã€é«˜æ€§èƒ½æ¸²æŸ“åä¸‡æ¡æ•°æ®</a></p><h2 id="æ ¡å›­ç¼–ç¨‹å’ŒèŒåœºç¼–ç¨‹çš„åŒºåˆ«"><a href="#æ ¡å›­ç¼–ç¨‹å’ŒèŒåœºç¼–ç¨‹çš„åŒºåˆ«" class="headerlink" title="æ ¡å›­ç¼–ç¨‹å’ŒèŒåœºç¼–ç¨‹çš„åŒºåˆ«"></a>æ ¡å›­ç¼–ç¨‹å’ŒèŒåœºç¼–ç¨‹çš„åŒºåˆ«</h2><p>å­¦æ ¡çš„ç¨‹åºè§£å†³çš„è®¾è®¡é—®é¢˜å¾ˆå°‘æ˜¯é™©æ¶çš„ï¼ŒåŸºæœ¬èƒ½ä»å¤´åˆ°å°¾ç›´çº¿å‰è¿›è€Œè®¾è®¡ã€‚<br>åŸºæœ¬å®Œæˆä½œä¸šå°±å¯ä»¥ï¼Œå¾ˆå°‘ä¼šå¯¹ç¨‹åºæ”¹åŠ¨ã€‚</p><p>è€Œä¸“ä¸šç¼–ç¨‹ä¸­ä»£ç çš„ä¿®æ”¹æ˜¯æ¯æ—¥å¯è§çš„çœŸå®æƒ…æ™¯ã€‚</p><h2 id="è¯»ä»£ç å¤§å…¨2ç¬”è®°"><a href="#è¯»ä»£ç å¤§å…¨2ç¬”è®°" class="headerlink" title="è¯»ä»£ç å¤§å…¨2ç¬”è®°"></a>è¯»ä»£ç å¤§å…¨2ç¬”è®°</h2><p>è½¯ä»¶å¼€å‘çš„éšå–»ï¼Œåˆ°åº•ä»€ä¹ˆè¯åˆé€‚</p><p>å…ˆæƒ³åˆ°çš„æ˜¯åº–ä¸è§£ç‰›ï¼Œä¸è¿‡æ˜¯ç›¸åçš„è¿‡ç¨‹ï¼Œç¼ºå°‘ä»»ä½•ä¸€ä¸ªéª¨å¤´è‚Œè‚‰éƒ½ä¸èƒ½å®Œæ•´æ‹¼æˆã€‚</p><p>ä½†æ’­ç§è€•ç§æ›´å½¢è±¡ï¼Œæ’­ç§ç›´åˆ°ä¸°æ”¶ï¼Œæ¯ä¸ªç»†èŠ‚éƒ½ä¸èƒ½é©¬è™ï¼Œæœ€ç»ˆæ‰èƒ½æœ‰ç§‹åçš„æœå®ã€‚</p><p>å¤§å‹çš„æˆ¿å±‹å»ºç­‘éœ€è¦è¶…å‡ºå¸¸è§„çš„è§„åˆ’å’Œå»ºè®¾</p><p>ç»„åˆå„ç§éšå–»</p><h3 id="è½¯ä»¶å¼€å‘é‡‘å­—å¡”"><a href="#è½¯ä»¶å¼€å‘é‡‘å­—å¡”" class="headerlink" title="è½¯ä»¶å¼€å‘é‡‘å­—å¡”"></a>è½¯ä»¶å¼€å‘é‡‘å­—å¡”</h3><ol><li>é—®é¢˜å®šä¹‰<br>åªå®šä¹‰é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œä¸æ¶‰åŠä»»ä½•å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚</li><li>éœ€æ±‚<br>éœ€æ±‚åƒæ°´ï¼Œå†»ç»“äº†æ‰èƒ½åœ¨ä¸Šé¢å¼€å±•å»ºè®¾ã€‚</li></ol><p>ç®¡ç†å¤æ‚åº¦çš„é‡è¦æ€§</p><p>ä½œä¸ºè½¯ä»¶å¼€å‘äººå‘˜ï¼Œä¸åº”è¯¥è¯•ç€åœ¨åŒä¸€æ—¶é—´æŠŠæ•´ä¸ªç¨‹åºéƒ½å¡è¿›è‡ªå·±çš„å¤§è„‘ï¼Œè€Œåº”è¯¥è¯•ç€ä»¥æŸç§æ–¹å¼å»ç»„ç»‡ç¨‹åºï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨ä¸€ä¸ªæ—¶åˆ»å¯ä»¥ä¸“æ³¨äºä¸€ä¸ªç‰¹å®šçš„éƒ¨åˆ†ã€‚<br>è¿™ä¹ˆåšçš„ç›®çš„æ˜¯å°½é‡å‡å°‘åœ¨ä»»æ„æ—¶é—´ç´¢è¦è€ƒè™‘çš„ç¨‹åºé‡ã€‚</p><p>åœ¨è½¯ä»¶æ¶æ„å±‚æ¬¡ä¸Šï¼Œå¯ä»¥é€šè¿‡æŠŠæ•´ä¸ªç³»ç»Ÿåˆ†è§£ä¸ºå¤šä¸ªå­ç³»ç»Ÿæ¥é™ä½é—®é¢˜çš„å¤æ‚åº¦ã€‚<br>2019-11-29 16:49:41 97é¡µ</p><p>ä»£ç æ•´æ´ä¹‹é“è¯»å®Œ</p><p><a href="https://github.com/koala-coding/goodBlog/blob/master/docs/node/eventLoop.md">event loop</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript - async/await</title>
      <link href="posts/JavaScript-async-await/"/>
      <url>posts/JavaScript-async-await/</url>
      
        <content type="html"><![CDATA[<p><a href="https://segmentfault.com/a/1190000017718513">å‚è€ƒé“¾æ¥</a></p><p><code>async/await</code> æä¾›äº†ä½¿ç”¨åŒæ­¥æ ·å¼ä»£ç ç¼–å†™å¼‚æ­¥ä»£ç çš„æ–¹å¼ï¼Œè€Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚</p><h2 id="async-ä½œç”¨æ˜¯ä»€ä¹ˆ"><a href="#async-ä½œç”¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="async ä½œç”¨æ˜¯ä»€ä¹ˆ"></a>async ä½œç”¨æ˜¯ä»€ä¹ˆ</h2><p>æ ¹æ®<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function">MDN</a>:</p><p>async å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚<br>async å‡½æ•°ï¼ˆåŒ…å«å‡½æ•°è¯­å¥ã€å‡½æ•°è¡¨è¾¾å¼ã€Lambdaè¡¨è¾¾å¼ï¼‰ä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¦‚æœåœ¨å‡½æ•°ä¸­ return ä¸€ä¸ªç›´æ¥é‡ï¼Œ<br>async ä¼šæŠŠè¿™ä¸ªç›´æ¥é‡é€šè¿‡ Promise.resolve() å°è£…æˆ Promise å¯¹è±¡ã€‚</p><p>å¦‚æœ async å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œ å®ƒä¼šè¿”å› Promise.resolve(undefined)ã€‚</p><blockquote><p>è¯­æ³•ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">name</span>(<span class="params">[param[, param[, ... param]]]</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// statements</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="keyword">let</span> A=<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="keyword">let</span> A=<span class="keyword">async</span> ()=&gt;&#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="await-ä½œç”¨æ˜¯ä»€ä¹ˆ-MDN"><a href="#await-ä½œç”¨æ˜¯ä»€ä¹ˆ-MDN" class="headerlink" title="await ä½œç”¨æ˜¯ä»€ä¹ˆ(MDN)"></a>await ä½œç”¨æ˜¯ä»€ä¹ˆ(<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/await">MDN</a>)</h2><blockquote><p>è¯­æ³•</p></blockquote><p><code>[return_value] = await expression;</code></p><p>await ç­‰å¾…çš„æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœæ˜¯ Promise å¯¹è±¡æˆ–è€…å…¶å®ƒå€¼ï¼ˆæ¢å¥è¯è¯´ï¼Œawait å¯ä»¥ç­‰ä»»æ„è¡¨è¾¾å¼çš„ç»“æœï¼‰ã€‚</p><p>å¦‚æœå®ƒç­‰åˆ°çš„ä¸æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œé‚£ await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå°±æ˜¯å®ƒç­‰åˆ°çš„ä¸œè¥¿ã€‚</p><p>å¦‚æœå®ƒç­‰åˆ°çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œawait å°±å¿™èµ·æ¥äº†ï¼Œå®ƒä¼šé˜»å¡åé¢çš„ä»£ç ï¼Œç­‰ç€ Promise å¯¹è±¡ resolveï¼Œç„¶åå¾—åˆ° resolve çš„å€¼ï¼Œä½œä¸º await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœã€‚</p><blockquote><p>è¿™å°±æ˜¯ await å¿…é¡»ç”¨åœ¨ async å‡½æ•°ä¸­çš„åŸå› ã€‚async å‡½æ•°è°ƒç”¨ä¸ä¼šé€ æˆé˜»å¡ï¼Œå®ƒå†…éƒ¨æ‰€æœ‰çš„é˜»å¡éƒ½è¢«å°è£…åœ¨ä¸€ä¸ª Promise å¯¹è±¡ä¸­å¼‚æ­¥æ‰§è¡Œã€‚</p></blockquote><p>asyncå‡½æ•°ä¸­ï¼Œå¦‚æœæœ‰å¤šä¸ªawaitå…³é”®å­—æ—¶ï¼Œå¦‚æœæœ‰ä¸€ä¸ªawaitçš„çŠ¶æ€å˜æˆäº†rejectedï¼Œé‚£ä¹ˆåé¢çš„æ“ä½œéƒ½ä¸ä¼šç»§ç»­æ‰§è¡Œï¼Œpromiseä¹Ÿæ˜¯åŒç†awaitçš„è¿”å›ç»“æœå°±æ˜¯åé¢promiseæ‰§è¡Œçš„ç»“æœï¼Œå¯èƒ½æ˜¯resolvesæˆ–è€…rejectedçš„å€¼ä½¿ç”¨åœºæ™¯å¾ªç¯éå†æ–¹ä¾¿äº†ä»£ç éœ€è¦åŒæ­¥çš„æ“ä½œï¼ˆæ–‡ä»¶è¯»å–ï¼Œæ•°æ®åº“æ“ä½œç­‰ï¼‰</p><a id="more"></a><h2 id="async-await-çš„ä¼˜ç‚¹"><a href="#async-await-çš„ä¼˜ç‚¹" class="headerlink" title="async/await çš„ä¼˜ç‚¹"></a>async/await çš„ä¼˜ç‚¹</h2><p><strong>async/await å¸¦ç»™æˆ‘ä»¬çš„æœ€é‡è¦çš„å¥½å¤„æ˜¯åŒæ­¥ç¼–ç¨‹é£æ ¼ã€‚</strong></p><p>ä»£ç æ¼”ç¤º:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// async/await</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getBooksByAuthorWithAwait</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> books = <span class="keyword">await</span> bookModel.fetchAll();</span><br><span class="line">    <span class="comment">// è¿™é‡Œçš„bookså°±æ˜¯å¼‚æ­¥æ‰§è¡Œè¿”å›çš„ç»“æœ</span></span><br><span class="line">    <span class="keyword">return</span> books.filter(<span class="function"><span class="params">b</span> =&gt;</span> b.authorId === id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Promise</span></span><br><span class="line"><span class="function"><span class="title">getBooksByAuthorWithPromise</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> bookModel.fetchAll().then(<span class="function"><span class="params">books</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> books.filter(<span class="function"><span class="params">b</span> =&gt;</span> b.authorId === id));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿™é‡Œè°ƒç”¨<code>this.getBooksByAuthorWithAwait(id)</code>è¿”å›çš„æ˜¯Promiseå¯¹è±¡ï¼Œ éœ€è¦æ‰§è¡Œ.thenæ‰èƒ½è·å–åˆ°å¼‚æ­¥è¿”å›çš„ç»“æœ</strong></p><ul><li><p>å¾ˆæ˜æ˜¾async/awaitç‰ˆæœ¬æ¯”Promiseç‰ˆæœ¬æ›´å®¹æ˜“ç†è§£ï¼Œå¦‚æœå¿½ç•¥awaitå…³é”®å­—ï¼Œä»£ç çœ‹èµ·æ¥åƒå…¶ä»–ä»»ä½•åŒæ­¥ä»£ç ã€‚<br>ç›®å‰æ‰€æœ‰ä¸»æµæµè§ˆå™¨éƒ½å®Œå…¨æ”¯æŒå¼‚æ­¥åŠŸèƒ½ã€‚</p></li><li><p>æµè§ˆå™¨æ”¯æŒæ„å‘³ç€ä¸å¿…è½¬æ¢ä»£ç ã€‚ä¾¿äºè°ƒè¯•ã€‚</p></li><li><p>asyncå…³é”®å­—çš„å¥½å¤„ã€‚asyncå£°æ˜<code>getBooksByAuthorWithAwait</code>å‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ªPromiseã€‚</p></li></ul><p>è°ƒç”¨è€…å¯ä»¥å®‰å…¨çš„ä½¿ç”¨<code>getBooksByAuthorWithAwait.then(...)</code>æˆ–<code>await getBooksByAuthorWithAwait()</code>.</p><p>Promiseåœ¨å¼‚å¸¸æƒ…å†µä¸‹ä¸èƒ½è°ƒç”¨<code>.then</code>ã€‚æœ‰äº†asyncå£°æ˜ï¼Œè¿™ç§æƒ…å†µå°±ä¸ä¼šå‡ºç°</p><p>å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getBooksByAuthorWithPromise</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(!authorId) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bookModel.fetchAll()</span><br><span class="line">        .then(<span class="function"><span class="params">books</span> =&gt;</span> books.filter(<span class="function"><span class="params">b</span> =&gt;</span> b.authorId === id));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¦‚æœè°ƒç”¨<code>getBooksByAuthorWithPromise</code>å¯èƒ½è¿”å›Promise(æ­£å¸¸æƒ…å†µ)æˆ–null(å¼‚å¸¸æƒ…å†µidä¸ºç©º), åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè°ƒç”¨è€…ä¸èƒ½è°ƒç”¨.then()</p><h2 id="async-await-å¯èƒ½ä¼šäº§ç”Ÿè¯¯å¯¼"><a href="#async-await-å¯èƒ½ä¼šäº§ç”Ÿè¯¯å¯¼" class="headerlink" title="async/await å¯èƒ½ä¼šäº§ç”Ÿè¯¯å¯¼"></a>async/await å¯èƒ½ä¼šäº§ç”Ÿè¯¯å¯¼</h2><p>æœ‰äººå°†<code>async/await</code>ä¸Promiseè¿›è¡Œæ¯”è¾ƒï¼Œå¹¶å£°ç§°å®ƒæ˜¯JavaScriptä¸‹ä¸€ä»£å¼‚æ­¥ç¼–ç¨‹é£æ ¼ã€‚<br><code>async/await</code>æ˜¯ä¸€ç§æ”¹è¿›ï¼Œä½†å®ƒåªä¸è¿‡æ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œä¸ä¼šå®Œå…¨æ”¹å˜ç¼–ç é£æ ¼ã€‚</p><p>æœ¬è´¨ä¸Šï¼Œasync å‡½æ•°ä»ç„¶æ˜¯Promiseã€‚ æ­£ç¡®ä½¿ç”¨asyncå‡½æ•°ä¹‹å‰ï¼Œå¿…é¡»å…ˆäº†è§£Promise. æ›´ç³Ÿç³•çš„æ˜¯å¤§å¤šæ•°æ—¶ï¼Œéœ€è¦åœ¨ä½¿ç”¨Promiseæ—¶åŒæ—¶ä½¿ç”¨asyncå‡½æ•°ã€‚</p><p>è¿™æ„å‘³ç€ï¼ŒgetBooksByAuthorWithAwaitå°†è¿”å›ä¸€ä¸ªPromiseï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ä½¿ç”¨.then(â€¦)æ–¹å¼æ¥è°ƒç”¨å®ƒã€‚</p><h2 id="async-awaitå¸¸è§é”™è¯¯"><a href="#async-awaitå¸¸è§é”™è¯¯" class="headerlink" title="async/awaitå¸¸è§é”™è¯¯"></a>async/awaitå¸¸è§é”™è¯¯</h2><p>ä½¿ç”¨async/awaitæ—¶ï¼Œå¸¸è§é”™è¯¯ï¼š</p><h3 id="å¤ªè¿‡ä¸²è¡ŒåŒ–"><a href="#å¤ªè¿‡ä¸²è¡ŒåŒ–" class="headerlink" title="å¤ªè¿‡ä¸²è¡ŒåŒ–"></a>å¤ªè¿‡ä¸²è¡ŒåŒ–</h3><p>å°½ç®¡awaitå¯ä»¥ä½¿ä»£ç çœ‹èµ·æ¥åƒæ˜¯åŒæ­¥çš„ï¼Œä½†å®é™…ä¸Šä»–ä»¬ä»ç„¶æ˜¯å¼‚æ­¥çš„ï¼Œå¿…é¡»é¿å…å¤ªè¿‡ä¸²è¡ŒåŒ–ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getBooksByAuthor</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> books = <span class="keyword">await</span> bookModel.fetchAll();</span><br><span class="line">    <span class="keyword">const</span> author = <span class="keyword">await</span> authorModel.fetch(id);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        author,</span><br><span class="line">        books: books.filter(<span class="function"><span class="params">book</span> =&gt;</span> book.authorId === id)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç çœ‹ä¼¼æ­£ç¡®ï¼Œç„¶è€Œè¿™æ˜¯é”™è¯¯çš„ã€‚</p><ul><li><ol><li>await bookModel.fetchAll() ä¼šç­‰å¾…fetchAll()ç›´åˆ°fetchAllè¿”å›ç»“æœ</li></ol></li><li><ol start="2"><li>ç„¶åawait authorModel.fetch(id) è¢«è°ƒç”¨</li></ol></li></ul><p>ç¬¬äºŒä¸ªfetchä¸ä¾èµ–äºç¬¬ä¸€ä¸ªfetchçš„ç»“æœï¼Œå®é™…ä¸Šå¯ä»¥å¹¶è¡Œè°ƒç”¨ã€‚ç„¶è€Œè¿™é‡Œç”¨äº†awaitï¼Œä¸¤ä¸ªè°ƒç”¨å˜æˆä¸²è¡Œï¼Œæ€»çš„æ‰§è¡Œæ—¶é—´æ¯”å¹¶è¡Œç‰ˆæœ¬è¦é•¿çš„å¤šã€‚</p><p>æ­£ç¡®å†™æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getBooksByAuthor</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> bookPromise = bookModel.fetchAll();</span><br><span class="line">    <span class="keyword">const</span> authorPromise = authorModel.fetch(id);</span><br><span class="line">    <span class="keyword">const</span> book = <span class="keyword">await</span> bookPromise;</span><br><span class="line">    <span class="keyword">const</span> author = <span class="keyword">await</span> authorPromise;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        author,</span><br><span class="line">        books: books.filter(<span class="function"><span class="params">book</span> =&gt;</span> book.authorId === id)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ•°ç»„ä¸­æ¯ä¸ªiteméƒ½è¦è¯·æ±‚å¼‚æ­¥æ•°æ®ï¼Œå¿…é¡»ä¾èµ–Promise</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getAuthor</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¼šå¼•èµ·ä¸²è¡Œè°ƒç”¨ï¼Œå¢åŠ è¿è¡Œæ—¶é—´</span></span><br><span class="line">    <span class="comment">// const authors = _.map(</span></span><br><span class="line">    <span class="comment">//     authorIds,</span></span><br><span class="line">    <span class="comment">//     id =&gt; await authorModel.fetch(id)</span></span><br><span class="line">    <span class="comment">// );</span></span><br><span class="line">    <span class="comment">// æ­£ç¡®æ–¹å¼</span></span><br><span class="line">    <span class="keyword">const</span> promises = _.map(authorIds, <span class="function"><span class="params">id</span> =&gt;</span> authorModel.fetch(id));</span><br><span class="line">    <span class="keyword">const</span> authors = <span class="keyword">await</span> <span class="built_in">Promise</span>.all(promises);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»ä¹‹ï¼Œä»éœ€å°†æµç¨‹è§†ä¸ºå¼‚æ­¥çš„ï¼Œç„¶åç”¨awaitå†™å‡ºåŒæ­¥çš„ä»£ç ï¼Œåœ¨å¤æ‚çš„æµç¨‹ä¸­ï¼Œç›´æ¥ä½¿ç”¨Promiseå¯èƒ½æ›´æ–¹ä¾¿ã€‚</p><h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><p>åœ¨Promiseä¸­ï¼Œå¼‚æ­¥å‡½æ•°æœ‰ä¸¤ä¸ªè¿”å›å€¼ï¼š resolved å’Œ rejectedã€‚å¯ä»¥ç”¨.then()å¤„ç†æ­£å¸¸æƒ…å†µï¼Œç”¨.catch()å¤„ç†å¼‚å¸¸æƒ…å†µã€‚ç„¶è€Œç”¨<code>async/await</code>æ–¹å¼å¤„ç†é”™è¯¯æ¯”è¾ƒæ£˜æ‰‹ã€‚</p><h3 id="tryâ€¦catch"><a href="#tryâ€¦catch" class="headerlink" title="tryâ€¦catch"></a>tryâ€¦catch</h3><p>æ¨èç”¨tryâ€¦catchè¯­æ³•æ•è·å¼‚å¸¸ã€‚æ‰€ä»¥æœ€å¥½æŠŠawaitå‘½ä»¤æ”¾åˆ°tryâ€¦catchä»£ç å—ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">bookModel</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">fetchAll</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">window</span>.setTimeout(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                reject(&#123;<span class="attr">error</span>: <span class="number">400</span>&#125;)</span><br><span class="line">            &#125;, <span class="number">1000</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// async/await</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getBooksByAuthorWithAwait</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> books = <span class="keyword">await</span> bookModel.fetchAll();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error); <span class="comment">// &#123;error: 400&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•æ‰åˆ°å¼‚å¸¸å¤„ç†æ–¹æ³•ï¼š</p><ul><li>è¿”å›ä¸€ä¸ªæ­£å¸¸å€¼ã€‚(ä¸åœ¨catchå—ä¸­ä½¿ç”¨ä»»ä½•returnè¯­å¥ï¼Œç›¸å½“äºreturn undefined)</li><li>æƒ³è®©è°ƒç”¨è€…å¤„ç†å®ƒï¼Œå¯ä»¥ç›´æ¥æŠ›å‡ºæ™®é€šçš„é”™è¯¯å¯¹è±¡ã€‚å¦‚throw errorã€‚å…è®¸åœ¨Promise.catchä¸­å¤„ç†é”™è¯¯ã€‚</li></ul><p>ä½¿ç”¨tryâ€¦catchå¥½å¤„ï¼š</p><ul><li>ç®€å•ï¼Œæ˜“äºç†è§£</li><li>å¦‚æœä¸éœ€è¦æ¯éƒ¨æ‰§è¡Œé”™è¯¯å¤„ç†ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªtryâ€¦catchå—ä¸­åŒ…è£…å¤šä¸ªawaitè°ƒç”¨æ¥å¤„ç†ä¸€ä¸ªåœ°æ–¹çš„é”™è¯¯ã€‚</li></ul><p>è¿™ç§æ–¹æ³•æœ‰ä¸ªç¼ºé™·ï¼Œç”±äºtryâ€¦catchä¼šæ•è·ä»£ç å—ä¸­çš„å¼‚å¸¸ï¼Œæ‰€ä»¥é€šå¸¸ä¸ä¼šè¢«Promiseæ•è·çš„å¼‚å¸¸ä¹Ÿä¼šè¢«æ•è·åˆ°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookModel</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">fetchAll</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        cb();<span class="comment">// cbæœªå®šä¹‰ï¼Œå¯¼è‡´å¼‚å¸¸</span></span><br><span class="line">        <span class="keyword">return</span> fetch(<span class="string">&#x27;/books&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    bookModel.fetchAll();</span><br><span class="line">&#125; <span class="keyword">catch</span>(err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err); <span class="comment">// æ‰“å° cb is not undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç ä¼šæ‰“å°<code>cb is not undefined</code>ï¼Œè¿™ä¸ªé”™è¯¯æ˜¯ç”±console.logæ‰“å°å‡ºæ¥ï¼Œè€Œä¸æ˜¯JavaScriptæœ¬èº«ã€‚æœ‰æ—¶ï¼Œè¿™æ˜¯è‡´å‘½çš„ï¼Œå¦‚æœBookModelè¢«åŒ…å«åœ¨ä¸€äº›åˆ—å‡½æ•°è°ƒç”¨ä¸­ï¼Œå…¶ä¸­ä¸€ä¸ªè°ƒç”¨è€…åå™¬äº†é”™è¯¯ï¼Œé‚£ä¹ˆå¾ˆéš¾æ‰¾åˆ°è¿™æ ·ä¸€ä¸ªæœªå®šä¹‰é”™è¯¯ã€‚</p><h3 id="è®©å‡½æ•°è¿”å›ä¸¤ä¸ªå€¼"><a href="#è®©å‡½æ•°è¿”å›ä¸¤ä¸ªå€¼" class="headerlink" title="è®©å‡½æ•°è¿”å›ä¸¤ä¸ªå€¼"></a>è®©å‡½æ•°è¿”å›ä¸¤ä¸ªå€¼</h3><p><code>[err, user] = await to(UserModel.findById(1));</code></p><h3 id="ä½¿ç”¨-catch"><a href="#ä½¿ç”¨-catch" class="headerlink" title="ä½¿ç”¨.catch"></a>ä½¿ç”¨.catch</h3><p>awaitçš„åŠŸèƒ½ï¼šå®ƒå°†ç­‰å¾…Promiseå®Œæˆå®ƒçš„å·¥ä½œã€‚Promise.catch()ä¹Ÿä¼šè¿”å›ä¸€ä¸ªPromiseã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·å¤„ç†é”™è¯¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// books === undefined if error happens,</span></span><br><span class="line"><span class="comment">// since nothing returned in the catch statement</span></span><br><span class="line"><span class="keyword">let</span> books = <span class="keyword">await</span> bookModel.fetchAll().catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;<span class="built_in">console</span>.log(err);&#125;);</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•æœ‰ä¸¤ä¸ªå°é—®é¢˜ï¼š</p><ul><li>å®ƒæ˜¯Promiseå’Œasyncå‡½æ•°çš„æ··åˆä½“ã€‚ä»éœ€è¦ç†è§£Promiseæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</li><li>é”™è¯¯ç†è§£å…ˆäºæ­£å¸¸è·¯å¾„ï¼Œè¿™æ˜¯ä¸ç›´è§‚çš„ã€‚</li></ul><h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>async/await å…³é”®å­—æ— ç–‘æ˜¯å¯¹J avaScriptå¼‚æ­¥ç¼–ç¨‹çš„æ”¹è¿›ã€‚å®ƒå¯ä»¥ä½¿ä»£ç æ›´å®¹æ˜“é˜…è¯»å’Œè°ƒè¯•ã€‚<br>ç„¶è€Œï¼Œä¸ºäº†æ­£ç¡®åœ°ä½¿ç”¨å®ƒä»¬ï¼Œå¿…é¡»å®Œå…¨ç†è§£ Promiseï¼Œå› ä¸º async/await åªä¸è¿‡æ˜¯ Promise çš„è¯­æ³•ç³–ï¼Œæœ¬è´¨ä¸Šä»ç„¶æ˜¯ Promiseã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> es8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptç®—æ³•ä¹‹å¤æ‚åº¦åˆ†æ</title>
      <link href="posts/JavaScript%E7%AE%97%E6%B3%95%E4%B9%8B%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/"/>
      <url>posts/JavaScript%E7%AE%97%E6%B3%95%E4%B9%8B%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5c2a1d9d6fb9a04a0f654581">JavaScript ç®—æ³•ä¹‹å¤æ‚åº¦åˆ†æ</a></p><p>æƒ³è¦å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œé¦–å…ˆè¦æŒæ¡ä¸€ä¸ªæ•°æ®ç»“æ„ä¸ç®—æ³•ä¸­æœ€é‡è¦çš„æ¦‚å¿µâ€”â€“å¤æ‚åº¦åˆ†æã€‚</p><p>==<strong>æ˜¯æ•°æ®ç»“æ„å’Œç®—æ³•å­¦ä¹ çš„ç²¾é«“ã€‚</strong>==</p><p>æ˜¯ä»€ä¹ˆï¼š<br>æ•°æ®ç»“æ„æŒ‡çš„æ˜¯â€œä¸€ç»„æ•°æ®çš„å­˜å‚¨ç»“æ„â€ï¼Œç®—æ³•æŒ‡çš„æ˜¯â€œæ“ä½œæ•°æ®çš„ä¸€ç»„æ–¹æ³•â€ã€‚<br>æ•°æ®ç»“æ„æ˜¯ä¸ºç®—æ³•æœåŠ¡çš„ï¼Œç®—æ³•æ˜¯è¦ä½œç”¨å†ç‰¹å®šçš„æ•°æ®ç»“æ„ä¸Šçš„ã€‚</p><p>å­¦ä»€ä¹ˆï¼š</p><ol><li>æ•ˆç‡å’Œèµ„æºæ¶ˆè€—çš„åº¦é‡è¡¡â€“å¤æ‚åº¦åˆ†æã€‚</li><li>æœ€å¸¸ç”¨ã€æœ€åŸºç¡€çš„20ä¸ªæ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œå­¦ä¹ ä»–ä»¬çš„ï¼šâ€œæ¥å†â€ã€â€œç‰¹ç‚¹â€ã€â€œé€‚åˆè§£å†³ä»€ä¹ˆé—®é¢˜â€å’Œâ€œå®é™…çš„åº”ç”¨åœºæ™¯â€ã€‚<br> æ•°æ®ç»“æ„ï¼šæ•°ç»„ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ•£åˆ—è¡¨ã€äºŒå‰æ ‘ã€å †ã€è·³è¡¨ã€å›¾ã€Tireæ ‘<br> ç®—æ³•ï¼š é€’å½’ã€æ’åºã€äºŒåˆ†æŸ¥æ‰¾ã€æœç´¢ã€å“ˆå¸Œç®—æ³•ã€è´ªå¿ƒç®—æ³•ã€åˆ†æ²»ç®—æ³•ã€å›æº¯ç®—æ³•ã€åŠ¨æ€è§„åˆ’ã€å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•</li></ol><p>æ€ä¹ˆå­¦:</p><ol><li>è¾¹å­¦è¾¹ç»ƒï¼Œæ¯å‘¨èŠ± 1~2 å°æ—¶é›†ä¸­æ”»å…³ä¸‰èŠ‚è¯¾æ¶‰åŠçš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œå…¨éƒ¨å†™å‡ºæ¥ã€‚</li><li>ä¸»åŠ¨æé—®ã€å¤šæ€è€ƒã€å¤šäº’åŠ¨ã€‚åœ¨ç•™è¨€åŒºå¢åŠ è‡ªå·±çš„ç•™è¨€ã€‚</li><li>è‡ªæˆ‘æ¿€åŠ±ï¼Œæ¯æ¬¡å­¦ä¹ å®Œåšä¸€ç¯‡å­¦ä¹ ç¬”è®°ã€‚</li><li>æ²‰ä¸‹å¿ƒä¸è¦æµ®èºï¼Œå…ˆæŠŠè¿™äº›åŸºç¡€çš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œè¿˜æœ‰å­¦ä¹ æ–¹æ³•ç†Ÿç»ƒæŒæ¡åï¼Œå†è¿½æ±‚æ›´é«˜å±‚æ¬¡ã€‚</li></ol><a id="more"></a><h2 id="ä¸ºä»€ä¹ˆéœ€è¦å¤æ‚åº¦åˆ†æ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å¤æ‚åº¦åˆ†æ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å¤æ‚åº¦åˆ†æ"></a>ä¸ºä»€ä¹ˆéœ€è¦å¤æ‚åº¦åˆ†æ</h2><p>æ‰§è¡Œä»£ç è¿›è¡Œå¤æ‚åº¦åˆ†æå¼Šç«¯</p><ol><li>æµ‹è¯•ç»“æœéå¸¸ä¾èµ–æµ‹è¯•ç¯å¢ƒ</li><li>æµ‹è¯•ç»“æœå—æ•°æ®è§„æ¨¡çš„å½±å“å¾ˆå¤§</li></ol><h2 id="å¤§Oå¤æ‚åº¦è¡¨ç¤ºæ³•"><a href="#å¤§Oå¤æ‚åº¦è¡¨ç¤ºæ³•" class="headerlink" title="å¤§Oå¤æ‚åº¦è¡¨ç¤ºæ³•"></a>å¤§Oå¤æ‚åº¦è¡¨ç¤ºæ³•</h2><p>ä¸éœ€è¦å…·ä½“çš„æµ‹è¯•æ•°æ®æ¥æµ‹è¯•ï¼Œå°±å¯ä»¥ç²—ç•¥ä¼°è®¡ç®—æ³•æ‰§è¡Œæ•ˆç‡çš„æ–¹æ³•</p><p>ä¸€ã€ä»€ä¹ˆæ˜¯å¤æ‚åº¦åˆ†æï¼Ÿ</p><ol><li>æ•°æ®ç»“æ„å’Œç®—æ³•è§£å†³æ˜¯â€œå¦‚ä½•è®©è®¡ç®—æœºæ›´å¿«æ—¶é—´ã€æ›´çœç©ºé—´çš„è§£å†³é—®é¢˜â€ã€‚</li><li>å› æ­¤éœ€ä»æ‰§è¡Œæ—¶é—´å’Œå ç”¨ç©ºé—´ä¸¤ä¸ªç»´åº¦æ¥è¯„ä¼°æ•°æ®ç»“æ„å’Œç®—æ³•çš„æ€§èƒ½ã€‚</li><li>åˆ†åˆ«ç”¨æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ä¸¤ä¸ªæ¦‚å¿µæ¥æè¿°æ€§èƒ½é—®é¢˜ï¼ŒäºŒè€…ç»Ÿç§°ä¸ºå¤æ‚åº¦ã€‚</li><li>å¤æ‚åº¦æè¿°çš„æ˜¯ç®—æ³•æ‰§è¡Œæ—¶é—´ï¼ˆæˆ–å ç”¨ç©ºé—´ï¼‰ä¸æ•°æ®è§„æ¨¡çš„å¢é•¿å…³ç³»ã€‚</li></ol><p>äºŒã€ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ</p><ol><li>å’Œæ€§èƒ½æµ‹è¯•ç›¸æ¯”ï¼Œå¤æ‚åº¦åˆ†ææœ‰ä¸ä¾èµ–æ‰§è¡Œç¯å¢ƒã€æˆæœ¬ä½ã€æ•ˆç‡é«˜ã€æ˜“æ“ä½œã€æŒ‡å¯¼æ€§å¼ºçš„ç‰¹ç‚¹ã€‚</li><li>æŒæ¡å¤æ‚åº¦åˆ†æï¼Œå°†èƒ½ç¼–å†™å‡ºæ€§èƒ½æ›´ä¼˜çš„ä»£ç ï¼Œæœ‰åˆ©äºé™ä½ç³»ç»Ÿå¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚</li></ol><p>ä¸‰ã€å¦‚ä½•è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ</p><ol><li><p>å¤§Oè¡¨ç¤ºæ³•</p><p> 1ï¼‰æ¥æº<br> ç®—æ³•çš„æ‰§è¡Œæ—¶é—´ä¸æ¯è¡Œä»£ç çš„æ‰§è¡Œæ¬¡æ•°æˆæ­£æ¯”ï¼Œç”¨T(n) = O(f(n))è¡¨ç¤ºï¼Œå…¶ä¸­T(n)è¡¨ç¤ºç®—æ³•æ‰§è¡Œæ€»æ—¶é—´ï¼Œf(n)è¡¨ç¤ºæ¯è¡Œä»£ç æ‰§è¡Œæ€»æ¬¡æ•°ï¼Œè€Œnå¾€å¾€è¡¨ç¤ºæ•°æ®çš„è§„æ¨¡ã€‚<br> 2ï¼‰ç‰¹ç‚¹<br> ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºä¾‹ï¼Œç”±äºæ—¶é—´å¤æ‚åº¦æè¿°çš„æ˜¯ç®—æ³•æ‰§è¡Œæ—¶é—´ä¸æ•°æ®è§„æ¨¡çš„å¢é•¿å˜åŒ–è¶‹åŠ¿ï¼Œæ‰€ä»¥å¸¸é‡é˜¶ã€ä½é˜¶ä»¥åŠç³»æ•°å®é™…ä¸Šå¯¹è¿™ç§å¢é•¿è¶‹åŠ¿ä¸äº§å†³å®šæ€§å½±å“ï¼Œæ‰€ä»¥åœ¨åšæ—¶é—´å¤æ‚åº¦åˆ†ææ—¶å¿½ç•¥è¿™äº›é¡¹ã€‚</p></li><li><p>å¤æ‚åº¦åˆ†ææ³•åˆ™</p></li></ol><p>1ï¼‰å•æ®µä»£ç çœ‹é«˜é¢‘ï¼šæ¯”å¦‚å¾ªç¯ã€‚<br>2ï¼‰å¤šæ®µä»£ç å–æœ€å¤§ï¼šæ¯”å¦‚ä¸€æ®µä»£ç ä¸­æœ‰å•å¾ªç¯å’Œå¤šé‡å¾ªç¯ï¼Œé‚£ä¹ˆå–å¤šé‡å¾ªç¯çš„å¤æ‚åº¦ã€‚<br>3ï¼‰åµŒå¥—ä»£ç æ±‚ä¹˜ç§¯ï¼šæ¯”å¦‚é€’å½’ã€å¤šé‡å¾ªç¯ç­‰<br>4ï¼‰å¤šä¸ªè§„æ¨¡æ±‚åŠ æ³•ï¼šæ¯”å¦‚æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°æ§åˆ¶ä¸¤ä¸ªå¾ªç¯çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆè¿™æ—¶å°±å–äºŒè€…å¤æ‚åº¦ç›¸åŠ ã€‚</p><p>å››ã€å¸¸ç”¨çš„å¤æ‚åº¦çº§åˆ«ï¼Ÿ</p><p>å¤šé¡¹å¼é˜¶ï¼šéšç€æ•°æ®è§„æ¨¡çš„å¢é•¿ï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´å’Œç©ºé—´å ç”¨ï¼ŒæŒ‰ç…§å¤šé¡¹å¼çš„æ¯”ä¾‹å¢é•¿ã€‚åŒ…æ‹¬ï¼Œ<br>O(1)ï¼ˆå¸¸æ•°é˜¶ï¼‰ã€O(logn)ï¼ˆå¯¹æ•°é˜¶ï¼‰ã€O(n)ï¼ˆçº¿æ€§é˜¶ï¼‰ã€O(nlogn)ï¼ˆçº¿æ€§å¯¹æ•°é˜¶ï¼‰ã€O(n^2)ï¼ˆå¹³æ–¹é˜¶ï¼‰ã€O(n^3)ï¼ˆç«‹æ–¹é˜¶ï¼‰</p><p>éå¤šé¡¹å¼é˜¶ï¼šéšç€æ•°æ®è§„æ¨¡çš„å¢é•¿ï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´å’Œç©ºé—´å ç”¨æš´å¢ï¼Œè¿™ç±»ç®—æ³•æ€§èƒ½æå·®ã€‚åŒ…æ‹¬ï¼Œ<br>O(2^n)ï¼ˆæŒ‡æ•°é˜¶ï¼‰ã€O(n!)ï¼ˆé˜¶ä¹˜é˜¶ï¼‰</p><p>äº”ã€å¦‚ä½•æŒæ¡å¥½å¤æ‚åº¦åˆ†ææ–¹æ³•ï¼Ÿ<br>å¤æ‚åº¦åˆ†æå…³é”®åœ¨äºå¤šç»ƒï¼Œæ‰€è°“å­°èƒ½ç”Ÿå·§ã€‚</p><h2 id="06-é“¾è¡¨ï¼ˆä¸Šï¼‰ï¼šå¦‚ä½•å®ç°LRUç¼“å­˜æ·˜æ±°ç®—æ³•"><a href="#06-é“¾è¡¨ï¼ˆä¸Šï¼‰ï¼šå¦‚ä½•å®ç°LRUç¼“å­˜æ·˜æ±°ç®—æ³•" class="headerlink" title="06 | é“¾è¡¨ï¼ˆä¸Šï¼‰ï¼šå¦‚ä½•å®ç°LRUç¼“å­˜æ·˜æ±°ç®—æ³•"></a>06 | é“¾è¡¨ï¼ˆä¸Šï¼‰ï¼šå¦‚ä½•å®ç°LRUç¼“å­˜æ·˜æ±°ç®—æ³•</h2><p>äº”ã€åº”ç”¨<br>1.å¦‚ä½•åˆ†åˆ«ç”¨é“¾è¡¨å’Œæ•°ç»„å®ç°LRUç¼“å†²æ·˜æ±°ç­–ç•¥ï¼Ÿ<br>1ï¼‰ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ<br>ç¼“å­˜æ˜¯ä¸€ç§æé«˜æ•°æ®è¯»å–æ€§èƒ½çš„æŠ€æœ¯ï¼Œåœ¨ç¡¬ä»¶è®¾è®¡ã€è½¯ä»¶å¼€å‘ä¸­éƒ½æœ‰ç€éå¹¿æ³›çš„åº”ç”¨ï¼Œæ¯”å¦‚å¸¸è§çš„CPUç¼“å­˜ã€æ•°æ®åº“ç¼“å­˜ã€æµè§ˆå™¨ç¼“å­˜ç­‰ç­‰ã€‚<br>2ï¼‰ä¸ºä»€ä¹ˆä½¿ç”¨ç¼“å­˜ï¼Ÿå³ç¼“å­˜çš„ç‰¹ç‚¹<br>ç¼“å­˜çš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œå½“ç¼“å­˜è¢«ç”¨æ»¡æ—¶ï¼Œå“ªäº›æ•°æ®åº”è¯¥è¢«æ¸…ç†å‡ºå»ï¼Œå“ªäº›æ•°æ®åº”è¯¥è¢«ä¿ç•™ï¼Ÿå°±éœ€è¦ç”¨åˆ°ç¼“å­˜æ·˜æ±°ç­–ç•¥ã€‚<br>3ï¼‰ä»€ä¹ˆæ˜¯ç¼“å­˜æ·˜æ±°ç­–ç•¥ï¼Ÿ<br>æŒ‡çš„æ˜¯å½“ç¼“å­˜è¢«ç”¨æ»¡æ—¶æ¸…ç†æ•°æ®çš„ä¼˜å…ˆé¡ºåºã€‚<br>4ï¼‰æœ‰å“ªäº›ç¼“å­˜æ·˜æ±°ç­–ç•¥ï¼Ÿ<br>å¸¸è§çš„3ç§åŒ…æ‹¬å…ˆè¿›å…ˆå‡ºç­–ç•¥FIFOï¼ˆFirst Inï¼ŒFirst Outï¼‰ã€æœ€å°‘ä½¿ç”¨ç­–ç•¥LFUï¼ˆLeast Frenquently Usedï¼‰ã€æœ€è¿‘æœ€å°‘ä½¿ç”¨ç­–ç•¥LRUï¼ˆLeast Recently Usedï¼‰ã€‚<br>5ï¼‰é“¾è¡¨å®ç°LRUç¼“å­˜æ·˜æ±°ç­–ç•¥<br>å½“è®¿é—®çš„æ•°æ®æ²¡æœ‰å­˜å‚¨åœ¨ç¼“å­˜çš„é“¾è¡¨ä¸­æ—¶ï¼Œç›´æ¥å°†æ•°æ®æ’å…¥é“¾è¡¨è¡¨å¤´ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼›å½“è®¿é—®çš„æ•°æ®å­˜åœ¨äºå­˜å‚¨çš„é“¾è¡¨ä¸­æ—¶ï¼Œå°†è¯¥æ•°æ®å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæ’å…¥åˆ°é“¾è¡¨è¡¨å¤´,æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚å¦‚æœç¼“å­˜è¢«å æ»¡ï¼Œåˆ™ä»é“¾è¡¨å°¾éƒ¨çš„æ•°æ®å¼€å§‹æ¸…ç†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚<br>6ï¼‰æ•°ç»„å®ç°LRUç¼“å­˜æ·˜æ±°ç­–ç•¥<br>æ–¹å¼ä¸€ï¼šé¦–ä½ç½®ä¿å­˜æœ€æ–°è®¿é—®æ•°æ®ï¼Œæœ«å°¾ä½ç½®ä¼˜å…ˆæ¸…ç†<br>å½“è®¿é—®çš„æ•°æ®æœªå­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶ï¼Œç›´æ¥å°†æ•°æ®æ’å…¥æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ï¼Œæ­¤æ—¶æ•°ç»„æ‰€æœ‰å…ƒç´ éœ€è¦å‘åç§»åŠ¨1ä¸ªä½ç½®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼›å½“è®¿é—®çš„æ•°æ®å­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶ï¼ŒæŸ¥æ‰¾åˆ°æ•°æ®å¹¶å°†å…¶æ’å…¥æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæ­¤æ—¶äº¦éœ€ç§»åŠ¨æ•°ç»„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚ç¼“å­˜ç”¨æ»¡æ—¶ï¼Œåˆ™æ¸…ç†æ‰æœ«å°¾çš„æ•°æ®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚<br>æ–¹å¼äºŒï¼šé¦–ä½ç½®ä¼˜å…ˆæ¸…ç†ï¼Œæœ«å°¾ä½ç½®ä¿å­˜æœ€æ–°è®¿é—®æ•°æ®<br>å½“è®¿é—®çš„æ•°æ®æœªå­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶ï¼Œç›´æ¥å°†æ•°æ®æ·»åŠ è¿›æ•°ç»„ä½œä¸ºå½“å‰æœ€æœ‰ä¸€ä¸ªå…ƒç´ æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼›å½“è®¿é—®çš„æ•°æ®å­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶ï¼ŒæŸ¥æ‰¾åˆ°æ•°æ®å¹¶å°†å…¶æ’å…¥å½“å‰æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œæ­¤æ—¶äº¦éœ€ç§»åŠ¨æ•°ç»„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚ç¼“å­˜ç”¨æ»¡æ—¶ï¼Œåˆ™æ¸…ç†æ‰æ•°ç»„é¦–ä½ç½®çš„å…ƒç´ ï¼Œä¸”å‰©ä½™æ•°ç»„å…ƒç´ éœ€æ•´ä½“å‰ç§»ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚ï¼ˆä¼˜åŒ–ï¼šæ¸…ç†çš„æ—¶å€™å¯ä»¥è€ƒè™‘ä¸€æ¬¡æ€§æ¸…ç†ä¸€å®šæ•°é‡ï¼Œä»è€Œé™ä½æ¸…ç†æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½ã€‚ï¼‰<br>2.å¦‚ä½•é€šè¿‡å•é“¾è¡¨å®ç°â€œåˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºæ°´ä»™èŠ±å­—ç¬¦ä¸²â€ï¼Ÿï¼ˆæ¯”å¦‚ ä¸Šæµ·è‡ªæ¥æ°´æ¥è‡ªæµ·ä¸Šï¼‰<br>1ï¼‰å‰æï¼šå­—ç¬¦ä¸²ä»¥å•ä¸ªå­—ç¬¦çš„å½¢å¼å­˜å‚¨åœ¨å•é“¾è¡¨ä¸­ã€‚<br>2ï¼‰éå†é“¾è¡¨ï¼Œåˆ¤æ–­å­—ç¬¦ä¸ªæ•°æ˜¯å¦ä¸ºå¥‡æ•°ï¼Œè‹¥ä¸ºå¶æ•°ï¼Œåˆ™ä¸æ˜¯ã€‚<br>3ï¼‰å°†é“¾è¡¨ä¸­çš„å­—ç¬¦å€’åºå­˜å‚¨ä¸€ä»½åœ¨å¦ä¸€ä¸ªé“¾è¡¨ä¸­ã€‚<br>4ï¼‰åŒæ­¥éå†2ä¸ªé“¾è¡¨ï¼Œæ¯”è¾ƒå¯¹åº”çš„å­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æ˜¯æ°´ä»™èŠ±å­—ä¸²ï¼Œå¦åˆ™ï¼Œä¸æ˜¯ã€‚<br>å…­ã€è®¾è®¡æ€æƒ³<br>æ—¶ç©ºæ›¿æ¢æ€æƒ³ï¼šâ€œç”¨ç©ºé—´æ¢æ—¶é—´â€ ä¸ â€œç”¨æ—¶é—´æ¢ç©ºé—´â€<br>å½“å†…å­˜ç©ºé—´å……è¶³çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬æ›´åŠ è¿½æ±‚ä»£ç çš„æ‰§è¡Œé€Ÿåº¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©ç©ºé—´å¤æ‚åº¦ç›¸å¯¹è¾ƒé«˜ï¼Œæ—¶é—´å¤æ‚åº¦å°ç›¸å¯¹è¾ƒä½çš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œç¼“å­˜å°±æ˜¯ç©ºé—´æ¢æ—¶é—´çš„ä¾‹å­ã€‚å¦‚æœå†…å­˜æ¯”è¾ƒç´§ç¼ºï¼Œæ¯”å¦‚ä»£ç è·‘åœ¨æ‰‹æœºæˆ–è€…å•ç‰‡æœºä¸Šï¼Œè¿™æ—¶ï¼Œå°±è¦åè¿‡æ¥ç”¨æ—¶é—´æ¢ç©ºé—´çš„æ€è·¯ã€‚</p><h2 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h2><p>ä¸€ã€ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿ</p><ol><li>é€’å½’æ˜¯ä¸€ç§éå¸¸é«˜æ•ˆã€ç®€æ´çš„ç¼–ç æŠ€å·§ï¼Œä¸€ç§åº”ç”¨éå¸¸å¹¿æ³›çš„ç®—æ³•ï¼Œæ¯”å¦‚DFSæ·±åº¦ä¼˜å…ˆæœç´¢ã€å‰ä¸­ååºäºŒå‰æ ‘éå†ç­‰éƒ½æ˜¯ä½¿ç”¨é€’å½’ã€‚</li><li>æ–¹æ³•æˆ–å‡½æ•°è°ƒç”¨è‡ªèº«çš„æ–¹å¼ç§°ä¸ºé€’å½’è°ƒç”¨ï¼Œè°ƒç”¨ç§°ä¸ºé€’ï¼Œè¿”å›ç§°ä¸ºå½’ã€‚</li><li>åŸºæœ¬ä¸Šï¼Œæ‰€æœ‰çš„é€’å½’é—®é¢˜éƒ½å¯ä»¥ç”¨é€’æ¨å…¬å¼æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f(n) = f(n-<span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">f(n) = f(n-<span class="number">1</span>) + f(n-<span class="number">2</span>);</span><br><span class="line">f(n)=n*f(n-<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>äºŒã€ä¸ºä»€ä¹ˆä½¿ç”¨é€’å½’ï¼Ÿé€’å½’çš„ä¼˜ç¼ºç‚¹ï¼Ÿ</p><ol><li>ä¼˜ç‚¹ï¼šä»£ç çš„è¡¨è¾¾åŠ›å¾ˆå¼ºï¼Œå†™èµ·æ¥ç®€æ´ã€‚</li><li>ç¼ºç‚¹ï¼šç©ºé—´å¤æ‚åº¦é«˜ã€æœ‰å †æ ˆæº¢å‡ºé£é™©ã€å­˜åœ¨é‡å¤è®¡ç®—ã€è¿‡å¤šçš„å‡½æ•°è°ƒç”¨ä¼šè€—æ—¶è¾ƒå¤šç­‰é—®é¢˜ã€‚</li></ol><p>ä¸‰ã€ä»€ä¹ˆæ ·çš„é—®é¢˜å¯ä»¥ç”¨é€’å½’è§£å†³å‘¢ï¼Ÿ</p><p>ä¸€ä¸ªé—®é¢˜åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹3ä¸ªæ¡ä»¶ï¼Œå°±å¯ä»¥ç”¨é€’å½’æ¥è§£å†³ï¼š</p><ol><li>é—®é¢˜çš„è§£å¯ä»¥åˆ†è§£ä¸ºå‡ ä¸ªå­é—®é¢˜çš„è§£ã€‚ä½•ä¸ºå­é—®é¢˜ï¼Ÿå°±æ˜¯æ•°æ®è§„æ¨¡æ›´å°çš„é—®é¢˜ã€‚</li><li>é—®é¢˜ä¸å­é—®é¢˜ï¼Œé™¤äº†æ•°æ®è§„æ¨¡ä¸åŒï¼Œæ±‚è§£æ€è·¯å®Œå…¨ä¸€æ ·</li><li>å­˜åœ¨é€’å½’ç»ˆæ­¢æ¡ä»¶</li></ol><p>å››ã€å¦‚ä½•å®ç°é€’å½’ï¼Ÿ</p><ol><li><p>é€’å½’ä»£ç ç¼–å†™</p><p> å†™é€’å½’ä»£ç çš„å…³é”®å°±æ˜¯æ‰¾åˆ°å¦‚ä½•å°†å¤§é—®é¢˜åˆ†è§£ä¸ºå°é—®é¢˜çš„è§„å¾‹ï¼Œå¹¶ä¸”åŸºäºæ­¤å†™å‡ºé€’æ¨å…¬å¼ï¼Œç„¶åå†æ¨æ•²ç»ˆæ­¢æ¡ä»¶ï¼Œæœ€åå°†é€’æ¨å…¬å¼å’Œç»ˆæ­¢æ¡ä»¶ç¿»è¯‘æˆä»£ç ã€‚</p></li><li><p>é€’å½’ä»£ç ç†è§£</p></li></ol><p>å¯¹äºé€’å½’ä»£ç ï¼Œè‹¥è¯•å›¾æƒ³æ¸…æ¥šæ•´ä¸ªé€’å’Œå½’çš„è¿‡ç¨‹ï¼Œå®é™…ä¸Šæ˜¯è¿›å…¥äº†ä¸€ä¸ªæ€ç»´è¯¯åŒºã€‚<br>é‚£è¯¥å¦‚ä½•ç†è§£é€’å½’ä»£ç å‘¢ï¼Ÿå¦‚æœä¸€ä¸ªé—®é¢˜Aå¯ä»¥åˆ†è§£ä¸ºè‹¥å¹²ä¸ªå­é—®é¢˜Bã€Cã€Dï¼Œä½ å¯ä»¥å‡è®¾å­é—®é¢˜Bã€Cã€Då·²ç»è§£å†³ã€‚<br>è€Œä¸”ï¼Œä½ åªéœ€è¦æ€è€ƒé—®é¢˜Aä¸å­é—®é¢˜Bã€Cã€Dä¸¤å±‚ä¹‹é—´çš„å…³ç³»å³å¯ï¼Œä¸éœ€è¦ä¸€å±‚å±‚å¾€ä¸‹æ€è€ƒå­é—®é¢˜ä¸å­å­é—®é¢˜ï¼Œå­å­é—®é¢˜ä¸å­å­å­é—®é¢˜ä¹‹é—´çš„å…³ç³»ã€‚å±è”½æ‰é€’å½’ç»†èŠ‚ï¼Œè¿™æ ·å­ç†è§£èµ·æ¥å°±ç®€å•å¤šäº†ã€‚<br>å› æ­¤ï¼Œç†è§£é€’å½’ä»£ç ï¼Œå°±æŠŠå®ƒæŠ½è±¡æˆä¸€ä¸ªé€’æ¨å…¬å¼ï¼Œä¸ç”¨æƒ³ä¸€å±‚å±‚çš„è°ƒç”¨å…³ç³»ï¼Œä¸è¦è¯•å›¾ç”¨äººè„‘å»åˆ†è§£é€’å½’çš„æ¯ä¸ªæ­¥éª¤ã€‚</p><p>äº”ã€é€’å½’å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</p><ol><li>è­¦æƒ•å †æ ˆæº¢å‡ºï¼šå¯ä»¥å£°æ˜ä¸€ä¸ªå…¨å±€å˜é‡æ¥æ§åˆ¶é€’å½’çš„æ·±åº¦ï¼Œä»è€Œé¿å…å †æ ˆæº¢å‡ºã€‚</li><li>è­¦æƒ•é‡å¤è®¡ç®—ï¼šé€šè¿‡æŸç§æ•°æ®ç»“æ„æ¥ä¿å­˜å·²ç»æ±‚è§£è¿‡çš„å€¼ï¼Œä»è€Œé¿å…é‡å¤è®¡ç®—ã€‚</li></ol><p>å…­ã€å¦‚ä½•å°†é€’å½’æ”¹å†™ä¸ºéé€’å½’ä»£ç ï¼Ÿ</p><p>ç¬¼ç»Ÿçš„è®²ï¼Œæ‰€æœ‰çš„é€’å½’ä»£ç éƒ½å¯ä»¥æ”¹å†™ä¸ºè¿­ä»£å¾ªç¯çš„éé€’å½’å†™æ³•ã€‚å¦‚ä½•åšï¼ŸæŠ½è±¡å‡ºé€’æ¨å…¬å¼ã€åˆå§‹å€¼å’Œè¾¹ç•Œæ¡ä»¶ï¼Œç„¶åç”¨è¿­ä»£å¾ªç¯å®ç°ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¼–è¾‘å™¨æ‰å‘è®°</title>
      <link href="posts/%E7%BC%96%E8%BE%91%E5%99%A8%E6%8E%89%E5%9D%91%E8%AE%B0/"/>
      <url>posts/%E7%BC%96%E8%BE%91%E5%99%A8%E6%8E%89%E5%9D%91%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘é¡¹ç›®ç»å¸¸é‡åˆ°å®šåˆ¶åŒ–å¼€å‘ä¸Šä¼ è§†é¢‘çš„éœ€æ±‚ï¼Œç°åœ¨ä¸€äº›é€šç”¨çš„è§†é¢‘åŸºæœ¬ä¸æ»¡è¶³éœ€æ±‚ã€‚</p><p>è¿™ç¯‡æ–‡å­—è®°å½•ä¸€ä¸‹é‡åˆ°çš„é—®é¢˜å’Œå­¦åˆ°çš„çŸ¥è¯†ã€‚</p><p>å‰ç«¯å¸¸è§çš„ç¼–è¾‘å™¨ä¸€èˆ¬éƒ½ä¸æ”¯æŒä¸Šä¼ è§†é¢‘</p><blockquote><p><a href="https://github.com/fex-team/ueditor">ueditor</a>é™¤å¤–,ä½†ç°åœ¨è¿˜æ²¡çœ‹åˆ°ueEditoråœ¨Reacté¡¹ç›®ä¸­ä½¿ç”¨ã€‚</p></blockquote><h1 id="æ’å…¥è§†é¢‘è§£å†³æ–¹æ¡ˆï¼š"><a href="#æ’å…¥è§†é¢‘è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="æ’å…¥è§†é¢‘è§£å†³æ–¹æ¡ˆï¼š"></a>æ’å…¥è§†é¢‘è§£å†³æ–¹æ¡ˆï¼š</h1><p>åœ¨ç¼–è¾‘å™¨å€¼ä¸­æ’å…¥htmlçš„videoæ ‡ç­¾<br>posterç”¨äºè®¾ç½®è§†é¢‘å°é¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">poster</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ’å…¥è‡ªå®šä¹‰å†…å®¹"><a href="#æ’å…¥è‡ªå®šä¹‰å†…å®¹" class="headerlink" title="æ’å…¥è‡ªå®šä¹‰å†…å®¹"></a>æ’å…¥è‡ªå®šä¹‰å†…å®¹</h1><p>æ¯”å¦‚æ’å…¥ä¸€æ®µHTML</p><p>åŸç†ï¼Œå…ˆæ‹¼è£…å¥½htmlï¼Œè°ƒç”¨ç¼–è¾‘å™¨APIå°†HTMLæ’å…¥ã€‚</p><p>æœ¬è´¨æ˜¯æ‰§è¡Œäº†<code>document.execCommand</code>(<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/execCommand">MDNé“¾æ¥</a>)</p><p>å…¶ä¸­çš„å‚æ•°å¯ä»¥è®¾ç½®åŒ…æ‹¬åŠ ç²—(bold), æ’å…¥å›¾ç‰‡(insertImage)</p><p>è‡ªå®šä¹‰å†…å®¹çš„è¯ï¼Œ<code>insertHTML</code>å¯ä»¥æ’å…¥HTMLã€‚</p><p>ä¹‹å‰è¿˜è€ƒè™‘è¿‡å°†ä¸€æ®µhtmlå¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼Œé€šè¿‡<code>paste</code>å‘½ä»¤å°†è‡ªå®šä¹‰çš„ä¸€æ®µHTMLæ‹·è´åˆ°ç¼–è¾‘å™¨ä¸­ã€‚</p><p><strong>å…³é”®é—®é¢˜</strong>ï¼Œæ’å…¥åï¼Œæ€ä¹ˆä½œä¸ºæ•´ä½“å¤„ç†ï¼Œåˆ é™¤ä¸€èµ·åˆ é™¤ï¼ŒæŒ‰å›è½¦ä¼š(æˆ–ä¸ä¼š)ç”ŸæˆåŒä¸€ä¸ªç›¸åŒçš„å—.</p><p>è€ƒè™‘å°†æ’å…¥çš„ä¸€æ®µHTMLæœ€å¤–å±‚è®¾ç½®æˆcontentEditable=falseï¼Œå¯ä»¥ä½¿æ•´æ®µæ’å…¥çš„HTMLä¸èƒ½ç¼–è¾‘ã€‚<br>ä½†åœ¨å›è½¦æˆ–åˆ é™¤æ—¶ï¼Œä¼šé‡åˆ°æ— æ³•åˆ é™¤ç­‰é—®é¢˜ã€‚</p><blockquote><p>ç°åœ¨çš„ç¼–è¾‘å™¨æœºåˆ¶éƒ½æ˜¯é€šè¿‡ä¿®æ”¹divçš„contentEditable=trueæ¥å®ç°æ’å…¥HTMLã€‚</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“åˆ†äº«</title>
      <link href="posts/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E4%BA%AB/"/>
      <url>posts/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E4%BA%AB/</url>
      
        <content type="html"><![CDATA[<p>Sharding-Sphereæ˜¯ä¸€å¥—å¼€æºçš„åˆ†å¸ƒå¼æ•°æ®åº“ä¸­é—´ä»¶è§£å†³æ–¹æ¡ˆç»„æˆçš„ç”Ÿæ€åœˆï¼Œå®ƒç”±Sharding-JDBCã€Sharding-Proxyå’ŒSharding-Sidecarè¿™3æ¬¾ç›¸äº’ç‹¬ç«‹çš„äº§å“ç»„æˆã€‚ä»–ä»¬å‡æä¾›æ ‡å‡†åŒ–çš„æ•°æ®åˆ†ç‰‡ã€è¯»å†™åˆ†ç¦»ã€æŸ”æ€§äº‹åŠ¡å’Œæ•°æ®æ²»ç†åŠŸèƒ½ï¼Œå¯é€‚ç”¨äºå¦‚JavaåŒæ„ã€å¼‚æ„è¯­è¨€ã€å®¹å™¨ã€äº‘åŸç”Ÿç­‰å„ç§å¤šæ ·åŒ–çš„åº”ç”¨åœºæ™¯ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å°ç¨‹åºå¼€å‘ç§¯ç´¯</title>
      <link href="posts/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%A7%AF%E7%B4%AF/"/>
      <url>posts/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="å°ç¨‹åºå¼€å‘ç»éªŒç§¯ç´¯"><a href="#å°ç¨‹åºå¼€å‘ç»éªŒç§¯ç´¯" class="headerlink" title="å°ç¨‹åºå¼€å‘ç»éªŒç§¯ç´¯"></a>å°ç¨‹åºå¼€å‘ç»éªŒç§¯ç´¯</h2><h2 id="å°ç¨‹åºsetDataæ—¶ï¼Œæ•°æ®æ²¡æ›´æ–°"><a href="#å°ç¨‹åºsetDataæ—¶ï¼Œæ•°æ®æ²¡æ›´æ–°" class="headerlink" title="å°ç¨‹åºsetDataæ—¶ï¼Œæ•°æ®æ²¡æ›´æ–°"></a>å°ç¨‹åºsetDataæ—¶ï¼Œæ•°æ®æ²¡æ›´æ–°</h2><p>ç”±äºå°ç¨‹åºä¸æ”¯æŒå°† data ä¸­ä»»ä½•ä¸€é¡¹çš„ value è®¾ä¸º undefined ï¼Œåœ¨ setState çš„æ—¶å€™ä¹Ÿè¯·é¿å…è¿™ä¹ˆç”¨ã€‚ä½ å¯ä»¥ä½¿ç”¨ null æ¥æ›¿ä»£ã€‚</p><p>setDataæœ‰çš„å€¼ä¹‹å‰æœ‰å€¼ï¼Œé‡æ–°setä¸ºundefinedæ—¶ï¼Œä¼šå¯¼è‡´é¡µé¢ä¸æ›´æ–°<br>è§£å†³åŠæ³•<br>åˆ¤æ–­æ˜¯undefinedæ—¶ï¼Œå°†å€¼è®¾ä¸ºnull</p><p><code>key ? key : null</code></p><a id="more"></a><h2 id="å°ç¨‹åºç”¨getè¯·æ±‚ä¼ æ•°ç»„æ—¶ï¼Œå–åˆ°çš„å€¼ä¸æ­£ç¡®"><a href="#å°ç¨‹åºç”¨getè¯·æ±‚ä¼ æ•°ç»„æ—¶ï¼Œå–åˆ°çš„å€¼ä¸æ­£ç¡®" class="headerlink" title="å°ç¨‹åºç”¨getè¯·æ±‚ä¼ æ•°ç»„æ—¶ï¼Œå–åˆ°çš„å€¼ä¸æ­£ç¡®"></a>å°ç¨‹åºç”¨getè¯·æ±‚ä¼ æ•°ç»„æ—¶ï¼Œå–åˆ°çš„å€¼ä¸æ­£ç¡®</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">request(&#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">        list: [<span class="string">&#x27;11&#x27;</span>,<span class="string">&#x27;sss&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åº”æ”¹ä¸º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">request(&#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">        list: [<span class="string">&#x27;11&#x27;</span>,<span class="string">&#x27;sss&#x27;</span>].join(<span class="string">&#x27;,&#x27;</span>gst)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="jsåˆ¤æ–­å°ç¨‹åºç¯å¢ƒ"><a href="#jsåˆ¤æ–­å°ç¨‹åºç¯å¢ƒ" class="headerlink" title="jsåˆ¤æ–­å°ç¨‹åºç¯å¢ƒ"></a>jsåˆ¤æ–­å°ç¨‹åºç¯å¢ƒ</h2><p>å°ç¨‹åºå†…ç½®web-viewå¼•å…¥é¡µé¢æ—¶ï¼Œ<br><a href="https://developers.weixin.qq.com/miniprogram/dev/component/web-view.html">å®˜æ–¹æ–‡æ¡£</a>å»ºè®®é€šè¿‡ <code>window.__wxjs_environment === &#39;miniprogram&#39;</code> åˆ¤æ–­å°ç¨‹åºç¯å¢ƒã€‚ç»æµ‹è¯•åœ¨å®‰å“æœ‰äº›è®¾å¤‡ä¸Šä¼šå¤±æ•ˆã€‚</p><p><code>wx.miniProgram.getEnv</code>ä¹Ÿä¼šå¤±æ•ˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wx.miniProgram.getEnv(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (res.miniProgram) &#123;</span><br><span class="line">        <span class="comment">// èµ°åœ¨å°ç¨‹åºçš„é€»è¾‘</span></span><br><span class="line">        alert(<span class="string">&quot;å°ç¨‹åºç¯å¢ƒ&quot;</span> + <span class="built_in">window</span>.__wxjs_environment);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>é€šè¿‡userAgent åˆ¤æ–­<br><code>const isMiniProgram = /miniProgram/i.test(navigator.userAgent.toLowerCase());</code></p><h2 id="UserAgent-è¯¦è§£"><a href="#UserAgent-è¯¦è§£" class="headerlink" title="UserAgent è¯¦è§£"></a>UserAgent è¯¦è§£</h2><p>é€šè¿‡UAæ¥åˆ¤æ–­ä¸åŒçš„è®¾å¤‡æˆ–æµè§ˆå™¨æ˜¯å¼€å‘è€…æœ€å¸¸ç”¨çš„æ–¹æ³•</p><p><strong>åœ¨æ§åˆ¶å°æ‰“å°<code>navigator.userAgent</code>æŸ¥çœ‹</strong></p><blockquote><p>Android ç³»ç»Ÿä¸‹çš„å¾®ä¿¡ User Agent</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mozilla/<span class="number">5.0</span> (Linux; Android <span class="number">7.1</span><span class="number">.1</span>; MI <span class="number">6</span> Build/NMF26X; wv) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Version/<span class="number">4.0</span> Chrome/<span class="number">57.0</span><span class="number">.2987</span><span class="number">.132</span> MQQBrowser/<span class="number">6.2</span> TBS/<span class="number">043807</span> Mobile Safari/<span class="number">537.36</span> MicroMessenger/<span class="number">6.6</span><span class="number">.1</span><span class="number">.1220</span>(<span class="number">0x26060135</span>) NetType/WIFI Language/zh_CN</span><br></pre></td></tr></table></figure><blockquote><p>iPhone ç³»ç»Ÿä¸‹çš„å¾®ä¿¡ User Agent</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mozilla/<span class="number">5.0</span> (iPhone; CPU iPhone OS <span class="number">9_3_2</span> like Mac OS X) AppleWebKit/<span class="number">601.1</span><span class="number">.46</span> (KHTML, like Gecko) Mobile/13F69 MicroMessenger/<span class="number">6.6</span><span class="number">.1</span> NetType/4G Language/zh_CN</span><br></pre></td></tr></table></figure><blockquote><p>å¾®ä¿¡å†…ç½®æµè§ˆå™¨ä¸å°ç¨‹åºä¸­çš„User Agent å¯¹æ¯”</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®‰å“ç³»ç»Ÿä¸­å°ç¨‹åº User Agent</span></span><br><span class="line">Mozilla/<span class="number">5.0</span> (Linux; Android <span class="number">7.1</span><span class="number">.1</span>; MI <span class="number">6</span> Build/NMF26X; wv) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Version/<span class="number">4.0</span> Chrome/<span class="number">57.0</span><span class="number">.2987</span><span class="number">.132</span> MQQBrowser/<span class="number">6.2</span> TBS/<span class="number">043807</span> Mobile Safari/<span class="number">537.36</span> MicroMessenger/<span class="number">6.6</span><span class="number">.1</span><span class="number">.1220</span>(<span class="number">0x26060135</span>) NetType/4G Language/zh_CN MicroMessenger/<span class="number">6.6</span><span class="number">.1</span><span class="number">.1220</span>(<span class="number">0x26060135</span>) NetType/4G Language/zh_CN miniProgram</span><br><span class="line"><span class="comment">// å®‰å“ç³»ç»Ÿä¸­å¾®ä¿¡å†…ç½®æµè§ˆå™¨ User Agent</span></span><br><span class="line">Mozilla/<span class="number">5.0</span> (Linux; Android <span class="number">7.1</span><span class="number">.1</span>; MI <span class="number">6</span> Build/NMF26X; wv) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Version/<span class="number">4.0</span> Chrome/<span class="number">57.0</span><span class="number">.2987</span><span class="number">.132</span> MQQBrowser/<span class="number">6.2</span> TBS/<span class="number">043807</span> Mobile Safari/<span class="number">537.36</span> MicroMessenger/<span class="number">6.6</span><span class="number">.1</span><span class="number">.1220</span>(<span class="number">0x26060135</span>) NetType/4G Language/zh_CN</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå­—ç¬¦ä¸²ä¸ºMI6å®‰å“è®¾å¤‡ä¸­è·å¾—ã€‚å¯ä»¥çœ‹å‡ºå¾®ä¿¡å°ç¨‹çš„UAå’Œå¾®ä¿¡å†…ç½®æµè§ˆå™¨UAæ˜¯ä¸åŒçš„ï¼Œç‰¹åˆ«æ˜¯æœ€åçš„â€™miniProgramâ€™å­—ç¬¦ä¸²ã€‚è€Œåœ¨iPhoneç³»ç»Ÿè®¾å¤‡ä¸­UAæ˜¯ä¸€è‡´çš„ï¼Œ å°ç¨‹åºå’Œå¾®ä¿¡å†…ç½®æµè§ˆå™¨UAæ²¡æœ‰åŒºåˆ«ã€‚</p><h3 id="UAæ£€æµ‹å’Œåˆ¤æ–­æ–¹æ³•"><a href="#UAæ£€æµ‹å’Œåˆ¤æ–­æ–¹æ³•" class="headerlink" title="UAæ£€æµ‹å’Œåˆ¤æ–­æ–¹æ³•"></a>UAæ£€æµ‹å’Œåˆ¤æ–­æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="regexp">/MicroMessenger/i</span>.test(navigator.userAgent)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;å½“å‰ä¸ºå¾®ä¿¡è®¿é—®&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¼€æºå·¥å…·æ¨è"><a href="#å¼€æºå·¥å…·æ¨è" class="headerlink" title="å¼€æºå·¥å…·æ¨è"></a>å¼€æºå·¥å…·æ¨è</h2><p><a href="https://github.com/faisalman/ua-parser-js">UAParser.js</a></p><p>ç›®å‰ç”Ÿäº§ç¯å¢ƒä½¿ç”¨è¯¥åº“æ¥åˆ¤æ–­ç§»åŠ¨ï¼ŒAndroidï¼ŒiOSç­‰ç¯å¢ƒã€‚</p><h2 id="å°ç¨‹åºé‡Œä¸€å®šè¦ç”¨https-æ— æ³•è®¿é—®http"><a href="#å°ç¨‹åºé‡Œä¸€å®šè¦ç”¨https-æ— æ³•è®¿é—®http" class="headerlink" title="å°ç¨‹åºé‡Œä¸€å®šè¦ç”¨https, æ— æ³•è®¿é—®http"></a>å°ç¨‹åºé‡Œä¸€å®šè¦ç”¨https, æ— æ³•è®¿é—®http</h2><p>è§£å†³åŠæ³•ï¼šé…ç½®Charles<br><a href="https://www.cnblogs.com/xcsn/p/7538371.html">https://www.cnblogs.com/xcsn/p/7538371.html</a></p><h2 id="å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ"><a href="#å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ"></a>å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ</h2><p>onload â€”-&gt;  onshow  â€”-&gt;  onready<br>å³ä½¿åœ¨onloadé˜¶æ®µå‘ç”Ÿè·³è½¬ï¼Œåé¢çš„æµç¨‹è¿˜æ˜¯ä¼šç»§ç»­æ‰§è¡Œã€‚</p><p>åŸåˆ™ä¸Šonload åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œonshowæ¯æ¬¡é¡µé¢æ˜¾ç¤ºæ‰ä¼šæ˜¾ç¤ºã€‚</p><p>æ‰€æœ‰é¡µé¢onloadé˜¶æ®µçš„optionsæ˜¯ä»è·³è½¬çš„page urlåè·Ÿçš„å‚æ•°å–åˆ°çš„ã€‚</p><h2 id="ç»„ä»¶buttonæ ·å¼"><a href="#ç»„ä»¶buttonæ ·å¼" class="headerlink" title="ç»„ä»¶buttonæ ·å¼"></a>ç»„ä»¶buttonæ ·å¼</h2><p>buttonå»æ‰è¾¹æ¡†(é€‚ç”¨äºç™¾åº¦å°ç¨‹åº)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn</span>&#123;</span><br><span class="line">    <span class="attribute">backgrond</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="button-é˜»æ­¢å†’æ³¡"><a href="#button-é˜»æ­¢å†’æ³¡" class="headerlink" title="button é˜»æ­¢å†’æ³¡"></a>button é˜»æ­¢å†’æ³¡</h2><p>æœ‰çš„button è®¾ç½®äº†é»˜è®¤æ“ä½œä¾‹å¦‚open-type=â€™shareâ€™<br>ç‚¹å‡»ä»¥åçˆ¶å®¹å™¨æœ‰clickäº‹ä»¶ï¼Œä¹Ÿä¼šè§¦å‘ã€‚</p><p>è§£å†³åŠæ³•ï¼š<br>åœ¨buttonç»‘å®šä¸€ä¸ªæ–¹æ³• return false;</p><h2 id="å¼€å‘æ¡†æ¶"><a href="#å¼€å‘æ¡†æ¶" class="headerlink" title="å¼€å‘æ¡†æ¶"></a>å¼€å‘æ¡†æ¶</h2><p>ç”¨è¿‡wepyå„ç§å‘ï¼Œå¼ƒå‘</p><h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><p><a href="https://blog.csdn.net/i10630226/article/details/81042421">å¾®ä¿¡å°ç¨‹åºï¼šä¸€äº›è¿è¡Œç»†èŠ‚åŠé’ˆå¯¹æ€§çš„ä¼˜åŒ–ç­–ç•¥</a></p><h2 id="å¾®ä¿¡å°ç¨‹åºå¼€å‘èµ„æºæ±‡æ€»"><a href="#å¾®ä¿¡å°ç¨‹åºå¼€å‘èµ„æºæ±‡æ€»" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºå¼€å‘èµ„æºæ±‡æ€»"></a><a href="https://github.com/justjavac/awesome-wechat-weapp">å¾®ä¿¡å°ç¨‹åºå¼€å‘èµ„æºæ±‡æ€»</a></h2><h2 id="å¥½çš„ç›®å½•ç»“æ„"><a href="#å¥½çš„ç›®å½•ç»“æ„" class="headerlink" title="å¥½çš„ç›®å½•ç»“æ„"></a><a href="https://github.com/ranshaw/weapp-quick-start">å¥½çš„ç›®å½•ç»“æ„</a></h2><figure class="highlight m"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ README.md                 // è¯´æ˜æ–‡æ¡£</span><br><span class="line">â”œâ”€â”€ dist                      // ç¼–è¯‘åçš„ä»£ç ï¼Œç”¨å°ç¨‹åºå¼€å‘å·¥å…·æ‰“å¼€æ­¤æ–‡ä»¶å¤¹</span><br><span class="line">â”œâ”€â”€ mock.js                   // æ¨¡æ‹Ÿæ•°æ®çš„æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ package-lock.json</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ project.config.json       // é¡¹ç›®é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ src                       // é¡¹ç›®ä»£ç éƒ½åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹</span><br><span class="line">â”‚   â”œâ”€â”€ app.js                // ç­‰åŒäºå°ç¨‹åºæ ¹ç›®å½•ä¸‹çš„app.js</span><br><span class="line">â”‚   â”œâ”€â”€ app.json              // ç­‰åŒäºå°ç¨‹åºæ ¹ç›®å½•ä¸‹çš„app.json</span><br><span class="line">â”‚   â”œâ”€â”€ app.wxss              // ç­‰åŒäºå°ç¨‹åºæ ¹ç›®å½•ä¸‹çš„app.wxss</span><br><span class="line">â”‚   â”œâ”€â”€ assets                // é¡¹ç›®ä¸­ä½¿ç”¨åˆ°çš„é™æ€èµ„æº</span><br><span class="line">â”‚   â”‚   â””â”€â”€ images</span><br><span class="line">â”‚   â”‚       â”œâ”€â”€ example</span><br><span class="line">â”‚   â”‚       â””â”€â”€ tab</span><br><span class="line">â”‚   â”œâ”€â”€ components            // å…¬ç”¨çš„ç»„ä»¶</span><br><span class="line">â”‚   â”œâ”€â”€ page                  // å­˜æ”¾å°ç¨‹åºçš„å„ä¸ªé¡µé¢æ–‡ä»¶</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ example           // example é¡µé¢</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ components    // exampleé¡µé¢ä¸­çš„ç»„ä»¶</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ index.js</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ index.json</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ index.wxml</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ index.wxss</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ services      // exampleé¡µé¢ä¸­æ¥å£</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ template      // exampleé¡µé¢ä¸­çš„æ¨¡æ¿</span><br><span class="line">â”‚   â”‚   â”‚   â””â”€â”€ wxs           // exampleé¡µé¢ä¸­çš„wxsæ–‡ä»¶</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ globalStore.js    // å…¨å±€å…±äº«çš„æ•°æ®</span><br><span class="line">â”‚   â”‚   â””â”€â”€ test</span><br><span class="line">â”‚   â”‚       â”œâ”€â”€ index.js</span><br><span class="line">â”‚   â”‚       â”œâ”€â”€ index.json</span><br><span class="line">â”‚   â”‚       â”œâ”€â”€ index.wxml</span><br><span class="line">â”‚   â”‚       â””â”€â”€ index.wxss</span><br><span class="line">â”‚   â”œâ”€â”€ template              // å…¬ç”¨çš„æ¨¡æ¿</span><br><span class="line">â”‚   â””â”€â”€ utils                 // å…¬ç”¨çš„æ–¹æ³•æˆ–å·¥å…·</span><br><span class="line">â”‚       â”œâ”€â”€ config.js         // å…¨å±€çš„ä¸€äº›é…ç½®ä¿¡æ¯</span><br><span class="line">â”‚       â”œâ”€â”€ create.js         // çŠ¶æ€ç®¡ç†æ’ä»¶</span><br><span class="line">â”‚       â”œâ”€â”€ mitt.js           // çŠ¶æ€ç®¡ç†æ’ä»¶</span><br><span class="line">â”‚       â”œâ”€â”€ obaa.js           // çŠ¶æ€ç®¡ç†æ’ä»¶</span><br><span class="line">â”‚       â”œâ”€â”€ util.js           // å…¬ç”¨æ–¹æ³•</span><br><span class="line">â”‚       â”œâ”€â”€ wxRequest.js      // å°è£…çš„å°ç¨‹åºè¯·æ±‚æ•°æ®æ–¹æ³•</span><br><span class="line">â”‚       â””â”€â”€ wxapi.js          // å¯¹å°ç¨‹åºapiè¿›è¡ŒPromiseå°è£…</span><br><span class="line">â””â”€â”€ weapp.config.js           // å¯¹è„šæ‰‹æ¶çš„é…ç½®æ–‡ä»¶</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å°ç¨‹åºçš„åŒçº¿ç¨‹ç»“æ„"><a href="#å°ç¨‹åºçš„åŒçº¿ç¨‹ç»“æ„" class="headerlink" title="å°ç¨‹åºçš„åŒçº¿ç¨‹ç»“æ„"></a>å°ç¨‹åºçš„åŒçº¿ç¨‹ç»“æ„</h2><p>ä¸ä¼ ç»Ÿçš„æµè§ˆå™¨Webé¡µé¢æœ€å¤§åŒºåˆ«åœ¨äºï¼Œå°ç¨‹åºçš„æ˜¯åŸºäº åŒçº¿ç¨‹ æ¨¡å‹çš„ï¼Œ<br>åœ¨è¿™ç§æ¶æ„ä¸­ï¼Œå°ç¨‹åºçš„æ¸²æŸ“å±‚ä½¿ç”¨ WebView ä½œä¸ºæ¸²æŸ“è½½ä½“ï¼Œè€Œé€»è¾‘å±‚åˆ™ç”±ç‹¬ç«‹çš„ JsCore çº¿ç¨‹è¿è¡Œ JS è„šæœ¬ï¼ŒåŒæ–¹å¹¶ä¸å…·å¤‡æ•°æ®ç›´æ¥å…±äº«çš„é€šé“ï¼Œå› æ­¤æ¸²æŸ“å±‚å’Œé€»è¾‘å±‚çš„é€šä¿¡è¦ç”± Native çš„ JSBrigde åšä¸­è½¬ã€‚</p><h2 id="å°ç¨‹åºæ›´æ–°è§†å›¾æ•°æ®çš„é€šä¿¡æµç¨‹"><a href="#å°ç¨‹åºæ›´æ–°è§†å›¾æ•°æ®çš„é€šä¿¡æµç¨‹" class="headerlink" title="å°ç¨‹åºæ›´æ–°è§†å›¾æ•°æ®çš„é€šä¿¡æµç¨‹"></a>å°ç¨‹åºæ›´æ–°è§†å›¾æ•°æ®çš„é€šä¿¡æµç¨‹</h2><p>æ¯å½“å°ç¨‹åºè§†å›¾æ•°æ®éœ€è¦æ›´æ–°æ—¶ï¼Œé€»è¾‘å±‚ä¼šè°ƒç”¨å°ç¨‹åºå®¿ä¸»ç¯å¢ƒæä¾›çš„ setData æ–¹æ³•å°†æ•°æ®ä»é€»è¾‘å±‚ä¼ é€’åˆ°è§†å›¾å±‚ï¼Œç»è¿‡ä¸€ç³»åˆ—æ¸²æŸ“æ­¥éª¤ä¹‹åå®ŒæˆUIè§†å›¾æ›´æ–°ã€‚å®Œæ•´çš„é€šä¿¡æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li><p>å°ç¨‹åºé€»è¾‘å±‚è°ƒç”¨å®¿ä¸»ç¯å¢ƒçš„ setData æ–¹æ³•ã€‚</p></li><li><p>é€»è¾‘å±‚æ‰§è¡Œ JSON.stringify å°†å¾…ä¼ è¾“æ•°æ®è½¬æ¢æˆå­—ç¬¦ä¸²å¹¶æ‹¼æ¥åˆ°ç‰¹å®šçš„JSè„šæœ¬ï¼Œå¹¶é€šè¿‡evaluateJavascript æ‰§è¡Œè„šæœ¬å°†æ•°æ®ä¼ è¾“åˆ°æ¸²æŸ“å±‚ã€‚</p></li><li><p>æ¸²æŸ“å±‚æ¥æ”¶åˆ°åï¼Œ WebView JS çº¿ç¨‹ä¼šå¯¹è„šæœ¬è¿›è¡Œç¼–è¯‘ï¼Œå¾—åˆ°å¾…æ›´æ–°æ•°æ®åè¿›å…¥æ¸²æŸ“é˜Ÿåˆ—ç­‰å¾… WebView çº¿ç¨‹ç©ºé—²æ—¶è¿›è¡Œé¡µé¢æ¸²æŸ“ã€‚</p></li><li><p>ebView çº¿ç¨‹å¼€å§‹æ‰§è¡Œæ¸²æŸ“æ—¶ï¼Œå¾…æ›´æ–°æ•°æ®ä¼šåˆå¹¶åˆ°è§†å›¾å±‚ä¿ç•™çš„åŸå§‹ data æ•°æ®ï¼Œå¹¶å°†æ–°æ•°æ®å¥—ç”¨åœ¨WXMLç‰‡æ®µä¸­å¾—åˆ°æ–°çš„è™šæ‹ŸèŠ‚ç‚¹æ ‘ã€‚<br>  ç»è¿‡æ–°è™šæ‹ŸèŠ‚ç‚¹æ ‘ä¸å½“å‰èŠ‚ç‚¹æ ‘çš„ diff å¯¹æ¯”ï¼Œå°†å·®å¼‚éƒ¨åˆ†æ›´æ–°åˆ°UIè§†å›¾ã€‚åŒæ—¶ï¼Œå°†æ–°çš„èŠ‚ç‚¹æ ‘æ›¿æ¢æ—§èŠ‚ç‚¹æ ‘ï¼Œç”¨äºä¸‹ä¸€æ¬¡é‡æ¸²æŸ“ã€‚</p></li></ul><h2 id="å¼•å‘æ¸²æŸ“æ€§èƒ½é—®é¢˜çš„åŸå› "><a href="#å¼•å‘æ¸²æŸ“æ€§èƒ½é—®é¢˜çš„åŸå› " class="headerlink" title="å¼•å‘æ¸²æŸ“æ€§èƒ½é—®é¢˜çš„åŸå› "></a>å¼•å‘æ¸²æŸ“æ€§èƒ½é—®é¢˜çš„åŸå› </h2><ul><li>setDataä¼ é€’å¤§é‡æ–°æ•°æ®<br>  æ•°æ®çš„ä¼ è¾“ä¼šç»å†è·¨çº¿ç¨‹ä¼ è¾“å’Œè„šæœ¬ç¼–è¯‘çš„è¿‡ç¨‹ï¼Œå½“æ•°æ®é‡è¿‡å¤§ï¼Œä¼šå¢åŠ è„šæœ¬ç¼–è¯‘çš„æ‰§è¡Œæ—¶é—´ï¼Œå ç”¨ WebView JS çº¿ç¨‹ã€‚</li><li>é¢‘ç¹çš„æ‰§è¡ŒsetDataæ“ä½œ<br>  é¢‘ç¹çš„æ‰§è¡Œ setData ä¼šè®© WebView JS çº¿ç¨‹ä¸€ç›´å¿™ç¢Œäºè„šæœ¬çš„ç¼–è¯‘ã€èŠ‚ç‚¹æ ‘çš„å¯¹æ¯”è®¡ç®—å’Œé¡µé¢æ¸²æŸ“ã€‚</li><li>è¿‡å¤šçš„é¡µé¢èŠ‚ç‚¹æ•°<br>  é¡µé¢åˆå§‹æ¸²æŸ“æ—¶ï¼Œæ¸²æŸ“æ ‘çš„æ„å»ºã€è®¡ç®—èŠ‚ç‚¹å‡ ä½•ä¿¡æ¯ä»¥åŠç»˜åˆ¶èŠ‚ç‚¹åˆ°å±å¹•çš„æ—¶é—´å¼€é”€éƒ½è·Ÿé¡µé¢èŠ‚ç‚¹æ•°é‡æˆæ­£ç›¸å…³å…³ç³»ï¼Œé¡µé¢èŠ‚ç‚¹æ•°é‡è¶Šå¤šï¼Œæ¸²æŸ“è€—æ—¶è¶Šé•¿ã€‚<br>  æ¯æ¬¡æ‰§è¡Œ setData æ›´æ–°è§†å›¾ï¼ŒWebView JS çº¿ç¨‹éƒ½è¦éå†èŠ‚ç‚¹æ ‘è®¡ç®—æ–°æ—§èŠ‚ç‚¹æ•°å·®å¼‚éƒ¨åˆ†ã€‚å½“é¡µé¢èŠ‚ç‚¹æ•°é‡è¶Šå¤šï¼Œè®¡ç®—çš„æ—¶é—´å¼€é”€è¶Šå¤§ï¼Œå‡å°‘èŠ‚ç‚¹æ ‘èŠ‚ç‚¹æ•°é‡å¯ä»¥æœ‰æ•ˆé™ä½é‡æ¸²æŸ“çš„æ—¶é—´å¼€é”€ã€‚</li></ul><h2 id="æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–"><a href="#æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–"></a>æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–</h2><h3 id="setDataä¼˜åŒ–"><a href="#setDataä¼˜åŒ–" class="headerlink" title="setDataä¼˜åŒ–"></a>setDataä¼˜åŒ–</h3><ol><li><p>å‡å°‘ setData æ•°æ®ä¼ è¾“é‡</p><p> <strong>ä»…ä¼ è¾“è§†å›¾å±‚ä½¿ç”¨åˆ°çš„æ•°æ®ï¼Œå…¶ä»– JS ç¯å¢ƒç”¨åˆ°çš„æ•°æ®å­˜æ”¾åˆ° data å¯¹è±¡å¤–ã€‚</strong></p><p> åˆç†åˆ©ç”¨å±€éƒ¨æ›´æ–°ã€‚</p><p> setData æ”¯æŒä½¿ç”¨ æ•°æ®è·¯å¾„ çš„æ–¹å¼å¯¹å¯¹è±¡çš„å±€éƒ¨å­—æ®µè¿›è¡Œæ›´æ–°ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªæ›´æ–°éœ€è¦æ›´æ–°çš„æ•°æ®ï¼ï¼ï¼</span></span><br><span class="line"><span class="comment">// åå°è·å–åˆ—è¡¨æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> list = requestSync();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´æ–°æ•´ä¸ªåˆ—è¡¨----é”™è¯¯âŒ</span></span><br><span class="line"><span class="built_in">this</span>.setData(&#123; list &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å±€éƒ¨æ›´æ–°åˆ—è¡¨---âˆš</span></span><br><span class="line"><span class="built_in">this</span>.setData(&#123;</span><br><span class="line">    <span class="string">&#x27;list[0].src&#x27;</span>: list[<span class="number">0</span>].src</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>é™ä½ setData æ‰§è¡Œé¢‘ç‡</p><p> åœ¨ä¸å½±å“ä¸šåŠ¡æµç¨‹çš„å‰æä¸‹ï¼Œå°†å¤šä¸ª setData è°ƒç”¨åˆå¹¶æ‰§è¡Œï¼Œå‡å°‘çº¿ç¨‹é—´é€šä¿¡é¢‘æ¬¡ã€‚</p></li><li><p>å–„ç”¨è‡ªå®šä¹‰ç»„ä»¶</p></li></ol><p>å°ç¨‹åºè‡ªå®šä¹‰ç»„ä»¶çš„å®ç°æ˜¯ç”±å°ç¨‹åºå®˜æ–¹è®¾è®¡çš„ Exparser æ¡†æ¶æ‰€æ”¯æŒï¼Œæ¡†æ¶å®ç°çš„è‡ªå®šä¹‰ç»„ä»¶çš„ç»„ä»¶æ¨¡å‹ä¸ Web Components æ ‡å‡†çš„ Shadow DOM ç›¸ä¼¼.</p><p>åœ¨é¡µé¢å¼•ç”¨è‡ªå®šä¹‰ç»„ä»¶åï¼Œå½“åˆå§‹åŒ–é¡µé¢æ—¶ï¼ŒExparser ä¼šåœ¨åˆ›å»ºé¡µé¢å®ä¾‹çš„åŒæ—¶ï¼Œä¹Ÿä¼šæ ¹æ®è‡ªå®šä¹‰ç»„ä»¶çš„æ³¨å†Œä¿¡æ¯è¿›è¡Œç»„ä»¶å®ä¾‹åŒ–ï¼Œç„¶åæ ¹æ®ç»„ä»¶è‡ªå¸¦çš„ data æ•°æ®å’Œç»„ä»¶WXMLï¼Œæ„é€ å‡ºç‹¬ç«‹çš„ Shadow Tree ï¼Œå¹¶è¿½åŠ åˆ°é¡µé¢ Composed Tree ã€‚åˆ›å»ºå‡ºæ¥çš„ Shadow Tree æ‹¥æœ‰ç€è‡ªå·±ç‹¬ç«‹çš„é€»è¾‘ç©ºé—´ã€æ•°æ®ã€æ ·å¼ç¯å¢ƒåŠsetDataè°ƒç”¨.</p><p>åŸºäºè‡ªå®šä¹‰ç»„ä»¶çš„ Shadow DOM æ¨¡å‹è®¾è®¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¡µé¢ä¸­ä¸€äº›éœ€è¦é«˜é¢‘æ‰§è¡Œ setData æ›´æ–°çš„åŠŸèƒ½æ¨¡å—ï¼ˆå¦‚å€’è®¡æ—¶ã€è¿›åº¦æ¡ç­‰ï¼‰å°è£…æˆè‡ªå®šä¹‰ç»„ä»¶åµŒå…¥åˆ°é¡µé¢ä¸­ã€‚</p><p>å½“è¿™äº›è‡ªå®šä¹‰ç»„ä»¶è§†å›¾éœ€è¦æ›´æ–°æ—¶ï¼Œæ‰§è¡Œçš„æ˜¯ç»„ä»¶è‡ªå·±çš„ setData ï¼Œæ–°æ—§èŠ‚ç‚¹æ ‘çš„å¯¹æ¯”è®¡ç®—å’Œæ¸²æŸ“æ ‘çš„æ›´æ–°éƒ½åªé™äºç»„ä»¶å†…æœ‰é™çš„èŠ‚ç‚¹æ•°é‡ï¼Œæœ‰æ•ˆé™ä½æ¸²æŸ“æ—¶é—´å¼€é”€ã€‚</p><p>å½“ç„¶ï¼Œå¹¶ä¸æ˜¯ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶è¶Šå¤šä¼šè¶Šå¥½ï¼Œé¡µé¢æ¯æ–°å¢ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ï¼Œ Exparser éœ€è¦å¤šç®¡ç†ä¸€ä¸ªç»„ä»¶å®ä¾‹ï¼Œå†…å­˜æ¶ˆè€—ä¼šæ›´å¤§ï¼Œå½“å†…å­˜å ç”¨ä¸Šå‡åˆ°ä¸€å®šç¨‹åº¦ï¼Œæœ‰å¯èƒ½å¯¼è‡´ iOS å°†éƒ¨åˆ† WKWebView å›æ”¶ï¼Œå®‰å“æœºä½“éªŒä¼šå˜å¾—æ›´åŠ å¡é¡¿ã€‚å› æ­¤è¦åˆç†çš„ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶ï¼ŒåŒæ—¶é¡µé¢è®¾è®¡ä¹Ÿè¦æ³¨æ„ä¸æ»¥ç”¨æ ‡ç­¾ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å°ç¨‹åºåŒçº¿ç¨‹æ¶æ„å†³å®šäº†æ•°æ®é€šä¿¡ä¼˜åŒ–ä¼šæ˜¯æ€§èƒ½ä¼˜åŒ–ä¸­ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ç‚¹ã€‚<br>è€Œä¸Šè¿°æåˆ°çš„å‡ ä¸ªä¼˜åŒ–å»ºè®®åªæ˜¯ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œè¦æƒ³è®©ä½ çš„é¡µé¢ä½“éªŒå˜å¾—æ›´åŠ ä¸æ»‘ï¼Œ<br>å°±è¦ç†Ÿæ‚‰å°ç¨‹åºæ¡†æ¶çš„åº•å±‚åŸç†ï¼Œæ ¹æ®å°ç¨‹åºæ¡†æ¶çš„ç‰¹ç‚¹ï¼Œç¼–å†™å‡ºâ€œåˆèº«â€çš„å‰ç«¯ä»£ç ã€‚</p><h2 id="å°ç¨‹åºä¼ é€’urlé‡Œæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚"><a href="#å°ç¨‹åºä¼ é€’urlé‡Œæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚" class="headerlink" title="å°ç¨‹åºä¼ é€’urlé‡Œæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚+"></a>å°ç¨‹åºä¼ é€’urlé‡Œæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚+</h2><p>ç”¨ <code>encodeURIComponent(JSON.stringify(address))</code>,æ–¹å¼ä¼ é€’ï¼Œåœ¨æ¥æ”¶æ—¶ï¼Œä¸ç”¨decode,ç›´æ¥è·å–å³å¯<br>å¦‚æœä¸ç”¨encodeï¼Œè·å–åˆ°çš„å€¼é‡Œ+ä¼šä¸¢å¤±</p><h2 id="å°ç¨‹åºtextareaé€‚é…é—®é¢˜"><a href="#å°ç¨‹åºtextareaé€‚é…é—®é¢˜" class="headerlink" title="å°ç¨‹åºtextareaé€‚é…é—®é¢˜"></a>å°ç¨‹åºtextareaé€‚é…é—®é¢˜</h2><p>åœ¨é¡µé¢ä¸­ç”¨åˆ°äº†textareaï¼Œæµ‹è¯•å‘ç°çš„é—®é¢˜ï¼š</p><ol><li>é«˜åº¦æ— æ³•è‡ªé€‚åº”</li><li>åˆ é™¤æ—¶ï¼Œå…‰æ ‡ä¼šè‡ªåŠ¨åˆ°ç¬¬ä¸€ä¸ª</li><li>æœ‰çš„æ‰‹æœºä¸Šå¤šè¡Œå±•ç¤ºä¸è‡ªåŠ¨æ¢è¡Œ</li></ol><p>è§£å†³åŠæ³•:</p><p>æŒ¨ä¸ªæ’é™¤æ¯ä¸ªå±æ€§ï¼Œçœ‹æ˜¯å“ªä¸ªå±æ€§å½±å“å¯¼è‡´çš„ã€‚<br>å‘ç° <code>auto-height</code> å¯¼è‡´çš„é—®é¢˜ï¼Œå»æ‰auto-heightï¼Œé‡‡ç”¨cssè®¾ç½®heightä¸ºå›ºå®šé«˜åº¦ï¼Œè§£å†³é—®é¢˜</p><h2 id="å¤„ç†ä¸€äº›å…¼å®¹æ€§é—®é¢˜æ—¶ï¼Œè¦å…ˆçœ‹æ‰‹ç™¾APPæ˜¯ä¸æ˜¯æœ€æ–°ç‰ˆçš„ï¼Œæœ‰å¯èƒ½æ˜¯æ—§ç‰ˆçš„APPå¯¼è‡´çš„é—®é¢˜"><a href="#å¤„ç†ä¸€äº›å…¼å®¹æ€§é—®é¢˜æ—¶ï¼Œè¦å…ˆçœ‹æ‰‹ç™¾APPæ˜¯ä¸æ˜¯æœ€æ–°ç‰ˆçš„ï¼Œæœ‰å¯èƒ½æ˜¯æ—§ç‰ˆçš„APPå¯¼è‡´çš„é—®é¢˜" class="headerlink" title="å¤„ç†ä¸€äº›å…¼å®¹æ€§é—®é¢˜æ—¶ï¼Œè¦å…ˆçœ‹æ‰‹ç™¾APPæ˜¯ä¸æ˜¯æœ€æ–°ç‰ˆçš„ï¼Œæœ‰å¯èƒ½æ˜¯æ—§ç‰ˆçš„APPå¯¼è‡´çš„é—®é¢˜"></a>å¤„ç†ä¸€äº›å…¼å®¹æ€§é—®é¢˜æ—¶ï¼Œè¦å…ˆçœ‹æ‰‹ç™¾APPæ˜¯ä¸æ˜¯æœ€æ–°ç‰ˆçš„ï¼Œæœ‰å¯èƒ½æ˜¯æ—§ç‰ˆçš„APPå¯¼è‡´çš„é—®é¢˜</h2>]]></content>
      
      
      
        <tags>
            
            <tag> ç»éªŒç§¯ç´¯ </tag>
            
            <tag> å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React é«˜é˜¶ç»„ä»¶</title>
      <link href="posts/React-%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/"/>
      <url>posts/React-%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h2><p>é«˜é˜¶ç»„ä»¶ï¼ˆ higher-order component ï¼ŒHOC ï¼‰æ˜¯ React ä¸­å¤ç”¨ç»„ä»¶é€»è¾‘çš„ä¸€ç§è¿›é˜¶æŠ€å·§ã€‚<br>å®ƒæœ¬èº«å¹¶ä¸æ˜¯ React çš„ APIï¼Œè€Œæ˜¯ä¸€ç§ React ç»„ä»¶çš„è®¾è®¡ç†å¿µï¼Œä¼—å¤šçš„ React åº“å·²ç»è¯æ˜äº†å®ƒçš„ä»·å€¼ï¼Œä¾‹å¦‚è€³ç†Ÿèƒ½è¯¦çš„ react-reduxã€‚</p><a id="more"></a><p>é«˜é˜¶å‡½æ•°æ˜¯æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥åˆ°å‡½æ•°ä¸­å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚<br>æŠŠå‡½æ•°æ›¿æ¢æˆç»„ä»¶ï¼Œå°±æ˜¯é«˜é˜¶ç»„ä»¶ã€‚é«˜é˜¶ç»„ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥å°è£…é‡å¤çš„é€»è¾‘ã€‚<br>ä¼ è¿›å»ä¸€ä¸ªè€ç»„ä»¶ï¼Œè¿”å›ä¸€ä¸ªæ–°ç»„ä»¶</p><p><code>const EnhancedComponent = higherOrderComponent(WrappedComponent);</code></p><p>é«˜é˜¶ç»„ä»¶å¯ä»¥æŠ½ç¦»å…¬å…±é€»è¾‘ï¼Œåƒæ´‹è‘±ä¸€æ ·å±‚å±‚å åŠ ç»™ç»„ä»¶ï¼Œæ¯ä¸€å±‚èŒèƒ½åˆ†æ˜ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æŠ½ç¦»ä¸å¢æ·»ã€‚åœ¨ä¼˜åŒ–ä»£ç æˆ–è§£è€¦ç»„ä»¶æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨é«˜é˜¶ç»„ä»¶æ¨¡å¼ã€‚</p><p>å®ç°é«˜é˜¶ç»„ä»¶çš„ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>å±æ€§ä»£ç†(Props Proxy): é«˜é˜¶ç»„ä»¶æ“æ§ä¼ é€’ç»™ WrappedComponent çš„ propsï¼Œ</li><li>åå‘ç»§æ‰¿ï¼ˆInheritance Inversionï¼‰ï¼šé«˜é˜¶ç»„ä»¶ç»§æ‰¿ï¼ˆextendsï¼‰WrappedComponentã€‚</li></ol><p>å¯ä»¥ç”¨é«˜é˜¶ç»„ä»¶åšä»€ä¹ˆï¼Ÿ</p><ul><li>ä»£ç å¤ç”¨ï¼Œé€»è¾‘æŠ½è±¡ï¼ŒæŠ½ç¦»åº•å±‚å‡†å¤‡ï¼ˆbootstrapï¼‰ä»£ç </li><li>æ¸²æŸ“åŠ«æŒ</li><li>State æŠ½è±¡å’Œæ›´æ”¹</li><li>Props æ›´æ”¹</li></ul><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><p>ä¾‹å¦‚ï¼Œå‡è®¾ä½ æœ‰ä¸€ä¸ªæ¥å—å¤–éƒ¨æ•°æ®æºæ¸²æŸ“è¯„è®ºåˆ—è¡¨çš„CommentListç»„ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommentList</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line">    <span class="built_in">this</span>.handleChange = <span class="built_in">this</span>.handleChange.bind(<span class="built_in">this</span>);</span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      <span class="comment">// &quot;DataSource&quot; is some global data source</span></span><br><span class="line">      comments: DataSource.getComments()</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// Subscribe to changes</span></span><br><span class="line">    DataSource.addChangeListener(<span class="built_in">this</span>.handleChange);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">componentWillUnmount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// Clean up listener</span></span><br><span class="line">    DataSource.removeChangeListener(<span class="built_in">this</span>.handleChange);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">handleChange</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// Update component state whenever the data source changes</span></span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      comments: DataSource.getComments()</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;<span class="built_in">this</span>.state.comments.map(<span class="function">(<span class="params">comment</span>) =&gt;</span> (</span><br><span class="line">          &lt;Comment comment=&#123;comment&#125; key=&#123;comment.id&#125; /&gt;</span><br><span class="line">        ))&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éšåï¼Œä½ ç¼–å†™ä¸€ä¸ªè®¢é˜…å•ä¸ªåšæ–‡çš„ç»„ä»¶ï¼Œå…¶éµå¾ªç±»ä¼¼çš„æ¨¡å¼:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogPost</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line">    <span class="built_in">this</span>.handleChange = <span class="built_in">this</span>.handleChange.bind(<span class="built_in">this</span>);</span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      blogPost: DataSource.getBlogPost(props.id)</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    DataSource.addChangeListener(<span class="built_in">this</span>.handleChange);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">componentWillUnmount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    DataSource.removeChangeListener(<span class="built_in">this</span>.handleChange);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">handleChange</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      blogPost: DataSource.getBlogPost(<span class="built_in">this</span>.props.id)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">TextBlock</span> <span class="attr">text</span>=<span class="string">&#123;this.state.blogPost&#125;</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>CommentListå’ŒBlogPostæ˜¯ç­‰ä»·çš„ï¼Œé™¤äº†å®ƒä»¬è°ƒç”¨DataSourceçš„ä¸åŒæ–¹æ³•ï¼Œæœ‰ä¸åŒçš„è¾“å‡ºã€‚ä½†å®ƒä»¬å¤§éƒ¨åˆ†çš„å®ç°æ˜¯ç±»ä¼¼çš„:</p><ul><li>ç»„ä»¶mountç»“æŸåï¼Œéƒ½æ·»åŠ DataSourceçš„changeç›‘å¬</li><li>é™¤äº†ç›‘å¬å‡½æ•°ï¼Œæ— è®ºä»€ä¹ˆæ—¶å€™datasourceæ”¹å˜ä¹‹åï¼Œéƒ½ä¼šè°ƒç”¨setState</li><li>ç»„ä»¶unmountä¹‹åï¼Œéƒ½ä¼šç§»é™¤ç›‘å¬ã€‚</li></ul><p>ä»¥ä¸Šä¸¤ä¸ªç»„ä»¶åœ¨å¤§å‹é¡¹ç›®ä¸­è®¢é˜…åŠsetStateçš„æ–¹æ³•ä¼šä¸€æ¬¡æ¬¡å‡ºç°ã€‚</p><blockquote><p><strong>æˆ‘ä»¬éœ€è¦å°†å…¶æŠ½è±¡å‡ºæ¥ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰é€»è¾‘å¹¶ä¸”åœ¨ç»„ä»¶ä¸­å…±äº«ã€‚è¿™å°±æ˜¯é«˜é˜¶ç»„ä»¶çš„ä¼˜ç‚¹</strong></p></blockquote><p>å†™ä¸€ä¸ªå‡½æ•°ï¼Œèƒ½å¤Ÿåˆ›å»ºç±»ä¼¼äºCommentListå’ŒBlogPostè¿™ç±»è®¢é˜…DataSourceçš„æ–°çš„ç»„ä»¶ã€‚è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªå­ç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå­ç»„ä»¶æ¥å—è®¢é˜…æ•°æ®æºä½œä¸ºpropsï¼Œè°ƒç”¨withSubscriptionå¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CommentListWithSubscription = withSubscription(</span><br><span class="line">  CommentList,</span><br><span class="line">  (DataSource) =&gt; DataSource.getComments()</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> BlogPostWithSubscription = withSubscription(</span><br><span class="line">  BlogPost,</span><br><span class="line">  (DataSource, props) =&gt; DataSource.getBlogPost(props.id)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¢«åŒ…å«çš„ç»„ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°æ ¹æ®ç»™å®šçš„DataSourceå’Œå½“å‰çš„propså–å›æˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚</p><p>å½“CommentListWithSubscriptionå’ŒCommentListWithSubscriptionè¢«æ¸²æŸ“æ—¶ï¼ŒCommentListå’ŒBlogPostå°†ä¼šè¢«ä¼ é€’dataå±æ€§ï¼Œå…¶ä¸­åŒ…å«ä»DataSourceå–å›çš„æœ€æ–°æ•°æ®ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This function takes a component...</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">withSubscription</span>(<span class="params">WrappedComponent, selectData</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...and returns another component...</span></span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">super</span>(props);</span><br><span class="line">      <span class="built_in">this</span>.handleChange = <span class="built_in">this</span>.handleChange.bind(<span class="built_in">this</span>);</span><br><span class="line">      <span class="built_in">this</span>.state = &#123;</span><br><span class="line">        data: selectData(DataSource, props)</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="comment">// ... that takes care of the subscription...</span></span><br><span class="line">      DataSource.addChangeListener(<span class="built_in">this</span>.handleChange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">componentWillUnmount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      DataSource.removeChangeListener(<span class="built_in">this</span>.handleChange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">handleChange</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">        data: selectData(DataSource, <span class="built_in">this</span>.props)</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="comment">// ... and renders the wrapped component with the fresh data!</span></span><br><span class="line">      <span class="comment">// Notice that we pass through any additional props</span></span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> <span class="attr">data</span>=<span class="string">&#123;this.state.data&#125;</span> &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é«˜é˜¶ç»„ä»¶æ—¢ä¸ä¼šä¿®æ”¹è¾“å…¥ç»„ä»¶ï¼Œä¹Ÿä¸ä¼šé€šè¿‡ç»§æ‰¿æ¥å¤åˆ¶è¡Œä¸ºã€‚ç›¸åï¼Œé€šè¿‡åŒ…è£¹çš„å½¢å¼ï¼Œé«˜é˜¶ç»„ä»¶å°†åŸå…ˆçš„ç»„ä»¶ç»„åˆåœ¨containerç»„ä»¶ä¸­ã€‚é«˜é˜¶ç»„ä»¶æ˜¯çº¯å‡½æ•°ï¼Œæ²¡æœ‰å‰¯ä½œç”¨ã€‚</p><p>è¢«åŒ…è£¹çš„å…ƒç´ æ¥å— container çš„æ‰€æœ‰propså’Œæ–°çš„propsï¼Œå¹¶ä½¿ç”¨å…¶æ¸²æŸ“è¾“å‡ºã€‚é«˜é˜¶ç»„ä»¶å¹¶ä¸å…³å¿ƒæ•°æ®å°†ä¼šå¦‚ä½•æˆ–è€…ä¸ºä»€ä¹ˆä½¿ç”¨ï¼Œå¹¶ä¸”è¢«åŒ…è£¹çš„å…ƒç´ å¹¶ä¸å…³å¿ƒæ•°æ®çš„æºå¤´ã€‚</p><p>å› ä¸ºwithSubscriptionåªæ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½ å¯ä»¥æŒ‰ç…§ä½ çš„æ„æ„¿æ·»åŠ å¾ˆå¤šæˆ–è€…å¾ˆå°‘çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½å¸Œæœ›dataçš„åå­—æ˜¯å¯ä»¥é…ç½®çš„ï¼Œä¸ºäº†è¿›ä¸€æ­¥éš”ç¦»é«˜é˜¶ç»„ä»¶å’Œè¢«åŒ…è£¹ç»„ä»¶ã€‚æˆ–è€…ä½ å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå®ƒå¯ä»¥é…ç½®shouldComponentUpdate,æˆ–è€…æ˜¯å¯ä»¥é…ç½®æ•°æ®çš„æ¥æºã€‚è¿™éƒ½æ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºé«˜é˜¶ç»„ä»¶å¯ä»¥å®Œå…¨è‡ªå·±æ§åˆ¶ç»„ä»¶è¯¥å¦‚ä½•å®šä¹‰ã€‚</p><p>å’Œç»„ä»¶ç›¸ç±»ä¼¼ï¼ŒwithSubscriptionå’Œè¢«åŒ…è£¹ç»„ä»¶çš„è”ç³»æ˜¯åŸºäºpropsçš„ã€‚åªè¦ä¸ºè¢«åŒ…è£¹å…ƒç´ æä¾›ç›¸åŒçš„å±æ€§ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“å°†ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ç»„ä»¶è½¬åŒ–æˆä¸åŒçš„é«˜é˜¶ç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¦æ”¹å˜æ•°æ®è·å–çš„åº“ï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚</p><h2 id="ä¸€ä¸ªç®€å•çš„é«˜é˜¶ç»„ä»¶"><a href="#ä¸€ä¸ªç®€å•çš„é«˜é˜¶ç»„ä»¶" class="headerlink" title="ä¸€ä¸ªç®€å•çš„é«˜é˜¶ç»„ä»¶"></a>ä¸€ä¸ªç®€å•çš„é«˜é˜¶ç»„ä»¶</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;Component&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> simpleHoc <span class="keyword">from</span> <span class="string">&#x27;./simpleHoc&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Usual</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.props, <span class="string">&#x27;props);</span></span><br><span class="line"><span class="string">        return (</span></span><br><span class="line"><span class="string">            &lt;div&gt;</span></span><br><span class="line"><span class="string">                Usual</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">export default simpleHoc(Usual);</span></span><br></pre></td></tr></table></figure><p>simpleHoc.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> simpleHoc = <span class="function"><span class="params">wrappedComponent</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;simpleHoc&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">wrappedComponent</span> &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> simpleHoc;</span><br></pre></td></tr></table></figure><p>ä¾‹äºŒ:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">withHeader</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">HOC</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &lt;div&gt;</span><br><span class="line">        &lt;div className=<span class="string">&quot;demo-header&quot;</span>&gt;</span><br><span class="line">          æˆ‘æ˜¯æ ‡é¢˜</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨å…¶ä»–ç»„ä»¶ä¸­å¼•ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@withHeader</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        æˆ‘æ˜¯ä¸€ä¸ªæ™®é€šç»„ä»¶</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è£…é¥°å™¨æ¨¡å¼"><a href="#è£…é¥°å™¨æ¨¡å¼" class="headerlink" title="è£…é¥°å™¨æ¨¡å¼"></a>è£…é¥°å™¨æ¨¡å¼</h2><p>é«˜é˜¶ç»„ä»¶å¯ä»¥çœ‹åšæ˜¯è£…é¥°å™¨æ¨¡å¼(Decorator Pattern) åœ¨Reactçš„å®ç°ã€‚å³å…è®¸å‘ä¸€ä¸ªç°æœ‰å¯¹è±¡æ·»åŠ æ–°åŠŸèƒ½ï¼ŒåŒæ—¶ä¸æ”¹å˜å…¶ç»“æ„ï¼Œå±äºåŒ…è£…æ¨¡å¼(Wrapper Pattern)çš„ä¸€ç§</p><p>ä¸Šé¢ä¾‹å­å¯ä»¥æ”¹å†™ä¸º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> simpleHoc <span class="keyword">from</span> <span class="string">&#x27;./simple-hoc&#x27;</span>;</span><br><span class="line"></span><br><span class="line">@simpleHoc</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Usual</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        Usual</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸¤ç§å½¢å¼"><a href="#ä¸¤ç§å½¢å¼" class="headerlink" title="ä¸¤ç§å½¢å¼"></a>ä¸¤ç§å½¢å¼</h2><h3 id="å±æ€§ä»£ç†"><a href="#å±æ€§ä»£ç†" class="headerlink" title="å±æ€§ä»£ç†"></a>å±æ€§ä»£ç†</h3><p>å±æ€§ä»£ç†æœ¬è´¨ä¸Šæ˜¯è¿”å›äº†ä¸€ä¸ªå…¨æ–°çš„ Componentï¼Œæ­¤æ—¶åŸç»„ä»¶çš„é™æ€å±æ€§ã€ç”Ÿå‘½å‘¨æœŸç­‰ä¸€ç³»åˆ—å†…å®¹éƒ½è¢«å±è”½ï¼Œå¯¼è‡´ä¸Šå±‚çš„é«˜é˜¶ç»„ä»¶ã€å¯¹ç»„ä»¶çš„æ“ä½œéƒ½æ‹¿ä¸åˆ°åº”æœ‰çš„å†…å®¹ã€‚</p><p>ä¸€ä¸ªç®€å•ä¾‹å­ä¸­ç”¨çš„å°±æ˜¯å±æ€§ä»£ç†(Props Proxy)çš„å½¢å¼ã€‚æœ¬æ¥ä¼ ç»™Usualçš„propsåœ¨hocä¸­æ¥æ”¶åˆ°ï¼Œå°±æ˜¯props proxy. è¿™é‡Œå¯ä»¥åšä¸€äº›æ“ä½œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ppHOC</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">PP</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.props</span>&#125;/&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œé«˜é˜¶ç»„ä»¶çš„ render æ–¹æ³•è¿”å›äº†ä¸€ä¸ª type ä¸º WrappedComponent çš„ React Elementï¼ˆä¹Ÿå°±æ˜¯è¢«åŒ…è£…çš„é‚£ä¸ªç»„ä»¶ï¼‰ï¼Œæˆ‘ä»¬æŠŠé«˜é˜¶ç»„ä»¶æ”¶åˆ°çš„ props ä¼ é€’ç»™å®ƒï¼Œå› æ­¤å¾—å Props Proxyã€‚</p><p>æ³¨æ„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line"><span class="comment">// is equivalent to</span></span><br><span class="line">React.createElement(WrappedComponent, <span class="built_in">this</span>.props, <span class="literal">null</span>)</span><br></pre></td></tr></table></figure><p>Props Proxy å¯ä»¥åšä»€ä¹ˆ</p><ul><li>æ“ä½œ props</li><li>é€šè¿‡ refs è·å–ç»„ä»¶å®ä¾‹</li><li>æŠ½è±¡ state</li><li>æŠŠ WrappedComponent ä¸å…¶å®ƒ elements åŒ…è£…åœ¨ä¸€èµ·</li></ul><h3 id="æ“ä½œprops"><a href="#æ“ä½œprops" class="headerlink" title="æ“ä½œprops"></a>æ“ä½œprops</h3><p>æ¥æ”¶åˆ°propså¯ä»¥åšä»»ä½•è¯»å–ï¼Œç¼–è¾‘ï¼Œåˆ é™¤ç­‰è‡ªå®šä¹‰æ“ä½œã€‚éƒ½å¯ä»¥é€šè¿‡propså†ä¼ ä¸‹å»</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> propsProxyHoc = <span class="function"><span class="params">WrappedComponent</span> =&gt;</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">handleClick</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;click&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="xml">&lt;WrappedComponent</span></span><br><span class="line"><span class="xml">      &#123;...this.props&#125;</span></span><br><span class="line"><span class="xml">      handleClick=&#123;this.handleClick&#125;</span></span><br><span class="line"><span class="xml">    /&gt;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> propsProxyHoc;</span><br></pre></td></tr></table></figure><p>åœ¨Usualç»„ä»¶ä¸­ä¼šæ¥æ”¶åˆ°handleClickå±æ€§</p><p>åœ¨ä¿®æ”¹æˆ–åˆ é™¤é‡è¦ props çš„æ—¶å€™è¦å°å¿ƒï¼Œä½ å¯èƒ½åº”è¯¥ç»™é«˜é˜¶ç»„ä»¶çš„ props æŒ‡å®šå‘½åç©ºé—´ï¼ˆnamespaceï¼‰ï¼Œä»¥é˜²ç ´åä»å¤–ä¼ é€’ç»™ WrappedComponent çš„ propsã€‚</p><p>ä¾‹å­ï¼šæ·»åŠ æ–° propsã€‚è¿™ä¸ªcurrentLoggedInUserå¯ä»¥åœ¨ WrappedComponent é€šè¿‡ this.props.user è·å–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ppHOC</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">PP</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> newProps = &#123;</span><br><span class="line">        user: currentLoggedInUser</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.props</span>&#125; &#123;<span class="attr">...newProps</span>&#125;/&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€šè¿‡refsè·å–ç»„ä»¶å®ä¾‹"><a href="#é€šè¿‡refsè·å–ç»„ä»¶å®ä¾‹" class="headerlink" title="é€šè¿‡refsè·å–ç»„ä»¶å®ä¾‹"></a>é€šè¿‡refsè·å–ç»„ä»¶å®ä¾‹</h3><p>å°½ç®¡æƒ¯ä¾‹æ˜¯é«˜é˜¶ç»„ä»¶ä¼šç»™è¢«åŒ…è£¹ç»„ä»¶ä¼ é€’æ‰€æœ‰çš„å±æ€§(props)ï¼Œä½†æ˜¯ä¸ä¼šä¼ é€’<code>refs</code>ã€‚å› ä¸º<code>ref</code>ä¸æ˜¯ä¸€ä¸ªå±æ€§ï¼Œå°±åƒ<code>key</code>ä¸€æ ·ï¼Œå®ƒæ˜¯ç”±Reactç‰¹æ®Šå¤„ç†çš„ã€‚å¦‚æœä½ ç»™é«˜é˜¶ç»„ä»¶äº§ç”Ÿçš„ç»„ä»¶çš„å…ƒç´ æ·»åŠ <code>ref</code>,<code>ref</code>å¼•ç”¨çš„æ˜¯å¤–å±‚çš„å®¹å™¨ç»„ä»¶çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯è¢«åŒ…è£¹çš„ç»„ä»¶ã€‚</p><p>å¦‚æœä½ é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæœ€å¥½çš„è§£å†³æ–¹æ³•æ˜¯é¿å…ä½¿ç”¨<code>ref</code>ã€‚æœ‰æ—¶å€™ï¼ŒReactæ–°æ‰‹ç”¨æˆ·ä¾èµ–äº<code>refs</code>ï¼Œè¿™æ—¶å€™<code>props</code>æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¹Ÿå°±æ˜¯è¯´<code>refs</code>æœ‰æ—¶å€™æ˜¯å¿…è¦çš„ï¼Œå¦åˆ™Reactä¹Ÿä¸ä¼šæä¾›<code>refs</code>ã€‚</p><p>é€‰ä¸­è¾“å…¥æ¡†(focusing an input field)æ˜¯ä¸€ä¸ªä½ å¯èƒ½å¸Œæœ›å¼ºåˆ¶æ§åˆ¶ç»„ä»¶çš„ä¾‹å­ã€‚åœ¨è¿™ç§ä¾‹å­ä¸­ï¼Œä¸€ä¸ªè§£å†³åŠæ³•æ˜¯é€šè¿‡èµ·ä¸€ä¸ªåˆ«åï¼Œå°†<code>ref</code>ä½œä¸ºä¸€ä¸ªæ™®é€šçš„propsä¼ é€’ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Field</span>(<span class="params">&#123; inputRef, ...rest &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> &#123;<span class="attr">...rest</span>&#125; /&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Wrap Field in a higher-order component</span></span><br><span class="line"><span class="keyword">const</span> EnhancedField = enhance(Field);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Inside a class component&#x27;s render method...</span></span><br><span class="line">&lt;EnhancedField</span><br><span class="line">  inputRef=&#123;<span class="function">(<span class="params">inputEl</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// This callback gets passed through as a regular prop</span></span><br><span class="line">    <span class="built_in">this</span>.inputEl = inputEl</span><br><span class="line">  &#125;&#125;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Now you can call imperative methods</span></span><br><span class="line"><span class="built_in">this</span>.inputEl.focus();</span><br></pre></td></tr></table></figure><p>æ— è®ºå¦‚ä½•ï¼Œè¿™éƒ½æ˜¯ä¸€ä¸ªå®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬å€¾å‘äº<code>refs</code>æ˜¯ç”±åº“å»å¤„ç†ï¼Œè€Œä¸æ˜¯è¦æ±‚ä½ æ‰‹åŠ¨åœ°å¤„ç†ã€‚æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•ï¼Œä»¥ä¾¿åœ¨ä½¿ç”¨é«˜é˜¶ç»„ä»¶æ—¶ä¸éœ€è¦æ³¨æ„è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="æŠ½è±¡state"><a href="#æŠ½è±¡state" class="headerlink" title="æŠ½è±¡state"></a>æŠ½è±¡state</h3><p>è¿™é‡Œä¸æ˜¯é€šè¿‡refè·å–stateï¼Œ è€Œæ˜¯é€šè¿‡ { props, å›è°ƒå‡½æ•° } ä¼ é€’ç»™wrappedComponentç»„ä»¶ï¼Œé€šè¿‡å›è°ƒå‡½æ•°è·å–stateã€‚è¿™é‡Œç”¨çš„æ¯”è¾ƒå¤šçš„å°±æ˜¯reactå¤„ç†è¡¨å•çš„æ—¶å€™ã€‚é€šå¸¸reactåœ¨å¤„ç†è¡¨å•çš„æ—¶å€™ï¼Œä¸€èˆ¬ä½¿ç”¨çš„æ˜¯å—æ§ç»„ä»¶ï¼ˆæ–‡æ¡£ï¼‰ï¼Œå³æŠŠinputéƒ½åšæˆå—æ§çš„ï¼Œæ”¹å˜valueçš„æ—¶å€™ï¼Œç”¨onChangeäº‹ä»¶åŒæ­¥åˆ°stateä¸­ã€‚</p><p>å¯ä»¥é€šè¿‡å‘ WrappedComponent ä¼ é€’ props å’Œ callbacksï¼ˆå›è°ƒå‡½æ•°ï¼‰æ¥æŠ½è±¡ stateï¼Œè¿™å’Œ React ä¸­å¦å¤–ä¸€ä¸ªç»„ä»¶æ„æˆæ€æƒ³ <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">Presentational and Container Components</a> å¾ˆç›¸ä¼¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šç»„ä»¶Login</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> formCreate <span class="keyword">from</span> <span class="string">&#x27;./form-create&#x27;</span>;</span><br><span class="line"></span><br><span class="line">@formCreate</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Login</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;label id=<span class="string">&quot;username&quot;</span>&gt;</span><br><span class="line">            è´¦æˆ·</span><br><span class="line">          &lt;/label&gt;</span><br><span class="line">          &lt;input name=<span class="string">&quot;username&quot;</span> &#123;...this.props.getField(<span class="string">&#x27;username&#x27;</span>)&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div onClick=&#123;<span class="built_in">this</span>.props.handleSubmit&#125;&gt;æäº¤&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>form-create.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//HOC</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> formCreate = <span class="function"><span class="params">WrappedComponent</span> =&gt;</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      fields: &#123;&#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  onChange = <span class="function"><span class="params">key</span> =&gt;</span> <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; fields &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    fields[key] = e.target.value;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      fields,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  handleSubmit = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.fields);</span><br><span class="line">  &#125;</span><br><span class="line">  getField = <span class="function"><span class="params">fieldName</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      onChange: <span class="built_in">this</span>.onChange(fieldName),</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> props = &#123;</span><br><span class="line">      ...this.props,</span><br><span class="line">      handleSubmit: <span class="built_in">this</span>.handleSubmit,</span><br><span class="line">      getField: <span class="built_in">this</span>.getField,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="xml">&lt;WrappedComponent</span></span><br><span class="line"><span class="xml">      &#123;...props&#125;</span></span><br><span class="line"><span class="xml">    /&gt;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> formCreate;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬æŠŠstateï¼ŒonChangeç­‰æ–¹æ³•éƒ½æ”¾åˆ°HOCé‡Œï¼Œå…¶å®æ˜¯éµä»çš„reactç»„ä»¶çš„ä¸€ç§è§„èŒƒï¼Œå­ç»„ä»¶ç®€å•ï¼Œå‚»ç“œï¼Œè´Ÿè´£å±•ç¤ºï¼Œé€»è¾‘ä¸æ“ä½œæ”¾åˆ°Containerã€‚æ¯”å¦‚è¯´æˆ‘ä»¬åœ¨HOCè·å–åˆ°ç”¨æˆ·åå¯†ç ä¹‹åï¼Œå†å»åšå…¶ä»–æ“ä½œï¼Œå°±æ–¹ä¾¿å¤šäº†ï¼Œè€Œstateï¼Œå¤„ç†å‡½æ•°æ”¾åˆ°Formç»„ä»¶é‡Œï¼Œåªä¼šè®©Formæ›´åŠ ç¬¨é‡ï¼Œæ‰¿æ‹…äº†æœ¬ä¸å±äºå®ƒçš„å·¥ä½œï¼Œè¿™æ ·æˆ‘ä»¬å¯èƒ½å…¶ä»–åœ°æ–¹ä¹Ÿéœ€è¦ç”¨åˆ°è¿™ä¸ªç»„ä»¶ï¼Œä½†æ˜¯å¤„ç†æ–¹å¼ç¨å¾®ä¸åŒï¼Œå°±å¾ˆéº»çƒ¦äº†ã€‚</p><h3 id="æŠŠ-WrappedComponent-ä¸å…¶å®ƒ-elements-åŒ…è£…åœ¨ä¸€èµ·"><a href="#æŠŠ-WrappedComponent-ä¸å…¶å®ƒ-elements-åŒ…è£…åœ¨ä¸€èµ·" class="headerlink" title="æŠŠ WrappedComponent ä¸å…¶å®ƒ elements åŒ…è£…åœ¨ä¸€èµ·"></a>æŠŠ WrappedComponent ä¸å…¶å®ƒ elements åŒ…è£…åœ¨ä¸€èµ·</h3><p>å‡ºäºæ“ä½œæ ·å¼ã€å¸ƒå±€æˆ–å…¶å®ƒç›®çš„ï¼Œä½ å¯ä»¥å°† WrappedComponent ä¸å…¶å®ƒç»„ä»¶åŒ…è£…åœ¨ä¸€èµ·ã€‚ä¸€äº›åŸºæœ¬çš„ç”¨æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£å¸¸çš„çˆ¶ç»„ä»¶æ¥å®ç°ï¼ˆé™„å½• Bï¼‰ï¼Œä½†æ˜¯å°±åƒä¹‹å‰æ‰€æè¿°çš„ï¼Œä½¿ç”¨é«˜é˜¶ç»„ä»¶ä½ å¯ä»¥è·å¾—æ›´å¤šçš„çµæ´»æ€§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ppHOC</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">PP</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;div style=&#123;&#123;<span class="attr">display</span>: <span class="string">&#x27;block&#x27;</span>&#125;&#125;&gt;</span><br><span class="line">          &lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åå‘ç»§æ‰¿"><a href="#åå‘ç»§æ‰¿" class="headerlink" title="åå‘ç»§æ‰¿"></a>åå‘ç»§æ‰¿</h2><p>åå‘ç»§æ‰¿(Inheritance Inversion), ç®€ç§°IIï¼Œ</p><p>ç®€å•çš„å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iiHOC</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">Enhancer</span> <span class="keyword">extends</span> <span class="title">WrappedComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="comment">// å¯ä»¥æ–¹ä¾¿åœ°å¾—åˆ°stateï¼Œåšä¸€äº›æ›´æ·±å…¥çš„ä¿®æ”¹ã€‚</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.state);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">super</span>.render()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿”å›çš„é«˜é˜¶ç»„ä»¶ç±»ï¼ˆEnhancerï¼‰ç»§æ‰¿äº† WrappedComponentã€‚è¿™è¢«å«åšåå‘ç»§æ‰¿æ˜¯å› ä¸º WrappedComponent è¢«åŠ¨åœ°è¢« Enhancer ç»§æ‰¿ï¼Œè€Œä¸æ˜¯ WrappedComponent å»ç»§æ‰¿ Enhancerã€‚é€šè¿‡è¿™ç§æ–¹å¼ä»–ä»¬ä¹‹é—´çš„å…³ç³»å€’è½¬äº†ã€‚</p><p>åå‘ç»§æ‰¿å…è®¸é«˜é˜¶ç»„ä»¶é€šè¿‡ this å…³é”®è¯è·å– WrappedComponentï¼Œæ„å‘³ç€å®ƒå¯ä»¥è·å–åˆ° stateï¼Œpropsï¼Œç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼ˆcomponent lifecycleï¼‰é’©å­ï¼Œä»¥åŠæ¸²æŸ“æ–¹æ³•ï¼ˆrenderï¼‰ã€‚</p><p><strong>å¯ä»¥ç”¨åå‘ç»§æ‰¿é«˜é˜¶ç»„ä»¶åšä»€ä¹ˆï¼Ÿ</strong></p><ul><li>æ¸²æŸ“åŠ«æŒï¼ˆRender Highjackingï¼‰</li><li>æ“ä½œ state</li></ul><h3 id="æ¸²æŸ“åŠ«æŒ"><a href="#æ¸²æŸ“åŠ«æŒ" class="headerlink" title="æ¸²æŸ“åŠ«æŒ"></a>æ¸²æŸ“åŠ«æŒ</h3><p>è¢«å«åšæ¸²æŸ“åŠ«æŒæ˜¯å› ä¸ºé«˜é˜¶ç»„ä»¶æ§åˆ¶äº† WrappedComponent ç”Ÿæˆçš„æ¸²æŸ“ç»“æœï¼Œå¹¶ä¸”å¯ä»¥åšå„ç§æ“ä½œã€‚</p><p>é€šè¿‡æ¸²æŸ“åŠ«æŒä½ å¯ä»¥ï¼š</p><ul><li>ã€è¯»å–ã€æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ã€ä»»ä½•ä¸€ä¸ªå°†è¢«æ¸²æŸ“çš„ React Element çš„ props</li><li>åœ¨æ¸²æŸ“æ–¹æ³•ä¸­è¯»å–æˆ–æ›´æ”¹ React Elements treeï¼Œä¹Ÿå°±æ˜¯ WrappedComponent çš„ children</li><li>æ ¹æ®æ¡ä»¶ä¸åŒï¼Œé€‰æ‹©æ€§çš„æ¸²æŸ“å­æ ‘</li><li>ç»™å­æ ‘é‡Œçš„å…ƒç´ å˜æ›´æ ·å¼</li></ul><p>*æ¸²æŸ“ æŒ‡çš„æ˜¯ WrappedComponent.render æ–¹æ³•</p><blockquote><p>ä½ æ— æ³•æ›´æ”¹æˆ–åˆ›å»º props ç»™ WrappedComponent å®ä¾‹ï¼Œå› ä¸º React ä¸å…è®¸å˜æ›´ä¸€ä¸ªç»„ä»¶æ”¶åˆ°çš„ propsï¼Œä½†æ˜¯ä½ å¯ä»¥åœ¨ render æ–¹æ³•é‡Œæ›´æ”¹å­å…ƒç´ /å­ç»„ä»¶ä»¬çš„ propsã€‚</p></blockquote><p>å°±åƒä¹‹å‰æ‰€è¯´çš„ï¼Œåå‘ç»§æ‰¿çš„é«˜é˜¶ç»„ä»¶ä¸èƒ½ä¿è¯ä¸€å®šæ¸²æŸ“æ•´ä¸ªå­å…ƒç´ æ ‘ï¼Œè¿™åŒæ—¶ä¹Ÿç»™æ¸²æŸ“åŠ«æŒå¢æ·»äº†ä¸€äº›é™åˆ¶ã€‚é€šè¿‡åå‘ç»§æ‰¿ï¼Œä½ åªèƒ½åŠ«æŒ WrappedComponent æ¸²æŸ“çš„å…ƒç´ ï¼Œè¿™æ„å‘³ç€å¦‚æœ WrappedComponent çš„å­å…ƒç´ é‡Œæœ‰ Function ç±»å‹çš„ React Elementï¼Œä½ ä¸èƒ½åŠ«æŒè¿™ä¸ªå…ƒç´ é‡Œé¢çš„å­å…ƒç´ æ ‘çš„æ¸²æŸ“ã€‚</p><p>ä¾‹å­1ï¼šæ¡ä»¶æ€§æ¸²æŸ“ã€‚å¦‚æœ this.props.loggedIn æ˜¯ trueï¼Œè¿™ä¸ªé«˜é˜¶ç»„ä»¶ä¼šåŸå°ä¸åŠ¨åœ°æ¸²æŸ“ WrappedComponentï¼Œå¦‚æœä¸æ˜¯ true åˆ™ä¸æ¸²æŸ“ï¼ˆå‡è®¾æ­¤ç»„ä»¶ä¼šæ”¶åˆ° loggedIn çš„ propï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iiHOC</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">Enhancer</span> <span class="keyword">extends</span> <span class="title">WrappedComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.props.loggedIn) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.render()</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¾‹å­2ï¼šé€šè¿‡ render æ¥å˜æˆ React Elements tree çš„ç»“æœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iiHOC</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">Enhancer</span> <span class="keyword">extends</span> <span class="title">WrappedComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> elementsTree = <span class="built_in">super</span>.render()</span><br><span class="line">      <span class="keyword">let</span> newProps = &#123;&#125;;</span><br><span class="line">      <span class="keyword">if</span> (elementsTree &amp;&amp; elementsTree.type === <span class="string">&#x27;input&#x27;</span>) &#123;</span><br><span class="line">        newProps = &#123;<span class="attr">value</span>: <span class="string">&#x27;may the force be with you&#x27;</span>&#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">const</span> props = <span class="built_in">Object</span>.assign(&#123;&#125;, elementsTree.props, newProps)</span><br><span class="line">      <span class="keyword">const</span> newElementsTree = React.cloneElement(elementsTree, props, elementsTree.props.children)</span><br><span class="line">      <span class="keyword">return</span> newElementsTree</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœ WrappedComponent çš„é¡¶å±‚å…ƒç´ æ˜¯ä¸€ä¸ª inputï¼Œåˆ™æ”¹å˜å®ƒçš„å€¼ä¸º â€œmay the force be with youâ€ã€‚<br>è¿™é‡Œä½ å¯ä»¥åšä»»ä½•æ“ä½œï¼Œæ¯”å¦‚ä½ å¯ä»¥éå†æ•´ä¸ª element tree ç„¶åå˜æ›´æŸäº›å…ƒç´ çš„ propsã€‚è¿™æ°å¥½å°±æ˜¯ Radium çš„å·¥ä½œæ–¹å¼ã€‚</p><blockquote><p>æ³¨æ„ï¼šä½ ä¸èƒ½é€šè¿‡ Props Proxy æ¥åšæ¸²æŸ“åŠ«æŒ<br>å³ä½¿ä½ å¯ä»¥é€šè¿‡ WrappedComponent.prototype.render è·å–å®ƒçš„ render æ–¹æ³•ï¼Œä½ éœ€è¦è‡ªå·±æ‰‹åŠ¨æ¨¡æ‹Ÿæ•´ä¸ªå®ä¾‹ä»¥åŠç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè€Œä¸æ˜¯ä¾é  Reactï¼Œè¿™æ˜¯ä¸å€¼å½“çš„ï¼Œåº”è¯¥ä½¿ç”¨åå‘ç»§æ‰¿æ¥åšåˆ°æ¸²æŸ“åŠ«æŒã€‚è¦è®°ä½ React åœ¨å†…éƒ¨å¤„ç†ç»„ä»¶çš„å®ä¾‹ï¼Œè€Œä½ åªé€šè¿‡ this æˆ– refs æ¥å¤„ç†å®ä¾‹ã€‚</p></blockquote><h3 id="æ“ä½œ-state"><a href="#æ“ä½œ-state" class="headerlink" title="æ“ä½œ state"></a>æ“ä½œ state</h3><p>é«˜é˜¶ç»„ä»¶å¯ä»¥ ã€è¯»å–ã€ä¿®æ”¹ã€åˆ é™¤ã€WrappedComponent å®ä¾‹çš„ stateï¼Œå¦‚æœéœ€è¦ä¹Ÿå¯ä»¥æ·»åŠ æ–°çš„ stateã€‚éœ€è¦è®°ä½çš„æ˜¯ï¼Œä½ åœ¨å¼„ä¹± WrappedComponent çš„ stateï¼Œå¯èƒ½ä¼šå¯¼è‡´ç ´åä¸€äº›ä¸œè¥¿ã€‚é€šå¸¸ä¸å»ºè®®ä½¿ç”¨é«˜é˜¶ç»„ä»¶æ¥è¯»å–æˆ–æ·»åŠ  stateï¼Œæ·»åŠ  state éœ€è¦ä½¿ç”¨å‘½åç©ºé—´æ¥é˜²æ­¢ä¸ WrappedComponent çš„ state å†²çªã€‚</p><p>ä¾‹å­ï¼šé€šè¿‡æ˜¾ç¤º WrappedComponent çš„ props å’Œ state æ¥ debug</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">IIHOCDEBUGGER</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">II</span> <span class="keyword">extends</span> <span class="title">WrappedComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;h2&gt;HOC Debugger Component&lt;/h2&gt;</span><br><span class="line">          &lt;p&gt;Props&lt;<span class="regexp">/p&gt; &lt;pre&gt;&#123;JSON.stringify(this.props, null, 2)&#125;&lt;/</span>pre&gt;</span><br><span class="line">          &lt;p&gt;State&lt;<span class="regexp">/p&gt;&lt;pre&gt;&#123;JSON.stringify(this.state, null, 2)&#125;&lt;/</span>pre&gt;</span><br><span class="line">          &#123;<span class="built_in">super</span>.render()&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="HOCå’ŒMixinçš„æ¯”è¾ƒ"><a href="#HOCå’ŒMixinçš„æ¯”è¾ƒ" class="headerlink" title="HOCå’ŒMixinçš„æ¯”è¾ƒ"></a>HOCå’ŒMixinçš„æ¯”è¾ƒ</h3><p><img data-src="/img/mixin-hoc.png" alt="hocå’ŒMixinæ¯”è¾ƒ"></p><p>é«˜é˜¶ç»„ä»¶å±äºå‡½æ•°å¼ç¼–ç¨‹(functional programming)æ€æƒ³ï¼Œå¯¹äºè¢«åŒ…è£¹çš„ç»„ä»¶æ—¶ä¸ä¼šæ„ŸçŸ¥åˆ°é«˜é˜¶ç»„ä»¶çš„å­˜åœ¨ï¼Œè€Œé«˜é˜¶ç»„ä»¶è¿”å›çš„ç»„ä»¶ä¼šåœ¨åŸæ¥çš„ç»„ä»¶ä¹‹ä¸Šå…·æœ‰åŠŸèƒ½å¢å¼ºçš„æ•ˆæœã€‚è€ŒMixinè¿™ç§æ··å…¥çš„æ¨¡å¼ï¼Œä¼šç»™ç»„ä»¶ä¸æ–­å¢åŠ æ–°çš„æ–¹æ³•å’Œå±æ€§ï¼Œç»„ä»¶æœ¬èº«ä¸ä»…å¯ä»¥æ„ŸçŸ¥ï¼Œç”šè‡³éœ€è¦åšç›¸å…³çš„å¤„ç†(ä¾‹å¦‚å‘½åå†²çªã€çŠ¶æ€ç»´æŠ¤)ï¼Œä¸€æ—¦æ··å…¥çš„æ¨¡å—å˜å¤šæ—¶ï¼Œæ•´ä¸ªç»„ä»¶å°±å˜çš„éš¾ä»¥ç»´æŠ¤ï¼Œä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå¦‚æ­¤å¤šçš„Reactåº“éƒ½é‡‡ç”¨é«˜é˜¶ç»„ä»¶çš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚</p><p>ä½œè€…ï¼šè¯·å«æˆ‘ç‹ç£ŠåŒå­¦<br>é“¾æ¥ï¼š<a href="https://juejin.im/post/5914fb4a0ce4630069d1f3f6">https://juejin.im/post/5914fb4a0ce4630069d1f3f6</a><br>æ¥æºï¼šæ˜é‡‘<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ul><li><p>ç”¨é«˜é˜¶ç»„ä»¶ä¼˜åŒ–ä¹‹å‰è€é¡¹ç›®å†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œæ¯”å¦‚ä¸¤ä¸ªé¡µé¢UIå‡ ä¹ä¸€æ ·ï¼ŒåŠŸèƒ½å‡ ä¹ç›¸åŒï¼Œä»…ä»…å‡ ä¸ªæ“ä½œä¸å¤ªä¸€æ ·ï¼Œå´å†™äº†ä¸¤ä¸ªè€¦åˆå¾ˆå¤šçš„é¡µé¢çº§ç»„ä»¶ã€‚å½“æˆ‘å»ç»´æŠ¤å®ƒçš„æ—¶å€™ï¼Œç”±äºå®ƒçš„è€¦åˆæ€§è¿‡å¤šï¼Œç»å¸¸ä¼šæ·»åŠ ä¸€ä¸ªåŠŸèƒ½(è¿™ä¸¤ä¸ªç»„ä»¶éƒ½è¦æ·»åŠ )ï¼Œæˆ‘è¦å»æ”¹å®Œç¬¬ä¸€ä¸ªçš„æ—¶å€™ï¼Œè¿˜è¦æ”¹ç¬¬äºŒä¸ªã€‚è€Œä¸”æœ‰æ—¶å€™ç”±äºè®°æ€§ä¸å¥½ï¼Œä¼šå¿˜æ‰ç¬¬äºŒä¸ªâ€¦ å°±ä¼šå‡ºç°bugå†è¿”å·¥ã€‚æ‰€ä»¥åŠ æ–°åŠŸèƒ½æ—¶ï¼Œå†™ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œå¾€HOCé‡Œæ·»åŠ æ–¹æ³•ï¼ŒæŠŠé‚£ä¸¤ä¸ªç»„ä»¶åŒ…è£…ä¸€ä¸‹ï¼Œä¹Ÿå°±æ˜¯å±æ€§ä»£ç†ã€‚è¿™æ ·æ–°ä»£ç å°±ä¸ä¼šå†å‡ºç°è€¦åˆï¼Œæ—§çš„é€»è¾‘å¹¶ä¸ä¼šæ”¹å˜</p></li><li><p>å¦ä¸€ç§æƒ…å†µæ˜¯ä¹‹å‰å†™è¿‡ä¸€ä¸ªç»„ä»¶Aï¼Œåšå®Œä¸Šçº¿ï¼Œä¹‹åäº§å“åŠ äº†ä¸€ä¸ªæ–°éœ€æ±‚ï¼Œå¾ˆå¥‡æ€ªè¦åšçš„ç»„ä»¶Bè·ŸAå‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œä½†ç¨å¾®æœ‰åŒºåˆ«ã€‚é‚£æˆ‘å¯èƒ½å°±é€šè¿‡IIçš„æ–¹å¼å»ç»§æ‰¿ä¹‹å‰çš„ç»„ä»¶Aï¼Œæ¯”å¦‚å®ƒåœ¨didMountå»fetchè¯·æ±‚ï¼Œéœ€è¦çš„æ•°æ®æ˜¯ä¸€æ ·çš„ã€‚ä¸åŒçš„åœ°æ–¹æˆ‘å°±ä¼šæ”¾åˆ°HOCé‡Œï¼Œå­˜å‚¨æ–°çš„stateè¿™æ ·ï¼Œå†é€šè¿‡åŠ«æŒæ¸²æŸ“ï¼ŒæŠŠä¸åŒçš„åœ°æ–¹ï¼Œæ·»åŠ çš„åœ°æ–¹è¿›è¡Œå¤„ç†ã€‚ä½†å…¶å®è¿™ç®—Hackçš„ä¸€ç§æ–¹å¼ï¼Œèƒ½å¿«é€Ÿè§£å†³é—®é¢˜ï¼Œä¹Ÿåæ˜ äº†ç»„ä»¶è®¾è®¡è§„åˆ’ä¹‹åˆæœ‰æ‰€ä¸è¶³(åŸå› æ¯”è¾ƒå¤š)ã€‚</p></li><li><p>Containerè§£å†³ä¸äº†çš„æ—¶å€™ç”šè‡³ä¸å¤ªä¼˜é›…çš„æ—¶å€™ã€‚å…¶å®å¤§éƒ¨åˆ†æ—¶å€™åŒ…ä¸€å±‚Containerç»„ä»¶ä¹Ÿèƒ½åšåˆ°å·®ä¸å¤šçš„æ•ˆæœï¼Œæ¯”å¦‚æ“ä½œpropsï¼Œæ¸²æŸ“åŠ«æŒã€‚ä½†å…¶å®è¿˜æ˜¯æœ‰å¾ˆå¤§åŒºåˆ«çš„ã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªåŠŸèƒ½çš„containerï¼Œæ·»åŠ æ ·å¼å’Œæ·»åŠ å¤„ç†å‡½æ•°çš„ï¼Œå¯¹Usualè¿›è¡ŒåŒ…è£…ã€‚æ —å­ï¼š</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//usual</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Usual</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.props, <span class="string">&#x27;props&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> &lt;div&gt;</span><br><span class="line">      Usual</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Usual;</span><br><span class="line"><span class="comment">//console - Object &#123;handleClick: function&#125;  &quot;props&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Usual <span class="keyword">from</span> <span class="string">&#x27;./usual&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StyleContainer</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> &#x27;#<span class="attr">76d0a3</span>&#x27; &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>container<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">Usual</span> &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> StyleContainer;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> StyleContainer <span class="keyword">from</span> <span class="string">&#x27;./container-add-style&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FuncContainer</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">handleClick</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;click&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> props = &#123;</span><br><span class="line">      ...this.props,</span><br><span class="line">      handleClick: <span class="built_in">this</span>.handleClick,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">StyleContainer</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span></span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> FuncContainer;</span><br></pre></td></tr></table></figure><p>å¤–å±‚Containerå¿…é¡»è¦å¼•å…¥å†…å±‚Containerï¼Œè¿›è¡ŒåŒ…è£…ï¼Œè¿˜æœ‰propsçš„ä¼ é€’ï¼ŒåŒæ ·è¦æ³¨æ„åŒ…è£…çš„é¡ºåºã€‚å½“ç„¶ä½ å¯ä»¥æŠŠæ‰€æœ‰çš„å¤„ç†éƒ½æ”¾åˆ°ä¸€ä¸ªContaineré‡Œã€‚é‚£ç”¨HOCæ€ä¹ˆå¤„ç†å‘¢ï¼Œç›¸ä¿¡å¤§å®¶æœ‰æ¸…æ™°çš„ç­”æ¡ˆäº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> addFunc = <span class="function"><span class="params">WrappedComponent</span> =&gt;</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">handleClick</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;click&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> props = &#123;</span><br><span class="line">      ...this.props,</span><br><span class="line">      handleClick: <span class="built_in">this</span>.handleClick,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> addStyle = <span class="function"><span class="params">WrappedComponent</span> =&gt;</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> &#x27;#<span class="attr">76d0a3</span>&#x27; &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> WrappenComponent = addStyle(addFunc(Usual));</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WrappedUsual</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.props, <span class="string">&#x27;props&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> (&lt;div&gt;</span><br><span class="line">      &lt;WrappedComponent /&gt;</span><br><span class="line">    &lt;/div&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶HOCæ˜¯æ›´ä¼˜é›…ä¸€äº›çš„ï¼Œæ¯ä¸ªHOCéƒ½å®šä¹‰è‡ªå·±ç‹¬æœ‰çš„å¤„ç†é€»è¾‘ï¼Œéœ€è¦çš„æ—¶å€™åªéœ€è¦å»åŒ…è£…ä½ çš„ç»„ä»¶ã€‚ç›¸è¾ƒäºContainerçš„æ–¹å¼ï¼ŒHOCè€¦åˆæ€§æ›´ä½ï¼Œçµæ´»æ€§æ›´é«˜ï¼Œå¯ä»¥è‡ªç”±ç»„åˆï¼Œæ›´é€‚åˆåº”ä»˜å¤æ‚çš„ä¸šåŠ¡ã€‚æ¯ä¸ªHOCè´Ÿè´£ç‹¬ç«‹çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å¯èƒ½åªæ˜¯ä¸€ä¸ªLoadingçš„æ•ˆæœï¼Œå¾ˆå¤šåˆ—è¡¨é¡µéƒ½éœ€è¦ï¼Œç”¨HOCåªéœ€è¦åŒ…è£…ä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦åœ¨æ¯ä¸ªç»„ä»¶é‡Œå†é‡å†™è¿™éƒ¨åˆ†é€»è¾‘äº†ã€‚å½“ç„¶å½“ä½ çš„éœ€æ±‚å¾ˆç®€å•çš„æ—¶å€™ï¼Œè¿˜æ˜¯ç”¨Containerå»è‡ªç”±ç»„åˆï¼Œåº”ç”¨åœºæ™¯éœ€è¦ä½ æ¸…æ¥šã€‚</p><h2 id="æ¡ˆä¾‹å­¦ä¹ "><a href="#æ¡ˆä¾‹å­¦ä¹ " class="headerlink" title="æ¡ˆä¾‹å­¦ä¹ "></a>æ¡ˆä¾‹å­¦ä¹ </h2><h3 id="React-Redux"><a href="#React-Redux" class="headerlink" title="React-Redux"></a>React-Redux</h3><p>React-Redux æ˜¯ Redux å®˜æ–¹çš„å¯¹äº React çš„ç»‘å®šã€‚ å…¶ä¸­ä¸€ä¸ªæ–¹æ³• connect å¤„ç†äº†æ‰€æœ‰å…³äºç›‘å¬ store çš„ bootstrap ä»£ç  ä»¥åŠæ¸…ç†å·¥ä½œï¼Œè¿™æ˜¯é€šè¿‡ Props Proxy æ¥å®ç°çš„ã€‚</p><p>å¦‚æœä½ æ›¾ç»ä½¿ç”¨è¿‡ Flux ä½ ä¼šçŸ¥é“ React ç»„ä»¶éœ€è¦å’Œä¸€ä¸ªæˆ–å¤šä¸ª store è¿æ¥ï¼Œå¹¶ä¸”æ·»åŠ /åˆ é™¤å¯¹ store çš„ç›‘å¬ï¼Œä»ä¸­é€‰æ‹©éœ€è¦çš„é‚£éƒ¨åˆ† stateã€‚è€Œ React-Redux å¸®ä½ æŠŠå®ƒä»¬å®ç°äº†ï¼Œè‡ªå·±å°±ä¸ç”¨å†å»å†™è¿™äº›äº†ã€‚</p><h3 id="Radium"><a href="#Radium" class="headerlink" title="Radium"></a>Radium</h3><p>Radium æ˜¯ä¸€ä¸ªå¢å¼ºäº†è¡Œå†…ï¼ˆinlineï¼‰css èƒ½åŠ›çš„åº“ï¼Œå®ƒå…è®¸äº†åœ¨ inline css ä½¿ç”¨ CSS ä¼ªé€‰æ‹©å™¨ã€‚<a href="https://github.com/FormidableLabs/radium">ç‚¹æ­¤</a>äº†è§£å…³äºä½¿ç”¨ inline css çš„å¥½å¤„.</p><p>é‚£ä¹ˆï¼ŒRadium æ˜¯æ€ä¹ˆå…è®¸ inline css æ¥å®ç° CSS ä¼ªé€‰æ‹©å™¨çš„å‘¢ï¼ˆæ¯”å¦‚ hoverï¼‰ï¼Ÿå®ƒå®ç°äº†ä¸€ä¸ªåå‘ç»§æ‰¿æ¥ä½¿ç”¨æ¸²æŸ“åŠ«æŒï¼Œæ·»åŠ é€‚å½“çš„äº‹ä»¶ç›‘å¬æ¥æ¨¡æ‹Ÿ CSS ä¼ªé€‰æ‹©å™¨ã€‚è¿™è¦æ±‚ Radium è¯»å–æ•´ä¸ª WrappedComponent å°†è¦æ¸²æŸ“çš„å…ƒç´ æ ‘ï¼Œæ¯å½“æ‰¾ä¸ªæŸä¸ªå…ƒç´ å¸¦æœ‰ style propï¼Œå®ƒå°±æ·»åŠ å¯¹åº”çš„æ—¶é—´ç›‘å¬ propsã€‚ç®€å•åœ°è¯´ï¼ŒRadium ä¿®æ”¹äº†åŸå…ˆå…ƒç´ æ ‘çš„ propsï¼ˆå®é™…ä¸Šä¼šæ›´å¤æ‚ï¼Œä½†è¿™ä¹ˆè¯´ä½ å¯ä»¥ç†è§£åˆ°è¦ç‚¹æ‰€åœ¨ï¼‰ã€‚</p><p>Radium åªæš´éœ²äº†ä¸€ä¸ªéå¸¸ç®€å•çš„ API ç»™å¼€å‘è€…ã€‚è¿™éå¸¸æƒŠè‰³ï¼Œå› ä¸ºå¼€å‘è€…å‡ ä¹ä¸ä¼šæ³¨æ„åˆ°å®ƒçš„å­˜åœ¨å’Œå®ƒæ˜¯æ€ä¹ˆå‘æŒ¥ä½œç”¨çš„ï¼Œè€Œå®ç°äº†æƒ³è¦çš„åŠŸèƒ½ã€‚è¿™æ­éœ²äº†é«˜é˜¶ç»„ä»¶çš„èƒ½åŠ›ã€‚</p><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><h3 id="é™„å½•A-é«˜é˜¶ç»„ä»¶å’Œå‚æ•°"><a href="#é™„å½•A-é«˜é˜¶ç»„ä»¶å’Œå‚æ•°" class="headerlink" title="é™„å½•A: é«˜é˜¶ç»„ä»¶å’Œå‚æ•°"></a>é™„å½•A: é«˜é˜¶ç»„ä»¶å’Œå‚æ•°</h3><p>æœ‰æ—¶ï¼Œåœ¨é«˜é˜¶ç»„ä»¶ä¸­ä½¿ç”¨å‚æ•°æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚è¿™ä¸ªåœ¨ä»¥ä¸Šæ‰€æœ‰ä¾‹å­ä¸­éƒ½ä¸æ˜¯å¾ˆæ˜æ˜¾ï¼Œä½†æ˜¯å¯¹äºä¸­ç­‰çš„ JavaScript å¼€å‘è€…æ˜¯æ¯”è¾ƒè‡ªç„¶çš„äº‹æƒ…ã€‚è®©æˆ‘ä»¬è¿…é€Ÿçš„ä»‹ç»ä¸€ä¸‹ã€‚</p><p>ä¾‹å­ï¼šä¸€ä¸ªç®€å•çš„ Props Proxy é«˜é˜¶ç»„ä»¶æ­é…å‚æ•°ã€‚é‡ç‚¹æ˜¯è¿™ä¸ª HOCFactoryFactory æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HOCFactoryFactory</span>(<span class="params">...params</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// do something with params</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">HOCFactory</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">HOC</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">      <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.props</span>&#125;/&gt;</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HOCFactoryFactory(params)(WrappedComponent)</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">@HOCFatoryFactory(params)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WrappedComponent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœä¼ å…¥å‚æ•°ï¼Œåˆ™ä¼ å…¥çš„å‚æ•°å°†ä½œä¸ºç»„ä»¶çš„æ ‡é¢˜å‘ˆç°</span></span><br><span class="line">@withHeader(<span class="string">&#x27;Demo&#x27;</span>)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="comment">//...</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>withHead.js æ¥æ”¶å‚æ•°ï¼Œè¿”å›é«˜é˜¶ç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">title</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">HOC</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">      <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &lt;div&gt;</span><br><span class="line">          &lt;div className=<span class="string">&quot;demo-header&quot;</span>&gt;</span><br><span class="line">            &#123;title</span><br><span class="line">              ? title</span><br><span class="line">              : <span class="string">&#x27;æˆ‘æ˜¯æ ‡é¢˜&#x27;</span>&#125;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ES6å†™æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>(title) =&gt; <span class="function">(<span class="params">WrappedComponent</span>) =&gt;</span> <span class="class"><span class="keyword">class</span> <span class="title">HOC</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;div&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;demo-header&quot;</span>&gt;</span><br><span class="line">        &#123;title</span><br><span class="line">          ? title</span><br><span class="line">          : <span class="string">&#x27;æˆ‘æ˜¯æ ‡é¢˜&#x27;</span>&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote></blockquote><pre><code>æŸ¯é‡ŒåŒ– Curryæ¦‚å¿µï¼šåªä¼ é€’å‡½æ•°çš„ä¸€éƒ¨åˆ†å‚æ•°æ¥è°ƒç”¨å®ƒï¼Œè®©å®ƒè¿”å›ä¸€ä¸ªå‡½æ•°å»å¤„ç†å‰©ä¸‹çš„å‚æ•°ã€‚å‡½æ•°ç­¾åï¼šfun(params)(otherParams)åº”ç”¨ï¼šåœ¨Reacté‡Œï¼Œé€šè¿‡æŸ¯é‡ŒåŒ–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥ä¸åŒçš„å‚æ•°æ¥å¾—åˆ°ä¸åŒçš„é«˜é˜¶ç»„ä»¶ã€‚</code></pre><blockquote></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h3 id="é™„å½•-Bï¼šå’Œçˆ¶ç»„ä»¶çš„ä¸åŒä¹‹å¤„"><a href="#é™„å½•-Bï¼šå’Œçˆ¶ç»„ä»¶çš„ä¸åŒä¹‹å¤„" class="headerlink" title="é™„å½• Bï¼šå’Œçˆ¶ç»„ä»¶çš„ä¸åŒä¹‹å¤„"></a>é™„å½• Bï¼šå’Œçˆ¶ç»„ä»¶çš„ä¸åŒä¹‹å¤„</h3><p>çˆ¶ç»„ä»¶å°±æ˜¯å•çº¯çš„ React ç»„ä»¶åŒ…å«äº†ä¸€äº›å­ç»„ä»¶ï¼ˆchildrenï¼‰ã€‚React æä¾›äº†è·å–å’Œæ“ä½œä¸€ä¸ªç»„ä»¶çš„ children çš„ APIsã€‚</p><p>ä¾‹å­ï¼šçˆ¶ç»„ä»¶è·å–å®ƒçš„ children</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;<span class="built_in">this</span>.props.children&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render((</span><br><span class="line">  &lt;Parent&gt;</span><br><span class="line">    &#123;children&#125;</span><br><span class="line">  &lt;/Parent&gt;</span><br><span class="line">), mountNode)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç°åœ¨æ¥æ€»ç»“ä¸€ä¸‹çˆ¶ç»„ä»¶èƒ½åšå’Œä¸èƒ½åšçš„äº‹æƒ…ï¼ˆä¸é«˜é˜¶ç»„ä»¶å¯¹æ¯”ï¼‰ï¼š</p><ul><li>æ¸²æŸ“åŠ«æŒ</li><li>æ“ä½œå†…éƒ¨ props</li><li>æŠ½è±¡ stateã€‚ä½†æ˜¯æœ‰ç¼ºç‚¹ï¼Œä¸èƒ½å†çˆ¶ç»„ä»¶å¤–è·å–åˆ°å®ƒçš„ stateï¼Œé™¤éæ˜ç¡®åœ°å®ç°äº†é’©å­ã€‚</li><li>ä¸æ–°çš„ React Element åŒ…è£…ã€‚è¿™ä¼¼ä¹æ˜¯å”¯ä¸€ä¸€ç‚¹ï¼Œä½¿ç”¨çˆ¶ç»„ä»¶è¦æ¯”é«˜é˜¶ç»„ä»¶å¼ºï¼Œä½†é«˜é˜¶ç»„ä»¶ä¹ŸåŒæ ·å¯ä»¥å®ç°ã€‚</li><li>Children çš„æ“æ§ã€‚å¦‚æœ children ä¸æ˜¯å•ä¸€ rootï¼Œåˆ™éœ€è¦å¤šæ·»åŠ ä¸€å±‚æ¥åŒ…æ‹¬æ‰€æœ‰ childrenï¼Œå¯èƒ½ä¼šä½¿ä½ çš„ markup å˜å¾—æœ‰ç‚¹ç¬¨é‡ã€‚ä½¿ç”¨é«˜é˜¶ç»„ä»¶å¯ä»¥ä¿è¯å•ä¸€ rootã€‚</li><li>çˆ¶ç»„ä»¶å¯ä»¥åœ¨å…ƒç´ æ ‘ç«‹éšæ„ä½¿ç”¨ï¼Œå®ƒä»¬ä¸åƒé«˜é˜¶ç»„ä»¶ä¸€æ ·é™åˆ¶äºä¸€ä¸ªç»„ä»¶ã€‚</li></ul><p>é€šå¸¸æ¥è®²ï¼Œèƒ½ä½¿ç”¨çˆ¶ç»„ä»¶è¾¾åˆ°çš„æ•ˆæœï¼Œå°½é‡ä¸è¦ç”¨é«˜é˜¶ç»„ä»¶ï¼Œå› ä¸ºé«˜é˜¶ç»„ä»¶æ˜¯ä¸€ç§æ›´ hack çš„æ–¹æ³•ï¼Œä½†åŒæ—¶ä¹Ÿæœ‰æ›´é«˜çš„çµæ´»æ€§ã€‚</p><p><strong>é«˜é˜¶ç»„ä»¶ä½œä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥æ›´åŠ çº¯ç²¹åœ°å…³æ³¨ä¸šåŠ¡é€»è¾‘å±‚é¢çš„ä»£ç ï¼Œæ¯”å¦‚æ•°æ®å¤„ç†ï¼Œæ•°æ®æ ¡éªŒï¼Œå‘é€è¯·æ±‚ç­‰ï¼Œå¯ä»¥æ”¹å–„ç›®å‰ä»£ç é‡Œä¸šåŠ¡é€»è¾‘å’ŒUIé€»è¾‘æ··æ‚åœ¨ä¸€èµ·çš„ç°çŠ¶ã€‚çˆ¶ç»„ä»¶åˆ™æ˜¯UIå±‚çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å…ˆå‰ç»å¸¸æŠŠä¸€äº›ä¸šåŠ¡é€»è¾‘å¤„ç†æ”¾åœ¨çˆ¶ç»„ä»¶é‡Œï¼Œè¿™æ ·ä¼šé€ æˆçˆ¶ç»„ä»¶æ··ä¹±çš„æƒ…å†µã€‚ä¸ºäº†ä»£ç è¿›ä¸€æ­¥è§£è€¦ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨é«˜é˜¶ç»„ä»¶è¿™ç§æ¨¡å¼ã€‚</strong></p><h1 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h1><p><a href="https://reactjs.org.cn/doc/higher-order-components.html">åŸæ–‡é“¾æ¥</a></p><h2 id="ä¸è¦æ”¹å˜åŸå§‹ç»„ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨ç»„åˆ"><a href="#ä¸è¦æ”¹å˜åŸå§‹ç»„ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨ç»„åˆ" class="headerlink" title="ä¸è¦æ”¹å˜åŸå§‹ç»„ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨ç»„åˆ"></a>ä¸è¦æ”¹å˜åŸå§‹ç»„ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨ç»„åˆ</h2><p>è¦å¿ä½åœ¨é«˜é˜¶ç»„ä»¶ä¿®æ”¹ç»„ä»¶åŸå‹(æˆ–è€…ä¿®æ”¹å…¶ä»–)çš„å†²åŠ¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logProps</span>(<span class="params">InputComponent</span>) </span>&#123;</span><br><span class="line">  InputComponent.prototype.componentWillReceiveProps(nextProps) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Current props: &#x27;</span>, <span class="built_in">this</span>.props);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Next props: &#x27;</span>, nextProps);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// The fact that we&#x27;re returning the original input is a hint that it has</span></span><br><span class="line">  <span class="comment">// been mutated.</span></span><br><span class="line">  <span class="keyword">return</span> InputComponent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// EnhancedComponent will log whenever props are received</span></span><br><span class="line"><span class="keyword">const</span> EnhancedComponent = logProps(InputComponent);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯è¾“å…¥ç»„ä»¶(InputComponent)ä¸èƒ½è„±ç¦»å¢å¼ºç»„ä»¶åˆ†åˆ«é‡ç”¨ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœå°†å¦ä¸€ä¸ªä¹Ÿä¿®æ”¹componentWillReceivePropsçš„é«˜é˜¶ç»„ä»¶åº”ç”¨äºEnhancedComponentç»„ä»¶ï¼Œç¬¬ä¸€ä¸ªé«˜é˜¶ç»„ä»¶çš„åŠŸèƒ½å°†ä¼šåˆ«è¦†ç›–ã€‚è¿™ä¸ªé«˜é˜¶ç»„ä»¶å¯¹å‡½æ•°ç»„ä»¶ä¸ä¼šèµ·ä½œç”¨ï¼Œå› ä¸ºå‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</p><p>å…·æœ‰ä¿®æ”¹åŠŸèƒ½çš„é«˜é˜¶ç»„ä»¶æ˜¯ä¸€ä¸ªæ¼æ´çš„æŠ½è±¡è¿‡ç¨‹ï¼šç”¨æˆ·å¿…é¡»çŸ¥é“å®ƒæ˜¯æ€ä¹ˆå®ç°çš„ä»è€Œé¿å…ä¸å…¶ä»–é«˜é˜¶ç»„ä»¶çš„å†²çªã€‚</p><h2 id="ç»„åˆå¤šä¸ªé«˜é˜¶ç»„ä»¶"><a href="#ç»„åˆå¤šä¸ªé«˜é˜¶ç»„ä»¶" class="headerlink" title="ç»„åˆå¤šä¸ªé«˜é˜¶ç»„ä»¶"></a>ç»„åˆå¤šä¸ªé«˜é˜¶ç»„ä»¶</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@withHeader</span><br><span class="line">@withLoading</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">Component</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨composeå¯ä»¥ç®€åŒ–ä¸Šè¿°è¿‡ç¨‹ï¼Œä¹Ÿèƒ½ä½“ç°å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> enhance = compose(withHeader,withLoading);</span><br><span class="line">@enhance</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">Component</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç»„åˆ Compose<br>composeå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç»„åˆä»»æ„ä¸ªï¼ˆåŒ…æ‹¬0ä¸ªï¼‰é«˜é˜¶å‡½æ•°ï¼Œä¾‹å¦‚compose(a,b,c)è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°dï¼Œå‡½æ•°dä¾ç„¶æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå…¥å‚ï¼Œåªä¸è¿‡åœ¨å†…éƒ¨ä¼šä¾æ¬¡è°ƒç”¨c,b,aï¼Œä»è¡¨ç°å±‚å¯¹ä½¿ç”¨è€…ä¿æŒé€æ˜ã€‚<br>åŸºäºè¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥éå¸¸ä¾¿æ·åœ°ä¸ºæŸä¸ªç»„ä»¶å¢å¼ºæˆ–å‡å¼±å…¶ç‰¹å¾ï¼Œåªéœ€è¦å»å˜æ›´composeå‡½æ•°é‡Œçš„å‚æ•°ä¸ªæ•°ä¾¿å¯ã€‚<br>composeå‡½æ•°å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œæ¨èå…¶ä¸­ä¸€ä¸ªrecompact.composeï¼Œè¯¦æƒ…è§ä¸‹æ–¹å‚è€ƒç±»åº“ã€‚</p></blockquote><p><strong>ç›¸æ¯”äºä¿®æ”¹ï¼Œé«˜é˜¶ç»„ä»¶æœ€å¥½æ˜¯é€šè¿‡å°†è¾“å…¥ç»„ä»¶åŒ…è£¹åœ¨å®¹å™¨ç»„ä»¶çš„æ–¹å¼æ¥ä½¿ç”¨ç»„åˆ:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logProps</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">componentWillReceiveProps</span>(<span class="params">nextProps</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;Current props: &#x27;</span>, <span class="built_in">this</span>.props);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;Next props: &#x27;</span>, nextProps);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="comment">// Wraps the input component in a container, without mutating it. Good!</span></span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé«˜é˜¶ç»„ä»¶ä¸ä¹‹å‰çš„ä¿®æ”¹åŸå‹çš„ç‰ˆæœ¬æœ‰ç€ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†åˆé¿å…äº†æ½œåœ¨çš„å†²çªå¯èƒ½ã€‚å…¶åœ¨classç±»å‹å’Œå‡½æ•°ç±»å‹çš„ç»„ä»¶éƒ½èµ·ä½œç”¨ã€‚å¹¶ä¸”ï¼Œå› ä¸ºæ˜¯çº¯å‡½æ•°ï¼Œå®ƒå¯ä»¥ä¸å…¶ä»–é«˜é˜¶ç»„ä»¶ï¼Œç”šè‡³æ˜¯è‡ªå·±ç»„åˆã€‚</p><p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°é«˜é˜¶ç»„ä»¶å’Œè¢«ç§°ä¸º<strong>å®¹å™¨ç»„ä»¶</strong>(container components)çš„æ¨¡å¼æœ‰ç›¸åŒä¹‹å¤„ã€‚å®¹å™¨ç»„ä»¶æ˜¯åˆ†ç¦»è´£ä»»ç­–ç•¥çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªåˆ†ç¦»ç­–ç•¥æ˜¯å…³äºé«˜å±‚æ¬¡å’Œä½å±‚æ¬¡å…³æ³¨ç‚¹ä¹‹é—´çš„è´£ä»»åˆ†ç¦»ã€‚å®¹å™¨ç®¡ç†ç€ç±»ä¼¼è®¢é˜…å’ŒçŠ¶æ€è¿™ç±»ä¸œè¥¿ï¼Œå’Œç»™ç»„ä»¶ä¼ é€’å±æ€§æ¥å¤„ç†ç±»ä¼¼æ¸²æŸ“UIè¿™ç±»äº‹æƒ…ã€‚é«˜é˜¶ç»„ä»¶ä½¿ç”¨å®¹å™¨ä½œä¸ºå…¶å®ç°çš„ä¸€éƒ¨åˆ†ã€‚ä½ å¯ä»¥å°†é«˜é˜¶ç»„ä»¶è§†ä¸ºå®šä¹‰å‚æ•°åŒ–å®¹å™¨ç»„ä»¶ã€‚</p><h2 id="çº¦å®š-ç»™åŒ…è£¹ç»„ä»¶ä¼ é€’ä¸ç›¸å…³çš„å±æ€§-Props"><a href="#çº¦å®š-ç»™åŒ…è£¹ç»„ä»¶ä¼ é€’ä¸ç›¸å…³çš„å±æ€§-Props" class="headerlink" title="çº¦å®š: ç»™åŒ…è£¹ç»„ä»¶ä¼ é€’ä¸ç›¸å…³çš„å±æ€§(Props)"></a>çº¦å®š: ç»™åŒ…è£¹ç»„ä»¶ä¼ é€’ä¸ç›¸å…³çš„å±æ€§(Props)</h2><p>é«˜é˜¶ç»„ä»¶å¯ä»¥å‘ç»„ä»¶æ·»åŠ åŠŸèƒ½ã€‚ä»–ä¸åº”è¯¥å¤§å¹…åº¦åœ°æ”¹å˜åŠŸèƒ½ã€‚æœŸæœ›åœ°æ˜¯é«˜é˜¶ç»„ä»¶è¿”å›çš„ç»„ä»¶å’Œè¢«åŒ…è£¹ç»„ä»¶å…·æœ‰ç›¸ä¼¼çš„ç•Œé¢ã€‚</p><p>é«˜é˜¶ç»„ä»¶åº”è¯¥é€šè¿‡propsä¼ é€’é‚£äº›ä¸ç‰¹å®šåŠŸèƒ½æ— å…³çš„ç‰¹æ€§ã€‚å¤§å¤šæ•°çš„é«˜é˜¶ç»„ä»¶åŒ…å«å¦‚ä¸‹çš„renderå‡½æ•°:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="comment">// Filter out extra props that are specific to this HOC and shouldn&#x27;t be</span></span><br><span class="line">  <span class="comment">// passed through</span></span><br><span class="line">  <span class="keyword">const</span> &#123; extraProp, ...passThroughProps &#125; = <span class="built_in">this</span>.props;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Inject props into the wrapped component. These are usually state values or</span></span><br><span class="line">  <span class="comment">// instance methods.</span></span><br><span class="line">  <span class="keyword">const</span> injectedProp = someStateOrInstanceMethod;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Pass props to wrapped component</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;WrappedComponent</span><br><span class="line">      injectedProp=&#123;injectedProp&#125;</span><br><span class="line">      &#123;...passThroughProps&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªçº¦å®šå¸®åŠ©ç¡®å®šé«˜é˜¶ç»„ä»¶èƒ½å¤Ÿè¶³å¤Ÿçµæ´»å’Œå¯ä»¥è¢«é‡ç”¨ã€‚</p><h2 id="çº¦å®š-æœ€å¤§åŒ–ç»„åˆ-Maximizing-Composability"><a href="#çº¦å®š-æœ€å¤§åŒ–ç»„åˆ-Maximizing-Composability" class="headerlink" title="çº¦å®š: æœ€å¤§åŒ–ç»„åˆ(Maximizing Composability)"></a>çº¦å®š: æœ€å¤§åŒ–ç»„åˆ(Maximizing Composability)</h2><p>ä¸æ˜¯æ‰€æœ‰çš„é«˜é˜¶ç»„ä»¶çœ‹èµ·æ¥éƒ½æ˜¯ä¸€æ ·çš„ã€‚æœ‰æ—¶å€™ï¼Œå®ƒæ¥å—åŒ…è£¹ç»„ä»¶ä½œä¸ºå•ä¸€å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> NavbarWithRouter = withRouter(Navbar);</span><br></pre></td></tr></table></figure><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œé«˜é˜¶ç»„ä»¶æ¥å—å…¶ä»–çš„å‚æ•°ã€‚åœ¨Relayè¿™ä¸ªä¾‹å­ä¸­ï¼Œé…ç½®å¯¹è±¡ç”¨æ¥æŒ‡å®šç»„ä»¶çš„æ•°æ®ä¾èµ–å…³ç³»ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CommentWithRelay = Relay.createContainer(Comment, config);</span><br></pre></td></tr></table></figure><p>é«˜é˜¶ç»„ä»¶æœ€å¸¸è§çš„ç­¾åå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// React Redux&#x27;s `connect`</span></span><br><span class="line"><span class="keyword">const</span> ConnectedComment = connect(commentSelector, commentActions)(Comment);</span><br></pre></td></tr></table></figure><p>**ä»€ä¹ˆ?!**ï¼Œå¦‚æœä½ æŠŠå®ƒåˆ†å¼€ï¼Œå°±æ›´å®¹æ˜“çœ‹åˆ°å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// connect is a function that returns another function</span></span><br><span class="line"><span class="keyword">const</span> enhance = connect(commentListSelector, commentListActions);</span><br><span class="line"><span class="comment">// The returned function is an HOC, which returns a component that is connected</span></span><br><span class="line"><span class="comment">// to the Redux store</span></span><br><span class="line"><span class="keyword">const</span> ConnectedComment = enhance(CommentList);</span><br></pre></td></tr></table></figure><p>æ€»çš„æ¥è¯´ï¼Œ<code>connect</code>æ˜¯ä¸€ä¸ªè¿”å›é«˜é˜¶ç»„ä»¶çš„é«˜é˜¶å‡½æ•°ï¼</p><p>è¿™ç§å½¢å¼çœ‹èµ·æ¥æ˜¯æ··ä¹±çš„æˆ–è€…æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å±æ€§ã€‚å•å‚æ•°çš„é«˜é˜¶ç»„ä»¶ç±»ä¼¼äº<code>connect</code>å‡½æ•°æ‰€è¿”å›çš„å‡½æ•°ï¼Œå…¶ç­¾åä¸º<code>Component =&gt; Component</code>ã€‚è¿”å›çš„å‡½æ•°çš„è¾“å‡ºç±»å‹å’Œè¾“å…¥ç±»å‹æ˜¯ç›¸åŒçš„ï¼Œå¾ˆå®¹æ˜“ç›¸äº’ç»„åˆã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Instead of doing this...</span></span><br><span class="line"><span class="keyword">const</span> EnhancedComponent = connect(commentSelector)(withRouter(WrappedComponent))</span><br><span class="line"></span><br><span class="line"><span class="comment">// ... you can use a function composition utility</span></span><br><span class="line"><span class="comment">// compose(f, g, h) is the same as (...args) =&gt; f(g(h(...args)))</span></span><br><span class="line"><span class="keyword">const</span> enhance = compose(</span><br><span class="line">  <span class="comment">// These are both single-argument HOCs</span></span><br><span class="line">  connect(commentSelector),</span><br><span class="line">  withRouter</span><br><span class="line">)</span><br><span class="line"><span class="keyword">const</span> EnhancedComponent = enhance(WrappedComponent)</span><br></pre></td></tr></table></figure><p>(è¿™ä¸ªç›¸åŒçš„å±æ€§è¿˜å…è®¸è¿æ¥å’Œå…¶ä»–å¢å¼ºå‹é«˜é˜¶å±æ€§ä½œä¸ºè£…é¥°å™¨(decorators),è¿™æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„JavaScriptææ¡ˆ)ã€‚</p><p>åŒ…æ‹¬lodash(ä¾‹å¦‚<a href="https://lodash.com/docs/4.17.4#flowRight">lodash.flowRight</a>)ã€<a href="http://redux.js.org/docs/api/compose.html">Redux</a>å’Œ<a href="http://ramdajs.com/docs/#compose">Ramda</a>åœ¨å†…çš„è®¸å¤šç¬¬ä¸‰æ–¹åº“éƒ½æä¾›äº†ç»„åˆå‡½æ•°ã€‚</p><h2 id="çº¦å®š-ä¸ºäº†æ–¹ä¾¿è°ƒè¯•åŒ…è£…æ˜¾ç¤ºåç§°-display-name"><a href="#çº¦å®š-ä¸ºäº†æ–¹ä¾¿è°ƒè¯•åŒ…è£…æ˜¾ç¤ºåç§°-display-name" class="headerlink" title="çº¦å®š:ä¸ºäº†æ–¹ä¾¿è°ƒè¯•åŒ…è£…æ˜¾ç¤ºåç§°(display name)"></a>çº¦å®š:ä¸ºäº†æ–¹ä¾¿è°ƒè¯•åŒ…è£…æ˜¾ç¤ºåç§°(display name)</h2><p>ç”±é«˜é˜¶å±æ€§åˆ›å»ºçš„å®¹å™¨ç»„ä»¶åœ¨Reactå¼€å‘è€…å·¥å…·ä¸­æ˜¾ç¤ºåŒå…¶ä»–çš„ç»„ä»¶ç›¸ä¼¼ã€‚ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ï¼Œé€‰æ‹©ä¸€ä¸ªæ˜¾ç¤ºåç§°(display name)ï¼Œè¡¨ç¤ºå®ƒæ˜¯é«˜é˜¶ç»„ä»¶çš„ç»“æœã€‚</p><p>æœ€å¸¸è§çš„æ–¹æ³•æ˜¯ç»™è¢«åŒ…è£¹å…ƒç´ åŒ…è£¹ä¸€ä¸ªæ˜¾ç¤ºåç§°(display name)ã€‚å› æ­¤ï¼Œå¦‚æœä½ çš„é«˜é˜¶ç»„ä»¶åå­—ä¸º<code>withSubscription</code>ï¼Œè¢«åŒ…è£¹çš„å…ƒç´ åç§°ä¸º<code>CommentList</code>ï¼Œé‚£å°±é€‰æ‹©åç§°ä¸º<code>WithSubscription(CommentList)</code>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">withSubscription</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">WithSubscription</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;<span class="comment">/* ... */</span>&#125;</span><br><span class="line">  WithSubscription.displayName = <span class="string">`WithSubscription(<span class="subst">$&#123;getDisplayName(WrappedComponent)&#125;</span>)`</span>;</span><br><span class="line">  <span class="keyword">return</span> WithSubscription;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDisplayName</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> WrappedComponent.displayName || WrappedComponent.name || <span class="string">&#x27;Component&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è­¦å‘Š"><a href="#è­¦å‘Š" class="headerlink" title="è­¦å‘Š"></a>è­¦å‘Š</h2><p>é«˜é˜¶ç»„ä»¶æœ‰ä»¥ä¸‹å‡ ä¸ªè­¦å‘Šï¼Œå¦‚æœä½ æ˜¯åˆšæ¥è§¦Reactï¼Œè¿™äº›è­¦å‘Šå¯èƒ½ä¸ä¼šç«‹åˆ»å°±è¢«å‘ç°ã€‚</p><h3 id="ä¸è¦åœ¨renderå‡½æ•°ä¸­ä½¿ç”¨é«˜é˜¶ç»„ä»¶"><a href="#ä¸è¦åœ¨renderå‡½æ•°ä¸­ä½¿ç”¨é«˜é˜¶ç»„ä»¶" class="headerlink" title="ä¸è¦åœ¨renderå‡½æ•°ä¸­ä½¿ç”¨é«˜é˜¶ç»„ä»¶"></a>ä¸è¦åœ¨renderå‡½æ•°ä¸­ä½¿ç”¨é«˜é˜¶ç»„ä»¶</h3><p>Reactçš„diffç®—æ³•(åˆç§°ä¸ºreconciliation)ä½¿ç”¨ç»„ä»¶æ ‡è¯†ç¬¦(component identity)æ¥å†³å®šæ˜¯å¦åº”è¯¥æ›´æ–°å·²æœ‰çš„å­æ ‘æˆ–è€…å°†å…¶æŠ›å‡ºå¹¶å®‰è£…ä¸€ä¸ªæ–°çš„å­æ ‘ã€‚å¦‚æœä»renderè¿”å›çš„ç»„ä»¶ç­‰åŒäº(===)ä¹‹å‰renderå‡½æ•°è¿”å›çš„ç»„ä»¶ï¼ŒReactå°†ä¼šè¿­ä»£åœ°é€šè¿‡diffç®—æ³•æ›´æ–°å­æ ‘åˆ°æ–°çš„å­æ ‘ã€‚å¦‚æœä¸ç›¸ç­‰ï¼Œåˆ™å…ˆå‰çš„å­æ ‘å°†ä¼šå®Œå…¨å¸è½½ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦è€ƒè™‘è¿™äº›ã€‚ä½†æ˜¯è¿™å¯¹é«˜é˜¶ç»„ä»¶éå¸¸é‡è¦ï¼Œå› ä¸ºè¿™æ„å‘³ä½ åœ¨ç»„ä»¶çš„renderæ–¹æ³•ä¸­ä¸èƒ½é€šè¿‡é«˜é˜¶ç»„ä»¶äº§ç”Ÿç»„ä»¶:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="comment">// A new version of EnhancedComponent is created on every render</span></span><br><span class="line">  <span class="comment">// EnhancedComponent1 !== EnhancedComponent2</span></span><br><span class="line">  <span class="keyword">const</span> EnhancedComponent = enhance(MyComponent);</span><br><span class="line">  <span class="comment">// That causes the entire subtree to unmount/remount each time!</span></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">EnhancedComponent</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé—®é¢˜ä¸ä»…ä»…å…³ä¹äºæ€§èƒ½ï¼Œå¸è½½ç»„ä»¶ä¼šé€ æˆç»„ä»¶çŠ¶æ€å’Œå…¶å­å…ƒç´ å…¨éƒ¨ä¸¢å¤±ã€‚</p><p>ç›¸ååœ°ï¼Œåœ¨ç»„ä»¶å®šä¹‰å¤–åº”ç”¨é«˜é˜¶ç»„ä»¶ï¼Œä»¥ä¾¿ç”Ÿæˆçš„ç»„ä»¶åªä¼šè¢«åˆ›å»ºä¸€æ¬¡ã€‚ç„¶åï¼Œå®ƒçš„æ ‡è¯†ç¬¦åœ¨æ¯æ¬¡æ¸²æŸ“ä¸­éƒ½æ˜¯ç›¸åŒçš„ã€‚æ— è®ºå¦‚ä½•ï¼Œè¿™æ‰æ˜¯ä½ æƒ³è¦çš„ã€‚</p><p>åœ¨ä¸€äº›æå°‘çš„ä¾‹å­ä¸­ä½ éœ€è¦åŠ¨æ€åœ°å¼•ç”¨é«˜é˜¶ç»„ä»¶ï¼Œä½ å¯ä»¥åœ¨ç»„ä»¶çš„å£°æ˜å‘¨æœŸå‡½æ•°ä¸­ä½¿ç”¨æˆ–è€…åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p><h3 id="é™æ€æ–¹æ³•å¿…é¡»å¤åˆ¶"><a href="#é™æ€æ–¹æ³•å¿…é¡»å¤åˆ¶" class="headerlink" title="é™æ€æ–¹æ³•å¿…é¡»å¤åˆ¶"></a>é™æ€æ–¹æ³•å¿…é¡»å¤åˆ¶</h3><p>æœ‰æ—¶å€™ï¼Œåœ¨Reactç»„ä»·ä¸­å®šä¹‰é™æ€æ–¹æ³•æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä¾‹å¦‚ï¼ŒRelayå®¹å™¨å¯¹å¤–æš´éœ²ä¸€ä¸ªé™æ€æ–¹æ³•<code>getFragment</code>ï¼Œæ¥å¸®åŠ©ç»„åˆGraphQLä»£ç ã€‚</p><p>å½“ä½ å°†ä¸€ä¸ªç»„ä»¶åº”ç”¨äºé«˜é˜¶ç»„ä»¶å¼ï¼Œè™½ç„¶åŸæœ‰çš„ç»„ä»¶è¢«å®¹å™¨ç»„ä»¶æ‰€åŒ…è£¹ï¼Œä½†è¿™ä»¥ä¸ºè¿™æ–°çš„ç»„ä»¶æ²¡æœ‰ä¹‹å‰ç»„ä»¶çš„é™æ€å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define a static method</span></span><br><span class="line">WrappedComponent.staticMethod = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="comment">/*...*/</span>&#125;</span><br><span class="line"><span class="comment">// Now apply an HOC</span></span><br><span class="line"><span class="keyword">const</span> EnhancedComponent = enhance(WrappedComponent);</span><br><span class="line"></span><br><span class="line"><span class="comment">// The enhanced component has no static method</span></span><br><span class="line"><span class="keyword">typeof</span> EnhancedComponent.staticMethod === <span class="string">&#x27;undefined&#x27;</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨è¿”å›ä¹‹å‰ï¼Œå¯ä»¥å‘å®¹å™¨ç»„ä»¶ä¸­å¤åˆ¶åŸæœ‰çš„é™æ€æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">enhance</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Enhance</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;<span class="comment">/*...*/</span>&#125;</span><br><span class="line">  <span class="comment">// Must know exactly which method(s) to copy :(</span></span><br><span class="line">  Enhance.staticMethod = WrappedComponent.staticMethod;</span><br><span class="line">  <span class="keyword">return</span> Enhance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶è€Œï¼Œè¿™éœ€è¦ä½ æ˜ç¡®åœ°çŸ¥é“å“ªäº›æ–¹æ³•éœ€è¦åˆ«å¤åˆ¶ã€‚ä½ å¯ä»¥ä½¿ç”¨<a href="https://github.com/mridgway/hoist-non-react-statics">hoist-non-react-statics</a>æ¥è‡ªåŠ¨å¤åˆ¶éReactçš„é™æ€æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hoistNonReactStatic <span class="keyword">from</span> <span class="string">&#x27;hoist-non-react-statics&#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">enhance</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Enhance</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;<span class="comment">/*...*/</span>&#125;</span><br><span class="line">  hoistNonReactStatic(Enhance, WrappedComponent);</span><br><span class="line">  <span class="keyword">return</span> Enhance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦ä¸€ä¸ªæœ‰æ•ˆçš„æ–¹æ³•æ˜¯å°†é™æ€æ–¹æ³•ä¸ç»„ä»¶æœ¬èº«ç›¸åˆ†ç¦»ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Instead of...</span></span><br><span class="line">MyComponent.someFunction = someFunction;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> MyComponent;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...export the method separately...</span></span><br><span class="line"><span class="keyword">export</span> &#123; someFunction &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...and in the consuming module, import both</span></span><br><span class="line"><span class="keyword">import</span> MyComponent, &#123; someFunction &#125; <span class="keyword">from</span> <span class="string">&#x27;./MyComponent.js&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨composeç»„åˆHOC"><a href="#ä½¿ç”¨composeç»„åˆHOC" class="headerlink" title="ä½¿ç”¨composeç»„åˆHOC"></a>ä½¿ç”¨composeç»„åˆHOC</h3><p>å‡½æ•°å¼ç¼–ç¨‹çš„å¥—è·¯â€¦ ä¾‹å¦‚åº”ç”¨reduxä¸­çš„middlewareä»¥å¢å¼ºåŠŸèƒ½ã€‚redux-middlewareè§£æ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> addFuncHOC = ...</span><br><span class="line"><span class="keyword">const</span> addStyleHOC = ...<span class="comment">//çœç•¥</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> compose = <span class="function">(<span class="params">...funcs</span>) =&gt;</span> <span class="function"><span class="params">component</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (funcs.lenght === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> component;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> last = funcs[funcs.length - <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">return</span> funcs.reduceRight(<span class="function">(<span class="params">res, cur</span>) =&gt;</span> cur(res), last(component));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> WrappedComponent = compose(addFuncHOC, addStyleHOC)(Usual);</span><br></pre></td></tr></table></figure><h1 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h1><h2 id="loadingç»„ä»¶"><a href="#loadingç»„ä»¶" class="headerlink" title="loadingç»„ä»¶"></a>loadingç»„ä»¶</h2><p>å®ç°Loadingç»„ä»¶æ—¶ï¼Œå‘ç°éœ€è¦å»æ‹¦æˆªå®ƒçš„æ¸²æŸ“è¿‡ç¨‹ï¼Œæ•…ä½¿ç”¨äº†åå‘ç»§æ‰¿çš„æ–¹å¼æ¥å®Œæˆã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;Component&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;Spin&#125; <span class="keyword">from</span> <span class="string">&#x27;antd&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">loadingCheck</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">WrappedComponent</span> </span>&#123;</span><br><span class="line">      <span class="function"><span class="title">componentWillUpdate</span>(<span class="params">nextProps, nextState</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;withLoadingå°†ä¼šæ›´æ–°&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (loadingCheck(<span class="built_in">this</span>.props)) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Spin</span> <span class="attr">tip</span>=<span class="string">&quot;åŠ è½½ä¸­&quot;</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            &#123;super.render()&#125;</span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;/<span class="name">Spin</span>&gt;</span></span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">super</span>.render();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line">@withLoading(<span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> props.IndexStore.accountList.length == <span class="number">0</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="å®ç°ä¸€ä¸ªcopyç»„ä»¶"><a href="#å®ç°ä¸€ä¸ªcopyç»„ä»¶" class="headerlink" title="å®ç°ä¸€ä¸ªcopyç»„ä»¶"></a>å®ç°ä¸€ä¸ªcopyç»„ä»¶</h2><p>å®ç°copyç»„ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°ä¸éœ€è¦å»æ”¹å˜ç»„ä»¶å†…éƒ¨çš„å±•ç¤ºæ–¹å¼ï¼Œåªæ˜¯ä¸ºå…¶åœ¨å¤–å›´å¢åŠ ä¸€ä¸ªåŠŸèƒ½ï¼Œå¹¶ä¸ä¼šä¾µå…¥è¢«ä¼ å…¥çš„ç»„ä»¶ï¼Œæ•…ä½¿ç”¨äº†å±æ€§ä»£ç†çš„æ–¹å¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gotem <span class="keyword">from</span> <span class="string">&#x27;gotem&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> React, &#123;Component&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDom <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;message&#125; <span class="keyword">from</span> <span class="string">&#x27;antd&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> copy = <span class="function">(<span class="params">targetName</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">WrappedComponent</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">      <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> ctx = <span class="built_in">this</span>;</span><br><span class="line">        <span class="keyword">const</span> dom = ReactDom.findDOMNode(ctx);</span><br><span class="line">        <span class="keyword">const</span> nodes = &#123;</span><br><span class="line">          trigger: dom,</span><br><span class="line">          <span class="comment">// targetNameä¸ºDOMé€‰æ‹©å™¨ï¼Œå¤åˆ¶ç»„ä»¶å°†ä¼šå¤åˆ¶å®ƒçš„å€¼</span></span><br><span class="line">          target: dom.querySelector(targetName)</span><br><span class="line">        &#125;;</span><br><span class="line">        gotem(nodes.trigger, nodes.target, &#123;</span><br><span class="line">          success: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            message.success(<span class="string">&#x27;å¤åˆ¶æˆåŠŸ&#x27;</span>);</span><br><span class="line">          &#125;,</span><br><span class="line">          error: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            message.error(<span class="string">&#x27;å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨è¾“å…¥&#x27;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.props</span>&#125;/&gt;</span></span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="comment">// ä¼ å…¥ h3 ï¼Œè®©å¤åˆ¶ç»„ä»¶å»è·å–å®ƒçš„å€¼</span></span><br><span class="line">@copy(<span class="string">&#x27;h3&#x27;</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Info</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;</span><br><span class="line">          é˜¿é‡Œäº‘,ç‚¹å‡»å¤åˆ¶è¿™æ®µæ–‡å­—</span><br><span class="line">        &lt;/h3&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="[å‚è€ƒé“¾æ¥]"></a>[å‚è€ƒé“¾æ¥]</h1><p><a href="https://github.com/MrErHu/React-Advanced-Guides-CN/blob/master/doc/Higher%20Order%20Components.md">React è¿›é˜¶ä¹‹é«˜é˜¶ç»„ä»¶</a></p><p><a href="https://www.jianshu.com/p/0aae7d4d9bc1">æ·±å…¥ç†è§£ React é«˜é˜¶ç»„ä»¶</a></p><p><a href="https://github.com/dt-fe/weekly/blob/master/12.%E7%B2%BE%E8%AF%BB%20React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6.md">ç²¾åº¦Reactç»„ä»¶</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rediså®æˆ˜è¯»ä¹¦ç¬”è®°</title>
      <link href="posts/Redis%E5%AE%9E%E6%88%98%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
      <url>posts/Redis%E5%AE%9E%E6%88%98%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="ç›¸å…³æ–‡æ¡£"><a href="#ç›¸å…³æ–‡æ¡£" class="headerlink" title="ç›¸å…³æ–‡æ¡£"></a>ç›¸å…³æ–‡æ¡£</h2><ul><li><a href="https://redis.io/">rediså®˜ç½‘</a></li><li><a href="http://www.redis.cn/download.html">redisä¸­æ–‡ä¸‹è½½å®‰è£…</a></li><li><a href="http://www.redis.cn/documentation.html">redisä¸­æ–‡æ–‡æ¡£</a></li></ul><p>å½“ä½ éœ€è¦ä»¥æ¥è¿‘å®æ—¶çš„é€Ÿåº¦è®¿é—®å¿«é€Ÿå˜åŠ¨çš„æ•°æ®æµæ—¶ï¼ŒRedisè¿™æ ·çš„é”®å€¼æ•°æ®åº“å°±æ˜¯ä½ çš„æœ€ä½³é€‰æ‹©ã€‚</p><a id="more"></a><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ä¸‹è½½ã€è§£å‹ã€ç¼–è¯‘Redis</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget http://download.redis.io/releases/redis-5.0.2.tar.gz</span><br><span class="line">tar xzf redis-5.0.2.tar.gz</span><br><span class="line"><span class="built_in">cd</span> redis-5.0.2</span><br><span class="line">make</span><br></pre></td></tr></table></figure><p>æç¤ºé”™è¯¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun</span><br></pre></td></tr></table></figure><p>è§£å†³, è¾“å…¥ä»¥ä¸‹å‘½ä»¤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure><p>å›è½¦åï¼Œç³»ç»Ÿå¼¹å‡ºä¸‹è½½xcodeï¼Œç‚¹å‡»ç¡®è®¤ï¼Œä¸‹è½½å®Œæˆåå³å¯ã€‚ï¼ˆå®é™…ä¸Šä¸æ˜¯ä¸‹è½½xcodeï¼Œå¯èƒ½ä¸‹è½½xcodeæœ‰å…³æ’ä»¶ï¼Œä¸‹è½½æ—¶é•¿çº¦1åˆ†é’Ÿï¼‰</p><blockquote><p>åœ¨è¿™é‡Œå‘ç”Ÿä¸ªæœ‰è¶£çš„ç°è±¡ï¼Œç›´æ¥æ‹·è´åˆ°ç»ˆç«¯é‡Œæ‰§è¡Œä¼šæŠ¥é”™æ— æ³•è¯†åˆ«å‚æ•°ï¼Œæ‰‹åŠ¨æ•²äº†ä¸€éå¯ä»¥æ‰§è¡ŒğŸ˜¶ğŸ˜³ğŸ˜³</p></blockquote><h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><p>åœ¨rediså®‰è£…ç›®å½•ä¸‹ï¼Œè¿›å…¥srcï¼Œæ‰§è¡Œ<code>./redis-server</code>å¯ä»¥çœ‹åˆ°å¯åŠ¨ç”»é¢</p><p>å¦å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œåœ¨åŒæ ·ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ<code>./redis-cli</code>, è¿æ¥æˆåŠŸã€‚</p><h2 id="å®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤"><a href="#å®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤"></a>å®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤</h2><table><thead><tr><th>å‘½ä»¤</th><th>ç‰ˆæœ¬</th></tr></thead><tbody><tr><td>set key value</td><td>è®¾ç½® key çš„å€¼</td></tr><tr><td>get key</td><td>è·å– key çš„å€¼</td></tr><tr><td>exists key</td><td>æŸ¥çœ‹æ­¤ key æ˜¯å¦å­˜åœ¨</td></tr><tr><td>del key</td><td>åˆ é™¤å­˜å‚¨åœ¨ç»™å®šé”®ä¸­çš„å€¼</td></tr><tr><td>keys *</td><td>æŸ¥çœ‹æ‰€æœ‰çš„ key</td></tr><tr><td>flushall</td><td>æ¶ˆé™¤æ‰€æœ‰çš„ key</td></tr></tbody></table><p>Redisä¸å…¶ä»–è½¯ä»¶çš„ç›¸åŒä¸ä¸åŒ</p><p>Redisæ˜¯ä¸€ä¸ªè¿œç¨‹å†…å­˜æ•°æ®åº“ï¼Œå…·æœ‰å¤åˆ¶ç‰¹æ€§åŠæœªè§£å†³é—®é¢˜è€Œå‡é«˜çš„ç‹¬ä¸€æ— äºŒçš„æ•°æ®æ¨¡å‹ã€‚</p><p>Redisæä¾›äº†5ç§ä¸åŒç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå„ç§é—®é¢˜éƒ½å¯æ˜ å°„åˆ°è¿™äº›æ•°æ®ç»“æ„ã€‚</p><h2 id="redisç®€ä»‹"><a href="#redisç®€ä»‹" class="headerlink" title="redisç®€ä»‹"></a>redisç®€ä»‹</h2><h2 id="redisæ˜¯ä»€ä¹ˆ"><a href="#redisæ˜¯ä»€ä¹ˆ" class="headerlink" title="redisæ˜¯ä»€ä¹ˆ"></a>redisæ˜¯ä»€ä¹ˆ</h2><p>Redis æ˜¯ä¸€ä¸ªé€Ÿåº¦éå¸¸å¿«çš„éå…³ç³»æ•°æ®åº“(non-relational database), å¯ä»¥å­˜å‚¨é”®(key)ä¸5ç§ä¸åŒç±»å‹çš„å€¼ä¹‹é—´çš„æ˜ å°„(mapping), å¯ä»¥å°†å­˜å‚¨åœ¨å†…å­˜çš„é”®å€¼å¯¹æ•°æ®æŒä¹…åŒ–åˆ°ç¡¬ç›˜ï¼Œè¿˜å¯ä»¥é€šè¿‡å¤åˆ¶ï¼ŒæŒä¹…åŒ–å’Œå®¢æˆ·ç«¯åˆ†ç‰‡ç­‰ç‰¹æ€§ï¼Œå¯ä»¥å°†redisæ‰©å±•æˆä¸€ä¸ªèƒ½å¤ŸåŒ…å«æ•°ç™¾GBæ•°æ®ã€æ¯ç§’å¤„ç†ä¸Šç™¾ä¸‡è¯·æ±‚çš„ç³»ç»Ÿã€‚</p><h2 id="redisèƒ½åšä»€ä¹ˆ"><a href="#redisèƒ½åšä»€ä¹ˆ" class="headerlink" title="redisèƒ½åšä»€ä¹ˆ"></a>redisèƒ½åšä»€ä¹ˆ</h2><h2 id="redisæ•°æ®ç»“æ„"><a href="#redisæ•°æ®ç»“æ„" class="headerlink" title="redisæ•°æ®ç»“æ„"></a>redisæ•°æ®ç»“æ„</h2><p>5ç§ç»“æ„<br>|ç»“æ„ç±»å‹|å­˜å‚¨çš„å€¼|è¯»å†™èƒ½åŠ›|<br>|â€”â€”-|â€”â€”-|â€”â€”|<br>|string(å­—ç¬¦ä¸²)|å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•´æ•°æˆ–æµ®ç‚¹æ•°|å¯¹æ•´ä¸ªå­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦ä¸²çš„å…¶ä¸­ä¸€éƒ¨åˆ†æ‰§è¡Œæ“ä½œï¼›å¯¹æ•´æ•°å’Œæµ®ç‚¹æ•°æ‰§è¡Œè‡ªå¢æˆ–è‡ªå‡æ“ä½œ|<br>|list(åˆ—è¡¨)  |ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²|ä»é“¾è¡¨ä¸¤ç«¯æ¨å…¥æˆ–å¼¹å‡ºå…ƒç´ ï¼›æ ¹æ®åç§»é‡å¯¹é“¾è¡¨è¿›è¡Œtrim;è¯»å–å•ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼›æ ¹æ®å€¼æŸ¥æ‰¾æˆ–ç§»é™¤å…ƒç´ |<br>|set(é›†åˆ)   |åŒ…å«å­—ç¬¦ä¸²çš„æ— åºæ”¶é›†å™¨(unordered collection), å¹¶ä¸”è¢«åŒ…å«çš„æ¯ä¸ªå­—ç¬¦ä¸²éƒ½æ˜¯ç‹¬ä¸€æ— äºŒã€å„ä¸ç›¸åŒçš„|æ·»åŠ ã€è·å–ã€ç§»é™¤å•ä¸ªå…ƒç´ ï¼›æ£€æŸ¥ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨ï¼›è®¡ç®—äº¤é›†ï¼Œå¹¶é›†ï¼Œå·®é›†ï¼›ä»é›†åˆé‡Œéšæœºè·å–å…ƒç´ |<br>|hash(æ•£åˆ—)  |åŒ…å«é”®å€¼å¯¹çš„æ— åºæ•£åˆ—è¡¨|æ·»åŠ ã€è·å–ç§»é™¤å•ä¸ªé”®å€¼å¯¹ï¼›è·å–æ‰€æœ‰é”®å€¼å¯¹|<br>|zset(æœ‰åºé›†åˆ)|å­—ç¬¦ä¸²æˆå‘˜(member)ä¸æµ®ç‚¹æ•°åˆ†å€¼(score)ä¹‹é—´çš„æœ‰åºæ˜ å°„ï¼Œå…ƒç´ çš„æ’åˆ—ä¹¦åºæœ‰åˆ†å€¼å¤§å°å†³å®š|æ·»åŠ ã€è·å–ã€ç§»é™¤å•ä¸ªå…ƒç´ ï¼›æ ¹æ®åˆ†å€¼èŒƒå›´(range)æˆ–æˆå‘˜æ¥è·å–å…ƒç´ |</p><h2 id="string"><a href="#string" class="headerlink" title="string"></a>string</h2><p>å½¢å¦‚: <code>hello: world</code></p><p>set, get, del ä½¿ç”¨ç¤ºä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> hello world</span><br><span class="line">get hello</span><br><span class="line">del hello</span><br><span class="line">get hello</span><br></pre></td></tr></table></figure><blockquote><p>å‘½ä»¤è¿”å›1è¡¨ç¤ºæˆåŠŸæ‰§è¡Œï¼Œ 0è¡¨ç¤ºæ‰§è¡Œå¤±è´¥</p></blockquote><h2 id="list-åˆ—è¡¨"><a href="#list-åˆ—è¡¨" class="headerlink" title="list åˆ—è¡¨"></a>list åˆ—è¡¨</h2><p>ä¸€ä¸ªåˆ—è¡¨ç»“æ„å¯ä»¥æœ‰åºçš„å­˜å‚¨å¤šä¸ªå­—ç¬¦ä¸²ï¼Œ<strong>åˆ—è¡¨å¯ä»¥åŒ…å«ç›¸åŒçš„å…ƒç´ </strong><br>å½¢å¦‚: <code>list-key: [item, item2, item]</code></p><p>åˆ—è¡¨å‘½ä»¤<br>|å‘½ä»¤|è¡Œä¸º|<br>|â€”|â€”-|<br>|lpush  |å°†å…ƒç´ æ¨å…¥åˆ—è¡¨å·¦ç«¯(left end)|<br>|rpush  |            â€¦å³ç«¯(right end)|<br>|lpop   |ä»åˆ—è¡¨å·¦ç«¯å¼¹å‡ºå…ƒç´ |<br>|rpop   |ä»å³ç«¯å¼¹å‡ºå…ƒç´   |<br>|lrange key start stop |è·å–åˆ—è¡¨ç»™å®šèŒƒå›´æ‰€æœ‰å€¼, æ”¯æŒè´Ÿç´¢å¼•, -1è¡¨ç¤ºæœ€å³è¾¹ç¬¬ä¸€ä¸ªå…ƒç´ |<br>|llen key| è·å–åˆ—è¡¨ä¸­å…ƒç´ çš„ä¸ªæ•°,æ—¶é—´å¤æ‚åº¦ä¸ºO(1)|<br>|lrem key count value| åˆ é™¤åˆ—è¡¨ä¸­å‰countä¸ªå€¼ä¸ºvalueçš„å…ƒç´ ,è¿”å›å€¼æ˜¯å®é™…åˆ é™¤çš„ä¸ªæ•°|<br>|lindex |è·å–åˆ—è¡¨åœ¨ç»™å®šä½ç½®çš„å•ä¸ªå…ƒç´ |<br>|lset key index value| å°†ç´¢å¼•ä¸ºindexçš„å…ƒç´ èµ‹å€¼ä¸ºvalue|<br>|ltrim key start end| åˆ é™¤æŒ‡å®šç´¢å¼•èŒƒå›´ä¹‹å¤–çš„æ‰€æœ‰å…ƒç´ |<br>|linsert key BEFORE|AFTER pivot value| ä»å·¦å¾€å³æŸ¥æ‰¾å€¼ä¸ºpivotçš„å…ƒç´ ï¼Œæ ¹æ®ç¬¬äºŒä¸ªå‚æ•°æ˜¯beforeè¿˜æ˜¯afteræ¥å†³å®šå°†valueæ’å…¥åˆ°è¯¥å…ƒç´ å‰é¢è¿˜æ˜¯åé¢|<br>|rpoplpush source destination| å°†å…ƒç´ ä»ä¸€ä¸ªåˆ—è¡¨è½¬åˆ°å¦ä¸€ä¸ªåˆ—è¡¨|</p><p>è¯´æ˜:</p><blockquote><p>count &gt; 0, lremä»åˆ—è¡¨å·¦è¾¹å¼€å§‹åˆ é™¤å‰countä¸ªå€¼ä¸ºvalueçš„å…ƒç´ <br>count &lt; 0, lremä»åˆ—è¡¨å³è¾¹å¼€å§‹åˆ é™¤å‰countä¸ªå€¼ä¸ºvalueçš„å…ƒç´ <br>count = 0, lremåˆ é™¤æ‰€æœ‰å€¼ä¸ºvalueçš„å…ƒç´ <br>ltrimå’Œlpushä¸€èµ·ä½¿ç”¨æ¥é™åˆ¶åˆ—è¡¨ä¸­å…ƒç´ çš„æ•°é‡ï¼Œæ¯”å¦‚è®°å½•æ—¥å¿—åªä¿ç•™æœ€è¿‘100æ¡ï¼Œæ¯æ¬¡åŠ å…¥å…ƒç´ æ—¶è°ƒç”¨ä¸€æ¬¡ltrim</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lpush logs <span class="variable">$newLogs</span></span><br><span class="line">ltrim logs 0 99</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">lpush numbers 1</span><br><span class="line"><span class="comment"># æ”¯æŒåŒæ—¶å¢åŠ å¤šä¸ªå…ƒç´ </span></span><br><span class="line">lpush numbers 2 3</span><br><span class="line"><span class="comment"># æ­¤æ—¶æ•°æ®ä¸º[3, 2, 1]</span></span><br><span class="line">rpush numbers 0 -1</span><br><span class="line"><span class="comment"># æ­¤æ—¶æ•°æ®ä¸º[3, 2, 1, 0, -1]</span></span><br><span class="line"></span><br><span class="line">lpop numbers <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line">rpop numbers <span class="comment"># -1</span></span><br><span class="line"></span><br><span class="line">llen numbers <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line">lrange numbers 0 -1 <span class="comment"># è·å–æ‰€æœ‰å…ƒç´ </span></span><br><span class="line"></span><br><span class="line">lrem</span><br><span class="line">lindex list-key 1</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æƒ³æŠŠåˆ—è¡¨å½“æ ˆä½¿ç”¨, ç”¨ <code>lpush</code> å’Œ <code>lpop</code> æˆ– <code>rpush</code>å’Œ <code>rpop</code><br>æƒ³å½“é˜Ÿåˆ—ä½¿ç”¨, ç”¨ <code>lpush</code> å’Œ <code>rpop</code> æˆ– <code>rpush</code> å’Œ <code>lpop</code></p><h2 id="set-é›†åˆ"><a href="#set-é›†åˆ" class="headerlink" title="set é›†åˆ"></a>set é›†åˆ</h2><p>é›†åˆé€šè¿‡æ•£åˆ—è¡¨ä¿è¯è‡ªå·±<strong>å­˜å‚¨çš„æ¯ä¸ªå­—ç¬¦ä¸²æ˜¯å„ä¸ç›¸åŒçš„</strong>(è¿™äº›æ•£åˆ—è¡¨åªæœ‰é”®ï¼Œæ²¡æœ‰ä¸é”®ç›¸å…³è”çš„å€¼)</p><p>é›†åˆä¸åˆ—è¡¨å¯¹æ¯”<br>|å¯¹æ¯”é¡¹|é›†åˆ|æ•£åˆ—|<br>|â€“|â€”-|â€”|<br>|å­˜å‚¨å†…å®¹|è‡³å¤š2(32)-1ä¸ªå­—ç¬¦ä¸²|è‡³å¤š2(32)-1ä¸ªå­—ç¬¦ä¸²|<br>|æœ‰åºæ€§|å¦|æ˜¯|<br>|å”¯ä¸€æ€§|æ˜¯|å¦|</p><p>é›†åˆä½¿ç”¨æ— åº(unordered)æ–¹å¼å­˜å‚¨å…ƒç´ .<br>å½¢å¦‚: <code>setkey: [item, item2, item3]</code></p><p>é›†åˆç±»å‹åœ¨Rediså†…éƒ¨æ˜¯ä½¿ç”¨å€¼ä¸ºç©ºçš„æ•£åˆ—è¡¨(hash table)å®ç°çš„</p><p>å¸¸ç”¨æ“ä½œæ˜¯åŠ å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œåˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨ç­‰ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)</p><p>å¤šä¸ªé›†åˆç±»å‹é”®ä¹‹é—´è¿˜å¯ä»¥è¿›è¡Œå¹¶é›†ï¼Œäº¤é›†å’Œå·®é›†è¿ç®—</p><p>é›†åˆå‘½ä»¤<br>|å‘½ä»¤|è¡Œä¸º|<br>|â€”|â€”-|<br>|sadd       |å°†ç»™å®šå…ƒç´ æ·»åŠ åˆ°é›†åˆ|<br>|smembers   |è¿”å›é›†åˆæ‰€æœ‰å…ƒç´ (æ…¢ï¼Œæ…ç”¨)|<br>|sismember  |æ£€æŸ¥ç»™å®šå…ƒç´ æ˜¯å¦å­˜åœ¨|<br>|srem       |å¦‚æœç»™å®šå…ƒç´ å­˜åœ¨ï¼Œç§»é™¤|</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sadd setkey item</span><br><span class="line">sadd setkey item2</span><br><span class="line">sadd setkey item3</span><br><span class="line">sadd setkey item // å¤±è´¥</span><br><span class="line">smembers setkey</span><br><span class="line">sismember setkey item4</span><br><span class="line">sismember setkey item</span><br><span class="line">srem setkey item2</span><br><span class="line">srem setkey item2</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="hash-æ•£åˆ—"><a href="#hash-æ•£åˆ—" class="headerlink" title="hash æ•£åˆ—"></a>hash æ•£åˆ—</h2><p>æ•£åˆ—å¯ä»¥å­˜å‚¨å¤šä¸ªé”®å€¼å¯¹ä¹‹é—´çš„æ˜ å°„ï¼Œå’Œå­—ç¬¦ä¸²ä¸€æ ·ï¼Œæ—¢å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ•°å­—å€¼ï¼Œå¹¶ä¸”å¯ä»¥å¯¹æ•£åˆ—å­˜å‚¨çš„æ•°å­—å€¼æ‰§è¡Œè‡ªå¢è‡ªå‡æ“ä½œã€‚</p><p>æ•£åˆ—å¾ˆå¤šå½“é¢åƒä¸€ä¸ªå¾®ç¼©ç‰ˆçš„redisï¼Œä¸å°‘å­—ç¬¦ä¸²å‘½ä»¤éƒ½æœ‰ç›¸åº”çš„æ•£åˆ—ç‰ˆæœ¬ã€‚</p><p>å½¢å¦‚ï¼š<code>hashset: [&#123;subkey1: value1&#125;,&#123;subkey2: value2&#125;,&#123;subkey3: value3&#125;,]</code></p><p>æ•£åˆ—å‘½ä»¤<br>|å‘½ä»¤|  è¡Œä¸º|<br>|â€”|â€”â€”|<br>|hset   |åœ¨æ•£åˆ—é‡Œå…³è”ç»™å®šçš„é”®å€¼å¯¹|<br>|hget   |è·å–ç»™å®šæ•£åˆ—é”®çš„å€¼|<br>|hgetall|è·å–æ•£åˆ—æ‰€æœ‰é”®å€¼å¯¹|<br>|hdel   |å¦‚æœé”®å­˜åœ¨ï¼Œç§»é™¤|</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hset hashkey subkey1 value1</span><br><span class="line">hset hashkey subkey2 value2</span><br><span class="line">hset hashkey subkey3 value3</span><br><span class="line">hgetall hashkey</span><br><span class="line">hdel hashkey subkey2</span><br><span class="line">hdel hashkey subkey2</span><br><span class="line">hdel hashkey subkey1</span><br><span class="line">hgetall hashkey</span><br></pre></td></tr></table></figure><h2 id="zset-æœ‰åºé›†åˆ"><a href="#zset-æœ‰åºé›†åˆ" class="headerlink" title="zset æœ‰åºé›†åˆ"></a>zset æœ‰åºé›†åˆ</h2><p>æœ‰åºé›†åˆå’Œæ•£åˆ—ä¸€æ ·ï¼Œéƒ½ç”¨äºå­˜å‚¨é”®å€¼å¯¹ï¼Œæœ‰åºé›†åˆçš„é”®å€¼è¢«ç§°ä¸ºæˆå‘˜(member)ï¼Œæ¯ä¸ªæˆå‘˜éƒ½æ˜¯å„ä¸ç›¸åŒçš„ï¼›<br>è€Œæœ‰åºé›†åˆçš„å€¼è¢«ç§°ä¸ºåˆ†å€¼(score)ï¼Œåˆ†å€¼å¿…é¡»ä¸ºæµ®ç‚¹æ•°ã€‚<br>æœ‰åºé›†åˆæ˜¯Redisé‡Œå”¯ä¸€ä¸€ä¸ªæ—¢å¯ä»¥æ ¹æ®æˆå‘˜è®¿é—®å…ƒç´ ï¼Œåˆå¯ä»¥æ ¹æ®åˆ†å€¼åŠåˆ†å€¼çš„æ’åºé¡ºåºæ¥è®¿é—®å…ƒç´ çš„ç»“æ„</p><p>æœ‰åºé›†åˆå’Œåˆ—è¡¨ç±»å‹åŒºåˆ«</p><p>ç›¸åŒç‚¹:</p><ol><li>éƒ½æ˜¯æœ‰åºçš„</li><li>éƒ½å¯ä»¥è·å¾—æŸä¸€èŒƒå›´çš„å…ƒç´ </li></ol><p>ä¸åŒç‚¹:</p><ol><li>åˆ—è¡¨é€šè¿‡é“¾è¡¨å®ç°ï¼Œè·å–é è¿‘ä¸¤ç«¯çš„æ•°æ®é€Ÿåº¦æå¿«ï¼Œå½“å…ƒç´ å¢å¤šï¼Œè®¿é—®ä¼šå˜æ…¢ï¼Œæ‰€ä»¥æ›´é€‚åˆå®ç°å¦‚â€™æ–°é²œäº‹â€™æˆ–â€™æ—¥å¿—â€™è¿™æ ·å¾ˆå°‘è®¿é—®ä¸­é—´å…ƒç´ çš„åº”ç”¨</li><li>æœ‰åºé›†åˆç±»å‹æ˜¯ä½¿ç”¨æ•£åˆ—è¡¨å’Œè·³è·ƒè¡¨(Skip list)å®ç°çš„ï¼ŒåŠæ—¶è¯»å–ä¸­é—´éƒ¨åˆ†çš„æ•°æ®é€Ÿåº¦ä¹Ÿå¾ˆå¿«(æ—¶é—´å¤æ‚åº¦O(log(N)))</li><li>åˆ—è¡¨ä¸­ä¸èƒ½ç®€å•çš„è°ƒæ•´æŸä¸ªå…ƒç´ çš„ä½ç½®ï¼Œä½†æœ‰åºé›†åˆå¯ä»¥(é€šè¿‡æ›´æ”¹è¿™ä¸ªå…ƒç´ çš„åˆ†æ•°)</li><li>æœ‰åºé›†åˆæ¯”åˆ—è¡¨ç±»å‹æ›´è€—å†…å­˜</li></ol><h3 id="æœ‰åºé›†åˆå‘½ä»¤"><a href="#æœ‰åºé›†åˆå‘½ä»¤" class="headerlink" title="æœ‰åºé›†åˆå‘½ä»¤"></a>æœ‰åºé›†åˆå‘½ä»¤</h3><table><thead><tr><th>å‘½ä»¤</th><th>è¡Œä¸º</th></tr></thead><tbody><tr><td>zadd</td><td>å°†å¸¦æœ‰ç»™å®šåˆ†å€¼çš„æˆå‘˜æ·»åŠ åˆ°æœ‰åºé›†åˆé‡Œ</td></tr><tr><td>zrange</td><td>æ ¹æ®å…ƒç´ åœ¨æœ‰åºæ’åˆ—ä¸­æ‰€å¤„çš„ä½ç½®ï¼Œä»æœ‰åºé›†åˆæè·å–å¤šå°‘ä¸ªå…ƒç´ </td></tr><tr><td>zrangebyscore</td><td>è·å–æœ‰åºé›†åˆåœ¨ç»™å®šåˆ†å€¼èŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ </td></tr><tr><td>zrem</td><td>å¦‚æœç»™å®šæˆå‘˜å­˜åœ¨ï¼Œç§»é™¤</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">zadd zsetkey 728 member1</span><br><span class="line">zadd zsetkey 928 member0</span><br><span class="line">zadd zsetkey 928 member0</span><br><span class="line"></span><br><span class="line">zrange zsetkey 0 -1 withscores</span><br><span class="line">zrangebyscore zsetkey 0 800 withscores</span><br><span class="line"></span><br><span class="line">zrem zsetkey member1</span><br><span class="line">zrem zsetkey member1</span><br><span class="line"></span><br><span class="line">zrange zsetkey 0 -1 withscores</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> redis </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> è¯»ä¹¦ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Webpack åŸºç¡€æ•™ç¨‹</title>
      <link href="posts/Webpack-%E6%88%90%E7%A5%9E%E4%B9%8B%E8%B7%AF/"/>
      <url>posts/Webpack-%E6%88%90%E7%A5%9E%E4%B9%8B%E8%B7%AF/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><blockquote><p>æ…¢æ…¢æ¥ å…¶å®æ¯”è¾ƒå¿«<br> å­¦ä¹ å°½é‡åšåˆ°çŸ¥å…¶ç„¶çŸ¥å…¶æ‰€ä»¥ç„¶</p></blockquote><ul><li><a href="http://jspang.com/post/webpack4x.html">è§†é¢‘æ•™ç¨‹æ¥æº</a><br>è¿™ç¯‡ç¬”è®°æ˜¯jspangæ•™ç¨‹çš„å­¦ä¹ ç¬”è®°</li></ul><h2 id="ç¬¬01èŠ‚ï¼šè®¤è¯†WebPackçš„ä½œç”¨"><a href="#ç¬¬01èŠ‚ï¼šè®¤è¯†WebPackçš„ä½œç”¨" class="headerlink" title="ç¬¬01èŠ‚ï¼šè®¤è¯†WebPackçš„ä½œç”¨"></a>ç¬¬01èŠ‚ï¼šè®¤è¯†WebPackçš„ä½œç”¨</h2><h2 id="ä»€ä¹ˆæ˜¯WebPack"><a href="#ä»€ä¹ˆæ˜¯WebPack" class="headerlink" title="ä»€ä¹ˆæ˜¯WebPack"></a>ä»€ä¹ˆæ˜¯WebPack</h2><blockquote><p>WebPackå¯ä»¥çœ‹åšæ˜¯æ¨¡å—æ‰“åŒ…æœºï¼šå®ƒåšçš„äº‹æƒ…æ˜¯ï¼Œåˆ†æä½ çš„é¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°JavaScriptæ¨¡å—ä»¥åŠå…¶å®ƒçš„ä¸€äº›æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œçš„æ‹“å±•è¯­è¨€ï¼ˆSassï¼ŒTypeScriptç­‰ï¼‰ï¼Œå¹¶å°†å…¶è½¬æ¢å’Œæ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚åœ¨4.0å‡ºç°åï¼ŒWebpackè¿˜è‚©è´Ÿèµ·äº†ä¼˜åŒ–é¡¹ç›®çš„è´£ä»»ã€‚</p></blockquote><h2 id="é‡ç‚¹"><a href="#é‡ç‚¹" class="headerlink" title="é‡ç‚¹"></a>é‡ç‚¹</h2><ol><li>æ‰“åŒ…ï¼šå¯ä»¥æŠŠå¤šä¸ªJavascriptæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›å’Œä¸‹è½½å¸¦å®½ã€‚</li><li>è½¬æ¢ï¼šæŠŠæ‹“å±•è¯­è¨€è½¬æ¢æˆä¸ºæ™®é€šçš„JavaScriptï¼Œè®©æµè§ˆå™¨é¡ºåˆ©è¿è¡Œã€‚</li><li>ä¼˜åŒ–ï¼šå‰ç«¯å˜çš„è¶Šæ¥è¶Šå¤æ‚åï¼Œæ€§èƒ½ä¹Ÿä¼šé‡åˆ°é—®é¢˜ï¼Œè€ŒWebPackä¹Ÿå¼€å§‹è‚©è´Ÿèµ·äº†ä¼˜åŒ–å’Œæå‡æ€§èƒ½çš„è´£ä»»ã€‚</li></ol><a id="more"></a><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h2 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h2><p>å¿…é¡»å…ˆå®‰è£…node(node -væ¥æŸ¥çœ‹nodeå®‰è£…æƒ…å†µå’Œç‰ˆæœ¬)</p><h3 id="å…¨å±€å®‰è£…"><a href="#å…¨å±€å®‰è£…" class="headerlink" title="å…¨å±€å®‰è£…"></a>å…¨å±€å®‰è£…</h3><p>webpackå®˜æ–¹<strong>ä¸æ¨èå…¨å±€å®‰è£…</strong>ã€‚è¿™ä¼šå°†æ‚¨é¡¹ç›®ä¸­çš„ webpack é”å®šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨ä¸åŒçš„ webpack ç‰ˆæœ¬çš„é¡¹ç›®ä¸­ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ„å»ºå¤±è´¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g webpack</span><br></pre></td></tr></table></figure><h3 id="å¯¹é¡¹ç›®ç›®å½•è¿›è¡Œå®‰è£…"><a href="#å¯¹é¡¹ç›®ç›®å½•è¿›è¡Œå®‰è£…" class="headerlink" title="å¯¹é¡¹ç›®ç›®å½•è¿›è¡Œå®‰è£…"></a>å¯¹é¡¹ç›®ç›®å½•è¿›è¡Œå®‰è£…</h3><ol><li>å…ˆå¯¹é¡¹ç›®è¿›è¡Œåˆå§‹åŒ–</li><li>ç„¶ååœ¨é¡¹ç›®ç›®å½•ä¸­è¿›è¡Œå®‰è£…</li><li>ç”¨webpack -v æŸ¥çœ‹ç‰ˆæœ¬</li></ol><blockquote><p>â€“save ä¿å­˜åˆ°package.jsonæ–‡ä»¶ä¸­<br>  dev ä¿å­˜åˆ°å¼€å‘ç¯å¢ƒä¸­è€Œç”Ÿäº§ç¯å¢ƒä¸­ä¸ä½¿ç”¨</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br><span class="line"></span><br><span class="line">npm install --save-dev webpack webpack-cli</span><br><span class="line">npm install --D webpack webpack-cli</span><br><span class="line"><span class="comment"># å®‰è£…æŒ‡å®šç‰ˆæœ¬</span></span><br><span class="line">npm install webpack@4.16.5</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹webpackç‰ˆæœ¬<br><code>npx webpack -v</code></p><h3 id="npx"><a href="#npx" class="headerlink" title="npx"></a>npx</h3><p>è§£å†³çš„ä¸»è¦é—®é¢˜å°±æ˜¯è°ƒç”¨é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—,è¿˜èƒ½é¿å…å…¨å±€å®‰è£…çš„æ¨¡å—</p><p>npx çš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯è¿è¡Œçš„æ—¶å€™ï¼Œä¼šåˆ°node_modules/.binè·¯å¾„å’Œç¯å¢ƒå˜é‡$PATHé‡Œé¢ï¼Œæ£€æŸ¥å‘½ä»¤æ˜¯å¦å­˜åœ¨ã€‚</p><p>ç”±äº npx ä¼šæ£€æŸ¥ç¯å¢ƒå˜é‡$PATHï¼Œæ‰€ä»¥ç³»ç»Ÿå‘½ä»¤ä¹Ÿå¯ä»¥è°ƒç”¨ã€‚</p><p>4.39.3</p><h4 id="å°çŸ¥è¯†"><a href="#å°çŸ¥è¯†" class="headerlink" title="å°çŸ¥è¯†"></a>å°çŸ¥è¯†</h4><p><strong>å¼€å‘ç¯å¢ƒandç”Ÿäº§ç¯å¢ƒï¼š</strong></p><blockquote><p>å¼€å‘ç¯å¢ƒï¼šåœ¨å¼€å‘æ—¶éœ€è¦çš„ç¯å¢ƒï¼Œè¿™é‡ŒæŒ‡åœ¨å¼€å‘æ—¶éœ€è¦ä¾èµ–çš„åŒ…ã€‚<br>ç”Ÿäº§ç¯å¢ƒï¼šç¨‹åºå¼€å‘å®Œæˆï¼Œå¼€å§‹è¿è¡Œåçš„ç¯å¢ƒï¼Œè¿™é‡ŒæŒ‡è¦ä½¿é¡¹ç›®è¿è¡Œï¼Œæ‰€éœ€è¦çš„ä¾èµ–åŒ…ã€‚</p></blockquote><h2 id="ç¬¬äºŒèŠ‚-å¿«é€Ÿä¸Šæ‰‹ä¸€ä¸ªDemo"><a href="#ç¬¬äºŒèŠ‚-å¿«é€Ÿä¸Šæ‰‹ä¸€ä¸ªDemo" class="headerlink" title="ç¬¬äºŒèŠ‚ å¿«é€Ÿä¸Šæ‰‹ä¸€ä¸ªDemo"></a>ç¬¬äºŒèŠ‚ å¿«é€Ÿä¸Šæ‰‹ä¸€ä¸ªDemo</h2><h2 id="å»ºç«‹åŸºæœ¬é¡¹ç›®ç»“æ„"><a href="#å»ºç«‹åŸºæœ¬é¡¹ç›®ç»“æ„" class="headerlink" title="å»ºç«‹åŸºæœ¬é¡¹ç›®ç»“æ„"></a>å»ºç«‹åŸºæœ¬é¡¹ç›®ç»“æ„</h2><p>åˆ›å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•ï¼Œè¿›å…¥ååœ¨æ ¹ç›®å½•å»ºç«‹ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«æ˜¯srcæ–‡ä»¶å¤¹å’Œdistæ–‡ä»¶å¤¹ï¼š</p><blockquote><p>srcæ–‡ä»¶å¤¹ï¼šç”¨æ¥å­˜æ”¾æˆ‘ä»¬ç¼–å†™çš„javascriptä»£ç (æºä»£ç )<br>distæ–‡ä»¶å¤¹ï¼šç”¨æ¥å­˜æ”¾ä¾›æµè§ˆå™¨è¯»å–çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯webpackæ‰“åŒ…æˆçš„æ–‡ä»¶ã€‚</p></blockquote><ol><li><p>åœ¨distä¸­æ–°å»ºindex.html</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>webpack tutorials<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>åœ¨srcä¸­æ–°å»ºentry.js</p></li></ol><p>src/entery.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;title&#x27;</span>).innerHTML=<span class="string">&#x27;Hello Webpack&#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªæ–‡ä»¶çš„ä»£ç å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨&lt;div id=â€titleâ€&gt;&lt;/div&gt;æ ‡ç­¾é‡Œå†™å…¥Hello Webpackè¿™å¥è¯ã€‚</p></blockquote><h3 id="ç¬¬ä¸€æ¬¡Webpackæ‰“åŒ…"><a href="#ç¬¬ä¸€æ¬¡Webpackæ‰“åŒ…" class="headerlink" title="ç¬¬ä¸€æ¬¡Webpackæ‰“åŒ…"></a>ç¬¬ä¸€æ¬¡Webpackæ‰“åŒ…</h3><p>åœ¨ç»ˆç«¯ä¸­ç”¨å‘½ä»¤è¡Œæ‰“åŒ…ã€‚ è¯­æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack &#123;entry file&#125; &#123;destination <span class="keyword">for</span> bundled file&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack src/entry.js dist/bundle.js</span><br></pre></td></tr></table></figure><p>æ‰§è¡ŒæˆåŠŸåï¼Œä¼šåœ¨distæ–‡ä»¶å¤¹ä¸­å‡ºç°bundle.js,ç”¨æµè§ˆå™¨æŸ¥çœ‹index.htmlå¯ä»¥æŸ¥çœ‹æ•ˆæœ</p><h2 id="æ€»ç»“-ç¬¬2èŠ‚"><a href="#æ€»ç»“-ç¬¬2èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬2èŠ‚"></a>æ€»ç»“-ç¬¬2èŠ‚</h2><p>ä»è¿™ä¸ªDemoä¸­ä½ ä¼šäº†è§£åˆ°webpackçš„åŸºæœ¬ç”¨æ³•å’Œä½¿ç”¨è¿‡ç¨‹ï¼Œ</p><p>å¹¶å­¦ä¼šäº†å‘½ä»¤è¡Œæ‰“åŒ…çš„æ–¹æ³•ã€‚</p><p>åœ¨è¿™èŠ‚æ–‡ç« çš„æœ€åï¼Œè¿˜æ˜¯è¦å¼ºè°ƒï¼Œä½ ä¸€å®šè¦æŠŠæœ¬èŠ‚å†…å®¹åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šæ•²ä¸€éï¼Œè¿™æ ·ä½ æ‰èƒ½æ·±å…¥äº†è§£ã€‚</p><h2 id="åœ¨æµè§ˆå™¨ä¸­ç”¨live-serverè®¿é—®æ–‡ä»¶"><a href="#åœ¨æµè§ˆå™¨ä¸­ç”¨live-serverè®¿é—®æ–‡ä»¶" class="headerlink" title="åœ¨æµè§ˆå™¨ä¸­ç”¨live-serverè®¿é—®æ–‡ä»¶"></a>åœ¨æµè§ˆå™¨ä¸­ç”¨live-serverè®¿é—®æ–‡ä»¶</h2><h3 id="ç”¨å‘½ä»¤è¡Œ"><a href="#ç”¨å‘½ä»¤è¡Œ" class="headerlink" title="ç”¨å‘½ä»¤è¡Œ"></a>ç”¨å‘½ä»¤è¡Œ</h3><ol><li><p>å®‰è£…live-server</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g live-server</span><br></pre></td></tr></table></figure></li><li><p>åœ¨è¯¥é¡¹ç›®ä¸­ç”¨å‘½ä»¤è¡Œ</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">live-server</span><br></pre></td></tr></table></figure><p>å³å¯åœ¨æµè§ˆå™¨ä¸­è®¿é—®æ–‡ä»¶</p><h3 id="ç”¨webpackçš„scriptså‘½ä»¤å°è£…"><a href="#ç”¨webpackçš„scriptså‘½ä»¤å°è£…" class="headerlink" title="ç”¨webpackçš„scriptså‘½ä»¤å°è£…"></a>ç”¨webpackçš„scriptså‘½ä»¤å°è£…</h3><ol><li><p>åœ¨package.jsonçš„scriptsä¸­</p> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">&quot;server&quot;: &quot;live-server ./ --port=9090&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œ</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run server</span><br></pre></td></tr></table></figure><h2 id="ç¬¬03èŠ‚ï¼šé…ç½®æ–‡ä»¶ï¼šå…¥å£å’Œå‡ºå£"><a href="#ç¬¬03èŠ‚ï¼šé…ç½®æ–‡ä»¶ï¼šå…¥å£å’Œå‡ºå£" class="headerlink" title="ç¬¬03èŠ‚ï¼šé…ç½®æ–‡ä»¶ï¼šå…¥å£å’Œå‡ºå£"></a>ç¬¬03èŠ‚ï¼šé…ç½®æ–‡ä»¶ï¼šå…¥å£å’Œå‡ºå£</h2><p>è¿™èŠ‚è¯¾æˆ‘ä»¬å°±å­¦ä¹ é…ç½®æ–‡ä»¶çš„å¤§ä½“ç»“æ„å’Œå…¥å£å‡ºå£æ–‡ä»¶çš„é…ç½®ã€‚</p><h2 id="é…ç½®æ–‡ä»¶webpack-config-js"><a href="#é…ç½®æ–‡ä»¶webpack-config-js" class="headerlink" title="é…ç½®æ–‡ä»¶webpack.config.js"></a>é…ç½®æ–‡ä»¶webpack.config.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// å…¥å£æ–‡ä»¶</span></span><br><span class="line">    entry: &#123;&#125;,</span><br><span class="line">    <span class="comment">// å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹</span></span><br><span class="line">    output: &#123;&#125;,</span><br><span class="line">    <span class="comment">// æ¨¡å—,ä¾‹å¦‚ç¼–è¯‘css,js,è½¬æ¢å›¾ç‰‡ï¼Œå‹ç¼©ï¼Œåˆå¹¶</span></span><br><span class="line">    <span class="built_in">module</span>: &#123;&#125;,</span><br><span class="line">    <span class="comment">// æ’ä»¶ï¼Œç”¨äºç”Ÿäº§æ¨¡æ¿å’Œå„é¡¹åŠŸèƒ½</span></span><br><span class="line">    plugins: [],</span><br><span class="line">    <span class="comment">// é…ç½®webpackå¼€å‘æœåŠ¡åŠŸèƒ½</span></span><br><span class="line">    devServer: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>entryï¼šé…ç½®å…¥å£æ–‡ä»¶çš„åœ°å€ï¼Œå¯ä»¥æ˜¯å•ä¸€å…¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šå…¥å£ã€‚<br>outputï¼šé…ç½®å‡ºå£æ–‡ä»¶çš„åœ°å€ï¼Œåœ¨webpack2.Xç‰ˆæœ¬åï¼Œæ”¯æŒå¤šå‡ºå£é…ç½®ã€‚<br>moduleï¼šé…ç½®æ¨¡å—ï¼Œä¸»è¦æ˜¯è§£æCSSå’Œå›¾ç‰‡è½¬æ¢å‹ç¼©ç­‰åŠŸèƒ½ã€‚<br>pluginsï¼šé…ç½®æ’ä»¶ï¼Œæ ¹æ®ä½ çš„éœ€è¦é…ç½®ä¸åŒåŠŸèƒ½çš„æ’ä»¶ã€‚<br>devServerï¼šé…ç½®å¼€å‘æœåŠ¡åŠŸèƒ½ã€‚</p></blockquote><h2 id="entryé€‰é¡¹ï¼ˆå…¥å£é…ç½®ï¼‰"><a href="#entryé€‰é¡¹ï¼ˆå…¥å£é…ç½®ï¼‰" class="headerlink" title="entryé€‰é¡¹ï¼ˆå…¥å£é…ç½®ï¼‰"></a>entryé€‰é¡¹ï¼ˆå…¥å£é…ç½®ï¼‰</h2><p>é…ç½®è¦å‹ç¼©çš„æ–‡ä»¶ã€‚ä¸€èˆ¬æ˜¯JavaScriptï¼Œä¹Ÿå¯ä»¥æ˜¯CSSæ–‡ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¥å£æ–‡ä»¶é…ç½®</span></span><br><span class="line">entry: &#123;</span><br><span class="line">    <span class="comment">// é‡Œé¢çš„entryå¯ä»¥éšä¾¿èµ·åå­—ï¼Œå¤–é¢çš„æ˜¯å›ºå®šçš„</span></span><br><span class="line">    entry: <span class="string">&#x27;./src/entry.js&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="output-å‡ºå£é…ç½®"><a href="#output-å‡ºå£é…ç½®" class="headerlink" title="output(å‡ºå£é…ç½®)"></a>output(å‡ºå£é…ç½®)</h2><p>é…ç½®webpackæœ€åæ‰“åŒ…æ–‡ä»¶çš„åœ°å€å’Œåç§°ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡ºå£æ–‡ä»¶é…ç½®</span></span><br><span class="line">output: &#123;</span><br><span class="line">    <span class="comment">// æ‰“åŒ…çš„æ–‡ä»¶ä½ç½®</span></span><br><span class="line">    path: path.resolve(__dirname, &#x27;dist&#x27;),</span><br><span class="line">    <span class="comment">// æ‰“åŒ…çš„æ–‡ä»¶åç§°</span></span><br><span class="line">    filename: &#x27;bundle.js&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦åœ¨webpack.config.jså¤´éƒ¨å¼•å…¥path</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br></pre></td></tr></table></figure><blockquote><p>path.resolve(__dirname, â€˜distâ€™) è·å–é¡¹ç›®çš„ç»å¯¹è·¯å¾„<br>filename: æ‰“åŒ…åçš„æ–‡ä»¶åç§°ã€‚</p></blockquote><h3 id="webpackå•æ–‡ä»¶å…¥å£é…ç½®ä»£ç "><a href="#webpackå•æ–‡ä»¶å…¥å£é…ç½®ä»£ç " class="headerlink" title="webpackå•æ–‡ä»¶å…¥å£é…ç½®ä»£ç "></a>webpackå•æ–‡ä»¶å…¥å£é…ç½®ä»£ç </h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// å…¥å£æ–‡ä»¶</span></span><br><span class="line">    entry: <span class="string">&#x27;./src/entry.js&#x27;</span>,</span><br><span class="line">    <span class="comment">// å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">        filename: <span class="string">&#x27;bundle.js&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// æ¨¡å—,ä¾‹å¦‚ç¼–è¯‘css,js,è½¬æ¢å›¾ç‰‡ï¼Œå‹ç¼©ï¼Œåˆå¹¶</span></span><br><span class="line">    <span class="built_in">module</span>: &#123;&#125;,</span><br><span class="line">    <span class="comment">// æ’ä»¶ï¼Œç”¨äºç”Ÿäº§æ¨¡æ¿å’Œå„é¡¹åŠŸèƒ½</span></span><br><span class="line">    plugins: [],</span><br><span class="line">    <span class="comment">// é…ç½®webpackå¼€å‘æœåŠ¡åŠŸèƒ½</span></span><br><span class="line">    devServer: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆåï¼Œåœ¨ç»ˆç«¯ç›´æ¥è¾“å…¥webpackå°±ä¼šæ‰“åŒ…</p><h2 id="å¤šå…¥å£ã€å¤šå‡ºå£é…ç½®"><a href="#å¤šå…¥å£ã€å¤šå‡ºå£é…ç½®" class="headerlink" title="å¤šå…¥å£ã€å¤šå‡ºå£é…ç½®"></a>å¤šå…¥å£ã€å¤šå‡ºå£é…ç½®</h2><p>åœ¨entryé…ç½®å¤šä¸ªæ–‡ä»¶ï¼Œ</p><p>åœ¨outputå¤„é…ç½®æ–‡ä»¶åä¸ºåŠ¨æ€çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// å…¥å£æ–‡ä»¶</span></span><br><span class="line">    entry: &#123;</span><br><span class="line">        entry: <span class="string">&#x27;./src/entry.js&#x27;</span>,</span><br><span class="line">        entry2: <span class="string">&#x27;./src/entry2.js&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        <span class="comment">// è¾“å‡ºçš„è·¯å¾„</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">        publicPath: <span class="string">&#x27;http://www.cdn.com/assets/&#x27;</span>,</span><br><span class="line">        <span class="comment">// è¾“å‡ºæ–‡ä»¶çš„åç§°</span></span><br><span class="line">        filename: <span class="string">&#x27;[name].js&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// æ¨¡å—,ä¾‹å¦‚ç¼–è¯‘css,js,è½¬æ¢å›¾ç‰‡ï¼Œå‹ç¼©ï¼Œåˆå¹¶</span></span><br><span class="line">    <span class="built_in">module</span>: &#123;&#125;,</span><br><span class="line">    <span class="comment">// æ’ä»¶ï¼Œç”¨äºç”Ÿäº§æ¨¡æ¿å’Œå„é¡¹åŠŸèƒ½</span></span><br><span class="line">    plugins: [],</span><br><span class="line">    <span class="comment">// é…ç½®webpackå¼€å‘æœåŠ¡åŠŸèƒ½</span></span><br><span class="line">    devServer: &#123;&#125;,</span><br><span class="line">    mode: <span class="string">&#x27;production&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>[mode]: webpackä¸­æ–°å¢çš„é…ç½®ï¼Œåˆ†ä¸ºå¼€å‘ï¼Œçº¿ä¸Šã€‚å¯ä»¥åœ¨å‘½ä»¤è¡Œåé¢æ·»åŠ å¦‚: <code>webpack --mode=development</code><br>[publicPath]: è‡ªåŠ¨å°†cdnè·¯å¾„æ·»åŠ åˆ°ä»£ç é‡Œçš„èµ„æºé“¾æ¥ä¸Š<br>[plugin]: å¯ä»¥åœ¨webpackè¿è¡Œåˆ°æŸä¸ªæ—¶åˆ»æ—¶ï¼Œå¸®ä½ åšä¸€äº›äº‹æƒ…<br>[name]ï¼š æ ¹æ®å…¥å£æ–‡ä»¶çš„åç§°ï¼Œæ‰“åŒ…æˆç›¸åŒçš„åç§°ï¼Œæœ‰å‡ ä¸ªå…¥å£æ–‡ä»¶ï¼Œå°±æ‰“åŒ…æˆå‡ ä¸ªæ–‡ä»¶ã€‚</p><h2 id="æ€»ç»“-ç¬¬3èŠ‚"><a href="#æ€»ç»“-ç¬¬3èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬3èŠ‚"></a>æ€»ç»“-ç¬¬3èŠ‚</h2><p>ä»»ä½•é¡¹ç›®çš„webpackéƒ½è¦æ‰§è¡Œè¿™äº›æ“ä½œã€‚éœ€è¦ç‰¢è®°</p><blockquote><p>å°çŸ¥è¯†</p></blockquote><ol><li>è°ƒè¯•jsæ–‡ä»¶</li></ol><p>åœ¨jsä¸­å†™console.log()</p><p>ç›´æ¥åœ¨å‘½ä»¤è¡Œ</p><p>node index.jsï¼Œ</p><p>å³å¯åœ¨ç»ˆç«¯æŸ¥çœ‹æ‰“å°å†…å®¹</p><h2 id="ç¬¬4èŠ‚ï¼š-é…ç½®æ–‡ä»¶ï¼šæœåŠ¡å’Œçƒ­æ›´æ–°"><a href="#ç¬¬4èŠ‚ï¼š-é…ç½®æ–‡ä»¶ï¼šæœåŠ¡å’Œçƒ­æ›´æ–°" class="headerlink" title="ç¬¬4èŠ‚ï¼š é…ç½®æ–‡ä»¶ï¼šæœåŠ¡å’Œçƒ­æ›´æ–°"></a>ç¬¬4èŠ‚ï¼š é…ç½®æ–‡ä»¶ï¼šæœåŠ¡å’Œçƒ­æ›´æ–°</h2><p>çƒ­æ›´æ–°ï¼šæ‰€è§å³æ‰€å¾—</p><h2 id="è®¾ç½®webpack-dev-server"><a href="#è®¾ç½®webpack-dev-server" class="headerlink" title="è®¾ç½®webpack-dev-server"></a>è®¾ç½®webpack-dev-server</h2><ol><li>å…ˆå®‰è£…webpack-dev-server</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-dev-server --save-dev</span><br></pre></td></tr></table></figure><ol><li>é…ç½®devServer</li></ol><p>webpack.config.js</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®åŸºæœ¬ç›®å½•ç»“æ„</span></span><br><span class="line">    contentBase: path.resolve(__dirname, &#x27;dist&#x27;),</span><br><span class="line">    <span class="comment">// æœåŠ¡å™¨çš„IPåœ°å€ï¼Œå¯ä»¥æ˜¯IPä¹Ÿå¯ä»¥æ˜¯localhost</span></span><br><span class="line">    host: &#x27;localhost&#x27;,</span><br><span class="line">    <span class="comment">// æœåŠ¡ç«¯å‹ç¼©æ˜¯å¦å¼€å¯</span></span><br><span class="line">    compress: true,</span><br><span class="line">    <span class="comment">// é…ç½®æœåŠ¡ç«¯å£</span></span><br><span class="line">    port: 8089,</span><br><span class="line">    <span class="comment">// é»˜è®¤æ‰“å¼€æµè§ˆå™¨ï¼Œå¯ä»¥ç”¨å­—ç¬¦ä¸²ä»£æ›¿ç”¨å“ªä¸ªæµè§ˆå™¨æ‰“å¼€. &#x27;Google Chrome&#x27;, å¯ä»¥ä»£æ›¿--open</span></span><br><span class="line">    open: true,</span><br><span class="line">    <span class="comment">// è·¯ç”±ä»£ç†æ‰“åˆ°å‰ç«¯æ¡†æ¶</span></span><br><span class="line">    historyApiFallback: true,</span><br><span class="line">    <span class="comment">// å¼€å¯hotModuleReplace</span></span><br><span class="line">    hot: true,</span><br><span class="line">    <span class="comment">// å¦‚æœæ‰“åŒ…æŠ¥é”™ï¼Œç›´æ¥åœ¨é¡µé¢ä¸Šå±•ç¤ºé”™è¯¯ï¼Œè€Œä¸æ˜¯åœ¨ç»ˆç«¯å±•ç¤ºé”™è¯¯</span></span><br><span class="line">    overlay: true,</span><br><span class="line">    proxy: &#123;</span><br><span class="line">        &#x27;/api&#x27;: &#x27;http://localhost:3000&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>é…ç½®scripts</li></ol><p>package.json</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;server&quot;: &quot;webpack-dev-server --open&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><h3 id="åœ¨è¿™é‡Œç›´æ¥è®¾ç½®-â€“openå³å¯è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨"><a href="#åœ¨è¿™é‡Œç›´æ¥è®¾ç½®-â€“openå³å¯è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨" class="headerlink" title="åœ¨è¿™é‡Œç›´æ¥è®¾ç½® â€“openå³å¯è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨"></a>åœ¨è¿™é‡Œç›´æ¥è®¾ç½® â€“openå³å¯è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</h3><ol><li>åœ¨ç»ˆç«¯é‡Œè¾“å…¥npm run server æ‰“å¼€æœåŠ¡å™¨ï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥<a href="http://localhost:8089/">http://localhost:8089</a>å³å¯çœ‹åˆ°ç»“æœ</li></ol><h3 id="historyApiFallback"><a href="#historyApiFallback" class="headerlink" title="historyApiFallback"></a>historyApiFallback</h3><p>webpackä¸é…ç½®è¿™ä¸ªçš„è¯ï¼Œæ­£å¸¸çš„reactè¯·æ±‚ä¼šç›´æ¥è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œä¸ä¼šèµ°reactå†…éƒ¨çš„è·¯ç”±</p><p><a href="https://www.webpackjs.com/configuration/dev-server/#devserver-historyapifallback">historyApiFallback</a>å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜</p><p>TODO<br>åˆ°äº†çº¿ä¸Šè¦é…ç½®NGINXï¼Œè®©è·¯ç”±æ‰“åˆ°é¡¹ç›®é‡Œ</p><h2 id="æ”¯æŒçƒ­æ›´æ–°"><a href="#æ”¯æŒçƒ­æ›´æ–°" class="headerlink" title="æ”¯æŒçƒ­æ›´æ–°"></a>æ”¯æŒçƒ­æ›´æ–°</h2><p>npm run server å¯åŠ¨åï¼Œæœ‰ä¸€ç§ç›‘æ§æœºåˆ¶(watch), ç›‘æ§ä¿®æ”¹æºç ï¼Œå¹¶ç«‹å³åœ¨æµè§ˆå™¨é‡Œæ›´æ–°ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šwebpack 3.6ç‰ˆæœ¬ä»¥åå†…ç½®çƒ­æ›´æ–°åŠŸèƒ½ï¼Œä¸éœ€è¦é¢å¤–æ“ä½œã€‚</p><p>proxyè®¾ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">proxy: &#123;</span><br><span class="line">    <span class="string">&#x27;/react/api&#x27;</span>: <span class="string">&#x27;http://www.dell-lee.com&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;/react/api&#x27;</span>: &#123;</span><br><span class="line">        target: <span class="string">&#x27;http://www.dell-lee.com&#x27;</span></span><br><span class="line">        <span class="comment">// httpsæ¥å£éœ€è¦é…ç½®è¿™ä¸ª</span></span><br><span class="line">        secure: <span class="literal">false</span>,</span><br><span class="line">        <span class="comment">// è§£å†³æŸäº›ç½‘ç«™å¯¹æºé™åˆ¶</span></span><br><span class="line">        changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// åœ¨é…ç½®é‡Œè¯·æ±‚è½¬å‘ï¼Œä»£ç é‡Œè¯·æ±‚header.jsonï¼Œå®é™…å»è¯·æ±‚demo.jsonï¼Œçœå»ä¿®æ”¹ä»£ç é‡Œæ¥å£çš„éº»çƒ¦</span></span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">            <span class="string">&#x27;header.json&#x27;</span>: <span class="string">&#x27;demo.json&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬5èŠ‚ï¼š-æ¨¡å—ï¼šCSSæ–‡ä»¶æ‰“åŒ…"><a href="#ç¬¬5èŠ‚ï¼š-æ¨¡å—ï¼šCSSæ–‡ä»¶æ‰“åŒ…" class="headerlink" title="ç¬¬5èŠ‚ï¼š æ¨¡å—ï¼šCSSæ–‡ä»¶æ‰“åŒ…"></a>ç¬¬5èŠ‚ï¼š æ¨¡å—ï¼šCSSæ–‡ä»¶æ‰“åŒ…</h2><p>webpackåœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„ä½œç”¨ä¹‹ä¸€ï¼šå‡å°‘httpè¯·æ±‚æ•°ï¼ŒæŠŠå¤šä¸ªæ–‡ä»¶æ‰“åŒ…åˆ°ä¸€ä¸ªjsæ–‡ä»¶ä¸­ï¼Œè¯·æ±‚æ•°å¯ä»¥å‡å°‘å¥½å¤šã€‚</p><p>å­¦ä¹ cssæ–‡ä»¶æ‰“åŒ…ä¹‹å‰ï¼Œ<strong>éœ€è¦å…ˆå¯¹webpack.config.jsé‡Œçš„Loadersé…ç½®é¡¹è¿›è¡Œäº†è§£</strong>ã€‚</p><h2 id="Loaders"><a href="#Loaders" class="headerlink" title="Loaders"></a>Loaders</h2><p>Loadersæ˜¯Webpackæœ€é‡è¦çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ç››è¡Œçš„åŸå› ã€‚</p><p>é€šè¿‡é…ç½®ä¸åŒçš„Loadersï¼ŒWebpackå¯ä»¥ç”¨è„šæœ¬å’Œå·¥å…·å¯¹ä¸åŒçš„æ–‡ä»¶æ ¼å¼è¿›è¡Œç‰¹å®šçš„å¤„ç†ã€‚</p><p>ä¾‹å­ï¼š</p><blockquote><p>å¯ä»¥æŠŠless, sassè½¬æ¢æˆcss,è€Œä¸ä½¿ç”¨å…¶ä»–å·¥å…·<br> å†™ä»£ç æ—¶ï¼Œå¯ä»¥ç”¨ES6, ES7è¯­æ³•ï¼Œè½¬æ¢æˆå¤§å¤šæ•°æµè§ˆå™¨å…¼å®¹çš„ä»£ç <br> å¯ä»¥æŠŠReactä¸­çš„jsxè½¬æ¢æˆJavaScriptä»£ç </p></blockquote><p><strong>æ³¨æ„ï¼š</strong><br>æ‰€æœ‰Loaderséƒ½è¦åœ¨npmä¸­å•ç‹¬å®‰è£…ï¼Œå¹¶åœ¨webpack.config.jsä¸­é…ç½®ï¼Œä¸‹é¢å¯¹å‡ ç§é…ç½®å‹ç®€å•æ¢³ç†ã€‚</p><blockquote><p>test: ç”¨äºåŒ¹é…å¤„ç†æ–‡ä»¶æ‰©å±•åçš„è¡¨è¾¾å¼ï¼Œã€å¿…é¡»è®¾ç½®ã€‘ï¼›<br> use: loaderåç§°ï¼Œã€å¿…é¡»é…ç½®ï¼Œå¦åˆ™æŠ¥é”™ã€‘ï¼›<br> include/exclude: æ‰‹åŠ¨æ·»åŠ å¿…é¡»å¤„ç†çš„æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼Œæˆ–å±è”½ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶/æ–‡ä»¶å¤¹,ã€å¯é€‰ã€‘ï¼›<br> query: ä¸ºloadersæä¾›é¢å¤–çš„è®¾ç½®é€‰é¡¹ï¼Œã€å¯é€‰ã€‘ã€‚</p></blockquote><h2 id="æ‰“åŒ…CSSæ–‡ä»¶"><a href="#æ‰“åŒ…CSSæ–‡ä»¶" class="headerlink" title="æ‰“åŒ…CSSæ–‡ä»¶"></a>æ‰“åŒ…CSSæ–‡ä»¶</h2><h3 id="å»ºç«‹index-cssæ–‡ä»¶"><a href="#å»ºç«‹index-cssæ–‡ä»¶" class="headerlink" title="å»ºç«‹index.cssæ–‡ä»¶"></a>å»ºç«‹index.cssæ–‡ä»¶</h3><p>åœ¨src/css ç›®å½•ä¸‹ï¼Œå»ºä¸€ä¸ªindex.cssæ–‡ä»¶</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>css æ–‡ä»¶å»ºç«‹å¥½åï¼Œéœ€è¦å¼•å…¥åˆ°å…¥å£æ–‡ä»¶ä¸­ï¼Œæ‰å¯ä»¥æ‰“åŒ…åˆ°distä¸­ã€‚</p><p>è¿™é‡Œå¼•å…¥åˆ°entry.jsä¸­</p><p>src/entry.jsé¦–è¡ŒåŠ å…¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> css <span class="keyword">from</span> <span class="string">&#x27;./css/index.css&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="è¿™é‡Œè¡Œæœ«ä¸€å®šè¦åŠ åˆ†å·ï¼Œæ²¡åŠ å°±æ— æ³•ç¼–è¯‘CSSæ–‡ä»¶æŠ¥é”™"><a href="#è¿™é‡Œè¡Œæœ«ä¸€å®šè¦åŠ åˆ†å·ï¼Œæ²¡åŠ å°±æ— æ³•ç¼–è¯‘CSSæ–‡ä»¶æŠ¥é”™" class="headerlink" title="è¿™é‡Œè¡Œæœ«ä¸€å®šè¦åŠ åˆ†å·ï¼Œæ²¡åŠ å°±æ— æ³•ç¼–è¯‘CSSæ–‡ä»¶æŠ¥é”™"></a>è¿™é‡Œè¡Œæœ«ä¸€å®šè¦åŠ åˆ†å·ï¼Œæ²¡åŠ å°±æ— æ³•ç¼–è¯‘CSSæ–‡ä»¶æŠ¥é”™</h3><p>CSS å¼•å…¥åï¼Œéœ€è¦ä½¿ç”¨loaderæ¥è§£æCSSæ–‡ä»¶ï¼Œè¿™é‡Œç”¨åˆ°style-loader,css-loader.</p><h3 id="style-loader-å®˜ç½‘"><a href="#style-loader-å®˜ç½‘" class="headerlink" title="style-loader å®˜ç½‘"></a>style-loader <a href="https://www.npmjs.com/package/style-loader">å®˜ç½‘</a></h3><p>ç”¨æ¥å¤„ç†cssæ–‡ä»¶ä¸­çš„url()ç­‰ã€‚</p><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install style-loader --save-dev</span><br></pre></td></tr></table></figure><h3 id="css-loader-å®˜ç½‘"><a href="#css-loader-å®˜ç½‘" class="headerlink" title="css-loader å®˜ç½‘"></a>css-loader <a href="https://www.npmjs.com/package/css-loader">å®˜ç½‘</a></h3><p>ç”¨æ¥å°†cssæ’å…¥åˆ°é¡µé¢çš„styleæ ‡ç­¾ã€‚<br>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install css-loader --save-dev</span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªéƒ½å®‰è£…å¥½åï¼Œå¼€å§‹é…ç½®loaders</p><h3 id="loadersé…ç½®"><a href="#loadersé…ç½®" class="headerlink" title="loadersé…ç½®"></a>loadersé…ç½®</h3><p>ä¿®æ”¹webpack.config.jsä¸­çš„moduleå±æ€§ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><p>webpack.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">                &#123;</span><br><span class="line">                    loader: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        importLoaders: <span class="number">2</span>,</span><br><span class="line">                        modules: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p><code>modules: true</code> ä½¿ç”¨cssæ¨¡å—åŒ–<br><code>importLoaders</code>: åœ¨ css-loader å‰åº”ç”¨çš„ loader çš„æ•°é‡ï¼Œ ç”¨äºåœ¨cssæ–‡ä»¶ä¸­å¼•å…¥cssæ–‡ä»¶ï¼Œè®©loaderä¹Ÿå»å¤„ç†å¼•å…¥æ–‡ä»¶ä¸­çš„æ ·å¼</p><h3 id="loaderä¸‰ç§å†™æ³•"><a href="#loaderä¸‰ç§å†™æ³•" class="headerlink" title="loaderä¸‰ç§å†™æ³•"></a>loaderä¸‰ç§å†™æ³•</h3><ol><li><p>ç›´æ¥ç”¨use</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æŠŠuseæ¢æˆloader</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        loader: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç”¨use+loader</p></li></ol><p>è¿™ç§æœ€å¸¸ç”¨ï¼Œå› ä¸ºæ¯ä¸ªéƒ½æœ‰ä¸åŒçš„é…ç½®é¡¹ï¼ï¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123;<span class="attr">loader</span>: <span class="string">&#x27;style-loader&#x27;</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">loader</span>: <span class="string">&#x27;css-loader&#x27;</span>&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç”¨å“ªç§å†™æ³•éƒ½å¯ä»¥ï¼Œå¯ä»¥çœ‹å‡ºwebpackçš„æ‰©å±•å’Œçµæ´»æ€§éå¸¸å¼º"><a href="#ç”¨å“ªç§å†™æ³•éƒ½å¯ä»¥ï¼Œå¯ä»¥çœ‹å‡ºwebpackçš„æ‰©å±•å’Œçµæ´»æ€§éå¸¸å¼º" class="headerlink" title="ç”¨å“ªç§å†™æ³•éƒ½å¯ä»¥ï¼Œå¯ä»¥çœ‹å‡ºwebpackçš„æ‰©å±•å’Œçµæ´»æ€§éå¸¸å¼º"></a>ç”¨å“ªç§å†™æ³•éƒ½å¯ä»¥ï¼Œå¯ä»¥çœ‹å‡ºwebpackçš„æ‰©å±•å’Œçµæ´»æ€§éå¸¸å¼º</h4><p>æœ€é‡è¦çš„æ˜¯ï¼š çœ‹è§åˆ«äººé¡¹ç›®çš„å…¶ä»–å†™æ³•ä¹Ÿä¸è¦æ…Œå¼ ï¼Œè‡ªå·±è¯•è¯•ï¼Œæœ‰å¯èƒ½Getåˆ°æ–°çŸ¥è¯†ã€‚</p><h2 id="æ€»ç»“-ç¬¬5èŠ‚"><a href="#æ€»ç»“-ç¬¬5èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬5èŠ‚"></a>æ€»ç»“-ç¬¬5èŠ‚</h2><p>loaderçš„ä½¿ç”¨å†³å®šäº†webpackæ°´å¹³çš„é«˜ä½ï¼Œä¸€å®šè¦é‡è§†å’Œç»ƒä¹ ã€‚</p><h2 id="ç¬¬6èŠ‚ï¼š-æ’ä»¶é…ç½®ï¼š-é…ç½®JSå‹ç¼©"><a href="#ç¬¬6èŠ‚ï¼š-æ’ä»¶é…ç½®ï¼š-é…ç½®JSå‹ç¼©" class="headerlink" title="ç¬¬6èŠ‚ï¼š æ’ä»¶é…ç½®ï¼š é…ç½®JSå‹ç¼©"></a>ç¬¬6èŠ‚ï¼š æ’ä»¶é…ç½®ï¼š é…ç½®JSå‹ç¼©</h2><h2 id="å‹ç¼©JSä»£ç "><a href="#å‹ç¼©JSä»£ç " class="headerlink" title="å‹ç¼©JSä»£ç "></a>å‹ç¼©JSä»£ç </h2><p>å¼•å…¥uglifyjs-webpack-plugin(jså‹ç¼©æ’ä»¶ï¼Œç®€ç§°uglify)</p><p>æ³¨æ„ï¼š è™½ç„¶uglifyjsæ˜¯æ’ä»¶ï¼Œä½†webpackç‰ˆæœ¬å·²é»˜è®¤é›†æˆï¼Œä¸éœ€è¦å†æ¬¡å®‰è£…ã€‚</p><h3 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h3><p>åœ¨webpack.config.jsä¸­å¼•å…¥æ’ä»¶ï¼Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> uglify = <span class="built_in">require</span>(<span class="string">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å¼•å…¥åï¼Œåœ¨pluginsé…ç½®é‡Œnewä¸€ä¸ªuglifyå¯¹è±¡ã€‚ä»£ç å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> uglify()</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ‰§è¡Œwebpackæ˜¯å¯ä»¥æ‰“åŒ…æˆåŠŸçš„</p><h3 id="ä½†æ˜¯æ‰§è¡Œnpm-run-serveræ—¶ï¼ŒæŠ¥é”™-åŸå› è¿˜å¾…æŸ¥-å·²æ‰¾åˆ°"><a href="#ä½†æ˜¯æ‰§è¡Œnpm-run-serveræ—¶ï¼ŒæŠ¥é”™-åŸå› è¿˜å¾…æŸ¥-å·²æ‰¾åˆ°" class="headerlink" title="ä½†æ˜¯æ‰§è¡Œnpm run serveræ—¶ï¼ŒæŠ¥é”™,åŸå› è¿˜å¾…æŸ¥     å·²æ‰¾åˆ° ***"></a>ä½†æ˜¯æ‰§è¡Œnpm run serveræ—¶ï¼ŒæŠ¥é”™,åŸå› <del>è¿˜å¾…æŸ¥</del>     å·²æ‰¾åˆ° ***</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ERROR <span class="keyword">in</span> entry.js <span class="keyword">from</span> UglifyJs</span><br><span class="line">Unexpected token: name (urlParts) [entry.js:<span class="number">317</span>,<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">ERROR <span class="keyword">in</span> entry2.js <span class="keyword">from</span> UglifyJs</span><br><span class="line">Unexpected token: name (urlParts) [entry2.js:<span class="number">317</span>,<span class="number">4</span>]</span><br><span class="line">webpack: Failed to compile.</span><br></pre></td></tr></table></figure><p>é¦–å…ˆè¦å…ˆå¼„æ¸…æ¥šä»€ä¹ˆæ˜¯å¼€å‘ç¯å¢ƒï¼Œ ä»€ä¹ˆæ˜¯ç”Ÿäº§ç¯å¢ƒã€‚</p><p>å¼€å‘ç¯å¢ƒåŸºæœ¬ä¸ä¼šå¯¹jsè¿›è¡Œå‹ç¼©ï¼Œåœ¨å¼€å‘é¢„è§ˆæ—¶ï¼Œéœ€è¦æ˜ç¡®çš„æŠ¥é”™è¡Œæ•°å’Œé”™è¯¯ä¿¡æ¯ï¼Œæ‰€ä»¥æ²¡æœ‰å¿…è¦å‹ç¼©JavaScriptä»£ç ã€‚</p><p>ç”Ÿäº§ç¯å¢ƒæ‰ä¼šå‹ç¼©jsä»£ç ï¼Œç”¨äºåŠ å¿«ç¨‹åºçš„å·¥ä½œæ•ˆç‡ã€‚</p><p>devServerç”¨äºå¼€å‘ç¯å¢ƒï¼Œè€Œå‹ç¼©jsç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œ</p><p>åœ¨å¼€å‘ç¯å¢ƒä¸­åšç”Ÿäº§ç¯å¢ƒçš„äº‹æƒ…æ‰€ä»¥<strong>webpackè®¾ç½®å†²çªæŠ¥é”™</strong></p><h2 id="ç¬¬7èŠ‚ï¼š-æ’ä»¶é…ç½®ï¼š-HTMLæ–‡ä»¶å‘å¸ƒ"><a href="#ç¬¬7èŠ‚ï¼š-æ’ä»¶é…ç½®ï¼š-HTMLæ–‡ä»¶å‘å¸ƒ" class="headerlink" title="ç¬¬7èŠ‚ï¼š æ’ä»¶é…ç½®ï¼š HTMLæ–‡ä»¶å‘å¸ƒ"></a>ç¬¬7èŠ‚ï¼š æ’ä»¶é…ç½®ï¼š HTMLæ–‡ä»¶å‘å¸ƒ</h2><p>ä¹‹å‰çš„index.htmlæ˜¯ç›´æ¥æ”¾åœ¨distæ–‡ä»¶å¤¹ä¸­çš„ï¼Œè¿™æ˜¯ä¸å¯¹çš„ã€‚åº”è¯¥æ”¾åœ¨srcç›®å½•ä¸­ã€‚</p><p>è¿™èŠ‚å°±å­¦ä¹ å¦‚ä½•æŠŠHTMLæ–‡ä»¶æ‰“åŒ…åˆ°ç”Ÿäº§è·¯å¾„ä¸‹ã€‚</p><h3 id="æ‰“åŒ…HTMLæ–‡ä»¶"><a href="#æ‰“åŒ…HTMLæ–‡ä»¶" class="headerlink" title="æ‰“åŒ…HTMLæ–‡ä»¶"></a>æ‰“åŒ…HTMLæ–‡ä»¶</h3><p>å…ˆå°†distä¸­çš„index.htmlå‰ªåˆ‡åˆ°srcç›®å½•ä¸­ï¼Œå¹¶å»æ‰jså¼•å…¥ä»£ç (webpackä¼šè‡ªåŠ¨å¼•å…¥entryå…¥å£é…ç½®çš„js)ï¼Œ</p><p>å› ä¸ºè¿™æ‰æ˜¯çœŸå®å·¥ä½œçš„ç›®å½•ç»“æ„ã€‚</p><h3 id="npmå®‰è£…html-webpack-plugin-å®˜ç½‘"><a href="#npmå®‰è£…html-webpack-plugin-å®˜ç½‘" class="headerlink" title="npmå®‰è£…html-webpack-plugin å®˜ç½‘"></a>npmå®‰è£…html-webpack-plugin <a href="https://www.npmjs.com/package/html-webpack-plugin">å®˜ç½‘</a></h3><p>htmlWebpackPluginä¼šåœ¨æ‰“åŒ…ç»“æŸåï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œå¹¶æŠŠæ‰“åŒ…ç”Ÿæˆçš„jsè‡ªåŠ¨å¼•å…¥åˆ°è¿™ä¸ªHTMLæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev html-webpack-plugin</span><br></pre></td></tr></table></figure><h3 id="é…ç½®webpack-config-js"><a href="#é…ç½®webpack-config-js" class="headerlink" title="é…ç½®webpack.config.js"></a>é…ç½®webpack.config.js</h3><p>å¼•å…¥html-webpack-pluginæ’ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> htmlPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="åœ¨pluginsé‡Œè¿›è¡Œæ’ä»¶çš„é…ç½®ï¼Œä»£ç å¦‚ä¸‹"><a href="#åœ¨pluginsé‡Œè¿›è¡Œæ’ä»¶çš„é…ç½®ï¼Œä»£ç å¦‚ä¸‹" class="headerlink" title="åœ¨pluginsé‡Œè¿›è¡Œæ’ä»¶çš„é…ç½®ï¼Œä»£ç å¦‚ä¸‹"></a>åœ¨pluginsé‡Œè¿›è¡Œæ’ä»¶çš„é…ç½®ï¼Œä»£ç å¦‚ä¸‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> htmlPlugin(&#123;</span><br><span class="line">        minify: &#123;</span><br><span class="line">            removeAttributeQuotes: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        hash: <span class="literal">true</span>,</span><br><span class="line">        template: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">],</span><br></pre></td></tr></table></figure><blockquote><p>minifyï¼šæ˜¯å¯¹htmlæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼ŒremoveAttrubuteQuotesæ˜¯å»æ‰å±æ€§çš„åŒå¼•å·ã€‚<br> hashï¼šä¸ºäº†å¼€å‘ä¸­jsæœ‰ç¼“å­˜æ•ˆæœï¼Œæ‰€ä»¥åŠ å…¥hashï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆé¿å…ç¼“å­˜JSã€‚<br> templateï¼šæ˜¯è¦æ‰“åŒ…çš„htmlæ¨¡ç‰ˆè·¯å¾„å’Œæ–‡ä»¶åç§°ã€‚</p></blockquote><h2 id="æ‰“åŒ…å‡ºé”™"><a href="#æ‰“åŒ…å‡ºé”™" class="headerlink" title="æ‰“åŒ…å‡ºé”™"></a>æ‰“åŒ…å‡ºé”™</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ERROR <span class="keyword">in</span>   Error: Parse Error: &lt;!DOCTYPE&gt;</span><br><span class="line">  &lt;html&gt;</span><br></pre></td></tr></table></figure><p>åŸå› ï¼Œhtmlé¡µé¢çš„å£°æ˜ï¼Œå¿…é¡»æ˜¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// <span class="meta">&lt;!DOCTYPE&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>htmlæ–‡ä»¶çš„æ‰“åŒ…å¯ä»¥æœ‰æ•ˆçš„åŒºåˆ†å¼€å‘ç›®å½•å’Œç”Ÿäº§ç›®å½•ï¼Œåœ¨webpackçš„é…ç½®ä¸­ä¹Ÿè¦ææ¸…æ¥šå“ªäº›é…ç½®ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå“ªäº›é…ç½®ç”¨äºå¼€å‘ç¯å¢ƒï¼Œé¿å…ä¸¤ç§ç¯å¢ƒçš„é…ç½®å†²çªã€‚</p><h2 id="ç¬¬8èŠ‚ï¼š-å›¾ç‰‡è¿ˆå‘ï¼š-cssä¸­çš„å›¾ç‰‡å¤„ç†"><a href="#ç¬¬8èŠ‚ï¼š-å›¾ç‰‡è¿ˆå‘ï¼š-cssä¸­çš„å›¾ç‰‡å¤„ç†" class="headerlink" title="ç¬¬8èŠ‚ï¼š å›¾ç‰‡è¿ˆå‘ï¼š cssä¸­çš„å›¾ç‰‡å¤„ç†"></a>ç¬¬8èŠ‚ï¼š å›¾ç‰‡è¿ˆå‘ï¼š cssä¸­çš„å›¾ç‰‡å¤„ç†</h2><p>webpackæ‰“åŒ…æ—¶é‡åˆ°cssä¸­çš„å›¾ç‰‡å¤„ç†å‘ã€‚</p><blockquote><p>åœ¨å¼€å‘ç¯å¢ƒä¸­æ‰¾å¾—åˆ°å›¾ç‰‡ï¼Œä¸€æ‰“åŒ…åå°±æ‰¾ä¸åˆ°<br>  ä¸çŸ¥é“å¦‚ä½•æ­£ç¡®å¼•å…¥HTMLæˆ–CSSä¸­çš„å›¾ç‰‡</p></blockquote><h3 id="3èŠ‚è¯¾å½»åº•èµ°å‡ºwebpackå›¾ç‰‡çš„å‘"><a href="#3èŠ‚è¯¾å½»åº•èµ°å‡ºwebpackå›¾ç‰‡çš„å‘" class="headerlink" title="3èŠ‚è¯¾å½»åº•èµ°å‡ºwebpackå›¾ç‰‡çš„å‘"></a>3èŠ‚è¯¾å½»åº•èµ°å‡ºwebpackå›¾ç‰‡çš„å‘</h3><p>æ‰¾å¼ å›¾ç‰‡ï¼Œåœ¨srcç›®å½•æ–°å»ºä¸€ä¸ªimagesçš„æ–‡ä»¶å¤¹ã€‚æŠŠå›¾ç‰‡æ”¾å…¥imagesæ–‡ä»¶å¤¹ã€‚</p><p>åœ¨index.htmlä¸­å¢åŠ ä¸€ä¸ªdivï¼Œ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;img&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#img</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/img.png);</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>webpack ç›´æ¥ç¼–è¯‘ï¼ŒæŠ¥é”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ERROR <span class="keyword">in</span> ./src/images/img.png</span><br><span class="line">Module parse failed: Unexpected character <span class="string">&#x27;ï¿½&#x27;</span> (1:0)</span><br><span class="line">You may need an appropriate loader to handle this file <span class="built_in">type</span>.</span><br><span class="line">(Source code omitted <span class="keyword">for</span> this binary file)</span><br></pre></td></tr></table></figure><h2 id="file-loader-url-loader"><a href="#file-loader-url-loader" class="headerlink" title="file-loader, url-loader"></a>file-loader, url-loader</h2><h2 id="1-å‘½ä»¤è¡Œå®‰è£…"><a href="#1-å‘½ä»¤è¡Œå®‰è£…" class="headerlink" title="1. å‘½ä»¤è¡Œå®‰è£…"></a>1. å‘½ä»¤è¡Œå®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev file-loader url-loader</span><br></pre></td></tr></table></figure><h3 id="file-loader"><a href="#file-loader" class="headerlink" title="file-loader"></a>file-loader</h3><p>è§£å†³å¼•ç”¨è·¯å¾„çš„é—®é¢˜ï¼Œæ‹¿backgroundæ ·å¼ç”¨urlå¼•ç”¨èƒŒæ™¯å›¾æ¥è¯´ï¼Œwebpackä¼šå°†å„ä¸ªæ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬æºä»£ç æ ·å¼ä¸­çš„urlè·¯å¾„æ˜¯ç›¸å¯¹å…¥å£htmlé¡µé¢çš„ï¼Œè€Œä¸æ˜¯ç›¸å¯¹äºåŸå§‹cssæ–‡ä»¶æ‰€åœ¨è·¯å¾„ã€‚è¿™ä¼šå¯¼è‡´å›¾ç‰‡å¼•å…¥å¤±è´¥ã€‚</p><p>è¿™å°±æ˜¯file-loaderè§£å†³çš„ã€‚</p><p>file-loaderå¯ä»¥è§£æé¡¹ç›®ä¸­çš„urlå¼•å…¥(ä¸å±€é™äºcss), æ ¹æ®é…ç½®ï¼Œå°†å›¾ç‰‡æ‹·è´åˆ°ç›¸åº”çš„è·¯å¾„ï¼Œå†æ ¹æ®é…ç½®ï¼Œæ‰“åŒ…åæ–‡ä»¶å¼•ç”¨è·¯å¾„ï¼Œä½¿ä¹‹æŒ‡å‘æ­£ç¡®çš„æ–‡ä»¶ã€‚</p><p>æ‰“åŒ…ä»¥åæ–‡ä»¶åä¿æŒä¸å˜ï¼ŒåŠ hashå€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: &#123;</span><br><span class="line">        test: <span class="regexp">/\.(jpg|png|gif)/</span>,</span><br><span class="line">        use: &#123;</span><br><span class="line">            loader: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">                name: <span class="string">&#x27;[name]_[hash].[ext]&#x27;</span>,</span><br><span class="line">                outputPath: <span class="string">&#x27;images/&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="url-loader"><a href="#url-loader" class="headerlink" title="url-loader"></a>url-loader</h3><p>å¦‚æœå›¾ç‰‡è¾ƒå¤šï¼Œä¼šå‘é€å¾ˆå¤šhttpè¯·æ±‚ï¼Œé™ä½é¡µé¢æ€§èƒ½ã€‚</p><p>å¯ä»¥ç”¨url-loaderè§£å†³ã€‚</p><p>url-loaderä¼šå°†å¼•å…¥çš„å›¾ç‰‡ç¼–ç ï¼Œç”ŸæˆDataURL(æŠŠå›¾ç‰‡è½¬æˆä¸€ä¸²å­—ç¬¦),å†æŠŠè¿™ä¸²å­—ç¬¦æ‰“åŒ…åˆ°æ–‡ä»¶ä¸­ï¼Œæœ€ç»ˆåªè¦å¼•å…¥è¿™ä¸ªæ–‡ä»¶å°±èƒ½è®¿é—®å›¾ç‰‡ã€‚</p><p>å›¾ç‰‡è¾ƒå¤§ï¼Œç¼–ç ä¼šæ¶ˆè€—æ€§èƒ½ã€‚url-loaderæä¾›äº†ä¸€ä¸ªlimitå‚æ•°ï¼Œå°äºlimitå­—èŠ‚çš„æ–‡ä»¶ä¼šè¢«è½¬ä¸ºDataURL,å¤§äºlimitçš„ä¼šä½¿ç”¨file-loaderè¿›è¡Œcopy</p><h2 id="2-é…ç½®url-loader"><a href="#2-é…ç½®url-loader" class="headerlink" title="2. é…ç½®url-loader"></a>2. é…ç½®url-loader</h2><p>webpack.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.(png|jpg|gif)/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123;</span><br><span class="line">                    loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        limit: <span class="number">500000</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><blockquote><p>test:/.(png|jpg|gif)/æ˜¯åŒ¹é…å›¾ç‰‡æ–‡ä»¶åç¼€åç§°ã€‚<br> useï¼šæ˜¯æŒ‡å®šä½¿ç”¨çš„loaderå’Œloaderçš„é…ç½®å‚æ•°ã€‚<br> limitï¼šæ˜¯æŠŠå°äº500000Bçš„æ–‡ä»¶æ‰“æˆBase64çš„æ ¼å¼ï¼Œå†™å…¥JSã€‚</p></blockquote><p>ç°åœ¨å°±å¯ä»¥ä½¿ç”¨webpackæ‰“åŒ…äº†~~~~</p><p>ç”¨npm run server ï¼Œå¯ä»¥åœ¨é¡µé¢æŸ¥çœ‹å…ƒç´ ï¼ŒæŸ¥çœ‹å›¾ç‰‡çš„ç¼–ç </p><h2 id="ä¸ºä»€ä¹ˆé…ç½®ä¸­åªç”¨äº†url-loader"><a href="#ä¸ºä»€ä¹ˆé…ç½®ä¸­åªç”¨äº†url-loader" class="headerlink" title="ä¸ºä»€ä¹ˆé…ç½®ä¸­åªç”¨äº†url-loader"></a>ä¸ºä»€ä¹ˆé…ç½®ä¸­åªç”¨äº†url-loader</h2><p>ä¸ºä»€ä¹ˆåœ¨é…ç½®ä¸­åªç”¨äº†url-loaderï¼Œä¾ç„¶æ‰“åŒ…æˆåŠŸï¼Ÿ</p><p>éœ€è¦äº†è§£url-loaderå’Œfile-loaderå…³ç³»</p><p>url-loaderå°è£…äº†file-loaderï¼Œurl-loaderä¸ä¾èµ–file-loaderï¼Œå³ ä½¿ç”¨url-loaderæ—¶ï¼Œåªéœ€è¦å®‰è£…url-loaderå³å¯ï¼Œä¸éœ€è¦å®‰è£…file-loaderï¼Œå› ä¸ºurl-loaderå†…ç½®äº†file-loaderã€‚</p><p>url-loaderå·¥ä½œåˆ†ä¸¤ç§æƒ…å†µï¼š</p><ol><li>æ–‡ä»¶å¤§å°å°äºlimitï¼Œurl-loaderå°†æ–‡ä»¶è½¬ä¸ºDataURL(Base64æ ¼å¼)</li><li>æ–‡ä»¶å¤§å°å¤§äºlimitï¼Œurl-loaderä¼šè°ƒç”¨file-loaderè¿›è¡Œå¤„ç†ï¼Œå‚æ•°ä¹Ÿä¼šç›´æ¥ä¼ ç»™file-loader</li></ol><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®‰è£…ä¸€ä¸ªurl-loaderå³å¯ï¼Œä½†æ˜¯ä¸ºäº†ä»¥åæ“ä½œæ–¹ä¾¿ï¼Œé¡ºä¾¿å®‰è£…äº†file-loaderã€‚</p><h2 id="æ€»ç»“-ç¬¬8èŠ‚"><a href="#æ€»ç»“-ç¬¬8èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬8èŠ‚"></a>æ€»ç»“-ç¬¬8èŠ‚</h2><p>æœ¬èŠ‚å­¦ä¹ äº†å°†å°å›¾æ‰“åŒ…æˆBase64æ ¼å¼ï¼Œ å¯¹webpackå›¾ç‰‡æ‰“åŒ…æœ‰äº†åŸºæœ¬çš„äº†è§£</p><h2 id="ç¬¬9èŠ‚-å›¾ç‰‡è¿ˆå‘ï¼š-CSSåˆ†ç¦»ä¸å›¾ç‰‡è·¯å¾„å¤„ç†"><a href="#ç¬¬9èŠ‚-å›¾ç‰‡è¿ˆå‘ï¼š-CSSåˆ†ç¦»ä¸å›¾ç‰‡è·¯å¾„å¤„ç†" class="headerlink" title="ç¬¬9èŠ‚ å›¾ç‰‡è¿ˆå‘ï¼š CSSåˆ†ç¦»ä¸å›¾ç‰‡è·¯å¾„å¤„ç†"></a>ç¬¬9èŠ‚ å›¾ç‰‡è¿ˆå‘ï¼š CSSåˆ†ç¦»ä¸å›¾ç‰‡è·¯å¾„å¤„ç†</h2><p>ä¸»è¦å­¦ä¹ </p><ol><li>æŠŠCSSä»JavaScriptä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œ</li><li>å¦‚ä½•å¤„ç†åˆ†ç¦»å‡ºæ¥åçš„CSSä¸­çš„å›¾ç‰‡è·¯å¾„ä¸å¯¹çš„é—®é¢˜ã€‚</li></ol><h2 id="CSSåˆ†ç¦»ï¼š-extract-text-webpack-plugin-å®˜ç½‘"><a href="#CSSåˆ†ç¦»ï¼š-extract-text-webpack-plugin-å®˜ç½‘" class="headerlink" title="CSSåˆ†ç¦»ï¼š extract-text-webpack-plugin å®˜ç½‘"></a>CSSåˆ†ç¦»ï¼š extract-text-webpack-plugin <a href="https://www.npmjs.com/package/extract-text-webpack-plugin">å®˜ç½‘</a></h2><p>ä¹‹å‰çš„cssæ˜¯æ‰“åŒ…åˆ°JavaScriptä»£ç ä¸­çš„ã€‚</p><p>æœ‰äº›é¡µé¢ï¼ŒJavaScriptä»£ç å¾ˆå°‘ï¼Œè€Œcsså¾ˆå¤šï¼Œè¦æ±‚å°†csså•ç‹¬æå–å‡ºæ¥ï¼Œæ–¹ä¾¿ä»¥åæ›´æ”¹ï¼Œé‡åˆ°è¿™ç§éœ€æ±‚ï¼Œ</p><p>è§£å†³åŠæ³•å°±æ˜¯extract-text-webpack-plugin</p><p>è¿™ä¸ªæ’ä»¶å¯ä»¥å®Œç¾è§£å†³æå–CSSçš„éœ€æ±‚ã€‚ä½†webpackå®˜ç½‘ä¸å»ºè®®è¿™æ ·åšï¼Œä»–ä»¬è®¤ä¸ºcsså°±åº”è¯¥æ‰“åŒ…åˆ°JavaScriptä¸­ä»¥å‡å°‘httpè¯·æ±‚æ•°ã€‚</p><p>ä½†ç°å®ä¸­çš„éœ€æ±‚æˆ‘ä»¬æ— æ³•æ§åˆ¶ï¼Œæœ‰äº›éœ€æ±‚æ˜¯æˆ‘ä»¬ä¸èƒ½æ§åˆ¶çš„ï¼Œåˆ†ç¦»csså°±æ˜¯è¿™æ ·ä¸€ä¸ªæ—¢åˆç†åˆä¸åˆç†çš„éœ€æ±‚ã€‚</p><h3 id="1-npm-å®‰è£…"><a href="#1-npm-å®‰è£…" class="headerlink" title="1. npm å®‰è£…"></a>1. npm å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev extract-text-webpack-plugin</span><br></pre></td></tr></table></figure><h3 id="2-å¼•å…¥"><a href="#2-å¼•å…¥" class="headerlink" title="2. å¼•å…¥"></a>2. å¼•å…¥</h3><p>å®‰è£…å®Œæˆåï¼Œéœ€è¦å…ˆrequireå¼•å…¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> extractTextPlugin = <span class="built_in">require</span>(<span class="string">&#x27;extract-text-webpack-plugin&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="3-è®¾ç½®Plugins"><a href="#3-è®¾ç½®Plugins" class="headerlink" title="3. è®¾ç½®Plugins"></a>3. è®¾ç½®Plugins</h3><p>å¼•å…¥æˆåŠŸåï¼Œéœ€è¦åœ¨pluginså±æ€§ä¸­è¿›è¡Œé…ç½®ã€‚è¿™é‡Œåªè¦newä¸€ä¸‹è¿™ä¸ªå¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> htmlPlugin(&#123;</span><br><span class="line">        minify: &#123;</span><br><span class="line">            removeAttributeQuotes: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        hash: <span class="literal">true</span>,</span><br><span class="line">        template: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> extractTextPlugin(<span class="string">&#x27;css/index.css&#x27;</span>)</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„/css/index.cssæ˜¯åˆ†ç¦»åçš„è·¯å¾„ä½ç½®ã€‚æ³¨æ„ï¼š è¿™é‡Œè·¯å¾„å‰é¢ä¸è¦åŠ /,å¦åˆ™å¼•ç”¨cssçš„è·¯å¾„ï¼Œä¼šå¤šä¸€ä¸ª/</p><h3 id="4-ä¿®æ”¹åŸæ¥çš„stye-loader-css-loader"><a href="#4-ä¿®æ”¹åŸæ¥çš„stye-loader-css-loader" class="headerlink" title="4. ä¿®æ”¹åŸæ¥çš„stye-loader, css-loader"></a>4. ä¿®æ”¹åŸæ¥çš„stye-loader, css-loader</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: extractTextPlugin.extract(&#123;</span><br><span class="line">                fallback: <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">                use: <span class="string">&#x27;css-loader&#x27;</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.(png|jpg|gif)/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123;</span><br><span class="line">                    loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        limit: <span class="number">500000</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>å®Œæˆ4æ­¥æ“ä½œåï¼Œå¯ä»¥ç”¨webpackæ‰“åŒ…ã€‚</p><h3 id="æ‰“åŒ…ç»“æœ"><a href="#æ‰“åŒ…ç»“æœ" class="headerlink" title="æ‰“åŒ…ç»“æœ"></a>æ‰“åŒ…ç»“æœ</h3><ul><li>cssè¢«å•ç‹¬æå–åˆ°css/index.cssæ–‡ä»¶</li><li>å›¾ç‰‡ä¹Ÿè¢«Base64ç¼–ç åˆ°index.cssæ–‡ä»¶</li><li>index.htmlæ–‡ä»¶ä¸­å¼•å…¥äº†index.css</li></ul><h2 id="å›¾ç‰‡è·¯å¾„é—®é¢˜"><a href="#å›¾ç‰‡è·¯å¾„é—®é¢˜" class="headerlink" title="å›¾ç‰‡è·¯å¾„é—®é¢˜"></a>å›¾ç‰‡è·¯å¾„é—®é¢˜</h2><p>åˆ©ç”¨extract-text-wbpack-plugin è½»æ¾çš„æŠŠcssæ–‡ä»¶åˆ†ç¦»äº†å‡ºæ¥ï¼Œä½†cssè·¯å¾„å¹¶ä¸æ­£ç¡®ã€‚</p><p>å¯ä»¥åœ¨è¿™é‡Œå…ˆbuildä¸€ä¸‹çœ‹ä¸‹æ•ˆæœã€‚å›¾ç‰‡ä¸ä¼šæ˜¾ç¤º</p><blockquote><p><strong>æœ€å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨publicPathè§£å†³</strong></p></blockquote><p>publicPath: æ˜¯åœ¨webpack.config.jsæ–‡ä»¶ä¸­çš„outputé€‰é¡¹ä¸­ï¼Œä¸»è¦ä½œç”¨å°±æ˜¯å¤„ç†é™æ€æ–‡ä»¶è·¯å¾„çš„ã€‚</p><h3 id="1-å¤„ç†å‰ï¼Œåœ¨webpack-config-jsä¸Šæ–¹å£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œå«website"><a href="#1-å¤„ç†å‰ï¼Œåœ¨webpack-config-jsä¸Šæ–¹å£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œå«website" class="headerlink" title="1. å¤„ç†å‰ï¼Œåœ¨webpack.config.jsä¸Šæ–¹å£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œå«website"></a>1. å¤„ç†å‰ï¼Œåœ¨webpack.config.jsä¸Šæ–¹å£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œå«website</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•™ç¨‹é‡Œè¿™é‡Œå†™çš„æ˜¯IPåœ°å€</span></span><br><span class="line"><span class="keyword">const</span> website = &#123;</span><br><span class="line">    publicPath: <span class="string">&#x27;http://localhost:8089/&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ipå’Œç«¯å£æ˜¯æœ¬æœºçš„IPæˆ–DevServeré…ç½®çš„ipå’Œç«¯å£ã€‚</p><h4 id="åé¢åŠ -ä¸åŠ -ï¼Œæµ‹è¯•äº†ä¸€ä¸‹ä¸åŠ -ï¼Œå¯ä»¥æŸ¥çœ‹cssæˆ–å›¾ç‰‡è·¯å¾„ï¼Œæ˜¯ä¸æ­£ç¡®çš„"><a href="#åé¢åŠ -ä¸åŠ -ï¼Œæµ‹è¯•äº†ä¸€ä¸‹ä¸åŠ -ï¼Œå¯ä»¥æŸ¥çœ‹cssæˆ–å›¾ç‰‡è·¯å¾„ï¼Œæ˜¯ä¸æ­£ç¡®çš„" class="headerlink" title="åé¢åŠ / ä¸åŠ /ï¼Œæµ‹è¯•äº†ä¸€ä¸‹ä¸åŠ /ï¼Œå¯ä»¥æŸ¥çœ‹cssæˆ–å›¾ç‰‡è·¯å¾„ï¼Œæ˜¯ä¸æ­£ç¡®çš„"></a>åé¢åŠ / ä¸åŠ /ï¼Œæµ‹è¯•äº†ä¸€ä¸‹ä¸åŠ /ï¼Œå¯ä»¥æŸ¥çœ‹cssæˆ–å›¾ç‰‡è·¯å¾„ï¼Œæ˜¯ä¸æ­£ç¡®çš„</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// é”™è¯¯çš„</span><br><span class="line"><span class="selector-tag">background-image</span>: <span class="selector-tag">url</span>(<span class="selector-tag">http</span>://<span class="selector-tag">localhost</span><span class="selector-pseudo">:8089images</span>/313455<span class="selector-tag">c00642024bfd21003ced8bf0e6</span><span class="selector-class">.png</span>);</span><br><span class="line">// æ­£ç¡®çš„</span><br><span class="line"><span class="selector-tag">background-image</span>: <span class="selector-tag">url</span>(<span class="selector-tag">http</span>://<span class="selector-tag">localhost</span><span class="selector-pseudo">:8089</span>/<span class="selector-tag">images</span>/313455<span class="selector-tag">c00642024bfd21003ced8bf0e6</span><span class="selector-class">.png</span>);</span><br></pre></td></tr></table></figure><h3 id="2-åœ¨outputé€‰é¡¹ä¸­å¼•ç”¨è¿™ä¸ªå¯¹è±¡çš„publicPathå±æ€§"><a href="#2-åœ¨outputé€‰é¡¹ä¸­å¼•ç”¨è¿™ä¸ªå¯¹è±¡çš„publicPathå±æ€§" class="headerlink" title="2. åœ¨outputé€‰é¡¹ä¸­å¼•ç”¨è¿™ä¸ªå¯¹è±¡çš„publicPathå±æ€§"></a>2. åœ¨outputé€‰é¡¹ä¸­å¼•ç”¨è¿™ä¸ªå¯¹è±¡çš„publicPathå±æ€§</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºçš„è·¯å¾„</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    <span class="comment">// è¾“å‡ºæ–‡ä»¶çš„åç§°</span></span><br><span class="line">    filename: <span class="string">&#x27;[name].js&#x27;</span>,</span><br><span class="line">    publicPath: website.publicPath</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="3-ç”¨webpackæ‰“åŒ…"><a href="#3-ç”¨webpackæ‰“åŒ…" class="headerlink" title="3. ç”¨webpackæ‰“åŒ…"></a>3. ç”¨webpackæ‰“åŒ…</h3><p>å¯ä»¥çœ‹åˆ°ï¼Œæ–‡ä»¶ä¸­çš„ç›¸å¯¹è·¯å¾„è¢«æ›¿æ¢æˆç»å¯¹è·¯å¾„ã€‚è¿™æ ·æ¥è®²é€Ÿåº¦æ›´å¿«ã€‚</p><h2 id="æ€»ç»“-ç¬¬9èŠ‚"><a href="#æ€»ç»“-ç¬¬9èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬9èŠ‚"></a>æ€»ç»“-ç¬¬9èŠ‚</h2><p>å®ç°äº†cssåˆ†ç¦»ï¼Œå¹¶å¤„ç†äº†åˆ†ç¦»åå›¾ç‰‡è·¯å¾„ä¸å¯¹çš„é—®é¢˜ã€‚</p><p>å¤„ç†çš„æ–¹æ³•è¦å……åˆ†ç†è§£ï¼Œåœ¨å·¥ä½œä¸­ç»å¸¸ç”¨åˆ°ã€‚</p><h3 id="æ›´æ”¹webpack-config-jsæ–‡ä»¶-ä¸ä¼šçƒ­æ›´æ–°"><a href="#æ›´æ”¹webpack-config-jsæ–‡ä»¶-ä¸ä¼šçƒ­æ›´æ–°" class="headerlink" title="æ›´æ”¹webpack.config.jsæ–‡ä»¶ ä¸ä¼šçƒ­æ›´æ–°"></a>æ›´æ”¹webpack.config.jsæ–‡ä»¶ ä¸ä¼šçƒ­æ›´æ–°</h3><h2 id="ç¬¬10èŠ‚ï¼š-å›¾ç‰‡è¿ˆå‘ï¼š-å¤„ç†HTMLä¸­çš„å›¾ç‰‡"><a href="#ç¬¬10èŠ‚ï¼š-å›¾ç‰‡è¿ˆå‘ï¼š-å¤„ç†HTMLä¸­çš„å›¾ç‰‡" class="headerlink" title="ç¬¬10èŠ‚ï¼š å›¾ç‰‡è¿ˆå‘ï¼š å¤„ç†HTMLä¸­çš„å›¾ç‰‡"></a>ç¬¬10èŠ‚ï¼š å›¾ç‰‡è¿ˆå‘ï¼š å¤„ç†HTMLä¸­çš„å›¾ç‰‡</h2><p>åœ¨webpackä¸­ä¸æ¨èä½¿ç”¨imgæ¥å¼•å…¥å›¾ç‰‡ï¼Œä½†æˆ‘ä»¬é€šå¸¸éƒ½ç”¨è¿™ç§å†™æ³•ã€‚ä¸ºæ­¤æœ‰äººå¼€å‘äº†ï¼š<br><strong>html-withimg-loader</strong> <a href="https://www.npmjs.com/package/html-withimg-loader">å®˜ç½‘</a></p><p>å¯ä»¥å¾ˆå¥½çš„å¤„ç†åœ¨HTMLä¸­å¼•å…¥å›¾ç‰‡çš„é—®é¢˜ã€‚</p><h3 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1.å®‰è£…"></a>1.å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-withimg-loader --save</span><br></pre></td></tr></table></figure><h3 id="2-é…ç½®loader"><a href="#2-é…ç½®loader" class="headerlink" title="2. é…ç½®loader"></a>2. é…ç½®loader</h3><p>webpack.config.js</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: /\.(html|html)$/i,</span><br><span class="line">    use: [&#x27;html-withimg-loader&#x27;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-æ‰§è¡Œæ‰“åŒ…"><a href="#3-æ‰§è¡Œæ‰“åŒ…" class="headerlink" title="3. æ‰§è¡Œæ‰“åŒ…"></a>3. æ‰§è¡Œæ‰“åŒ…</h3><p>å¯ä»¥å‘ç°imagesè¢«å¾ˆå¥½çš„æ‰“åŒ…äº†ã€‚å¹¶ä¸”è·¯å¾„ä¹Ÿå®Œå…¨æ­£ç¡®</p><h2 id="æ€»ç»“-ç¬¬10èŠ‚"><a href="#æ€»ç»“-ç¬¬10èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬10èŠ‚"></a>æ€»ç»“-ç¬¬10èŠ‚</h2><p>ä¸‰èŠ‚è¯¾çš„æ—¶é—´ï¼Œè®²äº†webpackå›¾ç‰‡ä¸­çš„å‘ï¼Œæ‰€æœ‰é—®é¢˜åº”è¯¥éƒ½å¯ä»¥è§£å†³äº†.</p><h2 id="å°çŸ¥è¯†-npm-run-build"><a href="#å°çŸ¥è¯†-npm-run-build" class="headerlink" title="å°çŸ¥è¯† npm run build"></a>å°çŸ¥è¯† npm run build</h2><h3 id="æ²¡æœ‰æ‰“åŒ…npm-run-buildï¼Œç›´æ¥npm-run-server-æ— æ³•çœ‹åˆ°æœ€æ–°ç»“æœ"><a href="#æ²¡æœ‰æ‰“åŒ…npm-run-buildï¼Œç›´æ¥npm-run-server-æ— æ³•çœ‹åˆ°æœ€æ–°ç»“æœ" class="headerlink" title="æ²¡æœ‰æ‰“åŒ…npm run buildï¼Œç›´æ¥npm run server,æ— æ³•çœ‹åˆ°æœ€æ–°ç»“æœ"></a>æ²¡æœ‰æ‰“åŒ…npm run buildï¼Œç›´æ¥npm run server,æ— æ³•çœ‹åˆ°æœ€æ–°ç»“æœ</h3><h3 id="åªæœ‰é¡¹ç›®å®‰è£…äº†webpackï¼Œå¦‚ä½•æ‰“åŒ…"><a href="#åªæœ‰é¡¹ç›®å®‰è£…äº†webpackï¼Œå¦‚ä½•æ‰“åŒ…" class="headerlink" title="åªæœ‰é¡¹ç›®å®‰è£…äº†webpackï¼Œå¦‚ä½•æ‰“åŒ…"></a>åªæœ‰é¡¹ç›®å®‰è£…äº†webpackï¼Œå¦‚ä½•æ‰“åŒ…</h3><p>å¦‚æœå…¨å±€æ²¡æœ‰å®‰è£…webpackçš„è¯ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œwebpackä¼šæŠ¥é”™ã€‚</p><h4 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h4><p>åœ¨package.jsonä¸­é…ç½®scriptsé€‰é¡¹ï¼Œå¢åŠ ä¸€ä¸ªbuildå‘½ä»¤ï¼Œè¿›è¡Œæ‰“åŒ…é¡¹ç›®ä½¿ç”¨ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;server&quot;: &quot;webpack-dev-server --open&quot;,</span><br><span class="line">    &quot;build&quot;:&quot;webpack&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><p>é…ç½®å®Œåï¼Œåœ¨ç»ˆç«¯è¾“å…¥<strong>npm run build</strong> å³å¯æ‰“åŒ…</p><h3 id="å¦‚ä½•æŠŠå›¾ç‰‡æ”¾åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸‹"><a href="#å¦‚ä½•æŠŠå›¾ç‰‡æ”¾åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸‹" class="headerlink" title="å¦‚ä½•æŠŠå›¾ç‰‡æ”¾åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸‹"></a>å¦‚ä½•æŠŠå›¾ç‰‡æ”¾åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸‹</h3><p>å‰é¢æ‰“åŒ…çš„å›¾ç‰‡å¹¶æ²¡æœ‰æ”¾åˆ°imagesæ–‡ä»¶å¤¹ä¸‹ï¼Œè¦æ”¾åˆ°imagesé‡Œï¼Œéœ€é…ç½®url-loader ==outputPath==é€‰é¡¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: extractTextPlugin.extract(&#123;</span><br><span class="line">                fallback: <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">                use: <span class="string">&#x27;css-loader&#x27;</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.(png|jpg|gif)/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123;</span><br><span class="line">                    loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        limit: <span class="number">5000</span>,</span><br><span class="line">                        outputPath: <span class="string">&#x27;images/&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>è¿™æ ·å†æ‰§è¡Œæ‰“åŒ…ï¼Œå›¾ç‰‡éƒ½è¢«æ‰“åŒ…åˆ°imagesæ–‡ä»¶é‡Œã€‚</p><h2 id="ç¬¬11èŠ‚ï¼š-CSS-è¿›é˜¶ï¼š-Less-æ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»"><a href="#ç¬¬11èŠ‚ï¼š-CSS-è¿›é˜¶ï¼š-Less-æ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»" class="headerlink" title="ç¬¬11èŠ‚ï¼š CSS è¿›é˜¶ï¼š Less æ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»"></a>ç¬¬11èŠ‚ï¼š CSS è¿›é˜¶ï¼š Less æ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»</h2><p>ç¬¬5èŠ‚ä¸­å·²ç»è®²äº†CSSæ‰“åŒ…ï¼Œåˆ†ç¦»ã€‚è¿™èŠ‚è®²Lessæ–‡ä»¶å¦‚ä½•æ‰“åŒ…å’Œåˆ†ç¦»ã€‚</p><p>Lessæ˜¯ä¸€é—¨CSSé¢„å¤„ç†è¯­è¨€ï¼Œæ‰©å±•äº†CSSè¯­è¨€ï¼Œå¢åŠ äº†å˜é‡ï¼ŒMixinï¼Œå‡½æ•°ç­‰ç‰¹æ€§ï¼Œä½¿CSSæ›´æ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚</p><h2 id="æ‰“åŒ…Lessæ–‡ä»¶"><a href="#æ‰“åŒ…Lessæ–‡ä»¶" class="headerlink" title="æ‰“åŒ…Lessæ–‡ä»¶"></a>æ‰“åŒ…Lessæ–‡ä»¶</h2><h3 id="1-å®‰è£…-å®˜ç½‘"><a href="#1-å®‰è£…-å®˜ç½‘" class="headerlink" title="1. å®‰è£… å®˜ç½‘"></a>1. å®‰è£… <a href="https://www.npmjs.com/package/less-loader">å®˜ç½‘</a></h3><p>å®‰è£…lessæœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev less</span><br></pre></td></tr></table></figure><p>å®‰è£…less-loaderä¾›æ‰“åŒ…ä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev less-loader</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä¸€æ¡å‘½ä»¤å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev less-loader less</span><br></pre></td></tr></table></figure><h3 id="2-loaderé…ç½®"><a href="#2-loaderé…ç½®" class="headerlink" title="2. loaderé…ç½®"></a>2. loaderé…ç½®</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">    use: [&#123;</span><br><span class="line">        loader: <span class="string">&quot;style-loader&quot;</span> <span class="comment">// creates style nodes from JS strings</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        loader: <span class="string">&quot;css-loader&quot;</span> <span class="comment">// translates CSS into CommonJS</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        loader: <span class="string">&quot;less-loader&quot;</span> <span class="comment">// compiles Less to CSS</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ç¼–å†™ä¸€ä¸ªlessæ–‡ä»¶"><a href="#3-ç¼–å†™ä¸€ä¸ªlessæ–‡ä»¶" class="headerlink" title="3. ç¼–å†™ä¸€ä¸ªlessæ–‡ä»¶"></a>3. ç¼–å†™ä¸€ä¸ªlessæ–‡ä»¶</h3><p>css/black.less</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@base: #000;</span><br><span class="line"><span class="selector-id">#gogo</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: @base;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-å¼•å…¥åˆ°entry-js"><a href="#4-å¼•å…¥åˆ°entry-js" class="headerlink" title="4. å¼•å…¥åˆ°entry.js"></a>4. å¼•å…¥åˆ°entry.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> less <span class="keyword">from</span> <span class="string">&#x27;./css/black.less&#x27;</span>;</span><br></pre></td></tr></table></figure><p>å¯ä»¥æ‰“åŒ…çœ‹æ•ˆæœ<br>å‘ç°æ‰“åŒ…åˆ°äº†entry.jsä¸­ï¼Œæ²¡æœ‰æå–åˆ°cssæ–‡ä»¶ä¸­</p><h2 id="æŠŠLessæ–‡ä»¶åˆ†ç¦»"><a href="#æŠŠLessæ–‡ä»¶åˆ†ç¦»" class="headerlink" title="æŠŠLessæ–‡ä»¶åˆ†ç¦»"></a>æŠŠLessæ–‡ä»¶åˆ†ç¦»</h2><p>ä¹‹å‰è®²äº†extract-text-webpack-pluginæ’ä»¶ï¼Œåˆ†ç¦»Lessä¹Ÿæ˜¯ç”¨è¿™ä¸ª</p><h3 id="é…ç½®lessçš„loader"><a href="#é…ç½®lessçš„loader" class="headerlink" title="é…ç½®lessçš„loader"></a>é…ç½®lessçš„loader</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">    use: extractTextPlugin.extract(&#123;</span><br><span class="line">        use: [&#123;</span><br><span class="line">            loader: <span class="string">&quot;css-loader&quot;</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            loader: <span class="string">&quot;less-loader&quot;</span></span><br><span class="line">        &#125;],</span><br><span class="line">        <span class="comment">// use style-loader in development</span></span><br><span class="line">        fallback: <span class="string">&quot;style-loader&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‰“åŒ…"><a href="#æ‰“åŒ…" class="headerlink" title="æ‰“åŒ…"></a>æ‰“åŒ…</h3><p>ä¼šçœ‹åˆ°lessè¢«æ‰“åŒ…åˆ°index.cssæ–‡ä»¶ä¸­</p><p>æ­¤å¤–ï¼Œåœ¨å®˜ç½‘çœ‹åˆ°äº†ï¼Œä¿®æ”¹åç¼€åçš„é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> extractLess = <span class="keyword">new</span> ExtractTextPlugin(&#123;</span><br><span class="line">    filename: <span class="string">&quot;[name].[contenthash].css&quot;</span>,</span><br><span class="line">    disable: process.env.NODE_ENV === <span class="string">&quot;development&quot;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-ç¬¬11èŠ‚"><a href="#æ€»ç»“-ç¬¬11èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬11èŠ‚"></a>æ€»ç»“-ç¬¬11èŠ‚</h2><p>é€šè¿‡è¿™èŠ‚è¯¾ï¼Œ å°±å¯ä»¥å¾ˆè½»æ¾çš„ç¼–å†™lessæ–‡ä»¶å•¦</p><h2 id="ç¬¬12èŠ‚ï¼š-CSSè¿›é˜¶ï¼š-SASSæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»-å®˜ç½‘"><a href="#ç¬¬12èŠ‚ï¼š-CSSè¿›é˜¶ï¼š-SASSæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»-å®˜ç½‘" class="headerlink" title="ç¬¬12èŠ‚ï¼š CSSè¿›é˜¶ï¼š SASSæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»  å®˜ç½‘"></a>ç¬¬12èŠ‚ï¼š CSSè¿›é˜¶ï¼š SASSæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»  <a href="https://www.npmjs.com/package/sass-loader">å®˜ç½‘</a></h2><p>ä¸ŠèŠ‚å­¦äº†lessçš„æ‰“åŒ…ï¼Œè¿™èŠ‚å¼€å§‹å­¦ä¹ SASSæ‰“åŒ…</p><h3 id="1-å®‰è£…ä¸¤ä¸ªåŒ…node-sassï¼Œsass-loader"><a href="#1-å®‰è£…ä¸¤ä¸ªåŒ…node-sassï¼Œsass-loader" class="headerlink" title="1. å®‰è£…ä¸¤ä¸ªåŒ…node-sassï¼Œsass-loader"></a>1. å®‰è£…ä¸¤ä¸ªåŒ…<strong>node-sassï¼Œsass-loader</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sass-loader node-sass webpack --save-dev</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><p>npmå®‰è£…æ—¶ï¼Œè¿™ä¸ªloaderå¾ˆå®¹æ˜“å®‰è£…å¤±è´¥ã€‚å¤šæ¬¡å®‰è£…å¤±è´¥ï¼Œæœ€å¥½æŠŠnode_modulesæ–‡ä»¶å¤¹åˆ é™¤ï¼Œå†é‡æ–°å®‰è£…ã€‚</p><h3 id="2-ç¼–å†™loaderé…ç½®"><a href="#2-ç¼–å†™loaderé…ç½®" class="headerlink" title="2. ç¼–å†™loaderé…ç½®"></a>2. ç¼–å†™loaderé…ç½®</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.scss$/</span>,</span><br><span class="line">    use: [&#123;</span><br><span class="line">        loader: <span class="string">&quot;style-loader&quot;</span> <span class="comment">// creates style nodes from JS strings</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        loader: <span class="string">&quot;css-loader&quot;</span> <span class="comment">// translates CSS into CommonJS</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        loader: <span class="string">&quot;sass-loader&quot;</span> <span class="comment">// compiles Sass to CSS</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„loaderçš„åŠ è½½æœ‰å…ˆåé¡ºåº(ä»ä¸‹åˆ°ä¸Šï¼Œä»å³åˆ°å·¦),å¯ä»¥ç›´æ¥ä»å®˜ç½‘æ‹·è´</p><h3 id="3-SASS-æ–‡ä»¶çš„ç¼–å†™"><a href="#3-SASS-æ–‡ä»¶çš„ç¼–å†™" class="headerlink" title="3.SASS æ–‡ä»¶çš„ç¼–å†™"></a>3.SASS æ–‡ä»¶çš„ç¼–å†™</h3><p>nav.scss,åˆ«å¿˜äº†å¼•å…¥åˆ°entry.jsä¸­</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$nav-color</span>: <span class="number">#FFF</span>;</span><br><span class="line"><span class="selector-id">#nav</span> &#123;</span><br><span class="line">    <span class="variable">$width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">$width</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    backround-<span class="attribute">color</span>: <span class="variable">$nav-color</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sass <span class="keyword">from</span> <span class="string">&#x27;./css/nav.scss&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œå¯ä»¥npm run server æŸ¥çœ‹æ•ˆæœã€‚</p><h3 id="4-æŠŠSASSæ–‡ä»¶åˆ†ç¦»"><a href="#4-æŠŠSASSæ–‡ä»¶åˆ†ç¦»" class="headerlink" title="4. æŠŠSASSæ–‡ä»¶åˆ†ç¦»"></a>4. æŠŠSASSæ–‡ä»¶åˆ†ç¦»</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.scss$/</span>,</span><br><span class="line">    use: extractTextPlugin.extract(&#123;</span><br><span class="line">        use: [&#123;</span><br><span class="line">            loader: <span class="string">&quot;css-loader&quot;</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            loader: <span class="string">&quot;sass-loader&quot;</span></span><br><span class="line">        &#125;],</span><br><span class="line">        <span class="comment">// use style-loader in development</span></span><br><span class="line">        fallback: <span class="string">&quot;style-loader&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œå¯ä»¥æ„‰å¿«çš„å†™sassä»£ç äº†ã€‚</p><h2 id="å°çŸ¥è¯†-D"><a href="#å°çŸ¥è¯†-D" class="headerlink" title="å°çŸ¥è¯†-D"></a>å°çŸ¥è¯†-D</h2><p>-D ç­‰äºâ€“save-dev</p><h2 id="ç¬¬13èŠ‚ï¼šCSSè¿›é˜¶ï¼š-è‡ªåŠ¨å¤„ç†CSS3å±æ€§å‰ç¼€"><a href="#ç¬¬13èŠ‚ï¼šCSSè¿›é˜¶ï¼š-è‡ªåŠ¨å¤„ç†CSS3å±æ€§å‰ç¼€" class="headerlink" title="ç¬¬13èŠ‚ï¼šCSSè¿›é˜¶ï¼š è‡ªåŠ¨å¤„ç†CSS3å±æ€§å‰ç¼€"></a>ç¬¬13èŠ‚ï¼šCSSè¿›é˜¶ï¼š è‡ªåŠ¨å¤„ç†CSS3å±æ€§å‰ç¼€</h2><p>css3å±æ€§ä¸åŒæµè§ˆå™¨å¯¹åº”çš„å‰ç¼€åç§°ä¸åŒï¼Œå¤ªå¤šçš„è¯ä»£ç å†—ä½™å·¥ä½œç¹æ‚ã€‚</p><p>è¿™èŠ‚å­¦ä¹ å¦‚ä½•ç”¨postcss-loaderç»™css3å±æ€§è‡ªåŠ¨æ·»åŠ å‰ç¼€ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯å±æ€§å‰ç¼€"><a href="#ä»€ä¹ˆæ˜¯å±æ€§å‰ç¼€" class="headerlink" title="ä»€ä¹ˆæ˜¯å±æ€§å‰ç¼€"></a>ä»€ä¹ˆæ˜¯å±æ€§å‰ç¼€</h2><p>CSS å±æ€§å‰çš„-webkit,-ms,-mozè¿™äº›å‰ç¼€ã€‚ä¸ºäº†å…¼å®¹å„ä¸ªæµè§ˆå™¨ç‰ˆæœ¬ã€‚</p><h3 id="PostCSS"><a href="#PostCSS" class="headerlink" title="PostCSS"></a>PostCSS</h3><p>cssçš„å¤„ç†å¹³å°ï¼Œå¯ä»¥å®ç°cssçš„å¾ˆå¤šåŠŸèƒ½ï¼Œè¿™é‡Œåªä»‹ç»ä¸€ä¸ªåŠ å‰ç¼€çš„åŠŸèƒ½ã€‚</p><h3 id="1-å®‰è£…-1"><a href="#1-å®‰è£…-1" class="headerlink" title="1. å®‰è£…"></a>1. å®‰è£…</h3><p>éœ€è¦å®‰è£…ä¸¤ä¸ªåŒ…postcss-loaderï¼Œ autoprefixer(è‡ªåŠ¨æ·»åŠ å‰ç¼€çš„æ’ä»¶)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev postcss-loader autoprefixer</span><br></pre></td></tr></table></figure><h3 id="2-postcss-config-js"><a href="#2-postcss-config-js" class="headerlink" title="2. postcss.config.js"></a>2. postcss.config.js</h3><p>PostCSSæ¨èåœ¨é¡¹ç›®æ ¹ç›®å½•(å’Œwebpack.config.jsåŒçº§)ï¼Œå»ºä¸€ä¸ªpostcss.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">&#x27;autoprefixer&#x27;</span>)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼•å…¥äº†autoprefixeræ’ä»¶ï¼Œè®©postCSSæ‹¥æœ‰æ·»åŠ å‰ç¼€çš„èƒ½åŠ›ã€‚</p><h3 id="3-ç¼–å†™loader"><a href="#3-ç¼–å†™loader" class="headerlink" title="3. ç¼–å†™loader"></a>3. ç¼–å†™loader</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">      use: [</span><br><span class="line">            &#123;</span><br><span class="line">              loader: <span class="string">&quot;style-loader&quot;</span></span><br><span class="line">            &#125;, &#123;</span><br><span class="line">              loader: <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">              options: &#123;</span><br><span class="line">                 modules: <span class="literal">true</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">              loader: <span class="string">&quot;postcss-loader&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">      ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¿™é‡Œæ˜¯æå–cssçš„loaderé…ç½®"><a href="#è¿™é‡Œæ˜¯æå–cssçš„loaderé…ç½®" class="headerlink" title="è¿™é‡Œæ˜¯æå–cssçš„loaderé…ç½®"></a>è¿™é‡Œæ˜¯æå–cssçš„loaderé…ç½®</h4><p>webpack.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    use: extractTextPlugin.extract(&#123;</span><br><span class="line">        fallback: <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">        use: [</span><br><span class="line">            &#123; <span class="attr">loader</span>: <span class="string">&#x27;css-loader&#x27;</span>, <span class="attr">options</span>: &#123; <span class="attr">importLoaders</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">            <span class="string">&#x27;postcss-loader&#x27;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="5-åœ¨index-cssä¸­æ·»åŠ cssæ ·å¼"><a href="#5-åœ¨index-cssä¸­æ·»åŠ cssæ ·å¼" class="headerlink" title="5. åœ¨index.cssä¸­æ·»åŠ cssæ ·å¼"></a>5. åœ¨index.cssä¸­æ·»åŠ cssæ ·å¼</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#img</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/img.png);</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">25</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰“åŒ…ï¼Œè¿è¡Œå¯ä»¥çœ‹åˆ°æ–°åŠ çš„æ ·å¼éƒ½åŠ ä¸Šäº†å‰ç¼€ã€‚</p><h2 id="ç¬¬14èŠ‚ï¼š-CSSè¿›é˜¶ï¼š-æ¶ˆé™¤æœªä½¿ç”¨çš„CSS"><a href="#ç¬¬14èŠ‚ï¼š-CSSè¿›é˜¶ï¼š-æ¶ˆé™¤æœªä½¿ç”¨çš„CSS" class="headerlink" title="ç¬¬14èŠ‚ï¼š CSSè¿›é˜¶ï¼š æ¶ˆé™¤æœªä½¿ç”¨çš„CSS"></a>ç¬¬14èŠ‚ï¼š CSSè¿›é˜¶ï¼š æ¶ˆé™¤æœªä½¿ç”¨çš„CSS</h2><blockquote><p>å¼•ç”¨åˆ«çš„åº“å¦‚BootStrapè¿™æ ·çš„æ¡†æ¶ï¼Œä¼šå¸¦å¾ˆå¤šCSSï¼Œä½†é¡¹ç›®ä¸­åªç”¨äº†ä¸€éƒ¨åˆ†ã€‚<br> éšé¡¹ç›®è¿›å±•ï¼ŒCSSè¶Šæ¥è¶Šå¤šï¼Œå¼€å‘æ—¶åªè€ƒè™‘æ–°å¢ï¼Œé€ æˆCSSå†—ä½™</p></blockquote><p>è¿™èŠ‚å­¦ä¹  ç”¨webpackæ¶ˆé™¤æœªä½¿ç”¨çš„CSSã€‚</p><h2 id="PurifyCSS"><a href="#PurifyCSS" class="headerlink" title="PurifyCSS"></a>PurifyCSS</h2><p>PurifyCSSå¯ä»¥å¤§å¤§å‡å°‘CSSå†—ä½™ï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„BootStrap(140KB)å°±å¯ä»¥å‡å°‘åˆ°åªæœ‰35KBå¤§å°ã€‚è¿™åœ¨å®é™…å¼€å‘å½“ä¸­æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p><h3 id="1-å®‰è£…PurifyCSS-webpack-å®˜ç½‘"><a href="#1-å®‰è£…PurifyCSS-webpack-å®˜ç½‘" class="headerlink" title="1. å®‰è£…PurifyCSS-webpack å®˜ç½‘"></a>1. å®‰è£…PurifyCSS-webpack <a href="https://www.npmjs.com/package/purifycss-webpack">å®˜ç½‘</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D purifycss-webpack purify-css</span><br></pre></td></tr></table></figure><p>-D æ˜¯â€“save-devçš„ç¼©å†™</p><h3 id="2-å¼•å…¥glob"><a href="#2-å¼•å…¥glob" class="headerlink" title="2. å¼•å…¥glob"></a>2. å¼•å…¥glob</h3><p>nodeçš„globæ¨¡å—å¯ä»¥æ ¹æ®é…ç½®çš„è§„åˆ™ï¼Œè·å–å¯¹åº”çš„æ–‡ä»¶ã€‚</p><p>åœ¨webpack.config.jså¼•å…¥globã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">&#x27;glob&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¼•å…¥purifycss-webpack</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> purifyCSSPlugin = <span class="built_in">require</span>(<span class="string">&#x27;purifycss-webpack&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="3-é…ç½®plugins"><a href="#3-é…ç½®plugins" class="headerlink" title="3.é…ç½®plugins"></a>3.é…ç½®plugins</h3><p>åœ¨webpack.config.jsçš„pluginsé‡Œå¢åŠ é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    <span class="comment">// new uglify()</span></span><br><span class="line">    <span class="keyword">new</span> htmlPlugin(&#123;</span><br><span class="line">        minify: &#123;</span><br><span class="line">            removeAttributeQuotes: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        hash: <span class="literal">true</span>,</span><br><span class="line">        template: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> extractTextPlugin(<span class="string">&#x27;css/index.css&#x27;</span>),</span><br><span class="line">    <span class="keyword">new</span> purifyCSSPlugin(&#123;</span><br><span class="line">        paths: glob.sync(path.join(__dirname, <span class="string">&#x27;src/*.html&#x27;</span>))</span><br><span class="line">    &#125;)</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„pathsä¸»è¦æ˜¯å¯»æ‰¾HTMLæ¨¡æ¿ï¼Œpurifycssä¼šæ ¹æ®è¿™ä¸ªé…ç½®éå†æ–‡ä»¶ï¼ŒæŸ¥æ‰¾å“ªäº›cssè¢«ä½¿ç”¨äº†ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šä½¿ç”¨è¿™ä¸ªæ’ä»¶å¿…é¡»é…åˆextract-text-webpack-pluginæ’ä»¶ã€‚</p><h3 id="4-åœ¨index-cssä¸­æ·»åŠ ä¸€äº›æ²¡ç”¨çš„css"><a href="#4-åœ¨index-cssä¸­æ·»åŠ ä¸€äº›æ²¡ç”¨çš„css" class="headerlink" title="4.åœ¨index.cssä¸­æ·»åŠ ä¸€äº›æ²¡ç”¨çš„css"></a>4.åœ¨index.cssä¸­æ·»åŠ ä¸€äº›æ²¡ç”¨çš„css</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å¤šä½™çš„css */</span></span><br><span class="line"><span class="selector-class">.bu</span>&#123;</span><br><span class="line">    <span class="attribute">backface-visibility</span>: hidden;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#FFF</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hefd</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œæ‰“åŒ…ï¼ŒæŸ¥çœ‹distä¸­çš„index.csså†…å®¹ï¼Œä¼šå‘ç°æ²¡æœ‰å¤šä½™çš„css.</p><h3 id="cssæ–‡ä»¶ä»£ç åˆ†å‰²"><a href="#cssæ–‡ä»¶ä»£ç åˆ†å‰²" class="headerlink" title="cssæ–‡ä»¶ä»£ç åˆ†å‰²"></a>cssæ–‡ä»¶ä»£ç åˆ†å‰²</h3><p>æŠŠcsså•ç‹¬æ‰“åŒ…åˆ°CSSæ–‡ä»¶ä¸­ï¼Œwebpacké»˜è®¤æŠŠcssæ‰“åŒ…åˆ°jsä¸­ã€‚å³css-in-js.<br><a href="https://webpack.js.org/plugins/mini-css-extract-plugin/#root">MiniCssExtractPlugin</a></p><p>å‹ç¼©æ‰“åŒ…å‡ºçš„cssä»£ç <a href="https://github.com/NMFR/optimize-css-assets-webpack-plugin">optimize-css-assets-webpack-plugin</a></p><p>ä¸èƒ½ä¸</p><h2 id="æ€»ç»“-ç¬¬14èŠ‚"><a href="#æ€»ç»“-ç¬¬14èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬14èŠ‚"></a>æ€»ç»“-ç¬¬14èŠ‚</h2><p>å·¥ä½œä¸­ä¸€å®šè¦ç”¨è¿™ä¸ªæ’ä»¶ï¼Œå†³å®šä½ çš„ä»£ç è´¨é‡ï¼Œéå¸¸æœ‰ç”¨ã€‚</p><h2 id="ç¬¬15èŠ‚ï¼š-ç»™webpackå¢åŠ babelé…ç½®"><a href="#ç¬¬15èŠ‚ï¼š-ç»™webpackå¢åŠ babelé…ç½®" class="headerlink" title="ç¬¬15èŠ‚ï¼š ç»™webpackå¢åŠ babelé…ç½®"></a>ç¬¬15èŠ‚ï¼š ç»™webpackå¢åŠ babelé…ç½®</h2><p>è™½ç„¶webpack4å¢åŠ äº†ES6çš„è¯­æ³•æ”¯æŒï¼Œä½†å®é™…æ•ˆæœå¹¶ä¸å¥½ã€‚<br>æ‰€ä»¥è¿˜æ˜¯è¦åŠ babel-loaderé…ç½®ã€‚</p><p>è¿™èŠ‚å­¦ä¹ å¦‚ä½•å¢åŠ Babelé…ç½®ã€‚</p><h2 id="babelæ˜¯ä»€ä¹ˆ-å®˜ç½‘"><a href="#babelæ˜¯ä»€ä¹ˆ-å®˜ç½‘" class="headerlink" title="babelæ˜¯ä»€ä¹ˆ å®˜ç½‘"></a>babelæ˜¯ä»€ä¹ˆ <a href="https://babeljs.io/">å®˜ç½‘</a></h2><p>Babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨ã€‚ç”¨ä»–å¯ä»¥</p><blockquote><p>ä½¿ç”¨ä¸‹ä¸€ä»£çš„javaScriptä»£ç (ES6,ES7â€¦.)ï¼Œå³ä½¿è¿™äº›æ ‡å‡†ç›®å‰å¹¶æœªè¢«å½“å‰çš„æµè§ˆå™¨å®Œå…¨æ”¯æŒã€‚<br> ä½¿ç”¨åŸºäºJavaScriptè¿›è¡Œäº†æ‰©å±•çš„è¯­è¨€ï¼Œæ¯”å¦‚Reactçš„JSXã€‚</p></blockquote><p>é«˜çº§: äº†è§£babelæ€ä¹ˆæŠŠé«˜çº§è¯­æ³•è½¬æ¢æˆæµè§ˆå™¨èƒ½è¯†åˆ«çš„ä»£ç </p><h3 id="1-Babelå®‰è£…"><a href="#1-Babelå®‰è£…" class="headerlink" title="1. Babelå®‰è£…"></a>1. Babelå®‰è£…</h3><p>å…ˆä¸€æ¬¡æ€§å®‰è£…æ‰€æœ‰ä¾èµ–åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-loader @babel/core @babel/preset-env</span><br><span class="line"><span class="comment"># é¿å…polyfill æ±¡æŸ“å…¨å±€å˜é‡ï¼Œä¼šä»¥é—­åŒ…å½¢å¼å¼•å…¥</span></span><br><span class="line">npm install -D @babel/plugin-transform-runtime</span><br></pre></td></tr></table></figure><p>è¿™äº›åŒ…åˆ†åˆ«æ˜¯ï¼šæ ¸å¿ƒåŒ… babel-loader 8.x | babel 7.x</p><h3 id="2-åœ¨webpackä¸­é…ç½®Babel"><a href="#2-åœ¨webpackä¸­é…ç½®Babel" class="headerlink" title="2.åœ¨webpackä¸­é…ç½®Babel"></a>2.åœ¨webpackä¸­é…ç½®Babel</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.(jsx|js)$/</span>,</span><br><span class="line">    use: &#123;</span><br><span class="line">        loader: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">            presets: [</span><br><span class="line">               <span class="string">&#x27;@babel/preset-env&#x27;</span>,</span><br><span class="line">            <span class="comment">//    ç”¨åˆ°å“ªä¸ªï¼ŒåŠ å“ªä¸ªpolyfill</span></span><br><span class="line">                [<span class="string">&#x27;@babel/preset-env&#x27;</span>, &#123;</span><br><span class="line">                    useBuiltIns: <span class="string">&#x27;usage&#x27;</span></span><br><span class="line">                &#125;]</span><br><span class="line">            ],</span><br><span class="line">            <span class="comment">// ä»£ç åªæ˜¯ä¸šåŠ¡ä»£ç ä¸ç”¨å¼•å…¥ï¼Œå¦‚æœæ˜¯ç±»åº“çš„ä»£ç ï¼Œéœ€è¦å¼•å…¥</span></span><br><span class="line">            plugins: [<span class="string">&#x27;@babel/plugin-transform-runtime&#x27;</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>presets: æ¸²æŸ“å™¨</p><p>ä¸èƒ½è½¬æ¢æ‰€æœ‰çš„jsï¼Œå»é™¤æ‰node_modulesï¼Œ</p><h3 id="3-åœ¨entry-jsä¸­ä¿®æ”¹ä»£ç "><a href="#3-åœ¨entry-jsä¸­ä¿®æ”¹ä»£ç " class="headerlink" title="3.åœ¨entry.jsä¸­ä¿®æ”¹ä»£ç "></a>3.åœ¨entry.jsä¸­ä¿®æ”¹ä»£ç </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> css <span class="keyword">from</span> <span class="string">&#x27;./css/index.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> less <span class="keyword">from</span> <span class="string">&#x27;./css/black.less&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> sass <span class="keyword">from</span> <span class="string">&#x27;./css/nav.scss&#x27;</span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">&#x27;Hello Webpack&#x27;</span></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;title&#x27;</span>).innerHTML = str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨æ‰“åŒ…å¯ä»¥çœ‹åˆ°letè¢«è½¬ä¸ºvar,åšäº†å…¼å®¹å¤„ç†ã€‚<br>å¦‚æœä¸é€‚ç”¨babelè½¬æ¢çš„è¯ï¼Œä¸ä¼šå¤„ç†ã€‚</p><h3 id="babelrcé…ç½®"><a href="#babelrcé…ç½®" class="headerlink" title=".babelrcé…ç½®"></a>.babelrcé…ç½®</h3><p>babelçš„é…ç½®é€šå¸¸å•ç‹¬å†™åœ¨.babelrcæ–‡ä»¶é‡Œ</p><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º.babelrcæ–‡ä»¶ï¼ŒæŠŠé…ç½®å†™åˆ°æ–‡ä»¶é‡Œã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;presets&quot;</span>: [</span><br><span class="line">    [<span class="string">&quot;@babel/preset-env&quot;</span>, &#123;</span><br><span class="line">      <span class="attr">&quot;loose&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;targets&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;node&quot;</span>: <span class="string">&quot;6.9&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;],</span><br><span class="line">    <span class="string">&quot;@babel/preset-react&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹webpack.config.jsçš„loaderé…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.(jsx|js)$/</span>,</span><br><span class="line">    use: &#123;</span><br><span class="line">       loader: <span class="string">&#x27;babel-loader&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ENV-å®˜ç½‘"><a href="#ENV-å®˜ç½‘" class="headerlink" title="ENV å®˜ç½‘"></a>ENV <a href="https://www.npmjs.com/package/babel-preset-env">å®˜ç½‘</a></h2><blockquote><p>babel-preset-env æ˜¯ä¸€ä¸ªæ–°çš„ presetï¼Œå¯ä»¥æ ¹æ®é…ç½®çš„ç›®æ ‡è¿è¡Œç¯å¢ƒï¼ˆenvironmentï¼‰è‡ªåŠ¨å¯ç”¨éœ€è¦çš„ babel æ’ä»¶ã€‚<br>ç›®å‰æˆ‘ä»¬å†™ javascript ä»£ç æ—¶ï¼Œéœ€è¦ä½¿ç”¨ N ä¸ª presetï¼Œæ¯”å¦‚ï¼šbabel-preset-es2015ã€babel-preset-es2016ã€‚es2015 å¯ä»¥æŠŠ ES6 ä»£ç ç¼–è¯‘ä¸º ES5ï¼Œes2016 å¯ä»¥æŠŠ ES2016 ä»£ç ç¼–è¯‘ä¸º ES6ã€‚babel-preset-latest å¯ä»¥ç¼–è¯‘ stage 4 è¿›åº¦çš„ ECMAScript ä»£ç ã€‚</p><p>é—®é¢˜æ˜¯æˆ‘ä»¬å‡ ä¹æ¯ä¸ªé¡¹ç›®ä¸­éƒ½ä½¿ç”¨äº†éå¸¸å¤šçš„ presetï¼ŒåŒ…æ‹¬ä¸å¿…è¦çš„ã€‚ä¾‹å¦‚å¾ˆå¤šæµè§ˆå™¨æ”¯æŒ ES6 çš„ generatorï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ babel-preset-es2015 çš„è¯ï¼Œgenerator å‡½æ•°å°±ä¼šè¢«ç¼–è¯‘æˆ ES5 ä»£ç ã€‚</p><p>babel-preset-env çš„å·¥ä½œæ–¹å¼ç±»ä¼¼ babel-preset-latestï¼Œå”¯ä¸€ä¸åŒçš„å°±æ˜¯ babel-preset-env ä¼šæ ¹æ®é…ç½®çš„ env åªç¼–è¯‘é‚£äº›è¿˜ä¸æ”¯æŒçš„ç‰¹æ€§ã€‚</p></blockquote><h3 id="å®‰è£…babel"><a href="#å®‰è£…babel" class="headerlink" title="å®‰è£…babel"></a>å®‰è£…babel</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-preset-env</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹.babelrcé‡Œçš„é…ç½®æ–‡ä»¶ï¼Œåªè¦æŠŠes2015æ¢æˆenvå°±å¯ä»¥äº†ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;presets&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;react&quot;</span>, <span class="string">&quot;env&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-ç¬¬15èŠ‚"><a href="#æ€»ç»“-ç¬¬15èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬15èŠ‚"></a>æ€»ç»“-ç¬¬15èŠ‚</h2><p>è¿™é‡Œå­¦äº†æ€ä¹ˆé…ç½®babelæ”¯æŒï¼Œå¹¶ä¸”åŠ¨æ€æ”¯æŒæœ€æ–°é…ç½®ã€‚</p><h2 id="ç¬¬16èŠ‚ï¼š-æ‰“åŒ…åå¦‚ä½•è°ƒè¯•"><a href="#ç¬¬16èŠ‚ï¼š-æ‰“åŒ…åå¦‚ä½•è°ƒè¯•" class="headerlink" title="ç¬¬16èŠ‚ï¼š æ‰“åŒ…åå¦‚ä½•è°ƒè¯•"></a>ç¬¬16èŠ‚ï¼š æ‰“åŒ…åå¦‚ä½•è°ƒè¯•</h2><p>webpackæ‰“åŒ…åï¼Œä»£ç æ— æ³•è°ƒè¯•ã€‚æ€ä¹ˆè§£å†³ï¼Ÿ</p><h3 id="webpackæ”¯æŒç”ŸæˆsourceMapæ¥æ–¹ä¾¿è°ƒè¯•"><a href="#webpackæ”¯æŒç”ŸæˆsourceMapæ¥æ–¹ä¾¿è°ƒè¯•" class="headerlink" title="webpackæ”¯æŒç”ŸæˆsourceMapæ¥æ–¹ä¾¿è°ƒè¯•"></a>webpackæ”¯æŒç”ŸæˆsourceMapæ¥æ–¹ä¾¿è°ƒè¯•</h3><p>ä½¿ç”¨webpacké€šè¿‡ç®€å•çš„devtoolé…ç½®ï¼Œwebpackä¼šè‡ªåŠ¨ç”Ÿæˆsource mapæ–‡ä»¶ï¼Œmapæ–‡ä»¶æ˜¯ä¸€ç§å¯¹åº”ç¼–è¯‘æ–‡ä»¶å’Œæºæ–‡ä»¶çš„æ–¹æ³•ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</p><h2 id="å››ç§é€‰é¡¹"><a href="#å››ç§é€‰é¡¹" class="headerlink" title="å››ç§é€‰é¡¹"></a>å››ç§é€‰é¡¹</h2><p>åœ¨é…ç½®devtoolæ—¶ï¼Œwebpackæä¾›äº†4ç§é€‰é¡¹</p><h3 id="source-map"><a href="#source-map" class="headerlink" title="source-map"></a>source-map</h3><p>åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ç”Ÿæˆä¸€ä¸ªå®Œæ•´ä¸”åŠŸèƒ½å®Œå…¨çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶æœ‰æœ€å¥½çš„source mapï¼Œä½†æ˜¯å®ƒä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</p><p>å‡ºé”™ä¿¡æ¯â€“åŒ…æ‹¬è¡Œï¼Œåˆ— ç‹¬ç«‹(æ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªmap)</p><h3 id="cheap-module-source-map"><a href="#cheap-module-source-map" class="headerlink" title="cheap-module-source-map"></a>cheap-module-source-map</h3><p>åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­äº§ç”Ÿä¸€ä¸ªä¸å¸¦æ˜ å°„åˆ—çš„mapï¼Œä¸å¸¦æ˜ å°„åˆ—æé«˜äº†æ‰“åŒ…é€Ÿåº¦ï¼Œä½†ä¹Ÿä½¿å¾—æµè§ˆå™¨å¼€å‘è€…å·¥å…·åªèƒ½å¯¹åº”åˆ°å…·ä½“çš„è¡Œï¼Œä¸èƒ½å¯¹åº”åˆ°å…·ä½“çš„åˆ—(ç¬¦å·)ï¼Œä¼šå¯¹è°ƒè¯•é€ æˆä¸ä¾¿ã€‚</p><p>å‡ºé”™ä¿¡æ¯â€“åªæœ‰è¡Œï¼Œæ²¡æœ‰åˆ— ç‹¬ç«‹</p><h3 id="eval-source-map"><a href="#eval-source-map" class="headerlink" title="eval-source-map"></a>eval-source-map</h3><p>ä½¿ç”¨evalæ‰“åŒ…æºæ–‡ä»¶æ¨¡å—ï¼Œåœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ç”Ÿäº§å¹²å‡€çš„å®Œæ•´ç‰ˆsourcemapï¼Œä½†å¯¹æ‰“åŒ…åè¾“å‡ºçš„JSæ–‡ä»¶çš„æ‰§è¡Œå…·æœ‰æ€§èƒ½å’Œå®‰å…¨çš„éšæ‚£ã€‚åœ¨å¼€å‘é˜¶æ®µå¯ä»¥ä½¿ç”¨ï¼Œç”Ÿäº§é˜¶æ®µä¸€å®šä¸è¦å¼€å¯è¿™ä¸ªé€‰é¡¹</p><p>å‡ºé”™ä¿¡æ¯â€“ è¡Œ åˆ— ä¸ç‹¬ç«‹</p><h3 id="cheap-module-eval-source-map"><a href="#cheap-module-eval-source-map" class="headerlink" title="cheap-module-eval-source-map"></a>cheap-module-eval-source-map</h3><p>è¿™æ˜¯åœ¨æ‰“åŒ…æ–‡ä»¶æ—¶æœ€å¿«ç”Ÿæˆsourcemapçš„æ–¹æ³•ï¼Œç”Ÿæˆçš„sourcemapä¼šå’Œæ‰“åŒ…åçš„JavaScriptåŒè¡Œæ˜¾ç¤ºï¼Œæ²¡æœ‰æ˜ å°„åˆ—ï¼Œå’Œeval-source-mapæœ‰ç›¸ä¼¼çš„ç¼ºç‚¹</p><p>å‡ºé”™ä¿¡æ¯â€“ åˆ—</p><h4 id="å››ç§æ‰“åŒ…æ¨¡å¼ï¼Œç”±ä¸Šåˆ°ä¸‹è¶Šæ¥è¶Šå¿«ã€‚å¿«çš„åŒæ—¶ï¼Œä¹Ÿæ„å‘³ç€å¯¹ä»£ç è°ƒè¯•çš„å›°éš¾è¶Šå¤§"><a href="#å››ç§æ‰“åŒ…æ¨¡å¼ï¼Œç”±ä¸Šåˆ°ä¸‹è¶Šæ¥è¶Šå¿«ã€‚å¿«çš„åŒæ—¶ï¼Œä¹Ÿæ„å‘³ç€å¯¹ä»£ç è°ƒè¯•çš„å›°éš¾è¶Šå¤§" class="headerlink" title="å››ç§æ‰“åŒ…æ¨¡å¼ï¼Œç”±ä¸Šåˆ°ä¸‹è¶Šæ¥è¶Šå¿«ã€‚å¿«çš„åŒæ—¶ï¼Œä¹Ÿæ„å‘³ç€å¯¹ä»£ç è°ƒè¯•çš„å›°éš¾è¶Šå¤§"></a>å››ç§æ‰“åŒ…æ¨¡å¼ï¼Œç”±ä¸Šåˆ°ä¸‹è¶Šæ¥è¶Šå¿«ã€‚å¿«çš„åŒæ—¶ï¼Œä¹Ÿæ„å‘³ç€å¯¹ä»£ç è°ƒè¯•çš„å›°éš¾è¶Šå¤§</h4><p>å»ºè®®ï¼š</p><p>å¦‚æœå¤§å‹é¡¹ç›®å¯ä»¥ä½¿ç”¨source-map,ä¸­å°å‹é¡¹ç›®ä½¿ç”¨eval-source-mapå°±å¯ä»¥å®Œå…¨åº”å¯¹ã€‚</p><p>å¼ºè°ƒï¼šsource-mapåªé€‚ç”¨äºå¼€å‘é˜¶æ®µï¼Œä¸Šçº¿ä¸€å®šè¦ä¿®æ”¹è¿™äº›é…ç½®ã€‚</p><h3 id="æ¨èçº¿ä¸Šç”¨çš„cheap-module-source-map-æ–¹ä¾¿çº¿ä¸Šå‡ºé—®é¢˜æ‰¾åŸå› "><a href="#æ¨èçº¿ä¸Šç”¨çš„cheap-module-source-map-æ–¹ä¾¿çº¿ä¸Šå‡ºé—®é¢˜æ‰¾åŸå› " class="headerlink" title="æ¨èçº¿ä¸Šç”¨çš„cheap-module-source-map, æ–¹ä¾¿çº¿ä¸Šå‡ºé—®é¢˜æ‰¾åŸå› "></a>æ¨èçº¿ä¸Šç”¨çš„cheap-module-source-map, æ–¹ä¾¿çº¿ä¸Šå‡ºé—®é¢˜æ‰¾åŸå› </h3><p>å¸¦moduleçš„ä¸ºæŠŠmoduleçš„ä»£ç ä¹Ÿæ‰“å…¥ä»£ç ä¸­<br>å¸¦inlineçš„ï¼Œä¼šæŠŠæ‰“åŒ…çš„ä»£ç æ”¾åˆ°ä»£ç ä¸­<br>cheap,åªè€ƒè™‘ä¸šåŠ¡ä»£ç ï¼Œä¸è€ƒè™‘moduleé‡Œçš„ä»£ç </p><h2 id="é…ç½®webpack-config-jsçš„devtool"><a href="#é…ç½®webpack-config-jsçš„devtool" class="headerlink" title="é…ç½®webpack.config.jsçš„devtool"></a>é…ç½®webpack.config.jsçš„devtool</h2><p>å¯ä»¥æ ¹æ®ä¸åŒæƒ…å†µä¿®æ”¹å¯¹åº”çš„å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºçš„è·¯å¾„</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    <span class="comment">// è¾“å‡ºæ–‡ä»¶çš„åç§°</span></span><br><span class="line">    filename: <span class="string">&#x27;[name].js&#x27;</span>,</span><br><span class="line">    publicPath: website.publicPath</span><br><span class="line">&#125;,</span><br><span class="line">devtool: <span class="string">&#x27;source-map&#x27;</span>,</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-ç¬¬16èŠ‚"><a href="#æ€»ç»“-ç¬¬16èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬16èŠ‚"></a>æ€»ç»“-ç¬¬16èŠ‚</h2><p>è¿™èŠ‚å­¦ä¹ äº†é…ç½®devtoolï¼Œæ–¹ä¾¿åœ¨å¼€å‘ç¯å¢ƒè°ƒè¯•ä»£ç ã€‚<br><a href="http://www.cnblogs.com/hhhyaaon/p/5657469.html">ä¸€ç¯‡è®²çš„ä¸é”™çš„åšå®¢</a></p><p><a href="http://webpack.github.io/docs/configuration.html#devtool">å®˜ç½‘åœ°å€</a></p><h2 id="ç¬¬17èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-å¼€å‘å’Œç”Ÿäº§å¹¶è¡Œé…ç½®"><a href="#ç¬¬17èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-å¼€å‘å’Œç”Ÿäº§å¹¶è¡Œé…ç½®" class="headerlink" title="ç¬¬17èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š å¼€å‘å’Œç”Ÿäº§å¹¶è¡Œé…ç½®"></a>ç¬¬17èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š å¼€å‘å’Œç”Ÿäº§å¹¶è¡Œé…ç½®</h2><p>è¿™èŠ‚è®²å¼€å‘å’Œç”Ÿäº§ä¸åŒç¯å¢ƒçš„ä¸åŒé…ç½®</p><h2 id="ä¾èµ–ä¸åŒ"><a href="#ä¾èµ–ä¸åŒ" class="headerlink" title="ä¾èµ–ä¸åŒ"></a>ä¾èµ–ä¸åŒ</h2><p>å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„ä¾èµ–æ˜¯ä¸åŒçš„</p><blockquote><p>å¼€å‘ä¾èµ–<br>    åªåœ¨å¼€å‘ä¸­ç”¨æ¥å¸®åŠ©ä½ è¿›è¡Œå¼€å‘ï¼Œç®€åŒ–ä»£ç ï¼Œæˆ–ç”Ÿæˆå…¼å®¹è®¾ç½®çš„ä¾èµ–åŒ…ã€‚åœ¨package.jsonä¸­devDependenciesä¸­çš„åŒ…æ˜¯å¼€å‘ä½¿ç”¨çš„ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒç”¨ä¸åˆ°ã€‚<br>ç”Ÿäº§ä¾èµ–<br>    ä¸€äº›æ¡†æ¶çš„æ ¸å¿ƒä»£ç ï¼Œæ¯”å¦‚vue, element-ui, react,<br>    è¿™äº›åŒ…åœ¨dependenciesä¸­</p></blockquote><h2 id="npmå®‰è£…"><a href="#npmå®‰è£…" class="headerlink" title="npmå®‰è£…"></a>npmå®‰è£…</h2><p>å‡å¦‚é¡¹ç›®ä¸­ä½¿ç”¨jQueryåº“ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§å®‰è£…æ³•ã€‚</p><h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install jquery</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œpackage.jsonä¸­å¹¶æ²¡æœ‰è¿™ä¸ªåŒ…çš„ä¾èµ–ã€‚å¦‚æœåˆ«äººååŒå¼€å‘ï¼Œç›´æ¥npm installï¼Œé¡¹ç›®æ— æ³•æ­£å¸¸è¿è¡Œï¼Œä¸æ¨èã€‚</p><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install jquery --save</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œåœ¨package.jsonçš„dependenciesä¸­ã€‚æ˜¯ç”Ÿäº§ç¯å¢ƒéœ€è¦ä¾èµ–çš„åŒ…ã€‚ä¸Šçº¿æ—¶éœ€è¦ä¾èµ–ã€‚</p><h3 id="3"><a href="#3" class="headerlink" title="3"></a>3</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install jquery --save-dev</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œåœ¨package.jsonçš„devDevpendenciesä¸­,æ˜¯å¼€å‘ç¯å¢ƒä¾èµ–çš„åŒ…ï¼Œä¸Šçº¿ä¸éœ€è¦è¿™äº›åŒ…çš„ä¾èµ–ã€‚</p><h3 id="å®‰è£…å…¨éƒ¨ä¾èµ–åŒ…"><a href="#å®‰è£…å…¨éƒ¨ä¾èµ–åŒ…" class="headerlink" title="å®‰è£…å…¨éƒ¨ä¾èµ–åŒ…"></a>å®‰è£…å…¨éƒ¨ä¾èµ–åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p>ä¼šå®‰è£…package.jsonä¸­çš„æ‰€æœ‰åŒ…</p><h3 id="å®‰è£…ç”Ÿäº§ç¯å¢ƒä¾èµ–åŒ…"><a href="#å®‰è£…ç”Ÿäº§ç¯å¢ƒä¾èµ–åŒ…" class="headerlink" title="å®‰è£…ç”Ÿäº§ç¯å¢ƒä¾èµ–åŒ…"></a>å®‰è£…ç”Ÿäº§ç¯å¢ƒä¾èµ–åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --production</span><br></pre></td></tr></table></figure><h2 id="é…ç½®ç”Ÿäº§å’Œå¼€å‘å¹¶è¡Œ"><a href="#é…ç½®ç”Ÿäº§å’Œå¼€å‘å¹¶è¡Œ" class="headerlink" title="é…ç½®ç”Ÿäº§å’Œå¼€å‘å¹¶è¡Œ"></a>é…ç½®ç”Ÿäº§å’Œå¼€å‘å¹¶è¡Œ</h2><p>ä»¥å‰çš„é…ç½®ä¸­è®¾ç½®äº†ä¸€ä¸ªå˜é‡website,ç”¨äºé™æ€èµ„æºæ‰¾åˆ°æ­£ç¡®è·¯å¾„ã€‚å¦‚æœç”Ÿäº§ç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒä¸ä¸€æ ·ï¼Œéœ€è¦æ¥å›åˆ‡æ¢ï¼Œè¿™æ—¶å€™å¯ç”¨ä¸‹é¢çš„æ–¹æ³•é…ç½®ã€‚</p><h3 id="ä¿®æ”¹package-jsonå‘½ä»¤"><a href="#ä¿®æ”¹package-jsonå‘½ä»¤" class="headerlink" title="ä¿®æ”¹package.jsonå‘½ä»¤"></a>ä¿®æ”¹package.jsonå‘½ä»¤</h3><p>æ·»åŠ devä½•æ­¢ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡æ¥åŒºåˆ†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;liveserver&quot;</span>: <span class="string">&quot;live-server ./ --port=9090&quot;</span>,</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;set type=dev&amp;webpack&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;set type=build&amp;webpack&quot;</span>,</span><br><span class="line">    <span class="string">&quot;server&quot;</span>: <span class="string">&quot;webpack-dev-server --open&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹webpack-config-jsæ–‡ä»¶"><a href="#ä¿®æ”¹webpack-config-jsæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹webpack.config.jsæ–‡ä»¶"></a>ä¿®æ”¹webpack.config.jsæ–‡ä»¶</h3><p>åˆ©ç”¨nodeçš„è¯­æ³•è¯»å–typeçš„å€¼ï¼Œç„¶åæ ¹æ®typeçš„å€¼è¿›è¡Œåˆ¤æ–­è®¾ç½®ä¸åŒçš„å˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span>(process.env.type === <span class="string">&#x27;build&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> website = &#123;</span><br><span class="line">        publicPath: <span class="string">&#x27;http://localhost:8089/&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> website = &#123;</span><br><span class="line">        publicPath: <span class="string">&#x27;http://localhost:8089/&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³çœ‹æŸä¸ªå€¼ï¼Œå¯ä»¥console.logæ‰“å°å‡ºæ¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(process.env.type)</span><br></pre></td></tr></table></figure><p>æ‰“å°console.log( encodeURIComponent(process.env.type) );å‘ç°æŠ¥é”™</p><p>macä¸‹çš„package.jsonè®¾ç½®<br>macç”µè„‘éœ€è¦æŠŠsetæ¢æˆexportï¼Œå¹¶ä¸”å¤šåŠ ä¸€ä¸ª&amp;,å…·ä½“ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;server&quot;</span>: <span class="string">&quot;webpack-dev-server --open&quot;</span>,</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>:<span class="string">&quot;export type=dev&amp;&amp;webpack&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;export type=build&amp;&amp;webpack&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-ç¬¬17èŠ‚"><a href="#æ€»ç»“-ç¬¬17èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬17èŠ‚"></a>æ€»ç»“-ç¬¬17èŠ‚</h2><p>é€šè¿‡é…ç½®ä¸åŒçš„å‚æ•°æ¥åŒºåˆ†ä¸åŒçš„ç¯å¢ƒï¼Œä»è€Œè¾¾åˆ°ä¸åŒç¯å¢ƒæ‰“åŒ…ä¸åŒä»£ç ã€‚</p><h2 id="ç¬¬18èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-webpackæ¨¡å—åŒ–é…ç½®"><a href="#ç¬¬18èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-webpackæ¨¡å—åŒ–é…ç½®" class="headerlink" title="ç¬¬18èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š webpackæ¨¡å—åŒ–é…ç½®"></a>ç¬¬18èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š webpackæ¨¡å—åŒ–é…ç½®</h2><p>æ‰€æœ‰é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨webpack.config.jsä¸­ä¼šæ˜¾å¾—ä»£ç å†—ä½™ï¼Œä¸åˆ©äºç»´æŠ¤ã€‚</p><p>å¦‚ä½•è¿›è¡Œæ¨¡å—åŒ–ï¼Ÿ</p><p>å¯ä»¥æŠŠç”Ÿäº§ç¯å¢ƒçš„å†™åˆ°ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œå¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒéƒ½åˆ†å¼€æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</p><p>è¿™èŠ‚å­¦ä¹ å¦‚ä½•å°†webpack.config.jsæ¨¡å—åŒ–</p><h2 id="jsçš„æ¨¡å—åŒ–å®ç°"><a href="#jsçš„æ¨¡å—åŒ–å®ç°" class="headerlink" title="jsçš„æ¨¡å—åŒ–å®ç°"></a>jsçš„æ¨¡å—åŒ–å®ç°</h2><p>å…ˆçœ‹ä¸€ä¸‹es6ä¸­çš„æ¨¡å—åŒ–ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">alertMsg</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;info: &#x27;</span> + msg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = alertMsg;</span><br></pre></td></tr></table></figure><p>å£°æ˜ä¸€ä¸ªalertMsgæ–¹æ³•ï¼Œå¹¶æŠŠè¿™ä¸ªæ–¹æ³•ç”¨module.exportsæš´éœ²å‡ºå»ã€‚</p><p>ç„¶ååœ¨å…¶ä»–æ–‡ä»¶ä¸­ç”¨importå¼•å…¥ï¼Œå¹¶ä½¿ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> alertMsg <span class="keyword">from</span> <span class="string">&#x27;./utils.js&#x27;</span></span><br><span class="line">alertMsg();</span><br></pre></td></tr></table></figure><p>äº†è§£äº†JavaScriptçš„æ¨¡å—åŒ–åï¼Œæ¥å†™webpackçš„æ¨¡å—åŒ–</p><h2 id="webpackæ¨¡å—åŒ–"><a href="#webpackæ¨¡å—åŒ–" class="headerlink" title="webpackæ¨¡å—åŒ–"></a>webpackæ¨¡å—åŒ–</h2><p>è¿™é‡Œç”¨webpack.config.jsä¸­çš„entryå…¥å£å“¦æ–‡ä»¶è¿›è¡Œæ¨¡å—åŒ–è®¾ç½®ï¼Œå•ç‹¬åšæˆä¸€ä¸ªæ¨¡å—</p><h3 id="1-åœ¨æ ¹ç›®å½•å»ºä¸€ä¸ªwebpackConfigæ–‡ä»¶å¤¹ï¼Œæ–°å»ºentry-webpack-jsï¼Œå¦‚ä¸‹"><a href="#1-åœ¨æ ¹ç›®å½•å»ºä¸€ä¸ªwebpackConfigæ–‡ä»¶å¤¹ï¼Œæ–°å»ºentry-webpack-jsï¼Œå¦‚ä¸‹" class="headerlink" title="1. åœ¨æ ¹ç›®å½•å»ºä¸€ä¸ªwebpackConfigæ–‡ä»¶å¤¹ï¼Œæ–°å»ºentry_webpack.jsï¼Œå¦‚ä¸‹"></a>1. åœ¨æ ¹ç›®å½•å»ºä¸€ä¸ªwebpackConfigæ–‡ä»¶å¤¹ï¼Œæ–°å»ºentry_webpack.jsï¼Œå¦‚ä¸‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜entry å˜é‡</span></span><br><span class="line"><span class="keyword">const</span> entry = &#123;&#125;;</span><br><span class="line"><span class="comment">// å£°æ˜è·¯å¾„å±æ€§</span></span><br><span class="line">entry.path = &#123;</span><br><span class="line">    entry: <span class="string">&#x27;./src/entry.js&#x27;</span>,</span><br><span class="line">    entry2: <span class="string">&#x27;./src/entry2.js&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡Œè¿˜å¯ä»¥å†™å…¶ä»–çš„</span></span><br><span class="line"><span class="comment">// entry.env.typeä¹‹ç±»çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¨¡å—åŒ–å¯¼å‡º</span></span><br><span class="line"><span class="built_in">module</span>.exports = entry;</span><br></pre></td></tr></table></figure><h3 id="2-åœ¨webpack-config-jsä¸­å¼•å…¥ï¼Œè¿™é‡Œåªèƒ½ç”¨requireå¼•å…¥"><a href="#2-åœ¨webpack-config-jsä¸­å¼•å…¥ï¼Œè¿™é‡Œåªèƒ½ç”¨requireå¼•å…¥" class="headerlink" title="2. åœ¨webpack.config.jsä¸­å¼•å…¥ï¼Œè¿™é‡Œåªèƒ½ç”¨requireå¼•å…¥"></a>2. åœ¨webpack.config.jsä¸­å¼•å…¥ï¼Œè¿™é‡Œåªèƒ½ç”¨requireå¼•å…¥</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> entry = <span class="built_in">require</span>(<span class="string">&#x27;./webpackConfig/entry_webpack.js&#x27;</span>)</span><br></pre></td></tr></table></figure><p>åœ¨å…¥å£å¤„ä¿®æ”¹å¦‚ä¸‹ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">entry: entry.path,</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å¯ä»¥è¿è¡Œnpm run devè¿›è¡Œæµ‹è¯•ï¼Œä¼šå‘ç°æ­£å¸¸è¿è¡Œ</p><h2 id="æ€»ç»“-ç¬¬18èŠ‚"><a href="#æ€»ç»“-ç¬¬18èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬18èŠ‚"></a>æ€»ç»“-ç¬¬18èŠ‚</h2><p>æ¨¡å—åŒ–æ˜¯å¿…ä¸å¯å°‘çš„æ“ä½œï¼Œä¸€å®šè¦åŠ¨æ‰‹ç»ƒä¹ ã€‚</p><h2 id="ç¬¬19èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-ä¼˜é›…æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“-shimming"><a href="#ç¬¬19èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-ä¼˜é›…æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“-shimming" class="headerlink" title="ç¬¬19èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š ä¼˜é›…æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“-shimming"></a>ç¬¬19èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š ä¼˜é›…æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“-shimming</h2><p>æœ‰æ—¶å€™é¿å…ä¸äº†æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œè¿™æ—¶å€™è¯¥æ€ä¹ˆæ“ä½œã€‚</p><p>è¿™èŠ‚å­¦ä¹ å¦‚ä½•ä¼˜é›…æ­£ç¡®çš„ç”¨webpackå¼•å…¥ç¬¬ä¸‰æ–¹åº“ã€‚è®²ä¸¤ç§æ–¹æ³•</p><h2 id="å¼•å…¥jQuery"><a href="#å¼•å…¥jQuery" class="headerlink" title="å¼•å…¥jQuery"></a>å¼•å…¥jQuery</h2><h3 id="ç¬¬ä¸€ç§"><a href="#ç¬¬ä¸€ç§" class="headerlink" title="ç¬¬ä¸€ç§"></a>ç¬¬ä¸€ç§</h3><h3 id="å®‰è£…jquery"><a href="#å®‰è£…jquery" class="headerlink" title="å®‰è£…jquery"></a>å®‰è£…jquery</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save jquery</span><br></pre></td></tr></table></figure><p>juqeryè¦åœ¨ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒç”¨ï¼Œæ‰€ä»¥è¦ç”¨â€“saveå®‰è£…</p><h3 id="ä¿®æ”¹entry-jsæ–‡ä»¶"><a href="#ä¿®æ”¹entry-jsæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹entry.jsæ–‡ä»¶"></a>ä¿®æ”¹entry.jsæ–‡ä»¶</h3><p>å®‰è£…å¥½éœ€è¦å¼•å…¥åˆ°entry.jsä¸­ï¼Œè¿™é‡Œç›´æ¥ç”¨importå¼•å…¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">&#x27;jquery&#x27;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¸éœ€è¦å†™ç›¸å¯¹è·¯å¾„ï¼Œå› ä¸ºjqueryçš„åŒ…æ˜¯åœ¨node_modulesé‡Œï¼Œåªè¦å†™ä¸€ä¸ªåŒ…åï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æŸ¥æ‰¾ã€‚</p><p>å¼•å…¥jQueryåå°±å¯ä»¥åœ¨æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨jQueryï¼Œä¿®æ”¹ä»£ç ï¼Œæµ‹è¯•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#gogo&#x27;</span>).animate(&#123;<span class="attr">height</span> : <span class="string">&quot;150&quot;</span> &#125; , <span class="number">1000</span> )</span><br><span class="line">    .animate(&#123;<span class="attr">width</span> : <span class="string">&quot;300&quot;</span> &#125; , <span class="number">1000</span> )</span><br><span class="line">    .hide(<span class="number">2000</span>)</span><br><span class="line">    .animate(&#123;<span class="attr">height</span> : <span class="string">&quot;show&quot;</span> , <span class="attr">width</span> : <span class="string">&quot;show&quot;</span> , <span class="attr">opacity</span> : <span class="string">&quot;show&quot;</span> &#125; , <span class="number">1000</span> )</span><br><span class="line">    .animate(&#123;<span class="attr">height</span> : <span class="string">&quot;500&quot;</span>&#125; , <span class="number">1000</span> );</span><br></pre></td></tr></table></figure><p>ä»£ç é¡ºåˆ©è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°jQueryåº“å¼•ç”¨æˆåŠŸã€‚</p><p>æ³¨æ„ï¼šä¸ä»…å¯ä»¥åœ¨å…¥å£å¤„å¼•å…¥ï¼Œè¿˜å¯ä»¥åœ¨ä»»ä½•éœ€è¦çš„jsä¸­å¼•å…¥ã€‚<br>webpackä¸ä¼šé‡å¤æ‰“åŒ…ï¼Œä»–åªæ‰“åŒ…ä¸€æ¬¡ã€‚</p><h3 id="ç¬¬äºŒç§"><a href="#ç¬¬äºŒç§" class="headerlink" title="ç¬¬äºŒç§"></a>ç¬¬äºŒç§</h3><h3 id="ç”¨pluginå¼•å…¥"><a href="#ç”¨pluginå¼•å…¥" class="headerlink" title="ç”¨pluginå¼•å…¥"></a>ç”¨pluginå¼•å…¥</h3><p>ä¸Šé¢çš„æ–¹æ³•ï¼Œåªæ˜¯æ™®é€šçš„å¼•å…¥ï¼Œwebpackåªè´Ÿè´£æ‰“åŒ…ï¼Œæ²¡æœ‰å…¨å±€æ„Ÿã€‚</p><p>è¿™ä¸ªæ–¹æ³•åœ¨webpack.config.jsä¸­é…ç½®ï¼Œä¸éœ€è¦åœ¨å…¥åº“æ–‡ä»¶ä¸­å¼•å…¥ï¼Œè€Œæ˜¯webpackè‡ªåŠ¨ä½œå…¨å±€å¼•å…¥ã€‚</p><p>è¿™ä¸ªæ’ä»¶æ˜¯<strong>ProvicePlugin</strong> <a href="http://webpack.github.io/docs/shimming-modules.html#plugin-provideplugin">æ–‡æ¡£</a></p><p>ProvicePluginæ˜¯webpackè‡ªå¸¦çš„æ’ä»¶ï¼Œè¦ç°åœ¨webpack.config.jsä¸­å¼•å…¥webpackã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br></pre></td></tr></table></figure><p>åœ¨pluginsä¸­é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">    $: <span class="string">&#x27;jQuery&#x27;</span>,</span><br><span class="line">    _: <span class="string">&#x27;lodash&#x27;</span>,</span><br><span class="line">    _join: [<span class="string">&#x27;lodash&#x27;</span>, <span class="string">&#x27;join&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é…ç½®å¥½åï¼Œå°±å¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ç›´æ¥ä½¿ç”¨$, è€Œä¸ç”¨åœ¨æ¯ä¸ªç»„ä»¶å¼•å…¥jQueryã€‚</p><p>è¿™ç§å…¨å±€çš„å¼•å…¥ï¼Œåœ¨å®é™…å·¥ä½œä¸­ä¹Ÿå¯ä»¥å¾ˆå¥½çš„è§„èŒƒé¡¹ç›®æ‰€ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“ã€‚</p><h2 id="æ€»ç»“-ç¬¬19èŠ‚"><a href="#æ€»ç»“-ç¬¬19èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬19èŠ‚"></a>æ€»ç»“-ç¬¬19èŠ‚</h2><p>æ¯ä¸ªé¡¹ç›®éƒ½å¯èƒ½å¼•å…¥ç¬¬ä¸‰æ–¹ç±»åº“ã€‚åƒä¸€äº›æˆç†Ÿçš„æ¡†æ¶éƒ½æœ‰è‡ªå·±çš„webpackæ¡†æ¶ï¼Œå¦‚vue-cliã€‚</p><p>å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦æ‰‹åŠ¨æ›´æ”¹è¿™äº›é…ç½®å¥½çš„webpackæ¥é€‚ç”¨äºæˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®ã€‚</p><p>æ‰€ä»¥è¿™èŠ‚è¯¾çš„å†…å®¹ä¹Ÿéå¸¸é‡è¦ã€‚</p><h2 id="ç¬¬20èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-watchçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•"><a href="#ç¬¬20èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-watchçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ç¬¬20èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š watchçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•"></a>ç¬¬20èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š watchçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•</h2><p>åœ¨åˆçº§å¼€å‘é˜¶æ®µï¼Œä½¿ç”¨webpack-dev-serverå¯ä»¥å……å½“æœåŠ¡å™¨å’Œå®Œæˆæ‰“åŒ…ä»»åŠ¡ï¼Œä½†éšç€é¡¹ç›®çš„è¿›ä¸€æ­¥å®Œå–„ï¼Œå¯èƒ½éœ€è¦å‰åè”è°ƒæˆ–ä¸¤ä¸ªå‰ç«¯åˆå¹¶ä»£ç æ—¶ï¼Œå°±éœ€è¦ä¸€ä¸ªå…¬å…±çš„æœåŠ¡å™¨ã€‚è¿™æ—¶å€™ï¼Œæ¯æ¬¡æ‰‹åŠ¨æ‰“åŒ…æ˜¾ç„¶æ•ˆç‡å¤ªä½ï¼Œæˆ‘ä»¬å¸Œæœ›çš„åœºæ™¯æ˜¯ä»£ç å‘ç”Ÿå˜åŒ–åï¼Œåªè¦ä¿å­˜ï¼Œwebpackå°±è‡ªåŠ¨ä¸ºæˆ‘ä»¬è¿›è¡Œæ‰“åŒ…ã€‚</p><p>è¿™ä¸ªå·¥å…·å°±æ˜¯watchã€‚</p><p>è¿™èŠ‚è¯¾å­¦å®Œåï¼Œä¼šå‘ç°åœ¨å¼€å‘ä¸­æ›´åŠ å¾—å¿ƒåº”æ‰‹äº†ã€‚</p><h2 id="watchè®¾ç½®"><a href="#watchè®¾ç½®" class="headerlink" title="watchè®¾ç½®"></a>watchè®¾ç½®</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">watchOptions: &#123;</span><br><span class="line">    <span class="comment">// æ£€æµ‹ä¿®æ”¹çš„æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½</span></span><br><span class="line">    poll: <span class="number">100</span>,</span><br><span class="line">    <span class="comment">// é˜²æ­¢é‡å¤ä¿å­˜è€Œå‘ç”Ÿç¼–è¯‘é”™è¯¯ã€‚è¿™é‡Œè®¾ç½®çš„500æ˜¯åŠç§’å†…é‡å¤ä¿å­˜ï¼Œä¸è¿›è¡Œæ‰“åŒ…</span></span><br><span class="line">    aggregeateTimeout: <span class="number">500</span>,</span><br><span class="line">    <span class="comment">// ä¸ç›‘å¬çš„ç›®å½•</span></span><br><span class="line">    ignored: <span class="regexp">/node_modules/</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>æ³¨æ„ignoredè¿™é‡Œä¸èƒ½ç”¨åŒå¼•å·</p><p>æ²¡æœ‰é…ç½®çš„æƒ…å†µä¸‹ï¼Œç›´æ¥webpack â€“watch   (-w) æ˜¯ä¸èµ·ä½œç”¨çš„</p><p>é…ç½®å¥½åï¼Œå°±å¯ä»¥ç—›å¿«çš„ä½¿ç”¨watchäº†ã€‚å¤§å¤§åŠ å¿«äº†å¼€å‘æ•ˆç‡ï¼Œä¸ç”¨åå¤æ‰‹åŠ¨æ‰“åŒ…ã€‚</p><h2 id="BannerPluginæ’ä»¶"><a href="#BannerPluginæ’ä»¶" class="headerlink" title="BannerPluginæ’ä»¶"></a>BannerPluginæ’ä»¶</h2><p>å·¥ä½œä¸­æ¯ä¸ªäººçš„ä»£ç éƒ½è¦å†™å¤‡æ³¨ï¼Œæ–¹ä¾¿å‘ç”Ÿé—®é¢˜æ—¶ï¼Œå¯ä»¥æ‰¾åˆ°å†™ä»£ç çš„äººï¼Œæœ‰æ—¶å€™ä¹Ÿç”¨äºç‰ˆæƒå£°æ˜ã€‚</p><p>è¿™ä¸ªæ’ä»¶å°±æ˜¯BannerPlugin,ä½¿ç”¨åä¼šåœ¨jsä¸­åŠ ä¸Šæˆ‘ä»¬çš„ç‰ˆæƒæˆ–å¼€å‘è€…å£°æ˜</p><p>åœ¨webpack.config.jsçš„pluginsé‡Œé…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&#x27;ç‰ˆæƒæ‰€æœ‰ï¼Œä»…é™å­¦ä¹ ä½¿ç”¨~~&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š ç”¨è¿™ä¸ªæ’ä»¶ï¼Œéœ€è¦æå‰å¼•å…¥webpack.<br>ç¼–è¯‘åï¼Œåœ¨æ¯ä¸ªæ–‡ä»¶çš„å¤´éƒ¨ï¼Œä¼šæœ‰ç¼–è¯‘ä¿¡æ¯ã€‚</p><h2 id="ç¬¬21èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-webpackä¼˜åŒ–é»‘æŠ€èƒ½"><a href="#ç¬¬21èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-webpackä¼˜åŒ–é»‘æŠ€èƒ½" class="headerlink" title="ç¬¬21èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š webpackä¼˜åŒ–é»‘æŠ€èƒ½"></a>ç¬¬21èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š webpackä¼˜åŒ–é»‘æŠ€èƒ½</h2><p>æ— è®ºå†™ä»€ä¹ˆç¨‹åºï¼Œéƒ½è¦æœ‰é¢—ä¸æ–­ä¼˜åŒ–çš„å¿ƒã€‚</p><p>è¿™èŠ‚è¯¾æ¥å­¦ä¹ å·¥ä½œä¸­å¸¸ç”¨çš„webpackä¼˜åŒ–é»‘æŠ€èƒ½ã€‚</p><h2 id="ProvidePluginå’Œimport"><a href="#ProvidePluginå’Œimport" class="headerlink" title="ProvidePluginå’Œimport"></a>ProvidePluginå’Œimport</h2><p>åœ¨ç¬¬19èŠ‚ä¸­å­¦ä¹ äº†å¦‚ä½•å¼•å…¥ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œå¹¶å¼•å…¥äº†jQueryã€‚åœ¨å¼•å…¥jQueryæ—¶ï¼Œç”¨äº†2ç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ˜¯importï¼Œç¬¬äºŒç§æ˜¯ç”¨ProvidePluginæ’ä»¶ã€‚è¿™ä¸¤ç§æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><blockquote><p>importæ–¹æ³•ï¼š å¼•ç”¨åä¸ç®¡åœ¨ä»£ç ä¸­ç”¨ä¸ç”¨ï¼Œéƒ½ä¼šæŠŠè¿™ä¸ªç±»åº“æ‰“åŒ…ï¼Œè¿™æ ·æœ‰æ—¶ä¼šäº§ç”Ÿä»£ç å†—ä½™ã€‚<br> ProvidePæ–¹æ³•ï¼š å¼•ç”¨ååªæœ‰åœ¨ç±»åº“ä½¿ç”¨æ—¶ï¼Œæ‰æŒ‰éœ€æ‰“åŒ…ï¼Œæ‰€ä»¥å»ºè®®å·¥ä½œä¸­ä½¿ç”¨æ’ä»¶çš„æ–¹å¼è¿›è¡Œå¼•å…¥ã€‚</p></blockquote><p>å…·ä½“æ‰“åŒ…å·®åˆ«å¯ä»¥è‡ªè¡Œç»ƒä¹ ï¼ŒæŸ¥çœ‹æ‰“åŒ…ç»“æœã€‚å·®è·æ˜æ˜¾ã€‚</p><h2 id="æŠ½ç¦»jQuery"><a href="#æŠ½ç¦»jQuery" class="headerlink" title="æŠ½ç¦»jQuery"></a>æŠ½ç¦»jQuery</h2><p>ä¸Šé¢åªæ˜¯ä¼˜åŒ–çš„ç¬¬ä¸€æ­¥ï¼Œå·¥ä½œä¸­ä¼šå‘ç°ï¼Œä¸ä½¿ç”¨çš„ç±»åº“æˆ‘ä»¬ä¹Ÿä¸ä¼šå¼•å…¥ï¼Œæ‰€ä»¥ä¸Šé¢åªæ˜¯å¿…è¦æ“ä½œçš„ä¸€æ­¥ã€‚å¾€å¾€æŠŠç¬¬ä¸‰ç±»ç±»åº“æŠ½ç¦»å‡ºæ¥ï¼Œæ‰æ˜¯æœ€å¥½çš„è§£å†³åŠæ³•ã€‚</p><h3 id="ç¬¬ä¸€æ­¥ï¼š-ä¿®æ”¹å…¥å£æ–‡ä»¶"><a href="#ç¬¬ä¸€æ­¥ï¼š-ä¿®æ”¹å…¥å£æ–‡ä»¶" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼š ä¿®æ”¹å…¥å£æ–‡ä»¶"></a>ç¬¬ä¸€æ­¥ï¼š ä¿®æ”¹å…¥å£æ–‡ä»¶</h3><p>æŠ½ç¦»çš„ç¬¬ä¸€æ­¥æ˜¯ä¿®æ”¹å…¥å£æ–‡ä»¶ï¼ŒæŠŠjQueryåŠ å…¥åˆ°å…¥å£æ–‡ä»¶ä¸­ï¼Œçœ‹ä¸‹é¢ä»£ç ã€‚<br>webpack.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">entry.path = &#123;</span><br><span class="line">    entry: <span class="string">&#x27;./src/entry.js&#x27;</span>,</span><br><span class="line">    jquery: <span class="string">&#x27;jquery&#x27;</span>,</span><br><span class="line">    entry2: <span class="string">&#x27;./src/entry2.js&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬äºŒæ­¥ï¼šå¼•å…¥æ’ä»¶"><a href="#ç¬¬äºŒæ­¥ï¼šå¼•å…¥æ’ä»¶" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå¼•å…¥æ’ä»¶"></a>ç¬¬äºŒæ­¥ï¼šå¼•å…¥æ’ä»¶</h3><p>éœ€è¦å¼•å…¥optimizeä¼˜åŒ–æ’ä»¶ï¼Œæ’ä»¶é‡Œæ˜¯éœ€è¦é…ç½®çš„ï¼Œå…·ä½“ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    <span class="comment">// nameå¯¹åº”å…¥å£æ–‡ä»¶ä¸­çš„åå­—ï¼Œè¿™é‡Œæ˜¯jquery</span></span><br><span class="line">    name: <span class="string">&#x27;jquery&#x27;</span>,</span><br><span class="line">    <span class="comment">// æŠŠæ–‡ä»¶æ‰“åŒ…åˆ°å“ªé‡Œï¼Œè·¯å¾„åœ°å€</span></span><br><span class="line">    filename: <span class="string">&#x27;assets/js/jquery.min.js&#x27;</span>,</span><br><span class="line">    <span class="comment">// æœ€å°æ‰“åŒ…çš„æ–‡ä»¶æ¨¡å—æ•°ï¼Œè¿™é‡Œç›´æ¥å†™2</span></span><br><span class="line">    minChunks: <span class="number">2</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>minChunksæ˜¯å›ºå®šé…ç½®ï¼Œä¸å†™ä¸è¡Œï¼Œä¼šæ‰“åŒ…å¤±è´¥</li><li>filenameå¯ä»¥çœç•¥ï¼Œç›´æ¥æ‰“åŒ…åˆ°æ ¹ç›®å½•ä¸‹ï¼Œè¿™é‡Œç›´æ¥æ‰“åŒ…åˆ°distç›®å½•ä¸‹</li></ul><p>é…ç½®å®Œæˆåå¯ä»¥å…ˆåˆ æ‰åŸæ¥çš„distç›®å½•ï¼Œå†ç”¨webpackæ‰“åŒ…ï¼Œä¼šå‘ç°jQueryè¢«æŠ½ç¦»äº†å‡ºæ¥ï¼Œå¹¶ä¸”entry.jså˜çš„å¾ˆå°ã€‚</p><h2 id="å¤šä¸ªç¬¬ä¸‰æ–¹åº“æŠ½ç¦»"><a href="#å¤šä¸ªç¬¬ä¸‰æ–¹åº“æŠ½ç¦»" class="headerlink" title="å¤šä¸ªç¬¬ä¸‰æ–¹åº“æŠ½ç¦»"></a>å¤šä¸ªç¬¬ä¸‰æ–¹åº“æŠ½ç¦»</h2><p>ä¼šäº†jqueryæŠ½ç¦»ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¼šå¼•ç”¨ä¸æ­¢ä¸€ä¸ªç¬¬ä¸‰æ–¹ç±»åº“ï¼Œä¹Ÿéœ€è¦æŠ½ç¦»ã€‚</p><p>è¿™é‡Œç”¨å¼•å…¥Vueä¸¾ä¾‹ï¼Œçœ‹çœ‹å¦‚ä½•æŠ½ç¦»å‡ºæ¥ã€‚</p><h3 id="ç¬¬ä¸€æ­¥ï¼š-å…ˆç”¨npmè¿›è¡Œå®‰è£…"><a href="#ç¬¬ä¸€æ­¥ï¼š-å…ˆç”¨npmè¿›è¡Œå®‰è£…" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼š å…ˆç”¨npmè¿›è¡Œå®‰è£…"></a>ç¬¬ä¸€æ­¥ï¼š å…ˆç”¨npmè¿›è¡Œå®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue --save</span><br></pre></td></tr></table></figure><p>æ³¨æ„è¿™é‡Œæ˜¯â€“saveï¼Œä¸æ˜¯â€“save-devï¼Œå› ä¸ºç”Ÿäº§ç¯å¢ƒä¹Ÿè¦ç”¨åˆ°</p><h3 id="ç¬¬äºŒæ­¥ï¼š-åœ¨å…¥å£é…ç½®ä¸­å¼•å…¥Vueå’Œjquery"><a href="#ç¬¬äºŒæ­¥ï¼š-åœ¨å…¥å£é…ç½®ä¸­å¼•å…¥Vueå’Œjquery" class="headerlink" title="ç¬¬äºŒæ­¥ï¼š åœ¨å…¥å£é…ç½®ä¸­å¼•å…¥Vueå’Œjquery"></a>ç¬¬äºŒæ­¥ï¼š åœ¨å…¥å£é…ç½®ä¸­å¼•å…¥Vueå’Œjquery</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">entry.path = &#123;</span><br><span class="line">    entry: <span class="string">&#x27;./src/entry.js&#x27;</span>,</span><br><span class="line">    jquery: <span class="string">&#x27;jquery&#x27;</span>,</span><br><span class="line">    vue: <span class="string">&#x27;vue&#x27;</span>,</span><br><span class="line">    entry2: <span class="string">&#x27;./src/entry2.js&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªæ¯”ä¸Šè¾¹å¤šäº†ä¸ªvue</p><h3 id="ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹CommonsChunkPluginé…ç½®"><a href="#ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹CommonsChunkPluginé…ç½®" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹CommonsChunkPluginé…ç½®"></a>ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹CommonsChunkPluginé…ç½®</h3><p>éœ€è¦ä¿®æ”¹ä¸¤ä¸ªä½ç½®ï¼š</p><ul><li>åœ¨nameå±æ€§é‡ŒæŠŠåŸæ¥çš„å­—ç¬¦ä¸²æ”¹ä¸ºæ•°ç»„ã€‚å› ä¸ºè¦å¼•ç”¨å¤šä¸ªæ¨¡å—ï¼Œ æ‰€ä»¥æ˜¯æ•°ç»„ã€‚</li><li>åœ¨filenameå±æ€§ä¸­æŠŠè¾“å‡ºçš„æ–‡ä»¶åæ”¹ä¸ºåŒ¹é…ç¬¦[name],è¿™é¡¹æ“ä½œå°±æ˜¯æ‰“åŒ…å‡ºæ¥çš„åå­—è·Ÿéšæˆ‘ä»¬æ‰“åŒ…å‰çš„æ¨¡å—åã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    <span class="comment">// nameå¯¹åº”å…¥å£æ–‡ä»¶ä¸­çš„åå­—ï¼Œè¿™é‡Œæ˜¯jquery</span></span><br><span class="line">    name: [<span class="string">&#x27;jquery&#x27;</span>, <span class="string">&#x27;vue&#x27;</span>],</span><br><span class="line">    <span class="comment">// æŠŠæ–‡ä»¶æ‰“åŒ…åˆ°å“ªé‡Œï¼Œè·¯å¾„åœ°å€</span></span><br><span class="line">    filename: <span class="string">&#x27;assets/js/[name].js&#x27;</span>,</span><br><span class="line">    <span class="comment">// æœ€å°æ‰“åŒ…çš„æ–‡ä»¶æ¨¡å—æ•°ï¼Œè¿™é‡Œç›´æ¥å†™2</span></span><br><span class="line">    minChunks: <span class="number">2</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é…ç½®å¥½åï¼Œåœ¨æ§åˆ¶å°ç”¨npm run build æ‰“åŒ…ã€‚jqueryå’ŒVueè¢«æŠ½ç¦»å‡ºæ¥äº†ã€‚</p><h2 id="æ€»ç»“-ç¬¬21èŠ‚"><a href="#æ€»ç»“-ç¬¬21èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬21èŠ‚"></a>æ€»ç»“-ç¬¬21èŠ‚</h2><p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä¼šä½¿ç”¨å¾ˆå¤šç¬¬ä¸‰æ–¹ç±»åº“ï¼Œæ¯”è¾ƒå¥½çš„åšæ³•å°±æ˜¯æŠŠè¿™äº›ç¬¬ä¸‰æ–¹ç±»åº“å…¨éƒ¨æŠ½ç¦»å¤„ç†ï¼Œè¿™æ ·åœ¨é¡¹ç›®ç»´æŠ¤å’Œæ€§èƒ½ä¸Šéƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚å­¦äº†è¿™ä¸ªæŠ€å·§åï¼Œåœ¨å·¥ä½œä¸­è¦ä¼šä½¿ç”¨ã€‚</p><p>jqueryä½œä¸ºæ’ä»¶å¼•å…¥åï¼Œåœ¨å…¶ä»–æ–‡ä»¶ä¸­æ€ä¹ˆç”¨å‘¢<br>è¿˜æ˜¯éœ€è¦æœ‰ providePluginæ¥æ”¯æ’‘çš„ï¼Œä¸èƒ½å»æ‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">    $: <span class="string">&#x27;jquery&#x27;</span></span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure><h2 id="ç¬¬22èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-é™æ€èµ„æºé›†ä¸­è¾“å‡º"><a href="#ç¬¬22èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-é™æ€èµ„æºé›†ä¸­è¾“å‡º" class="headerlink" title="ç¬¬22èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š é™æ€èµ„æºé›†ä¸­è¾“å‡º"></a>ç¬¬22èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š é™æ€èµ„æºé›†ä¸­è¾“å‡º</h2><p>å·¥ä½œä¸­ä¼šæœ‰ä¸€äº›å·²ç»å­˜åœ¨ä½†åœ¨é¡¹ç›®ä¸­æ²¡æœ‰å¼•ç”¨çš„å›¾ç‰‡èµ„æºæˆ–è€…å…¶ä»–é™æ€èµ„æºï¼ˆæ¯”å¦‚è®¾è®¡å›¾ã€å¼€å‘æ–‡æ¡£ï¼‰ï¼Œè¿™äº›é™æ€èµ„æºæœ‰å¯èƒ½æ˜¯æ–‡æ¡£ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸€äº›é¢å¤–çš„å›¾ç‰‡ã€‚é¡¹ç›®ç»„é•¿ä¼šè¦æ±‚ä½ æ‰“åŒ…æ—¶ä¿ç•™è¿™äº›é™æ€èµ„æºï¼Œç›´æ¥æ‰“åŒ…åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ã€‚å…¶å®æ‰“åŒ…è¿™äº›èµ„æºåªéœ€è¦ç”¨åˆ°copy-webpack-pluginã€‚</p><h2 id="ä½¿ç”¨copy-webpack-plugin"><a href="#ä½¿ç”¨copy-webpack-plugin" class="headerlink" title="ä½¿ç”¨copy-webpack-plugin"></a>ä½¿ç”¨copy-webpack-plugin</h2><p>copy-webpack-pluginå°±æ˜¯ä¸“é—¨ä¸ºæˆ‘ä»¬åšé™æ€èµ„æºè½¬ç§»çš„æ’ä»¶ï¼Œä¸è¿‡å®ƒéœ€è¦å®‰è£…ã€‚</p><h3 id="æ’ä»¶å®‰è£…"><a href="#æ’ä»¶å®‰è£…" class="headerlink" title="æ’ä»¶å®‰è£…"></a>æ’ä»¶å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev copy-webpack-plugin</span><br></pre></td></tr></table></figure><h3 id="å¼•å…¥æ’ä»¶"><a href="#å¼•å…¥æ’ä»¶" class="headerlink" title="å¼•å…¥æ’ä»¶"></a>å¼•å…¥æ’ä»¶</h3><p>å®‰è£…å¥½åï¼Œéœ€è¦åœ¨webpack.config.jsçš„å¤´éƒ¨å¼•å…¥è¿™ä¸ªæ’ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> copyWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;copy-webpack-plugin&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ’ä»¶"><a href="#é…ç½®æ’ä»¶" class="headerlink" title="é…ç½®æ’ä»¶"></a>é…ç½®æ’ä»¶</h3><p>åœ¨pluginsé‡Œè¿›è¡Œé…ç½®,æ³¨æ„è¿™é‡Œæ˜¯æ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> copyWebpackPlugin([&#123;</span><br><span class="line">    <span class="keyword">from</span>: __dirname+ <span class="string">&#x27;/src/public&#x27;</span>,</span><br><span class="line">    to: <span class="string">&#x27;./public&#x27;</span></span><br><span class="line">&#125;])</span><br></pre></td></tr></table></figure><ul><li>from: è¦æ‰“åŒ…çš„é™æ€èµ„æºç›®å½•åœ°å€ï¼Œ__dirnameæŒ‡é¡¹ç›®ç›®å½•ï¼Œå¯ä»¥ç›´æ¥å®šä½åˆ°æœ¬æœºçš„é¡¹ç›®ç›®å½•ã€‚</li><li>to: è¦æ‰“åŒ…åˆ°çš„æ–‡ä»¶è·¯å¾„ï¼Œè·Ÿéšoutputé…ç½®çš„ç›®å½•ã€‚æ‰€ä»¥è¿™é‡Œä¸ç”¨åŠ __dirname.</li></ul><p>é…ç½®å¥½åï¼Œè¿è¡Œwebpackï¼Œä¼šå‘ç°å›¾ç‰‡æŒ‰ç…§é…ç½®æ‰“åŒ…åˆ°äº†æŒ‡å®šç›®å½•ã€‚</p><h2 id="æ€»ç»“-ç¬¬22èŠ‚"><a href="#æ€»ç»“-ç¬¬22èŠ‚" class="headerlink" title="æ€»ç»“-ç¬¬22èŠ‚"></a>æ€»ç»“-ç¬¬22èŠ‚</h2><p>ç°åœ¨å­¦èµ·æ¥å·²ç»å¾ˆå®¹æ˜“äº†ï¼Œå·²ç»æŒæ¡äº†webpackçš„åŸºæœ¬çŸ¥è¯†ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä¸æ–­ç»ƒä¹ å’Œåœ¨å®é™…é¡¹ç›®ä¸­å‘ç°æ–°çš„éœ€æ±‚ï¼Œç„¶åæ‰¾åˆ°æ–°çš„loaderæˆ–è€…pluginæ¥è§£å†³é—®é¢˜ã€‚</p><h2 id="ç¬¬23èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-JSONé…ç½®æ–‡ä»¶çš„ä½¿ç”¨"><a href="#ç¬¬23èŠ‚ï¼š-å®æˆ˜æŠ€å·§ï¼š-JSONé…ç½®æ–‡ä»¶çš„ä½¿ç”¨" class="headerlink" title="ç¬¬23èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š JSONé…ç½®æ–‡ä»¶çš„ä½¿ç”¨"></a>ç¬¬23èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š JSONé…ç½®æ–‡ä»¶çš„ä½¿ç”¨</h2><p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬çš„é¡¹ç›®éƒ½ä¼šé…ç½®ä¸€ä¸ªjsonçš„æ–‡ä»¶æˆ–APIæ–‡ä»¶ï¼Œä½œä¸ºé¡¹ç›®çš„é…ç½®æ–‡ä»¶ã€‚æœ‰æ—¶ä¹Ÿä¼šä»åå°è¯»å–ä¸€ä¸ªjsonæ–‡ä»¶ã€‚</p><p>è¿™èŠ‚è¯¾å°±å­¦ä¹ å¦‚ä½•åœ¨webpackç¯å¢ƒä¸­ä½¿ç”¨JSON.</p><p>åœ¨webpack1æˆ–webpack2ä¸­ï¼Œéœ€è¦åŠ è½½ä¸€ä¸ªjson-loaderçš„loaderï¼Œä½†åœ¨webpack4.xä¸­ï¼Œä¸éœ€è¦é¢å¤–å¼•å…¥ã€‚</p><h2 id="è¯»å–JSONå†…å®¹"><a href="#è¯»å–JSONå†…å®¹" class="headerlink" title="è¯»å–JSONå†…å®¹"></a>è¯»å–JSONå†…å®¹</h2><ol><li><p>åœ¨index.htmlä¸­åŠ ä¸ªdivï¼Œå¹¶ç»™ä¸ªid.</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;jsonArea&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åˆ°srcæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰¾åˆ°å…¥å£æ–‡ä»¶ï¼Œentry.js,ä¿®æ”¹ä»£ç ã€‚å¦‚ä¸‹ï¼š</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> json = <span class="built_in">require</span>(<span class="string">&#x27;../config.json&#x27;</span>);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;jsonArea&#x27;</span>).innerHTML = json.name;</span><br></pre></td></tr></table></figure><p> å¼•å…¥jsonæ–‡ä»¶ï¼Œå¹¶æ’å…¥åˆ°domä¸­ã€‚</p></li><li><p>è¿è¡Œnpm run server ï¼Œå°±å¯ä»¥çœ‹åˆ°æ•ˆæœã€‚</p></li></ol><h2 id="è¯´è¯´çƒ­æ›´æ–°"><a href="#è¯´è¯´çƒ­æ›´æ–°" class="headerlink" title="è¯´è¯´çƒ­æ›´æ–°"></a>è¯´è¯´çƒ­æ›´æ–°</h2><p>åœ¨devServerä¸­é…ç½®<code>hot: true</code><br><code>hotOnly: true</code> çƒ­æ›´æ–°å¤±è´¥æ—¶ï¼Œä¸åˆ·æ–°æ•´ä¸ªé¡µé¢</p><p>åœ¨webpack4.xä¸­ï¼Œå¯ç”¨çƒ­åŠ è½½å¾ˆå®¹æ˜“ï¼Œåªè¦åŠ å…¥HotModuleReplacementPluginè¿™ä¸ªæ’ä»¶å°±å¯ä»¥äº†ã€‚</p><p>åœ¨pluginé‡Œé…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œå¯åŠ¨npm run serveråï¼Œä¿®æ”¹index.htmlä¸­çš„å†…å®¹ï¼Œæµè§ˆå™¨å°±å¯ä»¥è‡ªåŠ¨æ›´æ–°æœ€æ–°é¡µé¢</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœæŸä¸ªjsæ¨¡å—æ›´æ–°äº†ï¼Œåªæ›´æ–°æŸä¸ªæ¨¡å—ï¼Œè€Œä¸æ˜¯æ‰€æœ‰æ¨¡å—éƒ½æ›´æ–°</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">    <span class="built_in">module</span>.hot.accept(<span class="string">&#x27;./number&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        number();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿™é‡Œçš„çƒ­æ›´æ–°å’Œå¹³æ—¶å†™ç¨‹åºçš„çƒ­åŠ è½½ä¸æ˜¯ä¸€å›äº‹ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬Vueå’ŒReactä¸­çš„çƒ­æ›´æ–°ï¼Œå¹¶ä¸æ˜¯åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œè€Œæ˜¯ä¸€ä¸ªå±€éƒ¨çš„æ›´æ–°ï¼Œè€Œè¿™é‡Œçš„æ›´æ–°æ˜¯åˆ·æ–°äº†æ•´ä¸ªé¡µé¢"><a href="#è¿™é‡Œçš„çƒ­æ›´æ–°å’Œå¹³æ—¶å†™ç¨‹åºçš„çƒ­åŠ è½½ä¸æ˜¯ä¸€å›äº‹ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬Vueå’ŒReactä¸­çš„çƒ­æ›´æ–°ï¼Œå¹¶ä¸æ˜¯åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œè€Œæ˜¯ä¸€ä¸ªå±€éƒ¨çš„æ›´æ–°ï¼Œè€Œè¿™é‡Œçš„æ›´æ–°æ˜¯åˆ·æ–°äº†æ•´ä¸ªé¡µé¢" class="headerlink" title="è¿™é‡Œçš„çƒ­æ›´æ–°å’Œå¹³æ—¶å†™ç¨‹åºçš„çƒ­åŠ è½½ä¸æ˜¯ä¸€å›äº‹ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬Vueå’ŒReactä¸­çš„çƒ­æ›´æ–°ï¼Œå¹¶ä¸æ˜¯åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œè€Œæ˜¯ä¸€ä¸ªå±€éƒ¨çš„æ›´æ–°ï¼Œè€Œè¿™é‡Œçš„æ›´æ–°æ˜¯åˆ·æ–°äº†æ•´ä¸ªé¡µé¢"></a>è¿™é‡Œçš„çƒ­æ›´æ–°å’Œå¹³æ—¶å†™ç¨‹åºçš„çƒ­åŠ è½½ä¸æ˜¯ä¸€å›äº‹ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬Vueå’ŒReactä¸­çš„çƒ­æ›´æ–°ï¼Œå¹¶ä¸æ˜¯åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œè€Œæ˜¯ä¸€ä¸ªå±€éƒ¨çš„æ›´æ–°ï¼Œè€Œè¿™é‡Œçš„æ›´æ–°æ˜¯åˆ·æ–°äº†æ•´ä¸ªé¡µé¢</h3><p>è¿™ä¸ªåŒºåˆ«è¦ææ¸…æ¥šã€‚</p><h2 id="ç¬¬24èŠ‚ï¼š-å‰§ç»ˆï¼š-webpackè‡ªå­¦æŠ€å·§ä¼ æˆ"><a href="#ç¬¬24èŠ‚ï¼š-å‰§ç»ˆï¼š-webpackè‡ªå­¦æŠ€å·§ä¼ æˆ" class="headerlink" title="ç¬¬24èŠ‚ï¼š å‰§ç»ˆï¼š webpackè‡ªå­¦æŠ€å·§ä¼ æˆ"></a>ç¬¬24èŠ‚ï¼š å‰§ç»ˆï¼š webpackè‡ªå­¦æŠ€å·§ä¼ æˆ</h2><p>è¿™èŠ‚è¯¾å­¦ä¸€äº›è‡ªå­¦webpackçš„æŠ€å·§ï¼Œè®©å¤§å®¶å¯ä»¥åœ¨æœ¬æ•™ç¨‹ç»“æŸåç»§ç»­è‡ªè¡Œç²¾è¿›ã€‚</p><h2 id="å­¦ä¹ æ¨è"><a href="#å­¦ä¹ æ¨è" class="headerlink" title="å­¦ä¹ æ¨è"></a>å­¦ä¹ æ¨è</h2><ul><li><p><a href="https://webpack.js.org/">webpack å®˜ç½‘</a></p></li><li><p><a href="https://doc.webpack-china.org/">ä¸­æ–‡å®˜ç½‘</a></p></li><li><p><a href="http://webpack.wuhaolin.cn/">æ·±å…¥æµ…å‡º Webpack</a></p></li></ul><h2 id="Webpackæ’ä»¶"><a href="#Webpackæ’ä»¶" class="headerlink" title="Webpackæ’ä»¶"></a>Webpackæ’ä»¶</h2><ul><li><a href="https://www.npmjs.com/package/hard-source-webpack-plugin">hard-source-webpack-plugin</a><br>æå‡æ‰“åŒ…æ•ˆç‡éå¸¸æ˜æ˜¾</li></ul><h2 id="webpackä¹‹ç›‘æµ‹é…ç½®æ–‡ä»¶çš„ä¿®æ”¹è€Œè‡ªåŠ¨æ„å»º"><a href="#webpackä¹‹ç›‘æµ‹é…ç½®æ–‡ä»¶çš„ä¿®æ”¹è€Œè‡ªåŠ¨æ„å»º" class="headerlink" title="webpackä¹‹ç›‘æµ‹é…ç½®æ–‡ä»¶çš„ä¿®æ”¹è€Œè‡ªåŠ¨æ„å»º"></a>webpackä¹‹ç›‘æµ‹é…ç½®æ–‡ä»¶çš„ä¿®æ”¹è€Œè‡ªåŠ¨æ„å»º</h2><p>åœ¨webpackçš„è‡ªåŠ¨æ„å»ºä¸­ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬åªæ˜¯ç›‘æµ‹åˆ°æºæ–‡ä»¶çš„å˜åŒ–ï¼Œå¦‚æœä¿®æ”¹webpackçš„é…ç½®æ–‡ä»¶å°±ä¸ä¼šå‘ç”Ÿè‡ªåŠ¨æ„å»ºã€‚é€šè¿‡ä½¿ç”¨nodeçš„nodemonæ¨¡å—æ¥è¾¾åˆ°ç›®çš„ã€‚</p><p>ä¸€ã€å®‰è£…nodemon</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨å±€å®‰è£…</span></span><br><span class="line">npm install -g nodemon</span><br><span class="line"><span class="comment">// æœ¬åœ°å®‰è£…</span></span><br><span class="line">npm install --save-dev nodemon</span><br></pre></td></tr></table></figure><p>äºŒã€ä½¿ç”¨nodemon</p><p><code>nodemon --watch ./config/webpack.dev.js</code></p><p>è§£é‡Šï¼š</p><p>â€“ watch config è¡¨ç¤ºç›‘æµ‹configç›®å½•ä¸‹çš„æ–‡ä»¶å˜åŒ–<br>â€“ dev.jsåˆ™ä¸ºwebpackæœ¬æ¥çš„é€šè¿‡ node dev.jså½¢å¼æ‰§è¡Œçš„æ„å»ºèµ·å§‹æ–‡ä»¶<br>æ€»ä½“æ„æ€å°±æ˜¯ï¼šç›‘æµ‹configä¸­çš„æ–‡ä»¶å˜åŒ–å¹¶é‡æ–°æ‰§è¡Œdev.jsæ–‡ä»¶</p><p>å¦‚æœnodemonæ˜¯æœ¬åœ°å®‰è£…éœ€è¦å¦‚ä¸‹å¤„ç†ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨package.jsonä¸­scriptsä¸­åŠ å¦‚ä¸‹é…ç½®</span></span><br><span class="line"><span class="string">&quot;startNodemon&quot;</span>:<span class="string">&quot;nodemon --watch config dev.js&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ</span></span><br><span class="line">npm run startNodemon</span><br></pre></td></tr></table></figure><p>åœ¨package.jsonä¸­çš„é…ç½®</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;start&quot;</span>: <span class="string">&quot;webpack ...&quot;</span></span><br><span class="line">        <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;nodemon --watch config dev.js --exec npm run start&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜</p><ul><li>â€“exec é…ç½®è¿è¡Œçš„å‘½ä»¤</li><li>â€“watch ç›‘å¬äº›æ–‡ä»¶å˜åŒ–ï¼Œå½“å˜åŒ–çš„æ—¶å€™è‡ªåŠ¨é‡å¯</li></ul><p>nodeæœåŠ¡å™¨app.jsè‡ªåŠ¨é‡å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;nodemon  app.js &quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>å®é™…ä½¿ç”¨ä¸­ï¼Œå¦‚æœpackage.jsonä¸­çš„mainé…ç½®äº†ï¼Œä½†æ˜¯è·¯å¾„ä¸å¯¹ï¼Œä¼šæŠ¥é”™æ‰¾ä¸åˆ°æ–‡ä»¶å¯¼è‡´æ— æ³•è‡ªåŠ¨é‡å¯</p><h2 id="webpack-npm-install-æŠ¥é”™è§£å†³"><a href="#webpack-npm-install-æŠ¥é”™è§£å†³" class="headerlink" title="webpack npm install æŠ¥é”™è§£å†³"></a>webpack npm install æŠ¥é”™è§£å†³</h2><p>æ‰§è¡Œ<code>npm install</code> æŠ¥é”™: <code>npm ERR! Cannot read property &#39;match&#39; of undefined</code></p><p>è§£å†³åŠæ³•:</p><p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rm -rf node_modules</span><br><span class="line">rm package-lock.json</span><br><span class="line">npm cache clear --force</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><h3 id="Clean-plugin-for-webpack"><a href="#Clean-plugin-for-webpack" class="headerlink" title="Clean plugin for webpack"></a><a href="https://github.com/johnagan/clean-webpack-plugin">Clean plugin for webpack</a></h3><p>åœ¨æ‰“åŒ…ä¹‹å‰æ¸…é™¤æ‰“åŒ…æ–‡ä»¶</p><p><code>npm install --save-dev clean-webpack-plugin</code></p><p>ç”¨æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; CleanWebpackPlugin &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> webpackConfig = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> CleanWebpackPlugin()</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = webpackConfig;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå·±å®ç°webpack-dev-server"><a href="#è‡ªå·±å®ç°webpack-dev-server" class="headerlink" title="è‡ªå·±å®ç°webpack-dev-server"></a>è‡ªå·±å®ç°webpack-dev-server</h3><p><a href="https://webpack.js.org/api/node/">åœ¨nodeä¸­ä½¿ç”¨webpack</a></p><p><code>npm install express webpack-dev-middleware -D</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> webpackDevMiddleware = <span class="built_in">require</span>(<span class="string">&#x27;webpack-dev-middleware&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.config.js&#x27;</span>);</span><br><span class="line"><span class="comment">// ç”¨webpackç»“åˆconfigç¼–è¯‘ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> complier = webpack(config);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line">app.use(webpackDevMiddleware(complier), &#123;</span><br><span class="line">    publicPath: config.output.publicPath</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;server is running&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>webpack.config.js é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scripts: &#123;</span><br><span class="line">    <span class="string">&#x27;server&#x27;</span>: <span class="string">&#x27;node server.js&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="tree-shaking"><a href="#tree-shaking" class="headerlink" title="tree shaking"></a>tree shaking</h2><p>åªæ”¯æŒES Module!!!</p><p><code>import &#123; add &#125; from &#39;./math.js&#39;;</code></p><p>åº•å±‚æ˜¯é™æ€å¼•å…¥æ–¹å¼</p><p>ä¸æ”¯æŒ</p><p><code>const add = require(&#39;./math.js);</code></p><p>commonJs æ˜¯åŠ¨æ€å¼•å…¥, ä¸æ”¯æŒtree shaking</p><p>webpack.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">optimization: &#123;</span><br><span class="line">    usedExports: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨package.jsonä¸­</p><p>å¯¹å“ªä¸ªæ–‡ä»¶ä¸åšç­›é€‰ï¼Œåœ¨<code>sideEffects</code>é‡Œä»¥æ•°ç»„çš„æ–¹å¼åŠ å…¥<br>å¯¹cssæ–‡ä»¶ä¸åšå¤„ç†<br><code>sideEffects: [&#39;*.css&#39;]</code></p><p><code>false</code>ä¸ºå¯¹æ‰€æœ‰æ–‡ä»¶ç­›é€‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;sideEffects&quot;</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>mode: ä¸ºdevelopmentæ—¶ï¼Œæ‰“åŒ…ä¸ä¼šåˆ é™¤ä»£ç ï¼Œä¼šåˆ é™¤å¯¼å‡º</p><h2 id="webpackåŒºåˆ†-å¼€å‘æ¨¡å¼å’Œ-productionæ¨¡å¼"><a href="#webpackåŒºåˆ†-å¼€å‘æ¨¡å¼å’Œ-productionæ¨¡å¼" class="headerlink" title="webpackåŒºåˆ† å¼€å‘æ¨¡å¼å’Œ productionæ¨¡å¼"></a>webpackåŒºåˆ† å¼€å‘æ¨¡å¼å’Œ productionæ¨¡å¼</h2><p>ä¾èµ–webpack-merge</p><p><code>npm install webpack-merge -D</code></p><p>webpack.common.js å…¬å…±çš„é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        main: <span class="string">&#x27;./src/index.js&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    output: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>webpack.prod.js, ä¿ç•™çº¿ä¸Šç‹¬æœ‰çš„é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> commConfig = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.common.js&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> prodConfig = &#123;</span><br><span class="line">    mode: <span class="string">&#x27;production&#x27;</span>,</span><br><span class="line">    devtool: <span class="string">&#x27;cheap-module-source-map&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(commonConfig, prodConfig);</span><br></pre></td></tr></table></figure><p>webpack.dev.js, ä¿ç•™å¼€å‘ç¯å¢ƒç‹¬æœ‰çš„é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> commConfig = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.common.js&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> devConfig = &#123;</span><br><span class="line">    mode: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        hot: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = merge(commonConfig, devConfig);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>package.json</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scripts: &#123;</span><br><span class="line">    &quot;dev&quot;: &quot;webpack-dev-server --config webpack.dev.js&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;webpack --config webpack.prod.js&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥æŠŠæ‰€æœ‰é…ç½®æ–‡ä»¶éƒ½æ”¾åˆ°<code>build</code>æ–‡ä»¶å¤¹é‡Œ, éœ€è¦æ”¹package.jsoné‡Œçš„é…ç½®(output, scriptsç­‰)</p><p>æ£€æŸ¥æ‰“åŒ…ä½ç½®å¯¹ä¸å¯¹ï¼Œæ¸…é™¤æ–‡ä»¶å¯¹ä¸å¯¹</p><h2 id="Code-Splittingâ€“æœ‰ç–‘é—®"><a href="#Code-Splittingâ€“æœ‰ç–‘é—®" class="headerlink" title="Code Splittingâ€“æœ‰ç–‘é—®"></a>Code Splittingâ€“æœ‰ç–‘é—®</h2><p><a href="https://webpack.js.org/plugins/split-chunks-plugin/#root">SplitChunksPlugin</a></p><p>æ‹†åˆ†ä»£ç ï¼Œæå‡é¡¹ç›®æ€§èƒ½</p><p>æ¯”å¦‚å¼•å…¥lodashä¹‹ç±»çš„ç±»åº“ï¼Œæ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶ä¼šå¤š1MBå·¦å³</p><p>å°†2MBçš„æ–‡ä»¶æ‹†åˆ†æˆä¸¤ä¸ª1MBçš„æ–‡ä»¶åŠ è½½</p><p>å½“ä¸šåŠ¡é€»è¾‘å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒåªåŠ è½½ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œä¸åŠ è½½åŸºç¡€ç±»åº“çš„ä»£ç </p><p>åœ¨webpack.config.jsä¸­å¢åŠ é…ç½®â€”-åŒæ­¥ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">        chunks: <span class="string">&#x27;all&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼‚æ­¥ä»£ç ï¼ˆimport,æ— éœ€åšä»»ä½•é…ç½®ä¼šè‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²ï¼‰</p><p>ä»£ç æ”¯æŒå¼‚æ­¥import</p><p><code>npm install babel-plugin-dynamic-import-webpack --save-dev</code></p><h2 id="Lazy-Loading-æ‡’åŠ è½½ï¼ŒChunk-æ˜¯ä»€ä¹ˆâ€“æœ‰ç–‘é—®"><a href="#Lazy-Loading-æ‡’åŠ è½½ï¼ŒChunk-æ˜¯ä»€ä¹ˆâ€“æœ‰ç–‘é—®" class="headerlink" title="Lazy Loading æ‡’åŠ è½½ï¼ŒChunk æ˜¯ä»€ä¹ˆâ€“æœ‰ç–‘é—®"></a>Lazy Loading æ‡’åŠ è½½ï¼ŒChunk æ˜¯ä»€ä¹ˆâ€“æœ‰ç–‘é—®</h2><p>é€šè¿‡importå¼‚æ­¥åŠ è½½æ¨¡å—</p><p>å¯ä»¥è®©é¡µé¢åŠ è½½æ›´å¿«</p><p><code>babel-plugin-syntax-dynamic-import</code></p><p>ç‚¹å‡»é¡µé¢æ‰ä¼šåŠ è½½getComponent</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">import</span>(<span class="comment">/** webpackChunkName: &quot;lodash&quot; */</span> <span class="string">&#x27;lodash&#x27;</span>).then(&#123; <span class="attr">default</span>: _ &#125;) =&gt; &#123;</span><br><span class="line">        <span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">        element.innerHTML = _.join([<span class="string">&#x27;11&#x27;</span>, <span class="string">&#x27;22&#x27;</span>], <span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> element;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    getComponent().then(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(element);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; <span class="attr">default</span>: _ &#125; = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="comment">/** webpackChunkName: &quot;lodash&quot; */</span> <span class="string">&#x27;lodash&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    element.innerHTML = _.join([<span class="string">&#x27;11&#x27;</span>, <span class="string">&#x27;22&#x27;</span>], <span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‰“åŒ…åˆ†æï¼ŒPreloading-Prefetching"><a href="#æ‰“åŒ…åˆ†æï¼ŒPreloading-Prefetching" class="headerlink" title="æ‰“åŒ…åˆ†æï¼ŒPreloading, Prefetching"></a>æ‰“åŒ…åˆ†æï¼ŒPreloading, Prefetching</h2><p><a href="https://webpack.js.org/guides/code-splitting/#bundle-analysis">å®˜æ–¹å·¥å…·é“¾æ¥</a></p><p>webpackåˆ†æå·¥å…·<a href="https://github.com/webpack/analyse">analyse</a></p><p>ç”Ÿæˆæ‰“åŒ…æè¿°æ–‡ä»¶<br>package.json</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scripts: &#123;</span><br><span class="line">    &quot;analyze&quot;: &#x27;webpack --profile --json &gt; stats.json&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://webpack.github.com/analyse">åˆ†æç½‘ç«™ï¼Œéœ€ç§‘å­¦ä¸Šç½‘</a></p><p><a href="https://github.com/webpack-contrib/webpack-bundle-analyzer">webpack-bundle-analyzer</a></p><h3 id="å°çŸ¥è¯†-æ–‡ä»¶åˆ©ç”¨ç‡"><a href="#å°çŸ¥è¯†-æ–‡ä»¶åˆ©ç”¨ç‡" class="headerlink" title="å°çŸ¥è¯†-æ–‡ä»¶åˆ©ç”¨ç‡"></a>å°çŸ¥è¯†-æ–‡ä»¶åˆ©ç”¨ç‡</h3><p>command+shift+p æœç´¢coverage, å¯ä»¥çœ‹æ–‡ä»¶åˆ©ç”¨ç‡</p><p>æé«˜ä»£ç çš„ä½¿ç”¨ç‡</p><p>å¤šå†™å¼‚æ­¥ä»£ç ï¼Œæ€§èƒ½æ‰èƒ½å¾—åˆ°æå‡</p><p>chunks: â€˜asyncâ€™ æ‰èƒ½çœŸæ­£æå‡ç½‘ç«™æ€§èƒ½</p><h2 id="webpackä¸æµè§ˆå™¨ç¼“å­˜-Caching"><a href="#webpackä¸æµè§ˆå™¨ç¼“å­˜-Caching" class="headerlink" title="webpackä¸æµè§ˆå™¨ç¼“å­˜(Caching)"></a>webpackä¸æµè§ˆå™¨ç¼“å­˜(Caching)</h2><p><code>performace: false</code> å¯ä»¥ä¸æç¤ºæ€§èƒ½é—®é¢˜</p><p>é€šè¿‡æ–‡ä»¶åæ·»åŠ hashå€¼æ¥ç¼“å­˜</p><p>ç”Ÿäº§ç¯å¢ƒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    filename: <span class="string">&#x27;[name].[contenthash].js&#x27;</span>,</span><br><span class="line">    chunkFilename: <span class="string">&#x27;[name].[contenthash].js&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="libraryæ‰“åŒ…"><a href="#libraryæ‰“åŒ…" class="headerlink" title="libraryæ‰“åŒ…"></a>libraryæ‰“åŒ…</h2><p><a href="https://webpack.js.org/configuration/output/#outputlibrarytarget">æ–‡æ¡£åœ°å€</a></p><p><a href="https://webpack.js.org/configuration/externals/#root">externals</a><br>å¼€å‘ç±»åº“çš„æ‰“åŒ…ï¼Œä¾›ç¬¬ä¸‰æ–¹ä»¥ä¸åŒçš„æ–¹å¼(import, require, script)å¼•å…¥ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mode: <span class="string">&#x27;production&#x27;</span>,</span><br><span class="line"><span class="comment">// å¦‚æœé‡åˆ°lodashåº“ï¼Œä¸æ‰“åŒ…åˆ°ä»£ç é‡Œï¼Œä¸šåŠ¡é‡Œè¦ç”¨çš„è¯ï¼Œå…ˆå¼•ç”¨lodashï¼Œå†å¼•ç”¨library</span></span><br><span class="line">externals: [<span class="string">&#x27;lodash&#x27;</span>],</span><br><span class="line">output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;library.js&#x27;</span></span><br><span class="line">    <span class="comment">// ä»¥scriptæ–¹å¼å¼•å…¥</span></span><br><span class="line">    library: <span class="string">&#x27;library&#x27;</span>,</span><br><span class="line">    <span class="comment">// ä»¥importå’Œrequireæ–¹å¼å¼•å…¥</span></span><br><span class="line">    libraryTarget: <span class="string">&#x27;umd&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>package.json</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">main: &quot;./dist/index.js&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm adduser</span><br><span class="line">npm publish</span><br></pre></td></tr></table></figure><h2 id="PWAæ‰“åŒ…é…ç½®"><a href="#PWAæ‰“åŒ…é…ç½®" class="headerlink" title="PWAæ‰“åŒ…é…ç½®"></a>PWAæ‰“åŒ…é…ç½®</h2><p>ç½‘ç«™è®¿é—®è¿‡ä¸€æ¬¡ä¹‹åï¼Œå¯ä»¥ä¸€ç›´è¢«ç¼“å­˜, serviceWorker</p><p><a href="https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin">workbox-webpack-plugin</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Inside of webpack.config.js:</span></span><br><span class="line"><span class="keyword">const</span> &#123;GenerateSW&#125; = <span class="built_in">require</span>(<span class="string">&#x27;workbox-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// Other webpack config...</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">// Other plugins...</span></span><br><span class="line">    <span class="keyword">new</span> GenerateSW(&#123;</span><br><span class="line">      option: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="TypeScript-æ‰“åŒ…é…ç½®"><a href="#TypeScript-æ‰“åŒ…é…ç½®" class="headerlink" title="TypeScript æ‰“åŒ…é…ç½®"></a>TypeScript æ‰“åŒ…é…ç½®</h2><p><code>npm install ts-loader typescript -D</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rules: [&#123;</span><br><span class="line">    test: <span class="regexp">/\.tsx?$/</span>,</span><br><span class="line">    use: <span class="string">&#x27;ts-loader&#x27;</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><p>tsconfig.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;outDir&quot;</span>: <span class="string">&quot;./dist&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;module&quot;</span>: <span class="string">&quot;es6&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;target&quot;</span>: <span class="string">&quot;es5&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;allowJs&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>npm install @types/lodash --save-dev</code><br>è¿™æ ·åœ¨ä»£ç ä¸­typescriptå¯ä»¥è¯†åˆ«lodashä¸­çš„æ–¹æ³•ï¼Œå¹¶æç¤ºè¯­æ³•ä¸è§„èŒƒç­‰é”™è¯¯</p><p><a href="https://github.com/DefinitelyTyped/DefinitelyTyped">DefinitelyTyped</a></p><h2 id="webpackæ€§èƒ½ä¼˜åŒ–"><a href="#webpackæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="webpackæ€§èƒ½ä¼˜åŒ–"></a>webpackæ€§èƒ½ä¼˜åŒ–</h2><ol><li><p>è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£(npm, yarn, Nodeç‰ˆæœ¬å‡çº§)</p></li><li><p>åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šç”¨loader<br> excludesæˆ–include</p></li><li><p>pluginå°½å¯èƒ½å°‘ï¼Œå¹¶ä¿è¯å¯é æ€§</p></li><li><p>resolveå‚æ•°åˆç†é…ç½®</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    extendsions: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.jsx&#x27;</span>],</span><br><span class="line">    <span class="comment">// ä»å“ªä¸ªæ–‡ä»¶å¯¼å…¥æ¨¡å—, ä¸è¦é…ç½®è¿‡å¤šçš„</span></span><br><span class="line">    mainFields: [<span class="string">&#x27;index&#x27;</span>, <span class="string">&#x27;main&#x27;</span>],</span><br><span class="line">    <span class="comment">// åˆ›å»º import æˆ– require çš„åˆ«å</span></span><br><span class="line">    alias: &#123;</span><br><span class="line">        <span class="string">&#x27;utils&#x27;</span>: path.resolve(__dirname, <span class="string">&#x27;../utils&#x27;</span>),</span><br><span class="line">        <span class="string">&#x27;assets&#x27;</span>: path.resolve(__dirname, <span class="string">&#x27;../assets&#x27;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> extendsions: ä¸è¦æŠŠæ‰€æœ‰åç¼€éƒ½åŠ åˆ°è¿™é‡Œ, å¦‚css, jpgç­‰, ä¼šå¢åŠ æ–‡ä»¶æŸ¥æ‰¾å¤æ‚åº¦</p></li><li><p>ä½¿ç”¨DLLPluginæé«˜æ‰“åŒ…é€Ÿåº¦</p><p> æ¯ä¸€æ¬¡å¼•å…¥ç¬¬ä¸‰æ–¹åŒ…éƒ½ä¼šè¿›è¡Œåˆ†æï¼Œæ¶ˆè€—æ—¶é—´</p><p> webpack.dll.js</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        vendors: [<span class="string">&#x27;react&#x27;</span>, <span class="string">&#x27;react-dom&#x27;</span>],</span><br><span class="line">        lodash: [<span class="string">&#x27;lodash&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">&#x27;[name].dll.js&#x27;</span>,</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">&#x27;../dll&#x27;</span>),</span><br><span class="line">        <span class="comment">// å¯ä»¥åœ¨æ§åˆ¶å°ä½¿ç”¨çš„å˜é‡,é€šè¿‡å…¨å±€å˜é‡æš´éœ²å‡ºæ¥</span></span><br><span class="line">        library: <span class="string">&#x27;[name]&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.dllPlugin(&#123;</span><br><span class="line">            name: <span class="string">&#x27;[name]&#x27;</span>,</span><br><span class="line">            path: path.resolve(__dirname, <span class="string">&#x27;../dll/[name].manifest.json&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> webpack.common.js</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> addAssetHtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;add-asset-html-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> plugins = [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">        template: <span class="string">&#x27;src/index.html&#x27;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin([<span class="string">&#x27;dist&#x27;</span>], &#123;</span><br><span class="line">        root: path.resolve(__dirname, <span class="string">&#x27;../&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> files = fs.readdirSync(path.resolve(__dirname, <span class="string">&#x27;../dll&#x27;</span>));</span><br><span class="line">files.forEach(<span class="function"><span class="params">file</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/.*\.dll.js/</span>.test(file)) &#123;</span><br><span class="line">        plugins.push(<span class="keyword">new</span> addAssetHtmlWebpackPlugin(&#123;</span><br><span class="line">            filePath: path.resolve(__dirname, <span class="string">&#x27;../dll&#x27;</span>,file)</span><br><span class="line">        &#125;))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/.*\.manifest.json/</span>.test(file)) &#123;</span><br><span class="line">        plugins.push(<span class="keyword">new</span> webpack.DllReferencePlugin(&#123;</span><br><span class="line">            manifest: path.solve(__dirname, <span class="string">&#x27;../dll/&#x27;</span>, file)</span><br><span class="line">        &#125;))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line"></span><br><span class="line">    entry: &#123;</span><br><span class="line">        vendors: [<span class="string">&#x27;react&#x27;</span>, <span class="string">&#x27;react-dom&#x27;</span>],</span><br><span class="line">        lodash: [<span class="string">&#x27;lodash&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">&#x27;[name].dll.js&#x27;</span>,</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">&#x27;..dll&#x27;</span>),</span><br><span class="line">        <span class="comment">// å¯ä»¥åœ¨æ§åˆ¶å°ä½¿ç”¨çš„å˜é‡,é€šè¿‡å…¨å±€å˜é‡æš´éœ²å‡ºæ¥</span></span><br><span class="line">        library: <span class="string">&#x27;[name]&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> <code>npm install add-asset-html-webpack-plugin --save</code></p><p> ç›®æ ‡ï¼š<br> ç¬¬ä¸€æ¬¡æ‰“åŒ…æ—¶æŠŠå¸¸ç”¨çš„åº“æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œå†æ¬¡å¼•ç”¨ä¸å†ä»node_modulesé‡Œæ‰¾</p><p> ç¬¬ä¸‰æ–¹æ¨¡å—åªæ‰“åŒ…ä¸€æ¬¡<br> å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—æ—¶ï¼Œç”¨dllæ–‡ä»¶å¼•å…¥<br> å…ˆæ‰“åŒ…<code>npm run build:dll</code> æ‰“åŒ…<code>webpack.dll.js</code>ï¼Œå†è¿è¡Œ<code>npm run build</code></p> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">&quot;build&quot;: &quot;webpack --progress --colors --devtool cheap-module-source-map&quot;,</span><br><span class="line">&quot;build:dll&quot;: &quot;webpack --config webpack.dll.config.js&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p>æ§åˆ¶åŒ…æ–‡ä»¶å¤§</p></li><li><p>thread-loader, paraller-webpack, happypackå¤šè¿›ç¨‹æ‰“åŒ…</p></li><li><p>åˆç†ä½¿ç”¨sourceMap</p></li><li><p>ç»“åˆstatsåˆ†ææ‰“åŒ…ç»“æœ</p></li><li><p>å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘</p></li><li><p>å¼€å‘ç¯å¢ƒæ— ç”¨æ’ä»¶å‰”é™¤(å¼€å‘ç¯å¢ƒæ²¡å¿…è¦å‹ç¼©ä¹‹ç±»çš„)</p></li></ol><h2 id="å¤šé¡µé¢æ‰“åŒ…é…ç½®"><a href="#å¤šé¡µé¢æ‰“åŒ…é…ç½®" class="headerlink" title="å¤šé¡µé¢æ‰“åŒ…é…ç½®"></a>å¤šé¡µé¢æ‰“åŒ…é…ç½®</h2><p>å¤šä¸ªentryå¯¹åº”å¤šä¸ªhtmlæ–‡ä»¶</p><p>webpack.common.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> makePlugins = <span class="function">(<span class="params">configs</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> plugins = [</span><br><span class="line">        <span class="keyword">new</span> CleanWebpackPlugin([<span class="string">&#x27;dist&#x27;</span>], &#123;</span><br><span class="line">            root: path.resolve(__dirname, <span class="string">&#x27;../&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    ];</span><br><span class="line">    <span class="built_in">Object</span>.keys(configs.entry).forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        plugins.push(</span><br><span class="line">            <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: <span class="string">&#x27;src/index.html&#x27;</span>,</span><br><span class="line">            filename: <span class="string">`<span class="subst">$&#123;item&#125;</span>.html`</span>,</span><br><span class="line">            chunks: [<span class="string">&#x27;runtime&#x27;</span>, <span class="string">&#x27;vendors&#x27;</span>, item]</span><br><span class="line">        &#125;),</span><br><span class="line">        )</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// dllplugins</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> plugins;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> configs = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        index: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">        list: <span class="string">&#x27;./src/list.js&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">config.plugins = makePlugins(config);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = config;</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•ç¼–å†™ä¸€ä¸ªloader"><a href="#å¦‚ä½•ç¼–å†™ä¸€ä¸ªloader" class="headerlink" title="å¦‚ä½•ç¼–å†™ä¸€ä¸ªloader"></a>å¦‚ä½•ç¼–å†™ä¸€ä¸ªloader</h2><p>å¸¸ç”¨åŠŸèƒ½: å›½é™…åŒ–æ›¿æ¢ä¸­è‹±æ–‡, æ•è·å¼‚å¸¸(åœ¨functionå¤–åŠ trycatch)</p><p><a href="https://www.webpackjs.com/api/loaders/">loader API</a></p><p>replaceLoader.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> loaderUtils = <span class="built_in">require</span>(<span class="string">&#x27;loader-utils&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">source</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> options = loaderUtils.getOptions();</span><br><span class="line">    <span class="keyword">const</span> result = source.replace(<span class="string">&#x27;hello &#x27;</span>, options.name);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­‰äº return result</span></span><br><span class="line">    <span class="built_in">this</span>.callback(<span class="literal">null</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>webpack.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">resolveLoader: &#123;</span><br><span class="line">    <span class="comment">// path.resolve(__dirname, &#x27;./loaders/replaceLoader.js)å¯ä»¥ä¸ç”¨å†™è¿™ä¹ˆå¤š,ç›´æ¥å†™name</span></span><br><span class="line">    modules: [<span class="string">&#x27;node_modules&#x27;</span>, <span class="string">&#x27;./loaders&#x27;</span>]</span><br><span class="line">&#125;,</span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [&#123;</span><br><span class="line">        test: <span class="regexp">/\.js/</span>,</span><br><span class="line">        use: [&#123;</span><br><span class="line">            loader: <span class="string">&#x27;replaceLoader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">                name: <span class="string">&#x27;lee&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤æ‚çš„replaceLoader.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> loaderUtils = <span class="built_in">require</span>(<span class="string">&#x27;loader-utils&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">source</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> options = loaderUtils.getOptions();</span><br><span class="line">    <span class="keyword">const</span> callback = <span class="built_in">this</span>.async();</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> result = source.replace(<span class="string">&#x27;dell&#x27;</span>, options.name);</span><br><span class="line">        callback(<span class="literal">null</span>, result);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•ç¼–å†™ä¸€ä¸ªPlugin"><a href="#å¦‚ä½•ç¼–å†™ä¸€ä¸ªPlugin" class="headerlink" title="å¦‚ä½•ç¼–å†™ä¸€ä¸ªPlugin"></a>å¦‚ä½•ç¼–å†™ä¸€ä¸ªPlugin</h2><p>æ‰“åŒ…çš„æŸä¸ªæ—¶åˆ»ï¼Œæ˜¯æ’ä»¶ç”Ÿæ•ˆçš„åœºæ™¯ï¼Œæ¯”å¦‚æ‰“åŒ…ä¹‹å‰ï¼Œæ¸…é™¤distç›®å½•<br><a href="https://www.webpackjs.com/api/compiler-hooks">compiler hooks</a><br>copyright-webpack-plugin.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CopyrightWebpackPlugin</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æ’ä»¶è¢«ä½¿ç”¨äº†&#x27;</span>, options);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">apply</span>(<span class="params">compiler</span>)</span> &#123;</span><br><span class="line">        <span class="comment">// åŒæ­¥å†™æ³•</span></span><br><span class="line">        compiler.hooks.emit.tap(<span class="string">&#x27;CopyrightWebpackPlugin&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//  å¼‚æ­¥å†™æ³•</span></span><br><span class="line">        compiler.hooks.emit.tapAsync(<span class="string">&#x27;CopyrightWebpackPlugin&#x27;</span>, <span class="function">(<span class="params">compilation, cb</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// compilation.assetsä¸ºæ‰“åŒ…åçš„æ–‡ä»¶</span></span><br><span class="line">            compilation.assets[<span class="string">&#x27;copyright.txt&#x27;</span>] = &#123;</span><br><span class="line">                source: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&#x27;copyright by hello world&#x27;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                size: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">21</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¸€å®šè¦åŠ å›è°ƒ</span></span><br><span class="line">            cb();</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = CopyrightWebpackPlugin;</span><br></pre></td></tr></table></figure><p>webpack.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> copyrightWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;./plugins/copyright-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> copyrightWebpackPlugin(&#123;</span><br><span class="line">        name: <span class="string">&#x27;world&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="ç”¨nodeè°ƒè¯•å·¥å…·è°ƒè¯•webpack"><a href="#ç”¨nodeè°ƒè¯•å·¥å…·è°ƒè¯•webpack" class="headerlink" title="ç”¨nodeè°ƒè¯•å·¥å…·è°ƒè¯•webpack"></a>ç”¨nodeè°ƒè¯•å·¥å…·è°ƒè¯•webpack</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;debug&quot;: &quot;node --inspect --inspect-brk node_modules/webpack/bin/webpack.jss&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ’ä»¶ä¸­å†™debuggerï¼Œä¼šè‡ªåŠ¨è·³åˆ°è¯¥æ–­ç‚¹</p><h2 id="CreateReactApp-https-github-com-facebook-create-react-appï¼‰é¡¹ç›®Webpackè§£æ"><a href="#CreateReactApp-https-github-com-facebook-create-react-appï¼‰é¡¹ç›®Webpackè§£æ" class="headerlink" title="[CreateReactApp](https://github.com/facebook/create-react-appï¼‰é¡¹ç›®Webpackè§£æ"></a>[CreateReactApp](<a href="https://github.com/facebook/create-react-app%EF%BC%89%E9%A1%B9%E7%9B%AEWebpack%E8%A7%A3%E6%9E%90">https://github.com/facebook/create-react-appï¼‰é¡¹ç›®Webpackè§£æ</a></h2><p><code>npm run eject</code>æŸ¥çœ‹webpacké…ç½®</p><h2 id="Vueé¡¹ç›®é…ç½®"><a href="#Vueé¡¹ç›®é…ç½®" class="headerlink" title="Vueé¡¹ç›®é…ç½®"></a><a href="https://cli.vuejs.org/config/#global-cli-config">Vueé¡¹ç›®é…ç½®</a></h2><p>æ–°å»ºvue.config.jsé…ç½®</p>]]></content>
      
      
      
        <tags>
            
            <tag> Webpack </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
            <tag> webpack4 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git ç»éªŒç§¯ç´¯</title>
      <link href="posts/Git-%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/"/>
      <url>posts/Git-%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="å®¢æˆ·ç«¯æ¨è"><a href="#å®¢æˆ·ç«¯æ¨è" class="headerlink" title="å®¢æˆ·ç«¯æ¨è"></a>å®¢æˆ·ç«¯æ¨è</h2><ul><li><a href="https://www.syntevo.com/smartgit/">SmartGit</a>âœ¨âœ¨âœ¨(å¼€å§‹ç”¨çš„ï¼Œåæ¥æ”¾å¼ƒ)</li><li><a href="https://www.sourcetreeapp.com/">Sourcetree</a>âœ¨âœ¨âœ¨âœ¨âœ¨(ç°åœ¨ç”¨çš„è¿™ä¸ªï¼Œéœ€è¦ç¿»å¢™æ³¨å†Œ)</li><li><a href="https://www.gitkraken.com/">GitKraken</a> å¾ˆå¥½ç”¨ï¼Œå¯ä»¥æ›¿ä»£SourceTree, å…¨å¹³å°å…è´¹(ä¹Ÿå¼€å§‹æ”¶è´¹äº†)</li></ul><a id="more"></a><h2 id="github-contributions-å±•ç¤ºé—®é¢˜"><a href="#github-contributions-å±•ç¤ºé—®é¢˜" class="headerlink" title="github contributions å±•ç¤ºé—®é¢˜"></a>github contributions å±•ç¤ºé—®é¢˜</h2><p>æ­£å¸¸æƒ…å†µä¸‹ä¼šå°†æ¯å¤©çš„æäº¤è®°å½•å±•ç¤ºåˆ°å›¾è¡¨ä¸­ã€‚<br>æœ‰å¤©çªç„¶å‘ç°ä¹‹å‰å¥½å¤šæäº¤è®°å½•æ²¡å±•ç¤ºï¼ŒæŸ¥çœ‹åŸå› å‘ç°æ˜¯æäº¤è´¦å·å’Œgithubçš„è´¦å·ä¸ä¸€è‡´çš„åŸå› å¯¼è‡´çš„ã€‚</p><p>GitHubé»˜è®¤åªæœ‰è´¦å·ç»‘å®šçš„é‚®ç®±æäº¤çš„commitsæ‰ä¼šå±•ç¤º.</p><p>è§£å†³åŠæ³•:</p><ul><li><p>å°†å…¬å¸é‚®ç®±åŠ åˆ°GitHubè´¦æˆ·ä¸‹â€“<a href="https://github.com/settings/emails">é“¾æ¥</a></p></li><li><p>å°†å½“å‰é¡¹ç›®çš„æäº¤è®¾ç½®ä¸ºä¸ªäººé‚®ç®±</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config user.email <span class="string">&quot;email@example.com&quot;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="centoså®‰è£…git"><a href="#centoså®‰è£…git" class="headerlink" title="centoså®‰è£…git"></a>centoså®‰è£…git</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>yum install -y git</p><h3 id="æ£€æŸ¥ç‰ˆæœ¬"><a href="#æ£€æŸ¥ç‰ˆæœ¬" class="headerlink" title="æ£€æŸ¥ç‰ˆæœ¬"></a>æ£€æŸ¥ç‰ˆæœ¬</h3><p>git â€“version</p><h3 id="ç”Ÿæˆå…¬é’¥å¹¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Š"><a href="#ç”Ÿæˆå…¬é’¥å¹¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Š" class="headerlink" title="ç”Ÿæˆå…¬é’¥å¹¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Š"></a>ç”Ÿæˆå…¬é’¥å¹¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Š</h3><h3 id="ç”Ÿæˆå…¬é’¥"><a href="#ç”Ÿæˆå…¬é’¥" class="headerlink" title="ç”Ÿæˆå…¬é’¥"></a>ç”Ÿæˆå…¬é’¥</h3><p>ssh-keygen -t rsa</p><h3 id="æŸ¥çœ‹å…¬é’¥"><a href="#æŸ¥çœ‹å…¬é’¥" class="headerlink" title="æŸ¥çœ‹å…¬é’¥"></a>æŸ¥çœ‹å…¬é’¥</h3><p>cat ~/.ssh/id_rsa.pub</p><p>macä¸­ç›´æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿</p><p>pbcopy &lt; ~/.ssh/id_rsa.pub</p><h3 id="å¤åˆ¶id-rsa-pubé‡Œçš„å…¬é’¥åˆ°æœåŠ¡å™¨ä¸Šçš„authorized-keysæ–‡ä»¶"><a href="#å¤åˆ¶id-rsa-pubé‡Œçš„å…¬é’¥åˆ°æœåŠ¡å™¨ä¸Šçš„authorized-keysæ–‡ä»¶" class="headerlink" title="å¤åˆ¶id_rsa.pubé‡Œçš„å…¬é’¥åˆ°æœåŠ¡å™¨ä¸Šçš„authorized_keysæ–‡ä»¶"></a>å¤åˆ¶id_rsa.pubé‡Œçš„å…¬é’¥åˆ°æœåŠ¡å™¨ä¸Šçš„authorized_keysæ–‡ä»¶</h3><p>æ‹·è´ï¼Œå¤åˆ¶åˆ°github.comçš„settingsçš„SSH and GPG keysä¸­</p><h2 id="å®‰è£…nodejs"><a href="#å®‰è£…nodejs" class="headerlink" title="å®‰è£…nodejs"></a>å®‰è£…nodejs</h2><p>å‚è€ƒï¼š<a href="https://nodejs.org/">https://nodejs.org/</a></p><h2 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h2><p>yum remove nodejs -y</p><h2 id="æ­£ç¡®æ–¹æ³•"><a href="#æ­£ç¡®æ–¹æ³•" class="headerlink" title="æ­£ç¡®æ–¹æ³•"></a>æ­£ç¡®æ–¹æ³•</h2><p>1.ç¡®ä¿ç³»ç»Ÿä¸‹ g++ ç‰ˆæœ¬åœ¨ 4.6 ä»¥ä¸Šï¼Œpython ç‰ˆæœ¬åœ¨ 2.6 ä»¥ä¸Šã€‚</p><p>2.ä» nodejs.org ä¸‹è½½ tar.gz åç¼€çš„ NodeJS æœ€æ–°ç‰ˆæºä»£ç åŒ…å¹¶è§£å‹åˆ°æŸä¸ªä½ç½®ã€‚</p><p><code>wget https://nodejs.org/dist/v4.5.0/node-v4.5.0.tar.gz</code></p><p>3.è¿›å…¥è§£å‹åˆ°çš„ç›®å½•ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘å’Œå®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar -zvxf node-v4.5.0.tar.gz</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h2 id="gitæäº¤commitåï¼Œæƒ³æ’¤å›é‡æ–°commit"><a href="#gitæäº¤commitåï¼Œæƒ³æ’¤å›é‡æ–°commit" class="headerlink" title="gitæäº¤commitåï¼Œæƒ³æ’¤å›é‡æ–°commit"></a>gitæäº¤commitåï¼Œæƒ³æ’¤å›é‡æ–°commit</h2><p><code>git reset --soft HEAD^</code></p><p>è¿™æ ·å°±æˆåŠŸçš„æ’¤é”€äº†ä½ çš„commit<br>æ³¨æ„ï¼Œä»…ä»…æ˜¯æ’¤å›commitæ“ä½œï¼Œæ‚¨å†™çš„ä»£ç ä»ç„¶ä¿ç•™ã€‚</p><p><code>--hard</code><br>ä¼šåˆ é™¤æœ¬åœ°ä¿®æ”¹ä»£ç ï¼Œå›åˆ°ä¸Šæ¬¡commitçŠ¶æ€</p><p>æŸ¥çœ‹åˆ†æ”¯ <code>git branch -a</code> (å¯ä»¥æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯)<br>åˆ›å»ºåˆ†æ”¯ <code>git branch name</code><br>åˆ‡æ¢åˆ†æ”¯ <code>git checkout name</code><br>åˆ›å»ºå¹¶åˆ‡æ¢ <code>git checkout -b name</code><br>åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ <code>git merge name</code> ç”¨äºåˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯<br>åˆ é™¤åˆ†æ”¯ <code>git branch -d name</code></p><p>æ³¨ï¼Œåˆå¹¶åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šâ€“no-ffå‚æ•°å°±å¯ä»¥ç”¨æ™®é€šæ¨¡å¼åˆå¹¶ï¼Œåˆå¹¶åçš„å†å²æœ‰åˆ†æ”¯è®°å½•ï¼Œèƒ½çœ‹å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ï¼Œè€Œfast forwardåˆå¹¶å°±çœ‹ä¸å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ã€‚<br>9.å›¢é˜Ÿå¤šäººå¼€å‘åä½œ</p><p>1).æŸ¥çœ‹è¿œç¨‹ä»“åº“åˆ†æ”¯<br>æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„ä¿¡æ¯ git remoteå‘½ä»¤å¯ä»¥æŸ¥çœ‹è¿œç¨‹ä»“åº“ï¼ŒåŠ -vé€‰é¡¹å¯ä»¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚</p><p>2).åˆ†æ”¯æ¨é€</p><p>é¦–å…ˆï¼Œå¯ä»¥è¯•å›¾ç”¨git push origin branch-nameæ¨é€è‡ªå·±çš„ä¿®æ”¹å¦‚æœæ¨é€å¤±è´¥ï¼Œåˆ™å› ä¸ºè¿œç¨‹åˆ†æ”¯æ¯”ä½ çš„æœ¬åœ°æ›´æ–°ï¼Œéœ€è¦å…ˆç”¨git pullè¯•å›¾åˆå¹¶å¦‚æœåˆå¹¶æœ‰å†²çªï¼Œåˆ™è§£å†³å†²çªï¼Œå¹¶åœ¨æœ¬åœ°æäº¤æ²¡æœ‰å†²çªæˆ–è€…è§£å†³æ‰å†²çªåï¼Œå†ç”¨git push origin branch-nameæ¨é€å°±èƒ½æˆåŠŸå¦‚æœgit pullæç¤ºâ€œno tracking informationâ€ï¼Œåˆ™è¯´æ˜æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„é“¾æ¥å…³ç³»æ²¡æœ‰åˆ›å»ºï¼Œç”¨å‘½ä»¤git branch â€“set-upstream branch-name origin/branch-nameã€‚</p><p>git åˆ›å»ºtag<br>ç”¨ -a ï¼ˆè¯‘æ³¨ï¼šå– annotated çš„é¦–å­—æ¯ï¼‰<br>git tag -a v0.1 -m â€˜sidebar is okâ€™</p><p>git tag :  æŸ¥çœ‹tagåˆ—è¡¨<br>git show v1.4 ï¼š æŸ¥çœ‹tagçš„å…·ä½“ä¿¡æ¯</p><p>git tag -l â€˜v0.1.*â€™ # æœç´¢ç¬¦åˆæ¨¡å¼çš„Tag</p><p>ç»™æŒ‡å®šçš„commitæ‰“Tag<br> git tag -a v1.2 9fceb02</p><p>åˆ‡æ¢åˆ°Tag<br>ä¸åˆ‡æ¢åˆ†æ”¯å‘½ä»¤ç›¸åŒï¼Œç”¨git checkout [tagname]<br>åˆ é™¤Tag<br>è¯¯æ‰“æˆ–éœ€è¦ä¿®æ”¹Tagæ—¶ï¼Œéœ€è¦å…ˆå°†Tagåˆ é™¤ï¼Œå†æ‰“æ–°Tagã€‚<br>$ git tag -d v0.1.2 # åˆ é™¤Tag</p><p>åˆ†äº«æ ‡ç­¾<br>Tagæ¨é€åˆ°æœåŠ¡å™¨<br> git push origin v1.5</p><p>ä¸€æ¬¡æ¨é€æ‰€æœ‰æœ¬åœ°æ–°å¢çš„æ ‡ç­¾ä¸Šå»ï¼Œå¯ä»¥ä½¿ç”¨ â€“tags é€‰é¡¹ï¼š<br>git push origin â€“tags</p><p>æ³¨æ„ï¼šå¦‚æœæƒ³çœ‹ä¹‹å‰æŸä¸ªTagçŠ¶æ€ä¸‹çš„æ–‡ä»¶ï¼Œå¯ä»¥è¿™æ ·æ“ä½œ<br>1.git tag æŸ¥çœ‹å½“å‰åˆ†æ”¯ä¸‹çš„Tag<br>2.git checkout v0.21 æ­¤æ—¶ä¼šæŒ‡å‘æ‰“v0.21 Tagæ—¶çš„ä»£ç çŠ¶æ€ï¼Œï¼ˆä½†ç°åœ¨å¤„äºä¸€ä¸ªç©ºçš„åˆ†æ”¯ä¸Šï¼‰</p><p>git pull origin master</p><p>/<strong>ä¿®æ”¹æäº¤ç”¨åˆ°çš„å‘½ä»¤**<em>/<br>git push origin gitcafe-pages  //æäº¤åˆ°è¿œç«¯çš„æœåŠ¡å™¨ä¸Š<br>git commit -m â€˜gitabc first commitâ€™   //åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªç‰ˆæœ¬<br>git add -A<br>/**ä¿®æ”¹æäº¤ç”¨åˆ°çš„å‘½ä»¤</em></strong>/<br>git add -A</p><p>æ·»åŠ å¤šä¸ªæ–‡ä»¶åŠæ–‡ä»¶å¤¹</p><p>è¿›å…¥æŸä¸ªæ–‡ä»¶å¤¹è·¯å¾„ï¼š<br>cd D:/gitCafe     å³å¯è¿›å…¥D:\gitCafe<br>cd believeZJP     å³å¯è¿›å…¥ D:\gitCafe\believeZJP</p><p>git logå¸¸ç”¨å‘½ä»¤ä»¥åŠæŠ€å·§<br>1.git log<br>å¦‚æœä¸å¸¦ä»»ä½•å‚æ•°ï¼Œå®ƒä¼šåˆ—å‡ºæ‰€æœ‰å†å²è®°å½•ï¼Œæœ€è¿‘çš„æ’åœ¨æœ€ä¸Šæ–¹ï¼Œæ˜¾ç¤ºæäº¤å¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œä½œè€…ã€æäº¤æ—¥æœŸã€å’Œæäº¤è¯´æ˜ã€‚å¦‚æœè®°å½•è¿‡å¤šï¼Œåˆ™æŒ‰Page Upã€Page Downã€â†“ã€â†‘æ¥æ§åˆ¶æ˜¾ç¤ºï¼›æŒ‰qé€€å‡ºå†å²è®°å½•åˆ—è¡¨ã€‚</p><p>å½“gitå‡ºç°</p><blockquote><p>Please enter a commit message to explain why this merge is necessary<br> especially if it merges an updated upstream into a topic branch<br> Lines starting with â€˜#â€™ will be ignored, and an empty message aborts<br> the commit<br>~<br>â€œ.git/MERGE_MSGâ€ 7L, 293C<br>è¿™ä¸ªç”»é¢æ—¶ï¼š</p></blockquote><p>type i to insert a comment then press esc and type :wq</p><p>viç¼–è¾‘æ¨¡å¼ï¼š<br>è¿›å…¥ï¼š<br>vi test.txt<br>ä»æ’å…¥æ¨¡å¼åˆ‡æ¢ä¸ºå‘½ä»¤è¡Œæ¨¡å¼</p><p>ã€€ã€€æŒ‰ã€ŒESCã€é”®ã€‚<br>æŒ‰escé€€å‡ºç¼–è¾‘æ¨¡å¼<br>é€€å‡ºviåŠä¿å­˜æ–‡ä»¶</p><p>åˆ«å¿˜äº†wqå‰é¢çš„:<br>:w   ä¿å­˜æ–‡ä»¶ä½†ä¸é€€å‡ºvi<br>:w file å°†ä¿®æ”¹å¦å¤–ä¿å­˜åˆ°fileä¸­ï¼Œä¸é€€å‡ºvi<br>:w!   å¼ºåˆ¶ä¿å­˜ï¼Œä¸æ¨å‡ºvi<br>:wq  ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºvi<br>:wq! å¼ºåˆ¶ä¿å­˜æ–‡ä»¶ï¼Œå¹¶é€€å‡ºvi<br>q:  ä¸ä¿å­˜æ–‡ä»¶ï¼Œé€€å‡ºvi<br>:q! ä¸ä¿å­˜æ–‡ä»¶ï¼Œå¼ºåˆ¶é€€å‡ºvi<br>:e! æ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹ï¼Œä»ä¸Šæ¬¡ä¿å­˜æ–‡ä»¶å¼€å§‹å†ç¼–è¾‘<br>cat test.txt   //æŸ¥çœ‹æ–‡ä»¶å†…å®¹</p><p>é…ç½®SSH KEYS<br>æ­¥éª¤ä¸¥æ ¼æŒ‰ç…§<a href="https://help.github.com/articles/generating-ssh-keys/">https://help.github.com/articles/generating-ssh-keys/</a> æ˜¯å¯ä»¥æˆåŠŸçš„ã€‚</p><p>è½¬ pushæœ¬åœ°ä»£ç åˆ°githubå‡ºé”™<br>åˆšåˆ›å»ºçš„githubç‰ˆæœ¬åº“ï¼Œåœ¨pushä»£ç æ—¶å‡ºé”™ï¼š</p><p>$ git push -u origin master</p><p>è§£å†³åŠæ³•ï¼š<br>    2.pushå‰å…ˆå°†è¿œç¨‹repositoryä¿®æ”¹pullä¸‹æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git pull origin master</span><br><span class="line"></span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><p>æ·»åŠ å…¬é’¥:<br>    åº”å°†id_rsa.pubä¸­çš„å†…å®¹æ‹·è´åˆ°æ–‡æœ¬æ¡†ä¸­ï¼Œè€Œä¸æ˜¯id_rsaä¸­çš„ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p><p>git åˆå¹¶ï¼š<br>    1.å…ˆgit pull å°†è¿œç¨‹çš„æ–‡ä»¶æ›´æ–°è¿‡æ¥<br>    2.æœ‰å†²çªçš„ï¼Œä¼šåœ¨æ–‡ä»¶ä¸­æœ‰</p><p>è¿™æ ·çš„æç¤ºï¼Œè§£å†³å†²çªï¼Œ<br>    3.git add ï¼Œç„¶åå†commit<br>    4.git push origin master</p><p>git add -A<br>git commit -m â€˜ddâ€™<br>git push origin master</p><p>github æäº¤æ—¶ï¼Œå¤šæ¬¡è¦æ±‚è¾“å…¥ç”¨æˆ·åå¯†ç çš„è§£å†³æ–¹æ³•</p><p>gitç”Ÿæˆssh key<br>    ssh-keygen.exe<br>    vim ~/.ssh/id_rsa.pub<br>å°†ssh key å¤åˆ¶åˆ°æ·»åŠ é¡µé¢</p><p>git diff ä»¥åï¼ŒæŒ‰q é€€å‡º<br>git å¼ºåˆ¶è¦†ç›–æœ¬åœ°æŸä¸ªæ–‡ä»¶<br>git checkout  â€“ file</p><p>gitåˆ‡æ¢åˆ†æ”¯ï¼š<br>    git checkout åˆ†æ”¯åç§°<br>git åªæ·»åŠ æ–‡ä»¶å¤¹ï¼Œ<br>   ç”¨git status æ˜¯ä¸ä¼šæ£€æµ‹åˆ°æ·»åŠ çš„æ–‡ä»¶å¤¹ï¼Œ(å¤šçº§æ–‡ä»¶å¤¹ä¹Ÿæ— æ³•æ£€æµ‹åˆ°)<br>    åªæœ‰æ–‡ä»¶å¤¹ä¸­æœ‰æ–‡ä»¶ï¼Œæ‰ä¼šæ£€æµ‹åˆ°ï¼Œ</p><h3 id="ç»™æœ¬æ¬¡å­˜å‚¨åŠ ä¸ªå¤‡æ³¨ï¼Œä»¥é˜²æ—¶é—´ä¹…äº†å¿˜äº†"><a href="#ç»™æœ¬æ¬¡å­˜å‚¨åŠ ä¸ªå¤‡æ³¨ï¼Œä»¥é˜²æ—¶é—´ä¹…äº†å¿˜äº†" class="headerlink" title="ç»™æœ¬æ¬¡å­˜å‚¨åŠ ä¸ªå¤‡æ³¨ï¼Œä»¥é˜²æ—¶é—´ä¹…äº†å¿˜äº†"></a>ç»™æœ¬æ¬¡å­˜å‚¨åŠ ä¸ªå¤‡æ³¨ï¼Œä»¥é˜²æ—¶é—´ä¹…äº†å¿˜äº†</h3><p><code>git stash save &quot;å­˜å‚¨&quot;</code></p><p>git stash ç»éªŒï¼Œ<br>å½“é‡åˆ°æœ¬åœ°å·²ç»commitåï¼Œå‘ç°å¿˜è®°äº†git pull æ—¶ï¼Œæ­¤æ—¶ï¼Œgit pullä¼šæç¤ºï¼šyou have unstaged changes.<br>å¯ä»¥å…ˆgit stash ï¼Œå°†æœ¬åœ°çš„çŠ¶æ€å­˜èµ·æ¥ï¼Œ<br>ç„¶åå°±å¯ä»¥git pull,<br>å†ä»æœ¬åœ°æ¢å¤ä¹‹å‰çš„çŠ¶æ€ï¼Œ<br>git stash pop</p><p>git stash list   å¯ä»¥æŸ¥çœ‹æœ¬åœ°æœ‰å“ªäº›çŠ¶æ€ï¼Œ<br>git stash pop stash@{0}    å¯ä»¥å°†åŸå…ˆä¿å­˜çš„çŠ¶æ€è¿˜åŸã€‚<br>ç›´æ¥git stash pop ä¹Ÿå¯ä»¥ã€‚<br>æ­¤æ—¶å†git commit -m â€œâ€ï¼Œgit push<br>å°±å¯ä»¥æ­£å¸¸æäº¤äº†ã€‚<br>å›é€€åˆ°æŸä¸ªç‰ˆæœ¬<br> sudo git reset â€“hard 3943d5c74a08a8f6ad113e63ed191ecb4f48b053<br>gitå¼ºåˆ¶è¦†ç›–æœ¬åœ°æ‰€æœ‰ä¿®æ”¹ï¼š<br>git fetch â€“all<br>git reset â€“hard origin/master</p><p>error: cannot lock ref â€˜refs/remotes/origin/masterâ€™: unable to resolve reference refs/remotes/origin/master: Invalid argument<br>å‘ç”ŸåŸå› ï¼š<br>git push origin master å†™æˆäº†git push origin/master</p><p>è§£å†³åŠæ³•ï¼š<br>rm .git/refs/remotes/origin/master<br>git fetch</p><p>ä¿®å¤bugçš„æµç¨‹<br>è¯´æ˜ï¼šä»ç”Ÿäº§ç¯å¢ƒçš„åˆ†æ”¯ä¸Šä¿®æ”¹ï¼Œå†é€æ¸æ”¹åˆ°æµ‹è¯•ç¯å¢ƒï¼Œdevç¯å¢ƒ<br>æ“ä½œæ­¥éª¤ï¼š<br>    1.åœ¨ä¸»åˆ†æ”¯masteræ‹‰ä¸€ä¸ªåˆ†æ”¯branch1å‡ºæ¥ï¼Œä¿®æ”¹ï¼Œ<br>    2.å°†branch1åˆå¹¶åˆ°master,å¹¶æäº¤ï¼Œgit push<br>    3.åˆ‡æ¢åˆ°teståˆ†æ”¯ï¼Œgit merge branch1,å¹¶æäº¤ï¼Œgit push<br>    4.åˆ‡æ¢åˆ°devåˆ†æ”¯ï¼Œgit merge branch1 å¹¶æäº¤ï¼Œgit push<br>    5.ç™»å½•åˆ°æ¯ä¸ªç¯å¢ƒçš„æœåŠ¡å™¨ä¸­ï¼Œåˆ†åˆ«git pullï¼Œå³å¯çœ‹åˆ°æ›´æ”¹çš„ç»“æœã€‚</p><hr><p>è®©æŸä¸ªåˆ†æ”¯å’Œå¦å¤–ä¸€ä¸ªåˆ†æ”¯ä¸€æ ·çš„è¯ï¼Œç›´æ¥å°†å¦ä¸€ä¸ªåˆ†æ”¯mergeè¿‡æ¥ã€‚</p><p> Read-Search-Ask methodology</p><p>git pullçš„æ—¶å€™é‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼š<br>The following untracked working tree files would be overwritten by merge balabalaâ€¦<br>è§£å†³åŠæ³•ï¼š<br>git clean -d -fx<br>å¤‡æ³¨ï¼šä¼šåˆ é™¤æ‰æ²¡æœ‰addåˆ°ä»“åº“çš„æ–‡ä»¶ï¼Œæ“ä½œè®°å¾—æ…é‡ï¼Œä»¥å…æ”¹åŠ¨æ–‡ä»¶çš„ä¸¢å¤±ã€‚æœ¬è´¨ä¸Šå°±æ˜¯æ“ä½œä»“åº“ä¸­æ²¡æœ‰è¢«è¿½è¸ªçš„æœ¬åœ°æ–‡ä»¶<br>$ git clean -f -n         # 1<br>$ git clean -f            # 2<br>$ git clean -fd           # 3<br>$ git clean -fX           # 4<br>$ git clean -fx           # 5<br>(1): é€‰é¡¹-nå°†æ˜¾ç¤ºæ‰§è¡Œï¼ˆ2ï¼‰æ—¶å°†ä¼šç§»é™¤å“ªäº›æ–‡ä»¶ã€‚<br>(2): è¯¥å‘½ä»¤ä¼šç§»é™¤æ‰€æœ‰å‘½ä»¤ï¼ˆ1ï¼‰ä¸­æ˜¾ç¤ºçš„æ–‡ä»¶ã€‚<br>(3): å¦‚æœä½ è¿˜æƒ³ç§»é™¤æ–‡ä»¶ä»¶ï¼Œè¯·ä½¿ç”¨é€‰é¡¹-dã€‚<br>(4): å¦‚æœä½ åªæƒ³ç§»é™¤å·²è¢«å¿½ç•¥çš„æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨é€‰é¡¹-Xã€‚<br>(5): å¦‚æœä½ æƒ³ç§»é™¤å·²è¢«å¿½ç•¥å’Œæœªè¢«å¿½ç•¥çš„æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨é€‰é¡¹-xã€‚</p><p>mkdir learngit<br>cd learngit<br>pwd<br>git init<br>git add readme.txt<br>git commit -m â€œwrote a readme fileâ€<br>git status<br> git diff readme.txt //æŸ¥çœ‹æ–‡ä»¶çš„åŒºåˆ«<br>git log  å†å²è®°å½•<br>git log â€“pretty=oneline   ä¸€è¡Œæ˜¾ç¤º<br> git reset â€“hard HEAD^   å›é€€ä¸Šä¸€ä¸ªç‰ˆæœ¬<br>ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD^^   å†™æˆHEAD~100  ä¸Š100ä¸ªç‰ˆæœ¬<br>git reset â€“hard 3628164  æŒ‡å®šå›åˆ°æœªæ¥çš„æŸä¸ªç‰ˆæœ¬ã€‚ç‰ˆæœ¬å·æ²¡å¿…è¦å†™å…¨ï¼Œå‰å‡ ä½å°±å¯ä»¥äº†ï¼ŒGitä¼šè‡ªåŠ¨å»æ‰¾<br>gitreflog   è®°å½•æ¯ä¸€æ¬¡å‘½ä»¤<br>git diff //æŸ¥çœ‹ä¿®æ”¹çš„å†…å®¹<br>git diff HEAD â€“ readme.txtå‘½ä»¤å¯ä»¥æŸ¥çœ‹å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“é‡Œé¢æœ€æ–°ç‰ˆæœ¬çš„åŒºåˆ«<br>git checkout â€“ readme.txt    ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹</p><p>å‘½ä»¤git checkout â€“ readme.txtæ„æ€å°±æ˜¯ï¼ŒæŠŠreadme.txtæ–‡ä»¶åœ¨å·¥ä½œåŒºçš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æƒ…å†µï¼š<br>    ä¸€ç§æ˜¯readme.txtè‡ªä¿®æ”¹åè¿˜æ²¡æœ‰è¢«æ”¾åˆ°æš‚å­˜åŒºï¼Œç°åœ¨ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°å’Œç‰ˆæœ¬åº“ä¸€æ¨¡ä¸€æ ·çš„çŠ¶æ€ï¼›<br>    ä¸€ç§æ˜¯readme.txtå·²ç»æ·»åŠ åˆ°æš‚å­˜åŒºåï¼Œåˆä½œäº†ä¿®æ”¹ï¼Œç°åœ¨ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°æ·»åŠ åˆ°æš‚å­˜åŒºåçš„çŠ¶æ€ã€‚<br>    æ€»ä¹‹ï¼Œå°±æ˜¯è®©è¿™ä¸ªæ–‡ä»¶å›åˆ°æœ€è¿‘ä¸€æ¬¡git commitæˆ–git addæ—¶çš„çŠ¶æ€ã€‚<br>â€“å¾ˆé‡è¦ï¼Œæ²¡æœ‰â€“ï¼Œå°±å˜æˆäº†â€œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯â€çš„å‘½ä»¤ï¼Œ<br>git checkoutå…¶å®æ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥â€œä¸€é”®è¿˜åŸâ€ã€‚<br>git reset HEAD readme.txt   å¯ä»¥æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼ˆunstageï¼‰ï¼Œé‡æ–°æ”¾å›å·¥ä½œåŒºï¼š<br>    å°ç»“ï¼š<br>        åœºæ™¯1ï¼šå½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤git checkout â€“ fileã€‚<br>        åœºæ™¯2ï¼šå½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨å‘½ä»¤git rese            t HEAD fileï¼Œå°±å›åˆ°äº†åœºæ™¯1ï¼Œç¬¬äºŒæ­¥æŒ‰åœºæ™¯1æ“ä½œã€‚<br>        åœºæ™¯3ï¼šå·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤ï¼Œå‚è€ƒç‰ˆæœ¬å›é€€ï¼Œä¸è¿‡å‰ææ˜¯æ²¡æœ‰æ¨é€åˆ°è¿œç¨‹åº“                    ã€‚<br>â€”â€“åˆ é™¤æ–‡ä»¶â€”-<br>rm test.txt   ç›´æ¥åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æŠŠæ²¡ç”¨çš„æ–‡ä»¶åˆ äº†ï¼Œæˆ–è€…ç”¨rmå‘½ä»¤åˆ äº†ï¼šâ€”ç›¸å½“äºä»æ–‡ä»¶ç®¡ç†å™¨åˆ é™¤<br> git rm test.txt   ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤è¯¥æ–‡ä»¶ï¼Œé‚£å°±ç”¨å‘½ä»¤git rmåˆ æ‰ï¼Œå¹¶ä¸”git commitï¼š<br>git commit -m â€œremove test.txtâ€<br>            æ–‡ä»¶å°±ä»ç‰ˆæœ¬åº“ä¸­è¢«åˆ é™¤äº†ã€‚<br>â€”â€”â€”â€“è¿œç¨‹å…³è”â€”â€”â€”â€”<br>git remote add origin git@server-name:path/repo-name.gitï¼›<br>      eg:  $ git remote add origin <a href="mailto:&#x67;&#105;&#116;&#64;&#103;&#105;&#x74;&#x68;&#x75;&#x62;&#46;&#99;&#x6f;&#x6d;">&#x67;&#105;&#116;&#64;&#103;&#105;&#x74;&#x68;&#x75;&#x62;&#46;&#99;&#x6f;&#x6d;</a>:michaelliao/learngit.git<br>git push -u origin masterç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹ï¼›<br>æ¯æ¬¡æœ¬åœ°æäº¤åï¼Œåªè¦æœ‰å¿…è¦ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤git push origin masteræ¨é€æœ€æ–°ä¿®æ”¹ï¼›<br>git remote -v   çœ‹æœ‰æ²¡æœ‰æƒé™æ¨é€</p><p>â€”â€”â€”â€”ç”¨å‘½ä»¤å…‹éš†ä¸€ä¸ªè¿œç¨‹åº“â€”â€”â€”â€”â€”-<br>git clone <a href="mailto:&#x67;&#105;&#116;&#x40;&#103;&#105;&#x74;&#x68;&#x75;&#98;&#x2e;&#x63;&#111;&#x6d;">&#x67;&#105;&#116;&#x40;&#103;&#105;&#x74;&#x68;&#x75;&#98;&#x2e;&#x63;&#111;&#x6d;</a>:michaelliao/gitskills.git      ç”¨å‘½ä»¤git cloneå…‹éš†ä¸€ä¸ªæœ¬åœ°åº“ï¼š<br><a href="mailto:&#x67;&#x69;&#x74;&#64;&#x67;&#105;&#x74;&#x68;&#x75;&#98;&#x2e;&#x63;&#x6f;&#x6d;">&#x67;&#x69;&#x74;&#64;&#x67;&#105;&#x74;&#x68;&#x75;&#98;&#x2e;&#x63;&#x6f;&#x6d;</a>/believeZJP/believeZJP.github.io.git</p><p><a href="https://gitcafe.com/believeZJP/believeZJP.git">https://gitcafe.com/believeZJP/believeZJP.git</a></p><p>git åªå…‹éš†ä¸€ä¸ªåˆ†æ”¯<br> <code>git clone -b &lt;branch&gt; &lt;remote_repo&gt;</code><br> eg:      git clone -b gitcafe-pages  <a href="mailto:&#103;&#x69;&#x74;&#64;&#103;&#x69;&#116;&#99;&#x61;&#102;&#x65;&#46;&#99;&#111;&#109;">&#103;&#x69;&#x74;&#64;&#103;&#x69;&#116;&#99;&#x61;&#102;&#x65;&#46;&#99;&#111;&#109;</a>:believeZJP/believeZJP.git</p><p>â€”â€”â€”â€”â€“åˆ‡æ¢åˆ†æ”¯â€”â€”â€”â€”-<br>git checkout -b dev   checkoutå‘½ä»¤åŠ ä¸Š-bå‚æ•°è¡¨ç¤ºåˆ›å»ºå¹¶åˆ‡æ¢ï¼Œç›¸å½“äºä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ï¼š<br>git branch dev<br>git checkout dev<br>git branch   æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼šä¼šåˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ ‡ä¸€ä¸ª*å·<br>git checkout master         åˆ‡æ¢å›masteråˆ†æ”¯ï¼š<br> git merge dev                æŠŠdevåˆ†æ”¯çš„å·¥ä½œæˆæœåˆå¹¶åˆ°masteråˆ†æ”¯ä¸Š<br>git branch -d dev            åˆ é™¤devåˆ†æ”¯äº†<br>git branch -D feature-vulcan  å¼ºè¡Œåˆ é™¤åˆ†æ”¯</p><p>å°ç»“<br>Gité¼“åŠ±å¤§é‡ä½¿ç”¨åˆ†æ”¯ï¼š<br>æŸ¥çœ‹åˆ†æ”¯ï¼šgit branch     //  git branch -a<br>åˆ›å»ºåˆ†æ”¯ï¼šgit branch <name><br>åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout <name><br>åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout -b <name><br>åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼šgit merge <name><br>åˆ é™¤åˆ†æ”¯ï¼šgit branch -d <name></p><p> git log â€“graph â€“pretty=oneline â€“abbrev-commit   åˆ†æ”¯çš„åˆå¹¶æƒ…å†µï¼š</p><p>git merge â€“no-ff -m â€œmerge with no-ffâ€ dev        è¯·æ³¨æ„â€“no-ffå‚æ•°ï¼Œè¡¨ç¤ºç¦ç”¨Fast forwardï¼š<br>å› ä¸ºæœ¬æ¬¡åˆå¹¶è¦åˆ›å»ºä¸€ä¸ªæ–°çš„commitï¼Œæ‰€ä»¥åŠ ä¸Š-må‚æ•°ï¼ŒæŠŠcommitæè¿°å†™è¿›å»ã€‚<br>åˆå¹¶åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šâ€“no-ffå‚æ•°å°±å¯ä»¥ç”¨æ™®é€šæ¨¡å¼åˆå¹¶ï¼Œåˆå¹¶åçš„å†å²æœ‰åˆ†æ”¯ï¼Œèƒ½çœ‹å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ï¼Œè€Œfast forwardåˆå¹¶å°±çœ‹ä¸å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ã€‚</p><p>â€”â€”â€”â€”â€“ä»è¿œç¨‹è·å–æ–‡ä»¶â€”â€”â€”â€”â€”â€”-<br>å°†ä¿®æ”¹çš„æ–‡ä»¶æ¨é€åˆ°è¿œç¨‹<br>git push origin master<br>git push origin dev</p><p>â€”â€”â€”Bugåˆ†æ”¯â€”â€”â€”â€”â€”â€“<br>git stash            æŠŠå½“å‰å·¥ä½œç°åœºâ€œå‚¨è—â€èµ·æ¥ï¼Œç­‰ä»¥åæ¢å¤ç°åœºåç»§ç»­å·¥ä½œï¼š<br>git stash list        æŸ¥çœ‹å·¥ä½œç°åœº</p><p>GitæŠŠstashå†…å®¹å­˜åœ¨æŸä¸ªåœ°æ–¹ï¼Œéœ€è¦æ¢å¤ï¼Œæœ‰ä¸¤ä¸ªåŠæ³•ï¼š<br>ä¸€æ˜¯ç”¨git stash applyæ¢å¤ï¼Œä½†æ˜¯æ¢å¤åï¼Œstashå†…å®¹å¹¶ä¸åˆ é™¤ï¼Œä½ éœ€è¦ç”¨git stash dropæ¥åˆ é™¤ï¼›<br>å¦ä¸€ç§æ–¹å¼æ˜¯ç”¨git stash popï¼Œæ¢å¤çš„åŒæ—¶æŠŠstashå†…å®¹ä¹Ÿåˆ äº†ï¼š</p><p>å¯ä»¥å¤šæ¬¡stashï¼Œæ¢å¤çš„æ—¶å€™ï¼Œå…ˆç”¨git stash listæŸ¥çœ‹ï¼Œç„¶åæ¢å¤æŒ‡å®šçš„stashï¼Œç”¨å‘½ä»¤ï¼š<br>$ git stash apply stash@{0}<br>ä¿®å¤bugæ—¶ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡åˆ›å»ºæ–°çš„bugåˆ†æ”¯è¿›è¡Œä¿®å¤ï¼Œç„¶ååˆå¹¶ï¼Œæœ€ååˆ é™¤ï¼›<br>å½“æ‰‹å¤´å·¥ä½œæ²¡æœ‰å®Œæˆæ—¶ï¼Œå…ˆæŠŠå·¥ä½œç°åœºgit stashä¸€ä¸‹ï¼Œç„¶åå»ä¿®å¤bugï¼Œä¿®å¤åï¼Œå†git stash popï¼Œå›åˆ°å·¥ä½œç°åœºã€‚</p><p>â€”â€”â€”â€”â€”â€“å¤šäººåä½œâ€”â€”â€”â€”â€”â€”â€“<br>å°ç»“<br>æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼Œä½¿ç”¨git remote -vï¼›<br>æœ¬åœ°æ–°å»ºçš„åˆ†æ”¯å¦‚æœä¸æ¨é€åˆ°è¿œç¨‹ï¼Œå¯¹å…¶ä»–äººå°±æ˜¯ä¸å¯è§çš„ï¼›<br>ä»æœ¬åœ°æ¨é€åˆ†æ”¯ï¼Œä½¿ç”¨git push origin branch-nameï¼Œå¦‚æœæ¨é€å¤±è´¥ï¼Œå…ˆç”¨git pullæŠ“å–è¿œç¨‹çš„æ–°æäº¤ï¼›<br>åœ¨æœ¬åœ°åˆ›å»ºå’Œè¿œç¨‹åˆ†æ”¯å¯¹åº”çš„åˆ†æ”¯ï¼Œä½¿ç”¨git checkout -b branch-name origin/branch-nameï¼Œæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯çš„åç§°æœ€å¥½ä¸€è‡´ï¼›<br>å»ºç«‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„å…³è”ï¼Œä½¿ç”¨git branch â€“set-upstream branch-name origin/branch-nameï¼›<br>ä»è¿œç¨‹æŠ“å–åˆ†æ”¯ï¼Œä½¿ç”¨git pullï¼Œå¦‚æœæœ‰å†²çªï¼Œè¦å…ˆå¤„ç†å†²çªã€‚</p><p>â€”â€”â€”â€”â€”åˆ›å»ºæ ‡ç­¾â€”â€”â€”â€”â€”<br>git tag v1.0                é»˜è®¤æ ‡ç­¾æ˜¯æ‰“åœ¨æœ€æ–°æäº¤çš„commitä¸Š<br>git tag                    æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾<br>git tag v0.96224937         æ‰“æ ‡ç­¾åˆ°æŸä¸€ä¸ªcommitä¸Š<br> git show v0.9                æŸ¥çœ‹æ ‡ç­¾ä¿¡æ¯<br>git tag -a v0.1 -m â€œversion 0.1 releasedâ€3628164        åˆ›å»ºå¸¦æœ‰è¯´æ˜çš„æ ‡ç­¾ï¼Œç”¨-aæŒ‡å®šæ ‡ç­¾åï¼Œ-mæŒ‡å®šè¯´æ˜æ–‡å­—<br>git tag -s <tagname> -m â€œblablablaâ€¦â€å¯ä»¥ç”¨PGPç­¾åæ ‡ç­¾ï¼›<br>git tag -d v0.1               åˆ é™¤æ ‡ç­¾<br>git push origin v1.0            æ¨é€æŸä¸ªæ ‡ç­¾åˆ°è¿œç¨‹<br> git push origin â€“tags            ä¸€æ¬¡æ€§æ¨é€å…¨éƒ¨å°šæœªæ¨é€åˆ°è¿œç¨‹çš„æœ¬åœ°æ ‡ç­¾<br>git push origin :refs/tags/v0.9<br>ç­¾å·²ç»æ¨é€åˆ°è¿œç¨‹ï¼Œè¦åˆ é™¤è¿œç¨‹æ ‡ç­¾å°±éº»çƒ¦ä¸€ç‚¹ï¼Œå…ˆä»æœ¬åœ°åˆ é™¤ï¼šä»è¿œç¨‹åˆ é™¤ã€‚åˆ é™¤å‘½ä»¤ä¹Ÿæ˜¯pushï¼Œä½†æ˜¯æ ¼å¼å¦‚ä¸‹ï¼š<br>git push origin :refs/tags/v0.9<br>// To <a href="mailto:&#103;&#105;&#x74;&#64;&#x67;&#x69;&#x74;&#x68;&#x75;&#98;&#x2e;&#99;&#x6f;&#109;">&#103;&#105;&#x74;&#64;&#x67;&#x69;&#x74;&#x68;&#x75;&#98;&#x2e;&#99;&#x6f;&#109;</a>:michaelliao/learngit.git   ä¸çŸ¥é“æœ‰æ²¡æœ‰è¿™ä¸ª</p><p>å°ç»“<br>å‘½ä»¤git push origin <tagname>å¯ä»¥æ¨é€ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼›<br>å‘½ä»¤git push origin â€“tagså¯ä»¥æ¨é€å…¨éƒ¨æœªæ¨é€è¿‡çš„æœ¬åœ°æ ‡ç­¾ï¼›<br>å‘½ä»¤git tag -d <tagname>å¯ä»¥åˆ é™¤ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼›<br>å‘½ä»¤git push origin :refs/tags/<tagname>å¯ä»¥åˆ é™¤ä¸€ä¸ªè¿œç¨‹æ ‡ç­¾ã€‚</p><p>â€”â€”â€”-ä½¿ç”¨GitHubâ€”â€”â€”â€”â€”â€”â€”<br>å°ç»“<br>åœ¨GitHubä¸Šï¼Œå¯ä»¥ä»»æ„Forkå¼€æºä»“åº“ï¼›<br>è‡ªå·±æ‹¥æœ‰Forkåçš„ä»“åº“çš„è¯»å†™æƒé™ï¼›<br>å¯ä»¥æ¨é€pull requestç»™å®˜æ–¹ä»“åº“æ¥è´¡çŒ®ä»£ç ã€‚</p><p>â€”â€”â€”â€”â€”â€”è‡ªå®šä¹‰Gitâ€”â€”â€”â€”â€”â€”â€”â€”<br>git config â€“global color.ui true                è®©Gitæ˜¾ç¤ºé¢œè‰²ï¼Œä¼šè®©å‘½ä»¤è¾“å‡ºçœ‹èµ·æ¥æ›´é†’ç›®<br>â€”â€”â€”â€”â€”â€”é…ç½®åˆ«åâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</p><p>git config â€“global alias.st status<br>git config â€“global alias.co checkout<br>git config â€“global alias.ci commit<br>git config â€“global alias.br branch<br>ä»¥åstå°±è¡¨ç¤ºstatus    coè¡¨ç¤ºcheckoutï¼Œciè¡¨ç¤ºcommitï¼Œbrè¡¨ç¤ºbranch</p><p>â€“globalå‚æ•°æ˜¯å…¨å±€å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¿™äº›å‘½ä»¤åœ¨è¿™å°ç”µè„‘çš„æ‰€æœ‰Gitä»“åº“ä¸‹éƒ½æœ‰ç”¨</p><p>git config â€“global alias.unstage â€˜reset HEADâ€™<br>        å½“ä½ æ•²å…¥å‘½ä»¤ï¼š$ git unstage test.py   å®é™…ä¸ŠGitæ‰§è¡Œçš„æ˜¯ï¼š   $ git reset HEAD test.py<br>git config â€“global alias.last â€˜log -1â€™        è®©å…¶æ˜¾ç¤ºæœ€åä¸€æ¬¡æäº¤ä¿¡æ¯</p><p>git config â€“global alias.lg â€œlog â€“color â€“graph â€“pretty=format:â€™%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Cresetâ€™ â€“abbrev-commitâ€<br>git lg</p><p>é…ç½®æ–‡ä»¶æ”¾å“ªäº†ï¼Ÿæ¯ä¸ªä»“åº“çš„Gité…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨.git/configæ–‡ä»¶ä¸­ï¼š<br>åˆ«åå°±åœ¨[alias]åé¢ï¼Œè¦åˆ é™¤åˆ«åï¼Œç›´æ¥æŠŠå¯¹åº”çš„è¡Œåˆ æ‰å³å¯ã€‚<br>å½“å‰ç”¨æˆ·çš„Gité…ç½®æ–‡ä»¶æ”¾åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„ä¸€ä¸ªéšè—æ–‡ä»¶.gitconfigä¸­ï¼š</p><p>â€¦or create a new repository on the command line<br>echo â€œ# node-serverâ€ &gt;&gt; README.md<br>git init<br>git add README.md<br>git commit -m â€œfirst commitâ€<br>git remote add origin <a href="https://github.com/believeZJP/node-server.git">https://github.com/believeZJP/node-server.git</a><br>git push -u origin master</p><p>â€¦or push an existing repository from the command line<br>git remote add origin <a href="https://github.com/believeZJP/node-server.git">https://github.com/believeZJP/node-server.git</a><br>git push -u origin master</p><p>gitè¿œç¨‹æœ‰åˆ†æ”¯ï¼Œæœ¬åœ°æ²¡æœ‰ï¼Œè§£å†³åŠæ³•<br>git fetch å‘½ä»¤ä¼šæ›´æ–° remote ç´¢å¼•ã€‚</p><p>git fetch origin</p><h2 id="gitå­˜å‚¨"><a href="#gitå­˜å‚¨" class="headerlink" title="gitå­˜å‚¨"></a>gitå­˜å‚¨</h2><h3 id="gitåˆ†åŒº"><a href="#gitåˆ†åŒº" class="headerlink" title="gitåˆ†åŒº"></a>gitåˆ†åŒº</h3><p>gitå­˜å‚¨åˆ†æˆå››ä¸ªéƒ¨åˆ†</p><ul><li>workspaceï¼šå·¥ä½œç©ºé—´ï¼ˆæˆ‘ä»¬çš„å¼€å‘ä»£ç ç›®å½•ï¼‰</li><li>indexï¼š æš‚å­˜åŒºï¼Œ.gitç›®å½•ä¸‹çš„indexæ–‡ä»¶</li><li>Repositoryï¼šæœ¬åœ°ä»“åº“ï¼Œé€šè¿‡git cloneå°†è¿œç¨‹çš„ä»£ç ä¸‹è½½åˆ°æœ¬åœ°ï¼›ä»£ç åº“çš„å…ƒæ•°æ®ä¿¡æ¯åœ¨æ ¹ç›®å½•ä¸‹çš„.gitç›®å½•ä¸‹</li><li>Remoteï¼šè¿œç¨‹ä»“åº“ï¼ˆæ¯”å¦‚GitHubå°±æ˜¯ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼‰</li></ul><p>æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯ï¼š</p><ol><li><p>å·¥ä½œåŒºâ€“git addâ€“æš‚å­˜åŒºâ€“git commitâ€“æœ¬åœ°ä»“åº“â€“ git pushâ€“è¿œç¨‹ä»“åº“</p></li><li><p>è¿œç¨‹ä»“åº“åŒºâ€“-fetchâ€“-ä½¿ç”¨refs\remotesä¸‹å¯¹åº”åˆ†æ”¯æ–‡ä»¶è®°å½•è¿œç¨‹åˆ†æ”¯æœ«ç«¯commit_id å’Œ æœ¬åœ°ä»“åº“åŒº â€“mergeâ€“-å·¥ä½œåŒº</p></li><li><p>è¿œç¨‹ä»“åº“åŒºâ€“-pullâ€“-ä½¿ç”¨refs\remotesä¸‹å¯¹åº”åˆ†æ”¯æ–‡ä»¶è®°å½•è¿œç¨‹åˆ†æ”¯æœ«ç«¯commit_id and æœ¬åœ°ä»“åº“åŒº and å·¥ä½œåŒº</p></li></ol><h3 id="git-fetchå’Œgit-pullçš„åŒºåˆ«"><a href="#git-fetchå’Œgit-pullçš„åŒºåˆ«" class="headerlink" title="git fetchå’Œgit pullçš„åŒºåˆ«"></a>git fetchå’Œgit pullçš„åŒºåˆ«</h3><p>git fetch: æ˜¯å°†è¿œç¨‹ä¸»æœºçš„æœ€æ–°å†…å®¹æ‹‰åˆ°æœ¬åœ°ï¼Œç”¨æˆ·åœ¨æ£€æŸ¥äº†ä»¥åå†³å®šæ˜¯å¦åˆå¹¶åˆ°å·¥ä½œæœ¬æœºåˆ†æ”¯ä¸­ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git  fetch origin master:temp</span><br><span class="line">//æœ¬åœ°æ–°å»ºä¸€ä¸ªtempåˆ†æ”¯ï¼Œå¹¶å°†è¿œç¨‹originä»“åº“çš„masteråˆ†æ”¯ä»£ç ä¸‹è½½åˆ°æœ¬åœ°tempåˆ†æ”¯</span><br><span class="line">git diff temp</span><br><span class="line">//æ¯”è¾ƒè¿œç¨‹ä»£ç ä¸æœ¬åœ°ä»£ç çš„åŒºåˆ«</span><br><span class="line">git merge temp</span><br><span class="line">//å°†tempåˆ†æ”¯åˆå¹¶åˆ°æœ¬åœ°masteråˆ†æ”¯</span><br><span class="line">git branch -d temp</span><br><span class="line">//å¦‚æœä¸æƒ³ä¿ç•™åˆ†æ”¯ï¼Œå¯ä»¥å°†å…¶åˆ é™¤</span><br></pre></td></tr></table></figure><p>git pull: åŸºäºæœ¬åœ°çš„FETCH_HEADè®°å½•ï¼Œæ¯”å¯¹æœ¬åœ°çš„FETCH_HEADä¸è¿œç¨‹ä»“åº“çš„ç‰ˆæœ¬å·ï¼Œç„¶ågit fetchè·å¾—å½“å‰çš„è¿œç¨‹åˆ†æ”¯çš„åç»­ç‰ˆæœ¬çš„æ•°æ®ï¼Œç„¶ååˆ©ç”¨git mergeå°†å…¶ä¸æœ¬åœ°çš„åˆ†æ”¯åˆå¹¶ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯git pullæ˜¯git fetchå’Œgit mergeä¸¤ä¸ªæ­¥éª¤çš„åˆå¹¶ã€‚<br>å®é™…çš„git pullè¿‡ç¨‹å¯ä»¥ç†è§£ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin master  //å°†è¿œç«¯çš„masteråˆ†æ”¯æ‹‰å–æœ€æ–°å†…å®¹</span><br><span class="line">git merge FETCH_HEAD //å°†æ‹‰å–çš„æœ€æ–°å†…å®¹ä¸å½“å‰åˆ†æ”¯åˆå¹¶</span><br></pre></td></tr></table></figure><p> git pullç”¨æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull &lt;è¿œç¨‹ä¸»æœºå&gt;  &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;`</span><br><span class="line">// å°†è¿œç¨‹ä¸»æœºçš„æŸä¸ªåˆ†æ”¯ï¼Œä¸æœ¬åœ°çš„æŒ‡å®šåˆ†æ”¯åˆå¹¶</span><br></pre></td></tr></table></figure><p> git pullåˆå¹¶åå¯èƒ½ä¼šå‡ºç°å†²çªï¼Œéœ€è¦æ‰‹åŠ¨è§£å†³å†²çªã€‚<br>å‡ºç°çš„é”™è¯¯æç¤ºå¦‚ä¸‹</p><blockquote><p>error: Your local changes to the following files would be overwritten by merge:<br>Please commit your changes or stash them before you merge.<br>// æ›´æ–°çš„ä»£ç ä¸æœ¬åœ°çš„ä¿®æ”¹ä»£ç æœ‰å†²çªï¼Œå…ˆæäº¤ä½ çš„æ”¹å˜æˆ–è€…å…ˆå°†æœ¬åœ°ä¿®æ”¹æš‚å­˜èµ·æ¥</p></blockquote><p>è§£å†³å†²çªçš„æ–¹å¼ï¼šå…ˆå°†æœ¬åœ°çš„ä»£ç æš‚å­˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git stash //å…ˆå°†æœ¬åœ°ä¿®æ”¹æš‚å­˜èµ·æ¥</span><br><span class="line">git stash list  //æŸ¥çœ‹ä¿å­˜ä¿¡æ¯</span><br><span class="line">git pull     //æ‹‰å–å†…å®¹</span><br><span class="line">git stash pop   //è¿˜åŸæš‚å­˜çš„å†…å®¹</span><br></pre></td></tr></table></figure><h2 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h2><ol><li>Changes to be committedï¼šä»£è¡¨è¢«addçš„æ–‡ä»¶ï¼Œè¢«åŠ è½½åˆ°äº†æš‚å­˜åŒº</li><li>Changes not staged for commitï¼šä»£è¡¨åœ¨å½“å‰åˆ†æ”¯ä¸­è¢«ä¿®æ”¹çš„æ–‡ä»¶ï¼Œè¿˜æ²¡æœ‰è¢«addï¼Œå­˜å‚¨åœ¨å·¥ä½œåŒº</li></ol><h3 id="gitå†…éƒ¨å­˜å‚¨"><a href="#gitå†…éƒ¨å­˜å‚¨" class="headerlink" title="gitå†…éƒ¨å­˜å‚¨"></a>gitå†…éƒ¨å­˜å‚¨</h3><p>æœ¬åœ°gité¡¹ç›®é‡Œé¢çš„.gitç›®å½•ä¸‹çš„æ–‡ä»¶å¦‚ä¸‹ï¼š</p><ol><li>refsï¼šå­˜å‚¨gitå„ç§å¼•ç”¨çš„ç›®å½•ï¼ŒåŒ…å«åˆ†æ”¯ã€è¿œç¨‹åˆ†æ”¯å’Œæ ‡ç­¾</li><li>objectsï¼šæ˜¯å­˜å‚¨gitå„ç§å¯¹è±¡åŠå¤‡ç”¨çš„å¯¹è±¡åº“ï¼ŒåŒ…å«æ­£å¸¸çš„å‹ç¼©å’Œå‹ç¼©åçš„</li><li>infoï¼šå­˜å‚¨gitä¿¡æ¯çš„ç›®å½•ï¼Œæ¯”å¦‚åˆ¤å¤„ç‰¹å®šåç¼€çš„æ–‡ä»¶</li><li>indexï¼šæš‚å­˜åŒº</li><li>hooksï¼šå­˜å‚¨gité’©å­çš„ç›®å½•ï¼Œé’©å­åªåœ¨ç‰¹å®šäº‹ä»¶å‘ç”Ÿæ—¶è§¦çš„è„šæœ¬ï¼Œæ¯”å¦‚ï¼šæäº¤ä¹‹å‰ï¼Œæäº¤ä¹‹å</li><li>descriptionï¼šé¡¹ç›®æè¿°</li><li>configï¼šä»£ç åº“å‡ å€çš„é…ç½®æ–‡ä»¶</li><li>ORIG_HEADï¼šé’ˆå¯¹æŸäº› å±é™©æ“ä½œ ï¼ŒGité€šè¿‡è®°å½•HEADæŒ‡é’ˆçš„ä¸Šæ¬¡æ‰€åœ¨çš„ä½ç½® ORIG_HEADæä¾›äº†å›é€€çš„åŠŸèƒ½ã€‚å½“ä½ å‘ç°æŸäº›æ“ä½œå¤±è¯¯äº†ï¼Œæ¯”å¦‚é”™è¯¯çš„resetåˆ°äº†ä¸€ä¸ªå¾ˆæ—©å¾ˆæ—©çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ git reset â€“hard ORIG_HEADå›é€€åˆ°ä¸Šä¸€æ¬¡resetä¹‹å‰ã€‚</li><li>HEADï¼šä»£ç åº“å½“å‰åˆ†æ”¯çš„æŒ‡å‘</li><li>FETCH_HEADï¼š æ˜¯ä¸€ä¸ªç‰ˆæœ¬é“¾æ¥ï¼Œè®°å½•åœ¨æœ¬åœ°çš„ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ŒæŒ‡å‘ç€ç›®å‰å·²ç»ä»è¿œç¨‹ä»“åº“å–ä¸‹æ¥çš„åˆ†æ”¯çš„æœ«ç«¯ç‰ˆæœ¬ã€‚</li><li>COMMIT_EDITMSGï¼šcommitç¼–è¾‘</li></ol><p>git å¸¸ç”¨æ’ä»¶</p><ol><li><a href="https://github.com/commitizen/cz-cli">commitizen</a> è§„èŒƒcommit message</li></ol><p><code>git show</code><br>åœ¨å½“å‰åˆ†æ”¯ï¼Œè¿è¡Œ<code>git show &lt;å…¶ä»–åˆ†æ”¯å&gt;</code> kå¯ä»¥æŸ¥çœ‹å½“å‰åˆ†æ”¯ä¸å…¶ä»–åˆ†æ”¯çš„diff</p><p><code>git diff master f_tmp</code></p><p>å¯ä»¥æŸ¥çœ‹masterå’Œf_tmpåˆ†æ”¯çš„åŒºåˆ«</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> SmartGit </tag>
            
            <tag> GitKraken </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaåŸºç¡€</title>
      <link href="posts/java%E5%9F%BA%E7%A1%80/"/>
      <url>posts/java%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<ul><li>Stringæ˜¯å¤åˆç±»å‹ï¼Œint ,float æ˜¯åŸºæœ¬ç±»å‹<br>  å¤åˆç±»å‹æ˜¯å¯¹è±¡ç±»å‹ï¼Œå¯¹è±¡è‡ªå·±æä¾›äº†æ¯”è¾ƒæ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String a = <span class="string">&quot;A&quot;</span>; String b = a+<span class="string">&quot;&quot;</span>;</span><br><span class="line">System.out.println(a==b);-----------<span class="keyword">false</span>;</span><br></pre></td></tr></table></figure><ul><li>ä¸²ä¸å­ä¸²<br>substring(begin,end)  åŒ…å«beginï¼Œä¸å«endï¼ŒåŠå¼€åŒºé—´[begin,end);</li></ul><a id="more"></a><ul><li><p>è¿›åˆ¶è½¬æ¢<br>  Integer.parseInt(ä¸²,è¿›åˆ¶)<br>  Integer.toString(æ•´æ•°,è¿›åˆ¶)<br>  Integer.toBinaryString(æ•°å€¼)<br>  Integer.toHexString(æ•°å€¼)</p></li><li><p>æ—¶é—´è®¡ç®—<br>long a = 365L<em>24</em>60<em>60</em>1000  â€”â€”â€”-è½¬ä¸ºlongå‹ï¼Œè‡ªåŠ¨å‘longå‹è½¬æ¢<br>long a = (long)â€¦â€¦<br>long a = 1L*â€¦â€¦â€”â€”â€”â€”-éä¾µå…¥å¼</p></li><li><p>ç±»å‹è½¬æ¢<br>  è‡ªåŠ¨å‘é«˜çº§åˆ«è½¬æ¢<br>  byte-&gt;short-&gt;int-&gt;long-&gt;float-&gt;double<br>  æ— éœ€ç‰¹æ®Šéœ€è¦ï¼Œå°½é‡ä½¿ç”¨int</p></li><li><p>æ„é€ <br>  åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™å¯¹ä»–è¿›è¡Œä¸€æ¬¡åˆç”Ÿçš„æ´—ç¤¼ï¼Œè®¾ç½®ä¸€äº›åˆå§‹å€¼ã€‚</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Age</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Age</span><span class="params">()</span></span>&#123;<span class="comment">//æ²¡æœ‰è¿”å›å€¼ã€‚æ²¡æœ‰voidæ¯”æœ‰voidæ›´ç‰›ã€‚æ„é€ æ–¹æ³•ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªã€‚</span></span><br><span class="line">    å¤šç§å‡ºç”Ÿæ–¹å¼ï¼Œ</span><br><span class="line">    åªé€‰æ‹©ä¸€ç§</span><br><span class="line">    æ²¡æœ‰æä¾›æ„é€ æ–¹æ³•ï¼Œé»˜è®¤æä¾›ä¸€ç§ï¼Œå½“æä¾›äº†ä»¥åï¼Œéœ€è¦æä¾›ä¸€ä¸ªé»˜è®¤çš„ã€‚</span><br><span class="line">    é‡è½½ overload åå­—ç›¸åŒï¼Œä½†å‚æ•°ä¸åŒï¼Œï¼ˆä¸ªæ•°ï¼Œç±»å‹ï¼‰</span><br><span class="line">    <span class="comment">//æˆå‘˜æ•°æ®(å­—æ®µ)çš„åˆå§‹åŒ–</span></span><br><span class="line">    x=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Age</span><span class="params">(<span class="keyword">int</span> type)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(type==<span class="number">1</span>) x==<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(type==<span class="number">2</span>) x==<span class="number">18</span>;</span><br><span class="line">        <span class="keyword">else</span> x =<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Class B &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">B</span><span class="params">(<span class="keyword">int</span> x )</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">B</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>å †æ ˆï¼Œä¸€èˆ¬æŒ‡æ ˆã€‚</p></li><li><p>å®šä¹‰æ•°ç»„</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] a = [<span class="number">3</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];<span class="comment">//é»˜è®¤ä¸º0</span></span><br><span class="line"><span class="keyword">int</span>[] a = <span class="keyword">null</span>;</span><br><span class="line">a =<span class="keyword">new</span> <span class="keyword">int</span>[][<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>];</span><br></pre></td></tr></table></figure><ul><li>æ–æ³¢é‚£å¥‘æ•°åˆ— 1ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ8ï¼Œ18ï¼Œ21</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1</span>;<span class="keyword">int</span> b =<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=<span class="number">30</span>;i++)&#123;</span><br><span class="line">    <span class="keyword">int</span> c =  a+b;</span><br><span class="line">    System.out.println(c);</span><br><span class="line">    a= b;</span><br><span class="line">    b= c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">30</span>];</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">1</span>;a[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;a.length;i++)&#123;</span><br><span class="line">    a[i] = a[i-<span class="number">1</span>]+a[i-<span class="number">2</span>];</span><br><span class="line">    System.out.println(a[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>[][] a = &#123;&#123;<span class="number">2</span>,<span class="number">9</span>,<span class="number">4</span>&#125;,&#123;<span class="number">7</span>,<span class="number">5</span>,<span class="number">3</span>&#125;,&#123;<span class="number">6</span>,<span class="number">1</span>,<span class="number">8</span>&#125;&#125;;</span><br></pre></td></tr></table></figure><p>ä¼ é€’çš„å‚æ•°æœ€å¤§ä¸º8å­—èŠ‚ï¼Œå®é™…ä¸Šjavaä¸å¯èƒ½ä¼ é€’å¯¹è±¡ï¼Œè‡³å¤šï¼Œjavaä¼ é€’å¯¹è±¡çš„å¼•ç”¨ã€‚</p><ul><li>æ•°ç»„çš„åº”ç”¨</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;1234567&quot;</span>;</span><br><span class="line"><span class="keyword">char</span>[] cc = s.toCharArray();</span><br></pre></td></tr></table></figure><ul><li><p>æ•°ç»„å¼±ç‚¹<br>  1.å¤§å°å›ºå®šï¼Œä¸èƒ½æ‰©å±•<br>  2.åœ¨æ•°ç»„ä¸­æ’å…¥ã€åˆ é™¤å…ƒç´ æ“ä½œå¤æ‚<br>åŠ¨æ€æ•°ç»„â€“Vector  ArrayList.<br>  ä»»æ„ä½ç½®æ’å…¥ï¼Œåˆ é™¤å®¹æ˜“<br>  å¯ä»¥åŠ¨æ€å¢é•¿<br>  éšæœºè®¿é—®æ¯”æ•°ç»„æ…¢</p></li><li><p>this<br>  thisæ˜¯éšè—çš„å½¢å‚å˜é‡ï¼Œæ˜¯ä¸€ä¸ªåœ°å€å€¼(å¯¹è±¡å†…å­˜ä¸­åœ°å€)ï¼Œæ˜¯æ ˆå˜é‡<br>  å½¢å¼å‚æ•°çš„å€¼ä»å®å‚æ‹·è´è¿‡æ¥</p></li><li><p>static<br>  æ„é€ æ–¹æ³•ä¸é€‚åˆ</p><pre><code>  æ„é€ æ–¹æ³•åœ¨æ¯æ¬¡åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œè‡ªåŠ¨æ‰§è¡Œ  ä¸åˆ›å»ºå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•å°±æ²¡æœ‰æœºä¼šæ‰§è¡Œ</code></pre><p>  staticå—åœ¨ç±»åŠ è½½å…¥å†…å­˜æ—¶æ‰§è¡Œä¸€æ¬¡</p><pre><code>  ä»…ä»…æ‰§è¡Œä¸€æ¬¡ï¼Œä¸ä¼šåå¤æ‰§è¡Œ  ä¸ç±»åŒæ—¶å­˜åœ¨</code></pre></li><li><p>ç»§æ‰¿<br>  å°è£…æ˜¯åŸºç¡€ï¼Œç»§æ‰¿æ˜¯æ¡¥æ¢ï¼Œå¤šæ€æ˜¯åå½©ä¹ç« <br>  ç»§æ‰¿çš„ç›®çš„ï¼Œé‡ç”¨ä»£ç ï¼Œä¸ºå¤šæ€é“ºå¹³ä»£ç <br>  javaé‡‡ç”¨æ¥å£ä»£æ›¿å¤šç»§æ‰¿<br>  javaç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œä½†å¯ä»¥å®ç°å¤šä¸ªæ¥å£</p></li><li><p>æ–¹æ³•è¦†ç›–<br>  å­ç±»ä¸çˆ¶ç±»ä¸­åŒåçš„æ–¹æ³•</p></li><li><p>é‡è½½<br>  é‡è½½æ˜¯ç¼–è¯‘æ—¶å¯ä»¥åŒºåˆ†çš„<br>  è¦†ç›–æ˜¯åœ¨è¿è¡Œæ—¶å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•<br>  è¦†ç›–æ˜¯å¤šæ€çš„åŸºç¡€</p></li><li><p>æ³›åŒ–<br>  å¯¹è±¡ä¸å‘ç”Ÿå˜åŒ–ï¼Œåªæ˜¯æŒ‡é’ˆå‘ç”Ÿå˜åŒ–<br>  æ˜¯æŒ‡é’ˆå¼•ç”¨çš„æ³›åŒ–ï¼Œå¹¶ä¸æ˜¯å¯¹è±¡çš„æ³›åŒ–ï¼Œå¹¶ä¸æ˜¯ç±»çš„æ³›åŒ–</p></li><li><p>å¤šæ€<br>  æ„ä¹‰  å¾ˆç‰›ï¼ï¼ï¼  å¤šæ€ï¼Œæ³›åŒ–</p></li><li><p>final  æƒ¯ç”¨æ³•<br>  é™æ€å¸¸é‡<br>  ç”¨æ¥å®šä¹‰è‹¥å¹²ä¸ªé€‰é¡¹ï¼Œå¢åŠ å¯è¯»æ€§</p></li><li><p>å¼‚å¸¸æ§åˆ¶<br>  æŠŠå¼‚å¸¸çš„å‘ç°å’Œå¤„ç†åˆ†ç¦»</p></li><li><p>åˆ†å·¥  ä¸“é—¨çš„äººåšä¸“é—¨çš„äº‹    ç”Ÿäº§ä¸æ–­ç¤¾ä¼šåŒ–çš„è¿‡ç¨‹ã€‚<br>  è®¾è®¡ä¸ç¼–ç åˆ†ç¦»<br>  åŠŸèƒ½å’Œå®ç°åˆ†ç¦»<br>  é”™è¯¯çš„å‘ç°å’Œæ§åˆ¶åˆ†ç¦»</p></li><li><p>å¼‚å¸¸å¤„ç†</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">//   2</span></span><br><span class="line"><span class="comment">//å‡ºå¼‚å¸¸  </span></span><br><span class="line">&#125;<span class="keyword">catch</span>&#123;</span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œé¡ºåº: 1243</p><ul><li><p>é‡å®šå‘</p><blockquote><blockquote><p>è¿½åŠ <br>è¾“å‡ºåˆ°<br>&lt;å¯¼å…¥</p></blockquote></blockquote></li><li><p>æŠ½è±¡æ–¹æ³•ï¼Œæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•å°±æ˜¯æŠ½è±¡ç±»abstract<br>æ¾è€¦åˆçš„ç§˜è¯€</p></li><li><p>å†…éƒ¨ç±»å¯¹è±¡<br>  å¤–éƒ¨ç±»å¯¹è±¡ä¸å­˜åœ¨æ— æ³•åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡<br>  å¤–éƒ¨ç±»å¯¹è±¡.new å†…éƒ¨ç±»()</p></li><li><p>åŒ¿åå¯¹è±¡ç±»<br>  åŒ¿åå¯¹è±¡ ï¼šå¯¹è±¡åªç”¨äº†ä¸€æ¬¡</p></li><li><p>åŒ¿åç±»<br>  æƒ³ä¸´æ—¶åˆ›å»ºå®ç°æŸä¸ªæ¥å£ç±»ï¼Œåªç”¨ä¸€æ¬¡ï¼Œä¸å€¼å¾—å‘½å<br>  ç»§æ‰¿ç±»æ˜¯ä¸´æ—¶çš„<br>  å¯¹è±¡ï¼Œç»§æ‰¿ç±»æ‰€åˆ›å»ºçš„å¯¹è±¡æ˜¯ä¸´æ—¶çš„ï¼›ç»§æ‰¿ç±»æ‰€åˆ›å»ºå¯¹è±¡éœ€è¦å¤šæ¬¡ä½¿ç”¨ï¼Œæ³¨æ„æ³›åŒ–ã€‚</p></li><li><p>ç¼–è¯‘<br>javac -classpath d:\abc\xyz  A.java<br>å‘½ä»¤è¡Œé€‰é¡¹ï¼Œç¼–è¯‘é€‰é¡¹<br>å¯ä»¥ç®€å†™æˆ-cp<br>å¯»æ‰¾classæ–‡ä»¶<br>  javac.exeæ‰€åœ¨ä½ç½®çš„ç›¸å¯¹ä½ç½®<br>  -classpathå‚æ•°æ‰€æŒ‡å®šçš„ä½ç½®<br>  classpathç¯å¢ƒå˜é‡æ‰€å£°ç§°çš„ä½ç½®</p></li><li><p>æ‰“åŒ…<br>jar.exe èƒ½å¤„ç†æ‰“åŒ…å’Œè§£åŒ…çš„å·¥ä½œ<br>  jar -cvf A.java</p></li><li><p>æ–‡æ¡£è‡ªåŠ¨åŒ–<br>  javadoc -d æ–‡æ¡£ä½ç½® xx.java<br>  javadoc -d æ–‡æ¡£ä½ç½® -encoding utf-8  åˆ¶å®šç¼–ç æ–¹å¼</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@param</span> x å‚æ•°çš„æè¿°</span><br><span class="line"><span class="meta">@return</span> è¿”å›å€¼çš„æè¿°</span><br><span class="line"><span class="meta">@exception</span> å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸</span><br><span class="line"><span class="meta">@see</span> å‚è§å…¶ä»–æ¨¡å—</span><br><span class="line"><span class="meta">@version</span> ç‰ˆæœ¬å·</span><br><span class="line"><span class="meta">@author</span> ä½œè€…</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*æˆ‘çš„æ–‡æ¡£è‡ªåŠ¨åŒ–ç¤ºä¾‹ç±»&lt;br&gt;</span></span><br><span class="line"><span class="comment">*ç¬¬äºŒè¡Œ  x&lt;sup&gt;2&lt;/sup&gt;+Y&lt;sup&gt;2&lt;/sup&gt;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    *åœ¨æ•°ç»„ä¸­å¤„ç†æŸ¥æ‰¾æ•´æ•°ï¼Œè¿”å›ä½ç½®</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> init <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] x,<span class="keyword">int</span> a )</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="android-å¼€å‘ç¯å¢ƒæ­å»ºç»éªŒç§¯ç´¯"><a href="#android-å¼€å‘ç¯å¢ƒæ­å»ºç»éªŒç§¯ç´¯" class="headerlink" title="android å¼€å‘ç¯å¢ƒæ­å»ºç»éªŒç§¯ç´¯"></a>android å¼€å‘ç¯å¢ƒæ­å»ºç»éªŒç§¯ç´¯</h1><ul><li>Android Studioä¸­æ˜¾ç¤ºï¼š<br>HAX is not working and emulator runs in emulation mode<br>æ—¶ï¼Œå»<br>Tools-&gt;Android-&gt;SDK Manager<br>ç„¶åé€‰ä¸­<br>Extras-&gt;Intel X86 Emulator Accelerator (HAXM installer)<br>å¹¶å®‰è£…å³å¯ã€‚<br>è®°å¾—å¦‚æœHAXæ•ˆæœæ²¡ç”Ÿæ•ˆï¼Œåˆ™è¯•è¯•é‡å¯Android Studioè¯•è¯•ï¼Œæˆ–è®¸å°±å¯ä»¥äº†ã€‚<br>ç›¸å¯¹æ¥è¯´ï¼šå’Œä¹‹å‰çš„Eclipse+ADTæ—¶ä»£ï¼Œè¦å…ˆåè‡ªå·±æ‰‹åŠ¨ä¸‹è½½HAXç›¸å…³å·¥å…·å¹¶å®‰è£…å’Œé…ç½®ï¼Œçš„åšæ³•ç›¸æ¯”ï¼ŒAndroid Studioä¸­åªéœ€è¦é€‰ä¸­å¹¶å®‰è£…å³å¯æå®šï¼Œè¦æ–¹ä¾¿å¤šäº†ã€‚</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> åŸºç¡€çŸ¥è¯† </tag>
            
            <tag> ç¬”è®° </tag>
            
            <tag> åç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQueryæ’ä»¶æ€è·¯æ•´ç†</title>
      <link href="posts/jQuery%E6%8F%92%E4%BB%B6%E6%80%9D%E8%B7%AF%E6%95%B4%E7%90%86/"/>
      <url>posts/jQuery%E6%8F%92%E4%BB%B6%E6%80%9D%E8%B7%AF%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="jQueryæ’ä»¶çš„å°è£…"><a href="#jQueryæ’ä»¶çš„å°è£…" class="headerlink" title="jQueryæ’ä»¶çš„å°è£…"></a>jQueryæ’ä»¶çš„å°è£…</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure><p>é—­åŒ…çš„ä½œç”¨<br>â€“é¿å…å…¨å±€ä¾èµ–<br>â€“é¿å…ç¬¬ä¸‰æ–¹ç ´å<br>â€“å…¼å®¹jQueryæ“ä½œç¬¦â€˜$â€™å’ŒjQuery</p><!---more---><h2 id="å¼€å‘æ–¹å¼"><a href="#å¼€å‘æ–¹å¼" class="headerlink" title="å¼€å‘æ–¹å¼"></a>å¼€å‘æ–¹å¼</h2><ul><li>ç±»çº§åˆ«ç»„ä»¶å¼€å‘</li><li>å³ç»™jQueryå‘½åç©ºé—´ä¸‹æ·»åŠ æ–°çš„å…¨å±€å‡½æ•°ï¼Œä¹Ÿç§°é™æ€æ–¹æ³•ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jQuery.myPlugin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š<code>$.ajax,$.extend()</code></p><ul><li>å¯¹è±¡çº§åˆ«ç»„ä»¶å¼€å‘</li><li>å³æŒ‚åœ¨jQueryåŸå‹ä¸‹çš„æ–¹æ³•ï¼Œè¿™æ ·é€šè¿‡é€‰æ‹©å™¨è·å–çš„jQueryå¯¹è±¡å®ä¾‹ä¹Ÿèƒ½å…±äº«è¯¥æ–¹æ³•, ä¹Ÿç§°åŠ¨æ€æ–¹æ³•ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$.fn.myPlugin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ <code>$.fn === $.prototype</code><br>ä¾‹å¦‚ï¼š<code>addClass()ã€attr()</code> ç­‰ï¼Œéœ€è¦åˆ›å»ºå®ä¾‹æ¥è°ƒç”¨</p><ul><li>é“¾å¼è°ƒç”¨<br>eg: <code>$(&quot;div&quot;).next().addClass()</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$.fn.myPlugin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// do something</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä»£ç è¯´æ˜ï¼š</p><ul><li><p>return this è¿”å›å½“å‰å¯¹è±¡ï¼Œæ¥ç»´æŠ¤æ’ä»¶çš„é“¾å¼è°ƒç”¨</p></li><li><p>each å¾ªç¯å®ç°æ¯ä¸ªå…ƒç´ çš„è®¿é—®</p></li><li><p>å•ä¾‹æ¨¡å¼</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$.fn.myPlugin  = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> me = $(<span class="built_in">this</span>),</span><br><span class="line">        instance = me.data(<span class="string">&quot;myPlugin&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!instance) &#123;</span><br><span class="line">        me.data(<span class="string">&quot;myPlugin&quot;</span>,(instance= <span class="keyword">new</span> Plugin()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä»£ç è¯´æ˜ï¼š<br>-å¦‚æœå®ä¾‹å­˜åœ¨åˆ™ä¸å†é‡æ–°åˆ›å»ºå®ä¾‹<br>-åˆ©ç”¨data()æ¥å­˜æ”¾æ’ä»¶å¯¹è±¡çš„å®ä¾‹</p><p>   jQueryæ’ä»¶çš„å¼€å‘åŒ…æ‹¬ä¸¤ç§ï¼š<br>ä¸€ç§æ˜¯ç±»çº§åˆ«çš„æ’ä»¶å¼€å‘ï¼Œå³ç»™jQueryæ·»åŠ æ–°çš„å…¨å±€å‡½æ•°ï¼Œç›¸å½“äºç»™jQueryç±»æœ¬èº«æ·»åŠ æ–¹æ³•ã€‚jQueryçš„å…¨å±€å‡½æ•°å°±æ˜¯å±äºjQueryå‘½åç©ºé—´çš„å‡½æ•°ï¼Œå¦ä¸€ç§æ˜¯å¯¹è±¡çº§åˆ«çš„æ’ä»¶å¼€å‘ï¼Œå³ç»™jQueryå¯¹è±¡æ·»åŠ æ–¹æ³•ã€‚ä¸‹é¢å°±ä¸¤ç§å‡½æ•°çš„å¼€å‘åšè¯¦ç»†çš„è¯´æ˜ã€‚<br>1ã€ç±»çº§åˆ«çš„æ’ä»¶å¼€å‘<br>ç±»çº§åˆ«çš„æ’ä»¶å¼€å‘æœ€ç›´æ¥çš„ç†è§£å°±æ˜¯ç»™jQueryç±»æ·»åŠ ç±»æ–¹æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºæ·»åŠ é™æ€æ–¹æ³•ã€‚å…¸å‹çš„ä¾‹å­å°±æ˜¯$.AJAX()è¿™ä¸ªå‡½æ•°ï¼Œå°†å‡½æ•°å®šä¹‰äºjQueryçš„å‘½åç©ºé—´ä¸­ã€‚å…³äºç±»çº§åˆ«çš„æ’ä»¶å¼€å‘å¯ä»¥é‡‡ç”¨å¦‚ä¸‹å‡ ç§å½¢å¼è¿›è¡Œæ‰©å±•ï¼š<br>1.1 æ·»åŠ ä¸€ä¸ªæ–°çš„å…¨å±€å‡½æ•°<br>æ·»åŠ ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€å¦‚ä¸‹å®šä¹‰ï¼š<br>Javaä»£ç   </p><p>jQuery.foo = function() {<br>alert(â€˜This is a test. This is only a test.â€™);<br>};</p><p>1.2 å¢åŠ å¤šä¸ªå…¨å±€å‡½æ•°<br>æ·»åŠ å¤šä¸ªå…¨å±€å‡½æ•°ï¼Œå¯é‡‡ç”¨å¦‚ä¸‹å®šä¹‰ï¼š<br>Javaä»£ç   </p><p>jQuery.foo = function() {<br>alert(â€˜This is a test. This is only a test.â€™);<br>};<br>jQuery.bar = function(param) {<br>alert(â€˜This function takes a parameter, which is â€œâ€˜ + param + â€˜â€œ.â€™);<br>};<br>è°ƒç”¨æ—¶å’Œä¸€ä¸ªå‡½æ•°çš„ä¸€æ ·çš„:jQuery.foo();jQuery.bar();æˆ–è€…$.foo();$.bar(â€˜barâ€™);<br>1.3 ä½¿ç”¨jQuery.extend(object);<br>Javaä»£ç   </p><p>jQuery.extend({<br>foo: function() {<br>alert(â€˜This is a test. This is only a test.â€™);<br>},<br>bar: function(param) {<br>alert(â€˜This function takes a parameter, which is â€œâ€˜ + param +â€™â€.â€™);<br>}<br>});  </p><p>1.4 ä½¿ç”¨å‘½åç©ºé—´<br>è™½ç„¶åœ¨jQueryå‘½åç©ºé—´ä¸­ï¼Œæˆ‘ä»¬ç¦æ­¢ä½¿ç”¨äº†å¤§é‡çš„javaScriptå‡½æ•°åå’Œå˜é‡åã€‚ä½†æ˜¯ä»ç„¶ä¸å¯é¿å…æŸäº›å‡½æ•°æˆ–å˜é‡åå°†äºå…¶ä»–jQueryæ’ä»¶å†²çªï¼Œå› æ­¤æˆ‘ä»¬ä¹ æƒ¯å°†ä¸€äº›æ–¹æ³•å°è£…åˆ°å¦ä¸€ä¸ªè‡ªå®šä¹‰çš„å‘½åç©ºé—´ã€‚<br>Javaä»£ç   </p><p>jQuery.myPlugin = {<br>foo:function() {<br>alert(â€˜This is a test. This is only a test.â€™);<br>},<br>bar:function(param) {<br>alert(â€˜This function takes a parameter, which is â€œâ€˜ + param + â€˜â€œ.â€™);<br>}<br>};<br>é‡‡ç”¨å‘½åç©ºé—´çš„å‡½æ•°ä»ç„¶æ˜¯å…¨å±€å‡½æ•°ï¼Œè°ƒç”¨æ—¶é‡‡ç”¨çš„æ–¹æ³•ï¼š<br>$.myPlugin.foo();<br>$.myPlugin.bar(â€˜bazâ€™);  </p><p>é€šè¿‡è¿™ä¸ªæŠ€å·§ï¼ˆä½¿ç”¨ç‹¬ç«‹çš„æ’ä»¶åï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…å‘½åç©ºé—´å†…å‡½æ•°çš„å†²çªã€‚<br>2ã€å¯¹è±¡çº§åˆ«çš„æ’ä»¶å¼€å‘<br>å¯¹è±¡çº§åˆ«çš„æ’ä»¶å¼€å‘éœ€è¦å¦‚ä¸‹çš„ä¸¤ç§å½¢å¼ï¼šã€<br>å½¢å¼1ï¼š<br>Javaä»£ç   </p><p>(function($){<br>$.fn.extend({<br>pluginName:function(opt,callback){<br>          // Our plugin implementation code goes here.<br>}<br>})<br>})(jQuery);<br>å½¢å¼2ï¼š<br>Javaä»£ç   </p><p>(function($) {<br>$.fn.pluginName = function() {<br>     // Our plugin implementation code goes here.<br>};<br>})(jQuery);<br>       ä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªjQueryå‡½æ•°,å½¢å‚æ˜¯$ï¼Œå‡½æ•°å®šä¹‰å®Œæˆä¹‹å,æŠŠjQueryè¿™ä¸ªå®å‚ä¼ é€’è¿›å».ç«‹å³è°ƒç”¨æ‰§è¡Œã€‚è¿™æ ·çš„å¥½å¤„æ˜¯,æˆ‘ä»¬åœ¨å†™jQueryæ’ä»¶æ—¶,ä¹Ÿå¯ä»¥ä½¿ç”¨$è¿™ä¸ªåˆ«å,è€Œä¸ä¼šä¸prototypeå¼•èµ·å†²çª.<br>2.1 åœ¨JQueryåç§°ç©ºé—´ä¸‹ç”³æ˜ä¸€ä¸ªåå­—<br>è¿™æ˜¯ä¸€ä¸ªå•ä¸€æ’ä»¶çš„è„šæœ¬ã€‚å¦‚æœä½ çš„è„šæœ¬ä¸­åŒ…å«å¤šä¸ªæ’ä»¶ï¼Œæˆ–è€…äº’é€†çš„æ’ä»¶ï¼ˆä¾‹å¦‚ï¼š $.fn.doSomething() å’Œ$.fn.undoSomething()ï¼‰ï¼Œé‚£ä¹ˆä½ éœ€è¦å£°æ˜å¤šä¸ªå‡½æ•°åå­—ã€‚ä½†æ˜¯ï¼Œé€šå¸¸å½“æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªæ’ä»¶æ—¶ï¼ŒåŠ›æ±‚ä»…ä½¿ç”¨ä¸€ä¸ªåå­—æ¥åŒ…å«å®ƒçš„æ‰€æœ‰å†…å®¹ã€‚æˆ‘ä»¬çš„ç¤ºä¾‹æ’ä»¶å‘½åä¸ºâ€œhighlightâ€œ</p><p>Javaä»£ç   </p><p>$.fn.hilight = function() {<br>  // Our plugin implementation code goes here.<br>};<br>æˆ‘ä»¬çš„æ’ä»¶é€šè¿‡è¿™æ ·è¢«è°ƒç”¨ï¼š<br>$(â€˜#myDivâ€™).hilight();</p><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦åˆ†è§£æˆ‘ä»¬çš„å®ç°ä»£ç ä¸ºå¤šä¸ªå‡½æ•°è¯¥æ€ä¹ˆåŠï¼Ÿæœ‰å¾ˆå¤šåŸå› ï¼šè®¾è®¡ä¸Šçš„éœ€è¦ï¼›è¿™æ ·åšæ›´å®¹æ˜“æˆ–æ›´æ˜“è¯»çš„å®ç°ï¼›è€Œä¸”è¿™æ ·æ›´ç¬¦åˆé¢å‘å¯¹è±¡ã€‚ è¿™çœŸæ˜¯ä¸€ä¸ªéº»çƒ¦äº‹ï¼ŒæŠŠåŠŸèƒ½å®ç°åˆ†è§£æˆå¤šä¸ªå‡½æ•°è€Œä¸å¢åŠ å¤šä½™çš„å‘½åç©ºé—´ã€‚å‡ºäºè®¤è¯†åˆ°å’Œåˆ©ç”¨å‡½æ•°æ˜¯javascriptä¸­æœ€åŸºæœ¬çš„ç±»å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšã€‚å°±åƒå…¶ä»–å¯¹è±¡ä¸€æ ·ï¼Œå‡½æ•°å¯ä»¥è¢«æŒ‡å®šä¸ºå±æ€§ã€‚å› æ­¤æˆ‘ä»¬å·²ç»å£°æ˜â€œhilightâ€ä¸ºjQueryçš„å±æ€§å¯¹è±¡ï¼Œä»»ä½•å…¶ä»–çš„å±æ€§æˆ–è€…å‡½æ•°æˆ‘ä»¬éœ€è¦æš´éœ²å‡ºæ¥çš„ï¼Œéƒ½å¯ä»¥åœ¨â€hilightâ€ å‡½æ•°ä¸­è¢«å£°æ˜å±æ€§ã€‚ç¨åç»§ç»­ã€‚<br>2.2 æ¥å—optionså‚æ•°ä»¥æ§åˆ¶æ’ä»¶çš„è¡Œä¸º<br>è®©æˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„æ’ä»¶æ·»åŠ åŠŸèƒ½æŒ‡å®šå‰æ™¯è‰²å’ŒèƒŒæ™¯è‰²çš„åŠŸèƒ½ã€‚æˆ‘ä»¬ä¹Ÿè®¸ä¼šè®©é€‰é¡¹åƒä¸€ä¸ªoptionså¯¹è±¡ä¼ é€’ç»™æ’ä»¶å‡½æ•°ã€‚ä¾‹å¦‚ï¼š<br>Javaä»£ç   </p><p>// plugin definition<br>$.fn.hilight = function(options) {<br>  var defaults = {<br>    foreground: â€˜redâ€™,<br>    background: â€˜yellowâ€™<br>  };<br>  // Extend our default options with those provided.<br>  var opts = $.extend(defaults, options);<br>  // Our plugin implementation code goes here.<br>};<br>æˆ‘ä»¬çš„æ’ä»¶å¯ä»¥è¿™æ ·è¢«è°ƒç”¨ï¼š<br>$(â€˜#myDivâ€™).hilight({<br>  foreground: â€˜blueâ€™<br>});</p><p>2.3 æš´éœ²æ’ä»¶çš„é»˜è®¤è®¾ç½®<br>æˆ‘ä»¬åº”è¯¥å¯¹ä¸Šé¢ä»£ç çš„ä¸€ç§æ”¹è¿›æ˜¯æš´éœ²æ’ä»¶çš„é»˜è®¤è®¾ç½®ã€‚è¿™å¯¹äºè®©æ’ä»¶çš„ä½¿ç”¨è€…æ›´å®¹æ˜“ç”¨è¾ƒå°‘çš„ä»£ç è¦†ç›–å’Œä¿®æ”¹æ’ä»¶ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹åˆ©ç”¨å‡½æ•°å¯¹è±¡ã€‚</p><p>Javaä»£ç   </p><p>// plugin definition<br>$.fn.hilight = function(options) {<br>  // Extend our default options with those provided.<br>  // Note that the first arg to extend is an empty object -<br>  // this is to keep from overriding our â€œdefaultsâ€ object.<br>  var opts = $.extend({}, $.fn.hilight.defaults, options);<br>  // Our plugin implementation code goes here.<br>};<br>// plugin defaults - added as a property on our plugin function<br>$.fn.hilight.defaults = {<br>  foreground: â€˜redâ€™,<br>  background: â€˜yellowâ€™<br>};<br>ç°åœ¨ä½¿ç”¨è€…å¯ä»¥åŒ…å«åƒè¿™æ ·çš„ä¸€è¡Œåœ¨ä»–ä»¬çš„è„šæœ¬é‡Œï¼š<br>//è¿™ä¸ªåªéœ€è¦è°ƒç”¨ä¸€æ¬¡ï¼Œä¸”ä¸ä¸€å®šè¦åœ¨readyå—ä¸­è°ƒç”¨<br>$.fn.hilight.defaults.foreground = â€˜blueâ€™;<br>æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·ä½¿ç”¨æ’ä»¶çš„æ–¹æ³•ï¼Œç»“æœå®ƒè®¾ç½®è“è‰²çš„å‰æ™¯è‰²ï¼š<br>$(â€˜#myDivâ€™).hilight();</p><p>å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬å…è®¸ä½¿ç”¨è€…å†™ä¸€è¡Œä»£ç åœ¨æ’ä»¶çš„é»˜è®¤å‰æ™¯è‰²ã€‚è€Œä¸”ä½¿ç”¨è€…ä»ç„¶åœ¨éœ€è¦çš„æ—¶å€™å¯ä»¥æœ‰é€‰æ‹©çš„è¦†ç›–è¿™äº›æ–°çš„é»˜è®¤å€¼ï¼š<br>// è¦†ç›–æ’ä»¶ç¼ºçœçš„èƒŒæ™¯é¢œè‰²<br>$.fn.hilight.defaults.foreground = â€˜blueâ€™;<br>// â€¦<br>// ä½¿ç”¨ä¸€ä¸ªæ–°çš„ç¼ºçœè®¾ç½®è°ƒç”¨æ’ä»¶<br>$(â€˜.hilightDivâ€™).hilight();<br>// â€¦<br>// é€šè¿‡ä¼ é€’é…ç½®å‚æ•°ç»™æ’ä»¶æ–¹æ³•æ¥è¦†ç›–ç¼ºçœè®¾ç½®<br>$(â€˜#greenâ€™).hilight({<br>  foreground: â€˜greenâ€™<br>});<br>2.4 é€‚å½“çš„æš´éœ²ä¸€äº›å‡½æ•°<br>è¿™æ®µå°†ä¼šä¸€æ­¥ä¸€æ­¥å¯¹å‰é¢é‚£æ®µä»£ç é€šè¿‡æœ‰æ„æ€çš„æ–¹æ³•æ‰©å±•ä½ çš„æ’ä»¶ï¼ˆåŒæ—¶è®©å…¶ä»–äººæ‰©å±•ä½ çš„æ’ä»¶ï¼‰ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ’ä»¶çš„å®ç°é‡Œé¢å¯ä»¥å®šä¹‰ä¸€ä¸ªåå«â€formatâ€çš„å‡½æ•°æ¥æ ¼å¼åŒ–é«˜äº®æ–‡æœ¬ã€‚æˆ‘ä»¬çš„æ’ä»¶ç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·ï¼Œé»˜è®¤çš„formatæ–¹æ³•çš„å®ç°éƒ¨åˆ†åœ¨hiligthå‡½æ•°ä¸‹é¢ã€‚<br>Javaä»£ç   </p><p>// plugin definition<br>$.fn.hilight = function(options) {<br>  // iterate and reformat each matched element<br>  return this.each(function() {<br>    var $this = $(this);<br>    // â€¦<br>    var markup = $this.html();<br>    // call our format function<br>    markup = $.fn.hilight.format(markup);<br>    $this.html(markup);<br>  });<br>};<br>// define our format function<br>$.fn.hilight.format = function(txt) {<br>return â€˜<strong>â€˜ + txt + â€˜</strong>â€˜;<br>};<br>      æˆ‘ä»¬å¾ˆå®¹æ˜“çš„æ”¯æŒoptionså¯¹è±¡ä¸­çš„å…¶ä»–çš„å±æ€§é€šè¿‡å…è®¸ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥è¦†ç›–é»˜è®¤çš„è®¾ç½®ã€‚è¿™æ˜¯å¦å¤–ä¸€ä¸ªå‡ºè‰²çš„æ–¹æ³•æ¥ä¿®æ”¹ä½ çš„æ’ä»¶ã€‚è¿™é‡Œå±•ç¤ºçš„æŠ€å·§æ˜¯è¿›ä¸€æ­¥æœ‰æ•ˆçš„æš´éœ²formatå‡½æ•°è¿›è€Œè®©ä»–èƒ½è¢«é‡æ–°å®šä¹‰ã€‚é€šè¿‡è¿™æŠ€å·§ï¼Œæ˜¯å…¶ä»–äººèƒ½å¤Ÿä¼ é€’ä»–ä»¬è‡ªå·±è®¾ç½®æ¥è¦†ç›–ä½ çš„æ’ä»¶ï¼Œæ¢å¥è¯è¯´ï¼Œè¿™æ ·å…¶ä»–äººä¹Ÿèƒ½å¤Ÿä¸ºä½ çš„æ’ä»¶å†™æ’ä»¶ã€‚<br>      è€ƒè™‘åˆ°è¿™ä¸ªç¯‡æ–‡ç« ä¸­æˆ‘ä»¬å»ºç«‹çš„æ— ç”¨çš„æ’ä»¶ï¼Œä½ ä¹Ÿè®¸æƒ³çŸ¥é“ç©¶ç«Ÿä»€ä¹ˆæ—¶å€™è¿™äº›ä¼šæœ‰ç”¨ã€‚ä¸€ä¸ªçœŸå®çš„ä¾‹å­æ˜¯Cycleæ’ä»¶.è¿™ä¸ªCycleæ’ä»¶æ˜¯ä¸€ä¸ªæ»‘åŠ¨æ˜¾ç¤ºæ’ä»¶ï¼Œä»–èƒ½æ”¯æŒè®¸å¤šå†…éƒ¨å˜æ¢ä½œç”¨åˆ°æ»šåŠ¨ï¼Œæ»‘åŠ¨ï¼Œæ¸å˜æ¶ˆå¤±ç­‰ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œæ²¡æœ‰åŠæ³•å®šä¹‰ä¹Ÿè®¸ä¼šåº”ç”¨åˆ°æ»‘åŠ¨å˜åŒ–ä¸Šæ¯ç§ç±»å‹çš„æ•ˆæœã€‚é‚£æ˜¯è¿™ç§æ‰©å±•æ€§æœ‰ç”¨çš„åœ°æ–¹ã€‚ Cycleæ’ä»¶å¯¹ä½¿ç”¨è€…æš´éœ²â€transitionsâ€å¯¹è±¡ï¼Œä½¿ä»–ä»¬æ·»åŠ è‡ªå·±å˜æ¢å®šä¹‰ã€‚æ’ä»¶ä¸­å®šä¹‰å°±åƒè¿™æ ·ï¼š<br>$.fn.cycle.transitions = {<br>// â€¦<br>};<br>è¿™ä¸ªæŠ€å·§ä½¿å…¶ä»–äººèƒ½å®šä¹‰å’Œä¼ é€’å˜æ¢è®¾ç½®åˆ°Cycleæ’ä»¶ã€‚<br>2.5 ä¿æŒç§æœ‰å‡½æ•°çš„ç§æœ‰æ€§<br>è¿™ç§æŠ€å·§æš´éœ²ä½ æ’ä»¶ä¸€éƒ¨åˆ†æ¥è¢«è¦†ç›–æ˜¯éå¸¸å¼ºå¤§çš„ã€‚ä½†æ˜¯ä½ éœ€è¦ä»”ç»†æ€è€ƒä½ å®ç°ä¸­æš´éœ²çš„éƒ¨åˆ†ã€‚ä¸€ä½†è¢«æš´éœ²ï¼Œä½ éœ€è¦åœ¨å¤´è„‘ä¸­ä¿æŒä»»ä½•å¯¹äºå‚æ•°æˆ–è€…è¯­ä¹‰çš„æ”¹åŠ¨ä¹Ÿè®¸ä¼šç ´åå‘åçš„å…¼å®¹æ€§ã€‚ä¸€ä¸ªé€šç†æ˜¯ï¼Œå¦‚æœä½ ä¸èƒ½è‚¯å®šæ˜¯å¦æš´éœ²ç‰¹å®šçš„å‡½æ•°ï¼Œé‚£ä¹ˆä½ ä¹Ÿè®¸ä¸éœ€è¦é‚£æ ·åšã€‚<br>é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆå®šä¹‰æ›´å¤šçš„å‡½æ•°è€Œä¸æ…ä¹±å‘½åç©ºé—´ä¹Ÿä¸æš´éœ²å®ç°å‘¢ï¼Ÿè¿™å°±æ˜¯é—­åŒ…çš„åŠŸèƒ½ã€‚ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä»¬å°†ä¼šæ·»åŠ å¦å¤–ä¸€ä¸ªâ€œdebugâ€å‡½æ•°åˆ°æˆ‘ä»¬çš„æ’ä»¶ä¸­ã€‚è¿™ä¸ª debugå‡½æ•°å°†ä¸ºè¾“å‡ºè¢«é€‰ä¸­çš„å…ƒç´ æ ¼å¼åˆ°firebugæ§åˆ¶å°ã€‚ä¸ºäº†åˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œæˆ‘ä»¬å°†åŒ…è£…æ•´ä¸ªæ’ä»¶å®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ã€‚<br>Javaä»£ç   </p><p> (function($) {<br>  // plugin definition<br>  $.fn.hilight = function(options) {<br>    debug(this);<br>    // â€¦<br>  };<br>  // private function for debugging<br>  function debug($obj) {<br>    if (window.console &amp;&amp; window.console.log)<br>      window.console.log(â€˜hilight selection count: â€˜ + $obj.size());<br>  };<br>//  â€¦<br>})(jQuery);</p><p>æˆ‘ä»¬çš„â€œdebugâ€æ–¹æ³•ä¸èƒ½ä»å¤–éƒ¨é—­åŒ…è¿›å…¥,å› æ­¤å¯¹äºæˆ‘ä»¬çš„å®ç°æ˜¯ç§æœ‰çš„ã€‚<br>2.6 æ”¯æŒMetadataæ’ä»¶<br>åœ¨ä½ æ­£åœ¨å†™çš„æ’ä»¶çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ å¯¹Metadataæ’ä»¶çš„æ”¯æŒèƒ½ä½¿ä»–æ›´å¼ºå¤§ã€‚ä¸ªäººæ¥è¯´ï¼Œæˆ‘å–œæ¬¢è¿™ä¸ªMetadataæ’ä»¶ï¼Œå› ä¸ºå®ƒè®©ä½ ä½¿ç”¨ä¸å¤šçš„â€markupâ€è¦†ç›–æ’ä»¶çš„é€‰é¡¹ï¼ˆè¿™éå¸¸æœ‰ç”¨å½“åˆ›å»ºä¾‹å­æ—¶ï¼‰ã€‚è€Œä¸”æ”¯æŒå®ƒéå¸¸ç®€å•ã€‚æ›´æ–°ï¼šæ³¨é‡Šä¸­æœ‰ä¸€ç‚¹ä¼˜åŒ–å»ºè®®ã€‚<br>Javaä»£ç   </p><p>$.fn.hilight = function(options) {<br>  // â€¦<br>  // build main options before element iteration<br>  var opts = $.extend({}, $.fn.hilight.defaults, options);<br>  return this.each(function() {<br>    var $this = $(this);<br>    // build element specific options<br>    var o = $.meta ? $.extend({}, opts, $this.data()) : opts;<br>    //â€¦<br> è¿™äº›å˜åŠ¨è¡Œåšäº†ä¸€äº›äº‹æƒ…ï¼šå®ƒæ˜¯æµ‹è¯•Metadataæ’ä»¶æ˜¯å¦è¢«å®‰è£…å¦‚æœå®ƒè¢«å®‰è£…äº†ï¼Œå®ƒèƒ½æ‰©å±•æˆ‘ä»¬çš„optionså¯¹è±¡é€šè¿‡æŠ½å–å…ƒæ•°æ®è¿™è¡Œä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°æ·»åŠ åˆ°JQuery.extendï¼Œé‚£ä¹ˆå®ƒå°†ä¼šè¦†ç›–ä»»ä½•å…¶å®ƒé€‰é¡¹è®¾ç½®ã€‚ç°åœ¨æˆ‘ä»¬èƒ½ä»â€markupâ€å¤„é©±åŠ¨è¡Œä¸º,å¦‚æœæˆ‘ä»¬é€‰æ‹©äº†â€œmarkupâ€ï¼š<br> è°ƒç”¨çš„æ—¶å€™å¯ä»¥è¿™æ ·å†™ï¼š jQuery.foo(); æˆ– $.foo();</p><p>Javaä»£ç   </p><!--  markup  --><div class="hilight { background: 'red', foreground: 'white' }">  Have a nice day!</div><div class="hilight { foreground: 'orange' }">  Have a nice day!</div><div class="hilight { background: 'green' }">  Have a nice day!</div>ç°åœ¨æˆ‘ä»¬èƒ½é«˜äº®å“ªäº›divä»…ä½¿ç”¨ä¸€è¡Œè„šæœ¬ï¼š  $('.hilight').hilight();<p>2.7 æ•´åˆ<br>ä¸‹é¢ä½¿æˆ‘ä»¬çš„ä¾‹å­å®Œæˆåçš„ä»£ç ï¼š</p><p>Javaä»£ç   </p><p>// åˆ›å»ºä¸€ä¸ªé—­åŒ…<br>(function($) {<br>  // æ’ä»¶çš„å®šä¹‰<br>  $.fn.hilight = function(options) {<br>    debug(this);<br>    // build main options before element iteration<br>    var opts = $.extend({}, $.fn.hilight.defaults, options);<br>    // iterate and reformat each matched element<br>    return this.each(function() {<br>      $this = $(this);<br>      // build element specific options<br>      var o = $.meta ? $.extend({}, opts, $this.data()) : opts;<br>      // update element styles<br>      $this.css({<br>        backgroundColor: o.background,<br>        color: o.foreground<br>      });<br>      var markup = $this.html();<br>      // call our format function<br>      markup = $.fn.hilight.format(markup);<br>      $this.html(markup);<br>    });<br>  };<br>  // ç§æœ‰å‡½æ•°ï¼šdebugging<br>  function debug($obj) {<br>    if (window.console &amp;&amp; window.console.log)<br>      window.console.log(â€˜hilight selection count: â€˜ + $obj.size());<br>  };<br>  // å®šä¹‰æš´éœ²formatå‡½æ•°<br>  $.fn.hilight.format = function(txt) {<br>    return â€˜<strong>â€˜ + txt + â€˜</strong>â€˜;<br>  };<br>  // æ’ä»¶çš„defaults<br>  $.fn.hilight.defaults = {<br>    foreground: â€˜redâ€™,<br>    background: â€˜yellowâ€™<br>  };<br>// é—­åŒ…ç»“æŸ<br>})(jQuery);</p><p>è¿™æ®µè®¾è®¡å·²ç»è®©æˆ‘åˆ›å»ºäº†å¼ºå¤§ç¬¦åˆè§„èŒƒçš„æ’ä»¶ã€‚æˆ‘å¸Œæœ›å®ƒèƒ½è®©ä½ ä¹Ÿèƒ½åšåˆ°ã€‚<br>3ã€æ€»ç»“<br>jQueryä¸ºå¼€å‘æ’ä»¶ææ‹±äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼š<br>jQuery.fn.extend(object);  ç»™jQueryå¯¹è±¡æ·»åŠ æ–¹æ³•ã€‚<br>jQuery.extend(object);  ä¸ºæ‰©å±•jQueryç±»æœ¬èº«.ä¸ºç±»æ·»åŠ æ–°çš„æ–¹æ³•ã€‚<br>3.1 jQuery.fn.extend(object);<br>fn æ˜¯ä»€ä¹ˆä¸œè¥¿å‘¢ã€‚æŸ¥çœ‹jQueryä»£ç ï¼Œå°±ä¸éš¾å‘ç°ã€‚<br>jQuery.fn = jQuery.prototype = {<br>init: function( selector, context ) {//â€¦.<br>//â€¦â€¦<br>};<br>åŸæ¥ jQuery.fn = jQuery.prototype.å¯¹prototypeè‚¯å®šä¸ä¼šé™Œç”Ÿå•¦ã€‚è™½ç„¶ javascriptã€€æ²¡æœ‰æ˜ç¡®çš„ç±»çš„æ¦‚å¿µï¼Œä½†æ˜¯ç”¨ç±»æ¥ç†è§£å®ƒï¼Œä¼šæ›´æ–¹ä¾¿ã€‚jQueryä¾¿æ˜¯ä¸€ä¸ªå°è£…å¾—éå¸¸å¥½çš„ç±»ï¼Œæ¯”å¦‚æˆ‘ä»¬ç”¨ è¯­å¥ã€€$(â€œ#btn1â€) ä¼šç”Ÿæˆä¸€ä¸ª jQueryç±»çš„å®ä¾‹ã€‚<br>jQuery.fn.extend(object); å¯¹jQuery.prototypeè¿›å¾—æ‰©å±•ï¼Œå°±æ˜¯ä¸ºjQueryç±»æ·»åŠ â€œæˆå‘˜å‡½æ•°â€ã€‚jQueryç±»çš„å®ä¾‹å¯ä»¥ä½¿ç”¨è¿™ä¸ªâ€œæˆå‘˜å‡½æ•°â€ã€‚<br>æ¯”å¦‚æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªæ’ä»¶ï¼Œåšä¸€ä¸ªç‰¹æ®Šçš„ç¼–è¾‘æ¡†ï¼Œå½“å®ƒè¢«ç‚¹å‡»æ—¶ï¼Œä¾¿alert å½“å‰ç¼–è¾‘æ¡†é‡Œçš„å†…å®¹ã€‚å¯ä»¥è¿™ä¹ˆåšï¼š<br>$.fn.extend({<br>     alertWhileClick:function(){<br>         $(this).click(function(){<br>              alert($(this).val());<br>          });<br>      }<br>});<br>$(â€œ#input1â€).alertWhileClick(); //é¡µé¢ä¸Šä¸ºï¼š<input id="input1" type="text"/><br>$(â€œ#input1â€)ã€€ä¸ºä¸€ä¸ªjQueryå®ä¾‹ï¼Œå½“å®ƒè°ƒç”¨æˆå‘˜æ–¹æ³• alertWhileClickåï¼Œä¾¿å®ç°äº†æ‰©å±•ï¼Œæ¯æ¬¡è¢«ç‚¹å‡»æ—¶å®ƒä¼šå…ˆå¼¹å‡ºç›®å‰ç¼–è¾‘é‡Œçš„å†…å®¹ã€‚<br>3.2 jQuery.extend(object);<br>ä¸ºjQueryç±»æ·»åŠ æ·»åŠ ç±»æ–¹æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºæ·»åŠ é™æ€æ–¹æ³•ã€‚å¦‚ï¼š<br>$.extend({<br>    add:function(a,b){return a+b;}<br>});<br>ä¾¿ä¸ºã€€jQueryã€€æ·»åŠ ä¸€ä¸ªä¸º addã€€çš„ã€€â€œé™æ€æ–¹æ³•â€ï¼Œä¹‹åä¾¿å¯ä»¥åœ¨å¼•å…¥ jQueryã€€çš„åœ°æ–¹ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•äº†ï¼Œ$.add(3,4); //return 7</p>]]></content>
      
      
      
        <tags>
            
            <tag> jQuery </tag>
            
            <tag> æ’ä»¶ </tag>
            
            <tag> å°è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>canvaså®æˆ˜</title>
      <link href="posts/canvas%E5%AE%9E%E6%88%98/"/>
      <url>posts/canvas%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<h2 id="CANVASæ¸¸æˆå®æˆ˜æ€è·¯"><a href="#CANVASæ¸¸æˆå®æˆ˜æ€è·¯" class="headerlink" title="CANVASæ¸¸æˆå®æˆ˜æ€è·¯"></a>CANVASæ¸¸æˆå®æˆ˜æ€è·¯</h2><ol><li>ç»˜å›¾åŸºç¡€<br> æ·»åŠ å›¾å½¢ã€å›¾ç‰‡ã€è®¾ç½®é¢œè‰²</li><li>åŠ¨èµ·æ¥<br> ç”»å¸ƒå®šæ—¶é‡ç»˜</li><li>åŠ å…¥é”®ç›˜é¼ æ ‡æ§åˆ¶<br> å¯æ“æ§</li></ol><p>åŠ¨ç”»æ¡†æ¶<a href="https://pixijs.io/">PixiJS</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>CSS ä»£ç ç¤ºä¾‹</title>
      <link href="posts/CSS-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B/"/>
      <url>posts/CSS-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="è®¾ç½®å…ƒç´ readonlyå’Œdisabledæ ·å¼"><a href="#è®¾ç½®å…ƒç´ readonlyå’Œdisabledæ ·å¼" class="headerlink" title="è®¾ç½®å…ƒç´ readonlyå’Œdisabledæ ·å¼"></a>è®¾ç½®å…ƒç´ readonlyå’Œdisabledæ ·å¼</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#endDate</span><span class="selector-pseudo">:read-only</span>&#123;</span><br><span class="line">    <span class="attribute">cursor</span>:pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#endDate</span><span class="selector-pseudo">:disabled</span>&#123;</span><br><span class="line">    <span class="attribute">cursor</span>:not-allowed;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!---more---><h2 id="placeholderæ ·å¼ä¿®æ”¹"><a href="#placeholderæ ·å¼ä¿®æ”¹" class="headerlink" title="placeholderæ ·å¼ä¿®æ”¹"></a>placeholderæ ·å¼ä¿®æ”¹</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.input</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.input</span><span class="selector-pseudo">:-moz-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.input</span><span class="selector-pseudo">:-ms-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€‰æ‹©è¢«ç”¨æˆ·é€‰å–çš„å…ƒç´ éƒ¨åˆ†"><a href="#é€‰æ‹©è¢«ç”¨æˆ·é€‰å–çš„å…ƒç´ éƒ¨åˆ†" class="headerlink" title="é€‰æ‹©è¢«ç”¨æˆ·é€‰å–çš„å…ƒç´ éƒ¨åˆ†"></a>é€‰æ‹©è¢«ç”¨æˆ·é€‰å–çš„å…ƒç´ éƒ¨åˆ†</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::selection</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:lightblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="cssé€‰æ‹©å™¨ï¼Œé€‰æ‹©é™¤äº†æœ€åä¸€ä¸ªä»¥å¤–çš„å…ƒç´ "><a href="#cssé€‰æ‹©å™¨ï¼Œé€‰æ‹©é™¤äº†æœ€åä¸€ä¸ªä»¥å¤–çš„å…ƒç´ " class="headerlink" title="cssé€‰æ‹©å™¨ï¼Œé€‰æ‹©é™¤äº†æœ€åä¸€ä¸ªä»¥å¤–çš„å…ƒç´ "></a>cssé€‰æ‹©å™¨ï¼Œé€‰æ‹©é™¤äº†æœ€åä¸€ä¸ªä»¥å¤–çš„å…ƒç´ </h2><p>åœºæ™¯ï¼šæ¯ä¸ªliéƒ½åŠ å³è¾¹æ¡†ï¼Œé™¤äº†æœ€åä¸€ä¸ª<br>éœ€è¦å†™ä¸ªdemoè¯•ä¸€ä¸‹ï¼Œå¦‚æœlié‡ŒåµŒå¥—å…¶ä»–å…ƒç´ æ˜¯å¦ç”Ÿæ•ˆ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.ab-character-con</span> <span class="selector-class">.l3</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:last-child)</span>&#123;</span><br><span class="line">    <span class="attribute">border-right</span>:<span class="number">1px</span> solid red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="cssä¸¤ç«¯å¯¹é½"><a href="#cssä¸¤ç«¯å¯¹é½" class="headerlink" title="cssä¸¤ç«¯å¯¹é½"></a>cssä¸¤ç«¯å¯¹é½</h2><p>æ•ˆæœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å§“       å</span><br><span class="line">æ‰‹  æœº   å·</span><br><span class="line">ç”µ è¯ å· ç </span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// html</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>æ‰‹æœºå·ç <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>è´¦å·<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>å¯†ç <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// css</span><br><span class="line">div &#123;</span><br><span class="line">    margin: 10px 0;</span><br><span class="line">    width: 100px;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">    text-align: justify;</span><br><span class="line">    text-align-last:justify</span><br><span class="line">&#125;</span><br><span class="line">div:after&#123;</span><br><span class="line">    content: &#x27;&#x27;;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> CSS3 </tag>
            
            <tag> ä»£ç ç¤ºä¾‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS çŸ¥è¯†ç‚¹</title>
      <link href="posts/CSS-%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
      <url>posts/CSS-%E7%9F%A5%E8%AF%86%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒé“¾æ¥</p><ul><li><a href="http://caibaojian.com/70-expert-ideas-for-better-css-coding.html">å†™å¥½CSSä»£ç çš„70ä¸ªä¸“ä¸šå»ºè®®</a></li></ul><h2 id="é¡¹ç›®ç»Ÿä¸€æ ·å¼"><a href="#é¡¹ç›®ç»Ÿä¸€æ ·å¼" class="headerlink" title="é¡¹ç›®ç»Ÿä¸€æ ·å¼"></a>é¡¹ç›®ç»Ÿä¸€æ ·å¼</h2><p>ä¸ºäº†è§£å†³æµè§ˆå™¨é»˜è®¤æ ·å¼ä¸ç»Ÿä¸€çš„é—®é¢˜ã€‚</p><p>ä¸€èˆ¬æœ‰ä¸¤ä¸ªåº“</p><ul><li><a href="http://necolas.github.io/normalize.css/">Normalize.css</a></li><li><a href="https://meyerweb.com/eric/tools/css/reset/">Reset CSS</a></li></ul><p>è¿˜å¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚å®šåˆ¶åˆå§‹åŒ–æ ·å¼.</p><p>å¥½å¤„ï¼š</p><ul><li><strong>ä¿æŠ¤æœ‰ç”¨çš„æµè§ˆå™¨é»˜è®¤æ ·å¼</strong>è€Œä¸æ˜¯å®Œå…¨å»æ‰å®ƒä»¬</li><li><strong>ä¸€èˆ¬åŒ–çš„æ ·å¼</strong>ï¼šä¸ºå¤§éƒ¨åˆ†HTMLå…ƒç´ æä¾›</li><li><strong>ä¿®å¤æµè§ˆå™¨è‡ªèº«çš„bug</strong>å¹¶ä¿è¯å„æµè§ˆå™¨çš„ä¸€è‡´æ€§</li><li><strong>ä¼˜åŒ–CSSå¯ç”¨æ€§</strong>ï¼šç”¨ä¸€äº›å°æŠ€å·§</li><li><strong>è§£é‡Šä»£ç </strong>ï¼šç”¨æ³¨é‡Šå’Œè¯¦ç»†çš„æ–‡æ¡£æ¥</li></ul><a id="more"></a><p>ç”¨<code>overflow: auto</code> å¿…é¡»ç»™å®¹å™¨æŒ‡å®šé«˜åº¦<code>height: å›ºå®šå€¼</code></p><h2 id="é¡µé¢é¦–æ¬¡åŠ è½½åŠ¨ç”»å±•ç¤º"><a href="#é¡µé¢é¦–æ¬¡åŠ è½½åŠ¨ç”»å±•ç¤º" class="headerlink" title="é¡µé¢é¦–æ¬¡åŠ è½½åŠ¨ç”»å±•ç¤º"></a>é¡µé¢é¦–æ¬¡åŠ è½½åŠ¨ç”»å±•ç¤º</h2><ul><li><p><a href="https://github.com/matthieua/WOW">WOWä¸­æ–‡æ–‡æ¡£</a></p></li><li><p>è¿›å…¥å’Œç¦»å¼€å±å¹•æ—¶åŠ¨ç”»<a href="https://github.com/jlmakes/scrollreveal.js">scrollreveal</a></p></li><li><p><a href="https://daneden.github.io/animate.css/">Animate.css</a></p></li></ul><h2 id="å¸¸è§å¸ƒå±€æ–¹æ¡ˆæ•´ç†"><a href="#å¸¸è§å¸ƒå±€æ–¹æ¡ˆæ•´ç†" class="headerlink" title="å¸¸è§å¸ƒå±€æ–¹æ¡ˆæ•´ç†"></a>å¸¸è§å¸ƒå±€æ–¹æ¡ˆæ•´ç†</h2><ul><li><p><a href="https://segmentfault.com/a/1190000010989110">CSSå¸ƒå±€æ–¹æ¡ˆ</a></p></li><li><p><a href="https://juejin.im/entry/591dc015da2f60005d25e6b0">ç»å…¸å¸ƒå±€</a></p></li><li><p><a href="https://segmentfault.com/a/1190000012275086">ä½¿ç”¨ flex å®ç° 5 ç§å¸¸ç”¨å¸ƒå±€</a></p></li><li><p><a href="http://caibaojian.com/flexbox-guide.html">flexå¸ƒå±€è¯¦è§£</a></p></li><li><p><a href="http://www.admin10000.com/document/9351.html">cssè´Ÿmarginè¿ç”¨</a></p></li></ul><h2 id="CSS3å®ç°åŠ¨ç”»åŠŸèƒ½ä¸»è¦é€šè¿‡ä¸¤ä¸ªå±æ€§"><a href="#CSS3å®ç°åŠ¨ç”»åŠŸèƒ½ä¸»è¦é€šè¿‡ä¸¤ä¸ªå±æ€§" class="headerlink" title="CSS3å®ç°åŠ¨ç”»åŠŸèƒ½ä¸»è¦é€šè¿‡ä¸¤ä¸ªå±æ€§"></a>CSS3å®ç°åŠ¨ç”»åŠŸèƒ½ä¸»è¦é€šè¿‡ä¸¤ä¸ªå±æ€§</h2><p>1.transition<br>2.animation</p><p>transition:&lt;è¿‡æ¸¡å±æ€§åç§°&gt; &lt;è¿‡æ¸¡æ—¶é—´&gt;</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">color</span> 1<span class="selector-tag">s</span>;</span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">height</span> 3<span class="selector-tag">s</span>;</span><br><span class="line"><span class="selector-tag">transition-property</span>: <span class="selector-tag">color</span>;</span><br><span class="line"><span class="selector-tag">transition-duration</span>: 1<span class="selector-tag">s</span>;</span><br></pre></td></tr></table></figure><p>å¤šä¸ªå±æ€§çš„è¿‡æ¸¡æ•ˆæœ<br><code>-webkit-transition:&lt;å±æ€§1&gt; &lt;æ—¶é—´1&gt;,&lt;å±æ€§2&gt; &lt;æ—¶é—´2&gt;,&lt;å±æ€§3&gt; &lt;æ—¶é—´3&gt;;</code></p><p>ç¬¬ä¸‰ä¸ªå±æ€§å€¼ï¼š<br>transition:&lt;è¿‡æ¸¡å±æ€§åç§°&gt; &lt;è¿‡æ¸¡æ—¶é—´&gt; &lt;è¿‡æ¸¡æ¨¡å¼&gt;<br>transition-timing-function<br>å€¼:  ease   ç¼“æ…¢å¼€å§‹ï¼Œç¼“æ…¢ç»“æŸ<br>    liner        åŒ€é€Ÿ<br>    ease-in    ç¼“æ…¢å¼€å§‹<br>    ease-out    ç¼“æ…¢ç»“æŸ<br>    ease-in-out    ç¼“æ…¢å¼€å§‹ï¼Œç¼“æ…¢ç»“æŸï¼ˆå’Œeaseç¨æœ‰åŒºåˆ«ï¼‰</p><h2 id="CSS3åˆ›å»º3Dåœºæ™¯"><a href="#CSS3åˆ›å»º3Dåœºæ™¯" class="headerlink" title="CSS3åˆ›å»º3Dåœºæ™¯"></a>CSS3åˆ›å»º3Dåœºæ™¯</h2><ol><li><p>å±æ€§ä»‹ç»<br>perspective:800 Â  Â å¹³é¢è·ç¦»ä¸‰ç»´ä¸­æ–¹æ¡†çš„è·ç¦»<br>perspective-origin:50% 50%</p></li><li><p>transformå±æ€§<br> â€“translete :ä½ç§»æ“ä½œ<br> translateX(X px)<br> translateY(Y px)<br> translateZ(Z px)</p><p> â€“rotateï¼šæ—‹è½¬æ“ä½œ<br> rotateX(X deg)<br> rotateY(Y deg)<br> rotateZ(Z deg)</p></li><li><p>è®¾ç½®3D</p><p> transform-style:preserve-3d;</p></li></ol><h2 id="å¦‚ä½•é€šè¿‡cssä½¿div-å®ç°å…¨å±æ•ˆæœ"><a href="#å¦‚ä½•é€šè¿‡cssä½¿div-å®ç°å…¨å±æ•ˆæœ" class="headerlink" title="å¦‚ä½•é€šè¿‡cssä½¿div å®ç°å…¨å±æ•ˆæœ"></a>å¦‚ä½•é€šè¿‡cssä½¿div å®ç°å…¨å±æ•ˆæœ</h2><p>â€“å…¨å±è¦ç´ ï¼š<br>    1.å…¨å±çš„å…ƒç´ åŠå…¶çˆ¶å…ƒç´ éƒ½è¦è®¾ç½®ä¸ºheight:100%,<br>    2.å°†html,bodyæ ‡ç­¾è®¾ç½®ä¸ºheight100%,<br>æ³¨ï¼šheight:100%æ˜¯è·Ÿéšå…¶çˆ¶å…ƒç´ é«˜åº¦å˜åŒ–è€Œå˜åŒ–çš„</p><h2 id="cssä¸­-link-å’Œ-import-åŒºåˆ«"><a href="#cssä¸­-link-å’Œ-import-åŒºåˆ«" class="headerlink" title="cssä¸­ link å’Œ @import åŒºåˆ«"></a>cssä¸­ link å’Œ @import åŒºåˆ«</h2><p>@import æŒ‡ä»¤ ä¼šé˜»æ­¢æµè§ˆå¹¶è¡Œä¸‹è½½ã€‚<br>link åŠ è½½å¤–éƒ¨æ ·å¼è¡¨ä¸ä¼šé˜»æ­¢å¹¶è¡Œä¸‹è½½ã€‚</p><h2 id="px-em-remçš„åŒºåˆ«"><a href="#px-em-remçš„åŒºåˆ«" class="headerlink" title="px,em,remçš„åŒºåˆ«"></a>px,em,remçš„åŒºåˆ«</h2><ul><li>PXç‰¹ç‚¹</li></ul><ol><li>IEæ— æ³•è°ƒæ•´é‚£äº›ä½¿ç”¨pxä½œä¸ºå•ä½çš„å­—ä½“å¤§å°;</li><li>å›½å¤–çš„å¤§éƒ¨åˆ†ç½‘ç«™èƒ½å¤Ÿè°ƒæ•´çš„åŸå› åœ¨äºå…¶ä½¿ç”¨äº†emæˆ–remä½œä¸ºå­—ä½“å•ä½;</li><li>Firefoxèƒ½å¤Ÿè°ƒæ•´pxå’Œemï¼Œremï¼Œä½†æ˜¯96%ä»¥ä¸Šçš„ä¸­å›½ç½‘æ°‘ä½¿ç”¨IEæµè§ˆå™¨(æˆ–å†…æ ¸)ã€‚<br>pxåƒç´ (Pixel)ã€‚ç›¸å¯¹é•¿åº¦å•ä½ã€‚åƒç´ pxæ˜¯ç›¸å¯¹äºæ˜¾ç¤ºå™¨å±å¹•åˆ†è¾¨ç‡è€Œè¨€çš„ã€‚(å¼•è‡ªCSS2.0æ‰‹å†Œ)<br>emæ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚<br>ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸ã€‚(å¼•è‡ªCSS2.0æ‰‹å†Œ)<br>ä»»æ„æµè§ˆå™¨çš„é»˜è®¤å­—ä½“é«˜éƒ½æ˜¯16pxã€‚æ‰€æœ‰æœªç»è°ƒæ•´çš„æµè§ˆå™¨éƒ½ç¬¦åˆ: 1em=16pxã€‚é‚£ä¹ˆ12px=0.75em,10px=0.625emã€‚ä¸ºäº†ç®€åŒ–font-sizeçš„æ¢ç®—ï¼Œéœ€è¦åœ¨cssä¸­çš„bodyé€‰æ‹©å™¨ä¸­å£°æ˜Font-size=62.5%ï¼Œè¿™å°±ä½¿emå€¼å˜ä¸º 16px*62.5%=10px, è¿™æ ·12px=1.2em, 10px=1em, ä¹Ÿå°±æ˜¯è¯´åªéœ€è¦å°†ä½ çš„åŸæ¥çš„pxæ•°å€¼é™¤ä»¥10ï¼Œç„¶åæ¢ä¸Šemä½œä¸ºå•ä½å°±è¡Œäº†ã€‚</li></ol><ul><li>EMç‰¹ç‚¹</li></ul><ol><li><p>emçš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„;</p></li><li><p>emä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°ã€‚<br>æ‰€ä»¥æˆ‘ä»¬åœ¨å†™CSSçš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š</p><ol><li>bodyé€‰æ‹©å™¨ä¸­å£°æ˜Font-size=62.5%;</li><li>å°†ä½ çš„åŸæ¥çš„pxæ•°å€¼é™¤ä»¥10ï¼Œç„¶åæ¢ä¸Šemä½œä¸ºå•ä½;</li><li>é‡æ–°è®¡ç®—é‚£äº›è¢«æ”¾å¤§çš„å­—ä½“çš„emæ•°å€¼ã€‚é¿å…å­—ä½“å¤§å°çš„é‡å¤å£°æ˜ã€‚<br>ä¹Ÿå°±æ˜¯é¿å…1.2 * 1.2= 1.44çš„ç°è±¡ã€‚æ¯”å¦‚è¯´ä½ åœ¨#contentä¸­å£°æ˜äº†å­—ä½“å¤§å°ä¸º1.2emï¼Œé‚£ä¹ˆåœ¨å£°æ˜pçš„å­—ä½“å¤§å°æ—¶å°±åªèƒ½æ˜¯1emï¼Œè€Œä¸æ˜¯1.2em, å› ä¸ºæ­¤eméå½¼emï¼Œå®ƒå› ç»§æ‰¿#contentçš„å­—ä½“é«˜è€Œå˜ä¸ºäº†1em=12pxã€‚</li></ol></li></ol><ul><li>remç‰¹ç‚¹<br>remæ˜¯CSS3æ–°å¢çš„ä¸€ä¸ªç›¸å¯¹å•ä½(root emï¼Œæ ¹em)ï¼Œè¿™ä¸ªå•ä½å¼•èµ·äº†å¹¿æ³›å…³æ³¨ã€‚è¿™ä¸ªå•ä½ä¸emæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?åŒºåˆ«åœ¨äºä½¿ç”¨remä¸ºå…ƒç´ è®¾å®šå­—ä½“å¤§å°æ—¶ï¼Œä»ç„¶æ˜¯ç›¸å¯¹å¤§å°ï¼Œä½†ç›¸å¯¹çš„åªæ˜¯HTMLæ ¹å…ƒç´ ã€‚è¿™ä¸ªå•ä½å¯è°“é›†ç›¸å¯¹å¤§å°å’Œç»å¯¹å¤§å°çš„ä¼˜ç‚¹äºä¸€èº«ï¼Œé€šè¿‡å®ƒæ—¢å¯ä»¥åšåˆ°åªä¿®æ”¹æ ¹å…ƒç´ å°±æˆæ¯”ä¾‹åœ°è°ƒæ•´æ‰€æœ‰å­—ä½“å¤§å°ï¼Œåˆå¯ä»¥é¿å…å­—ä½“å¤§å°é€å±‚å¤åˆçš„è¿é”ååº”ã€‚<br>ä¸€ä¸ªä¾‹å­ï¼š<br>p {font-size:14px; font-size:.875rem;}</li></ul><h2 id="CSS3-åŠ¨ç”»æ€§èƒ½é—®é¢˜"><a href="#CSS3-åŠ¨ç”»æ€§èƒ½é—®é¢˜" class="headerlink" title="CSS3 åŠ¨ç”»æ€§èƒ½é—®é¢˜"></a>CSS3 åŠ¨ç”»æ€§èƒ½é—®é¢˜</h2><p><a href="https://www.cnblogs.com/shytong/p/5419565.html">https://www.cnblogs.com/shytong/p/5419565.html</a><br>aã€æ˜¯å¦å¯¼è‡´layout<br>å¦‚æœæ˜¯ï¼Œå°½å¯èƒ½å°†åŠ¨ç”»å…ƒç´ absoluteæˆ–è€…fixedåŒ–ä»¥é¿å…å½±å“æ–‡æ¡£æ ‘ï¼Œä»¥å‡å°‘é‡æ’.<br>bã€æ˜¯å¦å¯ç”¨ç¡¬ä»¶åŠ é€Ÿ<br>â€œç”¨åˆ°äº†CSS3åŠ¨ç”»â€å’Œâ€œå¼€å¯äº†ç¡¬ä»¶åŠ é€Ÿâ€æ˜¯ä¸¤ä»¶äº‹æƒ…ï¼Œè™½ç„¶å‰è€…æœ‰å¯èƒ½å¯¼è‡´åè€…ã€‚<br>å¼€å¯ç¡¬ä»¶åŠ é€Ÿåœ¨webkitä¸­æœ‰ç¥å¥‡çš„ä¸‡é‡‘æ²¹ï¼šopacity: 1;æˆ–è€…-webkit-backface-visibility: hidden;ã€‚<br>cã€æ˜¯å¦æ˜¯æœ‰é«˜æ¶ˆè€—çš„å±æ€§ï¼ˆcss shadowã€gradientsã€background-attachment: fixedç­‰ï¼‰<br>æœ‰çš„è¯ï¼Œå›¾ç‰‡ä¹Ÿæ˜¯ä¸€ç§é€‰æ‹©ã€‚è¿™ç®—å¾—ä¸Šæ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´çš„ä¼˜åŒ–äº†ã€‚<br>dã€repaintçš„é¢ç§¯<br>å¦‚æœæ˜¯ï¼Œåªå¥½ç¼©å°åŠ¨ç”»é¢ç§¯äº†ã€‚è¿™ä¸€æ­¥çš„ä¼˜åŒ–æœ‰é™;<br>eã€å°½é‡ä½¿ç”¨ transform ç”ŸæˆåŠ¨ç”»ï¼Œé¿å…ä½¿ç”¨ height,width,margin,padding ç­‰ï¼›<br>transform åŠ¨ç”»ç”±GPUæ§åˆ¶ï¼Œæ”¯æŒç¡¬ä»¶åŠ é€Ÿï¼Œå¹¶ä¸éœ€è¦è½¯ä»¶æ–¹é¢çš„æ¸²æŸ“<br>ä¸ºåŠ¨ç”»DOMå…ƒç´ æ·»åŠ  CSS3 æ ·å¼<br> -webkit-transform:transition3d(0,0,0) æˆ– -webkit-transform:translateZ(0); ï¼Œ<br>è¿™ä¸¤ä¸ªå±æ€§éƒ½ä¼šå¼€å¯ GPUç¡¬ä»¶åŠ é€Ÿ æ¨¡å¼ï¼Œä»è€Œè®©æµè§ˆå™¨åœ¨æ¸²æŸ“åŠ¨ç”»æ—¶ä»CPUè½¬å‘GPUï¼Œ</p><h2 id="å­—ä½“åŠ ç²—ç”¨å“ªä¸ª"><a href="#å­—ä½“åŠ ç²—ç”¨å“ªä¸ª" class="headerlink" title="å­—ä½“åŠ ç²—ç”¨å“ªä¸ª"></a>å­—ä½“åŠ ç²—ç”¨å“ªä¸ª</h2><p><code>&lt;b&gt;&lt;/b&gt;</code>æ ‡ç­¾çš„åŠ ç²—åªæ˜¯ä¸ºäº†åŠ ç²—<br><code>&lt;strong&gt;&lt;/strong&gt;</code>æ ‡ç­¾åŠ ç²—æ˜¯ä¸ºäº†çªå‡ºé‡ç‚¹<br>åœ¨ç½‘é¡µä¸­ä½¿ç”¨<code>&lt;strong&gt;&lt;/strong&gt;</code>çªå‡ºçš„å†…å®¹æ›´å®¹æ˜“è¢«ç½‘é¡µæœç´¢èœ˜è››æœç´¢åˆ°ã€‚<br>ç›²äººæœ‹å‹ä½¿ç”¨é˜…è¯»è®¾å¤‡é˜…è¯»ç½‘ç»œæ—¶ï¼š<code>&lt;strong&gt;</code>ä¼šé‡è¯»ï¼Œ<code>&lt;b&gt;</code>ä¸ä¼š</p><h2 id="CSSä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—"><a href="#CSSä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—" class="headerlink" title="CSSä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—"></a>CSSä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—</h2><ul><li>å…ƒç´ é€‰æ‹©ç¬¦ï¼š 1</li><li>classé€‰æ‹©ç¬¦ï¼š 10</li><li>idé€‰æ‹©ç¬¦ï¼š100</li><li>å…ƒç´ æ ‡ç­¾ï¼š1000</li><li>!importantå£°æ˜çš„æ ·å¼ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¦‚æœå†²çªå†è¿›è¡Œè®¡ç®—ã€‚</li></ul><p>å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™é€‰æ‹©æœ€åå‡ºç°çš„æ ·å¼ã€‚<br>ç»§æ‰¿å¾—åˆ°çš„æ ·å¼çš„ä¼˜å…ˆçº§æœ€ä½ã€‚</p><h2 id="box-sizingå±æ€§"><a href="#box-sizingå±æ€§" class="headerlink" title="box-sizingå±æ€§"></a>box-sizingå±æ€§</h2><p>ç”¨æ¥æ§åˆ¶å…ƒç´ çš„ç›’å­æ¨¡å‹çš„è§£ææ¨¡å¼ï¼Œé»˜è®¤ä¸ºcontent-box<br>context-boxï¼šW3Cçš„æ ‡å‡†ç›’å­æ¨¡å‹ï¼Œè®¾ç½®å…ƒç´ çš„ height/width å±æ€§æŒ‡çš„æ˜¯contentéƒ¨åˆ†çš„é«˜/å®½<br>border-boxï¼šIEä¼ ç»Ÿç›’å­æ¨¡å‹ã€‚è®¾ç½®å…ƒç´ çš„height/widthå±æ€§æŒ‡çš„æ˜¯border + padding + contentéƒ¨åˆ†çš„é«˜/å®½<br>inherit:   åº”ä»çˆ¶å…ƒç´ ç»§æ‰¿ box-sizing å±æ€§çš„å€¼</p><h2 id="ä»‹ç»ä¸€ä¸‹æ ‡å‡†çš„CSSçš„ç›’å­æ¨¡å‹ï¼Ÿä¸ä½ç‰ˆæœ¬IEçš„ç›’å­æ¨¡å‹æœ‰ä»€ä¹ˆä¸åŒçš„"><a href="#ä»‹ç»ä¸€ä¸‹æ ‡å‡†çš„CSSçš„ç›’å­æ¨¡å‹ï¼Ÿä¸ä½ç‰ˆæœ¬IEçš„ç›’å­æ¨¡å‹æœ‰ä»€ä¹ˆä¸åŒçš„" class="headerlink" title="ä»‹ç»ä¸€ä¸‹æ ‡å‡†çš„CSSçš„ç›’å­æ¨¡å‹ï¼Ÿä¸ä½ç‰ˆæœ¬IEçš„ç›’å­æ¨¡å‹æœ‰ä»€ä¹ˆä¸åŒçš„"></a>ä»‹ç»ä¸€ä¸‹æ ‡å‡†çš„CSSçš„ç›’å­æ¨¡å‹ï¼Ÿä¸ä½ç‰ˆæœ¬IEçš„ç›’å­æ¨¡å‹æœ‰ä»€ä¹ˆä¸åŒçš„</h2><p>æ ‡å‡†ç›’å­æ¨¡å‹ï¼šå®½åº¦=å†…å®¹çš„å®½åº¦ï¼ˆcontentï¼‰+ border + padding + margin<br>ä½ç‰ˆæœ¬IEç›’å­æ¨¡å‹ï¼šå®½åº¦=å†…å®¹å®½åº¦ï¼ˆcontent+border+paddingï¼‰+ margin</p><h2 id="nth-childä¸nth-of-typeåŒºåˆ«"><a href="#nth-childä¸nth-of-typeåŒºåˆ«" class="headerlink" title="nth-childä¸nth-of-typeåŒºåˆ«"></a>nth-childä¸nth-of-typeåŒºåˆ«</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.product-list</span> <span class="selector-class">.item</span><span class="selector-pseudo">:nth-child(2n)</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.product-list</span> <span class="selector-class">.item</span><span class="selector-pseudo">:nth-child(2n+1)</span> &#123;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.product-list</span> <span class="selector-class">.item</span><span class="selector-pseudo">:nth-of-type(2n)</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.product-list</span> <span class="selector-class">.item</span><span class="selector-pseudo">:nth-of-type(2n+1)</span> &#123;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>:nth-child(n) é€‰æ‹©å™¨åŒ¹é…å±äºå…¶çˆ¶å…ƒç´ çš„ç¬¬ N ä¸ªå­å…ƒç´ ï¼Œ<strong>ä¸è®ºå…ƒç´ çš„ç±»å‹</strong>ã€‚<br>:nth-of-type(n) é€‰æ‹©å™¨åŒ¹é…å±äºçˆ¶å…ƒç´ çš„ç‰¹å®šç±»å‹çš„ç¬¬ N ä¸ªå­å…ƒç´ çš„æ¯ä¸ªå…ƒç´ .</p></blockquote><h2 id="justify-contentè®¾ç½®å±…å·¦"><a href="#justify-contentè®¾ç½®å±…å·¦" class="headerlink" title="justify-contentè®¾ç½®å±…å·¦"></a>justify-contentè®¾ç½®å±…å·¦</h2><p>CSSè¯­æ³•:<br><code>justify-content: flex-start|flex-end|center|space-between|space-around|initial|inherit;</code></p><p>é»˜è®¤å€¼ä¸ºflex-start, å¦‚æœè¦å±…å·¦å¯ä»¥è®¾ç½®è¿™ä¸ªå€¼ï¼Œ</p><blockquote><p>æ³¨æ„ï¼šè®¾ç½®leftä¸ç”Ÿæ•ˆï¼Œå› ä¸ºæ²¡æœ‰leftè¿™ä¸ªå€¼ã€‚</p></blockquote><h2 id="cssæ¢è¡Œ"><a href="#cssæ¢è¡Œ" class="headerlink" title="cssæ¢è¡Œ"></a>cssæ¢è¡Œ</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">word-break</span>: <span class="selector-tag">break-all</span>;</span><br><span class="line"><span class="selector-tag">word-break</span>: <span class="selector-tag">break-word</span>;</span><br></pre></td></tr></table></figure><h2 id="max-width-å’Œ-important"><a href="#max-width-å’Œ-important" class="headerlink" title="max-width å’Œ !important"></a>max-width å’Œ !important</h2><p>max-widthåœ¨æ¯”widthå°æ—¶ï¼Œå³ä½¿widthä½¿ç”¨!importantæ¥åŠ æƒï¼Œä»ä¼šmax-widthç”Ÿæ•ˆï¼›</p><p>ä»¥ä¸‹ä»£ç å®½åº¦ä¸º300px</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:480px!important; max-width: 300px&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:480px!important; transform: scale(0.625, 1);&quot;</span> &gt;</span></span><br></pre></td></tr></table></figure><p>overflow åŸºæœ¬å±æ€§ï¼š<br>    visible ï¼ˆé»˜è®¤ï¼‰<br>    hidden  è¶…å‡ºçš„éƒ¨åˆ†è¢«éšè—<br>    scroll  ä¸¤è¾¹éƒ½ä¼šå‡ºç°<br>    auto  æ™ºèƒ½è·¯çº¿<br>    inherit(IE8+æ‰æ”¯æŒ)</p><p>å…¼å®¹æ€§ï¼š<br>    1.ç‡•ç¯è‚¥ç˜¦ï¼Œå„æœ‰æ˜¥ç§‹<br>    2.å®½åº¦è®¾å®šæœºåˆ¶<br>ie7ä¸­è«åå‡ºç°æ»šåŠ¨æ¡ï¼Œå¯èƒ½æ˜¯è®¾ç½®äº†100%ï¼Œåšæ³•æ˜¯åˆ é™¤width:100%;  </p><p>ä½œç”¨çš„å‰æ<br>1.édisplay:inline æ°´å¹³~     displayä¸èƒ½è®¾ç½®ä¸ºinline<br>2.å¯¹åº”æ–¹ä½çš„å°ºå¯¸é™åˆ¶ã€‚width/height/max-width/max-height/absoluteæ‹‰ä¼¸<br>3.å¯¹äºå•å…ƒæ ¼tdç­‰ï¼Œè¿˜éœ€è¦è®¾ç½®tableä¸ºtable-layout:fixed;</p><p>overflow:visibleå¦™ç”¨<br>    ie7ä¸‹æ–‡å­—è¶Šå¤šï¼ŒæŒ‰é’®ä¸¤ä¾§paddingç•™ç™½å°±è¶Šå¤§<br>ç»™æ‰€æœ‰æŒ‰é’®æ·»åŠ cssæ ·å¼   overflow:visible</p><p>æ»šåŠ¨æ¡å‡ºç°çš„æ¡ä»¶<br>    1.overflow:auto,overflow:scroll   â€”è‡ªå¸¦htmlï¼Œtextarea<br>    2.è‰çªè—ä¸ä½å‡¤å‡°ï¼Œæ½œæ°´å›°ä¸ä½è›Ÿé¾™    å†…å®¹è¿‡å¤š</p><p>body/html ä¸æ»šåŠ¨æ¡</p><p>æ— è®ºä»€ä¹ˆæµè§ˆå™¨ï¼Œé»˜è®¤æ»šåŠ¨æ¡å‡æ¥è‡ª<code>&lt;html&gt;</code>ï¼Œè€Œä¸æ˜¯<code>&lt;body&gt;</code></p><p>ie7- html{overflow-y:scroll;}<br>ie8+  html{overflow:auto;}</p><p>æƒ³è¦å»æ‰é¡µé¢é»˜è®¤çš„æ»šåŠ¨æ¡<br>        html {overflow:hidden;}<br>html,body{overflow:hidden;} â€”â€”Ã—</p><p>jsä¸æ»šåŠ¨é«˜åº¦<br>    chrome document.body.scrollTop<br>    å…¶ä»–ï¼šdocument.documentElement.scrollTop<br>æ ‡å‡†å†™æ³•ï¼š<br>    var st = document.body.scrollTop || document.documentElement.scrollTop;</p><p>overflowçš„padding-bottomç¼ºå¤±ç°è±¡<br>    å¯¼è‡´ä¸ä¸€æ ·çš„scrollHeight (å…ƒç´ å†…å®¹é«˜åº¦)<br>æ»šåŠ¨æ¡çš„å®½åº¦æœºåˆ¶<br>    æ»šåŠ¨æ¡ä¼šå ç”¨å®¹å™¨çš„å¯ç”¨é«˜åº¦æˆ–é«˜åº¦  å®½åº¦å‡ä¸º17px</p><p>1.æ€ªå¼‚æ¨¡å¼é—®é¢˜ï¼šæ¼å†™DTDå£°æ˜ï¼ŒFirefoxä»ç„¶ä¼šæŒ‰ç…§æ ‡å‡†æ¨¡å¼æ¥è§£æç½‘é¡µï¼Œä½†åœ¨IEä¸­ä¼šè§¦å‘æ€ªå¼‚æ¨¡å¼ã€‚ä¸ºé¿å…æ€ªå¼‚æ¨¡å¼ç»™æˆ‘ä»¬å¸¦æ¥ä¸å¿…è¦çš„éº»çƒ¦ï¼Œæœ€å¥½å…»æˆä¹¦å†™DTDå£°æ˜çš„å¥½ä¹ æƒ¯ã€‚<br>2.IE6åŒè¾¹è·é—®é¢˜ï¼šåœ¨IE6ä¸‹ï¼Œå¦‚æœå¯¹å…ƒç´ è®¾ç½®äº†æµ®åŠ¨ï¼ŒåŒæ—¶åˆè®¾ç½®äº†margin-leftæˆ–margin-rightï¼Œmarginå€¼ä¼šåŠ å€ã€‚ä¾‹å¦‚ï¼š<br>HTMLï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; span&gt;div class=&quot;myDiv&quot;&lt;div&lt;</span><br></pre></td></tr></table></figure><p>CSSï¼š</p><p>.myDiv{<br>    width:100px;<br>    height:100px;<br>    border:1px solid #000;<br>    float:left;<br>    margin-left:30px;<br>}</p><p>IE6é¢„è§ˆç»“æœï¼š<br>å¾ˆæ˜æ˜¾çš„ï¼Œåœ¨IE6ä¸­ï¼Œmargin-left:30pxçš„è¾¹è·ç¿»å€æˆ60pxäº†ã€‚<br>è§£å†³é—®é¢˜ï¼š<br>è®¾ç½®display:inlineï¼š</p><p>.myDiv{<br>    width:100px;<br>    height:100px;<br>    border:1px solid #000;<br>    float:left;<br>    display:inline;<br>    margin-left:30px;<br>}</p><p>IE6é¢„è§ˆç»“æœï¼š<br>3.ä¸Šä¸‹marginé‡åˆï¼šmarginæ˜¯ä¸ªæœ‰ç‚¹ç‰¹æ®Šçš„æ ·å¼ï¼Œç›¸é‚»çš„margin-leftå’Œmargin-rightæ˜¯ä¸ä¼šé‡åˆçš„ï¼Œä½†ç›¸é‚»çš„margin-topå’Œmargin-bottomä¼šäº§ç”Ÿé‡åˆã€‚ä¸ç®¡IEè¿˜æ˜¯Firefoxéƒ½å­˜åœ¨è¿™é—®é¢˜ã€‚ä¾‹å¦‚ï¼š<br>HTMLï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt; span&gt;div class=&quot;topDiv&quot;&lt;div&lt;</span><br><span class="line">&lt; span&gt;div class=&quot;bottomDiv&quot;&lt;div&lt;</span><br></pre></td></tr></table></figure><p>CSSï¼š</p><p>.topDiv{<br>    width:100px;<br>    height:100px;<br>    border:1px solid #000;<br>    margin-bottom:25px;<br>}<br>.bottomDiv{<br>    width:100px;<br>    height:100px;<br>    border:1px solid #000;<br>    margin-top:50px;<br>}</p><p>æˆ‘ä»¬å¯¹ä¸Šé¢çš„divè®¾ç½®äº†25pxçš„ä¸‹è¾¹è·ï¼Œå¯¹ä¸‹æ–¹çš„divè®¾ç½®äº†50pxçš„ä¸Šè¾¹è·ã€‚ä¸ºäº†ä¾¿äºè§‚å¯Ÿï¼Œè¿™é‡Œå°†divçš„é«˜åº¦éƒ½è®¾ä¸º100pxã€‚<br>æµè§ˆå™¨é¢„è§ˆç»“æœï¼š<br>å¯è§ï¼Œç»“æœä¸æ˜¯é¢„æœŸçš„ä¸Šä¸‹divæ‹‰å¼€75pxçš„è·ç¦»ï¼Œè€Œæ˜¯æ‹‰å¼€äº†åŠä¸ªdivé«˜åº¦(50px)çš„è·ç¦»ã€‚<br>è§£å†³é—®é¢˜ï¼š<br>ç»Ÿä¸€ä½¿ç”¨margin-topæˆ–è€…margin-bottomï¼Œä¸è¦æ··åˆä½¿ç”¨ã€‚è¿™å¹¶ä¸æ˜¯æŠ€æœ¯ä¸Šçš„å¿…éœ€ï¼Œä½†å´æ˜¯ä¸ªè‰¯å¥½çš„ä¹ æƒ¯ã€‚<br>4.è¶…é“¾æ¥è®¿é—®åhoveræ ·å¼ä¸å‡ºç°ï¼šæœ‰æ—¶å€™æˆ‘ä»¬åŒæ—¶è®¾ç½®äº†a:visitedå’Œa:hoveræ ·å¼ï¼Œä½†ä¸€æ—¦è¶…é“¾æ¥è®¿é—®åï¼Œhoverçš„æ ·å¼å°±ä¸å†å‡ºç°ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿæ˜¯å› ä¸ºå°†æ ·å¼é¡ºåºæ”¾é”™äº†ï¼Œè°ƒæ•´ä¸ºå…ˆa:visitedå†a:hoverã€‚å…³äºaæ ‡ç­¾çš„å››ç§çŠ¶æ€çš„æ’åºé—®é¢˜ï¼Œæœ‰ä¸ªç®€å•å¥½è®°çš„åŸåˆ™ï¼Œå«åšlove hateåŸåˆ™ï¼Œå³i(link)ov(visited)e h(hover)a(active)eã€‚<br>5.IE6ã€IE7çš„hasLayouté—®é¢˜ï¼šå¾ˆå¤šæ—¶å€™ï¼ŒCSSåœ¨IEä¸‹çš„è§£æååˆ†å¥‡æ€ªï¼Œæ˜æ˜åœ¨Firefoxä¸­æ˜¾ç¤ºå¾—éå¸¸æ­£ç¡®ï¼Œä½†åˆ°äº†IEä¸‹å´å‡ºç°äº†é—®é¢˜ï¼Œæœ‰çš„æ—¶å€™ï¼Œè¿™äº›é—®é¢˜ç”šè‡³è¡¨ç°å¾—éå¸¸è¯¡å¼‚ã€‚<br>ä¾‹å¦‚ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„Bugå°±æ˜¯è®¾ç½®borderçš„æ—¶å€™ï¼Œæœ‰æ—¶å€™borderä¼šæ–­å¼€ï¼Œåˆ·æ–°é¡µé¢æˆ–è€…æ‹–ä¸‹æ»šåŠ¨æ¡çš„æ—¶å€™ï¼Œæ–­æ‰çš„éƒ¨åˆ†åˆä¼šè¿æ¥èµ·æ¥ã€‚<br>å†æ¯”å¦‚åœ¨IE6&amp;IE7ä¸­å¯¹å…ƒç´ è®¾ç½®æµ®åŠ¨åï¼Œå…¶åçš„å…ƒç´ å¹¶æœªå æ®è¿™éƒ¨åˆ†ç©ºé—´ï¼Œé€ æˆäº†IE6&amp;IE7ä¸­æµ®åŠ¨å…ƒç´ æœªè„±ç¦»æ–‡æ¡£æµçš„å‡è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…ä¸ŠIE6&amp;IE7æµ®åŠ¨å…ƒç´ ä¹Ÿè„±ç¦»äº†æ–‡æ¡£æµï¼Œåªæ˜¯ç”±äºå…¶åå…ƒç´ çš„hasLayoutè¢«è‡ªåŠ¨è§¦å‘è€Œå¯¼è‡´çš„ã€‚è¿™é‡Œè¯´çš„hasLayoutè¢«è§¦å‘ï¼Œå³æŒ‡å…ƒç´ çš„hasLayoutå±æ€§ä¸ºtrueã€‚<br>ä¸‹åˆ—å…ƒç´ é»˜è®¤hasLayout=â€trueâ€ï¼š<br>ä¸‹åˆ— CSS å±æ€§å’Œå–å€¼å°†ä¼šè‡ªåŠ¨è®©ä¸€ä¸ªå…ƒç´ çš„hasLayout=â€trueâ€ï¼š<br>position: absolute<br>ç»å¯¹å®šä½å…ƒç´ çš„åŒ…å«åŒºå—(containing block)å°±ä¼šç»å¸¸åœ¨è¿™ä¸€æ–¹é¢å‡ºé—®é¢˜ã€‚<br>float: left|right<br>ç”±äº layout å…ƒç´ çš„ç‰¹æ€§ï¼Œæµ®åŠ¨æ¨¡å‹ä¼šæœ‰å¾ˆå¤šæ€ªå¼‚çš„è¡¨ç°ã€‚<br>display: inline-block<br>å½“ä¸€ä¸ªå†…è”çº§åˆ«çš„å…ƒç´ éœ€è¦ layout çš„æ—¶å€™å¾€å¾€å°±è¦ç”¨åˆ°å®ƒï¼Œè¿™ä¹Ÿå¯èƒ½ä¹Ÿæ˜¯è¿™ä¸ª CSS å±æ€§çš„å”¯ä¸€æ•ˆæœâ€“è®©æŸä¸ªå…ƒç´ æ‹¥æœ‰ layoutã€‚â€inline-blockè¡Œä¸ºâ€åœ¨IEä¸­æ˜¯å¯ä»¥å®ç°çš„ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼š IE/Win: inline-block and hasLayout ã€‚<br>width: é™¤ â€œautoâ€ å¤–çš„ä»»æ„å€¼<br>å¾ˆå¤šäººé‡åˆ° layout ç›¸å…³é—®é¢˜å‘ç”Ÿæ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šå…ˆå°è¯•ç”¨è¿™ä¸ªæ¥ä¿®å¤ã€‚<br>height: é™¤ â€œautoâ€ å¤–çš„ä»»æ„å€¼<br>height: 1% å°±åœ¨ Holly Hack ä¸­ç”¨åˆ°ã€‚<br>zoom: é™¤ â€œnormalâ€ å¤–çš„ä»»æ„å€¼<br>IEä¸“æœ‰å±æ€§ã€‚ä¸è¿‡ zoom: 1 å¯ä»¥ä¸´æ—¶ç”¨åšè°ƒè¯•ã€‚<br>writing-mode: tb-rl<br>MSä¸“æœ‰å±æ€§ã€‚<br>overflow: hidden|scroll|auto<br>åœ¨ IE7 ä¸­ï¼Œoverflow ä¹Ÿå˜æˆäº†ä¸€ä¸ª layout è§¦å‘å™¨ï¼Œè¿™ä¸ªå±æ€§åœ¨ä¹‹å‰ç‰ˆæœ¬ IE ä¸­æ²¡æœ‰è§¦å‘ layout çš„åŠŸèƒ½ã€‚<br>overflow-x|-y: hidden|scroll|auto<br>overflow-x å’Œ overflow-y æ˜¯ CSS3 ç›’æ¨¡å‹ä¸­çš„å±æ€§ï¼Œå°šæœªå¾—åˆ°æµè§ˆå™¨çš„å¹¿æ³›æ”¯æŒã€‚ä»–ä»¬åœ¨ä¹‹å‰ç‰ˆæœ¬IEä¸­æ²¡æœ‰è§¦å‘ layout çš„åŠŸèƒ½ã€‚<br>å¦å¤– IE7 çš„è§å¹•ä¸Šåˆæ–°æ·»äº†å‡ ä¸ª haslayout çš„æ¼”å‘˜ï¼Œå¦‚æœåªä» hasLayout è¿™ä¸ªæ–¹é¢è€ƒè™‘ï¼Œmin/max å’Œ width/height çš„è¡¨ç°ç±»ä¼¼ï¼Œposition çš„ fixed å’Œ absolute ä¹Ÿæ˜¯ä¸€æ¨¡ä¸€æ ·ã€‚<br>position: fixed<br>min-width: ä»»æ„å€¼<br>å°±ç®—è®¾ä¸º0ä¹Ÿå¯ä»¥è®©è¯¥å…ƒç´ è·å¾— layoutã€‚<br>max-width: é™¤ â€œnoneâ€ ä¹‹å¤–çš„ä»»æ„å€¼<br>min-height: ä»»æ„å€¼ã€‚å³ä½¿è®¾ä¸º0ä¹Ÿå¯ä»¥è®©è¯¥å…ƒç´ çš„ haslayout=true<br>max-height: é™¤ â€œnoneâ€ ä¹‹å¤–çš„ä»»æ„å€¼<br>å¦‚æœBUGæ˜¯ç”±äºhasLayoutæœªè§¦å‘æ‰€å¼•èµ·çš„ï¼Œåˆ™å¯é‡‡ç”¨æ‰‹åŠ¨è§¦å‘hasLayoutæ¥è§£å†³ï¼šåŠæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªç”Ÿåƒ»çš„CSSå±æ€§zoomæ¥è§¦å‘ï¼Œå¼•ç”¨æ ·å¼.zoom{zoom:1}ã€‚<br>å¦‚æœBUGæ˜¯hasLayoutè¢«è‡ªåŠ¨è§¦å‘è€Œå¼•èµ·çš„ï¼Œåˆ™è¦çœ‹è§¦å‘æ˜¯ä»€ä¹ˆå¼•èµ·çš„ï¼Œè‹¥è¿™å…ƒç´ æœ¬èº«å°±ä¼šè‡ªåŠ¨è§¦å‘hasLayoutï¼Œå¯ä»¥è€ƒè™‘æ¢ä¸€ä¸ªå…ƒç´ ã€‚è‹¥æ˜¯å¯¹äºè¿™å…ƒç´ è®¾ç½®çš„æŸä¸ªCSSå±æ€§å¼•èµ·çš„ï¼Œåˆ™å¯ä»¥è€ƒè™‘åˆ é™¤è¿™å±æ€§ï¼Œå€˜è‹¥è¿™å±æ€§åˆæ˜¯å¿…è¦çš„ï¼Œåˆ™å°±éœ€è¦è‡ªå·±æ ¹æ®å…·ä½“æƒ…å†µå»ç¼–å†™CSS Hackï¼Œå› ä¸ºhasLayoutæ˜¯åªè¯»çš„ï¼Œä¸€æ—¦hasLayout=â€trueâ€åï¼Œä¾¿ä¸å¯é€†è½¬ã€‚<br>6.è¡Œå†…å…ƒç´ ä¸Šä¸‹marginåŠpaddingä¸æ‹‰å¼€å…ƒç´ é—´è·çš„é—®é¢˜ï¼šè¡Œå†…å…ƒç´ çš„marginå’Œpaddingå±æ€§å¾ˆå¥‡æ€ªï¼Œæ°´å¹³æ–¹å‘çš„padding-leftã€padding-rightã€margin-leftã€margin-rightéƒ½äº§ç”Ÿè¾¹è·æ•ˆæœï¼Œä½†ç«–ç›´æ–¹å‘çš„padding-topã€padding-bottomã€margin-topã€margin-bottomå´ä¸ä¼šäº§ç”Ÿè¾¹è·æ•ˆæœã€‚ä¾‹å¦‚ï¼š<br>HTMLï¼š</p><p>CSS:<br>div{background:gray;padding:20px;}<br>span{background:green;padding:20px;margin:20px;}<br>å„æµè§ˆå™¨é¢„è§ˆç»“æœï¼š<br>å¯è§ç«–ç›´æ–¹å‘çš„paddingã€marginè™½ç„¶å¢å¤§äº†è¡Œå†…å…ƒç´ çš„é¢ç§¯ï¼Œä½†å¹¶æ²¡æœ‰å’Œç›¸é‚»å…ƒç´ æ‹‰å¼€è·ç¦»ï¼Œå¯¼è‡´äº†å…ƒç´ é‡å ã€‚<br>è§£å†³é—®é¢˜ï¼š<br>å°†è¡Œå†…å…ƒç´ displayè®¾ç½®ä¸ºblockå³å¯è§£å†³<br>ä¿®æ”¹åCSSï¼š<br>span{background:green;padding:20px;margin:20px;display:block;}<br>å„æµè§ˆå™¨é¢„è§ˆç»“æœï¼š<br>ä½†ç”±äºå—çº§å…ƒç´ ä¸è¡Œå†…å…ƒç´ çš„é»˜è®¤æ ·å¼ä¸åŒï¼Œå¯èƒ½ä¼šå› æ­¤ä¹¦å†™é¢å¤–çš„æ ·å¼ä»£ç ã€‚æ¯”å¦‚widthæ ·å¼ï¼Œå› ä¸ºå—çº§å…ƒç´ é»˜è®¤å æ®æ•´è¡Œã€‚<br>7.IE6ä¸‹selectå…ƒç´ æ˜¾ç¤ºé—®é¢˜ï¼šæµè§ˆå™¨è§£æé¡µé¢æ—¶ï¼Œä¼šå…ˆåˆ¤æ–­å…ƒç´ çš„ç±»å‹ï¼Œå¦‚æœæ˜¯çª—å£ç±»å‹çš„ï¼Œä¼šä¼˜å…ˆäºéçª—å£ç±»å‹çš„å…ƒç´ ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢æœ€é¡¶ç«¯ï¼Œå¦‚æœåŒå±äºéçª—å£ç±»å‹çš„ï¼Œæ‰ä¼šå»åˆ¤æ–­z-indexçš„å¤§å°ã€‚selectå…ƒç´ åœ¨IE6ä¸‹æ˜¯ä»¥çª—å£å½¢å¼æ˜¾ç¤ºçš„ï¼Œè¿™æ˜¯IE6çš„ä¸€ä¸ªBugã€‚å¯¼è‡´çš„æƒ…å†µæ˜¯å¾€å¾€æƒ³è¦å¼¹å‡ºä¸€ä¸ªå±‚ï¼Œç»“æœselectå…ƒç´ å‡ºç°åœ¨å±‚ä¸Šæ–¹ã€‚ä¾‹å¦‚ï¼š<br>HTMLï¼š</p><p>CSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#CCDCEE</span>;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>IE6é¢„è§ˆç»“æœï¼š<br>è§£å†³é—®é¢˜ï¼š<br>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå’Œå¼¹å‡ºå±‚åŒæ ·å¤§å°çš„iframeæ”¾åœ¨å±‚ä¸‹é¢ï¼Œselectä¸Šé¢ï¼Œç”¨iframeé®ä½selectã€‚æ¯”å¦‚è®¾ç½®å¼¹å‡ºå±‚çš„æ ·å¼z-index:2ï¼Œiframeçš„æ ·å¼z-index:1ï¼Œä½¿iframeä½äºå±‚ä¸‹æ–¹ã€‚<br>ä¿®æ”¹åHTMLï¼š</p><p>ä¿®æ”¹åCSSï¼š</p><p>div{<br>    position:absolute;<br>    background:#CCDCEE;<br>    top:0px;<br>    left:0px;<br>    width:300px;<br>    height:300px;<br>    border:1px solid #000;<br>    margin:5px;<br>    z-index:2;<br>}<br>iframe{<br>    position:absolute;<br>    top:0px;<br>    left:0px;<br>    width:300px;<br>    height:300px;<br>    margin:5px;<br>    z-index:1;<br>}</p><p>æˆ‘ä»¬è®©iframeä½äºdivä¸‹æ–¹ï¼Œå¤§å°ä»¥åŠä¸æµè§ˆå™¨çš„è·ç¦»è°ƒæ•´æˆä¸divä¸€è‡´ã€‚<br>IE6é¢„è§ˆç»“æœï¼š<br>8.IE6å¯¹pngçš„é€æ˜åº¦æ”¯æŒé—®é¢˜ï¼špngæ ¼å¼å› ä¸ºå…¶ä¼˜ç§€çš„å‹ç¼©ç®—æ³•å’Œå¯¹é€æ˜åº¦çš„å®Œç¾æ”¯æŒï¼Œæˆä¸ºWebä¸­æœ€æµè¡Œçš„å›¾ç‰‡æ ¼å¼ä¹‹ä¸€ã€‚ä½†å®ƒå­˜åœ¨ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„å¤´ç–¼é—®é¢˜â€”IE6ä¸‹å¯¹pngçš„é€æ˜åº¦æ”¯æŒå¹¶ä¸å¥½ã€‚æœ¬è¯¥æ˜¯é€æ˜çš„åœ°æ–¹ï¼Œåœ¨IE6ä¸‹ä¼šæ˜¾ç¤ºä¸ºæµ…è“è‰²ã€‚å¯ä»¥ä½¿ç”¨IEä¸‹ç§æœ‰çš„æ»¤é•œåŠŸèƒ½æ¥è§£å†³é—®é¢˜ï¼Œæ ¼å¼å¦‚ä¸‹ï¼šfilter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=â€™pngå›¾ç‰‡è·¯å¾„â€™,sizingMethod=â€™cropâ€™)ã€‚<br>9.ulçš„ä¸åŒè¡¨ç°ï¼šulåˆ—è¡¨ä¹Ÿæ˜¯åœ¨IEä¸Firefoxä¸­å®¹æ˜“å‘ç”Ÿé—®é¢˜çš„å¯¹è±¡ï¼Œä¸»è¦æºè‡ªæµè§ˆå™¨å¯¹ulå¯¹è±¡çš„é»˜è®¤å€¼è®¾ç½®ã€‚åœ¨IEä¸Firefoxä¸­ï¼Œä¸€éƒ¨åˆ†å¯¹è±¡æœ‰é»˜è®¤çš„å±æ€§ï¼ˆæ¯”å¦‚h1~h6ï¼‰ï¼Œä»–ä»¬æœ¬èº«å°±å¸¦æœ‰å¤§å­—å·ã€åŠ ç²—æ ·å¼ä»¥åŠä¸€äº›è¾¹è·æ•ˆæœã€‚ulä¹Ÿæ˜¯å¦‚æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ulæ˜¯æœ‰è¾¹è·çš„ã€‚ä¾‹å¦‚ï¼š<br>HTMLï¼š</p><p>CSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">layout</span>&#123;<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#333</span>;&#125;</span><br></pre></td></tr></table></figure><p>ul{list-style:none;}<br>ä»£ç éå¸¸ç®€å•ï¼Œä»…å»é™¤äº†ulçš„åˆ—è¡¨åœ†ç‚¹ã€‚çœ‹ä¸‹åœ¨IEå’ŒFirefoxçš„é¢„è§ˆæ•ˆæœï¼š<br>IEé¢„è§ˆç»“æœï¼š<br>Firefoxé¢„è§ˆç»“æœï¼š<br>æ˜¾ç¤ºéƒ½å¾ˆæ­£å¸¸ï¼Œå…³é”®åœ¨äºæˆ‘ä»¬å¯¹ulæ¥ä¸‹æ¥çš„è®¾ç½®ï¼š<br>ä¿®æ”¹åçš„CSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">layout</span>&#123;<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#333</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">list-style</span>:none;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">0px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¾ç½®ulå·¦å¤–è¾¹è·ä¸º0åã€‚<br>IEé¢„è§ˆç»“æœï¼š</p><p>Firefoxé¢„è§ˆç»“æœï¼š</p><p>é¢„è§ˆåå‘ç°é—®é¢˜å‡ºç°äº†ã€‚IEä¸­çš„ulå·²ä¸divé é½ï¼Œè€ŒFirefoxä¸­çš„ulå´ä¸æ¯«ä¸åŠ¨ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿä¸å¦¨æŠŠæ ·å¼ä¿®æ”¹ä¸‹å†çœ‹çœ‹ã€‚<br>ä¿®æ”¹åçš„CSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#layout</span>&#123;<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#333</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">list-style</span>:none;</span><br><span class="line">    <span class="attribute">padding-left</span>:<span class="number">0px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ¬¡æˆ‘ä»¬æŠŠmargin-leftæ¢æˆpadding-leftã€‚å†æ¥çœ‹çœ‹é¢„è§ˆç»“æœã€‚<br>IEé¢„è§ˆç»“æœï¼š</p><p>Firefoxé¢„è§ˆç»“æœï¼š</p><p>å¯è§æ•ˆæœæ­£å¥½ç›¸åï¼ŒFirefoxä¸­å®ç°äº†é é½ï¼Œè€ŒIEä¸­ä¸æ¯«æœªåŠ¨ã€‚<br>é€šè¿‡ä»¥ä¸Šä¾‹å­æˆ‘ä»¬å‘ç°ï¼šåœ¨IEä¸­ï¼Œulçš„é»˜è®¤è¾¹è·æ˜¯marginï¼Œåœ¨Firefoxä¸­ï¼Œulçš„é»˜è®¤è¾¹è·æ˜¯paddingã€‚æˆ‘ä»¬å•ç‹¬å®šä¹‰marginæˆ–paddingæ—¶ï¼Œè‡ªç„¶ä¸èƒ½åœ¨ä¸¤ä¸ªæµè§ˆå™¨è¾¾åˆ°ä¸€è‡´æ•ˆæœã€‚è¿™å°±æ˜¯ulåœ¨ä¸åŒæµè§ˆå™¨ä¸‹è¡¨ç°ä¸åŒçš„é—®é¢˜æ‰€åœ¨ã€‚<br>è§£å†³é—®é¢˜ï¼š<br>å¯ä»¥ç”¨hackæ–¹æ³•åˆ†åˆ«é’ˆå¯¹IEå’ŒFirefoxå•ç‹¬å†™æ ·å¼ï¼Œä½†æ›´å¥½çš„åšæ³•æ˜¯æ ·å¼å¼€å¤´å…ˆç»Ÿä¸€ulè¾¹è·ï¼Œul{padding:0px;margin:0px;}ã€‚<br>10.IE3pxé—®é¢˜ï¼š3pxé—®é¢˜ä¸æ˜¯ç»å¸¸è¢«äººå‘ç°ï¼Œå› ä¸ºå®ƒçš„å½±å“åªäº§ç”Ÿ3pxçš„ä½ç§»ã€‚å¦‚æœæ˜¯ç²¾ç¡®åˆ°åƒç´ çº§çš„è®¾è®¡ï¼Œ3pxçš„å½±å“å¯è°“ä¸å°ã€‚å…ˆæ¥çœ‹ä¸‹ä¾‹å­ï¼š<br>HTMLï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;left&quot;</span>&gt;</span>å·¦æµ®åŠ¨div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mydiv&quot;</span>&gt;</span>æ®µè½div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>CSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#left</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#mydiv</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#f66</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">130px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="leftæ˜¯å¼•å‘Bugçš„ä¸€ä¸ªæµ®åŠ¨divï¼ŒåŒæ—¶è®¾ç½®äº†è¾¹æ¡†ä¾¿äºè§‚å¯Ÿ"><a href="#leftæ˜¯å¼•å‘Bugçš„ä¸€ä¸ªæµ®åŠ¨divï¼ŒåŒæ—¶è®¾ç½®äº†è¾¹æ¡†ä¾¿äºè§‚å¯Ÿ" class="headerlink" title="leftæ˜¯å¼•å‘Bugçš„ä¸€ä¸ªæµ®åŠ¨divï¼ŒåŒæ—¶è®¾ç½®äº†è¾¹æ¡†ä¾¿äºè§‚å¯Ÿ"></a>leftæ˜¯å¼•å‘Bugçš„ä¸€ä¸ªæµ®åŠ¨divï¼ŒåŒæ—¶è®¾ç½®äº†è¾¹æ¡†ä¾¿äºè§‚å¯Ÿ</h2><p>IEé¢„è§ˆç»“æœï¼š</p><p>Firefoxé¢„è§ˆç»“æœï¼š</p><p>ä»ç†è®ºä¸Šè®²ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰è®¾ç½®#mydivçš„paddingï¼Œå®ƒä»¬ç†æ‰€å½“ç„¶æ˜¯ç´§è´´è¾¹æ¡†çš„ã€‚ä½†åœ¨IEä¸­ï¼Œâ€œæ®µè½â€æ–‡å­—å¹¶æœªç´§ç´§è´´ä½#leftã€‚åœ¨å®é™…ä¸­å¯èƒ½ä¼šå› æ­¤å¯¼è‡´å†…éƒ¨å…ƒç´ å®½åº¦è¶…å‡ºå¤–éƒ¨divå›ºå®šå®½åº¦è€Œå¼•å‘å¸ƒå±€é—®é¢˜ã€‚<br>è§£å†³é—®é¢˜ï¼š<br>æ˜¯æŠŠ#mydivè®¾ç½®ä¸ºdisplay:inline-blockã€‚<br>ä¿®æ”¹åCSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#left</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#mydiv</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#f66</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">130px</span>;</span><br><span class="line">    +display:inline-block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”¨hackæ–¹æ³•ä¸ºIEå•ç‹¬è®¾ç½®display:inline-blockåã€‚<br>IEå„ç‰ˆæœ¬é¢„è§ˆç»“æœï¼š</p><p>ç»“æœä¸Firefoxä¸€è‡´ã€‚<br>11.é«˜åº¦ä¸é€‚åº”é—®é¢˜ï¼šé«˜åº¦ä¸é€‚åº”æŒ‡çš„æ˜¯ï¼Œå½“å†…å±‚å¯¹è±¡çš„é«˜åº¦å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¤–å±‚å¯¹è±¡çš„é«˜åº¦ä¸èƒ½è‡ªåŠ¨æ‰©å±•ï¼Œç‰¹åˆ«æ˜¯å½“å†…å±‚å¯¹è±¡ä½¿ç”¨paddingæˆ–marginä¹‹åã€‚é«˜åº¦ä¸é€‚åº”é—®é¢˜ä¸æ˜¯IEçš„ä¸“åˆ©ï¼ŒFirefoxä¹Ÿå‡ºç°è¿™ç§é—®é¢˜ã€‚å…ˆæ¥çœ‹çœ‹ä¾‹å­ï¼š<br>HTMLï¼š<br>CSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#box</span> <span class="selector-tag">p</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹çœ‹ä»£ç åšäº†ä»€ä¹ˆï¼Œé™¤äº†èƒŒæ™¯ä¹‹å¤–ï¼Œ#boxä»…æ˜¯ä¸€ä¸ªæ²¡æœ‰ä»»ä½•æ ·å¼çš„divï¼Œè€ŒpåŠ äº†2ä¸ªå…³é”®å±æ€§margin-top:20pxï¼Œmargin-bottom:20px;ï¼Œå³ä¸Šä¸‹å¤–è¾¹è·éƒ½æ˜¯20pxï¼Œpå¯¹è±¡çš„é«˜åº¦åº”å½“æ˜¯20+20+æ–‡å­—é«˜åº¦ï¼Œå³åº”å½“åœ¨40pxä»¥ä¸Šã€‚ç†è®ºä¸Š#boxè¿™ä¸ªdivçš„é«˜åº¦ä¼šè¢«æŒ¤å¼€ï¼Œè‡³å°‘è¾¾åˆ°40pxä»¥ä¸Šã€‚æˆ‘ä»¬çœ‹çœ‹é¢„è§ˆæ•ˆæœã€‚<br>æµè§ˆå™¨é¢„è§ˆç»“æœï¼š</p><p>ä¼¼ä¹å¹¶éé¢„æƒ³çš„ç»“æœï¼Œçœ‹ä¸Šå»å¸¦èƒŒæ™¯çš„#boxè¿˜æ˜¯å’Œæ–‡å­—ä¸€æ ·é«˜ï¼Œå¹¶æ²¡æœ‰è¶…è¿‡40pxï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿä¸ºäº†éªŒè¯ä¸€äº›äº‹æƒ…ï¼Œæˆ‘ä»¬åœ¨htmlå‰ååŠ ä¸Šä¸€ä¸ªå¸¦èƒŒæ™¯çš„divã€‚<br>ä¿®æ”¹åçš„HTMLï¼š<br>ä¿®æ”¹åçš„CSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#box</span> <span class="selector-tag">p</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box2</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#aaa</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æ¥çœ‹ä¸‹é¢„è§ˆç»“æœï¼š<br>æµè§ˆå™¨é¢„è§ˆç»“æœï¼š</p><p>å¯ä»¥çœ‹åˆ°ä¸Šä¸‹ä¸¤ä¸ªdivå¹¶æ²¡æœ‰ç´§è´´#boxå¯¹è±¡ï¼Œè€Œæ˜¯æœ‰ä¸€å®šçš„é—´è·ã€‚æµ‹é‡ä¸‹ä¼šå‘ç°ï¼Œè¿™ä¸ªé—´è·åˆšå¥½æ˜¯på¯¹è±¡çš„marginä¸Šä¸‹å„20pxã€‚è¿™ä¸ªæµ‹éªŒè¯æ˜äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯#boxå¯¹è±¡å¹¶æ²¡æœ‰å› å…¶ä¸­çš„på¯¹è±¡çš„marginå˜åŒ–è€Œæ”¹å˜è‡ªèº«çš„é«˜åº¦ã€‚è€Œpå¯¹è±¡çš„marginé«˜åº¦çš„ç¡®åœ¨æ•´ä¸ªé¡µé¢ä¸­å æ®äº†ä¸€å®šçš„ç©ºé—´ã€‚ç›¸å½“äº#boxä¸åŠ¨ï¼Œè€ŒpæŠŠè‡ªå·±æ’‘åˆ°äº†#boxå¤–é¢å»äº†ã€‚<br>æ— è®ºæ˜¯IEè¿˜æ˜¯Firefoxï¼Œæµ‹è¯•ä¸­éƒ½ä¼šå‘ç°è¿™ä¸ªé—®é¢˜ã€‚<br>è§£å†³é—®é¢˜ï¼š<br>ç»è¿‡ä¸€äº›æµ‹è¯•ï¼Œæˆ‘ä»¬å‘ç°å¯¹#boxå®šä¹‰paddingæˆ–è€…borderï¼Œå°±ä¼šè¿«ä½¿#boxé‡æ–°è®¡ç®—è‡ªå·±çš„é«˜åº¦ï¼Œä»è€Œä½¿è‡ªèº«èƒ½å¤Ÿé€‚åº”å†…å®¹çš„é«˜åº¦å˜åŒ–ã€‚ä½†å¦‚æœå¼ºåˆ¶ç»™å¯¹è±¡è®¾ç½®äº†è¾¹è·åˆä¼šå¸¦æ¥ä½ç§»ã€‚æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªæ–°æ–¹æ³•ï¼Œä¸å†ä»å¯¹è±¡æœ¬èº«çš„å±æ€§å…¥æ‰‹ï¼Œè€Œæ˜¯åœ¨å¯¹è±¡çš„å†…éƒ¨è¿›è¡Œä¿®å¤ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å¯¹è±¡ä¸Šä¸‹å¢åŠ 2ä¸ªé«˜åº¦ä¸º0çš„ç©ºdivï¼Œå¹¶å¼ºåˆ¶å†…å®¹ä¸æ˜¾ç¤ºã€‚<br>ä¿®æ”¹åçš„HTMLï¼š</p><p>è¿™2ä¸ªdivåªå……å½“äº†å ä½ç¬¦çš„è§’è‰²ï¼Œè€Œä¸å‘ç”Ÿå®é™…çš„å ä½ã€‚è€Œå¯¹å®ƒçš„å¤–å±‚å¯¹è±¡è€Œè¨€ï¼Œç”±äºå…¶ä¸­å¤šäº†ä¸€äº›é€»è¾‘å ä½å¯¹è±¡ä½¿å¾—å®ƒä¼šé‡æ–°è®¡ç®—é«˜åº¦ï¼Œä»è€Œå®ç°é«˜åº¦çš„è‡ªé€‚åº”ã€‚<br>é¢„è§ˆæ•ˆæœï¼š</p><p>12.IE6æ–­å¤´å°é—®é¢˜ï¼šæ–­å¤´å°é—®é¢˜æ˜¯å›½å¤–çš„CSSè®¾è®¡è€…ç»™è¿™ä¸ªé—®é¢˜èµ·çš„ä¸€ä¸ªéå¸¸å½¢è±¡çš„åå­—ï¼Œä¸ä¹‹ç›¸åçš„ï¼Œè¢«åˆ‡æ–­çš„ä¸æ˜¯å¯¹è±¡çš„å¤´éƒ¨ï¼Œè€Œæ˜¯å¯¹è±¡çš„åº•éƒ¨ã€‚å…ˆæ¥çœ‹ä¸‹ä¾‹å­ï¼š<br>HTMLï¼š</p><p>XHTMLä»£ç æœ‰ä¸‰éƒ¨åˆ†ç»„æˆï¼Œä¸€ä¸ªæ˜¯ä¸»å¯¹è±¡#layoutï¼Œä¸»æ¡†æ¶ä¸­æœ‰#leftä¸ºå·¦æµ®åŠ¨å¯¹è±¡ï¼Œå³ä¾§ä¸ºæ™®é€šçš„4ä¸ªé“¾æ¥ï¼Œç±»ä¼¼äºå·¦å³åˆ†æ çš„å¸ƒå±€ã€‚<br>CSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">layout</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border</span>:<span class="number">5px</span> solid <span class="number">#35BB0C</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#F2F2F2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># <span class="selector-tag">left</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border</span>:<span class="number">5px</span> solid <span class="number">#D4CA25</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨CSSä»£ç éƒ¨åˆ†ï¼Œä¸»è¦è®¾ç½®äº†é“¾æ¥çš„èƒŒæ™¯è‰²ï¼Œ#leftçš„å·¦æµ®åŠ¨ï¼Œä»¥ä¾¿äºæˆ‘ä»¬è§‚å¯Ÿçš„ç²—è¾¹æ¡†æ•ˆæœã€‚å…ˆé€šè¿‡æµè§ˆå™¨çœ‹çœ‹é—®é¢˜æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼Œè§ä¸‹å›¾ï¼š<br>IE6é¢„è§ˆæ•ˆæœï¼š</p><p>è¿™é‡Œåˆ—å‡ºäº†IE6ç½‘é¡µæ•ˆæœçš„2ä¸ªçŠ¶æ€ï¼Œå½“ç½‘é¡µè¢«æ‰“å¼€æ—¶ï¼Œé¡µé¢æ­£å¸¸æ˜¾ç¤ºï¼Œä¸CSSç¼–ç æŒ‡å®šæ ·å¼ä¸€è‡´ã€‚å½“é¼ æ ‡å³ä¾§çš„â€œé“¾æ¥4â€æ—¶ï¼Œé—®é¢˜å‡ºç°äº†ï¼Œä¸»å¯¹è±¡#layoutä¸‹é¢è¢«åˆ‡æ‰äº†ï¼Œè€Œå‰©ä¸‹çš„é«˜åº¦æ­£å¥½æ˜¯4ä¸ªé“¾æ¥çš„é«˜åº¦ã€‚è€Œå½“é¼ æ ‡ç§»åˆ°â€œé“¾æ¥1â€æˆ–â€œé“¾æ¥2â€æ—¶ï¼Œ#layoutå¯¹è±¡çš„é«˜åº¦åˆæ¢å¤æ­£å¸¸ã€‚è¿™ä¾¿æ˜¯IE6æ–­å¤´å°é—®é¢˜ã€‚<br>è¿™ä¸ªé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºé“¾æ¥ä¸Šï¼Œå»é™¤é“¾æ¥çš„a:hover{background-color:#fff}æ ·å¼åï¼Œä¸€åˆ‡æ­£å¸¸ã€‚ç»æµ‹è¯•å‘ç°ï¼Œä¸ä»…ä»…æ˜¯background-colorçš„å˜åŒ–ï¼Œå¦‚æœæ”¹å˜hoverçŠ¶æ€ä¸‹é“¾æ¥çš„å…¶ä»–å±æ€§ï¼Œä¹Ÿä¼šå¼•å‘åŒæ ·çš„é—®é¢˜ã€‚ä¾‹å¦‚è®¾ç½®paddingã€borderã€åŠ ç²—ã€æ–œä½“ç­‰ï¼Œéƒ½ä¼šå¼•å‘æ–­å¤´å°é—®é¢˜ã€‚<br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨#layoutä¸­ï¼Œ#leftæ˜¯ä¸ªæµ®åŠ¨å¯¹è±¡ï¼Œè€Œå³æµ‹æ˜¯è‹¥å¹²é“¾æ¥å¯¹è±¡ã€‚å¯¹äºæœªæŒ‡å®šé«˜åº¦çš„å¯¹è±¡è€Œè¨€ï¼ŒIE6ä¼šæ ¹æ®å…¶ä¸­çš„å†…å®¹ï¼ˆä¸ç®¡æµ®åŠ¨ä¸å¦ï¼‰æ¥è®¡ç®—é«˜åº¦çš„å¤§å°ï¼Œè€Œå½“ä¾‹å­ä¸­çš„é“¾æ¥å¯¹è±¡æ˜¯ä¸ªéæµ®åŠ¨å¯¹è±¡ï¼Œå¹¶å…·æœ‰hoveræ”¹å˜border,backgroundåŠpaddingå±æ€§æ—¶ï¼ŒIE6ä¼šè®¤ä¸ºè¿™äº›å±æ€§åŒæ—¶ä¼šæ”¹å˜#layoutçš„é«˜åº¦ï¼Œå› æ­¤å®ƒé‡æ–°è®¡ç®—å¯¹è±¡é«˜åº¦ã€‚è€Œä»¤äººå¤±æœ›çš„æ˜¯ï¼ŒIE6çš„è¿™ç§è‡ªä»¥ä¸ºæ˜¯çš„è¡Œä¸ºå¹¶æ²¡æœ‰è¾¾åˆ°é¢„æœŸç›®çš„ï¼Œå®ƒä¼šæŠŠéæµ®åŠ¨å¯¹è±¡çš„æ€»é«˜åº¦ä½œä¸ºé«˜åº¦ç»™äº†#layoutï¼Œä»è€Œåˆ‡æ–­äº†#leftçš„å†…å®¹ã€‚åŸºäºè¿™ç±»é—®é¢˜çš„äº§ç”ŸåŸå› ï¼Œè§£å†³æ–¹æ¡ˆå¯ä»¥æœ‰å¤šç§ã€‚<br>è§£å†³é—®é¢˜ï¼š<br>æ ¹æ®é—®é¢˜äº§ç”Ÿçš„åŸå› ï¼Œæˆ‘ä»¬å¯ä»¥åšå‡ºå¤šå¥—è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬çŸ¥é“å› ä¸ºéæµ®åŠ¨å¯¹è±¡ä¸æµ®åŠ¨å¯¹è±¡éƒ½åœ¨#layoutä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»æµ®åŠ¨æ–¹å¼å…¥æ‰‹ï¼ŒæŠŠéæµ®åŠ¨å¯¹è±¡æ”¹ä¸ºæµ®åŠ¨å¯¹è±¡ï¼Œè¿™æ ·ä¾¿å¯ä»¥è§£å†³é—®é¢˜ã€‚ä¾‹å¦‚å¯¹XHTMLä¿®æ”¹å¦‚ä¸‹ï¼š</p><p>å¯¹é“¾æ¥åŠ ä¸Šä¸ªdivï¼Œå¹¶è®¾ç½®æµ®åŠ¨#right{float:left}ã€‚è¿™æ ·ä½¿å¾—ä¸¤ä¸ªå¯¹è±¡éƒ½æˆä¸ºæµ®åŠ¨å¯¹è±¡ï¼Œä¸ä¼šå¼•å‘é—®é¢˜ã€‚<br>ä¹Ÿå¯ä»¥åœ¨#layoutåº•éƒ¨å¢åŠ ä¸€ä¸ªdivæ¥å¼ºåˆ¶IEæµè§ˆå™¨é‡æ–°è®¡ç®—é«˜åº¦<br>ï¼Œè¿™ä¸ªæ¸…é™¤æµ®åŠ¨å†…å®¹çš„divä¼šå¸®åŠ©æµè§ˆå™¨é‡æ–°æ‰¾åˆ°åˆé€‚çš„é«˜åº¦ï¼Œä»è€Œè§£å†³æ–­å¤´å°é—®é¢˜ã€‚<br>13.å®¹å™¨ä¸æ‰©å±•é—®é¢˜ï¼šå®¹å™¨ä¸æ‰©å±•é—®é¢˜æ˜¯æˆ‘ä»¬ç»å¸¸é‡åˆ°çš„ã€‚æ¯”å¦‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªdivåµŒå¥—ç»“æ„:<br>HTMLï¼š</p><p>CSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">divGroup</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border</span>:<span class="number">2px</span> solid <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># <span class="selector-tag">a</span>,<span class="selector-id">#b</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border</span>:<span class="number">2px</span> solid <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>IEé¢„è§ˆç»“æœï¼š</p><p>Firefoxé¢„è§ˆç»“æœï¼š</p><p>å¯è§å¤–å±‚çš„é«˜åº¦å¹¶æ²¡æœ‰éšç€å­å®¹å™¨çš„é«˜åº¦è‡ªåŠ¨æ‰©å±•ï¼Œå´æ˜¯å½¢æˆäº†ä¸€æ¡çº¿ã€‚è¿™æ˜¯å› ä¸ºå½“å­å®¹å™¨æˆä¸ºæµ®åŠ¨å…ƒç´ åï¼Œå¹¶è„±ç¦»äº†æ–‡æ¡£æµã€‚å› æ­¤çˆ¶å®¹å™¨è®¤ä¸ºè‡ªå·±å†…å®¹ä¸ºç©ºï¼Œä»è€Œé€ æˆäº†è¿™æ ·çš„ç»“æœã€‚<br>è§£å†³é—®é¢˜ï¼š<br>è§£å†³æ–¹æ¡ˆæ˜¯åœ¨å®¹å™¨çš„æœ«å°¾åŠ å…¥ä¸ªæ¸…ç†æµ®åŠ¨çš„divã€‚<br>ä¿®æ”¹åçš„HTMLï¼š</p><p>å¦‚æœè¿˜æƒ³é˜²æ­¢è¿™ä¸ªå…ƒç´ å æ®çˆ¶å…ƒç´ çš„é«˜åº¦ï¼Œå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–æˆ</p><p>ï¼Œè¿™æ ·è¿™ä¸ªæ¸…é™¤æµ®åŠ¨çš„å®¹å™¨è¢«è®¤ä¸ºæ˜¯ä¸ªä¸å ä»»ä½•é«˜åº¦çš„ç©ºæ ¼å­—ç¬¦ã€‚åœ¨ç½‘é¡µä¸­çš„ä»»ä½•åœ°æ–¹ï¼Œå½“é‡åˆ°å®¹å™¨ä¸æ‰©å±•æ—¶ï¼Œåªéœ€åŠ å…¥æ­¤æ®µä¾¿èƒ½ä¿®å¤é—®é¢˜ã€‚<br>14.IE8å’ŒFireFoxçˆ¶å­å…ƒç´ ä¸Šä¸‹marginå åŠ é—®é¢˜ï¼š<br>å…ˆçœ‹ä¸‹æ•ˆæœï¼š<br>&lt; span&gt;div class=â€grayâ€&lt;<br>&lt; span&gt;div class=â€blueâ€&lt;div&lt;&lt; span&gt;div class=â€blackâ€&lt;div&lt;div&lt;</p><p>.gray{    background:gray;    width:200px;    margin:20px;}.blue{    background:blue;    width:100px;    height:100px;    margin:20px;}.black{    background:black;    width:100px;    height:100px;    margin:20px;}</p><p>ä¸Šå›¾ä¸­ï¼Œè“è‰²divå’Œé»‘è‰²divæ˜¯ç°è‰²divçš„å­å…ƒç´ ï¼Œä¸‰ä¸ªdivçš„marginéƒ½æ˜¯20ï¼Œä½†æ˜¯æˆ‘ä»¬çœ‹åˆ°è“è‰²divä¸å…¶çˆ¶å…ƒç´ çš„ä¸Šè¾¹ç•Œå¹¶æ²¡æœ‰20pxçš„é—´éš™ï¼Œé»‘è‰²divä¸å…¶çˆ¶å…ƒç´ çš„ä¸‹è¾¹ç•Œä¹Ÿæ²¡æœ‰20pxçš„é—´éš™ï¼Œä¹Ÿå°±æ˜¯è¯´è“è‰²divçš„ä¸Šå¤–è¾¹è·ä¸å…¶çˆ¶å…ƒç´ çš„ä¸Šå¤–è¾¹è·å åŠ åœ¨äº†ä¸€èµ·ï¼Œå°±å¥½åƒæ˜¯è“è‰²divçš„ä¸Šå¤–è¾¹è·è·‘å‡ºå»äº†ä¸€æ ·ã€‚é»‘è‰²divä¹Ÿæ˜¯åŒç†ã€‚è¿™å°±æ˜¯çˆ¶å…ƒç´ ä¸å­å…ƒç´ çš„è¾¹è·å åŠ æ•ˆæœï¼Œå åŠ åçš„å–å€¼å–çš„æ˜¯ä¸¤è€…ä¸­è¾ƒå¤§çš„é‚£ä¸ªã€‚ç»æµ‹è¯•ï¼Œåªè¦çˆ¶å…ƒç´ æœ‰borderæˆ–paddingï¼Œå°±ä¸ä¼šè§¦å‘è¿™ä¸ªé—®é¢˜ã€‚ç„¶è€Œåˆ»æ„ç»™çˆ¶å…ƒç´ è®¾ç½®borderæˆ–paddingåˆä¼šå¸¦æ¥ä½ç§»ã€‚å¯é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•æ¥æ ¹æœ¬è§£å†³é—®é¢˜ï¼š<br>è§£å†³é—®é¢˜ï¼šç»™çˆ¶å…ƒç´ è®¾ç½®overflow:hidden;å³å¯è§£å†³ã€‚<br>å†æ¥é¢„è§ˆä¸‹ï¼š<br>IE8ï¼š</p><p>è§£å†³äº†ã€‚<br>FireFoxï¼š</p><p>ä¹Ÿè§£å†³äº†ã€‚<br>15.IE6é«˜åº¦ä¸å›ºå®šé—®é¢˜ï¼š<br>å…¸å‹BUG1ï¼šIE6ä¸‹ï¼Œå³ä½¿ç»™çˆ¶å…ƒç´ è®¾äº†å›ºå®šé«˜åº¦ï¼Œå­å…ƒç´ è¿˜æ˜¯ä¼šå°†å…¶æ’‘å¼€ã€‚<br>å…¸å‹BUG2ï¼šå¦‚æœä¸€ä¸ªå…ƒç´ æ²¡æœ‰å­å…ƒç´ ï¼Œè€Œè¿™ä¸ªå…ƒç´ è®¾ç½®çš„lengthåˆå°äºdivé»˜è®¤é«˜åº¦ï¼Œåˆ™è¿™ä¸ªå…ƒç´ åœ¨IE6é‡Œæ˜¾ç¤ºçš„é«˜åº¦ä»ç„¶æ˜¯divçš„é»˜è®¤é«˜åº¦ã€‚<br>å¼•å‘ä»¥ä¸Š2ä¸ªBUGçš„åŸå› åœ¨äºlengthå±æ€§åœ¨IE6é‡Œè¢«å½“ä½œmin-lengthï¼ˆæœ€å°é«˜åº¦ï¼‰è§£æäº†ï¼Œï¼ˆæ¢å¥è¯è¯´ï¼Œä½ å‹æ ¹åœ¨IE6ä¸­å°±æ²¡è®¾ç½®è¿‡å›ºå®šé«˜åº¦ï¼Œå› ä¸ºä½ è®¾ç½®çš„æ˜¯æœ€å°é«˜åº¦ï¼‰<br>è§£å†³åŠæ³•æ˜¯å†ç»™çˆ¶å…ƒç´ è®¾ç½®overflow:hidden;<br>16.IE6è®¾ç½®äº†æœ€å°é«˜åº¦å¹¶æ’‘æ»¡çˆ¶å…ƒç´ é«˜åº¦ï¼š<br>é»˜è®¤æƒ…å†µä¸‹å¦‚æœå¯¹IE6è®¾ç½®äº†æœ€å°é«˜åº¦200pxï¼Œé‚£ä¹ˆå¦‚æœå®é™…å†…å®¹æœ‰250pxï¼Œåˆ™åªä¼šæ˜¾ç¤º250pxçš„é«˜åº¦ã€‚ä¹Ÿå°±æ˜¯é«˜åº¦ä¼šè·Ÿéšç€å†…å®¹æ˜¾ç¤ºã€‚å¦‚æœæ­¤æ—¶å¸Œæœ›æ— è®ºé‡Œé¢å†…å®¹æœ‰å¤šå°‘ï¼Œéƒ½è®©å…¶å¡«å……æ»¡çˆ¶å…ƒç´ é«˜åº¦ï¼Œåˆ™è¦è¿™ä¹ˆè®¾ç½®ï¼š<br>height:auto!important;<br>height:200px;<br>min-height:200px;<br>17.IE6ã€IE7ä¸‹æµ®åŠ¨å…ƒç´ æœªè„±ç¦»æ–‡æ¡£æµå‡è±¡çš„é—®é¢˜ï¼š<br>å¯¹å…ƒç´ è®¾ç½®æµ®åŠ¨åï¼Œåœ¨IE6&amp;IE7ä¸‹é¢„è§ˆï¼Œä¼šäº§ç”Ÿå…ƒç´ æœªè„±ç¦»æ–‡æ¡£æµçš„å‡è±¡çš„ç°è±¡ã€‚å…¶å®å…ƒç´ è„±ç¦»æ–‡æ¡£æµäº†ï¼Œè¿™é—®é¢˜å…¶å®æ˜¯å…¶åçš„å…ƒç´ å¼•èµ·çš„ã€‚ç”±äºå…¶åçš„å…ƒç´ å› æŸäº›åŸå› é€ æˆhasLayoutè¢«è§¦å‘è€Œå¯¼è‡´çš„å®ƒæœªå»å æ®æµ®åŠ¨å…ƒç´ çš„ç©ºé—´ï¼ˆè¿™é—®é¢˜è¯´èµ·æ¥è¯é•¿ï¼Œä½ å°±è¿™ä¹ˆç†è§£å¥½äº†ï¼šè¿™ä¸ªå¤§æ¦‚è¿½æœ”åˆ°è¡¨æ ¼å¸ƒå±€çš„å¹´ä»£ï¼Œç”±äºå•å…ƒæ ¼éƒ½æ˜¯æœ‰hasLayoutçš„ï¼Œè€Œåé¢å•å…ƒæ ¼é‡Œçš„å…ƒç´ è‚¯å®šä¸ä¼šè·‘å‰é¢çš„å•å…ƒæ ¼é‡Œå»çš„ï¼‰ã€‚å…³äºhasLayoutï¼Œåœ¨ç¬¬5æ¡é‡Œæœ‰è¯¦ç»†è¯´æ˜ï¼Œè¿™é‡Œå•ç‹¬æå‡ºæ¥ä½œä¸ºä¸€æ¡æ¥è¯´æ˜ï¼Œä»…å› ä¸ºè¿™ä¸ªæµ®åŠ¨æœªè„±ç¦»æ–‡æ¡£æµå‡è±¡çš„é—®é¢˜æ¯”è¾ƒå…¸å‹ã€‚<br>18.å…¨å±é®ç½©åå±…ä¸­æ˜¾ç¤ºä¸€ä¸ªå¯¹è¯å±‚ï¼š<br>ä¸‹é¢æ˜¯é®ç½©å±‚ï¼šç»å¯¹å®šä½ï¼Œå®½é«˜éƒ½100%ï¼Œå¹¶ä¸”åŠé€æ˜</p><p>.over{    position:absolute;    width:100%;    height:100%;    top:0px;    left:0px;    background-color:#7E9898;    filter:alpha(opacity=50);    -moz-opacity:0.5;    -khtml-opacity:0.5;    opacity:0.5;}</p><p>ä¸‹é¢æ˜¯å¯¹è¯å±‚ï¼šä¹Ÿæ˜¯ç»å¯¹å®šä½ï¼š</p><p>.confirm{    position:absolute;    width:400px;     height:300px;      background:#FFFFFF;    top:300px;    left:0px;}</p><p>è¿™é‡Œçš„æç¤ºå±‚ä¸è¦åµŒå¥—åœ¨é®ç½©å±‚é‡Œé¢ï¼Œå¦åˆ™ä¹Ÿä¼šå—å½±å“ï¼Œå˜æˆåŠé€æ˜çš„äº†ã€‚è¦è®©æç¤ºå±‚è·Ÿé®ç½©å±‚å¹¶åˆ—ã€‚<br>è¿™é‡Œè¿˜æœ‰2ä¸ªé—®é¢˜ï¼š<br>1.å•å•å¯¹é®ç½©å±‚ä½¿ç”¨height:100%ï¼Œåªæœ‰IE6ä¼šè¾¾åˆ°æ•ˆæœï¼Œè€Œå…¶ä»–æµè§ˆå™¨ä¸€æ—¦åªä¼šæ˜¯å½“å‰å¯è§åŒºåŸŸé®ä¸Šäº†ï¼Œå¦‚æœæ‹–åŠ¨çºµå‘æ»šåŠ¨æ¡ï¼Œå‘ç°ä¸‹æ–¹è¿˜æœ‰æ²¡é®ç›–ä¸Šã€‚<br>2.ç”¨æˆ·ç”µè„‘åˆ†è¾¨ç‡ä¸åŒï¼Œè€Œç»å¯¹å®šä½çš„æç¤ºå±‚ä½¿ç”¨margin:300px autoä¹Ÿæ— æ•ˆã€‚<br>ä¸ºäº†è¾¾åˆ°å„æµè§ˆå™¨ç½‘é¡µå¯è§åŒºåŸŸå…¨éƒ¨é®ç›–çš„æ•ˆæœï¼Œè¿™é‡Œç”¨äº†ä¸‹jqueryè„šæœ¬ï¼Œè§£å†³ä»¥ä¸Š2ä¸ªé—®é¢˜ï¼š<br>$(document).ready(function(){     $(â€œdiv[class=â€™coverâ€™]â€).height($(document).height());//å°†å¯è§åŒºåŸŸéƒ½é®ç½©èµ·æ¥      $(â€œdiv[class=â€™confirmâ€™]â€).css(â€œleftâ€,($(document).width()-($(â€œdiv[class=â€™confirmâ€™]â€).width()))/2+â€pxâ€);//æç¤ºå±‚å±…ä¸­});<br>æœ€ä½³å®è·µï¼š<br>1.å†™DTDå£°æ˜ï¼š<br><code>&lt;!DOCTYPE html&gt;</code><br>2.å¼•å…¥base.cssé‡ç½®å„æµè§ˆå™¨é»˜è®¤å±æ€§å€¼ï¼š</p><p>html,body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td{margin:0px;padding:0px;}table{border-collapse:collapse;border-spacing:0px;}fieldset,img,abbr,acronym{border:0px;}address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:normal;}ol,ul{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:â€™â€™;}</p><p>3.åŒæ—¶ä¸ºä¸€ä¸ªå…ƒç´ å†™floatå’Œmargin-leftï¼ˆmargin-rightï¼‰çš„æ—¶å€™ï¼Œä¹ æƒ¯æ€§åœ°æƒ³åˆ°IE6ä¼šåŒå€è¾¹è·ï¼Œç”¨display:inlineè§£å†³ã€‚<br>4.ä¸ºå­å…ƒç´ å†™margin-topæˆ–margin-bottomçš„æ—¶å€™ï¼Œä¹ æƒ¯æ€§çš„å»æ€è€ƒçˆ¶å…ƒç´ æ˜¯å¦æœ‰paddingæˆ–borderå±æ€§ï¼Œä»è€Œæ–­å®šæ˜¯å¦ä¼šåœ¨IE6&amp;IE7ä¸Šäº§ç”Ÿä¸Šä¸‹å¤–è¾¹è·é‡åˆé—®é¢˜ã€‚å¦‚æœæœ‰é—®é¢˜ç”¨overflow:hidden;è§£å†³ã€‚<br>5.ç»™å…ƒç´ è®¾äº†å›ºå®šé«˜åº¦åï¼Œä¹ æƒ¯æ€§åœ°å†è®¾ä¸ªoverflow:hidden;ä»è€Œé¿å…IE6ä¸Šé«˜åº¦ç»§ç»­æ‰©å±•çš„é—®é¢˜ã€‚<br>6.å¿…è¦æ—¶å€™è¦clearï¼Œ<br>ã€‚<br>7.å¯¹äºæ–‡æœ¬ï¼Œåœ¨ä½¿ç”¨margin-leftã€padding-leftã€margin-topã€padding-topä¹‹å‰ä¼˜å…ˆè€ƒè™‘æ˜¯å¦å¯ç”¨text-indentå’Œline-heightä»£æ›¿ã€‚å› ä¸ºè®¡ç®—å°ºå¯¸çš„ä»£ä»·ç›¸å¯¹æ¥è¯´è¦å¤§äº›ã€‚<br>å¦‚èƒ½åšåˆ°ä»¥ä¸Šå‡ ç‚¹ï¼Œå°±å·²ç»é¿å…äº†90%çš„æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> CSS3 </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> ç†è®ºçŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iTerm2å®Œç¾çš„ç»ˆç«¯ä½“éªŒ</title>
      <link href="posts/iTerm2%E5%AE%8C%E7%BE%8E%E7%9A%84%E7%BB%88%E7%AB%AF%E4%BD%93%E9%AA%8C/"/>
      <url>posts/iTerm2%E5%AE%8C%E7%BE%8E%E7%9A%84%E7%BB%88%E7%AB%AF%E4%BD%93%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><p>mac è‡ªå¸¦çš„ç»ˆç«¯å®åœ¨æ˜¯å·®åŠ²ï¼Œæ”¹ç”¨ iTerm2 å¯ä»¥ 6 åˆ°é£èµ·~~~</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><a href="https://www.iterm2.com/">ç›´æ¥ä¸‹è½½</a>å®‰è£…å³å¯ã€‚</p><h2 id="å®‰è£…oh-my-zsh"><a href="#å®‰è£…oh-my-zsh" class="headerlink" title="å®‰è£…oh-my-zsh"></a>å®‰è£…<a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a></h2><p>å®‰è£…æ–¹æ³•ç”±äºä¼šç»å¸¸æ›´æ–°ï¼Œè¯·ç‚¹å‡»é“¾æ¥è·³è½¬æŸ¥çœ‹å®‰è£…åŠæ³•</p><!--- more ---><h2 id="é…ç½®ä¸»é¢˜"><a href="#é…ç½®ä¸»é¢˜" class="headerlink" title="é…ç½®ä¸»é¢˜"></a>é…ç½®ä¸»é¢˜</h2><p>ä¿®æ”¹ ZSH_THEME=â€ä¸»é¢˜åâ€</p><p>æ‰“å¼€é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.zshrc</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°å¦‚ä¸‹é…ç½®<br>ZSH_THEME=â€robbyrussellâ€<br>ä¿®æ”¹ä¸º<br>ZSH_THEME=â€ysâ€</p><p>å¯ä»¥æ ¹æ®è‡ªå·±å–œå¥½é€‰æ‹©ä¸åŒçš„ä¸»é¢˜</p><p><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/External-themes">ä¸»é¢˜é…ç½®åº“</a></p><h2 id="ä»£ç é«˜äº®-zsh-syntax-highlighting"><a href="#ä»£ç é«˜äº®-zsh-syntax-highlighting" class="headerlink" title="ä»£ç é«˜äº®(zsh-syntax-highlighting)"></a>ä»£ç é«˜äº®(<a href="https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md">zsh-syntax-highlighting</a>)</h2><p>å®‰è£…æ–¹æ³•è¯¦è§é“¾æ¥</p><h2 id="è‡ªåŠ¨æç¤ºå‘½ä»¤-zsh-autosuggestions"><a href="#è‡ªåŠ¨æç¤ºå‘½ä»¤-zsh-autosuggestions" class="headerlink" title="è‡ªåŠ¨æç¤ºå‘½ä»¤(zsh-autosuggestions)"></a>è‡ªåŠ¨æç¤ºå‘½ä»¤(<a href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestions</a>)</h2><p>å®‰è£…æ–¹æ³•è¯¦è§é“¾æ¥</p><h2 id="è‡ªåŠ¨åˆ‡æ¢ç›®å½•-autojump"><a href="#è‡ªåŠ¨åˆ‡æ¢ç›®å½•-autojump" class="headerlink" title="è‡ªåŠ¨åˆ‡æ¢ç›®å½•(autojump)"></a>è‡ªåŠ¨åˆ‡æ¢ç›®å½•(<a href="https://github.com/wting/autojump">autojump</a>)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install autojump</span><br></pre></td></tr></table></figure><p>æ ¹æ®æç¤ºå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°~/.zshrc</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ -f /usr/<span class="built_in">local</span>/etc/profile.d/autojump.sh ] &amp;&amp; . /usr/<span class="built_in">local</span>/etc/profile.d/autojump.sh</span><br></pre></td></tr></table></figure><p>åˆšå¼€å§‹è£…äº†ä¸ä¼šæœ‰æ•ˆæœï¼Œéœ€å¤šè¿›å‡ ä¸ªç›®å½•ï¼Œå°±å¯ä»¥çœ‹åˆ°æ•ˆæœ</p><h3 id="å¿«æ·é”®-j"><a href="#å¿«æ·é”®-j" class="headerlink" title="å¿«æ·é”® j"></a>å¿«æ·é”® j</h3><p>æŒ‰ tab å¯ä»¥é€‰æ‹©ä¸‹æ‹‰é‡Œæç¤ºçš„å†…å®¹</p><p>æƒé‡å€¼è¶Šé«˜ï¼Œä¼˜å…ˆçº§è¶Šé«˜<br>è¦è°ƒæ•´æŸä¸ªç›®å½•çš„ä¼˜å…ˆçº§ï¼Œéœ€è¦å…ˆè¿›å…¥åˆ°æ–‡ä»¶ç›®å½•ä¸‹ï¼Œè¿›è¡Œè°ƒæ•´</p><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºæ•°æ®åº“ä¸­çš„ç»Ÿè®¡æ•°æ®, (å‰é¢çš„æ•°å­—æ˜¯æƒé‡å€¼)</span></span><br><span class="line">j -s</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¢åŠ æŸä¸ªç›®å½•çš„æƒé‡</span></span><br><span class="line">j -i 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># é™ä½æŸä¸ªç›®å½•æƒé‡</span></span><br><span class="line">j -d 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…é™¤æ— ç”¨æ•°æ®</span></span><br><span class="line">j --purge</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨ä¸­å‘ç°çš„é—®é¢˜"><a href="#ä½¿ç”¨ä¸­å‘ç°çš„é—®é¢˜" class="headerlink" title="ä½¿ç”¨ä¸­å‘ç°çš„é—®é¢˜"></a>ä½¿ç”¨ä¸­å‘ç°çš„é—®é¢˜</h3><p>å¦‚æœä¸¤ä¸ªç›®å½•åé¢çš„æ–‡ä»¶å¤¹åç›¸åŒï¼Œä¾‹å¦‚<code>/home/abc/de</code>å’Œ<code>/home/de</code>ï¼Œæƒé‡çº§åˆ«ä¸ä¸€æ ·ï¼Œ<br>ç›´æ¥ç”¨<code>j de</code>ä¸ä¼šæ¯æ¬¡éƒ½è·³è½¬åˆ°æƒé‡é«˜çš„ç›®å½•ï¼Œå¦‚æœä¸æ˜¯æƒ³è¦çš„å¯ä»¥å†æ¬¡æ‰§è¡Œ<code>j de</code>å³å¯</p><h2 id="homebrew-æ›´æ–°"><a href="#homebrew-æ›´æ–°" class="headerlink" title="homebrew æ›´æ–°"></a>homebrew æ›´æ–°</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update</span><br></pre></td></tr></table></figure><p>åœ¨å®‰è£…ä¸€äº›è½¯ä»¶æ—¶ï¼Œä¼šé‡åˆ° updating homebrew å¡ä½çš„é—®é¢˜ï¼Œè¿™æ—¶ control+c æ–­å¼€ï¼Œæ‰§è¡Œ brew update.</p><p>ä¼šæˆåŠŸæ›´æ–°ã€‚</p><p>ç½‘ä¸Šè¿˜æœ‰è¯´æ³•æ˜¯æ›´æ¢ brew é•œåƒæºâ€”æ²¡è¯•è¿‡ã€‚</p><h2 id="å¯åŠ¨é—®å€™è¯­è®¾ç½®"><a href="#å¯åŠ¨é—®å€™è¯­è®¾ç½®" class="headerlink" title="å¯åŠ¨é—®å€™è¯­è®¾ç½®"></a>å¯åŠ¨é—®å€™è¯­è®¾ç½®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc</span><br><span class="line">sudo pico motd</span><br><span class="line">è¾“å…¥å¯†ç åè¾“å…¥é—®å€™è¯­</span><br><span class="line"></span><br><span class="line">æŒ‰control+xé€€å‡ºï¼ŒæŒ‰yç¡®è®¤ï¼Œ æŒ‰å›è½¦ç¡®è®¤ï¼Œ</span><br><span class="line">ç”¨ yä¿å­˜é€€å‡ºï¼Œå† yä¸€æ¬¡ç¡®è®¤æ–‡ä»¶åmotd</span><br></pre></td></tr></table></figure><p>æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼Œå³å¯çœ‹åˆ°æç¤ºè¯­</p><h2 id="å®‰è£…-iTerm2-åæ›¿æ¢ä¸ºç³»ç»Ÿè‡ªå¸¦çš„-bash"><a href="#å®‰è£…-iTerm2-åæ›¿æ¢ä¸ºç³»ç»Ÿè‡ªå¸¦çš„-bash" class="headerlink" title="å®‰è£… iTerm2 åæ›¿æ¢ä¸ºç³»ç»Ÿè‡ªå¸¦çš„ bash"></a>å®‰è£… iTerm2 åæ›¿æ¢ä¸ºç³»ç»Ÿè‡ªå¸¦çš„ bash</h2><p>æ‰“å¼€ iTerm2-&gt;prefrences-&gt;profiles-command<br>é€‰æ‹© command è¾“å…¥<code>/bin/bash</code>å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹iterm é»˜è®¤ç¨‹åº</span></span><br><span class="line">chsh -s /bin/zsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤åŸæ¥çš„bash</span></span><br><span class="line">chsh -s /bin/bash</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰“å¼€æ–°æ ‡ç­¾</span></span><br><span class="line"><span class="built_in">command</span>+t</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­æ ‡ç­¾</span></span><br><span class="line"><span class="built_in">command</span>+w</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒä¸€ä¸ªTabå†…çš„åˆ†å±åˆ‡æ¢</span></span><br><span class="line">Command + [</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tabä¹‹é—´çš„åˆ‡æ¢</span></span><br><span class="line">Command + æ•°å­—</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‚ç›´åˆ‡åˆ†çª—å£</span></span><br><span class="line"><span class="built_in">command</span>+d</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ°´å¹³åˆ‡åˆ†çª—å£</span></span><br><span class="line"><span class="built_in">command</span>+<span class="built_in">shift</span>+d</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶çª—å£</span></span><br><span class="line">å·¦ä¸Šè§’shell-&gt;duplicate Tab ä»¥å½“å‰è·¯å¾„ä¸‹æ‰“å¼€æ–°çš„çª—å£</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥ä¸è¿”å›å…¨å±æ¨¡å¼</span></span><br><span class="line"><span class="built_in">command</span>+enter</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿å­˜å½“å‰å¿«ç…§</span></span><br><span class="line">Window &gt; Save Window Arrangement.</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤å¿«ç…§ï¼š</span></span><br><span class="line">Window &gt; Restore Window Arrangement</span><br><span class="line"></span><br><span class="line">å¯ä»¥åœ¨Preferences &gt; General &gt; Open saved window arrangement.è®¾ç½®è‡ªåŠ¨æ¢å¤å¿«ç…§</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»ç»ˆç«¯è¿›å…¥Finder</span></span><br><span class="line"></span><br><span class="line">è¿›å…¥æŸä¸ªç›®å½•</span><br><span class="line">open .</span><br><span class="line"></span><br><span class="line"><span class="comment"># Finder è¿›ç»ˆç«¯</span></span><br><span class="line">ç›´æ¥æ‹–æ‹½</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å†å²å‘½ä»¤</span></span><br><span class="line"><span class="built_in">command</span> + ;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å‰ªè´´æ¿å†å²</span></span><br><span class="line"><span class="built_in">command</span> + <span class="built_in">shift</span> + h</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘½ä»¤æœç´¢</span></span><br><span class="line">Ctrl + r</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…é™¤å½“å‰è¡Œå‘½ä»¤</span></span><br><span class="line">Ctrl + u</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·³è½¬åˆ°è¡Œé¦–</span></span><br><span class="line">Ctrl + a</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·³è½¬åˆ°è¡Œå°¾</span></span><br><span class="line">Ctrl + e</span><br></pre></td></tr></table></figure><h2 id="è‡ªåŠ¨è¡¥å…¨æ’ä»¶-incr-â€”å¦‚æœæç¤ºå¤šäº†ä¼šå¡çš„å¾ˆä¸¥é‡ï¼Œæ›¾ç»ç”¨è¿‡ï¼Œåæ¥æ›¿æ¢æˆ-zsh-autosuggestions"><a href="#è‡ªåŠ¨è¡¥å…¨æ’ä»¶-incr-â€”å¦‚æœæç¤ºå¤šäº†ä¼šå¡çš„å¾ˆä¸¥é‡ï¼Œæ›¾ç»ç”¨è¿‡ï¼Œåæ¥æ›¿æ¢æˆ-zsh-autosuggestions" class="headerlink" title="è‡ªåŠ¨è¡¥å…¨æ’ä»¶ incr â€”å¦‚æœæç¤ºå¤šäº†ä¼šå¡çš„å¾ˆä¸¥é‡ï¼Œæ›¾ç»ç”¨è¿‡ï¼Œåæ¥æ›¿æ¢æˆ zsh-autosuggestions"></a>è‡ªåŠ¨è¡¥å…¨æ’ä»¶ incr â€”å¦‚æœæç¤ºå¤šäº†ä¼šå¡çš„å¾ˆä¸¥é‡ï¼Œæ›¾ç»ç”¨è¿‡ï¼Œåæ¥æ›¿æ¢æˆ zsh-autosuggestions</h2><p>ä¸‹è½½æ­¤æ’ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget http://mimosa-pudica.net/src/incr-0.2.zsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ­¤æ’ä»¶æ”¾åˆ°oh-my-zshç›®å½•çš„æ’ä»¶åº“ä¸‹ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨~/.zshrcæ–‡ä»¶æœ«å°¾åŠ ä¸Š</span></span><br><span class="line"><span class="built_in">source</span> ~/.oh-my-zsh/plugins/incr/incr*.zsh</span><br><span class="line"><span class="comment"># æ›´æ–°é…ç½®</span></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><h2 id="å‘½ä»¤å‚æ•°æç¤º"><a href="#å‘½ä»¤å‚æ•°æç¤º" class="headerlink" title="å‘½ä»¤å‚æ•°æç¤º"></a>å‘½ä»¤å‚æ•°æç¤º</h2><p>ä¸¾ä¸ªæ —å­ï¼Œä¹‹å‰å¶å°”éœ€è¦ç”¨åˆ°åˆ é™¤æ–‡ä»¶å¤¹çš„æ“ä½œï¼Œrm -r [path]ï¼Œä½†æ˜¯å¸¸å¸¸ä¼šå¿˜è®°ä¸­é—´çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œç°åœ¨æˆ‘åªéœ€è¦è¿™ä¹ˆåšï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å…¥ rm - ï¼Œ ç„¶åæŒ‰tab</span></span><br><span class="line">rm -</span><br><span class="line">-R  -r  -- remove directories and their contents recursively</span><br><span class="line">-f      -- ignore nonexistent files, never prompt</span><br><span class="line">-i      -- prompt before every removal</span><br></pre></td></tr></table></figure><h2 id="git-å¿«æ·é”®"><a href="#git-å¿«æ·é”®" class="headerlink" title="git å¿«æ·é”®"></a>git å¿«æ·é”®</h2><p><a href="https://github.com/robbyrussell/oh-my-zsh/blob/master/plugins/git/git.plugin.zsh">æ’ä»¶git.plugin.zshåœ°å€</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.oh-my-zsh/plugins/git</span><br><span class="line">less git.plugin.zsh</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°å¸¸ç”¨çš„gitå‘½ä»¤åˆ«å</p><h2 id="å®˜æ–¹æ’ä»¶åˆ—è¡¨"><a href="#å®˜æ–¹æ’ä»¶åˆ—è¡¨" class="headerlink" title="å®˜æ–¹æ’ä»¶åˆ—è¡¨"></a><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins-Overview">å®˜æ–¹æ’ä»¶åˆ—è¡¨</a></h2><p>çœ‹åˆ«äººåœ¨ç”¨çš„æ’ä»¶</p><ul><li>fasd</li><li>history</li></ul><h2 id="å¸¸ç”¨å‘½ä»¤-1"><a href="#å¸¸ç”¨å‘½ä»¤-1" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  æŸ¥çœ‹å½“å‰æ‰€ç”¨çš„ Shell</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç³»ç»Ÿå†…å·²å®‰è£…çš„ Shell</span></span><br><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure><h2 id="itermä¸­git-status-æ˜¾ç¤ºå­—ç¬¦ï¼Œä¸æ˜¾ç¤ºä¸­æ–‡"><a href="#itermä¸­git-status-æ˜¾ç¤ºå­—ç¬¦ï¼Œä¸æ˜¾ç¤ºä¸­æ–‡" class="headerlink" title="itermä¸­git status æ˜¾ç¤ºå­—ç¬¦ï¼Œä¸æ˜¾ç¤ºä¸­æ–‡"></a>itermä¸­git status æ˜¾ç¤ºå­—ç¬¦ï¼Œä¸æ˜¾ç¤ºä¸­æ–‡</h2><p>  è§£å†³æ–¹æ³•ï¼šåœ¨å‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.quotepath <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="rz-szä¸Šä¼ ä¸‹è½½æ–‡ä»¶"><a href="#rz-szä¸Šä¼ ä¸‹è½½æ–‡ä»¶" class="headerlink" title="rz/szä¸Šä¼ ä¸‹è½½æ–‡ä»¶"></a>rz/szä¸Šä¼ ä¸‹è½½æ–‡ä»¶</h2><ol><li><p>å®‰è£…lrzsz <code>brew install lrzsz</code></p></li><li><p>ä¸‹è½½é…ç½®iTerm2çš„ç›¸å…³è„šæœ¬</p><p> <a href="https://github.com/luxihk/iterm2-zmodem">è„šæœ¬åœ°å€</a></p><p> åœ¨/usr/local/binç›®å½•ä¸‹ç›´æ¥æ‰§è¡Œï¼š</p><p> <code>wget https://raw.githubusercontent.com/mmastrac/iterm2-zmodem/master/iterm2-send-zmodem.sh https://raw.githubusercontent.com/mmastrac/iterm2-zmodem/master/iterm2-recv-zmodem.sh</code><br> èµ‹äºˆå¯æ‰§è¡Œæƒé™<br> <code>chmod +x /usr/local/bin/iterm2-send-zmodem.sh /usr/local/bin/iterm2-recv-zmodem.sh</code></p></li><li><p>é…ç½®ITerm2</p><p> Term2çš„é…ç½®é¡¹ï¼šiTerm2çš„Preferences-&gt; Profiles -&gt; Default -&gt; Advanced -&gt; Triggersçš„EditæŒ‰é’®ã€‚</p><p> ç„¶åé…ç½®é¡¹å¦‚ä¸‹ï¼š</p><table><thead><tr><th>Regular Expression</th><th>Action</th><th>Parameters</th><th>Instant</th></tr></thead><tbody><tr><td>rz waiting to receive.\<em>\</em>B0100</td><td>Run Silent Coprocess</td><td>/usr/local/bin/iterm2-send-zmodem.sh</td><td>checked</td></tr><tr><td>\<em>\</em>B00000000000000</td><td>Run Silent Coprocess</td><td>/usr/local/bin/iterm2-recv-zmodem.sh</td><td>checked</td></tr></tbody></table><p> æ³¨æ„æœ€åä¸€é¡¹éœ€è¦ä½ å°†Instanté€‰é¡¹å‹¾ä¸Šï¼Œå¦åˆ™å°†ä¸ç”Ÿæ•ˆ</p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> ç»ˆç«¯ </tag>
            
            <tag> iTerm2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reactæ¡ä»¶æ¸²æŸ“</title>
      <link href="posts/React%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93/"/>
      <url>posts/React%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/dt-fe/weekly/blob/master/61.%E7%B2%BE%E8%AF%BB%E3%80%8AReact%20%E5%85%AB%E7%A7%8D%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93%E3%80%8B.md">å‚è€ƒé“¾æ¥</a><br>æ¨¡æ¿æ¡ä»¶æ¸²æŸ“åœ¨å¼€å‘ä¸­å¸¸ç”¨ï¼Œä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆæ–¹å¼ï¼Ÿæ€ä¹ˆå†™è¾ƒå¥½ï¼Ÿ</p><p>å…ˆç½—åˆ—å¸¸è§æ–¹å¼:</p><h2 id="IF-ELSE"><a href="#IF-ELSE" class="headerlink" title="IF/ELSE"></a>IF/ELSE</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component1</span> /&gt;</span></span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><!--- more ---><h2 id="return-null"><a href="#return-null" class="headerlink" title="return null"></a>return null</h2><p>ä¸éœ€è¦è¿”å›å¯ä»¥è¿”å›null, ä»£æ›¿ç©ºdiv, æå‡æ•ˆç‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component1</span> /&gt;</span></span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç»„ä»¶å˜é‡"><a href="#ç»„ä»¶å˜é‡" class="headerlink" title="ç»„ä»¶å˜é‡"></a>ç»„ä»¶å˜é‡</h2><p>å°†ç»„ä»¶èµ‹å€¼ç»™å˜é‡ï¼Œå¯ä»¥åœ¨returnå‰ä»»æ„ä¿®æ”¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> component = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    component = <span class="xml"><span class="tag">&lt;<span class="name">Component1</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> component;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ä¸‰å…ƒæ“ä½œç¬¦"><a href="#ä¸‰å…ƒæ“ä½œç¬¦" class="headerlink" title="ä¸‰å…ƒæ“ä½œç¬¦"></a>ä¸‰å…ƒæ“ä½œç¬¦</h2><p>é€»è¾‘ä¸å¤æ‚å¯ä»¥é¿å…if else</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> flag ? <span class="xml"><span class="tag">&lt;<span class="name">Component1</span> /&gt;</span></span> : <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="amp-amp"><a href="#amp-amp" class="headerlink" title="&amp;&amp;"></a>&amp;&amp;</h2><p>æœ€æ–¹ä¾¿!!!</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> flag &amp;&amp; <span class="xml"><span class="tag">&lt;<span class="name">Component1</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="IIFE"><a href="#IIFE" class="headerlink" title="IIFE"></a>IIFE</h2><p>ç«‹å³æ‰§è¡Œå‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"><span class="comment">/* arguments */</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)(<span class="comment">/* arguments */</span>);</span><br><span class="line"></span><br><span class="line">&lt;!-- ï¼Ÿï¼Ÿï¼Ÿä»€ä¹ˆæƒ…å†µç”¨ï¼Ÿï¼Ÿï¼Ÿ --&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &#123;(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component1</span> /&gt;</span></span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> /&gt;</span></span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)()&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å­ç»„ä»¶"><a href="#å­ç»„ä»¶" class="headerlink" title="å­ç»„ä»¶"></a>å­ç»„ä»¶</h2><p>å°†ä¸€å¤§å—çš„é€»è¾‘æ‹†åˆ†æˆå­ç»„ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;SubRender /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubRender</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component1</span> /&gt;</span></span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="IF-ç»„ä»¶â€“ä»€ä¹ˆæ—¶å€™ç”¨"><a href="#IF-ç»„ä»¶â€“ä»€ä¹ˆæ—¶å€™ç”¨" class="headerlink" title="IF ç»„ä»¶â€“ä»€ä¹ˆæ—¶å€™ç”¨"></a>IF ç»„ä»¶â€“ä»€ä¹ˆæ—¶å€™ç”¨</h2><p>åšä¸€ä¸ªæ¡ä»¶æ¸²æŸ“ç»„ä»¶ IF ä»£æ›¿ js å‡½æ•°çš„ ifï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;If condition=&#123;<span class="literal">true</span>&#125;&gt;</span><br><span class="line">  &lt;span&gt;Hi!&lt;/span&gt;</span><br><span class="line">&lt;/If&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç»„ä»¶å®ç°ä¹Ÿå¾ˆç®€å•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> If = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> condition = props.condition || <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">const</span> positive = props.then || <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">const</span> negative = props.else || <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> condition ? positive : negative;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h2><p>è¿”å›ä¸€ä¸ªæ–°ç»„ä»¶çš„å‡½æ•°ï¼Œå¹¶ä¸”æ¥æ”¶ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°<br>åœ¨é«˜é˜¶ç»„ä»¶é‡Œå†™æ¡ä»¶è¯­å¥ï¼Œè¿”å›ä¸åŒçš„ç»„ä»¶å³å¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">higherOrderComponent</span>(<span class="params">Component</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">EnhancedComponent</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">AnotherComponent</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span></span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç†è§£"><a href="#ç†è§£" class="headerlink" title="ç†è§£"></a>ç†è§£</h2><p>è¦ä¸è¦å°è£…ï¼Œæ€ä¹ˆå°è£…ï¼Œå–å†³äºåº”ç”¨å¤æ‚åº¦ã€‚</p><p>å¯¹äºä»»ä½•ä»£ç å°è£…ï¼Œéƒ½ä¼šå¢åŠ è¿™æ®µä»£ç è¿æ¥é€»è¾‘çš„å¤æ‚åº¦ã€‚</p><p>å‡å®šæ— è®ºå¦‚ä½•ä»£ç çš„å¤æ‚åº¦éƒ½æ˜¯æ’å®šä¸å˜çš„ï¼Œä¸‹é¢è¿™æ®µä»£ç ï¼Œè¿æ¥å¤æ‚åº¦ä¸º0ï¼Œè€Œå¯¹äºrenderå‡½æ•°è€Œè¨€ï¼Œ<br>é€»è¾‘å¤æ‚åº¦æ˜¯100.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    <span class="keyword">return</span> isOk ? <span class="xml"><span class="tag">&lt;<span class="name">Component1</span> /&gt;</span></span> : <span class="xml"><span class="tag">&lt;<span class="name">Component2</span> /&gt;</span></span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‹†åˆ†æˆä¸¤ä¸ªå‡½æ•°ï¼Œé€»è¾‘å¤æ‚åº¦å¯¹render, SubComponentæ¥è¯´éƒ½æ˜¯50ï¼Œä½†è¿æ¥å¤æ‚åº¦æ˜¯50:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">SubComponent</span>/&gt;</span></span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>/&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> isOk ? <span class="xml"><span class="tag">&lt;<span class="name">Component1</span> /&gt;</span></span> : <span class="xml"><span class="tag">&lt;<span class="name">Component2</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡å‡½æ•°æ‹†åˆ†ï¼Œé™ä½äº†æ¯ä¸ªå‡½æ•°çš„é€»è¾‘å¤æ‚åº¦ï¼Œå´æé«˜äº†è¿æ¥å¤æ‚åº¦ã€‚</p><blockquote><p>å‡è®¾ä¸€ä¸ªç¨‹åºå‘˜å¯ä»¥ä¸€æ¬¡æ€§è½»æ¾è®°å¿†10ä¸ªå‡½æ•°ã€‚å¦‚æœå†å¤šï¼Œå‡½æ•°ä¹‹é—´çš„è°ƒç”¨å…³ç³»ä¼šè®©äººå¤´å¤§ã€‚</p></blockquote><h2 id="åº”ç”¨è¾ƒå°æ—¶"><a href="#åº”ç”¨è¾ƒå°æ—¶" class="headerlink" title="åº”ç”¨è¾ƒå°æ—¶"></a>åº”ç”¨è¾ƒå°æ—¶</h2><p>åº”ç”¨è¾ƒå°æ—¶ï¼Œå‡è®¾å…±æœ‰10ä¸ªå‡½æ•°ï¼Œå¦‚æœåšäº†é€»è¾‘æŠ½è±¡ï¼Œæ‹†åˆ†å‡ºäº†10ä¸ªå­å‡½æ•°ï¼Œé‚£ä¹ˆæ€»é€»è¾‘å¤æ‚åº¦ä¸å˜ï¼Œå‡½æ•°å˜æˆ20ä¸ªã€‚</p><p>æ­¤æ—¶ï¼Œè¦ä¿®æ”¹é¡¹ç›®ï¼Œéœ€è¦æ‰¾åˆ°å…³é”®ä»£ç çš„ä½ç½®ã€‚</p><p>å¦‚æœæ²¡æœ‰åšé€»è¾‘æŠ½è±¡ï¼Œ å°æ˜å¯ä»¥ä¸€ä¸‹è®°ä½10ä¸ªå‡½æ•°ï¼Œå¾ˆå¿«å®Œæˆéœ€æ±‚ã€‚</p><p>åšäº†é€»è¾‘æŠ½è±¡ï¼Œéœ€è¦ç†è§£çš„é€»è¾‘å¤æ‚åº¦æ˜¯ä¸å˜çš„ã€‚ä½†è¦è¯»20ä¸ªå‡½æ•°ï¼Œå°æ˜éœ€è¦åœ¨çº¿ç´¢ä¸­ä¸æ–­è·³è½¬ï¼Œè¿˜æ˜¯åªæ‰¾äº†10ä¸ªå…³é”®å‡½æ•°ï¼Œä½†ä¸€å…±å°±20ä¸ªå‡½æ•°ï¼Œé€»è¾‘å¹¶ä¸å¤æ‚ï¼Œè¿™å€¼å¾—å—ï¼Ÿ</p><p>è¿™æ—¶ï¼Œä¼šè§‰å¾—ï¼Œç®€å•çš„é€»è¾‘ï¼Œå´èŠ±äº†è¾ƒé•¿çš„æ—¶é—´æ‰¾ä»£ç ã€‚</p><h2 id="åº”ç”¨è¾ƒå¤§æ—¶"><a href="#åº”ç”¨è¾ƒå¤§æ—¶" class="headerlink" title="åº”ç”¨è¾ƒå¤§æ—¶"></a>åº”ç”¨è¾ƒå¤§æ—¶</h2><p>åº”ç”¨è¾ƒå¤§æ—¶ï¼Œå‡è®¾æœ‰500ä¸ªå‡½æ•°ï¼Œä¸è€ƒè™‘æŠ½è±¡åå¸¦æ¥çš„å¤ç”¨å¥½å¤„ï¼Œå‡è®¾éƒ½æ— æ³•å¤ç”¨ï¼Œé‚£ä¹ˆåšé€»è¾‘æŠ½è±¡åï¼Œæ€»é€»è¾‘å¤æ‚åº¦ä¸å˜ï¼Œå‡½æ•°å˜æˆäº†1000ä¸ªã€‚</p><p>å°æ˜æ¥åˆ°éœ€æ±‚å¼€å§‹ç»´æŠ¤é¡¹ç›®ã€‚<br>ä»ä¸€å¼€å§‹æ²¡èƒ½ç†è§£é¡¹ç›®çš„å…¨è²Œï¼Œæ‰€ä»¥å¼€å§‹ä¸€æ­¥æ­¥æ¢ç´¢ã€‚</p><p>ç°åœ¨æœ‰ä¸¤ç§é€‰æ‹©ï¼šä¸€æ˜¯åœ¨æœªåšé€»è¾‘æŠ½è±¡æ—¶çš„æ¢ç´¢ï¼Œä¸€æ˜¯åœ¨åšè¿‡é€»è¾‘æŠ½è±¡åçš„æ¢ç´¢ã€‚</p><p>å‡è®¾æ²¡æœ‰åšé€»è¾‘æŠ½è±¡ï¼Œå°æ˜éœ€é¢å¯¹500ä¸ªè¿™ç§å‡½æ•°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (renderComponent) &#123;</span><br><span class="line">    <span class="keyword">return</span> isOk ? <span class="xml"><span class="tag">&lt;<span class="name">Component1</span> /&gt;</span></span> : <span class="xml"><span class="tag">&lt;<span class="name">Component2</span> /&gt;</span></span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> isReady ? <span class="xml"><span class="tag">&lt;<span class="name">Component3</span> /&gt;</span></span> : <span class="xml"><span class="tag">&lt;<span class="name">Component4</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœåšäº†é€»è¾‘æŠ½è±¡ï¼Œéœ€é¢å¯¹1000ä¸ªè¿™ç§å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (renderComponent) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component1And2</span> /&gt;</span></span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component3And4</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é¡¹ç›®åºå¤§åï¼Œæ€»å‡½æ•°æ•°é‡å¹¶ä¸ä¼šå½±å“å¯¹çº¿ç´¢çš„æŸ¥æ‰¾ï¼Œè€Œæ€»çº¿ç´¢æ·±åº¦ä¹Ÿå‡ ä¹æ€»æ˜¯å›ºå®šçš„ï¼Œä¸€èˆ¬åœ¨5å±‚å·¦å³ã€‚</strong></p><p>å°æ˜ç†è§£5ä¸ªæˆ–10ä¸ªå‡½æ•°æˆæœ¬å·®ä¸å¤šï¼Œä½†æ²¡æœ‰åšé€»è¾‘æŠ½è±¡æ—¶ï¼Œè¿™5ä¸ªå‡½æ•°å„è‡ªæºæ‚äº†å…¶ä»–é€»è¾‘ï¼Œè¿™5ä¸ªå‡½æ•°å„è‡ªæºæ‚äº†å…¶ä»–é€»è¾‘ï¼Œåè€Œå½±å“å¯¹å‡½æ•°çš„ç†è§£ã€‚</p><p>è¿™æ—¶åšé€»è¾‘æŠ½è±¡æ˜¯åˆé€‚çš„ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»çš„æ¥è¯´ï¼Œæ¨èä½¿ç”¨å­å‡½æ•°ï¼Œå­ç»„ä»¶ï¼ŒIFç»„ä»¶ï¼Œé«˜é˜¶ç»„ä»¶åšæ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºè¿™å››ç§æ–¹å¼éƒ½èƒ½æé«˜ç¨‹åºçš„æŠ½è±¡èƒ½åŠ›ã€‚</p><p>å¾€å¾€æŠ½è±¡åçš„ä»£ç ä¼šæ›´å…·æœ‰å¤ç”¨æ€§ï¼Œå•ä¸ªå‡½æ•°é€»è¾‘æ›´æ¸…æ™°ï¼Œåœ¨åˆ‡é¢ç¼–ç¨‹æ—¶æ›´åˆ©äºç†è§£ã€‚</p><p>å½“é¡¹ç›®å¾ˆç®€å•æ—¶ï¼Œæ•´ä¸ªé¡¹ç›®çš„ç†è§£æˆæœ¬éƒ½å¾ˆä½ï¼ŒæŠ½è±¡å¸¦æ¥çš„å¤æ‚åº¦åè€Œè®©é¡¹ç›®å˜æˆäº†éœ€è¦åˆ‡é¢ç¼–ç¨‹æ—¶å°±å¾—ä¸å¿å¤±äº†ã€‚</p><p>æ€»ç»“ï¼š</p><ul><li>å½“é¡¹ç›®å¾ˆç®€å•ï¼Œæˆ–æ¡ä»¶æ¸²æŸ“çš„é€»è¾‘ç¡®è®¤æ— æ³•å¤ç”¨æ—¶ï¼Œæ¨èåœ¨ä»£ç ä¸­ç”¨ &amp;&amp; æˆ–ä¸‰å…ƒè¿ç®—ç¬¦ã€IIFEç­‰ç›´æ¥å®ç°æ¡ä»¶æ¸²æŸ“ã€‚</li><li>å½“é¡¹ç›®å¤æ‚æ—¶ï¼Œå°½é‡ä½¿ç”¨å­å‡½æ•°ï¼Œå­ç»„ä»¶ï¼ŒIFç»„ä»¶ï¼Œé«˜é˜¶ç»„ä»¶ç­‰æ–¹å¼åšæ›´æœ‰æŠ½è±¡åº¦çš„æ¡ä»¶æ¸²æŸ“ã€‚</li><li>åœ¨åšé€»è¾‘æŠ½è±¡æ—¶ï¼Œè€ƒè™‘ä¸‹é¡¹ç›®çš„å¤æ‚åº¦, é¿å…å› ä¸ºæŠ½è±¡å¸¦æ¥çš„æˆæœ¬å¢åŠ ï¼Œè®©æœ¬å¯ä»¥æ•´ä½“ç†è§£çš„é¡¹ç›®å˜å¾—æ”¯ç¦»ç ´ç¢ã€‚</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> ä»£ç ä¼˜åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>axiosç§¯ç´¯</title>
      <link href="posts/axios%E7%A7%AF%E7%B4%AF/"/>
      <url>posts/axios%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="ä½¿ç”¨axiosåœ¨urlåç»Ÿä¸€åŠ å‚æ•°é‡åˆ°çš„é—®é¢˜"><a href="#ä½¿ç”¨axiosåœ¨urlåç»Ÿä¸€åŠ å‚æ•°é‡åˆ°çš„é—®é¢˜" class="headerlink" title="ä½¿ç”¨axiosåœ¨urlåç»Ÿä¸€åŠ å‚æ•°é‡åˆ°çš„é—®é¢˜"></a>ä½¿ç”¨axiosåœ¨urlåç»Ÿä¸€åŠ å‚æ•°é‡åˆ°çš„é—®é¢˜</h2><p>å¦‚æœæ˜¯getè¯·æ±‚ï¼Œç›´æ¥åŠ åœ¨urlåé¢</p><p><code>https://www.baidu.com?a=1&amp;b=2</code></p><p>å¦‚æœè¦get, post, putéƒ½åŠ å‘¢ï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = &#123;</span><br><span class="line">    ...params,</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">    b: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line">axios.get(url, &#123;</span><br><span class="line">    params: data,</span><br><span class="line">&#125;)</span><br><span class="line">axios.post(url, &#123;</span><br><span class="line">    params: data,</span><br><span class="line">&#125;)</span><br><span class="line">axios.put(url, &#123;</span><br><span class="line">    params: data,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„:</strong> å¦‚æœåœ¨urlå’Œpostçš„dataä¸­éƒ½åŠ åŒæ ·å‚æ•°çš„è¯ï¼Œæœ‰çš„åç«¯æœåŠ¡ä¼šæŠ¥é”™ï¼Œæ— æ³•æ­£å¸¸è§£æã€‚</p><p>axiosåœ¨dataä¸­æ·»åŠ å‚æ•°åï¼Œä¼šæ ¹æ®getï¼Œpostä¸åŒè¯·æ±‚æ–¹æ³•ï¼Œé€‰æ‹©ä¸åŒçš„å‚æ•°æ‹¼æ¥æ–¹å¼.</p><blockquote><p>get: åŠ åˆ°urlåï¼Œ<br>post, putåŠ åˆ°postçš„dataä¸­ã€‚</p></blockquote><p>ç»¼ä¸Š: æ·»åŠ urlå‚æ•°å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©ç›´æ¥åŠ åœ¨urlåè¿˜æ˜¯åŠ åˆ°dataä¸­ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>js å®šæ—¶å™¨</title>
      <link href="posts/js-%E5%AE%9A%E6%97%B6%E5%99%A8/"/>
      <url>posts/js-%E5%AE%9A%E6%97%B6%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å®šæ—¶å™¨"><a href="#ä¸€ã€å®šæ—¶å™¨" class="headerlink" title="ä¸€ã€å®šæ—¶å™¨"></a>ä¸€ã€å®šæ—¶å™¨</h2><h2 id="setTimeout-è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨å®šæ—¶å™¨åˆ°æœŸåï¼Œæ‰§è¡Œä¸€æ®µä»£ç æˆ–ä»£ç æ®µ"><a href="#setTimeout-è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨å®šæ—¶å™¨åˆ°æœŸåï¼Œæ‰§è¡Œä¸€æ®µä»£ç æˆ–ä»£ç æ®µ" class="headerlink" title="setTimeout: è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨å®šæ—¶å™¨åˆ°æœŸåï¼Œæ‰§è¡Œä¸€æ®µä»£ç æˆ–ä»£ç æ®µ"></a>setTimeout: è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨å®šæ—¶å™¨åˆ°æœŸåï¼Œæ‰§è¡Œä¸€æ®µä»£ç æˆ–ä»£ç æ®µ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timeoutId = <span class="built_in">window</span>.setTimeout(func[, delay, param1, param2, ... ]);</span><br><span class="line"><span class="keyword">var</span> timeoutId = <span class="built_in">window</span>.setTimeout(code[, delay]);</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>timeoutId: å®šæ—¶å™¨ID</li><li>func: å»¶è¿Ÿæ‰§è¡Œçš„å‡½æ•°</li><li>code: å»¶è¿Ÿæ‰§è¡Œçš„ä»£ç å­—ç¬¦ä¸²ï¼Œä¸æ¨èä½¿ç”¨ï¼ŒåŸç†ç±»ä¼¼eval</li><li>delay: å»¶è¿Ÿçš„æ—¶é—´(å•ä½ï¼šæ¯«ç§’)ï¼Œé»˜è®¤å€¼0</li><li>param1, param2: å‘å»¶è¿Ÿå‡½æ•°ä¼ é€’çš„å‚æ•°ã€‚</li></ul><!--- more ---><h2 id="setInterval-ä»¥å›ºå®šæ—¶é—´é—´éš”é‡å¤è°ƒç”¨ä¸€ä¸ªå‡½æ•°æˆ–ä»£ç æ®µ"><a href="#setInterval-ä»¥å›ºå®šæ—¶é—´é—´éš”é‡å¤è°ƒç”¨ä¸€ä¸ªå‡½æ•°æˆ–ä»£ç æ®µ" class="headerlink" title="setInterval: ä»¥å›ºå®šæ—¶é—´é—´éš”é‡å¤è°ƒç”¨ä¸€ä¸ªå‡½æ•°æˆ–ä»£ç æ®µ"></a>setInterval: ä»¥å›ºå®šæ—¶é—´é—´éš”é‡å¤è°ƒç”¨ä¸€ä¸ªå‡½æ•°æˆ–ä»£ç æ®µ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> intervalId = <span class="built_in">window</span>.setInterval(func, delay[, param1, param2, ...]);</span><br><span class="line"><span class="keyword">var</span> intervalId = <span class="built_in">window</span>.setInterval(code, delay);</span><br></pre></td></tr></table></figure><ul><li>intarvalId: é‡å¤æ“ä½œçš„ID</li><li>func: å»¶è¿Ÿè°ƒç”¨çš„å‡½æ•°</li><li>code: ä»£ç æ®µ</li><li>delay: å»¶è¿Ÿæ—¶é—´ï¼Œæ²¡æœ‰é»˜è®¤å€¼</li></ul><h2 id="setImmediateï¼š-åœ¨æµè§ˆå™¨å®Œå…¨ç»“æŸå½“å‰è¿è¡Œçš„æ“ä½œä¹‹åç«‹å³æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°-ä»…IE10å’ŒNode0-10-å®ç°-ï¼Œç±»ä¼¼setTimeout-func-0"><a href="#setImmediateï¼š-åœ¨æµè§ˆå™¨å®Œå…¨ç»“æŸå½“å‰è¿è¡Œçš„æ“ä½œä¹‹åç«‹å³æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°-ä»…IE10å’ŒNode0-10-å®ç°-ï¼Œç±»ä¼¼setTimeout-func-0" class="headerlink" title="setImmediateï¼š åœ¨æµè§ˆå™¨å®Œå…¨ç»“æŸå½“å‰è¿è¡Œçš„æ“ä½œä¹‹åç«‹å³æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°(ä»…IE10å’ŒNode0.10+å®ç°)ï¼Œç±»ä¼¼setTimeout(func, 0)"></a>setImmediateï¼š åœ¨æµè§ˆå™¨å®Œå…¨ç»“æŸå½“å‰è¿è¡Œçš„æ“ä½œä¹‹åç«‹å³æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°(ä»…IE10å’ŒNode0.10+å®ç°)ï¼Œç±»ä¼¼setTimeout(func, 0)</h2><p>setImmediateè®¾è®¡æ¥æ˜¯ä¸ºä¿è¯è®©ä»£ç åœ¨ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯æ‰§è¡Œï¼Œä»¥å‰setTimeout(0)è¿™ç§ä¸å¯é çš„æ–¹å¼å¯ä»¥ä¸¢æ‰äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> immediateId = setImmediate(func[, param1, param2, ...]);</span><br><span class="line"><span class="keyword">var</span> immediateId = setImmediate(func);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">testSetImmediate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> label = <span class="string">&#x27;setImmediate&#x27;</span>;</span><br><span class="line">    <span class="built_in">console</span>.time(label);</span><br><span class="line"></span><br><span class="line">    setImmediate(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.timeEnd(label);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><ul><li>immediateId: å®šæ—¶å™¨ID</li><li>func: å›è°ƒ</li></ul><h2 id="requestAnimationFrame-å¸§åŠ¨ç”»çš„API-æ ¹æ®æµè§ˆå™¨çš„åˆ·æ–°é¢‘ç‡è€Œå®š"><a href="#requestAnimationFrame-å¸§åŠ¨ç”»çš„API-æ ¹æ®æµè§ˆå™¨çš„åˆ·æ–°é¢‘ç‡è€Œå®š" class="headerlink" title="requestAnimationFrame: å¸§åŠ¨ç”»çš„API,æ ¹æ®æµè§ˆå™¨çš„åˆ·æ–°é¢‘ç‡è€Œå®š"></a>requestAnimationFrame: å¸§åŠ¨ç”»çš„API,æ ¹æ®æµè§ˆå™¨çš„åˆ·æ–°é¢‘ç‡è€Œå®š</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> requestId = <span class="built_in">window</span>.requestAnimationFrame(func);</span><br></pre></td></tr></table></figure><ul><li>func: å›è°ƒ</li></ul><h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p>es6ä¸­çš„å¼‚æ­¥æ¨¡å‹ã€‚åœ¨setTimeout(0), setImmediate,requestAnimationFrameå’ŒPromiseä¸­ï¼ŒPromiseä¼˜å…ˆçº§æœ€é«˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testSetImmediate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> label = <span class="string">&#x27;setImmediate&#x27;</span>;</span><br><span class="line">    <span class="built_in">console</span>.time(label);</span><br><span class="line"></span><br><span class="line">    setImmediate(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.timeEnd(label);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testPromise</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> label = <span class="string">&#x27;Promise&#x27;</span>;</span><br><span class="line">    <span class="built_in">console</span>.time(label);</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.timeEnd(label);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testSetImmediate();</span><br><span class="line">testPromise();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å°½ç®¡setImmediated å…ˆæ³¨å†Œï¼ŒPromiseå…ˆæ‰§è¡Œ</p><h2 id="process-nextTick"><a href="#process-nextTick" class="headerlink" title="process.nextTick"></a>process.nextTick</h2><p>æ˜¯Nodejsä¸­çš„APIï¼Œæ¯”Promiseæ›´æ—©æ‰§è¡Œ</p><blockquote><p>äº‹å®ä¸Šï¼ŒPromiseä¸ä¼šè¿›å…¥å¼‚æ­¥é˜Ÿåˆ—ï¼Œè€Œæ˜¯ç›´æ¥åœ¨ä¸»çº¿ç¨‹é˜Ÿåˆ—å°¾å¼ºæ’ä¸€ä¸ªä»»åŠ¡ï¼Œè™½ç„¶ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œä½†ä¼šé˜»å¡å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œã€‚å¦‚æœæœ‰åµŒå¥—çš„process.nextTickï¼Œé‚£å¼‚æ­¥ä»»åŠ¡å°±æ°¸è¿œæ²¡æœºä¼šè¢«æ‰§è¡Œåˆ°äº†ã€‚<br>ä½¿ç”¨çš„æ—¶å€™è¦è°¨æ…ã€‚ä½†Vueä¸­çš„nextTickæ˜¯è¿™ä¸ªå®ç°çš„å—ï¼Ÿï¼Ÿï¼Ÿ</p></blockquote><h2 id="äºŒã€-show-me-the-code"><a href="#äºŒã€-show-me-the-code" class="headerlink" title="äºŒã€ show me the code"></a>äºŒã€ show me the code</h2><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> intervalId, timeoutId;</span><br><span class="line">timeoutId = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;, <span class="number">300</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">clearTimeout</span>(timeoutId);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="string">&#x27;console.log(5)&#x27;</span>, <span class="number">400</span>);</span><br><span class="line"></span><br><span class="line">intervalId = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">clearInterval</span>(intervalId);</span><br><span class="line">&#125;, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†åˆ«è¾“å‡º2,4,5</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="setInterval-å’ŒsetTimeout-çš„åŒºåˆ«"><a href="#setInterval-å’ŒsetTimeout-çš„åŒºåˆ«" class="headerlink" title="setInterval å’ŒsetTimeout çš„åŒºåˆ«"></a>setInterval å’ŒsetTimeout çš„åŒºåˆ«</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&#x27;timeout&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;interval&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºä¸€æ¬¡timeoutï¼Œæ¯éš”1sè¾“å‡ºä¸€æ¬¡interval</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*****-------------------***/</span></span><br><span class="line"><span class="comment">//é€šè¿‡setTimeoutæ¨¡æ‹ŸsetIntervalå’ŒsetIntervalçš„åŒºåˆ«</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> callback = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (times++ &gt; max) &#123;</span><br><span class="line">       <span class="built_in">clearTimeout</span>(timeoutId);</span><br><span class="line">       <span class="built_in">clearInterval</span>(intervalId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;start&#x27;</span>, <span class="built_in">Date</span>.now() - start);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt; <span class="number">990000000</span>; i++)&#123;&#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;end&#x27;</span>, <span class="built_in">Date</span>.now() - start);</span><br><span class="line">&#125;,</span><br><span class="line">delay = <span class="number">100</span>,</span><br><span class="line">times = <span class="number">0</span>,</span><br><span class="line">max = <span class="number">5</span>,</span><br><span class="line">start = <span class="built_in">Date</span>.now(),</span><br><span class="line">intervalId,</span><br><span class="line">timeoutId;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">imitateInterval</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">    timeoutId = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        fn();</span><br><span class="line">        <span class="keyword">if</span>(times &lt;= max) &#123;</span><br><span class="line">            imitateInterval(fn, delay);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, delay);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">imitateInterval(callback, delay);</span><br><span class="line">intervalId = <span class="built_in">setInterval</span>(callback, delay);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>setTimeout å’ŒsetInterval ä»…åœ¨æ‰§è¡Œæ¬¡æ•°ä¸Šæœ‰åŒºåˆ«ï¼šsetTimeoutåªæ‰§è¡Œä¸€æ¬¡ï¼ŒsetIntervalæ‰§è¡Œnæ¬¡ã€‚</p></li><li><p>é€šè¿‡setTimeoutæ¨¡æ‹Ÿçš„setIntervalä¸setIntervalçš„åŒºåˆ«åœ¨äºï¼š<br>  <strong>setTimeoutåªåœ¨å›è°ƒå®Œæˆä¹‹åæ‰å›å»è°ƒç”¨ä¸‹ä¸€æ¬¡å®šæ—¶å™¨</strong>ï¼Œ<br>  è€ŒsetIntervalä¸ç®¡å›è°ƒå‡½æ•°æ‰§è¡Œæƒ…å†µï¼Œ<strong>åˆ°è¾¾è§„å®šæ—¶é—´å°±ä¼šåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­æ’å…¥ä¸€ä¸ªæ‰§è¡Œå›è°ƒçš„äº‹ä»¶</strong>ï¼Œæ‰€ä»¥ï¼Œç”¨setIntervalæ—¶è¦è°¨æ…ï¼Œæ¯”å¦‚å‘é€è¯·æ±‚å¤±è´¥ï¼Œä¼šé€ æˆæ­»é“¾å †ç§¯ã€‚</p></li></ul><h2 id="show-me-what-you-can-do"><a href="#show-me-what-you-can-do" class="headerlink" title="show me what you can do"></a>show me what you can do</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¢˜ç›®1</span></span><br><span class="line"><span class="keyword">var</span> t = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    t = <span class="literal">false</span>;</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(t)&#123;&#125;</span><br><span class="line"></span><br><span class="line">alert(<span class="string">&#x27;end&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**----------------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢˜ç›®2</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**----------------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢˜ç›®3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    msg: <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">    shout: <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="built_in">this</span>.msg);</span><br><span class="line">    &#125;,</span><br><span class="line">    waitAndShout: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.shout();</span><br><span class="line">        &#125;, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.waitAndShout();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="The-truth"><a href="#The-truth" class="headerlink" title="The truth"></a>The truth</h2><ul><li>ç¬¬ä¸€é¢˜ï¼š</li></ul><blockquote><p>alertæ°¸è¿œä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºjsæ˜¯å•çº¿ç¨‹ï¼Œä¸”å®šæ—¶å™¨çš„å›è°ƒåœ¨ç­‰å¾…å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡å®Œæˆåæ‰æ‰§è¡Œï¼Œ<br>è€Œwhile(true){}è¿›å…¥æ­»å¾ªç¯ä¸€ç›´å ç”¨çº¿ç¨‹ï¼Œä¸ç»™å›è°ƒå‡½æ•°æ‰§è¡Œæœºä¼š</p></blockquote><ul><li>ç¬¬äºŒé¢˜</li></ul><blockquote><p>è¾“å‡º55555. å½“i=0æ—¶ï¼Œç”Ÿæˆä¸€ä¸ªå®šæ—¶å™¨ï¼Œå°†å›è°ƒæ’å…¥äº‹ä»¶é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…å½“å‰é˜Ÿåˆ—æ— ä»»åŠ¡æ‰§è¡Œå†æ‰§è¡Œã€‚æ­¤æ—¶forå¾ªç¯æ­£åœ¨æ‰§è¡Œï¼Œå›è°ƒè¢«æç½®ã€‚å½“forå¾ªç¯æ‰§è¡Œå®Œæˆåï¼Œé˜Ÿåˆ—ä¸­æœ‰5ä¸ªå›è°ƒå‡½æ•°ï¼Œéƒ½æ‰§è¡Œconsole.log(i),å› ä¸ºå½“å‰jsæ²¡æœ‰ä½¿ç”¨å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥içš„å€¼åœ¨forå¾ªç¯ç»“æŸåä¸€ç›´ä¸º5ï¼Œè¾“å‡º5ä¸ª5.</p></blockquote><ul><li>ç¬¬ä¸‰é¢˜</li></ul><blockquote><p>æŠ¥é”™ï¼šUncaught TypeError: this.shout is not a function<br>setTimeout()è°ƒç”¨çš„ä»£ç è¿è¡Œåœ¨ä¸æ‰€åœ¨å‡½æ•°å®Œå…¨åˆ†ç¦»çš„æ‰§è¡Œç¯å¢ƒä¸Šï¼Œå¯¼è‡´ä»£ç ä¸­çš„thisæŒ‡å‘window(æˆ–å…¨å±€)å¯¹è±¡ï¼Œwindowå¯¹è±¡ä¸å­˜åœ¨shoutæ–¹æ³•ï¼Œæ‰€ä»¥æŠ¥é”™ã€‚</p></blockquote><p>ä¿®æ”¹æ–¹æ¡ˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    msg: <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">    shout: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="built_in">this</span>.msg);</span><br><span class="line">    &#125;,</span><br><span class="line">    waitAndShout: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> self = <span class="built_in">this</span>; <span class="comment">// è¿™é‡Œå°†thisèµ‹ç»™ä¸€ä¸ªå˜é‡</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            self.shout();</span><br><span class="line">        &#125;, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.waitAndShout();</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="éœ€è¦æ³¨æ„"><a href="#éœ€è¦æ³¨æ„" class="headerlink" title="éœ€è¦æ³¨æ„"></a>éœ€è¦æ³¨æ„</h2><ul><li>JSå¼•æ“åŸºäºäº‹ä»¶å¾ªç¯ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¼šå¼ºåˆ¶å¼‚æ­¥äº‹ä»¶æ’é˜Ÿæ‰§è¡Œ</li><li>å¦‚æœsetIntervalçš„å›è°ƒæ‰§è¡Œæ—¶é—´é•¿äºæŒ‡å®šçš„å»¶è¿Ÿï¼ŒsetIntervalå°†æ— é—´éš”çš„ä¸€ä¸ªæ¥ä¸€ä¸ªæ‰§è¡Œ</li><li>thisçš„æŒ‡å‘é—®é¢˜å¯ä»¥é€šè¿‡bindå‡½æ•°ï¼Œå®šä¹‰å˜é‡ï¼Œç®­å¤´å‡½æ•°çš„æ–¹å¼è§£å†³ã€‚</li><li>å¤šä¸ªå®šæ—¶å™¨å¦‚ä¸åŠæ—¶æ¸…é™¤ï¼Œä¼šå­˜åœ¨å¹²æ‰°ï¼Œæ˜¯å»¶è¿Ÿæ—¶é—´æ‰æ‘¸ä¸é€ã€‚æ‰€ä»¥ä¸ç®¡å®šæ—¶å™¨æœ‰æ²¡æœ‰æ‰§è¡Œå®Œï¼ŒåŠæ—¶æ¸…é™¤å·²ç»ä¸éœ€è¦çš„å®šæ—¶å™¨æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚</li><li>å¦‚æœsetTimeoutå’ŒsetIntervaléƒ½åœ¨å»¶è¿Ÿ100msä¹‹åæ‰§è¡Œï¼Œé‚£ä¹ˆè°å…ˆæ³¨å†Œè°å°±å…ˆæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚</li></ul><p><a href="http://www.alloyteam.com/2016/05/javascript-timer/">JavaScriptå®šæ—¶å™¨ä¸æ‰§è¡Œæœºåˆ¶è§£æ</a><br><a href="http://ssh.today/blog/something-about-js-timer">å‚è€ƒ</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> å®šæ—¶å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React Nativeå…¥é—¨</title>
      <link href="posts/React%20Native%E5%85%A5%E9%97%A8/"/>
      <url>posts/React%20Native%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼€å‘ç¯å¢ƒæ­å»º"><a href="#å¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="å¼€å‘ç¯å¢ƒæ­å»º"></a>å¼€å‘ç¯å¢ƒæ­å»º</h2><ul><li>Android studio</li><li>python2</li><li>java sdk å¹¶é…ç½®javaç¯å¢ƒå˜é‡</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g react-native</span><br><span class="line">npm install -g react-native-cli</span><br></pre></td></tr></table></figure><!---more---><h2 id="å¯åŠ¨è™šæ‹Ÿå™¨"><a href="#å¯åŠ¨è™šæ‹Ÿå™¨" class="headerlink" title="å¯åŠ¨è™šæ‹Ÿå™¨"></a>å¯åŠ¨è™šæ‹Ÿå™¨</h2><p>avd æ˜¯ç°è‰² æ— æ³•ç‚¹å‡»<br>é…ç½®AndroidSDK toolsåˆ°pathå˜é‡<br>åˆ é™¤.androidæ–‡ä»¶ï¼Œé‡æ–°å¯¼å…¥ï¼Œå³å¯</p><h2 id="å¦‚æœæ‰“åŒ…å¤±è´¥æŠ¥é”™"><a href="#å¦‚æœæ‰“åŒ…å¤±è´¥æŠ¥é”™" class="headerlink" title="å¦‚æœæ‰“åŒ…å¤±è´¥æŠ¥é”™"></a>å¦‚æœæ‰“åŒ…å¤±è´¥æŠ¥é”™</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Error</span>:Execution failed <span class="keyword">for</span> task <span class="string">&#x27;:app:transformClassesWithInstantRunForAcproductionDebug&#x27;</span>.</span><br><span class="line">&gt; Invalid signature file digest <span class="keyword">for</span> Manifest main attributes</span><br></pre></td></tr></table></figure><p>åœ¨android studioä¸­çš„settingsæœinstant runï¼Œå°†enable instant run to hot swapå…³é—­ï¼Œå–æ¶ˆé€‰ä¸­ã€‚</p><h2 id="è°ƒè¯•js"><a href="#è°ƒè¯•js" class="headerlink" title="è°ƒè¯•js"></a>è°ƒè¯•js</h2><p>æ‰“å¼€æ¨¡æ‹Ÿå™¨åï¼ŒæŒ‰Ctrl+M,ï¼ˆiosæŒ‰ctrl+Dï¼‰</p><p>é€‰æ‹©debug remote js.</p><p>æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªçª—å£ï¼Œåœ¨é‚£ä¸ªçª—å£ä¸­æŒ‰ctrl+shift+J ï¼Œåœ¨consoleçª—å£ä¼šçœ‹åˆ°æ‰“å°å‡ºæ¥çš„ä¿¡æ¯ã€‚</p><p>é€‰æ‹© Enable Hot Reloading,å¯ä»¥å¼€å¯çƒ­åŠ è½½</p><p>æŒ‰(r,r) åˆ·æ–°ï¼Œï¼ˆiosæŒ‰command+rï¼‰</p><h2 id="å¦‚æœandroidæ¨¡æ‹Ÿå™¨æ— æ³•è¿æ¥æœ¬åœ°æœåŠ¡"><a href="#å¦‚æœandroidæ¨¡æ‹Ÿå™¨æ— æ³•è¿æ¥æœ¬åœ°æœåŠ¡" class="headerlink" title="å¦‚æœandroidæ¨¡æ‹Ÿå™¨æ— æ³•è¿æ¥æœ¬åœ°æœåŠ¡"></a>å¦‚æœandroidæ¨¡æ‹Ÿå™¨æ— æ³•è¿æ¥æœ¬åœ°æœåŠ¡</h2><p>æŒ‰ctrl+ M dev Setting</p><p>Debug server host &amp; port for device</p><p>è®¾ç½®IP:8081</p><h2 id="è”è°ƒç¡¬ä»¶"><a href="#è”è°ƒç¡¬ä»¶" class="headerlink" title="è”è°ƒç¡¬ä»¶"></a>è”è°ƒç¡¬ä»¶</h2><ol><li>å…ˆè¦ç»™è®¾å¤‡é…ç½‘(æŒ‰ä¸­é—´çš„æŒ‰é’® 5s)</li><li>ç„¶åç»‘å®šè®¾å¤‡</li></ol><h2 id="react-native-ç»‘å®šäº‹ä»¶"><a href="#react-native-ç»‘å®šäº‹ä»¶" class="headerlink" title="react native ç»‘å®šäº‹ä»¶"></a>react native ç»‘å®šäº‹ä»¶</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">onPressSwitch</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;changed&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> status =  <span class="built_in">this</span>.props.powerStatus</span><br><span class="line">    status == <span class="string">&#x27;off&#x27;</span> ? status = <span class="string">&#x27;on&#x27;</span> : status = <span class="string">&#x27;off&#x27;</span></span><br><span class="line">     <span class="built_in">this</span>.props.callbackPowerChanged(status)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;!--ä¹‹å‰çš„ç»‘å®šäº‹ä»¶æ˜¯è¦ç”¨bindçš„ --&gt;</span><br><span class="line"></span><br><span class="line"> &lt;TouchableOpacity onPress=&#123;<span class="built_in">this</span>.onPressSwitch.bind(<span class="built_in">this</span>)&#125;&gt;</span><br><span class="line">        &lt;Image  source=&#123;<span class="built_in">require</span>(<span class="string">&#x27;../../assets/light-close.png&#x27;</span>)&#125;/&gt;</span><br><span class="line">        &lt;Text style=&#123;styles.switchInfo&#125;&gt;è½»è§¦å¼€å¯&lt;/Text&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br></pre></td></tr></table></figure><p>ç”¨es6çš„ç®­å¤´å‡½æ•°ä¹‹åï¼Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--è¿™é‡Œæ˜¯ç®­å¤´å‡½æ•°--&gt;</span><br><span class="line">onPressSwitch = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;changed&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> status =  <span class="built_in">this</span>.props.powerStatus</span><br><span class="line">    status == <span class="string">&#x27;off&#x27;</span> ? status = <span class="string">&#x27;on&#x27;</span> : status = <span class="string">&#x27;off&#x27;</span></span><br><span class="line">     <span class="built_in">this</span>.props.callbackPowerChanged(status)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ç”¨æ–°çš„ç»‘å®š ï¼Œä¸è¦bind ï¼Œ==[æ­£ç¡®çš„å†™æ³•]==</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> &lt;TouchableOpacity onPress=&#123;<span class="built_in">this</span>.onPressSwitch&#125;&gt;</span><br><span class="line">        &lt;Image  source=&#123;<span class="built_in">require</span>(<span class="string">&#x27;../../assets/light-close.png&#x27;</span>)&#125;/&gt;</span><br><span class="line">        &lt;Text style=&#123;styles.switchInfo&#125;&gt;è½»è§¦å¼€å¯&lt;/Text&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br></pre></td></tr></table></figure><p>éœ€è¦ä¼ å‚çš„å†™æ³• ==[ä¼ å‚çš„å†™æ³•]==</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;TouchableOpacity onPress=&#123;<span class="function">() =&gt;</span> <span class="built_in">this</span>.onPressSwitch(item)&#125;&gt;</span><br><span class="line">    &lt;Image  source=&#123;getPicture(<span class="string">&#x27;switch-&#x27;</span>+item.status)&#125;/&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸ä¼ å‚çš„è¯ï¼Œä¸èƒ½å†™ä¸ºç©ºå¦‚ä¸‹ï¼š  ==[é”™è¯¯çš„å†™æ³•]==</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;TouchableOpacity onPress=&#123;<span class="function">() =&gt;</span> <span class="built_in">this</span>.onPressSwitch&#125;&gt;</span><br><span class="line">    &lt;Image  source=&#123;getPicture(<span class="string">&#x27;switch-&#x27;</span>+item.status)&#125;/&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¼šæ— æ³•è¿›å…¥ç‚¹å‡»äº‹ä»¶ï¼ï¼ï¼ï¼ï¼</p><p>è§£å†³åŠæ³•å°±æ˜¯ä¸ç”¨() =&gt; {}</p><p>æ”¹ç”¨[æ­£ç¡®çš„å†™æ³•]</p><h2 id="setState-è¯­æ³•"><a href="#setState-è¯­æ³•" class="headerlink" title="setState è¯­æ³•"></a>setState è¯­æ³•</h2><p>setStateæ‹¬å·é‡Œå¿…é¡»æ˜¯ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯ä¼šæŠ¥é”™ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.setState(&#123;<span class="string">&#x27;item&#x27;</span>: newItem&#125;)</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ä¿¡æ¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setState(...): takes an object <span class="keyword">of</span> state variables to update or a <span class="function"><span class="keyword">function</span> <span class="title">which</span> <span class="title">returns</span> <span class="title">an</span> <span class="title">object</span> <span class="title">of</span> <span class="title">state</span> <span class="title">variables</span>.</span></span><br></pre></td></tr></table></figure><h2 id="çˆ¶ä¸å­ç»„ä»¶ä¼ å€¼"><a href="#çˆ¶ä¸å­ç»„ä»¶ä¼ å€¼" class="headerlink" title="çˆ¶ä¸å­ç»„ä»¶ä¼ å€¼"></a>çˆ¶ä¸å­ç»„ä»¶ä¼ å€¼</h2><p>åœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰propsã€‚é€šè¿‡propsä¼ å…¥å­ç»„ä»¶ä¸­ã€‚</p><h3 id="çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶"><a href="#çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶" class="headerlink" title="çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶"></a>çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶</h3><p>çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;ControlArea powerStatus=&#123;<span class="built_in">this</span>.state.powerStatus&#125; callbackPowerChanged=&#123;<span class="built_in">this</span>.changePowerStatus.bind(<span class="built_in">this</span>)&#125;&gt;&lt;/ControlArea&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å…¶ä¸­powerSatatusæ˜¯propsï¼ŒcallbackPowerChangedæ˜¯ä¾›å­ç»„ä»¶è°ƒç”¨çš„æ–¹æ³•ã€‚<br>changePowerStatusæ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­ä¾›å­ç»„ä»¶è°ƒç”¨æ—¶æ‰§è¡Œçš„æ–¹æ³•ã€‚</p><h3 id="å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶"><a href="#å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶" class="headerlink" title="å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶"></a>å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶</h3><p>å­ç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">onPressSwitch = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&#x27;changed&#x27;</span>)</span><br><span class="line">   <span class="keyword">let</span> status =  <span class="built_in">this</span>.props.powerStatus</span><br><span class="line">   status == <span class="string">&#x27;off&#x27;</span> ? status = <span class="string">&#x27;on&#x27;</span> : status = <span class="string">&#x27;off&#x27;</span></span><br><span class="line"></span><br><span class="line">&lt;!--è¿™ä¸ªæ˜¯è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ã€‚æŠŠä¿®æ”¹åçš„çŠ¶æ€å€¼ä¼ ç»™çˆ¶ç»„ä»¶ï¼Œä¾›çˆ¶ç»„ä»¶ä¿®æ”¹çŠ¶æ€ï¼Œçˆ¶ç»„ä»¶ä¿®æ”¹çŠ¶æ€åï¼Œå­ç»„ä»¶ä¼šè‡ªåŠ¨æ ¹æ®çŠ¶æ€å€¼æ›´æ–°é¡µé¢ã€‚--&gt;</span><br><span class="line">    <span class="built_in">this</span>.props.callbackPowerChanged(status)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><p>æœ‰äº›æ•°æ®æ—¢å¯ä»¥æ”¾åœ¨prosï¼Œåˆå¯ä»¥æ”¾åœ¨stateä¸­ï¼Œé‚£ä¹ˆå»ºè®®ä¸è¦æ”¾åœ¨stateä¸­ï¼Œ</p><p>å­ç»„ä»¶ä¿®æ”¹propséœ€è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œä½“ç°äº†ä»ä¸Šè‡³ä¸‹çš„æ•°æ®æµ</p><h2 id="æ ¹æ®æ•°ç»„ï¼Œå¾ªç¯ç”Ÿæˆdom"><a href="#æ ¹æ®æ•°ç»„ï¼Œå¾ªç¯ç”Ÿæˆdom" class="headerlink" title="æ ¹æ®æ•°ç»„ï¼Œå¾ªç¯ç”Ÿæˆdom"></a>æ ¹æ®æ•°ç»„ï¼Œå¾ªç¯ç”Ÿæˆdom</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;View style=&#123;[styles.topCon]&#125;&gt;</span><br><span class="line">    &#123;<span class="built_in">this</span>.props.dataList.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> (</span><br><span class="line">        &lt;TouchableOpacity key=&#123;index&#125; onPress=&#123;<span class="function">() =&gt;</span> <span class="built_in">this</span>.onPressSwitch(item)&#125;&gt;</span><br><span class="line">            &lt;Image  source=&#123;getPicture(<span class="string">&#x27;switch-&#x27;</span>+item.status)&#125;/&gt;</span><br><span class="line">            &lt;Text style=&#123;styles.itemText&#125;&gt;&#123;item.name&#125;&gt;&lt;/Text&gt;</span><br><span class="line">        &lt;/TouchableOpacity&gt;</span><br><span class="line">    ))&#125;</span><br><span class="line">&lt;/View&gt;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ul><li><p>this.props.dataListæ˜¯çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çš„æ•°æ®ã€‚</p></li><li><p>å¾ªç¯æ•°æ®ç”¨çš„map</p></li><li><p>ä¸€å®šè¦æœ‰keyé”®å€¼ï¼Œå¦åˆ™æŠ¥é”™</p></li><li><p>æ³¨æ„ç»‘å®šäº‹ä»¶çš„å†™æ³•ï¼Œä¼šå°†å½“å‰å¾ªç¯çš„å…ƒç´ ä¼ ç»™äº‹ä»¶ã€‚æ³¨æ„ç®­å¤´å‡½æ•°å†™æ³•ã€‚</p></li></ul><h2 id="è·¯ç”±è·³è½¬"><a href="#è·¯ç”±è·³è½¬" class="headerlink" title="è·¯ç”±è·³è½¬"></a>è·¯ç”±è·³è½¬</h2><p>ä½¿ç”¨çš„æ˜¯v0.50,å®˜æ–¹æ¨èä½¿ç”¨React Navigation</p><p>å¦‚æœä¹‹å‰ç”¨çš„æ˜¯å…¶ä»–è·¯ç”±ï¼Œæ²¡æœ‰åŠæ³•ï¼Œåªèƒ½å…¨éƒ¨æ¢æˆè¿™ä¸ªäº†ã€‚</p><h3 id="ç»éªŒ"><a href="#ç»éªŒ" class="headerlink" title="ç»éªŒ"></a>ç»éªŒ</h3><p>å¦‚æœä¸€æ—¶åŠä¼šçœ‹ä¸æ˜ç™½çš„è¯ï¼Œå¯ä»¥å…ˆç…§ç€å®˜ç½‘å’Œå…¶ä»–äººçš„ç¤ºä¾‹å…ˆåšä¸€ä¸ªç®€å•çš„å‡ºæ¥ï¼Œç„¶åç…§ç€æ”¹é¡¹ç›®é‡Œçš„ä»£ç ã€‚</p><h4 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h4><h4 id="1-åˆå§‹åŒ–å¯¼èˆªåï¼Œéœ€è¦ç»™åˆå§‹çš„ç»„ä»¶ä¼ å€¼"><a href="#1-åˆå§‹åŒ–å¯¼èˆªåï¼Œéœ€è¦ç»™åˆå§‹çš„ç»„ä»¶ä¼ å€¼" class="headerlink" title="1. åˆå§‹åŒ–å¯¼èˆªåï¼Œéœ€è¦ç»™åˆå§‹çš„ç»„ä»¶ä¼ å€¼"></a>1. åˆå§‹åŒ–å¯¼èˆªåï¼Œéœ€è¦ç»™åˆå§‹çš„ç»„ä»¶ä¼ å€¼</h4><p>çœ‹æ–‡æ¡£å¥½ä¸å®¹æ˜“æ‰¾åˆ°äº†screenProps.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;SimpleApp</span><br><span class="line">  screenProps=&#123;&#123;<span class="attr">tintColor</span>: <span class="string">&#x27;blue&#x27;</span>&#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><p>åœ¨ç»„ä»¶å†…å–å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.state = &#123;</span><br><span class="line">    <span class="comment">// deviceInfo: JSON.parse(this.props.deviceInfoStr), å…¶ä»–è·¯ç”±çš„å–å€¼</span></span><br><span class="line">    pageConfig: <span class="built_in">JSON</span>.parse(<span class="built_in">this</span>.props.screenProps.pageConfigStr),</span><br><span class="line">    deviceInfo: <span class="built_in">JSON</span>.parse(<span class="built_in">this</span>.props.screenProps.deviceInfoStr),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-è·¯ç”±è·³è½¬"><a href="#2-è·¯ç”±è·³è½¬" class="headerlink" title="2. è·¯ç”±è·³è½¬"></a>2. è·¯ç”±è·³è½¬</h4><p>ç›®å‰æµ‹è¯•åªèƒ½è¿™æ ·å†™ï¼Œå°†navigateæå–å‡ºæ¥å¥½åƒä¸å¯ä»¥ã€‚ä»¥åéœ€åšæµ‹è¯•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; navigate &#125; = <span class="built_in">this</span>.props.navigation;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;View&gt;</span><br><span class="line">        &lt;Text&gt;Hello, Chat App!&lt;/Text&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            onPress=&#123;<span class="function">() =&gt;</span> navigate(<span class="string">&#x27;Chat&#x27;</span>)&#125;</span><br><span class="line">            title=<span class="string">&quot;Chat with Lucy&quot;</span></span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-å¯¼èˆªè·³è½¬åˆ°çš„ç»„ä»¶æ˜¯çˆ¶é¡µé¢ï¼Œ-è€Œå­é¡µé¢ä¸­æƒ³ç”¨å¯¼èˆªçš„navigationï¼Œæ­¤æ—¶æ˜¯æ— æ³•ç”¨çš„ï¼Œ-éœ€è¦åœ¨çˆ¶ç»„ä»¶ä¸­å°†navigationä¼ ç»™å­ç»„ä»¶ï¼Œè¿™æ ·ï¼Œå­ç»„ä»¶å°±å¯ä»¥ç”¨çˆ¶ç»„ä»¶çš„navigation"><a href="#3-å¯¼èˆªè·³è½¬åˆ°çš„ç»„ä»¶æ˜¯çˆ¶é¡µé¢ï¼Œ-è€Œå­é¡µé¢ä¸­æƒ³ç”¨å¯¼èˆªçš„navigationï¼Œæ­¤æ—¶æ˜¯æ— æ³•ç”¨çš„ï¼Œ-éœ€è¦åœ¨çˆ¶ç»„ä»¶ä¸­å°†navigationä¼ ç»™å­ç»„ä»¶ï¼Œè¿™æ ·ï¼Œå­ç»„ä»¶å°±å¯ä»¥ç”¨çˆ¶ç»„ä»¶çš„navigation" class="headerlink" title="3. å¯¼èˆªè·³è½¬åˆ°çš„ç»„ä»¶æ˜¯çˆ¶é¡µé¢ï¼Œ è€Œå­é¡µé¢ä¸­æƒ³ç”¨å¯¼èˆªçš„navigationï¼Œæ­¤æ—¶æ˜¯æ— æ³•ç”¨çš„ï¼Œ    éœ€è¦åœ¨çˆ¶ç»„ä»¶ä¸­å°†navigationä¼ ç»™å­ç»„ä»¶ï¼Œè¿™æ ·ï¼Œå­ç»„ä»¶å°±å¯ä»¥ç”¨çˆ¶ç»„ä»¶çš„navigation"></a>3. å¯¼èˆªè·³è½¬åˆ°çš„ç»„ä»¶æ˜¯çˆ¶é¡µé¢ï¼Œ è€Œå­é¡µé¢ä¸­æƒ³ç”¨å¯¼èˆªçš„navigationï¼Œæ­¤æ—¶æ˜¯æ— æ³•ç”¨çš„ï¼Œ    éœ€è¦åœ¨çˆ¶ç»„ä»¶ä¸­å°†navigationä¼ ç»™å­ç»„ä»¶ï¼Œè¿™æ ·ï¼Œå­ç»„ä»¶å°±å¯ä»¥ç”¨çˆ¶ç»„ä»¶çš„navigation</h4><p>çˆ¶ç»„ä»¶ä¸­è°ƒç”¨å­ç»„ä»¶ï¼Œå¹¶æŠŠnavigationä¼ ç»™å­ç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Content pageConfig=&#123;<span class="built_in">this</span>.state.pageConfig&#125;</span><br><span class="line">    navigation = &#123;<span class="built_in">this</span>.state.navigation&#125;</span><br><span class="line">    callbackPowerChanged=&#123;<span class="built_in">this</span>.changePowerStatus.bind(<span class="built_in">this</span>)&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><p>åœ¨å­ç»„ä»¶ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; navigate &#125; = <span class="built_in">this</span>.props.navigation</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;View style=&#123;[styles.container]&#125;&gt;</span><br><span class="line">            &lt;TouchableOpacity onPress=&#123;<span class="function">() =&gt;</span>&#123; <span class="built_in">console</span>.log(<span class="built_in">this</span>.props, <span class="string">&#x27;click&#x27;</span>); navigate(<span class="string">&#x27;Detail&#x27;</span>, &#123;<span class="attr">info</span>: <span class="string">&#x27;è¿™æ˜¯ä¼ å…¥çš„å‚æ•°&#x27;</span>&#125;)&#125;&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.itemText&#125;&gt;å•Šå•Š&lt;/Text&gt;</span><br><span class="line">            &lt;/TouchableOpacity&gt;</span><br><span class="line">        &lt;/View&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-è¿”å›ä¸Šä¸€çº§"><a href="#4-è¿”å›ä¸Šä¸€çº§" class="headerlink" title="4. è¿”å›ä¸Šä¸€çº§"></a>4. è¿”å›ä¸Šä¸€çº§</h4><p>æ³¨æ„ï¼Œç”¨ä¹‹å‰ç¡®ä¿æœ‰navigationè¿™ä¸ªå±æ€§ï¼Œæ²¡æœ‰çš„è¯çœ‹ä¸Šé¢çš„ä¾‹å­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">goBack = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.props.navigation.goBack()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨æŒ‰é’®ä¸ŠåŠ äº‹ä»¶</span></span><br><span class="line">onPress=&#123;<span class="built_in">this</span>.goBack&#125;</span><br></pre></td></tr></table></figure><h2 id="3-æ— å…³ç»„ä»¶é—´ä¼ å€¼"><a href="#3-æ— å…³ç»„ä»¶é—´ä¼ å€¼" class="headerlink" title="3.æ— å…³ç»„ä»¶é—´ä¼ å€¼"></a>3.æ— å…³ç»„ä»¶é—´ä¼ å€¼</h2><p>å®˜æ–¹æ–‡æ¡£åªæ‰¾åˆ°è¿™å¥è¯ï¼š</p><p>JavaScriptæ¨¡å—å¯ä»¥é€šè¿‡ä½¿ç”¨DeviceEventEmitteræ¨¡å—æ¥ç›‘å¬äº‹ä»¶ï¼š</p><ol><li><p>å¼•ç”¨</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; View, DeviceEventEmitter &#125; <span class="keyword">from</span> <span class="string">&#x27;react-native&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>ç›‘å¬äº‹ä»¶</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.subSwitchEmitter = DeviceEventEmitter.addListener(<span class="string">&#x27;subSwitch&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.changePowerStatus(e.item)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// ä¿®æ”¹å­é¡µé¢åç§°ç”¨</span></span><br><span class="line">    <span class="built_in">this</span>.modifyItemEmitter = DeviceEventEmitter.addListener(<span class="string">&#x27;modifyItemProp&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.modifyItemProp(e.item)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è§¦å‘ç›‘å¬äº‹ä»¶ï¼Œå‘å‡ºé€šçŸ¥</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DeviceEventEmitter.emit(<span class="string">&#x27;subSwitch&#x27;</span>, &#123;<span class="attr">item</span>: <span class="built_in">this</span>.state.item&#125;);</span><br></pre></td></tr></table></figure></li><li><p>ç§»é™¤ç›‘å¬</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="title">componentWillUnmount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ç§»é™¤æ‰€æœ‰çš„äº‹ä»¶</span></span><br><span class="line">    DeviceEventEmitter.remove();</span><br><span class="line">    <span class="comment">// å•ä¸ªç§»é™¤</span></span><br><span class="line">    <span class="built_in">this</span>.subSwitchEmitter.remove();</span><br><span class="line">    <span class="built_in">this</span>.modifyItemEmitter.remove();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="refçš„ä½¿ç”¨"><a href="#refçš„ä½¿ç”¨" class="headerlink" title="refçš„ä½¿ç”¨"></a>refçš„ä½¿ç”¨</h2><ol><li>çˆ¶ä¼ å­ï¼Œé€šè¿‡ref</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ref</span></span><br><span class="line">&lt;SonCompoent ref=<span class="string">&quot;son&quot;</span> /&gt;</span><br><span class="line"><span class="comment">// è·å–å­ç»„ä»¶ï¼Œæ‰§è¡ŒæŒ‡å®šæ–¹æ³•ï¼Œæ–¹æ³•å‚æ•°ä¸­ä¼ å€¼</span></span><br><span class="line"><span class="built_in">this</span>.refs.son.receiveMoney(<span class="number">1000</span>);</span><br></pre></td></tr></table></figure><p>Ref ä½¿ç”¨åœºæ™¯</p><ol><li>è§¦å‘ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©ï¼Œåª’ä½“æ’­æ”¾</li><li>è§¦å‘å¼ºåˆ¶æ€§åŠ¨ç”»</li><li>é›†æˆç¬¬ä¸‰æ–¹DOMåº“</li></ol><p>ç»™DOM æ·»åŠ Refs,</p><p><a href="https://www.jianshu.com/p/e5edfedc57a9">å‚è€ƒ</a></p><h2 id="å¼¹æ¡†"><a href="#å¼¹æ¡†" class="headerlink" title="å¼¹æ¡†"></a>å¼¹æ¡†</h2><p>ç”¨Modalç»„ä»¶</p><h2 id="macé…ç½®è¿æ¥windowsçš„æœåŠ¡"><a href="#macé…ç½®è¿æ¥windowsçš„æœåŠ¡" class="headerlink" title="macé…ç½®è¿æ¥windowsçš„æœåŠ¡"></a>macé…ç½®è¿æ¥windowsçš„æœåŠ¡</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">NSURL *jsCodeLocation;</span><br><span class="line"></span><br><span class="line">[[RCTBundleURLProvider sharedSettings] setDefaults];</span><br><span class="line">#if DEBUG</span><br><span class="line">[[RCTBundleURLProvider sharedSettings] setJsLocation:@&quot;192.168.1.101&quot;];</span><br><span class="line">#endif</span><br><span class="line">jsCodeLocation &#x3D; [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@&quot;index.ios&quot; fallbackResource:nil];</span><br></pre></td></tr></table></figure><h2 id="reactnative-æœ‰çš„æŒ‰é’®ç‚¹å‡»äº‹ä»¶æ— æ³•è§¦å‘"><a href="#reactnative-æœ‰çš„æŒ‰é’®ç‚¹å‡»äº‹ä»¶æ— æ³•è§¦å‘" class="headerlink" title="reactnative æœ‰çš„æŒ‰é’®ç‚¹å‡»äº‹ä»¶æ— æ³•è§¦å‘"></a>reactnative æœ‰çš„æŒ‰é’®ç‚¹å‡»äº‹ä»¶æ— æ³•è§¦å‘</h2><p>å¯èƒ½åŸå› æ˜¯å¸ƒå±€é—®é¢˜ï¼Œå…ˆç»™è¦ç‚¹å‡»çš„å…ƒç´ åŠ è¾¹æ¡†ï¼Œçœ‹æ‰€åœ¨ä½ç½®ï¼Œ</p><p>å†ç¡®è®¤æœ‰æ²¡æœ‰å…¶ä»–å…ƒç´ å ç”¨äº†ä»–çš„ä½ç½®ï¼Œé®æŒ¡åœ¨ä»–ä¸Šé¢äº†ï¼Œå¯¼è‡´æ— æ³•ç‚¹å‡»ã€‚</p><h2 id="iosè°ƒè¯•ä¸€ç›´æŠ¥æ— æ³•è¿æ¥package-serverï¼Œå…¶å®packageserverå·²ç»å¯åŠ¨"><a href="#iosè°ƒè¯•ä¸€ç›´æŠ¥æ— æ³•è¿æ¥package-serverï¼Œå…¶å®packageserverå·²ç»å¯åŠ¨" class="headerlink" title="iosè°ƒè¯•ä¸€ç›´æŠ¥æ— æ³•è¿æ¥package serverï¼Œå…¶å®packageserverå·²ç»å¯åŠ¨"></a><code>ios</code>è°ƒè¯•ä¸€ç›´æŠ¥æ— æ³•è¿æ¥<code>package server</code>ï¼Œå…¶å®packageserverå·²ç»å¯åŠ¨</h2><p>è§£å†³åŠæ³•ï¼š é‡æ–°å®‰è£…APP.</p><h2 id="setStateè®¾ç½®çŠ¶æ€åï¼Œç›´æ¥console-logè·å–åˆ°çš„è¿˜æ˜¯æ—§æ•°æ®"><a href="#setStateè®¾ç½®çŠ¶æ€åï¼Œç›´æ¥console-logè·å–åˆ°çš„è¿˜æ˜¯æ—§æ•°æ®" class="headerlink" title="setStateè®¾ç½®çŠ¶æ€åï¼Œç›´æ¥console.logè·å–åˆ°çš„è¿˜æ˜¯æ—§æ•°æ®"></a>setStateè®¾ç½®çŠ¶æ€åï¼Œç›´æ¥console.logè·å–åˆ°çš„è¿˜æ˜¯æ—§æ•°æ®</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.setState(&#123;<span class="attr">data</span>:data&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span>.state.data);</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•ï¼š</p><p>setstateåï¼Œè·å–çš„æ•°æ®è¿˜æ˜¯æ—§çš„<br>åŸå› ï¼š</p><p>1.setStateå¼‚æ­¥è°ƒç”¨<br>2. æ‰¹é‡å¤„ç† å¹¶ä¸æ˜¯è°ƒç”¨ä¸€æ¬¡å°±ä¼šæ›´æ–°ä¸€æ¬¡render</p><p>setStateä¹‹åï¼Œéœ€è¦èµ°å®ŒRNç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯èµ°åˆ°renderæ—¶ï¼Œstateçš„å€¼æ‰ä¼šå˜æˆsetStateçš„å€¼ï¼Œè¦ç«‹å³ä½¿ç”¨stateçš„å€¼ï¼Œéœ€è¦åœ¨å›è°ƒä¸­ä½¿ç”¨</p><p>æ­£ç¡®å†™æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.setState(state,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.state);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">this</span>.setState(&#123;<span class="string">&#x27;dataList&#x27;</span>: <span class="built_in">this</span>.state.lastStatus&#125;, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.dataList, <span class="string">&#x27;å›è°ƒ&#x27;</span>)</span><br><span class="line">    <span class="built_in">this</span>.changeBgColor();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ç¬¬äºŒç§åŠæ³•"><a href="#ç¬¬äºŒç§åŠæ³•" class="headerlink" title="ç¬¬äºŒç§åŠæ³•"></a>ç¬¬äºŒç§åŠæ³•</h3><p>åœ¨storeä¸­å®šä¹‰ï¼Œæ ¹æ®actionè¯·æ±‚è¿”å›çš„å€¼ ï¼Œæ ¹æ®é€»è¾‘å¤„ç†éœ€è¦æ˜¾ç¤ºçš„å€¼</p><h2 id="macè°ƒè¯•æ€»æ˜¯æç¤ºï¼šXcode-Errorè¾“å‡º"><a href="#macè°ƒè¯•æ€»æ˜¯æç¤ºï¼šXcode-Errorè¾“å‡º" class="headerlink" title="macè°ƒè¯•æ€»æ˜¯æç¤ºï¼šXcode Errorè¾“å‡º"></a>macè°ƒè¯•æ€»æ˜¯æç¤ºï¼šXcode Errorè¾“å‡º</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Runtime is not ready <span class="keyword">for</span> debugging. Make sure Packager server is running.</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•</p><p>åœ¨RCTWebSocketExecutor.mæ–‡ä»¶ä¸­ï¼ŒæŠŠlocalhostä¿®æ”¹ä¸ºä¸AppDelegate.mä¸­ç›¸åŒçš„IPåœ°å€(ä¸€èˆ¬ä¸ºç”µè„‘IP).</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *host &#x3D; [[_bridge bundleURL] host] ?: @&quot;localhost;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *host &#x3D; [[_bridge bundleURL] host] ?: @&quot;172.16.126.97&quot;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="http://www.jianshu.com/p/90ceb04da552">http://www.jianshu.com/p/90ceb04da552</a></p><h3 id="ä¸Šè¡Œ-ä¸‹è¡Œ"><a href="#ä¸Šè¡Œ-ä¸‹è¡Œ" class="headerlink" title="ä¸Šè¡Œ ä¸‹è¡Œ"></a>ä¸Šè¡Œ ä¸‹è¡Œ</h3><p>è®¾å¤‡å‘ç»™äº‘ç«¯ è®¾å¤‡ä¸ŠæŠ¥ ä¸Šè¡Œ</p><p>appæˆ–è€…äº‘ç«¯ç»™è®¾å¤‡å‘æ¶ˆæ¯å±äºä¸‹è¡Œ</p><h2 id="ä¿®æ”¹ä¸ºreduxåï¼Œæ€è·¯æ•´ç†"><a href="#ä¿®æ”¹ä¸ºreduxåï¼Œæ€è·¯æ•´ç†" class="headerlink" title="ä¿®æ”¹ä¸ºreduxåï¼Œæ€è·¯æ•´ç†"></a>ä¿®æ”¹ä¸ºreduxåï¼Œæ€è·¯æ•´ç†</h2><p>æˆ‘æœ‰ä¸€ä¸ªstate(deviceData),è®¾å¤‡ç«¯æœ‰ä¸ªå¯¹åº”çš„state,<br>deviceProperty ä¹Ÿæœ‰ä¸ªå¯¹åº”çš„state,</p><p>ç„¶åä¸‰è€…è¦ç»Ÿä¸€ã€‚</p><p>å…ˆåœ¨devicePropertyä¸­æ ¹æ®è®¾å¤‡è¿”å›çš„è®¾ç½®ä¸€æ¨¡ä¸€æ ·çš„å‚æ•°ï¼Œ<br>ï¼Œç„¶åç­‰ä¸ŠæŠ¥ä»¥åæ ¹æ®ä¸åŒçš„å€¼ï¼Œå†æ•´ç†å€¼æ”¾åˆ°stateä¸­ã€‚</p><p>é¡µé¢æ¸²æŸ“ï¼Œæ ¹æ®devicePropertyè¿›è¡Œæ¸²æŸ“ã€‚</p><p>æœ€ç»ˆç»“æœï¼Œéƒ½æ”¾åˆ°äº†devicePropertyä¸­äº†ã€‚</p><h2 id="å¼•å…¥Reduxåæ•°æ®å¤„ç†é€»è¾‘"><a href="#å¼•å…¥Reduxåæ•°æ®å¤„ç†é€»è¾‘" class="headerlink" title="å¼•å…¥Reduxåæ•°æ®å¤„ç†é€»è¾‘"></a>å¼•å…¥Reduxåæ•°æ®å¤„ç†é€»è¾‘</h2><h3 id="åŸæ¥ç”¨çˆ¶å­ç»„ä»¶å¤„ç†state"><a href="#åŸæ¥ç”¨çˆ¶å­ç»„ä»¶å¤„ç†state" class="headerlink" title="åŸæ¥ç”¨çˆ¶å­ç»„ä»¶å¤„ç†state"></a>åŸæ¥ç”¨çˆ¶å­ç»„ä»¶å¤„ç†state</h3><ol><li>çˆ¶ç»„ä»¶ä¸­å­˜æœ‰çˆ¶ç»„ä»¶ç›¸å…³çš„state, å­ç»„ä»¶ç›¸å…³çš„state,</li><li>å­ç»„ä»¶ç”¨çˆ¶ç»„ä»¶ä¸­çš„stateæ—¶ï¼Œçˆ¶ç»„ä»¶é€šè¿‡propä¼ ç»™å­ç»„ä»¶</li><li>å­ç»„ä»¶è¦ä¿®æ”¹çˆ¶ç»„ä»¶æ—¶ï¼Œé€šè¿‡çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„äº‹ä»¶ï¼Œè°ƒç”¨çˆ¶ç»„ä»¶å®šä¹‰å¥½çš„äº‹ä»¶ï¼Œç”±çˆ¶ç»„ä»¶æ›´æ”¹çŠ¶æ€ï¼Œ å­ç»„ä»¶è‡ªåŠ¨æ›´æ–°</li><li>å­ç»„ä»¶ä¸­å¯ä»¥æœ‰ä¸€å¥—è‡ªå·±çš„state</li></ol><h2 id="reduxçš„æ•°æ®å¤„ç†é€»è¾‘"><a href="#reduxçš„æ•°æ®å¤„ç†é€»è¾‘" class="headerlink" title="reduxçš„æ•°æ®å¤„ç†é€»è¾‘"></a>reduxçš„æ•°æ®å¤„ç†é€»è¾‘</h2><ol><li><p>æ‰€æœ‰çš„æ•°æ®éƒ½åœ¨storeä¸­å®šä¹‰å¥½,å¯ä»¥æœ‰ä¸åŒçš„å¯¹è±¡</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initState = &#123;</span><br><span class="line">    deviceInfo: &#123;</span><br><span class="line">        deviceId: <span class="number">0</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    deviceProperty: &#123;</span><br><span class="line">        id: <span class="number">0</span>,</span><br><span class="line">        timestamp: <span class="number">0</span>,</span><br><span class="line">        finalColor: <span class="string">&#x27;rgba(56,171,193,0.90)&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> initState</span><br></pre></td></tr></table></figure><p> åœ¨storeä¸­å¼•ç”¨</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = createStore(</span><br><span class="line">    reducers,</span><br><span class="line">    initState,</span><br><span class="line">    applyMiddleware(</span><br><span class="line">        thunk,</span><br><span class="line">        createPromise(),</span><br><span class="line">        createLogger()</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure></li><li><p>è¦æ›´æ”¹storeä¸­çš„æ•°æ®ï¼Œéƒ½é€šè¿‡actionå»è°ƒç”¨äº‹ä»¶è§¦å‘</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> powerOn = <span class="function">(<span class="params">subDomainName, physicalDeviceId, command</span>) =&gt;</span> (&#123;</span><br><span class="line">    type: types.powerOn,</span><br><span class="line">    payload: &#123;</span><br><span class="line">        promise: BindManager.sendDevice(</span><br><span class="line">            subDomainName,</span><br><span class="line">            physicalDeviceId,</span><br><span class="line">            &#123;</span><br><span class="line">                code: command.code,</span><br><span class="line">                content: <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(command.content)</span><br><span class="line">            &#125;</span><br><span class="line">        ),</span><br><span class="line">        data: &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>actionè¯·æ±‚å›è°ƒè¿”å›ç»“æœï¼Œæ ¹æ®è¿”å›æˆåŠŸå¤±è´¥ï¼Œåœ¨reducerä¸­åˆ†åˆ«å¤„ç†storeä¸­çš„æ•°æ®ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">`<span class="subst">$&#123;types.powerOn&#125;</span>_PENDING`</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class="line">        isFetching: <span class="literal">true</span>,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">`<span class="subst">$&#123;types.powerOn&#125;</span>_FULFILLED`</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class="line">        powerStatus: <span class="string">&#x27;on&#x27;</span>,</span><br><span class="line">        lineStart: state.finalColor,</span><br><span class="line">        lineEnd: state.finalColor,</span><br><span class="line">        isFetching: <span class="literal">false</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">`<span class="subst">$&#123;types.powerOn&#125;</span>_REJECTED`</span>:</span><br><span class="line">    <span class="keyword">if</span>(action.payload.errorCode)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(getInfoByCode(action.payload.errorCode), <span class="string">&#x27;ä¿¡æ¯&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class="line">        isFetching: <span class="literal">false</span>,</span><br><span class="line">        toastTip: &#123;</span><br><span class="line">            showNum: state.toastTip.showNum + <span class="number">1</span>,</span><br><span class="line">            text: <span class="string">&#x27;å¼€å¯å¤±è´¥.&#x27;</span>+action.payload</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure></li></ol><h3 id="å¼€å…³é€»è¾‘ä¿®æ”¹"><a href="#å¼€å…³é€»è¾‘ä¿®æ”¹" class="headerlink" title="å¼€å…³é€»è¾‘ä¿®æ”¹"></a>å¼€å…³é€»è¾‘ä¿®æ”¹</h3><p>è®¾å¤‡åªè¦ä¼  idï¼Œå¯¹åº”çš„å¼€å…³å€¼ï¼Œ0,1 å°±è¡Œã€‚</p><p>å¯¹åº”åˆ°ä»£ç ï¼š</p><p>å‘é€commandæ—¶ï¼Œéœ€è¦ç»„åˆå¥½å¼€å…³idï¼ŒçŠ¶æ€ã€‚</p><p>æŒ‡ä»¤å‘é€æˆåŠŸéœ€è¦æ ¹æ®å¼€å…³idå’Œå€¼æ”¹å˜storeä¸­çš„å€¼ã€‚</p><p>è¿˜è¦è¿›è¡ŒèƒŒæ™¯é¢œè‰²çš„åˆ¤æ–­ã€‚</p><p>å°¼ç›ï¼Œä¿®æ”¹åç§°æ‰¾è°æ”¹ã€‚â€”å¹²æ‰äº†</p><h2 id="å­é¡µé¢çš„å¼€å…³æ§åˆ¶é€»è¾‘ä¿®æ”¹"><a href="#å­é¡µé¢çš„å¼€å…³æ§åˆ¶é€»è¾‘ä¿®æ”¹" class="headerlink" title="å­é¡µé¢çš„å¼€å…³æ§åˆ¶é€»è¾‘ä¿®æ”¹"></a>å­é¡µé¢çš„å¼€å…³æ§åˆ¶é€»è¾‘ä¿®æ”¹</h2><p>ä¹‹å‰æ˜¯ç”¨çš„navigationå°†å½“å‰ç‚¹å‡»çš„itemä¼ å…¥å­é¡µé¢</p><p>ä¼ å…¥åæ ¹æ®äº‹ä»¶ç›‘å¬è§¦å‘ä¿®æ”¹ï¼Œ<br>ç”¨çš„æ˜¯ ==DeviceEventEmitter== ,</p><p>æ”¹æˆreduxåï¼Œ</p><p>ç›´æ¥åœ¨storeä¸­è¯»å–propsçš„å±æ€§æ ¹æ®ä¼ å…¥item çš„idæ‰¾åˆ°å½“å‰çš„item,æ ¹æ®ä¸åŒçš„çŠ¶æ€å€¼ï¼Œ</p><p>(æ³¨æ„ï¼Œæ­¤å¤„ä¼ å…¥ä¹Ÿæ˜¯é€šè¿‡navigationä¼ å…¥çš„ã€‚)</p><p>å†å­é¡µé¢ä¸­ç›´æ¥å‘é€actionï¼Œ</p><p>reducerä¿®æ”¹storeä¸­çš„æ•°æ®åï¼Œ</p><p>åœ¨å­é¡µé¢ä¸­ç”¨ ==componentWillReceiveProps== æ¥ç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œå¹¶æ ¹æ®ç›¸åº”çš„å€¼ï¼Œæ¥åˆ‡æ¢çŠ¶æ€ã€‚</p><h2 id="å›½é™…åŒ–æ’ä»¶react-native-i18n"><a href="#å›½é™…åŒ–æ’ä»¶react-native-i18n" class="headerlink" title="å›½é™…åŒ–æ’ä»¶react-native-i18n"></a>å›½é™…åŒ–æ’ä»¶<a href="https://www.npmjs.com/package/react-native-i18n">react-native-i18n</a></h2><p>è¿™ä¸ªæ’ä»¶éœ€è¦æ”¹åŠ¨androidå’ŒiOS çš„ä»£ç ï¼ï¼ï¼ï¼</p><ol><li><p>å®‰è£…<br> <code>npm install react-native-i18n --save</code></p></li><li><p>å…³è”android<br> react-native link</p><p> æ³¨æ„ï¼š è¿™é‡Œæ‰§è¡Œå‘½ä»¤åï¼Œandroidæµ‹è¯•ä¼šæŠ¥é”™ã€‚</p><p> æ ¹æ®æ–‡æ¡£æŒ¨ä¸ªæ£€æŸ¥å¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œçœ‹å“ªä¸ªæ²¡æœ‰æ·»åŠ ï¼Œæ·»åŠ å¯¹åº”çš„è°ƒç”¨è¯­å¥å³å¯ã€‚</p><p> ./android/settings.gradle</p><p> ./android/app/build.gradle</p><p> (æˆ‘è¿™é‡Œâ†‘æ²¡æœ‰è‡ªåŠ¨æ·»åŠ ï¼Œæ‰‹åŠ¨æ·»åŠ çš„)</p><p> ./android/app/src/main/java/your/bundle/MainApplication.java</p></li><li><p>IOSè¿˜æ²¡æœ‰æµ‹è¯•</p></li></ol><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><h3 id="1-å°è£…ä¸€ä¸ªå•ç‹¬çš„jså‡ºæ¥"><a href="#1-å°è£…ä¸€ä¸ªå•ç‹¬çš„jså‡ºæ¥" class="headerlink" title="1. å°è£…ä¸€ä¸ªå•ç‹¬çš„jså‡ºæ¥"></a>1. å°è£…ä¸€ä¸ªå•ç‹¬çš„jså‡ºæ¥</h3><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹i18n</p><p>index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> i18n <span class="keyword">from</span> <span class="string">&#x27;react-native-i18n&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> translations  <span class="keyword">from</span> <span class="string">&#x27;./translations&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªä¸ºé»˜è®¤ï¼Œçš„å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„è¯­è¨€ï¼Œåˆ™ä¸ºé»˜è®¤çš„ã€‚</span></span><br><span class="line">i18n.defaultLocale = <span class="string">&#x27;en&#x27;</span>;</span><br><span class="line"></span><br><span class="line">i18n.fallbacks = <span class="literal">true</span>;</span><br><span class="line">i18n.translations = &#123;</span><br><span class="line">    en: translations.en,</span><br><span class="line">    zh: translations.zh,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> i18n;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-translationsä¸ºä¸­è‹±æ–‡å¯¹åº”çš„æ–‡å­—ä¿¡æ¯"><a href="#2-translationsä¸ºä¸­è‹±æ–‡å¯¹åº”çš„æ–‡å­—ä¿¡æ¯" class="headerlink" title="2. translationsä¸ºä¸­è‹±æ–‡å¯¹åº”çš„æ–‡å­—ä¿¡æ¯"></a>2. translationsä¸ºä¸­è‹±æ–‡å¯¹åº”çš„æ–‡å­—ä¿¡æ¯</h3><p>translations.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    en: &#123;</span><br><span class="line">        greeting: <span class="string">&#x27;Greeting in en&#x27;</span>,</span><br><span class="line">        exit: <span class="string">&#x27;exit?&#x27;</span>,</span><br><span class="line">        tapSwitch: <span class="string">&#x27;Tap to switch&#x27;</span>,</span><br><span class="line">        Switch: <span class="string">&#x27;Switch&#x27;</span>,</span><br><span class="line">        Timing: <span class="string">&#x27;Timing&#x27;</span>,</span><br><span class="line">        Countdown: <span class="string">&#x27;Countdown&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    zh: &#123;</span><br><span class="line">        greeting: <span class="string">&#x27;æ¬¢è¿æ¬¢è¿çƒ­çƒˆæ¬¢è¿&#x27;</span>,</span><br><span class="line">        exit: <span class="string">&#x27;æ˜¯å¦é€€å‡º?&#x27;</span>,</span><br><span class="line">        tapSwitch: <span class="string">&#x27;è½»è§¦å¯å¼€å…³&#x27;</span>,</span><br><span class="line">        Switch: <span class="string">&#x27;å¼€å…³&#x27;</span>,</span><br><span class="line">        Timing: <span class="string">&#x27;å®šæ—¶&#x27;</span>,</span><br><span class="line">        Countdown: <span class="string">&#x27;å€’è®¡æ—¶&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè¿™é‡Œçš„ä¸­è‹±æ–‡å¯ä»¥å•ç‹¬å‡ºæ¥ï¼Œåšæˆä¸¤ä¸ªå•ç‹¬çš„æ–‡ä»¶ã€‚<br>zh.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    greeting: <span class="string">&#x27;æ¬¢è¿æ¬¢è¿çƒ­çƒˆæ¬¢è¿&#x27;</span>,</span><br><span class="line">    exit: <span class="string">&#x27;æ˜¯å¦é€€å‡º?&#x27;</span>,</span><br><span class="line">    tapSwitch: <span class="string">&#x27;è½»è§¦å¯å¼€å…³&#x27;</span>,</span><br><span class="line">    Switch: <span class="string">&#x27;å¼€å…³&#x27;</span>,</span><br><span class="line">    Timing: <span class="string">&#x27;å®šæ—¶&#x27;</span>,</span><br><span class="line">    Countdown: <span class="string">&#x27;å€’è®¡æ—¶&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>en.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    greeting: <span class="string">&#x27;Greeting in en&#x27;</span>,</span><br><span class="line">    exit: <span class="string">&#x27;exit?&#x27;</span>,</span><br><span class="line">    tapSwitch: <span class="string">&#x27;Tap to switch&#x27;</span>,</span><br><span class="line">    Switch: <span class="string">&#x27;Switch&#x27;</span>,</span><br><span class="line">    Timing: <span class="string">&#x27;Timing&#x27;</span>,</span><br><span class="line">    Countdown: <span class="string">&#x27;Countdown&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨å•ç‹¬å¼•å…¥æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> i18n <span class="keyword">from</span> <span class="string">&#x27;react-native-i18n&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> en <span class="keyword">from</span> <span class="string">&#x27;./en&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> zh <span class="keyword">from</span> <span class="string">&#x27;./zh&#x27;</span>;</span><br><span class="line"></span><br><span class="line">i18n.defaultLocale = <span class="string">&#x27;en&#x27;</span>;</span><br><span class="line">i18n.fallbacks = <span class="literal">true</span>;</span><br><span class="line">i18n.translations = &#123;</span><br><span class="line">    en,</span><br><span class="line">    zh,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> i18n;</span><br></pre></td></tr></table></figure><h2 id="3-ä¸šåŠ¡å±‚è°ƒç”¨"><a href="#3-ä¸šåŠ¡å±‚è°ƒç”¨" class="headerlink" title="3. ä¸šåŠ¡å±‚è°ƒç”¨"></a>3. ä¸šåŠ¡å±‚è°ƒç”¨</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;i18n&#125; <span class="keyword">from</span> <span class="string">&#x27;ä½ é¢„è®¾çš„indexçš„ç›®å½•&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// js</span></span><br><span class="line">i18n.t(<span class="string">&#x27;Timing&#x27;</span>)</span><br><span class="line"><span class="comment">// html</span></span><br><span class="line">&lt;Text style=&#123;styles.text&#125;&gt;&#123;i18n.t(<span class="string">&#x27;Timing&#x27;</span>)&#125;&lt;/Text&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>é¦–å…ˆNativeé‚£é‡Œè·å–æœ¬æ‰‹æœºçš„LocaleListç„¶åæ ¼å¼åŒ–å–ç¬¬ä¸€ä¸ªå…ƒç´ äº¤ç”±I18n.jså¤„ç†ï¼Œ</p><p>ç„¶åI18n.jsæ ¹æ®keyé€‰ç”¨ä¸€å¥—æœ‰æ•ˆçš„è¯­è¨€è§„åˆ™ï¼Œ</p><p>å†ä¹‹åæµç¨‹å°±å’Œä½¿ç”¨æ—¶å€™çš„é¡ºåºä¸€æ ·äº†ã€‚</p><h2 id="toastæ’ä»¶-react-native-easy-toast"><a href="#toastæ’ä»¶-react-native-easy-toast" class="headerlink" title="toastæ’ä»¶ react-native-easy-toast"></a>toastæ’ä»¶ <a href="https://www.npmjs.com/package/react-native-easy-toast">react-native-easy-toast</a></h2><p>è¿™ä¸ªæ’ä»¶ä¸éœ€è¦æ”¹åŠ¨androidå’Œiosä»£ç </p><ol><li><p>å®‰è£…</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i react-native-easy-toast --save</span><br></pre></td></tr></table></figure></li><li><p>å¼•ç”¨</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Toast, &#123;DURATION&#125; <span class="keyword">from</span> <span class="string">&#x27;react-native-easy-toast&#x27;</span></span><br></pre></td></tr></table></figure><p> åœ¨htmlä¸­éœ€è¦å†™åœ¨Viewåº•éƒ¨å¼•ç”¨</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Toast ref=<span class="string">&quot;toast&quot;</span>/&gt;</span><br></pre></td></tr></table></figure></li><li><p>jsè°ƒç”¨æ˜¾ç¤º</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤250msæ¶ˆå¤±</span></span><br><span class="line"><span class="built_in">this</span>.refs.toast.show(<span class="string">&#x27;hello world!&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸æ¶ˆå¤±</span></span><br><span class="line"><span class="built_in">this</span>.refs.toast.show(<span class="string">&#x27;hello world!&#x27;</span>, DURATION.FOREVER);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤2sæ¶ˆå¤±</span></span><br><span class="line"><span class="built_in">this</span>.refs.toast.show(<span class="string">&#x27;hello world!&#x27;</span>, DURATION.LENGTH_LONG);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰æ—¶é—´æ¶ˆå¤±</span></span><br><span class="line"><span class="built_in">this</span>.refs.toast.show(<span class="string">&#x27;hello world!&#x27;</span>, <span class="number">3000</span>);</span><br></pre></td></tr></table></figure></li></ol><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>åœ¨positionè®¾ç½®ä¸ºå±…ä¸­æ—¶ï¼Œæ˜¯å»æ‰å¯¼èˆªæ ä»¥å¤–çš„åŒºåŸŸå±…ä¸­çš„ï¼Œæ‰€ä»¥æ„Ÿè§‰æ•´ä½“åä¸‹ï¼Œ<br>å¯ä»¥æ”¹æºç é‡Œçš„positionä¸ºcenteræ—¶ï¼Œå‡å»positionValueçš„å€¼ã€‚</p><p>ä½†æ‰“åŒ…æ—¶æ€ä¹ˆåŠï¼Œå¥½åƒçœ‹åˆ°æœ‰çš„demoé‡Œæ˜¯å±…ä¸­çš„ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯è‡ªå·±ä»£ç cssé—®é¢˜ã€‚</p><h2 id="ç¡¬ä»¶APPå¼€å‘åŠŸèƒ½ç‚¹"><a href="#ç¡¬ä»¶APPå¼€å‘åŠŸèƒ½ç‚¹" class="headerlink" title="ç¡¬ä»¶APPå¼€å‘åŠŸèƒ½ç‚¹"></a>ç¡¬ä»¶APPå¼€å‘åŠŸèƒ½ç‚¹</h2><ol><li>ç¬¬ä¸€æ¬¡æ‰“å¼€APPè·å–è®¾å¤‡çŠ¶æ€ï¼Œæ‰€æœ‰å±æ€§å€¼éƒ½è¦</li><li>è®¾å¤‡ä¸åœ¨çº¿æ—¶å¯¹é¡µé¢é®ç½©ï¼Œç¦ç”¨æ‰€æœ‰åŠŸèƒ½ï¼Œ</li><li>è®¾å¤‡ä¸ŠæŠ¥è·å–æ‰€æœ‰å±æ€§ï¼Œå¹¶æ ¹æ®ä¸åŒå€¼é‡ç½®é¡µé¢</li><li>è®¾å¤‡å‘é€æŒ‡ä»¤ï¼ŒæˆåŠŸåï¼Œä¿®æ”¹APPçŠ¶æ€</li><li>å¤±è´¥åï¼Œæç¤ºä¿¡æ¯æ˜¾ç¤ºï¼Œä¸èƒ½æ›´æ”¹APPçŠ¶æ€</li></ol><h2 id="PropTypes"><a href="#PropTypes" class="headerlink" title="PropTypes"></a>PropTypes</h2><p>åœ¨ç¼–å†™ç»„ä»¶æ—¶ï¼Œå¸Œæœ›æ¯ä¸ªåœ°æ–¹éƒ½èƒ½ç”¨åˆ°ï¼Œä½†åˆ«äººæ€ä¹ˆç”¨ï¼Œå°±ä¸çŸ¥é“äº†ã€‚<br>æ‰€ä»¥éœ€è¦åˆ¶å®šä¸€äº›è§„åˆ™ï¼Œæ¯”å¦‚å¿…é¡»ä¼ ä»€ä¹ˆå‚æ•°ï¼Œå‚æ•°æ˜¯ä»€ä¹ˆç±»å‹çš„ã€‚</p><p>å› ä¸ºJavaScriptè¯­è¨€ç‰¹ç‚¹ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œé¡µé¢è™½æ˜¾ç¤ºä¸æ­£å¸¸ï¼Œä½†ä¸ä¼šæŠ¥é”™ã€‚å¾ˆéš¾æ‰¾åˆ°bugä½ç½®ã€‚</p><p>reactæä¾›äº†ä¸€ç§ç±»å‹æ£€æµ‹æœºåˆ¶ï¼Œç”¨æ¥ç¡®ä¿æ¥æ”¶åˆ°çš„å‚æ•°æ˜¯æœ‰æ•ˆçš„ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨PropTypes.string è¯­å¥ã€‚å½“ç»™ prop ä¼ é€’äº†ä¸€ä¸ªä¸æ­£ç¡®çš„å€¼æ—¶ï¼ŒJavaScriptæ§åˆ¶å°å°†ä¼šæ˜¾ç¤ºä¸€æ¡è­¦å‘Šã€‚å‡ºäºæ€§èƒ½çš„åŸå› ï¼ŒpropTypes ä»…åœ¨å¼€å‘æ¨¡å¼ä¸­æ£€æµ‹ã€‚</p><p>é¦–å…ˆï¼Œè¦å®‰è£…reactæä¾›çš„ç¬¬ä¸‰æ–¹åº“ prop-typesï¼š(è²Œä¼¼åªé’ˆå¯¹15.5.0ä¹‹åçš„ç‰ˆæœ¬ï¼Œå…¬å¸é¡¹ç›®15.4.2 å¹¶ä¸éœ€è¦installï¼Œ ç›´æ¥ç”¨å°±è¡Œäº†ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save prop-types</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> PropTypes <span class="keyword">from</span> <span class="string">&#x27;prop-types&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Greeting</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;h1&gt;Hello, &#123;<span class="built_in">this</span>.props.name&#125;&lt;/h1&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Greeting.propTypes = &#123;</span><br><span class="line">  name: PropTypes.string</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol><li>React.PropTypes.element.isRequiredï¼Œå¯ä»¥ä¸ºç»„ä»¶æŒ‡å®šå¿…é¡»é¡¹</li><li>defaultPropsï¼šä¸ºpropsæŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Greeting.defaultProps = &#123;</span><br><span class="line">  name: <span class="string">&#x27;Stranger&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>adb.exe<br>ç›®å½•<br>C:\Users\z\AppData\Local\Android\Sdk\platform-tools<br>æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œadbå‘½ä»¤</p><p><code>adb install -r name.apk</code><br>ç”¨å‘½ä»¤è¡Œå®‰è£…apk</p><h2 id="jsç”¨switch-caseå®ç°åŒºé—´"><a href="#jsç”¨switch-caseå®ç°åŒºé—´" class="headerlink" title="jsç”¨switch caseå®ç°åŒºé—´"></a>jsç”¨switch caseå®ç°åŒºé—´</h2><p>é‡ç‚¹æ˜¯switch(true){}</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAQIDegree</span>(<span class="params">jq</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="keyword">case</span> jq&lt;<span class="number">51</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;ä¼˜&#x27;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> jq&lt;<span class="number">101</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;è‰¯&#x27;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> jq&lt;<span class="number">151</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;è½»åº¦æ±¡æŸ“&#x27;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> jq&lt;<span class="number">201</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;ä¸­åº¦æ±¡æŸ“&#x27;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> jq&lt;<span class="number">301</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;é‡åº¦æ±¡æŸ“&#x27;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">300</span>&lt;jq:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;ä¸¥é‡æ±¡æŸ“&#x27;</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> React Native </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React SSR æ¢³ç†</title>
      <link href="posts/React-SSR-%E6%A2%B3%E7%90%86/"/>
      <url>posts/React-SSR-%E6%A2%B3%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h1><p>ä»€ä¹ˆæ˜¯æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Ÿä»€ä¹ˆæ˜¯å®¢æˆ·ç«¯æ¸²æŸ“ï¼Ÿä»€ä¹ˆæ˜¯åŒæ„ï¼Ÿ</p><ol><li>å®¢æˆ·ç«¯æ¸²æŸ“ CSR<br>é¡µé¢åˆå§‹åŠ è½½çš„HTMLä¸­æ— ç½‘é¡µå±•ç¤ºå†…å®¹ï¼Œéœ€è¦åŠ è½½JavaScriptä¸­çš„Reactä»£ç ,é€šè¿‡JavaScriptæ¸²æŸ“ç”Ÿæˆé¡µé¢ï¼Œ<br>åŒæ—¶ï¼ŒJavaScriptä»£ç ä¼šå®Œæˆé¡µé¢äº¤äº’äº‹ä»¶çš„ç»‘å®šã€‚</li></ol><a id="more"></a><p>æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li><p>æœåŠ¡ç«¯è¿”å›HTMLåˆ°æµè§ˆå™¨</p></li><li><p>æµè§ˆå™¨ä¸‹è½½JS</p></li><li><p>æµè§ˆå™¨æ‰§è¡Œjs, Reactâ€”â€”-åœ¨è¿™ä¹‹å‰éƒ½æ˜¯loading(åŒ…æ‹¬3)</p></li><li><p>é¡µé¢æ˜¾ç¤ºï¼Œå¯äº¤äº’</p></li><li><p>æœåŠ¡å™¨æ¸²æŸ“<br>ç”¨æˆ·è¯·æ±‚æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸Šç›´æ¥ç”ŸæˆHTMLå†…å®¹å¹¶è¿”å›æµè§ˆå™¨ã€‚é¡µé¢å†…å®¹ç›´æ¥ç”±Serverç«¯ç”Ÿæˆã€‚<br>æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„é¡µé¢äº¤äº’èƒ½åŠ›æœ‰é™ï¼Œè¦å®ç°å¤æ‚äº¤äº’ï¼Œè¿˜æ˜¯è¦é€šè¿‡å¼•å…¥JavaScriptæ–‡ä»¶æ¥è¾…åŠ©å®ç°ã€‚</p></li><li><p>åŒæ„SSR<br>è¿™ä¸ªæ¦‚å¿µå­˜åœ¨äºVueï¼Œ Reactè¿™äº›æ–°å‹çš„å‰ç«¯æ¡†æ¶ä¸­ï¼ŒåŒæ„å®é™…æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡å™¨æ¸²æŸ“çš„ä¸€ä¸ªæ•´åˆã€‚<br>æŠŠé¡µé¢çš„å±•ç¤ºå†…å®¹å’Œäº¤äº’å†™åœ¨ä¸€èµ·ï¼Œè®©ä»£ç æ‰§è¡Œä¸¤æ¬¡ã€‚æœåŠ¡å™¨ç«¯æ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºå®ç°æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œ<br>å®¢æˆ·ç«¯å†æ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºæ¥ç®¡é¡µé¢äº¤äº’ã€‚</p></li></ol><p>æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>æœåŠ¡å™¨å‘é€å·²ç»æ¸²æŸ“å¥½çš„HTMLåˆ°æµè§ˆå™¨â€”-ä»…åœ¨è¿™ä¸€è¿‡ç¨‹é¡µé¢loading</li><li>æµè§ˆå™¨æ¸²æŸ“é¡µé¢,é¡µé¢æ˜¾ç¤ºï¼Œå¼€å§‹ä¸‹è½½JS</li><li>æµè§ˆå™¨æ‰§è¡ŒJS/React</li><li>é¡µé¢å¯äº¤äº’</li></ol><h1 id="ä¸ºä»€ä¹ˆä½¿ç”¨SSRæŠ€æœ¯"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨SSRæŠ€æœ¯" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨SSRæŠ€æœ¯"></a>ä¸ºä»€ä¹ˆä½¿ç”¨SSRæŠ€æœ¯</h1><p>ä¸»è¦å› ç´ ï¼š</p><ol><li>CSRé¡¹ç›®çš„TTFP(Time To First Page)æ—¶é—´è¾ƒé•¿ã€‚åŠ è½½HTMLï¼Œä¸‹è½½JavaScriptï¼ŒJavaScriptæ¸²æŸ“ç”Ÿæˆé¡µé¢ã€‚<br>åœ¨è¿™ä¸ªæ¸²æŸ“è¿‡ç¨‹ä¸­è‡³å°‘æ¶‰åŠåˆ°ä¸¤ä¸ªHTTPè¯·æ±‚å‘¨æœŸï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€å®šçš„è€—æ—¶ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä½ä¿—ç½‘ç»œä¸‹ï¼Œåˆå§‹é¡µé¢ä¼šæœ‰ç™½å±çš„åŸå› ã€‚</li><li>CSRé¡¹ç›®çš„SEOèƒ½åŠ›æå¼±ã€‚æœç´¢å¼•æ“ä¸»è¦è¯†åˆ«çš„å†…å®¹è¿˜æ˜¯HTMLï¼Œå¯¹JavaScriptæ–‡ä»¶å†…å®¹çš„è¯†åˆ«éƒ½è¿˜æ¯”è¾ƒå¼±ã€‚</li><li>å‡å°‘APIè¯·æ±‚æ¬¡æ•°</li></ol><p>SSRçš„äº§ç”Ÿï¼Œä¸»è¦å°±æ˜¯ä¸ºäº†è§£å†³ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ã€‚åœ¨Reactä¸­ä½¿ç”¨SSRï¼Œè®©Reactåœ¨æœåŠ¡å™¨ç«¯å…ˆæ‰§è¡Œä¸€æ¬¡ï¼Œä½¿å¾—ç”¨æˆ·ä¸‹è½½çš„HTML<br>å·²ç»åŒ…å«äº†æ‰€æœ‰çš„é¡µé¢å±•ç¤ºå†…å®¹ï¼Œè¿™æ ·é¡µé¢å±•ç¤ºçš„è¿‡ç¨‹åªéœ€ç»å†ä¸€ä¸ªHTTPè¯·æ±‚å‘¨æœŸï¼ŒTTFPæ—¶é—´å¾—åˆ°ä¸€å€ä»¥ä¸Šç¼©å‡ã€‚åŒæ—¶HTML<br>ä¸­å·²ç»åŒ…å«äº†ç½‘é¡µçš„æ‰€æœ‰å†…å®¹ï¼ŒSEOæ•ˆæœä¹Ÿä¼šå˜å¾—éå¸¸å¥½ã€‚</p><p>ä¹‹åReactåœ¨å®¢æˆ·ç«¯å†æ¬¡æ‰§è¡Œï¼Œä¸ºHTMLä¸­çš„å†…å®¹æ·»åŠ æ•°æ®åŠäº‹ä»¶çš„ç»‘å®šï¼Œé¡µé¢å°±å…·å¤‡äº†Reactçš„å„ç§äº¤äº’èƒ½åŠ›ã€‚</p><blockquote><p>ä¸»è¦åŒºåˆ«ï¼šå®¢æˆ·ç«¯ä»æ— åˆ°æœ‰çš„æ¸²æŸ“ï¼ŒæœåŠ¡ç«¯æ˜¯å…ˆåœ¨æœåŠ¡ç«¯æ¸²æŸ“ä¸€éƒ¨åˆ†ï¼Œåœ¨å†å®¢æˆ·ç«¯æ¸²æŸ“ä¸€å°éƒ¨åˆ†ã€‚</p></blockquote><h1 id="SSRæŠ€æœ¯æ¶æ„å›¾"><a href="#SSRæŠ€æœ¯æ¶æ„å›¾" class="headerlink" title="SSRæŠ€æœ¯æ¶æ„å›¾"></a>SSRæŠ€æœ¯æ¶æ„å›¾</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯(æµè§ˆå™¨)          NodeæœåŠ¡å™¨                    APIæœåŠ¡å™¨</span><br><span class="line">è®¿é—®åœ°å€---------      1.æ¥æ”¶è¯·æ±‚</span><br><span class="line">                      2.è·¯ç”±åˆ†æè·å–å³å°†å±•ç¤ºçš„ç»„ä»¶ä¿¡æ¯</span><br><span class="line">                      3. è·å–ç»„ä»¶æ‰€éœ€æ•°æ®-----------  4.æ¥æ”¶è¯·æ±‚ï¼Œè¿”å›æ¥å£æ•°æ®</span><br><span class="line">6.æ˜¾ç¤ºHTML,            5.æ¸²æŸ“ç»„ä»¶ï¼Œè¿”å›æ¸²æŸ“åçš„HTML</span><br><span class="line">åŠ è½½éœ€è¦çš„bundle.js     (æœåŠ¡ç«¯æ¸²æŸ“å®Œæˆ)                 </span><br><span class="line">7.è·å–bundle.jsæ–‡ä»¶    8.æ¥æ”¶è¯·æ±‚</span><br><span class="line">                      9.è¿”å›bundle.js                    </span><br><span class="line">10. åŠ è½½è¿è¡Œbundle.js</span><br><span class="line">è¿›è¡Œå®¢æˆ·ç«¯æ¸²æŸ“</span><br><span class="line">11. bundle.jså‘é€è¯·æ±‚   12.æ”¶åˆ°è¯·æ±‚ï¼Œä»£ç†åˆ°ä¸šåŠ¡æ¥å£    13. æ¥å—è¯·æ±‚ï¼Œè¿”å›æ¥å£æ•°æ®</span><br><span class="line">                       14.è·å–åˆ°æ•°æ®è¿”å›</span><br><span class="line">15.è·å–åˆ°è¯·æ±‚æ•°æ®ï¼Œ</span><br><span class="line">å®Œæˆå®¢æˆ·ç«¯æ¸²æŸ“</span><br></pre></td></tr></table></figure><h1 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h1><p>ä½¿ç”¨SSRä½¿å¾—åŸæœ¬ç®€å•çš„Reacté¡¹ç›®å˜å¾—éå¸¸å¤æ‚ï¼Œé¡¹ç›®çš„å¯ç»´æŠ¤æ€§é™ä½ï¼Œä»£ç è¿½æº¯å˜å¾—å›°éš¾ã€‚<br>æœ‰æ—¶è¿™äº›å‰¯ä½œç”¨æ¯”èµ·ä¼˜åŠ¿è¦å¤§å¾—å¤šã€‚ä¸€èˆ¬é™¤éç‰¹åˆ«ä¾èµ–æœç´¢å¼•æ“æµé‡ï¼Œæˆ–å¯¹é¦–å±æ—¶é—´æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œä¸å»ºè®®ä½¿ç”¨SSRã€‚<br>åªæœ‰NodeJSç¯å¢ƒå¯ä»¥SSRï¼šè‹¥åç«¯ä½¿ç”¨pythonæˆ–æ˜¯rubyç­‰è¯­è¨€ï¼Œå¤„ç†React SSRå°±è¦å¤šå¼€ä¸€å°NodeJS Render Serverï¼Œå¤šäº†ç»´æŠ¤ä¸Šçš„éº»çƒ¦ã€‚</p><h1 id="SSRæŠ€æœ¯éš¾ç‚¹å‰–æ"><a href="#SSRæŠ€æœ¯éš¾ç‚¹å‰–æ" class="headerlink" title="SSRæŠ€æœ¯éš¾ç‚¹å‰–æ"></a>SSRæŠ€æœ¯éš¾ç‚¹å‰–æ</h1><h2 id="è™šæ‹ŸDOMå’ŒSSRçš„å…³ç³»"><a href="#è™šæ‹ŸDOMå’ŒSSRçš„å…³ç³»" class="headerlink" title="è™šæ‹ŸDOMå’ŒSSRçš„å…³ç³»"></a>è™šæ‹ŸDOMå’ŒSSRçš„å…³ç³»</h2><p><strong>SSRä¹‹æ‰€ä»¥èƒ½å®ç°ï¼Œæœ¬è´¨ä¸Šä¸Šå› ä¸ºè™šæ‹ŸDOMçš„å­˜åœ¨</strong></p><p>SSRçš„å·¥ç¨‹ä¸­ï¼ŒReactä»£ç ä¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å„æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœReactä»£ç ä¸­å­˜åœ¨ç›´æ¥æ“ä½œDOMçš„ä»£ç ï¼Œé‚£ä¹ˆå°±æ— æ³•å®ç°SSR<br>è¿™ç§æŠ€æœ¯ã€‚å› ä¸ºåœ¨nodeç¯å¢ƒä¸­ï¼Œæ²¡æœ‰DOMè¿™ä¸ªæ¦‚å¿µå­˜åœ¨ã€‚æ‰€ä»¥è¿™äº›ä»£ç åœ¨nodeç¯å¢ƒä¸‹ä¼šæŠ¥é”™ã€‚</p><p>è™šæ‹ŸDOMæ˜¯çœŸå®DOMçš„ä¸€ä¸ªJavaScriptå¯¹è±¡æ˜ å°„ã€‚Reactåœ¨åšé¡µé¢æ“ä½œæ—¶ï¼Œå®é™…ä¸Šä¸æ˜¯ç›´æ¥æ“ä½œDOMï¼Œè€Œæ˜¯æ“ä½œè™šæ‹ŸDOMï¼Œ<br>ä¹Ÿå°±æ˜¯æ“ä½œæ™®é€šJavaScriptå¯¹è±¡ï¼Œè¿™å°±ä½¿å¾—SSRæˆä¸ºäº†å¯èƒ½ã€‚</p><p>åœ¨æœåŠ¡ç«¯ï¼Œå¯ä»¥æ“ä½œJavaScriptå¯¹è±¡ï¼Œåˆ¤æ–­ç¯å¢ƒæ˜¯æœåŠ¡å™¨ç¯å¢ƒï¼ŒæŠŠè™šæ‹ŸDOMæ˜ å°„æˆå­—ç¬¦ä¸²è¾“å‡ºï¼›<br>åœ¨å®¢æˆ·ç«¯ï¼Œæ“ä½œJavaScriptå¯¹è±¡ï¼Œåˆ¤æ–­æ˜¯å®¢æˆ·ç«¯ç¯å¢ƒï¼Œå°†è™šæ‹ŸDOMæ˜ å°„æˆçœŸå®DOMï¼Œå®Œæˆé¡µé¢æŒ‚è½½ã€‚</p><h2 id="ç»†è¯´æµç¨‹å›¾"><a href="#ç»†è¯´æµç¨‹å›¾" class="headerlink" title="ç»†è¯´æµç¨‹å›¾"></a>ç»†è¯´æµç¨‹å›¾</h2><p>ç¬¬3æ­¥ï¼šæœåŠ¡å™¨è¦æ ¹æ®è¯·æ±‚åœ°å€ï¼Œåˆ¤æ–­å±•ç¤ºä»€ä¹ˆé¡µé¢ã€‚è¿™ä¸€æ­¥å«åšæœåŠ¡å™¨ç«¯è·¯ç”±ã€‚<br>ç¬¬10æ­¥ï¼šå®¢æˆ·ç«¯æ¥æ”¶åˆ°JavaScriptæ–‡ä»¶åï¼Œè¦æ ¹æ®å½“å‰è·¯å¾„ï¼Œåœ¨æµè§ˆå™¨ä¸Šå†åˆ¤æ–­å½“å‰è¦å±•ç¤ºçš„ç»„ä»¶ï¼Œé‡æ–°è¿›è¡Œä¸€æ¬¡å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œ<br>è¿™æ—¶ï¼Œè¿˜è¦ç»å†ä¸€æ¬¡å®¢æˆ·ç«¯è·¯ç”±(å‰ç«¯è·¯ç”±)</p><h3 id="SSRä¸­å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“è·¯ç”±ä»£ç å·®å¼‚"><a href="#SSRä¸­å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“è·¯ç”±ä»£ç å·®å¼‚" class="headerlink" title="SSRä¸­å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“è·¯ç”±ä»£ç å·®å¼‚"></a>SSRä¸­å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“è·¯ç”±ä»£ç å·®å¼‚</h3><p>å®ç°Reactçš„SSRæ¶æ„ï¼Œéœ€è¦è®©ç›¸åŒçš„Reactä»£ç åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å„æ‰§è¡Œä¸€æ¬¡ã€‚<br>è¿™é‡Œè¯´çš„ç›¸åŒçš„Reactä»£ç ï¼ŒæŒ‡çš„æ˜¯å„ç§ç»„ä»¶ä»£ç ï¼Œæ‰€ä»¥åœ¨åŒæ„ä¸­ï¼Œåªæœ‰ç»„ä»¶ä»£ç æ˜¯å¯ä»¥å…±ç”¨çš„ã€‚<br>è€Œè·¯ç”±è¿™æ ·çš„ä»£ç æ˜¯æ²¡æœ‰åŠæ³•å…¬ç”¨çš„ã€‚</p><p>åŸå› ï¼š<br>æœåŠ¡ç«¯éœ€è¦é€šè¿‡è¯·æ±‚è·¯å¾„ï¼Œæ‰¾åˆ°è·¯ç”±ç»„ä»¶ï¼›åœ¨å®¢æˆ·ç«¯éœ€é€šè¿‡æµè§ˆå™¨ä¸­çš„ç½‘å€ï¼Œæ‰¾åˆ°è·¯ç”±ç»„ä»¶ï¼Œæ˜¯å®Œå…¨ä¸åŒçš„ä¸¤å¥—æœºåˆ¶ã€‚<br>æ‰€ä»¥è¿™éƒ¨åˆ†ä»£ç è‚¯å®šæ— æ³•å…¬ç”¨ã€‚</p><p>ä»£ç ç¤ºä¾‹ï¼š<br>å®¢æˆ·ç«¯è·¯ç”±</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> App = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">      &lt;BrowserRouter&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;Route path=<span class="string">&#x27;/&#x27;</span> component=&#123;Home&#125;&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">      &lt;/BrowserRouter&gt;</span><br><span class="line">    &lt;/Provider&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">ReactDom.render(<span class="xml"><span class="tag">&lt;<span class="name">App</span>/&gt;</span></span>, <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#root&#x27;</span>))</span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯è·¯ç”±ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> App = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> </span><br><span class="line">    &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">      &lt;StaticRouter location=&#123;req.path&#125; context=&#123;context&#125;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;Route path=<span class="string">&#x27;/&#x27;</span> component=&#123;Home&#125;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/StaticRouter&gt;</span><br><span class="line">    &lt;/Provider&gt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ReactDom.renderToString(<span class="xml"><span class="tag">&lt;<span class="name">App</span>/&gt;</span></span>)</span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯è·¯ç”±ä»£ç ç›¸å¯¹å¤æ‚ç‚¹ï¼Œéœ€è¦æŠŠlocation(å½“å‰è¯·æ±‚è·¯å¾„)ä¼ é€’ç»™StaticRouterç»„ä»¶ï¼Œè¿™æ ·StaticRouteræ‰èƒ½æ ¹æ®<br>è·¯å¾„åˆ†æå‡ºå½“å‰æ‰€éœ€è¦çš„ç»„ä»¶æ˜¯å“ªä¸ªã€‚</p><blockquote><p>StaticRouteræ˜¯React-Routeré’ˆå¯¹æœåŠ¡ç«¯æ¸²æŸ“ä¸“é—¨æä¾›çš„ä¸€ä¸ªè·¯ç”±ç»„ä»¶</p></blockquote><p>BrowerRouterèƒ½å¤ŸåŒ¹é…åˆ°æµè§ˆå™¨å³å°†æ˜¾ç¤ºçš„è·¯ç”±ç»„ä»¶ï¼Œå¯¹æµè§ˆå™¨æ¥è¯´ï¼Œéœ€è¦å°†ç»„ä»¶è½¬åŒ–æˆDOMï¼Œç”¨ReactDom.renderè¿›è¡ŒDOMæŒ‚è½½ã€‚</p><p>StaticRouterèƒ½å¤Ÿåœ¨æœåŠ¡å™¨ç«¯åŒ¹é…åˆ°å°†è¦æ˜¾ç¤ºçš„ç»„ä»¶ï¼Œå¯¹æœåŠ¡ç«¯æ¥è¯´ï¼Œéœ€è¦å°†ç»„ä»¶è½¬åŒ–æˆå­—ç¬¦ä¸²ï¼Œç”¨ReactDom.renderToStringæ–¹æ³•ï¼Œå°±å¯ä»¥åŠæ—¶å¾—åˆ°Appç»„ä»¶å¯¹åº”çš„HTMLå­—ç¬¦ä¸²</p><p>å¯¹ä¸€ä¸ªReactåº”ç”¨æ¥è¯´ï¼Œè·¯ç”±ä¸€èˆ¬æ˜¯æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œå…¥å£ï¼Œåœ¨SSRä¸­ï¼ŒæœåŠ¡ç«¯çš„è·¯ç”±å’Œå®¢æˆ·ç«¯çš„è·¯ç”±ä¸ä¸€æ ·ï¼Œ<br>æ„å‘³ç€æœåŠ¡ç«¯çš„å…¥å£ä»£ç å’Œå®¢æˆ·ç«¯çš„å…¥å£ä»£ç æ˜¯ä¸åŒçš„ã€‚</p><p>æ‰€ä»¥ï¼Œé’ˆå¯¹ä»£ç è¿è¡Œç¯å¢ƒçš„ä¸åŒï¼Œè¦è¿›è¡Œæœ‰åŒºåˆ«çš„webpackæ‰“åŒ…ã€‚</p><h3 id="æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä»£ç çš„æ‰“åŒ…å·®å¼‚"><a href="#æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä»£ç çš„æ‰“åŒ…å·®å¼‚" class="headerlink" title="æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä»£ç çš„æ‰“åŒ…å·®å¼‚"></a>æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä»£ç çš„æ‰“åŒ…å·®å¼‚</h3><p>å®¢æˆ·ç«¯webpacké…ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  entry: <span class="string">&#x27;./src/client/index.js&#x27;</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">&#x27;index.js&#x27;</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;public&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [&#123;</span><br><span class="line">      test: <span class="regexp">/\.js?$/</span>,</span><br><span class="line">      loader: <span class="string">&#x27;babel-loader&#x27;</span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line">      test: <span class="regexp">/\.css?$/</span>,</span><br><span class="line">      use: [<span class="string">&#x27;style-loader&#x27;</span>, &#123;</span><br><span class="line">        loader: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">        options: &#123;<span class="attr">modules</span>: <span class="literal">true</span>&#125;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">      test: <span class="regexp">/\.(png|jpeg|jpg|gif|svg)?$/</span>,</span><br><span class="line">      loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        limit: <span class="number">8000</span>,</span><br><span class="line">        publicPath: <span class="string">&#x27;/&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æœåŠ¡ç«¯webpacké…ç½®"><a href="#æœåŠ¡ç«¯webpacké…ç½®" class="headerlink" title="æœåŠ¡ç«¯webpacké…ç½®"></a>æœåŠ¡ç«¯webpacké…ç½®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="comment">// è¿™é‡Œä¸åŒ</span></span><br><span class="line">  target: <span class="string">&#x27;node&#x27;</span>,</span><br><span class="line"><span class="comment">//   entryä¸åŒ</span></span><br><span class="line">  entry: <span class="string">&#x27;./src/server/index.js&#x27;</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">    <span class="comment">// è¾“å‡ºè·¯å¾„ä¸åŒ</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;build&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"><span class="comment">//   è¿™é‡Œä¸åŒ</span></span><br><span class="line">  externals: [nodeExternals()],</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [&#123;</span><br><span class="line">      test: <span class="regexp">/\.js?$/</span>,</span><br><span class="line">      loader: <span class="string">&#x27;babel-loader&#x27;</span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line">      test: <span class="regexp">/\.css?$/</span>,</span><br><span class="line">      <span class="comment">// è¿™é‡Œä¸åŒ</span></span><br><span class="line">      use: [<span class="string">&#x27;isomorphic-style-loader&#x27;</span>, &#123;</span><br><span class="line">        loader: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">        options: &#123;<span class="attr">modules</span>: <span class="literal">true</span>&#125;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">      test: <span class="regexp">/\.(png|jpeg|jpg|gif|svg)?$/</span>,</span><br><span class="line">      loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        limit: <span class="number">8000</span>,</span><br><span class="line">        <span class="comment">// è¿™é‡Œä¸åŒ</span></span><br><span class="line">        outputPath: <span class="string">&#x27;../public/&#x27;</span>,</span><br><span class="line">        publicPath: <span class="string">&#x27;/&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“å’Œå®¢æˆ·ç«¯é…ç½®æ˜¯æœ‰å·®å¼‚çš„ã€‚</p><ul><li><p>nodeæ ¸å¿ƒæ¨¡å—: åœ¨æœåŠ¡ç«¯è¿è¡Œçš„ä»£ç ï¼Œéœ€è¦å¼•å…¥Nodeçš„ä¸€äº›æ ¸å¿ƒæ¨¡å—ã€‚åœ¨æ¨¡å—æ‰“åŒ…æ—¶ï¼Œéœ€è¦Webpackè¯†åˆ«å‡ºç±»ä¼¼çš„æ ¸å¿ƒæ¨¡å—ï¼Œ<br>ä¸€æ—¦å‘ç°æ˜¯æ ¸å¿ƒæ¨¡å—ï¼Œä¸å¿…æŠŠæ¨¡å—çš„ä»£ç åˆå¹¶åˆ°æœ€ç»ˆç”Ÿæˆçš„ä»£ç ä¸­ã€‚<br>è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€åœ¨æœåŠ¡ç«¯webpackä¸­åŠ å…¥<code>target: node</code>ã€‚</p></li><li><p>ç¬¬ä¸‰æ–¹æ¨¡å—: æœåŠ¡ç«¯æ¸²æŸ“çš„ä»£ç ï¼Œå¦‚æœåŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œè¿™äº›æ¨¡å—ä¸ç”¨æ‰“åŒ…åˆ°æœ€ç»ˆæºç ä¸­ï¼Œå› ä¸ºNodeç¯å¢ƒä¸‹é€šè¿‡NPMå·²ç»<br>å®‰è£…äº†è¿™äº›åŒ…ï¼Œç›´æ¥å¼•ç”¨å°±è¡Œï¼Œä¸éœ€è¦é¢å¤–å†æ‰“åŒ…åˆ°ä»£ç é‡Œã€‚<br>è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨<a href="https://www.npmjs.com/package/webpack-node-externals">webpack-node-externalsæ’ä»¶</a></p></li><li><p>CSSæ ·å¼é¥®ç”¨: Reactä»£ç ä¸­å¼•å…¥CSSæ ·å¼ä»£ç ï¼ŒæœåŠ¡ç«¯æ‰“åŒ…çš„è¿‡ç¨‹ä¼šå¤„ç†ä¸€éCSSï¼Œå®¢æˆ·ç«¯åˆä¼šå¤„ç†ä¸€éã€‚<br>è§£å†³ï¼šæœåŠ¡ç«¯ä½¿ç”¨<a href="https://www.npmjs.com/package/isomorphic-style-loader">isomorphic-style-loader</a><br>å®ƒå¤„ç†CSSæ—¶ï¼Œåªåœ¨å¯¹åº”çš„DOMå…ƒç´ ä¸Šç”Ÿæˆclassç±»ï¼Œè¿”å›ç”Ÿæˆçš„CSSæ ·å¼ä»£ç ã€‚</p><pre><code>          ---çœ‹æ–‡æ¡£æœ‰ç‚¹æ²¡æ‡‚ï¼Œè¿˜è¦æ”¹ç»„ä»¶ä»£ç ?éœ€è¦æµ‹ä¸€ä¸‹</code></pre></li><li><p>å›¾ç‰‡å¼•å…¥: å›¾ç‰‡ç­‰ç±»å‹æ–‡ä»¶çš„å¼•å…¥ï¼Œurl-loaderä¼šåœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ‰“åŒ…çš„è¿‡ç¨‹ä¸­åˆ†åˆ«æ‰“åŒ…ã€‚ä¸Šè¿°é…ç½®æ— è®ºæœåŠ¡ç«¯è¿˜æ˜¯<br>å®¢æˆ·ç«¯æ‰“åŒ…ï¼Œéƒ½æŠŠæ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶å­˜å‚¨åœ¨publicç›®å½•ä¸‹ï¼Œè¿™æ ·è™½ç„¶æ‰“åŒ…å‡ºæ¥ä¸¤éï¼Œä½†åæ‰“åŒ…çš„ä¼šè¦†ç›–ä¹‹å‰æ–‡ä»¶ï¼Œçœ‹èµ·æ¥åªæœ‰<br>ä¸€ä»½æ–‡ä»¶ã€‚<br>è¿™æ ·åšæ€§èƒ½ä¼˜é›…æ€§ä¸é«˜ï¼Œå¯ä»¥è®©å›¾ç‰‡å¤§æ‰“åŒ…åªè¿›è¡Œä¸€æ¬¡ï¼Œå€ŸåŠ©webpackçš„æ’ä»¶æˆ–è‡ªå·±å†™loaderã€‚</p></li></ul><hr><p><strong>å¦‚æœReactçš„åº”ç”¨ä¸­æ²¡æœ‰ä¸€éƒ¨æ•°æ®çš„è·å–ã€‚å•çº¯çš„åšé™æ€å±•ç¤ºã€‚ç»è¿‡ä¸Šé¢é…ç½®ï¼Œç®€å•çš„SSRåº”ç”¨å°±å¯ä»¥å®ç°äº†</strong></p><hr><h1 id="å¼‚æ­¥æ•°æ®è·å–-Reduxä½¿ç”¨"><a href="#å¼‚æ­¥æ•°æ®è·å–-Reduxä½¿ç”¨" class="headerlink" title="å¼‚æ­¥æ•°æ®è·å– + Reduxä½¿ç”¨"></a>å¼‚æ­¥æ•°æ®è·å– + Reduxä½¿ç”¨</h1><p>å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œå¼‚æ­¥æ•°æ®ç»“åˆReduxçš„ä½¿ç”¨æ–¹å¼éµå¾ªä¸‹é¢çš„æµç¨‹(å¯¹åº”ä¸Šé¢12æ­¥):</p><ol><li>åˆ›å»ºStore</li><li>æ ¹æ®è·¯ç”±æ˜¾ç¤ºç»„ä»¶</li><li>æ´¾å‘Actionè·å–æ•°æ®</li><li>æ›´æ–°Storeä¸­çš„æ•°æ®</li><li>ç»„ä»¶Rerender</li></ol><p>æœåŠ¡ç«¯ï¼Œé¡µé¢ä¸€æ—¦ç¡®å®šï¼Œå°±æ²¡æ³•Rerenderäº†ï¼Œè¿™å°±è¦æ±‚ç»„ä»¶æ˜¾ç¤ºæ—¶ï¼ŒæŠŠStoreçš„æ•°æ®éƒ½å‡†å¤‡å¥½ã€‚<br>æ‰€ä»¥æœåŠ¡ç«¯æµç¨‹å¦‚ä¸‹(å¯¹åº”ç¬¬4æ­¥)ï¼š</p><ol><li>åˆ›å»ºStore</li><li>æ ¹æ®è·¯ç”±åˆ†æStoreä¸­éœ€è¦çš„æ•°æ®</li><li>æ´¾å‘Action</li><li>æ›´æ–°Storeä¸­çš„æ•°æ®</li><li>ç»“åˆæ•°æ®å’Œç»„ä»¶ç”ŸæˆHTMLï¼Œä¸€æ¬¡æ€§è¿”å›</li></ol><h2 id="åˆ†ææœåŠ¡ç«¯æ¸²æŸ“æµç¨‹"><a href="#åˆ†ææœåŠ¡ç«¯æ¸²æŸ“æµç¨‹" class="headerlink" title="åˆ†ææœåŠ¡ç«¯æ¸²æŸ“æµç¨‹"></a>åˆ†ææœåŠ¡ç«¯æ¸²æŸ“æµç¨‹</h2><ul><li><p>åˆ›å»ºStore: å®¢æˆ·ç«¯æ¸²æŸ“ä¸­ï¼Œç”¨æˆ·æµè§ˆå™¨ä¸­æ°¸è¿œåªå­˜åœ¨ä¸€ä¸ªStoreï¼Œæ‰€ä»¥ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = createStore(reducer, defaultState)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure><p>è€Œåœ¨æœåŠ¡ç«¯çš„Storeæ˜¯æ‰€æœ‰ç”¨æˆ·å…±ç”¨çš„ã€‚å¦‚æœå¦‚ä¸Šåˆ›å»ºStoreï¼ŒStoreå˜æˆä¸€ä¸ªå•ä¾‹ï¼Œæ‰€æœ‰ç”¨æˆ·å…±äº«Storeï¼Œæ˜¾ç¤ºå°±æœ‰é—®é¢˜äº†ã€‚<br>æ‰€ä»¥åœ¨æœåŠ¡ç«¯æ¸²æŸ“ä¸­ï¼ŒStoreåˆ›å»ºå¦‚ä¸‹ï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ¯ä¸ªç”¨æˆ·è®¿é—®æ—¶ï¼Œè¿™ä¸ªå‡½æ•°é‡æ–°æ‰§è¡Œï¼Œä¸ºæ¯ä¸ªç”¨æˆ·æä¾›ç‹¬ç«‹çš„Storeï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getStore = <span class="function">(<span class="params">req</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> createStore(reducer, defaultState);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> getStore;</span><br></pre></td></tr></table></figure></li><li><p>æ ¹æ®è·¯ç”±åˆ†æStoreä¸­éœ€è¦çš„æ•°æ®<br>åœ¨æœåŠ¡ç«¯ï¼Œéœ€è¦åˆ†æå½“å‰è·¯ç”±è¦åŠ è½½çš„æ‰€æœ‰ç»„ä»¶ï¼Œå€ŸåŠ©ç¬¬ä¸‰æ–¹åŒ…ï¼Œæ¯”å¦‚<a href="https://www.npmjs.com/package/react-router-config">react-router-config</a>.(æ‰€æœ‰è·¯ç”±pathéƒ½è¦æ”¹ä¸ºç»å¯¹è·¯å¾„)<br>è¿™ä¸ªåŒ…ä¼šæ ¹æ®ä¼ å…¥æœåŠ¡çš„è¯·æ±‚è·¯å¾„ï¼Œåˆ†æå‡ºè¿™ä¸ªè·¯å¾„ä¸‹è¦å±•ç¤ºçš„æ‰€æœ‰ç»„ä»¶ã€‚</p></li><li><p>æ´¾å‘Actionè·å–æ•°æ®<br>åœ¨<strong>æ¯ä¸ªç»„ä»¶</strong>ä¸Šå¢åŠ ä¸€ä¸ªè·å–æ•°æ®çš„æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Home.loadData = <span class="function">(<span class="params">store</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> store.dispatch(getHomeList())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦å°†æœåŠ¡ç«¯æ¸²æŸ“çš„Storeä¼ è¿›æ¥ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯å¸®åŠ©æœåŠ¡ç«¯çš„Storeè·å–åˆ°è¿™ä¸ªç»„ä»¶æ‰€éœ€çš„æ•°æ®ã€‚æ‰€ä»¥ç»„ä»¶æœ‰äº†è¿™æ ·çš„æ–¹æ³•ï¼Œ<br>åŒæ—¶æˆ‘ä»¬ä¹Ÿæœ‰å½“å‰è·¯ç”±æ‰€éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œä¾æ¬¡è°ƒç”¨å„ä¸ªç»„ä»¶ä¸Šçš„loadDataæ–¹æ³•ï¼Œå°±èƒ½è·å–åˆ°è·¯ç”±æ‰€éœ€çš„æ‰€æœ‰æ•°æ®å†…å®¹.</p></li><li><p>æ›´æ–°Storeä¸­çš„æ•°æ®<br>éœ€è¦åœ¨ç”ŸæˆHTMLä¹‹å‰ï¼Œä¿è¯æ‰€æœ‰çš„æ•°æ®éƒ½è·å–å®Œæ¯•ã€‚æ€ä¹ˆå¤„ç†ï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// matchedRoutes æ˜¯å½“å‰è·¯ç”±å¯¹åº”çš„æ‰€æœ‰éœ€è¦æ˜¾ç¤ºçš„ç»„ä»¶é›†åˆ</span></span><br><span class="line">matchedRoutes.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (item.route.loadData) &#123;</span><br><span class="line">    <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      item.route.loadData(store).then(resolve).catch(resolve);</span><br><span class="line">    &#125;)</span><br><span class="line">    promises.push(promise);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Promise</span>.all(promises).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ç”Ÿæˆ HTML é€»è¾‘</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ„å»ºPromiseé˜Ÿåˆ—ï¼Œç­‰å¾…æ‰€æœ‰Promiseéƒ½æ‰§è¡Œç»“æŸåï¼Œå†ç”ŸæˆHTMLã€‚</p></li></ul><hr><p>åˆ°æ­¤ï¼Œå°±ç»“åˆå®ç°äº†Reduxå®ç°äº†SSRæµç¨‹</p><hr><p>æœåŠ¡å™¨ç«¯æ¸²æŸ“æ—¶ï¼Œé¡µé¢çš„æ•°æ®æ˜¯é€šè¿‡ loadData å‡½æ•°æ¥è·å–çš„ã€‚è€Œåœ¨å®¢æˆ·ç«¯ï¼Œæ•°æ®è·å–ä¾ç„¶è¦åšï¼Œ<br>å› ä¸ºå¦‚æœè¿™ä¸ªé¡µé¢æ˜¯ä½ è®¿é—®çš„ç¬¬ä¸€ä¸ªé¡µé¢ï¼Œé‚£ä¹ˆä½ çœ‹åˆ°çš„å†…å®¹æ˜¯æœåŠ¡å™¨ç«¯æ¸²æŸ“å‡ºæ¥çš„ï¼Œ<br>ä½†æ˜¯å¦‚æœç»è¿‡ react-router è·¯ç”±è·³è½¬é“ç¬¬äºŒä¸ªé¡µé¢ï¼Œ<br>é‚£ä¹ˆè¿™ä¸ªé¡µé¢å°±å®Œå…¨æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“å‡ºæ¥çš„äº†ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä¹Ÿè¦å»æ‹¿æ•°æ®ã€‚â€”â€”-ä¸éƒ½æ˜¯é€šè¿‡React-routerè·³è½¬çš„å—</p><p>å®¢æˆ·ç«¯è·å–æ•°æ®åœ¨componentDidMounté˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µæœåŠ¡ç«¯ä¸ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥ä¸å¿…æ‹…å¿ƒå’ŒloadDataå†²çªã€‚<br>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ•°æ®çš„è·å–åº”è¯¥æ”¾åˆ°componentDidMounté˜¶æ®µï¼Œå¯ä»¥é¿å…æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯è·å–æ•°æ®å†²çªã€‚</p><h1 id="Nodeåªæ˜¯ä¸€ä¸ªä¸­é—´å±‚"><a href="#Nodeåªæ˜¯ä¸€ä¸ªä¸­é—´å±‚" class="headerlink" title="Nodeåªæ˜¯ä¸€ä¸ªä¸­é—´å±‚"></a>Nodeåªæ˜¯ä¸€ä¸ªä¸­é—´å±‚</h1><p>åœ¨SSRæ¶æ„ä¸­ï¼Œä¸€èˆ¬nodeåªæ˜¯ä¸€ä¸ªä¸­é—´å±‚ï¼Œç”¨æ¥åšReactä»£ç çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œè€Œnodeéœ€è¦çš„æ•°æ®é€šå¸¸ç”±APIæœåŠ¡å™¨å•ç‹¬æä¾›ã€‚</p><p>ä¸€æ˜¯ä¸ºäº†è§£è€¦ï¼Œè€Œæ˜¯è§„é¿NodeæœåŠ¡å™¨çš„ä¸€äº›è®¡ç®—æ€§èƒ½é—®é¢˜ã€‚</p><p>æœåŠ¡ç«¯ç›´æ¥è¯·æ±‚APIæœåŠ¡æ²¡é—®é¢˜ï¼Œä½†åœ¨å®¢æˆ·ç«¯ï¼Œå¯èƒ½å­˜åœ¨è·¨è¶Šé—®é¢˜ã€‚é€šè¿‡è¯·æ±‚nodeæœåŠ¡å™¨ï¼Œç»è¿‡ä»£ç†è½¬å‘ï¼Œæ‹¿åˆ°APIçš„æ•°æ®ã€‚<br>å¯ä»¥é€šè¿‡<a href="https://www.npmjs.com/package/express-http-proxy">express-http-proxy</a>è¿™æ ·çš„å·¥å…·æ­å»ºproxy<br>ä»£ç†åŠŸèƒ½ï¼Œéœ€è¦æ³¨æ„ï¼Œè®©ä»£ç†ä¸æœä¸ä»…è½¬å‘è¯·æ±‚ï¼Œè¿˜è¦æºå¸¦cookieï¼Œé¿å…æƒé™æ ¡éªŒé—®é¢˜ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Node ä»£ç†åŠŸèƒ½å®ç°ä»£ç </span></span><br><span class="line">app.use(<span class="string">&#x27;/api&#x27;</span>, proxy(<span class="string">&#x27;http://apiServer.com&#x27;</span>, &#123;</span><br><span class="line">  proxyReqPathResolver: <span class="function"><span class="keyword">function</span> (<span class="params">req</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;/ssr&#x27;</span> + req.url;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ•´ä¸ªSSRæµç¨‹ä½“ç³»ä¸­çš„å…³é”®çŸ¥è¯†ç‚¹å’ŒåŸç†å°±è®²å®Œäº†ã€‚å½“ç„¶è¿˜æœ‰å¾ˆå¤šç»†èŠ‚çš„å¤„ç†ã€‚æ¯”å¦‚ä¸åŒé¡µé¢é…ç½®ä¸åŒtitleå’Œdescriptionæ¥æç¤ºSEOï¼Œå¯ä»¥ç”¨<a href="https://www.npmjs.com/package/react-helmet">react-helmet</a>ç­‰å·¥å…·ï¼Œè¿˜è¦å·¥ç¨‹ç›®å½•çš„è®¾è®¡ï¼Œ404ï¼Œ301é‡å®šå‘çš„å¤„ç†ç­‰ç­‰ã€‚éœ€è¦åœ¨å®è·µä¸­å„ä¸ªå‡»ç ´~~</p><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><p>React16.Xä¸­çš„SSR</p><ol><li>hydrate<br>Reactåœ¨å®¢æˆ·ç«¯æ¸²æŸ“çš„renderåŸºç¡€ä¸Šï¼Œå¢åŠ äº†æ–°çš„æ–¹æ³•hydrate.<br>å¦‚æœå°½åœ¨å®¢æˆ·ç«¯å‘ˆç°å†…å®¹ï¼Œä½¿ç”¨renderæ–¹æ³•å°±å·²ç»å¤Ÿç”¨äº†ï¼Œå¦‚æœå®¢æˆ·ç«¯è¦åœ¨æœåŠ¡ç«¯çš„åŸºç¡€ä¸Šæ¸²æŸ“ï¼Œç”¨hydrateã€‚ä½¿ç”¨æ–¹æ³•ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;hydrate&#125; <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span>;</span><br><span class="line">hydrate(<span class="xml"><span class="tag">&lt;<span class="name">HomePage</span>/&gt;</span></span>,<span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>));</span><br></pre></td></tr></table></figure>è¿è¡Œåä¼šæç¤ºä¹‹åç‰ˆæœ¬ä¼šç§»é™¤renderï¼Œå®Œå…¨ç”¨hydrateä»£æ›¿ã€‚</li></ol><p>hydrateè§£å†³çš„æ˜¯å¦‚ä½•å¤ç”¨serverç«¯ï¼ŒReactDOMServerçš„ç»“æœã€‚</p><ol start="2"><li>stream</li></ol><p>é’ˆå¯¹renderToStringå’ŒrenderToStaticMarkUpæä¾›äº†streamæ–¹æ³•</p><ul><li><p>renderToNodeStream</p></li><li><p>renderStaticNodeStream</p></li></ul><p>è¿™ä¸¤ä¸ªæ–¹æ³•åŒæ ·æ¥æ”¶çš„å‚æ•°ä¸ºreact elementï¼Œä½†è¿”å›çš„ä¸æ˜¯HTMLå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯è¯»æµã€‚</p><p>React16ä¹‹å‰ç”¨renderToStringï¼Œå’ŒrenderToNodeStreamåŒºåˆ«ï¼š<br>renderToNodeStreamæ”¯æŒç›´æ¥æ¸²æŸ“åˆ°èŠ‚ç‚¹æµï¼Œæ¸²æŸ“åˆ°æµå¯ä»¥å‡å°‘TTFBæ—¶é—´ï¼Œåœ¨æ–‡æ¡£çš„ä¸‹ä¸€éƒ¨åˆ†ç”Ÿæˆä¹‹å‰ï¼Œå°†æ–‡æ¡£çš„å¼€å¤´è‡³ç»“å°¾å‘é€åˆ°æµè§ˆå™¨ã€‚å½“å†…å®¹ä»æœåŠ¡å™¨æµå¼ä¼ è¾“æ—¶ï¼Œæµè§ˆå™¨å¼€å§‹è§£æHTMLã€‚é€Ÿåº¦æ˜¯renderToStringçš„3å€(å®˜æ–¹)ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;renderToStaticMarkup,renderToNodeStream&#125; <span class="keyword">from</span> <span class="string">&#x27;react-dom/server&#x27;</span></span><br><span class="line"><span class="keyword">const</span> root = (<span class="xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></span><br><span class="line">                    &lt;StaticRouter</span><br><span class="line">                      location=&#123;req.url&#125;</span><br><span class="line">                      context=&#123;context&#125;</span><br><span class="line">                      &gt;</span><br><span class="line">                        &lt;App&gt;&lt;/App&gt;</span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">StaticRouter</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span>)</span><br><span class="line">    <span class="keyword">const</span> markupStream = renderToNodeStream(root)</span><br><span class="line">    markupStream.pipe(res,&#123;<span class="attr">end</span>:<span class="literal">false</span>&#125;)</span><br><span class="line">    markupStream.on(<span class="string">&#x27;end&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      res.end()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¿…é¡»åŒ…æ‹¬å¯é€‰å‚æ•° {end:false}å‘Šè¯‰æµå½“æ¸²æŸ“å®Œæˆä¸è‡ªåŠ¨ç»“æŸå“åº”ã€‚è¿™å…è®¸æˆ‘ä»¬å®ŒæˆHTMLä¸»ä½“ï¼Œå¹¶åœ¨æµå®Œå…¨å†™å…¥å“åº”åç»“æŸå“åº”ã€‚</p><h1 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h1><ul><li>å°½é‡é¿å…ä½¿ç”¨windowç­‰å®¢æˆ·ç«¯å˜é‡<br>Serverç«¯æ²¡æœ‰windowå¯¹è±¡ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ä»windowå¼€å§‹é€çº§åˆ¤æ–­</li><li>å®¢æˆ·ç«¯å¯¹è±¡çš„åˆ¤æ–­ç”¨typeof<br><code>if(window &amp;&amp; window.autoScroll) =&gt; if(typeof window != &quot;undefined&quot; &amp;&amp; window.autoScroll)</code></li><li>é¿å…å¾€windowç­‰å…¨å±€å¯¹è±¡æŒ‚è½½å®šæ—¶å™¨<br>å¯èƒ½å†…å­˜æ³„æ¼</li><li>é¿å…random()ç­‰ä¸ç¡®å®šæ€§è¾“å‡º(è¾“å‡ºç»“æœå¯é¢„æœŸï¼Œä¸ä¾èµ–äºç¯å¢ƒç­‰)<br>å¯èƒ½é€ æˆserverç«¯å’Œwebç«¯DOMåŒ¹é…æ£€éªŒä¸æˆåŠŸ</li><li>é¿å…ä½¿ç”¨ç¬¬ä¸‰æ–¹éreactåº“<br>ç”¨reactåŒ…è£…ä¸€ä¸ªjQueryå†™çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</li></ul><h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><ul><li><a href="https://www.yuque.com/es2049/blog/zy0eq0">React ä¸­åŒæ„ï¼ˆSSRï¼‰åŸç†è„‰ç»œæ¢³ç†</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> SSR </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¡Œä¸šæœ¯è¯­</title>
      <link href="posts/%E8%A1%8C%E4%B8%9A%E6%9C%AF%E8%AF%AD/"/>
      <url>posts/%E8%A1%8C%E4%B8%9A%E6%9C%AF%E8%AF%AD/</url>
      
        <content type="html"><![CDATA[<h2 id="è½¯ä»¶è¡Œä¸šæœ¯è¯­"><a href="#è½¯ä»¶è¡Œä¸šæœ¯è¯­" class="headerlink" title="è½¯ä»¶è¡Œä¸šæœ¯è¯­"></a>è½¯ä»¶è¡Œä¸šæœ¯è¯­</h2><ul><li><p>è½¯ä»¶å¼€å‘ä¸­é‡åˆ°çš„æ‰€æœ‰é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¢åŠ ä¸€å±‚æŠ½è±¡è€Œå¾—ä»¥è§£å†³ã€‚</p></li><li><p>è¿‡æ—©çš„ä¼˜åŒ–å¹¶ä¸æ˜¯ä¸€ä»¶å¥½äº‹ã€‚</p></li><li><p>ä»£ç å¼€å‘ä¸­, éš¾ç‚¹æœ‰æ—¶ä¸æ˜¯å®ç°çš„æ€è·¯ï¼Œ è€Œæ˜¯ç»†èŠ‚çš„å¤„ç†</p></li><li><p>å¸¸æ•°å˜æ˜“æ³•<br>  å°æ­¥èµ°ï¼ŒåŠæ—¶åé¦ˆ<br>  äººç±»çš„æ€è€ƒä¹ æƒ¯æ˜¯ä»å…·ä½“åˆ°æŠ½è±¡<br>  å¯ä»¥ä»æŸä¸ªå…·ä½“çš„æƒ…å†µå…¥æ‰‹ï¼ŒæŠŠæ‰€æœ‰å˜åŒ–çš„è¦ç´ éƒ½å›ºå®šä¸‹æ¥</p><p>  ä»æœ€ç®€å•çš„æƒ…å†µå…¥æ‰‹ï¼Œå†é€æ­¥æ‰©å±•åˆ°å¤æ‚æƒ…å†µ<br>  æŠ›å¼€å˜åŒ–</p><pre><code>  å˜åŒ–ä¼šå¹²æ‰°æˆ‘ä»¬çš„æ€è·¯ï¼Œå…ˆæŠŠå˜çš„ä¸œè¥¿å›ºå®šæ­»ï¼Œå†™å‡ºåº”å¯¹æ­»æ•°æ®çš„å¤„ç†è¿‡ç¨‹</code></pre><p>  æ‰¾è§„å¾‹  ä»å¯¹æ­»æ•°æ®çš„å¤„ç†è¿‡ç¨‹ä¸­æ‰¾è§„å¾‹ï¼Œæœ‰æ—¶å¯ä»¥é€šè¿‡é€‚å½“å˜æ¢ä½¿å¾—è§„å¾‹ä¸€è‡´<br>  ä»£æ¢ æŠŠå¸¸é‡ä»£æ¢ä¸ºå˜é‡ï¼Œå¹¶ä¿æŒç¨‹åºæ‰§è¡Œçš„ç»“æœ</p></li><li><p>ä¼šå¤šè¯­è¨€çš„å¥½å¤„ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„åœºæ™¯å’Œè¦æ±‚æ¥å†³å®šä½¿ç”¨å“ªç§è¯­è¨€å®ç°æŸäº›åŠŸèƒ½ã€‚</p></li></ul><p>è¯»ä¹¦åƒéå…¶ä¹‰è‡ªè§</p><p>ç®€åŒ–çŸ¥è¯†ç‚¹â€“è¯»ä¹¦è¯»ç›®å½•</p><p>å¤šè¯»ä¹¦ï¼Œ çœ‹ä¸æ‡‚ä¹Ÿè¦çœ‹å®Œï¼ŒçŸ¥è¯†æ˜¯é€’å½’ç»“æ„</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>mac ç»éªŒ</title>
      <link href="posts/Mac%20%E7%BB%8F%E9%AA%8C/"/>
      <url>posts/Mac%20%E7%BB%8F%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="macæ—¥å¸¸ç»éªŒç§¯ç´¯"><a href="#macæ—¥å¸¸ç»éªŒç§¯ç´¯" class="headerlink" title="macæ—¥å¸¸ç»éªŒç§¯ç´¯"></a>macæ—¥å¸¸ç»éªŒç§¯ç´¯</h2><p>è®°å½•æ—¥å¸¸ç»éªŒ</p><h2 id="åœ¨-Mac-OS-X-çš„-Terminal-ä¸Šå¦‚ä½•ä¿®æ”¹è¡Œé¦–çš„æ˜¾ç¤º"><a href="#åœ¨-Mac-OS-X-çš„-Terminal-ä¸Šå¦‚ä½•ä¿®æ”¹è¡Œé¦–çš„æ˜¾ç¤º" class="headerlink" title="åœ¨ Mac OS X çš„ Terminal ä¸Šå¦‚ä½•ä¿®æ”¹è¡Œé¦–çš„æ˜¾ç¤º"></a>åœ¨ Mac OS X çš„ Terminal ä¸Šå¦‚ä½•ä¿®æ”¹è¡Œé¦–çš„æ˜¾ç¤º</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo scutil --<span class="built_in">set</span> HostName æ–°çš„ä¸»æœºå</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤åï¼Œå†è¾“å…¥ exit ç»“æŸå½“å‰ç»ˆç«¯è¿›ç¨‹ã€‚é‡æ–°æ‰“å¼€ç»ˆç«¯ï¼Œå°±ä¼šå‘ç°ä¸»æœºåå·²ç»ä¿®æ”¹ä¸ºæ–°çš„ä¸»æœºåäº†ã€‚</p><p>ç„¶åé‡å¯terminal</p><h2 id="keyboardé”®ç›˜è®¾ç½®"><a href="#keyboardé”®ç›˜è®¾ç½®" class="headerlink" title="keyboardé”®ç›˜è®¾ç½®"></a>keyboardé”®ç›˜è®¾ç½®</h2><p>æŒ‰command+ç©ºæ ¼æˆ–ç”¨Alfredæœkeyboard, æ‰“å¼€é”®ç›˜è®¾ç½®çª—å£<br>æŠŠæŒ‰é”®é‡å¤å’Œé‡å¤å‰å»¶è¿Ÿè°ƒåˆ°æœ€å¿«ï¼Œå¯æå‡æ‰“å­—æ•ˆç‡</p><h2 id="çª—å£å¹³é“ºå·¥å…·"><a href="#çª—å£å¹³é“ºå·¥å…·" class="headerlink" title="çª—å£å¹³é“ºå·¥å…·"></a>çª—å£å¹³é“ºå·¥å…·</h2><p><a href="https://itunes.apple.com/cn/app/magnet/id441258766?mt=12&ign-mpt=uo=4">Magnet</a></p><p>åœ¨xclient.infoå¯ä»¥ä¸‹è½½åˆ°</p><h2 id="macåˆ›å»ºæ–‡ä»¶å¤¹éœ€è¦å¯†ç "><a href="#macåˆ›å»ºæ–‡ä»¶å¤¹éœ€è¦å¯†ç " class="headerlink" title="macåˆ›å»ºæ–‡ä»¶å¤¹éœ€è¦å¯†ç "></a>macåˆ›å»ºæ–‡ä»¶å¤¹éœ€è¦å¯†ç </h2><p>ä»ç»ˆç«¯è¿›åˆ°ç›®æ ‡æ–‡ä»¶å¤¹æˆ–ç›®æ ‡æ–‡ä»¶å¤¹ä¸Šçº§</p><p>æ‰§è¡Œ<code>sudo chmod -R 777 xxx</code>, xxxæ˜¯ä½ éœ€è¦æ·»åŠ å†™æƒé™çš„æ–‡ä»¶å¤¹åç§°</p><h2 id="macå½•å±"><a href="#macå½•å±" class="headerlink" title="macå½•å±"></a>macå½•å±</h2><p>è‡ªå¸¦è½¯ä»¶å³å¯å½•åˆ¶<br>QuickTime Player</p><h2 id="mac-å®‰è£…-tomcat"><a href="#mac-å®‰è£…-tomcat" class="headerlink" title="mac å®‰è£… tomcat"></a>mac å®‰è£… tomcat</h2><ol><li><p>æŒ‰ç…§ç™¾åº¦ç»éªŒï¼Œå®‰è£…Java jdkï¼Œé…ç½®ç¯å¢ƒå˜é‡<br> æ£€æŸ¥Javaç‰ˆæœ¬ java -version<br> echo $JAVA_HOME</p></li><li><p>ä¸‹è½½tomcatï¼Œå®˜ç½‘ç‰ˆ</p></li><li><p>ä¿®æ”¹æˆæƒ<br> è¿›å…¥tomcatçš„binç›®å½•,ä¿®æ”¹æˆæƒ</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">âœ bin <span class="built_in">pwd</span></span><br><span class="line">/Users/yp/Documents/workspace/apache-tomcat-7.0.68/bin</span><br><span class="line">âœ bin sudo chmod 755 *.sh</span><br></pre></td></tr></table></figure><ol><li>sudoä¸ºç³»ç»Ÿè¶…çº§ç®¡ç†å‘˜æƒé™.</li><li>chmod æ”¹å˜ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶çš„å­˜å–æ¨¡å¼</li><li>755ä»£è¡¨ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶æ‹¥æœ‰è¯»ã€å†™ã€æ‰§è¡Œçš„æƒé™ï¼ŒåŒç»„çš„å…¶ä»–äººå‘˜æ‹¥æœ‰æ‰§è¡Œå’Œè¯»çš„æƒé™ï¼Œæ²¡æœ‰å†™çš„æƒé™ï¼Œå…¶å®ƒç”¨æˆ·çš„æƒé™å’ŒåŒç»„äººå‘˜ä¸€æ ·.</li><li>777ä»£è¡¨ï¼Œuser,group ,others ,éƒ½æœ‰è¯»å†™å’Œå¯æ‰§è¡Œæƒé™.</li><li>chmod -R 777 folername,è·å–æ–‡ä»¶å¤¹æƒé™.</li></ol></li></ol><!---more---><h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><p>äºŒã€å¯åŠ¨<br>æ‰§è¡Œå¯åŠ¨å‘½ä»¤ sudo sh ./startup.sh<br>è®¿é—®<a href="http://localhost:8080/">http://localhost:8080/</a></p><p>å…³é—­</p><p>sudo sh ./shutdown.sh</p><p>æˆ–ç›´æ¥./shutdown.sh</p><p>å®‰è£… nginx</p><p>å…ˆå®‰è£… homebrew</p><p>brew install nginx</p><p>mac ä¸‹ vim å¿«æ·é”®</p><p>ä¸åœ¨ç¼–è¾‘çŠ¶æ€ä¸‹æŒ‰ dd åˆ é™¤è¡Œ<br><a href="https://www.jianshu.com/p/6f13474d36ac">é“¾æ¥</a></p><h2 id="æŸ¥çœ‹macå†…å­˜å’Œcpuå ç”¨"><a href="#æŸ¥çœ‹macå†…å­˜å’Œcpuå ç”¨" class="headerlink" title="æŸ¥çœ‹macå†…å­˜å’Œcpuå ç”¨"></a>æŸ¥çœ‹macå†…å­˜å’Œcpuå ç”¨</h2><p>ç³»ç»Ÿè‡ªå¸¦APPâ€“æ´»åŠ¨ç›‘è§†å™¨, å¯ä»¥æŸ¥çœ‹</p><h2 id="mac-æ·»åŠ ä»»ä½•æ¥æºå…è®¸æƒé™"><a href="#mac-æ·»åŠ ä»»ä½•æ¥æºå…è®¸æƒé™" class="headerlink" title="mac æ·»åŠ ä»»ä½•æ¥æºå…è®¸æƒé™"></a>mac æ·»åŠ ä»»ä½•æ¥æºå…è®¸æƒé™</h2><p>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Â Â sudo spctl --master-disable</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç ,å†å›åˆ°éšç§é‡Œï¼Œå°±èƒ½çœ‹åˆ°ä»»ä½•æ¥æº.</p><h2 id="å¦‚ä½•å¸è½½-paragon-NTFS-for-mac"><a href="#å¦‚ä½•å¸è½½-paragon-NTFS-for-mac" class="headerlink" title="å¦‚ä½•å¸è½½ paragon NTFS for mac"></a>å¦‚ä½•å¸è½½ paragon NTFS for mac</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æ‰¾åˆ° /Library/Application Support/Paragon Software ç›®å½•</span><br><span class="line"></span><br><span class="line">sudo ./com.paragon-software.ntfs.uninstall</span><br></pre></td></tr></table></figure><h2 id="macæœ¬åœ°ç»‘å®šhosts"><a href="#macæœ¬åœ°ç»‘å®šhosts" class="headerlink" title="macæœ¬åœ°ç»‘å®šhosts"></a>macæœ¬åœ°ç»‘å®šhosts</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/hosts  </span><br><span class="line"></span><br><span class="line">æ·»åŠ ä»¥ä¸‹å†…å®¹</span><br><span class="line">10.180.112.208 www.baidu.com www.jd.com</span><br></pre></td></tr></table></figure><p>å¯ä»¥æ·»åŠ å¤šä¸ªåŸŸå, ä¹Ÿå¯ä»¥ä¸€ä¸ª</p><h2 id="macæ‰‹åŠ¿å¿«æ·é”®"><a href="#macæ‰‹åŠ¿å¿«æ·é”®" class="headerlink" title="macæ‰‹åŠ¿å¿«æ·é”®"></a>macæ‰‹åŠ¿å¿«æ·é”®</h2><p>1.ä¸‰æŒ‡æ‹–åŠ¨âœ¨âœ¨âœ¨âœ¨âœ¨<br>    è®¾ç½®-&gt;è¾…åŠ©åŠŸèƒ½-&gt;é¼ æ ‡ä¸è§¦æ§æ¿-&gt;è§¦æ§æ¿é€‰é¡¹-&gt;å¯åŠ¨æ‹–ç§»-&gt;ä¸‰æŒ‡æ‹–ç§»<br>    å¯ä»¥åœ¨è§¦æ§æ¿åœ¨ä»»ä½•è½¯ä»¶æ ‡é¢˜æ æ‹–åŠ¨è¯¥çª—å£<br>2.dockerç¨‹åºåç¼©æ”¾âœ¨âœ¨âœ¨âœ¨âœ¨<br>    æ”¾å¤§é€‰ä¸­, æœ€å¤§<br>    é¼ æ ‡æ”¾åˆ°dockerä¸Šå¯ä»¥çœ‹åˆ°è¯¥ç¨‹åºå›¾æ ‡æ”¾å¤§<br>3.ç‚¹æŒ‰âœ¨âœ¨âœ¨âœ¨âœ¨<br>    è®¾ç½®-&gt;è§¦æ§æ¿-&gt;è½»ç‚¹æ¥ç‚¹æŒ‰<br>    å•æœºåªéœ€è½»ç‚¹è§¦æ§æ¿, ä¸ç”¨ç”¨åŠ›æŒ‰<br>4.æ˜¾ç¤ºå™¨æ’åˆ—âœ¨âœ¨âœ¨âœ¨âœ¨<br>    è®¾ç½®-&gt;æ˜¾ç¤ºå™¨-&gt;æ’åˆ—<br>    macå¦‚æœå¤–æ¥æ˜¾ç¤ºå™¨,å¯ä»¥æ‹–åŠ¨æ˜¾ç¤ºå™¨ä½ç½®æ¥æ’åˆ—ä½ç½®,æ–¹ä¾¿é¼ æ ‡ç§»åŠ¨åˆ°å¦ä¸€ä¸ªæ˜¾ç¤ºå™¨<br>5.å…¨å±ä¸‹åˆ‡æ¢çª—å£âœ¨âœ¨âœ¨<br>    å››æŒ‡æ»‘åŠ¨</p><h2 id="macå®‰è£…homebrew"><a href="#macå®‰è£…homebrew" class="headerlink" title="macå®‰è£…homebrew"></a>macå®‰è£…<a href="https://brew.sh/index_zh-cn">homebrew</a></h2><p>Homebrewçš„å®‰è£…éå¸¸ç®€å•ï¼Œæ‰“å¼€ç»ˆç«¯å¤åˆ¶ã€ç²˜è´´ä»¥ä¸‹å‘½ä»¤ï¼Œå›è½¦ï¼Œæå®š(è¯·æ”¾å¿ƒä½¿ç”¨ï¼ŒåŸæ±åŸå‘³çš„å®˜æ–¹å®‰è£…æ–¹æ³•æ¬è¿ï¼‰<br><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</code></p><h2 id="æ–°å»ºç®¡ç†å‘˜ç”¨æˆ·æ€ä¹ˆå¼„"><a href="#æ–°å»ºç®¡ç†å‘˜ç”¨æˆ·æ€ä¹ˆå¼„" class="headerlink" title="æ–°å»ºç®¡ç†å‘˜ç”¨æˆ·æ€ä¹ˆå¼„"></a>æ–°å»ºç®¡ç†å‘˜ç”¨æˆ·æ€ä¹ˆå¼„</h2><p>ç‚¹å‡»â€œç³»ç»Ÿåå¥½è®¾ç½®â€-â€œç”¨æˆ·ä¸ç¾¤ç»„â€,ç‚¹è§£é”ï¼Œè¾“å…¥å¯†ç ï¼Œç„¶åç‚¹å‡»å·¦ä¸‹è§’çš„â€œ+â€æ–°å»ºä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·ï¼Œç„¶åå›åˆ°ç”µè„‘ä¸»å±å¹•ï¼Œç‚¹å‡»å³ä¸Šè§’èœå•çš„å½“å‰ç”¨æˆ·ï¼Œç„¶åé€‰æ‹©æ–°å»ºçš„ç”¨æˆ·åˆ‡æ¢è¿›å…¥ä½¿ç”¨ã€‚</p><h2 id="è§¦å‘è§’"><a href="#è§¦å‘è§’" class="headerlink" title="è§¦å‘è§’"></a>è§¦å‘è§’</h2><p>åœ¨ã€Œæ¡Œé¢ä¸å±å¹•ä¿æŠ¤ç¨‹åºã€-ã€Œå±å¹•ä¿æŠ¤ç¨‹åºã€<br>å¯ä»¥è®¾ç½®é¼ æ ‡åœ¨æ¯ä¸ªè§’è½çš„æ—¶å€™ç›¸åº”çš„æ“ä½œã€‚</p><p>å¯ç”¨äºé”å±ï¼Œæ˜¾ç¤ºæ¡Œé¢</p><h2 id="MAC-å¿«æ·é”®"><a href="#MAC-å¿«æ·é”®" class="headerlink" title="MAC å¿«æ·é”®"></a>MAC å¿«æ·é”®</h2><p>Macä¸­ä¸»è¦æœ‰å››ä¸ªä¿®é¥°é”®ï¼Œåˆ†åˆ«æ˜¯Commandï¼ŒControlï¼ŒOptionå’ŒShiftã€‚</p><p>Commandæ˜¯Macé‡Œæœ€é‡è¦çš„ä¿®é¥°é”®ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ç›¸å½“äºWindowsä¸‹çš„Ctrlã€‚æ‰€ä»¥ä»¥ä¸‹æœ€åŸºæœ¬æ“ä½œå¾ˆå¥½ç†è§£ï¼š<br>Command-Z æ’¤é”€<br>Command-X å‰ªåˆ‡ã€€ã€€<br>Command-C æ‹·è´ï¼ˆCopyï¼‰ã€€ã€€<br>Command-V ç²˜è´´ã€€ã€€<br>Command-A å…¨é€‰ï¼ˆAllï¼‰ã€€ã€€<br>Command-S ä¿å­˜ï¼ˆSave)ã€€ã€€<br>Command-F æŸ¥æ‰¾ï¼ˆFindï¼‰</p><p>æˆªå›¾ï¼š<br>Command-Shift-4 æˆªå–æ‰€é€‰å±å¹•åŒºåŸŸåˆ°ä¸€ä¸ªæ–‡ä»¶ã€€ã€€<br>Command-Shift-3 æˆªå–å…¨éƒ¨å±å¹•åˆ°æ–‡ä»¶ã€€ã€€<br>Command-Shift-Control-3 æˆªå–å…¨éƒ¨å±å¹•åˆ°å‰ªè´´æ¿ã€€ã€€<br>Command-Shift-4 æˆªå–æ‰€é€‰å±å¹•åŒºåŸŸåˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ–æŒ‰ç©ºæ ¼é”®ä»…æ•æ‰ä¸€ä¸ªçª—å£ã€€ã€€<br>Command-Shift-Control-4 æˆªå–æ‰€é€‰å±å¹•åŒºåŸŸåˆ°å‰ªè´´æ¿ï¼Œæˆ–æŒ‰ç©ºæ ¼é”®ä»…æ•æ‰ä¸€ä¸ªçª—<br>ç°åœ¨ç›´æ¥ç”¨å¾®ä¿¡çš„å¿«æ·é”®äº†</p><p>åœ¨åº”ç”¨ç¨‹åºä¸­ï¼š<br>Command-Option-esc æ‰“å¼€å¼ºåˆ¶é€€å‡ºçª—å£ã€€ã€€<br>Command-H éšè—ï¼ˆHideï¼‰å½“å‰æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºçª—å£ã€€ã€€<br>Command-Option-H éšè—ï¼ˆHideï¼‰å…¶ä»–åº”ç”¨ç¨‹åºçª—å£ã€€ã€€<br>Command-Q é€€å‡ºï¼ˆQuitï¼‰æœ€å‰é¢çš„åº”ç”¨ç¨‹åºã€€ã€€<br>Command-Shift-Z é‡åšï¼Œä¹Ÿå°±æ˜¯æ’¤é”€çš„é€†å‘æ“ä½œã€€ã€€<br>Command-Tab åœ¨æ‰“å¼€çš„åº”ç”¨ç¨‹åºåˆ—è¡¨ä¸­è½¬åˆ°ä¸‹ä¸€ä¸ªæœ€è¿‘ä½¿ç”¨çš„åº”ç”¨ç¨‹åºï¼Œç›¸å½“äºWindowsä¸­ï¼ˆAlt+Tabï¼‰ã€€ã€€<br>Command-Option-esc æ‰“å¼€â€œå¼ºåˆ¶é€€å‡ºâ€çª—å£ï¼Œå¦‚æœæœ‰åº”ç”¨ç¨‹åºæ— å“åº”ï¼Œå¯åœ¨çª—å£åˆ—è¡¨ä¸­é€‰æ‹©å¼ºåˆ¶é€€å‡º</p><p>æ–‡æœ¬å¤„ç†ï¼š<br>Command-å³ç®­å¤´ å°†å…‰æ ‡ç§»è‡³å½“å‰è¡Œçš„è¡Œå°¾ã€€ã€€<br>Command-B åˆ‡æ¢æ‰€é€‰æ–‡å­—ç²—ä½“ï¼ˆBoldï¼‰æ˜¾ç¤ºã€€ã€€<br>fn-Delete ç›¸å½“äºPCå…¨å°ºå¯¸é”®ç›˜ä¸Šçš„Deleteï¼Œä¹Ÿå°±æ˜¯å‘ååˆ é™¤ã€€ã€€<br>fn-ä¸Šç®­å¤´ å‘ä¸Šæ»šåŠ¨ä¸€é¡µï¼ˆPage Upï¼‰ã€€ã€€<br>fn-ä¸‹ç®­å¤´ å‘ä¸‹æ»šåŠ¨ä¸€é¡µï¼ˆPage Downï¼‰ã€€ã€€<br>fn-å·¦ç®­å¤´ æ»šåŠ¨è‡³æ–‡ç¨¿å¼€å¤´ï¼ˆHomeï¼‰ã€€ã€€<br>fn-å³ç®­å¤´ æ»šåŠ¨è‡³æ–‡ç¨¿æœ«å°¾ï¼ˆEndï¼‰ã€€ã€€<br>Command-å³ç®­å¤´ å°†å…‰æ ‡ç§»è‡³å½“å‰è¡Œçš„è¡Œå°¾ã€€ã€€<br>Command-å·¦ç®­å¤´ å°†å…‰æ ‡ç§»è‡³å½“å‰è¡Œçš„è¡Œé¦–ã€€ã€€<br>Command-ä¸‹ç®­å¤´ å°†å…‰æ ‡ç§»è‡³æ–‡ç¨¿æœ«å°¾ã€€ã€€<br>Command-ä¸Šç®­å¤´ å°†å…‰æ ‡ç§»è‡³æ–‡ç¨¿å¼€å¤´ã€€ã€€<br>Option-å³ç®­å¤´ å°†å…‰æ ‡ç§»è‡³ä¸‹ä¸€ä¸ªå•è¯çš„æœ«å°¾ã€€ã€€<br>Option-å·¦ç®­å¤´ å°†å…‰æ ‡ç§»è‡³ä¸Šä¸€ä¸ªå•è¯çš„å¼€å¤´ã€€ã€€<br>Control-A ç§»è‡³è¡Œæˆ–æ®µè½çš„å¼€å¤´</p><p>åœ¨Finderä¸­ï¼š<br>Command-Option-V å‰ªåˆ‡æ–‡ä»¶ã€€ã€€<br>Command-Shift-N æ–°å»ºæ–‡ä»¶å¤¹ï¼ˆNewï¼‰ã€€ã€€<br>Command-Shift-. æ˜¾ç¤ºæˆ–éšè—ç³»ç»Ÿæ–‡ä»¶ã€€ã€€<br>Command-Shift-G è°ƒå‡ºçª—å£ï¼Œå¯è¾“å…¥ç»å¯¹è·¯å¾„ç›´è¾¾æ–‡ä»¶å¤¹ï¼ˆGoï¼‰ã€€ã€€<br>return è¿™ä¸ªå…¶å®ä¸ç®—å¿«æ·é”®ï¼Œç‚¹å‡»æ–‡ä»¶ï¼ŒæŒ‰ä¸‹å¯é‡å‘½åæ–‡ä»¶ã€€ã€€<br>Command-O æ‰“å¼€æ‰€é€‰é¡¹ã€‚åœ¨Macé‡Œæ‰“å¼€æ–‡ä»¶ä¸åƒWindowsé‡Œç›´æ¥æŒ‰Enterã€€ã€€<br>Command-Option-V ä½œç”¨ç›¸å½“äºWindowsé‡Œçš„æ–‡ä»¶å‰ªåˆ‡ã€‚åœ¨å…¶å®ƒä½ç½®ä¸Šå¯¹æ–‡ä»¶å¤åˆ¶ï¼ˆCommand-Cï¼‰ï¼Œåœ¨ç›®çš„ä½ç½®æŒ‰ä¸‹è¿™ä¸ªå¿«æ·é”®ï¼Œæ–‡ä»¶å°†è¢«å‰ªåˆ‡åˆ°æ­¤ä½ç½®ã€€ã€€<br>Command-ä¸Šç®­å¤´ æ‰“å¼€åŒ…å«å½“å‰æ–‡ä»¶å¤¹çš„æ–‡ä»¶å¤¹ï¼Œç›¸å½“äºWindowsé‡Œçš„â€œå‘ä¸Šâ€ã€€ã€€<br>Command-Delete å°†æ–‡ä»¶ç§»è‡³åºŸçº¸ç¯“ã€€ã€€<br>Command-Shift-Delete æ¸…å€’åºŸçº¸ç¯“ã€€ã€€<br>ç©ºæ ¼é”® å¿«é€ŸæŸ¥çœ‹é€‰ä¸­çš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯é¢„è§ˆåŠŸèƒ½</p><p>åœ¨æµè§ˆå™¨ä¸­ï¼š<br>Control-Tab è½¬å‘ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µã€€ã€€<br>Command-L å…‰æ ‡ç›´æ¥è·³è‡³åœ°å€æ ã€€ã€€<br>Control-Tab è½¬å‘ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µã€€ã€€<br>Control-Shift-Tab è½¬å‘ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µã€€ã€€<br>Command-åŠ å·æˆ–ç­‰å· æ”¾å¤§é¡µé¢ã€€ã€€<br>Command-å‡å· ç¼©å°é¡µé¢</p><p>åˆ‡æ¢åŒä¸ªè½¯ä»¶çš„ä¸åŒçª—å£  command+`</p><h2 id="é”å±"><a href="#é”å±" class="headerlink" title="é”å±"></a>é”å±</h2><p><code>ctrl+command+q</code></p><h2 id="è§¦æ‘¸æ¿"><a href="#è§¦æ‘¸æ¿" class="headerlink" title="è§¦æ‘¸æ¿"></a>è§¦æ‘¸æ¿</h2><p>è§¦æ‘¸æ¿å¯ä»¥è®¾ç½®æˆè§¦æ‘¸æ¿è½»æ•²æ›¿ä»£æŒ‰ä¸‹çš„â€¦</p><h2 id="å¦‚ä½•é‡ç½®-Mac-ä¸Šçš„-NVRAM"><a href="#å¦‚ä½•é‡ç½®-Mac-ä¸Šçš„-NVRAM" class="headerlink" title="å¦‚ä½•é‡ç½® Mac ä¸Šçš„ NVRAM"></a>å¦‚ä½•é‡ç½® Mac ä¸Šçš„ NVRAM</h2><p><a href="https://support.apple.com/zh-cn/HT204063">https://support.apple.com/zh-cn/HT204063</a></p><h2 id="é‡ç½®-Mac-ä¸Šçš„ç³»ç»Ÿç®¡ç†æ§åˆ¶å™¨-SMC"><a href="#é‡ç½®-Mac-ä¸Šçš„ç³»ç»Ÿç®¡ç†æ§åˆ¶å™¨-SMC" class="headerlink" title="é‡ç½® Mac ä¸Šçš„ç³»ç»Ÿç®¡ç†æ§åˆ¶å™¨ (SMC)"></a>é‡ç½® Mac ä¸Šçš„ç³»ç»Ÿç®¡ç†æ§åˆ¶å™¨ (SMC)</h2><p><a href="https://support.apple.com/zh-cn/HT201295">https://support.apple.com/zh-cn/HT201295</a></p><h2 id="UI-åˆ‡å›¾å·¥å…·"><a href="#UI-åˆ‡å›¾å·¥å…·" class="headerlink" title="UI åˆ‡å›¾å·¥å…·"></a>UI åˆ‡å›¾å·¥å…·</h2><ul><li><p><a href="http://www.sketchcn.com/">sketch</a><br>ç»˜å›¾å·¥å…·<br><a href="https://www.zhinin.com/sketch-mac.html">ä¸‹è½½ç ´è§£ç‰ˆ</a></p></li><li><p><a href="http://www.fancynode.com.cn/pxcook">PxCook</a><br>ç”Ÿæˆå‰ç«¯ä»£ç åˆ©å™¨</p></li><li><p><a href="http://www.fancynode.com.cn/flavor">Flavor</a><br>sketchå¯¼å‡ºä¸ºPxCookæ’ä»¶Flavor</p></li></ul><h2 id="Xmindå®‰è£…"><a href="#Xmindå®‰è£…" class="headerlink" title="Xmindå®‰è£…"></a>Xmindå®‰è£…</h2><p><a href="http://www.carrotchou.blog/6539.html">ä¸‹è½½åœ°å€</a><br>ä¸‹è½½ä¸»ç¨‹åºå’Œç ´è§£è¡¥ä¸ã€‚ å…ˆå®‰è£…ä¸»ç¨‹åºï¼ŒæŒ‰ç…§ç ´è§£è¡¥ä¸é‡Œçš„æ­¥éª¤å®‰è£…å³å¯ã€‚</p><h2 id="macå…³é—­æŒ‡å®šç«¯å£"><a href="#macå…³é—­æŒ‡å®šç«¯å£" class="headerlink" title="macå…³é—­æŒ‡å®šç«¯å£"></a>macå…³é—­æŒ‡å®šç«¯å£</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo lsof -i:8090</span><br><span class="line">udo <span class="built_in">kill</span> -9 [pid]</span><br><span class="line"><span class="comment"># eg</span></span><br><span class="line">udo <span class="built_in">kill</span> -9 59296</span><br></pre></td></tr></table></figure><h2 id="Windowsè™šæ‹Ÿæœº"><a href="#Windowsè™šæ‹Ÿæœº" class="headerlink" title="Windowsè™šæ‹Ÿæœº"></a>Windowsè™šæ‹Ÿæœº</h2><p><a href="http://soft.macx.cn/6205.htm">http://soft.macx.cn/6205.htm</a></p><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><p>è§£é”Alfred, Workflow</p><h2 id="iPhone-8å¼ºåˆ¶é‡å¯"><a href="#iPhone-8å¼ºåˆ¶é‡å¯" class="headerlink" title="iPhone 8å¼ºåˆ¶é‡å¯"></a>iPhone 8å¼ºåˆ¶é‡å¯</h2><p>å…ˆæŒ‰éŸ³é‡+ï¼Œå†æŒ‰éŸ³é‡-ï¼Œå†é•¿æŒ‰ç”µæºé”®10så·¦å³ä¼šæ˜¾ç¤ºå¼€æœºç”»é¢ã€‚</p><h2 id="homebrew-è½¯ä»¶ä¸‹è½½å®‰è£…åˆ©å™¨"><a href="#homebrew-è½¯ä»¶ä¸‹è½½å®‰è£…åˆ©å™¨" class="headerlink" title="homebrew è½¯ä»¶ä¸‹è½½å®‰è£…åˆ©å™¨"></a>homebrew è½¯ä»¶ä¸‹è½½å®‰è£…åˆ©å™¨</h2><p>[ä¸‹è½½å®‰è£…]<a href="https://brew.sh/index_zh-cn)">https://brew.sh/index_zh-cn)</a><br><a href="https://formulae.brew.sh/formula/">æ‰€æœ‰è½¯ä»¶åˆ—è¡¨</a><br>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install wget</span><br></pre></td></tr></table></figure><h2 id="åœ¨finderå·¦ä¾§è¾¹æ å»ºç«‹æ–°æ–‡ä»¶å¤¹"><a href="#åœ¨finderå·¦ä¾§è¾¹æ å»ºç«‹æ–°æ–‡ä»¶å¤¹" class="headerlink" title="åœ¨finderå·¦ä¾§è¾¹æ å»ºç«‹æ–°æ–‡ä»¶å¤¹"></a>åœ¨finderå·¦ä¾§è¾¹æ å»ºç«‹æ–°æ–‡ä»¶å¤¹</h2><p>æ‰“å¼€finderåœ¨è®¾å¤‡æ‰¾åˆ°ç”µè„‘ç£ç›˜<code>Macintosh HD</code>æˆ–åœ¨æ¡Œé¢æ‰¾åˆ°<code>Macintosh HD</code>ï¼Œ</p><p>è¿›å…¥ç”¨æˆ·ï¼Œé€‰æ‹©è‡ªå·±çš„ç”¨æˆ·åï¼Œæ–°å»ºæ–‡ä»¶å¤¹ï¼Œç„¶åæ‹–åŠ¨åˆ°å·¦è¾¹è¾¹æ å³å¯ã€‚æƒ³è¦åˆ é™¤ç›´æ¥å³å‡»ï¼Œé€‰ä¸­ï¼Œä»è¾¹æ ç§»é™¤.</p><p>è¯¦è§<a href="https://jingyan.baidu.com/article/3052f5a1081d4397f31f862c.html">ç™¾åº¦ç»éªŒé“¾æ¥</a></p><h2 id="macæµè§ˆå™¨å…¨å±åœ°å€æ è¢«éšè—"><a href="#macæµè§ˆå™¨å…¨å±åœ°å€æ è¢«éšè—" class="headerlink" title="macæµè§ˆå™¨å…¨å±åœ°å€æ è¢«éšè—"></a>macæµè§ˆå™¨å…¨å±åœ°å€æ è¢«éšè—</h2><p>å·¦ä¸Šè§’è§†å›¾â€“&gt; åœ¨å…¨å±æ¨¡å¼ä¸‹å§‹ç»ˆæ˜¾ç¤ºå·¥å…·æ gst<br>gst</p><h2 id="macå¸¸ç”¨è½¯ä»¶ä¸‹è½½åœ°å€"><a href="#macå¸¸ç”¨è½¯ä»¶ä¸‹è½½åœ°å€" class="headerlink" title="macå¸¸ç”¨è½¯ä»¶ä¸‹è½½åœ°å€"></a>macå¸¸ç”¨è½¯ä»¶ä¸‹è½½åœ°å€</h2><p><a href="https://mac-torrent-download.net/">mac-torrent-download</a></p><p><a href="https://xclient.info/">xclient.info</a>ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://www.zhihu.com/question/20873070">ç¨‹åºå‘˜å¦‚ä½•ä¼˜é›…åœ°ä½¿ç”¨ macOSï¼Ÿ</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reactè¿›é˜¶è¯»ä¹¦ç¬”è®°</title>
      <link href="posts/React%E8%BF%9B%E9%98%B6%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
      <url>posts/React%E8%BF%9B%E9%98%B6%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="React-å››å¤§ç‰¹ç‚¹"><a href="#React-å››å¤§ç‰¹ç‚¹" class="headerlink" title="React å››å¤§ç‰¹ç‚¹"></a>React å››å¤§ç‰¹ç‚¹</h1><ul><li>å£°æ˜å¼è§†å›¾å±‚<br>  é‡‡ç”¨JSXè¯­æ³•æ¥å£°æ˜è§†å›¾å±‚, å¯ä»¥åœ¨è§†å›¾å±‚ä¸­éšæ„ä½¿ç”¨å„ç§çŠ¶æ€æ•°æ®</li><li>ç®€å•çš„æ›´æ–°æµç¨‹<br>  ä»çŠ¶æ€åˆ°UIå•å‘æ•°æ®æµè®©Reactç»„ä»¶çš„æ›´æ–°æµç¨‹æ›´æ¸…æ™°</li><li>çµæ´»çš„æ¸²æŸ“å®ç°<br>  åŸºäºè™šæ‹Ÿdomæ¸²æŸ“</li><li>é«˜æ•ˆçš„DOMæ“ä½œ<br>  Reactå¯ä»¥å°½é‡å‡å°‘è™šæ‹Ÿdomåˆ°çœŸå®DOMçš„æ¸²æŸ“æ¬¡æ•°, ä»¥åŠæ¯æ¬¡æ¸²æŸ“éœ€è¦æ”¹å˜çš„çœŸå®DOMèŠ‚ç‚¹æ•°ã€‚</li></ul><p>Reactåªæ˜¯viewå±‚, å…³æ³¨çš„æ˜¯å¦‚ä½•æ ¹æ®çŠ¶æ€åˆ›å»ºå¯å¤ç”¨çš„UIç»„ä»¶, å¦‚ä½•æ ¹æ®ç»„ä»¶åˆ›å»ºå¯ç»„åˆçš„UI.<br>åº”ç”¨å¤æ‚æ—¶, éœ€è¦ç»“åˆå…¶ä»–åº“(Redux, MobXç­‰). </p><a id="more"></a><h1 id="Reactç»„ä»¶åå¿…é¡»å¤§å†™"><a href="#Reactç»„ä»¶åå¿…é¡»å¤§å†™" class="headerlink" title="Reactç»„ä»¶åå¿…é¡»å¤§å†™"></a>Reactç»„ä»¶åå¿…é¡»å¤§å†™</h1><p>å› ä¸ºDOMæ ‡ç­¾çš„é¦–å­—æ¯éƒ½æ˜¯å°å†™; Reactç»„ä»¶ç±»å‹çš„æ ‡ç­¾å¿…é¡»é¦–å­—æ¯å¤§å†™ã€‚<br>Reactæ­£æ˜¯é€šè¿‡é¦–å­—æ¯å¤§å°å†™åˆ¤æ–­æ¸²æŸ“çš„æ˜¯ä¸€ä¸ªdomç±»å‹çš„æ ‡ç­¾è¿˜æ˜¯Reactç»„ä»¶ç±»å‹çš„æ ‡ç­¾ã€‚</p><h1 id="JSXè¯­æ³•å®é™…æ˜¯ä»€ä¹ˆ"><a href="#JSXè¯­æ³•å®é™…æ˜¯ä»€ä¹ˆ" class="headerlink" title="JSXè¯­æ³•å®é™…æ˜¯ä»€ä¹ˆ"></a>JSXè¯­æ³•å®é™…æ˜¯ä»€ä¹ˆ</h1><p>JSXè¯­æ³•åªæ˜¯React.createElement(component, props, â€¦children)çš„è¯­æ³•ç³–, æ‰€æœ‰çš„JSXè¯­æ³•æœ€ç»ˆéƒ½ä¼šè¢«è½¬æ¢æˆå¯¹è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ele = <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;foo&#x27;</span>&gt;</span>Hello, React<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>è½¬æ¢å</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ele = React.createElement(<span class="string">&#x27;div&#x27;</span>, &#123;<span class="attr">className</span>: <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;Hello, React&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure><h1 id="ç»„ä»¶å®šä¹‰æ–¹å¼"><a href="#ç»„ä»¶å®šä¹‰æ–¹å¼" class="headerlink" title="ç»„ä»¶å®šä¹‰æ–¹å¼"></a>ç»„ä»¶å®šä¹‰æ–¹å¼</h1><p>æœ‰ä¸¤ç§æ–¹å¼</p><ol><li><p>ES6 class(ç±»ç»„ä»¶)<br> éœ€æ»¡è¶³æ¡ä»¶:</p><ol><li><p>classç»§æ‰¿è‡ªReact.Component</p></li><li><p>classå†…éƒ¨å¿…é¡»å®šä¹‰renderæ–¹æ³•, renderè¿”å›ä»£è¡¨è¯¥ç»„ä»¶UIçš„Reactå…ƒç´ .</p><p>eg:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line">export default class PostList extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                åˆ—è¡¨</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol></li><li><p>ä½¿ç”¨å‡½æ•°(å‡½æ•°ç»„ä»¶)<br> å‡½æ•°ç»„ä»¶æ¥æ”¶propsä½œä¸ºå‚æ•°,è¿”å›è¿™ä¸ªç»„ä»¶UIçš„Reactå…ƒç´ ç»“æ„.</p><p> eg:</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function Welcome(props) &#123;</span><br><span class="line">    return &lt;h1&gt;Hello, &#123;props.name&#125;&lt;&#x2F;h1&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="Reactç»„ä»¶æ•°æ®é©±åŠ¨UI"><a href="#Reactç»„ä»¶æ•°æ®é©±åŠ¨UI" class="headerlink" title="Reactç»„ä»¶æ•°æ®é©±åŠ¨UI"></a>Reactç»„ä»¶æ•°æ®é©±åŠ¨UI</h1><p>Reactç»„ä»¶æ˜¯ç”±propså’Œstateä¸¤ç§ç±»å‹çš„æ•°æ®é©±åŠ¨æ¸²æŸ“å‡ºç»„ä»¶UI. propsæ˜¯ç»„ä»¶å¯¹å¤–çš„æ¥å£, ç»„ä»¶é€šè¿‡propsæ¥æ”¶å¤–éƒ¨ä¼ å…¥çš„æ•°æ®(åŒ…æ‹¬æ–¹æ³•);<br>stateæ˜¯ç»„ä»¶å¯¹å†…çš„æ¥å£, ç»„ä»¶å†…éƒ¨çŠ¶æ€çš„å˜åŒ–é€šè¿‡stateæ¥åæ˜ ã€‚<br>propsæ˜¯åªè¯»çš„, ä¸èƒ½å†ç»„ä»¶å†…éƒ¨ä¿®æ”¹props, è¦ä¿®æ”¹propsåªèƒ½åœ¨çˆ¶ç»„ä»¶ä¸­ä¿®æ”¹;<br>stateæ˜¯å¯å˜çš„, ç»„ä»¶çŠ¶æ€çš„å˜åŒ–<br>é€šè¿‡ä¿®æ”¹stateæ¥å®ç°.</p><p>è¿™ä¹Ÿæ˜¯stateå’Œpropsçš„åŒºåˆ«</p><h1 id="æœ‰çŠ¶æ€ç»„ä»¶-æ— çŠ¶æ€ç»„ä»¶"><a href="#æœ‰çŠ¶æ€ç»„ä»¶-æ— çŠ¶æ€ç»„ä»¶" class="headerlink" title="æœ‰çŠ¶æ€ç»„ä»¶ æ— çŠ¶æ€ç»„ä»¶"></a>æœ‰çŠ¶æ€ç»„ä»¶ æ— çŠ¶æ€ç»„ä»¶</h1><ul><li>å¦‚æœç»„ä»¶å†…éƒ¨çŠ¶æ€æ˜¯ä¸å˜çš„, å°±ä¸ç”¨state, è¿™æ ·çš„ç»„ä»¶ç§°ä¹‹ä¸ºæ— çŠ¶æ€ç»„ä»¶ã€‚</li></ul><p><strong>æ— çŠ¶æ€ç»„ä»¶å°½é‡å®šä¹‰æˆå‡½æ•°ç»„ä»¶.</strong></p><p>ä¼˜ç‚¹:<br>æ— çŠ¶æ€ç»„ä»¶ä¸å…³å¿ƒçŠ¶æ€å˜åŒ–, åªèšç„¦äºUIå±•ç¤º, æ›´å®¹æ˜“è¢«å¤ç”¨ã€‚</p><ul><li>ç»„ä»¶å†…éƒ¨çŠ¶æ€ä¼šå‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦ä½¿ç”¨stateæ¥ä¿å­˜å˜åŒ–ï¼Œè¿™æ ·çš„ç»„ä»¶ç§°ä¸ºæœ‰çŠ¶æ€ç»„ä»¶ã€‚</li></ul><p>å»ºè®®:<br>å¼€å‘Reactåº”ç”¨, ä¸€å®šè¦å…ˆè®¤çœŸæ€è€ƒå“ªäº›ç»„ä»¶åº”è¯¥è®¾è®¡æˆæœ‰çŠ¶æ€ç»„ä»¶, å“ªäº›è¯¥è®¾è®¡æˆæ— çŠ¶æ€ç»„ä»¶.å¹¶ä¸”åº”å°½å¯èƒ½å¤šåœ°ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ã€‚<br>æ— çŠ¶æ€ç»„ä»¶æ•°æ®ä»çˆ¶çº§è·å–, ç»„ä»¶è§£è€¦æ›´å½»åº•.</p><p>Reactç»„ä»¶è®¾è®¡æ€è·¯:<br>é€šè¿‡å®šä¹‰å°‘æ•°çš„æœ‰çŠ¶æ€ç»„ä»¶ç®¡ç†æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€å˜åŒ–, å°†çŠ¶æ€é€šè¿‡propsä¼ é€’ç»™å…¶ä½™çš„æ— çŠ¶æ€ç»„ä»¶, ç”±æ— çŠ¶æ€ç»„ä»¶å®Œæˆé¡µé¢ç»å¤§éƒ¨åˆ†UIçš„æ¸²æŸ“å·¥ä½œã€‚<br>æœ‰çŠ¶æ€ç»„ä»¶ä¸»è¦å…³æ³¨å¤„ç†çŠ¶æ€å˜åŒ–çš„ä¸šåŠ¡é€»è¾‘, æ— çŠ¶æ€ç»„ä»¶ä¸»è¦å…³æ³¨ç»„ä»¶UIçš„æ¸²æŸ“ã€‚</p><h1 id="å±æ€§æ ¡éªŒå’Œé»˜è®¤å€¼"><a href="#å±æ€§æ ¡éªŒå’Œé»˜è®¤å€¼" class="headerlink" title="å±æ€§æ ¡éªŒå’Œé»˜è®¤å€¼"></a>å±æ€§æ ¡éªŒå’Œé»˜è®¤å€¼</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import PropTypes from &#39;prop-types&#39;;</span><br><span class="line"></span><br><span class="line">class PostItem extends React.Component &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PostItem.propsTypes &#x3D; &#123;</span><br><span class="line">    post: PropTypes.object,</span><br><span class="line">    onVote: PropTypes.func</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„,è‡³äºå¯¹è±¡çš„ç»“æ„æˆ–æ•°ç»„å…ƒç´ ç±»å‹æ— æ³•ç¡®å®šã€‚è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨<code>PropTypes.shape</code> æˆ–<code>PropTypes.arrayOf</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">style: PropTypes.shape(&#123;</span><br><span class="line">    color: PropTypes.string,</span><br><span class="line">    fontSize: PropTypes.number</span><br><span class="line">&#125;),</span><br><span class="line">&#x2F;&#x2F; å¿…ä¼ å±æ€§ isRequired</span><br><span class="line">sqeuence: PropTypes.arrayof(PropTypes.number).isRequired</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; é»˜è®¤å±æ€§</span><br><span class="line">PostItem.defaultProps &#x3D; &#123;</span><br><span class="line">    name: &#39;Lucy&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç»„ä»¶ä¸å…ƒç´ "><a href="#ç»„ä»¶ä¸å…ƒç´ " class="headerlink" title="ç»„ä»¶ä¸å…ƒç´ "></a>ç»„ä»¶ä¸å…ƒç´ </h1><p>Reactå…ƒç´ æ˜¯ä¸€ä¸ªæ™®é€šçš„Javascriptå¯¹è±¡, é€šè¿‡DOMèŠ‚ç‚¹æˆ–Reactç»„ä»¶æè¿°ç•Œé¢.<br>JSXè¯­æ³•å°±æ˜¯ç”¨æ¥åˆ›å»ºReactå…ƒç´ çš„ã€‚</p><p>Reactç»„ä»¶æ˜¯ä¸€ä¸ªclassæˆ–å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€äº›å±æ€§ä½œä¸ºè¾“å…¥ï¼Œè¿”å›ä¸€ä¸ªReactå…ƒç´ ã€‚<br>Reactç»„ä»¶ç”±è‹¥å¹²Reactå…ƒç´ ç»„ä»¶è€Œæˆã€‚</p><h1 id="Reactç”Ÿå‘½å‘¨æœŸ"><a href="#Reactç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Reactç”Ÿå‘½å‘¨æœŸ"></a>Reactç”Ÿå‘½å‘¨æœŸ</h1><h2 id="1-æŒ‚è½½é˜¶æ®µ"><a href="#1-æŒ‚è½½é˜¶æ®µ" class="headerlink" title="1. æŒ‚è½½é˜¶æ®µ"></a>1. æŒ‚è½½é˜¶æ®µ</h2><ol><li>constructor<br>ç»„ä»¶è¢«åˆ›å»ºæ—¶ï¼Œä¼šå…ˆè°ƒç”¨ç»„ä»¶çš„æ„é€ æ–¹æ³•ã€‚æ„é€ æ–¹æ³•æ¥æ”¶ä¸€ä¸ªpropså‚æ•°ï¼Œpropsæ˜¯ä»çˆ¶ç»„ä»¶ä¸­ä¼ å…¥çš„å±æ€§å¯¹è±¡ï¼Œ<br>å¦‚æœçˆ¶ç»„ä»¶ä¸­æ²¡æœ‰ä¼ å…¥å±æ€§è€Œç»„ä»¶è‡ªèº«å®šä¹‰äº†é»˜è®¤å±æ€§ï¼Œpropsæ‰§è¡Œç»„ä»¶é»˜è®¤å±æ€§ã€‚å¿…é¡»åœ¨å’Œè¿™ä¸ªæ–¹æ³•ä¸­å…ˆè°ƒç”¨<br><code>super(props)</code>æ‰èƒ½ä¿è¯propsè¢«ä¼ å…¥ç»„ä»¶ä¸­.</li></ol><p>constructorå¸¸ç”¨äºåˆå§‹åŒ–ç»„ä»¶çš„stateä»¥åŠç»‘å®šæ—¶é—´å¤„ç†æ–¹æ³•ç­‰å·¥ä½œã€‚</p><ol start="2"><li><p>componentWillMount<br> ç»„ä»¶è¢«æŒ‚è½½åˆ°DOMå‰è°ƒç”¨ï¼Œåªä¼šè°ƒç”¨ä¸€æ¬¡ã€‚<br> è°ƒç”¨this.stateä¸ä¼šå¼•å‘ç»„ä»¶é‡æ–°æ¸²æŸ“</p></li><li><p>render<br> å®šä¹‰ç»„ä»¶æ—¶å”¯ä¸€å¿…è¦çš„æ–¹æ³•(å…¶ä»–ç”Ÿå‘½å‘¨æœŸæ–¹æ³•éƒ½å¯ä»¥çœç•¥)<br> renderå¹¶ä¸è´Ÿè´£ç»„ä»¶çš„å®é™…æ¸²æŸ“å·¥ä½œï¼Œåªè¿”å›UIçš„æè¿°ï¼Œæ¸²æŸ“é¡µé¢DOMçš„å·¥ä½œç”±Reactè‡ªèº«è´Ÿè´£<br> ä¸èƒ½åœ¨renderè°ƒç”¨<code>this.setState</code>ä¼šæ”¹å˜ç»„ä»¶çŠ¶æ€</p></li><li><p>componentDidMount<br> ç»„ä»¶è¢«æŒ‚è½½åˆ°DOMåè°ƒç”¨, ä¸”åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚<br> å¯ä»¥è·å–åˆ°DOMç»“æ„, ä¾èµ–DOMèŠ‚ç‚¹çš„æ“ä½œå¯ä»¥æ”¾åˆ°è¿™ä¸ªæ–¹æ³•ä¸­</p><p> é€šå¸¸ä¼šç”¨äºå‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®, è°ƒç”¨<code>this.setState</code>ä¼šå¼•èµ·ç»„ä»¶é‡æ–°æ¸²æŸ“</p></li></ol><h2 id="2-æ›´æ–°é˜¶æ®µ"><a href="#2-æ›´æ–°é˜¶æ®µ" class="headerlink" title="2. æ›´æ–°é˜¶æ®µ"></a>2. æ›´æ–°é˜¶æ®µ</h2><p>propså¼•èµ·ç»„ä»¶æ›´æ–°æ—¶ç”±æ¸²æŸ“è¯¥ç»„ä»¶çš„çˆ¶ç»„ä»¶å¼•èµ·çš„.<br>    å½“çˆ¶ç»„ä»¶çš„renderè¢«è°ƒç”¨æ—¶ç»„ä»¶ä¼šå‘ç”Ÿæ›´æ–°è¿‡ç¨‹ï¼Œæ— è®ºpropsæ˜¯å¦æ”¹å˜ï¼Œçˆ¶ç»„ä»¶renderæ–¹æ³•æ¯è°ƒç”¨ä¸€æ¬¡ï¼Œä¼šå¯¼è‡´ç»„ä»¶æ›´æ–°ã€‚<br>stateç»„ä»¶æ›´æ–°æ˜¯é€šè¿‡this.stateä¿®æ”¹ç»„ä»¶stateæ¥è§¦å‘çš„ã€‚</p><ol><li><p>componentWillReceiveProps(nextProps)<br> propså¼•èµ·ç»„ä»¶æ›´æ–°è¿‡ç¨‹æ‰ä¼šè°ƒç”¨<br> stateå¼•èµ·çš„ç»„ä»¶æ›´æ–°ä¸ä¼šè§¦å‘è¯¥æ–¹æ³•æ‰§è¡Œã€‚</p><p> éœ€è¦æ¯”è¾ƒnextPropsä¸this.propsæ¥å†³å®šæ˜¯å¦æ‰§è¡Œpropså‘ç”Ÿå˜åŒ–åçš„é€»è¾‘</p><p> tips:</p><pre><code> - componentWillReceivePropsä¸­è°ƒç”¨setStateï¼Œåªæœ‰åœ¨æœ€è¿‘renderåŠå…¶ä¹‹åçš„æ–¹æ³•ä¸­ï¼Œthis.stateæŒ‡å‘çš„æ‰æ˜¯æ›´æ–°åçš„stateã€‚ åœ¨renderä¹‹å‰çš„æ–¹æ³•shouldComponentUpdateã€componentWillUpdateä¸­ï¼Œthis.stateä¾ç„¶æŒ‡å‘çš„æ˜¯æ›´æ–°å‰çš„state - è°ƒç”¨setStateæ›´æ–°ç»„ä»¶çŠ¶æ€ä¸ä¼šè§¦å‘componentWillReceivePropsçš„è°ƒç”¨ï¼Œå¦åˆ™ä¼šè¿›å…¥æ­»å¾ªç¯ componentWillReceiveProps-&gt;this.setState-&gt;componentWillReceiveProps</code></pre></li><li><p>shouldComponentUpdate<br> é€šè¿‡æ¯”è¾ƒnextpropsã€nextStateå’Œç»„ä»¶å½“å‰çš„propsã€stateå†³å®šè¿™ä¸ªæ–¹æ³•çš„è¿”å›ç»“æœã€‚<br> trueï¼š ç»§ç»­æ›´ç»†è¿‡ç¨‹<br> falseï¼š ç»„ä»¶åœæ­¢æ›´æ–°ï¼Œåç»­æ–¹æ³•ä¸æ‰§è¡Œã€‚</p><p> å¯ä»¥å‡å°‘ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“ï¼Œä¼˜åŒ–ç»„ä»¶æ€§èƒ½ã€‚</p></li><li><p>componentWillUpdate<br> ä¸€èˆ¬å¾ˆå°‘ç”¨åˆ°</p><p> shouldComponentUpdateå’ŒcomponentWillUpdateéƒ½ä¸èƒ½è°ƒç”¨setStateï¼Œå¦åˆ™ä¼šå¼•èµ·å¾ªç¯è°ƒç”¨ã€‚</p></li><li><p>render</p></li><li><p>componentDidUpdate(preProps, preState)<br> æ›´æ–°åè°ƒç”¨å¯ä»¥æ“ä½œæ›´æ–°åçš„DOM<br> ä¸¤ä¸ªå‚æ•°ä»£è¡¨è°ƒç”¨å‰çš„propså’Œstate</p></li></ol><h2 id="3-å¸è½½é˜¶æ®µ"><a href="#3-å¸è½½é˜¶æ®µ" class="headerlink" title="3. å¸è½½é˜¶æ®µ"></a>3. å¸è½½é˜¶æ®µ</h2><ol><li>componentWillUnmount<br> ç»„ä»¶è¢«å¸è½½å‰è°ƒç”¨<br> æ‰§è¡Œæ¸…ç†å·¥ä½œï¼Œå¦‚ï¼šå–æ¶ˆå®šæ—¶å™¨ï¼Œæ‰‹åŠ¨åˆ›å»ºDOMå…ƒç´ ï¼Œå–æ¶ˆhttpè¯·æ±‚ï¼Œä»¥é¿å…å†…å­˜æ³„æ¼ã€‚</li></ol><p>==<strong>åªæœ‰ç±»ç»„ä»¶æ‰æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ï¼ï¼ï¼ï¼ï¼</strong>==</p><h1 id="äº‹ä»¶ç»‘å®š"><a href="#äº‹ä»¶ç»‘å®š" class="headerlink" title="äº‹ä»¶ç»‘å®š"></a>äº‹ä»¶ç»‘å®š</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">handleClick = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> number = ++<span class="built_in">this</span>.state.number;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">        number: number</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;button onClick=&#123;<span class="built_in">this</span>.handleClick&#125;&gt;Click&lt;/button&gt;</span><br></pre></td></tr></table></figure><h1 id="å—æ§ç»„ä»¶-éå—æ§ç»„ä»¶"><a href="#å—æ§ç»„ä»¶-éå—æ§ç»„ä»¶" class="headerlink" title="å—æ§ç»„ä»¶ éå—æ§ç»„ä»¶"></a>å—æ§ç»„ä»¶ éå—æ§ç»„ä»¶</h1><ul><li><p>å—æ§ç»„ä»¶ï¼šéè¡¨å•å…ƒç´ åªéœ€æ ¹æ®ç»„ä»¶çš„å±æ€§æˆ–çŠ¶æ€è¿›è¡Œæ¸²æŸ“<br>  å¦‚æœä¸€ä¸ªè¡¨å•å…ƒç´ çš„å€¼æ˜¯ç”±Reactæ¥ç®¡ç†çš„ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªå—æ§ç»„ä»¶ã€‚</p></li><li><p>çŠ¶æ€ä¸å—Reactæ§åˆ¶çš„è¡¨å•å…ƒç´ ä¸ºéå—æ§ç»„ä»¶ã€‚inputï¼Œtextareaï¼Œselectç­‰<br>  Reactä¸­ï¼Œè£…å¡«çš„ä¿®æ”¹å¿…é¡»é€šè¿‡ç»„ä»¶çš„stateï¼Œéå—æ§ç»„ä»¶çš„è¡Œä¸ºæœ‰æ‚–äºè¿™ä¸€åŸåˆ™ã€‚<br>  ä¸ºäº†è®©è¡¨å•å…ƒç´ çŠ¶æ€å˜æ›´ä¹Ÿèƒ½é€šè¿‡ç»„ä»¶çš„stateç®¡ç†ï¼ŒReacté‡‡ç”¨å—æ§ç»„ä»¶çš„æŠ€æœ¯è¾¾åˆ°è¿™ä¸€ç›®çš„ã€‚</p><p>  å—æ§ç»„ä»¶ä¿è¯äº†è¡¨å•å…ƒç´ çš„çŠ¶æ€ä¹Ÿç”±Reactç»Ÿä¸€ç®¡ç†ï¼Œä½†éœ€ä¸ºæ¯ä¸ªè¡¨å•å…ƒç´ å®šä¹‰onChangeäº‹ä»¶çš„å¤„ç†å‡½æ•°ï¼Œ<br>  æŠŠè¡¨å•çŠ¶æ€åŒæ­¥åˆ°Reactç»„ä»¶çš„stateã€‚è¿™ä¸€è¿‡ç¨‹æ¯”è¾ƒç¹çã€‚</p></li></ul><p>ä¸€ç§æ›¿ä»£æ–¹æ¡ˆæ˜¯ä½¿ç”¨éå—æ§ç»„ä»¶ã€‚<br>è¡¨å•å…ƒç´ çš„çŠ¶æ€ä¾ç„¶ç”±è¡¨å•å…ƒç´ è‡ªå·±ç®¡ç†ï¼Œè€Œä¸æ˜¯äº¤ç»™Reactç»„ä»¶ç®¡ç†ã€‚ä½¿ç”¨éå—æ§ç»„ä»¶éœ€è¦æœ‰ä¸€ç§æ–¹å¼å¯ä»¥è·å–åˆ°è¡¨å•å…ƒç´ çš„å€¼ï¼Œ<br>Reactä¸­æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„å±æ€§ref, ç”¨æ¥å¼•ç”¨Reactç»„ä»¶æˆ–DOMå®ä¾‹ã€‚å› æ­¤å¯ä»¥é€šè¿‡ä¸ºè¡¨å•å…ƒç´ å®šä¹‰refå±æ€§è·å–å…ƒç´ çš„å€¼ã€‚</p><p>çœ‹ä¼¼ç®€åŒ–äº†æ“ä½œè¡¨å•å…ƒç´ çš„è¿‡ç¨‹ï¼Œä½†ç ´åäº†Reactå¯¹ç»„ä»¶çŠ¶æ€ç®¡ç†çš„ä¸€è‡´æ€§ï¼Œæ—ºæ—ºå®¹æ˜“å‡ºç°ä¸å®¹æ˜“æ’æŸ¥çš„é—®é¢˜ï¼Œ<br>éç‰¹æ®Šæƒ…å†µï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚</p><h1 id="React-16æ–°ç‰¹æ€§"><a href="#React-16æ–°ç‰¹æ€§" class="headerlink" title="React 16æ–°ç‰¹æ€§"></a>React 16æ–°ç‰¹æ€§</h1><ol><li>renderæ–°çš„è¿”å›ç±»å‹<br> React156ä¹‹å‰å¿…é¡»è¿”å›å•ä¸ªå…ƒç´ ã€‚ç°åœ¨æ”¯æŒä¸¤ç§æ–°çš„è¿”å›ç±»å‹ï¼šæ•°ç»„(ç”±Reactå…ƒç´ ç»„æˆ)å’Œå­—ç¬¦ä¸²ã€‚</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class ListComponent extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return [</span><br><span class="line">            &lt;li key&#x3D;&quot;A&quot;&gt;First item&lt;&#x2F;li&gt;,</span><br><span class="line">            &lt;li key&#x3D;&quot;B&quot;&gt;Second item&lt;&#x2F;li&gt;,</span><br><span class="line">            &lt;li key&#x3D;&quot;C&quot;&gt;Third item&lt;&#x2F;li&gt;</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class StringComponent extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return &quot;Just a strings&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>é”™è¯¯å¤„ç†</li></ol><p>React16ä¹‹å‰è¿è¡ŒæœŸæ‰§è¡Œå‡ºé”™ï¼Œä¼šé˜»å¡æ•´ä¸ªåº”ç”¨çš„æ¸²æŸ“ã€‚åªèƒ½åˆ·æ–°é¡µé¢æ‰èƒ½æ¢å¤åº”ç”¨ã€‚</p><p>React16å¼•å…¥æ–°çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ç»„ä»¶ä¸­æŠ›å‡ºé”™è¯¯ï¼Œç»„ä»¶ä¼šä»ç»„ä»¶æ ‘ä¸­å¸è½½ï¼Œé¿å…æ•´ä¸ªåº”ç”¨å´©æºƒã€‚</p><p>è¿˜æä¾›äº†é”™è¯¯è¾¹ç•Œ(Error Boundaries),å¯ä»¥è¾“å‡ºé”™è¯¯æ—¥å¿—ï¼Œæ˜¾ç¤ºé”™è¯¯æç¤º.<br><code>componentDidCatch(error, info)</code></p><p>â€”â€”â€”â€”â€“æˆ‘çš„ç‚¹è¯„â€”â€”â€”â€”â€“<br>é¡¹ç›®ä¸­ç›®å‰ä»åç«¯è¿”å›çš„æ•°æ®å–å€¼ã€‚eg:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.data.userInfo[0].nickName</span><br></pre></td></tr></table></figure><p>ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰æ•°æ®éƒ½å¯èƒ½å¼•å‘å¼‚å¸¸<br>é€šå¸¸éœ€è¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res &amp;&amp; res.data &amp;&amp; res.data.userInfo &amp;&amp; ...</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•ï¼š<br>å¯ä»¥è‡ªå·±å†™ä¸ªisEmpty æˆ–å¼•ç”¨<a href="https://www.npmjs.com/package/lodash.isempty">lodash.isEmpty</a></p><ol start="3"><li>Portals<br>å¯ä»¥æŠŠç»„ä»¶æ¸²æŸ“åˆ°å½“å‰ç»„ä»¶æ ‘ä»¥å¤–çš„DOMèŠ‚ç‚¹ä¸Šã€‚å…¸å‹åº”ç”¨åœºæ™¯æ˜¯æ¸²æŸ“åº”ç”¨çš„å…¨å±€å¼¹æ¡†ã€‚<br>ä½¿ç”¨Portalsåï¼Œä»»æ„ç»„ä»¶éƒ½å¯ä»¥å°†å¼¹æ¡†ç»„ä»¶æ¸²æŸ“åˆ°æ ¹èŠ‚ç‚¹ä¸Šã€‚</li></ol><p>Portalsçš„å®ç°ä¾èµ–ReactDOMçš„ä¸€ä¸ªæ–°API:<code>ReactDOM.createPortal(child, container)</code><br>ç¬¬ä¸€ä¸ªå‚æ•°childæ˜¯å¯ä»¥è¢«æ¸²æŸ“çš„ReactèŠ‚ç‚¹ã€‚containeræ˜¯ä¸€ä¸ªDOMå…ƒç´ ï¼Œchildå°†è¢«æŒ‚è½½åˆ°è¿™ä¸ªDOMèŠ‚ç‚¹ã€‚</p><p>eg:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Modal</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(props);</span><br><span class="line">        <span class="comment">// æ ¹èŠ‚ç‚¹ä¸‹åˆ›å»ºä¸€ä¸ªdivèŠ‚ç‚¹</span></span><br><span class="line">        <span class="built_in">this</span>.container = <span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(<span class="built_in">this</span>.container);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">componentWillUnmount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">document</span>.body.removeChild(<span class="built_in">this</span>.container);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºçš„DOMæ ‘æŒ‚è½½åˆ°this.containeræŒ‡å‘çš„divèŠ‚ç‚¹ä¸‹é¢</span></span><br><span class="line">        <span class="keyword">return</span> ReactDOM.createPortal(</span><br><span class="line">            &lt;div className=<span class="string">&quot;modal&quot;</span>&gt;</span><br><span class="line">                &lt;span className=<span class="string">&quot;close&quot;</span> onClick=</span><br><span class="line">                    &#123;<span class="built_in">this</span>.props.onClose&#125;&gt;</span><br><span class="line">                    &amp;times;</span><br><span class="line">              &lt;/span&gt;</span><br><span class="line">                &lt;div className=<span class="string">&quot;content&quot;</span>&gt;</span><br><span class="line">                    &#123;<span class="built_in">this</span>.props.children&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;,</span><br><span class="line">            <span class="built_in">this</span>.container</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Appä¸­ä½¿ç”¨Modal</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(props);</span><br><span class="line">        <span class="built_in">this</span>.state = &#123; <span class="attr">showModal</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å…³é—­</span></span><br><span class="line">    closeModal = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.setState(&#123; <span class="attr">showModal</span>: <span class="literal">false</span> &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;h2&gt;Dashboard&lt;/h2&gt;</span><br><span class="line">                &#123;<span class="built_in">this</span>.state.showModal &amp;&amp; (</span><br><span class="line">                    &lt;Modal onClose=&#123;<span class="built_in">this</span>.closeModal&#125;&gt;Modal Dialog&lt;/Modal&gt;</span><br><span class="line">                )&#125;</span><br><span class="line">            &lt;/div&gt;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure><ol start="4"><li><p>è‡ªå®šä¹‰DOMå±æ€§<br> React16å¯ä»¥è¯†åˆ«è‡ªå®šä¹‰å±æ€§, ä¼ é€’ç»™DOMå…ƒç´ <br> <code>&lt;div custom-attribute=&quot;something&quot; /&gt;</code></p></li><li><p>è¿˜æœ‰å…¶ä»–ç‰¹æ€§<br> setStateä¼ å…¥nullæ—¶ä¸ä¼šå†è§¦å‘ç»„ä»¶æ›´æ–°<br> æ›´é«˜æ•ˆçš„æœåŠ¡å™¨ç«¯æ¸²æŸ“æ–¹å¼</p></li></ol><h1 id="è®¾è®¡åˆé€‚çš„state"><a href="#è®¾è®¡åˆé€‚çš„state" class="headerlink" title="è®¾è®¡åˆé€‚çš„state"></a>è®¾è®¡åˆé€‚çš„state</h1><p>stateå¿…é¡»èƒ½ä»£è¡¨ä¸€ä¸ªç»„ä»¶UIå‘ˆç°çš„å®Œæ•´çŠ¶æ€é›†ã€‚ç»„ä»¶çš„ä»»ä½•UIæ”¹å˜éƒ½å¯ä»¥ä»stateçš„å˜åŒ–ä¸­åæ˜ å‡ºæ¥; åŒæ—¶stateè¿˜å¿…é¡»ä»£è¡¨ä¸€ä¸ªç»„ä»¶UIå‘ˆç°çš„æœ€å°çŠ¶æ€é›†ï¼Œ<br>å³stateä¸­çš„æ‰€æœ‰çŠ¶æ€éƒ½ç”¨äºåæ˜ ç»„ä»¶UIçš„å˜åŒ–ï¼Œæ²¡æœ‰ä»»ä½•å¤šä½™çŠ¶æ€ï¼Œä¹Ÿä¸åº”è¯¥å­˜åœ¨é€šè¿‡å…¶ä»–çŠ¶æ€è®¡ç®—è€Œæ¥çš„ä¸­é—´çŠ¶æ€ã€‚</p><p>eg:<br>é”™è¯¯çš„state</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    purchaseList: [],</span><br><span class="line">    totalCost: 0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒ…å«æ— ç”¨çš„çŠ¶æ€totalCostï¼ŒtotalCostå¯ä»¥æ ¹æ®è´­ä¹°çš„æ¯ä¸€é¡¹ç‰©å“çš„ä»·æ ¼å’Œæ•°é‡è®¡ç®—å¾—å‡ºã€‚totalCostå±äºä¸­é—´çŠ¶æ€ï¼Œå¯ä»¥çœç•¥ã€‚</p><p>stateå¯ä»¥åˆ†ä¸ºä¸¤ç±»æ•°æ®ï¼š</p><ul><li>ç”¨ä½œæ¸²æŸ“ç»„ä»¶æ—¶ä½¿ç”¨åˆ°çš„æ•°æ®æ¥æº</li><li>ç”¨ä½œç»„ä»¶UIå±•ç°å½¢å¼çš„åˆ¤æ–­ä¾æ®</li></ul><p>stateä¸ç»„ä»¶çš„æ™®é€šå±æ€§</p><p>å®šä¹‰ï¼šé™¤äº†stateï¼Œpropsä»¥å¤–çš„ç»„ä»¶å±æ€§æˆä¸ºç»„ä»¶çš„æ™®é€šå±æ€§ã€‚<br> åœ¨ES6ä¸­ï¼Œå¯ä»¥ä½¿ç”¨this.{å±æ€§å}å®šä¹‰ä¸€ä¸ªclassçš„å±æ€§ï¼Œå¯ä»¥è¯´å±æ€§æ˜¯ç›´æ¥æŒ‚è½½åˆ°thisä¸‹çš„å˜é‡ã€‚<br>å› æ­¤stateï¼Œ propsä¹Ÿæ˜¯ç»„ä»¶çš„å±æ€§ï¼Œåªä¸è¿‡å®ƒä»¬æ˜¯Reactä¸ºæˆ‘ä»¬Component Classä¸­é¢„å®šä¹‰å¥½çš„å±æ€§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(props);</span><br><span class="line">        <span class="built_in">this</span>.timer = <span class="literal">null</span>; <span class="comment">// æ™®é€šå±æ€§</span></span><br><span class="line">        <span class="built_in">this</span>.state = &#123;</span><br><span class="line">            date: <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨åœºæ™¯ï¼š<br>å½“ç»„ä»¶ä¸­éœ€è¦ç”¨åˆ°ä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”å®ƒä¸ç»„ä»¶çš„æ¸²æŸ“æ— å…³æ—¶ï¼Œå°±åº”è¯¥æŠŠè¿™ä¸ªå˜é‡å®šä¹‰ä¸ºç»„ä»¶çš„æ™®é€šå±æ€§ï¼Œç›´æ¥æŒ‚è½½åˆ°thisä¸‹ï¼Œè€Œä¸æ˜¯ä½œä¸ºç»„ä»¶stateã€‚<br>æ›´ç›´è§‚çš„åˆ¤æ–­æ–¹æ³•ï¼Œçœ‹ç»„ä»¶renderæ–¹æ³•ä¸­æœ‰æ²¡æœ‰ç”¨åˆ°è¿™ä¸ªå˜é‡ï¼Œæ²¡æœ‰ï¼Œå°±æ˜¯æ™®é€šå±æ€§ã€‚</p><p>æ€»ç»“ï¼š<br>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä¸æ˜¯åº”è¯¥ä½œä¸ºstateå¯ä»¥é€šè¿‡ä»¥ä¸‹4æ¡ä¾æ®åˆ¤æ–­ï¼š</p><ol><li>æ˜¯å¦é€šè¿‡propsä»çˆ¶ç»„ä»¶ä¸­è·å–ï¼Ÿæ˜¯ï¼Œä¸æ˜¯state</li><li>æ˜¯å¦åœ¨ç»„ä»¶æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ä¿æŒä¸å˜ï¼Ÿæ˜¯ï¼Œä¸æ˜¯state</li><li>æ˜¯å¦å¯ä»¥é€šè¿‡å…¶ä»–stateæˆ–propsè®¡ç®—å¾—åˆ°ï¼Ÿæ˜¯ï¼Œä¸æ˜¯state</li><li>æ˜¯å¦åœ¨ç»„ä»¶renderæ–¹æ³•ä¸­ä½¿ç”¨ï¼Ÿæ˜¯ï¼Œä¸æ˜¯stateï¼Œå®šä¹‰ä¸ºæ™®é€šå±æ€§æ›´åˆé€‚</li></ol><h1 id="stateçš„ä¿®æ”¹"><a href="#stateçš„ä¿®æ”¹" class="headerlink" title="stateçš„ä¿®æ”¹"></a>stateçš„ä¿®æ”¹</h1><ol><li>ä¸èƒ½ç›´æ¥ä¿®æ”¹ <code>this.state.title = &#39;react&#39; //é”™è¯¯</code></li><li>stateæ›´æ–°æ˜¯å¼‚æ­¥çš„</li><li>stateçš„æ›´æ–°æ—¶ä¸€ä¸ªåˆå¹¶çš„è¿‡ç¨‹</li></ol><h1 id="stateä¸ä¸å¯å˜å¯¹è±¡"><a href="#stateä¸ä¸å¯å˜å¯¹è±¡" class="headerlink" title="stateä¸ä¸å¯å˜å¯¹è±¡"></a>stateä¸ä¸å¯å˜å¯¹è±¡</h1><p>Reactå®˜æ–¹å»ºè®®æŠŠstateå½“åšä¸å¯å˜å¯¹è±¡ï¼š</p><ul><li>ç›´æ¥ä¿®æ”¹this.state, ç»„ä»¶ä¸ä¼šé‡æ–°render</li><li>stateä¸­åŒ…å«çš„æ‰€æœ‰çŠ¶æ€éƒ½åº”è¯¥æ˜¯ä¸å¯å˜å¯¹è±¡</li></ul><p>stateä¸­çš„æŸä¸ªçŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œåº”è¯¥é‡æ–°åˆ›å»ºè¿™ä¸ªçŠ¶æ€å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹åŸæ¥çš„çŠ¶æ€ã€‚</p><h3 id="å¦‚ä½•åˆ›å»ºæ–°çš„çŠ¶æ€å‘¢ï¼Ÿä¸‰ç§æƒ…å†µ"><a href="#å¦‚ä½•åˆ›å»ºæ–°çš„çŠ¶æ€å‘¢ï¼Ÿä¸‰ç§æƒ…å†µ" class="headerlink" title="å¦‚ä½•åˆ›å»ºæ–°çš„çŠ¶æ€å‘¢ï¼Ÿä¸‰ç§æƒ…å†µ"></a>å¦‚ä½•åˆ›å»ºæ–°çš„çŠ¶æ€å‘¢ï¼Ÿä¸‰ç§æƒ…å†µ</h3><ol><li>ä¸å¯å˜ç±»å‹(æ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”å€¼ï¼Œnullï¼Œundefined)â€”ç›´æ¥èµ‹å€¼ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.setState(&#123;</span><br><span class="line">    count: <span class="number">1</span>,</span><br><span class="line">    title: <span class="string">&#x27;React&#x27;</span>,</span><br><span class="line">    success: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li>æ•°ç»„â€”concat, æ‰©å±•è¯­æ³•(spread syntax) <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.setState(<span class="function"><span class="params">preState</span> =&gt;</span> (&#123;</span><br><span class="line">    books: preState.books.concat([<span class="string">&#x27;React Guide&#x27;</span>])</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="built_in">this</span>.setState(<span class="function"><span class="params">preState</span> =&gt;</span> (&#123;</span><br><span class="line">    books: [...preState.books, <span class="string">&#x27;React Guide&#x27;</span>]</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure></li></ol><ul><li>æˆªå–éƒ¨åˆ†å…ƒç´ ä½œä¸ºæ–°çŠ¶æ€<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.setState(<span class="function"><span class="params">preState</span> =&gt;</span> (&#123;</span><br><span class="line">    books: preState.books.slice(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure></li><li>è¿‡æ»¤éƒ¨åˆ†å…ƒç´ ä½œä¸ºæ–°çŠ¶æ€<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.setState(<span class="function"><span class="params">preState</span> =&gt;</span> (&#123;</span><br><span class="line">    books: preState.books.filter(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> item !== <span class="string">&#x27;React&#x27;</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>æ³¨æ„ï¼šä¸è¦ä½¿ç”¨push,pop,shift,unshift,spliceç­‰æ–¹æ³•ä¿®æ”¹æ•°ç»„ç±»å‹çŠ¶æ€ã€‚å› ä¸ºè¿™äº›æ–¹æ³•éƒ½æ˜¯åœ¨åŸæ•°ç»„åŸºç¡€ä¸Šä¿®æ”¹ï¼Œè€Œä»concat,slice,filterä¼š<br>è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</li></ul><ol start="3"><li>æ™®é€šå¯¹è±¡(ä¸åŒ…å«å­—ç¬¦ä¸²ï¼Œæ•°ç»„)â€”Object.assign,å¯¹è±¡æ‰©å±•è¯­æ³•(object spread properties)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.setState(<span class="function"><span class="params">preState</span> =&gt;</span> (&#123;</span><br><span class="line">    owner: <span class="built_in">Object</span>.assign(&#123;&#125;, preState.owner, &#123;<span class="attr">name</span>: <span class="string">&#x27;James Bond&#x27;</span>&#125;)</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="built_in">this</span>.setState(<span class="function"><span class="params">preState</span> =&gt;</span> (&#123;</span><br><span class="line">    owner: &#123;...preState.owner, <span class="attr">name</span>: <span class="string">&#x27;James Bond&#x27;</span>&#125;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure></li></ol><p>æ€»ç»“ï¼š<br>    åˆ›å»ºæ–°çŠ¶æ€å¯¹è±¡çš„å…³é”®ï¼Œé¿å…ä½¿ç”¨ä¼šç›´æ¥ä¿®æ”¹åŸå¯¹è±¡çš„æ–¹æ³•ï¼Œè€Œä½¿ç”¨å¯ä»¥è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡çš„æ–¹æ³•ã€‚<br>    ä¹Ÿå¯ç”¨ä¸€äº›Immutableçš„JSåº“ï¼Œ(å¦‚Immutable.js)</p><p>ä¸ºä»€ä¹ˆç»„ä»¶çš„çŠ¶æ€æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Ÿ</p><ul><li>å¯¹ä¸å¯å˜å…‘ç°çš„ä¿®æ”¹ä¼šè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸ç”¨ä½†ç³»åŸæœ‰å¯¹è±¡åœ¨ä¸å°å¿ƒæƒ…å†µä¸‹ä¿®æ”¹å¯¼è‡´çš„é”™è¯¯ï¼Œæ–¹ä¾¿ç®¡ç†å’Œè°ƒè¯•</li><li>å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œå½“å¯¹è±¡ç»„ä»¶çŠ¶æ€éƒ½æ˜¯ä¸å¯å˜å¯¹è±¡æ—¶ï¼Œåœ¨shouldComponentUpdateæ–¹æ³•ä¸­ä»…éœ€è¦æ¯”è¾ƒå‰åä¸¤æ¬¡çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨å°±å¯ä»¥åˆ¤æ–­çŠ¶æ€æ˜¯å¦çœŸçš„æ”¹å˜ï¼Œ<br>é¿å…ä¸å¿…è¦çš„renderè°ƒç”¨ã€‚</li></ul><h1 id="componentDidMountæ‰§è¡Œè¯·æ±‚æœ€ä½³ï¼ŒåŸå› ä¸¤ä¸ª"><a href="#componentDidMountæ‰§è¡Œè¯·æ±‚æœ€ä½³ï¼ŒåŸå› ä¸¤ä¸ª" class="headerlink" title="componentDidMountæ‰§è¡Œè¯·æ±‚æœ€ä½³ï¼ŒåŸå› ä¸¤ä¸ª"></a>componentDidMountæ‰§è¡Œè¯·æ±‚æœ€ä½³ï¼ŒåŸå› ä¸¤ä¸ª</h1><ol><li>åœ¨componentDidMountä¸­æ‰§è¡Œè¯·æ±‚å¯ä»¥ä¿è¯è·å–åˆ°æ•°æ®æ—¶ï¼Œç»„ä»¶å·²å¤„äºæŒ‚è½½çŠ¶æ€ã€‚å³ä½¿æ“ä½œDOMä¹Ÿæ˜¯å®‰å…¨çš„ã€‚<br> componentWillMountæ— æ³•ä¿è¯</li><li>ç»„ä»¶åœ¨æœåŠ¡ç«¯æ¸²æŸ“æ—¶componentWillMountä¼šè°ƒç”¨ä¸¤æ¬¡ï¼Œä¸€æ¬¡åœ¨æœåŠ¡ç«¯ï¼Œä¸€æ¬¡åœ¨æµè§ˆå™¨ç«¯ã€‚<br> è€ŒcomponentDidMountèƒ½ä¿è¯åœ¨ä»»ä½•æƒ…å†µä¸‹åªè°ƒç”¨ä¸€æ¬¡ã€‚ä¸ä¼šå‘é€å¤šä½™çš„è¯·æ±‚ã€‚</li></ol><p>ç»„ä»¶æ›´æ–°é˜¶æ®µä¹Ÿå¯ä»¥å‘é€è¯·æ±‚ï¼Œè·å–æœåŠ¡æœ€æ–°æ•°æ®ã€‚<br>ä¾‹å¦‚ï¼šç»„ä»¶éœ€è¦ä»¥propsä¸­æŸä¸ªå±æ€§ä½œä¸ºä¸æœåŠ¡å™¨é€šä¿¡æ—¶è¯·æ±‚å‚æ•°ï¼Œå½“è¿™ä¸ªå€¼å‘ç”Ÿæ›´æ–°ï¼Œéœ€è¦é‡æ–°å‘èµ·è¯·æ±‚ã€‚<br>åœ¨componentWillReceivePropsé˜¶æ®µå¤„ç†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListContainer</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="title">componentWillReceiveProps</span>(<span class="params">nextProps</span>)</span> &#123;</span><br><span class="line">        fetch(<span class="string">&#x27;url&#x27;</span>).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>fetchä¹‹å‰éœ€è¦å¯¹nextPropsåˆ¤æ–­ï¼Œå¦‚æœä¸ä¸€è‡´å†å‘èµ·è¯·æ±‚</p><h1 id="ç»„ä»¶é€šä¿¡"><a href="#ç»„ä»¶é€šä¿¡" class="headerlink" title="ç»„ä»¶é€šä¿¡"></a>ç»„ä»¶é€šä¿¡</h1><h2 id="çˆ¶å­ç»„ä»¶é€šä¿¡â€“é€šè¿‡props"><a href="#çˆ¶å­ç»„ä»¶é€šä¿¡â€“é€šè¿‡props" class="headerlink" title="çˆ¶å­ç»„ä»¶é€šä¿¡â€“é€šè¿‡props"></a>çˆ¶å­ç»„ä»¶é€šä¿¡â€“é€šè¿‡props</h2><p>çˆ¶å‘å­æ˜¯é€šè¿‡çˆ¶ç»„ä»¶å‘å­ç»„ä»¶çš„propsä¼ é€’æ•°æ®å®Œæˆ</p><p>å­å‘çˆ¶ï¼šçˆ¶ç»„ä»¶é€šè¿‡å­ç»„ä»¶çš„propsä¼ é€’ç»™å­ç»„ä»¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå­ç»„ä»¶åœ¨éœ€è¦æ”¹å˜çˆ¶ç»„ä»¶æ—¶ï¼Œè°ƒç”¨è¿™ä¸ªå›è°ƒå‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çˆ¶</span></span><br><span class="line">&lt;UserList users=&#123;<span class="built_in">this</span>.state.users&#125;/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çˆ¶</span></span><br><span class="line">&lt;UserList users=&#123;<span class="built_in">this</span>.state.users&#125; onAddUser=&#123;<span class="built_in">this</span>.handleAddUser&#125;/&gt;</span><br><span class="line"><span class="comment">// å­</span></span><br><span class="line">&lt;button onClick=&#123;<span class="built_in">this</span>.props.onAddUser&#125;&gt;</span><br></pre></td></tr></table></figure><h2 id="å…„å¼Ÿç»„ä»¶é€šä¿¡"><a href="#å…„å¼Ÿç»„ä»¶é€šä¿¡" class="headerlink" title="å…„å¼Ÿç»„ä»¶é€šä¿¡"></a>å…„å¼Ÿç»„ä»¶é€šä¿¡</h2><p>å…„å¼Ÿç»„ä»¶ï¼šæœ‰ç›¸åŒçˆ¶ç»„ä»¶ï¼Œä¸æ˜¯çˆ¶å­ç»„ä»¶çš„ç»„ä»¶ã€‚</p><p>å…„å¼Ÿç»„ä»¶ä¸èƒ½ç›´æ¥äº’ä¼ æ•°æ®ï¼Œéœ€è¦é€šè¿‡çŠ¶æ€æå‡çš„æ–¹å¼å®ç°å…„å¼Ÿç»„ä»¶çš„é€šä¿¡ã€‚<br>æŠŠç»„ä»¶ä¹‹é—´éœ€è¦å…±äº«çš„çŠ¶æ€ä¿å­˜åˆ°è·ç¦»å®ƒä»¬æœ€è¿‘çš„å…±åŒçˆ¶ç»„ä»¶å†…ï¼Œä»»ä¸€å…„å¼Ÿç»„ä»¶éƒ½å¯ä»¥é€šè¿‡çˆ¶ç»„ä»¶ä¼ é€’çš„å›è°ƒå‡½æ•°æ¥ä¿®æ”¹å…±äº«çŠ¶æ€ï¼Œçˆ¶ç»„ä»¶ä¸­çš„å…±äº«çŠ¶æ€çš„å˜åŒ–ä¹Ÿä¼š<br>é€šè¿‡propså‘ä¸‹ä¼ é€’ç»™æ‰€æœ‰å…„å¼Ÿç»„ä»¶ï¼Œå®Œæˆå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡</p><h2 id="Contextâ€“å®éªŒæ€§API-ä¸å»ºè®®ä½¿ç”¨ï¼Œä¼šè®©æ•°æ®æµå˜å¾—æ··ä¹±"><a href="#Contextâ€“å®éªŒæ€§API-ä¸å»ºè®®ä½¿ç”¨ï¼Œä¼šè®©æ•°æ®æµå˜å¾—æ··ä¹±" class="headerlink" title="Contextâ€“å®éªŒæ€§API,ä¸å»ºè®®ä½¿ç”¨ï¼Œä¼šè®©æ•°æ®æµå˜å¾—æ··ä¹±"></a>Contextâ€“å®éªŒæ€§API,ä¸å»ºè®®ä½¿ç”¨ï¼Œä¼šè®©æ•°æ®æµå˜å¾—æ··ä¹±</h2><p>ç»„ä»¶å±‚çº§å¤ªæ·±ï¼Œpropsä¼ é€’å±‚çº§ç¹çã€‚<br>contextè®©ä»»æ„å±‚çº§çš„å­ç»„ä»¶éƒ½å¯ä»¥è·å–çˆ¶ç»„ä»¶çš„çŠ¶æ€å’Œæ–¹æ³•</p><h2 id="å…¶ä»–é€šä¿¡æ–¹å¼"><a href="#å…¶ä»–é€šä¿¡æ–¹å¼" class="headerlink" title="å…¶ä»–é€šä¿¡æ–¹å¼"></a>å…¶ä»–é€šä¿¡æ–¹å¼</h2><ul><li>æ¶ˆæ¯é˜Ÿåˆ—<br>  æ”¹å˜æ•°æ®çš„ç»„ä»¶å‘èµ·æ¶ˆæ¯ï¼Œä½¿ç”¨æ•°æ®çš„ç»„ä»¶ç›‘å¬ï¼Œåœ¨å“åº”å‡½æ•°ä¸­è§¦å‘setStateæ”¹å˜ç»„ä»¶çŠ¶æ€ã€‚â€“è§‚å¯Ÿè€…æ¨¡å¼<br>  (EventEmitteræˆ–Postal.jsç­‰æ¶ˆæ¯é˜Ÿåˆ—åº“)</li><li>Redux, MobXçŠ¶æ€ç®¡ç†åº“ã€‚</li></ul><h1 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h1><p>ä¼˜ç‚¹ï¼š<br>    è·å–è¡¨å•å…ƒç´ ï¼Œè·å–å…¶ä»–ä»»æ„DOMå…ƒç´ ï¼Œè·å–Reactç»„ä»¶å®ä¾‹<br>ç”¨å¤„ï¼šæ§åˆ¶å…ƒç´ ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©ï¼Œç¬¬ä¸‰æ–¹æ“ä½œDOMåº“é›†æˆ</p><p>ç¼ºç‚¹ï¼šé¿å…ä½¿ç”¨ref,ç ´åäº†Reactä¸­ä»¥propsä¸ºæ•°æ®ä¼ é€’ä»‹è´¨çš„å…¸å‹æ•°æ®æµ<br>refæ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå€¼ï¼Œåœ¨ç»„ä»¶è¢«æŒ‚è½½æˆ–å¸è½½æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚<br>ç»„ä»¶è¢«æŒ‚è½½æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šæ¥æ”¶å½“å‰DOMå…ƒç´ ä½œä¸ºå‚æ•°ï¼›ç»„ä»¶è¢«å¸è½½æ—¶å›è°ƒå‡½æ•°ä¼šæ¥æ”¶nullä½œä¸ºå‚æ•°</p><ol><li><p>åœ¨DOM ä¸Šä½¿ç”¨ref<br>è®©inputè‡ªåŠ¨è·å–ç„¦ç‚¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AutoFocusInput</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="comment">// é€šè¿‡refè®©inputè‡ªåŠ¨è·å–ç„¦ç‚¹</span></span><br><span class="line">        <span class="built_in">this</span>.textInput.focus();</span><br><span class="line">    &#125;</span><br><span class="line">    blur= <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.textInput.blur();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;input type=<span class="string">&#x27;text&#x27;</span> ref=&#123;<span class="function">(<span class="params">input</span>) =&gt;</span> &#123;<span class="built_in">this</span>.textInput = input&#125;&#125;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸Šä½¿ç”¨ref<br>refçš„å›è°ƒå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯å½“å‰ç»„ä»¶çš„å®ä¾‹ã€‚æä¾›äº†ä¸€ç§åœ¨ç»„ä»¶å¤–éƒ¨æ“ä½œç»„ä»¶çš„æ–¹å¼ã€‚</p></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡refè°ƒç”¨AutoFocusInputç»„ä»¶çš„æ–¹æ³•</span></span><br><span class="line"><span class="built_in">this</span>.inputInstance.blur();</span><br><span class="line">&lt;AutoFocusInput ref=&#123;<span class="function"><span class="params">input</span> =&gt;</span> &#123;<span class="built_in">this</span>.inputInstance = input&#125;&#125;/&gt;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šåªèƒ½ä¸ºç´¯ç»„ä»¶å®šä¹‰refå±æ€§ï¼Œä¸èƒ½ä¸ºå‡½æ•°ç»„ä»¶å®šä¹‰refå±æ€§ã€‚ä½†å¯ä»¥åœ¨å‡½æ•°ç»„ä»¶å†…éƒ¨ä½¿ç”¨refå¼•ç”¨å…¶ä»–DOMå…ƒç´ æˆ–ç»„ä»¶ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyFuncitonCom</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> textInput = <span class="literal">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">handleClick</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        textInput.focus();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;input ref=&#123;<span class="function">(<span class="params">input</span>) =&gt;</span> &#123;textInput = input;&#125;&#125; /&gt;</span><br><span class="line">            &lt;button onClick=&#123;handleClick&#125;&gt;è·å–ç„¦ç‚¹&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>çˆ¶ç»„ä»¶è®¿é—®å­ç»„ä»¶çš„DOMèŠ‚ç‚¹<br>å› ä¸ºrefåªèƒ½è®¿é—®å­ç»„ä»¶çš„å®ä¾‹å¯¹è±¡ï¼Œè€Œä¸èƒ½è·å–å­ç»„ä»¶ä¸­çš„æŸä¸ªDOMå…ƒç´ ã€‚</li></ol><p>å¯ä»¥é‡‡ç”¨ä¸€ç§é—´æ¥æ–¹å¼è·å–å­ç»„ä»¶çš„DOMå…ƒç´ ï¼šåœ¨å­ç»„ä»¶çš„DOMå…ƒç´ ä¸Šå®šä¹‰ref, refçš„å€¼æ˜¯çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°å¯ä»¥é€šè¿‡ä¸€ä¸ªè‡ªå®šä¹‰<br>çš„å±æ€§ä¼ é€’ï¼Œä¾‹å¦‚inputRef,è¿™æ ·çˆ¶ç»„ä»¶çš„å›è°ƒå‡½æ•°ä¸­å°±èƒ½è·å–åˆ°è¿™ä¸ªDOMå…ƒç´ ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Children</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å­ç»„ä»¶ä½¿ç”¨çˆ¶ç»„ä»¶ä¼ é€’çš„inputRefï¼Œ ä¸ºinputçš„refèµ‹å€¼</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;input ref=&#123;props.inputRef&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="comment">// è‡ªå®šä¹‰ä¸€ä¸ªå±æ€§inputRef, å€¼æ˜¯ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;Children inputRef=&#123;<span class="function"><span class="params">el</span> =&gt;</span> <span class="built_in">this</span>.inputElement = el&#125; /&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å³ä½¿å­ç»„ä»¶æ˜¯å‡½æ•°ç»„ä»¶ï¼Œè¿™ç§æ–¹å¼åŒæ ·æœ‰æ•ˆã€‚</p><h1 id="è™šæ‹ŸDOM"><a href="#è™šæ‹ŸDOM" class="headerlink" title="è™šæ‹ŸDOM"></a>è™šæ‹ŸDOM</h1><p>è™šæ‹ŸDOMæ˜¯ç”¨æ¥æè¿°çœŸå®DOMçš„JavaScriptå¯¹è±¡ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className&#x3D;&#39;foo&#39;&gt;</span><br><span class="line">    &lt;h1&gt;Hello React&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">å¯¹åº”çš„JavaScriptå¯¹è±¡</span><br><span class="line">&#123;</span><br><span class="line">    type: &#39;div&#39;,</span><br><span class="line">    props: &#123;</span><br><span class="line">        className: &#39;foo&#39;,</span><br><span class="line">        children: &#123;</span><br><span class="line">            type: &#39;h1&#39;,</span><br><span class="line">            props: &#123;</span><br><span class="line">                children: &#39;Hello React&#39;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™šæ‹ŸDOMæ˜¯æ™®é€šçš„JavaScriptå¯¹è±¡ï¼Œè®¿é—®JavaScriptå¯¹è±¡å½“ç„¶æ¯”è®¿é—®çœŸå®DOMå¿«å¾—å¤š</p><h1 id="Diffç®—æ³•"><a href="#Diffç®—æ³•" class="headerlink" title="Diffç®—æ³•"></a>Diffç®—æ³•</h1><p>Reacté‡‡ç”¨å£°æ˜å¼APIæè¿°UIç»“æ„ï¼Œæ¯æ¬¡ç»„ä»¶çš„çŠ¶æ€æˆ–å±æ€§æ›´æ–°ï¼Œrenderæ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„è™šæ‹ŸDOMå¯¹è±¡ï¼Œç”¨æ¥æ ‡ä¹¦æ–°çš„UIç»“æ„ã€‚å¦‚æœæ¯æ¬¡renderéƒ½ç›´æ¥ä½¿ç”¨<br>æ–°çš„è™šæ‹ŸDOMæ¥ç”ŸæˆçœŸå®DOMç»“æ„ï¼Œä¼šå¸¦æ¥å¤§é‡å¯¹çœŸå®DOMæ“ä½œï¼Œå½±å“æ•ˆç‡ã€‚Reacté€šè¿‡<strong>æ¯”è¾ƒä¸¤æ¬¡è™šæ‹ŸDOMç»“æ„çš„å˜åŒ–æ‰¾å‡ºå·®å¼‚éƒ¨åˆ†ï¼Œæ›´æ–°åˆ°çœŸå®DOMä¸Š</strong>ï¼Œä»è€Œå‡å°‘<br>æœ€ç»ˆè¦åœ¨çœŸå®DOMä¸Šçš„æ“ä½œï¼Œæé«˜æ•ˆç‡ã€‚è¿™å°±æ˜¯Reactçš„è°ƒå’Œè¿‡ç¨‹(Reconciliation).å…¶ä¸­çš„å…³é”®æ˜¯æ¯”è¾ƒä¸¤ä¸ªæ ‘å½¢ç»“æ„çš„Diffç®—æ³•ã€‚<br>åŸºäºä¸¤ç§å‡è®¾, ç®—æ³•å¤æ‚åº¦ä»O(N^3)â€“&gt; O(N)</p><ol><li>ä¸¤ä¸ªå…ƒç´ ç±»å‹ä¸åŒï¼Œå®ƒä»¬å°†ç”Ÿæˆä¸¤æ£µä¸åŒçš„æ ‘</li><li>ä¸ºåˆ—è¡¨å…ƒç´ è®¾ç½®keyå±æ€§ï¼Œç”¨keyæ ‡è¯†å¯¹åº”å…ƒç´ åœ¨å¤šæ¬¡renderè¿‡ç¨‹ä¸­æ˜¯å¦å‘ç”Ÿå˜åŒ–</li></ol><h2 id="Reactå¦‚ä½•æ¯”è¾ƒä¸¤æ£µæ ‘çš„å·®å¼‚"><a href="#Reactå¦‚ä½•æ¯”è¾ƒä¸¤æ£µæ ‘çš„å·®å¼‚" class="headerlink" title="Reactå¦‚ä½•æ¯”è¾ƒä¸¤æ£µæ ‘çš„å·®å¼‚"></a>Reactå¦‚ä½•æ¯”è¾ƒä¸¤æ£µæ ‘çš„å·®å¼‚</h2><p>ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ¯”è¾ƒï¼Œæ ¹èŠ‚ç‚¹ç±»å‹ä¸åŒï¼ŒReactæ‰§è¡Œçš„æ“ä½œä¹Ÿä¸åŒ</p><ol><li>æ ¹èŠ‚ç‚¹ä¸åŒç±»å‹<br>Reactè®¤ä¸ºæ–°æ ‘å’Œæ—§æ ‘å®Œå…¨ä¸åŒï¼Œä¸å†ç»§ç»­æ¯”è¾ƒå…¶ä»–å±æ€§å’Œå­èŠ‚ç‚¹ã€‚æŠŠæ•´æ£µæ ‘æ‹†æ‰é‡å»º(åŒ…æ‹¬è™šæ‹ŸDOMå’ŒçœŸå®DOM)</li></ol><p>è™šæ‹ŸDOMèŠ‚ç‚¹åˆ†ä¸ºä¸¤ç±»ï¼šDOMå…ƒç´ ï¼Œdiv,pç­‰ï¼›reactç»„ä»¶ç±»å‹ï¼Œè‡ªå®šä¹‰ç»„ä»¶ç­‰ã€‚<br>æ‹†é™¤è¿‡ç¨‹ä¸­ï¼Œæ—§çš„DOMå…ƒç´ ç±»å‹èŠ‚ç‚¹è¢«é”€æ¯ï¼Œæ—§çš„reactç»„ä»¶å®ä¾‹çš„componentWillUnmountä¼šè¢«è°ƒç”¨<br>é‡å»ºè¿‡ç¨‹ä¸­ï¼Œæ–°çš„DOMå…ƒç´ è¢«æ’å…¥DOMæ ‘ï¼Œæ–°çš„ç»„ä»¶å®ä¾‹çš„componentWillMountå’ŒcomponentDidMountä¼šè¢«è°ƒç”¨</p><p>æ›´æ–°æ•ˆç‡æœ€ä½</p><ol start="2"><li><p>æ ¹èŠ‚ç‚¹æ˜¯ç›¸åŒDOMå…ƒç´ ç±»å‹<br>ä¸¤ä¸ªæ ¹èŠ‚ç‚¹ç›¸åŒç±»å‹çš„DOMå…ƒç´ ï¼ŒReactä¼šä¿ç•™æ ¹èŠ‚ç‚¹ï¼Œæ¯”è¾ƒæ ¹èŠ‚ç‚¹çš„å±æ€§ï¼Œç„¶ååªæ›´æ–°é‚£äº›å˜åŒ–äº†çš„å±æ€§</p></li><li><p>æ ¹èŠ‚ç‚¹æ˜¯ç›¸åŒçš„ç»„ä»¶ç±»å‹<br>ä¸¤ä¸ªæ ¹èŠ‚ç‚¹æ˜¯ç›¸åŒç±»å‹çš„ç»„ä»¶ï¼Œå¯¹åº”çš„ç»„ä»¶å®ä¾‹ä¸ä¼šè¢«é”€æ¯ï¼Œåªæ˜¯ä¼šæ‰§è¡Œæ›´æ–°æ“ä½œã€‚åŒæ­¥å˜åŒ–çš„å±æ€§åˆ°è™šæ‹ŸDOMæ ‘ä¸Šï¼Œ<br>ç»„ä»¶çš„componentWillReceivePropså’ŒcomponentWillUpdateä¼šè¢«è°ƒç”¨</p></li></ol><p>éœ€åœ¨ç»„ä»¶æ›´æ–°å¹¶ä¸”renderæ–¹æ³•æ‰§è¡Œå®Œæˆåï¼Œæ ¹æ®renderè¿”å›çš„è™šæ‹ŸDOMç»“æ„å†³å®šå¦‚ä½•æ›´æ–°çœŸå®DOMæ ‘</p><p>å¦‚æ­¤é€’å½’æ¯”è¾ƒï¼Œç›´åˆ°æ¯”è¾ƒå®Œä¸¤æ£µæ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹ï¼Œè®¡ç®—å¾—åˆ°æœ€ç»ˆå·®å¼‚ï¼Œæ›´æ–°åˆ°DOMæ ‘ä¸Šã€‚</p><h1 id="keyçš„é‡è¦æ€§"><a href="#keyçš„é‡è¦æ€§" class="headerlink" title="keyçš„é‡è¦æ€§"></a>keyçš„é‡è¦æ€§</h1><p>å¯¹å¤šä¸ªliè¿™ç§æƒ…å†µï¼ŒReactæä¾›äº†keyå±æ€§ã€‚<br>keyå¸®åŠ©Reactæé«˜diffç®—æ³•æ•ˆç‡ã€‚å½“ä¸€ç»„å­èŠ‚ç‚¹å®šä¹‰äº†keyï¼ŒReactä¼šæ ¹æ®keyæ¥åŒ¹é…å­èŠ‚ç‚¹ï¼Œåœ¨æ¯æ¬¡æ¸²æŸ“ä¹‹åï¼Œåªè¦å­èŠ‚ç‚¹çš„keyå€¼æ²¡æœ‰å˜åŒ–ï¼ŒReactå°±è®¤ä¸ºè¿™æ˜¯<br>åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚<br>å°½é‡ä¸è¦ä½¿ç”¨å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•å€¼ä½œä¸ºkeyï¼Œå› ä¸ºåˆ—è¡¨ä¸­çš„å…ƒç´ é¡ºåºå‘ç”Ÿå˜åŒ–ï¼Œå¯èƒ½å¯¼è‡´å¤§é‡çš„keyå¤±æ•ˆï¼Œè¿›è€Œå¼•èµ·å¤§é‡çš„ä¿®æ”¹æ“ä½œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &#123;list.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>)&#125;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure><p>keyçš„ä½¿ç”¨ï¼Œå‡å°‘äº†DOMæ“ä½œï¼Œæé«˜äº†DOMæ›´æ–°æ•ˆç‡ï¼Œå½“åˆ—è¡¨å…ƒç´ æ•°é‡å¾ˆå¤šæ—¶ï¼Œkeyçš„ä½¿ç”¨æ›´æ˜¾å¾—é‡è¦</p><h1 id="Reactæ€§èƒ½ä¼˜åŒ–"><a href="#Reactæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="Reactæ€§èƒ½ä¼˜åŒ–"></a>Reactæ€§èƒ½ä¼˜åŒ–</h1><ol><li>ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬çš„åº“</li><li>é¿å…ä¸å¿…è¦çš„ç»„ä»¶æ¸²æŸ“â€“shouldComponentUpdateï¼Œ pureComponent</li><li>ä½¿ç”¨key</li></ol><h1 id="æ€§èƒ½æ£€æµ‹å·¥å…·"><a href="#æ€§èƒ½æ£€æµ‹å·¥å…·" class="headerlink" title="æ€§èƒ½æ£€æµ‹å·¥å…·"></a>æ€§èƒ½æ£€æµ‹å·¥å…·</h1><ol><li>React Developer Tools for Chrome<br>èƒŒæ™¯æ˜¯é»‘è‰²è¡¨ç¤ºç”¨ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬çš„Reactï¼Œçº¢è‰²è¡¨ç¤ºå¼€å‘ç¯å¢ƒç‰ˆæœ¬</li><li>Chrome Performance Tab</li><li>why-did-you-update</li></ol><h1 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h1><p>ä¸»è¦ç”¨æ¥å®ç°ç»„ä»¶é€»è¾‘çš„æŠ½è±¡å’Œæœç”¨<br><strong>æœ¬è´¨</strong>ï¼šä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªç»„ä»¶  è£…é¥°å™¨è®¾è®¡æ¨¡å¼</p><h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><p>JavaScriptä¸­ï¼Œé«˜é˜¶ç»„ä»¶æ˜¯ä»¥å‡½æ•°ä¸ºå‚æ•°ï¼Œå¹¶ä¸”è¿”å›å€¼ä¹Ÿæ˜¯å‡½æ•°çš„å‡½æ•°ã€‚<br>ç±»ä¼¼çš„é«˜é˜¶ç»„ä»¶(ç®€ç§°HOC), æ¥æ”¶Reactç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„Reactç»„ä»¶</p><p>å½¢å¼ï¼š<code>const EnhancedComponent = higherOrderComponent(WrappedComponent);</code></p><h2 id="ä¸»è¦åŠŸèƒ½"><a href="#ä¸»è¦åŠŸèƒ½" class="headerlink" title="ä¸»è¦åŠŸèƒ½"></a>ä¸»è¦åŠŸèƒ½</h2><p>å°è£…å¹¶åˆ†ç¦»ç»„ä»¶çš„é€šç”¨é€»è¾‘ï¼Œè®©é€šç”¨é€»è¾‘åœ¨ç»„ä»¶é—´æ›´å¥½çš„è¢«å¤ç”¨ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><ol><li>æ“çºµprops</li><li>é€šè¿‡refè®¿é—®ç»„ä»¶å®ä¾‹</li><li>ç»„ä»¶çŠ¶æ€æå‡</li><li>ç”¨å…¶ä»–å…ƒç´ åŒ…è£…ç»„ä»¶</li></ol><h1 id="React-Routerâ€”"><a href="#React-Routerâ€”" class="headerlink" title="React Routerâ€”-"></a>React Routerâ€”-</h1><h1 id="åˆ’åˆ†ç»„ä»¶åŸåˆ™"><a href="#åˆ’åˆ†ç»„ä»¶åŸåˆ™" class="headerlink" title="åˆ’åˆ†ç»„ä»¶åŸåˆ™"></a>åˆ’åˆ†ç»„ä»¶åŸåˆ™</h1><p>åˆ’åˆ†é¡µé¢ç»„ä»¶éœ€è¦æ ¹æ®é¡µé¢ç»“æ„ã€ç»„ä»¶çš„å¤ç”¨æ€§ã€ç»„ä»¶çš„å¤æ‚åº¦ç­‰å› ç´ ç»¼åˆè€ƒè™‘</p><p>åˆ’åˆ†ç»„ä»¶ä¸¤ä¸ªæç«¯ï¼Œç»„ä»¶ç²’åº¦è¿‡å¤§æˆ–è¿‡å°ã€‚è¿‡å¤§ï¼Œç»„ä»¶é€»è¾‘è¿‡äºå¤æ‚ï¼Œå¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§å˜å·®ï¼›<br>è¿‡å°ï¼Œç»„ä»¶æ•°é‡æ¿€å¢ï¼Œä¸€ä¸ªç®€å•åŠŸèƒ½éœ€å¼•å…¥å¤§é‡ç»„ä»¶ï¼Œå¢åŠ å¼€å‘æˆæœ¬ï¼Œè¿‡å¤šä¹Ÿä¸åˆ©äºæŸ¥æ‰¾ã€‚</p><p>ä¸€ç§è§‚ç‚¹æ˜¯ä¸€ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½ã€‚å»ºè®®è¾©è¯çœ‹å¾…ã€‚å¦‚æœå‡ ä¸ªåŠŸèƒ½éƒ½å¾ˆç®€å•ï¼Œä¸”æ¯ä¸€ä¸ªåŠŸèƒ½éƒ½æ²¡æœ‰å¤ç”¨éœ€æ±‚ï¼Œ<br>é‚£ä¹ˆæŠŠè¿™å‡ ä¸ªåŠŸèƒ½æ”¾åˆ°ä¸€ä¸ªç»„ä»¶ä¹Ÿå¯ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p><h1 id="ä»£ç åˆ†ç‰‡"><a href="#ä»£ç åˆ†ç‰‡" class="headerlink" title="ä»£ç åˆ†ç‰‡"></a>ä»£ç åˆ†ç‰‡</h1><p>å®ç°ä»£ç æŒ‰éœ€åŠ è½½ï¼Œæé«˜åº”ç”¨åŠ è½½é€Ÿåº¦</p><ol><li>å€ŸåŠ©<a href="https://github.com/webpack-contrib/bundle-loader">bundle-loader</a>æ¥å®ç°æŒ‰éœ€åŠ è½½ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ListContainer <span class="keyword">from</span> <span class="string">&#x27;bundle-loader?lazy&amp;name=app-[name]!./app/list.js&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li>åŠ¨æ€import</li></ol><hr><h1 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h1><p>Redux é€šè¿‡reducerè§£æaction</p><p>reduceræ˜¯ä¸€ä¸ªæ™®é€šçš„JavaScriptå‡½æ•°ï¼Œæ¥æ”¶actionä¸ºå‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„åº”ç”¨çŠ¶æ€stateã€‚</p><p>ä¸»è¦æ€æƒ³ï¼šæè¿°åº”ç”¨çš„çŠ¶æ€å¦‚ä½•æ ¹æ®actionè¿›è¡Œæ›´æ–°ï¼ŒReduxé€šè¿‡æä¾›ä¸€ç³»åˆ—APIå°†è¿™ä¸€ä¸»è¦æ€æƒ³çš„è½åœ°å®æ–½è¿›è¡Œæ ‡å‡†åŒ–å’Œè§„èŒƒåŒ–ã€‚</p><h2 id="ä¸‰å¤§åŸåˆ™"><a href="#ä¸‰å¤§åŸåˆ™" class="headerlink" title="ä¸‰å¤§åŸåˆ™"></a>ä¸‰å¤§åŸåˆ™</h2><ol><li><p>å”¯ä¸€æ•°æ®æº<br>Reduxåªç»´æŠ¤ä¸€ä¸ªå…¨å±€çš„çŠ¶æ€å¯¹è±¡ï¼Œå­˜å‚¨åœ¨Reduxçš„storeä¸­ã€‚å”¯ä¸€æ•°æ®æºæ˜¯ä¸€ç§é›†ä¸­å¼ç®¡ç†åº”ç”¨çŠ¶æ€çš„æ–¹å¼ï¼Œä¾¿äºç›‘æ§ä»»æ„æ—¶åˆ»åº”ç”¨çš„çŠ¶æ€å’Œè°ƒè¯•åº”ç”¨ï¼Œå‡å°‘å‡ºé”™å¯èƒ½æ€§ã€‚</p></li><li><p>ä¿æŒåº”ç”¨çŠ¶æ€åªè¯»<br>ä»»ä½•æ—¶åˆ»éƒ½ä¸èƒ½ç›´æ¥ä¿®æ”¹åº”ç”¨çŠ¶æ€ã€‚éœ€è¦ä¿®æ”¹ï¼Œå¿…é¡»å‘é€ä¸€ä¸ªactionï¼Œç”±è¿™ä¸ªactionæè¿°å¦‚ä½•ä¿®æ”¹åº”ç”¨çŠ¶æ€ã€‚<br>ä¿è¯äº†å¤§å‹åº”ç”¨ä¸­çŠ¶æ€ç®¡ç†çš„æœ‰åºè¿›è¡Œã€‚</p></li><li><p>åº”ç”¨çŠ¶æ€çš„æ”¹å˜é€šè¿‡çº¯å‡½æ•°å®Œæˆ<br>actionè¡¨æ˜ä¿®æ”¹åº”ç”¨çŠ¶æ€çš„æ„å›¾ï¼ŒçœŸæ­£å¯¹åº”ç”¨çŠ¶æ€åšä¿®æ”¹çš„æ˜¯reducer</p></li></ol><p>reducerå¿…é¡»æ˜¯çº¯å‡½æ•°ï¼Œæ‰€ä»¥reduceråœ¨æ¥æ”¶actionæ—¶ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹åŸæ¥çš„çŠ¶æ€å¯¹è±¡ï¼Œè€Œè¦åˆ›å»ºä¸€ä¸ªæ–°çš„çŠ¶æ€å¯¹è±¡è¿”å›ã€‚</p><h3 id="çº¯å‡½æ•°"><a href="#çº¯å‡½æ•°" class="headerlink" title="çº¯å‡½æ•°"></a>çº¯å‡½æ•°</h3><p>å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶</p><ol><li>å¯¹äºåŒæ ·çš„å‚æ•°å€¼ï¼Œå‡½æ•°çš„è¿”å›ç»“æœæ€»æ˜¯ç›¸åŒçš„ã€‚å‡½æ•°ç»“æœä¸ä¾èµ–ä»»ä½•åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½æ”¹å˜çš„å˜é‡ã€‚</li><li>å‡½æ•°çš„æ‰§è¡Œä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼Œä¾‹å¦‚ä¿®æ”¹å¤–éƒ¨å¯¹è±¡æˆ–è¾“å‡ºåˆ°I/Oè®¾å¤‡ã€‚</li></ol><h2 id="ä¸»è¦ç»„æˆ"><a href="#ä¸»è¦ç»„æˆ" class="headerlink" title="ä¸»è¦ç»„æˆ"></a>ä¸»è¦ç»„æˆ</h2><p>action, reducer, store</p><h3 id="action"><a href="#action" class="headerlink" title="action"></a>action</h3><p>actionæ˜¯Reduxä¸­ä¿¡æ¯çš„è½½ä½“ï¼Œ æ˜¯storeå”¯ä¸€çš„ä¿¡æ¯æ¥æºã€‚<br>actionå‘é€ç»™storeå¿…é¡»é€šè¿‡storeçš„dispatchã€‚</p><p>actionæ˜¯æ™®é€šçš„JavaScriptå¯¹è±¡ï¼Œä½†æ¯ä¸ªactionå¿…é¡»æœ‰ä¸€ä¸ªtypeå±æ€§æè¿°actionçš„ç±»å‹ï¼Œä¸€èˆ¬è¢«å®šä¹‰ä¸ºå­—ç¬¦ä¸²å¸¸é‡ã€‚é™¤äº†typeå±æ€§ä¹‹å¤–ï¼Œactionçš„ç»“æ„å®Œå…¨ç”±è‡ªå·±å†³å®šï¼Œä½†åº”è¯¥èƒ½ç¡®ä¿actionçš„ç»“æ„èƒ½æ¸…æ™°çš„æè¿°å®é™…ä¸šåŠ¡åœºæ™¯ã€‚</p><p>ä¸€èˆ¬é€šè¿‡action creatoråˆ›å»ºactionï¼Œ action creatoræ˜¯è¿”å›actionçš„å‡½æ•°ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addTodo</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        type: <span class="string">&#x27;ADD_TODO&#x27;</span>,</span><br><span class="line">        text</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="reducer"><a href="#reducer" class="headerlink" title="reducer"></a>reducer</h3><p>actionç”¨äºæè¿°åº”ç”¨å‘ç”Ÿäº†ä»€ä¹ˆæ“ä½œï¼Œ reduceråˆ™æ ¹æ®actionåšå‡ºå“åº”ï¼Œå†³å®šå¦‚ä½•ä¿®æ”¹state.</p><p>stateæ—¢å¯ä»¥åŒ…å«æœåŠ¡å™¨ç«¯è·å–çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥åŒ…å«UIçŠ¶æ€ã€‚</p><p>æœ€åŸºæœ¬çš„reducer, eg:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; VisibilityFilters &#125; <span class="keyword">from</span> <span class="string">&#x27;./acitons&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">    todos: [],</span><br><span class="line">    visibilityFilter: VisibilityFilters.SHOW_ALL</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// reducer</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">todoApp</span>(<span class="params">state = initialState, action</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> state</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="store"><a href="#store" class="headerlink" title="store"></a>store</h3><p>storeæ˜¯actionå’Œreducerä¹‹é—´çš„æ¡¥æ¢ã€‚è´Ÿè´£ä»¥ä¸‹å·¥ä½œï¼š</p><ol><li>ä¿å­˜åº”ç”¨çŠ¶æ€</li><li>é€šè¿‡getStateè®¿é—®åº”ç”¨çŠ¶æ€</li><li>é€šè¿‡dispatch(action)å‘é€æ›´æ–°çŠ¶æ€çš„æ„å›¾</li><li>é€šè¿‡subscribe(listener)æ³¨å†Œç›‘å¬å‡½æ•°ã€ç›‘å¬åº”ç”¨çŠ¶æ€çš„æ”¹å˜ã€‚</li></ol><p>ä¸€ä¸ªReduxåº”ç”¨ä¸­åªæœ‰ä¸€ä¸ªstoreï¼Œstoreä¿å­˜äº†å”¯ä¸€æ•°æ®æºã€‚<br>storeé€šè¿‡createStore()åˆ›å»ºï¼Œåˆ›å»ºæ—¶éœ€è¦ä¼ é€’reducerä½œä¸ºå‚æ•°ï¼Œåˆ›å»ºstoreã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createStore &#125; from &#39;redux&#39;</span><br><span class="line">import todoApp from &#39;.&#x2F;reducers&#39;</span><br><span class="line"></span><br><span class="line">let store &#x3D; createStore(todoApp)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“reduxæ•°æ®æµè¿‡ç¨‹"><a href="#æ€»ç»“reduxæ•°æ®æµè¿‡ç¨‹" class="headerlink" title="æ€»ç»“reduxæ•°æ®æµè¿‡ç¨‹"></a>æ€»ç»“reduxæ•°æ®æµè¿‡ç¨‹</h2><ol><li>è°ƒç”¨store.dispatch(action)ã€‚å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨ã€‚åŒ…æ‹¬ç»„ä»¶ï¼ŒXHRå›è°ƒï¼Œå®šæ—¶å™¨ç­‰ã€‚</li><li>storeè°ƒç”¨reducerã€‚storeä¼ é€’ä¸¤ä¸ªå‚æ•°ç»™reducerï¼šå½“å‰åº”ç”¨çš„çŠ¶æ€å’Œactionã€‚</li><li>æ ¹reducerä¼šæŠŠå¤šä¸ªå­reducerçš„è¿”å›ç»“æœç»„åˆæˆæœ€ç»ˆçš„åº”ç”¨çŠ¶æ€ã€‚reduxæä¾›äº†combineReduceræ–¹ä¾¿ç»„åˆã€‚</li><li>storeä¿å­˜æ ¹reducerè¿”å›çš„å®Œæ•´åº”ç”¨çŠ¶æ€ã€‚æ­¤æ—¶åº”ç”¨çŠ¶æ€æ‰å®Œæˆæ›´æ–°ã€‚</li></ol><h2 id="react-redux"><a href="#react-redux" class="headerlink" title="react-redux"></a>react-redux</h2><h3 id="å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶"><a href="#å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶" class="headerlink" title="å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶"></a>å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶</h3><p>æ ¹æ®ç»„ä»¶æ„å›¾çš„ä¸åŒï¼Œå¯ä»¥å°†ç»„ä»¶åˆ’åˆ†ä¸ºä¸¤ç±»ï¼šå±•ç¤ºç»„ä»¶(presentational components)å’Œå®¹å™¨ç»„ä»¶(container components).</p><p>å±•ç¤ºç»„ä»¶è´Ÿè´£åº”ç”¨çš„UIå±•ç¤º(how things look), å±•ç¤ºç»„ä»¶ä¸å…³å¿ƒæ¸²æŸ“æ—¶ä½¿ç”¨çš„æ•°æ®æ˜¯å¦‚ä½•è·å–çš„ï¼Œæ•°æ®å¦‚ä½•è·å–æ˜¯å®¹å™¨ç»„ä»¶è´Ÿè´£çš„äº‹æƒ…ã€‚</p><p>å®¹å™¨ç»„ä»¶è´Ÿè´£åº”ç”¨é€»è¾‘çš„å¤„ç†(how things work), å¦‚å‘é€è¯·æ±‚ï¼Œå¤„ç†è¿”å›æ•°æ®ï¼Œå°†å¤„ç†è¿‡çš„æ•°æ®ä¼ é€’ç»™å±•ç¤ºç»„ä»¶ç­‰ã€‚è¿˜æä¾›ä¿®æ”¹æºæ•°æ®çš„æ–¹æ³•ï¼Œé€šè¿‡å±•ç¤ºç»„ä»¶çš„propsä¼ é€’ç»™å±•ç¤ºç»„ä»¶ï¼Œå½“å±•ç¤ºç»„ä»¶çš„çŠ¶æ€å˜æ›´å¼•èµ·æºæ•°æ®å˜åŒ–æ—¶ï¼Œå±•ç¤ºç»„ä»¶é€šè¿‡è°ƒç”¨å®¹å™¨ç»„ä»¶æä¾›çš„æ–¹æ³•åŒæ­¥è¿™äº›å˜åŒ–ã€‚</p><p>å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶å¯ä»¥è‡ªç”±åµŒå¥—ã€‚è¿™æ ·çš„åˆ†å·¥å¯ä»¥ä½¿ä¸UIæ¸²æŸ“æ— ç›´æ¥å…³ç³»çš„ä¸šåŠ¡é€»è¾‘ç”±å®¹å™¨ç»„ä»¶é›†ä¸­è´Ÿè´£ï¼Œå±•ç¤ºç»„ä»¶åªå…³æ³¨UIçš„æ¸²æŸ“é€»è¾‘ï¼Œä»è€Œä½¿å±•ç¤ºç»„ä»¶æ›´å®¹æ˜“è¢«å¤ç”¨ã€‚</p><blockquote><p>å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶ä¸æ— çŠ¶æ€ç»„ä»¶å’Œæœ‰çŠ¶æ€ç»„ä»¶åŒºåˆ«ï¼š<br>åˆ’åˆ†ä¾æ®ï¼š<br>å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶æ˜¯æ ¹æ®ç»„ä»¶çš„æ„å›¾åˆ’åˆ†ç»„ä»¶<br>æ— çŠ¶æ€ç»„ä»¶å’Œæœ‰çŠ¶æ€ç»„ä»¶æ˜¯æ ¹æ®ç»„ä»¶å†…éƒ¨æ˜¯å¦ä½¿ç”¨stateåˆ’åˆ†ç»„ä»¶ã€‚</p></blockquote><p>é€šå¸¸å±•ç¤ºç»„ä»¶æ˜¯é€šè¿‡æ— çŠ¶æ€ç»„ä»¶å®ç°ï¼Œå®¹å™¨ç»„ä»¶é€šè¿‡æœ‰çŠ¶æ€ç»„ä»¶å®ç°ã€‚ä½†å±•ç¤ºç»„ä»¶ä¹Ÿå¯ä»¥æ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼Œå®¹å™¨ç»„ä»¶ä¹Ÿå¯ä»¥æ˜¯æ— çŠ¶æ€ç»„ä»¶ã€‚</p><h3 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h3><p>react-reduxæä¾›äº†connectå‡½æ•°ï¼Œç”¨äºæŠŠreactç»„ä»¶å’Œreduxçš„storeè¿æ¥èµ·æ¥ï¼Œç”Ÿæˆä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œè´Ÿè´£ç®¡ç†æ•°æ®ç®¡ç†å’Œä¸šåŠ¡é€»è¾‘ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> TodoList <span class="keyword">from</span> <span class="string">&#x27;./TodoList&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> VisibleTodoList = connect()(TodoList);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ ¹æ®Reduxçš„æ•°æ®æµè¿‡ç¨‹ï¼ŒVisibleTodoListéœ€è¦æ‰¿æ‹…ä¸¤ä¸ªå·¥ä½œï¼š</p><ol><li>ä»Reduxçš„storeä¸­è·å–å±•ç¤ºç»„ä»¶æ‰€éœ€çš„åº”ç”¨çŠ¶æ€</li><li>æŠŠå±•ç¤ºç»„ä»¶çš„çŠ¶æ€åŒæ­¥åˆ°Reduxçš„storeä¸­</li></ol><p>é€šè¿‡ä¸¤ä¸ªå‚æ•°å®ç°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> TodoList <span class="keyword">from</span> <span class="string">&#x27;./TodoList&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> VisibleTodoList = connect(</span><br><span class="line">    mapStateToProps,</span><br><span class="line">    mapDispatchToProps</span><br><span class="line">)(TodoList);</span><br></pre></td></tr></table></figure><p>mapStateToProps å’Œ mapDsipatchToProps çš„ç±»å‹éƒ½æ˜¯å‡½æ•°ï¼Œå‰è€…è´Ÿè´£ä»å…¨å±€åº”ç”¨çŠ¶æ€stateä¸­å–å‡ºæ‰€éœ€æ•°æ®ï¼Œæ˜ å°„åˆ°å±•ç¤ºç»„ä»¶çš„propsï¼Œåè€…è´Ÿè´£æŠŠéœ€è¦ç”¨åˆ°çš„actionæ˜ å°„åˆ°å±•ç¤ºç»„ä»¶çš„propsä¸Š</p><h3 id="mapStateToProps"><a href="#mapStateToProps" class="headerlink" title="mapStateToProps"></a>mapStateToProps</h3><p>mapStateToPropsä½œç”¨æ˜¯æŠŠstateè½¬æ¢æˆpropsã€‚stateæ˜¯storeä¸­ä¿å­˜çš„åº”ç”¨çŠ¶æ€ï¼Œä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™mapStateToPropsï¼Œpropsæ˜¯è¢«è¿æ¥çš„å±•ç¤ºç»„ä»¶çš„propsã€‚</p><p>æ¯å½“storeä¸­çš„stateæ›´æ–°æ—¶ï¼ŒmapStateToPropsä¼šé‡æ–°æ‰§è¡Œï¼Œé‡æ–°è®¡ç®—ä¼ é€’ç»™å±•ç¤ºç»„ä»¶çš„propsï¼Œä»è€Œè§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚</p><blockquote><p>storeä¸­çš„stateæ›´æ–°ä¸€å®šä¼šå¯¼è‡´mapStateToPropsé‡æ–°æ‰§è¡Œï¼Œä½†ä¸ä¸€å®šä¼šè§¦å‘ç»„ä»¶renderæ–¹æ³•çš„é‡æ–°æ‰§è¡Œã€‚å¦‚æœmapStateToPropsæ–°è¿”å›çš„å¯¹è±¡å’Œä¹‹å‰çš„å¯¹è±¡æµ…æ¯”è¾ƒ(shallow comparison)ç›¸ç­‰ï¼Œç»„ä»¶çš„shouldComponentUpdateä¼šè¿”å›falseï¼Œrenderä¸å†è§¦å‘ã€‚</p></blockquote><p>connectå¯ä»¥çœç•¥mapStateToPropså‚æ•°ï¼Œè¿™æ ·stateçš„æ›´æ–°å°±ä¸ä¼šå¼•èµ·ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚</p><p>mapStateToPropsé™¤äº†æ¥æ”¶stateå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°ï¼Œä»£è¡¨å®¹å™¨ç»„ä»¶çš„propså¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ownProps æ˜¯ç»„ä»¶çš„propså¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapStateToProps</span>(<span class="params">state, ownProps</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="mapDispatchToProps"><a href="#mapDispatchToProps" class="headerlink" title="mapDispatchToProps"></a>mapDispatchToProps</h3><p>ï¼ï¼ï¼ï¼<br>å®¹å™¨ç»„ä»¶é™¤äº†å¯ä»¥ä»stateä¸­è¯»å–æ•°æ®å¤–ï¼Œè¿˜å¯ä»¥å‘é€actionæ›´æ–°stateï¼Œè¿™ä¾èµ–äºconnectçš„ç¬¬äºŒä¸ªå‚æ•° mapDispatchToProps. mapDispatchToProps æ¥æ”¶ store.dispatch æ–¹æ³•ä½œä¸ºå‚æ•°è¿”å›å±•ç¤ºç»„ä»¶ç”¨æ¥ä¿®æ”¹stateçš„å‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// toggleTodo(id) è¿”å›ä¸€ä¸ªaction</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleTodo</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">type</span>: <span class="string">&#x27;TOGGLE_TODO&#x27;</span>, id&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapDispatchToProps</span>(<span class="params">dispatch</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        onTodoClick: <span class="function"><span class="title">funciton</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">            dispatch(toggleTodo(id))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ ·å±•ç¤ºç»„ä»¶å†…å°±å¯ä»¥è°ƒç”¨ this.props.onTodoClick(id) çš„actionã€‚<br>ä¸mapStateToPropsç›¸åŒï¼ŒmapDispatchToPropsä¹Ÿæ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œä»£è¡¨å®¹å™¨ç»„ä»¶çš„propsã€‚</p><h3 id="Providerç»„ä»¶"><a href="#Providerç»„ä»¶" class="headerlink" title="Providerç»„ä»¶"></a>Providerç»„ä»¶</h3><p>é€šè¿‡connectå‡½æ•°åˆ›å»ºå‡ºå®¹å™¨ç»„ä»¶ï¼Œä½†è¿™ä¸ªå®¹å™¨ç»„ä»¶å¦‚ä½•è·å–åˆ°Reduxçš„storeï¼Ÿreact-reduxæä¾›äº†Providerç»„ä»¶ï¼Œç¤ºæ„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Provider</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">getChildContext</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            store: <span class="built_in">this</span>.props.store</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.props.children;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Provider.childContextTypes = &#123;</span><br><span class="line">    store: React.PropTypes.object</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Providerç»„ä»¶éœ€è¦æ¥æ”¶ä¸€ä¸ªstoreå±æ€§ï¼Œç„¶åæŠŠstoreä¿å­˜åˆ°contextã€‚Providerç»„ä»¶æ­£æ˜¯é€šè¿‡contextæŠŠstoreä¼ é€’ç»™å­ç»„ä»¶ï¼Œæ‰€ä»¥ä½¿ç”¨Providerç»„ä»¶æ—¶ï¼Œä¸€èˆ¬æŠŠå®ƒä½œä¸ºæ ¹ç»„ä»¶ï¼Œè¿™æ ·å†…å±‚çš„ä»»æ„ç»„ä»¶æ‰å¯ä»¥ä»contextä¸­è·å–storeå¯¹è±¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createStore&#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;Provider&#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> todoApp <span class="keyword">from</span> <span class="string">&#x27;./reducers&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./components/App&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> store = createStore(todoApp);</span><br><span class="line"></span><br><span class="line">render(</span><br><span class="line">    &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">        &lt;App /&gt;</span><br><span class="line">    &lt;/Provider&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ä¸­é—´ä»¶ä¸å¼‚æ­¥æ“ä½œ"><a href="#ä¸­é—´ä»¶ä¸å¼‚æ­¥æ“ä½œ" class="headerlink" title="ä¸­é—´ä»¶ä¸å¼‚æ­¥æ“ä½œ"></a>ä¸­é—´ä»¶ä¸å¼‚æ­¥æ“ä½œ</h2><h3 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h3><p>reduxçš„actionç±»æ¯”webæ¡†æ¶æ”¶åˆ°çš„è¯·æ±‚ï¼Œreducerç±»æ¯”webæ¡†æ¶çš„ä¸šåŠ¡é€»è¾‘å±‚ï¼Œå› æ­¤reduxçš„ä¸­é—´ä»¶ä»£è¡¨actionåœ¨åˆ°è¾¾reducerå‰ç»è¿‡çš„å¤„ç†ç¨‹åºã€‚</p><p>å®é™…ä¸Šï¼Œä¸€ä¸ªreduxä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚reduxä¸­é—´ä»¶å¢å¼ºäº†storeçš„åŠŸèƒ½ï¼Œå¯ä»¥åˆ©ç”¨ä¸­é—´ä»¶ä¸ºactionæ·»åŠ ä¸€äº›é€šç”¨åŠŸèƒ½ï¼Œå¦‚æ—¥å¿—è¾“å‡ºï¼Œå¼‚å¸¸æ•è·ç­‰ã€‚</p><p>é€šè¿‡æ”¹é€  store.dispatch å¢åŠ æ—¥å¿—è¾“å‡ºåŠŸèƒ½ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> next = store.dispatch</span><br><span class="line"></span><br><span class="line">store.dispatch = <span class="function"><span class="keyword">function</span> <span class="title">dispatchAndLog</span>(<span class="params">action</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;dispatching&#x27;</span>, action)</span><br><span class="line">    <span class="keyword">let</span> result = next(action)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;next state&#x27;</span>, store.getState())</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é€šè¿‡é‡æ–°å®šä¹‰store.dispatchï¼Œåœ¨å‘é€actionå‰åéƒ½æ·»åŠ äº†æ—¥å¿—è¾“å‡ºï¼Œè¿™å°±æ˜¯ä¸­é—´ä»¶çš„é›å½¢ã€‚</p><p>å¯¹store.dispatchæ–¹æ³•è¿›è¡Œæç³Ÿï¼Œåœ¨å‘å‡ºactionå’Œæ‰§è¡Œ reducer è¿™ä¸¤æ­¥ä¹‹é—´æ·»åŠ å…¶ä»–åŠŸèƒ½ã€‚</p><p>å®é™…é¡¹ç›®ä¸­é€šå¸¸ä½¿ç”¨åˆ«äººç›´æ¥å†™å¥½çš„ä¸­é—´ä»¶ã€‚å¦‚redux-logger.</p><p>åœ¨åº”ç”¨ä¸­ä¼šç”¨åˆ°applyMiddlewareã€‚é€šè¿‡applyMiddlewareå°†ä¸­é—´ä»¶loggerä¼ ç»™createStore, å®Œæˆstore.dispatchåŠŸèƒ½çš„åŠ å¼ºã€‚</p><p>applyMiddlewareæŠŠæ¥æ”¶åˆ°çš„ä¸­é—´ä»¶æ”¾å…¥æ•°ç»„chainä¸­ï¼Œé€šè¿‡compose(â€¦chain)(store.dispatch)å®šä¹‰åŠ å¼ºç‰ˆçš„dispatchã€‚</p><p>composeæ˜¯å·¥å…·å‡½æ•°ï¼Œcompose(f, g, h)ç­‰ä»·äº (â€¦args)=&gt;f(g(h(args))). æ¯ä¸ªä¸­é—´ä»¶éƒ½æ¥æ”¶ä¸€ä¸ªåŒ…å«getStateå’Œdispatchçš„å‚æ•°å¯¹è±¡ï¼Œåœ¨åˆ©ç”¨ä¸­é—´ä»¶æ‰§è¡Œå¼‚æ­¥æ“ä½œæ—¶ï¼Œä¼šç”¨åˆ°è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p><h3 id="å¼‚æ­¥æ“ä½œ"><a href="#å¼‚æ­¥æ“ä½œ" class="headerlink" title="å¼‚æ­¥æ“ä½œ"></a>å¼‚æ­¥æ“ä½œ</h3><p>reduxä¸­çš„å¼‚æ­¥æ“ä½œå¿…é¡»å€ŸåŠ©ä¸­é—´ä»¶å®Œæˆã€‚</p><p><a href="">redux-thunk</a>æ˜¯å¤„ç†å¼‚æ­¥æ“ä½œæœ€å¸¸ç”¨çš„ä¸­é—´ä»¶ã€‚</p><p>store.dispatch åªèƒ½æ¥æ”¶æ™®é€šJavaScriptå¯¹è±¡ä»£è¡¨çš„actionï¼Œä½¿ç”¨redux-thunkï¼Œstore.dispatch å°±èƒ½æ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°äº†ã€‚å¼‚æ­¥actionå…ˆç»è¿‡redux-thunkçš„å¤„ç†ï¼Œå½“è¯·æ±‚è¿”å›åï¼Œå†å‘é€ä¸€ä¸ªaction: dispatch({type: â€˜RECEIVE_DATAâ€™, json}), æŠŠè¿”å›çš„æ•°æ®å‘é€å‡ºå»ï¼Œè¿™æ—¶çš„actionå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„JavaScriptå¯¹è±¡äº†ï¼Œå¤„ç†æµç¨‹å’Œä¸ä½¿ç”¨ä¸­é—´ä»¶æµç¨‹ä¸€æ ·ã€‚</p><blockquote><p>å¸¸ç”¨ä¸­é—´ä»¶ redux-promise, redux-sageç­‰ã€‚</p></blockquote><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬ç« è¯¦ç»†ä»‹ç»äº†reduxæ¶æ„ä»¥åŠReduxå„ç»„æˆéƒ¨åˆ†(action, reducer, store)ï¼Œåœ¨reacté¡¹ç›®ä¸­ä½¿ç”¨reduxéœ€è¦å€ŸåŠ©react-reduxï¼Œå¯ä»¥æ–¹ä¾¿çš„å°†reactç»„ä»¶å’Œreduxçš„storeè¿æ¥ã€‚ä¸­é—´ä»¶æ˜¯reduxçš„ä¸€å¤§åˆ©å™¨ï¼Œreduxä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œå°±æ˜¯é€šè¿‡å¼•å…¥ä¸­é—´ä»¶å®ç°çš„ã€‚</p><h1 id="reduxå®æˆ˜ç»éªŒ"><a href="#reduxå®æˆ˜ç»éªŒ" class="headerlink" title="reduxå®æˆ˜ç»éªŒ"></a>reduxå®æˆ˜ç»éªŒ</h1><h2 id="è®¾è®¡state"><a href="#è®¾è®¡state" class="headerlink" title="è®¾è®¡state"></a>è®¾è®¡state</h2><p>è®¾è®¡state<strong>å®¹æ˜“çŠ¯çš„ä¸¤ä¸ªé”™è¯¯</strong>ï¼š</p><ol><li>ä»¥APIä½œä¸ºè®¾è®¡stateçš„ä¾æ®<br>ä»¥APIä½œä¸ºè®¾è®¡stateçš„ä¾æ®å¾€å¾€æ˜¯ä¸€ä¸ªAPIå¯¹åº”å…¨å±€stateä¸­çš„ä¸€éƒ¨åˆ†ç»“æ„ï¼Œä¸”è¿™éƒ¨åˆ†ç»“æ„åŒAPIè¿”å›çš„æ•°æ®ç»“æ„ä¿æŒä¸€è‡´æˆ–æ¥è¿‘ä¸€è‡´ã€‚</li></ol><p>å› ä¸ºAPIæ˜¯åŸºäºæœåŠ¡ç«¯é€»è¾‘è®¾è®¡çš„ï¼Œè€Œä¸æ˜¯åŸºäºåº”ç”¨çŠ¶æ€è®¾è®¡çš„ã€‚</p><ol start="2"><li>ä»¥é¡µé¢UIä¸ºè®¾è®¡stateçš„ä¾æ®<br>åŸºäºé¡µé¢UIè®¾è®¡state ã€‚é¡µé¢UIéœ€è¦ä»€ä¹ˆæ ·çš„æ•°æ®å’Œæ•°æ®ç»“æ„ï¼Œstateå°±è®¾è®¡æˆä»€ä¹ˆæ ·ã€‚</li></ol><h3 id="åˆç†è®¾è®¡state"><a href="#åˆç†è®¾è®¡state" class="headerlink" title="åˆç†è®¾è®¡state"></a>åˆç†è®¾è®¡state</h3><p>æœ€é‡è¦ä¸€å¥è¯ï¼šåƒè®¾è®¡æ•°æ®åº“ä¸€æ ·è®¾è®¡stateã€‚</p><p>æŠŠstateçœ‹åšä¸€ä¸ªæ•°æ®åº“ï¼Œstateä¸­çš„æ¯ä¸€éƒ¨åˆ†çŠ¶æ€çœ‹åšæ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ï¼ŒçŠ¶æ€ä¸­æ¯ä¸ªå­—æ®µå¯¹åº”è¡¨çš„ä¸€ä¸ªå­—æ®µã€‚</p><p>è®¾è®¡æ•°æ®åº“éµå¾ªä¸‰ä¸ªåŸåˆ™ï¼š</p><ul><li><ol><li>æ•°æ®æŒ‰ç…§é¢†åŸŸ(Domain)åˆ†ç±»å­˜å‚¨åœ¨ä¸åŒçš„è¡¨ä¸­ï¼Œä¸åŒè¡¨ä¸­å­˜å‚¨çš„åˆ—æ•°æ®ä¸èƒ½é‡å¤</li></ol></li><li><ol start="2"><li>è¡¨ä¸­æ¯ä¸€åˆ—çš„æ•°æ®éƒ½ä¾èµ–äºè¿™å¼ è¡¨çš„ä¸»é”®</li></ol></li><li><ol start="3"><li>è¡¨ä¸­é™¤äº†ä¸»é”®ä»¥å¤–å…¶ä»–åˆ—äº’ç›¸ä¹‹é—´ä¸èƒ½æœ‰ç›´æ¥ä¾èµ–å…³ç³»</li></ol></li></ul><p>å¯¹ç…§ä»¥ä¸Šä¸‰ä¸ªåŸåˆ™ï¼Œè®¾è®¡stateåŸåˆ™ï¼š</p><ul><li><ol><li>æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€æŒ‰ç…§é¢†åŸŸåˆ†æˆè‹¥å¹²å­çŠ¶æ€ï¼Œå­çŠ¶æ€ä¹‹é—´ä¸èƒ½ä¿å­˜é‡å¤çš„æ•°æ®</li></ol></li><li><ol start="2"><li>stateä»¥é”®å€¼å¯¹çš„ç»“æ„å­˜å‚¨æ•°æ®ï¼Œä»¥è®°å½•çš„keyæ´»IDä½œä¸ºè®°å½•ç´¢å¼•ï¼Œè®°å½•ä¸­çš„å…¶ä»–å­—æ®µéƒ½ä¾èµ–äºç´¢å¼•</li></ol></li><li><ol start="3"><li>stateä¸­ä¸èƒ½ä¿å­˜å¯ä»¥é€šè¿‡stateä¸­çš„å·²æœ‰å­—æ®µè®¡ç®—è€Œæ¥çš„æ•°æ®ï¼Œå³stateä¸­çš„å­—æ®µä¸äº’ç›¸ä¾èµ–ã€‚</li></ol></li></ul><blockquote><p>æœ‰å¼€å‘è€…ä¹ æƒ¯æŠŠUIçŠ¶æ€æ•°æ®ä¿å­˜åœ¨ç»„ä»¶stateä¸­ï¼Œç”±ç»„ä»¶è‡ªå·±ç®¡ç†ï¼Œè€Œä¸æ˜¯äº¤ç»™Reduxç®¡ç†ã€‚ä½†å°†UIçŠ¶æ€æ•°æ®ä¹Ÿäº¤ç»™reduxç»Ÿä¸€ç®¡ç†æœ‰åˆ©äºåº”ç”¨UIçŠ¶æ€çš„è¿½æº¯ã€‚</p></blockquote><h2 id="è®¾è®¡æ¨¡å—"><a href="#è®¾è®¡æ¨¡å—" class="headerlink" title="è®¾è®¡æ¨¡å—"></a>è®¾è®¡æ¨¡å—</h2><p>å®šä¹‰æ¨¡å—ä¸èƒ½åªè¢«UIç»„ä»¶ä½¿ç”¨ï¼Œå„ä¸ªæ¨¡å—ä¹‹é—´ä¹Ÿå¯ä»¥äº’ç›¸è°ƒç”¨</p><blockquote><p>actionå’Œreducerä¹‹é—´å¹¶ä¸å­˜åœ¨ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚ä¸€ä¸ªactionå¯ä»¥è¢«å¤šä¸ªæ¨¡å—çš„reducerå¤„ç†ï¼Œå°¤å…¶æ˜¯å¤šä¸ªæ¨¡å—ä¹‹é—´å­˜åœ¨å…³è”å…³ç³»æ—¶ã€‚</p></blockquote><p>è‰¯å¥½çš„æ¨¡å—è®¾è®¡å¯¹å¤–æš´éœ²çš„åº”è¯¥æ˜¯æ¨¡å—çš„æ¥å£ï¼Œè€Œä¸æ˜¯æ¨¡å—çš„å…·ä½“ç»“æ„</p><h1 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h1>]]></content>
      
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> è¯»ä¹¦ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>antDesign</title>
      <link href="posts/antDesign/"/>
      <url>posts/antDesign/</url>
      
        <content type="html"><![CDATA[<h2 id="è®°å½•è¸©è¿‡çš„å‘"><a href="#è®°å½•è¸©è¿‡çš„å‘" class="headerlink" title="è®°å½•è¸©è¿‡çš„å‘"></a>è®°å½•è¸©è¿‡çš„å‘</h2><p>æ•°ç»„å¿…é¡»è¦keyçš„è§£å†³åŠæ³•</p><p>ç”±äºæœ‰äº›æ•°æ®æ²¡æœ‰å”¯ä¸€keyå€¼ã€‚éœ€è¦è‡ªè¡Œæ·»åŠ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> localCounter = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">this</span>.data.forEach(<span class="function"><span class="params">el</span>=&gt;</span>&#123;</span><br><span class="line">    el.id = localCounter++;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘æ•°ç»„ä¸­åŠ¨æ€æ·»åŠ å…ƒç´ æ—¶ï¼Œ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createUser</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        ...user,</span><br><span class="line">        id: localCounter++</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŠ¨æ€è·¯ç”±ï¼Œä¼ å‚è·å–å‚æ•°"><a href="#åŠ¨æ€è·¯ç”±ï¼Œä¼ å‚è·å–å‚æ•°" class="headerlink" title="åŠ¨æ€è·¯ç”±ï¼Œä¼ å‚è·å–å‚æ•°"></a>åŠ¨æ€è·¯ç”±ï¼Œä¼ å‚è·å–å‚æ•°</h2><p>å®šä¹‰è·¯ç”±</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;/coupons/relateProducts/:couponBatchId&#x27;</span>: &#123;</span><br><span class="line">    component: dynamicWrapper(app, [<span class="string">&#x27;coupons&#x27;</span>], <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../routes/Coupons/RelateProducts&#x27;</span>))</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>åœ¨ç»„ä»¶ä¸­è·å–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.props.match.params.couponBatchId</span><br></pre></td></tr></table></figure><h2 id="è·¯ç”±è·³è½¬"><a href="#è·¯ç”±è·³è½¬" class="headerlink" title="è·¯ç”±è·³è½¬"></a>è·¯ç”±è·³è½¬</h2><h2 id="å¤šçº§å¯¹è±¡setState"><a href="#å¤šçº§å¯¹è±¡setState" class="headerlink" title="å¤šçº§å¯¹è±¡setState"></a>å¤šçº§å¯¹è±¡setState</h2><p>å¯ä»¥å•ç‹¬å–å‡ºæ¥ï¼Œä¿®æ”¹åå†æ•´ä½“æ”¾è¿›å»</p><h2 id="ä¸€ä¸ªç»„ä»¶æ˜¯modalï¼Œæ‰“å¼€å°±æŸ¥è¯¢ä¸€æ¬¡ï¼Œåœ¨å“ªæ‰§è¡ŒæŸ¥è¯¢"><a href="#ä¸€ä¸ªç»„ä»¶æ˜¯modalï¼Œæ‰“å¼€å°±æŸ¥è¯¢ä¸€æ¬¡ï¼Œåœ¨å“ªæ‰§è¡ŒæŸ¥è¯¢" class="headerlink" title="ä¸€ä¸ªç»„ä»¶æ˜¯modalï¼Œæ‰“å¼€å°±æŸ¥è¯¢ä¸€æ¬¡ï¼Œåœ¨å“ªæ‰§è¡ŒæŸ¥è¯¢"></a>ä¸€ä¸ªç»„ä»¶æ˜¯modalï¼Œæ‰“å¼€å°±æŸ¥è¯¢ä¸€æ¬¡ï¼Œåœ¨å“ªæ‰§è¡ŒæŸ¥è¯¢</h2><p>åœ¨componentWillReceivePropsé‡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">componentWillReceiveProps</span>(<span class="params">nextProps</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œçš„nextPropsä¸ºä¿®æ”¹åçš„çŠ¶æ€å€¼</span></span><br><span class="line"></span><br><span class="line">    ç”¨<span class="built_in">this</span>.propså¯ä»¥è·å–åˆ°ä¿®æ”¹ä¹‹å‰çš„props</span><br><span class="line"></span><br><span class="line">    é€šè¿‡<span class="built_in">this</span>.propså’ŒnextPropsä¸¤è€…å¯¹æ¯”å¯ä»¥çœ‹æ˜¯å¦éœ€è¦æ›´æ–°å’Œæ“ä½œ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>componentwillreceivepropsä¼šè‡ªåŠ¨æ¥æ”¶å‚æ•°ï¼Œå¯¼è‡´é¡µé¢ä¸æ–­æ¸²æŸ“<br>éœ€è¦é…åˆthis.propsä½¿ç”¨<br>componentDidMountä¸ä¼šè§¦å‘</p><p>lodash.has</p><h2 id="select-ç”¨setFieldsValueèµ‹å€¼ï¼Œç±»å‹è¦ä¸€æ ·ï¼Œæ•°å­—å°±æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²å°±æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰èƒ½æ­£å¸¸æ˜¾ç¤º"><a href="#select-ç”¨setFieldsValueèµ‹å€¼ï¼Œç±»å‹è¦ä¸€æ ·ï¼Œæ•°å­—å°±æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²å°±æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰èƒ½æ­£å¸¸æ˜¾ç¤º" class="headerlink" title="select ç”¨setFieldsValueèµ‹å€¼ï¼Œç±»å‹è¦ä¸€æ ·ï¼Œæ•°å­—å°±æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²å°±æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰èƒ½æ­£å¸¸æ˜¾ç¤º"></a>select ç”¨setFieldsValueèµ‹å€¼ï¼Œç±»å‹è¦ä¸€æ ·ï¼Œæ•°å­—å°±æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²å°±æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰èƒ½æ­£å¸¸æ˜¾ç¤º</h2><h2 id="formè¡¨å•é‡ç½®æŒ‰é’®"><a href="#formè¡¨å•é‡ç½®æŒ‰é’®" class="headerlink" title="formè¡¨å•é‡ç½®æŒ‰é’®"></a>formè¡¨å•é‡ç½®æŒ‰é’®</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">handleReset = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.props.form.resetFields();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Select-ç»„ä»¶ä½¿ç”¨"><a href="#Select-ç»„ä»¶ä½¿ç”¨" class="headerlink" title="Select ç»„ä»¶ä½¿ç”¨"></a>Select ç»„ä»¶ä½¿ç”¨</h2><p>Select èµ‹å€¼ï¼Œç”¨this.props.form.setFieldsValues();</p><p>selectåŠ¨æ€èµ‹å€¼ç»™selectã€‚ï¼Œåªæ˜¾ç¤ºvalueï¼Œæ²¡æ˜¾ç¤ºlabelï¼Œæ˜¾ç¤ºlabelæ— æ³•æäº¤<br>ç±»å‹è¦åŒ¹é…ï¼Œæ•°å­—å°±æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²å°±æ˜¯å­—ç¬¦ä¸²</p><h2 id="aå…ƒç´ ç»‘å®šäº‹ä»¶"><a href="#aå…ƒç´ ç»‘å®šäº‹ä»¶" class="headerlink" title="aå…ƒç´ ç»‘å®šäº‹ä»¶"></a>aå…ƒç´ ç»‘å®šäº‹ä»¶</h2><p>ç»™aç»‘å®šäº‹ä»¶ï¼Œä¸€å®šè¦è¿™æ ·ç»‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> &lt;a onClick=&#123;<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">this</span>.showDetail(record.key)&#125;&gt;è¯¦æƒ…&lt;/a&gt;</span><br><span class="line">handleMouseOver = <span class="function">(<span class="params">key</span>) =&gt;</span> <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123; <span class="attr">display</span>: key &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™äº†modelsä¸€å®šè¦åœ¨commonçš„router.jsä¸­getRouterData<br>çš„dynamicWrapper<br>ä¸­å¼•å…¥æ–‡ä»¶å¤¹åå­—ï¼Œæ‰èƒ½è‡ªåŠ¨å¼•å…¥åˆ°app._modelsä¸­</p><p>service ä¸­çš„apiè¦æ·»åŠ request.</p><p>modelsä¸­è¦æ·»åŠ reducerï¼Œ</p><p>åœ¨é¡µé¢ä¸­è¦ç”¨reduxå®šä¹‰å¥½çš„stateï¼Œéœ€è¦åœ¨connectä¸­å¼•å…¥<br>@connect(({loading, coupons}) =&gt; ({<br>    data: coupons,<br>}))</p><p>actionè°ƒç”¨æˆåŠŸåï¼Œåœ¨reduceré‡Œæ”¹äº†çŠ¶æ€ï¼Œ æ‰“å°å‡ºæ¥å‘ç”Ÿå˜åŒ–äº†ï¼Œä½†é¡µé¢æ²¡å˜åŒ–ã€‚</p><p>åœ¨divä¸­å†™çš„å¯ä»¥å˜åŒ–ï¼Œåœ¨inputæˆ–textareaä¸­ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p><p>åŠ äº†mapPropsToFieldsåï¼Œä¿®æ”¹çš„å€¼å›å“åº”åˆ°textareaä¸Šï¼Œ</p><p>ä½†æ‰€æœ‰è¾“å…¥æ¡†è¾“å…¥çš„å€¼è¢«æ¸…ç©ºäº†</p><p>ä¸æƒ³ç”¨reduxï¼Œç›´æ¥ç”¨ç»„ä»¶é‡Œçš„stateï¼Œæ€ä¹ˆæï¼Ÿ</p><p>åœ¨dispatchåæ·»åŠ callback.ç›´æ¥ç”¨</p><p>this.props.form.setFieldsValue({<br>    uids: payload.data.join()<br>});</p><p> ä¸€ä¸ªé¡µé¢å¤šä¸ªformï¼Œç‚¹å‡»æ¯ä¸ªformçš„æäº¤ï¼Œå…¶ä»–formçš„å­—æ®µä¼šè·Ÿç€æäº¤</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Formçš„FormItemå¦‚æœæ˜¯rangePickerï¼Œåˆ™è®¾ç½®<span class="string">`style=&#123;&#123;width:100%&#125;&#125;`</span>ï¼Œå¯ä»¥è®©è¾“å…¥æ¡†å“åº”å®¹å™¨</span><br></pre></td></tr></table></figure><p>Formçš„labelå’Œinputè¾“å…¥æ¡†çš„å®½åº¦é€šè¿‡è°ƒèŠ‚labelColï¼ŒwrapperCol<br>æ¥è®¾ç½®ï¼Œæ€»é•¿åº¦ä¸º24</p><p>å•Šå•Šå•Šå•Šå¤§ç»éªŒå•Šï¼ï¼ï¼ï¼</p><p>nginxçš„proxyé…ç½®ä¸€å®šè¦å‰åè·¯å¾„ä¸€è‡´</p><p><code>&#39;POST /coupon/v1/(.*)&#39;: &#39;&lt;http://10.64.38.89:8081/coupon/v1/&#39;,&gt;</code></p><p>å‰é¢æ˜¯coupon/v1åé¢ä¹Ÿä¸€å®šæ˜¯coupon/v1,<br>ä¸èƒ½å‰é¢æ˜¯coupon åé¢æ˜¯coupon/v1<br>é¡¹ç›®ä¸€å®šè¦æ”¾åœ¨wwwç›®å½•ä¸‹</p>]]></content>
      
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> antDesign </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ€ç»´å¯¼å›¾ç¬”è®°</title>
      <link href="posts/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E7%AC%94%E8%AE%B0/"/>
      <url>posts/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>1.è¦æƒ³é«˜æ•ˆçš„åˆ©ç”¨æœ¬ä¹¦ï¼Œå¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯å¿…é¡»åŠ å¼ºç»ƒä¹ ï¼ï¼ï¼</p><p>2.å·¦è„‘å¤„ç†é€»è¾‘ã€è¯æ±‡ã€è¡¨å•ã€æ•°å­—ã€çº¿æ€§å’Œåˆ†æç­‰æ‰€è°“çš„å­¦æœ¯æ´»åŠ¨ã€‚å³è„‘ä¸»å¸èŠ‚å¥ã€æƒ³è±¡ã€è‰²å½©ã€å¹»æƒ³ã€ç©ºé—´æ„Ÿã€å®Œæ•´å€¾å‘(æ•´ä½“è§‚å¿µ)å’Œç»´åº¦ã€‚ </p><p>3.é¼“åŠ±äººä»¬å»å¼€å‘ä»–ä»¬ä»¥å‰è®¤ä¸ºå¾ˆå¼±çš„è„‘åŒºã€‚ä¼šäº§ç”Ÿä¸€ç§ååŒæ•ˆåº”ï¼Œä½¿æ•´ä¸ªè„‘åŒºçš„æ™ºåŠ›æ°´å¹³éƒ½éšä¹‹æé«˜ã€‚</p><p>4.å½“æˆ‘ä»¬è¯´è‡ªå·±æŸäº›æ–¹é¢è¡Œï¼ŒæŸäº›æ–¹é¢ä¸è¡Œæ—¶ï¼Œæˆ‘ä»¬å®é™…æ˜¯æŒ‡å·²ç»å¾ˆæˆåŠŸçš„å¼€å‘å‡ºæ¥äº†çš„æ½œåŠ›å’Œå°šæœªå¼€å‘å‡ºæ¥çš„ï¼Œä»ç„¶å¤„åœ¨è›°ä¼çŠ¶æ€çš„æ½œèƒ½ã€‚å¦‚æœèƒ½å°†è›°ä¼çŠ¶æ€ä¸‹çš„æ½œèƒ½å¼€å‘å‡ºæ¥ï¼Œå¤§è„‘å°†é‡Šæ”¾å‡ºå·¨å¤§çš„â€œèƒ½é‡â€ã€‚</p><p>5.å¤§è„‘æ¯åˆ†é’Ÿçº¦è¦è¿›è¡Œ10ä¸‡~100ä¸‡æ¬¡ä¸åŒçš„åŒ–å­¦ååº”ã€‚</p><!---more---><p><a href="/img/clipboard.png">è®°å¿†æ›²çº¿</a><br><img data-src="/img/clipboard.png" ></p><p>6.æ„ŸçŸ¥æ¨¡å‹ï¼šçœ¼ç›-å¤§è„‘-ç›¸æœº<br>        æŒ‰ç…§ä¸€èˆ¬äººåšç™½æ—¥æ¢¦çš„æ ·å­ï¼Œé—­ä¸Šçœ¼ç›ï¼Œæƒ³è±¡ä½ æœ€å–œæ¬¢çš„ç‰©ä½“ï¼Œåœ¨ä½ å¿ƒç›®ä¸­å·²ç»å¾ˆæ¸…æ™°åœ°è®°ä½å…¶å›¾åƒåï¼Œå†åšä¸‹åˆ—è¿™äº›ç»ƒä¹ :<br>        åœ¨é¢å‰è½¬åŠ¨å®ƒ<br>ä»é¡¶éƒ¨çœ‹å®ƒ<br>ä»åº•éƒ¨çœ‹å®ƒ<br>æ”¹å˜å®ƒçš„é¢œè‰²ï¼Œè‡³å°‘3æ¬¡ã€‚<br>æŠŠå¥¹ç§»å¼€ï¼Œå°±å¥½åƒåœ¨å¾ˆè¿œå¤„çœ‹å®ƒä¸€æ ·ã€‚<br>å†æŠŠå®ƒç§»å›æ¥ã€‚<br>æŠŠå®ƒå˜çš„æå¤§ã€‚<br>æŠŠä»–å˜å°ã€‚<br>å®Œå…¨æ”¹å˜å®ƒçš„å½¢çŠ¶ã€‚<br>è®©å®ƒæ¶ˆå¤±ã€‚<br>å†è®©å®ƒå‡ºæ¥ã€‚<br>è¿™äº›æ´»åŠ¨ä½ åšèµ·æ¥å¥½ä¸è´¹äº‹ï¼Œå¯æ˜¯ç›¸æœºçš„é›¶ä»¶å´å®Œå…¨æ— æ³•åšåˆ°ã€‚</p><p>æ€ç»´å¯¼å›¾_å¯åŠ¨å¤§è„‘  33é¡µ<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-2014/10/27 00:03   â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</p><ol start="3"><li><p>å¤§è„‘å—é™åˆ¶çš„åŸå› </p></li><li><p>ä¸æ‰¿è®¤å¤±è´¥ç›¸æ¯”ï¼Œæ›´å¤šäººä¼šè¯´â€æˆ‘ä»¬åªæ˜¯æ™®é€šäººâ€ï¼Œè¿™ç§è¯´æ³•ä¸è¶³ä»¥ä»¤äººä¿¡æœï¼æˆ‘ä»¬å¿…é¡»å­¦ä¹ å¤§è„‘æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä»¥ä¾¿å……åˆ†å‘æŒ¥è‡ªèº«æ— é™çš„æ½œåŠ›ã€‚</p><p>2.æˆ‘ä»¬çš„è¡¨ç°ä¸æˆ‘ä»¬ç”šè‡³æœ€å°æ½œåŠ›ä¸ç›¸ç¬¦çš„åŸå› å°±æ˜¯ï¼Œæˆ‘ä»¬å¯¹è‡ªå·±æ‰€æ‹¥æœ‰çš„å†…åœ¨æ½œåŠ›ä¸€æ— æ‰€çŸ¥ï¼Œæ›´ä¸ç”¨è¯´å¦‚ä½•å»å……åˆ†åˆ©ç”¨äº†ã€‚<br>3.ä¸€ä¸ªæ™®éå¹¶ä¸”è¢«ä¸¥é‡è¯¯å¯¼çš„ç¥è¯ï¼šäººç±»æœ¬èº«å°±æœ‰ä¸è¶³ä¹‹å¤„ï¼Œå› æ­¤ï¼Œè¿™åœºç¾éš¾çš„è´£ä»»åº”å½’ç»“äºäººç±»æœ¬èº«çš„â€œç¼ºé™·â€ã€‚</p><p>4.åœ¨å…¨ä¸–ç•ŒèŒƒå›´çš„æ•™è‚²ç³»ç»Ÿå†…ï¼Œäººä»¬ä¹‹æ‰€ä»¥å‡ ä¹æ²¡æœ‰èŠ±æ—¶é—´å»å­¦ä¹ å¦‚ä½•å­¦ä¹ ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å¯¹è¿™å°ç”Ÿç‰©è®¡ç®—æœºçš„åŸºæœ¬æ“ä½œè§„åˆ™ä¸€æ— æ‰€çŸ¥ã€‚</p><p>ã€Šå¯åŠ¨å¤§è„‘ã€‹ æ˜¯ç¬¬ä¸€æœ¬â€œå¤§è„‘ä½¿ç”¨è¯´æ˜ä¹¦â€ï¼Œå®ƒæ˜¯ä¸“é—¨ç”¨æ¥å¸®åŠ©ä½ äº†è§£ã€å……å®å’Œä¿å…»ä½ è‡ªå·±çš„â€œè¶…çº§ç”Ÿç‰©è®¡ç®—æœºâ€çš„ï¼Œå¹¶æ•™ä½ å¦‚ä½•é‡Šæ”¾ä½ æ‰€æ‹¥æœ‰çš„è‡ªç„¶ä¸”éå‡¡çš„æ™ºèƒ½ã€‚</p></li><li><p>æ›´å¿«ã€æ›´æœ‰æ•ˆçš„é˜…è¯»</p><p>   1.æˆ‘é˜…è¯»å­˜åœ¨çš„é—®é¢˜</p><pre><code>       é˜…è¯»é€Ÿåº¦æ…¢ï¼Œé˜…è¯»åä¼šå¿˜è®°ã€é˜…è¯»çš„æ—¶é—´ä¸èƒ½ä¿è¯ã€é˜…è¯»åå½“æ—¶æŒæ¡å›å¤´å°±ä¼šå¿˜è®°ã€é˜…è¯»çš„æ—¶å€™æœ‰äº›ä¸èƒ½å¾ˆå¿«çš„ç†è§£</code></pre><p>é˜…è¯»å®šä¹‰:â€œä»ä¹¦ä¸­æ•æ‰ä½œè€…çš„æ„å›¾â€æˆ–â€œå¸æ”¶æ‰€å†™æ–‡å­—çš„å†…å®¹â€ã€‚<br>é˜…è¯»æ˜¯ä¸ªäººä¸ç¬¦å·ä¿¡æ¯ä¹‹é—´å‘ç”Ÿçš„å…¨éƒ¨ç›¸äº’è”ç³»ï¼›å®ƒé€šå¸¸æ˜¯æŒ‡å­¦ä¹ çš„è§†è§‰æ–¹é¢ï¼Œå¹¶åŒ…å«ä¸‹è¿°7ä¸ªæ­¥éª¤ã€‚</p><pre><code>       è¾¨è¯†ã€å¸æ”¶ã€å†…éƒ¨æ•´åˆã€å¤–éƒ¨æ•´åˆã€ä¿æŒã€å›å¿†ã€äº¤æµ</code></pre><p>4.3é˜…è¯»é—®é¢˜å­˜åœ¨çš„åŸå› <br>   ç­”æ¡ˆé™¤äº†æˆ‘ä»¬æ—©å…ˆå¯¹å¤§è„‘ç¼ºä¹è®¤è¯†ä¹‹å¤–ï¼Œä¸»è¦æ˜¯å› ä¸ºæˆ‘ä»¬æ—©æœŸçš„é˜…è¯»æ•™è‚²æ–¹æ³•ä¸å½“ã€‚</p><p>çœ¼ç›åœ¨é˜…è¯»æ—¶ï¼Œå®é™…æ˜¯ä»¥ä¸€ç³»åˆ—çš„åœé¡¿å’Œå¿«é€Ÿè·³è·ƒçš„æ–¹å¼ç§»åŠ¨çš„ã€‚</p><p>   æé«˜é€Ÿåº¦</p><pre><code>   1.æ¶ˆé™¤å›è¯»----90%çš„å›è·³å’Œå›è¯»æ˜¯å› ä¸ºæ‹…å¿ƒä¸èƒ½å¯¹é˜…è¯»ææ–™å®Œå…¨ç†è§£è€Œå¼•èµ·çš„ã€‚   2.æ¯æ¬¡å‡è§†çš„æ—¶é—´å¯å‡åˆ°æœ€ä½çš„1/4ç§’ï¼Œ------äººçš„çœ¼ç›å¯ä»¥åœ¨1/100ç§’çš„æ—¶é—´å†…æ‘„å…¥5ä¸ªå•è¯ã€‚   3.å‡è§†çš„é—´éš”å¯æ‰©å±•åˆ°ä¸€æ¬¡æ‘„å…¥3~5ä¸ªå•è¯ã€‚</code></pre><p>å¿«é€Ÿé˜…è¯»çš„å¥½å¤„<br>   å¿«é€Ÿé˜…è¯»è€…çš„ä¼˜åŠ¿æ˜¯ä»–çš„çœ¼ç›åœ¨æ¯ä¸€é¡µä¸Šè¯è´¹çš„ç‰©ç†è¿åŠ¨è¾ƒå°‘ï¼Œä¸ä¼šåƒæ…¢é€Ÿé˜…è¯»è€…é‚£æ ·ï¼Œæ¯é¡µç´§å¼ çš„èšç„¦å‡è§†500å¤šæ¬¡ã€‚å¿«é€Ÿé˜…è¯»è€…æ¯é¡µåªå‡è§†100æ¬¡ï¼Œå…¶çœ¼è‚Œå°±ä¸ä¼šç–²åŠ³ã€‚<br>   å¦ä¸€ä¸ªå¥½å¤„ï¼šèƒ½æœ‰èŠ‚å¥ã€æµç•…çš„é˜…è¯»å’Œè½»æ¾æ„‰å¿«çš„é¢†ç•¥æ–‡ç« çš„æ„æ€ã€‚<br>4.6  å¯¹é˜…è¯»çš„è¯¯è§£<br>   1.ä¸€æ¬¡åªèƒ½çœ‹ä¸€ä¸ªå•è¯â€”â€”â€”â€”é”™ã€‚äººçš„å‡è§†èƒ½åŠ›å°±å¯ä»¥æ‰©å±•ï¼Œæˆ‘ä»¬é˜…è¯»çš„ç›®çš„ä¸æ˜¯ç†è§£å•ä¸ªçš„è¯ï¼Œè€Œæ˜¯æ•´ä½“æ„æ€ã€‚<br>   2.é˜…è¯»é€Ÿåº¦ä¸å¯èƒ½è¶…è¿‡æ¯åˆ†é’Ÿ500ä¸ªå•è¯â€”-é”™ï¼Œæ¯æ¬¡å‡è§†å¯ä»¥æ‘„å…¥6ä¸ªå•è¯ï¼Œè€Œä¸”æ¯ç§’é’Ÿå¯ä»¥å‡è§†4æ¬¡ã€‚è¿™å°±æ„å‘³ç€æ¯åˆ†é’Ÿ1000ä¸ªå•è¯çš„é˜…è¯»é€Ÿåº¦æ˜¯å®Œå…¨èƒ½è¾¾åˆ°çš„ã€‚<br>   3.å¿«é€Ÿé˜…è¯»è€…æ²¡æ³•æ¬£èµæ–‡ç« â€”â€”â€”-é”™ã€‚å› ä¸ºå¿«é€Ÿé˜…è¯»è€…èƒ½æ›´å¤šçš„ç†è§£æ‰€è¯»çš„å†…å®¹ï¼Œèƒ½æ›´ä¸“æ³¨åœ°çœ‹ææ–™ï¼Œæ‰€ä»¥ä»–æœ‰æ›´å¤šçš„æ—¶é—´å»å›é¡¾ä»–è®¤ä¸ºç‰¹åˆ«æœ‰è¶£çš„å’Œé‡è¦çš„éƒ¨åˆ†ã€‚<br>   4.é€Ÿåº¦è¶Šå¿«æ³¨æ„åŠ›å°±è¶Šä½â€”â€”-é”™ã€‚è¯»çš„è¶Šå¿«ï¼Œå¾—åˆ°çš„åˆºæ¿€å°±è¶Šå¤šï¼Œæ³¨æ„åŠ›å°±è¶Šé›†ä¸­ã€‚<br>   5.ä¸€èˆ¬é˜…è¯»é€Ÿåº¦æ›´è‡ªç„¶ï¼Œå› æ­¤ä¹Ÿå°±æœ€å¥½â€”â€”é”™ã€‚å› ä¸ºä¸€èˆ¬é˜…è¯»é€Ÿåº¦å¹¶ä¸è‡ªç„¶ã€‚å®ƒæ˜¯æ—©æœŸä¸å®Œå–„çš„è®­ç»ƒï¼ŒåŠ ä¹‹ç¼ºä¹çœ¼ç›å’Œå¤§è„‘èƒ½ä»¥å„ç§å¯èƒ½çš„é€Ÿåº¦é˜…è¯»ç­‰æ–¹é¢çš„çŸ¥è¯†æ‰€é€ æˆçš„ã€‚</p></li></ol><p>4.7.1 é«˜çº§é˜…è¯»æŠ€å·§â€”â€”å¿«ä¸ŠåŠ å¿«<br>        æˆ‘ä»¬è¦åšçš„ä¸æ˜¯å«ä»–ä»¬æŠŠæ‰‹æŒ‡ä»ä¹¦æœ¬ä¸Šæ‹¿å¼€ï¼Œè€Œæ˜¯è®©ä»–ä»¬æ›´å¿«çš„ç§»åŠ¨æ‰‹æŒ‡ã€‚å®ƒåœ¨å¸®åŠ©å…»æˆæµç•…çš„é˜…è¯»èŠ‚å¥æ–¹é¢æœ‰ç€ä¸å¯ä¼°é‡çš„ä½œç”¨ã€‚<br>        ç”¨è¾…åŠ©ç‰© é˜…è¯»æ—¶é˜…è¯»çš„é€Ÿåº¦æ›´å¿«ã€‚<br>4.7.2                  â€”â€”â€”æ‰©å¤§ç„¦ç‚¹<br>        ç»“åˆè§†è§‰è¾…åŠ©æŠ€å·§ï¼Œç‰¹åˆ«é€‚ç”¨äºé˜…è¯»ä¸€äº›è½»æ¾çš„ææ–™å’Œç”¨æ¥é¢„ä¹ å’Œå¤ä¹ ï¼Œè¿˜å¯ä»¥æé«˜æ­£å¸¸çš„é˜…è¯»é€Ÿåº¦ã€‚<br>            å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯å¿…é¡»ä½¿ç”¨è§†è§‰å¯¼å¼•ç‰©<br>                    è¯•ç€é‡‡ç”¨å¦‚æ–œå¯¹è§’çº¿ã€æ›²çº¿å’Œæ²¿ä¹¦é¡µç›´çº¿å‘ä¸‹ç­‰å„ç§è§†è§‰å¯¼å¼•ç‰©ã€‚<br>4.7.3  å¿«é€Ÿç†è§£<br>        å°½å¿«ä»ä¸€é¡µæµè§ˆåˆ°ä¸‹ä¸€é¡µï¼Œå¹¶å°½å¯èƒ½å¤šçœ‹ä¸€äº›å•è¯ã€‚è¿™ç§è®­ç»ƒå¯å¢åŠ æ¯æ¬¡å‡è§†æ—¶æ‘„å…¥æ›´å¤§èŒƒå›´çš„å•è¯ç¾¤çš„èƒ½åŠ›ï¼Œä¹Ÿé€‚ç”¨äºç»ƒä¹ çºµè§ˆå’Œé¢„è§ˆæŠ€å·§ï¼Œå¹¶èƒ½æŠŠå¤§è„‘è°ƒæ•´åˆ°é€‚åº”æ›´å¿«é€Ÿã€æ›´æœ‰æ•ˆçš„æ•´ä½“é˜…è¯»ç»ƒä¹ çŠ¶æ€ã€‚</p><p>4.8    åŠ¨æœºè®­ç»ƒ<br>        è®¡ç®—æ¯åˆ†é’Ÿé˜…è¯»é€Ÿåº¦çš„å…¬å¼ï¼š<br>            é˜…è¯»é€Ÿåº¦=ï¼ˆæ‰€è¯»é¡µæ•°*æ¯é¡µå¹³å‡å•è¯ä¹¦ï¼‰/é˜…è¯»çš„åˆ†é’Ÿæ•°<br>4.9    èŠ‚æ‹è®­ç»ƒ<br>        è°ƒæ•´åˆ°åˆç†çš„èŠ‚å¥ã€å³æ¯ä¸€æ‹ä»£è¡¨è§†è§‰å¼•å¯¼ç‰©çš„ä¸€æ¬¡ç§»åŠ¨çš„è¯ï¼Œç”¨è¿™ç§æ–¹å¼å¯ä»¥ä¿æŒä¸€ç§ç¨³å®šã€è¿è´¯çš„èŠ‚å¥ã€å¹¶å¯å…‹æœé˜…è¯»å¼€å§‹åä¸ä¹…å‡ºç°çš„é˜…è¯»é€Ÿåº¦ä¸‹é™çš„é—®é¢˜ã€‚ä¸€æ—¦æ‰¾åˆ°æœ€ä½³çš„èŠ‚å¥ï¼Œå°±å¯é€šè¿‡æ¯åˆ†é’Ÿå¶å°”åŠ ä¸€æ‹çš„æ–¹å¼æé«˜ä½ çš„é˜…è¯»é€Ÿåº¦ã€‚<br>â€”â€”â€”â€”2014/10/28 00:15â€”â€”â€”â€”â€”â€”-</p><p>5.3  è®°å¿†è¶‹åŠ¿ï¼šåœ¨å­¦ä¹ æœŸé—´çš„å¼€å¤´å’Œç»“å°¾è®°å¾—å¤šï¼›å¤šæ¬¡é‡å¤ã€æ˜“æ„ŸçŸ¥ã€æœ‰èŠ‚å¥çš„å†…å®¹è®°å¾—å¤šï¼›çªå‡ºæˆ–ç‹¬ç‰¹çš„å†…å®¹è®°å¾—å¤šâ€”â€”â€”â€“å†¯-é›·æ–¯æ‰˜å¤«æ•ˆåº”ï¼Œè€Œå­¦ä¹ æœŸé—´çš„ä¸­é—´é˜¶æ®µæ‰€èƒ½æœºç¿¼çš„å†…å®¹å´ç›¸å½“å°‘ã€‚</p><pre><code> è¦æƒ³ä¿æŒåœ¨ä¸€ä¸ªç›¸å½“é«˜çš„æ°´å‡†ï¼Œå¿…é¡»æ‰¾åˆ°è®°å¿†ä¸ç†è§£æœ€å’Œè°çš„å·¥ä½œç‚¹ã€‚åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸€ç‚¹å‡ºç°åœ¨å­¦ä¹ å¼€å§‹çš„20~50åˆ†é’Ÿä¹‹é—´ã€‚å­¦ä¹ æœŸé—´çš„çŸ­æš‚é—´éš”ä¹Ÿå¸¸ç”¨äºæ”¾æ¾ã€æ¶ˆé£ã€‚å¯ä»¥ä½¿é›†ä¸­æ³¨æ„åŠ›å­¦ä¹ æ—¶ç´§å¼ çš„è‚Œè‚‰å’Œç¥ç»å¾—ä»¥æ”¾æ¾ã€‚å­¦ä¹ åçš„å›å¿†é‡æœ€åˆæ˜¯ä¸Šå‡ï¼Œä¹‹åæ‰æ˜¯ä¸‹é™ï¼Œå†åæ˜¯ä¸€æ¡é€æ¸ä¸‹é™çš„ã€ä»¥æ°´å¹³çº¿ç»“å°¾çš„å‡¹å½¢æ›²çº¿ã€‚    çŸ­æš‚ä¸Šå‡çš„åŸå› ï¼šåœ¨å­¦ä¹ ç»“æŸçš„ç¬é—´ï¼Œå¤§è„‘æ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´å»æ•´åˆåˆšå­¦çš„æ–°ä¿¡æ¯ï¼Œå°¤å…¶æ˜¯æœ€åçš„éƒ¨åˆ†ã€‚å®ƒéœ€è¦å‡ åˆ†é’Ÿçš„æ—¶é—´å°†æ–°ææ–™ä¹‹é—´çš„ç›¸å…³è”ç³»ç‰¢å›ºåœ°è¿æ¥èµ·æ¥ï¼Œå³ä½¿ä¹‹â€œæ²‰æ·€ä¸‹æ¥â€ã€‚    å°å¹…ä¸Šå‡ä¹‹åæ˜¯ä¸€ä¸ªé™¡å³»çš„ä¸‹é™ï¼Œåœ¨å­¦ä¹ ä¸€ä¸ªå°æ—¶ä¹‹åçš„24å°æ—¶ä¹‹å†…ï¼Œè‡³å°‘æœ‰80%çš„ç»†èŠ‚è¢«é—å¿˜äº†ã€‚</code></pre><p>5.5 è®°å¿†â€“å¤ä¹ çš„æŠ€å·§å’Œç†è®º<br>        å®‰æ’æœ‰è®¡åˆ’çš„å¤ä¹ ï¼Œè€Œä¸”æ¯æ¬¡å¤ä¹ å¿…é¡»å®‰æ’åœ¨å›å¿†åˆšå¼€å§‹ä¸‹é™ä¹‹å‰ã€‚<br>        eg:ç¬¬ä¸€æ¬¡å¤ä¹ åº”è¯¥åœ¨å­¦ä¹ 1å°æ—¶ä¹‹åçš„10åˆ†é’Ÿå¼€å§‹ï¼Œå¤ä¹ æ—¶é—´ä»¥5åˆ†é’Ÿä¸ºå®œã€‚è¿™æ ·å¯ä»¥ä½¿è®°å¿†åœ¨é«˜ä½ä¿æŒ1å¤©å·¦å³ï¼Œç„¶ååº”è¯¥è¿›è¡Œç¬¬äºŒæ¬¡å¤ä¹ ï¼Œæ—¶é—´ä¸º2~4åˆ†é’Ÿã€‚æ­¤åï¼Œè®°å¿†å°†ä¿æŒä¸€å‘¨å·¦å³ï¼Œç„¶ååœ¨ä¸€ä¸ªæœˆä¹‹åå†æ¬¡å¤ä¹ çº¦2åˆ†é’Ÿã€‚ç»è¿‡è¿™æœ€åä¸€æ¬¡å¤ä¹ ï¼Œæ­¤é¡¹çŸ¥è¯†å°†è¢«è½¬ä¸ºé•¿æœŸè®°å¿†ã€‚</p><pre><code>    å¦‚æœå·²ç»åšè¿‡ç¬”è®°çš„è¯ï¼Œç¬¬ä¸€æ¬¡å¤ä¹ åº”è¯¥æ˜¯å¯¹ç¬”è®°çš„å…¨é¢ä¿®è®¢è¿‡ç¨‹ï¼Œè¿™å°±æ„å‘³ç€è¦å–ä»£åŸæ¥çš„ç¬”è®°çš„â€œæœ€ç»ˆç‰ˆæœ¬â€ã€‚è€Œç¬¬äºŒã€ä¸‰å’Œå››æ¬¡å¤ä¹ åˆ™åº”é‡‡ç”¨ä¸‹åˆ—æ–¹å¼:ä¸çœ‹æ•´ç†è¿‡çš„ç¬”è®°ï¼Œç”¨ä¸€å¼ çº¸æ¦‚æ‹¬è®°ä¸‹æ‰€èƒ½å›å¿†çš„ä¸€åˆ‡ï¼Œç„¶åå°†å…¶ä¸æ•´ç†åçš„ç¬”è®°å¯¹ç…§ï¼Œå†è¿›è¡Œä¿®æ”¹å’Œè¡¥å……ã€‚ç¬”è®°å’Œè‰ç¨¿éƒ½åº”åšæˆæ€ç»´å¯¼å›¾ã€‚    åˆç†å¤ä¹ æœ€é‡è¦çš„ä¸€ä¸ªæ–¹é¢æ˜¯ä½œç”¨äºå­¦ä¹ ã€æ€ç»´å’Œè®°å¿†ç­‰å„æ–¹é¢çš„ç´¯è®¡æ•ˆåº”ã€‚    æ¯æ¬¡æ¥è§¦æ–°çŸ¥è¯†æ—¶ï¼Œäººä»¬å¯¹å·²å­¦çŸ¥è¯†çš„è®°å¿†å¤„äºä½è°·ï¼ŒåŸæœ‰çŸ¥è¯†é—´è‡ªåŠ¨äº§ç”Ÿçš„è¿æ¥ä¼šè§£ä½“ã€‚è¿™æ ·ï¼Œä»–å¯¹æ–°çŸ¥è¯†çš„ç†è§£å°±ä¸èƒ½è¾¾åˆ°åº”æœ‰çš„æ°´å¹³ï¼Œæ•ˆç‡å’Œé€Ÿåº¦ä¹Ÿå¿…ç„¶å¾ˆä½ã€‚è¿™ç§è¿ç»­çš„æ¶ˆæè¿‡ç¨‹ä¼šä½¿äººæ„Ÿåˆ°æ²®ä¸§ï¼Œæœ€ç»ˆå¯¹èƒ½å­¦å¥½çš„ä¸œè¥¿ä¹Ÿå¤±å»äº†ä¿¡å¿ƒ-----åªè¦ä¸€å­¦æ–°ä¸œè¥¿å°±ä¼šå¿˜è®°ï¼Œä¸€æ¥è§¦æ–°ä¸œè¥¿å¿ƒç†ä¸Šå°±ä¼šæ„Ÿåˆ°å‹æŠ‘ã€‚ç»“æœæ˜¯å¾ˆå¤šäººåœ¨å®Œæˆäº†æ­£å¼çš„è€ƒè¯•ä¹‹åï¼Œå°±å¾ˆå°‘ç”šè‡³æ ¹æœ¬ä¸å†ç¢°ä¹¦æœ¬ã€‚    å¤±è´¥çš„å¤ä¹ å¯¹æ•´ä½“è®°å¿†åŒæ ·æœ‰å®³ï¼Œå¦‚æœå¿½ç•¥æ¯æ¡æ–°ä¿¡æ¯çš„è¯ï¼Œé‚£ä¹ˆå®ƒå°†ä¸å†ä¿æŒåœ¨æ„è¯†å±‚ä¸­ï¼Œä¹Ÿä¸èƒ½å½¢æˆæ–°çš„è®°å¿†é“¾æ¥ã€‚ç”±äºè®°å¿†æ˜¯ä¸€ä¸ªä»¥è¿æ¥å’Œè”æƒ³ä¸ºåŸºç¡€çš„è¿‡ç¨‹ï¼Œå› è€Œâ€œè®°å¿†åº“â€ä¸­çš„ä¸œè¥¿è¶Šå°‘ï¼Œå…¶æ¥çº³å’Œè¿æ¥æ–°çŸ¥è¯†çš„å¯èƒ½æ€§å°±è¶Šå°ã€‚    ç›¸åï¼Œå¤ä¹ çš„å¥½å¤„æ˜¯æ— ç©·çš„ã€‚</code></pre><p>2014/10/29 10:54<br>    ä½¿ç”¨æŸäº›æ–¹æ³•ä½¿æˆ‘ä»¬èƒ½åˆ©ç”¨è®°å¿†çš„è¿æ¥å’Œè”æƒ³èƒ½åŠ›ï¼Œæ¥æŠŠè¿™äº›äº‹é¡¹ä¸å…¶å¯¹åº”çš„æ•°å­—å…³è”èµ·æ¥ã€‚<br>   æœ€å¥½çš„æ–¹æ³•æ˜¯æ•°å­—-éŸµå¾‹æ³•ã€‚</p><p>5.7è®°å¿†çš„â€œSMASHINâ€ SCOPE æ³•<br>        åœ¨è¿™ç§æ–¹æ³•ä¸­æœ€é‡è¦çš„æ˜¯è¦ä¿è¯æŠ¼éŸµå­—ä¸æ‰€è¦è®°å¿†çš„å•è¯å¿…é¡»å…¨éƒ¨å‡†ç¡®çš„è¿æ¥èµ·æ¥ã€‚<br>    1.é€šæ„Ÿ/æ„Ÿå®˜(Synaesthesia/Sensuality)<br>            é€šæ„Ÿï¼ŒæŒ‡çš„æ˜¯å¤šç§æ„Ÿè§‰çš„èåˆã€‚<br>            è§†è§‰ã€å¬è§‰ã€å—…è§‰ã€å‘³è§‰ã€è§¦è§‰ã€åŠ¨è§‰â€”å¯¹èº«ä½“åœ¨ç©ºé—´ä¸­çš„ä½ç½®ä¸è¿åŠ¨çš„æ„Ÿè§‰ã€‚<br>    2.è¿åŠ¨(Movenment)<br>            åœ¨ä»»ä½•è®°å¿†çš„å½¢è±¡ä¸­ï¼Œè¿åŠ¨å¯ä»¥æå¤§çš„å¢åŠ å¤§è„‘è¿æ¥å’Œè®°ä½ä¸œè¥¿çš„å¯èƒ½æ€§ã€‚â€”-è¿™é‡ŒæŒ‡è®°å¿†çš„å½¢è±¡çš„è¿åŠ¨æ€§ã€‚<br>    3.è”æƒ³(Association)<br>            ç¡®ä¿ä½¿å®ƒä¸ä½ çš„å†…çœçš„æŸäº›ç¨³å®šä¸å˜çš„äº‹ç‰©è”æƒ³æˆ–è¿æ¥èµ·æ¥ã€‚è¡£é’©æ³•ï¼š1=é¢åŒ…ã€‚<br>    4.æ€§(Sexuality)<br>            è¦åŠ ä»¥åˆ©ç”¨!<br>    5.å¹½é»˜(Humour)<br>            æƒ³è±¡è¶Šæœ‰è¶£ã€è¶Šè’è°¬ã€è¶Šæ„šè ¢ã€è¶…è¶Šç°å®ï¼Œå°±è¶Šå®¹æ˜“è¢«è®°ä½ã€‚<br>    6.æƒ³è±¡(Imagination)<br>            çˆ±å› æ–¯å¦è¯´ï¼šâ€œæƒ³è±¡æ¯”çŸ¥è¯†æ›´é‡è¦ï¼Œå› ä¸ºçŸ¥è¯†æ˜¯æœ‰é™çš„ï¼Œè€Œæƒ³è±¡å´èƒ½åŒ…å®¹å…¨ä¸–ç•Œã€ä¿ƒè¿›è¿›æ­¥ã€å­•è‚²é©æ–°ã€‚â€<br>            åœ¨è®°å¿†ä¸­åº”ç”¨çš„æƒ³è±¡è¶Šå¤šï¼Œè®°å¿†å°±ä¼šè¶Šå¥½ã€‚<br>    7.ç¼–å·(Number)<br>            æŒ‰æ•°å­—ç¼–å·ä½¿é¡ºåºåŠæ¬¡åºçš„è§„åˆ™æ›´æœ‰é’ˆå¯¹æ€§ï¼Œæ›´æœ‰æ•ˆã€‚<br>    8.ç¬¦å·(Symbolism)<br>            ç”¨ä¸°å¯Œå¤šå½©çš„æƒ³è±¡ï¼›å¯ä»¥ç”¨ä¼ ç»Ÿçš„ç¬¦å·ï¼Œå¦‚ä¼‘æ­¢ç¬¦ã€ç¯æ³¡ã€‚<br>    9.é¢œè‰²(Color)<br>            åœ¨é€‚å½“çš„åœ°æ–¹å°½å¯èƒ½ä½¿ç”¨å„ç§é¢œè‰²ï¼Œå¯ä½¿ä½ çš„æƒ³æ³•è‰²å½©æ–‘æ–“ï¼Œæ›´æ˜“äºè®°å¿†ã€‚<br>    10.é¡ºåºå’Œ/æˆ–æ¬¡åº(Order and /or Seguence)<br>            ç»“åˆå…¶ä»–è§„åˆ™ï¼Œæ’åˆ—é¡ºåºå’Œæ¬¡åºèµ·åˆ°äº†æ›´ç›´æ¥çš„å‚è€ƒä½œç”¨ï¼Œå¹¶å¢åŠ äº†å¤§è„‘â€œéšæœºå­˜å–â€çš„å¯èƒ½æ€§ã€‚å°†æ’åˆ—é¡ºåºå’Œæ¬¡åºçš„åº”ç”¨åŠ ä»¥æ‰©å±•ï¼Œèƒ½ä½¿ä½ å¼€å‘è®°å¿†çŸ©é˜µï¼Œå¦‚è‡ªæˆ‘å¢å¼ºå‹è®°å¿†çŸ©é˜µã€‚<br>    11.â€œç§¯æâ€çš„å½¢è±¡(Positive Images)<br>            ç§¯ææ„‰å¿«çš„å½¢è±¡æ›´åˆ©äºè®°å¿†ï¼Œè¿™ä½¿å¤§è„‘ä¹äºå·¥ä½œã€‚<br>    12.å¤¸å¼ (Exageration)<br>            åœ¨æ‰€æƒ³è±¡çš„æƒ…æ™¯ä¸­ï¼Œå¤¸å¤§å°ºå¯¸ã€å½¢è±¡å’Œå£°éŸ³ã€‚</p><pre><code>    12ä¸ªè®°å¿†è¦ç´ å¾ˆå®¹æ˜“ç”¨å®ƒä»¬çš„é¦–å­—æ¯ç»„æˆçš„å•è¯â€œSMASHINâ€ SCOPE æ¥è®°ã€‚</code></pre><p>5.8  æ•°å­—â€“éŸµå¾‹æ³•<br>        åœ¨å½¢æˆå¤´è„‘ä¸­çš„å½¢è±¡æ—¶ï¼Œå¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯,è¦åœ¨â€œå¿ƒç›®â€ä¸­çœ‹åˆ°æ¸…æ™°çš„å›¾åƒã€‚ç»å¸¸é—­ä¸Šçœ¼ç›ï¼Œå°†æƒ³è±¡çš„æƒ…æ™¯æŠ•å½±åˆ°ä½ çš„çœ¼è„¸å†…éƒ¨ï¼Œæˆ–æŠ•å½±åˆ°ä½ å¤§è„‘çš„å±å¹•ä¸Šï¼Œå¹¶ä¸”å»å¬ã€å»æ„Ÿè§‰ã€å»é—»ï¼Œæˆ–è€…ç”¨å¯¹ä½ æ¥è¯´æœ€æœ‰æ•ˆçš„æ–¹å¼å»ä½“éªŒã€‚åŸä¹¦84é¡µã€‚<br>        æ‰€æœ‰æ–¹æ³•ä¸­å°¤å…¶æœ‰æ•ˆçš„æ˜¯åŸºæœ¬è®°å¿†æ³•ã€‚å®ƒèƒ½ä»¥â€œæ•°å­—-éŸµå¾‹æ³•â€çš„æ–¹å¼è®°ä½1000æ¡ä»¥ä¸Šçš„ä¿¡æ¯ï¼Œå¹¶ä¸”èƒ½ç»™å‡ºè®°å¿†æ•°å­—ä¸æ—¥æœŸçš„å…³é”®æ–¹æ³•ã€‚â€œåå­—-é¢å­”è®°å¿†æ³•â€èƒ½é¿å…ä½ åœ¨ç¢°åˆ°æ›¾ç»è§è¿‡é¢çš„äººæ—¶ï¼Œé¿å…å°´å°¬ã€‚<br>5.9 ä¸å¯èƒ½å®Œæˆçš„ä»»åŠ¡<br>        è®°å¿†åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªè”æƒ³å’Œè¿æ¥çš„è¿‡ç¨‹ï¼Œè€Œä¸”å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå…³é”®å­—ï¼Œä»¥åŠç”¨äºæ°å½“æƒ³è±¡çš„å…³é”®æ¦‚å¿µã€‚</p><p>6.æ€ç»´å¯¼å›¾â€“è¯æ±‡ä¸æ€ç»´ç‰¹å¾çš„ä»‹ç»<br>6.1 ç»ƒä¹ ä¸è®¨è®ºèŸ‹èŸ€</p><p>å››è±¡é™æ³•åˆ™<br>ç­–ç•¥ï¼š<br>å¦‚æœä½ æ€»æ˜¯æœ‰ç´§æ€¥åˆé‡è¦çš„äº‹æƒ…è¦åšï¼Œè¯´æ˜ä½ åœ¨æ—¶é—´ç®¡ç†ä¸Šå­˜åœ¨é—®é¢˜ï¼Œè®¾æ³•å‡å°‘å®ƒã€‚<br>å°½å¯èƒ½åœ°æŠŠæ—¶é—´èŠ±åœ¨é‡è¦ä½†ä¸ç´§æ€¥ï¼ˆç¬¬äºŒè±¡é™ï¼‰çš„äº‹æƒ…ä¸Šï¼Œè¿™æ ·æ‰èƒ½å‡å°‘ç¬¬ä¸€è±¡é™çš„å·¥ä½œé‡ã€‚<br>å¯¹äºç´§æ€¥ä½†ä¸é‡è¦çš„äº‹æƒ…çš„å¤„ç†åŸåˆ™æ˜¯æˆæƒï¼Œè®©åˆ«äººå»åšã€‚<br>ä¸é‡è¦ä¹Ÿä¸ç´§æ€¥çš„äº‹æƒ…å°½é‡å°‘åšã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> è¯»ä¹¦ç¬”è®° </tag>
            
            <tag> æ€ç»´å¯¼å›¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6æ–°è¯­æ³•ç§¯ç´¯</title>
      <link href="es6/ES6%E6%96%B0%E8%AF%AD%E6%B3%95%E7%A7%AF%E7%B4%AF/"/>
      <url>es6/ES6%E6%96%B0%E8%AF%AD%E6%B3%95%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="es6å¼ºåˆ¶è®©ä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªé»˜è®¤å€¼"><a href="#es6å¼ºåˆ¶è®©ä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªé»˜è®¤å€¼" class="headerlink" title="es6å¼ºåˆ¶è®©ä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªé»˜è®¤å€¼"></a>es6å¼ºåˆ¶è®©ä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªé»˜è®¤å€¼</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!a) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">&#x27;cuowu&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h1><h1 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h1><p><a href="http://liubin.org/promises-book/">Promiseè¿·ä½ ä¹¦</a></p><a id="more"></a><h1 id="jsä¸­Mapå’ŒSetåŒºåˆ«"><a href="#jsä¸­Mapå’ŒSetåŒºåˆ«" class="headerlink" title="jsä¸­Mapå’ŒSetåŒºåˆ«"></a>jsä¸­Mapå’ŒSetåŒºåˆ«</h1><p>Set å¯¹è±¡ç±»ä¼¼äºæ•°ç»„ï¼Œä¸”æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„</p><p>Map å¯¹è±¡æ˜¯é”®å€¼å¯¹é›†åˆï¼Œå’Œ JSON å¯¹è±¡ç±»ä¼¼ï¼Œä½†æ˜¯ key ä¸ä»…å¯ä»¥æ˜¯å­—ç¬¦ä¸²è¿˜å¯ä»¥æ˜¯å¯¹è±¡</p><p>setä¸­å­˜å‚¨æ— åºå¹¶ä¸”ä¸å¯é‡å¤çš„å…ƒç´ ã€‚<br>mapå­˜å‚¨çš„æ˜¯é”®å€¼å¯¹ã€‚key=&gt;VALUE</p><p>ç”±äºä¸€ä¸ªkeyåªèƒ½å¯¹åº”ä¸€ä¸ªvalueï¼Œæ‰€ä»¥ï¼Œå¤šæ¬¡å¯¹ä¸€ä¸ªkeyæ”¾å…¥valueï¼Œåé¢çš„å€¼ä¼šæŠŠå‰é¢çš„å€¼å†²æ‰ï¼š</p><p>Mapï¼šé”®å€¼å¯¹é›†åˆï¼Œå¯¹åº”äº Objectï¼ŒES6 ä¸­mapçš„key å¯ä»¥æ˜¯å¯¹è±¡<br>Listï¼šæœ‰åºå¯é‡å¤çš„åˆ—è¡¨ï¼Œå¯¹åº”äº Array<br>Setï¼šæ— åºä¸”ä¸å¯é‡å¤çš„åˆ—è¡¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line">arr.forEach(<span class="function"><span class="params">item</span> =&gt;</span> set.add(item))</span><br><span class="line"><span class="built_in">console</span>.log(set) <span class="comment">// 1, 2, 3, 4, 5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="built_in">Set</span>(); <span class="comment">// ç©ºSet</span></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// å«1, 2, 3</span></span><br><span class="line"></span><br><span class="line">é‡å¤å…ƒç´ åœ¨<span class="built_in">Set</span>ä¸­è‡ªåŠ¨è¢«è¿‡æ»¤ï¼š</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="string">&#x27;3&#x27;</span>]);</span><br><span class="line">s; <span class="comment">// Set &#123;1, 2, 3, &quot;3&quot;&#125;</span></span><br><span class="line">æ³¨æ„æ•°å­—<span class="number">3</span>å’Œå­—ç¬¦ä¸²<span class="string">&#x27;3&#x27;</span>æ˜¯ä¸åŒçš„å…ƒç´ ã€‚</span><br><span class="line"></span><br><span class="line">é€šè¿‡add(key)æ–¹æ³•å¯ä»¥æ·»åŠ å…ƒç´ åˆ°<span class="built_in">Set</span>ä¸­ï¼Œå¯ä»¥é‡å¤æ·»åŠ ï¼Œä½†ä¸ä¼šæœ‰æ•ˆæœï¼š</span><br><span class="line"></span><br><span class="line">s.add(<span class="number">4</span>);</span><br><span class="line">s; <span class="comment">// Set &#123;1, 2, 3, 4&#125;</span></span><br><span class="line">s.add(<span class="number">4</span>);</span><br><span class="line">s; <span class="comment">// ä»ç„¶æ˜¯ Set &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„å¿«é€Ÿå»é‡</span></span><br><span class="line"><span class="built_in">console</span>.log([...new <span class="built_in">Set</span>(arr)])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;å°ç¼˜&#x27;</span>, <span class="attr">age</span>: <span class="number">14</span> &#125;</span><br><span class="line"></span><br><span class="line">map.set(obj, <span class="string">&#x27;å°ç¼˜å–µ&#x27;</span>)</span><br><span class="line">map.get(obj) <span class="comment">// å°ç¼˜å–µ</span></span><br><span class="line"></span><br><span class="line">map.has(obj) <span class="comment">// true</span></span><br><span class="line">map.delete(obj) <span class="comment">// true</span></span><br><span class="line">map.has(obj) <span class="comment">// false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ¨¡ç‰ˆå­—ç¬¦ä¸²"><a href="#æ¨¡ç‰ˆå­—ç¬¦ä¸²" class="headerlink" title="æ¨¡ç‰ˆå­—ç¬¦ä¸²"></a>æ¨¡ç‰ˆå­—ç¬¦ä¸²</h1><p>ä½¿ç”¨${variable}æ’å…¥å˜é‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var fName &#x3D; &#39;Peter&#39;, sName &#x3D; &#39;Smith&#39;, age &#x3D; 43, job &#x3D; &#39;photographer&#39;;</span><br><span class="line">var a &#x3D; &#39;Hi, I\&#39;m &#39; + fName + &#39; &#39; + sName + &#39;, I\&#39;m &#39; + age + &#39; and work as a &#39; + job + &#39;.&#39;;</span><br><span class="line">var b &#x3D; &#96;Hi, I&#39;m $&#123; fName &#125; $&#123; sName &#125;, I&#39;m $&#123; age &#125; and work as a $&#123; job &#125;.&#96;;</span><br></pre></td></tr></table></figure><h1 id="å—çº§ä½œç”¨åŸŸ-let-const"><a href="#å—çº§ä½œç”¨åŸŸ-let-const" class="headerlink" title="å—çº§ä½œç”¨åŸŸ let const"></a>å—çº§ä½œç”¨åŸŸ let const</h1><p>JavaScript æœ¬èº«ä¸€ç›´æ˜¯å‡½æ•°å¼ä½œç”¨åŸŸï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç»å¸¸å°†æ•´ä¸ª JavaScript æ–‡ä»¶å°è£…åœ¨ä¸€ä¸ªç©ºçš„ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰ä¸­çš„åŸå› ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†éš”ç¦»æ–‡ä»¶ä¸­çš„æ‰€æœ‰å˜é‡ï¼Œå› æ­¤å…¨å±€ä¸­å°±ä¸ä¼šå­˜åœ¨å˜é‡åå†²çªã€‚</p><p>ES5 ä¸­å¦‚æœä½ æƒ³é™åˆ¶å˜é‡ tmp çš„ä½œç”¨èŒƒå›´ä»…åœ¨æŸä¸€å—ä»£ç ä¸­æœ‰æ•ˆï¼Œä½ ä¸å¾—ä¸ä½¿ç”¨ä¸€ä¸ªå« IIFE(Immediately-Invoked Function Expressionï¼Œç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼) çš„æ¨¡å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  <span class="comment">// IIFE å¼€å§‹</span></span><br><span class="line">    <span class="keyword">var</span> tmp = Â·Â·Â·;</span><br><span class="line">    Â·Â·Â·</span><br><span class="line">&#125;());  <span class="comment">// IIFE ç»“æŸ</span></span><br><span class="line"><span class="built_in">console</span>.log(tmp); <span class="comment">// ReferenceError</span></span><br><span class="line"><span class="comment">// ECMAScript 6 ä¸­å¯ä»¥ç®€å•åœ°ä½¿ç”¨å—å’Œ let ç”³æ˜(æˆ– const ç”³æ˜)ï¼š</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å—èµ·å§‹</span></span><br><span class="line">    <span class="keyword">let</span> tmp = Â·Â·Â·;</span><br><span class="line">    Â·Â·Â·</span><br><span class="line">&#125;  <span class="comment">// å—ç»“æŸ</span></span><br><span class="line"><span class="built_in">console</span>.log(tmp); <span class="comment">// ReferenceError</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="let"><a href="#let" class="headerlink" title="let"></a>let</h2><p>let å£°æ˜çš„å˜é‡å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥å¯ä»¥åœ¨ä¸å½±å“å¤–éƒ¨å˜é‡çš„æƒ…å†µä¸‹å£°æ˜å…·æœ‰ç›¸åŒåç§°çš„æ–°å±€éƒ¨ï¼ˆå†…éƒ¨ï¼‰å˜é‡ã€‚<br>==åŒä¸€ä¸ªå—çº§ä½œç”¨åŸŸä¸èƒ½ç”³æ˜åŒä¸€ä¸ªå˜é‡==</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; &#39;car&#39; ;</span><br><span class="line">&#123;</span><br><span class="line">    let a &#x3D; 5;</span><br><span class="line">    console.log(a) &#x2F;&#x2F; 5</span><br><span class="line">    let a &#x3D; 6 &#x2F;&#x2F; Identifier &#39;a&#39; has already been declared</span><br><span class="line">&#125;</span><br><span class="line">console.log(a) &#x2F;&#x2F; car</span><br></pre></td></tr></table></figure><p>varå’Œletä¹‹é—´çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯letä¸ä¼šåƒvarä¸€æ ·è¢«æå‡ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    console.log(a); &#x2F;&#x2F; undefined</span><br><span class="line">    console.log(b); &#x2F;&#x2F; ReferenceError</span><br><span class="line">    var a &#x3D; &#39;car&#39;;</span><br><span class="line">    let b &#x3D; 5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»å…¸é¢è¯•é¢˜  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (var i &#x3D; 1; i &lt; 5; i++) &#123;</span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123; console.log(i); &#125;, 1000);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Const"><a href="#Const" class="headerlink" title="Const"></a>Const</h2><p>JavaScript ä¸­å£°æ˜ä¸€ä¸ªå¸¸é‡å˜é‡ï¼Œé‚£ä¹ˆæƒ¯ä¾‹æ˜¯å°†å˜é‡å‘½åå¤§å†™ã€‚ç„¶è€Œï¼Œè¿™å¹¶ä¸èƒ½ä¿è¯å®ƒæ˜¯ä¸€ä¸ªå¸¸é‡ - å®ƒåªæ˜¯è®©å…¶ä»–å¼€å‘äººå‘˜çŸ¥é“è¿™æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸åº”è¯¥æ”¹å˜ã€‚</p><p>==<strong>const ä¸ä¼šä½¿å˜é‡ä¸å¯å˜ï¼Œåªæ˜¯é”å®šå®ƒçš„èµ‹å€¼ã€‚ å¦‚æœä½ æœ‰ä¸€ä¸ªå¤æ‚çš„èµ‹å€¼ï¼ˆå¯¹è±¡æˆ–æ•°ç»„ï¼‰ï¼Œé‚£ä¹ˆè¯¥å€¼ä»ç„¶å¯ä»¥ä¿®æ”¹ã€‚</strong>==</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> c = <span class="string">&quot;tree&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(c);  <span class="comment">// tree</span></span><br><span class="line">    c = <span class="number">46</span>;  <span class="comment">// TypeError!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> d = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">    <span class="keyword">const</span> dave = &#123; <span class="attr">name</span>: <span class="string">&#x27;David Jones&#x27;</span>, <span class="attr">age</span>: <span class="number">32</span>&#125;;</span><br><span class="line">    d.push(<span class="number">5</span>);</span><br><span class="line">    dave.job = <span class="string">&quot;salesman&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(d);  <span class="comment">// [1, 2, 3, 4, 5]</span></span><br><span class="line">    <span class="built_in">console</span>.log(dave);  <span class="comment">// &#123; age: 32, job: &quot;salesman&quot;, name: &#x27;David Jones&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸Šé¢çš„æ–¹å¼ç»™constèµ‹å€¼ä¸æŠ¥é”™ï¼Œ</span></span><br><span class="line"></span><br><span class="line">    ç›´æ¥ç»™<span class="keyword">const</span>èµ‹å€¼ï¼ŒæŠ¥é”™ã€‚</span><br><span class="line">    dave = &#123;<span class="attr">name</span>: <span class="string">&#x27;salesman&#x27;</span>&#125;   <span class="comment">//  Assignment to constant variable.</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å—çº§ä½œç”¨åŸŸå‡½æ•°é—®é¢˜"><a href="#å—çº§ä½œç”¨åŸŸå‡½æ•°é—®é¢˜" class="headerlink" title="å—çº§ä½œç”¨åŸŸå‡½æ•°é—®é¢˜"></a>å—çº§ä½œç”¨åŸŸå‡½æ•°é—®é¢˜</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">å‡½æ•°å£°æ˜ç°åœ¨è¢«æŒ‡å®šä¸ºå¿…é¡»ç»‘å®šåˆ°å—çº§ä½œç”¨åŸŸã€‚</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    bar(); &#x2F;&#x2F; works</span><br><span class="line">    function bar() &#123; &#x2F;* do something *&#x2F; &#125;</span><br><span class="line">&#125;</span><br><span class="line">bar();  &#x2F;&#x2F; doesn&#39;t work</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if ( something) &#123;</span><br><span class="line">    function baz() &#123; console.log(&#39;I passed&#39;) &#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    function baz() &#123; console.log(&#39;I didn\&#39;t pass&#39;) &#125;</span><br><span class="line">&#125;</span><br><span class="line">baz();</span><br><span class="line">åœ¨ ES6 ä¹‹å‰ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°å£°æ˜éƒ½ä¼šè¢«æå‡ï¼Œ\</span><br><span class="line">ç»“æœå°±æ˜¯ â€˜I didn\â€™t passâ€™ï¼Œä¸ç®¡something æ˜¯ä»€ä¹ˆä¸œè¥¿ã€‚</span><br><span class="line"></span><br><span class="line">ç°åœ¨æˆ‘ä»¬ä¼šå¾—åˆ° â€˜ReferenceErrorâ€™ï¼Œå› ä¸ºbaz()æ€»æ˜¯å—åˆ°å—èŒƒå›´çš„çº¦æŸã€‚</span><br></pre></td></tr></table></figure><p>å»ºè®®ï¼š</p><ul><li>é¦–é€‰ constã€‚æ‰€æœ‰ä¸ä¼šæ”¹å˜å€¼çš„å˜é‡éƒ½å¯ä»¥ä½¿ç”¨å®ƒã€‚</li><li>å…¶å®ƒçš„ä½¿ç”¨ letï¼Œç”¨äºå€¼ä¼šè¢«æ”¹å˜çš„å˜é‡ã€‚</li><li>é¿å…ä½¿ç”¨ varã€‚</li></ul><h1 id="æ‰©å±•è¿ç®—ç¬¦"><a href="#æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦"></a>æ‰©å±•è¿ç®—ç¬¦</h1><p>â€¦è¿ç®—ç¬¦ï¼Œå®ƒè¢«ç§°ä¸ºâ€œæ‰©å±•è¿ç®—ç¬¦â€ã€‚</p><p>å®ƒæœ‰ä¸¤ä¸ªä¸»è¦ç”¨é€”ï¼šå°†æ•°ç»„æˆ–å¯¹è±¡åˆ†æ•£åˆ°æ–°çš„æ•°ç»„æˆ–å¯¹è±¡ä¸­ï¼Œå¹¶å°†å¤šä¸ªå‚æ•°åˆå¹¶åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</p><p>â€¦ è¿ç®—ç¬¦çš„å¦ä¸€ä¸ªç‰¹ç‚¹æ˜¯å®ƒåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„æˆ–å¯¹è±¡ã€‚</p><p>å°†å˜é‡ä¸€èµ·æ”¶é›†åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚ å½“ä½ ä¸çŸ¥é“æœ‰å¤šå°‘å˜é‡ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œè¿™éå¸¸æœ‰ç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> b = [<span class="number">1</span>, <span class="number">2</span>, ...a, <span class="number">6</span>];</span><br><span class="line"><span class="built_in">console</span>.log(b);  <span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> car = &#123; <span class="attr">type</span>: <span class="string">&#x27;vehicle &#x27;</span>, <span class="attr">wheels</span>: <span class="number">4</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> fordGt = &#123; <span class="attr">make</span>: <span class="string">&#x27;Ford&#x27;</span>, ...car, <span class="attr">model</span>: <span class="string">&#x27;GT&#x27;</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(fordGt); <span class="comment">// &#123;make: &#x27;Ford&#x27;, model: &#x27;GT&#x27;, type: &#x27;vehicle&#x27;, wheels: 4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> b = [ ...a ];</span><br><span class="line"><span class="keyword">let</span> c = a;</span><br><span class="line">b.push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="built_in">console</span>.log(b);  <span class="comment">// [1, 2, 3, 4] referencing different arrays</span></span><br><span class="line">c.push(<span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// [1, 2, 3, 5]</span></span><br><span class="line"><span class="built_in">console</span>.log(c);  <span class="comment">// [1, 2, 3, 5] referencing the same array</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(args);</span><br><span class="line">&#125;</span><br><span class="line">foo( <span class="string">&#x27;car&#x27;</span>, <span class="number">54</span>, <span class="string">&#x27;tree&#x27;</span>);  <span class="comment">//  [ &#x27;car&#x27;, 54, &#x27;tree&#x27; ]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="å‡½æ•°é»˜è®¤å‚æ•°"><a href="#å‡½æ•°é»˜è®¤å‚æ•°" class="headerlink" title="å‡½æ•°é»˜è®¤å‚æ•°"></a>å‡½æ•°é»˜è®¤å‚æ•°</h1><p>ä»¥ä½¿ç”¨é»˜è®¤å‚æ•°å®šä¹‰å‡½æ•°ã€‚ç¼ºå°‘æˆ–æœªå®šä¹‰çš„å€¼å°†ä½¿ç”¨é»˜è®¤å€¼è¿›è¡Œåˆå§‹åŒ–ã€‚åªè¦å°å¿ƒ - å› ä¸ºç©ºå€¼å’Œå‡å€¼ä¼šè¢«å¼ºåˆ¶ä¸º0ã€‚</p><p>é»˜è®¤å€¼å¯ä»¥ä¸ä»…ä»…æ˜¯å€¼ - å®ƒä»¬ä¹Ÿå¯ä»¥æ˜¯è¡¨è¾¾å¼æˆ–å‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"> a = <span class="number">5</span>, b = <span class="number">10</span></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( a + b);</span><br><span class="line">&#125;</span><br><span class="line">foo();  <span class="comment">// 15</span></span><br><span class="line">foo( <span class="number">7</span>, <span class="number">12</span> );  <span class="comment">// 19</span></span><br><span class="line">foo( <span class="literal">undefined</span>, <span class="number">8</span> ); <span class="comment">// 13</span></span><br><span class="line">foo( <span class="number">8</span> ); <span class="comment">// 18</span></span><br><span class="line">foo( <span class="literal">null</span> ); <span class="comment">// 10 as null is coerced to 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤å€¼ä¸ºå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"> a </span>) </span>&#123; <span class="keyword">return</span> a * <span class="number">4</span>; &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"> x = <span class="number">2</span>, y = x + <span class="number">4</span>, z = foo(x)</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log([ x, y, z ]);</span><br><span class="line">&#125;</span><br><span class="line">bar();  <span class="comment">// [ 2, 6, 8 ]</span></span><br><span class="line">bar( <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ); <span class="comment">//[ 1, 2, 3 ]</span></span><br><span class="line">bar( <span class="number">10</span>, <span class="literal">undefined</span>, <span class="number">3</span> );  <span class="comment">// [ 10, 14, 3 ]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="è§£æ„"><a href="#è§£æ„" class="headerlink" title="è§£æ„"></a>è§£æ„</h1><p>è§£æ„æ˜¯æ‹†åˆ†ç­‰å·å·¦ä¾§çš„æ•°ç»„æˆ–å¯¹è±¡çš„è¿‡ç¨‹ã€‚æ•°ç»„æˆ–å¯¹è±¡å¯ä»¥æ¥è‡ªå˜é‡ï¼Œå‡½æ•°æˆ–ç­‰å¼ã€‚</p><p>æœ‰æ—¶ï¼Œä½ æƒ³å–å€¼ï¼Œå°†å®ƒä»¬åˆ†é…ç»™ä¸€ä¸ªæ–°çš„å˜é‡ã€‚ è¿™æ˜¯é€šè¿‡åœ¨ç­‰å·å·¦è¾¹çš„ key: variable é…å¯¹å®Œæˆçš„ã€‚</p><p>å¯¹è±¡è§£æ„å…è®¸çš„å¦ä¸€ä»¶äº‹æ˜¯ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [ a, b, c ] = [ <span class="number">6</span>, <span class="number">2</span>, <span class="number">9</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`a=<span class="subst">$&#123;a&#125;</span>, b=<span class="subst">$&#123;b&#125;</span>, c=<span class="subst">$&#123;c&#125;</span>`</span>); <span class="comment">//a=6, b=2, c=9</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> [<span class="string">&#x27;car&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="number">6</span> ]; &#125;</span><br><span class="line"><span class="keyword">let</span> [ x, y, z ] = foo();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`x=<span class="subst">$&#123;x&#125;</span>, y=<span class="subst">$&#123;y&#125;</span>, z=<span class="subst">$&#123;z&#125;</span>`</span>);  <span class="comment">// x=car, y=dog, z=6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        x: <span class="string">&#x27;car&#x27;</span>,</span><br><span class="line">        y: <span class="string">&#x27;London&#x27;</span>,</span><br><span class="line">        z: &#123; <span class="attr">name</span>: <span class="string">&#x27;John&#x27;</span>, <span class="attr">age</span>: <span class="number">21</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">x</span>: vehicle, <span class="attr">y</span>: city, <span class="attr">z</span>: &#123; <span class="attr">name</span>: driver &#125; &#125; = baz();</span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">    <span class="string">`I&#x27;m going to <span class="subst">$&#123;city&#125;</span> with <span class="subst">$&#123;driver&#125;</span> in their <span class="subst">$&#123;vehicle&#125;</span>.`</span></span><br><span class="line">); <span class="comment">// I&#x27;m going to London with John in their car.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">x</span>: first, <span class="attr">x</span>: second &#125; = &#123; <span class="attr">x</span>: <span class="number">4</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log( first, second ); <span class="comment">// 4, 4</span></span><br></pre></td></tr></table></figure><h1 id="å¯¹è±¡å­—é¢é‡å’Œç®€æ˜å‚æ•°"><a href="#å¯¹è±¡å­—é¢é‡å’Œç®€æ˜å‚æ•°" class="headerlink" title="å¯¹è±¡å­—é¢é‡å’Œç®€æ˜å‚æ•°"></a>å¯¹è±¡å­—é¢é‡å’Œç®€æ˜å‚æ•°</h1><p>å½“æ‚¨ä»å˜é‡åˆ›å»ºå¯¹è±¡å­—é¢é‡æ—¶ï¼ŒES6 å…è®¸æ‚¨åœ¨ä¸ key ä¸å˜é‡åç§°ç›¸åŒçš„æƒ…å†µä¸‹çœç•¥ key åã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let a &#x3D; 4, b &#x3D; 7;</span><br><span class="line">let c &#x3D; &#123; a: a, b: b &#125;;</span><br><span class="line">let concise &#x3D; &#123; a, b &#125;;</span><br><span class="line">console.log(c, concise) &#x2F;&#x2F; &#123;a: 4, b: 7&#125;, &#123;a: 4, b: 7&#125;</span><br></pre></td></tr></table></figure><h1 id="åŠ¨æ€å±æ€§åç§°"><a href="#åŠ¨æ€å±æ€§åç§°" class="headerlink" title="åŠ¨æ€å±æ€§åç§°"></a>åŠ¨æ€å±æ€§åç§°</h1><p>ä½¿ç”¨åŠ¨æ€åˆ†é…çš„ key åˆ›å»ºæˆ–æ·»åŠ å±æ€§çš„åŠŸèƒ½ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let  city&#x3D; &#39;sheffield_&#39;;</span><br><span class="line">let a &#x3D; &#123;</span><br><span class="line">    [ city + &#39;population&#39; ]: 350000</span><br><span class="line">&#125;;</span><br><span class="line">a[ city + &#39;county&#39; ] &#x3D; &#39;South Yorkshire&#39;;</span><br><span class="line">console.log(a); &#x2F;&#x2F; &#123;sheffield_population: 350000, sheffield_county: &#39;South Yorkshire&#39; &#125;</span><br></pre></td></tr></table></figure><h1 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h1><p>ç®­å¤´å‡½æ•°æœ‰ä¸¤ä¸ªä¸»è¦æ–¹é¢ï¼šç»“æ„å’Œthisç»‘å®šã€‚</p><p>ä¸éœ€è¦åŠŸèƒ½å…³é”®å­—ï¼Œå¹¶ä¸”å®ƒä»¬è‡ªåŠ¨è¿”å›ç®­å¤´ä¹‹åçš„ä»»ä½•å†…å®¹ã€‚</p><p>å¦‚æœå‡½æ•°éœ€è¦çš„ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„è®¡ç®—ï¼Œå¯ä»¥ä½¿ç”¨å¤§æ‹¬å·ï¼Œå¹¶ä¸”è¯¥å‡½æ•°ä¼šè¿”å›èŠ±æ‹¬å·å—èŒƒå›´è¿”å›çš„ä»»ä½•å†…å®¹ã€‚</p><p>å¯¹äºç®­å¤´å‡½æ•°æœ€æœ‰ç”¨çš„åœ°æ–¹ä¹‹ä¸€æ˜¯åœ¨map()ï¼ŒforEach()æˆ–sort()ä¹‹ç±»çš„æ•°ç»„å‡½æ•°ä¸­ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var foo &#x3D; function( a, b ) &#123;</span><br><span class="line">    return a * b;</span><br><span class="line">&#125;</span><br><span class="line">let bar &#x3D; ( a, b ) &#x3D;&gt; a * b;</span><br></pre></td></tr></table></figure><h1 id="æ•°å­—å­—é¢é‡"><a href="#æ•°å­—å­—é¢é‡" class="headerlink" title="æ•°å­—å­—é¢é‡"></a>æ•°å­—å­—é¢é‡</h1><p>ES5 ä»£ç å¾ˆå¥½åœ°å¤„ç†äº†åè¿›åˆ¶å’Œåå…­è¿›åˆ¶æ•°å­—æ ¼å¼ï¼Œä½†æœªæŒ‡å®šå…«è¿›åˆ¶æ ¼å¼ã€‚äº‹å®ä¸Šï¼Œå®ƒåœ¨ä¸¥æ ¼çš„æ¨¡å¼ä¸‹è¢«ç¦æ­¢ã€‚</p><p>ES6æ·»åŠ äº†ä¸€ç§æ–°æ ¼å¼ï¼Œåœ¨æœ€åˆçš„ 0 ä¹‹åæ·»åŠ ä¸€ä¸ª o ï¼ˆæ³¨æ„æ˜¯å­—æ¯ï¼‰ä»¥å°†è¯¥æ•°å­—å£°æ˜ä¸ºå…«è¿›åˆ¶æ•°ã€‚ES6 è¿˜æ·»åŠ äº†äºŒè¿›åˆ¶æ ¼å¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Number( 29 )  &#x2F;&#x2F; 29</span><br><span class="line">Number( 035 ) &#x2F;&#x2F; 35 in old octal form.</span><br><span class="line">Number( 0o35 ) &#x2F;&#x2F; 29 in new octal form</span><br><span class="line">Number( 0x1d ) &#x2F;&#x2F; 29 in hexadecimal</span><br><span class="line">Number( 0b11101 ) &#x2F;&#x2F; 29 in binary form</span><br></pre></td></tr></table></figure><h1 id="é™æ€æ–¹æ³•ï¼ˆStatic-Methodsï¼‰"><a href="#é™æ€æ–¹æ³•ï¼ˆStatic-Methodsï¼‰" class="headerlink" title="é™æ€æ–¹æ³•ï¼ˆStatic Methodsï¼‰"></a>é™æ€æ–¹æ³•ï¼ˆStatic Methodsï¼‰</h1><p>åœ¨ç±»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨staticå…³é”®å­—æ¥å£°æ˜é™æ€æ–¹æ³•ã€‚ç±»çš„å®ä¾‹æ— æ³•è®¿é—®é™æ€æ–¹æ³•ï¼Œå› ä¸ºå£°æ˜é™æ€æ–¹æ³•çš„ç±»å±äºç±»å¯¹è±¡ï¼ˆclass objectï¼‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Repo&#123;</span><br><span class="line">  static getName() &#123;</span><br><span class="line">    return &quot;Repo name is modern-js-cheatsheet&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Note that we did not have to create an instance of the Repo class</span><br><span class="line">console.log(Repo.getName()) &#x2F;&#x2F; Repo name is modern-js-cheatsheet</span><br><span class="line"></span><br><span class="line">let r &#x3D; new Repo();</span><br><span class="line">console.log(r.getName()) &#x2F;&#x2F; Uncaught TypeError: repo.getName is not a function</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä½¿ç”¨thiså…³é”®å­—ï¼Œé™æ€æ–¹æ³•å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œä½†è¿™ä¸é€‚ç”¨äºéé™æ€æ–¹æ³•ï¼ˆnon-static methodsï¼‰ã€‚éé™æ€æ–¹æ³•ä¸èƒ½ç›´æ¥ä½¿ç”¨thiså…³é”®è¯è®¿é—®é™æ€æ–¹æ³•ã€‚</p><h4 id="é™æ€æ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªé™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªé™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªé™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªé™æ€æ–¹æ³•</h4><p>è¦æƒ³é™æ€æ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨thiså…³é”®å­—;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Repo&#123;</span><br><span class="line">  static getName() &#123;</span><br><span class="line">    return &quot;Repo name is modern-js-cheatsheet&quot;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static modifyName()&#123;</span><br><span class="line">    return this.getName() + &#39;-added-this&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(Repo.modifyName()) &#x2F;&#x2F; Repo name is modern-js-cheatsheet-added-this</span><br></pre></td></tr></table></figure><h4 id="éé™æ€æ–¹æ³•è°ƒç”¨é™æ€æ–¹æ³•"><a href="#éé™æ€æ–¹æ³•è°ƒç”¨é™æ€æ–¹æ³•" class="headerlink" title="éé™æ€æ–¹æ³•è°ƒç”¨é™æ€æ–¹æ³•"></a>éé™æ€æ–¹æ³•è°ƒç”¨é™æ€æ–¹æ³•</h4><p>éé™æ€æ–¹æ³•å¯ä»¥é€šè¿‡è¿™ä¸¤ç§æ–¹å¼è°ƒç”¨é™æ€æ–¹æ³•;</p><ol><li>ä½¿ç”¨ç±»åç§°ã€‚</li></ol><p>ä¸ºäº†åœ¨éé™æ€æ–¹æ³•é‡Œè®¿é—®é™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬ä½¿ç”¨ç±»åç§°ï¼ˆclass nameï¼‰å¹¶åƒå±æ€§ä¸€æ ·è°ƒç”¨é™æ€æ–¹æ³•ã€‚ä¾‹å¦‚ClassName.StaticMethodName</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Repo</span></span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Repo name is modern-js-cheatsheet&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">useName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Repo.getName() + <span class="string">&#x27; and it contains some really important stuff&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// we need to instantiate the class to use non-static methods</span></span><br><span class="line"><span class="keyword">let</span> r = <span class="keyword">new</span> Repo()</span><br><span class="line"><span class="built_in">console</span>.log(r.useName()) <span class="comment">// Repo name is modern-js-cheatsheet and it contains some really important stuff</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨æ„é€ å‡½æ•°</li></ol><p>é™æ€æ–¹æ³•å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°å¯¹è±¡ï¼ˆconstructor objectï¼‰çš„å±æ€§æ¥è°ƒç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Repo</span></span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Repo name is modern-js-cheatsheet&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">useName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// Calls the static method as a property of the constructor</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.constructor.getName() + <span class="string">&#x27; and it contains some really important stuff&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// we need to instantiate the class to use non-static methods</span></span><br><span class="line"><span class="keyword">let</span> r = <span class="keyword">new</span> Repo()</span><br><span class="line"><span class="built_in">console</span>.log(r.useName()) <span class="comment">// Repo name is modern-js-cheatsheet and it contains some really important stuff</span></span><br></pre></td></tr></table></figure><h1 id="æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡"><a href="#æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡" class="headerlink" title="æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡"></a>æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">state.obj &#x3D; &#123;...state.obj, newProp: 123&#125;</span><br><span class="line"></span><br><span class="line">oldObj &#x3D; Object.assign(&#123;&#125;, newObj)</span><br><span class="line"></span><br><span class="line">oldObj &#x3D; JSON.parse(JSON.stringify(newObj))</span><br></pre></td></tr></table></figure><h1 id="åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§"><a href="#åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§" class="headerlink" title="åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§"></a>åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.set(obj, &#39;newProp&#39;, 123)</span><br></pre></td></tr></table></figure><h1 id="let-1"><a href="#let-1" class="headerlink" title="let"></a>let</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    a[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">a[<span class="number">6</span>]();</span><br></pre></td></tr></table></figure><p> ä¸å­˜åœ¨å˜é‡æå‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var çš„æƒ…å†µ</span></span><br><span class="line"><span class="built_in">console</span>.log(foo); <span class="comment">// è¾“å‡ºundefined</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let çš„æƒ…å†µ</span></span><br><span class="line"><span class="built_in">console</span>.log(bar); <span class="comment">// æŠ¥é”™ReferenceError</span></span><br><span class="line"><span class="keyword">let</span> bar = <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>ä¸å…è®¸é‡å¤å£°æ˜<br>ä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨é‡æ–°å£°æ˜å‚æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">arg</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> arg; <span class="comment">// æŠ¥é”™</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">arg</span>) </span>&#123;</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">let</span> arg; <span class="comment">// ä¸æŠ¥é”™</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">å—çº§ä½œç”¨åŸŸçš„ä¸åˆç†åœºæ™¯</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1. å†…å±‚å˜é‡å¯èƒ½ä¼šè¦†ç›–å¤–å±‚å˜é‡ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">    <span class="keyword">var</span> tmp = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(tmp);</span><br><span class="line">      <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> tmp = <span class="string">&#x27;hello world&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    f(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><ol start="2"><li>ç”¨æ¥è®¡æ•°çš„å¾ªç¯å˜é‡æ³„éœ²ä¸ºå…¨å±€å˜é‡<br> å¾ªç¯ç»“æŸåï¼Œiå¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œæ³„éœ²æˆäº†å…¨å±€å˜é‡ã€‚</li></ol><p>å—çº§ä½œç”¨åŸŸï¼š<br>    å¯ä»¥ä»»æ„åµŒå¥—<br>    å—çº§ä½œç”¨åŸŸçš„å‡ºç°ï¼Œå®é™…ä¸Šä½¿å¾—è·å¾—å¹¿æ³›åº”ç”¨çš„ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰ä¸å†å¿…è¦äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IIFE å†™æ³•</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> tmp = ...;</span><br><span class="line">  ...</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="comment">// å—çº§ä½œç”¨åŸŸå†™æ³•</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> tmp = ...;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¿å…åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•°ã€‚å¦‚æœç¡®å®éœ€è¦ï¼Œä¹Ÿåº”è¯¥å†™æˆå‡½æ•°è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜è¯­å¥ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å£°æ˜è¯­å¥</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="string">&#x27;secret&#x27;</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="string">&#x27;secret&#x27;</span>;</span><br><span class="line">  <span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ES6 çš„å—çº§ä½œç”¨åŸŸå…è®¸å£°æ˜å‡½æ•°çš„è§„åˆ™ï¼Œåªåœ¨ä½¿ç”¨å¤§æ‹¬å·çš„æƒ…å†µä¸‹æˆç«‹ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨å¤§æ‹¬å·ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸æŠ¥é”™</span></span><br><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>)</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure><h1 id="const"><a href="#const" class="headerlink" title="const"></a>const</h1><p>å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚</p><ol><li><p>æ”¹å˜å¸¸é‡çš„å€¼ä¼šæŠ¥é”™ã€‚</p><p> const PI = 3.1415;<br> PI // 3.1415</p><p> PI = 3;<br> // TypeError: Assignment to constant variable.</p></li><li><p>åªå£°æ˜ä¸èµ‹å€¼ï¼ŒæŠ¥é”™</p><p> const foo;<br> // SyntaxError: Missing initializer in const declaration</p></li><li><p>ä½œç”¨åŸŸä¸letå‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚</p><p> if (true) {<br>   const MAX = 5;<br> }</p><p> MAX // Uncaught ReferenceError: MAX is not defined</p></li><li><p>å£°æ˜çš„å¸¸é‡ä¹Ÿæ˜¯ä¸æå‡ï¼ŒåŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜çš„ä½ç½®åé¢ä½¿ç”¨ã€‚</p><p> if (true) {<br>   console.log(MAX); // ReferenceError<br>   const MAX = 5;<br> }</p></li><li><p>å£°æ˜çš„å¸¸é‡ï¼Œä¹Ÿä¸letä¸€æ ·ä¸å¯é‡å¤å£°æ˜ã€‚</p><p> let age = 25;<br> var message = â€œHello!â€;</p><p> // ä»¥ä¸‹ä¸¤è¡Œéƒ½ä¼šæŠ¥é”™<br> const message = â€œGoodbye!â€;<br> const age = 30;</p></li></ol><h2 id="æœ¬è´¨"><a href="#æœ¬è´¨" class="headerlink" title="æœ¬è´¨"></a>æœ¬è´¨</h2><p>constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚å› æ­¤ï¼Œå°†ä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸ºå¸¸é‡å¿…é¡»éå¸¸å°å¿ƒã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸º foo æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥æˆåŠŸ</span></span><br><span class="line">foo.prop = <span class="number">123</span>;</span><br><span class="line">foo.prop <span class="comment">// 123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† foo æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šæŠ¥é”™</span></span><br><span class="line">foo = &#123;&#125;; <span class="comment">// TypeError: &quot;foo&quot; is read-only</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = [];</span><br><span class="line">a.push(<span class="string">&#x27;Hello&#x27;</span>); <span class="comment">// å¯æ‰§è¡Œ</span></span><br><span class="line">a.length = <span class="number">0</span>;    <span class="comment">// å¯æ‰§è¡Œ</span></span><br><span class="line">a = [<span class="string">&#x27;Dave&#x27;</span>];    <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>ES6 å£°æ˜å˜é‡çš„å…­ç§æ–¹æ³•<br>varå‘½ä»¤å’Œfunctionå‘½ä»¤ï¼Œletå’Œconstå‘½ä»¤ï¼Œimportå‘½ä»¤å’Œclasså‘½ä»¤ã€‚</p><hr><p>é¡¶å±‚å¯¹è±¡çš„å±æ€§ä¸å…¨å±€å˜é‡æŒ‚é’©ï¼Œè¢«è®¤ä¸ºæ˜¯JavaScriptè¯­è¨€æœ€å¤§çš„è®¾è®¡è´¥ç¬”ä¹‹ä¸€ã€‚è¿™æ ·çš„è®¾è®¡å¸¦æ¥äº†å‡ ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œé¦–å…ˆæ˜¯æ²¡æ³•åœ¨ç¼–è¯‘æ—¶å°±æŠ¥å‡ºå˜é‡æœªå£°æ˜çš„é”™è¯¯ï¼Œåªæœ‰è¿è¡Œæ—¶æ‰èƒ½çŸ¥é“ï¼ˆå› ä¸ºå…¨å±€å˜é‡å¯èƒ½æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§åˆ›é€ çš„ï¼Œè€Œå±æ€§çš„åˆ›é€ æ˜¯åŠ¨æ€çš„ï¼‰ï¼›å…¶æ¬¡ï¼Œç¨‹åºå‘˜å¾ˆå®¹æ˜“ä¸çŸ¥ä¸è§‰åœ°å°±åˆ›å»ºäº†å…¨å±€å˜é‡ï¼ˆæ¯”å¦‚æ‰“å­—å‡ºé”™ï¼‰ï¼›æœ€åï¼Œé¡¶å±‚å¯¹è±¡çš„å±æ€§æ˜¯åˆ°å¤„å¯ä»¥è¯»å†™çš„ï¼Œè¿™éå¸¸ä¸åˆ©äºæ¨¡å—åŒ–ç¼–ç¨‹ã€‚å¦ä¸€æ–¹é¢ï¼Œwindowå¯¹è±¡æœ‰å®ä½“å«ä¹‰ï¼ŒæŒ‡çš„æ˜¯æµè§ˆå™¨çš„çª—å£å¯¹è±¡ï¼Œé¡¶å±‚å¯¹è±¡æ˜¯ä¸€ä¸ªæœ‰å®ä½“å«ä¹‰çš„å¯¹è±¡ï¼Œä¹Ÿæ˜¯ä¸åˆé€‚çš„ã€‚</p><p>ES6ä¸ºäº†æ”¹å˜è¿™ä¸€ç‚¹ï¼Œä¸€æ–¹é¢è§„å®šï¼Œä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼Œvarå‘½ä»¤å’Œfunctionå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼›å¦ä¸€æ–¹é¢è§„å®šï¼Œletå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»ES6å¼€å§‹ï¼Œå…¨å±€å˜é‡å°†é€æ­¥ä¸é¡¶å±‚å¯¹è±¡çš„å±æ€§è„±é’©ã€‚</p><hr>]]></content>
      
      
      <categories>
          
          <category> es6 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>HTTPç§¯ç´¯</title>
      <link href="http/%E7%BD%91%E7%BB%9C/HTTP%E7%A7%AF%E7%B4%AF/"/>
      <url>http/%E7%BD%91%E7%BB%9C/HTTP%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="http-æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹ç”¨"><a href="#http-æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹ç”¨" class="headerlink" title="http æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹ç”¨"></a>http æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹ç”¨</h2><p>putå’Œgetæœ‰ä»€ä¹ˆç›¸åŒç‚¹<br><a href="https://www.jianshu.com/p/ce44e5f4623a">é“¾æ¥</a></p><p>traceæ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Œ</p><p>optionsæ˜¯ç”¨æ¥å¹²å˜›çš„</p><p>CONNECT HTTP/1.1åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚</p><p>OPTIONS å…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½ã€‚</p><p>TRACE å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ã€‚</p><p>HEAD ç±»ä¼¼äºgetè¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›çš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºè·å–æŠ¥å¤´</p><a id="more"></a><h2 id="HTTP2-ä¸-HTTP1-1-åŒºåˆ«"><a href="#HTTP2-ä¸-HTTP1-1-åŒºåˆ«" class="headerlink" title="HTTP2 ä¸ HTTP1.1 åŒºåˆ«"></a>HTTP2 ä¸ HTTP1.1 åŒºåˆ«</h2><ul><li>http2 ä½¿ç”¨äºŒè¿›åˆ¶ä¼ é€ï¼Œhttp1.x ä½¿ç”¨æ–‡æœ¬(å­—ç¬¦ä¸²)ä¼ é€<blockquote><p>äºŒè¿›åˆ¶ä¼ é€å•ä½æ˜¯å¸§å’Œæµï¼Œå¸§ç»„æˆäº†æµï¼ŒåŒæ—¶æµè¿˜æœ‰æµ ID æ ‡è¯†</p></blockquote></li><li>http2 æ”¯æŒå¤šè·¯å¤ç”¨<blockquote><p>æœ‰æµ IDï¼Œé€šè¿‡åŒä¸€ä¸ª HTTP è¯·æ±‚å®ç°å¤šä¸ª http è¯·æ±‚ä¼ è¾“å˜æˆäº†å¯èƒ½ï¼Œå¯ä»¥é€šè¿‡æµ ID æ¥æ ‡ç¤ºç©¶ç«Ÿæ˜¯å“ªä¸ªæµä»è€Œå®šä½åˆ°æ˜¯å“ªä¸ª http è¯·æ±‚</p></blockquote></li><li>http2 å¤´éƒ¨å‹ç¼©<blockquote><p>http2 é€šè¿‡ gzip å’Œ compress å‹ç¼©å¤´éƒ¨å†å‘é€ï¼ŒåŒæ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åŒæ—¶ç»´æŠ¤ä¸€å¼ å¤´ä¿¡æ¯è¡¨ï¼Œæ‰€æœ‰å­—æ®µéƒ½è®°å½•åœ¨è¿™å¼ è¡¨ä¸­ï¼Œä»¥åæ¯æ¬¡ä¼ è¾“åªéœ€è¦ä¼ è¾“è¡¨é‡Œé¢çš„ç´¢å¼• idï¼Œé€šè¿‡ç´¢å¼• id å¯ä»¥çŸ¥é“è¡¨å¤´çš„å€¼</p></blockquote></li><li>http2 æ”¯æŒæœåŠ¡å™¨æ¨é€<blockquote><p>æ”¯æŒåœ¨å®¢æˆ·ç«¯æœªç»è¯·æ±‚è®¸å¯çš„æƒ…å†µä¸‹ï¼Œä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€å†…å®¹</p></blockquote></li></ul><h2 id="http-æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹ç”¨-1"><a href="#http-æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹ç”¨-1" class="headerlink" title="http æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹ç”¨"></a>http æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹ç”¨</h2><p>put å’Œ get æœ‰ä»€ä¹ˆç›¸åŒç‚¹<br><a href="https://www.jianshu.com/p/ce44e5f4623a">é“¾æ¥</a></p><p>trace æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Œ</p><p>options æ˜¯ç”¨æ¥å¹²å˜›çš„</p><p>CONNECT HTTP/1.1 åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚</p><p>OPTIONS å…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½ã€‚</p><p>TRACE å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ã€‚</p><p>HEAD ç±»ä¼¼äº get è¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›çš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºè·å–æŠ¥å¤´</p><ul><li>GETï¼šè·å–èµ„æº</li><li>POST:ä¼ è¾“å®ä½“ä¸»ä½“</li><li>PUT:ä¼ è¾“æ–‡ä»¶</li><li>HEAD:è·å–æŠ¥æ–‡é¦–éƒ¨</li><li>DELETEï¼šåˆ é™¤æ–‡ä»¶</li><li>OPTIONSï¼šæŸ¥è¯¢æ”¯æŒæ–¹æ³•</li><li>TRACKï¼šè¿½è¸ªè·¯å¾„</li><li>CONNECTï¼šè¦æ±‚ç”¨éš§é“åè®®è¿æ¥ä»£ç†</li></ul><h2 id="ajax-çŠ¶æ€å€¼"><a href="#ajax-çŠ¶æ€å€¼" class="headerlink" title="ajax çŠ¶æ€å€¼"></a>ajax çŠ¶æ€å€¼</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0 ä»£è¡¨æœªåˆå§‹åŒ–ã€‚ è¿˜æ²¡æœ‰è°ƒç”¨ open æ–¹æ³•</span><br><span class="line">1 ä»£è¡¨æ­£åœ¨åŠ è½½ã€‚ open æ–¹æ³•å·²è¢«è°ƒç”¨ï¼Œä½† send æ–¹æ³•è¿˜æ²¡æœ‰è¢«è°ƒç”¨</span><br><span class="line">2 ä»£è¡¨å·²åŠ è½½å®Œæ¯•ã€‚send å·²è¢«è°ƒç”¨ã€‚è¯·æ±‚å·²ç»å¼€å§‹</span><br><span class="line">3 ä»£è¡¨äº¤äº’ä¸­ã€‚æœåŠ¡å™¨æ­£åœ¨å‘é€å“åº”</span><br><span class="line">4 ä»£è¡¨å®Œæˆã€‚å“åº”å‘é€å®Œæ¯•</span><br></pre></td></tr></table></figure><h2 id="7-å±‚æ¨¡å‹"><a href="#7-å±‚æ¨¡å‹" class="headerlink" title="7 å±‚æ¨¡å‹"></a>7 å±‚æ¨¡å‹</h2><h4 id="7-åº”ç”¨å±‚"><a href="#7-åº”ç”¨å±‚" class="headerlink" title="7 åº”ç”¨å±‚"></a>7 åº”ç”¨å±‚</h4><h4 id="6-è¡¨ç¤ºå±‚-å®šä¹‰æ•°æ®æ ¼å¼åŠåŠ å¯†"><a href="#6-è¡¨ç¤ºå±‚-å®šä¹‰æ•°æ®æ ¼å¼åŠåŠ å¯†" class="headerlink" title="6 è¡¨ç¤ºå±‚ å®šä¹‰æ•°æ®æ ¼å¼åŠåŠ å¯†"></a>6 è¡¨ç¤ºå±‚ å®šä¹‰æ•°æ®æ ¼å¼åŠåŠ å¯†</h4><p>ç¤ºä¾‹ï¼šåŠ å¯†ï¼ŒASII</p><h4 id="5-ä¼šè¯å±‚"><a href="#5-ä¼šè¯å±‚" class="headerlink" title="5 ä¼šè¯å±‚"></a>5 ä¼šè¯å±‚</h4><p>å®šä¹‰äº†å¦‚ä½•å¼€å§‹ã€æ§åˆ¶å’Œç»“æŸä¸€ä¸ªä¼šè¯ï¼Œ<br>åŒ…æ‹¬å¯¹å¤šä¸ªåŒå‘å°æ—¶çš„æ§åˆ¶å’Œç®¡ç†ï¼Œ<br>ä»¥ä¾¿åœ¨åªå®Œæˆè¿ç»­æ¶ˆæ¯çš„ä¸€éƒ¨åˆ†æ—¶å¯ä»¥é€šçŸ¥åº”ç”¨ï¼Œ<br>ä»è€Œä½¿è¡¨ç¤ºå±‚çœ‹åˆ°çš„æ•°æ®æ˜¯è¿ç»­çš„ï¼Œ</p><p>ç¤ºä¾‹ï¼šRPCï¼ŒSQL ç­‰ã€‚</p><h4 id="4-ä¼ è¾“å±‚"><a href="#4-ä¼ è¾“å±‚" class="headerlink" title="4 ä¼ è¾“å±‚"></a>4 ä¼ è¾“å±‚</h4><p>åŠŸèƒ½åŒ…æ‹¬æ˜¯å¦é€‰æ‹©å·®é”™æ¢å¤åè®®è¿˜æ˜¯æ— å·®é”™æ¢å¤åè®®ï¼Œ<br>åŠåœ¨åŒä¸€ä¸»æœºä¸Šå¯¹ä¸åŒåº”ç”¨çš„æ•°æ®æµçš„è¾“å…¥è¿›è¡Œå¤ç”¨ï¼Œ<br>è¿˜åŒ…æ‹¬å¯¹æ”¶åˆ°çš„é¡ºåºä¸å¯¹çš„æ•°æ®åŒ…çš„é‡æ–°æ’åºåŠŸèƒ½ã€‚</p><p>ç¤ºä¾‹ï¼šTCPï¼ŒUDPï¼ŒSPXã€‚</p><h4 id="3-ç½‘ç»œå±‚"><a href="#3-ç½‘ç»œå±‚" class="headerlink" title="3 ç½‘ç»œå±‚"></a>3 ç½‘ç»œå±‚</h4><pre><code>ä¸ºå»ºç«‹ç½‘ç»œè¿æ¥å’Œä¸ºä¸Šå±‚æä¾›æœåŠ¡,ç¤ºä¾‹ï¼šIP,IPX</code></pre><h4 id="2-æ•°æ®é“¾è·¯å±‚"><a href="#2-æ•°æ®é“¾è·¯å±‚" class="headerlink" title="2 æ•°æ®é“¾è·¯å±‚"></a>2 æ•°æ®é“¾è·¯å±‚</h4><pre><code>ä¸ºç½‘ç»œå±‚æä¾›æ•°æ®ä¼ é€æœåŠ¡çš„ã€‚ç¤ºä¾‹ï¼šATMï¼ŒFDDIç­‰ã€‚</code></pre><h4 id="1-ç‰©ç†å±‚"><a href="#1-ç‰©ç†å±‚" class="headerlink" title="1 ç‰©ç†å±‚"></a>1 ç‰©ç†å±‚</h4><pre><code>è¿æ¥å¤´ã€é’ˆã€é’ˆçš„ä½¿ç”¨ã€ç”µæµã€ç”µæµã€ç¼–ç åŠå…‰è°ƒåˆ¶ç­‰éƒ½å±äºå„ç§ç‰©ç†å±‚è§„èŒƒä¸­çš„å†…å®¹ã€‚</code></pre><h4 id="OSI-åˆ†å±‚çš„ä¼˜ç‚¹"><a href="#OSI-åˆ†å±‚çš„ä¼˜ç‚¹" class="headerlink" title="OSI åˆ†å±‚çš„ä¼˜ç‚¹"></a>OSI åˆ†å±‚çš„ä¼˜ç‚¹</h4><p>ï¼ˆ1ï¼‰äººä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„è®¨è®ºå’Œå­¦ä¹ åè®®çš„è§„èŒƒç»†èŠ‚ã€‚</p><p>ï¼ˆ2ï¼‰å±‚é—´çš„æ ‡å‡†æ¥å£æ–¹ä¾¿äº†å·¥ç¨‹æ¨¡å—åŒ–ã€‚</p><p>ï¼ˆ3ï¼‰åˆ›å»ºäº†ä¸€ä¸ªæ›´å¥½çš„äº’è¿ç¯å¢ƒã€‚</p><p>ï¼ˆ4ï¼‰é™ä½äº†å¤æ‚åº¦ï¼Œä½¿ç¨‹åºæ›´å®¹æ˜“ä¿®æ”¹ï¼Œäº§å“å¼€å‘çš„é€Ÿåº¦æ›´å¿«ã€‚</p><p>ï¼ˆ5ï¼‰æ¯å±‚åˆ©ç”¨ç´§é‚»çš„ä¸‹å±‚æœåŠ¡ï¼Œæ›´å®¹æ˜“è®°ä½ä¸ªå±‚çš„åŠŸèƒ½ã€‚</p><h2 id="get-å’Œ-post-åŒºåˆ«"><a href="#get-å’Œ-post-åŒºåˆ«" class="headerlink" title="get å’Œ post åŒºåˆ«"></a>get å’Œ post åŒºåˆ«</h2><h3 id="æœ€ç›´è§‚çš„åŒºåˆ«"><a href="#æœ€ç›´è§‚çš„åŒºåˆ«" class="headerlink" title="æœ€ç›´è§‚çš„åŒºåˆ«"></a>æœ€ç›´è§‚çš„åŒºåˆ«</h3><p>1).GET æŠŠå‚æ•°åŒ…å«åœ¨ URL ä¸­ï¼ŒPOST é€šè¿‡ request body ä¼ é€’å‚æ•°;</p><p>2).GET åœ¨æµè§ˆå™¨å›é€€æ—¶æ˜¯æ— å®³çš„ï¼Œè€Œ POST ä¼šå†æ¬¡æäº¤è¯·æ±‚;</p><p>3).GET äº§ç”Ÿçš„ URL åœ°å€å¯ä»¥è¢« Bookmarkï¼Œè€Œ POST ä¸å¯ä»¥;</p><p>4).GET è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ cacheï¼Œè€Œ POST ä¸ä¼šï¼Œé™¤éæ‰‹åŠ¨è®¾ç½®;</p><p>5). GET è¯·æ±‚åªèƒ½è¿›è¡Œ url ç¼–ç ï¼Œè€Œ POST æ”¯æŒå¤šç§ç¼–ç æ–¹å¼;</p><p>6).GET è¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´ä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•é‡Œï¼Œè€Œ POST ä¸­çš„å‚æ•°ä¸ä¼šè¢«ä¿ç•™;</p><p>7).GET è¯·æ±‚åœ¨ URL ä¸­ä¼ é€çš„å‚æ•°æ˜¯æœ‰é•¿åº¦é™åˆ¶çš„ï¼Œè€Œ POST æ²¡æœ‰é™åˆ¶;</p><p>8). å¯¹å‚æ•°çš„æ•°æ®ç±»å‹ï¼ŒGET åªæ¥å— ASCII å­—ç¬¦ï¼Œè€Œ POST æ²¡æœ‰é™åˆ¶;</p><p>9).GET æ¯” POST æ›´ä¸å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ç›´æ¥æš´éœ²åœ¨ URL ä¸Šï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ¥ä¼ é€’æ•æ„Ÿä¿¡æ¯;</p><h3 id="æœ¬è´¨åŒºåˆ«"><a href="#æœ¬è´¨åŒºåˆ«" class="headerlink" title="æœ¬è´¨åŒºåˆ«"></a>æœ¬è´¨åŒºåˆ«</h3><p>é¦–å…ˆ GET å’Œ POST è¯·æ±‚éƒ½æ˜¯ HTTP åè®®ä¸­çš„ä¸¤ç§å‘é€è¯·æ±‚çš„æ–¹æ³•,è€Œ HTTP æ˜¯åŸºäº TCP/IP çš„å…³äºæ•°æ®å¦‚ä½•åœ¨ä¸‡ç»´ç½‘ä¸­å¦‚ä½•é€šä¿¡çš„åè®®,HTTP çš„åº•å±‚æ˜¯ TCP/IPã€‚æ‰€ä»¥ GET å’Œ POST çš„åº•å±‚ä¹Ÿæ˜¯ TCP/IPï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒGET/POST éƒ½æ˜¯ TCP é“¾æ¥ã€‚GET å’Œ POST èƒ½åšçš„äº‹æƒ…æ˜¯ä¸€æ ·ä¸€æ ·çš„ã€‚ä½ è¦ç»™ GET åŠ ä¸Š request bodyï¼Œç»™ POST å¸¦ä¸Š url å‚æ•°ï¼ŒæŠ€æœ¯ä¸Šæ˜¯å®Œå…¨è¡Œçš„é€šçš„ã€‚</p><p>1).è™½ç„¶ç†è®ºä¸Š GET å’Œ POST è¯·æ±‚åœ¨ä½¿ç”¨ä¸Šå¯ä»¥æ²¡æœ‰åŒºåˆ«,ä½†æ˜¯ä¸åŒçš„æµè§ˆå™¨(å‘èµ· http è¯·æ±‚)å’ŒæœåŠ¡å™¨(æ¥å— http è¯·æ±‚)ä¼šé™åˆ¶å•æ¬¡ä¼ é€æ•°æ®äº†æ¥æ§åˆ¶é£é™©ï¼Œæ•°æ®é‡å¤ªå¤§å¯¹æµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½æ˜¯å¾ˆå¤§è´Ÿæ‹…ã€‚ä¸šç•Œä¸æˆæ–‡çš„è§„å®šæ˜¯ï¼Œ(å¤§å¤šæ•°)æµè§ˆå™¨é€šå¸¸éƒ½ä¼šé™åˆ¶ url é•¿åº¦åœ¨ 2K ä¸ªå­—èŠ‚ï¼Œè€Œ(å¤§å¤šæ•°)æœåŠ¡å™¨æœ€å¤šå¤„ç† 64K å¤§å°çš„ urlã€‚è¶…è¿‡çš„éƒ¨åˆ†ï¼Œæ•ä¸å¤„ç†ã€‚å¦‚æœä½ ç”¨ GET æœåŠ¡ï¼Œåœ¨ request body å·å·è—äº†æ•°æ®ï¼Œä¸åŒæœåŠ¡å™¨çš„å¤„ç†æ–¹å¼ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œæœ‰äº›æœåŠ¡å™¨ä¼šå¸®ä½ å¸è´§ï¼Œè¯»å‡ºæ•°æ®ï¼Œæœ‰äº›æœåŠ¡å™¨ç›´æ¥å¿½ç•¥ï¼Œæ‰€ä»¥ï¼Œè™½ç„¶ GET å¯ä»¥å¸¦ request bodyï¼Œä¹Ÿä¸èƒ½ä¿è¯ä¸€å®šèƒ½è¢«æ¥æ”¶åˆ°.</p><p>2).GET äº§ç”Ÿä¸€ä¸ª TCP æ•°æ®åŒ…;POST äº§ç”Ÿä¸¤ä¸ª TCP æ•°æ®åŒ…;å¯¹äº GET æ–¹å¼çš„è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šæŠŠ http header å’Œ data ä¸€å¹¶å‘é€å‡ºå»ï¼ŒæœåŠ¡å™¨å“åº” 200(è¿”å›æ•°æ®);è€Œå¯¹äº POSTï¼Œæµè§ˆå™¨å…ˆå‘é€ headerï¼ŒæœåŠ¡å™¨å“åº” 100 continueï¼Œæµè§ˆå™¨å†å‘é€ dataï¼ŒæœåŠ¡å™¨å“åº” 200 ok(è¿”å›æ•°æ®)ã€‚å› ä¸º ==POST éœ€è¦ä¸¤æ­¥ï¼Œæ—¶é—´ä¸Šæ¶ˆè€—çš„è¦å¤šä¸€ç‚¹ï¼Œçœ‹èµ·æ¥ GET æ¯” POST æ›´æœ‰æ•ˆã€‚== å› æ­¤ Yahoo å›¢é˜Ÿæœ‰æ¨èç”¨ GET æ›¿æ¢ POST æ¥ä¼˜åŒ–ç½‘ç«™æ€§èƒ½ã€‚</p><h2 id="HTTPS-å’Œ-HTTP-çš„åŒºåˆ«"><a href="#HTTPS-å’Œ-HTTP-çš„åŒºåˆ«" class="headerlink" title="HTTPS å’Œ HTTP çš„åŒºåˆ«"></a>HTTPS å’Œ HTTP çš„åŒºåˆ«</h2><ol><li>https åè®®éœ€è¦åˆ° ca ç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦è¾ƒå°‘ï¼Œå› è€Œéœ€è¦ä¸€å®šè´¹ç”¨ã€‚</li><li>http æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œhttps åˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„ ssl åŠ å¯†ä¼ è¾“åè®®ã€‚</li><li>http å’Œ https ä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯ 80ï¼Œåè€…æ˜¯ 443ã€‚</li><li>http çš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼›HTTPS åè®®æ˜¯ç”± SSL+HTTP åè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯” http åè®®å®‰å…¨ã€‚</li></ol><h2 id="æµè§ˆå™¨ç¼“å­˜"><a href="#æµè§ˆå™¨ç¼“å­˜" class="headerlink" title="æµè§ˆå™¨ç¼“å­˜"></a>æµè§ˆå™¨ç¼“å­˜</h2><h3 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h3><p>Last-Modify/If-Modify-Since</p><p>ETag/If-None-Match</p><h3 id="å¼ºç¼“å­˜"><a href="#å¼ºç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜"></a>å¼ºç¼“å­˜</h3><p>Expires æˆ–è€… Cache-Control</p><p>å› ä¸º http1.1&gt;http1.0ï¼Œ</p><p>æ‰€ä»¥ Cache-Control&gt;Expiresï¼ŒETag&gt;Last-Modifiedã€‚</p><p>ä¾ç…§å°±è¿‘åŸåˆ™ï¼Œå…ˆæ‰¾æœ¬åœ°ç¼“å­˜ï¼Œæ²¡æœ‰å†å‘æœåŠ¡å™¨å‘è¯·æ±‚ï¼Œ</p><p>æ‰€ä»¥ Expires&gt;Last-Modified,Cache-Control&gt;ETagï¼Œ</p><table><thead><tr><th>ç¼“å­˜ç±»å‹</th><th>è·å–èµ„æºå½¢å¼</th><th>çŠ¶æ€ç </th><th>å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨</th></tr></thead><tbody><tr><td>å¼ºç¼“å­˜</td><td>ä»ç¼“å­˜å–</td><td>200ï¼ˆfrom cacheï¼‰</td><td>å¦ï¼Œç›´æ¥ä»ç¼“å­˜å–</td></tr><tr><td>åå•†ç¼“å­˜</td><td>ä»ç¼“å­˜å–</td><td>304ï¼ˆNot Modifiedï¼‰</td><td>å¦ï¼Œé€šè¿‡æœåŠ¡å™¨æ¥å‘ŠçŸ¥ç¼“å­˜æ˜¯å¦å¯ç”¨</td></tr></tbody></table><p>200 from memory cache ä¸è®¿é—®æœåŠ¡å™¨ï¼Œç›´æ¥è¯»ç¼“å­˜ï¼Œ==ä»å†…å­˜ä¸­è¯»å–ç¼“å­˜==ã€‚æ­¤æ—¶çš„æ•°æ®æ—¶ç¼“å­˜åˆ°å†…å­˜ä¸­çš„ï¼Œå½“ kill è¿›ç¨‹åï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨å…³é—­ä»¥åï¼Œæ•°æ®å°†ä¸å­˜åœ¨ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼åªèƒ½ç¼“å­˜æ´¾ç”Ÿèµ„æº</p><p>200 from disk cache ä¸è®¿é—®æœåŠ¡å™¨ï¼Œç›´æ¥è¯»ç¼“å­˜ï¼Œ==ä»ç£ç›˜ä¸­è¯»å–ç¼“å­˜==ï¼Œå½“ kill è¿›ç¨‹æ—¶ï¼Œæ•°æ®è¿˜æ˜¯å­˜åœ¨ã€‚è¿™ç§æ–¹å¼ä¹Ÿåªèƒ½ç¼“å­˜æ´¾ç”Ÿèµ„æº</p><p>304 Not Modified è®¿é—®æœåŠ¡å™¨ï¼Œå‘ç°æ•°æ®æ²¡æœ‰æ›´æ–°ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤çŠ¶æ€ç ã€‚ç„¶åä»ç¼“å­˜ä¸­è¯»å–æ•°æ®ã€‚</p><h5 id="ä¸‰çº§ç¼“å­˜åŸç†"><a href="#ä¸‰çº§ç¼“å­˜åŸç†" class="headerlink" title="ä¸‰çº§ç¼“å­˜åŸç†"></a>ä¸‰çº§ç¼“å­˜åŸç†</h5><p>å…ˆå»å†…å­˜çœ‹ï¼Œå¦‚æœæœ‰ï¼Œç›´æ¥åŠ è½½</p><p>å¦‚æœå†…å­˜æ²¡æœ‰ï¼Œæ‹©å–ç¡¬ç›˜è·å–ï¼Œå¦‚æœæœ‰ç›´æ¥åŠ è½½</p><p>å¦‚æœç¡¬ç›˜ä¹Ÿæ²¡æœ‰ï¼Œé‚£ä¹ˆå°±è¿›è¡Œç½‘ç»œè¯·æ±‚</p><p>åŠ è½½åˆ°çš„èµ„æºç¼“å­˜åˆ°ç¡¬ç›˜å’Œå†…å­˜</p><p>application cache å’Œä¸Šé¢ç¼“å­˜æœ‰ç‚¹åŒºåˆ«ï¼Œæ˜¯ç¦»çº¿ç¼“å­˜ï¼Œå°±æ˜¯èµ„æºå¯ä»¥ä»ç¡¬ç›˜ä¸Šè¯»å–è€Œä¸ç”¨è”ç½‘ï¼Œå³ä½¿æ–­ç½‘ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥æµè§ˆã€‚</p><h6 id="è§£å†³ç¼“å­˜æ–‡ä»¶æ²¡æœ‰åŠæ—¶æ›´æ–°æ€è·¯"><a href="#è§£å†³ç¼“å­˜æ–‡ä»¶æ²¡æœ‰åŠæ—¶æ›´æ–°æ€è·¯" class="headerlink" title="è§£å†³ç¼“å­˜æ–‡ä»¶æ²¡æœ‰åŠæ—¶æ›´æ–°æ€è·¯"></a>è§£å†³ç¼“å­˜æ–‡ä»¶æ²¡æœ‰åŠæ—¶æ›´æ–°æ€è·¯</h6><p>ç”¨æ–‡ä»¶çš„æ‘˜è¦ä¿¡æ¯æ¥å¯¹èµ„æºæ–‡ä»¶è¿›è¡Œé‡å‘½åï¼ŒæŠŠæ‘˜è¦ä¿¡æ¯æ”¾åˆ°èµ„æºæ–‡ä»¶å‘å¸ƒè·¯å¾„ä¸­ï¼Œè¿™æ ·ï¼Œå†…å®¹æœ‰ä¿®æ”¹çš„èµ„æºå°±å˜æˆäº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶å‘å¸ƒåˆ°çº¿ä¸Šï¼Œä¸ä¼šè¦†ç›–å·²æœ‰çš„èµ„æºæ–‡ä»¶ã€‚ä¸Šçº¿è¿‡ç¨‹ä¸­ï¼Œå…ˆå…¨é‡éƒ¨ç½²é™æ€èµ„æºï¼Œå†ç°åº¦éƒ¨ç½²é¡µé¢ï¼Œæ•´ä¸ªé—®é¢˜å°±æ¯”è¾ƒå®Œç¾çš„è§£å†³äº†ã€‚</p><p>Last-Modified ä¸ ETag æ˜¯å¯ä»¥ä¸€èµ·ä½¿ç”¨çš„ï¼ŒæœåŠ¡å™¨ä¼šä¼˜å…ˆéªŒè¯ ETagï¼Œä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šç»§ç»­æ¯”å¯¹ Last-Modifiedï¼Œæœ€åæ‰å†³å®šæ˜¯å¦è¿”å› 304ã€‚</p><p>Cache-Control ä¸ Expires å¯ä»¥åœ¨æœåŠ¡ç«¯é…ç½®åŒæ—¶å¯ç”¨ï¼ŒåŒæ—¶å¯ç”¨çš„æ—¶å€™ Cache-Control ä¼˜å…ˆçº§é«˜</p><h3 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h3><p>Cache-Control æ˜¯ http1.1 æ—¶å‡ºç°çš„ header ä¿¡æ¯ï¼Œä¸»è¦æ˜¯åˆ©ç”¨è¯¥å­—æ®µçš„ max-age å€¼æ¥è¿›è¡Œåˆ¤æ–­ï¼Œå®ƒæ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´ï¼Œä¾‹å¦‚ Cache-Control:max-age=3600ï¼Œä»£è¡¨ç€èµ„æºçš„æœ‰æ•ˆæœŸæ˜¯ 3600 ç§’ã€‚cache-control é™¤äº†è¯¥å­—æ®µå¤–ï¼Œè¿˜æœ‰ä¸‹é¢å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„è®¾ç½®å€¼ï¼š</p><ul><li><p>no-cacheï¼šä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚éœ€è¦ä½¿ç”¨ç¼“å­˜åå•†ï¼Œå…ˆä¸æœåŠ¡å™¨ç¡®è®¤è¿”å›çš„å“åº”æ˜¯å¦è¢«æ›´æ”¹ï¼Œå¦‚æœä¹‹å‰çš„å“åº”ä¸­å­˜åœ¨ ETagï¼Œé‚£ä¹ˆè¯·æ±‚çš„æ—¶å€™ä¼šä¸æœåŠ¡ç«¯éªŒè¯ï¼Œå¦‚æœèµ„æºæœªè¢«æ›´æ”¹ï¼Œåˆ™å¯ä»¥é¿å…é‡æ–°ä¸‹è½½ã€‚</p></li><li><p>no-storeï¼šç›´æ¥ç¦æ­¢æ¸¸è§ˆå™¨ç¼“å­˜æ•°æ®ï¼Œæ¯æ¬¡ç”¨æˆ·è¯·æ±‚è¯¥èµ„æºï¼Œéƒ½ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯æ¬¡éƒ½ä¼šä¸‹è½½å®Œæ•´çš„èµ„æºã€‚</p></li><li><p>publicï¼šå¯ä»¥è¢«æ‰€æœ‰çš„ç”¨æˆ·ç¼“å­˜ï¼ŒåŒ…æ‹¬ç»ˆç«¯ç”¨æˆ·å’Œ CDN ç­‰ä¸­é—´ä»£ç†æœåŠ¡å™¨ã€‚</p></li><li><p>privateï¼šåªèƒ½è¢«ç»ˆç«¯ç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ï¼Œä¸å…è®¸ CDN ç­‰ä¸­ç»§ç¼“å­˜æœåŠ¡å™¨å¯¹å…¶ç¼“å­˜ã€‚</p></li><li><p>must-revalidate: ä¸€æ—¦ç¼“å­˜è¿‡æœŸï¼Œå¿…é¡»å‘æºæœåŠ¡å™¨è¿›è¡Œæ ¡éªŒï¼Œä¸å¾—ä½¿ç”¨è¿‡æœŸå†…å®¹ã€‚å¦‚æœæ— æ³•è¿æ¥å¿…é¡»è¿”å› 504ã€‚<br>æ²¡æœ‰å€¼</p></li><li><p>proxy-revalidate<br>ä¸ must-revalidate ç›¸åŒï¼Œä½†ä»…å¯¹å…¬å…±ç¼“å­˜ç”Ÿæ•ˆã€‚<br>æ²¡æœ‰å€¼</p></li><li><p>max-stale<br>å¦‚æœæœ‰å€¼ï¼Œå®¢æˆ·ç«¯å¯ä»¥æ¥å—è¿‡æœŸæ—¶é—´ä¸è¶…è¿‡æŒ‡å®šå€¼çš„ç¼“å­˜<br>å¦‚æœæ²¡æœ‰å€¼ï¼Œå®¢æˆ·ç«¯æ„¿æ„æ¥å—è¿‡æœŸç¼“å­˜è€Œæ— è®ºè¿‡æœŸè¿‡ä¹…ã€‚</p></li><li><p>min-fresh<br>å®¢æˆ·ç«¯æ„¿æ„æ¥å—ä¸€ä¸ªæ–°é²œåº¦ä¸å°äºå½“å‰ age åŠ ä¸ŠæŒ‡å®šæ—¶é—´çš„å“åº”ã€‚ç®€å•è¯´åœ¨æŒ‡å®šçš„åç»­ä¸€æ®µæ—¶é—´å†…ä¸ä¼šè¿‡æœŸçš„å“åº”ã€‚<br>æ€»æ˜¯æœ‰å€¼</p></li></ul><ol><li>public æŒ‡ç¤ºå“åº”æ•°æ®å¯ä»¥è¢«ä»»ä½•å®¢æˆ·ç«¯ç¼“å­˜</li><li>private æŒ‡ç¤ºå“åº”æ•°æ®å¯ä»¥è¢«éå…±äº«ç¼“å­˜æ‰€ç¼“å­˜ã€‚è¿™è¡¨æ˜å“åº”çš„æ•°æ®å¯ä»¥è¢«å‘é€è¯·æ±‚çš„æµè§ˆå™¨ç¼“å­˜ï¼Œè€Œä¸èƒ½è¢«ä¸­ä»‹æ‰€ç¼“å­˜</li><li>no-cache æŒ‡ç¤ºå“åº”æ•°æ®ä¸èƒ½è¢«ä»»ä½•æ¥å—å“åº”çš„å®¢æˆ·ç«¯æ‰€ç¼“å­˜</li><li>no-store æŒ‡ç¤ºæ‰€ä¼ é€çš„å“åº”æ•°æ®é™¤äº†ä¸èƒ½è¢«ç¼“å­˜ï¼Œä¹Ÿä¸èƒ½å­˜å…¥ç£ç›˜ã€‚ä¸€èˆ¬ç”¨äºæ•æ„Ÿæ•°æ®ï¼Œä»¥å…æ•°æ®è¢«å¤åˆ¶ã€‚</li><li>must-revalidate æŒ‡ç¤ºæ‰€æœ‰çš„ç¼“å­˜éƒ½å¿…é¡»é‡æ–°éªŒè¯ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ª If-Modified-Since å¤´ã€‚å¦‚æœæœåŠ¡å™¨ç¨‹åºéªŒè¯å¾—å‡ºå½“å‰çš„å“åº”æ•°æ®ä¸ºæœ€æ–°çš„æ•° æ®ï¼Œé‚£ä¹ˆæœåŠ¡å™¨åº”å½“è¿”å›ä¸€ä¸ª 304 Not Modified å“åº”ç»™å®¢æˆ·ç«¯ï¼Œå¦åˆ™å“åº”æ•°æ®å°†å†æ¬¡è¢«å‘é€åˆ°å®¢æˆ·ç«¯ã€‚</li><li>proxy-revalidate ä¸ must-revalidate ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯ç”¨æ¥æŒ‡ç¤ºå…±äº«ç¼“å­˜ã€‚</li><li>max-age æ•°æ®ç»è¿‡ max-age è®¾ç½®çš„ç§’æ•°åå°±ä¼šå¤±æ•ˆï¼Œç›¸å½“äº HTTP/1.0 ä¸­çš„ Expires å¤´ã€‚å¦‚æœåœ¨ä¸€æ¬¡å“åº”ä¸­åŒæ—¶è®¾ç½®äº† max-age å’Œ Expiresï¼Œé‚£ä¹ˆ max-age å°†å…·æœ‰è¾ƒé«˜çš„ä¼˜å…ˆçº§ã€‚</li><li>s-maxage ä¸ max-age ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯ç”¨æ¥æŒ‡ç¤ºå…±äº«ç¼“å­˜ã€‚</li></ol><h2 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h2><p>ä¸»æœº A å‘ä¸»æœº B å‘å‡ºè¿æ¥è¯·æ±‚æ•°æ®åŒ…ï¼š</p><p><strong>â€œæˆ‘æƒ³ç»™ä½ å‘æ•°æ®ï¼Œå¯ä»¥å—ï¼Ÿâ€</strong>ï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡å¯¹è¯ï¼›</p><p>ä¸»æœº B å‘ä¸»æœº A å‘é€åŒæ„è¿æ¥å’Œè¦æ±‚åŒæ­¥ï¼ˆåŒæ­¥å°±æ˜¯ä¸¤å°ä¸»æœºä¸€ä¸ªåœ¨å‘é€ï¼Œä¸€ä¸ªåœ¨æ¥æ”¶ï¼Œåè°ƒå·¥ä½œï¼‰çš„æ•°æ®åŒ…ï¼š<br><strong>â€œå¯ä»¥ï¼Œä½ ä»€ä¹ˆæ—¶å€™å‘ï¼Ÿâ€</strong>ï¼Œè¿™æ˜¯ç¬¬äºŒæ¬¡å¯¹è¯ï¼›<br>ä¸»æœº A å†å‘å‡ºä¸€ä¸ªæ•°æ®åŒ…ç¡®è®¤ä¸»æœº B çš„è¦æ±‚åŒæ­¥ï¼š</p><p><strong>â€œæˆ‘ç°åœ¨å°±å‘ï¼Œä½ æ¥ç€å§ï¼â€</strong>ï¼Œè¿™æ˜¯ç¬¬ä¸‰æ¬¡å¯¹è¯ã€‚<br>ä¸‰æ¬¡â€œå¯¹è¯â€çš„ç›®çš„æ˜¯ä½¿æ•°æ®åŒ…çš„å‘é€å’Œæ¥æ”¶åŒæ­¥ï¼Œç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€ä¹‹åï¼Œä¸»æœº A æ‰å‘ä¸»æœº B æ­£å¼å‘é€æ•°æ®ã€‚</p><p>é¦–å…ˆ Client ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼ŒServer æ®µæ¥å—è¿æ¥åå›å¤ ACK æŠ¥æ–‡ï¼Œå¹¶ä¸ºè¿™æ¬¡è¿æ¥åˆ†é…èµ„æºã€‚Client ç«¯æ¥æ”¶åˆ° ACK æŠ¥æ–‡åä¹Ÿå‘ Server æ®µå‘ç”Ÿ ACK æŠ¥æ–‡ï¼Œå¹¶åˆ†é…èµ„æºï¼Œè¿™æ · TCP è¿æ¥å°±å»ºç«‹äº†ã€‚</p><h2 id="å››æ¬¡æ¡æ‰‹"><a href="#å››æ¬¡æ¡æ‰‹" class="headerlink" title="å››æ¬¡æ¡æ‰‹"></a>å››æ¬¡æ¡æ‰‹</h2><p>Client ç«¯å‘èµ·ä¸­æ–­è¿æ¥è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å‘é€ FIN æŠ¥æ–‡ã€‚</p><p>æ„æ€æ˜¯è¯´â€æˆ‘ Client ç«¯æ²¡æœ‰æ•°æ®è¦å‘ç»™ä½ äº†â€ï¼Œ<br>ä½†æ˜¯å¦‚æœä½ è¿˜æœ‰æ•°æ®æ²¡æœ‰å‘é€å®Œæˆï¼Œåˆ™ä¸å¿…æ€¥ç€å…³é—­ Socketï¼Œå¯ä»¥ç»§ç»­å‘é€æ•°æ®ã€‚</p><p>æ‰€ä»¥æœåŠ¡ç«¯å…ˆå‘é€ ACKï¼Œå‘Šè¯‰ Client ç«¯: â€œä½ çš„è¯·æ±‚æˆ‘æ”¶åˆ°äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ²¡å‡†å¤‡å¥½ï¼Œè¯·ç»§ç»­ä½ ç­‰æˆ‘çš„æ¶ˆæ¯â€ã€‚</p><p>è¿™ä¸ªæ—¶å€™ Client ç«¯å°±è¿›å…¥ FIN_WAIT çŠ¶æ€ï¼Œç»§ç»­ç­‰å¾… Server ç«¯çš„ FIN æŠ¥æ–‡ã€‚</p><p>å½“ Server ç«¯ç¡®å®šæ•°æ®å·²å‘é€å®Œæˆï¼Œåˆ™å‘ Client ç«¯å‘é€ FIN æŠ¥æ–‡ï¼Œ<br>å‘Šè¯‰ Client ç«¯: â€œå¥½äº†ï¼Œæˆ‘è¿™è¾¹æ•°æ®å‘å®Œäº†ï¼Œå‡†å¤‡å¥½å…³é—­è¿æ¥äº†â€ã€‚</p><p>Client ç«¯æ”¶åˆ° FIN æŠ¥æ–‡åï¼Œå°±çŸ¥é“å¯ä»¥å…³é—­è¿æ¥äº†ï¼Œä½†æ˜¯ä»–è¿˜æ˜¯ä¸ç›¸ä¿¡ç½‘ç»œï¼Œæ€• Server ç«¯ä¸çŸ¥é“è¦å…³é—­ï¼Œæ‰€ä»¥å‘é€ ACK åè¿›å…¥ TIME_WAIT çŠ¶æ€ï¼Œå¦‚æœ Server ç«¯æ²¡æœ‰æ”¶åˆ° ACK åˆ™å¯ä»¥é‡ä¼ ã€‚</p><p>Server ç«¯æ”¶åˆ° ACK åï¼Œâ€å°±çŸ¥é“å¯ä»¥æ–­å¼€è¿æ¥äº†â€ã€‚Client ç«¯ç­‰å¾…äº† 2MSL åä¾ç„¶æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œåˆ™è¯æ˜ Server ç«¯å·²æ­£å¸¸å…³é—­ï¼Œé‚£å¥½ï¼Œæˆ‘ Client ç«¯ä¹Ÿå¯ä»¥å…³é—­è¿æ¥äº†ã€‚Okï¼ŒTCP è¿æ¥å°±è¿™æ ·å…³é—­äº†ï¼</p><h2 id="é•¿è¿æ¥ï¼ŒçŸ­é“¾æ¥ï¼Œé•¿è½®è¯¢ï¼Œwebsocket"><a href="#é•¿è¿æ¥ï¼ŒçŸ­é“¾æ¥ï¼Œé•¿è½®è¯¢ï¼Œwebsocket" class="headerlink" title="é•¿è¿æ¥ï¼ŒçŸ­é“¾æ¥ï¼Œé•¿è½®è¯¢ï¼Œwebsocket"></a>é•¿è¿æ¥ï¼ŒçŸ­é“¾æ¥ï¼Œé•¿è½®è¯¢ï¼Œwebsocket</h2><ul><li><h3 id="é•¿è¿æ¥"><a href="#é•¿è¿æ¥" class="headerlink" title="é•¿è¿æ¥"></a>é•¿è¿æ¥</h3><p>åœ¨ HTTP 1.1ï¼Œå®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚ï¼ŒæœåŠ¡ç«¯æ¥æ”¶è¯·æ±‚ï¼ŒåŒæ–¹å»ºç«‹è¿æ¥ï¼Œåœ¨æœåŠ¡ç«¯æ²¡æœ‰è¿”å›ä¹‹å‰ä¿æŒè¿æ¥ï¼Œå½“å®¢æˆ·ç«¯å†å‘é€è¯·æ±‚æ—¶ï¼Œå®ƒä¼šä½¿ç”¨åŒä¸€ä¸ªè¿æ¥ã€‚è¿™ä¸€ç›´ç»§ç»­åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨ç«¯è®¤ä¸ºä¼šè¯å·²ç»ç»“æŸï¼Œå…¶ä¸­ä¸€æ–¹ä¸­æ–­è¿æ¥ã€‚</p><p>ä¼˜åŠ¿ï¼šçœå»è¾ƒå¤šçš„ TCP å»ºç«‹å’Œå…³é—­çš„æ“ä½œï¼Œå‡å°‘æµªè´¹ï¼ŒèŠ‚çº¦æ—¶é—´ã€‚å¯¹äºé¢‘ç¹è¯·æ±‚èµ„æºçš„å®¢æˆ·ç«¯é€‚åˆä½¿ç”¨é•¿è¿æ¥ã€‚</p><p>åŠ£åŠ¿ï¼šå¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼Œå› ä¸ºå®ƒåœ¨æ–‡ä»¶è¢«è¯·æ±‚ä¹‹åè¿˜ä¿æŒäº†ä¸å¿…è¦çš„è¿æ¥å¾ˆé•¿æ—¶é—´<br>éšç€å®¢æˆ·ç«¯è¿æ¥è¶Šæ¥è¶Šå¤šï¼Œserver ä¼šä¿æŒè¿‡å¤šè¿æ¥</p></li></ul><p>server ç«¯é‡‡å–ç­–ç•¥ï¼š</p><ol><li>å…³é—­ä¸€äº›é•¿æ—¶é—´æ²¡æœ‰è¯·æ±‚å‘ç”Ÿçš„è¿æ¥ï¼Œè¿™æ ·å¯ä»¥é¿å…ä¸€äº›æ¶æ„è¿æ¥å¯¼è‡´ server ç«¯æœåŠ¡å—æŸ</li><li>å¦‚æœæ¡ä»¶å…è®¸åˆ™å¯ä»¥é™åˆ¶æ¯ä¸ªå®¢æˆ·ç«¯çš„æœ€å¤§é•¿è¿æ¥æ•°ï¼Œé¿å…æ¶æ„çš„å®¢æˆ·ç«¯æ‹–å®æ•´ä½“åç«¯æœåŠ¡</li></ol><ul><li><h3 id="çŸ­è¿æ¥"><a href="#çŸ­è¿æ¥" class="headerlink" title="çŸ­è¿æ¥"></a>çŸ­è¿æ¥</h3><p>åœ¨ HTTP1.0 ä¸­ï¼Œå®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚ï¼ŒåŒæ–¹å»ºç«‹è¿æ¥ï¼ŒæœåŠ¡å™¨å“åº”èµ„æºï¼Œè¯·æ±‚ç»“æŸã€‚<br>åŠ£åŠ¿ï¼š è¯·æ±‚é¢‘ç¹ï¼Œåœ¨ TCP çš„å»ºç«‹å’Œå…³é—­æ“ä½œä¸Šæµªè´¹è¾ƒå¤šæ—¶é—´å’Œå¸¦å®½ã€‚</p></li><li><h3 id="é•¿è½®è¯¢"><a href="#é•¿è½®è¯¢" class="headerlink" title="é•¿è½®è¯¢"></a>é•¿è½®è¯¢</h3><p>å®¢æˆ·ç«¯åƒä¼ ç»Ÿè½®è¯¢ä¸€æ ·ä»æœåŠ¡å™¨è¯·æ±‚æ•°æ®ã€‚ç„¶è€Œï¼Œå¦‚æœæœåŠ¡å™¨æ²¡æœ‰å¯ä»¥ç«‹å³è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œåˆ™ä¸ä¼šç«‹åˆ»è¿”å›ä¸€ä¸ªç©ºç»“æœï¼Œè€Œæ˜¯ä¿æŒè¿™ä¸ªè¯·æ±‚ç­‰å¾…æ•°æ®åˆ°æ¥ï¼ˆæˆ–è€…æ°å½“çš„è¶…æ—¶ï¼‰ï¼Œä¹‹åå°†æ•°æ®ä½œä¸ºç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p></li><li><h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><p>æ˜¯ HTML5 ä¸€ç§æ–°çš„åè®®ã€‚å®ƒå®ç°äº†æµè§ˆå™¨ä¸æœåŠ¡å™¨å…¨åŒå·¥é€šä¿¡(full-duplex)ã€‚ä¸€å¼€å§‹çš„æ¡æ‰‹éœ€è¦å€ŸåŠ© HTTP è¯·æ±‚å®Œæˆã€‚</p><p>å®¢æˆ·ç«¯å‘é€ä¸€æ¬¡ http websocket è¯·æ±‚ï¼Œ<br>æœåŠ¡å™¨å“åº”è¯·æ±‚ï¼ŒåŒæ–¹å»ºç«‹æŒä¹…è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ï¼Œåé¢ä¸è¿›è¡Œ HTTP è¿æ¥ï¼Œè€Œæ˜¯ä½¿ç”¨ TCP è¿æ¥ã€‚</p><p>æ˜¯ç‹¬ç«‹çš„ã€åˆ›å»ºåœ¨ TCP ä¸Šçš„åè®®ã€‚<br>é€šè¿‡ HTTP/1.1 åè®®çš„ 101 çŠ¶æ€ç è¿›è¡Œæ¡æ‰‹ã€‚<br>ä½¿ç”¨ ws æˆ– wss çš„ç»Ÿä¸€èµ„æºæ ‡å¿—ç¬¦ï¼Œç±»ä¼¼äº HTTPSï¼Œå…¶ä¸­ wss è¡¨ç¤ºåœ¨ TLS ä¹‹ä¸Šçš„ Websocketã€‚<br>ws://example.com/wsapi<br>wss://secure.example.com/</p><p>ä½¿ç”¨å’Œ HTTP ç›¸åŒçš„ TCP ç«¯å£ï¼Œ<br>å¯ä»¥ç»•è¿‡å¤§å¤šæ•°é˜²ç«å¢™çš„é™åˆ¶ã€‚<br>é»˜è®¤æƒ…å†µä¸‹ï¼ŒWebsocket åè®®ä½¿ç”¨ 80 ç«¯å£ï¼›è¿è¡Œåœ¨ TLS ä¹‹ä¸Šæ—¶ï¼Œé»˜è®¤ä½¿ç”¨ 443 ç«¯å£ã€‚<br>æ•°æ®æ ¼å¼æ¯”è¾ƒè½»é‡ï¼Œæ€§èƒ½å¼€é”€è¾ƒå°ï¼Œé€šä¿¡é«˜æ•ˆ<br>å¯ä»¥å‘é€æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ•°æ®ã€‚<br>æ²¡æœ‰åŒæºé™åˆ¶ï¼Œå¯ä»¥ä»»æ„æœåŠ¡å™¨é€šä¿¡</p><p>websocket åè®®è§£æ<br>wensocket åè®®åŒ…å«ä¸¤éƒ¨åˆ†:ä¸€éƒ¨åˆ†æ˜¯â€œæ¡æ‰‹â€ï¼Œä¸€éƒ¨åˆ†æ˜¯â€œæ•°æ®ä¼ è¾“â€ã€‚</p></li></ul><p>ä¼˜åŠ¿ï¼šè¾ƒå°‘çš„æ§åˆ¶å¼€é”€ã€‚æ›´å¼ºçš„å®æ—¶æ€§ã€‚ä¿æŒè¿æ¥çŠ¶æ€ã€‚æ›´å¥½çš„äºŒè¿›åˆ¶æ”¯æŒã€‚å¯ä»¥æ”¯æŒæ‰©å±•ã€‚æ›´å¥½çš„å‹ç¼©æ•ˆæœã€‚</p><pre><code>æ•°æ®ä¼ è¾“è¯•ç”¨çš„æ˜¯ä¸€ç³»åˆ—æ•°æ®å¸§ï¼ŒåŸºæœ¬çš„æ•°æ®å¸§ä¸ºä¸€ä¸ªopcodeã€ä¸€ä¸ªpayloadé•¿åº¦å’Œå‘é€çš„åº”ç”¨æ•°æ®ï¼Œæ ¹æ®ABNFçš„å®šä¹‰ï¼Œ</code></pre><p>Websocket åè®®è§£å†³äº†æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯å…¨åŒå·¥é€šä¿¡çš„é—®é¢˜ã€‚</p><p>æ³¨:ä»€ä¹ˆæ˜¯å•å·¥ã€åŠåŒå·¥ã€å…¨å·¥é€šä¿¡ï¼Ÿ<br>ä¿¡æ¯åªèƒ½å•å‘ä¼ é€ä¸ºå•å·¥ï¼›<br>ä¿¡æ¯èƒ½åŒå‘ä¼ é€ä½†ä¸èƒ½åŒæ—¶åŒå‘ä¼ é€ç§°ä¸ºåŠåŒå·¥ï¼›<br>ä¿¡æ¯èƒ½å¤ŸåŒæ—¶åŒå‘ä¼ é€åˆ™ç§°ä¸ºå…¨åŒå·¥ã€‚ -</p><p>HTTP/1.0 ä¸­é»˜è®¤ä½¿ç”¨çŸ­è¿æ¥ã€‚ ä» HTTP/1.1 èµ·ï¼Œé»˜è®¤ä½¿ç”¨é•¿è¿æ¥ï¼Œç”¨ä»¥ä¿æŒè¿æ¥ç‰¹æ€§ã€‚</p><p>ä½¿ç”¨é•¿è¿æ¥çš„ HTTP åè®®ï¼Œä¼šåœ¨å“åº”å¤´åŠ å…¥è¿™è¡Œä»£ç ï¼š</p><p>==Connection:keep-alive==</p><p>Keep-Alive ä¸ä¼šæ°¸ä¹…ä¿æŒè¿æ¥ï¼Œå®ƒæœ‰ä¸€ä¸ªä¿æŒæ—¶é—´ï¼Œå¯ä»¥åœ¨ä¸åŒçš„æœåŠ¡å™¨è½¯ä»¶ï¼ˆå¦‚ Apacheï¼‰ä¸­è®¾å®šè¿™ä¸ªæ—¶é—´ã€‚å®ç°é•¿è¿æ¥éœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æ”¯æŒé•¿è¿æ¥ã€‚</p><p>HTTP åè®®çš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥ï¼Œå®è´¨ä¸Šæ˜¯ TCP åè®®çš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯è¯·æ±‚</span><br><span class="line"></span><br><span class="line">GET &#x2F; HTTP&#x2F;1.1</span><br><span class="line">Upgrade: websocket</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Host: example.com</span><br><span class="line">Origin: http:&#x2F;&#x2F;example.com</span><br><span class="line">Sec-WebSocket-Key: sN9cRrP&#x2F;n9NdMgdcy2VJFQ&#x3D;&#x3D;</span><br><span class="line">Sec-WebSocket-Version: 13</span><br><span class="line"></span><br><span class="line">æœåŠ¡å™¨å›åº”</span><br><span class="line"></span><br><span class="line">HTTP&#x2F;1.1 101 Switching Protocols</span><br><span class="line">Upgrade: websocket</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Sec-WebSocket-Accept: fFBooB7FAkLlXgRSz0BT3v4hq5s&#x3D;</span><br><span class="line">Sec-WebSocket-Location: ws:&#x2F;&#x2F;example.com&#x2F;</span><br></pre></td></tr></table></figure><h2 id="WebSocket-ä¸-HTTP-çš„å…³ç³»"><a href="#WebSocket-ä¸-HTTP-çš„å…³ç³»" class="headerlink" title="WebSocket ä¸ HTTP çš„å…³ç³»"></a>WebSocket ä¸ HTTP çš„å…³ç³»</h2><h3 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h3><ol><li>éƒ½æ˜¯ä¸€æ ·åŸºäº TCP çš„ï¼Œéƒ½æ˜¯å¯é æ€§ä¼ è¾“åè®®ã€‚</li><li>éƒ½æ˜¯åº”ç”¨å±‚åè®®ã€‚</li></ol><h3 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h3><ol><li>WebSocket æ˜¯åŒå‘é€šä¿¡åè®®ï¼Œæ¨¡æ‹Ÿ Socket åè®®ï¼Œå¯ä»¥åŒå‘å‘é€æˆ–æ¥å—ä¿¡æ¯ã€‚HTTP æ˜¯å•å‘çš„ã€‚</li><li>WebSocket æ˜¯éœ€è¦æ¡æ‰‹è¿›è¡Œå»ºç«‹è¿æ¥çš„ã€‚</li></ol><h3 id="è”ç³»"><a href="#è”ç³»" class="headerlink" title="è”ç³»"></a>è”ç³»</h3><p>WebSocket åœ¨å»ºç«‹æ¡æ‰‹æ—¶ï¼Œæ•°æ®æ˜¯é€šè¿‡ HTTP ä¼ è¾“çš„ã€‚ä½†æ˜¯å»ºç«‹ä¹‹åï¼Œåœ¨çœŸæ­£ä¼ è¾“æ—¶å€™æ˜¯ä¸éœ€è¦ HTTP åè®®çš„ã€‚</p><h2 id="WebSocket-ä¸-Socket-çš„å…³ç³»"><a href="#WebSocket-ä¸-Socket-çš„å…³ç³»" class="headerlink" title="WebSocket ä¸ Socket çš„å…³ç³»"></a>WebSocket ä¸ Socket çš„å…³ç³»</h2><p>Socket å…¶å®å¹¶ä¸æ˜¯ä¸€ä¸ªåè®®ï¼Œè€Œæ˜¯ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ TCP æˆ– UDP è€ŒæŠ½è±¡å‡ºæ¥çš„ä¸€å±‚ï¼Œæ˜¯ä½äºåº”ç”¨å±‚å’Œä¼ è¾“æ§åˆ¶å±‚ä¹‹é—´çš„ä¸€ç»„æ¥å£ã€‚</p><p>Socket æ˜¯åº”ç”¨å±‚ä¸ TCP/IP åè®®æ—é€šä¿¡çš„ä¸­é—´è½¯ä»¶æŠ½è±¡å±‚ï¼Œå®ƒæ˜¯ä¸€ç»„æ¥å£ã€‚åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼ŒSocket å…¶å®å°±æ˜¯ä¸€ä¸ªé—¨é¢æ¨¡å¼ï¼Œå®ƒæŠŠå¤æ‚çš„ TCP/IP åè®®æ—éšè—åœ¨ Socket æ¥å£åé¢ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ï¼Œä¸€ç»„ç®€å•çš„æ¥å£å°±æ˜¯å…¨éƒ¨ï¼Œè®© Socket å»ç»„ç»‡æ•°æ®ï¼Œä»¥ç¬¦åˆæŒ‡å®šçš„åè®®ã€‚</p><p>å½“ä¸¤å°ä¸»æœºé€šä¿¡æ—¶ï¼Œå¿…é¡»é€šè¿‡ Socket è¿æ¥ï¼ŒSocket åˆ™åˆ©ç”¨ TCP/IP åè®®å»ºç«‹ TCP è¿æ¥ã€‚TCP è¿æ¥åˆ™æ›´ä¾é äºåº•å±‚çš„ IP åè®®ï¼ŒIP åè®®çš„è¿æ¥åˆ™ä¾èµ–äºé“¾è·¯å±‚ç­‰æ›´ä½å±‚æ¬¡ã€‚</p><p>WebSocket åˆ™æ˜¯ä¸€ä¸ªå…¸å‹çš„åº”ç”¨å±‚åè®®ã€‚</p><h3 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h3><p>Socket æ˜¯ä¼ è¾“æ§åˆ¶å±‚åè®®ï¼ŒWebSocket æ˜¯åº”ç”¨å±‚åè®®ã€‚</p><h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h2><p>ä¸€ã€èµ„æºå†…å®¹ä¸å˜ + è®¾ç½®é•¿æ—¶é—´ max-age<br>// è®¾ç½®ç¼“å­˜æ—¶é—´ä¸º 1 å¹´<br>Cache-Control: max-age=31536000</p><p>äºŒã€å¯¹äºç»å¸¸ä¿®æ”¹çš„å†…å®¹ï¼Œå§‹ç»ˆéœ€è¦è¿›è¡ŒæœåŠ¡å™¨è®¤è¯<br>Cache-Control: no-cache</p><p>Cache-Control æ¯” Expires å¯ä»¥æ§åˆ¶çš„å¤šä¸€äº›ï¼Œ<br>è€Œä¸” Cache-Control ä¼šé‡å†™ Expires çš„è§„åˆ™ï¼Œ<br>Cache-Control æ˜¯å…³äºæµè§ˆå™¨ç¼“å­˜çš„æœ€é‡è¦çš„è®¾ç½®ï¼Œ<br>å› ä¸ºå®ƒè¦†ç›–å…¶ä»–è®¾ç½®ï¼Œæ¯”å¦‚ Expires å’Œ Last-Modified</p><p>Mainfest å¯ä»¥ç¼“å­˜ä¸€ä¸ªåº”ç”¨ï¼Œpwa ä¸­æœ‰ Mainfest å’Œ Service Worker å¯ä»¥å®ç°ç¼“å­˜</p><h2 id="HTTP-request-æŠ¥æ–‡ç»“æ„æ˜¯æ€æ ·çš„"><a href="#HTTP-request-æŠ¥æ–‡ç»“æ„æ˜¯æ€æ ·çš„" class="headerlink" title="HTTP request æŠ¥æ–‡ç»“æ„æ˜¯æ€æ ·çš„"></a>HTTP request æŠ¥æ–‡ç»“æ„æ˜¯æ€æ ·çš„</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">rfc2616ä¸­è¿›è¡Œäº†å®šä¹‰ï¼š</span><br><span class="line"></span><br><span class="line">é¦–è¡Œæ˜¯Request-LineåŒ…æ‹¬ï¼š</span><br><span class="line">    è¯·æ±‚æ–¹æ³•ï¼Œè¯·æ±‚URIï¼Œåè®®ç‰ˆæœ¬ï¼ŒCRLF</span><br><span class="line"></span><br><span class="line">é¦–è¡Œä¹‹åæ˜¯è‹¥å¹²è¡Œè¯·æ±‚å¤´ï¼ŒåŒ…æ‹¬</span><br><span class="line">    general-headerï¼Œ</span><br><span class="line">    request-headeræˆ–è€…</span><br><span class="line">    entity-headerï¼Œ</span><br><span class="line">    æ¯ä¸ªä¸€è¡Œä»¥CRLFç»“æŸ</span><br><span class="line">è¯·æ±‚å¤´å’Œæ¶ˆæ¯å®ä½“ä¹‹é—´æœ‰</span><br><span class="line">ä¸€ä¸ªCRLFåˆ†éš”</span><br><span class="line">æ ¹æ®å®é™…è¯·æ±‚éœ€è¦å¯èƒ½åŒ…å«ä¸€ä¸ªæ¶ˆæ¯å®ä½“</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">User-Agentï¼šäº§ç”Ÿè¯·æ±‚çš„æµè§ˆå™¨ç±»å‹ã€‚</span><br><span class="line">Acceptï¼šå®¢æˆ·ç«¯å¯è¯†åˆ«çš„å†…å®¹ç±»å‹åˆ—è¡¨ã€‚</span><br><span class="line">Hostï¼šè¯·æ±‚çš„ä¸»æœºåï¼Œå…è®¸å¤šä¸ªåŸŸååŒå¤„ä¸€ä¸ªIPåœ°å€ï¼Œå³è™šæ‹Ÿä¸»æœºã€‚</span><br><span class="line"></span><br><span class="line">POSTæ–¹æ³•é€‚ç”¨äºéœ€è¦å®¢æˆ·å¡«å†™è¡¨å•çš„åœºåˆã€‚</span><br><span class="line">ä¸è¯·æ±‚æ•°æ®ç›¸å…³çš„</span><br><span class="line">æœ€å¸¸ä½¿ç”¨çš„è¯·æ±‚å¤´æ˜¯Content-Typeå’Œ</span><br><span class="line">Content-Lengthã€‚</span><br><span class="line"></span><br><span class="line">ä¸€ä¸ªè¯·æ±‚æŠ¥æ–‡ä¾‹å­å¦‚ä¸‹ï¼š</span><br><span class="line">GET &#x2F;Protocols&#x2F;rfc2616&#x2F;rfc2616-sec5.html HTTP&#x2F;1.1</span><br><span class="line">Host: www.w3.org</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Cache-Control: max-age&#x3D;0</span><br><span class="line">Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;webp,*&#x2F;*;q&#x3D;0.8</span><br><span class="line">User-Agent: Mozilla&#x2F;5.0 (Windows NT 6.1; WOW64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;35.0.1916.153 Safari&#x2F;537.36</span><br><span class="line">Referer: https:&#x2F;&#x2F;www.google.com.hk&#x2F;</span><br><span class="line">Accept-Encoding: gzip,deflate,sdch</span><br><span class="line">Accept-Language: zh-CN,zh;q&#x3D;0.8,en;q&#x3D;0.6</span><br><span class="line">Cookie: authorstyle&#x3D;yes</span><br><span class="line">If-None-Match: &quot;2cc8-3e3073913b100&quot;</span><br><span class="line">If-Modified-Since: Wed, 01 Sep 2004 13:24:52 GMT</span><br><span class="line"></span><br><span class="line">name&#x3D;qiu&amp;age&#x3D;25</span><br></pre></td></tr></table></figure><h2 id="HTTP-response-æŠ¥æ–‡ç»“æ„æ˜¯æ€æ ·çš„"><a href="#HTTP-response-æŠ¥æ–‡ç»“æ„æ˜¯æ€æ ·çš„" class="headerlink" title="HTTP response æŠ¥æ–‡ç»“æ„æ˜¯æ€æ ·çš„"></a>HTTP response æŠ¥æ–‡ç»“æ„æ˜¯æ€æ ·çš„</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">rfc2616ä¸­è¿›è¡Œäº†å®šä¹‰ï¼š</span><br><span class="line"></span><br><span class="line">é¦–è¡Œæ˜¯çŠ¶æ€è¡ŒåŒ…æ‹¬ï¼š</span><br><span class="line">    HTTPç‰ˆæœ¬ï¼ŒçŠ¶æ€ç ï¼Œ</span><br><span class="line">    çŠ¶æ€æè¿°ï¼Œåé¢è·Ÿä¸€ä¸ªCRLF</span><br><span class="line"></span><br><span class="line">é¦–è¡Œä¹‹åæ˜¯è‹¥å¹²è¡Œå“åº”å¤´ï¼ŒåŒ…æ‹¬ï¼š</span><br><span class="line">    é€šç”¨å¤´éƒ¨ï¼Œå“åº”å¤´éƒ¨ï¼Œå®ä½“å¤´éƒ¨</span><br><span class="line"></span><br><span class="line">å“åº”å¤´éƒ¨å’Œå“åº”å®ä½“ä¹‹é—´ç”¨ä¸€ä¸ªCRLFç©ºè¡Œåˆ†éš”</span><br><span class="line"></span><br><span class="line">æœ€åæ˜¯ä¸€ä¸ªå¯èƒ½çš„æ¶ˆæ¯å®ä½“</span><br><span class="line">å“åº”æŠ¥æ–‡ä¾‹å­å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">HTTP&#x2F;1.1 200 OK</span><br><span class="line">Date: Tue, 08 Jul 2014 05:28:43 GMT</span><br><span class="line">Server: Apache&#x2F;2</span><br><span class="line">Last-Modified: Wed, 01 Sep 2004 13:24:52 GMT</span><br><span class="line">ETag: &quot;40d7-3e3073913b100&quot;</span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line">Content-Length: 16599</span><br><span class="line">Cache-Control: max-age&#x3D;21600</span><br><span class="line">Expires: Tue, 08 Jul 2014 11:28:43 GMT</span><br><span class="line">P3P: policyref&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;05&#x2F;P3P&#x2F;p3p.xml&quot;</span><br><span class="line">Content-Type: text&#x2F;html; charset&#x3D;iso-8859-1</span><br><span class="line"></span><br><span class="line">&#123;&quot;name&quot;: &quot;qiu&quot;, &quot;age&quot;: 25&#125;</span><br></pre></td></tr></table></figure><h2 id="Promise-å°è£…-Ajax"><a href="#Promise-å°è£…-Ajax" class="headerlink" title="Promise å°è£… Ajax"></a>Promise å°è£… Ajax</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">function getJSON(url)&#123;</span><br><span class="line">    return new Promise((resolve, reject) &#x3D;&gt;&#123;</span><br><span class="line">        var xhr &#x3D; new XMLHttpRequest()</span><br><span class="line">        &#x2F;&#x2F; get</span><br><span class="line">        xhr.open(&#39;GET&#39;, url, true)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; post</span><br><span class="line">        &#x2F;&#x2F; xhr.open(&#39;POST&#39;, url, true)</span><br><span class="line">        &#x2F;&#x2F; xhr.setRequestHeader(&#39;Content-type&#39;, &#39;application&#x2F;x-www-form-urlencoded&#39;)</span><br><span class="line">        xhr.onreadystatechange &#x3D; function()&#123;</span><br><span class="line">            if(this.readyState &#x3D;&#x3D;&#x3D; 4)&#123;</span><br><span class="line">                if(this.status &#x3D;&#x3D;&#x3D; 200)&#123;</span><br><span class="line">                    resolve(this.responseText, this)</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    var resJson &#x3D; &#123;code: this.status, response: this.response&#125;</span><br><span class="line">                    reject(resJson, this)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        xhr.send()</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; post</span><br><span class="line">        &#x2F;&#x2F; xhr.send(JSON.stringify(data))</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="URL-è¯¦è§£"><a href="#URL-è¯¦è§£" class="headerlink" title="URL è¯¦è§£"></a>URL è¯¦è§£</h2><p><a href="http://caibaojian.com/http-protocol.html">é“¾æ¥</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">URL(Uniform Resource Locator) åœ°å€ç”¨äºæè¿°ä¸€ä¸ªç½‘ç»œä¸Šçš„èµ„æºï¼Œ åŸºæœ¬æ ¼å¼å¦‚ä¸‹</span><br><span class="line">schema:&#x2F;&#x2F;host[:port#]&#x2F;path&#x2F;...&#x2F;[;url-params][?query-string][#anchor]</span><br><span class="line">ã€€ã€€scheme æŒ‡å®šä½å±‚ä½¿ç”¨çš„åè®®(ä¾‹å¦‚ï¼šhttp, https, ftp)</span><br><span class="line">ã€€ã€€host HTTPæœåŠ¡å™¨çš„IPåœ°å€æˆ–è€…åŸŸå</span><br><span class="line">ã€€ã€€port# HTTPæœåŠ¡å™¨çš„é»˜è®¤ç«¯å£æ˜¯80ï¼Œ</span><br><span class="line">ã€€ã€€       httpsæ˜¯443</span><br><span class="line">ã€€ã€€è¿™ç§æƒ…å†µä¸‹ç«¯å£å·å¯ä»¥çœç•¥ã€‚å¦‚æœä½¿ç”¨äº†åˆ«çš„ç«¯å£ï¼Œ</span><br><span class="line">ã€€ã€€å¿…é¡»æŒ‡æ˜ï¼Œä¾‹å¦‚ http:&#x2F;&#x2F;www.cnblogs.com:8080&#x2F;</span><br><span class="line">ã€€ã€€path è®¿é—®èµ„æºçš„è·¯å¾„</span><br><span class="line">ã€€ã€€url-params</span><br><span class="line">ã€€ã€€query-string å‘é€ç»™httpæœåŠ¡å™¨çš„æ•°æ®</span><br><span class="line">ã€€ã€€anchor- é”š</span><br><span class="line"></span><br><span class="line">URL çš„ä¸€ä¸ªä¾‹å­ï¼š</span><br><span class="line">http:&#x2F;&#x2F;www.mywebsite.com&#x2F;sj&#x2F;test;id&#x3D;8079?name&#x3D;sviergn&amp;x&#x3D;true#stuff</span><br><span class="line">Schema: http</span><br><span class="line">host: www.mywebsite.com</span><br><span class="line">path: &#x2F;sj&#x2F;test</span><br><span class="line">URL params: id&#x3D;8079</span><br><span class="line">Query String: name&#x3D;sviergn&amp;x&#x3D;true</span><br><span class="line">Anchor: stuff</span><br></pre></td></tr></table></figure><h2 id="http-å¸¸è§çŠ¶æ€ç æœ‰å“ªäº›"><a href="#http-å¸¸è§çŠ¶æ€ç æœ‰å“ªäº›" class="headerlink" title="http å¸¸è§çŠ¶æ€ç æœ‰å“ªäº›"></a>http å¸¸è§çŠ¶æ€ç æœ‰å“ªäº›</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">1XXï¼šä¿¡æ¯çŠ¶æ€ç -è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†ã€‚</span><br><span class="line">100 Continueï¼šå®¢æˆ·ç«¯åº”å½“ç»§ç»­å‘é€è¯·æ±‚ã€‚</span><br><span class="line">è¿™ä¸ªä¸´æ—¶å“åº”æ˜¯ç”¨æ¥é€šçŸ¥å®¢æˆ·ç«¯å®ƒçš„éƒ¨åˆ†è¯·æ±‚</span><br><span class="line">å·²ç»è¢«æœåŠ¡å™¨æ¥æ”¶ï¼Œä¸”ä»æœªè¢«æ‹’ç»ã€‚</span><br><span class="line">101 Switching Protocolsï¼š</span><br><span class="line">æœåŠ¡å™¨å·²ç»ç†è§£åŠ›å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œ</span><br><span class="line">å¹¶å°†é€šè¿‡Upgradeæ¶ˆæ¯å¤´é€šçŸ¥å®¢æˆ·ç«¯</span><br><span class="line">é‡‡ç”¨ä¸åŒçš„åè®®æ¥å®Œæˆè¿™ä¸ªè¯·æ±‚ã€‚</span><br><span class="line">åœ¨å‘é€å®Œè¿™ä¸ªå“åº”æœ€åçš„ç©ºè¡Œåï¼Œ</span><br><span class="line">æœåŠ¡å™¨å°†ä¼šåˆ‡æ¢åˆ°Upgradeæ¶ˆæ¯å¤´ä¸­</span><br><span class="line">å®šä¹‰çš„é‚£äº›åè®®ã€‚</span><br><span class="line"></span><br><span class="line">ä¸€: 2å¼€å¤´çŠ¶æ€ç </span><br><span class="line">2xx (æˆåŠŸ)è¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ä»£ç </span><br><span class="line">200 (æˆåŠŸ) æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚</span><br><span class="line"></span><br><span class="line">200  from cacheï¼š è¡¨ç¤ºè¯¥èµ„æºå·²ç»è¢«ç¼“å­˜è¿‡ï¼Œ</span><br><span class="line">å¹¶ä¸”åœ¨æœ‰æ•ˆæœŸå†…ï¼Œæ‰€ä»¥ä¸å†å‘æµè§ˆå™¨å‘å‡ºè¯·æ±‚ï¼Œ</span><br><span class="line">ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚</span><br><span class="line"></span><br><span class="line">201 Createdï¼š</span><br><span class="line">202 Acceptedï¼š</span><br><span class="line">203 Non-Authoritative Informationï¼š</span><br><span class="line">204 No Contentï¼š</span><br><span class="line">205 Reset Contentï¼š</span><br><span class="line">206 Partial Contentï¼š</span><br><span class="line">äºŒ: 3å¼€å¤´çŠ¶æ€ç </span><br><span class="line">3xx (é‡å®šå‘) è¡¨ç¤ºè¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚ é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ä»£ç ç”¨æ¥é‡å®šå‘ã€‚</span><br><span class="line">304 (æœªä¿®æ”¹) è‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚ æœåŠ¡å™¨è¿”å›æ­¤å“åº”æ—¶ï¼Œä¸ä¼šè¿”å›ç½‘é¡µå†…å®¹ã€‚</span><br><span class="line"></span><br><span class="line">300 Multiple Choicesï¼š</span><br><span class="line">301 Moved Permanentlyï¼šæ°¸ä¹…æ€§è½¬ç§»(Permanently Moved),</span><br><span class="line">302 Foundï¼šé‡å®šå‘è¡¨ç¤ºä¸´æ—¶æ€§è½¬ç§»(Temporarily Moved )ï¼Œ</span><br><span class="line">    å½“ä¸€ä¸ªç½‘é¡µURLéœ€è¦çŸ­æœŸå˜åŒ–æ—¶ä½¿ç”¨ã€‚</span><br><span class="line">303 See Otherï¼š</span><br><span class="line">304 Not Modifiedï¼š</span><br><span class="line">    è¡¨ç¤ºæµè§ˆå™¨è™½ç„¶å‘ç°äº†æœ¬åœ°æœ‰è¯¥èµ„æºçš„ç¼“å­˜ï¼Œä½†æ˜¯ä¸ç¡®å®šæ˜¯å¦æ˜¯æœ€æ–°çš„ï¼Œ</span><br><span class="line">    äºæ˜¯å‘æœåŠ¡å™¨è¯¢é—®ï¼Œè‹¥æœåŠ¡å™¨è®¤ä¸ºæµè§ˆå™¨çš„ç¼“å­˜ç‰ˆæœ¬è¿˜å¯ç”¨ï¼ˆå³è¿˜æœªæ›´æ–°ï¼‰ï¼Œ</span><br><span class="line">    é‚£ä¹ˆä¾¿ä¼šè¿”å›304ï¼Œç»§ç»­ä½¿ç”¨æœ¬åœ°çš„ç¼“å­˜ã€‚</span><br><span class="line">305 Use Proxyï¼š</span><br><span class="line">306 ï¼ˆunusedï¼‰ï¼š</span><br><span class="line">307 Temporary Redirectï¼š</span><br><span class="line"></span><br><span class="line">301é‡å®šå‘ä¸302é‡å®šå‘çš„åŒºåˆ«   301é‡å®šå‘æ˜¯æ°¸ä¹…çš„é‡å®šå‘ï¼Œæœç´¢å¼•æ“åœ¨æŠ“å–æ–°å†…å®¹çš„åŒæ—¶ä¹Ÿå°†æ—§çš„ç½‘å€æ›¿æ¢ä¸ºé‡å®šå‘ä¹‹åçš„ç½‘å€ã€‚   302é‡å®šå‘æ˜¯ä¸´æ—¶çš„é‡å®šå‘ï¼Œæœç´¢å¼•æ“ä¼šæŠ“å–æ–°çš„å†…å®¹è€Œä¿ç•™æ—§çš„ç½‘å€ã€‚å› ä¸ºæœåŠ¡å™¨è¿”å›302ä»£ç ï¼Œæœç´¢å¼•æ“è®¤ä¸ºæ–°çš„ç½‘å€åªæ˜¯æš‚æ—¶çš„ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä¸‰: 4å¼€å¤´çŠ¶æ€ç </span><br><span class="line">4xx(è¯·æ±‚é”™è¯¯) å®¢æˆ·ç«¯é”™è¯¯--è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•å®ç°ã€‚</span><br><span class="line">1:400 (é”™è¯¯è¯·æ±‚) æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚</span><br><span class="line"></span><br><span class="line">2:403 (ç¦æ­¢) æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ã€‚</span><br><span class="line"></span><br><span class="line">3:404 (æœªæ‰¾åˆ°) æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µã€‚</span><br><span class="line"></span><br><span class="line">400 Bad Request:å®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£</span><br><span class="line">401 Unauthorized:è¯·æ±‚æœªç»æˆæƒï¼Œ</span><br><span class="line">    è¿™ä¸ªçŠ¶æ€ä»£ç å¿…é¡»å’ŒWWW-AuthenticateæŠ¥å¤´åŸŸä¸€èµ·ä½¿ç”¨ã€‚</span><br><span class="line">402 Payment Required:</span><br><span class="line">403 Forbidden:æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡ã€‚</span><br><span class="line">404 Not Found:è¯·æ±‚èµ„æºä¸å­˜åœ¨</span><br><span class="line">405 Method Not Allowed:</span><br><span class="line">406 Not Acceptable:</span><br><span class="line">407 Proxy Authentication Required:</span><br><span class="line">408 Request Timeout:</span><br><span class="line">409 Conflict:</span><br><span class="line">410 Gone:</span><br><span class="line">411 Length Required:</span><br><span class="line">412 Precondition Failed:</span><br><span class="line">413 Request Entity Too Large:</span><br><span class="line">414 Request-URI Too Long:</span><br><span class="line">415 Unsupported Media Type:</span><br><span class="line">416 Requested Range Not Satisfiable:</span><br><span class="line">417 Expectation Failed:</span><br><span class="line">å››: 5å¼€å¤´çŠ¶æ€ç </span><br><span class="line">5xxæœåŠ¡å™¨ç«¯é”™è¯¯--æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚ã€‚</span><br><span class="line">500 (æœåŠ¡å™¨å†…éƒ¨é”™è¯¯) æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚</span><br><span class="line"></span><br><span class="line">501 (å°šæœªå®æ–½) æœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚ ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚æ–¹æ³•æ—¶å¯èƒ½ä¼šè¿”å›æ­¤ä»£ç ã€‚</span><br><span class="line"></span><br><span class="line">502 (é”™è¯¯ç½‘å…³) æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”ã€‚</span><br><span class="line"></span><br><span class="line">503 (æœåŠ¡ä¸å¯ç”¨) æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨(ç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤)ã€‚ é€šå¸¸ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€ã€‚</span><br><span class="line"></span><br><span class="line">504 (ç½‘å…³è¶…æ—¶) æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ã€‚</span><br><span class="line"></span><br><span class="line">505 (HTTP ç‰ˆæœ¬ä¸å—æ”¯æŒ) æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚</span><br></pre></td></tr></table></figure><p>åå››ã€http çš„çŠ¶æ€å“åº”ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">1**(ä¿¡æ¯ç±»)ï¼šè¡¨ç¤ºæ¥æ”¶åˆ°è¯·æ±‚å¹¶ä¸”ç»§ç»­å¤„ç†</span><br><span class="line">100â€”â€”å®¢æˆ·å¿…é¡»ç»§ç»­å‘å‡ºè¯·æ±‚</span><br><span class="line">101â€”â€”å®¢æˆ·è¦æ±‚æœåŠ¡å™¨æ ¹æ®è¯·æ±‚è½¬æ¢HTTPåè®®ç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">2**(å“åº”æˆåŠŸ)ï¼šè¡¨ç¤ºåŠ¨ä½œè¢«æˆåŠŸæ¥æ”¶ã€ç†è§£å’Œæ¥å—</span><br><span class="line">200â€”â€”è¡¨æ˜è¯¥è¯·æ±‚è¢«æˆåŠŸåœ°å®Œæˆï¼Œæ‰€è¯·æ±‚çš„èµ„æºå‘é€å›å®¢æˆ·ç«¯</span><br><span class="line">201â€”â€”æç¤ºçŸ¥é“æ–°æ–‡ä»¶çš„URL</span><br><span class="line">202â€”â€”æ¥å—å’Œå¤„ç†ã€ä½†å¤„ç†æœªå®Œæˆ</span><br><span class="line">203â€”â€”è¿”å›ä¿¡æ¯ä¸ç¡®å®šæˆ–ä¸å®Œæ•´</span><br><span class="line">204â€”â€”è¯·æ±‚æ”¶åˆ°ï¼Œä½†è¿”å›ä¿¡æ¯ä¸ºç©º</span><br><span class="line">205â€”â€”æœåŠ¡å™¨å®Œæˆäº†è¯·æ±‚ï¼Œç”¨æˆ·ä»£ç†å¿…é¡»å¤ä½å½“å‰å·²ç»æµè§ˆè¿‡çš„æ–‡ä»¶</span><br><span class="line">206â€”â€”æœåŠ¡å™¨å·²ç»å®Œæˆäº†éƒ¨åˆ†ç”¨æˆ·çš„GETè¯·æ±‚</span><br><span class="line"></span><br><span class="line">3**(é‡å®šå‘ç±»)ï¼šä¸ºäº†å®ŒæˆæŒ‡å®šçš„åŠ¨ä½œï¼Œå¿…é¡»æ¥å—è¿›ä¸€æ­¥å¤„ç†</span><br><span class="line">300â€”â€”è¯·æ±‚çš„èµ„æºå¯åœ¨å¤šå¤„å¾—åˆ°</span><br><span class="line">301â€”â€”æœ¬ç½‘é¡µè¢«æ°¸ä¹…æ€§è½¬ç§»åˆ°å¦ä¸€ä¸ªURL</span><br><span class="line">302â€”â€”è¯·æ±‚çš„ç½‘é¡µè¢«è½¬ç§»åˆ°ä¸€ä¸ªæ–°çš„åœ°å€ï¼Œä½†å®¢æˆ·è®¿é—®ä»ç»§ç»­é€šè¿‡åŸå§‹URLåœ°å€ï¼Œé‡å®šå‘ï¼Œæ–°çš„URLä¼šåœ¨responseä¸­çš„Locationä¸­è¿”å›ï¼Œæµè§ˆå™¨å°†ä¼šä½¿ç”¨æ–°çš„URLå‘å‡ºæ–°çš„Requestã€‚</span><br><span class="line">303â€”â€”å»ºè®®å®¢æˆ·è®¿é—®å…¶ä»–URLæˆ–è®¿é—®æ–¹å¼</span><br><span class="line">304â€”â€”è‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤å“åº”æ—¶ï¼Œä¸ä¼šè¿”å›ç½‘é¡µå†…å®¹ï¼Œä»£è¡¨ä¸Šæ¬¡çš„æ–‡æ¡£å·²ç»è¢«ç¼“å­˜äº†ï¼Œè¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨</span><br><span class="line">305â€”â€”è¯·æ±‚çš„èµ„æºå¿…é¡»ä»æœåŠ¡å™¨æŒ‡å®šçš„åœ°å€å¾—åˆ°</span><br><span class="line">306â€”â€”å‰ä¸€ç‰ˆæœ¬HTTPä¸­ä½¿ç”¨çš„ä»£ç ï¼Œç°è¡Œç‰ˆæœ¬ä¸­ä¸å†ä½¿ç”¨</span><br><span class="line">307â€”â€”ç”³æ˜è¯·æ±‚çš„èµ„æºä¸´æ—¶æ€§åˆ é™¤</span><br><span class="line"></span><br><span class="line">4**(å®¢æˆ·ç«¯é”™è¯¯ç±»)ï¼šè¯·æ±‚åŒ…å«é”™è¯¯è¯­æ³•æˆ–ä¸èƒ½æ­£ç¡®æ‰§è¡Œ</span><br><span class="line">400â€”â€”å®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£</span><br><span class="line">401â€”â€”è¯·æ±‚æœªç»æˆæƒï¼Œè¿™ä¸ªçŠ¶æ€ä»£ç å¿…é¡»å’ŒWWW-AuthenticateæŠ¥å¤´åŸŸä¸€èµ·ä½¿ç”¨</span><br><span class="line">HTTP 401.1 - æœªæˆæƒï¼šç™»å½•å¤±è´¥</span><br><span class="line">HTTP 401.2 - æœªæˆæƒï¼šæœåŠ¡å™¨é…ç½®é—®é¢˜å¯¼è‡´ç™»å½•å¤±è´¥</span><br><span class="line">HTTP 401.3 - ACL ç¦æ­¢è®¿é—®èµ„æº</span><br><span class="line">HTTP 401.4 - æœªæˆæƒï¼šæˆæƒè¢«ç­›é€‰å™¨æ‹’ç»</span><br><span class="line">HTTP 401.5 - æœªæˆæƒï¼šISAPI æˆ– CGI æˆæƒå¤±è´¥</span><br><span class="line">402â€”â€”ä¿ç•™æœ‰æ•ˆChargeToå¤´å“åº”</span><br><span class="line">403â€”â€”ç¦æ­¢è®¿é—®ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡</span><br><span class="line">HTTP 403.1 ç¦æ­¢è®¿é—®ï¼šç¦æ­¢å¯æ‰§è¡Œè®¿é—®</span><br><span class="line">HTTP 403.2 - ç¦æ­¢è®¿é—®ï¼šç¦æ­¢è¯»è®¿é—®</span><br><span class="line">HTTP 403.3 - ç¦æ­¢è®¿é—®ï¼šç¦æ­¢å†™è®¿é—®</span><br><span class="line">HTTP 403.4 - ç¦æ­¢è®¿é—®ï¼šè¦æ±‚ SSL</span><br><span class="line">HTTP 403.5 - ç¦æ­¢è®¿é—®ï¼šè¦æ±‚ SSL 128</span><br><span class="line">HTTP 403.6 - ç¦æ­¢è®¿é—®ï¼šIP åœ°å€è¢«æ‹’ç»</span><br><span class="line">HTTP 403.7 - ç¦æ­¢è®¿é—®ï¼šè¦æ±‚å®¢æˆ·è¯ä¹¦</span><br><span class="line">HTTP 403.8 - ç¦æ­¢è®¿é—®ï¼šç¦æ­¢ç«™ç‚¹è®¿é—®</span><br><span class="line">HTTP 403.9 - ç¦æ­¢è®¿é—®ï¼šè¿æ¥çš„ç”¨æˆ·è¿‡å¤š</span><br><span class="line">HTTP 403.10 - ç¦æ­¢è®¿é—®ï¼šé…ç½®æ— æ•ˆ</span><br><span class="line">HTTP 403.11 - ç¦æ­¢è®¿é—®ï¼šå¯†ç æ›´æ”¹</span><br><span class="line">HTTP 403.12 - ç¦æ­¢è®¿é—®ï¼šæ˜ å°„å™¨æ‹’ç»è®¿é—®</span><br><span class="line">HTTP 403.13 - ç¦æ­¢è®¿é—®ï¼šå®¢æˆ·è¯ä¹¦å·²è¢«åŠé”€</span><br><span class="line">HTTP 403.15 - ç¦æ­¢è®¿é—®ï¼šå®¢æˆ·è®¿é—®è®¸å¯è¿‡å¤š</span><br><span class="line">HTTP 403.16 - ç¦æ­¢è®¿é—®ï¼šå®¢æˆ·è¯ä¹¦ä¸å¯ä¿¡æˆ–è€…æ— æ•ˆ</span><br><span class="line">HTTP 403.17 - ç¦æ­¢è®¿é—®ï¼šå®¢æˆ·è¯ä¹¦å·²ç»åˆ°æœŸæˆ–è€…å°šæœªç”Ÿæ•ˆ</span><br><span class="line">404â€”â€”ä¸€ä¸ª404é”™è¯¯è¡¨æ˜å¯è¿æ¥æœåŠ¡å™¨ï¼Œä½†æœåŠ¡å™¨æ— æ³•å–å¾—æ‰€è¯·æ±‚çš„ç½‘é¡µï¼Œè¯·æ±‚èµ„æºä¸å­˜åœ¨ã€‚egï¼šè¾“å…¥äº†é”™è¯¯çš„URL</span><br><span class="line">405â€”â€”ç”¨æˆ·åœ¨Request-Lineå­—æ®µå®šä¹‰çš„æ–¹æ³•ä¸å…è®¸</span><br><span class="line">406â€”â€”æ ¹æ®ç”¨æˆ·å‘é€çš„Acceptæ‹–ï¼Œè¯·æ±‚èµ„æºä¸å¯è®¿é—®</span><br><span class="line">407â€”â€”ç±»ä¼¼401ï¼Œç”¨æˆ·å¿…é¡»é¦–å…ˆåœ¨ä»£ç†æœåŠ¡å™¨ä¸Šå¾—åˆ°æˆæƒ</span><br><span class="line">408â€”â€”å®¢æˆ·ç«¯æ²¡æœ‰åœ¨ç”¨æˆ·æŒ‡å®šçš„é¥¿æ—¶é—´å†…å®Œæˆè¯·æ±‚</span><br><span class="line">409â€”â€”å¯¹å½“å‰èµ„æºçŠ¶æ€ï¼Œè¯·æ±‚ä¸èƒ½å®Œæˆ</span><br><span class="line">410â€”â€”æœåŠ¡å™¨ä¸Šä¸å†æœ‰æ­¤èµ„æºä¸”æ— è¿›ä¸€æ­¥çš„å‚è€ƒåœ°å€</span><br><span class="line">411â€”â€”æœåŠ¡å™¨æ‹’ç»ç”¨æˆ·å®šä¹‰çš„Content-Lengthå±æ€§è¯·æ±‚</span><br><span class="line">412â€”â€”ä¸€ä¸ªæˆ–å¤šä¸ªè¯·æ±‚å¤´å­—æ®µåœ¨å½“å‰è¯·æ±‚ä¸­é”™è¯¯</span><br><span class="line">413â€”â€”è¯·æ±‚çš„èµ„æºå¤§äºæœåŠ¡å™¨å…è®¸çš„å¤§å°</span><br><span class="line">414â€”â€”è¯·æ±‚çš„èµ„æºURLé•¿äºæœåŠ¡å™¨å…è®¸çš„é•¿åº¦</span><br><span class="line">415â€”â€”è¯·æ±‚èµ„æºä¸æ”¯æŒè¯·æ±‚é¡¹ç›®æ ¼å¼</span><br><span class="line">416â€”â€”è¯·æ±‚ä¸­åŒ…å«Rangeè¯·æ±‚å¤´å­—æ®µï¼Œåœ¨å½“å‰è¯·æ±‚èµ„æºèŒƒå›´å†…æ²¡æœ‰rangeæŒ‡ç¤ºå€¼ï¼Œè¯·æ±‚ä¹Ÿä¸åŒ…å«If-Rangeè¯·æ±‚å¤´å­—æ®µ</span><br><span class="line">417â€”â€”æœåŠ¡å™¨ä¸æ»¡è¶³è¯·æ±‚Expectå¤´å­—æ®µæŒ‡å®šçš„æœŸæœ›å€¼ï¼Œå¦‚æœæ˜¯ä»£ç†æœåŠ¡å™¨ï¼Œå¯èƒ½æ˜¯ä¸‹ä¸€çº§æœåŠ¡å™¨ä¸èƒ½æ»¡è¶³è¯·æ±‚é•¿ã€‚</span><br><span class="line"></span><br><span class="line">5**(æœåŠ¡ç«¯é”™è¯¯ç±»)ï¼šæœåŠ¡å™¨ä¸èƒ½æ­£ç¡®æ‰§è¡Œä¸€ä¸ªæ­£ç¡®çš„è¯·æ±‚HTTP</span><br><span class="line">500 - æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚</span><br><span class="line">HTTP 500.100 - å†…éƒ¨æœåŠ¡å™¨é”™è¯¯ - ASP é”™è¯¯</span><br><span class="line">HTTP 500-11 æœåŠ¡å™¨å…³é—­</span><br><span class="line">HTTP 500-12 åº”ç”¨ç¨‹åºé‡æ–°å¯åŠ¨</span><br><span class="line">HTTP 500-13 - æœåŠ¡å™¨å¤ªå¿™</span><br><span class="line">HTTP 500-14 - åº”ç”¨ç¨‹åºæ— æ•ˆ</span><br><span class="line">HTTP 500-15 - ä¸å…è®¸è¯·æ±‚ global.asa Error</span><br><span class="line">501 - æœªå®ç°HTTP</span><br><span class="line">502 - ç½‘å…³é”™è¯¯HTTP</span><br><span class="line">503ï¼šç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼ŒæœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼Œä¸€æ®µæ—¶é—´åå¯èƒ½æ¢å¤æ­£å¸¸</span><br></pre></td></tr></table></figure><h2 id="HTML5-ç¦»çº¿ç¼“å­˜"><a href="#HTML5-ç¦»çº¿ç¼“å­˜" class="headerlink" title="HTML5 ç¦»çº¿ç¼“å­˜"></a>HTML5 ç¦»çº¿ç¼“å­˜</h2><p>å…¸å‹çš„ manifest æ–‡ä»¶ä»£ç ç»“æ„:</p><p>åŸºæœ¬æ ¼å¼ä¸ºä¸‰æ®µï¼š</p><p>CACHEï¼Œ<br>NETWORKï¼Œ<br>FALLBACKï¼Œ</p><p>CACHE:ï¼ˆå¿…é¡»ï¼‰æ ‡è¯†å‡ºå“ªäº›æ–‡ä»¶éœ€è¦ç¼“å­˜ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚</p><p>NETWORK:ï¼ˆå¯é€‰ï¼‰è¿™ä¸€éƒ¨åˆ†æ˜¯è¦ç»•è¿‡ç¼“å­˜ç›´æ¥è¯»å–çš„æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Šã€‚</p><p>FALLBACK:ï¼ˆå¯é€‰ï¼‰æŒ‡å®šäº†ä¸€ä¸ªåå¤‡é¡µé¢ï¼Œå½“èµ„æºæ— æ³•è®¿é—®æ—¶ï¼Œæµè§ˆå™¨ä¼šä½¿ç”¨è¯¥é¡µé¢ã€‚è¯¥æ®µè½çš„æ¯æ¡è®°å½•éƒ½åˆ—å‡ºä¸¤ä¸ª URI</p><p>ç¬¬ä¸€ä¸ªè¡¨ç¤ºèµ„æºï¼Œ ç¬¬äºŒä¸ªè¡¨ç¤ºåå¤‡é¡µé¢ã€‚</p><h6 id="ä¸‰ç§æ–¹å¼ï¼Œå¯ä»¥æ›´æ–°ç¼“å­˜"><a href="#ä¸‰ç§æ–¹å¼ï¼Œå¯ä»¥æ›´æ–°ç¼“å­˜" class="headerlink" title="ä¸‰ç§æ–¹å¼ï¼Œå¯ä»¥æ›´æ–°ç¼“å­˜"></a>ä¸‰ç§æ–¹å¼ï¼Œå¯ä»¥æ›´æ–°ç¼“å­˜</h6><p>ä¸€ã€æ›´æ–° manifest æ–‡ä»¶ï¼šç»™ manifest æ·»åŠ æˆ–åˆ é™¤æ–‡ä»¶ï¼Œéƒ½å¯æ›´æ–°ç¼“å­˜ï¼Œå¦‚æœæˆ‘ä»¬æ›´æ”¹äº† jsï¼Œè€Œæ²¡æœ‰æ–°å¢æˆ–åˆ é™¤ï¼Œå‰é¢ä¾‹å­ä¸­æ³¨é‡Šä¸­çš„ç‰ˆæœ¬å·ã€æ—¶é—´æˆ³æˆ–è€… md5 ç ç­‰è¿›è¡Œä¿®æ”¹ï¼Œéƒ½å¯ä»¥å¾ˆå¥½çš„ç”¨æ¥æ›´æ–° manifest æ–‡ä»¶</p><p>äºŒã€é€šè¿‡ javascript æ“ä½œï¼šhtml5 ä¸­å¼•å…¥äº† js æ“ä½œç¦»çº¿ç¼“å­˜çš„æ–¹æ³•ï¼Œä¸‹é¢çš„ js å¯ä»¥æ‰‹åŠ¨æ›´æ–°æœ¬åœ°ç¼“å­˜ã€‚</p><p>window.applicationCache.update();<br>ä¸‰ã€æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼šå¦‚æœç”¨æˆ·æ¸…é™¤äº†æµè§ˆå™¨ç¼“å­˜ï¼ˆæ‰‹åŠ¨æˆ–ç”¨å…¶ä»–ä¸€äº›å·¥å…·ï¼‰éƒ½ä¼šé‡æ–°ä¸‹è½½æ–‡ä»¶ã€‚</p><h5 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h5><p>1ã€æµè§ˆå™¨å¯¹ç¼“å­˜æ•°æ®çš„å®¹é‡é™åˆ¶å¯èƒ½ä¸å¤ªä¸€æ ·ï¼ˆæŸäº›æµè§ˆå™¨è®¾ç½®çš„é™åˆ¶æ˜¯æ¯ä¸ªç«™ç‚¹ 5MBï¼‰ã€‚</p><p>2ã€å¦‚æœ manifest æ–‡ä»¶ï¼Œæˆ–è€…å†…éƒ¨åˆ—ä¸¾çš„æŸä¸€ä¸ªæ–‡ä»¶ä¸èƒ½æ­£å¸¸ä¸‹è½½ï¼Œæ•´ä¸ªæ›´æ–°è¿‡ç¨‹éƒ½å°†å¤±è´¥ï¼Œæµè§ˆå™¨ç»§ç»­å…¨éƒ¨ä½¿ç”¨è€çš„ç¼“å­˜ã€‚</p><p>3ã€å¼•ç”¨ manifest çš„ html å¿…é¡»ä¸ manifest æ–‡ä»¶åŒæºï¼Œåœ¨åŒä¸€ä¸ªåŸŸä¸‹ã€‚</p><p>4ã€FALLBACK ä¸­çš„èµ„æºå¿…é¡»å’Œ manifest æ–‡ä»¶åŒæºã€‚</p><p>5ã€å½“ä¸€ä¸ªèµ„æºè¢«ç¼“å­˜åï¼Œè¯¥æµè§ˆå™¨ç›´æ¥è¯·æ±‚è¿™ä¸ªç»å¯¹è·¯å¾„ä¹Ÿä¼šè®¿é—®ç¼“å­˜ä¸­çš„èµ„æºã€‚</p><p>6ã€ç«™ç‚¹ä¸­çš„å…¶ä»–é¡µé¢å³ä½¿æ²¡æœ‰è®¾ç½® manifest å±æ€§ï¼Œè¯·æ±‚çš„èµ„æºå¦‚æœåœ¨ç¼“å­˜ä¸­ä¹Ÿä»ç¼“å­˜ä¸­è®¿é—®ã€‚</p><p>7ã€å½“ manifest æ–‡ä»¶å‘ç”Ÿæ”¹å˜æ—¶ï¼Œèµ„æºè¯·æ±‚æœ¬èº«ä¹Ÿä¼šè§¦å‘æ›´æ–°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">CACHE MANIFEST</span><br><span class="line">#version 1.2.2</span><br><span class="line"></span><br><span class="line">CACHE:</span><br><span class="line">#css</span><br><span class="line">http:&#x2F;&#x2F;www.haorooms.com&#x2F;theme&#x2F;assets&#x2F;style.css</span><br><span class="line">#js</span><br><span class="line">http:&#x2F;&#x2F;www.haorooms.com&#x2F;theme&#x2F;assets&#x2F;js&#x2F;main.js</span><br><span class="line"></span><br><span class="line">#img</span><br><span class="line">http:&#x2F;&#x2F;static.hyb.dev.ipo.com&#x2F;css&#x2F;wifi&#x2F;pc&#x2F;images&#x2F;logo-fk1.png</span><br><span class="line">http:&#x2F;&#x2F;static.hyb.dev.ipo.com&#x2F;css&#x2F;wifi&#x2F;images&#x2F;favicon.ico</span><br><span class="line"></span><br><span class="line">NETWORK:  </span><br><span class="line">*</span><br><span class="line">FALLBACK:</span><br><span class="line"> &#x2F;404.html</span><br></pre></td></tr></table></figure><h2 id="Service-Worker-ä¸ç¼“å­˜åŠç¦»çº¿ç¼“å­˜"><a href="#Service-Worker-ä¸ç¼“å­˜åŠç¦»çº¿ç¼“å­˜" class="headerlink" title="Service Worker ä¸ç¼“å­˜åŠç¦»çº¿ç¼“å­˜"></a>Service Worker ä¸ç¼“å­˜åŠç¦»çº¿ç¼“å­˜</h2><p>ç½‘ç»œè¯·æ±‚é¦–å…ˆåˆ°è¾¾çš„æ˜¯ SW è„šæœ¬ä¸­ï¼Œå¦‚æœæœªå‘½ä¸­å†è½¬å‘ç»™ HTTP ç¼“å­˜ã€‚</p><p>ç½‘ç»œè¯·æ±‚é¦–å…ˆåˆ°è¾¾çš„æ˜¯ SW è„šæœ¬ä¸­ï¼Œå¦‚æœæœªå‘½ä¸­å†è½¬å‘ç»™ HTTP ç¼“å­˜ã€‚</p><p>ä¸€ä¸ªæ ‡é…ç‰ˆçš„ sw ç¼“å­˜å·¥ä»£ä»£ç åº”è¯¥æœ‰ä»¥ä¸‹çš„ç‰‡æ®µï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">const version &#x3D; &#39;2&#39;;</span><br><span class="line"></span><br><span class="line">self.addEventListener(&#39;install&#39;, event &#x3D;&gt; &#123;</span><br><span class="line">  event.waitUntil(</span><br><span class="line">    caches.open(&#96;static-$&#123;version&#125;&#96;)</span><br><span class="line">      .then(cache &#x3D;&gt; cache.addAll([</span><br><span class="line">        &#39;&#x2F;styles.css&#39;,</span><br><span class="line">        &#39;&#x2F;script.js&#39;</span><br><span class="line">      ]))</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">self.addEventListener(&#39;fetch&#39;, event &#x3D;&gt; &#123;</span><br><span class="line">  event.respondWith(</span><br><span class="line">    caches.match(event.request)</span><br><span class="line">      .then(response &#x3D;&gt; response || fetch(event.request))</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åœ¨ SW çš„ install é˜¶æ®µæˆ‘ä»¬å°† script.js å’Œ styles.css æ”¾å…¥ç¼“å­˜ä¸­ï¼›è€Œåœ¨è¯·æ±‚å‘èµ·çš„ fetch é˜¶æ®µï¼Œé€šè¿‡èµ„æºçš„ URL å»ç¼“å­˜å†…æŸ¥æ‰¾åŒ¹é…ï¼ŒæˆåŠŸåç«‹åˆ»è¿”å›ï¼Œå¦åˆ™èµ°æ­£å¸¸çš„ç½‘ç»œè¯·æ±‚æµç¨‹ã€‚</p><h2 id="PageCache-ä¸-Ajax-å¯ç¼“å­˜"><a href="#PageCache-ä¸-Ajax-å¯ç¼“å­˜" class="headerlink" title="PageCache ä¸ Ajax å¯ç¼“å­˜"></a>PageCache ä¸ Ajax å¯ç¼“å­˜</h2><p>PageCache å…¶å®æ˜¯ facebook æå‡ºçš„ï¼Œè§£å†³ ajax ç¼“å­˜çš„ä¸€ç§æ–¹æ¡ˆï¼ç®€å•çš„è¯´ï¼Œå°±æ˜¯å°†è®¿é—®è¿‡çš„é¡µé¢ç¼“å­˜åœ¨å®¢æˆ·ç«¯ã€‚</p><p>æ›´æ–°æ€è·¯ï¼š</p><p>1ã€å¢é‡æ›´æ–°ï¼šåªè¦é¡µé¢æ¥è‡ªäºç¼“å­˜ï¼Œå³æ›´æ–°æ‰€æœ‰é¢„å®šä¹‰çš„éœ€å¢é‡æ›´æ–°çš„æ¨¡å—ã€‚</p><p>2ã€ç”¨æˆ·å¤å†™ï¼šé€šè¿‡ HistoryManager è®°å½•ç”¨æˆ·æ“ä½œå¹¶åœ¨ cache é¡µé¢è¯»å–åé‡æ”¾æ‰€æœ‰è¢«æ ‡è®°ä¸ºâ€œreplayableâ€çš„æ“ä½œã€‚</p><p>3ã€è·¨é¡µæ›´æ–°ï¼šé€šè¿‡æœåŠ¡ç«¯ Database API å‘é€ä¿¡å·è‡³å®¢æˆ·ç«¯å°†è¿‡æœŸç¼“å­˜æ ‡è¯†ä¸º invalidï¼ˆä¸æ¸…æ¥šå¦‚ä½•å®ç°ã€‚ä¹Ÿè®¸æ˜¯ DB ç«¯æä¾›ä¸€ä¸ªå¼€æ”¾çš„ webserviceï¼Œå®¢æˆ·ç«¯é€šè¿‡ Ajax æŒç»­è®¿é—®æ­¤ API æ¥è·å¾—æ­¤ä¿¡æ¯ï¼‰ã€‚è·å¾—äº†ç¼“å­˜è¿‡æœŸä¿¡å·åï¼Œé€šè¿‡ Ajax æ›´æ–°éœ€è¦æ›´æ–°çš„ä¿¡æ¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> http </category>
          
          <category> ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>test</title>
      <link href="posts/test/"/>
      <url>posts/test/</url>
      
        <content type="html"><![CDATA[<p>Welcome test page.<br>post to github.<br>commit new line.<br>add new line for git test.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºHexoåšå®¢ç¬”è®°</title>
      <link href="posts/hexo%E7%AC%94%E8%AE%B0/"/>
      <url>posts/hexo%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h2 id="hexo-æ­å»º"><a href="#hexo-æ­å»º" class="headerlink" title="hexo æ­å»º"></a>hexo æ­å»º</h2><ol><li><a href="https://hexo.io/zh-cn/docs/">HEXO å®˜ç½‘</a></li><li><a href="https://hexo.io/zh-cn/docs/">æ–‡æ¡£</a></li></ol><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><ol><li>node.js git å·²ç»å®‰è£…ï¼Œè·³è¿‡</li><li>hexo å®‰è£…</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><!-- more  --><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ä¸èƒ½åœ¨æ–‡ç« ä¸­æœ‰&#123;&#123;&#125;&#125;,å¦åˆ™hexoæ— æ³•è§è§£æï¼Œä¼šæŠ¥é”™</span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>è®¿é—® localhost:4000 å³å¯çœ‹åˆ°ç½‘é¡µ</p><p>åœ¨ sources/posts æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª test.md æ–‡ä»¶ï¼Œå†æ¬¡è®¿é—®é¡µé¢ï¼Œå¯çœ‹åˆ°æ–°åŠ çš„æ–‡ç« ã€‚</p><a id="more"></a><h2 id="å®‰è£…-hexo-admin"><a href="#å®‰è£…-hexo-admin" class="headerlink" title="å®‰è£… hexo-admin"></a>å®‰è£… hexo-admin</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-admin</span><br><span class="line">hexo server -d</span><br><span class="line">open http://localhost:4000/admin</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-next-ä¸»é¢˜"><a href="#å®‰è£…-next-ä¸»é¢˜" class="headerlink" title="å®‰è£… next ä¸»é¢˜"></a>å®‰è£… next ä¸»é¢˜</h2><p><a href="https://github.com/Ailln/awesome-hexo-theme">å¥½çš„ä¸»é¢˜æ¨è</a><br><a href="https://hexo.voxel.site/">é“¾æ¥</a></p><p>nextä¸»é¢˜ä¸åœ¨ç»´æŠ¤~~ï¼Œä¸æ¨èä½¿ç”¨</p><ol><li><p>åœ¨æ ¹ç›®å½•è¿è¡Œ</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><p> ä¼šåœ¨ themes ç›®å½•ä¸‹åˆ›å»º next æ–‡ä»¶å¤¹</p><p> (éœ€è¿è¡Œå¤šæ¬¡æ‰èƒ½é¡ºåˆ©ä¸‹è½½)</p></li><li><p>åœ¨æ ¹ç›®å½•çš„_config.yml é‡Œé…ç½® themes: next</p></li></ol><h2 id="å‘å¸ƒåˆ°-github"><a href="#å‘å¸ƒåˆ°-github" class="headerlink" title="å‘å¸ƒåˆ° github"></a>å‘å¸ƒåˆ° github</h2><p>éœ€å…ˆå®‰è£…æ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>åœ¨æ ¹ç›®å½•_config.yml é‡Œé…ç½® deployã€‚<br><strong>æ ¹æ® github é…ç½®æç¤ºï¼Œbranch åªèƒ½æ˜¯ masterï¼Œå…¶ä»–åˆ†æ”¯ä¸ç”Ÿæ•ˆ(å®æµ‹)ã€‚</strong><br><strong>repo é¡¹ç›®åä¸€å®šè¦æ˜¯ç”¨æˆ·å.github.io</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:believezjp/believezjp.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆè¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo d -g</span><br></pre></td></tr></table></figure><p>å‘å¸ƒå‡ºå»ã€‚<br>è®¿é—® believezjp.github.ioï¼Œå³å¯çœ‹åˆ°ä¸»é¡µã€‚</p><p>å¦‚æœæ²¡æœ‰æƒé™ï¼Œéœ€è¦å°†æœ¬åœ°çš„ id_rsa.pub é‡Œçš„ key åŠ åˆ° github çš„ SSH key ä¸­<br>æŸ¥çœ‹æœ¬åœ°çš„ key</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less  ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><p>githubSSH keys åœ°å€<a href="https://github.com/settings/ssh">å¿«æ·åœ°å€</a>, æ·»åŠ  SSH key å€¼</p><h2 id="æ‰“èµè®¾ç½®"><a href="#æ‰“èµè®¾ç½®" class="headerlink" title="æ‰“èµè®¾ç½®"></a>æ‰“èµè®¾ç½®</h2><p>å°†äºŒç»´ç å›¾ç‰‡æ”¾åˆ°ä¸»é¢˜ source/images ä¸‹é¢<br>æ‰“å¼€ä¸»é¢˜ç›®å½•ä¸‹é¢çš„é…ç½®æ–‡ä»¶_config.yml<br>è¿™é‡Œçš„é…ç½®é¡¹å¯èƒ½æ¯ä¸ªä¸»é¢˜ä¸ä¸€æ ·ã€‚<br>æ ¹æ®æ¯ä¸ªä¸»é¢˜è‡ªå·±é…ç½®ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æ‰“èµæ–‡å­—æç¤º</span></span><br><span class="line">reward_comment: <span class="string">&#x27;æ‰«ç é€ç¤¼, èµ°èµ·~~~&#x27;</span></span><br><span class="line"><span class="comment">## å¾®ä¿¡æ”¶æ¬¾å›¾ç‰‡</span></span><br><span class="line">wechatpay: /images/wechatpay.jpeg</span><br><span class="line"><span class="comment">## æ”¯ä»˜å®æ”¶æ¬¾å›¾ç‰‡</span></span><br><span class="line">alipay: /images/alipay.jpeg</span><br><span class="line"><span class="comment">## æ¯”ç‰¹å¸æ”¶æ¬¾</span></span><br><span class="line"><span class="comment">#bitcoin: /images/bitcoin.png</span></span><br></pre></td></tr></table></figure><h2 id="æ–°å»ºæ–‡ç« "><a href="#æ–°å»ºæ–‡ç« " class="headerlink" title="æ–°å»ºæ–‡ç« "></a>æ–°å»ºæ–‡ç« </h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;æ ‡é¢˜&quot;</span></span><br></pre></td></tr></table></figure><p>åœ¨ _posts ç›®å½•ä¸‹ä¼šç”Ÿæˆæ–‡ä»¶æ ‡é¢˜.md, å¦‚ä¸‹:</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">title: &#x27;æ ‡é¢˜&#x27;</span><br><span class="line">date: 2018-11-04 10:17:16 #å‘è¡¨æ—¥æœŸï¼Œä¸€èˆ¬ä¸æ”¹åŠ¨</span><br><span class="line">categories: hexo #æ–‡ç« æ–‡ç±»</span><br><span class="line">tags: [hexo,github] #æ–‡ç« æ ‡ç­¾ï¼Œå¤šäºä¸€é¡¹æ—¶ç”¨è¿™ç§æ ¼å¼</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">æ­£æ–‡ï¼Œä½¿ç”¨Markdownè¯­æ³•ä¹¦å†™</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘å®Œåä¿å­˜ï¼Œhexo serverï¼Œæµè§ˆå™¨è¾“å…¥ localhost:4000 é¢„è§ˆ</p><h2 id="æ·»åŠ é˜…è¯»å…¨æ–‡éš”æ–­"><a href="#æ·»åŠ é˜…è¯»å…¨æ–‡éš”æ–­" class="headerlink" title="æ·»åŠ é˜…è¯»å…¨æ–‡éš”æ–­"></a>æ·»åŠ é˜…è¯»å…¨æ–‡éš”æ–­</h2><p>é»˜è®¤æ–‡ç« åˆ—è¡¨é¡µæ˜¯å…¨éƒ¨å±•ç¤º, åªå±•ç¤ºéƒ¨åˆ†çš„è¯ï¼Œå¯ä»¥åœ¨æ–‡ç« ä¸­åŠ å…¥</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- more --&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¼šè‡ªåŠ¨éš”æ–­ï¼Œæ·»åŠ é˜…è¯»å…¨æ–‡æŒ‰é’®ã€‚(æ³¨æ„, æ˜¯åœ¨æ–‡ç« åˆ—è¡¨é¡µæœ‰é˜…è¯»å…¨æ–‡æŒ‰é’®)</p><h2 id="å±•ç¤ºæ‘˜è¦"><a href="#å±•ç¤ºæ‘˜è¦" class="headerlink" title="å±•ç¤ºæ‘˜è¦"></a>å±•ç¤ºæ‘˜è¦</h2><h2 id="å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿"><a href="#å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿" class="headerlink" title="å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿"></a>å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿</h2><ol><li>å®‰è£… hexo-wordcount</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶é…ç½®<br>åœ¨æ ¹ç›®å½•çš„_config.yml ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®(æ³¨æ„æ ¼å¼ä¸€å®šè¦å‡†ç¡®æ— è¯¯):</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">symbols<span class="emphasis">_count_</span>time:</span><br><span class="line">  symbols: true</span><br><span class="line">  time: true</span><br><span class="line">  total<span class="emphasis">_symbols: true</span></span><br><span class="line"><span class="emphasis">  total_</span>time: true</span><br></pre></td></tr></table></figure><p>åœ¨ next ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­æŸ¥çœ‹å¦‚ä¸‹é…ç½®æ˜¯å¦å¯ç”¨</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">symbols<span class="emphasis">_count_</span>time:</span><br><span class="line">  separated<span class="emphasis">_meta: true</span></span><br><span class="line"><span class="emphasis">  item_</span>text<span class="emphasis">_post: true</span></span><br><span class="line"><span class="emphasis">  item_</span>text<span class="emphasis">_total: false</span></span><br><span class="line"><span class="emphasis">  awl: 4</span></span><br><span class="line"><span class="emphasis">  wpm: 275</span></span><br></pre></td></tr></table></figure><p>é‡å¯æœåŠ¡, åˆ·æ–°é¡µé¢, å¯ä»¥çœ‹åˆ°æ•ˆæœã€‚<br>è¿™ä¸ªåªé’ˆå¯¹æ–‡ç« è¯¦æƒ…é¡µæ‰ä¼šå±•ç¤ºã€‚åˆ—è¡¨é¡µä¸ä¼šå±•ç¤ºã€‚</p><h2 id="å±•ç¤ºæ€»è®¿é—®é‡"><a href="#å±•ç¤ºæ€»è®¿é—®é‡" class="headerlink" title="å±•ç¤ºæ€»è®¿é—®é‡"></a>å±•ç¤ºæ€»è®¿é—®é‡</h2><p><a href="http://busuanzi.ibruce.info/">ä¸è’œå­ - æç®€ç½‘é¡µè®¡æ•°å™¨</a></p><p>åœ¨ themes/next/layout/_partials/footer.swig ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script</span><br><span class="line">  async</span><br><span class="line">  src=&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_container_site_pv&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span>æœ¬ç«™æ€»è®¿é—®é‡<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_value_site_pv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>æ¬¡&lt;/span</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure><p>å³å¯åœ¨é¦–é¡µæœ«å°¾çœ‹åˆ°æ€»æ•°ï¼Œå› ä¸ºæœ¬åœ°æ˜¯ localhost:4000,æ‰€ä»¥æ•°é‡æœ‰è¯¯</p><h2 id="ä¿®æ”¹-footer-å†…å®¹"><a href="#ä¿®æ”¹-footer-å†…å®¹" class="headerlink" title="ä¿®æ”¹ footer å†…å®¹"></a>ä¿®æ”¹ footer å†…å®¹</h2><p>next ä¸»é¢˜é»˜è®¤ä¼šæœ‰ç”± next å¼ºåŠ›é©±åŠ¨ç­‰æ–‡å­—ã€‚ä¸å–œæ¬¢å¯ä»¥å»æ‰, é…ç½®æ–¹æ³•:<br>åœ¨ç›®å½• themes/next/_config.yml ä¸­æœ footer:, å°† copyright ä¸­çš„ powered, å¦‚ä¸‹é…ç½®ã€‚å³å¯å»æ‰ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">copyright:</span></span><br><span class="line"><span class="attr">powered:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">version:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">theme:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">version:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="ç½‘ç«™è¿è¡Œæ—¶é—´æ·»åŠ "><a href="#ç½‘ç«™è¿è¡Œæ—¶é—´æ·»åŠ " class="headerlink" title="ç½‘ç«™è¿è¡Œæ—¶é—´æ·»åŠ "></a>ç½‘ç«™è¿è¡Œæ—¶é—´æ·»åŠ </h3><p>æ ¹æ®ç›®å½• themes/next/layout/_partials/footer.swig, æ‰¾åˆ°é¡µè„šé…ç½®æ–‡ä»¶ã€‚<br>åœ¨æœ«å°¾æ·»åŠ </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;span id=<span class="string">&quot;timeDate&quot;</span>&gt;è½½å…¥å¤©æ•°...&lt;<span class="regexp">/span&gt;&lt;span id=&quot;times&quot;&gt;è½½å…¥æ—¶åˆ†ç§’...&lt;/</span>span&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">createtime</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> grt= <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&quot;02/14/2018 12:49:00&quot;</span>);<span class="comment">//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´</span></span><br><span class="line">        now.setTime(now.getTime()+<span class="number">250</span>);</span><br><span class="line">        days = (now - grt ) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>; dnum = <span class="built_in">Math</span>.floor(days);</span><br><span class="line">        hours = (now - grt ) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> - (<span class="number">24</span> * dnum); hnum = <span class="built_in">Math</span>.floor(hours);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">String</span>(hnum).length ==<span class="number">1</span> )&#123;hnum = <span class="string">&quot;0&quot;</span> + hnum;&#125; minutes = (now - grt ) / <span class="number">1000</span> /<span class="number">60</span> - (<span class="number">24</span> * <span class="number">60</span> * dnum) - (<span class="number">60</span> * hnum);</span><br><span class="line">        mnum = <span class="built_in">Math</span>.floor(minutes); <span class="keyword">if</span>(<span class="built_in">String</span>(mnum).length ==<span class="number">1</span> )&#123;mnum = <span class="string">&quot;0&quot;</span> + mnum;&#125;</span><br><span class="line">        seconds = (now - grt ) / <span class="number">1000</span> - (<span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * dnum) - (<span class="number">60</span> * <span class="number">60</span> * hnum) - (<span class="number">60</span> * mnum);</span><br><span class="line">        snum = <span class="built_in">Math</span>.round(seconds); <span class="keyword">if</span>(<span class="built_in">String</span>(snum).length ==<span class="number">1</span> )&#123;snum = <span class="string">&quot;0&quot;</span> + snum;&#125;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">&quot;timeDate&quot;</span>).innerHTML = <span class="string">&quot;æœ¬ç«™å·²å®‰å…¨è¿è¡Œ &quot;</span>+dnum+<span class="string">&quot; å¤© &quot;</span>;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">&quot;times&quot;</span>).innerHTML = hnum + <span class="string">&quot; å°æ—¶ &quot;</span> + mnum + <span class="string">&quot; åˆ† &quot;</span> + snum + <span class="string">&quot; ç§’&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="string">&quot;createtime()&quot;</span>,<span class="number">250</span>);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="leancloud-é˜…è¯»ç»Ÿè®¡åŠŸèƒ½"><a href="#leancloud-é˜…è¯»ç»Ÿè®¡åŠŸèƒ½" class="headerlink" title="leancloud é˜…è¯»ç»Ÿè®¡åŠŸèƒ½"></a>leancloud é˜…è¯»ç»Ÿè®¡åŠŸèƒ½</h2><ol><li><p><a href="https://leancloud.cn/dashboard/login.html#/signup">æ³¨å†Œ leancloud</a></p></li><li><p>ç™»å½•ååˆ›å»ºåº”ç”¨,ç‚¹å‡»è®¾ç½®-åº”ç”¨ key, æŸ¥çœ‹ app ID å’Œ app Key</p></li><li><p>åœ¨ next/_config.yml ä¸­æœç´¢<code>leancloud_visitors</code>é…ç½® ID å’Œ Key</p> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">leancloud_visitors:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">app_id:</span> <span class="comment">#&lt;app_id&gt;</span></span><br><span class="line">  <span class="attr">app_key:</span> <span class="comment">#&lt;app_key&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»º Class<br>åœ¨å·¦ä¾§ç‚¹å‡»å­˜å‚¨ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º Counter çš„ Class æ–‡ä»¶ï¼Œè¿™é‡Œçš„åç§°ä¸€å®šä¸º Counter ä¸èƒ½éšæ„å–ï¼ï¼ï¼<br>æƒé™è®¾ç½®è¦é€‰æ— é™åˆ¶, å¦åˆ™åœ¨ç¬¬äºŒæ¬¡è®¿é—®ä¼šæŠ¥é”™ã€‚<br>è®¾ç½®å®Œåï¼Œå›åˆ°æˆ‘çš„åšå®¢ï¼Œéšä¾¿ç‚¹å‡»ä¸€ç¯‡åšæ–‡ï¼Œåˆ·æ–°å‡ æ¬¡ å°±å¯ä»¥åœ¨ leancloudâ€“ã€‹å­˜å‚¨â€“ã€‹Counter çœ‹åˆ°æˆ‘ä»¬çš„æµè§ˆè®°å½•äº†ï¼Œåœ¨æˆ‘ä»¬çš„åšæ–‡å‰¯æ ‡é¢˜ä¹Ÿå¯ä»¥çœ‹åˆ°æµè§ˆè®°å½•ã€‚</p></li></ol><h2 id="hexo-æ–°å»ºç›®å½•ï¼Œpage-æ ‡ç­¾-åˆ†ç±»-å…³äº"><a href="#hexo-æ–°å»ºç›®å½•ï¼Œpage-æ ‡ç­¾-åˆ†ç±»-å…³äº" class="headerlink" title="hexo æ–°å»ºç›®å½•ï¼Œpage, æ ‡ç­¾, åˆ†ç±», å…³äº"></a>hexo æ–°å»ºç›®å½•ï¼Œpage, æ ‡ç­¾, åˆ†ç±», å…³äº</h2><p>åœ¨ä¸»é¢˜çš„_config.yml ä¸­æ‰“å¼€é…ç½®</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å·¦ä¸Šè§’æ–°å¢å…³äº, æ ‡ç­¾, åˆ†ç±»</p><h2 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h2><p>è¿è¡Œ hexo new page tags<br>è®¿é—®æ ‡ç­¾é¡µ, æ–°é¡µé¢å¯ä»¥æ­£å¸¸è®¿é—®<br>åœ¨ source/tags/index.md ä¸­å¦‚ä¸‹è®¾ç½®, å³å¯çœ‹åˆ°æ ‡ç­¾åˆ†ç±»(å‰æ:åœ¨æ–‡ç« ä¸­éœ€æ·»åŠ  tags)</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2018-11-06 16:55:49</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">layout: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure><p>åœ¨ source/categories/index.md ä¸­æ·»åŠ å¦‚ä¸‹</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2018-11-06 17:11:29</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">layout: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>æ–‡ç« ä¸­å¤šä¸ª tag æ—¶ï¼Œå¦‚ä¸‹é…ç½®</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tags:</span><br><span class="line"><span class="bullet">    -</span> http</span><br><span class="line"><span class="bullet">    -</span> ç½‘ç»œ</span><br></pre></td></tr></table></figure><p>å•ä¸ª</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tags: ç½‘ç»œ</span><br></pre></td></tr></table></figure><h2 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page about</span><br></pre></td></tr></table></figure><p>åœ¨ source/about/index.md å†™ä¸ªäººä¿¡æ¯</p><h2 id="æ·»åŠ ç¤¾äº¤é“¾æ¥"><a href="#æ·»åŠ ç¤¾äº¤é“¾æ¥" class="headerlink" title="æ·»åŠ ç¤¾äº¤é“¾æ¥"></a>æ·»åŠ ç¤¾äº¤é“¾æ¥</h2><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æœç´¢ social:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">GitHub:</span> <span class="string">https://github.com/believeZJP</span> <span class="string">||</span> <span class="string">github</span></span><br><span class="line">  <span class="string">å¾®åš:</span> <span class="string">https://weibo.com/u/6021664425</span> <span class="string">||</span> <span class="string">weibo</span></span><br><span class="line">  <span class="attr">QQ:</span> <span class="string">tencent://message/?uin=421790588&amp;Site=www&amp;Menu=yes</span> <span class="string">||</span> <span class="string">qq</span></span><br></pre></td></tr></table></figure><p>å›¾æ ‡é…ç½®ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social_icons:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">icons_only:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">transition:</span> <span class="literal">false</span></span><br><span class="line">  <span class="string">å¾®åš:</span> <span class="string">weibo</span></span><br><span class="line">  <span class="attr">QQ:</span> <span class="string">qq</span></span><br></pre></td></tr></table></figure><p>åœ¨å·¦ä¾§å³å¯çœ‹åˆ°é“¾æ¥ã€‚<br>éœ€è¦æ³¨æ„, å›¾æ ‡çš„é…ç½®æ˜¯æ ¹æ® font-awesome.min.css ä¸­çš„ css å±æ€§æ ·å¼, æƒ³æ·»åŠ å¯¹åº”çš„å¯ä»¥åœ¨æ–‡ä»¶ä¸­æœç´¢ã€‚</p><p>é»˜è®¤æ˜¾ç¤ºæ–‡å­—å’Œå›¾æ ‡, å¦‚æœåªæ˜¾ç¤ºå›¾æ ‡å¯è®¾ç½®<br>icons_only: true</p><h2 id="ç«™å†…æœç´¢"><a href="#ç«™å†…æœç´¢" class="headerlink" title="ç«™å†…æœç´¢"></a>ç«™å†…æœç´¢</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure><p>åœ¨ä¸»é¢˜ next/_config.yml ä¸­é…ç½®</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>åœ¨å…¨å±€é…ç½®ä¸­_config.yml æ·»åŠ </p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><p>â€”â€”â€”â€“æ­£å¸¸æƒ…å†µåˆ°è¿™å°±å¯ä»¥ä½¿ç”¨æœç´¢åŠŸèƒ½äº†â€”â€”â€”</p><p>å¤ç›˜:</p><p>ç‚¹å‡»é¦–é¡µæœç´¢,å‘ç°å¼¹æ¡†å¼¹å‡º, loading ä¸€ç›´åŠ è½½ã€‚æ²¡æœ‰æ˜¾ç¤ºæœç´¢ç•Œé¢.</p><ul><li>æ£€æŸ¥ network, å‘ç° search.xml è¯·æ±‚æˆåŠŸ, çŠ¶æ€ 200.</li><li>ç”¨é“¾æ¥ç›´æ¥è®¿é—® search.xml localhost:4000/search.xml<br>æç¤ºæŠ¥é”™, æœ‰é”™è¯¯å­—ç¬¦</li><li>å¯ä»¥æ‹‰åˆ°æœ€åçœ‹å“ªç¯‡æ–‡ç« è¢«æˆªæ–­</li><li>ä¹Ÿå¯ä»¥å®¡æŸ¥å…ƒç´ , ç‚¹å‡»æ¯ä¸ª entry-content æŸ¥çœ‹æœ€è¿‘ä¸ºç©ºçš„é‚£ä¸ª,æ‰¾åˆ°å, è¿™ç¯‡æ–‡ç« ä¸­æœ‰é”™è¯¯å­—ç¬¦ä¸è¯†åˆ«ã€‚</li><li>åœ¨ network çœ‹ search.xml ä¸­æˆªæ–­çš„æ–‡ç« ä¸­æœ‰ä¸¤ä¸ªå­—ä¸­é—´æœ‰ä¸ªç‚¹çš„åœ°æ–¹, åœ¨æ–‡ä¸­æ‰¾åˆ°è¿™ä¸ªåœ°æ–¹å…‰æ ‡ç§»åŠ¨å‘ç°ä¼šæœ‰ä¸€æ¬¡æ²¡æœ‰ç§»åŠ¨, åˆ é™¤å³å¯ã€‚</li><li>å®åœ¨æ‰¾ä¸åˆ°å¯ä»¥å…ˆå‰ªåˆ‡æ–‡ç« , çœ‹æ˜¯å¦èƒ½æ­£å¸¸æ˜¾ç¤º.</li><li>ç”¨ vim ç¼–è¾‘å™¨æŸ¥çœ‹ç‰¹æ®Šå­—ç¬¦ä¸€ç›®äº†ç„¶<br>å¸¸è§çš„ç‰¹æ®Šå­—ç¬¦<code>^H, .(ç°è‰²)</code></li></ul><h2 id="æ¥å¿…åŠ›è¯„è®º"><a href="#æ¥å¿…åŠ›è¯„è®º" class="headerlink" title="æ¥å¿…åŠ›è¯„è®º"></a>æ¥å¿…åŠ›è¯„è®º</h2><p><a href="https://www.livere.com/%E4%B8%80%E5%AE%9A%E8%A6%81%E7%94%A8%E8%BF%99%E4%B8%AA%E6%B3%A8%E5%86%8C,">https://www.livere.com/ä¸€å®šè¦ç”¨è¿™ä¸ªæ³¨å†Œ,</a> ä¸­æ–‡ç‰ˆ(<a href="http://www.laibili.com.cn/)%E5%A4%B1%E6%95%88%EF%BC%81%EF%BC%81%EF%BC%81%EF%BC%81">http://www.laibili.com.cn/)å¤±æ•ˆï¼ï¼ï¼ï¼</a><br>æ³¨å†Œå®Œæˆå, å¡«å†™ç›¸åº”ä¿¡æ¯, å³å¯è·å–åˆ° data-uid.<br>next/_config.yml ä¸­æœç´¢<code>livere_uid</code>, å¡«å…¥å¯¹åº” data-uid<br><strong>æ³¨æ„:</strong><br>æ ¼å¼å¦‚ä¸‹:<br>livere_uid: fsdfs343==<br>ä¸€å®šä¸è¦åŠ ä»»ä½•å¼•å·~~~~~~~(ğŸ•³ğŸ•³ğŸ•³ğŸ•³ğŸ•³)</p><h2 id="æœ¬åœ°å›¾ç‰‡æ·»åŠ "><a href="#æœ¬åœ°å›¾ç‰‡æ·»åŠ " class="headerlink" title="æœ¬åœ°å›¾ç‰‡æ·»åŠ "></a>æœ¬åœ°å›¾ç‰‡æ·»åŠ </h2><ol><li>åœ¨_config.yml ä¸­æœç´¢<code>post_asset_folder</code>, è®¾ä¸º true</li><li>åœ¨ source æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ img</li><li>åœ¨ img ä¸­æ·»åŠ å›¾ç‰‡</li><li>åœ¨ md ä¸­å¼•ç”¨å›¾ç‰‡</li></ol><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">è®°å¿†æ›²çº¿</span>](<span class="link">/img/clipboard.png</span>)</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/img/clipboard.png&quot;</span> &gt;</span></span></span><br></pre></td></tr></table></figure><p>æ³¨æ„: è¿™é‡Œä¸€å®šè¦ç”¨ç»å¯¹è·¯å¾„, å› ä¸ºå›¾ç‰‡åœ¨æ ¹ç›®å½•ä¸‹</p><h3 id="ä¸ç”¨æ ¹ç›®å½•çš„å›¾ç‰‡æ·»åŠ "><a href="#ä¸ç”¨æ ¹ç›®å½•çš„å›¾ç‰‡æ·»åŠ " class="headerlink" title="ä¸ç”¨æ ¹ç›®å½•çš„å›¾ç‰‡æ·»åŠ "></a>ä¸ç”¨æ ¹ç›®å½•çš„å›¾ç‰‡æ·»åŠ </h3><p>ç”¨<code>hexo n &#39;æ–‡ç« æ ‡é¢˜&#39;</code>åˆ›å»ºæ–‡ç« åï¼Œä¼šç”Ÿæˆä¸æ–‡ç« æ ‡é¢˜ç›¸åŒçš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æŠŠå›¾ç‰‡æ”¾åˆ°å¯¹åº”æ–‡ä»¶å¤¹ä¸­<br>åœ¨mdä¸­å¼•ç”¨æ–¹å¼</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">æ·»åŠ è‡ªå®šä¹‰search</span>](<span class="link">/posts/Alfred/addbaidu.png</span>)</span><br><span class="line">![<span class="string">è®¾ç½®ç™¾åº¦å†…å®¹</span>](<span class="link">/posts/Alfred/addbaidu-input.png</span>)</span><br></pre></td></tr></table></figure><h2 id="éƒ¨ç½²å‘½ä»¤ç®€åŒ–"><a href="#éƒ¨ç½²å‘½ä»¤ç®€åŒ–" class="headerlink" title="éƒ¨ç½²å‘½ä»¤ç®€åŒ–"></a>éƒ¨ç½²å‘½ä»¤ç®€åŒ–</h2><p>åœ¨ package.json ä¸­æ·»åŠ </p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;d&quot;: &quot;hexo clean &amp;&amp; hexo g -d&quot;,</span><br><span class="line">  &quot;s&quot;: &quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo s&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>éƒ¨ç½²æ—¶ï¼Œåªéœ€åœ¨ç»ˆç«¯è¿è¡Œ<code>npm run d</code>å³å¯å‘å¸ƒæ–‡ç« </p><p>å¯åŠ¨æ—¶ï¼Œè¿è¡Œ<code>npm run s</code>,å³å¯åœ¨æœ¬åœ°è®¿é—®æœåŠ¡</p><p><a href="https://blog.csdn.net/qq_35561857/article/details/81590953">å¥½çš„é“¾æ¥</a></p><h2 id="ç™¾åº¦ç»Ÿè®¡"><a href="#ç™¾åº¦ç»Ÿè®¡" class="headerlink" title="ç™¾åº¦ç»Ÿè®¡"></a>ç™¾åº¦ç»Ÿè®¡</h2><p>åœ¨ next/_config.yml ä¸­æœç´¢ baidu_analytics, é…ç½® id</p><p>åœ¨<a href="https://tongji.baidu.com/">å®˜ç½‘</a>,æ–°å»ºåº”ç”¨ï¼Œç‚¹å‡»ç®¡ç†ï¼Œå¤åˆ¶ id</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> _hmt = _hmt || [];</span></span><br><span class="line"><span class="javascript">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> hm = <span class="built_in">document</span>.createElement(<span class="string">&quot;script&quot;</span>);</span></span><br><span class="line"><span class="javascript">  hm.src = <span class="string">&quot;https://hm.baidu.com/hm.js?60d1bc14f9ca17b7&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;script&quot;</span>)[<span class="number">0</span>];</span></span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ å¤´åƒ"><a href="#æ·»åŠ å¤´åƒ" class="headerlink" title="æ·»åŠ å¤´åƒ"></a>æ·»åŠ å¤´åƒ</h2><p>åœ¨ next/config.yml é‡Œæœ avatar,å¦‚ä¸‹é…ç½®, å›¾ç‰‡é“¾æ¥å¯æ›´æ¢</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/avatar.gif</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ ç¼“å­˜"><a href="#æ·»åŠ ç¼“å­˜" class="headerlink" title="æ·»åŠ ç¼“å­˜"></a>æ·»åŠ ç¼“å­˜</h2><p><a href="https://www.npmjs.com/package/hexo-offline">hexo-offline</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-offline --save</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹é»˜è®¤çš„æ–‡ç« é“¾æ¥"><a href="#ä¿®æ”¹é»˜è®¤çš„æ–‡ç« é“¾æ¥" class="headerlink" title="ä¿®æ”¹é»˜è®¤çš„æ–‡ç« é“¾æ¥"></a>ä¿®æ”¹é»˜è®¤çš„æ–‡ç« é“¾æ¥</h2><p><a href="https://hexo.io/zh-cn/docs/permalinks.html">å®˜æ–¹æ–‡æ¡£</a></p><p>é»˜è®¤æ–‡ç« é“¾æ¥æ˜¯<a href="http://localhost:4000/2018/10/18/hello-world/">http://localhost:4000/2018/10/18/hello-world/</a></p><p>æœ‰å¹´æœˆæ—¥å±‚çº§å¤ªæ·±ï¼Œä¸åˆ©äº SEO</p><p>ä¿®æ”¹ä¸º<a href="http://localhost:4000/posts/hello-world/">http://localhost:4000/posts/hello-world/</a></p><p>åœ¨_config.yml ä¸­æœç´¢<code>permalink</code>,ä¿®æ”¹å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## permalink: :year/:month/:day/:title/</span><br><span class="line">permalink: :category/:title/</span><br></pre></td></tr></table></figure><p>æœç´¢<code>default_category</code>,ä¿®æ”¹å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">default_category: posts</span><br></pre></td></tr></table></figure><p>é‡å¯æœåŠ¡å³å¯</p><h2 id="ç»‘å®šè‡ªå·±åŸŸå"><a href="#ç»‘å®šè‡ªå·±åŸŸå" class="headerlink" title="ç»‘å®šè‡ªå·±åŸŸå"></a>ç»‘å®šè‡ªå·±åŸŸå</h2><p>åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°åŸŸåä¿®æ”¹åŸŸåè§£æï¼Œè®°å½•ç±»å‹ CNAME, è®°å½•çº¸ä¸º believezjp.github.io</p><p>åœ¨ hexo é¡¹ç›®ä¸‹ï¼Œsource æ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»º CNAME æ–‡ä»¶ï¼ˆæ²¡æœ‰åç¼€åçš„ï¼‰ï¼Œåœ¨é‡Œé¢å†™ä¸Šè´­ä¹°çš„åŸŸåã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">believezjp.oriht.com</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè¿™ä¸ªè¦å†™è‡ªå·±çš„åŸŸåï¼Œä¸æ˜¯ github çš„åŸŸå</p><p>åœ¨ github ä¸Šé¢ï¼Œæ‰“å¼€ username.github.io é¡¹ç›®çš„ï¼ˆSettingsï¼‰è®¾ç½®ï¼Œç„¶ååœ¨ GitHub Pages çš„ Custom domain è®¾ç½®é‡Œå¡«ä¸Šè´­ä¹°çš„åŸŸåã€‚</p><p>è¯¦è§:<a href="https://blog.csdn.net/wgshun616/article/details/81019739">å‚è€ƒé“¾æ¥</a></p><h2 id="æ›¿æ¢-jquery-èµ„æºåº“åœ°å€"><a href="#æ›¿æ¢-jquery-èµ„æºåº“åœ°å€" class="headerlink" title="æ›¿æ¢ jquery èµ„æºåº“åœ°å€"></a>æ›¿æ¢ jquery èµ„æºåº“åœ°å€</h2><p>åœ¨ä¸»é¢˜ç›®å½•ä¸‹æ‰¾åˆ° after-footer.ejs æ–‡ä»¶ï¼ŒPSï¼šä¸»é¢˜ç›®å½•æŒ‡çš„æ˜¯ themes ä¸‹ next ç›®å½•</p><p>æ‰¾åˆ°ä¸‹é¢ä¸€æ®µä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸ºï¼šï¼ˆå°† jquery çš„åœ¨çº¿åœ°å€ä¿®æ”¹ä¸ºç™¾åº¦çš„é™æ€èµ„æºåº“åœ°å€ï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://libs.baidu.com/jquery/2.1.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="é¡¹ç›®æ·»åŠ -changelogâŒ"><a href="#é¡¹ç›®æ·»åŠ -changelogâŒ" class="headerlink" title="é¡¹ç›®æ·»åŠ  changelogâŒ"></a>é¡¹ç›®æ·»åŠ  changelogâŒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save conventional-changelog</span><br><span class="line"></span><br><span class="line">conventional-changelog -p angular -i CHANGELOG.md -w -r 0</span><br></pre></td></tr></table></figure><h2 id="é¡¹ç›®æ·»åŠ git-commit-è§„èŒƒ"><a href="#é¡¹ç›®æ·»åŠ git-commit-è§„èŒƒ" class="headerlink" title="é¡¹ç›®æ·»åŠ git commit è§„èŒƒ"></a>é¡¹ç›®æ·»åŠ git commit è§„èŒƒ</h2><p><a href="https://github.com/marionebl/commitlint">æ’ä»¶é“¾æ¥</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @commitlint/&#123;cli,config-conventional&#125;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;module.exports = &#123;extends: [&#x27;@commitlint/config-conventional&#x27;]&#125;;&quot;</span> &gt; commitlint.config.js</span><br><span class="line">npm install --save-dev husky</span><br><span class="line"></span><br><span class="line"><span class="comment">## åœ¨package.jsonä¸­é…ç½®</span></span><br><span class="line"><span class="comment">## package.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;husky&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;hooks&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;commit-msg&quot;</span>: <span class="string">&quot;commitlint -E HUSKY_GIT_PARAMS&quot;</span></span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æäº¤æ–¹å¼ï¼š</p><p>æ ¼å¼ï¼š</p><blockquote><p>type(scope?): subject  ## scope å¯é€‰</p></blockquote><p>subjectæ˜¯ commit ç›®çš„çš„ç®€çŸ­æè¿°ï¼Œä¸è¶…è¿‡50ä¸ªå­—ç¬¦ï¼Œä¸”ç»“å°¾ä¸åŠ å¥å·ï¼ˆ.ï¼‰</p><p>eg:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chore: run tests on travis ci</span><br><span class="line">fix(server): send cors headers</span><br><span class="line">feat(blog): add comment section</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>build: ä¸»è¦ç›®çš„æ˜¯ä¿®æ”¹é¡¹ç›®æ„å»ºç³»ç»Ÿ(ä¾‹å¦‚ gulpï¼Œwebpackï¼Œrollup çš„é…ç½®ç­‰)çš„æäº¤</li><li>ci: ä¸»è¦ç›®çš„æ˜¯ä¿®æ”¹é¡¹ç›®ç»§ç»­é›†æˆæµç¨‹(ä¾‹å¦‚ Travisï¼ŒJenkinsï¼ŒGitLab CIï¼ŒCircleç­‰)çš„æäº¤</li><li>docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰</li><li>featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰</li><li>merge: åˆå¹¶åˆ†æ”¯</li><li>fixï¼šä¿®å¤bug</li><li>perf: (performance) ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒ</li><li>refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰</li><li>revert: å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</li><li>styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰</li><li>testï¼šå¢åŠ æµ‹è¯•</li><li>wipï¼šç§»é™¤æ–‡ä»¶æˆ–è€…ä»£ç </li><li>choreï¼šä¸å±äºä»¥ä¸Šç±»å‹çš„å…¶ä»–ç±»å‹</li></ul><h2 id="ç”Ÿæˆchangelog"><a href="#ç”Ÿæˆchangelog" class="headerlink" title="ç”Ÿæˆchangelog"></a>ç”Ÿæˆchangelog</h2><p>Change log å°±å¯ä»¥ç”¨è„šæœ¬è‡ªåŠ¨ç”Ÿæˆã€‚ç”Ÿæˆçš„æ–‡æ¡£åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>New features</li><li>Bug fixes</li><li>Breaking changes.</li></ul><p><a href="https://github.com/conventional-changelog/conventional-changelog">onventional-changelog</a> å°±æ˜¯ç”Ÿæˆ Change log çš„å·¥å…·ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ã€‚<br>ç”¨åˆ°çš„æ˜¯å…¶ä¸­çš„<a href="https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-cli">cliå·¥å…·</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g conventional-changelog-cli</span><br><span class="line">conventional-changelog -p angular -i CHANGELOG.md -s -w -r 0</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œå¯ä»¥å°†å…¶å†™å…¥ package.json çš„ scripts å­—æ®µï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;changelog&quot;</span>: <span class="string">&quot;conventional-changelog -p angular -i CHANGELOG.md -s -w -r 0&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥åï¼Œç›´æ¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run changelog</span><br></pre></td></tr></table></figure><h2 id="æ–°å»ºè‰ç¨¿"><a href="#æ–°å»ºè‰ç¨¿" class="headerlink" title="æ–°å»ºè‰ç¨¿"></a>æ–°å»ºè‰ç¨¿</h2><p>è‰ç¨¿ç›¸å½“äºå¾ˆå¤šåšå®¢éƒ½æœ‰çš„â€œç§å¯†æ–‡ç« â€åŠŸèƒ½ã€‚<br><code>hexo new draft &quot;new draft&quot;</code><br>ä¼šåœ¨source/_draftsç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªnew-draft.mdæ–‡ä»¶ã€‚ä½†æ˜¯è¿™ä¸ªæ–‡ä»¶ä¸è¢«æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œé“¾æ¥ä¹Ÿè®¿é—®ä¸åˆ°ã€‚<br>ä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ æƒ³æŠŠæŸä¸€ç¯‡æ–‡ç« ç§»é™¤æ˜¾ç¤ºï¼Œåˆä¸èˆå¾—åˆ é™¤ï¼Œå¯ä»¥æŠŠå®ƒç§»åŠ¨åˆ°_draftsç›®å½•ä¹‹ä¸­ã€‚<br>å¦‚æœä½ å¸Œæœ›å¼ºè¡Œé¢„è§ˆè‰ç¨¿ï¼Œæ›´æ”¹é…ç½®æ–‡ä»¶_config.ymlï¼š<br><code>render_drafts: true</code><br>æˆ–è€…ï¼Œå¦‚ä¸‹æ–¹å¼å¯åŠ¨serverï¼š<br><code>hexo server --drafts</code><br>ä¸‹é¢è¿™æ¡å‘½ä»¤å¯ä»¥æŠŠè‰ç¨¿å˜æˆæ–‡ç« ï¼Œæˆ–è€…é¡µé¢ï¼š<br><code>hexo publish [layout] &lt;filename&gt;</code><br>æˆ–<code>hexo P &lt;filename&gt;</code><br>filenameä¸ºä¸åŒ…å«mdåç¼€çš„æ–‡ç« åç§°ã€‚å®ƒçš„åŸç†åªæ˜¯å°†æ–‡ç« ä» source/_drafts ç§»åŠ¨åˆ° source/_posts è€Œå·²ã€‚</p><blockquote><p>è‹¥æ—¥åæƒ³å°†æ­£å¼æ–‡ç« è½¬ä¸ºä¸ºè‰ç¨¿ï¼Œåªéœ€æ‰‹åŠ¨å°†æ–‡ç« ä» source/_posts ç›®å½•ç§»åŠ¨åˆ° source/_drafts ç›®å½•å³å¯ã€‚</p></blockquote><h2 id="hexo-å‘½ä»¤"><a href="#hexo-å‘½ä»¤" class="headerlink" title="hexo å‘½ä»¤"></a>hexo å‘½ä»¤</h2><p>å¸¸ç”¨å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="built_in">help</span> <span class="comment">#æŸ¥çœ‹å¸®åŠ©</span></span><br><span class="line">hexo init <span class="comment">#åˆå§‹åŒ–ä¸€ä¸ªç›®å½•</span></span><br><span class="line">hexo new <span class="string">&quot;postName&quot;</span> <span class="comment">#æ–°å»ºæ–‡ç« </span></span><br><span class="line">hexo new page <span class="string">&quot;pageName&quot;</span> <span class="comment">#æ–°å»ºé¡µé¢</span></span><br><span class="line">hexo generate <span class="comment">#ç”Ÿæˆç½‘é¡µï¼Œå¯ä»¥åœ¨ public ç›®å½•æŸ¥çœ‹æ•´ä¸ªç½‘ç«™çš„æ–‡ä»¶</span></span><br><span class="line">hexo server <span class="comment">#æœ¬åœ°é¢„è§ˆï¼Œ&#x27;Ctrl+C&#x27;å…³é—­</span></span><br><span class="line">hexo deploy <span class="comment">#éƒ¨ç½².deployç›®å½•</span></span><br><span class="line">hexo clean <span class="comment">#æ¸…é™¤ç¼“å­˜ï¼Œ**å¼ºçƒˆå»ºè®®æ¯æ¬¡æ‰§è¡Œå‘½ä»¤å‰å…ˆæ¸…ç†ç¼“å­˜ï¼Œæ¯æ¬¡éƒ¨ç½²å‰å…ˆåˆ é™¤ .deploy æ–‡ä»¶å¤¹**</span></span><br></pre></td></tr></table></figure><p>ç®€å†™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo n == hexo new</span><br><span class="line">hexo g == hexo generate</span><br><span class="line">hexo s == hexo server</span><br><span class="line">hexo d == hexo deploy</span><br></pre></td></tr></table></figure><h2 id="git-pushä»¥åè‡ªåŠ¨å‘å¸ƒåˆ°gitHubä¸Š"><a href="#git-pushä»¥åè‡ªåŠ¨å‘å¸ƒåˆ°gitHubä¸Š" class="headerlink" title="git pushä»¥åè‡ªåŠ¨å‘å¸ƒåˆ°gitHubä¸Š"></a>git pushä»¥åè‡ªåŠ¨å‘å¸ƒåˆ°gitHubä¸Š</h2><p>ä½¿ç”¨Travis è‡ªåŠ¨åŒ–éƒ¨ç½²Hexo Blog</p><ol><li>æ·»åŠ .travis.yml</li><li>é…ç½®token</li></ol><h2 id="Hexoåšå®¢æ”¶å½•ç™¾åº¦å’Œè°·æ­Œ-åŸºäºNextä¸»é¢˜"><a href="#Hexoåšå®¢æ”¶å½•ç™¾åº¦å’Œè°·æ­Œ-åŸºäºNextä¸»é¢˜" class="headerlink" title="Hexoåšå®¢æ”¶å½•ç™¾åº¦å’Œè°·æ­Œ-åŸºäºNextä¸»é¢˜"></a>Hexoåšå®¢æ”¶å½•ç™¾åº¦å’Œè°·æ­Œ-åŸºäºNextä¸»é¢˜</h2><p><a href="https://www.jianshu.com/p/8c0707ce5da4">å‚è€ƒé“¾æ¥</a></p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="http://tigerliu.site/2017/06/hexo-1/">Hexo è¿›é˜¶é«˜çº§æ•™ç¨‹</a><br><a href="https://www.cnblogs.com/shwee/p/11421156.html">Hexo+Github: ä¸ªäººåšå®¢ç½‘ç«™æ­å»ºå®Œå…¨æ•™ç¨‹</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå­¦ä¹ </title>
      <link href="posts/linux%E5%AD%A6%E4%B9%A0/"/>
      <url>posts/linux%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<p>windowè¿œç¨‹è¿æ¥å·¥å…·ï¼š<br>secure CRT<br>é…ç½®ï¼š<br>é€‰é¡¹-ä¼šè¯é€‰é¡¹-ä»¿çœŸ<br>    ç»ˆç«¯ï¼šx-term  ansié¢œè‰²<br>    å¤–è§‚ï¼šé¢œè‰²æ–¹æ¡ˆï¼šé»„é»‘<br>        å…‰æ ‡ ç«–çº¿<br>    ç¼–ç ï¼šå›è¯é€‰é¡¹-å¤–è§‚-å­—ç¬¦ç¼–ç -UTF-8</p><h2 id="git-å®šæ—¶ä»»åŠ¡crontab"><a href="#git-å®šæ—¶ä»»åŠ¡crontab" class="headerlink" title="git å®šæ—¶ä»»åŠ¡crontab"></a>git å®šæ—¶ä»»åŠ¡crontab</h2><p><a href="https://www.cnblogs.com/peida/archive/2013/01/08/2850483.html">é“¾æ¥</a></p><h2 id="åœ¨centosæ‰§è¡Œgit-pullæŠ¥é”™"><a href="#åœ¨centosæ‰§è¡Œgit-pullæŠ¥é”™" class="headerlink" title="åœ¨centosæ‰§è¡Œgit pullæŠ¥é”™"></a>åœ¨centosæ‰§è¡Œgit pullæŠ¥é”™</h2><p>Peer reports incompatible or unsupported protocol version.</p><p>è§£å†³åŠæ³•ï¼š</p><p>yum update -y nss curl libcurl</p><p>æ‰§è¡Œåï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œã€‚</p><h2 id="æ–‡ä»¶ä¸ç›®å½•ç®¡ç†"><a href="#æ–‡ä»¶ä¸ç›®å½•ç®¡ç†" class="headerlink" title="==++æ–‡ä»¶ä¸ç›®å½•ç®¡ç†++=="></a>==++æ–‡ä»¶ä¸ç›®å½•ç®¡ç†++==</h2><h3 id="æ–°å»ºæ–‡ä»¶å¤¹"><a href="#æ–°å»ºæ–‡ä»¶å¤¹" class="headerlink" title="æ–°å»ºæ–‡ä»¶å¤¹"></a>æ–°å»ºæ–‡ä»¶å¤¹</h3><p>mkdir</p><p>eg:mkdir test</p><p>mkdir -p test/123/abc</p><p>-p é€’å½’åˆ›å»ºç›®å½•ï¼Œå³ä½¿ä¸Šçº§ç›®å½•ä¸å­˜åœ¨ã€‚<br>è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å¦‚æœä½ æƒ³è¦åˆ›å»ºçš„ç›®å½•å­˜åœ¨çš„è¯ï¼Œä¼šæç¤ºæŠ¥é”™ï¼Œç„¶åä½ åŠ ä¸Š-på‚æ•°åï¼Œå°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p><h3 id="å‘½ä»¤è¯¦æƒ…"><a href="#å‘½ä»¤è¯¦æƒ…" class="headerlink" title="å‘½ä»¤è¯¦æƒ…"></a>å‘½ä»¤è¯¦æƒ…</h3><p> man rm,<br> man ls</p><h3 id="å¤åˆ¶æ–‡ä»¶"><a href="#å¤åˆ¶æ–‡ä»¶" class="headerlink" title="å¤åˆ¶æ–‡ä»¶"></a>å¤åˆ¶æ–‡ä»¶</h3><p>cp</p><p>eg: cp a b</p><p>cp copyçš„ç®€å†™ï¼Œå³æ‹·è´ã€‚æ ¼å¼ä¸º cp [é€‰é¡¹] [ æ¥æºæ–‡ä»¶ ] [ç›®çš„æ–‡ä»¶] ï¼Œä¾‹å¦‚æˆ‘æƒ³æŠŠtest1 æ‹·è´æˆtest2 ï¼Œè¿™æ ·å³å¯ cp test1 test2ï¼Œ</p><p>-d è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªâ€œè¿æ¥â€çš„æ¦‚å¿µã€‚è¿æ¥åˆ†ä¸ºè½¯è¿æ¥å’Œç¡¬è¿æ¥</p><p>å¦‚æœä¸åŠ è¿™ä¸ª-d åˆ™æ‹·è´è½¯è¿æ¥æ—¶ä¼šæŠŠè½¯è¿æ¥çš„ç›®æ ‡æ–‡ä»¶æ‹·è´è¿‡å»ï¼Œè€ŒåŠ ä¸Šåï¼Œå…¶å®åªæ˜¯æ‹·è´äº†ä¸€ä¸ªè¿æ¥æ–‡ä»¶ï¼ˆå³å¿«æ·æ–¹å¼ï¼‰ã€‚</p><ul><li><p>-r å¦‚æœä½ è¦æ‹·è´ä¸€ä¸ªç›®å½•ï¼Œå¿…é¡»è¦åŠ -ré€‰é¡¹ï¼Œå¦åˆ™ä½ æ˜¯æ‹·è´ä¸äº†ç›®å½•çš„ã€‚ omitting directory â€˜dâ€™</p></li><li><p>-i å¦‚æœé‡åˆ°ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶ï¼Œä¼šé—®æ˜¯å¦è¦†ç›–ã€‚</p></li><li><p>-u è¯¥é€‰é¡¹ä»…å½“ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶æ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœæºæ–‡ä»¶æ¯”ç›®æ ‡æ–‡ä»¶æ–°æ‰ä¼šæ‹·è´ï¼Œå¦åˆ™ä¸åšä»»ä½•åŠ¨ä½œ</p></li></ul><h3 id="ç§»åŠ¨æ–‡ä»¶"><a href="#ç§»åŠ¨æ–‡ä»¶" class="headerlink" title="ç§»åŠ¨æ–‡ä»¶"></a>ç§»åŠ¨æ–‡ä»¶</h3><p>mv ç§»åŠ¨çš„æ„æ€ï¼Œæ˜¯moveçš„ç®€å†™ã€‚æ ¼å¼ä¸º mv [ é€‰é¡¹ ] [æºæ–‡ä»¶] [ç›®æ ‡æ–‡ä»¶]ã€‚</p><ul><li><p>-i å’Œcpçš„-i ä¸€æ ·ï¼Œå½“ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶ä¼šé—®ç”¨æˆ·æ˜¯å¦è¦è¦†ç›–ã€‚</p></li><li><p>-u å’Œä¸Šè¾¹cp å‘½ä»¤çš„-ué€‰é¡¹ä¸€ä¸ªä½œç”¨ï¼Œå½“ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶æ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœæºæ–‡ä»¶æ¯”ç›®æ ‡æ–‡ä»¶æ–°æ‰ä¼šç§»åŠ¨ï¼Œå¦åˆ™ä¸åšä»»ä½•åŠ¨ä½œã€‚</p></li></ul><p>-</p><p>windowsä¸‹çš„é‡å‘½åï¼Œåœ¨linuxä¸‹ç”¨mvå°±å¯ä»¥æå®šã€‚</p><h3 id="åˆ é™¤æ–‡ä»¶å¤¹"><a href="#åˆ é™¤æ–‡ä»¶å¤¹" class="headerlink" title="åˆ é™¤æ–‡ä»¶å¤¹"></a>åˆ é™¤æ–‡ä»¶å¤¹</h3><p> rm -rf</p><p> eg:rm -rf testCLI</p><p>rmdir åªèƒ½åˆ é™¤ç›®å½•ä½†ä¸èƒ½åˆ é™¤æ–‡ä»¶ï¼Œè¦æƒ³åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ™è¦ç”¨rmå‘½ä»¤äº†ã€‚</p><p>-f å¼ºåˆ¶çš„æ„æ€ï¼Œå¦‚æœä¸åŠ è¿™ä¸ªé€‰é¡¹ï¼Œå½“åˆ é™¤ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶æ—¶ä¼šæŠ¥é”™ã€‚</p><p>-i è¿™ä¸ªé€‰é¡¹çš„ä½œç”¨æ˜¯ï¼Œå½“ç”¨æˆ·åˆ é™¤ä¸€ä¸ªæ–‡ä»¶æ—¶ä¼šæç¤ºç”¨æˆ·æ˜¯å¦çœŸçš„åˆ é™¤ã€‚</p><p>-r å½“åˆ é™¤ç›®å½•æ—¶ï¼ŒåŠ è¯¥é€‰é¡¹ï¼Œå¦‚æœä¸åŠ è¿™ä¸ªé€‰é¡¹ä¼šæŠ¥é”™ã€‚rmæ˜¯å¯ä»¥åˆ é™¤ä¸ä¸ºç©ºçš„ç›®å½•çš„ã€‚</p><h3 id="æ–°å»ºæ–‡ä»¶"><a href="#æ–°å»ºæ–‡ä»¶" class="headerlink" title="æ–°å»ºæ–‡ä»¶"></a>æ–°å»ºæ–‡ä»¶</h3><p>touch a</p><blockquote><p>a.txt å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<br>aä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶<br>vi a</p></blockquote><p>vi a /vim a å¯ä»¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹</p><p>è¾“å…¥iï¼Œè¿›å…¥ç¼–è¾‘æ¨¡å¼</p><p>æŒ‰escï¼Œé€€å‡ºç¼–è¾‘æ¨¡å¼</p><p>è¾“å…¥:wqé€€å‡ºæŸ¥çœ‹æ–‡ä»¶</p><h2 id="è¿›å…¥linuxçš„ä¸»ç›®å½•"><a href="#è¿›å…¥linuxçš„ä¸»ç›®å½•" class="headerlink" title="è¿›å…¥linuxçš„ä¸»ç›®å½•"></a><strong>è¿›å…¥linuxçš„ä¸»ç›®å½•</strong></h2><p>cd /home</p><p>pwd è¿™ä¸ªå‘½ä»¤æ‰“å°å‡ºå½“å‰æ‰€åœ¨ç›®å½•<br>./ æŒ‡çš„æ˜¯å½“å‰ç›®å½•</p><p>../ æŒ‡çš„æ˜¯å½“å‰ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•ã€‚<br>cd wwwroot/<br>ls</p><blockquote><p>ç»å¯¹è·¯å¾„ï¼šè·¯å¾„çš„å†™æ³•ä¸€å®šç”±æ ¹ç›®å½•â€/â€å†™èµ·ï¼Œä¾‹å¦‚/usr/local/mysql è¿™å°±æ˜¯ç»å¯¹è·¯å¾„ã€‚</p></blockquote><p>ç›¸å¯¹è·¯å¾„ï¼šè·¯å¾„çš„å†™æ³•ä¸æ˜¯ç”±æ ¹ç›®å½•â€/â€å†™èµ·ï¼Œä¾‹å¦‚ï¼Œé¦–å…ˆç”¨æˆ·è¿›å…¥åˆ°/ ç„¶åå†è¿›å…¥åˆ° home ï¼Œå‘½ä»¤ä¸º cd /home ç„¶å cd test æ­¤æ—¶ç”¨æˆ·æ‰€åœ¨çš„è·¯å¾„ä¸º /home/test ã€‚ç¬¬ä¸€ä¸ªcdå‘½ä»¤åè·Ÿ /home ç¬¬äºŒä¸ª cd å‘½ä»¤åè·Ÿ test ï¼Œå¹¶æ²¡æœ‰æ–œæ ï¼Œè¿™ä¸ªtestæ˜¯ç›¸å¯¹äº/home ç›®å½•æ¥è®²çš„ï¼Œæ‰€ä»¥å«åšç›¸å¯¹è·¯å¾„ã€‚</p><h2 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h2><p>echo å˜é‡<br>echo â€˜abcâ€™&gt;111 å°†å­—ç¬¦è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­<br>å¤§äºå·â€&gt;â€ åœ¨linuxä¸­è¿™å«åšé‡å®šå‘ï¼Œå³æŠŠå‰é¢äº§ç”Ÿçš„è¾“å‡ºå†™å…¥åˆ°åé¢çš„æ–‡ä»¶ä¸­ã€‚<br>â€&gt;&gt;â€æ˜¯è¿½åŠ çš„æ„æ€ï¼Œè€Œç”¨â€&gt;â€ï¼Œå¦‚æœæ–‡ä»¶ä¸­æœ‰å†…å®¹åˆ™ä¼šåˆ é™¤æ–‡ä»¶ä¸­å†…å®¹ï¼Œè€Œâ€&gt;&gt;â€åˆ™ä¸ä¼šã€‚</p><h2 id="æŸ¥çœ‹æ–‡ä»¶"><a href="#æŸ¥çœ‹æ–‡ä»¶" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶"></a>æŸ¥çœ‹æ–‡ä»¶</h2><ul><li><p>cat æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ä¸ªå‘½ä»¤ï¼Œå³æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹å¹¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Š<br>  -n æŸ¥çœ‹æ–‡ä»¶æ—¶ï¼ŒæŠŠè¡Œå·ä¹Ÿæ˜¾ç¤ºåˆ°å±å¹•ä¸Šã€‚<br>  -A æ˜¾ç¤ºæ‰€æœ‰ä¸œè¥¿å‡ºæ¥ï¼ŒåŒ…æ‹¬ç‰¹æ®Šå­—ç¬¦</p></li><li><p>tac å…¶å®æ˜¯catçš„åå†™ï¼ŒåŒæ ·çš„åŠŸèƒ½ä¹Ÿæ˜¯åå‘æ‰“å°æ–‡ä»¶çš„å†…å®¹åˆ°å±å¹•ä¸Šã€‚</p></li><li><p>moreä¹Ÿæ˜¯ç”¨æ¥æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚å½“æ–‡ä»¶å†…å®¹å¤ªå¤šï¼Œä¸€å±å¹•ä¸èƒ½å ä¸‹ï¼Œè€Œä½ ç”¨catè‚¯å®šæ˜¯çœ‹ä¸å‰é¢çš„å†…å®¹çš„ï¼Œé‚£ä¹ˆä½¿ç”¨moreå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜äº†ã€‚å½“çœ‹å®Œä¸€å±åæŒ‰<strong>ç©ºæ ¼é”®</strong>ç»§ç»­çœ‹ä¸‹ä¸€å±ã€‚ä½†çœ‹å®Œæ‰€æœ‰å†…å®¹åå°±ä¼šé€€å‡ºã€‚å¦‚æœä½ æƒ³æå‰é€€å‡ºï¼Œåªéœ€æŒ‰qé”®å³å¯ã€‚</p></li><li><p>lessä½œç”¨è·Ÿmoreä¸€æ ·ï¼Œä½†æ¯”moreå¥½åœ¨å¯ä»¥ä¸Šç¿»ï¼Œä¸‹ç¿»ã€‚ç©ºæ ¼é”®åŒæ ·å¯ä»¥ç¿»é¡µï¼Œè€Œ<strong>æŒ‰â€jâ€é”®å¯ä»¥å‘ä¸‹ç§»åŠ¨</strong>ï¼ˆæŒ‰ä¸€ä¸‹å°±å‘ä¸‹ç§»åŠ¨ä¸€è¡Œï¼‰<strong>ï¼ŒæŒ‰â€kâ€é”®å‘ä¸Šç§»åŠ¨</strong>ã€‚åœ¨ä½¿ç”¨moreå’ŒlessæŸ¥çœ‹æŸä¸ªæ–‡ä»¶æ—¶ï¼Œä½ å¯ä»¥æŒ‰ä¸€ä¸‹â€/â€ é”®ï¼Œç„¶åè¾“å…¥ä¸€ä¸ªwordå›è½¦ï¼Œè¿™æ ·å°±å¯ä»¥æŸ¥æ‰¾è¿™ä¸ªwordäº†ã€‚å¦‚æœæ˜¯å¤šä¸ªè¯¥wordå¯ä»¥æŒ‰â€nâ€é”®æ˜¾ç¤ºä¸‹ä¸€ä¸ªã€‚å¦å¤–ä½ ä¹Ÿå¯ä»¥ä¸æŒ‰â€/â€è€Œæ˜¯æŒ‰â€?â€åè¾¹åŒæ ·è·Ÿwordæ¥æœç´¢è¿™ä¸ªwordï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œ<strong>â€/â€æ˜¯åœ¨å½“å‰è¡Œå‘ä¸‹æœç´¢ï¼Œè€Œâ€?â€æ˜¯åœ¨å½“å‰è¡Œå‘ä¸Šæœç´¢</strong>ã€‚</p><p>  <strong>æŒ‰nå‘ä¸Šï¼ŒæŒ‰Nå‘ä¸‹æ˜¾ç¤º</strong>â€“è€ç½—</p></li><li><p>vim</p></li><li><p>head headåç›´æ¥è·Ÿæ–‡ä»¶åï¼Œåˆ™æ˜¾ç¤ºæ–‡ä»¶çš„å‰åè¡Œã€‚å¦‚æœåŠ  â€“n é€‰é¡¹åˆ™æ˜¾ç¤ºæ–‡ä»¶å‰nè¡Œã€‚</p></li><li><p>tail å’Œheadä¸€æ ·ï¼Œåé¢ç›´æ¥è·Ÿæ–‡ä»¶åï¼Œåˆ™æ˜¾ç¤ºæ–‡ä»¶æœ€ååè¡Œã€‚å¦‚æœåŠ -n é€‰é¡¹åˆ™æ˜¾ç¤ºæ–‡ä»¶æœ€ånè¡Œã€‚</p></li><li><p>-f <strong>åŠ¨æ€æ˜¾ç¤ºæ–‡ä»¶çš„æœ€ååè¡Œ</strong>ï¼Œå¦‚æœæ–‡ä»¶æ˜¯ä¸æ–­å¢åŠ çš„ï¼Œåˆ™ç”¨-f é€‰é¡¹ã€‚å¦‚ï¼štail -f /var/log/messages</p></li></ul><p>-</p><h3 id="å®æ—¶æŸ¥çœ‹æ–‡ä»¶å†…å®¹"><a href="#å®æ—¶æŸ¥çœ‹æ–‡ä»¶å†…å®¹" class="headerlink" title="å®æ—¶æŸ¥çœ‹æ–‡ä»¶å†…å®¹"></a>å®æ—¶æŸ¥çœ‹æ–‡ä»¶å†…å®¹</h3><ul><li>tail -f catalina.out  ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</li></ul><h2 id="æ–‡ä»¶çš„æ‰€å±ä¸»ä»¥åŠæ‰€å±ç»„"><a href="#æ–‡ä»¶çš„æ‰€å±ä¸»ä»¥åŠæ‰€å±ç»„" class="headerlink" title="æ–‡ä»¶çš„æ‰€å±ä¸»ä»¥åŠæ‰€å±ç»„"></a>æ–‡ä»¶çš„æ‰€å±ä¸»ä»¥åŠæ‰€å±ç»„</h2><p>æ‰€å±ç»„â€å°±æ´¾ä¸Šç”¨åœºäº†ã€‚å³ï¼Œåˆ›å»ºä¸€ä¸ªç¾¤ç»„usersï¼Œè®©user0å’Œuser1åŒå±äºusersç»„ï¼Œç„¶åå»ºç«‹ä¸€ä¸ªæ–‡ä»¶test2ï¼Œä¸”å…¶æ‰€å±ç»„ä¸ºusersï¼Œé‚£ä¹ˆuser0å’Œuser1éƒ½å¯ä»¥è®¿é—®test2æ–‡ä»¶ã€‚</p><h2 id="æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨list"><a href="#æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨list" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨list"></a>æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨list</h2><p>ls<br>ls -l<br>-a å…¨éƒ¨çš„æ¡£æ¡ˆéƒ½åˆ—å‡ºï¼ŒåŒ…æ‹¬éšè—çš„ã€‚</p><p>-l è¯¦ç»†åˆ—å‡ºæ–‡ä»¶çš„å±æ€§ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¤§å°ã€åˆ›å»ºæ—¥æœŸã€æ‰€å±ä¸»æ‰€å±ç»„ç­‰ç­‰ã€‚ll è¿™ä¸ªå‘½ä»¤ç­‰åŒäºls â€“l ã€‚</p><p>-d åè¾¹è·Ÿç›®å½•ï¼Œå¦‚æœä¸åŠ è¿™ä¸ªé€‰é¡¹åˆ™åˆ—å‡ºç›®å½•ä¸‹çš„æ–‡ä»¶ï¼ŒåŠ ä¸Šååªåˆ—è½¦ç›®å½•æœ¬èº«ã€‚</p><h2 id="linux-æ–‡ä»¶å±æ€§"><a href="#linux-æ–‡ä»¶å±æ€§" class="headerlink" title="linux æ–‡ä»¶å±æ€§"></a>linux æ–‡ä»¶å±æ€§</h2><p>ç”¨ls â€“l æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶æ—¶ï¼Œå…±æ˜¾ç¤ºäº†9åˆ—å†…å®¹ï¼ˆç”¨ç©ºæ ¼åˆ’åˆ†åˆ—ï¼‰ï¼Œéƒ½ä»£è¡¨äº†ä»€ä¹ˆå«ä¹‰å‘¢ï¼Ÿ</p><p>ç¬¬1åˆ—ï¼ŒåŒ…å«çš„ä¸œè¥¿æœ‰è¯¥æ–‡ä»¶ç±»å‹å’Œæ‰€å±ä¸»ã€æ‰€å±ç»„ä»¥åŠå…¶ä»–ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶çš„æƒé™ã€‚ç¬¬ä¸€åˆ—å…±10ä½ã€‚å…¶ä¸­ç¬¬ä¸€ä½ç”¨æ¥æè¿°è¯¥æ–‡ä»¶çš„ç±»å‹ã€‚ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„ç±»å‹æœ‰â€dâ€, â€œ-â€œ ï¼Œå…¶å®é™¤äº†è¿™ä¸¤ç§å¤–è¿˜æœ‰â€lâ€, â€œbâ€, â€œcâ€,â€sâ€ç­‰ã€‚</p><p>d è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºç›®å½•ï¼›</p><ul><li>è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶ï¼›</li></ul><p>l è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºè¿æ¥æ–‡ä»¶ï¼ˆlinux fileï¼‰ï¼Œä¸Šè¾¹æåˆ°çš„è½¯è¿æ¥å³ä¸ºè¯¥ç±»å‹ï¼›</p><p>b è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºå—è®¾å¤‡æ–‡ä»¶ï¼Œæ¯”å¦‚ç£ç›˜åˆ†åŒº</p><p>c è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºä¸²è¡Œç«¯å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡ã€‚</p><p>s è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºå¥—æ¥å­—æ–‡ä»¶ï¼ˆsocketï¼‰ï¼Œç”¨äºè¿›ç¨‹é—´é€šä¿¡ã€‚</p><p>åè¾¹çš„9ä½ï¼Œæ¯ä¸‰ä¸ªä¸ºä¸€ç»„ã€‚å‡ä¸ºrwx ä¸‰ä¸ªå‚æ•°çš„ç»„åˆã€‚å…¶ä¸­r ä»£è¡¨å¯è¯»ï¼Œwä»£è¡¨å¯å†™ï¼Œxä»£è¡¨å¯æ‰§è¡Œã€‚å‰ä¸‰ä½ä¸ºæ‰€å±ä¸»ï¼ˆuserï¼‰çš„æƒé™ï¼Œä¸­é—´ä¸‰ä½ä¸ºæ‰€å±ç»„ï¼ˆgroupï¼‰çš„æƒé™ï¼Œæœ€åä¸‰ä½ä¸ºå…¶ä»–éæœ¬ç¾¤ç»„ï¼ˆothersï¼‰çš„æƒé™ã€‚ä¸‹é¢æ‹¿ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥è¿°è¯´ä¸€ä¸‹ã€‚</p><p>ä¸€ä¸ªæ–‡ä»¶çš„å±æ€§ä¸º-rwxr-xrâ€“ ï¼Œå®ƒä»£è¡¨çš„æ„æ€æ˜¯ï¼Œè¯¥æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶ï¼Œæ–‡ä»¶æ‹¥æœ‰è€…å¯è¯»å¯å†™å¯æ‰§è¡Œï¼Œæ–‡ä»¶æ‰€å±ç»„å¯¹å…¶å¯è¯»ä¸å¯å†™å¯æ‰§è¡Œï¼Œå…¶ä»–ç”¨æˆ·å¯¹å…¶åªå¯è¯»ã€‚</p><p>å¯¹äºä¸€ä¸ªç›®å½•æ¥è®²ï¼Œæ‰“å¼€è¿™ä¸ªç›®å½•å³ä¸ºæ‰§è¡Œè¿™ä¸ªç›®å½•ï¼Œæ‰€ä»¥ä»»ä½•ä¸€ä¸ªç›®å½•å¿…é¡»è¦æœ‰xæƒé™æ‰èƒ½æ‰“å¼€å¹¶æŸ¥çœ‹è¯¥ç›®å½•ã€‚ä¾‹å¦‚ä¸€ä¸ªç›®å½•çš„å±æ€§ä¸º drwxrâ€“râ€“ å…¶æ‰€å±ä¸»ä¸ºrootï¼Œé‚£ä¹ˆé™¤äº†rootå¤–çš„å…¶ä»–ç”¨æˆ·æ˜¯ä¸èƒ½æ‰“å¼€è¿™ä¸ªç›®å½•çš„ã€‚</p><p>ç¬¬2åˆ—ï¼Œè¡¨ç¤ºä¸ºè¿æ¥å ç”¨çš„èŠ‚ç‚¹ï¼ˆinodeï¼‰ï¼Œè‹¥ä¸ºç›®å½•æ—¶ï¼Œé€šå¸¸ä¸è¯¥ç›®å½•åœ°ä¸‹è¿˜æœ‰å¤šå°‘ç›®å½•æœ‰å…³ç³»ï¼Œå…³äºè¿æ¥ï¼ˆlinkï¼‰åœ¨ä»¥åç« èŠ‚è¯¦ç»†ä»‹ç»ã€‚</p><p>ç¬¬3åˆ—ï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‰€å±ä¸»ã€‚</p><p>ç¬¬4åˆ—ï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‰€å±ç»„ã€‚</p><p>ç¬¬5åˆ—ï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶çš„å¤§å°ã€‚</p><p>ç¬¬6åˆ—ã€ç¬¬7åˆ—å’Œç¬¬8åˆ—ä¸ºè¯¥æ–‡ä»¶çš„åˆ›å»ºæ—¥æœŸæˆ–è€…æœ€è¿‘çš„ä¿®æ”¹æ—¥æœŸï¼Œåˆ†åˆ«ä¸ºæœˆä»½æ—¥æœŸä»¥åŠæ—¶é—´ã€‚</p><p>ç¬¬9åˆ—ï¼Œæ–‡ä»¶åã€‚å¦‚æœå‰é¢æœ‰ä¸€ä¸ª. åˆ™è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºéšè—æ–‡ä»¶ã€‚</p><h2 id="æ›´æ”¹æ–‡ä»¶çš„æƒé™"><a href="#æ›´æ”¹æ–‡ä»¶çš„æƒé™" class="headerlink" title="æ›´æ”¹æ–‡ä»¶çš„æƒé™"></a>æ›´æ”¹æ–‡ä»¶çš„æƒé™</h2><p>==ï¼Ÿï¼Ÿï¼Ÿå¤ªå¤šäº†ï¼Ÿï¼Ÿï¼Ÿä»¥åå†å­¦==</p><h2 id="åœ¨-linux-ä¸‹æœç´¢ä¸€ä¸ªæ–‡ä»¶"><a href="#åœ¨-linux-ä¸‹æœç´¢ä¸€ä¸ªæ–‡ä»¶" class="headerlink" title="åœ¨ linux ä¸‹æœç´¢ä¸€ä¸ªæ–‡ä»¶"></a>åœ¨ linux ä¸‹æœç´¢ä¸€ä¸ªæ–‡ä»¶</h2><ul><li><p>which ç”¨æ¥æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶çš„ç»å¯¹è·¯å¾„</p><p>  whichåªèƒ½ç”¨æ¥æŸ¥æ‰¾PATHç¯å¢ƒå˜é‡ä¸­å‡ºç°çš„è·¯å¾„ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ä¸çŸ¥é“æŸä¸ªå‘½ä»¤çš„ç»å¯¹è·¯å¾„ï¼Œwhichä¸€ä¸‹å°±çŸ¥é“äº†ã€‚</p></li><li><p>whereis é€šè¿‡é¢„å…ˆç”Ÿæˆçš„ä¸€ä¸ªæ–‡ä»¶åˆ—è¡¨åº“å»æŸ¥æ‰¾è·Ÿç»™å‡ºçš„æ–‡ä»¶åç›¸å…³çš„æ–‡ä»¶ã€‚</p><p>  è¯­æ³•ï¼š whereis [-bmsu] [æ–‡ä»¶åç§°]</p><p>  -bï¼šåªæ‰¾binary æ–‡ä»¶</p><p>  -mï¼šåªæ‰¾åœ¨è¯´æ˜æ–‡ä»¶manualè·¯å¾„ä¸‹çš„æ–‡ä»¶</p><p>  -sï¼šåªæ‰¾sourceæ¥æºæ–‡ä»¶</p><p>  -uï¼šæ²¡æœ‰è¯´æ˜æ¡£çš„æ–‡ä»¶</p></li><li><p>locate ç±»ä¼¼äºwhereisï¼Œä¹Ÿæ˜¯é€šè¿‡æŸ¥æ‰¾é¢„å…ˆç”Ÿæˆçš„æ–‡ä»¶åˆ—è¡¨åº“æ¥å‘Šè¯‰ç”¨æˆ·è¦æŸ¥æ‰¾çš„æ–‡ä»¶åœ¨å“ªé‡Œã€‚åè¾¹ç›´æ¥è·Ÿæ–‡ä»¶åã€‚</p></li><li><p><strong>find</strong> ç”¨çš„æœ€å¤šï¼ŒåŠ¡å¿…è¦ç†Ÿæ‚‰ã€‚<br>  è¯­æ³•ï¼š find [è·¯å¾„] [å‚æ•°] ä¸‹é¢ä»‹ç»å‡ ä¸ªç¬”è€…ç»å¸¸ç”¨çš„å‚æ•°</p><p>  -atime +n ï¼šè®¿é—®æˆ–æ‰§è¡Œæ—¶é—´å¤§äºnå¤©çš„æ–‡ä»¶</p><p>  -ctime +n ï¼šå†™å…¥ã€æ›´æ”¹inodeå±æ€§ï¼ˆä¾‹å¦‚æ›´æ”¹æ‰€æœ‰è€…ã€æƒé™æˆ–è€…è¿æ¥ï¼‰æ—¶é—´å¤§äºnå¤©çš„æ–‡ä»¶</p><p>  -mtime +n ï¼šå†™å…¥æ—¶é—´å¤§äºnå¤©çš„æ–‡ä»¶</p><p>  -name filename <strong>ç›´æ¥æŸ¥æ‰¾è¯¥æ–‡ä»¶åçš„æ–‡ä»¶ï¼Œè¿™ä¸ªä½¿ç”¨æœ€å¤šäº†ã€‚</strong></p><p>  -type type ï¼šé€šè¿‡æ–‡ä»¶ç±»å‹æŸ¥æ‰¾ã€‚type åŒ…å«äº† f, b, c, d, l, s ç­‰ç­‰ã€‚åç»­çš„å†…å®¹è¿˜ä¼šä»‹ç»æ–‡ä»¶ç±»å‹çš„ã€‚</p></li></ul><p>ä½ å¯¹è¿™ä¸‰ä¸ªtimeæ˜¯ä¸æ˜¯æœ‰äº›æ™•äº†ï¼Œé‚£ç¬”è€…å°±å…ˆç»™ä½ ä»‹ç»ä¸€ä¸‹è¿™ä¸‰ä¸ªtimeå±æ€§ã€‚</p><p>æ–‡ä»¶çš„ Access timeï¼Œatime æ˜¯åœ¨è¯»å–æ–‡ä»¶æˆ–è€…æ‰§è¡Œæ–‡ä»¶æ—¶æ›´æ”¹çš„ã€‚æ–‡ä»¶çš„ Modified timeï¼Œmtime æ˜¯åœ¨å†™å…¥æ–‡ä»¶æ—¶éšæ–‡ä»¶å†…å®¹çš„æ›´æ”¹è€Œæ›´æ”¹çš„ã€‚<br>æ–‡ä»¶çš„ Create timeï¼Œctime æ˜¯åœ¨å†™å…¥æ–‡ä»¶ã€æ›´æ”¹æ‰€æœ‰è€…ã€æƒé™æˆ–é“¾æ¥è®¾ç½®æ—¶éš Inode çš„å†…å®¹æ›´æ”¹è€Œæ›´æ”¹çš„ã€‚<br>å› æ­¤ï¼Œæ›´æ”¹æ–‡ä»¶çš„å†…å®¹å³ä¼šæ›´æ”¹ mtime å’Œ ctimeï¼Œä½†æ˜¯æ–‡ä»¶çš„ ctime å¯èƒ½ä¼šåœ¨ mtime æœªå‘ç”Ÿä»»ä½•å˜åŒ–æ—¶æ›´æ”¹ï¼Œä¾‹å¦‚ï¼Œæ›´æ”¹äº†æ–‡ä»¶çš„æƒé™ï¼Œä½†æ˜¯æ–‡ä»¶å†…å®¹æ²¡æœ‰å˜åŒ–ã€‚ å¦‚ä½•è·å¾—ä¸€ä¸ªæ–‡ä»¶çš„atime mtime ä»¥åŠctime ï¼Ÿ</p><p>ls -l å‘½ä»¤å¯ç”¨æ¥åˆ—å‡ºæ–‡ä»¶çš„ atimeã€ctime å’Œ mtimeã€‚</p><p>ls -lc filename         åˆ—å‡ºæ–‡ä»¶çš„ ctime</p><p>ls -lu filename         åˆ—å‡ºæ–‡ä»¶çš„ atime</p><p>ls -l filename          åˆ—å‡ºæ–‡ä»¶çš„ mtime</p><p>atimeä¸ä¸€å®šåœ¨è®¿é—®æ–‡ä»¶ä¹‹åè¢«ä¿®æ”¹ï¼Œå› ä¸ºï¼š<br>ä½¿ç”¨ext3æ–‡ä»¶ç³»ç»Ÿçš„æ—¶å€™ï¼Œå¦‚æœåœ¨mountçš„æ—¶å€™ä½¿ç”¨äº†noatimeå‚æ•°é‚£ä¹ˆå°±ä¸ä¼šæ›´æ–°atimeçš„ä¿¡æ¯ã€‚è€Œè¿™æ˜¯åŠ äº† noatime å–æ¶ˆäº†, ä¸ä»£è¡¨çœŸå®æƒ…æ³ã€‚<br>åæ­£, é€™ä¸‰å€‹ time stamp éƒ½æ”¾åœ¨ inode ä¸­ã€‚è‹¥ mtime, atime ä¿®æ”¹inode å°±ä¸€å®šæœƒæ”¹, æ—¢ç„¶ inode æ”¹äº†, é‚£ ctime ä¹Ÿå°±è·Ÿè‘—è¦æ”¹äº†ã€‚</p><h2 id="linux-æ–‡ä»¶ç±»å‹"><a href="#linux-æ–‡ä»¶ç±»å‹" class="headerlink" title="linux æ–‡ä»¶ç±»å‹"></a>linux æ–‡ä»¶ç±»å‹</h2><p>1ï¼‰æ­£è§„æ–‡ä»¶ï¼ˆregular fileï¼‰ï¼šå°±æ˜¯ä¸€èˆ¬ç±»å‹çš„æ–‡ä»¶ï¼Œå½“ç”¨ls â€“l æŸ¥çœ‹æŸä¸ªç›®å½•æ—¶ï¼Œç¬¬ä¸€ä¸ªå±æ€§ä¸ºâ€-â€œçš„æ–‡ä»¶å°±æ˜¯æ­£è§„æ–‡ä»¶ï¼Œæˆ–è€…å«æ™®é€šæ–‡ä»¶ã€‚æ­£è§„æ–‡ä»¶åˆå¯åˆ†æˆçº¯æ–‡å­—æ–‡ä»¶ï¼ˆasciiï¼‰å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆbinaryï¼‰ã€‚çº¯æ–‡æœ¬æ–‡ä»¶æ˜¯å¯ä»¥é€šè¿‡cat, more, lessç­‰å·¥å…·ç›´æ¥æŸ¥çœ‹å†…å®¹çš„ï¼Œè€ŒäºŒè¿›åˆ¶æ–‡ä»¶å¹¶ä¸èƒ½ã€‚ä¾‹å¦‚æˆ‘ä»¬ç”¨çš„å‘½ä»¤/bin/ls è¿™å°±æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><p>2ï¼‰ç›®å½•ï¼ˆdirectoryï¼‰å³æ–‡ä»¶å¤¹,ls â€“l æŸ¥çœ‹ç¬¬ä¸€ä¸ªå±æ€§ä¸ºâ€dâ€ã€‚</p><p>3ï¼‰è¿æ¥æ¡£ï¼ˆlinkï¼‰ï¼šls â€“l æŸ¥çœ‹ç¬¬ä¸€ä¸ªå±æ€§ä¸º â€œlâ€ï¼Œç±»ä¼¼windowsä¸‹çš„å¿«æ·æ–¹å¼ã€‚</p><p>4ï¼‰è®¾å¤‡æ¡£ï¼ˆdeviceï¼‰ï¼šä¸ç³»ç»Ÿå‘¨è¾¹ç›¸å…³çš„ä¸€äº›æ¡£æ¡ˆï¼Œé€šå¸¸éƒ½é›†ä¸­åœ¨ /dev è¿™ä¸ªç›®å½•ä¹‹ä¸‹ï¼é€šå¸¸åˆåˆ†ä¸ºä¸¤ç§ï¼š<br>    åŒºå— (block) è®¾å¤‡æ¡£ï¼šè¯´å°±æ˜¯ç¡¬ç›˜å•¦ï¼ä¾‹å¦‚ä½ çš„ä¸€å·ç¡¬ç›˜çš„ä»£ç æ˜¯ /dev/hda1 ç­‰ç­‰çš„æ¡£æ¡ˆå•¦ï¼ç¬¬ä¸€ä¸ªå±æ€§ä¸º â€œ b â€œï¼›<br>    å­—ç¬¦ (character) è®¾å¤‡æ¡£ï¼šäº¦å³æ˜¯ä¸€äº›ä¸²è¡Œç«¯å£çš„æ¥å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡ç­‰ç­‰ï¼ç¬¬ä¸€ä¸ªå±æ€§ä¸º â€œ c â€œã€‚</p><h3 id="linux-æ–‡ä»¶åç¼€å"><a href="#linux-æ–‡ä»¶åç¼€å" class="headerlink" title="linux æ–‡ä»¶åç¼€å"></a>linux æ–‡ä»¶åç¼€å</h3><p>1.shä»£è¡¨å®ƒæ˜¯ä¸€ä¸ªshell script<br>2.tar.gz ä»£è¡¨å®ƒæ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œ<br>3.my.cnf ä»£è¡¨å®ƒæ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œ<br>4.test.zip ä»£è¡¨å®ƒæ˜¯ä¸€ä¸ªå‹ç¼©æ–‡ä»¶ã€‚<br>æ—©æœŸUnixç³»ç»Ÿæ–‡ä»¶åæœ€å¤šå…è®¸14ä¸ªå­—ç¬¦ï¼Œè€Œæ–°çš„Unixæˆ–è€…linuxç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶åæœ€é•¿å¯ä»¥åˆ°è¾¾ 256 ä¸ªå­—ç¬¦ï¼</p><h2 id="å‹ç¼©-è§£å‹ç¼©"><a href="#å‹ç¼©-è§£å‹ç¼©" class="headerlink" title="å‹ç¼© è§£å‹ç¼©"></a>å‹ç¼© è§£å‹ç¼©</h2><p>tar</p><p>  è§£åŒ…ï¼štar zxvf filename.tar</p><p>  æ‰“åŒ…ï¼štar czvf filename.tar dirname</p><p>zipå‘½ä»¤</p><p>è§£å‹ï¼šunzip filename.zip</p><p>å‹ç¼©ï¼šzip filename.zip dirname</p><h2 id="ln-å»ºç«‹è¿æ¥æ¡£"><a href="#ln-å»ºç«‹è¿æ¥æ¡£" class="headerlink" title="ln å»ºç«‹è¿æ¥æ¡£"></a>ln å»ºç«‹è¿æ¥æ¡£</h2><p>ln è¯­æ³•ï¼š ln [-s] [æ¥æºæ–‡ä»¶] [ç›®çš„æ–‡ä»¶]<br>ln å¸¸ç”¨çš„é€‰é¡¹å°±ä¸€ä¸ª-s ï¼Œå¦‚æœä¸åŠ å°±æ˜¯å»ºç«‹ç¡¬è¿æ¥ï¼ŒåŠ ä¸Šå°±å»ºç«‹è½¯è¿æ¥ã€‚</p><p>Hard Link çš„é™åˆ¶å¤ªå¤šäº†ï¼ŒåŒ…æ‹¬æ— æ³•åšç›®å½•çš„ link ï¼Œæ‰€ä»¥åœ¨ç”¨é€”ä¸Šé¢æ˜¯æ¯”è¾ƒå—é™çš„ï¼åè€Œæ˜¯ Symbolic Link çš„ä½¿ç”¨æ–¹å‘è¾ƒå¹¿ï¼<br>åœ¨å»ºç«‹ç¡¬è¿æ¥å‰åï¼Œç©ºé—´å¤§å°ä¸æ”¹å˜ã€‚<br>ä¸èƒ½åˆ›å»ºç›®å½•çš„ç¡¬è¿æ¥ã€‚<br>ç›®å½•æ˜¯å¯ä»¥è½¯è¿æ¥çš„ã€‚<br>åˆ é™¤è½¯è¿æ¥å¯¹æºæ–‡ä»¶æ²¡æœ‰ä»»ä½•å½±å“ã€‚</p><h2 id="ç¯å¢ƒå˜é‡-PATH"><a href="#ç¯å¢ƒå˜é‡-PATH" class="headerlink" title="ç¯å¢ƒå˜é‡ PATH"></a>ç¯å¢ƒå˜é‡ PATH</h2><p>æœ‰ä¸¤ä¸ªæ–¹æ³•ã€‚</p><p>ä¸€ç§æ–¹æ³•æ˜¯ç›´æ¥å°† /root çš„è·¯å¾„åŠ å…¥ PATH å½“ä¸­ï¼å¦‚ä½•å¢åŠ ï¼Ÿå¯ä»¥ä½¿ç”¨ï¼š ã€€</p><p>PATH=â€$PATHâ€:/root</p><p>å¦ä¸€ç§æ–¹å¼åˆ™æ˜¯ä½¿ç”¨å®Œæ•´æ¡£åï¼Œäº¦å³ç›´æ¥ä½¿ç”¨ç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„æ¥æ‰§è¡Œï¼Œä¾‹å¦‚ï¼š</p><p>/root/ls</p><p>./ls</p><p>====</p><h3 id="vimæŸ¥çœ‹ç‰ˆæœ¬"><a href="#vimæŸ¥çœ‹ç‰ˆæœ¬" class="headerlink" title="vimæŸ¥çœ‹ç‰ˆæœ¬"></a>vimæŸ¥çœ‹ç‰ˆæœ¬</h3><p>vim</p><h4 id="è®¾ç½®vimç¼–ç "><a href="#è®¾ç½®vimç¼–ç " class="headerlink" title="è®¾ç½®vimç¼–ç "></a>è®¾ç½®vimç¼–ç </h4><p>vim ~/.vimrc</p><h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2><h3 id="vim-ç¼–è¾‘"><a href="#vim-ç¼–è¾‘" class="headerlink" title="vim ç¼–è¾‘"></a>vim ç¼–è¾‘</h3><p> æŒ‰i ,è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œ</p><p> ç¼–è¾‘å®Œæˆåï¼ŒæŒ‰escé€€å‡ºç¼–è¾‘æ¨¡å¼</p><h4 id="é€€å‡ºä¿å­˜"><a href="#é€€å‡ºä¿å­˜" class="headerlink" title="é€€å‡ºä¿å­˜"></a>é€€å‡ºä¿å­˜</h4><p> :wq</p><h4 id="é€€å‡ºä¸ä¿å­˜"><a href="#é€€å‡ºä¸ä¿å­˜" class="headerlink" title="é€€å‡ºä¸ä¿å­˜"></a>é€€å‡ºä¸ä¿å­˜</h4><p> :q<br>ä¼šæç¤º: No write since last change (add ! to override)<br>å†è¾“å…¥ä¸€æ¬¡</p><p>:q!<br>å³å¯</p><p>å°†ä»¥ä¸‹å¤åˆ¶åˆ°å…¶ä¸­</p><p>syntax on<br>set nu!<br>set encoding=utf-8<br>set fenc=utf-8<br>set fileencodings=ucs-bom,utf-8,cp936,gb2312,gb18030</p><h4 id="æŸ¥çœ‹ç³»ç»Ÿçš„ç¼–ç "><a href="#æŸ¥çœ‹ç³»ç»Ÿçš„ç¼–ç " class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿçš„ç¼–ç "></a>æŸ¥çœ‹ç³»ç»Ÿçš„ç¼–ç </h4><p>echo $LANG</p><h2 id="ä¹±ç è§£å†³æ–¹æ¡ˆ"><a href="#ä¹±ç è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ä¹±ç è§£å†³æ–¹æ¡ˆ"></a>ä¹±ç è§£å†³æ–¹æ¡ˆ</h2><ol><li>ç³»ç»Ÿç¼–ç </li><li>vimçš„ç¼–ç </li><li>è¿æ¥æœåŠ¡å™¨çš„ç»ˆç«¯ã€‚<ol><li>SecureCRTè®¾ç½®å­—æ¡ç¼–ç <br>Optionâ€“Session Optionâ€“Appearance<br>è®¾ç½®å­—ç¬¦ç¼–ç </li></ol></li></ol><h2 id="å‘½ä»¤è¡Œè¿œç¨‹ç™»å½•æœåŠ¡å™¨"><a href="#å‘½ä»¤è¡Œè¿œç¨‹ç™»å½•æœåŠ¡å™¨" class="headerlink" title="å‘½ä»¤è¡Œè¿œç¨‹ç™»å½•æœåŠ¡å™¨"></a>å‘½ä»¤è¡Œè¿œç¨‹ç™»å½•æœåŠ¡å™¨</h2><p>ssh <a href="mailto:&#x72;&#x6f;&#111;&#116;&#64;&#49;&#57;&#x32;&#x2e;&#x31;&#x36;&#x38;&#x2e;&#49;&#46;&#x32;&#x35;">&#x72;&#x6f;&#111;&#116;&#64;&#49;&#57;&#x32;&#x2e;&#x31;&#x36;&#x38;&#x2e;&#49;&#46;&#x32;&#x35;</a><br>    ç”¨æˆ·å@ip</p><h2 id="æœåŠ¡å™¨ä¸Šå®‰è£…å…¬é’¥"><a href="#æœåŠ¡å™¨ä¸Šå®‰è£…å…¬é’¥" class="headerlink" title="æœåŠ¡å™¨ä¸Šå®‰è£…å…¬é’¥"></a>æœåŠ¡å™¨ä¸Šå®‰è£…å…¬é’¥</h2><p>é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå®‰è£…å…¬é’¥ï¼š</p><p>[root@host ~]$ cd .ssh</p><p>[root@host .ssh]$ cat id_rsa.pub &gt;&gt; authorized_keys</p><p>å°†æœ¬åœ°çš„keyå¤åˆ¶åˆ°authorized_keysæ–‡ä»¶ä¸­</p><h3 id="ä»gitbashä¸­è·ssh-key"><a href="#ä»gitbashä¸­è·ssh-key" class="headerlink" title="ä»gitbashä¸­è·ssh key"></a>ä»gitbashä¸­è·ssh key</h3><p>  clip &lt; ~/.ssh/id_rsa.pub</p><p> ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDOmNk1rDPVPv+DTpe/ynM9dLDj/FjG/3xkAvjz8EoxSM/QBXNLj69m0SXA4jI6LOIwuS3Pdn011qWGa14zHPDI0wY9cGzlC+AvcuAZ0s+ndppAVk5PktYM0zCfBhlpLyHCgCVNxDxv1shd1A+gG3Lbi+tJ75oOnvJ5uSWC6x6wJgwJy/zUdQHTA3od4Mfkbz/6hr1sWqnCJE3r4H9Na6XtYMbjyl+O+JnePxH4PDwT/0MVxPpojyEqAv/FE9Gb7WjqmLsT5TWEoRhb4V0pm75moh6QObgqQ+RfJLS6Cz+NIvep980qVrYaRQGQG+7bEwy3fNDZlSGXRUALgELceVP/ HP@HP-PC</p><h2 id="æŸ¥çœ‹ç‰ˆæœ¬å·"><a href="#æŸ¥çœ‹ç‰ˆæœ¬å·" class="headerlink" title="æŸ¥çœ‹ç‰ˆæœ¬å·"></a>æŸ¥çœ‹ç‰ˆæœ¬å·</h2><p> uname -r</p><h2 id="æŸ¥çœ‹ç³»ç»Ÿ"><a href="#æŸ¥çœ‹ç³»ç»Ÿ" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿ"></a>æŸ¥çœ‹ç³»ç»Ÿ</h2><p>uname</p><h2 id="æŸ¥çœ‹å½“å‰æ­£åœ¨è¿›è¡Œçš„è¿›ç¨‹"><a href="#æŸ¥çœ‹å½“å‰æ­£åœ¨è¿›è¡Œçš„è¿›ç¨‹" class="headerlink" title="æŸ¥çœ‹å½“å‰æ­£åœ¨è¿›è¡Œçš„è¿›ç¨‹"></a>æŸ¥çœ‹å½“å‰æ­£åœ¨è¿›è¡Œçš„è¿›ç¨‹</h2><p> jobs</p><h2 id="å¯ä¸€ä¸ªæœåŠ¡ï¼Œåœ¨åå°æ‰§è¡Œï¼Œå¹¶å°†æ—¥å¿—è¾“å‡ºåˆ°log"><a href="#å¯ä¸€ä¸ªæœåŠ¡ï¼Œåœ¨åå°æ‰§è¡Œï¼Œå¹¶å°†æ—¥å¿—è¾“å‡ºåˆ°log" class="headerlink" title="å¯ä¸€ä¸ªæœåŠ¡ï¼Œåœ¨åå°æ‰§è¡Œï¼Œå¹¶å°†æ—¥å¿—è¾“å‡ºåˆ°log"></a>å¯ä¸€ä¸ªæœåŠ¡ï¼Œåœ¨åå°æ‰§è¡Œï¼Œå¹¶å°†æ—¥å¿—è¾“å‡ºåˆ°log</h2><p> node . &gt;log 2&gt;&amp;1 &amp;</p><p> tail -f log</p><h2 id="æŸ¥æ‰¾æŸä¸ªè¿›ç¨‹-eg-node"><a href="#æŸ¥æ‰¾æŸä¸ªè¿›ç¨‹-eg-node" class="headerlink" title="æŸ¥æ‰¾æŸä¸ªè¿›ç¨‹(eg:node)"></a>æŸ¥æ‰¾æŸä¸ªè¿›ç¨‹(eg:node)</h2><p> ps -ef|grep node</p><h2 id="åœ¨å†å²å‘½ä»¤ä¸­æŸ¥æ‰¾æŸä¸ªå‘½ä»¤"><a href="#åœ¨å†å²å‘½ä»¤ä¸­æŸ¥æ‰¾æŸä¸ªå‘½ä»¤" class="headerlink" title="åœ¨å†å²å‘½ä»¤ä¸­æŸ¥æ‰¾æŸä¸ªå‘½ä»¤"></a>åœ¨å†å²å‘½ä»¤ä¸­æŸ¥æ‰¾æŸä¸ªå‘½ä»¤</h2><p> history|grep cd</p><h2 id="å†™äº†è„šæœ¬ä»¥åæ‰§è¡Œä¸€ä¸ªè„šæœ¬"><a href="#å†™äº†è„šæœ¬ä»¥åæ‰§è¡Œä¸€ä¸ªè„šæœ¬" class="headerlink" title="å†™äº†è„šæœ¬ä»¥åæ‰§è¡Œä¸€ä¸ªè„šæœ¬"></a>å†™äº†è„šæœ¬ä»¥åæ‰§è¡Œä¸€ä¸ªè„šæœ¬</h2><p>./control.sh</p><h2 id="linux-æŸ¥æ‰¾æ–‡ä»¶"><a href="#linux-æŸ¥æ‰¾æ–‡ä»¶" class="headerlink" title="linux æŸ¥æ‰¾æ–‡ä»¶"></a>linux æŸ¥æ‰¾æ–‡ä»¶</h2><p>find / -name nginx.conf</p><p>find / -name php.ini</p><p>find / -name my.cnf</p><p>find / -name httpd.conf</p><h2 id="php-ç›¸å…³"><a href="#php-ç›¸å…³" class="headerlink" title="php ç›¸å…³"></a>php ç›¸å…³</h2><p> æŸ¥çœ‹phpè¿è¡Œç›®å½•å‘½ä»¤ï¼š<br>which php</p><p>which ç”¨æ¥æŸ¥æ‰¾ä¸€ä¸ªå‘½ä»¤çš„ç»å¯¹è·¯å¾„</p><p>/usr/bin/php<br>æŸ¥çœ‹php-fpmè¿›ç¨‹æ•°ï¼š</p><p>ps aux | grep -c php-fpm</p><p>æŸ¥çœ‹è¿è¡Œå†…å­˜<br>/usr/bin/phpÂ  -i|grep mem</p><p>å…³é—­PHP</p><p>killall php-fpm</p><p>phpé‡å¯</p><p>/usr/local/php/sbin/php-fpm &amp;</p><h2 id="php-é…ç½®"><a href="#php-é…ç½®" class="headerlink" title="php é…ç½®"></a>php é…ç½®</h2><ol><li>ç«¯å£ httpd.conf listen 80</li></ol><p>2.</p><h2 id="æŸ¥çœ‹linux-IP"><a href="#æŸ¥çœ‹linux-IP" class="headerlink" title="æŸ¥çœ‹linux IP"></a>æŸ¥çœ‹linux IP</h2><h3 id="å…¬ç½‘IP"><a href="#å…¬ç½‘IP" class="headerlink" title="å…¬ç½‘IP"></a>å…¬ç½‘IP</h3><p>curl members.3322.org/dyndns/getip</p><p>47.94.93.83</p><h3 id="å†…ç½‘IP"><a href="#å†…ç½‘IP" class="headerlink" title="å†…ç½‘IP"></a>å†…ç½‘IP</h3><p>ifconfig</p><p>inet addr:192.168.42.128</p><h2 id="NGINX"><a href="#NGINX" class="headerlink" title="NGINX"></a>NGINX</h2><p>å¯åŠ¨ï¼š/usr/local/nginx/sbin/nginx</p><p>service nginx start<br>å…³é—­ï¼š/usr/local/nginx/sbin/nginx  -s stop</p><p>service nginx stop</p><p>é‡å¯ï¼š/usr/local/nginx/sbin/nginx -s  reload</p><p>æŸ¥çœ‹nginxçŠ¶æ€<br> service nginx status</p><p>æŸ¥çœ‹å½“å‰nginxç›®å½•<br>ps -ef | grep nginx<br>å¯ä»¥åœ¨confç›®å½•ä¸‹çš„nginx.confä¸­æ‰¾åˆ°å¯¹åº”çš„é…ç½®ã€‚</p><p>æŸ¥çœ‹ä¸€ä¸ªæœåŠ¡æ˜¯å¦å·²ç»å¯åŠ¨ï¼š</p><p>ps -A | grep nginx</p><p>å¦‚æœè¿”å›ç»“æœçš„è¯ï¼Œè¯´æ˜æœ‰nginxåœ¨è¿è¡Œï¼ŒæœåŠ¡å·²ç»å¯åŠ¨</p><p>nginx -V æŸ¥çœ‹nginxå®‰è£…ç›®å½•</p><p>cd /usr/local/etc/nginx é‡Œæœ‰nginx.conf</p><p>sudo nginx -s reload<br>Sudo nginx -s stop</p><p>openresty/nginx/coupon</p><p>./sbin/nginx -s reload</p><p>Nginx å‘½ä»¤<br>service nginx stop/start/status/reload</p><p>2ã€æŸ¥çœ‹nginx.confé…ç½®æ–‡ä»¶ç›®å½•</p><p>è¾“å…¥å‘½ä»¤</p><h3 id="nginx-t"><a href="#nginx-t" class="headerlink" title="nginx -t"></a>nginx -t</h3><p>è¿”å›ç»“æœåŒ…å«é…ç½®æ–‡ä»¶ç›®å½•<br>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</p><p>nginx: configuration file /etc/nginx/nginx.conf test is successful</p><p>æ£€æŸ¥ä¸‹80ç«¯å£æ˜¯å¦è¢«å…¶ä»–è¿›ç¨‹å ç”¨äº†ã€‚<br>lsof -i:80</p><h3 id="Nginx-é…ç½®å®ç°CORS"><a href="#Nginx-é…ç½®å®ç°CORS" class="headerlink" title="Nginx é…ç½®å®ç°CORS"></a>Nginx é…ç½®å®ç°CORS</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">location ^~ &#x2F;api&#x2F;v1 &#123;</span><br><span class="line"></span><br><span class="line"> add_header &#39;Access-Control-Allow-Origin&#39; &quot;$http_origin&quot;;</span><br><span class="line"> add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, PUT, DELETE, OPTIONS&#39;;</span><br><span class="line"> add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type    &#39;;</span><br><span class="line"> add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;</span><br><span class="line"> if ($request_method &#x3D; &#39;OPTIONS&#39;) &#123;</span><br><span class="line">  add_header &#39;Access-Control-Allow-Origin&#39; &quot;$http_origin&quot;;</span><br><span class="line">  add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, PUT, DELETE, OPTIONS&#39;;</span><br><span class="line">  add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type    &#39;;</span><br><span class="line">  add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;</span><br><span class="line">  add_header &#39;Access-Control-Max-Age&#39; 1728000; # 20 å¤©</span><br><span class="line">  add_header &#39;Content-Type&#39; &#39;text&#x2F;html charset&#x3D;UTF-8&#39;;</span><br><span class="line">  add_header &#39;Content-Length&#39; 0;</span><br><span class="line">  return 200;</span><br><span class="line"> &#125;</span><br><span class="line">    # è¿™ä¸‹é¢æ˜¯è¦è¢«ä»£ç†çš„åç«¯æœåŠ¡å™¨ï¼Œå®ƒä»¬å°±ä¸éœ€è¦ä¿®æ”¹ä»£ç æ¥æ”¯æŒè·¨åŸŸäº†</span><br><span class="line"> proxy_pass http:&#x2F;&#x2F;127.0.0.1:8085;</span><br><span class="line"> proxy_set_header Host $host;</span><br><span class="line"> proxy_redirect off;</span><br><span class="line"> proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line"> proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line"> proxy_connect_timeout 60;</span><br><span class="line"> proxy_read_timeout 60;</span><br><span class="line"> proxy_send_timeout 60;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="telnet-80-dç«¯å£pingä¸é€š"><a href="#telnet-80-dç«¯å£pingä¸é€š" class="headerlink" title="telnet 80 dç«¯å£pingä¸é€š"></a>telnet 80 dç«¯å£pingä¸é€š</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl &lt;http://127.0.0.1&gt;</span><br><span class="line">curl http:oriht.com</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å®ä¾‹å®‰å…¨ç»„è§„åˆ™  ç«¯å£èŒƒå›´æ˜¯å¦æœ‰80ç«¯å£</p><p>å…è®¸è‡ªå®šä¹‰ TCP</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">80&#x2F;80 åœ°å€æ®µè®¿é—®</span><br><span class="line">0.0.0.0&#x2F;0</span><br><span class="line">-</span><br><span class="line"></span><br><span class="line">1 2017-09-25 11:03:54</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>å¦‚æœæ–°é…ç½®nginxä¸€ç›´403 ç¦æ­¢è®¿é—®çš„è¯</p><p>ä¿®æ”¹/etc/selinux/config<br>å°†SELINUX=enforcing æ”¹ä¸º<br>SELINUX=disabled</p><h2 id="è·Ÿç€å´åšå­¦linux"><a href="#è·Ÿç€å´åšå­¦linux" class="headerlink" title="è·Ÿç€å´åšå­¦linux"></a>è·Ÿç€å´åšå­¦linux</h2><p>ls -lh</p><p>sudo sh updata_<a href="http://www.sh/">www.sh</a></p><p>less update_<a href="http://www.sh/">www.sh</a></p><p>ls -l</p><p>sudo su root</p><p>git branch -r</p><h2 id="bin-bash"><a href="#bin-bash" class="headerlink" title="!/bin/bash"></a>!/bin/bash</h2><p>rm www-old<br>mv ./www ./www-old<br>ln -s ./ac-www-releases/ac-www-2016-10-17/ www<br>sh git.pull.sh</p><p>exit</p><p>sudo sh update_<a href="http://www.sh/">www.sh</a></p><hr><h2 id="æ‰¾ä¸åˆ°httpd-conf"><a href="#æ‰¾ä¸åˆ°httpd-conf" class="headerlink" title="æ‰¾ä¸åˆ°httpd.conf"></a>æ‰¾ä¸åˆ°httpd.conf</h2><p>httpd.confçš„ä½ç½®ä¸€èˆ¬ä½äº<br>/etc/httpd/conf/httpd.conf</p><p>å¦‚æœæ²¡<br>æ‰§è¡Œå‘½ä»¤<br>yum install httpd<br>é‡æ–°å®‰è£…ä¸€ä¸‹ï¼Œ</p><h2 id="æ ¹æ®nginxé…ç½®ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ç›®å½•"><a href="#æ ¹æ®nginxé…ç½®ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ç›®å½•" class="headerlink" title="æ ¹æ®nginxé…ç½®ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ç›®å½•"></a>æ ¹æ®nginxé…ç½®ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ç›®å½•</h2><p>åŸæœ¬nginxé…ç½®å¥½åï¼Œç›®å½•åº”è¯¥åœ¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root &#x2F;data&#x2F;www&#x2F;hosts;</span><br></pre></td></tr></table></figure><p>ä½†å¦‚æœæœ‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">location ^~ &#x2F; &#123;</span><br><span class="line">    proxy_buffering off;</span><br><span class="line">    proxy_pass http:&#x2F;&#x2F;127.0.0.1:3001&#x2F;;</span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ™åº”æ ¹æ®3001ç«¯å£æ¥æ‰¾å…·ä½“è¿›ç¨‹å¯¹åº”çš„è¿›ç¨‹</p><p>æ‰§è¡Œ å¦‚ä¸‹å‘½ä»¤æ‰¾åˆ°å¯¹åº”è¿›ç¨‹çš„pid</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo netstat -nplt | grep 3001</span><br></pre></td></tr></table></figure><p>æ ¹æ®pidæ¥æ‰¾åˆ°ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep 37098</span><br></pre></td></tr></table></figure><p>å‡ºç°å¦‚ä¸‹ç»“æœï¼Œåˆ™ä¸ºå¯¹åº”çš„ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">501      37098  0.0  0.2 1209696 42828 ?       Ssl  Aug08   8:37 node /home/nodeProjects/express/dist/index.js</span><br></pre></td></tr></table></figure><h2 id="è·Ÿç€ç«‹æ–Œå­¦å‘½ä»¤è¡Œ"><a href="#è·Ÿç€ç«‹æ–Œå­¦å‘½ä»¤è¡Œ" class="headerlink" title="è·Ÿç€ç«‹æ–Œå­¦å‘½ä»¤è¡Œ"></a>è·Ÿç€ç«‹æ–Œå­¦å‘½ä»¤è¡Œ</h2><p>dash<br>zsh<br>/oh-my-zsh<br>oh-my-zsh</p><p>sh -c â€œ$(curl -fsSL <a href="https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;">https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</a><br>éœ€è¦æå‰è£…zshï¼Œ<br> yum install zsh</p><h2 id="åˆ‡æ¢åˆ°zsh"><a href="#åˆ‡æ¢åˆ°zsh" class="headerlink" title="åˆ‡æ¢åˆ°zsh"></a>åˆ‡æ¢åˆ°zsh</h2><p>chsh -s /usr/local/bin/zsh</p><p>ä¿®æ”¹ä¸»é¢˜ï¼Œç›®å½•<br>/root/.oh-my-zsh/templates/zshrc.zsh-template</p><p>zsh-autosuggestions</p><p>å®‰è£…æ–¹æ³•ï¼š<br>git clone git://github.com/zsh-users/zsh-autosuggestions <del>/.zsh/zsh-autosuggestions<br>source</del>/.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh</p><p>çœ‹ä¸€ä¸‹è‡ªå·±ç›®å‰ä½¿ç”¨çš„ç»ˆç«¯æ˜¯ä»€ä¹ˆï¼š</p><p>echo $SHELL</p><p>æŸ¥çœ‹å½“å‰ä¸»é¢˜</p><p>echo $ZSH_THEME</p><p>æˆ‘ç”¨çš„ä¸»é¢˜<br>robbyrussell</p><p> ä¸»é¢˜ä¿®æ”¹æ–‡ä»¶è·¯å¾„:sudo vim ~/.zshrc</p><h2 id="linux-ç”¨å‘½ä»¤å¯åŠ¨æœåŠ¡ä¸æ‰çº¿"><a href="#linux-ç”¨å‘½ä»¤å¯åŠ¨æœåŠ¡ä¸æ‰çº¿" class="headerlink" title="linux ç”¨å‘½ä»¤å¯åŠ¨æœåŠ¡ä¸æ‰çº¿"></a>linux ç”¨å‘½ä»¤å¯åŠ¨æœåŠ¡ä¸æ‰çº¿</h2><p>åˆ›å»ºcontrol.sh<br>  è¿è¡Œ./control.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">nohup npm start ./ 1&gt;&gt;<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><p>cat access.log | cut -dâ€™ â€˜ -f7 | sort | uniq -c | sort -nr | head -n30</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="posts/hello-world/"/>
      <url>posts/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç«™æ­å»º</title>
      <link href="posts/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"/>
      <url>posts/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="ç½‘ç«™åˆ›å»ºå†ç¨‹"><a href="#ç½‘ç«™åˆ›å»ºå†ç¨‹" class="headerlink" title="ç½‘ç«™åˆ›å»ºå†ç¨‹"></a>ç½‘ç«™åˆ›å»ºå†ç¨‹</h2><h2 id="1-ä¹°åŸŸå"><a href="#1-ä¹°åŸŸå" class="headerlink" title="1. ä¹°åŸŸå"></a>1. ä¹°åŸŸå</h2><pre><code>https://wanwang.aliyun.com/domain/searchresult/å…ˆè¦èµ·åå­—ï¼Œæ‰¾åˆ°åˆé€‚çš„åŸŸåã€‚æ‰¾å¥½åç›´æ¥ä»˜æ¬¾æ”¯ä»˜å°±okäº†ã€‚</code></pre><h3 id="1-1-å®ååˆ¶"><a href="#1-1-å®ååˆ¶" class="headerlink" title="1.1  å®ååˆ¶"></a>1.1  å®ååˆ¶</h3><pre><code>éœ€è¦èº«ä»½è¯ç…§ç‰‡ã€‚ç›´æ¥æ‹ç…§ï¼Œä¸Šä¼ ï¼Œokï¼Œç­‰2ä¸ªå·¥ä½œæ—¥ã€‚</code></pre><h2 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h2><p> <a href="https://cn.aliyun.com/easybuy?spm=5176.8142029.418687.2.QpC6Vr">è´­ä¹°åœ°å€</a></p><p>äº‘æœåŠ¡å™¨ECSï¼ˆåŒ…å¹´åŒ…æœˆï¼‰<br>åœ°åŸŸ: ååŒ— 1<br>å¯ç”¨åŒº: ååŒ— 1 å¯ç”¨åŒº B<br>I/O ä¼˜åŒ–å®ä¾‹: é I/O ä¼˜åŒ–å®ä¾‹<br>å®ä¾‹è§„æ ¼: 1 æ ¸ 2GB<br>ç½‘ç»œç±»å‹: ç»å…¸ç½‘ç»œ<br>å¸¦å®½: 1Mbpsï¼ˆæŒ‰å›ºå®šå¸¦å®½ï¼‰<br>æ“ä½œç³»ç»Ÿ: CentOS 7.2 64ä½<br>ç³»ç»Ÿç›˜: 40GB æ™®é€šäº‘ç›˜<br>å¯†ç : å·²è®¾ç½®<br>å®ä¾‹åç§°: oriht</p><p>linuxå­¦ä¹ ï¼š<br><a href="http://wiki.jikexueyuan.com/project/linux-command/chap03.html">http://wiki.jikexueyuan.com/project/linux-command/chap03.html</a></p><p>ç™»é™†çš„æ“ä½œï¼š<br>ssh root@ip</p><p>ä¸‰ï¼šè¿æ¥æ•°æ®åº“ï¼šmysql -uroot -proot //p</p><p>è¿˜æœ‰å°±æ˜¯é‡åˆ°æ­»é“¾æ¥çš„é—®é¢˜éœ€è¦</p><p>é…ç½®è·¯ç”±ï¼šâ€˜URL_MODELâ€™=2;<br>æˆ–è€…é…ç½®ä¸º0 å’Œ3 è¿™é‡Œéœ€è¦ä»”ç»†æŸ¥çœ‹TPæ‰‹å†Œéƒ¨ç½²é‚£é‡Œã€‚</p><p>ç›´æ¥å†™è·¯å¾„å°±å¯ä»¥</p><p>3ã€‚chkconfig â€“level 35 vsftpd on4.yum -y install vsftpd;5 cd /home/wwwroot/default/6 chmod 777 /home/wwwroot/default/chmod 777 /home/wwwroot/default/ -R<br>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯æƒé™é—®é¢˜ï¼šä½ è¦æŠŠapplicationç›®å½•æƒé™-777ä¾‹å¦‚ï¼šchmod 777 /home/wwwroot/default/ -Rchmod -R 777 /home/wwwroot/default/</p><p><a href="http://www.centoscn.com/image-text/install/2014/0514/2972.html">åœ¨centosä¸Šå®‰è£…git</a></p><h2 id="å¤‡æ¡ˆæµç¨‹"><a href="#å¤‡æ¡ˆæµç¨‹" class="headerlink" title="å¤‡æ¡ˆæµç¨‹"></a>å¤‡æ¡ˆæµç¨‹</h2><p> ç½‘ç«™å¤‡æ¡ˆä¿¡æ¯çœŸå®æ€§æ ¸éªŒå• [æŸ¥çœ‹æ ·ä¾‹] è¯·æ‰“å°3ä»½ï¼ŒæŒ‰ç…§æ ·ä¾‹åˆ†åˆ«å¡«å†™å¹¶å…¨éƒ¨é‚®å¯„</p><p> ç”³è¯·é‚®å¯„å¹•å¸ƒ æ‚¨è‡ªè¡Œæ‹ç…§åä¸Šä¼ </p><h2 id="è¿œç¨‹æ‹·è´"><a href="#è¿œç¨‹æ‹·è´" class="headerlink" title="è¿œç¨‹æ‹·è´"></a>è¿œç¨‹æ‹·è´</h2><p>æ‹·è´è¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶åˆ°æœ¬åœ°:</p><pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r -P ç«¯å£å· ç”¨æˆ·å@IPåœ°å€:/usr/<span class="built_in">local</span>/tomcat_airc/webapps/  /tmp/kyj/</span><br></pre></td></tr></table></figure></code></pre><p>æ‹·è´æœ¬åœ°æ–‡ä»¶åˆ°è¿œç¨‹æœåŠ¡å™¨:</p><pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r /tmp/kyj/sys.war ç”¨æˆ·å@IPåœ°å€:/usr/<span class="built_in">local</span>/tomcat_airc/webapps/</span><br></pre></td></tr></table></figure></code></pre><h2 id="æœåŠ¡å™¨ä¿¡æ¯"><a href="#æœåŠ¡å™¨ä¿¡æ¯" class="headerlink" title="æœåŠ¡å™¨ä¿¡æ¯"></a>æœåŠ¡å™¨ä¿¡æ¯</h2><p> phpçš„é»˜è®¤ç«¯å£æ˜¯8080<br> nginxçš„é»˜è®¤ç«¯å£æ”¹æˆ80</p><h2 id="httpsé…ç½®"><a href="#httpsé…ç½®" class="headerlink" title="httpsé…ç½®"></a>httpsé…ç½®</h2><p> åœ¨é˜¿é‡Œäº‘ä¹°å¥½è¯ä¹¦ï¼Œ</p><ol><li><p>åœ¨nginxå®‰è£…ç›®å½•ä¸‹æ–°å»ºcertç›®å½•<br>cd /usr/local/nginx<br>mkdir cert</p></li><li><p>å°†è¯ä¹¦ä¸‹è½½ä¸‹æ¥ï¼Œå¤åˆ¶åˆ°certç›®å½•ä¸‹<br> scp -r æœ¬åœ°æ–‡ä»¶ç›®å½• root@(ip):/usr/local/nginx/cert/<br> è¿™é‡Œæœ‰123.pem å’Œ123.key,ä¸¤ä¸ªéƒ½è¦ä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨</p></li><li><p>é…ç½®åä¸ç”Ÿæ•ˆ</p></li><li><p>curl -l <a href="http://oriht.com/">http://oriht.com</a></p></li><li><p>wget <a href="http://oriht.com/">http://oriht.com</a></p></li><li><p>éœ€è¦è¿›å…¥é˜¿é‡Œäº‘æœåŠ¡å™¨çš„å®ä¾‹é‡Œï¼Œæ‰¾åˆ°å®‰å…¨ç»„è§„åˆ™ï¼Œé…ç½®443è®¿é—®æƒé™ã€‚æ‰èƒ½è®¿é—®httpsçš„ç«¯å£</p></li><li><p>nginx no input file specified æŸ¥çœ‹nginx error.log, å‘ç°æ˜¯nginxä¹‹å‰çš„é…ç½®æ‰¾ä¸åˆ°è·¯å¾„ä¹‹ç±»çš„é—®é¢˜ï¼Œå…ˆå°†æ‰€æœ‰çš„å…¶ä»–é…ç½®æ³¨é‡Šæ‰ï¼Œmv **.conf **.conf.bak</p></li><li><p>åˆæŠ¥502 Bad Gateway è¯´æ˜¯nginx-fpmçš„å ç”¨å†…å­˜å¤ªå¤šï¼Œé»˜è®¤è¿›ç¨‹æ•°å¤ªå°‘</p></li></ol><p>1ã€æŸ¥çœ‹php fastcgiçš„è¿›ç¨‹æ•°ï¼ˆmax_childrenå€¼ï¼‰</p><p><code>netstat -anop | grep php-cgi | wc -l</code><br>1ã€æŸ¥çœ‹php fastcgiçš„è¿›ç¨‹æ•°ï¼ˆmax_childrenå€¼ï¼‰</p><p><code>netstat -anop | grep php-cgi | wc -l</code></p><p>3ã€è°ƒæ•´/usr/local/php/etc/php-fpm.conf çš„ç›¸å…³è®¾ç½®</p><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pm.max_children &#x3D; 5</span><br><span class="line">request_terminate_timeout &#x3D; 60</span><br></pre></td></tr></table></figure></code></pre><p>éƒ¨åˆ†PHPç¨‹åºçš„æ‰§è¡Œæ—¶é—´è¶…è¿‡äº†Nginxçš„ç­‰å¾…æ—¶é—´ï¼Œå¯ä»¥é€‚å½“å¢åŠ nginx.confé…ç½®æ–‡ä»¶ä¸­FastCGIçš„timeoutæ—¶é—´ï¼Œä¾‹å¦‚ï¼š</p><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">http</span><br><span class="line">&#123;</span><br><span class="line">â€¦â€¦</span><br><span class="line">fastcgi_connect_timeout 300;</span><br><span class="line">fastcgi_send_timeout 300;</span><br><span class="line">fastcgi_read_timeout 300;</span><br><span class="line">â€¦â€¦</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯ç»éªŒç§¯ç´¯</title>
      <link href="posts/%E5%89%8D%E7%AB%AF%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/"/>
      <url>posts/%E5%89%8D%E7%AB%AF%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<h1 id="åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„"><a href="#åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„" class="headerlink" title="åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„"></a>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„</h1><ol><li>instanceofæ“ä½œç¬¦ç”¨æ¥åˆ¤æ–­è¦æ£€æµ‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šæ˜¯å¦å­˜åœ¨æŸä¸ªæ„é€ å‡½æ•°çš„prototypeå±æ€§ã€‚</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var a&#x3D;&#123;&#125;;</span><br><span class="line">var b&#x3D;[];</span><br><span class="line">console.log(a instanceof Object);&#x2F;&#x2F;true</span><br><span class="line">console.log(b instanceof Array);&#x2F;&#x2F;true</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼ï¼ï¼ï¼ï¼ï¼</span><br><span class="line">console.log(b instanceof Object);&#x2F;&#x2F;true</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li><p>Array.isArray()</p></li><li><p>ä½¿ç”¨Object.prototypeä¸Šçš„åŸç”ŸtoString()æ–¹æ³•åˆ¤æ–­ã€‚</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">console.log(Object.prototype.toString.call(a));&#x2F;&#x2F;[object Object]</span><br><span class="line">console.log(Object.prototype.toString.call(b));&#x2F;&#x2F;[object Array]</span><br><span class="line">åŒç†åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å‡½æ•°ï¼š</span><br><span class="line">console.log(Object.prototype.toString.call(obj)&#x3D;&#x3D;&#x3D;&#39;[object Function]&#39;)    &#x2F;&#x2F;trueæˆ–false</span><br></pre></td></tr></table></figure><ol start="4"><li>obj.constructor===Array   //true</li></ol><h1 id="çœŸå€¼-å‡å€¼ï¼ˆTruthy-Falsyï¼‰"><a href="#çœŸå€¼-å‡å€¼ï¼ˆTruthy-Falsyï¼‰" class="headerlink" title="çœŸå€¼ / å‡å€¼ï¼ˆTruthy / Falsyï¼‰"></a>çœŸå€¼ / å‡å€¼ï¼ˆTruthy / Falsyï¼‰</h1><p>ä»¥ä¸‹ä¸ºfalse</p><ul><li>false</li><li>0</li><li>â€œâ€ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰</li><li>null</li><li>undefined</li><li>NaN</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">!0 &#x2F;&#x2F; true -- 0 is false, æ‰€ä»¥è¿”å›true</span><br><span class="line">!!0 &#x2F;&#x2F; false -- 0 is falsy so !0 returns true so !(!0) returns false</span><br><span class="line">!!&quot;&quot; &#x2F;&#x2F; false -- empty string is falsy so NOT (NOT false) equals false</span><br><span class="line"></span><br><span class="line">new Boolean(0) &#x2F;&#x2F; false</span><br><span class="line">new Boolean(1) &#x2F;&#x2F; true</span><br><span class="line"></span><br><span class="line">let a &#x3D; [] &#x3D;&#x3D; true &#x2F;&#x2F; a is false since [].toString() give &quot;&quot; back.</span><br><span class="line">let b &#x3D; [1] &#x3D;&#x3D; true &#x2F;&#x2F; b is true since [1].toString() give &quot;1&quot; back.</span><br><span class="line">let c &#x3D; [2] &#x3D;&#x3D; true &#x2F;&#x2F; c is false since [2].toString() give &quot;2&quot; back.</span><br><span class="line"></span><br><span class="line">åœ¨å†…éƒ¨ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ä¸å¸ƒå°”å€¼æ¯”è¾ƒæ—¶ï¼Œ</span><br><span class="line">æ¯”å¦‚[] &#x3D;&#x3D; trueï¼Œå®ƒå…¶å®è¿›è¡Œçš„æ˜¯[].toString() &#x3D;&#x3D; trueã€‚</span><br></pre></td></tr></table></figure><h1 id="JSè¯­å¥ä¸ºä»€ä¹ˆä¸èƒ½ä»¥â€œfunctionâ€å’Œå¤§æ‹¬å·å¼€å¤´"><a href="#JSè¯­å¥ä¸ºä»€ä¹ˆä¸èƒ½ä»¥â€œfunctionâ€å’Œå¤§æ‹¬å·å¼€å¤´" class="headerlink" title="JSè¯­å¥ä¸ºä»€ä¹ˆä¸èƒ½ä»¥â€œfunctionâ€å’Œå¤§æ‹¬å·å¼€å¤´"></a>JSè¯­å¥ä¸ºä»€ä¹ˆä¸èƒ½ä»¥â€œfunctionâ€å’Œå¤§æ‹¬å·å¼€å¤´</h1><ul><li>ä»¥functionå¼€å¤´ï¼Œä½†å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜è¯­å¥</li><li>ä»¥å¤§æ‹¬å·å¼€å¤´ï¼Œä½†è¯¥å¤§æ‹¬å·ä¸å†è¢«å½“åšä¸€ä¸ªå¯¹è±¡å¤„ç†ï¼Œè€Œæ˜¯å½“åšä¸€ä¸ªè¯­å¥å—å¤„ç†</li><li>ç»¼ä¸Šä¸¤æ¡è¯´æ˜ï¼ŒJSè¯­å¥å¯ä»¥ä»¥functionï¼Œä¹Ÿå¯ä»¥ä»¥å¤§æ‹¬å·ä½œä¸ºå¼€å¤´ï¼Œå‰ææ˜¯å¿…é¡»ç¬¦åˆJSä¸­çš„è¯­æ³•è§„èŒƒ</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;a: &#39;a&#39;&#125;.a;   &#x2F;&#x2F; Uncaught SyntaxError: Unexpected token .</span><br><span class="line">function()&#123;&#125;.toString();    &#x2F;&#x2F; Uncaught SyntaxError: Unexpected token (</span><br><span class="line">&#123;&#125;.toString();    &#x2F;&#x2F; Uncaught SyntaxError: Unexpected token .</span><br><span class="line"></span><br><span class="line">â€œ&#123;&#125;.toString();â€ ç­‰åŒäº: â€œ; .toString();â€ æœªé€šè¿‡å¯¹è±¡ä¸»ä½“è°ƒç”¨â€œtoStringâ€æ–¹æ³•ï¼Œä¸ç¬¦åˆJSä¸­æœŸå¾…çš„è¡¨è¾¾å¼</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Object-assign-JSON-stringifyæ˜¯æ·±æ‹·è´å—"><a href="#Object-assign-JSON-stringifyæ˜¯æ·±æ‹·è´å—" class="headerlink" title="Object.assign, JSON.stringifyæ˜¯æ·±æ‹·è´å—"></a>Object.assign, JSON.stringifyæ˜¯æ·±æ‹·è´å—</h1><p>ä¸æ˜¯çš„è¯æ€ä¹ˆè§£å†³</p><p>shallowCopyï¼ˆæµ…æ‹·è´ï¼‰æˆ– deepCopyï¼ˆæ·±æ‹·è´ï¼‰</p><p>æ·±æ‹·è´é€ æˆäº† CPU å’Œå†…å­˜çš„æµªè´¹</p><p>æ·±æ‹·è´å¦‚æœæ˜¯åªæœ‰æœ€åº•å±‚ä¸€ä¸ªå…ƒç´ æ”¹å˜ï¼Œä¼šé€ æˆæ€§èƒ½å½±å“ï¼Œæ€ä¹ˆè§£å†³? immutable</p><p>Object.assign()å¯ä»¥å¯¹éåµŒå¥—å¯¹è±¡è¿›è¡Œæ·±æ‹·è´çš„æ–¹æ³•,<br>å¦‚æœå¯¹è±¡ä¸­å‡ºç°åµŒå¥—æƒ…å†µ,é‚£ä¹ˆå…¶å¯¹è¢«åµŒå¥—å¯¹è±¡çš„è¡Œä¸ºå°±æˆäº†æ™®é€šçš„æµ…æ‹·è´.<br>Object.assign æ–¹æ³•åªä¼šæ‹·è´æºå¯¹è±¡è‡ªèº«çš„å¹¶ä¸”å¯æšä¸¾çš„å±æ€§åˆ°ç›®æ ‡å¯¹è±¡ã€‚</p><p>å¯¹è±¡è§£æ„è¿ç®—ï¼Œä¹Ÿæ˜¯æµ…æ‹·è´ã€‚</p><p>JSONå¯¹è±¡ä¸­åŒ…å«ä¸¤ä¸ªæ–¹æ³•, stringify()å’Œparse(),å‰è€…å¯ä»¥å°†å¯¹è±¡JSONåŒ–,è€Œåè€…å¯ä»¥å°†JSONæ ¼å¼è½¬æ¢ä¸ºå¯¹è±¡.è¿™æ˜¯ä¸€ç§å¯ä»¥å®ç°æ·±æ‹·è´çš„æ–¹æ³•.<br>ä½†è¿™ç§æ–¹æ³•çš„ç¼ºé™·æ˜¯ä¼šç ´ååŸå‹é“¾,å¹¶ä¸”æ— æ³•æ‹·è´å±æ€§å€¼ä¸ºfunctionçš„å±æ€§<br>æ‰€ä»¥å¦‚æœåªæ˜¯æƒ³å•çº¯å¤åˆ¶ä¸€ä¸ªåµŒå¥—å¯¹è±¡,å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•</p><p>ç¼ºç‚¹æ˜¯ä½ åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ï¼Œå¯èƒ½å¾ˆå¤§çš„å­—ç¬¦ä¸²ï¼Œåªæ˜¯ä¸ºäº†æŠŠå®ƒé‡æ–°æ”¾å›è§£æå™¨ã€‚å¦ä¸€ä¸ªç¼ºç‚¹æ˜¯è¿™ç§æ–¹æ³•ä¸èƒ½å¤„ç†å¾ªç¯å¯¹è±¡ã€‚è€Œä¸”å¾ªç¯å¯¹è±¡ç»å¸¸å‘ç”Ÿã€‚ä¾‹å¦‚ï¼Œå½“æ‚¨æ„å»ºæ ‘çŠ¶æ•°æ®ç»“æ„ï¼Œå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹å¼•ç”¨å…¶çˆ¶çº§ï¼Œè€Œçˆ¶çº§åˆå¼•ç”¨å…¶å­çº§ã€‚å¦å¤–ï¼Œè¯¸å¦‚ Map, Set, RegExp, Date, ArrayBuffer å’Œå…¶ä»–å†…ç½®ç±»å‹åœ¨è¿›è¡Œåºåˆ—åŒ–æ—¶ä¼šä¸¢å¤±ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">const x &#x3D; &#123;&#125;;</span><br><span class="line">const y &#x3D; &#123;x&#125;;</span><br><span class="line">x.y &#x3D; y; &#x2F;&#x2F; Cycle: x.y.x.y.x.y.x.y.x...</span><br><span class="line">const copy &#x3D; JSON.parse(JSON.stringify(x)); &#x2F;&#x2F; throws!</span><br><span class="line"></span><br><span class="line">let bar &#x3D; JSON.parse(JSON.stringify(foo));</span><br><span class="line">Object.assign(&#123;&#125;, foo);</span><br><span class="line"></span><br><span class="line">let obj &#x3D; &#123;</span><br><span class="line">    a: 0,</span><br><span class="line">    b: 20,</span><br><span class="line">&#125;</span><br><span class="line">obj &#x3D; &#123;...obj, a: obj.a + 1&#125;</span><br><span class="line"></span><br><span class="line">Structured Clone ç»“æ„åŒ–å…‹éš†ç®—æ³•</span><br><span class="line">MessageChannel</span><br><span class="line">ç¼ºç‚¹æ˜¯å®ƒæ˜¯å¼‚æ­¥çš„ã€‚è™½ç„¶è¿™å¹¶æ— å¤§ç¢ï¼Œ</span><br><span class="line">ä½†æ˜¯æœ‰æ—¶å€™ä½ éœ€è¦ä½¿ç”¨åŒæ­¥çš„æ–¹å¼æ¥æ·±åº¦æ‹·è´ä¸€ä¸ªå¯¹è±¡</span><br><span class="line">function structuralClone(obj) &#123;</span><br><span class="line">  return new Promise(resolve &#x3D;&gt; &#123;</span><br><span class="line">    const &#123;port1, port2&#125; &#x3D; new MessageChannel();</span><br><span class="line">    port2.onmessage &#x3D; ev &#x3D;&gt; resolve(ev.data);</span><br><span class="line">    port1.postMessage(obj);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const obj &#x3D; &#x2F;* ... *&#x2F;;</span><br><span class="line">const clone &#x3D; await structuralClone(obj);</span><br></pre></td></tr></table></figure><p>es7 â€¦ çš„æ–¹å¼<br>ç›´æ¥{â€¦obj}èµ‹å€¼å±äºæµ…å¤åˆ¶ï¼Œåœ¨ä¿®æ”¹å€¼æ—¶{â€¦obj,a:1}å°±èµ·åˆ°äº†ç±»æ·±å¤åˆ¶çš„æ•ˆæœ<br>æ›´æ–°ä¸€ä¸ª Object</p><h3 id="immutable-js-è¿™ä¸ªä¸“é—¨å¤„ç†ä¸å˜æ€§æ•°æ®çš„åº“-ä¹Ÿæ˜¯facebookå‡ºå“-ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ç±»ä¼¼èµ‹å€¼çš„æ–¹å¼ç”Ÿæˆæµ…å¤åˆ¶çš„ä¸å˜æ€§æ•°æ®ï¼Œä¸‹é¢æ¥çœ‹çœ‹å®ƒæ€ä¹ˆç®€åŒ–æˆ‘ä»¬çš„å¼€å‘"><a href="#immutable-js-è¿™ä¸ªä¸“é—¨å¤„ç†ä¸å˜æ€§æ•°æ®çš„åº“-ä¹Ÿæ˜¯facebookå‡ºå“-ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ç±»ä¼¼èµ‹å€¼çš„æ–¹å¼ç”Ÿæˆæµ…å¤åˆ¶çš„ä¸å˜æ€§æ•°æ®ï¼Œä¸‹é¢æ¥çœ‹çœ‹å®ƒæ€ä¹ˆç®€åŒ–æˆ‘ä»¬çš„å¼€å‘" class="headerlink" title="immutable.js è¿™ä¸ªä¸“é—¨å¤„ç†ä¸å˜æ€§æ•°æ®çš„åº“(ä¹Ÿæ˜¯facebookå‡ºå“)ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ç±»ä¼¼èµ‹å€¼çš„æ–¹å¼ç”Ÿæˆæµ…å¤åˆ¶çš„ä¸å˜æ€§æ•°æ®ï¼Œä¸‹é¢æ¥çœ‹çœ‹å®ƒæ€ä¹ˆç®€åŒ–æˆ‘ä»¬çš„å¼€å‘"></a>immutable.js è¿™ä¸ªä¸“é—¨å¤„ç†ä¸å˜æ€§æ•°æ®çš„åº“(ä¹Ÿæ˜¯facebookå‡ºå“)ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ç±»ä¼¼èµ‹å€¼çš„æ–¹å¼ç”Ÿæˆæµ…å¤åˆ¶çš„ä¸å˜æ€§æ•°æ®ï¼Œä¸‹é¢æ¥çœ‹çœ‹å®ƒæ€ä¹ˆç®€åŒ–æˆ‘ä»¬çš„å¼€å‘</h3><p> <a href="https://github.com/camsong/blog/issues/3">é“¾æ¥</a></p><p> Immutableæ•°æ®å°±æ˜¯ä¸€æ—¦åˆ›å»ºï¼Œå°±ä¸èƒ½æ›´æ”¹çš„æ•°æ®ã€‚æ¯å½“å¯¹Immutableå¯¹è±¡è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªæ–°çš„Immutableå¯¹è±¡ï¼Œä»¥æ­¤æ¥ä¿è¯æ•°æ®çš„ä¸å¯å˜ã€‚</p><p>ä¸ºä»€ä¹ˆimmutableæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ä¸åŒä¼šå¿«ï¼ŸåŸå› å¦‚ä¸‹ï¼š<br>å’Œjsä¸­å¯¹è±¡çš„æ¯”è¾ƒä¸åŒï¼Œåœ¨jsä¸­æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ¯”è¾ƒçš„æ˜¯åœ°å€ï¼Œä½†æ˜¯åœ¨Immutableä¸­æ¯”è¾ƒçš„æ˜¯è¿™ä¸ªå¯¹è±¡hashCodeå’ŒvalueOfï¼Œåªè¦ä¸¤ä¸ªå¯¹è±¡çš„hashCodeç›¸ç­‰ï¼Œå€¼å°±æ˜¯ç›¸åŒçš„ï¼Œé¿å…äº†æ·±åº¦éå†ï¼Œæé«˜äº†æ€§èƒ½ã€‚ç”¨æ³•ï¼šis(map1,map2)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯åŸæ¥çš„ reducerï¼š</span><br><span class="line"></span><br><span class="line">case &#39;apple&#x2F;EAT_APPLE&#39;:</span><br><span class="line">    newState &#x3D; Object.assign(&#123;&#125;, state, &#123;</span><br><span class="line">        apples: [</span><br><span class="line">            ...state.apples.slice(0, action.payload),</span><br><span class="line">            Object.assign(&#123;&#125;, state.apples[action.payload], &#123; isEaten: true &#125;),</span><br><span class="line">            ...state.apples.slice(action.payload + 1)</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">    return newState;</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯ä½¿ç”¨ immutable.js åº“çš„reducer :</span><br><span class="line"></span><br><span class="line">import &#123; fromJS &#125; from &#39;immutable&#39;;</span><br><span class="line"></span><br><span class="line">case &#39;apple&#x2F;EAT_APPLE&#39;:</span><br><span class="line">    return fromJS(state).setIn([&#39;apples&#39;,action.payload,&#39;isEaten&#39;], true).toJS();</span><br><span class="line"></span><br><span class="line">å›¢é˜Ÿçº¦å®š state éƒ½ç”¨ immutable å†…éƒ¨çš„æ•°æ®ç±»å‹ï¼Œå°±å¯ä»¥è¿ fromJS å’Œ toJS çš„è½¬åŒ–éƒ½çœäº†ï¼Œè¶…çº§æ–¹ä¾¿ï¼</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="JSONP-åç«¯è¿”å›alert-data-ï¼Œå‰ç«¯ä¼šæ‰§è¡Œå—"><a href="#JSONP-åç«¯è¿”å›alert-data-ï¼Œå‰ç«¯ä¼šæ‰§è¡Œå—" class="headerlink" title="JSONP åç«¯è¿”å›alert(data)ï¼Œå‰ç«¯ä¼šæ‰§è¡Œå—"></a>JSONP åç«¯è¿”å›alert(data)ï¼Œå‰ç«¯ä¼šæ‰§è¡Œå—</h1><p>å› ä¸ºåç«¯æŠŠå›è°ƒæ–¹æ³•åè½¬æˆå¦ä¸€ä¸ªåå­—å°†dataåŒ…åœ¨é‡Œè¾¹ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡Œalertã€‚</p><p>ä¸ºä»€ä¹ˆæ˜¯jsonp, img, iframeä¹Ÿå¯ä»¥ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p><p>jsonpå…¨åå«åšjson with padding<br>å‡½æ•°è°ƒç”¨ï¼Œæ•°æ®éƒ½è¢«åŒ…è£¹ä¼ é€’åˆ°å‚æ•°ä¸­äº†ï¼Œ</p><p>å°†æœåŠ¡ç«¯çš„æ•°æ®ç”¨paddingåŒ…èµ·æ¥ï¼Œæ‰€è°“çš„paddingå°±ç›¸å½“äºä¸€ä¸ªå‡½æ•°ã€‚å‡è®¾æˆ‘ä»¬åŸæ¥æœ‰æ•°æ® {â€œdataâ€,â€somethingâ€}ï¼Œç”¨ä¸€ä¸ªåä¸ºcallbackçš„paddingåŒ…èµ·æ¥ä¹‹å å°±æˆäº† callback({â€œdataâ€:â€somethingâ€})ï¼Œè¿™æ ·å°†scriptæ ‡ç­¾åŠ è½½å®Œæ¯•ä¹‹åï¼Œä¼šç«‹é©¬æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå¹¶å°†æ•°æ®å½“åšå‚æ•°ä¼ äº†è¿›å»ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥äº‹å…ˆåœ¨å‰ç«¯äº‹å…ˆæŒ‡å®šä¸€ä¸ªå‡½æ•°åï¼Œå¹¶å®šä¹‰è¿™ä¸ªå‡½æ•°ã€‚ç„¶åå‘Šè¯‰åç«¯ï¼Œç”¨è¿™ä¸ªå‡½æ•°åä½œä¸ºpaddingåŒ…è£¹æ•°æ®ã€‚é‚£ä¹ˆå½“å‰ç«¯åŠ¨æ€åˆ›å»ºscriptæ ‡ç­¾ä¹‹åï¼ŒscriptåŠ è½½å®Œæ¯•äº†å°±ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±æˆåŠŸçš„è·¨åŸŸè·å¾—äº†æ•°æ®~</p><p>ä»å¼€å‘è€…å·¥å…·é‡Œé¢å¯ä»¥çœ‹åˆ°å®é™…å‘é€çš„è¯·æ±‚</p><p>Request URL:<a href="https://api.douban.com/v2/book/1220562?callback=jsonp1430727166924">https://api.douban.com/v2/book/1220562?callback=jsonp1430727166924</a></p><p>è¿™é‡Œå¯ä»¥çœ‹å‡ºæ¥jQueryè‡ªåŠ¨ç”Ÿæˆçš„paddingæ˜¯jsonp1430727166924è¿”å›çš„æ•°æ®ï¼š;jsonp1430727166924({â€œratingâ€:{â€œmaxâ€:10,â€numRatersâ€:336,â€averageâ€:â€7.0â€,â€minâ€:0},â€priceâ€:â€15.00å…ƒâ€});</p><h1 id="js-cssæ‰§è¡Œé¡ºåºï¼Œå¹¶è¡Œä¸²è¡Œï¼Œé˜»å¡"><a href="#js-cssæ‰§è¡Œé¡ºåºï¼Œå¹¶è¡Œä¸²è¡Œï¼Œé˜»å¡" class="headerlink" title="js,cssæ‰§è¡Œé¡ºåºï¼Œå¹¶è¡Œä¸²è¡Œï¼Œé˜»å¡"></a>js,cssæ‰§è¡Œé¡ºåºï¼Œå¹¶è¡Œä¸²è¡Œï¼Œé˜»å¡</h1><p><a href="http://blog.jobbole.com/12749/">é“¾æ¥</a><br>DOMæ–‡æ¡£çš„åŠ è½½é¡ºåºæ˜¯ç”±ä¸Šè€Œä¸‹çš„é¡ºåºåŠ è½½ï¼›</p><p>1ã€DOMåŠ è½½åˆ°linkæ ‡ç­¾</p><p>==cssæ–‡ä»¶çš„åŠ è½½æ˜¯ä¸DOMçš„åŠ è½½å¹¶è¡Œçš„==ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œcssåœ¨åŠ è½½æ—¶Domè¿˜åœ¨ç»§ç»­åŠ è½½æ„å»ºï¼Œè€Œè¿‡ç¨‹ä¸­é‡åˆ°çš„cssæ ·å¼æˆ–è€…imgï¼Œåˆ™ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¾…èµ„æºè¿”å›åï¼Œå°†å…¶æ·»åŠ åˆ°domä¸­çš„ç›¸å¯¹åº”ä½ç½®ä¸­ï¼›</p><p>2ã€DOMåŠ è½½åˆ°scriptæ ‡ç­¾</p><p>ç”±äº==jsæ–‡ä»¶ä¸ä¼šä¸DOMå¹¶è¡ŒåŠ è½½==ï¼Œå› æ­¤éœ€è¦ç­‰å¾…jsæ•´ä¸ªæ–‡ä»¶åŠ è½½å®Œä¹‹åæ‰èƒ½ç»§ç»­DOMçš„åŠ è½½ï¼Œå€˜è‹¥jsè„šæœ¬æ–‡ä»¶è¿‡å¤§ï¼Œåˆ™å¯èƒ½å¯¼è‡´æµè§ˆå™¨é¡µé¢æ˜¾ç¤ºæ»åï¼Œå‡ºç°â€œå‡æ­»â€çŠ¶æ€ï¼Œè¿™ç§æ•ˆåº”ç§°ä¹‹ä¸ºâ€œé˜»å¡æ•ˆåº”â€ï¼›ä¼šå¯¼è‡´å‡ºç°éå¸¸ä¸å¥½çš„ç”¨æˆ·ä½“éªŒï¼›</p><p>jsé˜»å¡å…¶ä»–èµ„æºçš„åŠ è½½çš„åŸå› æ˜¯ï¼šæµè§ˆå™¨ä¸ºäº†é˜²æ­¢jsä¿®æ”¹DOMæ ‘ï¼Œéœ€è¦é‡æ–°æ„å»ºDOMæ ‘çš„æƒ…å†µå‡ºç°ï¼›</p><p>æ‰€æœ‰æµè§ˆå™¨åœ¨ä¸‹è½½JSçš„æ—¶å€™ï¼Œä¼šé˜»æ­¢ä¸€åˆ‡å…¶ä»–æ´»åŠ¨ï¼Œæ¯”å¦‚å…¶ä»–èµ„æºçš„ä¸‹è½½ï¼Œå†…å®¹çš„å‘ˆç°ç­‰ç­‰ã€‚è‡³åˆ°JSä¸‹è½½ã€è§£æã€æ‰§è¡Œå®Œæ¯•åæ‰å¼€å§‹ç»§ç»­å¹¶è¡Œä¸‹è½½å…¶ä»–èµ„æºå¹¶å‘ˆç°å†…å®¹ã€‚</p><p>åµŒå…¥JSä¼šé˜»å¡æ‰€æœ‰å†…å®¹çš„å‘ˆç°ï¼Œè€Œå¤–éƒ¨JSåªä¼šé˜»å¡å…¶åå†…å®¹çš„æ˜¾ç¤ºï¼Œ2ç§æ–¹å¼éƒ½ä¼šé˜»å¡å…¶åèµ„æºçš„ä¸‹è½½ã€‚</p><p>æµè§ˆå™¨ä¼šç»´æŒhtmlä¸­csså’Œjsçš„é¡ºåºï¼Œæ ·å¼è¡¨å¿…é¡»åœ¨åµŒå…¥çš„JSæ‰§è¡Œå‰å…ˆåŠ è½½ã€è§£æå®Œã€‚è€ŒåµŒå…¥çš„JSä¼šé˜»å¡åé¢çš„èµ„æºåŠ è½½ï¼Œæ‰€ä»¥å°±ä¼šå‡ºç°ä¸Šé¢CSSé˜»å¡ä¸‹è½½çš„æƒ…å†µã€‚</p><p>3ã€è§£å†³æ–¹æ³•</p><p>å‰æï¼Œjsæ˜¯å¤–éƒ¨è„šæœ¬ï¼›</p><p>åœ¨scriptæ ‡ç­¾ä¸­æ·»åŠ  defer=â€œtureâ€ï¼Œåˆ™ä¼šè®©jsä¸DOMå¹¶è¡ŒåŠ è½½ï¼Œå¾…é¡µé¢åŠ è½½å®Œæˆåå†æ‰§è¡Œjsæ–‡ä»¶ï¼Œè¿™æ ·åˆ™ä¸å­˜åœ¨é˜»å¡ï¼›</p><p>åœ¨scirptæ ‡ç­¾ä¸­æ·»åŠ  async=â€œtureâ€ï¼Œè¿™ä¸ªå±æ€§å‘Šè¯‰æµè§ˆå™¨è¯¥jsæ–‡ä»¶æ˜¯å¼‚æ­¥åŠ è½½æ‰§è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯ä¸ä¾èµ–äºå…¶ä»–jså’Œcssï¼Œä¹Ÿå°±æ˜¯è¯´æ— æ³•ä¿è¯jsæ–‡ä»¶çš„åŠ è½½é¡ºåºï¼Œä½†æ˜¯åŒæ ·æœ‰ä¸DOMå¹¶è¡ŒåŠ è½½çš„æ•ˆæœï¼›</p><p>åŒæ—¶ä½¿ç”¨deferå’Œasyncå±æ€§æ—¶ï¼Œdeferå±æ€§ä¼šå¤±æ•ˆï¼›</p><p>å¯ä»¥å°†scirptæ ‡ç­¾æ”¾åœ¨bodyæ ‡ç­¾ä¹‹åï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°åŠ è½½çš„å†²çªäº†ã€‚</p><h1 id="è¿›åˆ¶è½¬æ¢"><a href="#è¿›åˆ¶è½¬æ¢" class="headerlink" title="è¿›åˆ¶è½¬æ¢"></a>è¿›åˆ¶è½¬æ¢</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;åè¿›åˆ¶è½¬å…¶ä»–</span><br><span class="line">var x&#x3D;110;  </span><br><span class="line">alert(x);</span><br><span class="line">alert(x.toString(8));  </span><br><span class="line">alert(x.toString(32));  </span><br><span class="line">alert(x.toString(16));  </span><br><span class="line">&#x2F;&#x2F;å…¶ä»–è½¬åè¿›åˆ¶</span><br><span class="line">var x&#x3D;&#39;110&#39;;</span><br><span class="line">alert(parseInt(x,2));  </span><br><span class="line">alert(parseInt(x,8));  </span><br><span class="line">alert(parseInt(x,16));  </span><br><span class="line">&#x2F;&#x2F;å…¶ä»–è½¬å…¶ä»–  </span><br><span class="line">&#x2F;&#x2F;å…ˆç”¨parseIntè½¬æˆåè¿›åˆ¶å†ç”¨toStringè½¬åˆ°ç›®æ ‡è¿›åˆ¶  </span><br><span class="line">alert(String.fromCharCode(parseInt(141,8)))  </span><br><span class="line">alert(parseInt(&#39;ff&#39;,16).toString(2));  </span><br></pre></td></tr></table></figure><h1 id="ä¸¤ä¸ªå¯¹è±¡åˆ¤æ–­"><a href="#ä¸¤ä¸ªå¯¹è±¡åˆ¤æ–­" class="headerlink" title="ä¸¤ä¸ªå¯¹è±¡åˆ¤æ–­=="></a>ä¸¤ä¸ªå¯¹è±¡åˆ¤æ–­==</h1><p>å¼•ç”¨ä¸‹æ¸©ç‰¹å¤§å¤§çš„æ€»ç»“å°±æ˜¯ï¼š<br>åªè¦è®°ä½ null åªå’Œundefined ç›¸ç­‰ï¼Œ<br>æœ‰ number éƒ½è½¬ numberï¼Œ<br>æœ‰ boolean ä¹Ÿè½¬ numberï¼Œ<br>æœ‰ string éƒ½è½¬ stringï¼Œ<br>å¯¹è±¡äº’ç›¸ä¸ç­‰ï¼Œ<br>NaN äº’ç›¸ä¸ç­‰å°±å¯ä»¥äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">console.log([] &#x3D;&#x3D; []) &#x2F;&#x2F; false</span><br><span class="line">console.log(![] &#x3D;&#x3D; false) &#x2F;&#x2F; false</span><br><span class="line">console.log([] &#x3D;&#x3D; false) &#x2F;&#x2F; true</span><br><span class="line">console.log(!!&#39;hello&#39;) &#x2F;&#x2F; true</span><br><span class="line">console.log(&#39;hello&#39; &#x3D;&#x3D; true) &#x2F;&#x2F; &#39;hello&#39;&#x3D;&#x3D;1  false</span><br><span class="line">console.log(typeof(typeof(&#39;hello&#39;)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">typeofçš„è¿ç®—æ•°æœªå®šä¹‰,è¿”å›çš„å°±æ˜¯ â€œundefinedâ€.</span><br><span class="line"></span><br><span class="line">è¿ç®—æ•°ä¸ºæ•°å­— typeof(x) &#x3D; â€œnumberâ€</span><br><span class="line"></span><br><span class="line">å­—ç¬¦ä¸² typeof(x) &#x3D; â€œstringâ€</span><br><span class="line"></span><br><span class="line">å¸ƒå°”å€¼ typeof(x) &#x3D; â€œbooleanâ€</span><br><span class="line"></span><br><span class="line">å¯¹è±¡,æ•°ç»„å’Œnull typeof(x) &#x3D; â€œobjectâ€</span><br><span class="line"></span><br><span class="line">å‡½æ•° typeof(x) &#x3D; â€œfunctionâ€</span><br></pre></td></tr></table></figure><h1 id="FOUCæ— æ ·å¼å†…å®¹é—ªçƒ"><a href="#FOUCæ— æ ·å¼å†…å®¹é—ªçƒ" class="headerlink" title="FOUCæ— æ ·å¼å†…å®¹é—ªçƒ"></a>FOUCæ— æ ·å¼å†…å®¹é—ªçƒ</h1><p>Flash of Uncompiled Content</p><p>åŸå› å¤§è‡´ä¸ºï¼š 1ï¼Œä½¿ç”¨importæ–¹æ³•å¯¼å…¥æ ·å¼è¡¨ã€‚ 2ï¼Œå°†æ ·å¼è¡¨æ”¾åœ¨é¡µé¢åº•éƒ¨ 3ï¼Œæœ‰å‡ ä¸ªæ ·å¼è¡¨ï¼Œæ”¾åœ¨htmlç»“æ„çš„ä¸åŒä½ç½®ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨LINKæ ‡ç­¾å°†æ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£HEADä¸­ã€‚</p><ol><li><p>v-cloak</p></li><li><p>ç”¨v-text</p></li><li><p>v-if, v-show</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-text</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- same as --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// <span class="tag">&lt;<span class="name">div</span>&gt;</span> ä¸ä¼šæ˜¾ç¤ºï¼Œç›´åˆ°ç¼–è¯‘ç»“æŸã€‚</span><br><span class="line">[v-cloak] &#123;</span><br><span class="line">display: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-cloak</span>&gt;</span></span><br><span class="line">&#123;&#123; message &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="jså®ç°jQuery-clone"><a href="#jså®ç°jQuery-clone" class="headerlink" title="jså®ç°jQuery.clone"></a>jså®ç°jQuery.clone</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">é€çº§é€’å½’ï¼›</span><br><span class="line"></span><br><span class="line">é€’å½’ä¸­æ”¶é›†æ¯ä¸ªå…ƒç´ çš„å…¨éƒ¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¯¥å…ƒç´ ä¸Šç»‘å®šçš„æ‰€æœ‰äº‹ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">å¤åˆ¶æ—¶å€™é‡ç°æŒ‰ç…§è·å¾—çš„äº‹ä»¶åˆ—è¡¨é€ä¸ªåŠ è½½å›å»ã€‚</span><br><span class="line"></span><br><span class="line">é™¤æ­¤ä¹‹å¤–ä¸»è¦å¯èƒ½æ˜¯è€ƒè™‘å„ç§å…¼å®¹ï¼Œ</span><br><span class="line">åŒ…æ‹¬cloneNodeæ–¹æ³•çš„å…¼å®¹ï¼Œ</span><br><span class="line">è·å–å…ƒç´ å±æ€§æ—¶å€™çš„æŸäº›æ ‡ç­¾çš„å…¼å®¹ã€‚</span><br></pre></td></tr></table></figure><h1 id="i18n"><a href="#i18n" class="headerlink" title="i18n"></a>i18n</h1><p>ï¼ˆå…¶æ¥æºæ˜¯è‹±æ–‡å•è¯ internationalizationçš„é¦–æœ«å­—ç¬¦iå’Œnï¼Œ18ä¸ºä¸­é—´çš„å­—ç¬¦æ•°ï¼‰æ˜¯â€œå›½é™…åŒ–â€çš„ç®€ç§°ã€‚</p><h1 id="ajaxå‚æ•°"><a href="#ajaxå‚æ•°" class="headerlink" title="ajaxå‚æ•°"></a>ajaxå‚æ•°</h1><p><a href="https://www.cnblogs.com/huiyuantang/p/5458278.html">é“¾æ¥</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.url: å‘é€è¯·æ±‚çš„åœ°å€</span><br><span class="line">2.type: è¯·æ±‚æ–¹å¼ï¼ˆpostæˆ–get</span><br><span class="line">3.timeout: è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span><br><span class="line">4.async: é»˜è®¤è®¾ç½®ä¸ºtrueï¼Œå¼‚æ­¥è¯·æ±‚</span><br><span class="line">5.cache: ä»æµè§ˆå™¨ç¼“å­˜ä¸­åŠ è½½è¯·æ±‚ä¿¡æ¯</span><br><span class="line">6.data: å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®</span><br><span class="line">7.dataType: xml,html, json,text</span><br><span class="line">8.beforeSendï¼šå‘é€è¯·æ±‚å‰ï¼Œæ‰§è¡Œä¸€äº›æ“ä½œ</span><br><span class="line">9.completeï¼šå®Œæˆåè°ƒç”¨çš„å›è°ƒå‡½æ•°</span><br><span class="line">10.successï¼šè¯·æ±‚æˆåŠŸåè°ƒç”¨çš„å›è°ƒå‡½æ•°</span><br><span class="line">11.error:</span><br><span class="line">12.contentTypeï¼š</span><br><span class="line">13.dataFilterï¼š</span><br><span class="line"></span><br><span class="line">16.ifModifiedï¼š</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="jQueryæ’ä»¶"><a href="#jQueryæ’ä»¶" class="headerlink" title="jQueryæ’ä»¶"></a>jQueryæ’ä»¶</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;é—­åŒ…é™å®šå‘½åç©ºé—´</span><br><span class="line">(function ($) &#123;</span><br><span class="line">    $.fn.extend(&#123;</span><br><span class="line">        &quot;highLight&quot;:function(options)&#123;</span><br><span class="line">            &#x2F;&#x2F;do something</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)(window.jQuery);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è°ƒç”¨</span><br><span class="line">$(&quot;p&quot;).highLight(); &#x2F;&#x2F;è°ƒç”¨è‡ªå®šä¹‰ é«˜äº®æ’ä»¶</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="exports-module-exportsåŒºåˆ«"><a href="#exports-module-exportsåŒºåˆ«" class="headerlink" title="exports, module.exportsåŒºåˆ«"></a>exports, module.exportsåŒºåˆ«</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">exportsæ˜¯å¼•ç”¨ module.exportsçš„å€¼ã€‚module.exports è¢«æ”¹å˜çš„æ—¶å€™ï¼Œexportsä¸ä¼šè¢«æ”¹å˜ï¼Œè€Œæ¨¡å—å¯¼å‡ºçš„æ—¶å€™ï¼ŒçœŸæ­£å¯¼å‡ºçš„æ‰§è¡Œæ˜¯module.exportsï¼Œè€Œä¸æ˜¯exports</span><br><span class="line"></span><br><span class="line">exportsåœ¨module.exports è¢«æ”¹å˜åï¼Œå¤±æ•ˆã€‚</span><br><span class="line"></span><br><span class="line">1. module.exports åˆå§‹å€¼ä¸ºä¸€ä¸ªç©ºå¯¹è±¡ &#123;&#125;</span><br><span class="line">2. exports æ˜¯æŒ‡å‘çš„ module.exports çš„å¼•ç”¨</span><br><span class="line">3. require() è¿”å›çš„æ˜¯ module.exports è€Œä¸æ˜¯ exports</span><br></pre></td></tr></table></figure><h1 id="ä¸Šä¼ æ–‡ä»¶æ–¹å¼"><a href="#ä¸Šä¼ æ–‡ä»¶æ–¹å¼" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶æ–¹å¼"></a>ä¸Šä¼ æ–‡ä»¶æ–¹å¼</h1><ul><li><p>formè¡¨å•ä¸Šä¼ æ–‡ä»¶</p>  <form action="/test/" method="POST" enctype="multipart/form-data"></li><li><p>åŸç”Ÿjså®ç°ajaxä¸Šä¼ æ–‡ä»¶<br>   var xml=new XMLHttpRequest();</p><p>  var data=new FormData; //åˆ›å»ºformdataå¯¹è±¡</p><p>  data.append(â€œtestfileâ€,document.getElementById(â€œfile_uploadâ€).files[0]);//æ‰¾åˆ°å¯¹è±¡ä¹‹åçš„file[0]å¯¹åº”çš„å°±æ˜¯æ–‡ä»¶å¯¹è±¡</p><p>  xml.open(â€œPOSTâ€,â€/test/â€œ,true);</p></li><li><p>jqueryå®ç°ajaxä¸Šä¼ æ–‡ä»¶</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var data&#x3D;new FormData;</span><br><span class="line">data.append(&quot;testfile&quot;,document.getElementById(&quot;file_upload&quot;).files[0]);</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    url:&quot;&#x2F;test&#x2F;&quot;,</span><br><span class="line">    type:&quot;POST&quot;,</span><br><span class="line">    dataType:&quot;JSON&quot;,</span><br><span class="line">    data:data,</span><br><span class="line">    contentType: false,</span><br><span class="line">    processData: false,</span><br><span class="line">    success:function(rst)&#123;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>form+iframeä¸Šä¼ æ–‡ä»¶</p><h1 id="Sass"><a href="#Sass" class="headerlink" title="Sass"></a>Sass</h1><p> @mixinå£°æ˜æ··åˆï¼Œå¯ä»¥ä¼ é€’å‚æ•°ï¼Œå‚æ•°åä»¥$ç¬¦å·å¼€å§‹ï¼Œå¤šä¸ªå‚æ•°ä»¥é€—å·åˆ†å¼€ï¼Œä¹Ÿå¯ä»¥ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼ã€‚å£°æ˜çš„ @mixiné€šè¿‡ @includeæ¥è°ƒç”¨ã€‚</p><p> @mixiné€šè¿‡ @includeè°ƒç”¨åè§£æå‡ºæ¥çš„æ ·å¼æ˜¯ä»¥æ‹·è´å½¢å¼å­˜åœ¨çš„ï¼Œè€Œç»§æ‰¿åˆ™æ˜¯ä»¥è”åˆå£°æ˜çš„æ–¹å¼å­˜åœ¨çš„ï¼Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;sass style</span><br><span class="line">&#x2F;&#x2F;-------------------------------</span><br><span class="line">@mixin center-block &#123;</span><br><span class="line">    margin-left:auto;</span><br><span class="line">    margin-right:auto;</span><br><span class="line">&#125;</span><br><span class="line">.demo&#123;</span><br><span class="line">    @include center-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;css style</span><br><span class="line">&#x2F;&#x2F;-------------------------------</span><br><span class="line">.demo&#123;</span><br><span class="line">    margin-left:auto;</span><br><span class="line">    margin-right:auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="cookieå’ŒsessionåŒºåˆ«"><a href="#cookieå’ŒsessionåŒºåˆ«" class="headerlink" title="cookieå’ŒsessionåŒºåˆ«"></a>cookieå’ŒsessionåŒºåˆ«</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1ï¼Œsession åœ¨æœåŠ¡å™¨ç«¯ï¼Œ</span><br><span class="line">    cookie åœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰</span><br><span class="line">2ï¼Œsession é»˜è®¤è¢«å­˜åœ¨åœ¨æœåŠ¡å™¨</span><br><span class="line">    çš„ä¸€ä¸ªæ–‡ä»¶é‡Œï¼ˆä¸æ˜¯å†…å­˜ï¼‰</span><br><span class="line">3ï¼Œsession çš„è¿è¡Œä¾èµ– session idï¼Œ</span><br><span class="line">    è€Œ session id æ˜¯å­˜åœ¨ cookie ä¸­çš„ï¼Œ</span><br><span class="line">    ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæµè§ˆå™¨ç¦ç”¨äº† cookie ï¼Œ</span><br><span class="line">    åŒæ—¶ session ä¹Ÿä¼šå¤±æ•ˆ</span><br><span class="line">    ï¼ˆä½†æ˜¯å¯ä»¥é€šè¿‡å…¶å®ƒæ–¹å¼å®ç°ï¼Œ</span><br><span class="line">    æ¯”å¦‚åœ¨ url ä¸­ä¼ é€’Â session_idï¼‰</span><br><span class="line">4ï¼Œsession å¯ä»¥æ”¾åœ¨ æ–‡ä»¶ã€æ•°æ®åº“ã€æˆ–å†…å­˜ä¸­éƒ½å¯ä»¥ã€‚</span><br><span class="line">5ï¼Œç”¨æˆ·éªŒè¯è¿™ç§åœºåˆä¸€èˆ¬ä¼šç”¨ session</span><br><span class="line">å› æ­¤ï¼Œç»´æŒä¸€ä¸ªä¼šè¯çš„æ ¸å¿ƒå°±æ˜¯</span><br><span class="line">å®¢æˆ·ç«¯çš„å”¯ä¸€æ ‡è¯†ï¼Œå³ session id</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="AMD-CMD-CommonJS"><a href="#AMD-CMD-CommonJS" class="headerlink" title="AMD, CMD, CommonJS"></a>AMD, CMD, CommonJS</h1><p>==è®°å¿†æ–¹æ³•==</p><p>AR<br>AMDâ€“ require.js</p><p>CS<br>CMDâ€“ sea.js</p><p>A AMD Aåœ¨å‰ï¼Œæå‰åŠ è½½</p><p>C CMD Cåœ¨åï¼Œå»¶è¿ŸåŠ è½½</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">nodeçš„moduleéµå¾ªCommonJSè§„èŒƒï¼Œ</span><br><span class="line">requirejséµå¾ªAMDï¼Œseajséµå¾ªCMDï¼Œ</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; a.js</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; -------- node -----------</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  a : function() &#123;&#125;,</span><br><span class="line">  b : &#39;xxx&#39;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ----------- AMD or CMD ----------------</span><br><span class="line">define(function(require, exports, module)&#123;</span><br><span class="line">  module.exports &#x3D; &#123;</span><br><span class="line">    a : function() &#123;&#125;,</span><br><span class="line">    b : &#39;xxx&#39;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AMDæ˜¯&quot;Asynchronous Module Definition&quot;çš„ç¼©å†™ï¼Œæ„æ€å°±æ˜¯&quot;å¼‚æ­¥æ¨¡å—å®šä¹‰&quot;ã€‚</span><br><span class="line">å®ƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“å®ƒåé¢è¯­å¥çš„è¿è¡Œã€‚</span><br><span class="line">æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œ</span><br><span class="line">ç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">åŒºåˆ«ï¼š</span><br><span class="line"></span><br><span class="line">1. å¯¹äºä¾èµ–çš„æ¨¡å—ï¼ŒAMD æ˜¯æå‰æ‰§è¡Œï¼ŒCMD æ˜¯å»¶è¿Ÿæ‰§è¡Œã€‚</span><br><span class="line">ä¸è¿‡ RequireJS ä» 2.0 å¼€å§‹ï¼Œ</span><br><span class="line">ä¹Ÿæ”¹æˆå¯ä»¥å»¶è¿Ÿæ‰§è¡Œï¼ˆæ ¹æ®å†™æ³•ä¸åŒï¼Œå¤„ç†æ–¹å¼ä¸åŒï¼‰ã€‚</span><br><span class="line">CMD æ¨å´‡ as lazy as possible.</span><br><span class="line"></span><br><span class="line">2. CMD æ¨å´‡ä¾èµ–å°±è¿‘ï¼ŒAMD æ¨å´‡ä¾èµ–å‰ç½®ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ES6æ ‡å‡†å‘å¸ƒåï¼Œmoduleæˆä¸ºæ ‡å‡†ï¼Œæ ‡å‡†ä½¿ç”¨æ˜¯ä»¥exportæŒ‡ä»¤å¯¼å‡ºæ¥å£ï¼Œä»¥importå¼•å…¥æ¨¡å—ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬ä¸€è´¯çš„nodeæ¨¡å—ä¸­ï¼Œæˆ‘ä»¬ä¾ç„¶é‡‡ç”¨çš„æ˜¯CommonJSè§„èŒƒï¼Œä½¿ç”¨requireå¼•å…¥æ¨¡å—ï¼Œä½¿ç”¨module.exportså¯¼å‡ºæ¥å£ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="importå¼•å…¥æ¨¡å—"><a href="#importå¼•å…¥æ¨¡å—" class="headerlink" title="importå¼•å…¥æ¨¡å—"></a>importå¼•å…¥æ¨¡å—</h3><p>importè¯­æ³•å£°æ˜ç”¨äºä»å·²å¯¼å‡ºçš„æ¨¡å—ã€è„šæœ¬ä¸­å¯¼å…¥å‡½æ•°ã€å¯¹è±¡ã€æŒ‡å®šæ–‡ä»¶ï¼ˆæˆ–æ¨¡å—ï¼‰çš„åŸå§‹å€¼ã€‚</p><p>importæ¨¡å—å¯¼å…¥ä¸exportæ¨¡å—å¯¼å‡ºåŠŸèƒ½ç›¸å¯¹åº”ï¼Œä¹Ÿå­˜åœ¨ä¸¤ç§æ¨¡å—å¯¼å…¥æ–¹å¼ï¼šå‘½åå¼å¯¼å…¥ï¼ˆåç§°å¯¼å…¥ï¼‰å’Œé»˜è®¤å¯¼å…¥ï¼ˆå®šä¹‰å¼å¯¼å…¥ï¼‰ã€‚</p><p>æ³¨æ„:importå¿…é¡»æ”¾åœ¨æ–‡ä»¶çš„æœ€å¼€å§‹.importå‘½ä»¤æ˜¯ç¼–è¯‘é˜¶æ®µæ‰§è¡Œçš„ï¼Œåœ¨ä»£ç è¿è¡Œä¹‹å‰,è¡¨è¾¾å¼å’Œå˜é‡åªæœ‰åœ¨è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°ç»“æœçš„è¯­æ³•ç»“æ„ã€‚importå‘½ä»¤ä¼šè¢« JavaScript å¼•æ“é™æ€åˆ†æï¼Œå…ˆäºæ¨¡å—å†…çš„å…¶ä»–æ¨¡å—æ‰§è¡Œï¼ˆå«åšâ€è¿æ¥â€œæ›´åˆé€‚ï¼‰æ‰€ä»¥importä¸­ä¸èƒ½å«æœ‰è¡¨è¾¾å¼æˆ–è€…å˜é‡,å› æ­¤æ— æ³•å®ç°åŠ¨æ€åŠ è½½.<br>å› æ­¤ï¼Œimportå’Œexportå‘½ä»¤åªèƒ½åœ¨æ¨¡å—çš„é¡¶å±‚ï¼Œä¸èƒ½åœ¨ä»£ç å—ä¹‹ä¸­ï¼ˆæ¯”å¦‚ï¼Œåœ¨ifä»£ç å—ä¹‹ä¸­ï¼Œæˆ–åœ¨å‡½æ•°ä¹‹ä¸­ï¼‰ã€‚<br>è¿™æ ·çš„è®¾è®¡ï¼Œæœ‰åˆ©äºç¼–è¯‘å™¨æé«˜æ•ˆç‡ï¼Œä½†ä¹Ÿå¯¼è‡´æ— æ³•åœ¨è¿è¡Œæ—¶åŠ è½½æ¨¡å—ã€‚åœ¨è¯­æ³•ä¸Šï¼Œæ¡ä»¶åŠ è½½å°±ä¸å¯èƒ½å®ç°ã€‚å¦‚æœimportå‘½ä»¤è¦å–ä»£ Node çš„requireæ–¹æ³•ï¼Œè¿™å°±å½¢æˆäº†ä¸€ä¸ªéšœç¢ã€‚å› ä¸ºrequireæ˜¯è¿è¡Œæ—¶åŠ è½½æ¨¡å—ï¼Œimportå‘½ä»¤æ— æ³•å–ä»£requireçš„åŠ¨æ€åŠ è½½åŠŸèƒ½ã€‚</p><h3 id="ES6-æ¨¡å—ä¸-CommonJS-æ¨¡å—çš„å·®å¼‚"><a href="#ES6-æ¨¡å—ä¸-CommonJS-æ¨¡å—çš„å·®å¼‚" class="headerlink" title="ES6 æ¨¡å—ä¸ CommonJS æ¨¡å—çš„å·®å¼‚"></a>ES6 æ¨¡å—ä¸ CommonJS æ¨¡å—çš„å·®å¼‚</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚</span><br><span class="line">CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£</span><br><span class="line">ES6 æ¨¡å—çš„è¿è¡Œæœºåˆ¶ä¸ CommonJS ä¸ä¸€æ ·ã€‚JS å¼•æ“å¯¹è„šæœ¬é™æ€åˆ†æçš„æ—¶å€™ï¼Œé‡åˆ°æ¨¡å—åŠ è½½å‘½ä»¤importï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªåªè¯»å¼•ç”¨ã€‚ç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œæ—¶ï¼Œå†æ ¹æ®è¿™ä¸ªåªè¯»å¼•ç”¨ï¼Œåˆ°è¢«åŠ è½½çš„é‚£ä¸ªæ¨¡å—é‡Œé¢å»å–å€¼ã€‚æ¢å¥è¯è¯´ï¼ŒES6 çš„importæœ‰ç‚¹åƒ Unix ç³»ç»Ÿçš„â€œç¬¦å·è¿æ¥â€ï¼ŒåŸå§‹å€¼å˜äº†ï¼ŒimportåŠ è½½çš„å€¼ä¹Ÿä¼šè·Ÿç€å˜ã€‚å› æ­¤ï¼ŒES6 æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œé¢çš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ã€‚</span><br></pre></td></tr></table></figure><h1 id="positionå–å€¼"><a href="#positionå–å€¼" class="headerlink" title="positionå–å€¼"></a>positionå–å€¼</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ralativeæ˜¯æŒ‡ç›¸å¯¹å®šä½</span><br><span class="line">å…ƒç´ ä»ä¿æŒå…¶æœªå®šä½å‰çš„å½¢çŠ¶ï¼Œå®ƒåŸæœ¬æ‰€å çš„ç©ºé—´ä»ä¿ç•™ã€‚</span><br><span class="line"></span><br><span class="line">absoluteæ˜¯æŒ‡ç»å¯¹å®šä½</span><br><span class="line">    å³å®Œå…¨ç¦»å¼€æ–‡æ¡£æµ, ç›¸å…³äºpositionå±æ€§éstaticå€¼çš„æ¯”æ¥çˆ¶çº§å…ƒç´ è¿›è¡Œåç§»ã€‚</span><br><span class="line">    å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„çˆ¶å¯¹è±¡ï¼Œåˆ™ä¾æ®bodyå¯¹è±¡ã€‚è€Œå…¶å±‚å é€šè¿‡z-indexå±æ€§å®šä¹‰</span><br><span class="line">fixed: å›ºå®šå®šä½</span><br><span class="line">    å›ºå®šå®šä½ï¼šå³å®Œå…¨ç¦»å¼€æ–‡æ¡£æµï¼Œç›¸å…³äºè§†åŒºè¿›è¡Œåç§»ã€‚</span><br><span class="line">staticï¼šå…ƒç´ æ¡†æ­£å¸¸ç”Ÿæˆ</span><br><span class="line">inheritï¼šç»§æ‰¿å€¼ï¼Œå¯¹è±¡å°†ç»§æ‰¿å…¶çˆ¶å¯¹è±¡ç›¸åº”çš„å€¼ã€‚</span><br></pre></td></tr></table></figure><h1 id="ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„çš„æ–¹æ³•"><a href="#ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„çš„æ–¹æ³•" class="headerlink" title="ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„çš„æ–¹æ³•"></a>ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„çš„æ–¹æ³•</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.slice.call(arguments);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="callå’Œapply-bindåŒºåˆ«"><a href="#callå’Œapply-bindåŒºåˆ«" class="headerlink" title="callå’Œapply, bindåŒºåˆ«"></a>callå’Œapply, bindåŒºåˆ«</h1><p>è¿™ä¸‰ä¸ªå‚æ•°çš„è¿”å›å€¼åŒºåˆ«</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">ä½œç”¨å®Œå…¨ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±åœ¨å‚æ•°ä¸Š</span><br><span class="line"></span><br><span class="line">call æ¥æ”¶çš„å‚æ•°ä¸å›ºå®šï¼Œ</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ä½“å†… this çš„æŒ‡å‘ï¼Œ</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°ä»¥ä¸‹æ˜¯ä¾æ¬¡ä¼ å…¥çš„å‚æ•°ã€‚</span><br><span class="line"></span><br><span class="line">applyæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œ</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿæ˜¯å‡½æ•°ä½“å†… this çš„æŒ‡å‘ã€‚</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé›†åˆå¯¹è±¡ï¼ˆæ•°ç»„æˆ–è€…ç±»æ•°ç»„ï¼‰</span><br><span class="line"></span><br><span class="line">è®°å¿†æ–¹æ³•ï¼š</span><br><span class="line"></span><br><span class="line">apply ---- array è¦ä¼ æ•°ç»„</span><br><span class="line">call  ---- é€—å·éš”å¼€</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä¸‰ä¸ªçš„ä½¿ç”¨åŒºåˆ«ï¼š</span><br><span class="line">éƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°çš„thiså¯¹è±¡çš„æŒ‡å‘çš„ï¼›</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ï¼›</span><br><span class="line">éƒ½å¯ä»¥åˆ©ç”¨åç»­å‚æ•°ä¼ å‚ï¼›</span><br><span class="line">bindæ˜¯è¿”å›å¯¹åº”å‡½æ•°ï¼Œä¾¿äºç¨åè°ƒç”¨ï¼Œapplyã€callæ˜¯ç«‹å³è°ƒç”¨ï¼›</span><br><span class="line">bindï¼ˆï¼‰--ä¹Ÿæ˜¯æ”¹å˜å‡½æ•°ä½“å†…thisçš„æŒ‡å‘;</span><br><span class="line">bindä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œç§°ä¸ºç»‘å®šå‡½æ•°ï¼Œå½“è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œç»‘å®šå‡½æ•°ä¼šä»¥åˆ›å»ºå®ƒæ—¶ä¼ å…¥bindï¼ˆï¼‰æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºthisï¼Œä¼ å…¥bindï¼ˆï¼‰æ–¹æ³•çš„ç¬¬äºŒä¸ªåŠä»¥åçš„å‚æ•°åŠ ä¸Šç»‘å®šå‡½æ•°è¿è¡Œæ—¶æœ¬èº«çš„å‚æ•°æŒ‰ç…§é¡ºåºä½œä¸ºåŸå‡½æ•°çš„å‚æ•°æ¥è°ƒç”¨åŸå‡½æ•°ï¼›</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let obj1&#x3D;&#123;</span><br><span class="line">    a:222</span><br><span class="line">&#125;;</span><br><span class="line">let obj2&#x3D;&#123;</span><br><span class="line">    a:111,</span><br><span class="line">    fn:function()&#123;</span><br><span class="line">        alert(this.a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj2.fn.call(obj1);&#x2F;&#x2F;222</span><br><span class="line"></span><br><span class="line">call å’Œ apply ä¸¤ä¸ªä¸»è¦ç”¨é€”å°±æ˜¯</span><br><span class="line"></span><br><span class="line">1.æ”¹å˜ this çš„æŒ‡å‘ï¼ˆæŠŠ this ä» obj2 æŒ‡å‘åˆ° obj1 ï¼‰</span><br><span class="line"></span><br><span class="line">2.æ–¹æ³•å€Ÿç”¨ï¼ˆ obj1 æ²¡æœ‰ fn ï¼Œåªæ˜¯å€Ÿç”¨ obj2 æ–¹æ³•ï¼‰</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ç®­å¤´å‡½æ•°æ€ä¹ˆç»‘å®šå…¨å±€this"><a href="#ç®­å¤´å‡½æ•°æ€ä¹ˆç»‘å®šå…¨å±€this" class="headerlink" title="ç®­å¤´å‡½æ•°æ€ä¹ˆç»‘å®šå…¨å±€this"></a>ç®­å¤´å‡½æ•°æ€ä¹ˆç»‘å®šå…¨å±€this</h1><p>ç®­å¤´å‡½æ•°ä¸ç»‘å®šthisï¼Œ å®ƒä¼šæ•è·å…¶æ‰€åœ¨ï¼ˆå³å®šä¹‰çš„ä½ç½®ï¼‰ä¸Šä¸‹æ–‡çš„thiså€¼ï¼Œ ä½œä¸ºè‡ªå·±çš„thiså€¼ï¼Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var obj &#x3D; &#123;</span><br><span class="line">  i: 10,</span><br><span class="line">  b: () &#x3D;&gt; console.log(this.i, this),</span><br><span class="line">  c: function() &#123;</span><br><span class="line">    console.log( this.i, this)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.b();  &#x2F;&#x2F; undefined window&#123;...&#125;</span><br><span class="line"></span><br><span class="line">ä½œä¸ºæ–¹æ³•çš„ç®­å¤´å‡½æ•°thisæŒ‡å‘å…¨å±€windowå¯¹è±¡ï¼Œ</span><br><span class="line">è€Œæ™®é€šå‡½æ•°åˆ™æŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡</span><br></pre></td></tr></table></figure><h1 id="es6æ–°ç‰¹æ€§"><a href="#es6æ–°ç‰¹æ€§" class="headerlink" title="es6æ–°ç‰¹æ€§"></a>es6æ–°ç‰¹æ€§</h1><p><a href="http://caibaojian.com/es6-features.html">é“¾æ¥</a></p><h1 id="foreach-map-reduce-filteråŒºåˆ«"><a href="#foreach-map-reduce-filteråŒºåˆ«" class="headerlink" title="foreach, map, reduce, filteråŒºåˆ«"></a>foreach, map, reduce, filteråŒºåˆ«</h1><h1 id="å‡½æ•°å£°æ˜-amp-å‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ«"><a href="#å‡½æ•°å£°æ˜-amp-å‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ«" class="headerlink" title="å‡½æ•°å£°æ˜&amp;å‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ«"></a>å‡½æ•°å£°æ˜&amp;å‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ«</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">å‡½æ•°å£°æ˜ä¸­å‡½æ•°åæ˜¯å¿…é¡»çš„ï¼›å‡½æ•°è¡¨è¾¾å¼ä¸­åˆ™æ˜¯å¯é€‰çš„</span><br><span class="line"> &#x2F;&#x2F;å‡½æ•°å£°æ˜</span><br><span class="line">function sum(a, b) &#123;</span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br><span class="line">alert(sum(1, 2));</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å‡½æ•°è¡¨è¾¾å¼</span><br><span class="line">&#x2F;* var s &#x3D; function sum(a, b) &#123;</span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br><span class="line">alert(s(1, 2)); *&#x2F;</span><br><span class="line"></span><br><span class="line">var s &#x3D; function(a, b) &#123;</span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br><span class="line">alert(s(1, 2));</span><br><span class="line">&#x2F;&#x2F;ä»¥ä¸Šä¸¤ç§éƒ½å¯ä»¥</span><br><span class="line"></span><br><span class="line">äºŒã€ç”¨å‡½æ•°å£°æ˜å®šä¹‰çš„å‡½æ•°,å‡½æ•°å¯ä»¥åœ¨å‡½æ•°å£°æ˜ä¹‹å‰è°ƒç”¨,è€Œç”¨å‡½æ•°è¡¨è¾¾å¼å®šä¹‰çš„å‡½æ•°åªèƒ½åœ¨å£°æ˜ä¹‹åè°ƒç”¨ã€‚</span><br><span class="line"></span><br><span class="line">ã€æ ¹æœ¬åŸå› åœ¨äºè§£æå™¨å¯¹è¿™ä¸¤ç§å®šä¹‰æ–¹å¼è¯»å–çš„é¡ºåºä¸åŒ:è§£æå™¨ä¼šäº‹å…ˆè¯»å–å‡½æ•°å£°æ˜ï¼Œå³å‡½æ•°å£°æ˜æ”¾åœ¨ä»»æ„ä½ç½®éƒ½å¯ä»¥è¢«è°ƒç”¨ï¼›</span><br><span class="line"></span><br><span class="line">å¯¹äºå‡½æ•°è¡¨è¾¾å¼ï¼Œè§£æå™¨åªæœ‰åœ¨è¯»åˆ°å‡½æ•°è¡¨è¾¾å¼æ‰€åœ¨é‚£è¡Œçš„æ—¶å€™æ‰æ‰§è¡Œã€‘</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨var è¡¨è¾¾å¼å®šä¹‰å‡½æ•°ï¼Œ åªæœ‰å˜é‡å£°æ˜æå‰äº†ï¼Œå˜é‡åˆå§‹åŒ–ä»£ç ä»ç„¶åœ¨åŸæ¥çš„ä½ç½®</span><br></pre></td></tr></table></figure><h1 id="DOMäº‹ä»¶æµ"><a href="#DOMäº‹ä»¶æµ" class="headerlink" title="DOMäº‹ä»¶æµ"></a>DOMäº‹ä»¶æµ</h1><p>äº‹ä»¶æ•è·é˜¶æ®µ<br>å¤„äºç›®æ ‡é˜¶æ®µ<br>äº‹ä»¶å†’æ³¡é˜¶æ®µ</p><h5 id="addEventListener-evtype-fn-useCapture"><a href="#addEventListener-evtype-fn-useCapture" class="headerlink" title="addEventListener(evtype,fn,useCapture)"></a>addEventListener(evtype,fn,useCapture)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">useCaptureæ˜¯trueï¼Œåˆ™äº‹ä»¶å¤„ç†å‡½æ•°åœ¨æ•è·é˜¶æ®µè¢«æ‰§è¡Œï¼Œå¦åˆ™ åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">å› ä¸ºå¦‚æœè¢«ç›‘å¬çš„å…ƒç´ æ²¡æœ‰å­å…ƒç´ ï¼Œé‚£ä¹ˆå“ªä¸ªç›‘å¬ä»£ç å†™åœ¨å‰é¢ï¼Œå°±å…ˆæ‰§è¡Œå“ªä¸ªï¼</span><br><span class="line"></span><br><span class="line">&lt;label&gt;Click me &lt;input type&#x3D;&quot;text&quot;&gt;&lt;&#x2F;label&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    document.querySelector(&#39;label&#39;).addEventListener(&#39;click&#39;,function () &#123;</span><br><span class="line">        console.log(1)</span><br><span class="line">    &#125;)</span><br><span class="line">    document.querySelector(&#39;input&#39;).addEventListener(&#39;click&#39;,function () &#123;</span><br><span class="line">        console.log(2)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">å› ä¸ºlabelå’Œinputæ˜¯æœ‰ç»‘å®šçš„</span><br><span class="line">ç‚¹å‡»labelåï¼Œæµè§ˆå™¨è‡ªåŠ¨å¸®ä½ å†ç‚¹å‡»ä¸€æ¬¡label</span><br><span class="line">è¿‡ç¨‹å°±æ˜¯å…ˆè¿›è¡Œä¸€æ¬¡äº‹ä»¶æœºåˆ¶ï¼Œè¿™ä¸€æ¬¡å¯¹å†…éƒ¨inputå…ƒç´ çš„äº‹ä»¶ç›‘å¬æ˜¯ä¸ç®¡ä¸é—®çš„ï¼Œæ‰€ä»¥å…ˆæ‰“å‡º1</span><br><span class="line">ç»“æŸåï¼Œå†è¿›è¡Œä¸€æ¬¡äº‹ä»¶æœºåˆ¶ï¼Œè¿™ä¸€æ¬¡ï¼ŒæŒ‰ç…§æ­£å¸¸äº‹ä»¶æœºåˆ¶æµç¨‹èµ°ï¼Œæ‰€ä»¥æ¥ç€æ‰“å‡ºäº†2,1</span><br></pre></td></tr></table></figure><p>é˜»æ­¢å†’æ³¡<br>window.event.cancelBubble = true</p><p>e.preventDefault();</p><p>return false</p><p>éƒ½èƒ½é˜»æ­¢<br> stopPropagation()æ–¹æ³•æ—¢å¯ä»¥é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œä¹Ÿå¯ä»¥é˜»æ­¢äº‹ä»¶æ•è·ï¼Œä¹Ÿå¯ä»¥é˜»æ­¢å¤„äºç›®æ ‡é˜¶æ®µã€‚<br>stopImmediatePropagation()æ–¹æ³•æ¥é˜»æ­¢äº‹ä»¶æ•è·ï¼Œå¦å¤–æ­¤æ–¹æ³•è¿˜å¯ä»¥é˜»æ­¢äº‹ä»¶å†’æ³¡</p><h1 id="git-é—®é¢˜"><a href="#git-é—®é¢˜" class="headerlink" title="git é—®é¢˜"></a>git é—®é¢˜</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">gitå›é€€åˆ°æŸä¸ªcommitç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">git reset --hard commitId</span><br><span class="line">å¼ºåˆ¶æäº¤</span><br><span class="line">git push -f origin master</span><br><span class="line">åˆ é™¤åˆ†æ”¯</span><br><span class="line">git branch -d branchname  </span><br><span class="line"></span><br><span class="line">git åˆ é™¤è¿œç¨‹åˆ†æ”¯</span><br><span class="line">git push origin branchname</span><br><span class="line"></span><br><span class="line">rebase å’Œ mergeåŒºåˆ«</span><br><span class="line"></span><br><span class="line">rebaseï¼Œåˆå¹¶çš„ç»“æœå¥½çœ‹ï¼Œä¸€æ¡çº¿ï¼Œä½†åˆå¹¶è¿‡ç¨‹ä¸­å‡ºç°å†²çªçš„è¯ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼ˆrebaseè¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªcommitå‡ºç°å†²çªï¼Œä¸‹ä¸€ä¸ªcommitä¹Ÿææœ‰å¯èƒ½å‡ºç°å†²çªï¼Œä¸€æ¬¡rebaseå¯èƒ½è¦è§£å†³å¤šæ¬¡å†²çªï¼‰ï¼›mergeï¼Œåˆå¹¶ç»“æœä¸å¥½çœ‹ï¼Œä¸€å †çº¿äº¤é”™ï¼Œä½†åˆå¹¶æœ‰å†²çªçš„è¯ï¼Œåªè¦è§£ä¸€æ¬¡å°±è¡Œäº†ï¼›</span><br><span class="line"></span><br><span class="line">commit ç²’åº¦æŠŠæ¡å¾—å¥½ï¼Œå°±ç›´æ¥ mergeï¼ŒæŠŠæ¡ä¸å¥½ï¼Œå…ˆ rebase æŠŠç²’åº¦è°ƒæ•´å¥½äº†ï¼Œå† mergeã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="let-var-const-åŒºåˆ«"><a href="#let-var-const-åŒºåˆ«" class="headerlink" title="let var const åŒºåˆ«"></a>let var const åŒºåˆ«</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">let çš„ã€Œåˆ›å»ºã€è¿‡ç¨‹è¢«æå‡äº†ï¼Œä½†æ˜¯åˆå§‹åŒ–æ²¡æœ‰æå‡ã€‚</span><br><span class="line"></span><br><span class="line">letåœ¨æœªå®šä¹‰ä¹‹å‰ä½¿ç”¨ï¼Œä¼šæŠ¥é”™</span><br><span class="line"></span><br><span class="line">var çš„ã€Œåˆ›å»ºã€å’Œã€Œåˆå§‹åŒ–ã€éƒ½è¢«æå‡äº†ã€‚</span><br><span class="line"></span><br><span class="line">function çš„ã€Œåˆ›å»ºã€ã€Œåˆå§‹åŒ–ã€å’Œã€Œèµ‹å€¼ã€éƒ½è¢«æå‡äº†ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯å—çº§çš„ï¼›</span><br><span class="line">let ä¸èƒ½é‡å¤å£°æ˜å·²å­˜åœ¨çš„å˜é‡ï¼›</span><br><span class="line">let æœ‰æš‚æ—¶æ­»åŒºï¼Œä¸ä¼šè¢«æå‡ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for( let i &#x3D; 0; i&lt; 5; i++) è¿™å¥è¯çš„åœ†æ‹¬å·ä¹‹é—´ï¼Œæœ‰ä¸€ä¸ªéšè—çš„ä½œç”¨åŸŸ</span><br><span class="line">for( let i &#x3D; 0; i&lt; 5; i++) &#123; å¾ªç¯ä½“ &#125; åœ¨æ¯æ¬¡æ‰§è¡Œå¾ªç¯ä½“ä¹‹å‰ï¼ŒJS å¼•æ“ä¼šæŠŠ i åœ¨å¾ªç¯ä½“çš„ä¸Šä¸‹æ–‡ä¸­é‡æ–°å£°æ˜åŠåˆå§‹åŒ–ä¸€æ¬¡ã€‚</span><br></pre></td></tr></table></figure><p><a href="https://github.com/mqyqingfeng/Blog">jsé“¾æ¥</a></p><h1 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h1><p><a href="http://www.ruanyifeng.com/blog/2009/08/learning_javascript_closures.html">é“¾æ¥</a></p><p>é—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚</p><p>é—­åŒ…æ˜¯åœ¨æŸä¸ªä½œç”¨åŸŸå†…å®šä¹‰çš„å‡½æ•°ï¼Œå®ƒå¯ä»¥è®¿é—®è¿™ä¸ªä½œç”¨åŸŸå†…çš„æ‰€æœ‰å˜é‡ã€‚</p><p>åœ¨Javascriptä¸­ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°æ‰èƒ½è¯»å–å±€éƒ¨å˜é‡ï¼Œå› æ­¤å¯ä»¥æŠŠé—­åŒ…ç®€å•ç†è§£æˆâ€å®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°â€ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨æœ¬è´¨ä¸Šï¼Œé—­åŒ…å°±æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿æ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢ã€‚</p><p>æœ€å¤§ç”¨å¤„æœ‰ä¸¤ä¸ªï¼Œ<br>ä¸€æ˜¯å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œ<br>ï¼ˆåˆ›å»ºå±€éƒ¨å˜é‡ï¼Œä¿æŠ¤å±€éƒ¨å˜é‡ä¸ä¼šè¢«è®¿é—®å’Œä¿®æ”¹ï¼‰ã€‚<br>å¦ä¸€ä¸ªå°±æ˜¯è®©è¿™äº›å˜é‡çš„å€¼å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ã€‚</p><p>é—­åŒ…å¸¸è§ç”¨é€”ï¼š</p><p>åˆ›å»ºç‰¹æƒæ–¹æ³•ç”¨äºè®¿é—®æ§åˆ¶<br>äº‹ä»¶å¤„ç†ç¨‹åºåŠå›è°ƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">let add&#x3D;(function()&#123;</span><br><span class="line">let now&#x3D;0;</span><br><span class="line">return &#123;</span><br><span class="line"> doAdd:function()&#123;</span><br><span class="line">    now++;</span><br><span class="line">    console.log(now);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">add.doAdd() &#x2F;&#x2F;1</span><br><span class="line">add.doAdd() &#x2F;&#x2F;2</span><br><span class="line">add.doAdd() &#x2F;&#x2F;3</span><br><span class="line"></span><br><span class="line">now è¿™ä¸ªå˜é‡ï¼Œå¹¶æ²¡æœ‰éšç€å‡½æ•°çš„æ‰§è¡Œå®Œæ¯•è€Œè¢«å›æ”¶ï¼Œ</span><br><span class="line">è€Œæ˜¯ç»§ç»­ä¿å­˜åœ¨å†…å­˜é‡Œé¢ã€‚</span><br><span class="line"></span><br><span class="line">ç”±äº add é‡Œé¢æœ‰å‡½æ•°æ˜¯ä¾èµ–äº now è¿™ä¸ªå˜é‡ã€‚æ‰€ä»¥ now ä¸ä¼šè¢«é”€æ¯ï¼Œå›æ”¶ã€‚</span><br><span class="line">ç”±äº now åœ¨å¤–é¢è®¿é—®ä¸åˆ°</span><br><span class="line"></span><br><span class="line"> var name &#x3D; &quot;The Window&quot;;</span><br><span class="line"></span><br><span class="line">ã€€ã€€var object &#x3D; &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€name : &quot;My Object&quot;,</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€getNameFunc : function()&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€return function()&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€return this.name;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€&#125;;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line"></span><br><span class="line">ã€€ã€€&#125;;</span><br><span class="line"></span><br><span class="line">ã€€ã€€alert(object.getNameFunc()());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç”±äºæ–¹æ³•é‡Œæœ‰this.name, è¿™é‡Œçš„thisçš„æ˜¯windowï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯The Window</span><br><span class="line"></span><br><span class="line">var name &#x3D; &quot;The Window&quot;;</span><br><span class="line"></span><br><span class="line">ã€€ã€€var object &#x3D; &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€name : &quot;My Object&quot;,</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€getNameFunc : function()&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€var that &#x3D; this;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€return function()&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€return that.name;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€&#125;;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line"></span><br><span class="line">ã€€ã€€&#125;;</span><br><span class="line"></span><br><span class="line">ã€€ã€€alert(object.getNameFunc()());</span><br><span class="line">ã€€ã€€</span><br><span class="line">&#x2F;&#x2F; è¿™é‡Œçš„thatæŒ‡å‘object</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„"><a href="#åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„" class="headerlink" title="åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„"></a>åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(typeof Array.isArray&#x3D;&#x3D;&#x3D;&quot;undefined&quot;)&#123;</span><br><span class="line">  Array.isArray &#x3D; function(arg)&#123;</span><br><span class="line">        return Object.prototype.toString.call(arg)&#x3D;&#x3D;&#x3D;&quot;[object Array]&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å€¼"><a href="#æ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å€¼" class="headerlink" title="æ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å€¼"></a>æ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å€¼</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;ç¬¬ä¸€ç§æ–¹æ³•</span><br><span class="line">var a&#x3D;[1,2,3,6,5,4];</span><br><span class="line">var max&#x3D;Math.max.apply(null,a);</span><br><span class="line">console.log(max);</span><br><span class="line">&#x2F;&#x2F;ç¬¬äºŒç§æ–¹æ³•</span><br><span class="line">var a&#x3D;[1,2,3,6,5,4];</span><br><span class="line">var max&#x3D;eval(&#39;Math.max(&#39;+a.toString()+&#39;)&#39;);</span><br><span class="line">console.log(max);</span><br><span class="line"></span><br><span class="line">Math.max(...[-1, 5, 11, 3])</span><br><span class="line"> Math.max.apply(Math, [-1, 5, 11, 3])</span><br></pre></td></tr></table></figure><h1 id="Javascriptçš„thisç”¨æ³•"><a href="#Javascriptçš„thisç”¨æ³•" class="headerlink" title="Javascriptçš„thisç”¨æ³•"></a>Javascriptçš„thisç”¨æ³•</h1><p><a href="http://www.ruanyifeng.com/blog/2010/04/using_this_keyword_in_javascript.html">é“¾æ¥</a><br><a href="http://blog.csdn.net/yangbingbinga/article/details/61424363">é“¾æ¥2</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">thisæ˜¯Javascriptè¯­è¨€çš„ä¸€ä¸ªå…³é”®å­—ã€‚</span><br><span class="line"></span><br><span class="line">å®ƒä»£è¡¨å‡½æ•°è¿è¡Œæ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªå†…éƒ¨å¯¹è±¡ï¼Œåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚</span><br><span class="line"></span><br><span class="line">éšç€å‡½æ•°ä½¿ç”¨åœºåˆçš„ä¸åŒï¼Œthisçš„å€¼ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªæ€»çš„åŸåˆ™ï¼Œé‚£å°±æ˜¯thisæŒ‡çš„æ˜¯ï¼Œè°ƒç”¨å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŒ¿åå‡½æ•°,å®šæ—¶å™¨ä¸­çš„å‡½æ•°,ç”±äºæ²¡æœ‰é»˜è®¤çš„å®¿ä¸»å¯¹è±¡,æ‰€ä»¥é»˜è®¤thisæŒ‡å‘window</p><p>é—®é¢˜: å¦‚æœæƒ³è¦åœ¨setTimeout/setIntervalä¸­ä½¿ç”¨è¿™ä¸ªå¯¹è±¡çš„thiså¼•ç”¨å‘¢?</p><p>ç”¨ä¸€ä¸ª å˜é‡æå‰æŠŠæ­£ç¡®çš„ thiså¼•ç”¨ä¿å­˜ èµ·æ¥, æˆ‘ä»¬é€šå¸¸ä½¿ç”¨that = this, æˆ–è€… _this = thisæ¥ä¿å­˜æˆ‘ä»¬éœ€è¦çš„thisæŒ‡é’ˆ!</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ func.bind(this) ç»™å›è°ƒå‡½æ•°ç›´æ¥ç»‘å®šå®¿ä¸»å¯¹è±¡, bindç»‘å®šå®¿ä¸»å¯¹è±¡åä¾ç„¶è¿”å›è¿™ä¸ªå‡½æ•°, è¿™æ˜¯æ›´ä¼˜é›…çš„åšæ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; 1;</span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line">  a: 2,</span><br><span class="line">  test: function() &#123;</span><br><span class="line">    setTimeout(function()&#123;</span><br><span class="line">      console.log(this.a);</span><br><span class="line">    &#125;.bind(this), 0);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.test();  &#x2F;&#x2F;  2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; setTimeoutä¸æ­¢ä¸¤ä¸ªå‚æ•°</span><br><span class="line">setTimeout(function(a, b)&#123;</span><br><span class="line">  console.log(a);   &#x2F;&#x2F; 3</span><br><span class="line">  console.log(b);   &#x2F;&#x2F; 4</span><br><span class="line">&#125;,0, 3, 4);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç®­å¤´å‡½æ•°æ¯”è¾ƒç‰¹æ®Šï¼Œæ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒä½¿ç”¨å°é—­æ‰§è¡Œä¸Šä¸‹æ–‡(å‡½æ•°æˆ–æ˜¯global)çš„ this å€¼ã€‚</span><br><span class="line"></span><br><span class="line">var x&#x3D;11;</span><br><span class="line">var obj&#x3D;&#123;</span><br><span class="line"> x:22,</span><br><span class="line"> say:()&#x3D;&gt;&#123;</span><br><span class="line">   console.log(this.x); &#x2F;&#x2F;thisæŒ‡å‘window</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.say();&#x2F;&#x2F; 11</span><br><span class="line">obj.say.call(&#123;x:13&#125;) &#x2F;&#x2F; 11</span><br><span class="line">x &#x3D; 14</span><br><span class="line">obj.say() &#x2F;&#x2F; 14</span><br><span class="line">&#x2F;&#x2F;å¯¹æ¯”ä¸€ä¸‹</span><br><span class="line">var obj2&#x3D;&#123;</span><br><span class="line"> x:22,</span><br><span class="line"> say() &#123;</span><br><span class="line">   console.log(this.x); &#x2F;&#x2F;thisæŒ‡å‘window</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj2.say();&#x2F;&#x2F; 22</span><br><span class="line">obj2.say.call(&#123;x:13&#125;) &#x2F;&#x2F; 13</span><br></pre></td></tr></table></figure><h3 id="ä¸€ã€çº¯ç²¹çš„å‡½æ•°è°ƒç”¨-å±äºå…¨å±€æ€§è°ƒç”¨ï¼Œå› æ­¤thiså°±ä»£è¡¨å…¨å±€å¯¹è±¡Global"><a href="#ä¸€ã€çº¯ç²¹çš„å‡½æ•°è°ƒç”¨-å±äºå…¨å±€æ€§è°ƒç”¨ï¼Œå› æ­¤thiså°±ä»£è¡¨å…¨å±€å¯¹è±¡Global" class="headerlink" title="ä¸€ã€çº¯ç²¹çš„å‡½æ•°è°ƒç”¨   å±äºå…¨å±€æ€§è°ƒç”¨ï¼Œå› æ­¤thiså°±ä»£è¡¨å…¨å±€å¯¹è±¡Global"></a>ä¸€ã€çº¯ç²¹çš„å‡½æ•°è°ƒç”¨   å±äºå…¨å±€æ€§è°ƒç”¨ï¼Œå› æ­¤thiså°±ä»£è¡¨å…¨å±€å¯¹è±¡Global</h3><p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œé»˜è®¤ç»‘å®šä¼šå°† this æŒ‡å‘ undefined</p><h3 id="äºŒã€ä½œä¸ºå¯¹è±¡æ–¹æ³•çš„è°ƒç”¨-thiså°±æŒ‡è¿™ä¸ªä¸Šçº§å¯¹è±¡"><a href="#äºŒã€ä½œä¸ºå¯¹è±¡æ–¹æ³•çš„è°ƒç”¨-thiså°±æŒ‡è¿™ä¸ªä¸Šçº§å¯¹è±¡" class="headerlink" title="äºŒã€ä½œä¸ºå¯¹è±¡æ–¹æ³•çš„è°ƒç”¨    thiså°±æŒ‡è¿™ä¸ªä¸Šçº§å¯¹è±¡"></a>äºŒã€ä½œä¸ºå¯¹è±¡æ–¹æ³•çš„è°ƒç”¨    thiså°±æŒ‡è¿™ä¸ªä¸Šçº§å¯¹è±¡</h3><h3 id="ä¸‰-ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨"><a href="#ä¸‰-ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨" class="headerlink" title="ä¸‰ ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨"></a>ä¸‰ ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨</h3><p>   æ‰€è°“æ„é€ å‡½æ•°ï¼Œå°±æ˜¯é€šè¿‡è¿™ä¸ªå‡½æ•°ç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆobjectï¼‰ã€‚è¿™æ—¶ï¼Œthiså°±æŒ‡è¿™ä¸ªæ–°å¯¹è±¡ã€‚</p><h3 id="å››-applyè°ƒç”¨"><a href="#å››-applyè°ƒç”¨" class="headerlink" title="å›› applyè°ƒç”¨"></a>å›› applyè°ƒç”¨</h3><p>  thisæŒ‡çš„å°±æ˜¯è¿™ç¬¬ä¸€ä¸ªå‚æ•°ã€‚<br>  apply()çš„å‚æ•°ä¸ºç©ºæ—¶ï¼Œé»˜è®¤è°ƒç”¨å…¨å±€å¯¹è±¡ã€‚</p><h3 id="äº”-thisæŒ‡å‘ç»‘å®šäº‹ä»¶çš„domå…ƒç´ "><a href="#äº”-thisæŒ‡å‘ç»‘å®šäº‹ä»¶çš„domå…ƒç´ " class="headerlink" title="äº” thisæŒ‡å‘ç»‘å®šäº‹ä»¶çš„domå…ƒç´ "></a>äº” thisæŒ‡å‘ç»‘å®šäº‹ä»¶çš„domå…ƒç´ </h3><p>document.querySelector(â€œ#idâ€).onclick =function(){<br>    this == document.querySelector(â€œ#idâ€)<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">if(!(&quot;a&quot; in window))&#123;</span><br><span class="line">    var a &#x3D; 10;</span><br><span class="line">&#125;</span><br><span class="line">console.log(a); &#x2F;&#x2F; undefined</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; window.hasOwnProperty(&quot;a&quot;) &#x3D;&#x3D;&#x3D; true ..</span><br><span class="line">&#x2F;&#x2F;ä¸ç”¨å¤šè¯´äº†. a è¿˜çœŸå­˜åœ¨åŸå‹é“¾ä¸Š</span><br><span class="line">&#x2F;&#x2F; å€¼æ˜¯ Location è¿™ä¸ª API çš„æ•°æ®</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var count &#x3D; 0;</span><br><span class="line"></span><br><span class="line">console.log(typeof count &#x3D;&#x3D;&#x3D; &quot;number&quot;); &#x2F;&#x2F; true , è¿™ä¸ªä¸ç”¨è§£é‡Šäº†</span><br><span class="line"></span><br><span class="line">console.log(!!typeof count &#x3D;&#x3D;&#x3D; &quot;number&quot;); &#x2F;&#x2F; false</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¿™é‡Œæ¶‰åŠåˆ°å°±æ˜¯ä¼˜å…ˆçº§å’Œå¸ƒå°”å€¼çš„é—®é¢˜</span><br><span class="line">&#x2F;&#x2F; typeof count å°±æ˜¯å­—ç¬¦ä¸²&quot;number&quot;</span><br><span class="line">&#x2F;&#x2F; !!æ˜¯è½¬ä¸ºå¸ƒå°”å€¼(ä¸‰ç›®è¿ç®—ç¬¦çš„å˜ç§),éç©ºå­—ç¬¦ä¸²å¸ƒå°”å€¼ä¸º true</span><br><span class="line">&#x2F;&#x2F; æœ€åæ‰&#x3D;&#x3D;&#x3D; æ¯”è¾ƒ , true &#x3D;&#x3D;&#x3D; &quot;number&quot; , return false</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">(function()&#123;</span><br><span class="line">  var a &#x3D; b &#x3D; 3;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">console.log(typeof a &#x3D;&#x3D;&#x3D; &quot;undefined&quot;); &#x2F;&#x2F; false</span><br><span class="line">console.log(typeof b &#x3D;&#x3D;&#x3D; &quot;undefined&quot;); &#x2F;&#x2F; false</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¿™é‡Œæ¶‰åŠçš„å°±æ˜¯ç«‹å³æ‰§è¡Œå’Œé—­åŒ…çš„é—®é¢˜,è¿˜æœ‰å˜é‡æå‡,è¿ç®—ç¬¦æ‰§è¡Œæ–¹å‘(&#x3D;å·è‡ªå·¦å‘å³)</span><br><span class="line">&#x2F;&#x2F; é‚£ä¸ªå‡½æ•°å¯ä»¥æ‹†æˆè¿™æ ·</span><br><span class="line"></span><br><span class="line">(function()</span><br><span class="line">  var a; &#x2F;* å±€éƒ¨å˜é‡,å¤–éƒ¨æ²¡æ³•è®¿é—®*&#x2F;</span><br><span class="line">  b &#x3D; 3; &#x2F;* å…¨å±€å˜é‡,so . window.b &#x3D;&#x3D;&#x3D; 3 , å¤–éƒ¨å¯ä»¥è®¿é—®åˆ°*&#x2F;</span><br><span class="line">  a &#x3D; b;</span><br><span class="line">&#125;)()</span><br><span class="line">&#x2F;&#x2F; æ³¨æ„aåªæœ‰åœ¨é—­åŒ…é‡Œæ‰èƒ½è®¿é—®(a&#x3D;3)ï¼Œåœ¨å¤–éƒ¨æ˜¯undefined  !!!!!!!!!!!!!!!!!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è‹¥æ˜¯æ”¹æˆè¿™æ ·,è¿™é“é¢˜åº”è¯¥æ˜¯å¯¹çš„</span><br><span class="line">console.log(typeof b &#x3D;&#x3D;&#x3D; &quot;number&quot; &amp;&amp; b &#x3D;&#x3D;&#x3D;3</span><br><span class="line">); &#x2F;&#x2F; true</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function foo(something)&#123;</span><br><span class="line">  this.a &#x3D; something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj1 &#x3D; &#123;</span><br><span class="line">  foo:foo</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var obj2 &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">obj1.foo(2)</span><br><span class="line"></span><br><span class="line">console.log(obj1.a) &#x2F;&#x2F; 2 ,æ­¤æ—¶çš„ this ä¸Šä¸‹æ–‡è¿˜åœ¨ obj1å†…,è‹¥æ˜¯ obj1.foo å…ˆä¿å­˜å½“åšå¼•ç”¨å†æ‰§è¡Œä¼ å‚,åˆ™ä¸Šä¸‹æ–‡ä¸º window</span><br><span class="line"></span><br><span class="line">obj1.foo.call(obj2,3); &#x2F;&#x2F; ç”¨ call å¼ºè¡Œæ”¹å˜ä¸Šä¸‹æ–‡ä¸º obj2å†…</span><br><span class="line">console.log(obj2.a); &#x2F;&#x2F; 3</span><br><span class="line"></span><br><span class="line">var  bar &#x3D; new obj1.foo(4); &#x2F;&#x2F; è¿™é‡Œäº§ç”Ÿäº†ä¸€ä¸ªå®ä¾‹</span><br><span class="line">console.log(obj1.a); &#x2F;&#x2F; 2</span><br><span class="line">console.log(bar.a); &#x2F;&#x2F; 4;  newçš„ç»‘å®šæ¯”éšå¼å’Œæ˜¾å¼ç»‘å®šä¼˜å…ˆçº§æ›´é«˜</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Q-è®¾è®¡æ¨¡å¼ä½ äº†è§£å¤šå°‘"><a href="#Q-è®¾è®¡æ¨¡å¼ä½ äº†è§£å¤šå°‘" class="headerlink" title="Q: è®¾è®¡æ¨¡å¼ä½ äº†è§£å¤šå°‘"></a>Q: è®¾è®¡æ¨¡å¼ä½ äº†è§£å¤šå°‘</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.cnblogs.com&#x2F;tugenhua0707&#x2F;p&#x2F;5198407.html</span><br></pre></td></tr></table></figure><h1 id="Q-JS-çš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰å“ªäº›"><a href="#Q-JS-çš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰å“ªäº›" class="headerlink" title="Q: JS çš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰å“ªäº›"></a>Q: JS çš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰å“ªäº›</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Object</span><br><span class="line">Undefined</span><br><span class="line">Null</span><br><span class="line">Number</span><br><span class="line">Boolean</span><br><span class="line">String</span><br><span class="line">Symbol (ECMAScript 6 æ–°å®šä¹‰)</span><br><span class="line"></span><br><span class="line"> 5 ç§åŸå§‹ç±»å‹å³</span><br><span class="line"> Undefined</span><br><span class="line"> Null</span><br><span class="line"> Number</span><br><span class="line"> Boolean</span><br><span class="line"> String</span><br><span class="line"></span><br><span class="line"> é™¤äº†Objectå’ŒSymbolä¸æ˜¯ï¼Œå…¶ä»–éƒ½æ˜¯</span><br></pre></td></tr></table></figure><h1 id="Q-null-å’Œ-undefined-çš„å·®å¼‚"><a href="#Q-null-å’Œ-undefined-çš„å·®å¼‚" class="headerlink" title="Q: null å’Œ undefined çš„å·®å¼‚"></a>Q: null å’Œ undefined çš„å·®å¼‚</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">å¤§ä½“è¯´ä¸€ä¸‹,æƒ³è¦çŸ¥å…¶æ‰€ä»¥ç„¶è¯·å¼•æ“æœç´¢</span><br><span class="line"></span><br><span class="line">ç›¸åŒç‚¹:</span><br><span class="line"></span><br><span class="line">åœ¨ if åˆ¤æ–­è¯­å¥ä¸­,å€¼éƒ½é»˜è®¤ä¸º false</span><br><span class="line">å¤§ä½“ä¸Šä¸¤è€…éƒ½æ˜¯ä»£è¡¨ æ—  ,å…·ä½“çœ‹å·®å¼‚</span><br><span class="line">å·®å¼‚:</span><br><span class="line"></span><br><span class="line">null è½¬ä¸ºæ•°å­—ç±»å‹å€¼ä¸º0,è€Œ undefined è½¬ä¸ºæ•°å­—ç±»å‹ä¸º NaN(Not a Number)</span><br><span class="line">undefined æ˜¯ä»£è¡¨è°ƒç”¨ä¸€ä¸ªå€¼è€Œè¯¥å€¼å´æ²¡æœ‰èµ‹å€¼,è¿™æ—¶å€™é»˜è®¤åˆ™ä¸º undefined</span><br><span class="line">null æ˜¯ä¸€ä¸ªå¾ˆç‰¹æ®Šçš„å¯¹è±¡,æœ€ä¸ºå¸¸è§çš„ä¸€ä¸ªç”¨æ³•å°±æ˜¯ä½œä¸ºå‚æ•°ä¼ å…¥(è¯´æ˜è¯¥å‚æ•°ä¸æ˜¯å¯¹è±¡)</span><br><span class="line">è®¾ç½®ä¸º null çš„å˜é‡æˆ–è€…å¯¹è±¡ä¼šè¢«å†…å­˜æ”¶é›†å™¨å›æ”¶</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Q-æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼æœ‰å“ªäº›-æ¯”è¾ƒå¥½çš„æ˜¯å“ªä¸€ç§"><a href="#Q-æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼æœ‰å“ªäº›-æ¯”è¾ƒå¥½çš„æ˜¯å“ªä¸€ç§" class="headerlink" title="Q: æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼æœ‰å“ªäº›?æ¯”è¾ƒå¥½çš„æ˜¯å“ªä¸€ç§"></a>Q: æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼æœ‰å“ªäº›?æ¯”è¾ƒå¥½çš„æ˜¯å“ªä¸€ç§</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">å¸¸ç”¨çš„ä¸€èˆ¬ä¸ºä¸‰ç§ .clearfix , clear:both , overflow:hidden ;</span><br><span class="line"></span><br><span class="line">.clearfix:after &#123;</span><br><span class="line">  font-size: 0;</span><br><span class="line">  content:&quot;&quot;;&#x2F;&#x2F;è®¾ç½®å†…å®¹ä¸ºç©º</span><br><span class="line">ã€€height:0;&#x2F;&#x2F;é«˜åº¦ä¸º0</span><br><span class="line">ã€€line-height:0;&#x2F;&#x2F;è¡Œé«˜ä¸º0</span><br><span class="line">ã€€display:block;&#x2F;&#x2F;å°†æ–‡æœ¬è½¬ä¸ºå—çº§å…ƒç´ </span><br><span class="line">ã€€visibility:hidden;&#x2F;&#x2F;å°†å…ƒç´ éšè—</span><br><span class="line">ã€€clear:both&#x2F;&#x2F;æ¸…é™¤æµ®åŠ¨</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¦ä¸€ç§å†™æ³•</span><br><span class="line"></span><br><span class="line">.clearfix:before, .clearfix:after &#123;</span><br><span class="line"> content:&quot;&quot;;</span><br><span class="line"> display:table;</span><br><span class="line">&#125;</span><br><span class="line">.clearfix:after&#123;</span><br><span class="line"> clear:both;</span><br><span class="line"> overflow:hidden;</span><br><span class="line">&#125;</span><br><span class="line">.clearfix&#123;</span><br><span class="line">    zoom:1;&#x2F;&#x2F; ä¸ºäº†å…¼å®¹IE</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;!--</span><br><span class="line">ç”¨display:table æ˜¯ä¸ºäº†é¿å…å¤–è¾¹è·marginé‡å å¯¼è‡´çš„marginå¡Œé™·,</span><br><span class="line">å†…éƒ¨å…ƒç´ é»˜è®¤ä¼šæˆä¸º table-cell å•å…ƒæ ¼çš„å½¢å¼</span><br><span class="line">--&gt;</span><br><span class="line">clear:both :è‹¥æ˜¯ç”¨åœ¨åŒä¸€ä¸ªå®¹å™¨å†…ç›¸é‚»å…ƒç´ ä¸Š,é‚£æ˜¯è´¼å¥½çš„...æœ‰æ—¶å€™åœ¨å®¹å™¨å¤–å°±æœ‰äº›é—®é¢˜äº†, æ¯”å¦‚ç›¸é‚»å®¹å™¨çš„åŒ…è£¹å±‚å…ƒç´ å¡Œé™·</span><br><span class="line"></span><br><span class="line">overflow:hidden :è¿™ç§è‹¥æ˜¯ç”¨åœ¨åŒä¸ªå®¹å™¨å†…,å¯ä»¥å½¢æˆ BFC é¿å…æµ®åŠ¨é€ æˆçš„å…ƒç´ å¡Œé™·</span><br></pre></td></tr></table></figure><h1 id="Q-è·¨åŸŸé—®é¢˜"><a href="#Q-è·¨åŸŸé—®é¢˜" class="headerlink" title="Q: è·¨åŸŸé—®é¢˜"></a>Q: è·¨åŸŸé—®é¢˜</h1><p><a href="https://www.imooc.com/article/21976">è¯¦æƒ…</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘ä¸€èˆ¬ç”¨è¿™ä¸‰ç§, cors , nginxåå‘ä»£ç† , jsonp</span><br><span class="line"></span><br><span class="line">jsonp : å•çº¯çš„ get ä¸€äº›æ•°æ®,å±€é™æ€§å¾ˆå¤§...å°±æ˜¯åˆ©ç”¨scriptæ ‡ç­¾çš„srcå±æ€§æ¥å®ç°è·¨åŸŸã€‚</span><br><span class="line"></span><br><span class="line">æµè§ˆå™¨æ”¯æŒå¥½</span><br><span class="line">è°ƒç”¨å¤±è´¥ä¸ä¼šè¿”å›å„ç§HTTPçŠ¶æ€ç </span><br><span class="line">ç»™åç«¯ä¼ jsonæ ¼å¼çš„æ•°æ®ä¼šæŠ¥415é”™è¯¯ï¼Œè¯·æ±‚æ ¼å¼ä¸æ­£ç¡®</span><br><span class="line">callbackæ·»åŠ æ¶æ„scriptæ ‡ç­¾ï¼Œé€ æˆxssæ¼æ´</span><br><span class="line">åªèƒ½å¤Ÿå®ç°getè¯·æ±‚</span><br><span class="line">å‚æ•°å¯è§</span><br><span class="line"></span><br><span class="line">nginx åå‘ä»£ç† : ä¸»è¦å°±æ˜¯ç”¨äº† nginx.conf å†…çš„ proxy_pass http:&#x2F;&#x2F;xxx.xxx.xxx</span><br><span class="line">,ä¼šæŠŠæ‰€æœ‰è¯·æ±‚ä»£ç†åˆ°é‚£ä¸ªåŸŸå,æœ‰åˆ©ä¹Ÿæœ‰å¼Šå§..</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cors</span><br><span class="line"></span><br><span class="line">å¯æ§æ€§è¾ƒå¼º,éœ€è¦å‰åç«¯éƒ½è®¾ç½®,å…¼å®¹æ€§ IE10+ ,</span><br><span class="line">CORSéœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨åŒæ—¶æ”¯æŒã€‚IE8+ï¼šIE8&#x2F;9éœ€è¦ä½¿ç”¨XDomainRequestå¯¹è±¡æ¥æ”¯æŒCORSã€‚</span><br><span class="line"></span><br><span class="line">æ¯”å¦‚</span><br><span class="line">Access-Control-Allow-Origin: http:&#x2F;&#x2F;foo.example &#x2F;&#x2F; å­åŸŸä¹ƒè‡³æ•´ä¸ªåŸŸåæˆ–æ‰€æœ‰åŸŸåæ˜¯å¦å…è®¸è®¿é—®</span><br><span class="line">Access-Control-Allow-Methods: POST, GET, OPTIONS &#x2F;&#x2F; å…è®¸é‚£äº›è¡Œä¸ºæ–¹æ³•</span><br><span class="line">Access-Control-Allow-Headers: X-PINGOTHER, Content-Type &#x2F;&#x2F; å…è®¸çš„å¤´éƒ¨å­—æ®µ</span><br><span class="line">Access-Control-Max-Age: 86400 &#x2F;&#x2F; æœ‰æ•ˆæœŸ</span><br><span class="line">cros çš„é…ç½®ä¸ä»…ä»…è¿™äº›,è¿˜æœ‰å…¶ä»–ä¸€äº›,å…·ä½“å¼•æ“å§....</span><br><span class="line"></span><br><span class="line">è‹¥æ˜¯æˆ‘ä»¬è¦ç”¨ nginx æˆ–è€… express é…ç½® cors åº”è¯¥æ€ä¹ˆæèµ·? æ¥ä¸ªç®€æ˜“ç‰ˆæœ¬çš„</span><br><span class="line"></span><br><span class="line">nginx</span><br><span class="line">location &#x2F; &#123;</span><br><span class="line">   # æ£€æŸ¥åŸŸååç¼€</span><br><span class="line">    add_header Access-Control-Allow-Origin xx.xx.com;</span><br><span class="line">    add_header Access-Control-Allow-Methods GET,POST,OPTIONS;</span><br><span class="line">    add_header Access-Control-Allow-Credentials true;</span><br><span class="line">    add_header Access-Control-Allow-Headers DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type;</span><br><span class="line">    add_header Access-Control-Max-Age 86400;</span><br><span class="line">&#125;</span><br><span class="line">express, å½“ç„¶è¿™è´§ä¹Ÿæœ‰ä¸€äº›åˆ«äººå°è£…å¥½çš„ cors ä¸­é—´ä»¶,æ“ä½œæ€§æ›´å¼º...</span><br><span class="line">let express &#x3D; require(&#39;express&#39;);  </span><br><span class="line">let app &#x3D; express();  </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è®¾ç½®æ‰€æœ‰è¯·æ±‚çš„å¤´éƒ¨</span><br><span class="line">app.all(&#39;*&#39;, (req, res, next) &#x3D;&gt;  &#123;  </span><br><span class="line">    res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;xx.xx.com&quot;);  </span><br><span class="line">    res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&quot;);  </span><br><span class="line">    res.header(&quot;Access-Control-Allow-Methods&quot;,&quot;PUT,POST,GET,DELETE,OPTIONS&quot;);  </span><br><span class="line">    next();  </span><br><span class="line">&#125;);</span><br><span class="line">æœ‰äº›è¿˜ä¼šè·Ÿä½ æ­»ç£•,,é™¤äº†è¿™äº›è¿˜æœ‰å…¶ä»–å§¿åŠ¿ä¹ˆ...æˆ‘è¯´äº†ä¸€ä¸ªHTML5çš„ postMessage ....</span><br><span class="line"></span><br><span class="line">..å› ä¸ºçœŸå¿ƒæ²¡ç”¨è¿‡,åªæ˜¯ä»¥å‰æŸ¥é˜…çš„æ—¶å€™äº†è§£äº†ä¸‹..åªèƒ½å¤§ä½“ç‚¹ä¸‹</span><br><span class="line"></span><br><span class="line">è¿™è´§ç”¨äº iframe ä¼ é€’æ¶ˆæ¯å±…å¤š, å¤§ä½“æœ‰è¿™ä¹ˆä¸¤æ­¥æ­¥</span><br><span class="line"></span><br><span class="line">window æ‰“å¼€ä¸€ä¸ªå®ä¾‹,ä¼ é€’ä¸€ä¸ªæ¶ˆæ¯åˆ°ä¸€ä¸ªxåŸŸå</span><br><span class="line">x åŸŸåä¸‹ç›‘å¬ message äº‹ä»¶,è·å–ä¼ é€’çš„æ¶ˆæ¯</span><br><span class="line">è¿™è´§çš„å…¼å®¹æ€§æ²¡é‚£ä¹ˆå¥½,è€Œä¸”æ²¡è€ƒè™‘å‘¨å…¨çš„ä¸‹å®¹æ˜“é­å— CSRF æ”»å‡»</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Q-å¯¹äºXSS-å’Œ-CSRF-å¦‚ä½•é˜²èŒƒ"><a href="#Q-å¯¹äºXSS-å’Œ-CSRF-å¦‚ä½•é˜²èŒƒ" class="headerlink" title="Q: å¯¹äºXSS å’Œ CSRF å¦‚ä½•é˜²èŒƒ"></a>Q: å¯¹äºXSS å’Œ CSRF å¦‚ä½•é˜²èŒƒ</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> XSSä¸»è¦æ˜¯æŒ‡è·¨è„šæœ¬æ”»å‡», å…¶å®å°±ç›¸å½“äºæ‰§è¡Œjsè„šæœ¬.</span><br><span class="line"></span><br><span class="line">XSSçš„é˜²èŒƒ</span><br><span class="line"></span><br><span class="line">1. éªŒè¯ç”¨æˆ·è¾“å…¥çš„å†…å®¹, æ˜¯å¦ç¬¦åˆè§„åˆ™.</span><br><span class="line">2. è½¬ä¹‰ &lt;&gt; é€ æˆä»£ç ç›´æ¥è¿è¡Œçš„çš„æ ‡ç­¾..</span><br><span class="line">    è½®è¯¢æˆ–è€…æ­£åˆ™æ›¿æ¢</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è€Œé¢è¯•å®˜è¯´è¿™ç§çš„æ•ˆç‡æœ€ä½ä¸‹,æ‰¾ç›¸å…³èµ„æ–™</span><br><span class="line">è‹¥æ˜¯æœ‰ç”¨åˆ° cookie ,è®¾ç½®ä¸º http-only ,é¿å…å®¢æˆ·ç«¯çš„ç¯¡æ”¹</span><br><span class="line"></span><br><span class="line">CSP(Content Security Policy)</span><br><span class="line">ä»¥ç™½åå•çš„æœºåˆ¶å¯¹ç½‘ç«™åŠ è½½æˆ–æ‰§è¡Œçš„èµ„æºèµ·ä½œç”¨ã€‚</span><br><span class="line">åœ¨ç½‘é¡µä¸­ï¼Œè¿™æ ·çš„ç­–ç•¥é€šè¿‡ HTTP å¤´ä¿¡æ¯æˆ–è€… meta</span><br><span class="line">å…ƒç´ å®šä¹‰ã€‚CSPè™½ç„¶æä¾›äº†å¼ºå¤§çš„å®‰å…¨ä¿æŠ¤ï¼Œ</span><br><span class="line">ä½†æ˜¯ä»–ä¹Ÿé€ æˆäº†å¦‚ä¸‹é—®é¢˜ï¼šEvalåŠç›¸å…³å‡½æ•°è¢«ç¦ç”¨ã€</span><br><span class="line">å†…åµŒçš„JavaScriptä»£ç å°†ä¸ä¼šæ‰§è¡Œã€</span><br><span class="line">åªèƒ½é€šè¿‡ç™½åå•æ¥åŠ è½½è¿œç¨‹è„šæœ¬ã€‚</span><br><span class="line"></span><br><span class="line">CSRFè·¨åŸŸå‡å†’è¯·æ±‚</span><br><span class="line"></span><br><span class="line">æœ‰3ä¸ªç‰¹æ€§: è·¨åŸŸ, cookie, è¯·æ±‚æ–¹å¼.</span><br><span class="line">CSRFçš„é˜²èŒƒä¸€èˆ¬è¿™å‡ ç§</span><br><span class="line"></span><br><span class="line">éªŒè¯ç ,ç”¨æˆ·ä½“éªŒè™½ç„¶ä¸å¥½,</span><br><span class="line">éªŒè¯ HTTP Referer å­—æ®µ,åˆ¤æ–­è¯·æ±‚æ¥æº</span><br><span class="line">tokenåŠ å¯†è§£å¯† ,å‰ç«¯å’Œåå°åŒæ–¹åå®šä¸€ä¸ªtokenå†…å®¹</span><br><span class="line"></span><br><span class="line">å°½é‡ä½¿ç”¨JSONç±»å‹ä¼ è¾“</span><br><span class="line">    form ä¼ è¾“çš„æ ¼å¼ä¸º:</span><br><span class="line">    Content-Type: application&#x2F;x-www-form-urlencoded</span><br><span class="line">    è€Œ,JSONçš„ä¼ è¾“ç±»å‹ä¸º:</span><br><span class="line">    Content-Type: application&#x2F;json form</span><br><span class="line">    æ²¡æœ‰åŠæ³•å»æ¨¡ä»¿JSONç±»å‹è¿›è¡Œä¼ è¾“</span><br><span class="line"></span><br><span class="line">DNSåŠ«æŒ, äº‹å®ä¸Šæ›´åå‘äºUser</span><br><span class="line">    developerå®é™…ä¸Šå¯¹è¿™ä¸ªä¹Ÿæ— èƒ½ä¸ºåŠ›ã€‚</span><br><span class="line"></span><br><span class="line">HTTP(ISP) åŠ«æŒ</span><br><span class="line">    ä½¿ç”¨HTTPS åŠ å¯†æ–¹å¼ä¼ è¾“</span><br><span class="line">    æ›¿æ¢ä½ çš„jsçš„æä¾›å•†ï¼Œä½¿ç”¨HTTPSè·¯å¾„è¿›è¡ŒåŠ è½½ã€‚</span><br><span class="line"></span><br><span class="line">éªŒè¯ç é€ æˆçš„ä½“éªŒä¸å¥½,</span><br><span class="line">token æ»¥ç”¨é€ æˆçš„æ€§èƒ½é—®é¢˜,è½®è¯¢æ›¿æ¢é€ æˆçš„å“åº”æ—¶é—´ç­‰</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Q-è°ˆè°ˆä½ å¯¹-Promise-çš„ç†è§£-å’Œ-ajax-æœ‰å…³ç³»ä¹ˆ"><a href="#Q-è°ˆè°ˆä½ å¯¹-Promise-çš„ç†è§£-å’Œ-ajax-æœ‰å…³ç³»ä¹ˆ" class="headerlink" title="Q: è°ˆè°ˆä½ å¯¹ Promise çš„ç†è§£? å’Œ ajax æœ‰å…³ç³»ä¹ˆ"></a>Q: è°ˆè°ˆä½ å¯¹ Promise çš„ç†è§£? å’Œ ajax æœ‰å…³ç³»ä¹ˆ</h1><p><a href="http://imweb.io/topic/57a0760393d9938132cc8da9">é“¾æ¥</a></p><p>promise æ˜¯å¯¹å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§æŠ½è±¡ã€‚å®ƒæ˜¯ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œä»£è¡¨ä¸€ä¸ªå¿…é¡»è¿›è¡Œå¼‚æ­¥å¤„ç†çš„å‡½æ•°è¿”å›çš„å€¼æˆ–æŠ›å‡ºçš„å¼‚å¸¸ã€‚</p><h2 id="å¥½å¤„"><a href="#å¥½å¤„" class="headerlink" title="å¥½å¤„"></a>å¥½å¤„</h2><p>å¼‚æ­¥æ“ä½œé˜Ÿåˆ—åŒ–ï¼Œæ¯”ä¼ ç»Ÿçš„å¼‚æ­¥æ“ä½œå›è°ƒå‡½æ•°å’Œäº‹ä»¶æ›´åˆç†æ›´å¼ºå¤§ã€‚</p><p>èƒ½æŠŠåŸæ¥çš„å›è°ƒå†™æ³•åˆ†ç¦»å‡ºæ¥ï¼Œåœ¨å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåï¼Œç”¨é“¾å¼è°ƒç”¨çš„æ–¹å¼æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚</p><p>==Promiseå¯¹è±¡ä¸‰ç§çŠ¶æ€ï¼š==</p><p>Pendingï¼ˆè¿›è¡Œä¸­ï¼‰<br>Fulfilledï¼ˆå·²å®Œæˆï¼Œåˆç§°ä¸ºResolvedï¼‰<br>Rejectdï¼ˆå·²å¤±è´¥ï¼‰</p><p>ä¸€äº›éœ€è¦æ³¨æ„çš„å°ç‚¹,å¦‚ä¸‹</p><p>åœ¨ Pending è½¬ä¸ºå¦å¤–ä¸¤ç§ä¹‹ä¸€çš„çŠ¶æ€æ—¶å€™,çŠ¶æ€ä¸å¯åœ¨æ”¹å˜..</p><p>Promise çš„ then ä¸ºå¼‚æ­¥.è€Œ( new Promise() )æ„é€ å‡½æ•°å†…ä¸ºåŒæ­¥</p><p>Promise çš„ catch ä¸èƒ½æ•è·ä»»æ„æƒ…å†µçš„é”™è¯¯(æ¯”å¦‚ then é‡Œé¢çš„ setTimout å†…æ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ª Error )</p><p>Promise çš„ resolve è‹¥æ˜¯ä¼ å…¥å€¼è€Œéå‡½æ•°,ä¼šå‘ç”Ÿå€¼ç©¿é€çš„ç°è±¡</p><p>Promise è¿˜æœ‰ä¸€äº›è‡ªå¸¦çš„æ–¹æ³•,æ¯”å¦‚ race , all ,å‰è€…æœ‰ä»»ä¸€ä¸€ä¸ªè§£æå®Œæ¯•å°±è¿”å›,åè€…æ‰€æœ‰è§£æå®Œæ¯•è¿”å›â€¦</p><p>==Promise æ–¹æ³•ï¼š==</p><p>thenï¼š ç”¨é“¾å¼è°ƒç”¨çš„æ–¹å¼æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚é€šè¿‡ resolve æ–¹æ³•æŠŠ Promise çš„çŠ¶æ€ç½®ä¸ºå®Œæˆæ€ï¼ˆResolvedï¼‰ï¼Œè¿™æ—¶ then æ–¹æ³•å°±èƒ½æ•æ‰åˆ°å˜åŒ–ï¼Œå¹¶æ‰§è¡Œâ€œæˆåŠŸâ€æƒ…å†µçš„å›è°ƒã€‚<br>thenæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹</p><p>rejectï¼š æŠŠ Promise çš„çŠ¶æ€ç½®ä¸ºå·²å¤±è´¥ï¼ˆRejectedï¼‰ï¼Œè¿™æ—¶ then æ–¹æ³•æ‰§è¡Œâ€œå¤±è´¥â€æƒ…å†µçš„å›è°ƒ</p><p>catchï¼šå’Œ then çš„ç¬¬äºŒä¸ªå‚æ•°ä¸€æ ·ï¼Œç”¨æ¥æŒ‡å®š reject çš„å›è°ƒ   å½“æ‰§è¡Œ resolve çš„å›è°ƒï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢ then ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰æ—¶ï¼Œå¦‚æœæŠ›å‡ºå¼‚å¸¸äº†ï¼ˆä»£ç å‡ºé”™äº†ï¼‰ï¼Œé‚£ä¹ˆä¹Ÿä¸ä¼šæŠ¥é”™å¡æ­» jsï¼Œè€Œæ˜¯ä¼šè¿›åˆ°è¿™ä¸ª catch æ–¹æ³•ä¸­ã€‚</p><p>all:  æä¾›äº†å¹¶è¡Œæ‰§è¡Œå¼‚æ­¥æ“ä½œçš„èƒ½åŠ›ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåæ‰æ‰§è¡Œå›è°ƒã€‚</p><ul><li><p>å½“è¯¥æ•°ç»„é‡Œçš„æ‰€æœ‰Promiseå®ä¾‹éƒ½è¿›å…¥FulfilledçŠ¶æ€ï¼ŒPromise.allè¿”å›çš„å®ä¾‹æ‰ä¼šå˜æˆFulfilledçŠ¶æ€ã€‚å¹¶å°†Promiseå®ä¾‹æ•°ç»„çš„æ‰€æœ‰è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™Promise.allè¿”å›å®ä¾‹çš„å›è°ƒå‡½æ•°ã€‚</p></li><li><p>å½“è¯¥æ•°ç»„é‡Œçš„æŸä¸ªPromiseå®ä¾‹éƒ½è¿›å…¥RejectedçŠ¶æ€ï¼ŒPromise.allè¿”å›çš„å®ä¾‹ä¼šç«‹å³å˜æˆRejectedçŠ¶æ€ã€‚å¹¶å°†ç¬¬ä¸€ä¸ªrejectedçš„å®ä¾‹è¿”å›å€¼ä¼ é€’ç»™Promise.allè¿”å›å®ä¾‹çš„å›è°ƒå‡½æ•°ã€‚</p></li></ul><p>race:åªè¦æœ‰ä¸€ä¸ªå¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œæ¯•ï¼Œå°±ç«‹åˆ»æ‰§è¡Œ then å›è°ƒã€‚<br>æ³¨æ„ï¼šå…¶å®ƒæ²¡æœ‰æ‰§è¡Œå®Œæ¯•çš„å¼‚æ­¥æ“ä½œä»ç„¶ä¼šç»§ç»­æ‰§è¡Œï¼Œè€Œä¸æ˜¯åœæ­¢ã€‚</p><h3 id="Promiseå¯¹è±¡ä¸¤ä¸ªç‰¹ç‚¹"><a href="#Promiseå¯¹è±¡ä¸¤ä¸ªç‰¹ç‚¹" class="headerlink" title="Promiseå¯¹è±¡ä¸¤ä¸ªç‰¹ç‚¹"></a>Promiseå¯¹è±¡ä¸¤ä¸ªç‰¹ç‚¹</h3><ol><li><p>å¯¹è±¡çŠ¶æ€åªç”±å¼‚æ­¥æ“ä½œç»“æœå†³å®šã€‚resolveæ–¹æ³•ä¼šä½¿Promiseå¯¹è±¡ç”±penddingçŠ¶æ€å˜ä¸ºfulfilledçŠ¶æ€ï¼›rejectæ–¹æ³•æˆ–è€…å¼‚å¸¸ä¼šä½¿å¾—Promiseå¯¹è±¡ç”±penddingçŠ¶æ€å˜ä¸ºrejectedçŠ¶æ€ã€‚PromiseçŠ¶æ€å˜åŒ–åªæœ‰ä¸Šå›¾è¿™ä¸¤æ¡è·¯å¾„ã€‚</p></li><li><p><strong>å¯¹è±¡çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œä»»ä½•æ—¶å€™éƒ½èƒ½å¾—åˆ°è¿™ä¸ªç»“æœã€‚</strong> å³çŠ¶æ€ä¸€æ—¦è¿›å…¥fulfilledæˆ–è€…rejectedï¼Œpromiseä¾¿ä¸å†å‡ºç°çŠ¶æ€å˜åŒ–ï¼ŒåŒæ—¶æˆ‘ä»¬å†æ·»åŠ å›è°ƒä¼šç«‹å³å¾—åˆ°ç»“æœã€‚è¿™ç‚¹è·Ÿäº‹ä»¶ä¸ä¸€æ ·ï¼Œäº‹ä»¶æ˜¯å‘ç”Ÿåå†ç»‘å®šç›‘å¬ï¼Œå°±ç›‘å¬ä¸åˆ°äº†ã€‚</p></li><li><p>Promiseæ„é€ æ–¹æ³•æ¥å—ä¸€ä¸ªæ–¹æ³•ä½œä¸ºå‚æ•°ï¼Œè¯¥æ–¹æ³•ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œresolveå’Œrejectã€‚</p></li><li><p>resolveç”¨æ¥å°†Promiseå¯¹è±¡çš„çŠ¶æ€ç½®ä¸ºæˆåŠŸï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œç»“æœvalueä½œä¸ºå‚æ•°ä¼ ç»™æˆåŠŸå›è°ƒå‡½æ•°ã€‚</p></li><li><p>rejectç”¨æ¥å°†Promiseå¯¹è±¡çš„çŠ¶æ€ç½®ä¸ºå¤±è´¥ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œé”™è¯¯errorä½œä¸ºå‚æ•°ä¼ ç»™å¤±è´¥å›è°ƒå‡½æ•°ã€‚</p></li><li><p>thenæ–¹æ³•ç»‘å®šä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªç”¨æ¥å¤„ç†PromiseæˆåŠŸçŠ¶æ€ï¼Œç¬¬äºŒä¸ªç”¨æ¥å¤„ç†Promiseå¤±è´¥çŠ¶æ€ã€‚</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Promise å’Œ ajax æ²¡æœ‰ç›´æ¥å…³ç³». promise åªæ˜¯ä¸ºäº†è§£å†³&quot;å›è°ƒåœ°ç‹±&quot;</span><br><span class="line">Promise å¹¶ä¸èƒ½æ¶ˆç­å›è°ƒåœ°ç‹±ï¼Œä½†æ˜¯å®ƒå¯ä»¥ä½¿å›è°ƒå˜å¾—å¯æ§ã€‚</span><br><span class="line"></span><br><span class="line">å¼‚æ­¥å›è°ƒçš„é—®é¢˜ï¼š</span><br><span class="line"></span><br><span class="line">åµŒå¥—å±‚æ¬¡æ·±ï¼Œéš¾ä»¥ç»´æŠ¤</span><br><span class="line">æ— æ³•æ­£å¸¸ä½¿ç”¨returnå’Œcatch throw</span><br><span class="line">å¤šä¸ªå›è°ƒä¹‹é—´éš¾ä»¥å»ºç«‹è”ç³»ï¼Œä¸€ä¸ªå›è°ƒå‡½æ•°ä¸€æ—¦å¼€å¯ï¼Œå°±æ— æ³•å¯¹å…¶æ“ä½œ</span><br><span class="line">æ— æ³•æ­£å¸¸ç´¢å¼•å †æ ˆä¿¡æ¯</span><br><span class="line"></span><br><span class="line">ä»è¡¨é¢ä¸Šçœ‹ï¼ŒPromiseåªæ˜¯èƒ½å¤Ÿç®€åŒ–å±‚å±‚å›è°ƒçš„å†™æ³•ï¼Œè€Œå®è´¨ä¸Šï¼ŒPromiseçš„ç²¾é«“æ˜¯â€œçŠ¶æ€â€ï¼Œç”¨ç»´æŠ¤çŠ¶æ€ã€ä¼ é€’çŠ¶æ€çš„æ–¹å¼æ¥ä½¿å¾—å›è°ƒå‡½æ•°èƒ½å¤ŸåŠæ—¶è°ƒç”¨ï¼Œå®ƒæ¯”ä¼ é€’callbackå‡½æ•°è¦ç®€å•ã€çµæ´»çš„å¤šã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var promise &#x3D; new Promise(function(resolve, reject) &#123;</span><br><span class="line">    &#x2F;&#x2F; ... some code</span><br><span class="line">    if ( &#x2F;* å¼‚æ­¥æ“ä½œæˆåŠŸ *&#x2F; ) &#123;</span><br><span class="line">        resolve(value);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        reject(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.then(function(value) &#123;</span><br><span class="line">    &#x2F;&#x2F; success</span><br><span class="line">&#125;, function(error) &#123;</span><br><span class="line">    &#x2F;&#x2F; failure</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">æ¨¡æ‹Ÿå›è°ƒå‡½æ•°</span><br><span class="line">function runAsync(callback)&#123;</span><br><span class="line">    setTimeout(function()&#123;</span><br><span class="line">        console.log(&#39;æ‰§è¡Œå®Œæˆ&#39;);</span><br><span class="line">        callback(&#39;éšä¾¿ä»€ä¹ˆæ•°æ®&#39;);</span><br><span class="line">    &#125;, 2000);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">runAsync(function(data)&#123;</span><br><span class="line">    console.log(data);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">getUserAdmin()</span><br><span class="line">    .then(getProjects)</span><br><span class="line">    .then(getModules)</span><br><span class="line">    .then(getInterfaces)</span><br><span class="line">    .then(procResult)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Promise-å¿…çŸ¥å¿…ä¼šï¼ˆåé“é¢˜ï¼‰"><a href="#Promise-å¿…çŸ¥å¿…ä¼šï¼ˆåé“é¢˜ï¼‰" class="headerlink" title="Promise å¿…çŸ¥å¿…ä¼šï¼ˆåé“é¢˜ï¼‰"></a>Promise å¿…çŸ¥å¿…ä¼šï¼ˆåé“é¢˜ï¼‰</h1><p><a href="https://juejin.im/post/5a04066351882517c416715d">é“¾æ¥</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line"># Generator å‡½æ•°</span><br><span class="line"></span><br><span class="line">[é“¾æ¥](https:&#x2F;&#x2F;cnodejs.org&#x2F;topic&#x2F;542953d42ca9451e1bf3c251)</span><br><span class="line"></span><br><span class="line">Generator å‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªç‰¹å¾ã€‚</span><br><span class="line"></span><br><span class="line">ä¸€æ˜¯ï¼Œfunctionå…³é”®å­—ä¸å‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå·ï¼›</span><br><span class="line"></span><br><span class="line">äºŒæ˜¯ï¼Œå‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨yieldè¯­å¥ï¼Œå®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>function* helloWorldGenerator() {<br>  yield â€˜helloâ€™;<br>  yield â€˜worldâ€™;<br>  return â€˜endingâ€™;<br>}<br>var hw = helloWorldGenerator();</p><p>const gen = function* () {<br>  const f1 = yield readFile(â€˜/etc/fstabâ€™);<br>  const f2 = yield readFile(â€˜/etc/shellsâ€™);<br>  console.log(f1.toString());<br>  console.log(f2.toString());<br>};<br>å†™æˆasyncå‡½æ•°ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ã€‚</p><p>const asyncReadFile = async function () {<br>  const f1 = await readFile(â€˜/etc/fstabâ€™);<br>  const f2 = await readFile(â€˜/etc/shellsâ€™);<br>  console.log(f1.toString());<br>  console.log(f2.toString());<br>};<br>ä¸€æ¯”è¾ƒå°±ä¼šå‘ç°ï¼Œasyncå‡½æ•°å°±æ˜¯å°† Generator å‡½æ•°çš„æ˜Ÿå·ï¼ˆ*ï¼‰æ›¿æ¢æˆasyncï¼Œå°†yieldæ›¿æ¢æˆawaitï¼Œä»…æ­¤è€Œå·²ã€‚</p><p>è°ƒç”¨ Generator å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œä»£è¡¨ Generator å‡½æ•°çš„å†…éƒ¨æŒ‡é’ˆã€‚<br>ä»¥åï¼Œæ¯æ¬¡è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œ<br>å°±ä¼šè¿”å›ä¸€ä¸ªæœ‰ç€valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚<br>valueå±æ€§è¡¨ç¤ºå½“å‰çš„å†…éƒ¨çŠ¶æ€çš„å€¼ï¼Œæ˜¯yieldè¡¨è¾¾å¼åé¢é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼›<br>doneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éå†ç»“æŸã€‚</p><p>ä¸Šé¢å·²ç»ä»‹ç»äº†è¯´yieldæ˜¯æš‚åœæ ‡å¿—ï¼Œä¸‹é¢å¯¹yieldè¿›è¡Œä¸€äº›ä»‹ç»ï¼š</p><p>ï¼ˆ1ï¼‰ã€yieldåé¢çš„è¡¨è¾¾å¼åªæœ‰å½“è°ƒç”¨nextæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œyieldåé¢çš„è¡¨è¾¾å¼ã€‚</p><p>ï¼ˆ2ï¼‰ã€yieldè¡¨è¾¾å¼åªèƒ½å†™åœ¨Generatorå‡½æ•°ä¸­ ï¼Œè€Œä¸èƒ½å†™åœ¨æ™®é€šçš„å‡½æ•°ä¸­ã€‚</p><p>ï¼ˆ3ï¼‰ã€yieldè¡¨è¾¾å¼å¦‚æœä¸å…¶ä»–è¡¨è¾¾å¼ç›¸ç»“åˆï¼Œå¿…é¡»å†™åœ¨()é‡Œé¢ã€‚</p><p>yieldä¸returnçš„å¼‚åŒç‚¹ï¼š</p><p>ç›¸åŒç‚¹ï¼šéƒ½å¯ä»¥è¿”å›ç´§è·Ÿåé¢è¡¨è¾¾å¼çš„å€¼</p><p>ä¸åŒç‚¹ï¼š<br>(a)ã€åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åªèƒ½å­˜åœ¨ä¸€ä¸ªreturnè¯­å¥ï¼Œè€Œå¯ä»¥å­˜åœ¨å¤šä¸ªyieldè¯­å¥ï¼›<br>(b)ã€returnæ²¡æœ‰è®°å¿†åŠŸèƒ½ï¼Œåœ¨Generatorå‡½æ•°ä¸­åªæœ‰å½“éå†å™¨å¯¹è±¡è°ƒç”¨nextæ—¶<br>    æ‰ä¼šè¿”å›yieldåé¢è¡¨è¾¾å¼çš„å€¼ï¼Œ<br>    å½“ä¸‹ä¸€æ¬¡è°ƒç”¨æ—¶ä»ä¸Šä¸€æ¡yieldè¯­å¥åå¼€å§‹æ‰§è¡Œï¼Œ<br>    è€Œreturnåé¢çš„è¡¨è¾¾å¼åªè¦å‡½æ•°æ‰§è¡Œå°±ç«‹å³è¿”å›ã€‚<br>(c)ã€æ­£å¸¸å‡½æ•°åªæœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œè€ŒGeneratorå‡½æ•°å¯ä»¥æœ‰å¤šä¸ªè¿”å›å€¼ã€‚</p><p>Generatorå‡½æ•°è¢«æ‰§è¡Œæ—¶ï¼Œè¿”å›çš„æ˜¯æŒ‡å‘å‡½æ•°å†…éƒ¨çš„éå†å™¨å¯¹è±¡ï¼Œ<br>åªæœ‰è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•æ—¶ï¼Œæ‰ä¼šè¿”å›yieldåé¢å‡½æ•°è¡¨è¾¾å¼çš„å€¼ï¼Œ<br>ä½†æ˜¯ï¼Œå…¶å®yieldè¡¨è¾¾å¼çš„å€¼ä¸€ç›´éƒ½æ˜¯undefinedã€‚<br>å¦‚æœåœ¨Generatorçš„å‡½æ•°ä¸­ä¼ é€’å‚æ•°ä¸”å­˜åœ¨å¤šä¸ªyieldè¡¨è¾¾å¼æ—¶ï¼Œ<br>é‚£ä¹ˆè°ƒç”¨nextæ–¹æ³•æ—¶å°±è¦æ³¨æ„ä¼ å‚äº†ï¼š<br>next()ä¸­ä¼ é€’çš„å‚æ•°å°±æ˜¯ä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># é¢è¯•é¢˜ç½‘ç«™</span><br><span class="line"></span><br><span class="line">[é“¾æ¥](http:&#x2F;&#x2F;www.bslxx.com)</span><br><span class="line"></span><br><span class="line"># ä½œç”¨åŸŸ</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å‡½æ•°å’Œå˜é‡çš„å¯è®¿é—®èŒƒå›´ã€‚<br>ä½œç”¨åŸŸåˆ†ä¸ºå…¨å±€ä½œç”¨åŸŸ  å‡½æ•°ä½œç”¨åŸŸå’Œevalä½œç”¨åŸŸã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># åŸå‹</span><br><span class="line"></span><br><span class="line">[é“¾æ¥](https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;dee9f8b14771)</span><br><span class="line"></span><br><span class="line">åŸå‹å…¶å®å°±æ˜¯ä¸Šè¿°æ‰€è¯´çš„ç»§æ‰¿ä¸­çš„çˆ¶ç±»ã€‚</span><br><span class="line"></span><br><span class="line">åŸå‹é“¾ :åˆ©ç”¨åŸå‹ä¸²èµ·ä¸€ä¸ªç»§æ‰¿é“¾ï¼Œè®©ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•ï¼Œå†ä»¥æ­¤ç±»æ¨ä¸‹å».</span><br><span class="line">å½“ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•æ—¶å€™å°±ä¼šäº§ç”Ÿä¸€ä¸ªåŸå‹è¿ã€‚</span><br><span class="line">å½“æŸä¸ªå‡½æ•°å½“æˆæ„é€ å‡½æ•°æ¥è°ƒç”¨æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªæ„é€ å‡½æ•°çš„å®ä¾‹ã€‚è¿™ä¸ªå®ä¾‹ä¸Šä¼šæ‹¥æœ‰ä¸€ä¸ª __proto__ å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘è¯¥å®ä¾‹çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡(ä¹Ÿå¯ä»¥ç§°ä¸ºè¯¥å®ä¾‹çš„åŸå‹å¯¹è±¡)ã€‚</span><br><span class="line"></span><br><span class="line">å®šå¾‹ï¼š</span><br><span class="line"></span><br><span class="line">æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ __proto__ å±æ€§ï¼Œä½†åªæœ‰å‡½æ•°å¯¹è±¡æ‰æœ‰ prototype å±æ€§</span><br><span class="line"></span><br><span class="line">åŸå‹é“¾æ˜¯ä¾èµ–äº__proto__ï¼Œè€Œä¸æ˜¯prototype</span><br><span class="line"></span><br><span class="line">**å®ä¾‹ä¸åŸå‹**</span><br><span class="line"></span><br><span class="line">å½“è¯»å–å®ä¾‹çš„å±æ€§æ—¶ï¼Œ</span><br><span class="line">å¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ï¼Œ</span><br><span class="line">å¦‚æœè¿˜æŸ¥ä¸åˆ°ï¼Œå°±å»æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚</span><br><span class="line"></span><br><span class="line">é€šè¿‡ä¸€ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå‡ºæ¥çš„å¤šä¸ªå®ä¾‹ï¼Œå¦‚æœéƒ½è¦æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œç»™æ¯ä¸ªå®ä¾‹å»æ·»åŠ å¹¶ä¸æ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ã€‚è¿™æ—¶å°±è¯¥ç”¨ä¸ŠåŸå‹äº†ã€‚</span><br><span class="line"></span><br><span class="line">åœ¨å®ä¾‹çš„åŸå‹ä¸Šæ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªåŸå‹çš„æ‰€æœ‰å®ä¾‹ä¾¿éƒ½æœ‰äº†è¿™ä¸ªæ–¹æ³•ã€‚</span><br><span class="line"></span><br><span class="line"> var A &#x3D; new Person();</span><br><span class="line"> Person.prototype &#x3D; A;</span><br><span class="line"></span><br><span class="line">åŸå‹å¯¹è±¡ï¼ˆPerson.prototypeï¼‰æ˜¯ æ„é€ å‡½æ•°ï¼ˆPersonï¼‰çš„ä¸€ä¸ªå®ä¾‹ã€‚â†“</span><br><span class="line"></span><br><span class="line">#### Person.prototype.constructor &#x3D;&#x3D; Person</span><br><span class="line"></span><br><span class="line">#### person1.__proto__ &#x3D;&#x3D; Person.prototype</span><br><span class="line"></span><br><span class="line">å®ä¾‹çš„æ„é€ å‡½æ•°å±æ€§ï¼ˆconstructorï¼‰æŒ‡å‘æ„é€ å‡½æ•°ã€‚â†“</span><br><span class="line"></span><br><span class="line">#### person1.constructor &#x3D;&#x3D; Person</span><br><span class="line"></span><br><span class="line">#### Object.prototype.__proto__ &#x3D;&#x3D;&#x3D; null</span><br><span class="line"></span><br><span class="line">#### person.constructor &#x3D;&#x3D;&#x3D; Person.prototype.constructor &#x3D;&#x3D; Person</span><br><span class="line"></span><br><span class="line">#### obj.__proto__ &#x3D;&#x3D; Object.getPrototypeOf(obj)</span><br><span class="line"></span><br><span class="line"> åŸå‹å’ŒåŸå‹é“¾æ˜¯JSå®ç°ç»§æ‰¿çš„ä¸€ç§æ¨¡å‹ã€‚</span><br><span class="line">åŸå‹é“¾çš„å½¢æˆæ˜¯çœŸæ­£æ˜¯é __proto__ è€Œéprototype</span><br><span class="line"></span><br><span class="line">## ä»€ä¹ˆæ˜¯åŸå‹é“¾</span><br><span class="line"></span><br><span class="line"> ç”±äº__proto__æ˜¯ä»»ä½•å¯¹è±¡éƒ½æœ‰çš„å±æ€§ï¼Œè€Œjsé‡Œä¸‡ç‰©çš†å¯¹è±¡ï¼Œ</span><br><span class="line"> æ‰€ä»¥ä¼šå½¢æˆä¸€æ¡__proto__è¿èµ·æ¥çš„é“¾æ¡ï¼Œé€’å½’è®¿é—®__proto__æœ€ç»ˆåˆ°å¤´ï¼Œå¹¶ä¸”å€¼æ˜¯null</span><br><span class="line"></span><br><span class="line"> å½“jså¼•æ“æŸ¥æ‰¾å¯¹è±¡å±æ€§æ—¶ï¼Œå…ˆæŸ¥æ‰¾å¯¹è±¡æœ¬èº«æ˜¯å¦å­˜åœ¨è¯¥å±æ€§ï¼Œ</span><br><span class="line"> å¦‚æœä¸å­˜åœ¨ï¼Œä¼šåœ¨åŸå‹é“¾ä¸ŠæŸ¥æ‰¾ï¼Œä½†ä¸ä¼šæŸ¥æ‰¾è‡ªèº«çš„prototype</span><br><span class="line"></span><br></pre></td></tr></table></figure><pre><code>var A = function()&#123;&#125;;var a = new A();console.log(a.__proto__); //A &#123;&#125;ï¼ˆå³æ„é€ å™¨function A çš„åŸå‹å¯¹è±¡ï¼‰console.log(a.__proto__.__proto__); //Object &#123;&#125;ï¼ˆå³æ„é€ å™¨function Object çš„åŸå‹å¯¹è±¡ï¼‰console.log(a.__proto__.__proto__.__proto__); //null</code></pre> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># ç›®å½•</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>actions<br>assets<br>components<br>reducers<br>store<br>views<br>index.js</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># prototypeé—®é¢˜</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>function Foo() {<br>    getName = function () { alert (1); };<br>    return this;<br>}<br>Foo.getName = function () { alert (2);};<br>Foo.prototype.getName = function () { alert (3);};<br>var getName = function () { alert (4);};<br>function getName() { alert (5);}</p><p>//è¯·å†™å‡ºä»¥ä¸‹è¾“å‡ºç»“æœï¼š<br>Foo.getName();<br>getName();<br>Foo().getName();<br>getName();<br>new Foo.getName();<br>new Foo().getName();<br>new new Foo().getName();</p><p>//ç­”æ¡ˆï¼š<br>Foo.getName();//2<br>getName();//4<br>Foo().getName();//1<br>getName();//1<br>new Foo.getName();//2<br>new Foo().getName();//3<br>new new Foo().getName();//3</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># varå’Œå‡½æ•°çš„æå‰å£°æ˜</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>function fn(a) {<br>  console.log(a);<br>  var a = 2;<br>  function a() {}<br>  console.log(a);<br>}</p><p>fn(1);<br>ã€€ã€€è¾“å‡ºï¼šfunction  a() {} 2<br>ã€€ã€€<br>ã€€ã€€<br>æˆ‘ä»¬çŸ¥é“varå’Œfunctionæ˜¯ä¼šæå‰å£°æ˜çš„ï¼Œ<br>è€Œä¸”functionæ˜¯ä¼˜å…ˆäºvarå£°æ˜çš„ï¼ˆå¦‚æœåŒæ—¶å­˜åœ¨çš„è¯ï¼‰ï¼Œ<br>æ‰€ä»¥æå‰å£°æ˜åè¾“å‡ºçš„aæ˜¯ä¸ªfunctionï¼Œ<br>ç„¶åä»£ç å¾€ä¸‹æ‰§è¡Œaè¿›è¡Œé‡æ–°èµ‹å€¼äº†ï¼Œæ•…ç¬¬äºŒæ¬¡è¾“å‡ºæ˜¯2ã€‚</p><p><a href="http://www.cnblogs.com/zichi/p/4359786.html">http://www.cnblogs.com/zichi/p/4359786.html</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># javascriptå®ç°å°†å¤šä¸ªæœ‰åºæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„çš„ç®—æ³•</span><br><span class="line"></span><br><span class="line">[é“¾æ¥](https:&#x2F;&#x2F;segmentfault.com&#x2F;a&#x2F;1190000010302469)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>let ret=arr.reduce((arr1,arr2)=&gt;arr1.concat(arr2)).sort((a,b)=&gt;a-b);<br>ret=Array.from(new Set(ret));<br>console.log(ret);</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>1ã€åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡<br>2ã€å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡ï¼ˆå› æ­¤thiså°±æŒ‡å‘äº†è¿™ä¸ªæ–°å¯¹è±¡ï¼‰<br>3ã€æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰<br>4ã€è¿”å›æ–°å¯¹è±¡</p><p>var obj  = {};<br>obj.<strong>proto</strong> = Base.prototype;<br>Base.call(obj);</p><p>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡fooï¼›</p><p>å¹¶å°†å®ƒçš„<strong>proto__æŒ‡å‘å…¶æ„é€ å‡½æ•°çš„prototypeï¼Œ<br>foo.__proto</strong> = Foo.prototype;</p><p>åŠ¨æ€å°†thisæŒ‡å‘æ–°å¯¹è±¡ï¼ŒFoo.apply(fooï¼Œarguments);</p><p>æ‰§è¡Œå‡½æ•°ä½“ä¸­çš„ä»£ç ï¼›</p><p>æ”¾å›æ–°å¯¹è±¡foo;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># æ€ä¹ˆç”»ä¸€æ¡0.5pxçš„è¾¹</span><br><span class="line"></span><br><span class="line">[é“¾æ¥ï¼š](https:&#x2F;&#x2F;juejin.im&#x2F;post&#x2F;5ab65f40f265da2384408a95)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡ç›´æ¥è®¾ç½®å®½é«˜borderä¸º0.5pxã€<br>è®¾ç½®box-shadowçš„å‚ç›´æ–¹å‘çš„åç§»é‡ä¸º0.5pxã€<br>å€ŸåŠ©çº¿æ€§æ¸å˜linear-gradientã€<br>ä½¿ç”¨transform: scaleY(0.5)çš„æ–¹æ³•ï¼Œ<br>ä½¿ç”¨SVGçš„æ–¹æ³•ã€‚<br>æœ€åå‘ç°transfrom scale/svgçš„æ–¹æ³•å…¼å®¹æ€§å’Œæ•ˆæœéƒ½æ˜¯æœ€å¥½çš„ï¼Œ<br>svgå¯ä»¥æ”¯æŒå¤æ‚çš„å›¾å½¢ï¼Œ<br>æ‰€ä»¥åœ¨viewportæ˜¯1çš„æƒ…å†µä¸‹ï¼Œ<br>å¯ä»¥ä½¿ç”¨transform/SVGç”»0.5pxï¼Œ<br>è€Œå¦‚æœviewportçš„ç¼©æ”¾æ¯”ä¾‹ä¸æ˜¯1çš„è¯ï¼Œé‚£ä¹ˆç›´æ¥ç”»1pxå³å¯ã€‚</p><p>.hairline-border {<br>  box-shadow: 0 0 0 1px;<br>}<br>@media (min-resolution: 2dppx) {<br>  .hairline-border {<br>    box-shadow: 0 0 0 0.5px;<br>  }<br>}<br>@media (min-resolution: 3dppx) {<br>  .hairline-border {<br>    box-shadow: 0 0 0 0.33333333px;<br>  }<br>}<br>@media (min-resolution: 4dppx) {<br>  .hairline-border {<br>    box-shadow: 0 0 0 0.25px;<br>  }<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># ä» arguments åˆ°å‰©ä½™å‚æ•°</span><br><span class="line"></span><br><span class="line">å¦‚æœä½ æƒ³åœ¨ ES5 ä¸­è®©å‡½æ•°(æˆ–æ–¹æ³•)æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¿…é¡»ä½¿ç”¨ç‰¹æ®Šå˜é‡ argumentsï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>function logAllArguments() {<br>    for (var i=0; i &lt; arguments.length; i++) {<br>        console.log(arguments[i]);<br>    }<br>}</p><p>ES6 ä¸­åˆ™å¯ä»¥é€šè¿‡ â€¦ è¿ç®—ç¬¦å®šä¹‰ä¸€ä¸ªå‰©ä½™å‚æ•°(åœ¨ä¸‹é¢ç¤ºä¾‹ä¸­æ˜¯args)ï¼š</p><p>function logAllArguments(â€¦args) {<br>    for (const arg of args) {<br>        console.log(arg);<br>    }<br>}</p><p>å¦‚æœæœ‰ä¸€éƒ¨åˆ†å›ºå®šå‚æ•°ï¼Œå‰©ä½™å‚æ•°å°±æ›´é€‚ç”¨äº†ï¼š</p><p>function format(pattern, â€¦args) {<br>    Â·Â·Â·<br>}</p><p>åœ¨ ES5 ä¸­å¤„ç†åŒæ ·çš„äº‹æƒ…æœ‰ç‚¹éº»çƒ¦ï¼š</p><p>function format(pattern) {<br>    var args = [].slice.call(arguments, 1);<br>    Â·Â·Â·<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥urlåˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤(ä»¥HTTPä¸ºä¾‹)</span><br><span class="line"></span><br><span class="line">[è¿æ¥](https:&#x2F;&#x2F;github.com&#x2F;qiu-deqing&#x2F;FE-interview#%E4%BB%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%9C%B0%E5%9D%80%E6%A0%8F%E8%BE%93%E5%85%A5url%E5%88%B0%E6%98%BE%E7%A4%BA%E9%A1%B5%E9%9D%A2%E7%9A%84%E6%AD%A5%E9%AA%A4%E4%BB%A5http%E4%B8%BA%E4%BE%8B)</span><br><span class="line"></span><br><span class="line">1. è¾“å…¥url</span><br><span class="line">2. æŸ¥çœ‹ç¼“å­˜</span><br><span class="line">3. è§£æURL</span><br><span class="line">4. ç»„è£…HTTPè¯·æ±‚æŠ¥æ–‡</span><br><span class="line">5. è·å–ä¸»æœºip</span><br><span class="line">6. å»ºç«‹tcpè¿æ¥</span><br><span class="line">7. å‘é€httpè¯·æ±‚</span><br><span class="line">8. æœåŠ¡å™¨æ£€æŸ¥è¯·æ±‚å¤´ä¿¡æ¯</span><br><span class="line">9. å“åº”æŠ¥æ–‡é€šè¿‡tcpè¿”å›</span><br><span class="line">10. å…³é—­tcpå››æ¬¡æ¡æ‰‹</span><br><span class="line">11. æ£€æŸ¥çŠ¶æ€ç </span><br><span class="line">12. ç¼“å­˜</span><br><span class="line">13. è§£ç </span><br><span class="line">14. è§£æHTMLæ–‡æ¡£ï¼Œæ„ä»¶DOMæ ‘ï¼Œä¸‹è½½èµ„æºï¼Œæ„é€ CSSOMæ ‘ï¼Œæ‰§è¡Œjsè„šæœ¬</span><br><span class="line">15. æ˜¾ç¤ºé¡µé¢</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥URL<br>æµè§ˆå™¨æŸ¥çœ‹ç¼“å­˜ï¼Œå¦‚æœè¯·æ±‚èµ„æºåœ¨ç¼“å­˜ä¸­å¹¶ä¸”æ–°é²œï¼Œè·³è½¬åˆ°è½¬ç æ­¥éª¤<br>å¦‚æœèµ„æºæœªç¼“å­˜ï¼Œå‘èµ·æ–°è¯·æ±‚<br>å¦‚æœå·²ç¼“å­˜ï¼Œæ£€éªŒæ˜¯å¦è¶³å¤Ÿæ–°é²œï¼Œ<br>è¶³å¤Ÿæ–°é²œç›´æ¥æä¾›ç»™å®¢æˆ·ç«¯ï¼Œå¦åˆ™ä¸æœåŠ¡å™¨è¿›è¡ŒéªŒè¯ã€‚<br>æ£€éªŒæ–°é²œé€šå¸¸æœ‰ä¸¤ä¸ªHTTPå¤´è¿›è¡Œæ§åˆ¶Expireså’ŒCache-Controlï¼š<br>HTTP1.0æä¾›Expiresï¼Œ<br>å€¼ä¸ºä¸€ä¸ªç»å¯¹æ—¶é—´è¡¨ç¤ºç¼“å­˜æ–°é²œæ—¥æœŸ<br>HTTP1.1å¢åŠ äº†Cache-Control: max-age,<br>å€¼ä¸ºä»¥ç§’ä¸ºå•ä½çš„æœ€å¤§æ–°é²œæ—¶é—´<br>æµè§ˆå™¨è§£æURLè·å–åè®®ï¼Œä¸»æœºï¼Œç«¯å£ï¼Œpath<br>æµè§ˆå™¨ç»„è£…ä¸€ä¸ªHTTPï¼ˆGETï¼‰è¯·æ±‚æŠ¥æ–‡<br>æµè§ˆå™¨è·å–ä¸»æœºipåœ°å€ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š<br>æµè§ˆå™¨ç¼“å­˜<br>æœ¬æœºç¼“å­˜<br>hostsæ–‡ä»¶<br>è·¯ç”±å™¨ç¼“å­˜<br>ISP DNSç¼“å­˜</p><p>DNSé€’å½’æŸ¥è¯¢ï¼ˆå¯èƒ½å­˜åœ¨è´Ÿè½½å‡è¡¡å¯¼è‡´æ¯æ¬¡IPä¸ä¸€æ ·ï¼‰<br>æ‰“å¼€ä¸€ä¸ªsocketä¸ç›®æ ‡IPåœ°å€ï¼Œç«¯å£å»ºç«‹TCPé“¾æ¥ï¼Œ<br>ä¸‰æ¬¡æ¡æ‰‹å¦‚ä¸‹ï¼š<br>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªTCPçš„SYN=1ï¼ŒSeq=Xçš„åŒ…åˆ°æœåŠ¡å™¨ç«¯å£<br>æœåŠ¡å™¨å‘å›SYN=1ï¼Œ ACK=X+1ï¼Œ Seq=Yçš„å“åº”åŒ…<br>å®¢æˆ·ç«¯å‘é€ACK=Y+1ï¼Œ Seq=Z<br>TCPé“¾æ¥å»ºç«‹åå‘é€HTTPè¯·æ±‚</p><p>æœåŠ¡å™¨æ¥å—è¯·æ±‚å¹¶è§£æï¼Œå°†è¯·æ±‚è½¬å‘åˆ°æœåŠ¡ç¨‹åºï¼Œ<br>å¦‚è™šæ‹Ÿä¸»æœºä½¿ç”¨HTTP Hostå¤´éƒ¨åˆ¤æ–­è¯·æ±‚çš„æœåŠ¡ç¨‹åº</p><p>æœåŠ¡å™¨æ£€æŸ¥HTTPè¯·æ±‚å¤´æ˜¯å¦åŒ…å«ç¼“å­˜éªŒè¯ä¿¡æ¯å¦‚æœéªŒè¯ç¼“å­˜æ–°é²œï¼Œ<br>è¿”å›304ç­‰å¯¹åº”çŠ¶æ€ç <br>å¤„ç†ç¨‹åºè¯»å–å®Œæ•´è¯·æ±‚å¹¶å‡†å¤‡HTTPå“åº”ï¼Œå¯èƒ½éœ€è¦æŸ¥è¯¢æ•°æ®åº“ç­‰æ“ä½œ<br>æœåŠ¡å™¨å°†å“åº”æŠ¥æ–‡é€šè¿‡TCPè¿æ¥å‘é€å›æµè§ˆå™¨<br>æµè§ˆå™¨æ¥æ”¶HTTPå“åº”ï¼Œç„¶åæ ¹æ®æƒ…å†µé€‰æ‹©å…³é—­TCPè¿æ¥æˆ–è€…ä¿ç•™é‡ç”¨ï¼Œ<br>å…³é—­TCPè¿æ¥çš„å››æ¬¡æ¡æ‰‹å¦‚ä¸‹ï¼š<br>ä¸»åŠ¨æ–¹å‘é€Fin=1ï¼Œ Ack=Zï¼Œ Seq= XæŠ¥æ–‡<br>è¢«åŠ¨æ–¹å‘é€ACK=X+1ï¼Œ Seq=ZæŠ¥æ–‡<br>è¢«åŠ¨æ–¹å‘é€Fin=1ï¼Œ ACK=Xï¼Œ Seq=YæŠ¥æ–‡<br>ä¸»åŠ¨æ–¹å‘é€ACK=Yï¼Œ Seq=XæŠ¥æ–‡</p><p>æµè§ˆå™¨æ£€æŸ¥å“åº”çŠ¶æ€å—ï¼šæ˜¯å¦ä¸º1XXï¼Œ3XXï¼Œ 4XXï¼Œ 5XXï¼Œ<br>è¿™äº›æƒ…å†µå¤„ç†ä¸2XXä¸åŒ<br>å¦‚æœèµ„æºå¯ç¼“å­˜ï¼Œè¿›è¡Œç¼“å­˜<br>å¯¹å“åº”è¿›è¡Œè§£ç ï¼ˆä¾‹å¦‚gzipå‹ç¼©ï¼‰</p><p>æ ¹æ®èµ„æºç±»å‹å†³å®šå¦‚ä½•å¤„ç†ï¼ˆå‡è®¾èµ„æºä¸ºHTMLæ–‡æ¡£ï¼‰</p><p>è§£æHTMLæ–‡æ¡£ï¼Œæ„ä»¶DOMæ ‘ï¼Œä¸‹è½½èµ„æºï¼Œæ„é€ CSSOMæ ‘ï¼Œ<br>æ‰§è¡Œjsè„šæœ¬ï¼Œè¿™äº›æ“ä½œæ²¡æœ‰ä¸¥æ ¼çš„å…ˆåé¡ºåºï¼Œä»¥ä¸‹åˆ†åˆ«è§£é‡Š<br>æ„å»ºDOMæ ‘ï¼š<br>Tokenizingï¼šæ ¹æ®HTMLè§„èŒƒå°†å­—ç¬¦æµè§£æä¸ºæ ‡è®°<br>Lexingï¼šè¯æ³•åˆ†æå°†æ ‡è®°è½¬æ¢ä¸ºå¯¹è±¡å¹¶å®šä¹‰å±æ€§å’Œè§„åˆ™<br>DOM constructionï¼šæ ¹æ®HTMLæ ‡è®°å…³ç³»å°†å¯¹è±¡ç»„æˆDOMæ ‘<br>è§£æè¿‡ç¨‹ä¸­é‡åˆ°å›¾ç‰‡ã€æ ·å¼è¡¨ã€jsæ–‡ä»¶ï¼Œå¯åŠ¨ä¸‹è½½<br>æ„å»ºCSSOMæ ‘ï¼š<br>Tokenizingï¼šå­—ç¬¦æµè½¬æ¢ä¸ºæ ‡è®°æµ<br>Nodeï¼šæ ¹æ®æ ‡è®°åˆ›å»ºèŠ‚ç‚¹<br>CSSOMï¼šèŠ‚ç‚¹åˆ›å»ºCSSOMæ ‘</p><p>æ ¹æ®DOMæ ‘å’ŒCSSOMæ ‘æ„å»ºæ¸²æŸ“æ ‘:<br>ä»DOMæ ‘çš„æ ¹èŠ‚ç‚¹éå†æ‰€æœ‰å¯è§èŠ‚ç‚¹ï¼Œ<br>ä¸å¯è§èŠ‚ç‚¹åŒ…æ‹¬ï¼š<br>1ï¼‰script,metaè¿™æ ·æœ¬èº«ä¸å¯è§çš„æ ‡ç­¾ã€‚<br>2)è¢«csséšè—çš„èŠ‚ç‚¹ï¼Œå¦‚display: none<br>å¯¹æ¯ä¸€ä¸ªå¯è§èŠ‚ç‚¹ï¼Œæ‰¾åˆ°æ°å½“çš„CSSOMè§„åˆ™å¹¶åº”ç”¨<br>å‘å¸ƒå¯è§†èŠ‚ç‚¹çš„å†…å®¹å’Œè®¡ç®—æ ·å¼<br>jsè§£æå¦‚ä¸‹ï¼š<br>æµè§ˆå™¨åˆ›å»ºDocumentå¯¹è±¡å¹¶è§£æHTMLï¼Œ<br>å°†è§£æåˆ°çš„å…ƒç´ å’Œæ–‡æœ¬èŠ‚ç‚¹æ·»åŠ åˆ°æ–‡æ¡£ä¸­ï¼Œ<br>æ­¤æ—¶document.readystateä¸ºloading</p><p>HTMLè§£æå™¨é‡åˆ°æ²¡æœ‰asyncå’Œdeferçš„scriptæ—¶ï¼Œ<br>å°†ä»–ä»¬æ·»åŠ åˆ°æ–‡æ¡£ä¸­ï¼Œç„¶åæ‰§è¡Œè¡Œå†…æˆ–å¤–éƒ¨è„šæœ¬ã€‚<br>è¿™äº›è„šæœ¬ä¼šåŒæ­¥æ‰§è¡Œï¼Œå¹¶ä¸”åœ¨è„šæœ¬ä¸‹è½½å’Œæ‰§è¡Œæ—¶è§£æå™¨ä¼šæš‚åœã€‚<br>è¿™æ ·å°±å¯ä»¥ç”¨document.write()æŠŠæ–‡æœ¬æ’å…¥åˆ°è¾“å…¥æµä¸­ã€‚<br>åŒæ­¥è„šæœ¬ç»å¸¸ç®€å•å®šä¹‰å‡½æ•°å’Œæ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºï¼Œ<br>ä»–ä»¬å¯ä»¥éå†å’Œæ“ä½œscriptå’Œä»–ä»¬ä¹‹å‰çš„æ–‡æ¡£å†…å®¹<br>å½“è§£æå™¨é‡åˆ°è®¾ç½®äº†asyncå±æ€§çš„scriptæ—¶ï¼Œå¼€å§‹ä¸‹è½½è„šæœ¬å¹¶ç»§ç»­è§£ææ–‡æ¡£ã€‚<br>è„šæœ¬ä¼šåœ¨å®ƒä¸‹è½½å®Œæˆåå°½å¿«æ‰§è¡Œï¼Œä½†æ˜¯è§£æå™¨ä¸ä¼šåœä¸‹æ¥ç­‰å®ƒä¸‹è½½ã€‚<br>å¼‚æ­¥è„šæœ¬ç¦æ­¢ä½¿ç”¨document.write()ï¼Œå®ƒä»¬å¯ä»¥è®¿é—®è‡ªå·±scriptå’Œä¹‹å‰çš„æ–‡æ¡£å…ƒç´ </p><p>å½“æ–‡æ¡£å®Œæˆè§£æï¼Œdocument.readStateå˜æˆinteractive<br>æ‰€æœ‰deferè„šæœ¬ä¼šæŒ‰ç…§åœ¨æ–‡æ¡£å‡ºç°çš„é¡ºåºæ‰§è¡Œï¼Œå»¶è¿Ÿè„šæœ¬èƒ½è®¿é—®å®Œæ•´æ–‡æ¡£æ ‘ï¼Œ<br>ç¦æ­¢ä½¿ç”¨document.write()<br>æµè§ˆå™¨åœ¨Documentå¯¹è±¡ä¸Šè§¦å‘DOMContentLoadedäº‹ä»¶<br>æ­¤æ—¶æ–‡æ¡£å®Œå…¨è§£æå®Œæˆï¼Œæµè§ˆå™¨å¯èƒ½è¿˜åœ¨ç­‰å¾…å¦‚å›¾ç‰‡ç­‰å†…å®¹åŠ è½½ï¼Œ<br>ç­‰è¿™äº›å†…å®¹å®Œæˆè½½å…¥å¹¶ä¸”æ‰€æœ‰å¼‚æ­¥è„šæœ¬å®Œæˆè½½å…¥å’Œæ‰§è¡Œï¼Œ<br>document.readStateå˜ä¸ºcomplete,windowè§¦å‘loadäº‹ä»¶<br>æ˜¾ç¤ºé¡µé¢ï¼ˆHTMLè§£æè¿‡ç¨‹ä¸­ä¼šé€æ­¥æ˜¾ç¤ºé¡µé¢ï¼‰</p><h1 id="æµè§ˆå™¨æ¸²æŸ“ä¸»è¦æµç¨‹"><a href="#æµè§ˆå™¨æ¸²æŸ“ä¸»è¦æµç¨‹" class="headerlink" title="æµè§ˆå™¨æ¸²æŸ“ä¸»è¦æµç¨‹"></a>æµè§ˆå™¨æ¸²æŸ“ä¸»è¦æµç¨‹</h1><p>HTMLè§£æå‡ºDOM Tree<br>CSSè§£æå‡ºStyle Rules<br>å°†äºŒè€…å…³è”ç”ŸæˆRender Tree<br>Layout æ ¹æ®Render Treeè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯<br>Painting æ ¹æ®è®¡ç®—å¥½çš„ä¿¡æ¯ç»˜åˆ¶æ•´ä¸ªé¡µé¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># Q: ç½‘ç«™æ€§èƒ½ä¼˜åŒ–</span><br><span class="line"></span><br><span class="line">[åŸæ–‡](https:&#x2F;&#x2F;segmentfault.com&#x2F;a&#x2F;1190000013963213#articleHeader0)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»£ç å±‚é¢ä¼˜åŒ–ï¼š</p><p>ä¸€ã€åŠ è½½å’Œæ‰§è¡Œ</p><pre><code>cssæ–¹é¢å°†æ ·å¼è¡¨æ”¾åˆ°é¡µé¢é¡¶éƒ¨ä¸ä½¿ç”¨CSSè¡¨è¾¾å¼ä½¿ç”¨linkä¸ä½¿ç”¨@importä¸ä½¿ç”¨IEçš„FilterJavascriptæ–¹é¢å°†è„šæœ¬æ”¾åˆ°é¡µé¢åº•éƒ¨,bodyæ ‡ç­¾å†…åº•éƒ¨å°†javascriptå’Œcssä»å¤–éƒ¨å¼•å…¥å‹ç¼©javascriptå’Œcssåˆ é™¤ä¸éœ€è¦çš„è„šæœ¬å‡å°‘DOMè®¿é—®åˆç†è®¾è®¡äº‹ä»¶ç›‘å¬å™¨å›¾ç‰‡æ–¹é¢ä¼˜åŒ–å›¾ç‰‡ï¼šæ ¹æ®å®é™…é¢œè‰²éœ€è¦é€‰æ‹©è‰²æ·±ã€å‹ç¼©ä¼˜åŒ–cssç²¾çµåˆå¹¶ä¸€äº›å°å›¾ç‰‡( css sprite )å‹ç¼©å›¾ç‰‡å›¾ç‰‡è½¬dataUrlä¸è¦åœ¨HTMLä¸­æ‹‰ä¼¸å›¾ç‰‡ä¿è¯favicon.icoå°å¹¶ä¸”å¯ç¼“å­˜å›¾ç‰‡ç¼–ç ä¼˜åŒ–</code></pre><p>äºŒã€ æ•°æ®å­˜å–<br>    - å°½é‡ä½¿ç”¨å­—é¢é‡å’Œå±€éƒ¨å˜é‡<br>        ï¼ˆå±€éƒ¨å˜é‡åœ¨æ–¹æ³•è¿è¡Œè¿‡åä¼šè‡ªè¡Œé‡Šæ”¾ï¼Œç”¨å®Œæ‰‹åŠ¨ç½®ä¸ºnullæˆ–undefinedä¹Ÿè¡Œï¼‰ï¼Œ<br>        å‡å°‘ä½¿ç”¨å¯¹è±¡å’Œæ•°ç»„,</p><p>ä¸‰ã€ DOMç¼–ç¨‹**ï¼ˆå¸¸è§çš„æ€§èƒ½ç“¶é¢ˆï¼‰<br>    - æœ€åçš„æ–¹å¼å°±æ˜¯åœ¨å¾ªç¯ä¸­æ“ä½œæˆ–è€…è®¿é—®DOMï¼Œéå¸¸æ¶ˆè€—æ€§èƒ½ã€‚<br>    å‡å°‘DOMæ•°é‡<br>    - éå†dom<br>        querySelectorAll()æ˜¯è·å–å…ƒç´ æœ€å¿«çš„API è¿”å›çš„æ˜¯ä¸€ä¸ªNodeList<br>        querySelector() è¿”å›çš„æ˜¯element,<br>        querySelectorAll()è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯å¯ä»¥åŒæ—¶è·å–ä¸¤ç±»å…ƒç´ </p><pre><code>- é‡ç»˜å’Œé‡æ’éƒ½æ˜¯ä»£ä»·æ˜‚è´µï¼›å°½é‡å‡å°‘    é‡æ’ä½•æ—¶å‘ç”Ÿï¼š    1.æ·»åŠ æˆ–åˆ é™¤å¯è§DOMå…ƒç´     2.å…ƒç´ ä½ç½®æ”¹å˜    3.å…ƒç´ å°ºå¯¸æ”¹å˜ï¼ˆå†…å¤–è¾¹è·ã€è¾¹æ¡†åšå®½é«˜ç­‰ï¼‰    4.å†…å®¹æ”¹å˜ ï¼ˆå†…å®¹å¯¼è‡´å°ºå¯¸å˜åŒ–çš„æ—¶å€™ï¼‰    5.é¡µé¢æ¸²æŸ“å™¨åˆå§‹åŒ–    6.æµè§ˆå™¨çª—å£å°ºå¯¸å˜åŒ–</code></pre><p>å››ã€ ç®—æ³•å’Œæµç¨‹æ§åˆ¶<br>    - å¾ªç¯<br>        (å½“å¾ªç¯ä½“å¤æ‚åº¦ä¸ºXæ—¶ï¼Œä¼˜åŒ–æ–¹æ¡ˆä¼˜å…ˆå‡å°‘å¾ªç¯ä½“çš„å¤æ‚åº¦ï¼Œ<br>        å¾ªç¯ä½“å¤æ‚åº¦å¤§äºXæ—¶ï¼Œä¼˜åŒ–æ–¹æ¡ˆä¼˜å…ˆå‡å°‘è¿­ä»£æ¬¡æ•° )<br>    - æ¡ä»¶è¯­å¥<br>        å½“æ¡ä»¶è¾ƒå°‘æ—¶ ä½¿ç”¨if-elseæ›´æ˜“è¯»ï¼Œ<br>        è€Œå½“æ¡ä»¶è¾ƒå¤šæ—¶if-elseæ€§èƒ½è´Ÿæ‹…æ¯”switchå¤§ï¼Œæ˜“è¯»æ€§ä¹Ÿæ²¡switchå¥½ã€‚<br>        ä¼˜åŒ–if-elseçš„æ–¹æ³•æ˜¯ï¼šå°½å¯èƒ½çš„æŠŠå¯èƒ½å‡ºç°çš„æ¡ä»¶æ”¾åœ¨é¦–ä½ï¼Œ</p><p>äº”ã€ å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼<br>    - å­—ç¬¦ä¸²<br>        joinæ˜¯æ¯”è¾ƒå¿«çš„ï¼Œä¹Ÿæ˜¯å¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥çš„å”¯ä¸€é«˜æ•ˆæ–¹å¼</p><p>å…­ã€ å¿«é€Ÿå“åº”çš„ç”¨æˆ·ç•Œé¢<br>    - æµè§ˆå™¨UIçº¿ç¨‹<br>        æµè§ˆå™¨é™åˆ¶JavaScriptä»»åŠ¡çš„è¿è¡Œæ—¶é—´ï¼Œé™åˆ¶ä¸¤åˆ†é’Ÿï¼Œ<br>        å¯ä»¥é˜²æ­¢æ¶æ„ä»£ç ä¸æ–­æ‰§è¡Œæ¥é”å®šä½ çš„æµè§ˆå™¨</p><pre><code>    å•ä¸ªJavaScriptæ“ä½œçš„èŠ±è´¹æ€»æ—¶é—´åº”è¯¥å°äºç­‰äº100msï¼Œ    è¿™å°±æ„å‘³ç€åœ¨100mså†…å“åº”ç”¨æˆ·çš„æ“ä½œï¼Œä¸ç„¶å°±ä¼šè®©ç”¨æˆ·æ„Ÿå—åˆ°è¿Ÿé’æ„Ÿ- å®šæ—¶å™¨è®©å‡ºæ—¶é—´ç‰‡æ–­    ä½¿ç”¨æ—¶é—´æˆ³è®¡ç®—è·å¾—ç¨‹åºè¿è¡Œæ—¶é—´ï¼Œ    ä»¥ä¾¿å¿«é€Ÿæ‰¾åˆ°è¿è¡Œæ—¶é—´è¾ƒé•¿çš„ä»£ç éƒ¨åˆ†è¿›è¡Œä¼˜åŒ–</code></pre><p>ä¸ƒã€ Ajax<br>    - æ•°æ®ä¼ è¾“<br>        æ•°æ®çš„ä¼ è¾“åŒæ ·å½±å“æ€§èƒ½<br>    - æ•°æ®æ ¼å¼<br>    - Ajaxæ€§èƒ½<br>        é¿å…ä¸å¿…è¦çš„è¯·æ±‚ï¼š<br>        ä½¿Ajaxå¯ç¼“å­˜ï¼šæœåŠ¡ç«¯è®¾ç½®HTTPå¤´ä¿¡æ¯ç¡®ä¿å“åº”ä¼šè¢«æµè§ˆå™¨ç¼“å­˜<br>        å®¢æˆ·ç«¯è®²è·å–çš„ä¿¡æ¯å­˜åˆ°æœ¬åœ°é¿å…å†æ¬¡è¯·æ±‚<br>        ï¼ˆlocalstorage sessionstorage cookiceï¼‰<br>        è®¾ç½®HTTPå¤´ä¿¡æ¯ï¼Œexpiresgaosuå‘Šè¯‰æµè§ˆå™¨ç¼“å­˜å¤šä¹…<br>        å‡å°‘HTTPè¯·æ±‚ï¼Œåˆå¹¶cssã€jsã€å›¾ç‰‡èµ„æºæ–‡ä»¶ç­‰æˆ–ä½¿ç”¨MXHR<br>        é€šè¿‡æ¬¡è¦æ–‡ä»¶ç”¨Ajaxè·å–å¯ç¼©çŸ­é¡µé¢åŠ è½½æ—¶é—´</p><pre><code>    å‡å°cookieå¤§å°    å¼•å…¥èµ„æºçš„åŸŸåä¸è¦åŒ…å«cookie</code></pre><p>å…«ã€ç¼–ç¨‹å®è·µ<br>    - é¿å…åŒé‡æ±‚å€¼<br>        eval()ã€Functionæ…ç”¨ï¼Œ<br>        å®šæ—¶å™¨ç¬¬ä¸€ä¸ªå‚æ•°å»ºè®®å‡½æ•°è€Œä¸æ˜¯å­—ç¬¦ä¸²éƒ½èƒ½é¿å…å­—ç¬¦ä¸²åŒé‡æ±‚å€¼<br>    - ä½¿ç”¨å¯¹è±¡æˆ–è€…æ•°ç»„ç›´æ¥é‡<br>    - é¿å…é‡å¤å·¥ä½œ<br>        A:å»¶è¿ŸåŠ è½½ï¼ˆæ‡’åŠ è½½ï¼‰<br>        B:æ¡ä»¶é¢„åŠ è½½<br>    - ä½¿ç”¨JavaScripté€Ÿåº¦å¿«çš„éƒ¨åˆ†<br>        A.ä½æ“ä½œ<br>        B.åŸç”Ÿæ–¹æ³•ï¼Œé¦–å…ˆåŸç”Ÿæ–¹æ³•æ˜¯æœ€å¿«çš„ï¼Œè€Œä¸”æµè§ˆå™¨ä¼šç¼“å­˜éƒ¨åˆ†åŸç”Ÿæ–¹æ³•<br>        C.å¤æ‚è®¡ç®—æ—¶å¤šä½¿ç”¨Mathå¯¹è±¡<br>        D.querySelectorå’ŒquerySelectorAllæ˜¯æŸ¥è¯¢æœ€å¿«çš„</p><p> ä¹ã€ æ„å»ºå¹¶éƒ¨ç½²é«˜æ€§èƒ½JavaScriptåº”ç”¨<br>    1.åˆå¹¶å¤šä¸ªjsæ–‡ä»¶<br>    2.é¢„å¤„ç†jsæ–‡ä»¶<br>    3.jså‹ç¼©<br>    4.jsçš„HTTPå‹ç¼©<br>    5.ç¼“å­˜jsæ–‡ä»¶<br>    6.å¤„ç†ç¼“å­˜é—®é¢˜<br>    7.ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰</p><p>ç§»åŠ¨æ–¹é¢</p><pre><code>ä¿è¯ç»„ä»¶å°äº25kPack Components into a Multipart Documentcontentæ–¹é¢æŒ‰éœ€åŠ è½½èµ„æºéå¿…é¡»ç»„ä»¶å»¶è¿ŸåŠ è½½æœªæ¥æ‰€éœ€ç»„ä»¶é¢„åŠ è½½    åœ¨ç½‘ç«™ HTML ä¸­çš„é“¾æ¥å±æ€§ä¸Šå¢åŠ     rel=â€prefetchâ€,rel=â€dns-prefetchâ€ï¼Œæˆ–è€… rel=â€prerenderâ€ æ ‡è®°ã€‚å°†èµ„æºæ”¾åˆ°ä¸åŒçš„åŸŸä¸‹ï¼šæµè§ˆå™¨åŒæ—¶ä»ä¸€ä¸ªåŸŸä¸‹è½½èµ„æºçš„æ•°ç›®æœ‰é™ï¼Œå¢åŠ åŸŸå¯ä»¥æé«˜å¹¶è¡Œä¸‹è½½é‡å‡å°‘iframeæ•°é‡ä¸è¦404Serveræ–¹é¢ä½¿ç”¨CDNå‡å°‘DNSæŸ¥è¯¢ï¼šDNSæŸ¥è¯¢å®Œæˆä¹‹å‰æµè§ˆå™¨ä¸èƒ½ä»è¿™ä¸ªä¸»æœºä¸‹è½½ä»»ä½•ä»»ä½•æ–‡ä»¶ã€‚æ–¹æ³•ï¼šDNSç¼“å­˜ã€å°†èµ„æºåˆ†å¸ƒåˆ°æ°å½“æ•°é‡çš„ä¸»æœºåï¼Œå¹³è¡¡å¹¶è¡Œä¸‹è½½å’ŒDNSæŸ¥è¯¢é¿å…é‡å®šå‘ï¼šå¤šä½™çš„ä¸­é—´è®¿é—®ç”¨dns-prefetch&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//mat1.gtimg.com&quot;&gt;åŠ¨é™åˆ†ç¦»ä½¿ç”¨nginxçš„åå‘ä»£ç†ï¼Œå¯¹é™æ€èµ„æºçš„è¯·æ±‚ç›´æ¥nginxå¤„ç†ï¼Œæˆ–æ”¾åˆ°CDNåŠ¨æ€è¯·æ±‚è½¬å‘ç»™tomcatå¤„ç†æ·»åŠ Expiresæˆ–è€…Cache-Controlå“åº”å¤´å¯¹ç»„ä»¶ä½¿ç”¨Gzipå‹ç¼©    Brotli æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–°çš„æ–‡ä»¶å‹ç¼©ç®—æ³•ï¼Œç›®å‰æ­£å˜å¾—è¶Šæ¥è¶Šå—æ¬¢è¿ã€‚é…ç½®ETagFlush Buffer EarlyAjaxä½¿ç”¨GETè¿›è¡Œè¯·æ±‚é¿å…ç©ºsrcçš„imgæ ‡ç­¾</code></pre><p>åã€ å·¥å…·</p><pre><code>è‹¥æ˜¯æ‰“åŒ…çš„ä»£ç å°½å¯èƒ½åˆ‡å‰²æˆå¤šä¸ª chunk ,å‡å°‘å•ä¸€ chunk è¿‡å¤§HTTPçš„ç¼“å­˜å¤´ä½¿ç”¨çš„åˆç†å‡å°ç¬¬ä¸‰æ–¹åº“çš„ä¾èµ–å¯¹äºä»£ç åº”è¯¥è€ƒè™‘æ€§èƒ½æ¥ç¼–å†™,æ¯”å¦‚ä½¿ç”¨ requestAnimationFrame ç»˜åˆ¶åŠ¨ç”»,å°½å¯èƒ½å‡å°‘é¡µé¢é‡ç»˜(DOM æ”¹å˜)æ¸è¿›å‡çº§,å¼•å…¥ preload è¿™äº›é¢„åŠ è½½èµ„æºçœ‹æƒ…å†µç”¨ server worker æ¥ç¼“å­˜èµ„æº(æ¯”å¦‚ç§»åŠ¨ç«¯æ‰“ç®—æ PWA)æ¯”å¦‚ä»æœåŠ¡ç«¯ç€æ‰‹:å¸¦å®½,åŸŸåè§£æ, å¤šåŸŸåè§£æç­‰ä½¿ç”¨è´Ÿè½½å‡è¡¡æ–¹æ¡ˆ å¤šèŠ‚ç‚¹éƒ¨ç½²é¡µé¢åšæœåŠ¡ç«¯æ¸²æŸ“,å‡å°å¯¹æµè§ˆå™¨çš„ä¾èµ–(ä¸ç”¨å®¢æˆ·ç«¯è§£æ)æ¸è¿›å‡çº§,æ¯”å¦‚å¼•å…¥ HTTP2(å¤šè·¯å¤ç”¨,å¤´éƒ¨å‹ç¼©è¿™äº›å¯ä»¥æ˜æ˜¾åŠ å¿«åŠ è½½é€Ÿåº¦)å½“ç„¶,è¿™æ˜¯è¿™äº›éƒ½æ˜¯å¾ˆç‰‡é¢çš„ç‚¹åˆ°...å®é™…å·¥ä½œä¸­å»å¼€å±•è¦å¤æ‚çš„å¤š;ä½¿ç”¨ç´¢å¼•åŠ é€Ÿæ•°æ®åº“æŸ¥è¯¢é¡µé¢é™æ€åŒ–CMS</code></pre><p>å¤šä¸ªç»´åº¦è€ƒè™‘,ä¼˜åŒ– DOM ç»˜åˆ¶æ—¶é—´,èµ„æºåŠ è½½æ—¶é—´,åŸŸåè§£æè¿™äº›;</p><p>è¦å…¨é¢çš„ä¼˜åŒ–ä¸€ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ªå¤§å·¥ç¨‹â€¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># ä¼˜é›…é™çº§å’Œæ¸è¿›å¢å¼º</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¼˜é›…é™çº§ï¼š<br>Webç«™ç‚¹åœ¨æ‰€æœ‰æ–°å¼æµè§ˆå™¨ä¸­éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œ<br>å¦‚æœç”¨æˆ·ä½¿ç”¨çš„æ˜¯è€å¼æµè§ˆå™¨ï¼Œ<br>åˆ™ä»£ç ä¼šæ£€æŸ¥ä»¥ç¡®è®¤å®ƒä»¬æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œã€‚<br>é’ˆå¯¹ä¸åŒç‰ˆæœ¬çš„hackä¸ºé‚£äº›æ— æ³•æ”¯æŒåŠŸèƒ½çš„<br>æµè§ˆå™¨å¢åŠ å€™é€‰æ–¹æ¡ˆï¼Œ<br>ä½¿ä¹‹åœ¨æ—§å¼æµè§ˆå™¨ä¸Šä»¥æŸç§å½¢å¼é™çº§ä½“éªŒ<br>å´ä¸è‡³äºå®Œå…¨å¤±æ•ˆ.</p><p>æ¸è¿›å¢å¼ºï¼š<br>ä»è¢«æ‰€æœ‰æµè§ˆå™¨æ”¯æŒçš„åŸºæœ¬åŠŸèƒ½å¼€å§‹ï¼Œ<br>é€æ­¥åœ°æ·»åŠ é‚£äº›åªæœ‰æ–°å¼æµè§ˆå™¨æ‰æ”¯æŒçš„åŠŸèƒ½,<br>å‘é¡µé¢å¢åŠ æ— å®³äºåŸºç¡€æµè§ˆå™¨çš„<br>é¢å¤–æ ·å¼å’ŒåŠŸèƒ½çš„ã€‚<br>å½“æµè§ˆå™¨æ”¯æŒæ—¶ï¼Œ<br>å®ƒä»¬ä¼šè‡ªåŠ¨åœ°å‘ˆç°å‡ºæ¥å¹¶å‘æŒ¥ä½œç”¨ã€‚</p><p>ä¿è¯æ‰€æœ‰äººéƒ½èƒ½è®¿é—®é¡µé¢çš„åŸºæœ¬å†…å®¹å’ŒåŠŸèƒ½<br>åŒæ—¶ä¸ºé«˜çº§æµè§ˆå™¨å’Œé«˜å¸¦å®½ç”¨æˆ·æä¾›<br>æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># jsæ§åˆ¶css3åŠ¨ç”»</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¼€å§‹äº‹ä»¶ AnimationStart<br>ç»“æŸäº‹ä»¶ AnimationEnd<br>é‡å¤è¿åŠ¨äº‹ä»¶ AnimationIteration  æ¯æ¬¡å¼€å§‹åŠ¨ç”»è¿­ä»£éƒ½è§¦å‘animationiteration</p><p>W3cæ ‡å‡†ï¼šanimationstart animationiteration animationend<br>Webkitï¼šwebkitAnimationStart webkitAnimationIteration webkitAnimationEnd<br>Firefoxï¼šanimationstart animationiteration animationend<br>Operaï¼šanimationstart animationiteration animationend<br>IE10ï¼šMSAnimationStart MSAnimationIteration MSAnimationEnd</p><p>var e = document.getElementById(â€œleft1â€);  </p><p>e.addEventListener(â€œanimationendâ€, function() {<br>    alert(â€˜css3è¿åŠ¨ç»“æŸï¼â€™);<br>});  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># Objectå¾ªç¯key</span><br><span class="line"></span><br><span class="line">- for...inå¾ªç¯ï¼šåªéå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾çš„å±æ€§ã€‚</span><br><span class="line">    é€šå¸¸ç”¨for inæ¥éå†å¯¹è±¡çš„é”®å</span><br><span class="line">    for inæ›´é€‚åˆéå†å¯¹è±¡ï¼Œä¸è¦ä½¿ç”¨for inéå†æ•°ç»„ã€‚</span><br><span class="line"></span><br><span class="line">for in å¾ªç¯ä¼šæŠŠæ•°ç»„å…¶ä»–æ‰©å±•æ–¹æ³•ä¹Ÿå¾ªç¯</span><br><span class="line"></span><br><span class="line">- for oféå†çš„åªæ˜¯æ•°ç»„å†…çš„å…ƒç´ ï¼Œè€Œä¸åŒ…æ‹¬æ•°ç»„çš„åŸå‹å±æ€§methodå’Œç´¢å¼•name</span><br><span class="line"></span><br><span class="line">for-ofå¾ªç¯æ˜¯éå†å®ç°iteratoræ¥å£çš„æˆå‘˜</span><br><span class="line"></span><br><span class="line">åªè¦æ˜¯ä¸€ä¸ªå¯¹è±¡éƒ¨ç½²äº†Symbol.interatoræ¥å£ï¼Œå°±å¯ä»¥ç”¨for...oféå†è¯¥å¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è°ƒç”¨è¯¥æ¥å£çš„Symbol.interatoræ–¹æ³•è°ƒç”¨next()æ–¹æ³•å¯¹å¯¹è±¡è¿›è¡Œéå†ï¼Œä¸åŒçš„æ˜¯for..ofæ˜¯å¯¹è¯¥å¯¹è±¡çš„å€¼çš„è¾“å‡ºï¼Œè€Œnext()è¿”å›çš„æ˜¯å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">åœ¨ES6ä¸­ï¼Œæœ‰ä¸‰ç±»æ•°æ®ç»“æ„åŸç”Ÿå…·å¤‡Iteratoræ¥å£ï¼šæ•°ç»„ã€æŸäº›ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€Setå’ŒMapç»“æ„ã€‚</span><br><span class="line"></span><br><span class="line">- Object.keys()ï¼šè¿”å›å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾çš„å±æ€§çš„é”®åã€‚</span><br><span class="line">- JSON.stringify()ï¼šåªä¸²è¡ŒåŒ–å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ã€‚</span><br><span class="line">- Object.assign()ï¼š å¿½ç•¥enumerableä¸ºfalseçš„å±æ€§ï¼Œåªæ‹·è´å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ã€‚</span><br><span class="line"></span><br><span class="line">- &#x3D;&#x3D;for...inå¾ªç¯å‡ºçš„æ˜¯keyï¼Œfor...ofå¾ªç¯å‡ºçš„æ˜¯value&#x3D;&#x3D;</span><br><span class="line">- &#x3D;&#x3D;for...ofä¸èƒ½å¾ªç¯æ™®é€šçš„å¯¹è±¡ï¼Œéœ€è¦é€šè¿‡å’ŒObject.keys()æ­é…ä½¿ç”¨&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">-</span><br><span class="line">å¦‚æœå®åœ¨æƒ³ç”¨for...ofæ¥éå†æ™®é€šå¯¹è±¡çš„å±æ€§çš„è¯ï¼Œå¯ä»¥é€šè¿‡å’ŒObject.keys()æ­é…ä½¿ç”¨ï¼Œå…ˆè·å–å¯¹è±¡çš„æ‰€æœ‰keyçš„æ•°ç»„</span><br><span class="line">ç„¶åéå†ï¼š</span><br><span class="line"></span><br><span class="line">## ç»“è®º</span><br><span class="line"></span><br><span class="line">1. æ¨èåœ¨å¾ªç¯å¯¹è±¡å±æ€§çš„æ—¶å€™ï¼Œä½¿ç”¨for...in,åœ¨éå†æ•°ç»„çš„æ—¶å€™çš„æ—¶å€™ä½¿ç”¨for...ofã€‚</span><br><span class="line"></span><br><span class="line">2. for...inå¾ªç¯å‡ºçš„æ˜¯keyï¼Œfor...ofå¾ªç¯å‡ºçš„æ˜¯value</span><br><span class="line"></span><br><span class="line">3. æ³¨æ„ï¼Œfor...ofæ˜¯ES6æ–°å¼•å…¥çš„ç‰¹æ€§ã€‚ä¿®å¤äº†ES5å¼•å…¥çš„for...inçš„ä¸è¶³</span><br><span class="line"></span><br><span class="line">4. for...ofä¸èƒ½å¾ªç¯æ™®é€šçš„å¯¹è±¡ï¼Œéœ€è¦é€šè¿‡å’ŒObject.keys()æ­é…ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">è®°å¿†jueqiao :</span><br><span class="line"></span><br><span class="line">å·²æ ¸å¯¹ å¶æ•°v</span><br><span class="line"></span><br><span class="line">in hï¼ˆkï¼‰å¯¹è±¡  o æ•°ç»„ value</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœå®åœ¨æƒ³ç”¨forâ€¦ofæ¥éå†æ™®é€šå¯¹è±¡çš„å±æ€§çš„è¯ï¼Œå¯ä»¥é€šè¿‡å’ŒObject.keys()æ­é…ä½¿ç”¨ï¼Œå…ˆè·å–å¯¹è±¡çš„æ‰€æœ‰keyçš„æ•°ç»„<br>ç„¶åéå†ï¼š</p><p>var student={<br>    name:â€™wujunchuanâ€™,<br>    age:22,<br>    locate:{<br>    country:â€™chinaâ€™,<br>    city:â€™xiamenâ€™,<br>    school:â€™XMUTâ€™<br>    }<br>}<br>for(var key of Object.keys(student)){<br>    //ä½¿ç”¨Object.keys()æ–¹æ³•è·å–å¯¹è±¡keyçš„æ•°ç»„<br>    console.log(key+â€: â€œ+student[key]);<br>}</p><p>for in å¯ä»¥éå†åˆ°myObjectçš„åŸå‹æ–¹æ³•method,<br>å¦‚æœä¸æƒ³éå†åŸå‹æ–¹æ³•å’Œå±æ€§çš„è¯ï¼Œ<br>å¯ä»¥åœ¨å¾ªç¯å†…éƒ¨åˆ¤æ–­ä¸€ä¸‹,<br>hasOwnProperyæ–¹æ³•å¯ä»¥åˆ¤æ–­<br>æŸå±æ€§æ˜¯å¦æ˜¯è¯¥å¯¹è±¡çš„å®ä¾‹å±æ€§</p><p>for (var key in myObject) {<br>ã€€ã€€ifï¼ˆmyObject.hasOwnProperty(key)){<br>ã€€ã€€ã€€ã€€console.log(key);<br>ã€€ã€€}<br>}</p><pre><code></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> jQuery </tag>
            
            <tag> æ’ä»¶ </tag>
            
            <tag> å°è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reactå’ŒVue</title>
      <link href="posts/React%20%E5%92%8CVue/"/>
      <url>posts/React%20%E5%92%8CVue/</url>
      
        <content type="html"><![CDATA[<h1 id="åœ¨jsxæ–‡ä»¶ä¸­ä¸ºä»€ä¹ˆä¸€å®šè¦å¼•ç”¨react"><a href="#åœ¨jsxæ–‡ä»¶ä¸­ä¸ºä»€ä¹ˆä¸€å®šè¦å¼•ç”¨react" class="headerlink" title="åœ¨jsxæ–‡ä»¶ä¸­ä¸ºä»€ä¹ˆä¸€å®šè¦å¼•ç”¨react"></a>åœ¨jsxæ–‡ä»¶ä¸­ä¸ºä»€ä¹ˆä¸€å®šè¦å¼•ç”¨react</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">JSX è¯­æ³•å°±æ˜¯ç”¨React.createElement()æ¥æ„å»º React å…ƒç´ çš„ã€‚</span><br><span class="line">å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡ç­¾åã€‚</span><br><span class="line">å¦‚divã€spanï¼Œæˆ–è€… React ç»„ä»¶ã€‚</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¼ å…¥çš„å±æ€§ã€‚</span><br><span class="line">ç¬¬ä¸‰ä¸ªä»¥åŠä¹‹åçš„å‚æ•°ï¼Œçš†ä½œä¸ºç»„ä»¶çš„å­ç»„ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">React.createElement(</span><br><span class="line">    type,</span><br><span class="line">    [props],</span><br><span class="line">    [...children]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">React.cloneElement()</span><br><span class="line"></span><br><span class="line">React.cloneElement()ä¸React.createElement()ç›¸ä¼¼ï¼Œ</span><br><span class="line">ä¸åŒçš„æ˜¯å®ƒä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª React</span><br><span class="line">å…ƒç´ ï¼Œè€Œä¸æ˜¯æ ‡ç­¾åæˆ–ç»„ä»¶ã€‚</span><br><span class="line">æ–°æ·»åŠ çš„å±æ€§ä¼šå¹¶å…¥åŸæœ‰çš„å±æ€§ï¼Œ</span><br><span class="line">ä¼ å…¥åˆ°è¿”å›çš„æ–°å…ƒç´ ä¸­ï¼Œè€Œå°±çš„å­å…ƒç´ å¥–æ¯æ›¿æ¢ã€‚</span><br><span class="line"></span><br><span class="line">React.cloneElement(</span><br><span class="line">  element,</span><br><span class="line">  [props],</span><br><span class="line">  [...children]</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="React-ç»„ä»¶"><a href="#React-ç»„ä»¶" class="headerlink" title="React ç»„ä»¶"></a>React ç»„ä»¶</h1><p>React ä¸­æœ‰ä¸‰ç§æ„å»ºç»„ä»¶çš„æ–¹å¼ã€‚React.createClass()ã€ES6 classå’Œæ— çŠ¶æ€å‡½æ•°ã€‚</p><h2 id="React-createClass"><a href="#React-createClass" class="headerlink" title="React.createClass()"></a>React.createClass()</h2><p>React.createClass()æ˜¯ä¸‰ç§æ–¹å¼ä¸­æœ€æ—©ï¼Œå…¼å®¹æ€§æœ€å¥½çš„æ–¹æ³•ã€‚åœ¨0.14ç‰ˆæœ¬å‰å®˜æ–¹æŒ‡å®šçš„ç»„ä»¶å†™æ³•ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var Greeting &#x3D; React.createClass(&#123;</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return &lt;h1&gt;Hello, &#123;this.props.name&#125;&lt;&#x2F;h1&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="ES6-class"><a href="#ES6-class" class="headerlink" title="ES6 class"></a>ES6 class</h2><p>ES6 classæ˜¯ç›®å‰å®˜æ–¹æ¨èçš„ä½¿ç”¨æ–¹å¼ï¼Œå®ƒä½¿ç”¨äº†ES6æ ‡å‡†è¯­æ³•æ¥æ„å»ºï¼Œä½†å®ƒçš„å®ç°ä»æ˜¯è°ƒç”¨React.createClass()æ¥å®ç°äº†ï¼ŒES6 classçš„ç”Ÿå‘½å‘¨æœŸå’Œè‡ªåŠ¨ç»‘å®šæ–¹å¼ä¸React.createClass()ç•¥æœ‰ä¸åŒã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class Greeting extemds React.Component&#123;</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return &lt;h1&gt;Hello, &#123;this.props.name&#125;&lt;&#x2F;h1&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="æ— çŠ¶æ€å‡½æ•°"><a href="#æ— çŠ¶æ€å‡½æ•°" class="headerlink" title="æ— çŠ¶æ€å‡½æ•°"></a>æ— çŠ¶æ€å‡½æ•°</h1><p>æ— çŠ¶æ€å‡½æ•°æ˜¯ä½¿ç”¨å‡½æ•°æ„å»ºçš„æ— çŠ¶æ€ç»„ä»¶ï¼Œæ— çŠ¶æ€ç»„ä»¶ä¼ å…¥propså’Œcontextä¸¤ä¸ªå‚æ•°ï¼Œå®ƒæ²¡æœ‰stateï¼Œé™¤äº†render()ï¼Œæ²¡æœ‰å…¶å®ƒç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function Greeting (props) &#123;</span><br><span class="line">  return &lt;h1&gt;Hello, &#123;props.name&#125;&lt;&#x2F;h1&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>React.createClass()å’ŒES6 classæ„å»ºçš„ç»„ä»¶çš„æ•°æ®ç»“æ„æ˜¯ç±»ï¼Œæ— çŠ¶æ€ç»„ä»¶æ•°æ®ç»“æ„æ˜¯å‡½æ•°ï¼Œå®ƒä»¬åœ¨ React è¢«è§†ä¸ºæ˜¯ä¸€æ ·çš„ã€‚</p><h1 id="å…ƒç´ ä¸ç»„ä»¶çš„åŒºåˆ«"><a href="#å…ƒç´ ä¸ç»„ä»¶çš„åŒºåˆ«" class="headerlink" title="å…ƒç´ ä¸ç»„ä»¶çš„åŒºåˆ«"></a>å…ƒç´ ä¸ç»„ä»¶çš„åŒºåˆ«</h1><p>ç»„ä»¶æ˜¯ç”±å…ƒç´ æ„æˆçš„ã€‚å…ƒç´ æ•°æ®ç»“æ„æ˜¯æ™®é€šå¯¹è±¡ï¼Œè€Œç»„ä»¶æ•°æ®ç»“æ„æ˜¯ç±»æˆ–çº¯å‡½æ•°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function Greeting (props) &#123;</span><br><span class="line">  return &lt;h1&gt;Hello, &#123;props.name&#125;&lt;&#x2F;h1&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="componentWillReceivePropsåº”ç”¨åœºæ™¯"><a href="#componentWillReceivePropsåº”ç”¨åœºæ™¯" class="headerlink" title="componentWillReceivePropsåº”ç”¨åœºæ™¯"></a>componentWillReceivePropsåº”ç”¨åœºæ™¯</h1><p>å¦‚æœå­ç»„ä»¶éœ€è¦çš„æ•°æ®æ˜¯ç›´æ¥ç”±çˆ¶ç»„ä»¶é€šè¿‡propsä¼ é€’è¿‡æ¥å°±ä¸éœ€è¦åœ¨componentwillreceivepropsä¸­setStateï¼Œä½†æ˜¯å¦‚æœå­ç»„ä»¶æœ‰è‡ªå·±çš„çŠ¶æ€ï¼ŒåŒæ—¶è¿™ä¸ªçŠ¶æ€ä¾èµ–äºçˆ¶ç»„ä»¶çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±éœ€è¦å­ç»„ä»¶å•ç‹¬è¿›è¡ŒsetStateæ“ä½œï¼Œå¦åˆ™æ— æ³•å®Œæˆå­ç»„ä»¶çš„æ›´æ–°ã€‚åŒæ—¶æœ‰ä¸€ç‚¹ï¼Œåœ¨componentwillreceivepropsä¸­å†™setStateä¸ä¼šå†æ¬¡è§¦å‘å­ç»„ä»¶çš„renderã€‚è§£é‡Šä¸€ä¸‹ï¼šçˆ¶ç»„ä»¶setStateæ—¶ä¼šè§¦å‘å­ç»„ä»¶çš„renderï¼Œæ­¤æ—¶å¦‚æœåœ¨å­ç»„ä»¶çš„componentwillreceivepropsé‡ŒsetStateï¼Œç»™äººçš„æ„Ÿè§‰æ˜¯ä¼šå†ä¸€æ¬¡è§¦å‘å­ç»„ä»¶çš„renderï¼ˆåŠ ä¸Šå‰é¢çš„ä¸€æ¬¡å°±æ˜¯ä¸¤æ¬¡ï¼‰ï¼Œå®é™…æƒ…å†µæ˜¯ä¸ä¼šçš„</p><h1 id="vuexå’Œreduxä½¿ç”¨æœ‰ä»€ä¹ˆä¸åŒ"><a href="#vuexå’Œreduxä½¿ç”¨æœ‰ä»€ä¹ˆä¸åŒ" class="headerlink" title="vuexå’Œreduxä½¿ç”¨æœ‰ä»€ä¹ˆä¸åŒ"></a>vuexå’Œreduxä½¿ç”¨æœ‰ä»€ä¹ˆä¸åŒ</h1><p>Vuex å…¶å®æ˜¯ä¸€ä¸ªé’ˆå¯¹ Vue ç‰¹åŒ–çš„ Fluxï¼Œä¸»è¦æ˜¯ä¸ºäº†é…åˆ Vue æœ¬èº«çš„å“åº”å¼æœºåˆ¶ã€‚å½“ç„¶å¸å–äº†ä¸€äº› Redux çš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚å•çŠ¶æ€æ ‘å’Œä¾¿äºæµ‹è¯•å’Œçƒ­é‡è½½çš„ APIï¼Œä½†æ˜¯ä¹Ÿé€‰æ‹©æ€§çš„æ”¾å¼ƒäº†ä¸€äº›åœ¨ Vue çš„åœºæ™¯ä¸‹å¹¶ä¸å¥‘åˆçš„ç‰¹æ€§ï¼Œæ¯”å¦‚å¼ºåˆ¶çš„ immutabilityï¼ˆåœ¨ä¿è¯äº†æ¯ä¸€æ¬¡çŠ¶æ€å˜åŒ–éƒ½èƒ½è¿½è¸ªçš„æƒ…å†µä¸‹å¼ºåˆ¶çš„ immutability å¸¦æ¥çš„æ”¶ç›Šå°±å¾ˆæœ‰é™äº†ï¼‰ã€ä¸ºäº†åŒæ„è€Œè®¾è®¡å¾—è¾ƒä¸ºç¹ççš„ APIã€å¿…é¡»ä¾èµ–ç¬¬ä¸‰æ–¹åº“æ‰èƒ½ç›¸å¯¹é«˜æ•ˆç‡åœ°è·å¾—çŠ¶æ€æ ‘çš„å±€éƒ¨çŠ¶æ€ç­‰ç­‰ï¼ˆç›¸æ¯”ä¹‹ä¸‹ Vuex ç›´æ¥ç”¨ Vue æœ¬èº«çš„è®¡ç®—å±æ€§å°±å¯ä»¥ï¼‰æ‰€ä»¥ Vue + Vuex ä¼šæ›´ç®€æ´ï¼Œä¹Ÿä¸éœ€è¦è€ƒè™‘æ€§èƒ½é—®é¢˜ï¼Œä»£ä»·å°±æ˜¯ Vuex åªèƒ½å’Œ Vue é…åˆã€‚Vue + Redux ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œä½†æ˜¯ Redux ä½œä¸ºä¸€ä¸ªæ³›ç”¨çš„å®ç°å’Œ Vue çš„å¥‘åˆåº¦è‚¯å®šä¸å¦‚ Vuexã€‚</p><h1 id="nextTickçš„ä½œç”¨ï¼ŒåŸç†ï¼Œç”¨apiçš„åœºæ™¯"><a href="#nextTickçš„ä½œç”¨ï¼ŒåŸç†ï¼Œç”¨apiçš„åœºæ™¯" class="headerlink" title="nextTickçš„ä½œç”¨ï¼ŒåŸç†ï¼Œç”¨apiçš„åœºæ™¯"></a>nextTickçš„ä½œç”¨ï¼ŒåŸç†ï¼Œç”¨apiçš„åœºæ™¯</h1><p>$nextTick æ˜¯åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åä½¿ç”¨ $nextTickï¼Œåˆ™å¯ä»¥åœ¨å›è°ƒä¸­è·å–æ›´æ–°åçš„ DOM</p><p>ä¹Ÿè®¸æœ‰äººä¼šé—®ï¼Œæˆ‘åœ¨ Vue å®ä¾‹æ–¹æ³•ä¸­ä¿®æ”¹äº†æ•°æ®ï¼Œç„¶åå†åœ¨ $nextTick å›è°ƒä¸­è·å–è¯¥æ•°æ®åœ¨ç›¸åº” DOM å…ƒç´ æ‰€ç»‘å®šçš„å†…å®¹ï¼ˆæˆ–å±æ€§ï¼‰æ®Šæ— å¿…è¦ï¼Œæˆ‘ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·çš„ API å‘¢ï¼Ÿ</p><p>è€ƒè™‘è¿™æ ·ä¸€ç§åœºæ™¯ï¼Œä½ æœ‰ä¸€ä¸ª jQuery æ’ä»¶ï¼Œå¸Œæœ›åœ¨ DOM å…ƒç´ ä¸­æŸäº›å±æ€§å‘ç”Ÿå˜åŒ–ä¹‹åé‡æ–°åº”ç”¨è¯¥æ’ä»¶ï¼Œè¿™æ—¶å€™å°±éœ€è¦åœ¨ $nextTick çš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œé‡æ–°åº”ç”¨æ’ä»¶çš„æ–¹æ³•ã€‚</p><p>åœ¨æ•°æ®å˜åŒ–åè¦æ‰§è¡Œçš„æŸä¸ªæ“ä½œï¼Œè€Œè¿™ä¸ªæ“ä½œéœ€è¦ä½¿ç”¨éšæ•°æ®æ”¹å˜è€Œæ”¹å˜çš„DOMç»“æ„çš„æ—¶å€™ï¼Œè¿™ä¸ªæ“ä½œéƒ½åº”è¯¥æ”¾è¿›Vue.nextTick()çš„å›è°ƒå‡½æ•°ä¸­ã€‚</p><p>åŸå› æ˜¯ï¼ŒVueæ˜¯å¼‚æ­¥æ‰§è¡Œdomæ›´æ–°çš„ï¼Œä¸€æ—¦è§‚å¯Ÿåˆ°æ•°æ®å˜åŒ–ï¼ŒVueå°±ä¼šå¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åæŠŠåœ¨åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯ (event loop) å½“ä¸­è§‚å¯Ÿåˆ°æ•°æ®å˜åŒ–çš„ watcher æ¨é€è¿›è¿™ä¸ªé˜Ÿåˆ—ã€‚å¦‚æœè¿™ä¸ªwatcherè¢«è§¦å‘å¤šæ¬¡ï¼Œåªä¼šè¢«æ¨é€åˆ°é˜Ÿåˆ—ä¸€æ¬¡ã€‚è¿™ç§ç¼“å†²è¡Œä¸ºå¯ä»¥æœ‰æ•ˆçš„å»æ‰é‡å¤æ•°æ®é€ æˆçš„ä¸å¿…è¦çš„è®¡ç®—å’ŒDOmæ“ä½œã€‚è€Œåœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯æ—¶ï¼ŒVueä¼šæ¸…ç©ºé˜Ÿåˆ—ï¼Œå¹¶è¿›è¡Œå¿…è¦çš„DOMæ›´æ–°ã€‚</p><p>å½“ä½ è®¾ç½® vm.someData = â€˜new valueâ€™ï¼ŒDOM å¹¶ä¸ä¼šé©¬ä¸Šæ›´æ–°ï¼Œè€Œæ˜¯åœ¨å¼‚æ­¥é˜Ÿåˆ—è¢«æ¸…é™¤ï¼Œä¹Ÿå°±æ˜¯ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯å¼€å§‹æ—¶æ‰§è¡Œæ›´æ–°æ—¶æ‰ä¼šè¿›è¡Œå¿…è¦çš„DOMæ›´æ–°ã€‚å¦‚æœæ­¤æ—¶ä½ æƒ³è¦æ ¹æ®æ›´æ–°çš„ DOM çŠ¶æ€å»åšæŸäº›äº‹æƒ…ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚ã€‚ä¸ºäº†åœ¨æ•°æ®å˜åŒ–ä¹‹åç­‰å¾… Vue å®Œæˆæ›´æ–° DOM ï¼Œå¯ä»¥åœ¨æ•°æ®å˜åŒ–ä¹‹åç«‹å³ä½¿ç”¨ Vue.nextTick(callback) ã€‚è¿™æ ·å›è°ƒå‡½æ•°åœ¨ DOM æ›´æ–°å®Œæˆåå°±ä¼šè°ƒç”¨ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">  methods: &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">    example: function () &#123;</span><br><span class="line">      &#x2F;&#x2F; modify data</span><br><span class="line">      this.message &#x3D; &#39;changed&#39;</span><br><span class="line">      &#x2F;&#x2F; DOM is not updated yet</span><br><span class="line">      this.$nextTick(function () &#123;</span><br><span class="line">        &#x2F;&#x2F; DOM is now updated</span><br><span class="line">        &#x2F;&#x2F; &#96;this&#96; is bound to the current instance</span><br><span class="line">        this.doSomethingElse()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨æ•°æ®å˜åŒ–åè¦æ‰§è¡Œçš„æŸä¸ªæ“ä½œï¼Œè€Œè¿™ä¸ªæ“ä½œéœ€è¦ä½¿ç”¨éšæ•°æ®æ”¹å˜è€Œæ”¹å˜çš„DOMç»“æ„çš„æ—¶å€™ï¼Œè¿™ä¸ªæ“ä½œéƒ½åº”è¯¥æ”¾è¿›Vue.nextTick()çš„å›è°ƒå‡½æ•°ä¸­</p><h1 id="vueçš„propsï¼Œstate-computeåŒºåˆ«"><a href="#vueçš„propsï¼Œstate-computeåŒºåˆ«" class="headerlink" title="vueçš„propsï¼Œstate, computeåŒºåˆ«"></a>vueçš„propsï¼Œstate, computeåŒºåˆ«</h1><p>data: Vue å®ä¾‹çš„æ•°æ®å¯¹è±¡ã€‚Vue å°†ä¼šé€’å½’å°† data çš„å±æ€§è½¬æ¢ä¸º getter/setterï¼Œä»è€Œè®© data çš„å±æ€§èƒ½å¤Ÿå“åº”æ•°æ®å˜åŒ–ã€‚</p><p>props: å¯ä»¥æ˜¯æ•°ç»„æˆ–å¯¹è±¡ï¼Œç”¨äºæ¥æ”¶æ¥è‡ªçˆ¶ç»„ä»¶çš„æ•°æ®ã€‚props å¯ä»¥æ˜¯ç®€å•çš„æ•°ç»„ï¼Œæˆ–è€…ä½¿ç”¨å¯¹è±¡ä½œä¸ºæ›¿ä»£ï¼Œå¯¹è±¡å…è®¸é…ç½®é«˜çº§é€‰é¡¹ï¼Œå¦‚ç±»å‹æ£€æµ‹ã€è‡ªå®šä¹‰æ ¡éªŒå’Œè®¾ç½®é»˜è®¤å€¼ã€‚</p><p>ä¸¤ä¸ªçš„åŒºåˆ«å°±æ˜¯dataæ˜¯å“åº”å¼çš„ï¼Ÿ</p><p>è®¡ç®—å±æ€§å°†è¢«æ··å…¥åˆ° Vue å®ä¾‹ä¸­ã€‚æ‰€æœ‰ getter å’Œ setter çš„ this ä¸Šä¸‹æ–‡è‡ªåŠ¨åœ°ç»‘å®šä¸º Vue å®ä¾‹ã€‚</p><p>æ³¨æ„å¦‚æœä½ ä¸ºä¸€ä¸ªè®¡ç®—å±æ€§ä½¿ç”¨äº†ç®­å¤´å‡½æ•°ï¼Œåˆ™ this ä¸ä¼šæŒ‡å‘è¿™ä¸ªç»„ä»¶çš„å®ä¾‹ï¼Œä¸è¿‡ä½ ä»ç„¶å¯ä»¥å°†å…¶å®ä¾‹ä½œä¸ºå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ¥è®¿é—®ã€‚</p><p>è®¡ç®—å±æ€§çš„ç»“æœä¼šè¢«ç¼“å­˜ï¼Œé™¤éä¾èµ–çš„å“åº”å¼å±æ€§å˜åŒ–æ‰ä¼šé‡æ–°è®¡ç®—ã€‚æ³¨æ„ï¼Œå¦‚æœæŸä¸ªä¾èµ– (æ¯”å¦‚éå“åº”å¼å±æ€§) åœ¨è¯¥å®ä¾‹èŒƒç•´ä¹‹å¤–ï¼Œåˆ™è®¡ç®—å±æ€§æ˜¯ä¸ä¼šè¢«æ›´æ–°çš„ã€‚</p><h1 id="react-native-å’ŒåŸç”Ÿçš„æ€ä¹ˆé€šä¿¡"><a href="#react-native-å’ŒåŸç”Ÿçš„æ€ä¹ˆé€šä¿¡" class="headerlink" title="react native å’ŒåŸç”Ÿçš„æ€ä¹ˆé€šä¿¡"></a>react native å’ŒåŸç”Ÿçš„æ€ä¹ˆé€šä¿¡</h1><h1 id="pure-component"><a href="#pure-component" class="headerlink" title="pure component"></a>pure component</h1><p>React15.3ä¸­æ–°åŠ äº†ä¸€ä¸ª PureComponent ç±»ï¼Œ ä¹Ÿå°±æ˜¯çº¯ç»„ä»¶ï¼Œå–ä»£å…¶å‰èº« PureRenderMixin , PureComponent æ˜¯ä¼˜åŒ– React åº”ç”¨ç¨‹åºæœ€é‡è¦çš„æ–¹æ³•ä¹‹ä¸€ï¼Œæ˜“äºå®æ–½ï¼Œåªè¦æŠŠç»§æ‰¿ç±»ä» Component æ¢æˆ PureComponent å³å¯ï¼Œ</p><p>å¯ä»¥å‡å°‘ä¸å¿…è¦çš„ render æ“ä½œçš„æ¬¡æ•°ï¼Œä»è€Œæé«˜æ€§èƒ½ï¼Œè€Œä¸”å¯ä»¥å°‘å†™ shouldComponentUpdate å‡½æ•°ï¼ŒèŠ‚çœäº†ç‚¹ä»£ç ã€‚</p><h1 id="React-Native-ä¸-åŸç”Ÿäº¤äº’"><a href="#React-Native-ä¸-åŸç”Ÿäº¤äº’" class="headerlink" title="React Native ä¸ åŸç”Ÿäº¤äº’"></a>React Native ä¸ åŸç”Ÿäº¤äº’</h1><p><a href="https://www.jianshu.com/p/41dd77a83c13">é“¾æ¥</a></p><h1 id="vue-js-å’Œvue-runtime-jsåŒºåˆ«"><a href="#vue-js-å’Œvue-runtime-jsåŒºåˆ«" class="headerlink" title="vue.js å’Œvue.runtime.jsåŒºåˆ«"></a>vue.js å’Œvue.runtime.jsåŒºåˆ«</h1><p>vue.js</p><p>å®Œæ•´ç‰ˆï¼šåŒæ—¶åŒ…å«ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶çš„ç‰ˆæœ¬ã€‚</p><p>runtime.js</p><p>è¿è¡Œæ—¶ï¼šç”¨æ¥åˆ›å»º Vue å®ä¾‹ã€æ¸²æŸ“å¹¶å¤„ç†è™šæ‹Ÿ DOM ç­‰çš„ä»£ç ã€‚åŸºæœ¬ä¸Šå°±æ˜¯é™¤å»ç¼–è¯‘å™¨çš„å…¶å®ƒä¸€åˆ‡ã€‚</p><p>ç¼–è¯‘å™¨ï¼šç”¨æ¥å°†æ¨¡æ¿å­—ç¬¦ä¸²ç¼–è¯‘æˆä¸º JavaScript æ¸²æŸ“å‡½æ•°çš„ä»£ç ã€‚</p><h1 id="é«˜é˜¶ç»„ä»¶ï¼Ÿï¼Ÿ-è§£å†³äº†ä»€ä¹ˆé—®é¢˜"><a href="#é«˜é˜¶ç»„ä»¶ï¼Ÿï¼Ÿ-è§£å†³äº†ä»€ä¹ˆé—®é¢˜" class="headerlink" title="é«˜é˜¶ç»„ä»¶ï¼Ÿï¼Ÿ è§£å†³äº†ä»€ä¹ˆé—®é¢˜"></a>é«˜é˜¶ç»„ä»¶ï¼Ÿï¼Ÿ è§£å†³äº†ä»€ä¹ˆé—®é¢˜</h1><p><a href="https://segmentfault.com/a/1190000010371752">é“¾æ¥</a></p><p>é€‚é…å™¨æ¨¡å¼ï¼Œ</p><p>é«˜é˜¶å‡½æ•°çš„å®šä¹‰ï¼šæ¥æ”¶å‡½æ•°ä½œä¸ºè¾“å…¥ï¼Œæˆ–è€…è¾“å‡ºå¦ä¸€ä¸ªå‡½æ•°çš„ä¸€ç±»å‡½æ•°ï¼Œè¢«ç§°ä½œé«˜é˜¶å‡½æ•°ã€‚</p><p>å¯¹äºé«˜é˜¶ç»„ä»¶ï¼Œå®ƒæè¿°çš„ä¾¿æ˜¯æ¥å—Reactç»„ä»¶ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡ºä¸€ä¸ªæ–°çš„Reactç»„ä»¶çš„ç»„ä»¶ã€‚</p><p>é«˜é˜¶ç»„ä»¶é€šè¿‡åŒ…è£¹ï¼ˆwrappedï¼‰è¢«ä¼ å…¥çš„Reactç»„ä»¶ï¼Œç»è¿‡ä¸€ç³»åˆ—å¤„ç†ï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ªç›¸å¯¹å¢å¼ºï¼ˆenhancedï¼‰çš„Reactç»„ä»¶ï¼Œä¾›å…¶ä»–ç»„ä»¶è°ƒç”¨ã€‚</p><p>é«˜é˜¶ç»„ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯å°è£…å¹¶æŠ½ç¦»ç»„ä»¶çš„é€šç”¨é€»è¾‘ï¼Œè®©æ­¤éƒ¨åˆ†é€»è¾‘åœ¨ç»„ä»¶é—´æ›´å¥½åœ°è¢«å¤ç”¨ã€‚</p><h1 id="setStateæºç å‰–æï¼Œå¤šæ¬¡è°ƒç”¨è§£å¯†"><a href="#setStateæºç å‰–æï¼Œå¤šæ¬¡è°ƒç”¨è§£å¯†" class="headerlink" title="setStateæºç å‰–æï¼Œå¤šæ¬¡è°ƒç”¨è§£å¯†"></a>setStateæºç å‰–æï¼Œå¤šæ¬¡è°ƒç”¨è§£å¯†</h1><p>setStateæµç¨‹è¿˜æ˜¯å¾ˆå¤æ‚çš„ï¼Œè®¾è®¡ä¹Ÿå¾ˆç²¾å·§ï¼Œ<br>é¿å…äº†é‡å¤æ— è°“çš„åˆ·æ–°ç»„ä»¶ã€‚å®ƒçš„ä¸»è¦æµç¨‹å¦‚ä¸‹</p><ol><li><p>enqueueSetStateå°†stateæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶è°ƒç”¨enqueueUpdateå¤„ç†è¦æ›´æ–°çš„Component</p></li><li><p>å¦‚æœç»„ä»¶å½“å‰æ­£å¤„äºupdateäº‹åŠ¡ä¸­ï¼Œåˆ™å…ˆå°†Componentå­˜å…¥dirtyComponentä¸­ã€‚å¦åˆ™è°ƒç”¨batchedUpdateså¤„ç†ã€‚</p></li><li><p>batchedUpdateså‘èµ·ä¸€æ¬¡transaction.perform()äº‹åŠ¡<br>å¼€å§‹æ‰§è¡Œäº‹åŠ¡åˆå§‹åŒ–ï¼Œè¿è¡Œï¼Œç»“æŸä¸‰ä¸ªé˜¶æ®µ</p><p> 1 åˆå§‹åŒ–ï¼šäº‹åŠ¡åˆå§‹åŒ–é˜¶æ®µæ²¡æœ‰æ³¨å†Œæ–¹æ³•ï¼Œæ•…æ— æ–¹æ³•è¦æ‰§è¡Œ</p><p> 2 è¿è¡Œï¼šæ‰§è¡ŒsetSateæ—¶ä¼ å…¥çš„callbackæ–¹æ³•ï¼Œä¸€èˆ¬ä¸ä¼šä¼ callbackå‚æ•°</p><p> 3 ç»“æŸï¼šæ›´æ–°isBatchingUpdatesä¸ºfalseï¼Œå¹¶æ‰§è¡ŒFLUSH_BATCHED_UPDATESè¿™ä¸ªwrapperä¸­çš„closeæ–¹æ³•<br>FLUSH_BATCHED_UPDATESåœ¨closeé˜¶æ®µï¼Œä¼šå¾ªç¯éå†æ‰€æœ‰çš„dirtyComponentsï¼Œè°ƒç”¨updateComponentåˆ·æ–°ç»„ä»¶ï¼Œå¹¶æ‰§è¡Œå®ƒçš„pendingCallbacks, ä¹Ÿå°±æ˜¯setStateä¸­è®¾ç½®çš„callbackã€‚</p></li></ol><p>ä¼šè°ƒç”¨åˆ°batchedUpdatesè¿›è¡Œæ‰¹å¤„ç†æ›´æ–°ï¼Œ<br>Reactä»¥äº‹åŠ¡çš„æ–¹å¼å¤„ç†ç»„ä»¶updateï¼Œäº‹åŠ¡å¤„ç†å®Œåä¼šè°ƒç”¨wrapper.close(),</p><h1 id="react-diff"><a href="#react-diff" class="headerlink" title="react diff"></a>react diff</h1><p><a href="https://github.com/purplebamboo/blog/issues/3">é“¾æ¥</a></p><p>ä¸‰å¤§è¦ç‚¹</p><ul><li>tree diff<br>  ä¸¤æ£µæ ‘åªä¼šå¯¹åŒä¸€å±‚æ¬¡çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚</li><li>component diff<br>  åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ç±»å‹ç»„ä»¶</li><li>element diff<br>  åŒä¸€èŠ‚ç‚¹ æ’å…¥ï¼Œåˆ é™¤ï¼Œç§»åŠ¨å±æ€§</li></ul><p>åœ¨reactjsä¸­æˆ‘ä»¬éœ€è¦æ›´æ–°æ—¶éƒ½æ˜¯è°ƒç”¨çš„setState</p><p>setStateä¸»è¦è°ƒç”¨äº†å¯¹åº”çš„componentçš„receiveComponentæ¥å®ç°æ›´æ–°ã€‚æ‰€æœ‰çš„æŒ‚è½½ï¼Œæ›´æ–°éƒ½åº”è¯¥äº¤ç»™å¯¹åº”çš„componentæ¥ç®¡ç†ã€‚</p><p>å°±åƒæ‰€æœ‰çš„componentéƒ½å®ç°äº†mountComponentæ¥å¤„ç†ç¬¬ä¸€æ¬¡æ¸²æŸ“ï¼Œæ‰€æœ‰çš„componetç±»éƒ½åº”è¯¥å®ç°receiveComponentç”¨æ¥å¤„ç†è‡ªå·±çš„æ›´æ–°ã€‚</p><p>ä¼šåˆå¹¶æ”¹åŠ¨ï¼Œç”Ÿæˆæœ€æ–°çš„state,propsç„¶åæ‹¿ä»¥å‰çš„renderè¿”å›çš„elementè·Ÿç°åœ¨æœ€æ–°è°ƒç”¨renderç”Ÿæˆçš„elementè¿›è¡Œå¯¹æ¯”ï¼ˆ_shouldUpdateReactComponentï¼‰ï¼Œçœ‹çœ‹éœ€ä¸éœ€è¦æ›´æ–°ï¼Œå¦‚æœè¦æ›´æ–°å°±ç»§ç»­è°ƒç”¨å¯¹åº”çš„componentç±»å¯¹åº”çš„receiveComponentå°±å¥½å•¦ï¼Œå…¶å®å°±æ˜¯ç›´æ¥å½“ç”©æ‰‹æŒæŸœï¼Œäº‹æƒ…ç›´æ¥ä¸¢ç»™æ‰‹ä¸‹å»åŠäº†ã€‚å½“ç„¶è¿˜æœ‰ç§æƒ…å†µæ˜¯ï¼Œä¸¤æ¬¡ç”Ÿæˆçš„elementå·®åˆ«å¤ªå¤§ï¼Œå°±ä¸æ˜¯ä¸€ä¸ªç±»å‹çš„ï¼Œé‚£å¥½åŠç›´æ¥é‡æ–°ç”Ÿæˆä¸€ä»½æ–°çš„ä»£ç é‡æ–°æ¸²æŸ“ä¸€æ¬¡å°±oäº†ã€‚</p><p>æœ¬è´¨ä¸Šè¿˜æ˜¯é€’å½’è°ƒç”¨receiveComponentçš„è¿‡ç¨‹ã€‚</p><p>è¿™é‡Œæ³¨æ„ä¸¤ä¸ªå‡½æ•°ï¼š</p><p>inst.shouldComponentUpdateæ˜¯å®ä¾‹æ–¹æ³•ï¼Œå½“æˆ‘ä»¬ä¸å¸Œæœ›æŸæ¬¡setStateåæ›´æ–°ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œè¿”å›falseå°±å¥½äº†ã€‚</p><p>_shouldUpdateReactComponentæ˜¯ä¸€ä¸ªå…¨å±€æ–¹æ³•ï¼Œè¿™ä¸ªæ˜¯ä¸€ç§reactjsçš„ä¼˜åŒ–æœºåˆ¶ã€‚ç”¨æ¥å†³å®šæ˜¯ç›´æ¥å…¨éƒ¨æ›¿æ¢ï¼Œè¿˜æ˜¯ä½¿ç”¨å¾ˆç»†å¾®çš„æ”¹åŠ¨ã€‚å½“ä¸¤æ¬¡renderå‡ºæ¥çš„å­èŠ‚ç‚¹keyä¸åŒï¼Œç›´æ¥å…¨éƒ¨é‡æ–°æ¸²æŸ“ä¸€éï¼Œæ›¿æ¢å°±å¥½äº†ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°±å¾—æ¥ä¸ªé€’å½’çš„æ›´æ–°ï¼Œä¿è¯æœ€å°åŒ–çš„æ›´æ–°æœºåˆ¶ï¼Œè¿™æ ·å¯ä»¥ä¸ä¼šæœ‰å¤ªå¤§çš„é—ªçƒã€‚</p><p>==ç®€å•å›é¡¾ä¸‹reactjsçš„å·®å¼‚ç®—æ³•ï¼š==</p><p>é¦–å…ˆæ˜¯æ‰€æœ‰çš„componentéƒ½å®ç°äº†receiveComponentæ¥è´Ÿè´£è‡ªå·±çš„æ›´æ–°ï¼Œè€Œæµè§ˆå™¨é»˜è®¤å…ƒç´ çš„æ›´æ–°æœ€ä¸ºå¤æ‚ï¼Œä¹Ÿå°±æ˜¯ç»å¸¸è¯´çš„ diff algorithmã€‚</p><p>reactæœ‰ä¸€ä¸ªå…¨å±€_shouldUpdateReactComponentç”¨æ¥æ ¹æ®elementçš„keyæ¥åˆ¤æ–­æ˜¯æ›´æ–°è¿˜æ˜¯é‡æ–°æ¸²æŸ“ï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªå·®å¼‚åˆ¤æ–­ã€‚æ¯”å¦‚è‡ªå®šä¹‰å…ƒç´ é‡Œï¼Œå°±ä½¿ç”¨è¿™ä¸ªåˆ¤æ–­ï¼Œé€šè¿‡è¿™ç§æ ‡è¯†åˆ¤æ–­ï¼Œä¼šå˜å¾—ç‰¹åˆ«é«˜æ•ˆã€‚</p><p>æ¯ä¸ªç±»å‹çš„å…ƒç´ éƒ½è¦å¤„ç†å¥½è‡ªå·±çš„æ›´æ–°ï¼š</p><p>è‡ªå®šä¹‰å…ƒç´ çš„æ›´æ–°ï¼Œä¸»è¦æ˜¯æ›´æ–°renderå‡ºçš„èŠ‚ç‚¹ï¼Œåšç”©æ‰‹æŒæŸœäº¤ç»™renderå‡ºçš„èŠ‚ç‚¹çš„å¯¹åº”componentå»ç®¡ç†æ›´æ–°ã€‚</p><p>textèŠ‚ç‚¹çš„æ›´æ–°å¾ˆç®€å•ï¼Œç›´æ¥æ›´æ–°æ–‡æ¡ˆã€‚</p><p>æµè§ˆå™¨åŸºæœ¬å…ƒç´ çš„æ›´æ–°ï¼Œåˆ†ä¸ºä¸¤å—ï¼š</p><p>å…ˆæ˜¯æ›´æ–°å±æ€§ï¼Œå¯¹æ¯”å‡ºå‰åå±æ€§çš„ä¸åŒï¼Œå±€éƒ¨æ›´æ–°ã€‚å¹¶ä¸”å¤„ç†ç‰¹æ®Šå±æ€§ï¼Œæ¯”å¦‚äº‹ä»¶ç»‘å®šã€‚</p><p>ç„¶åæ˜¯å­èŠ‚ç‚¹çš„æ›´æ–°ï¼Œå­èŠ‚ç‚¹æ›´æ–°ä¸»è¦æ˜¯æ‰¾å‡ºå·®å¼‚å¯¹è±¡ï¼Œæ‰¾å·®å¼‚å¯¹è±¡çš„æ—¶å€™ä¹Ÿä¼šä½¿ç”¨ä¸Šé¢çš„_shouldUpdateReactComponentæ¥åˆ¤æ–­ï¼Œå¦‚æœæ˜¯å¯ä»¥ç›´æ¥æ›´æ–°çš„å°±ä¼šé€’å½’è°ƒç”¨å­èŠ‚ç‚¹çš„æ›´æ–°ï¼Œè¿™æ ·ä¹Ÿä¼šé€’å½’æŸ¥æ‰¾å·®å¼‚å¯¹è±¡ï¼Œè¿™é‡Œè¿˜ä¼šä½¿ç”¨lastIndexè¿™ç§åšä¸€ç§ä¼˜åŒ–ï¼Œä½¿ä¸€äº›èŠ‚ç‚¹ä¿ç•™ä½ç½®ï¼Œä¹‹åæ ¹æ®å·®å¼‚å¯¹è±¡æ“ä½œdomå…ƒç´ ï¼ˆä½ç½®å˜åŠ¨ï¼Œåˆ é™¤ï¼Œæ·»åŠ ç­‰ï¼‰ã€‚<br>æ•´ä¸ªreactjsçš„å·®å¼‚ç®—æ³•å°±æ˜¯è¿™ä¸ªæ ·å­ã€‚</p><p>æœ€æ ¸å¿ƒçš„ä¸¤ä¸ª_shouldUpdateReactComponentä»¥åŠdiff,patchç®—æ³•ã€‚</p><p>//_diffç”¨æ¥é€’å½’æ‰¾å‡ºå·®åˆ«,ç»„è£…å·®å¼‚å¯¹è±¡,æ·»åŠ åˆ°æ›´æ–°é˜Ÿåˆ—diffQueueã€‚</p><p>_patchä¸»è¦å°±æ˜¯æŒ¨ä¸ªéå†å·®å¼‚é˜Ÿåˆ—ï¼Œéå†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡åˆ é™¤æ‰æ‰€æœ‰éœ€è¦å˜åŠ¨çš„èŠ‚ç‚¹ï¼Œç„¶åç¬¬äºŒæ¬¡æ’å…¥æ–°çš„èŠ‚ç‚¹è¿˜æœ‰ä¿®æ”¹çš„èŠ‚ç‚¹ã€‚è¿™é‡Œä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥æŒ¨ä¸ªçš„æ’å…¥å‘¢ï¼ŸåŸå› å°±æ˜¯æˆ‘ä»¬åœ¨diffé˜¶æ®µæ·»åŠ å·®å¼‚èŠ‚ç‚¹åˆ°å·®å¼‚é˜Ÿåˆ—æ—¶ï¼Œæœ¬èº«å°±æ˜¯æœ‰åºçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºæ–°å¢èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬moveå’Œinsertçš„ï¼‰åœ¨é˜Ÿåˆ—é‡Œçš„é¡ºåºå°±æ˜¯æœ€ç»ˆdomçš„é¡ºåºï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰å¯ä»¥æŒ¨ä¸ªçš„ç›´æ¥æ ¹æ®indexå»å¡å…¥èŠ‚ç‚¹ã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/20346379?refer=purerender">é“¾æ¥</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">æ€»ç»“</span><br><span class="line"></span><br><span class="line">React é€šè¿‡åˆ¶å®šå¤§èƒ†çš„ diff ç­–ç•¥ï¼Œå°† O(n3)</span><br><span class="line">å¤æ‚åº¦çš„é—®é¢˜è½¬æ¢æˆ O(n) å¤æ‚åº¦çš„é—®é¢˜ï¼›</span><br><span class="line"></span><br><span class="line">React é€šè¿‡åˆ†å±‚æ±‚å¼‚çš„ç­–ç•¥ï¼Œå¯¹ tree diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</span><br><span class="line"></span><br><span class="line">React é€šè¿‡ç›¸åŒç±»ç”Ÿæˆç›¸ä¼¼æ ‘å½¢ç»“æ„ï¼Œ</span><br><span class="line">ä¸åŒç±»ç”Ÿæˆä¸åŒæ ‘å½¢ç»“æ„çš„ç­–ç•¥ï¼Œ</span><br><span class="line">å¯¹ component diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">React é€šè¿‡è®¾ç½®å”¯ä¸€ keyçš„ç­–ç•¥ï¼Œ</span><br><span class="line">å¯¹ element diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</span><br><span class="line"></span><br><span class="line">å»ºè®®ï¼Œåœ¨å¼€å‘ç»„ä»¶æ—¶ï¼Œä¿æŒç¨³å®šçš„ DOM</span><br><span class="line">ç»“æ„ä¼šæœ‰åŠ©äºæ€§èƒ½çš„æå‡ï¼›</span><br><span class="line"></span><br><span class="line">å»ºè®®ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå°½é‡å‡å°‘ç±»ä¼¼å°†æœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»</span><br><span class="line">åŠ¨åˆ°åˆ—è¡¨é¦–éƒ¨çš„æ“ä½œï¼Œå½“èŠ‚ç‚¹æ•°é‡è¿‡å¤§æˆ–æ›´æ–°æ“ä½œ</span><br><span class="line">è¿‡äºé¢‘ç¹æ—¶ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šä¼šå½±å“ React çš„æ¸²æŸ“æ€§èƒ½ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tree diff</span><br><span class="line"></span><br><span class="line">React å¯¹æ ‘çš„ç®—æ³•è¿›è¡Œäº†ç®€æ´æ˜äº†çš„ä¼˜åŒ–ï¼Œ</span><br><span class="line">å³å¯¹æ ‘è¿›è¡Œåˆ†å±‚æ¯”è¾ƒï¼Œä¸¤æ£µæ ‘åªä¼šå¯¹åŒä¸€å±‚æ¬¡çš„</span><br><span class="line">èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚</span><br><span class="line"></span><br><span class="line">component diff</span><br><span class="line"></span><br><span class="line">å¦‚æœæ˜¯åŒä¸€ç±»å‹çš„ç»„ä»¶ï¼ŒæŒ‰ç…§åŸç­–ç•¥ç»§ç»­æ¯”è¾ƒ virtual DOM treeã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœä¸æ˜¯ï¼Œåˆ™å°†è¯¥ç»„ä»¶åˆ¤æ–­ä¸º dirty componentï¼Œ</span><br><span class="line">ä»è€Œæ›¿æ¢æ•´ä¸ªç»„ä»¶ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚</span><br><span class="line"></span><br><span class="line">å¯¹äºåŒä¸€ç±»å‹çš„ç»„ä»¶ï¼Œæœ‰å¯èƒ½å…¶ Virtual DOM</span><br><span class="line">æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œå¦‚æœèƒ½å¤Ÿç¡®åˆ‡çš„çŸ¥é“è¿™ç‚¹é‚£å¯ä»¥</span><br><span class="line">èŠ‚çœå¤§é‡çš„ diff è¿ç®—æ—¶é—´ï¼Œå› æ­¤ React å…è®¸ç”¨æˆ·é€šè¿‡</span><br><span class="line">shouldComponentUpdate() æ¥åˆ¤æ–­è¯¥ç»„ä»¶æ˜¯å¦éœ€è¦è¿›è¡Œ diffã€‚</span><br><span class="line"></span><br><span class="line">element diff</span><br><span class="line"></span><br><span class="line">å½“èŠ‚ç‚¹å¤„äºåŒä¸€å±‚çº§æ—¶ï¼ŒReact diff æä¾›äº†ä¸‰ç§èŠ‚ç‚¹æ“ä½œï¼Œåˆ†åˆ«ä¸ºï¼šINSERT_MARKUPï¼ˆæ’å…¥ï¼‰ã€MOVE_EXISTINGï¼ˆç§»åŠ¨ï¼‰å’Œ REMOVE_NODEï¼ˆåˆ é™¤ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">INSERT_MARKUPï¼Œæ–°çš„ component ç±»å‹ä¸åœ¨è€é›†åˆé‡Œï¼Œ å³æ˜¯å…¨æ–°çš„èŠ‚ç‚¹ï¼Œéœ€è¦å¯¹æ–°èŠ‚ç‚¹æ‰§è¡Œæ’å…¥æ“ä½œã€‚</span><br><span class="line"></span><br><span class="line">MOVE_EXISTINGï¼Œåœ¨è€é›†åˆæœ‰æ–° component ç±»å‹ï¼Œä¸” element æ˜¯å¯æ›´æ–°çš„ç±»å‹ï¼ŒgenerateComponentChildren å·²è°ƒç”¨ receiveComponentï¼Œè¿™ç§æƒ…å†µä¸‹ prevChild&#x3D;nextChildï¼Œå°±éœ€è¦åšç§»åŠ¨æ“ä½œï¼Œå¯ä»¥å¤ç”¨ä»¥å‰çš„ DOM èŠ‚ç‚¹ã€‚</span><br><span class="line"></span><br><span class="line">REMOVE_NODEï¼Œè€ component ç±»å‹ï¼Œåœ¨æ–°é›†åˆé‡Œä¹Ÿæœ‰ï¼Œä½†å¯¹åº”çš„ element ä¸åŒåˆ™ä¸èƒ½ç›´æ¥å¤ç”¨å’Œæ›´æ–°ï¼Œéœ€è¦æ‰§è¡Œåˆ é™¤æ“ä½œï¼Œæˆ–è€…è€ component ä¸åœ¨æ–°é›†åˆé‡Œçš„ï¼Œä¹Ÿéœ€è¦æ‰§è¡Œåˆ é™¤æ“ä½œã€‚</span><br><span class="line"></span><br><span class="line">React å‘ç°è¿™ç±»æ“ä½œç¹çå†—ä½™ï¼Œå› ä¸ºè¿™äº›éƒ½æ˜¯ç›¸åŒçš„èŠ‚ç‚¹ï¼Œä½†ç”±äºä½ç½®å‘ç”Ÿå˜åŒ–ï¼Œå¯¼è‡´éœ€è¦è¿›è¡Œç¹æ‚ä½æ•ˆçš„åˆ é™¤ã€åˆ›å»ºæ“ä½œï¼Œå…¶å®åªè¦å¯¹è¿™äº›èŠ‚ç‚¹è¿›è¡Œä½ç½®ç§»åŠ¨å³å¯ã€‚</span><br><span class="line"></span><br><span class="line">é’ˆå¯¹è¿™ä¸€ç°è±¡ï¼ŒReact æå‡ºä¼˜åŒ–ç­–ç•¥ï¼šå…è®¸å¼€å‘è€…å¯¹åŒä¸€å±‚çº§çš„åŒç»„å­èŠ‚ç‚¹ï¼Œæ·»åŠ å”¯ä¸€ key è¿›è¡ŒåŒºåˆ†ï¼Œè™½ç„¶åªæ˜¯å°å°çš„æ”¹åŠ¨ï¼Œæ€§èƒ½ä¸Šå´å‘ç”Ÿäº†ç¿»å¤©è¦†åœ°çš„å˜åŒ–ï¼</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="è®¾è®¡ç»„ä»¶"><a href="#è®¾è®¡ç»„ä»¶" class="headerlink" title="è®¾è®¡ç»„ä»¶"></a>è®¾è®¡ç»„ä»¶</h1><p>ç»„ä»¶å°½é‡åªåšæ¸²æŸ“ï¼Œé€»è¾‘å¤„ç†æ”¾åˆ°reducerä¸­</p><h1 id="redux-ä¸­çš„action"><a href="#redux-ä¸­çš„action" class="headerlink" title="redux ä¸­çš„action"></a>redux ä¸­çš„action</h1><p>Action Creator çš„å”¯ä¸€åŠŸèƒ½å°±æ˜¯è¿”å›ä¸€ä¸ªActionä¾› dispatch è¿›è¡Œè°ƒç”¨ã€‚</p><p>åœ¨Fluxçš„æ¶æ„ä¸­ï¼Œä¸€ä¸ªActionè¦ç¬¦åˆ FSA(Flux Standard Action) è§„èŒƒï¼Œéœ€è¦æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p><p>æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬å¯¹è±¡</p><p>åªå…·å¤‡ type ã€payloadã€error å’Œ meta ä¸­çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªå±æ€§ã€‚</p><p>type å­—æ®µä¸å¯ç¼ºçœï¼Œå…¶å®ƒå­—æ®µå¯ç¼ºçœ</p><p>è‹¥ Action æŠ¥é”™ï¼Œerror å­—æ®µä¸å¯ç¼ºçœï¼Œåˆ‡å¿…é¡»ä¸º true</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">åœ¨ redux å…¨å®¶æ¡¶ä¸­ï¼Œå¯ä»¥åˆ©ç”¨ redux-actions æ¥åˆ›å»ºç¬¦åˆ FSA è§„èŒƒçš„Actionï¼š</span><br><span class="line"></span><br><span class="line">import &#123;creatAction&#125; from &#39;redux-actions&#39;;</span><br><span class="line"></span><br><span class="line">let addTodo &#x3D; creatAction(ADD_TODO)</span><br><span class="line">&#x2F;&#x2F;same as</span><br><span class="line">let addTodo &#x3D; creatAction(ADD_TODO,data&#x3D;&gt;data)</span><br><span class="line"></span><br><span class="line">Redux æœ¬èº«ä¸å¤„ç†å¼‚æ­¥è¡Œä¸ºï¼Œéœ€è¦ä¾èµ–ä¸­é—´ä»¶ã€‚ç»“åˆ redux-actions ä½¿ç”¨ï¼ŒRedux æœ‰ä¸¤ä¸ªæ¨èçš„å¼‚æ­¥ä¸­é—´ä»¶ï¼š</span><br><span class="line"></span><br><span class="line">redux-thunk</span><br><span class="line">redux-promise</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç”¨connectå°†ç»„ä»¶ç»‘å®šåˆ°redux</span><br><span class="line">export const ButtonContainer &#x3D; connect(</span><br><span class="line">  mapStateToProps,</span><br><span class="line">  mapDispatchToProps</span><br><span class="line">)(Buttons);</span><br><span class="line"></span><br><span class="line">å®¹å™¨ç»„ä»¶å®ç° mapStateToProps()ï¼ˆç”¨äºå°†çŠ¶æ€æ˜ å°„åˆ°æ•°æ®ï¼‰</span><br><span class="line">å’Œ mapDispatchToProps()ï¼ˆç”¨äºå°†çŠ¶æ€æ˜ å°„åˆ°è¡Œä¸ºï¼‰</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">åŒæ­¥æ“ä½œåªè¦å‘å‡ºä¸€ç§ Action å³å¯ï¼Œå¼‚æ­¥æ“ä½œçš„å·®åˆ«æ˜¯å®ƒè¦å‘å‡ºä¸‰ç§ Actionã€‚</span><br><span class="line"></span><br><span class="line">æ“ä½œå‘èµ·æ—¶çš„ Action</span><br><span class="line">æ“ä½œæˆåŠŸæ—¶çš„ Action</span><br><span class="line">æ“ä½œå¤±è´¥æ—¶çš„ Action</span><br><span class="line"></span><br><span class="line">æ“ä½œå¼€å§‹æ—¶ï¼Œé€å‡ºä¸€ä¸ª Actionï¼Œè§¦å‘ State æ›´æ–°ä¸º&quot;æ­£åœ¨æ“ä½œ&quot;çŠ¶æ€ï¼ŒView é‡æ–°æ¸²æŸ“</span><br><span class="line"></span><br><span class="line">ç”¨æˆ·è§¦å‘ç¬¬ä¸€ä¸ª Actionï¼Œè¿™ä¸ªè·ŸåŒæ­¥æ“ä½œä¸€æ ·ï¼Œæ²¡æœ‰é—®é¢˜ï¼›</span><br><span class="line">å¦‚ä½•æ‰èƒ½åœ¨æ“ä½œç»“æŸæ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨é€å‡ºç¬¬äºŒä¸ª Action å‘¢ï¼Ÿ</span><br><span class="line"></span><br><span class="line">Action æ˜¯ç”±store.dispatchæ–¹æ³•å‘é€çš„ã€‚</span><br><span class="line">è€Œstore.dispatchæ–¹æ³•æ­£å¸¸æƒ…å†µä¸‹ï¼Œå‚æ•°åªèƒ½æ˜¯å¯¹è±¡ï¼Œ</span><br><span class="line">ä¸èƒ½æ˜¯å‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line">è¿™æ—¶ï¼Œå°±è¦ä½¿ç”¨ä¸­é—´ä»¶redux-thunkã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const fetchPosts &#x3D; postTitle &#x3D;&gt; (dispatch, getState) &#x3D;&gt; &#123;</span><br><span class="line">  dispatch(requestPosts(postTitle));</span><br><span class="line">  return fetch(&#96;&#x2F;some&#x2F;API&#x2F;$&#123;postTitle&#125;.json&#96;)</span><br><span class="line">    .then(response &#x3D;&gt; response.json())</span><br><span class="line">    .then(json &#x3D;&gt; dispatch(receivePosts(postTitle, json)));</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨æ–¹æ³•ä¸€</span><br><span class="line">store.dispatch(fetchPosts(&#39;reactjs&#39;));</span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨æ–¹æ³•äºŒ</span><br><span class="line">store.dispatch(fetchPosts(&#39;reactjs&#39;)).then(() &#x3D;&gt;</span><br><span class="line">  console.log(store.getState())</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">çœ‹è¿™é‡Œï¼Œè¿”å›çš„æ˜¯Promiseï¼Œ</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>==ç”¨redux-thunkä¸­é—´ä»¶ï¼Œæ”¹é€ store.dispatchï¼Œä½¿å¾—åè€…å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°ã€‚==</p><p>store.dispatchæ–¹æ³•å¯ä»¥æ¥å— Promise å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚è¿™æ—¶ï¼ŒAction Creator æœ‰ä¸¤ç§å†™æ³•ã€‚å†™æ³•ä¸€ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚</p><p>Action å¯¹è±¡çš„payloadå±æ€§æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚è¿™éœ€è¦ä»redux-actionsæ¨¡å—å¼•å…¥createActionæ–¹æ³•ï¼Œ</p><p>Reduxçš„å•å‘æ•°æ®æµæ˜¯åŒæ­¥æ“ä½œï¼Œé©±åŠ¨Reduxæµç¨‹çš„æ˜¯actionå¯¹è±¡ï¼Œæ¯ä¸€ä¸ªactionå¯¹è±¡è¢«æ´¾å‘åˆ°Storeä¸Šä¹‹åï¼ŒåŒæ­¥åœ°è¢«åˆ†é…ç»™æ‰€æœ‰çš„reducerå‡½æ•°ï¼Œæ¯ä¸ªreduceréƒ½æ˜¯çº¯å‡½æ•°ï¼Œçº¯å‡½æ•°ä¸äº§ç”Ÿä»»ä½•å‰¯ä½œç”¨ï¼Œè‡ªç„¶æ˜¯å®Œæˆæ•°æ®æ“ä½œä¹‹åç«‹åˆ»åŒæ­¥è¿”å›ï¼Œreducerè¿”å›çš„ç»“æœåˆè¢«åŒæ­¥åœ°æ‹¿å»æ›´æ–°Storeä¸Šçš„çŠ¶æ€æ•°æ®ï¼Œæ›´æ–°çŠ¶æ€æ•°æ®çš„æ“ä½œä¼šç«‹åˆ»è¢«åŒæ­¥ç»™ç›‘å¬StoreçŠ¶æ€æ”¹å˜çš„å‡½æ•°ï¼Œä»è€Œå¼•å‘ä½œä¸ºè§†å›¾çš„Reactç»„ä»¶æ›´æ–°è¿‡ç¨‹ã€‚</p><p>è¿™ä¸ªè¿‡ç¨‹ä»å¤´åˆ°å°¾ï¼ŒReduxé©¬ä¸åœè¹„åœ°ä¸€è·¯åŒæ­¥æ‰§è¡Œï¼Œæ ¹æœ¬æ²¡æœ‰æ‰§è¡Œå¼‚æ­¥æ“ä½œçš„æœºä¼šï¼Œé‚£åº”è¯¥åœ¨å“ªé‡Œæ’å…¥è®¿é—®æœåŠ¡å™¨çš„å¼‚æ­¥æ“ä½œå‘¢ï¼Ÿ</p><p>Reduxåˆ›ç«‹ä¹‹åˆå°±æ„è¯†åˆ°äº†è¿™ç§é—®é¢˜ï¼Œæ‰€ä»¥æä¾›äº†thunkè¿™ç§è§£å†³æ–¹æ³•ï¼Œä½†æ˜¯thunkå¹¶æ²¡æœ‰ä½œä¸ºReduxçš„ä¸€éƒ¨åˆ†ä¸€èµ·å‘å¸ƒï¼Œè€Œæ˜¯å­˜åœ¨ä¸€ä¸ªç‹¬ç«‹çš„redux-thunkå‘å¸ƒåŒ…ä¸­ï¼Œ</p><p>redux-thunkåªæ˜¯Reduxä¸­å¼‚æ­¥æ“ä½œçš„è§£å†³æ–¹æ³•ä¹‹ä¸€</p><p>åœ¨Reduxæ¶æ„ä¸‹ï¼Œä¸€ä¸ªactionå¯¹è±¡åœ¨é€šè¿‡store.dispatchæ´¾å‘ï¼Œåœ¨è°ƒç”¨reducerå‡½æ•°ä¹‹å‰ï¼Œä¼šå…ˆç»è¿‡ä¸€ä¸ªä¸­é—´ä»¶çš„ç¯èŠ‚ï¼Œè¿™å°±æ˜¯äº§ç”Ÿå¼‚æ­¥æ“ä½œçš„æœºä¼šï¼Œå®é™…ä¸Šredux-thunkæä¾›çš„å°±æ˜¯ä¸€ä¸ªReduxä¸­é—´ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åˆ›å»ºStoreæ—¶ç”¨ä¸Šè¿™ä¸ªä¸­é—´ä»¶ã€‚</p><h1 id="å¼‚æ­¥actionå¯¹è±¡"><a href="#å¼‚æ­¥actionå¯¹è±¡" class="headerlink" title="å¼‚æ­¥actionå¯¹è±¡"></a>å¼‚æ­¥actionå¯¹è±¡</h1><h2 id="éå¸¸å¥½çš„è®²è§£"><a href="#éå¸¸å¥½çš„è®²è§£" class="headerlink" title="éå¸¸å¥½çš„è®²è§£"></a><a href="http://geek.csdn.net/news/detail/202352">éå¸¸å¥½çš„è®²è§£</a></h2><p>å½“æˆ‘ä»¬æƒ³è¦è®©Reduxå¸®å¿™å¤„ç†ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æ—¶å€™ï¼Œä»£ç ä¸€æ ·ä¹Ÿè¦æ´¾å‘ä¸€ä¸ªactionå¯¹è±¡ï¼Œæ¯•ç«ŸReduxå•å‘æ•°æ®æµå°±æ˜¯ç”±actionå¯¹è±¡é©±åŠ¨çš„ã€‚ä½†æ˜¯è¿™ä¸ªå¼•å‘å¼‚æ­¥æ“ä½œçš„actionå¯¹è±¡æ¯”è¾ƒç‰¹æ®Šï¼Œæˆ‘ä»¬å«å®ƒä»¬â€œå¼‚æ­¥actionå¯¹è±¡â€ã€‚</p><p>å‰é¢ä¾‹å­ä¸­çš„actionæ„é€ å‡½æ•°è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«è‹¥å¹²å­—æ®µï¼Œå…¶ä¸­å¿…ä¸å¯å°‘çš„å­—æ®µæ˜¯typeï¼Œä½†æ˜¯â€œå¼‚æ­¥actionå¯¹è±¡â€ä¸æ˜¯ä¸€ä¸ªæ™®é€šJavaScriptå¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p><p>å¦‚æœæ²¡æœ‰redux-thunkä¸­é—´ä»¶çš„å­˜åœ¨ï¼Œè¿™æ ·ä¸€ä¸ªå‡½æ•°ç±»å‹çš„actionå¯¹è±¡è¢«æ´¾å‘å‡ºæ¥ä¼šä¸€è·¯å‘é€åˆ°å„ä¸ªreducerå‡½æ•°ï¼Œreducerå‡½æ•°ä»è¿™äº›å®é™…ä¸Šæ˜¯å‡½æ•°çš„actionå¯¹è±¡ä¸Šæ˜¯æ— æ³•è·å¾—typeå­—æ®µçš„ï¼Œæ‰€ä»¥ä¹Ÿåšä¸äº†ä»€ä¹ˆå®è´¨çš„å¤„ç†ã€‚</p><p>ä¸è¿‡ï¼Œæœ‰äº†redux-thunkä¸­é—´ä»¶ä¹‹åï¼Œè¿™äº›actionå¯¹è±¡æ ¹æœ¬æ²¡æœ‰æœºä¼šè§¦åŠåˆ°reducerå‡½æ•°ï¼Œåœ¨ä¸­é—´ä»¶ä¸€å±‚å°±è¢«redux-thunkæˆªè·ã€‚</p><p>redux-thunkçš„å·¥ä½œæ˜¯æ£€æŸ¥actionå¯¹è±¡æ˜¯ä¸æ˜¯å‡½æ•°ï¼Œå¦‚æœä¸æ˜¯å‡½æ•°å°±æ”¾è¡Œï¼Œå®Œæˆæ™®é€šactionå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œè€Œå¦‚æœå‘ç°actionå¯¹è±¡æ˜¯å‡½æ•°ï¼Œé‚£å°±æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå¹¶æŠŠStoreçš„dispatchå‡½æ•°å’ŒgetStateå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­å»ï¼Œå¤„ç†è¿‡ç¨‹åˆ°æ­¤ä¸ºæ­¢ï¼Œä¸ä¼šè®©è¿™ä¸ªå¼‚æ­¥actionå¯¹è±¡ç»§ç»­å¾€å‰æ´¾å‘åˆ°reducerå‡½æ•°ã€‚</p><p>ä¸¾ä¸€ä¸ªå¹¶ä¸æ¶‰åŠç½‘ç»œAPIè®¿é—®çš„å¼‚æ­¥æ“ä½œä¾‹å­ï¼Œåœ¨Counterç»„ä»¶ä¸­å­˜åœ¨ä¸€ä¸ªæ™®é€šçš„åŒæ­¥å¢åŠ è®¡æ•°çš„actionæ„é€ å‡½æ•°incrementï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const increment &#x3D; () &#x3D;&gt; (&#123;</span><br><span class="line">  type: ActionTypes.INCREMENT,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æ´¾å‘incrementæ‰§è¡Œè¿”å›çš„actionå¯¹è±¡ï¼ŒReduxä¼šåŒæ­¥æ›´æ–°StoreçŠ¶æ€å’Œè§†å›¾ï¼Œä½†æ˜¯æˆ‘ä»¬ç°åœ¨æƒ³è¦åˆ›é€ ä¸€ä¸ªåŠŸèƒ½ï¼Œèƒ½å¤Ÿå‘å‡ºä¸€ä¸ªâ€œè®©Counterç»„ä»¶åœ¨1ç§’ä¹‹åè®¡æ•°åŠ ä¸€â€çš„æŒ‡ä»¤ï¼Œè¿™å°±éœ€è¦å®šä¹‰ä¸€ä¸ªæ–°çš„å¼‚æ­¥actionæ„é€ å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">const incrementAsync &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  return (dispatch) &#x3D;&gt; &#123;</span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">      dispatch(increment());</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">&#96;&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">å¼‚æ­¥actionæ„é€ å‡½æ•°incrementAsyncè¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™æ ·ä¸€ä¸ªå‡½æ•°è¢«dispatchå‡½æ•°æ´¾å‘ä¹‹åï¼Œä¼šè¢«redux-thunkä¸­é—´ä»¶æ‰§è¡Œï¼Œäºæ˜¯setTimeoutå‡½æ•°å°±ä¼šå‘ç”Ÿä½œç”¨ï¼Œåœ¨1ç§’ä¹‹ååˆ©ç”¨å‚æ•°dispatchå‡½æ•°æ´¾å‘å‡ºåŒæ­¥actionæ„é€ å‡½æ•°incrementçš„ç»“æœã€‚</span><br><span class="line"></span><br><span class="line">è¿™å°±æ˜¯å¼‚æ­¥actionçš„å·¥ä½œæœºç†ï¼Œè¿™ä¸ªä¾‹å­è™½ç„¶ç®€å•ï¼Œä½†æ˜¯å¯ä»¥çœ‹å¾—å‡ºæ¥ï¼Œå¼‚æ­¥actionæœ€ç»ˆè¿˜æ˜¯è¦äº§ç”ŸåŒæ­¥actionæ´¾å‘æ‰èƒ½å¯¹Reduxç³»ç»Ÿäº§ç”Ÿå½±å“ã€‚</span><br><span class="line"></span><br><span class="line">redux-thunkè¦åšçš„å·¥ä½œä¹Ÿå°±ä¸è¿‡å¦‚æ­¤ï¼Œä½†å› ä¸ºå¼•å…¥äº†ä¸€æ¬¡å‡½æ•°æ‰§è¡Œï¼Œè€Œä¸”è¿™ä¸ªå‡½æ•°è¿˜èƒ½å¤Ÿè®¿é—®åˆ°dispatchå’ŒgetStateï¼Œå°±ç»™å¼‚æ­¥æ“ä½œå¸¦æ¥äº†å¯èƒ½ã€‚</span><br><span class="line"></span><br><span class="line">actionå¯¹è±¡å‡½æ•°ä¸­å®Œå…¨å¯ä»¥é€šè¿‡fetchå‘èµ·ä¸€ä¸ªå¯¹æœåŠ¡å™¨çš„å¼‚æ­¥è¯·æ±‚ï¼Œå½“å¾—åˆ°æœåŠ¡å™¨ç»“æœä¹‹åï¼Œé€šè¿‡å‚æ•°dispatchï¼ŒæŠŠæˆåŠŸæˆ–è€…å¤±è´¥çš„ç»“æœå½“åšactionå¯¹è±¡å†æ´¾å‘å‡ºå»ã€‚è¿™ä¸€æ¬¡æ´¾å‘çš„æ˜¯æ™®é€šçš„actionå¯¹è±¡ï¼Œå°±ä¸ä¼šè¢«redux-thunkæˆªè·ï¼Œè€Œæ˜¯ç›´æ¥è¢«æ´¾å‘åˆ°reducerï¼Œæœ€ç»ˆé©±åŠ¨Storeä¸ŠçŠ¶æ€çš„æ”¹å˜ã€‚</span><br><span class="line"></span><br><span class="line">é€šå¸¸æˆ‘ä»¬åœ¨ç»„ä»¶çš„componentDidMountå‡½æ•°ä¸­åšè¯·æ±‚æœåŠ¡å™¨çš„äº‹æƒ…ï¼Œå› ä¸ºå½“ç”Ÿå‘½å‘¨æœŸå‡½æ•°componentDidMountè¢«è°ƒç”¨çš„æ—¶å€™ï¼Œè¡¨æ˜è£…è½½è¿‡ç¨‹å·²ç»å®Œæˆï¼Œç»„ä»¶éœ€è¦æ¸²æŸ“çš„å†…å®¹å·²ç»åœ¨DOMæ ‘ä¸Šå‡ºç°ï¼Œå¯¹æœåŠ¡å™¨çš„è¯·æ±‚å¯èƒ½ä¾èµ–äºå·²ç»æ¸²æŸ“çš„å†…å®¹ï¼Œåœ¨componentDidMountå‡½æ•°ä¸­å‘é€å¯¹æœåŠ¡å™¨è¯·æ±‚æ˜¯ä¸€ä¸ªåˆé€‚çš„æ—¶æœºã€‚</span><br><span class="line"></span><br><span class="line">fetchå‡½æ•°æ‰§è¡Œä¼šç«‹åˆ»è¿”å›ï¼Œè¿”å›ä¸€ä¸ªPromiseç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥åé¢ä¼šè·Ÿä¸Šä¸€å¤§ä¸²thenå’Œcatchçš„è¯­å¥ã€‚æ¯ä¸ªPromiseæˆåŠŸçš„æ—¶å€™ï¼Œå¯¹åº”çš„thenä¸­çš„å›è°ƒå‡½æ•°ä¼šè¢«è°ƒç”¨ï¼›å¦‚æœå¤±è´¥ï¼Œå¯¹åº”catchä¸­çš„å›è°ƒå‡½æ•°ä¹Ÿè¢«è°ƒç”¨ã€‚</span><br><span class="line"></span><br><span class="line"># vueå£°æ˜ç»„ä»¶</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸€ã€å…¨å±€æ³¨å†Œ<br>// æ³¨å†Œ<br>Vue.component(â€˜my-componentâ€™, {<br>  template: â€˜<div>A custom component!</div>â€˜<br>})</p><p>æ“ä½œç»“æŸåï¼Œå†é€å‡ºä¸€ä¸ª Actionï¼Œè§¦å‘ State æ›´æ–°ä¸ºâ€æ“ä½œç»“æŸâ€çŠ¶æ€ï¼ŒView å†ä¸€æ¬¡é‡æ–°æ¸²æŸ“</p><p>ç”¨æˆ·è§¦å‘ç¬¬ä¸€ä¸ª Actionï¼Œè¿™ä¸ªè·ŸåŒæ­¥æ“ä½œä¸€æ ·ï¼Œæ²¡æœ‰é—®é¢˜ï¼›å¦‚ä½•æ‰èƒ½åœ¨æ“ä½œç»“æŸæ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨é€å‡ºç¬¬äºŒä¸ª Action å‘¢ï¼Ÿ</p><p>// åˆ›å»ºæ ¹å®ä¾‹<br>new Vue({<br>  el: â€˜#exampleâ€™<br>})</p><p>äºŒã€å±€éƒ¨æ³¨å†Œ<br>var Child = {<br>  template: â€˜<div>A custom component!</div>â€˜<br>}</p><p>new Vue({<br>  // â€¦<br>  components: {<br>    // <my-component> å°†åªåœ¨çˆ¶ç»„ä»¶æ¨¡æ¿ä¸­å¯ç”¨<br>    â€˜my-componentâ€™: Child<br>  }<br>})</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹</span><br><span class="line"></span><br><span class="line">Vue ä¸èƒ½æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤ã€‚ç”±äº Vue ä¼šåœ¨åˆå§‹åŒ–å®ä¾‹æ—¶å¯¹å±æ€§æ‰§è¡Œ getter&#x2F;setter è½¬åŒ–è¿‡ç¨‹ï¼Œæ‰€ä»¥å±æ€§å¿…é¡»åœ¨ data å¯¹è±¡ä¸Šå­˜åœ¨æ‰èƒ½è®© Vue è½¬æ¢å®ƒï¼Œè¿™æ ·æ‰èƒ½è®©å®ƒæ˜¯å“åº”çš„ã€‚</span><br><span class="line"></span><br><span class="line">Vue ä¸å…è®¸åœ¨å·²ç»åˆ›å»ºçš„å®ä¾‹ä¸ŠåŠ¨æ€æ·»åŠ æ–°çš„æ ¹çº§å“åº”å¼å±æ€§ (root-level reactive property)ã€‚ç„¶è€Œå®ƒå¯ä»¥ä½¿ç”¨ Vue.set(object, key, value) æ–¹æ³•å°†å“åº”å±æ€§æ·»åŠ åˆ°åµŒå¥—çš„å¯¹è±¡ä¸Šï¼š</span><br><span class="line"></span><br><span class="line">Vue.set(vm.someObject, &#39;b&#39;, 2)</span><br><span class="line"></span><br><span class="line">this.$set(this.someObject,&#39;b&#39;,2)</span><br><span class="line"></span><br><span class="line">æƒ³å‘å·²æœ‰å¯¹è±¡ä¸Šæ·»åŠ ä¸€äº›å±æ€§ï¼Œä¾‹å¦‚ä½¿ç”¨ Object.assign() æˆ– _.extend() æ–¹æ³•æ¥æ·»åŠ å±æ€§ã€‚ä½†æ˜¯ï¼Œæ·»åŠ åˆ°å¯¹è±¡ä¸Šçš„æ–°å±æ€§ä¸ä¼šè§¦å‘æ›´æ–°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè®©å®ƒåŒ…å«åŸå¯¹è±¡çš„å±æ€§å’Œæ–°çš„å±æ€§ï¼š</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä»£æ›¿ &#96;Object.assign(this.someObject, &#123; a: 1, b: 2 &#125;)&#96;</span><br><span class="line">this.someObject &#x3D; Object.assign(&#123;&#125;, this.someObject, &#123; a: 1, b: 2 &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># watch æ·±åº¦ç›‘å¬</span><br><span class="line"></span><br><span class="line">&#x3D;&#x3D;deepï¼š true&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯éœ€è¦è§‚å¯Ÿçš„è¡¨è¾¾å¼ï¼Œå€¼æ˜¯å¯¹åº”å›è°ƒå‡½æ•°ã€‚å€¼ä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•åï¼Œæˆ–è€…åŒ…å«é€‰é¡¹çš„å¯¹è±¡ã€‚Vue å®ä¾‹å°†ä¼šåœ¨å®ä¾‹åŒ–æ—¶è°ƒç”¨ $watch()ï¼Œéå† watch å¯¹è±¡çš„æ¯ä¸€ä¸ªå±æ€§ã€‚</span><br><span class="line"></span><br><span class="line">ä¸åº”è¯¥ä½¿ç”¨ç®­å¤´å‡½æ•°æ¥å®šä¹‰ watcher å‡½æ•° (ä¾‹å¦‚ searchQuery: newValue &#x3D;&gt; this.updateAutocomplete(newValue))ã€‚ç†ç”±æ˜¯ç®­å¤´å‡½æ•°ç»‘å®šäº†çˆ¶çº§ä½œç”¨åŸŸçš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥ this å°†ä¸ä¼šæŒ‰ç…§æœŸæœ›æŒ‡å‘ Vue å®ä¾‹ï¼Œthis.updateAutocomplete å°†æ˜¯ undefinedã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>watch: {<br>    a: function (val, oldVal) {<br>      console.log(â€˜new: %s, old: %sâ€™, val, oldVal)<br>    },<br>    // æ–¹æ³•å<br>    b: â€˜someMethodâ€™,<br>    // æ·±åº¦ watcher<br>    c: {<br>      handler: function (val, oldVal) { /* â€¦ <em>/ },<br>      deep: true<br>    },<br>    // è¯¥å›è°ƒå°†ä¼šåœ¨ä¾¦å¬å¼€å§‹ä¹‹åè¢«ç«‹å³è°ƒç”¨<br>    d: {<br>      handler: function (val, oldVal) { /</em> â€¦ <em>/ },<br>      immediate: true<br>    },<br>    e: [<br>      function handle1 (val, oldVal) { /</em> â€¦ <em>/ },<br>      function handle2 (val, oldVal) { /</em> â€¦ <em>/ }<br>    ],<br>    // watch vm.e.fâ€™s value: {g: 5}<br>    â€˜e.fâ€™: function (val, oldVal) { /</em> â€¦ */ }<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>this.$nextTick(function () {<br>    console.log(this.$el.textContent) // =&gt; â€˜æ›´æ–°å®Œæˆâ€™<br>  })</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># è®¡ç®—å±æ€§ computed</span><br><span class="line"></span><br><span class="line">å¯¹äºä»»ä½•å¤æ‚é€»è¾‘ï¼Œä½ éƒ½åº”å½“ä½¿ç”¨è®¡ç®—å±æ€§ã€‚</span><br><span class="line"></span><br><span class="line">å½“ vm.message å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ– vm.reversedMessage çš„ç»‘å®šä¹Ÿä¼šæ›´æ–°ã€‚è€Œä¸”æœ€å¦™çš„æ˜¯æˆ‘ä»¬å·²ç»ä»¥å£°æ˜çš„æ–¹å¼åˆ›å»ºäº†è¿™ç§ä¾èµ–å…³ç³»ï¼šè®¡ç®—å±æ€§çš„ getter å‡½æ•°æ˜¯æ²¡æœ‰å‰¯ä½œç”¨ (side effect) çš„ï¼Œè¿™ä½¿å®ƒæ›´æ˜“äºæµ‹è¯•å’Œç†è§£ã€‚</span><br><span class="line"></span><br><span class="line">&#x3D;&#x3D;æ–¹æ³•å’Œè®¡ç®—å±æ€§ï¼š&#x3D;&#x3D; ä¸¤ç§æ–¹å¼çš„æœ€ç»ˆç»“æœç¡®å®æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚</span><br><span class="line"></span><br><span class="line">ä¸åŒçš„æ˜¯è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„ã€‚</span><br><span class="line"></span><br><span class="line">è®¡ç®—å±æ€§åªæœ‰åœ¨å®ƒçš„ç›¸å…³ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚è¿™å°±æ„å‘³ç€åªè¦ message è¿˜æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå¤šæ¬¡è®¿é—® reversedMessage</span><br><span class="line">è®¡ç®—å±æ€§ä¼šç«‹å³è¿”å›ä¹‹å‰çš„è®¡ç®—ç»“æœï¼Œè€Œä¸å¿…å†æ¬¡æ‰§è¡Œå‡½æ•°ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>computed: {<br>    // è®¡ç®—å±æ€§çš„ getter<br>    reversedMessage: function () {<br>      // <code>this</code> æŒ‡å‘ vm å®ä¾‹<br>      return this.message.split(â€˜â€™).reverse().join(â€˜â€™)<br>    }<br>}</p><p>  console.log(vm.reversedMessage) // =&gt; â€˜olleHâ€™<br>vm.message = â€˜Goodbyeâ€™<br>console.log(vm.reversedMessage) // =&gt; â€˜eybdooGâ€™</p><p>// åœ¨ç»„ä»¶ä¸­<br>methods: {<br>  reversedMessage: function () {<br>    return this.message.split(â€˜â€™).reverse().join(â€˜â€™)<br>  }<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># è®¡ç®—å±æ€§çš„ setter</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>// â€¦<br>computed: {<br>  fullName: {<br>    // getter<br>    get: function () {<br>      return this.firstName + â€˜ â€˜ + this.lastName<br>    },<br>    // setter<br>    set: function (newValue) {<br>      var names = newValue.split(â€˜ â€˜)<br>      this.firstName = names[0]<br>      this.lastName = names[names.length - 1]<br>    }<br>  }<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># watch ä¾¦å¬å™¨</span><br><span class="line"></span><br><span class="line">è™½ç„¶è®¡ç®—å±æ€§åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ›´åˆé€‚ï¼Œä½†æœ‰æ—¶ä¹Ÿéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¾¦å¬å™¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Vue é€šè¿‡ watch é€‰é¡¹æä¾›äº†ä¸€ä¸ªæ›´é€šç”¨çš„æ–¹æ³•ï¼Œæ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚å½“éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œè¿™ä¸ªæ–¹å¼æ˜¯æœ€æœ‰ç”¨çš„ã€‚</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ watch é€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œ (è®¿é—®ä¸€ä¸ª API)ï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>watch: {<br>    // å¦‚æœ <code>question</code> å‘ç”Ÿæ”¹å˜ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¿è¡Œ<br>    question: function (newQuestion, oldQuestion) {<br>      this.answer = â€˜Waiting for you to stop typingâ€¦â€™<br>      this.getAnswer()<br>    }<br>},</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># gettersä½œç”¨</span><br><span class="line"></span><br><span class="line">Vuex å…è®¸æˆ‘ä»¬åœ¨ store ä¸­å®šä¹‰â€œgetterâ€ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§ï¼‰ã€‚å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚</span><br><span class="line"></span><br><span class="line">this.$store.getters.doneTodosCount</span><br><span class="line"></span><br><span class="line"># mapGetters è¾…åŠ©å‡½æ•°</span><br><span class="line"></span><br><span class="line">mapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ï¼š</span><br><span class="line"></span><br><span class="line"># æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>store.commit({<br>  type: â€˜incrementâ€™,<br>  amount: 10<br>})</p><p>store.commit(â€˜incrementâ€™, {<br>  amount: 10<br>})<br>å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ this.$store.commit(â€˜xxxâ€™) æäº¤ mutationï¼Œ<br>æˆ–è€…ä½¿ç”¨ mapMutations è¾…åŠ©å‡½æ•°å°†ç»„ä»¶ä¸­çš„ methods<br>æ˜ å°„ä¸º store.commit è°ƒç”¨ï¼ˆéœ€è¦åœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ storeï¼‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># åˆ†å‘ Action</span><br><span class="line"></span><br><span class="line">Action é€šè¿‡ store.dispatch æ–¹æ³•è§¦å‘ï¼š</span><br><span class="line"></span><br><span class="line">store.dispatch(&#39;increment&#39;)</span><br><span class="line"></span><br><span class="line"># vueç»„ä»¶ç±»å‹, æ€ä¹ˆå®šä¹‰ä¸€ä¸ªç»„ä»¶</span><br><span class="line"></span><br><span class="line"># vueåˆ‡æ¢è·¯ç”±</span><br><span class="line"></span><br><span class="line">å…¶ä»–æ–¹å¼ ä¸ç•™ç—•è¿¹</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;html</span><br><span class="line">ä¸€ã€router.push(location, onComplete?, onAbort?)</span><br><span class="line"></span><br><span class="line">&lt;router-link :to&#x3D;&quot;...&quot;&gt; router.push(...)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const userId &#x3D; 123</span><br><span class="line">router.push(&#123; name: &#39;user&#39;, params: &#123; userId &#125;&#125;) &#x2F;&#x2F; -&gt; &#x2F;user&#x2F;123</span><br><span class="line">router.push(&#123; path: &#96;&#x2F;user&#x2F;$&#123;userId&#125;&#96; &#125;) &#x2F;&#x2F; -&gt; &#x2F;user&#x2F;123</span><br><span class="line">&#x2F;&#x2F; å­—ç¬¦ä¸²</span><br><span class="line">router.push(&#39;home&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¯¹è±¡</span><br><span class="line">router.push(&#123; path: &#39;home&#39; &#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å‘½åçš„è·¯ç”±</span><br><span class="line">router.push(&#123; name: &#39;user&#39;, params: &#123; userId: 123 &#125;&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ &#x2F;register?plan&#x3D;private</span><br><span class="line">router.push(&#123; path: &#39;register&#39;, query: &#123; plan: &#39;private&#39; &#125;&#125;)</span><br><span class="line"></span><br><span class="line">äºŒã€ router.replace(location, onComplete?, onAbort?)</span><br><span class="line">è·Ÿ router.push å¾ˆåƒï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯ï¼Œå®ƒä¸ä¼šå‘ history</span><br><span class="line">æ·»åŠ æ–°è®°å½•ï¼Œè€Œæ˜¯è·Ÿå®ƒçš„æ–¹æ³•åä¸€æ · â€”â€” æ›¿æ¢æ‰å½“å‰çš„ history è®°å½•ã€‚</span><br><span class="line"></span><br><span class="line">ä¸‰ã€router.go(n)</span><br><span class="line">åœ¨ history è®°å½•ä¸­å‘å‰æˆ–è€…åé€€å¤šå°‘æ­¥ï¼Œ</span><br><span class="line">ç±»ä¼¼ window.history.go(n)ã€‚</span><br></pre></td></tr></table></figure><h1 id="vue-routerä¼ å‚æ–¹å¼"><a href="#vue-routerä¼ å‚æ–¹å¼" class="headerlink" title="vue-routerä¼ å‚æ–¹å¼"></a>vue-routerä¼ å‚æ–¹å¼</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">query å’Œparams</span><br><span class="line">Â &#123; <span class="attr">path</span>: <span class="string">&#x27;/news/:id&#x27;</span>, <span class="attr">component</span>: NewsDetail &#125;,</span><br><span class="line">Â Â Â Â Â Â &lt;span&gt;&#123;&#123;$route.params.id&#125;&#125;&lt;/span&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">åŒºåˆ«</span><br><span class="line"><span class="number">1</span>ã€ç”¨æ³•</span><br><span class="line">    queryè¦ç”¨pathæ¥å¼•å…¥ï¼Œparamsè¦ç”¨nameæ¥å¼•å…¥ï¼Œ</span><br><span class="line">    æ¥æ”¶å‚æ•°éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œ</span><br><span class="line">    åˆ†åˆ«æ˜¯<span class="built_in">this</span>.$route.query.nameå’Œ<span class="built_in">this</span>.$route.params.nameã€‚</span><br><span class="line"></span><br><span class="line">    æ¥æ”¶å‚æ•°æ—¶ï¼Œå·²ç»æ˜¯$routeè€Œä¸æ˜¯$routeräº†å“¦ï¼ï¼</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€å±•ç¤º</span><br><span class="line">ã€€ã€€queryæ›´åŠ ç±»ä¼¼äºæˆ‘ä»¬ajaxä¸­getä¼ å‚ï¼Œparamsåˆ™ç±»ä¼¼äºpostï¼Œ</span><br><span class="line">ã€€ã€€è¯´çš„å†ç®€å•ä¸€ç‚¹ï¼Œå‰è€…åœ¨æµè§ˆå™¨åœ°å€æ ä¸­æ˜¾ç¤ºå‚æ•°ï¼Œåè€…åˆ™ä¸æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">query:</span><br><span class="line">params:</span><br></pre></td></tr></table></figure><h1 id="å—æ§ç»„ä»¶-éå—æ§ç»„ä»¶"><a href="#å—æ§ç»„ä»¶-éå—æ§ç»„ä»¶" class="headerlink" title="å—æ§ç»„ä»¶ éå—æ§ç»„ä»¶"></a>å—æ§ç»„ä»¶ éå—æ§ç»„ä»¶</h1><h1 id="æ²¡æœ‰ä»»ä½•åµŒå¥—å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ å€¼"><a href="#æ²¡æœ‰ä»»ä½•åµŒå¥—å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ å€¼" class="headerlink" title="æ²¡æœ‰ä»»ä½•åµŒå¥—å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ å€¼"></a>æ²¡æœ‰ä»»ä½•åµŒå¥—å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ å€¼</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(1) Event Emitter&#x2F;Target&#x2F;Dispatcher</span><br><span class="line">&#x2F;&#x2F; to subscribe</span><br><span class="line">otherObject.addEventListener(â€˜clickâ€™, function() &#123; alert(â€˜click!â€™); &#125;);</span><br><span class="line">&#x2F;&#x2F; to dispatch</span><br><span class="line">this.dispatchEvent(â€˜clickâ€™);</span><br><span class="line"></span><br><span class="line">(2) Publish &#x2F; Subscribe</span><br><span class="line">&#x2F;&#x2F; to subscribe</span><br><span class="line">globalBroadcaster.subscribe(â€˜clickâ€™, function() &#123; alert(â€˜click!â€™); &#125;);</span><br><span class="line">&#x2F;&#x2F; to dispatch</span><br><span class="line">globalBroadcaster.publish(â€˜clickâ€™);</span><br><span class="line"></span><br><span class="line">(3) Signals</span><br><span class="line">&#x2F;&#x2F; to subscribe</span><br><span class="line">otherObject.clicked.add(function() &#123; alert(â€˜clickâ€™); &#125;);</span><br><span class="line">&#x2F;&#x2F; to dispatch</span><br><span class="line">this.clicked.dispatch();</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="this-setState-å‚æ•°"><a href="#this-setState-å‚æ•°" class="headerlink" title="this.setState()å‚æ•°"></a>this.setState()å‚æ•°</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">è¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œ</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºä¸Šä¸€ä¸ªçŠ¶æ€å€¼ï¼Œ</span><br><span class="line">ç¬¬äºŒå‚æ•°è¡¨ç¤ºå½“å‰çš„ propsï¼Œ</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°æ˜¯ state å¯¼è‡´çš„é¡µé¢å˜åŒ–å®Œæˆåçš„å›è°ƒï¼Œç­‰ä»·äºcomponentDidUpdateã€‚</span><br><span class="line"></span><br><span class="line">this.setState((prevState, props) &#x3D;&gt; (&#123;</span><br><span class="line">  counter: prevState.counter + props.increment</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line">setStateçš„å…³é”®ç‚¹:</span><br><span class="line"></span><br><span class="line">setStateä¸ä¼šç«‹åˆ»æ”¹å˜Reactç»„ä»¶ä¸­stateçš„å€¼ï¼›</span><br><span class="line">setStateé€šè¿‡å¼•å‘ä¸€æ¬¡ç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹æ¥å¼•å‘é‡æ–°ç»˜åˆ¶ï¼›</span><br><span class="line">å¤šæ¬¡setStateå‡½æ•°è°ƒç”¨äº§ç”Ÿçš„æ•ˆæœä¼šåˆå¹¶ã€‚</span><br><span class="line"></span><br><span class="line">å½“setStateè¢«è°ƒç”¨æ—¶ï¼Œèƒ½é©±åŠ¨ç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹ï¼Œå¼•å‘componentDidUpdateã€renderç­‰ä¸€ç³»åˆ—å‡½æ•°çš„è°ƒç”¨ã€‚</span><br></pre></td></tr></table></figure><h1 id="Reactçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Reactçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Reactçš„ç”Ÿå‘½å‘¨æœŸ"></a>Reactçš„ç”Ÿå‘½å‘¨æœŸ</h1><p>ä¸»è¦åˆ†ä¸ºä¸‰æ®µï¼Œmountï¼ˆæŒ‚è½½ï¼‰ã€updateï¼ˆæ›´æ–°ï¼‰ã€unmountï¼ˆå¸è½½ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">ä¸€ã€mountï¼Œå³æŒ‚è½½é˜¶æ®µï¼Œ</span><br><span class="line">    ç¬¬ä¸€æ¬¡è®©ç»„ä»¶å‡ºç°åœ¨é¡µé¢ä¸­çš„è¿‡ç¨‹ï¼ŒReactä¼šå°†renderçš„è¿”å›å€¼æ’å…¥åˆ°é¡µé¢ä¸­ï¼Œ</span><br><span class="line">    è¿™ä¸ªè¿‡ç¨‹ä¼šæš´éœ²ä»¥ä¸‹å‡ ä¸ªé’©å­ï¼ˆhookï¼‰ï¼š</span><br><span class="line"></span><br><span class="line">    constructor()       &#x2F;&#x2F; åˆå§‹åŒ–propså’Œstate</span><br><span class="line"></span><br><span class="line">    ã€€ã€€åˆå§‹åŒ–getDefaultProps()å’ŒgetInitialState()</span><br><span class="line"></span><br><span class="line">    ã€€ã€€getDefaultProps: æ‰§è¡Œè¿‡ä¸€æ¬¡åï¼Œè¢«åˆ›å»ºçš„ç±»ä¼šæœ‰ç¼“å­˜ï¼Œæ˜ å°„çš„å€¼ä¼šå­˜åœ¨this.props,å‰ææ˜¯è¿™ä¸ªpropä¸æ˜¯çˆ¶ç»„ä»¶æŒ‡å®šçš„</span><br><span class="line">è¿™ä¸ªæ–¹æ³•åœ¨å¯¹è±¡è¢«åˆ›å»ºä¹‹å‰æ‰§è¡Œï¼Œå› æ­¤ä¸èƒ½åœ¨æ–¹æ³•å†…è°ƒç”¨this.props ï¼Œå¦å¤–ï¼Œæ³¨æ„ä»»ä½•getDefaultProps()è¿”å›çš„å¯¹è±¡åœ¨å®ä¾‹ä¸­å…±äº«ï¼Œä¸æ˜¯å¤åˆ¶</span><br><span class="line"></span><br><span class="line">getInitialState : æ§ä»¶åŠ è½½ä¹‹å‰æ‰§è¡Œï¼Œè¿”å›å€¼ä¼šè¢«ç”¨äºstateçš„åˆå§‹åŒ–å€¼</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    ã€€ã€€åˆå§‹åŒ–</span><br><span class="line">    componentWillMount()    &#x2F;&#x2F; å°†è¦è¢«æ’å…¥</span><br><span class="line"></span><br><span class="line">    æ‰§è¡Œä¸€æ¬¡ï¼Œåœ¨åˆå§‹åŒ–renderä¹‹å‰æ‰§è¡Œï¼Œå¦‚æœåœ¨è¿™ä¸ªæ–¹æ³•å†…è°ƒç”¨setStateï¼Œrender()çŸ¥é“stateå‘ç”Ÿå˜åŒ–ï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡</span><br><span class="line"></span><br><span class="line">    render()    &#x2F;&#x2F; å°†returnçš„å†…å®¹æ’å…¥åˆ°é¡µé¢é‡Œ</span><br><span class="line">    componentDidMount()   &#x2F;&#x2F; æ’å…¥å®Œæˆåçš„åŠ¨ä½œ</span><br><span class="line">        åœ¨ç»„ä»¶è¢«è£…é…åç«‹å³è°ƒç”¨ã€‚</span><br><span class="line">        åˆå§‹åŒ–ä½¿å¾—DOMèŠ‚ç‚¹åº”è¯¥è¿›è¡Œåˆ°è¿™é‡Œã€‚</span><br><span class="line">        è‹¥ä½ éœ€è¦ä»è¿œç«¯åŠ è½½æ•°æ®ï¼Œ</span><br><span class="line">        è¿™æ˜¯ä¸€ä¸ªé€‚åˆå®ç°ç½‘ç»œè¯·æ±‚çš„åœ°æ–¹ã€‚</span><br><span class="line">        åœ¨è¯¥æ–¹æ³•é‡Œè®¾ç½®çŠ¶æ€å°†ä¼šè§¦å‘é‡æ¸²ã€‚</span><br><span class="line"></span><br><span class="line">äºŒã€updateï¼Œå³æ›´æ–°é˜¶æ®µï¼Œå¦‚æœæ•°æ®æœ‰ä»»ä½•å˜åŠ¨å°±ä¼šæ¥è¿™ä¸€é˜¶æ®µï¼Œè¿™ä¸ªè¿‡ç¨‹æœ‰5ä¸ªé’©å­ï¼š</span><br><span class="line"></span><br><span class="line">ã€€ã€€componentWillReceiveProps( nextprops )   &#x2F;&#x2F; æ¥å—éœ€è¦æ›´æ–°çš„props</span><br><span class="line">    ã€€ã€€åœ¨è£…é…äº†çš„ç»„ä»¶æ¥æ”¶åˆ°æ–°å±æ€§å‰è°ƒç”¨ã€‚</span><br><span class="line">    ã€€ã€€è‹¥ä½ éœ€è¦æ›´æ–°çŠ¶æ€å“åº”å±æ€§æ”¹å˜ï¼ˆä¾‹å¦‚ï¼Œé‡ç½®å®ƒï¼‰ï¼Œ</span><br><span class="line">    ã€€ã€€ä½ å¯èƒ½éœ€å¯¹æ¯”this.propså’ŒnextProps</span><br><span class="line">    ã€€ã€€å¹¶åœ¨è¯¥æ–¹æ³•ä¸­ä½¿ç”¨this.setState()å¤„ç†çŠ¶æ€æ”¹å˜ã€‚</span><br><span class="line"></span><br><span class="line">    æ³¨æ„å³ä½¿å±æ€§æœªæœ‰ä»»ä½•æ”¹å˜ï¼ŒReactå¯èƒ½ä¹Ÿä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå› æ­¤è‹¥ä½ æƒ³è¦å¤„ç†æ”¹å˜ï¼Œè¯·ç¡®ä¿æ¯”è¾ƒå½“å‰å’Œä¹‹åçš„å€¼ã€‚è¿™å¯èƒ½ä¼šå‘ç”Ÿåœ¨å½“çˆ¶ç»„ä»¶å¼•èµ·ä½ çš„ç»„ä»¶é‡æ¸²ã€‚</span><br><span class="line"></span><br><span class="line">ã€€ã€€shouldComponentUpdate( nextProps, nextState )   &#x2F;&#x2F; è¯·é—®è¦ä¸è¦æ›´æ–°ç»„ä»¶ true&#x2F;false</span><br><span class="line"></span><br><span class="line">        æ¥æ”¶åˆ°æ–°å±æ€§æˆ–çŠ¶æ€æ—¶ï¼Œ</span><br><span class="line">        shouldComponentUpdate() åœ¨æ¸²æŸ“å‰è¢«è°ƒç”¨ã€‚é»˜è®¤ä¸ºtrueã€‚</span><br><span class="line">        è¯¥æ–¹æ³•å¹¶ä¸ä¼šåœ¨åˆå§‹åŒ–æ¸²æŸ“æˆ–å½“ä½¿ç”¨forceUpdate()æ—¶è¢«è°ƒç”¨ã€‚</span><br><span class="line">        å½“ä»–ä»¬çŠ¶æ€æ”¹å˜æ—¶ï¼Œè¿”å›false å¹¶ä¸èƒ½é˜»æ­¢å­ç»„ä»¶é‡æ¸²ã€‚</span><br><span class="line">        è‹¥shouldComponentUpdate()è¿”å›falseï¼ŒcomponentWillUpdate()å°†ä¸ä¼šè¢«è°ƒç”¨ã€‚</span><br><span class="line">ã€€ã€€componentWillUpdate()  &#x2F;&#x2F; å‡†å¤‡æ›´æ–°ç»„ä»¶å•¦</span><br><span class="line"></span><br><span class="line">ã€€ã€€render() &#x2F;&#x2F; æ›´æ–°</span><br><span class="line"></span><br><span class="line">ã€€ã€€componentDidUpdate()   &#x2F;&#x2F; æ›´æ–°å®Œæˆ</span><br><span class="line">    è¯¥æ–¹æ³•å¹¶ä¸ä¼šåœ¨åˆå§‹åŒ–æ¸²æŸ“æ—¶è°ƒç”¨ã€‚</span><br><span class="line">ä¸‰ã€unmountï¼Œå³å¸è½½è¿‡ç¨‹ï¼Œå½“ä¸€ä¸ªç»„ä»¶è¦ä»é¡µé¢ç§»é™¤æ—¶ï¼Œä¼šè¿›å…¥è¿™ä¸ªè¿‡ç¨‹ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªé’©å­ï¼š</span><br><span class="line"></span><br><span class="line">ã€€ã€€componentWillUnmount()    &#x2F;&#x2F; è¦å¸è½½å•¦</span><br><span class="line">    å¯ä»¥åœ¨è¯¥æ–¹æ³•é‡Œå¤„ç†ä»»ä½•å¿…è¦çš„æ¸…ç†å·¥ä½œï¼Œ</span><br><span class="line">    ä¾‹å¦‚è§£ç»‘å®šæ—¶å™¨ï¼Œå–æ¶ˆç½‘ç»œè¯·æ±‚ï¼Œ</span><br><span class="line">    æ¸…ç†ä»»ä½•åœ¨componentDidMountç¯èŠ‚åˆ›å»ºçš„DOMå…ƒç´ ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä¸€èˆ¬æˆ‘ä»¬åªåœ¨è¿™å‡ ä¸ªé’©å­é‡ŒsetStateï¼š</span><br><span class="line"></span><br><span class="line">componentWillMount()</span><br><span class="line"></span><br><span class="line">componentDidMount()</span><br><span class="line"></span><br><span class="line">componentWillReceiveProps()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ReduxåŸç†"><a href="#ReduxåŸç†" class="headerlink" title="ReduxåŸç†"></a>ReduxåŸç†</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Redux å’Œ React æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œ</span><br><span class="line">å®ƒç„å‡†çš„ç›®æ ‡æ˜¯åº”ç”¨çŠ¶æ€ç®¡ç†ã€‚</span><br><span class="line"></span><br><span class="line">æ ¸å¿ƒæ¦‚å¿µæ˜¯ Map&#x2F;Reduce ä¸­çš„ Reduceã€‚</span><br><span class="line">ä¸” Reducer çš„æ‰§è¡Œæ˜¯åŒæ­¥ï¼Œ</span><br><span class="line">äº§ç”Ÿçš„ State æ˜¯ Immutable çš„ã€‚</span><br><span class="line"></span><br><span class="line">æ”¹å˜ State åªèƒ½é€šè¿‡å‘ Reducer dispatch actions æ¥å®Œæˆã€‚</span><br><span class="line"></span><br><span class="line">State çš„ä¸åŒå­—æ®µï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„ Reducers æ¥åˆ†åˆ«ç»´æŠ¤ã€‚</span><br><span class="line">combineReducers è´Ÿè´£ç»„åˆè¿™äº› Reducersï¼Œ</span><br><span class="line">å‰ææ˜¯æ¯ä¸ª Reducer åªèƒ½ç»´æŠ¤è‡ªå·±å…³å¿ƒçš„å­—æ®µã€‚</span><br><span class="line"></span><br><span class="line">Action å¯¹è±¡åªèƒ½æ˜¯ Javascript Plain Objectï¼Œ</span><br><span class="line">ä½†æ˜¯é€šè¿‡åœ¨ store ä¸Šè£…è½½ middlewareï¼Œ</span><br><span class="line">åˆ™å¯ä»¥ä»»æ„å®šä¹‰ action å¯¹è±¡çš„å½¢å¼ï¼Œ</span><br><span class="line">åæ­£ä¼šæœ‰ç‰¹å®šçš„ middleware è´Ÿè´£</span><br><span class="line">å°†æ­¤ action å¯¹è±¡å˜ä¸º Javascript Plain Objectã€‚</span><br><span class="line"></span><br><span class="line">å¯ä»¥ä»¥middleware é“¾æ¡ä¸ºé›†ä¸­ç‚¹å®ç°å¾ˆå¤šæ§åˆ¶é€»è¾‘ï¼Œ</span><br><span class="line">ä¾‹å¦‚ Logï¼ŒUndo, ErrorHandler ç­‰ã€‚</span><br><span class="line"></span><br><span class="line">Redux ä»…ä»…ä¸“æ³¨äºåº”ç”¨çŠ¶æ€çš„ç»´æŠ¤ï¼Œ</span><br><span class="line">reducerã€dispatch&#x2F;middleware æ˜¯ä¸¤ä¸ªå¸¸ç”¨æ‰©å±•ç‚¹ã€</span><br><span class="line">Higher-order Store åˆ™ä»…é’ˆå¯¹éœ€è¦æ‰©å±•å…¨éƒ¨ Store åŠŸèƒ½æ—¶ä½¿ç”¨ã€‚</span><br><span class="line"></span><br><span class="line">react-redux æ˜¯ Redux é’ˆå¯¹ React&#x2F;React-Native çš„ Bindingï¼Œ</span><br><span class="line">connect&#x2F;selector æ˜¯æ‰©å±•ç‚¹ï¼Œ</span><br><span class="line">è´Ÿè´£å°† store ä¸­çš„çŠ¶æ€æ·»åŠ åˆ° React component çš„ props ä¸­ã€‚</span><br><span class="line"></span><br><span class="line">Redux å€Ÿç”¨äº†å¾ˆå¤šå‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ï¼Œ</span><br><span class="line">äº†è§£å‡½æ•°å¼ç¼–ç¨‹ä¼šåˆ©äºç†è§£å…¶å®ç°åŸç†ï¼Œ</span><br><span class="line">è™½ç„¶ä½¿ç”¨å®ƒä¸éœ€è¦äº†è§£å¾ˆå¤šå‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µã€‚</span><br><span class="line">å’Œ Flux ç›¸æ¯”ï¼ŒRedux çš„æ¦‚å¿µæ›´ç²¾ç®€ã€çº¦å®šæ›´ä¸¥æ ¼ã€çŠ¶æ€æ›´ç¡®å®šã€è€Œæ˜¯æ‰©å±•å´æ›´çµæ´»ã€‚</span><br><span class="line"></span><br><span class="line">é€šè¿‡ https:&#x2F;&#x2F;github.com&#x2F;xgrommx&#x2F;awesome-redux å¯ä»¥è·å¾—å¤§é‡å‚è€ƒã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">é“¾æ¥ï¼šhttps:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;3334467e4b32</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">reduxæœ‰ä¸‰å¤§å‡†åˆ™</span><br><span class="line"></span><br><span class="line">å•ä¸€æ•°æ®æº</span><br><span class="line">æ•´ä¸ªåº”ç”¨çŠ¶æ€ï¼Œéƒ½åº”è¯¥è¢«å­˜å‚¨åœ¨å•ä¸€storeçš„å¯¹è±¡æ ‘ä¸­ã€‚</span><br><span class="line"></span><br><span class="line">åªè¯»çŠ¶æ€</span><br><span class="line">å”¯ä¸€å¯ä»¥ä¿®æ”¹çŠ¶æ€çš„æ–¹å¼ï¼Œ</span><br><span class="line">å°±æ˜¯å‘é€ï¼ˆdispatchï¼‰ä¸€ä¸ªåŠ¨ä½œï¼ˆActionï¼‰ï¼Œ</span><br><span class="line">é€šä¿—æ¥è®²ï¼Œå°±æ˜¯è¯´åªæœ‰getterï¼Œæ²¡æœ‰setterã€‚</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨çº¯å‡½æ•°å»ä¿®æ”¹çŠ¶æ€</span><br><span class="line">çº¯å‡½æ•°ä¿éšœäº†çŠ¶æ€çš„ç¨³å®šæ€§ï¼Œ</span><br><span class="line">ä¸ä¼šå› ä¸åŒç¯å¢ƒå¯¼è‡´åº”ç”¨ç¨‹åºå‡ºç°ä¸åŒæƒ…å†µï¼Œ</span><br><span class="line">å¬è¯´æ˜¯reduxçœŸæ­£çš„ç²¾é«“ï¼Œæ—¥åå¯ä»¥æ·±å…¥äº†è§£ã€‚</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="è°ˆè°ˆMVVMæ¨¡å¼"><a href="#è°ˆè°ˆMVVMæ¨¡å¼" class="headerlink" title="è°ˆè°ˆMVVMæ¨¡å¼"></a>è°ˆè°ˆMVVMæ¨¡å¼</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Vueæ˜¯ä»¥æ•°æ®ä¸ºé©±åŠ¨çš„ï¼ŒVueè‡ªèº«å°†DOMå’Œæ•°æ®è¿›è¡Œç»‘å®šï¼Œä¸€æ—¦åˆ›å»ºç»‘å®šï¼ŒDOMå’Œæ•°æ®å°†ä¿æŒåŒæ­¥ï¼Œæ¯å½“æ•°æ®å‘ç”Ÿå˜åŒ–ï¼ŒDOMä¼šè·Ÿç€å˜åŒ–ã€‚ ViewModelæ˜¯Vueçš„æ ¸å¿ƒï¼Œå®ƒæ˜¯Vueçš„ä¸€ä¸ªå®ä¾‹ã€‚Vueå®ä¾‹æ—¶ä½œç”¨åŸŸæŸä¸ªHTMLå…ƒç´ ä¸Šçš„è¿™ä¸ªHTMLå…ƒç´ å¯ä»¥æ˜¯bodyï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªidæ‰€æŒ‡ä»£çš„å…ƒç´ ã€‚</span><br><span class="line"></span><br><span class="line">DOMListenerså’ŒDataBindingsæ˜¯å®ç°åŒå‘ç»‘å®šçš„å…³é”®ã€‚DOMListenersç›‘å¬é¡µé¢æ‰€æœ‰Viewå±‚DOMå…ƒç´ çš„å˜åŒ–ï¼Œå½“å‘ç”Ÿå˜åŒ–ï¼ŒModelå±‚çš„æ•°æ®éšä¹‹å˜åŒ–ï¼›DataBindingsç›‘å¬Modelå±‚çš„æ•°æ®ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–ï¼ŒViewå±‚çš„DOMå…ƒç´ éšä¹‹å˜åŒ–ã€‚</span><br><span class="line"></span><br><span class="line">MVVMæ˜¯Model-View-ViewModelçš„ç¼©å†™ã€‚mvvmæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚Model å±‚ä»£è¡¨æ•°æ®æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥åœ¨Modelä¸­å®šä¹‰æ•°æ®ä¿®æ”¹å’Œæ“ä½œçš„ä¸šåŠ¡é€»è¾‘ï¼›View ä»£è¡¨UI ç»„ä»¶ï¼Œå®ƒè´Ÿè´£å°†æ•°æ®æ¨¡å‹è½¬åŒ–æˆUI å±•ç°å‡ºæ¥ï¼ŒViewModel æ˜¯ä¸€ä¸ªåŒæ­¥View å’Œ Modelçš„å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">åœ¨MVVMæ¶æ„ä¸‹ï¼ŒView å’Œ Model ä¹‹é—´å¹¶æ²¡æœ‰ç›´æ¥çš„è”ç³»ï¼Œè€Œæ˜¯é€šè¿‡ViewModelè¿›è¡Œäº¤äº’ï¼ŒModel å’Œ ViewModel ä¹‹é—´çš„äº¤äº’æ˜¯åŒå‘çš„ï¼Œ å› æ­¤View æ•°æ®çš„å˜åŒ–ä¼šåŒæ­¥åˆ°Modelä¸­ï¼Œè€ŒModel æ•°æ®çš„å˜åŒ–ä¹Ÿä¼šç«‹å³ååº”åˆ°View ä¸Šã€‚</span><br><span class="line"></span><br><span class="line">ViewModel é€šè¿‡åŒå‘æ•°æ®ç»‘å®šæŠŠ View å±‚å’Œ Model å±‚è¿æ¥äº†èµ·æ¥ï¼Œè€ŒView å’Œ Model ä¹‹é—´çš„åŒæ­¥å·¥ä½œå®Œå…¨æ˜¯è‡ªåŠ¨çš„ï¼Œæ— éœ€äººä¸ºå¹²æ¶‰ï¼Œå› æ­¤å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ“ä½œDOM, ä¸éœ€è¦å…³æ³¨æ•°æ®çŠ¶æ€çš„åŒæ­¥é—®é¢˜ï¼Œå¤æ‚çš„æ•°æ®çŠ¶æ€ç»´æŠ¤å®Œå…¨ç”± MVVM æ¥ç»Ÿä¸€ç®¡ç†ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="2-mvvmå’ŒmvcåŒºåˆ«"><a href="#2-mvvmå’ŒmvcåŒºåˆ«" class="headerlink" title="2:mvvmå’ŒmvcåŒºåˆ«"></a>2:mvvmå’ŒmvcåŒºåˆ«</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mvcå’Œmvvmå…¶å®åŒºåˆ«å¹¶ä¸å¤§ã€‚éƒ½æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚</span><br><span class="line">ä¸»è¦å°±æ˜¯mvcä¸­Controlleræ¼”å˜æˆmvvmä¸­çš„viewModelã€‚</span><br><span class="line">mvvmä¸»è¦è§£å†³äº†mvcä¸­å¤§é‡çš„DOM æ“ä½œä½¿é¡µé¢æ¸²æŸ“æ€§èƒ½é™ä½ï¼Œ</span><br><span class="line">åŠ è½½é€Ÿåº¦å˜æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</span><br><span class="line">å’Œå½“ Model é¢‘ç¹å‘ç”Ÿå˜åŒ–ï¼Œå¼€å‘è€…éœ€è¦ä¸»åŠ¨æ›´æ–°åˆ°View ã€‚</span><br></pre></td></tr></table></figure><h1 id="è®©CSSåªåœ¨å½“å‰ç»„ä»¶ä¸­èµ·ä½œç”¨"><a href="#è®©CSSåªåœ¨å½“å‰ç»„ä»¶ä¸­èµ·ä½œç”¨" class="headerlink" title="è®©CSSåªåœ¨å½“å‰ç»„ä»¶ä¸­èµ·ä½œç”¨"></a>è®©CSSåªåœ¨å½“å‰ç»„ä»¶ä¸­èµ·ä½œç”¨</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å°†å½“å‰ç»„ä»¶çš„&lt;style&gt;ä¿®æ”¹ä¸º&lt;style scoped&gt;</span><br></pre></td></tr></table></figure><h1 id="Vueä¸­ä½¿ç”¨æ’ä»¶çš„æ­¥éª¤"><a href="#Vueä¸­ä½¿ç”¨æ’ä»¶çš„æ­¥éª¤" class="headerlink" title="Vueä¸­ä½¿ç”¨æ’ä»¶çš„æ­¥éª¤"></a>Vueä¸­ä½¿ç”¨æ’ä»¶çš„æ­¥éª¤</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é‡‡ç”¨ES6çš„import ... from ...è¯­æ³•æˆ–CommonJSdçš„require()æ–¹æ³•å¼•å…¥æ’ä»¶</span><br><span class="line">ä½¿ç”¨å…¨å±€æ–¹æ³•Vue.use( plugin )ä½¿ç”¨æ’ä»¶,å¯ä»¥ä¼ å…¥ä¸€ä¸ªé€‰é¡¹å¯¹è±¡Vue.use(MyPlugin, &#123; someOption: true &#125;)</span><br></pre></td></tr></table></figure><h1 id="ç»„ä»¶çš„ä½¿ç”¨å’Œè‡ªå·±åˆ›å»ºå…¬ç”¨ç»„ä»¶"><a href="#ç»„ä»¶çš„ä½¿ç”¨å’Œè‡ªå·±åˆ›å»ºå…¬ç”¨ç»„ä»¶" class="headerlink" title="ç»„ä»¶çš„ä½¿ç”¨å’Œè‡ªå·±åˆ›å»ºå…¬ç”¨ç»„ä»¶"></a>ç»„ä»¶çš„ä½¿ç”¨å’Œè‡ªå·±åˆ›å»ºå…¬ç”¨ç»„ä»¶</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ­¥ï¼šåœ¨componentsç›®å½•æ–°å»ºä½ çš„ç»„ä»¶æ–‡ä»¶ï¼ˆindexPage.vueï¼‰ï¼Œ</span><br><span class="line">    scriptä¸€å®šè¦export default &#123;&#125;</span><br><span class="line">ç¬¬äºŒæ­¥ï¼šåœ¨éœ€è¦ç”¨çš„é¡µé¢ï¼ˆç»„ä»¶ï¼‰ä¸­å¯¼å…¥ï¼š</span><br><span class="line">    import indexPage from &#39;@&#x2F;components&#x2F;indexPage.vue&#39;</span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šæ³¨å…¥åˆ°vueçš„å­ç»„ä»¶çš„componentså±æ€§ä¸Šé¢,components:&#123;indexPage&#125;</span><br><span class="line">ç¬¬å››æ­¥ï¼šåœ¨templateè§†å›¾viewä¸­ä½¿ç”¨ï¼Œ</span><br><span class="line">é—®é¢˜æœ‰indexPageå‘½åï¼Œä½¿ç”¨çš„æ—¶å€™åˆ™index-pageã€‚</span><br></pre></td></tr></table></figure><h1 id="vueå¦‚ä½•å®ç°æŒ‰éœ€åŠ è½½é…åˆwebpackè®¾ç½®"><a href="#vueå¦‚ä½•å®ç°æŒ‰éœ€åŠ è½½é…åˆwebpackè®¾ç½®" class="headerlink" title="vueå¦‚ä½•å®ç°æŒ‰éœ€åŠ è½½é…åˆwebpackè®¾ç½®"></a>vueå¦‚ä½•å®ç°æŒ‰éœ€åŠ è½½é…åˆwebpackè®¾ç½®</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">webpackä¸­æä¾›äº†require.ensure()æ¥å®ç°æŒ‰éœ€åŠ è½½ã€‚ä»¥å‰å¼•å…¥è·¯ç”±æ˜¯é€šè¿‡import è¿™æ ·çš„æ–¹å¼å¼•å…¥ï¼Œæ”¹ä¸ºconstå®šä¹‰çš„æ–¹å¼è¿›è¡Œå¼•å…¥ã€‚</span><br><span class="line">ä¸è¿›è¡Œé¡µé¢æŒ‰éœ€åŠ è½½å¼•å…¥æ–¹å¼ï¼šimport  home   from &#39;..&#x2F;..&#x2F;common&#x2F;home.vue&#39;</span><br><span class="line">è¿›è¡Œé¡µé¢æŒ‰éœ€åŠ è½½çš„å¼•å…¥æ–¹å¼ï¼šconst  home &#x3D; r &#x3D;&gt; require.ensure( [], () &#x3D;&gt; r (require(&#39;..&#x2F;..&#x2F;common&#x2F;home.vue&#39;)))</span><br></pre></td></tr></table></figure><h1 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a><keep-alive></keep-alive>ä½œç”¨</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive&gt;&lt;&#x2F;keep-alive&gt; åŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œä¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹,ä¸»è¦ç”¨äºä¿ç•™ç»„ä»¶çŠ¶æ€æˆ–é¿å…é‡æ–°æ¸²æŸ“ã€‚</span><br></pre></td></tr></table></figure><h1 id="vue-routeæ¨¡å¼"><a href="#vue-routeæ¨¡å¼" class="headerlink" title="vue-routeæ¨¡å¼"></a>vue-routeæ¨¡å¼</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">é»˜è®¤ä¸ºhashï¼Œä½†æ˜¯ç”¨hashæ¨¡å¼çš„è¯ï¼Œé¡µé¢åœ°å€ä¼šåŠ #</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥ä¸€èˆ¬é‡‡ç”¨ historyæ¨¡å¼</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line"># vueé˜»æ­¢äº‹ä»¶</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ã€€.stop é˜»æ­¢äº‹ä»¶å†’æ³¡<br>ã€€.prevent é˜»æ­¢é»˜è®¤äº‹ä»¶<br>ã€€.captureã€€é˜»æ­¢äº‹ä»¶æ•è·<br>ã€€.once åªè§¦å‘ä¸€æ¬¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># routerä¼ å‚æ•°</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>routes: [<br>    {<br>        path: â€˜/linkParams/:nameâ€™,<br>        name:â€™linkParamsâ€™,<br>        component: linkParams<br>    }<br>]</p><p>è·å–name</p><p>let name = this.$route.params.name</p><p>// å­—ç¬¦ä¸²,è¿™é‡Œçš„å­—ç¬¦ä¸²æ˜¯è·¯å¾„pathåŒ¹é…å™¢ï¼Œä¸æ˜¯routeré…ç½®é‡Œçš„name<br>this.$router.push(â€˜homeâ€™)</p><p>// å¯¹è±¡<br>this.$router.push({ path: â€˜homeâ€™ })</p><p>// å‘½åçš„è·¯ç”± è¿™é‡Œä¼šå˜æˆ /user/123<br>this.$router.push({ name: â€˜userâ€™, params: { userId: 123 }})</p><p>// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=private<br>this.$router.push({ path: â€˜registerâ€™, query: { plan: â€˜privateâ€™ }})</p><p>router.beforeEach((to, from, next)=&gt;{<br>  //do something<br>  next();<br>});<br>router.afterEach((to, from, next) =&gt; {<br>    console.log(to.path);<br>});</p><p>æ¯ä¸ªé’©å­æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><p>to: Route: å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡</p><p>from: Route: å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±</p><p>next: Function: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥ resolve è¿™ä¸ªé’©å­ã€‚æ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„è°ƒç”¨å‚æ•°ã€‚</p><p>next(): è¿›è¡Œç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªé’©å­ã€‚å¦‚æœå…¨éƒ¨é’©å­æ‰§è¡Œå®Œäº†ï¼Œåˆ™å¯¼èˆªçš„çŠ¶æ€å°±æ˜¯ confirmed ï¼ˆç¡®è®¤çš„ï¼‰ã€‚</p><p>next(false): ä¸­æ–­å½“å‰çš„å¯¼èˆªã€‚å¦‚æœæµè§ˆå™¨çš„ URL æ”¹å˜äº†ï¼ˆå¯èƒ½æ˜¯ç”¨æˆ·æ‰‹åŠ¨æˆ–è€…æµè§ˆå™¨åé€€æŒ‰é’®ï¼‰ï¼Œé‚£ä¹ˆ URL åœ°å€ä¼šé‡ç½®åˆ° from è·¯ç”±å¯¹åº”çš„åœ°å€ã€‚</p><p>next(â€˜/â€˜) æˆ–è€… next({ path: â€˜/â€˜ }): è·³è½¬åˆ°ä¸€ä¸ªä¸åŒçš„åœ°å€ã€‚å½“å‰çš„å¯¼èˆªè¢«ä¸­æ–­ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªæ–°çš„å¯¼èˆªã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">SSRå®ç°åŸç†</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>app.js ä½œä¸ºå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„å…¬ç”¨å…¥å£ï¼Œå¯¼å‡º Vue æ ¹å®ä¾‹ï¼Œä¾›å®¢æˆ·ç«¯ entry ä¸æœåŠ¡ç«¯ entry ä½¿ç”¨ã€‚å®¢æˆ·ç«¯ entry ä¸»è¦ä½œç”¨æŒ‚è½½åˆ° DOM ä¸Šï¼ŒæœåŠ¡ç«¯ entry é™¤äº†åˆ›å»ºå’Œè¿”å›å®ä¾‹ï¼Œè¿˜è¿›è¡Œè·¯ç”±åŒ¹é…ä¸æ•°æ®é¢„è·å–ã€‚<br>webpack ä¸ºå®¢æœç«¯æ‰“åŒ…ä¸€ä¸ª Client Bundle ï¼Œä¸ºæœåŠ¡ç«¯æ‰“åŒ…ä¸€ä¸ª Server Bundle ã€‚<br>æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚æ—¶ï¼Œä¼šæ ¹æ® urlï¼ŒåŠ è½½ç›¸åº”ç»„ä»¶ï¼Œè·å–å’Œè§£æå¼‚æ­¥æ•°æ®ï¼Œåˆ›å»ºä¸€ä¸ªè¯»å– Server Bundle çš„ BundleRendererï¼Œç„¶åç”Ÿæˆ html å‘é€ç»™å®¢æˆ·ç«¯ã€‚<br>å®¢æˆ·ç«¯æ··åˆï¼Œå®¢æˆ·ç«¯æ”¶åˆ°ä»æœåŠ¡ç«¯ä¼ æ¥çš„ DOM ä¸è‡ªå·±çš„ç”Ÿæˆçš„ DOM è¿›è¡Œå¯¹æ¯”ï¼ŒæŠŠä¸ç›¸åŒçš„ DOM æ¿€æ´»ï¼Œä½¿å…¶å¯ä»¥èƒ½å¤Ÿå“åº”åç»­å˜åŒ–ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå®¢æˆ·ç«¯æ¿€æ´» ã€‚ä¸ºç¡®ä¿æ··åˆæˆåŠŸï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯éœ€è¦å…±äº«åŒä¸€å¥—æ•°æ®ã€‚åœ¨æœåŠ¡ç«¯ï¼Œå¯ä»¥åœ¨æ¸²æŸ“ä¹‹å‰è·å–æ•°æ®ï¼Œå¡«å……åˆ° stroe é‡Œï¼Œè¿™æ ·ï¼Œåœ¨å®¢æˆ·ç«¯æŒ‚è½½åˆ° DOM ä¹‹å‰ï¼Œå¯ä»¥ç›´æ¥ä» store é‡Œå–æ•°æ®ã€‚é¦–å±çš„åŠ¨æ€æ•°æ®é€šè¿‡ window.__INITIAL_STATE__ å‘é€åˆ°å®¢æˆ·ç«¯ã€‚</p><p>Vue SSR çš„å®ç°ï¼Œä¸»è¦å°±æ˜¯æŠŠ Vue çš„ç»„ä»¶è¾“å‡ºæˆä¸€ä¸ªå®Œæ•´ HTML, vue-server-renderer å°±æ˜¯å¹²è¿™äº‹çš„ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># Vueå®ä¾‹åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­å®ç°ä¾èµ–ç®¡ç†çš„åˆ†æ</span><br><span class="line"></span><br><span class="line">[é“¾æ¥](http:&#x2F;&#x2F;www.bslxx.com&#x2F;a&#x2F;vue&#x2F;2018&#x2F;0301&#x2F;1795.html)</span><br><span class="line"></span><br><span class="line">å¤§è‡´çš„æ€»ç»“ä¸‹å°±æ˜¯ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>initStateçš„è¿‡ç¨‹ä¸­ï¼Œ<br>å°†props,computed,dataç­‰å±æ€§é€šè¿‡Object.defineProperty<br>æ¥æ”¹é€ å…¶getter/setterå±æ€§ï¼Œ<br>å¹¶ä¸ºæ¯ä¸€ä¸ªå“åº”å¼å±æ€§å®ä¾‹åŒ–ä¸€ä¸ªobserverè§‚å¯Ÿè€…ã€‚<br>è¿™ä¸ªobserverå†…éƒ¨depè®°å½•äº†è¿™ä¸ªå“åº”å¼å±æ€§çš„æ‰€æœ‰ä¾èµ–ã€‚</p><p>å½“å“åº”å¼å±æ€§è°ƒç”¨setterå‡½æ•°æ—¶ï¼Œ<br>é€šè¿‡dep.notify()æ–¹æ³•å»éå†æ‰€æœ‰çš„ä¾èµ–ï¼Œ<br>è°ƒç”¨watcher.update()å»å®Œæˆæ•°æ®çš„åŠ¨æ€å“åº”ã€‚</p><p>vue.js æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œ<br>é€šè¿‡Object.defineProperty()æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œ<br>åœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œ<br>è§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒã€‚</p><p>å…·ä½“æ­¥éª¤ï¼š<br>ç¬¬ä¸€æ­¥ï¼šéœ€è¦observeçš„æ•°æ®å¯¹è±¡è¿›è¡Œé€’å½’éå†ï¼Œ<br>åŒ…æ‹¬å­å±æ€§å¯¹è±¡çš„å±æ€§ï¼Œ<br>éƒ½åŠ ä¸Š setterå’Œgetter<br>è¿™æ ·çš„è¯ï¼Œ<br>ç»™è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªå€¼èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘setterï¼Œ<br>é‚£ä¹ˆå°±èƒ½ç›‘å¬åˆ°äº†æ•°æ®å˜åŒ–</p><p>ç¬¬äºŒæ­¥ï¼šcompileè§£ææ¨¡æ¿æŒ‡ä»¤ï¼Œ<br>å°†æ¨¡æ¿ä¸­çš„å˜é‡æ›¿æ¢æˆæ•°æ®ï¼Œ<br>ç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œ<br>å¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œ<br>æ·»åŠ ç›‘å¬æ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œ<br>æ”¶åˆ°é€šçŸ¥ï¼Œæ›´æ–°è§†å›¾</p><p>ç¬¬ä¸‰æ­¥ï¼šWatcherè®¢é˜…è€…æ˜¯Observerå’ŒCompileä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ï¼Œ<br>ä¸»è¦åšçš„äº‹æƒ…æ˜¯:<br>1ã€åœ¨è‡ªèº«å®ä¾‹åŒ–æ—¶å¾€å±æ€§è®¢é˜…å™¨(dep)é‡Œé¢æ·»åŠ è‡ªå·±<br>2ã€è‡ªèº«å¿…é¡»æœ‰ä¸€ä¸ªupdate()æ–¹æ³•<br>3ã€å¾…å±æ€§å˜åŠ¨dep.notice()é€šçŸ¥æ—¶ï¼Œ<br>èƒ½è°ƒç”¨è‡ªèº«çš„update()æ–¹æ³•ï¼Œ<br>å¹¶è§¦å‘Compileä¸­ç»‘å®šçš„å›è°ƒï¼Œåˆ™åŠŸæˆèº«é€€ã€‚</p><p>ç¬¬å››æ­¥ï¼šMVVMä½œä¸ºæ•°æ®ç»‘å®šçš„å…¥å£ï¼Œ<br>æ•´åˆObserverã€Compileå’ŒWatcherä¸‰è€…ï¼Œ<br>é€šè¿‡Observeræ¥ç›‘å¬è‡ªå·±çš„modelæ•°æ®å˜åŒ–ï¼Œ<br>é€šè¿‡Compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œ<br>æœ€ç»ˆåˆ©ç”¨Watcheræ­èµ·Observerå’ŒCompileä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ï¼Œ<br>è¾¾åˆ°æ•°æ®å˜åŒ– -&gt; è§†å›¾æ›´æ–°ï¼›è§†å›¾äº¤äº’å˜åŒ–(input) -&gt; æ•°æ®modelå˜æ›´çš„åŒå‘ç»‘å®šæ•ˆæœã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># Vueå£°æ˜ç»„ä»¶çš„stateæ˜¯ç”¨dataæ–¹æ³•ï¼Œé‚£ä¸ºä»€ä¹ˆdataæ˜¯é€šè¿‡ä¸€ä¸ªfunctionæ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥å†™ä¸€ä¸ªå¯¹è±¡å‘¢</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç­”ï¼šä»è¯­æ³•ä¸Šè¯´ï¼Œå¦‚æœä¸ç”¨functionè¿”å›å°±ä¼šå‡ºç°è¯­æ³•é”™è¯¯å¯¼è‡´ç¼–è¯‘ä¸é€šè¿‡ã€‚ä»åŸç†ä¸Šçš„è¯ï¼Œå¤§æ¦‚å°±æ˜¯ç»„ä»¶å¯ä»¥è¢«å¤šæ¬¡åˆ›å»ºï¼Œå¦‚æœä¸ä½¿ç”¨functionå°±ä¼šä½¿æ‰€æœ‰è°ƒç”¨è¯¥ç»„ä»¶çš„é¡µé¢å…¬ç”¨åŒä¸€ä¸ªæ•°æ®åŸŸï¼Œè¿™æ ·å°±å¤±å»äº†ç»„ä»¶çš„æ¦‚å¿µäº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># vuex</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> Stateã€ Getterã€Mutation ã€Actionã€ Module<br>é€šè¿‡çŠ¶æ€ï¼ˆæ•°æ®æºï¼‰é›†ä¸­ç®¡ç†é©±åŠ¨ç»„ä»¶çš„å˜åŒ–<br>ï¼ˆå¥½æ¯”springçš„IOCå®¹å™¨å¯¹beanè¿›è¡Œé›†ä¸­ç®¡ç†ï¼‰ã€‚<br>åº”ç”¨çº§çš„çŠ¶æ€é›†ä¸­æ”¾åœ¨storeä¸­ï¼›<br>æ”¹å˜çŠ¶æ€çš„æ–¹å¼æ˜¯æäº¤mutationsï¼Œ<br>è¿™æ˜¯ä¸ªåŒæ­¥çš„äº‹ç‰©ï¼› å¼‚æ­¥é€»è¾‘åº”è¯¥å°è£…åœ¨actionä¸­ã€‚</p><p>ä¸€ã€Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š<br>äºŒã€Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚<br>ä¸‰ã€Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ</p><p>ä¸€ã€getters å¯ä»¥å¯¹Stateè¿›è¡Œè®¡ç®—æ“ä½œï¼Œå®ƒå°±æ˜¯Storeçš„è®¡ç®—å±æ€§<br>äºŒã€ è™½ç„¶åœ¨ç»„ä»¶å†…ä¹Ÿå¯ä»¥åšè®¡ç®—å±æ€§ï¼Œä½†æ˜¯getters å¯ä»¥åœ¨å¤šç»„ä»¶ä¹‹é—´å¤ç”¨<br>ä¸‰ã€ å¦‚æœä¸€ä¸ªçŠ¶æ€åªåœ¨ä¸€ä¸ªç»„ä»¶å†…ä½¿ç”¨ï¼Œæ˜¯å¯ä»¥ä¸ç”¨getters</p><p>äºŒã€stateé‡Œé¢å­˜æ”¾çš„æ•°æ®æ˜¯å“åº”å¼çš„ï¼ŒVueç»„ä»¶ä»storeä¸­è¯»å–æ•°æ®ï¼Œè‹¥æ˜¯storeä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œä¾èµ–è¿™ä¸ªæ•°æ®çš„ç»„ä»¶ä¹Ÿä¼šå‘ç”Ÿæ›´æ–°<br>ä¸‰ã€å®ƒé€šè¿‡mapStateæŠŠå…¨å±€çš„ state å’Œ getters æ˜ å°„åˆ°å½“å‰ç»„ä»¶çš„ computed è®¡ç®—å±æ€§ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># è¯´ä¸‹vueç»„ä»¶ä¹‹é—´çš„é€šä¿¡</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç­”ï¼š<br>éçˆ¶å­ç»„ä»¶é—´é€šä¿¡ï¼ŒVue æœ‰æä¾› Vuexï¼Œä»¥çŠ¶æ€å…±äº«æ–¹å¼æ¥å®ç°é€šä¿¡</p><p>prop å‘ä¸‹ä¼ é€’ï¼Œäº‹ä»¶å‘ä¸Šä¼ é€’ã€‚<br>è¿˜å¯ä»¥é€šè¿‡$emitæ–¹æ³•å‡ºå‘ä¸€ä¸ªæ¶ˆæ¯ï¼Œç„¶å$onæ¥æ”¶è¿™ä¸ªæ¶ˆæ¯</p><p>å…„å¼Ÿç»„ä»¶é—´çš„æ•°æ®é€šè®¯ï¼Œå®ƒä»¬å°†ä¼š å¯»æ‰¾å…¶å…±åŒçš„çˆ¶ç»„ä»¶ï¼Œä½¿ç”¨æ•°æ®å’Œç›¸å…³æ–¹æ³•â€œæå‡â€åˆ°çˆ¶ç»„ä»¶å†…éƒ¨ï¼Œå¹¶å‘ä¸‹ä¼ ç»™ä¸¤ä¸ªå­ç»„ä»¶ã€‚å…¶ä¸­ä¸€ä¸ªå­ç»„ä»¶å–å¾—æ•°æ®ï¼Œå¦ä¸€ä¸ªå­ç»„ä»¶å–å¾—äº†æ”¹å˜æ•°æ®çš„æ–¹æ³• ã€‚</p><p>var Event = new Vue()<br>//çˆ¶ç»„ä»¶<br> Event.$on(â€œa-msgâ€, function (a) {<br>    this.a = a;<br>  }.bind(this));</p><p>// å­ç»„ä»¶<br> Event.$emit(â€œa-msgâ€, this.a);</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># Vue ç”Ÿå‘½å‘¨æœŸ</span><br><span class="line"></span><br><span class="line"># ç®€å•æè¿°æ¯ä¸ªå‘¨æœŸå…·ä½“é€‚åˆå“ªäº›åœºæ™¯</span><br><span class="line"></span><br><span class="line">Create  Mount  Update  Destroy</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>beforeCreateï¼ˆåˆ›å»ºå‰ï¼‰,<br>createdï¼ˆåˆ›å»ºåï¼‰,</p><p>beforeMount(è½½å…¥å‰),<br>mountedï¼ˆè½½å…¥åï¼‰,</p><p>beforeUpdateï¼ˆæ›´æ–°å‰ï¼‰,<br>updatedï¼ˆæ›´æ–°åï¼‰,</p><p>beforeDestroyï¼ˆé”€æ¯å‰ï¼‰,<br>destroyedï¼ˆé”€æ¯åï¼‰</p><p>æ¯ä¸ªé’©å­å‡½æ•°éƒ½åœ¨å•¥æ—¶é—´è§¦å‘</p><p>beforeCreate<br>åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œ<br>æ•°æ®è§‚æµ‹(data observer) å’Œ event/watcher äº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨ã€‚</p><p>created<br>å®ä¾‹å·²ç»åˆ›å»ºå®Œæˆä¹‹åè¢«è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šæ•°æ®è§‚æµ‹(data observer)ï¼Œå±æ€§å’Œæ–¹æ³•çš„è¿ç®—ï¼Œ watch/event äº‹ä»¶å›è°ƒã€‚ç„¶è€Œï¼ŒæŒ‚è½½é˜¶æ®µè¿˜æ²¡å¼€å§‹ï¼Œ$el å±æ€§ç›®å‰ä¸å¯è§ã€‚</p><p>beforeMount<br>åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚</p><p>mounted<br>æŒ‚è½½å…ƒç´ ï¼Œè·å–åˆ°DOMèŠ‚ç‚¹<br>el è¢«æ–°åˆ›å»ºçš„ vm.$el æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨è¯¥é’©å­ã€‚<br>å¦‚æœ root å®ä¾‹æŒ‚è½½äº†ä¸€ä¸ªæ–‡æ¡£å†…å…ƒç´ ï¼Œ<br>å½“ mounted è¢«è°ƒç”¨æ—¶ vm.$el ä¹Ÿåœ¨æ–‡æ¡£å†…ã€‚</p><p>beforeUpdate<br>æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰ã€‚ ä½ å¯ä»¥åœ¨è¿™ä¸ªé’©å­ä¸­è¿›ä¸€æ­¥åœ°æ›´æ”¹çŠ¶æ€ï¼Œè¿™ä¸ä¼šè§¦å‘é™„åŠ çš„é‡æ¸²æŸ“è¿‡ç¨‹ã€‚</p><p>updated<br>ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚<br>å½“è¿™ä¸ªé’©å­è¢«è°ƒç”¨æ—¶ï¼Œç»„ä»¶ DOM å·²ç»æ›´æ–°ï¼Œæ‰€ä»¥ä½ ç°åœ¨å¯ä»¥æ‰§è¡Œä¾èµ–äº DOM çš„æ“ä½œã€‚<br>ç„¶è€Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹çŠ¶æ€ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå¯¼è‡´æ›´æ–°æ— é™å¾ªç¯ã€‚</p><p>è¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚</p><p>beforeDestroy<br>å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚</p><p>destroyed<br>Vue å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚<br>è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œ<br>æ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚ è¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚</p><p>ç”Ÿå‘½å‘¨æœŸé’©å­çš„ä¸€äº›å¸¸è§ä½¿ç”¨æ–¹æ³•ï¼š</p><p>beforecreate : å¯ä»¥åœ¨è¿™åŠ ä¸ªloadingäº‹ä»¶ï¼Œ<br>åœ¨åŠ è½½å®ä¾‹æ—¶è§¦å‘</p><p>created : åˆå§‹åŒ–å®Œæˆæ—¶éœ€è¦æ‰§è¡Œçš„äº‹ä»¶å†™åœ¨è¿™é‡Œï¼Œ<br>å¦‚åœ¨è¿™ç»“æŸloadingäº‹ä»¶ï¼Œå¼‚æ­¥è¯·æ±‚ä¹Ÿé€‚å®œåœ¨è¿™é‡Œè°ƒç”¨</p><p>mounted: åœ¨è¿™å‘èµ·åç«¯è¯·æ±‚ï¼Œæ‹¿å›æ•°æ®ï¼Œé…åˆè·¯ç”±é’©å­åšä¸€äº›äº‹æƒ…</p><p>updated : å¦‚æœå¯¹æ•°æ®ç»Ÿä¸€å¤„ç†ï¼Œåœ¨è¿™é‡Œå†™ä¸Šç›¸åº”å‡½æ•°<br>beforeDestroy : å¯ä»¥åšä¸€ä¸ªç¡®è®¤åœæ­¢äº‹ä»¶çš„ç¡®è®¤æ¡† ä½ ç¡®è®¤åˆ é™¤XXå—ï¼Ÿ<br>nextTick : æ›´æ–°æ•°æ®åç«‹å³æ“ä½œdom<br>activated::keep-aliveç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># v-showå’Œv-ifæŒ‡ä»¤çš„å…±åŒç‚¹å’Œä¸åŒç‚¹</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>v-showæŒ‡ä»¤æ˜¯é€šè¿‡ä¿®æ”¹å…ƒç´ çš„displayCSSå±æ€§è®©å…¶æ˜¾ç¤ºæˆ–è€…éšè—<br>v-ifæŒ‡ä»¤æ˜¯ç›´æ¥é”€æ¯å’Œé‡å»ºDOMè¾¾åˆ°è®©å…ƒç´ æ˜¾ç¤ºå’Œéšè—çš„æ•ˆæœ</p><p>v-if æœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—è€Œ v-show æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ã€‚<br>å› æ­¤ï¼Œå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢ v-show è¾ƒå¥½ï¼Œ<br>å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶ä¸å¤§å¯èƒ½æ”¹å˜ v-if è¾ƒå¥½ã€‚</p><p>1.v-if æŒ‡ä»¤å¯ä»¥åº”ç”¨äºtemplateåŒ…è£…å…ƒç´ ä¸Šï¼Œ<br>è€Œv-showä¸æ”¯æŒtemplate<br>2.å°†v-showåº”ç”¨åœ¨ç»„ä»¶ä¸Šæ—¶ï¼Œå› ä¸ºæŒ‡ä»¤çš„ä¼˜å…ˆçº§<br>v-else ä¼šå‡ºç°é—®é¢˜ï¼Œ<br>è§£å†³åŠæ³•å°±æ˜¯ç”¨å¦ä¸€ä¸ª v-show æ›¿æ¢ v-else</p><p>// é”™è¯¯<br><custom-component v-show="condition"></custom-component></p><p v-else>è¿™å¯èƒ½ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶</p>     // æ­£ç¡®åšæ³•<custom-component v-show="condition"></custom-component><p v-show="!condition">è¿™å¯èƒ½ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># vue çˆ¶å­ç»„ä»¶åµŒå¥—æ—¶ï¼Œç»„ä»¶å†…éƒ¨çš„å„ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­è§¦å‘å…ˆåé¡ºåº</span><br><span class="line"></span><br></pre></td></tr></table></figure>é¡ºåºæ˜¯ å…ˆåˆ›å»ºçˆ¶ç»„ä»¶(çˆ¶ç»„ä»¶beforeMount)ï¼Œç„¶åæ‰åˆ›å»ºå­ç»„ä»¶ï¼Œå½“å­ç»„ä»¶åˆ›å»ºå®Œæˆå¹¶ä¸”å®ä½“domæŒ‚è½½å®Œæˆå(å­ç»„ä»¶å…ˆmounted)çˆ¶ç»„ä»¶æ‰æŒ‚è½½å®Œæˆ(çˆ¶ç»„ä»¶mounted)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># hå‡½æ•°</span><br><span class="line"></span><br></pre></td></tr></table></figure>å®ƒæ¥è‡ªå•è¯ hyperscriptï¼Œè¿™ä¸ªå•è¯é€šå¸¸ç”¨åœ¨ virtual-dom çš„å®ç°ä¸­ã€‚Hyperscript æœ¬èº«æ˜¯æŒ‡<p>ç”ŸæˆHTML ç»“æ„çš„ script è„šæœ¬ï¼Œ<br>å› ä¸º HTML æ˜¯ hyper-text markup language çš„ç¼©å†™ï¼ˆè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰</p><p>ä¸ªäººç†è§£ï¼š<br>createElement å‡½æ•°æ˜¯ç”¨æ¥ç”Ÿæˆ HTML DOM<br>å…ƒç´ çš„ï¼Œä¹Ÿå°±æ˜¯ä¸Šæ–‡ä¸­çš„ generate HTML<br>structuresï¼Œä¹Ÿå°±æ˜¯ Hyperscriptï¼Œ<br>è¿™æ ·ä½œè€…æ‰æŠŠ createElement ç®€å†™æˆ hã€‚</p><p>å¤§æ¦‚çš„ç¿»è¯‘ä¸‹ï¼š<br>render: h =&gt; h(App) æ˜¯ä¸‹é¢å†…å®¹çš„ç¼©å†™ï¼š</p><p>render: function (createElement) {<br>    return createElement(App);<br>}<br>è¿›ä¸€æ­¥ç¼©å†™ä¸º(ES6 è¯­æ³•)ï¼š</p><p>render (createElement) {<br>    return createElement(App);<br>}<br>å†è¿›ä¸€æ­¥ç¼©å†™ä¸ºï¼š</p><p>render (h){<br>    return h(App);<br>}<br>æŒ‰ç…§ ES6 ç®­å¤´å‡½æ•°çš„å†™æ³•ï¼Œå°±å¾—åˆ°äº†ï¼š</p><p>render: h =&gt; h(App);</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># react-reduxä¸­connectå‡½æ•°</span><br><span class="line"></span><br><span class="line">[é“¾æ¥](https:&#x2F;&#x2F;segmentfault.com&#x2F;a&#x2F;1190000010188279)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>connectæ–¹æ³•åšçš„äº‹æƒ…æ˜¯<br>å°†stateå’Œdispatchç»‘å®šåˆ°Connectç»„ä»¶çš„å‚æ•°ä¸Šï¼Œ<br>ç„¶åConnectç»„ä»¶å°†ä½ å½“å‰çš„Appç»„ä»¶å°è£…èµ·æ¥ï¼Œ<br>ä½¿å¾—Appç»„ä»¶å¯ä»¥é€šè¿‡propsè·å–åˆ°çˆ¶<br>ç»„ä»¶Connectä¼ é€’çš„stateå’Œpropsã€‚</p><p>Provideræ˜¯é¡¶å±‚ç»„ä»¶çš„ä½œç”¨ï¼Œ<br>å°†storeä½œä¸ºä¸Šä¸‹æ–‡æä¾›ç»™å…¨å±€å…±äº«ï¼Œ<br>è€ŒConnectç»„ä»¶æ˜¯å±€éƒ¨ç»„ä»¶ï¼Œå°†æŸä¸ªreactç»„ä»¶åŒ…è£…èµ·æ¥ï¼Œ<br>ä¼ é€’æŒ‡å®šçš„stateå’Œpropsç»™è¯¥ç»„ä»¶è®¿é—®ã€‚</p><p>connect()è¿”å›å€¼æ˜¯Connectç»„ä»¶ï¼ˆè¯·æ³¨æ„å¤§å°å†™çš„åŒºåˆ«ï¼‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># Vueå’ŒReactåŒºåˆ«</span><br><span class="line"></span><br><span class="line">### ç›¸åŒ</span><br><span class="line"></span><br><span class="line">- ä½¿ç”¨ Virtual DOM</span><br><span class="line">- æä¾›äº†å“åº”å¼ (Reactive) å’Œç»„ä»¶åŒ– (Composable) çš„è§†å›¾ç»„ä»¶ã€‚</span><br><span class="line">- å°†æ³¨æ„åŠ›é›†ä¸­ä¿æŒåœ¨æ ¸å¿ƒåº“ï¼Œè€Œå°†å…¶ä»–åŠŸèƒ½å¦‚è·¯ç”±å’Œå…¨å±€çŠ¶æ€ç®¡ç†äº¤ç»™ç›¸å…³çš„åº“ã€‚</span><br><span class="line"></span><br><span class="line">éƒ½æ˜¯JavaScriptçš„UIæ¡†æ¶ï¼Œä¸“æ³¨äºåˆ›é€ å‰ç«¯çš„å¯Œåº”ç”¨ã€‚</span><br><span class="line">ä¸åŒäºæ—©æœŸçš„JavaScriptæ¡†æ¶â€œåŠŸèƒ½é½å…¨â€ï¼Œ</span><br><span class="line"></span><br><span class="line">### åŒºåˆ«</span><br><span class="line"></span><br><span class="line">- **æ€§èƒ½**</span><br><span class="line"></span><br><span class="line">    è®¡ç®—å·®å¼‚çš„ç®—æ³•æ˜¯é«˜æ€§èƒ½æ¡†æ¶çš„ç§˜å¯†æ‰€åœ¨ï¼ŒReactå’ŒVueåœ¨å®ç°ä¸Šæœ‰ç‚¹ä¸åŒã€‚</span><br><span class="line"></span><br><span class="line">    Vueå¯ä»¥æ›´å¿«åœ°è®¡ç®—å‡ºVirtual DOMçš„å·®å¼‚ï¼Œ</span><br><span class="line">    è¿™æ˜¯ç”±äºå®ƒåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œ</span><br><span class="line">    ä¼šè·Ÿè¸ªæ¯ä¸€ä¸ªç»„ä»¶çš„ä¾èµ–å…³ç³»ï¼Œ</span><br><span class="line">    ä¸éœ€è¦é‡æ–°æ¸²æŸ“æ•´ä¸ªç»„ä»¶æ ‘ã€‚</span><br><span class="line"></span><br><span class="line">    è€Œå¯¹äºReactè€Œè¨€ï¼Œæ¯å½“åº”ç”¨çš„çŠ¶æ€è¢«æ”¹å˜æ—¶ï¼Œ</span><br><span class="line">    å…¨éƒ¨å­ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚</span><br><span class="line">    å½“ç„¶ï¼Œè¿™å¯ä»¥é€šè¿‡shouldComponentUpdate</span><br><span class="line">    è¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ¥è¿›è¡Œæ§åˆ¶ï¼Œ</span><br><span class="line">    ä½†Vueå°†æ­¤è§†ä¸ºé»˜è®¤çš„ä¼˜åŒ–ã€‚</span><br><span class="line"></span><br><span class="line">- **JSXå’ŒTemplates**</span><br><span class="line"></span><br><span class="line">    React ä¸­ï¼Œæ‰€æœ‰çš„ç»„ä»¶çš„æ¸²æŸ“åŠŸèƒ½éƒ½ä¾é  JSX</span><br><span class="line">    å¯ä»¥ä½¿ç”¨å®Œæ•´çš„ç¼–ç¨‹è¯­è¨€ JavaScript åŠŸèƒ½æ¥æ„å»ºä½ çš„è§†å›¾é¡µé¢ã€‚</span><br><span class="line"></span><br><span class="line">    æ¨¡æ¿æ¯”èµ· JSX è¯»å†™èµ·æ¥æ›´è‡ªç„¶ã€‚</span><br><span class="line">    åŸºäº HTML çš„æ¨¡æ¿ä½¿å¾—å°†å·²æœ‰çš„åº”ç”¨é€æ­¥è¿ç§»åˆ° Vue æ›´ä¸ºå®¹æ˜“ã€‚</span><br><span class="line">    å¯ä»¥ä½¿ç”¨å…¶ä»–æ¨¡æ¿é¢„å¤„ç†å™¨ï¼Œæ¯”å¦‚ Pug æ¥ä¹¦å†™ Vue çš„æ¨¡æ¿ã€‚</span><br><span class="line"></span><br><span class="line">    vueçš„æ¨¡æ¿è¯­æ³•å»é™¤äº†å¾€è§†å›¾&#x2F;ç»„ä»¶ä¸­æ·»åŠ é€»è¾‘çš„è¯±æƒ‘ï¼Œä¿æŒäº†å…³æ³¨ç‚¹åˆ†ç¦»ã€‚</span><br><span class="line"></span><br><span class="line">    ä¸Reactä¸€æ ·ï¼ŒVueåœ¨æŠ€æœ¯ä¸Šä¹Ÿæ”¯æŒrenderå‡½æ•°å’ŒJSXï¼Œä½†åªæ˜¯ä¸æ˜¯é»˜è®¤çš„è€Œå·²ã€‚</span><br><span class="line"></span><br><span class="line">- **ç»„ä»¶ä½œç”¨åŸŸå†…çš„ CSS**</span><br><span class="line"></span><br><span class="line">    Vue è®¾ç½®æ ·å¼çš„é»˜è®¤æ–¹æ³•æ˜¯å•æ–‡ä»¶ç»„ä»¶é‡Œç±»ä¼¼ style çš„æ ‡ç­¾ã€‚</span><br><span class="line">    å¯é€‰ scoped å±æ€§ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„å±æ€§</span><br><span class="line"></span><br><span class="line">    CSS ä½œç”¨åŸŸåœ¨ React ä¸­æ˜¯é€šè¿‡ CSS-in-JS çš„æ–¹æ¡ˆå®ç°çš„</span><br><span class="line"></span><br><span class="line">- **Props**</span><br><span class="line"></span><br><span class="line">    JSXåº“ä¸­ï¼Œæ•°æ®é€šè¿‡propsä¼ åˆ°å­ç»„ä»¶ä¸­å»ã€‚</span><br><span class="line"></span><br><span class="line">    åœ¨Reactä¸­ï¼Œè¿™æ˜¯å¿…é¡»çš„ï¼Œå®ƒä¾èµ–ä¸€ä¸ªâ€œå•ä¸€æ•°æ®æºâ€ä½œä¸ºå®ƒçš„â€œçŠ¶æ€â€</span><br><span class="line"></span><br><span class="line">    åœ¨Vueä¸­ï¼Œpropsç•¥æœ‰ä¸åŒã€‚å®ƒä»¬ä¸€æ ·æ˜¯åœ¨ç»„ä»¶ä¸­è¢«å®šä¹‰ï¼Œä½†Vueä¾èµ–äºæ¨¡æ¿è¯­æ³•ï¼Œä½ å¯ä»¥é€šè¿‡æ¨¡æ¿çš„å¾ªç¯å‡½æ•°æ›´é«˜æ•ˆåœ°å±•ç¤ºä¼ å…¥çš„æ•°æ®ã€‚</span><br><span class="line"></span><br><span class="line">- **æ„å»ºå·¥å…·**</span><br><span class="line"></span><br><span class="line">    Reactå¯ä»¥ä½¿ç”¨Create React App (CRA)ï¼Œè€ŒVueå¯¹åº”çš„åˆ™æ˜¯vue-cliã€‚</span><br><span class="line"></span><br><span class="line">- **é…å¥—æ¡†æ¶**</span><br><span class="line"></span><br><span class="line">    Vueçš„æ ¸å¿ƒå›¢é˜Ÿç»´æŠ¤ç€vue-routerå’Œvuexï¼Œ</span><br><span class="line">    å®ƒä»¬ç”±å®˜æ–¹ç»´æŠ¤æ”¯æŒä¸”ä¸æ ¸å¿ƒåº“åŒæ­¥æ›´æ–°çš„ã€‚</span><br><span class="line">    è€ŒReactçš„react-routerå’Œreact-reduxåˆ™æ˜¯ç”±ç¤¾åŒºæˆå‘˜ç»´æŠ¤ï¼Œ</span><br><span class="line">    åˆ›å»ºäº†ä¸€ä¸ªæ›´åˆ†æ•£çš„ç”Ÿæ€ç³»ç»Ÿ</span><br><span class="line"></span><br><span class="line">- **å‘ä¸‹æ‰©å±•**</span><br><span class="line"></span><br><span class="line">    React å­¦ä¹ æ›²çº¿é™¡å³­ï¼Œå­¦ React å‰ï¼Œä½ éœ€è¦çŸ¥é“ JSX å’Œ ES2015ï¼Œ</span><br><span class="line"></span><br><span class="line">- **åŸç”Ÿæ¸²æŸ“**</span><br><span class="line"></span><br><span class="line">    Weex è¿˜åœ¨ç§¯æå‘å±•ï¼Œæˆç†Ÿåº¦ä¹Ÿä¸èƒ½å’Œ React Native ç›¸æŠ—è¡¡ã€‚</span><br><span class="line"></span><br><span class="line">&lt;https:&#x2F;&#x2F;juejin.im&#x2F;post&#x2F;5a9b8417518825558251ce15&gt;</span><br><span class="line"></span><br><span class="line"># reduxåŸç†</span><br><span class="line"></span><br><span class="line">[é“¾æ¥](https:&#x2F;&#x2F;segmentfault.com&#x2F;a&#x2F;1190000004236064)</span><br><span class="line"></span><br><span class="line"># reduxæµç¨‹</span><br><span class="line"></span><br><span class="line">[Redux å…¥é—¨æ•™ç¨‹](http:&#x2F;&#x2F;www.ruanyifeng.com&#x2F;blog&#x2F;2016&#x2F;09&#x2F;redux_tutorial_part_one_basic_usages.html)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>// store<br>// Store å°±æ˜¯ä¿å­˜æ•°æ®çš„åœ°æ–¹ï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹æˆä¸€ä¸ªå®¹å™¨ã€‚æ•´ä¸ªåº”ç”¨åªèƒ½æœ‰ä¸€ä¸ª Storeã€‚</p><p>import { createStore } from â€˜reduxâ€™;<br>const store = createStore(fn);</p><p>//æ•°æ®é›†åˆï¼Œå°±å«åš State<br>const state = store.getState();</p><p>// Action Creatorå®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥ç”Ÿæˆ Action<br>const ADD_TODO = â€˜æ·»åŠ  TODOâ€™;</p><p>function addTodo(text) {<br>  return {<br>    type: ADD_TODO,<br>    text<br>  }<br>}</p><p>const action = addTodo(â€˜Learn Reduxâ€™);</p><p>//store.dispatch()æ˜¯ View å‘å‡º Action çš„å”¯ä¸€æ–¹æ³•ã€‚</p><p>import { createStore } from â€˜reduxâ€™;<br>const store = createStore(fn);</p><p>store.dispatch({<br>  type: â€˜ADD_TODOâ€™,<br>  payload: â€˜Learn Reduxâ€™<br>});</p><p>store.dispatch(addTodo(â€˜Learn Reduxâ€™));</p><p>//Reducer State çš„è®¡ç®—è¿‡ç¨‹å°±å«åš Reducerã€‚<br>æ¥å— Action å’Œå½“å‰ State ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ Stateã€‚</p><p>const reducer = function (state, action) {<br>  // â€¦<br>  return new_state;<br>};</p><p>const defaultState = 0;<br>const reducer = (state = defaultState, action) =&gt; {<br>  switch (action.type) {<br>    case â€˜ADDâ€™:<br>      return state + action.payload;<br>    default:<br>      return state;<br>  }<br>};</p><p>const state = reducer(1, {<br>  type: â€˜ADDâ€™,<br>  payload: 2<br>});</p><p>Reducer å‡½æ•°ä¸ç”¨åƒä¸Šé¢è¿™æ ·æ‰‹åŠ¨è°ƒç”¨ï¼Œstore.dispatchæ–¹æ³•ä¼šè§¦å‘ Reducer çš„è‡ªåŠ¨æ‰§è¡Œã€‚ä¸ºæ­¤ï¼ŒStore éœ€è¦çŸ¥é“ Reducer å‡½æ•°ï¼Œåšæ³•å°±æ˜¯åœ¨ç”Ÿæˆ Store çš„æ—¶å€™ï¼Œå°† Reducer ä¼ å…¥createStoreæ–¹æ³•ã€‚</p><p>import { createStore } from â€˜reduxâ€™;<br>const store = createStore(reducer);</p><p>createStoreæ¥å— Reducer ä½œä¸ºå‚æ•°ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ Storeã€‚ä»¥åæ¯å½“store.dispatchå‘é€è¿‡æ¥ä¸€ä¸ªæ–°çš„ Actionï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨ Reducerï¼Œå¾—åˆ°æ–°çš„ Stateã€‚</p><p>reduceræœ€é‡è¦çš„ç‰¹å¾æ˜¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªçº¯å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æ˜¯åŒæ ·çš„è¾“å…¥ï¼Œå¿…å®šå¾—åˆ°åŒæ ·çš„è¾“å‡ºã€‚</p><p>ä¸å¾—æ”¹å†™å‚æ•°<br>ä¸èƒ½è°ƒç”¨ç³»ç»Ÿ I/O çš„API<br>ä¸èƒ½è°ƒç”¨Date.now()æˆ–è€…Math.random()ç­‰ä¸çº¯çš„æ–¹æ³•ï¼Œå› ä¸ºæ¯æ¬¡ä¼šå¾—åˆ°ä¸ä¸€æ ·çš„ç»“æœ</p><p>å¿…é¡»è¿”å›ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡<br>// State æ˜¯ä¸€ä¸ªå¯¹è±¡<br>function reducer(state, action) {<br>  return Object.assign({}, state, { thingToChange });<br>  // æˆ–è€…<br>  return { â€¦state, â€¦newState };<br>}</p><p>// State æ˜¯ä¸€ä¸ªæ•°ç»„<br>function reducer(state, action) {<br>  return [â€¦state, newItem];<br>}</p><pre><code></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> jQuery </tag>
            
            <tag> æ’ä»¶ </tag>
            
            <tag> å°è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸå‹</title>
      <link href="posts/%E5%8E%9F%E5%9E%8B/"/>
      <url>posts/%E5%8E%9F%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="jsåŸå‹ç»§æ‰¿çš„å‡ ç§æ–¹å¼"><a href="#jsåŸå‹ç»§æ‰¿çš„å‡ ç§æ–¹å¼" class="headerlink" title="jsåŸå‹ç»§æ‰¿çš„å‡ ç§æ–¹å¼"></a>jsåŸå‹ç»§æ‰¿çš„å‡ ç§æ–¹å¼</h2><ol><li>åŸå‹é“¾ç»§æ‰¿</li></ol><p>2ï¼Œæ„é€ å‡½æ•°ç»§æ‰¿ï¼ˆå¯¹è±¡å†’å……ç»§æ‰¿ï¼‰</p><p>3ï¼Œç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾ç»§æ‰¿+æ„é€ å‡½æ•°ç»§æ‰¿ï¼‰</p><p>4ï¼ŒåŸå‹å¼ç»§æ‰¿</p><p>5, å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</p><p>ä¸€ã€‚åŸå‹é“¾ç»§æ‰¿</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=<span class="string">&quot;run&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Run</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.age=<span class="string">&quot;20&quot;</span>; <span class="comment">//Runç»§æ‰¿äº†Show,é€šè¿‡åŸå‹ï¼Œå½¢æˆé“¾æ¡</span></span><br><span class="line">&#125;</span><br><span class="line">Run.prototype=<span class="keyword">new</span> Show();</span><br><span class="line"><span class="keyword">var</span> show=<span class="keyword">new</span> Run();</span><br><span class="line">alert(show.name)<span class="comment">//ç»“æœï¼šrun</span></span><br></pre></td></tr></table></figure><p>äºŒã€‚æ„é€ å‡½æ•°ç»§æ‰¿ï¼ˆå¯¹è±¡å†’å……ç»§æ‰¿ï¼‰</p><p>ä¸ºäº†è§£å†³å¼•ç”¨å…±äº«å’Œè¶…ç±»å‹æ— æ³•ä¼ å‚çš„é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸€ç§å«å€Ÿç”¨æ„é€ å‡½æ•°çš„æŠ€æœ¯ï¼Œæˆ–<br>è€…æˆä¸ºå¯¹è±¡å†’å……(ä¼ªé€ å¯¹è±¡ã€ç»å…¸ç»§æ‰¿)çš„æŠ€æœ¯æ¥è§£å†³è¿™ä¸¤ç§é—®é¢˜</p><p>2.ä¼˜ç¼ºç‚¹<br>å¯ä»¥å®ç°å¤šç»§æ‰¿,ä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Box</span>(<span class="params">age</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=[<span class="string">&#x27;Lee&#x27;</span>,<span class="string">&#x27;Jack&#x27;</span>,<span class="string">&#x27;Hello&#x27;</span>]</span><br><span class="line">    <span class="built_in">this</span>.age=age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Desk</span>(<span class="params">age</span>)</span>&#123;</span><br><span class="line">    Box.call(<span class="built_in">this</span>,age); <span class="comment">//å¯¹è±¡å†’å……ï¼Œç»™è¶…ç±»å‹ä¼ å‚</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> desk = <span class="keyword">new</span> Desk(<span class="number">200</span>);</span><br><span class="line">alert(desk.age);<span class="comment">//200</span></span><br><span class="line">alert(desk.name);<span class="comment">//[&#x27;Lee&#x27;,&#x27;Jack&#x27;,&#x27;Hello&#x27;]</span></span><br><span class="line">desk.name.push(<span class="string">&#x27;AAA&#x27;</span>); <span class="comment">//æ·»åŠ çš„æ–°æ•°æ®ï¼Œåªç»™ desk</span></span><br><span class="line">alert(desk.name)<span class="comment">//[&#x27;Lee&#x27;,&#x27;Jack&#x27;,&#x27;Hello&#x27;,&#x27;AAA&#x27;]</span></span><br></pre></td></tr></table></figure><p>ä¸‰ã€‚ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾ç»§æ‰¿+æ„é€ å‡½æ•°ç»§æ‰¿ï¼‰</p><p>å€Ÿç”¨æ„é€ å‡½æ•°è™½ç„¶è§£å†³äº†åˆšæ‰ä¸¤ç§é—®é¢˜ï¼Œ ä½†æ²¡æœ‰åŸå‹ï¼Œ å¤ç”¨åˆ™æ— ä»è°ˆèµ·ã€‚ æ‰€ä»¥ï¼Œ æˆ‘ä»¬éœ€<br>è¦åŸå‹é“¾+å€Ÿç”¨æ„é€ å‡½æ•°çš„æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼æˆä¸ºç»„åˆç»§æ‰¿ã€‚</p><p>é€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Box</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = [<span class="string">&#x27;Lee&#x27;</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="string">&#x27;Hello&#x27;</span>]</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">Box.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name + <span class="built_in">this</span>.age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Desk</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">    Box.call(<span class="built_in">this</span>, age); <span class="comment">//å¯¹è±¡å†’å……</span></span><br><span class="line">&#125;</span><br><span class="line">Desk.prototype = <span class="keyword">new</span> Box(); <span class="comment">//åŸå‹é“¾ç»§æ‰¿</span></span><br><span class="line">Desk.prototype.constructor = Desk; <span class="comment">// ç»„åˆç»§æ‰¿ä¹Ÿæ˜¯éœ€è¦ä¿®å¤æ„é€ å‡½æ•°æŒ‡å‘çš„ã€‚</span></span><br><span class="line"><span class="keyword">var</span> desk = <span class="keyword">new</span> Desk(<span class="number">100</span>);</span><br><span class="line">alert(desk.run());</span><br></pre></td></tr></table></figure><p>å››ã€‚åŸå‹å¼ç»§æ‰¿</p><p>è¿™ç§ç»§æ‰¿å€ŸåŠ©åŸå‹å¹¶åŸºäºå·²æœ‰çš„å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ï¼Œ<br>åŒæ—¶è¿˜ä¸å¿…å› æ­¤åˆ›å»ºè‡ªå®šä¹‰ç±»å‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">obj</span>(<span class="params">o</span>) </span>&#123; <span class="comment">//ä¼ é€’ä¸€ä¸ªå­—é¢é‡å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125; <span class="comment">//åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line">F.prototype = o; <span class="comment">//æŠŠå­—é¢é‡å‡½æ•°èµ‹å€¼ç»™æ„é€ å‡½æ•°çš„åŸå‹</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> F(); <span class="comment">//æœ€ç»ˆè¿”å›å‡ºå®ä¾‹åŒ–çš„æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> box = &#123; <span class="comment">//å­—é¢é‡å¯¹è±¡</span></span><br><span class="line">    name : <span class="string">&#x27;Lee&#x27;</span>,</span><br><span class="line">    arr : [<span class="string">&#x27;å“¥å“¥&#x27;</span>,<span class="string">&#x27;å¦¹å¦¹&#x27;</span>,<span class="string">&#x27;å§å§&#x27;</span>]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> box1 = obj(box); <span class="comment">//ä¼ é€’</span></span><br><span class="line">alert(box1.name);</span><br><span class="line">box1.name = <span class="string">&#x27;Jack&#x27;</span>;</span><br><span class="line">alert(box1.name);</span><br><span class="line">alert(box1.arr);</span><br><span class="line">box1.arr.push(<span class="string">&#x27;çˆ¶æ¯&#x27;</span>);</span><br><span class="line">alert(box1.arr);</span><br><span class="line"><span class="keyword">var</span> box2 = obj(box); <span class="comment">//ä¼ é€’</span></span><br><span class="line">alert(box2.name);</span><br><span class="line">alert(box2.arr); <span class="comment">//å¼•ç”¨ç±»å‹å…±äº«äº†</span></span><br></pre></td></tr></table></figure><p>äº”ã€‚å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</p><p>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿è§£å†³äº†ä¸¤æ¬¡è°ƒç”¨çš„é—®é¢˜ï¼Œç»„åˆå¼ç»§æ‰¿å°±ä¼šæœ‰ä¸¤æ¬¡è°ƒç”¨çš„æƒ…å†µ</p><p>åŸºæœ¬æ¨¡å‹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    F.prototype = o;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inheritPrototype</span>(<span class="params">subType, superType</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> prototype = object(superType.prototype);  <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">    prototype.constructor = subType;              <span class="comment">//å¢å¼ºå¯¹è±¡</span></span><br><span class="line">    subType.prototype = prototype;                <span class="comment">//æŒ‡å®šå¯¹è±¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åé¢çš„å¯„ç”Ÿå¼ç»§æ‰¿å’Œå¯„ç”Ÿç»„åˆæ¨¡å‹å¼ç»§æ‰¿è¿˜æä¸æ‡‚ï¼Œå“ˆå“ˆå“ˆï¼Œå¥½å°´å°¬</p><p>å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼Œè§£å†³äº†ä¸¤æ¬¡è°ƒç”¨çš„é—®é¢˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Person.prototype.constructor == Person;</span><br><span class="line">person1.__proto__ == Person.prototype;</span><br><span class="line">person1.constructor == Person;</span><br><span class="line"></span><br><span class="line">person1.__proto__ === Person.prototype</span><br><span class="line">Person.__proto__ === <span class="built_in">Function</span>.prototype</span><br><span class="line">Person.prototype.__proto__ === <span class="built_in">Object</span>.prototype</span><br><span class="line"><span class="built_in">Object</span>.__proto__</span><br><span class="line"><span class="built_in">Object</span>.prototype.__proto__ === <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">b.constructor === <span class="built_in">Array</span>;</span><br><span class="line">b.__proto__ === <span class="built_in">Array</span>.prototype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">c.constructor === <span class="built_in">Date</span>;</span><br><span class="line">c.__proto__ === <span class="built_in">Date</span>.prototype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Function</span>();</span><br><span class="line">d.constructor === <span class="built_in">Function</span>;</span><br><span class="line">d.__proto__ === <span class="built_in">Function</span>.prototype;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰€æœ‰å‡½æ•°å¯¹è±¡çš„protoéƒ½æŒ‡å‘Function.prototypeï¼Œå®ƒæ˜¯ä¸€ä¸ªç©ºå‡½æ•°ï¼ˆEmpty functionï¼‰</span></span><br><span class="line"><span class="built_in">Number</span>.__proto__ === <span class="built_in">Function</span>.prototype  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.constructor == <span class="built_in">Function</span> <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Boolean</span>.__proto__ === <span class="built_in">Function</span>.prototype <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>.constructor == <span class="built_in">Function</span> <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>.__proto__ === <span class="built_in">Function</span>.prototype  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">String</span>.constructor == <span class="built_in">Function</span> <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰€æœ‰çš„æ„é€ å™¨éƒ½æ¥è‡ªäºFunction.prototypeï¼Œç”šè‡³åŒ…æ‹¬æ ¹æ„é€ å™¨ObjectåŠFunctionè‡ªèº«</span></span><br><span class="line"><span class="built_in">Object</span>.__proto__ === <span class="built_in">Function</span>.prototype  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.constructor == <span class="built_in">Function</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰€æœ‰çš„æ„é€ å™¨éƒ½æ¥è‡ªäºFunction.prototypeï¼Œç”šè‡³åŒ…æ‹¬æ ¹æ„é€ å™¨ObjectåŠFunctionè‡ªèº«</span></span><br><span class="line"><span class="built_in">Function</span>.__proto__ === <span class="built_in">Function</span>.prototype <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Function</span>.constructor == <span class="built_in">Function</span> <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.__proto__ === <span class="built_in">Function</span>.prototype   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Array</span>.constructor == <span class="built_in">Function</span> <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">RegExp</span>.__proto__ === <span class="built_in">Function</span>.prototype  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">RegExp</span>.constructor == <span class="built_in">Function</span> <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Error</span>.__proto__ === <span class="built_in">Function</span>.prototype   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Error</span>.constructor == <span class="built_in">Function</span> <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Date</span>.__proto__ === <span class="built_in">Function</span>.prototype    <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Date</span>.constructor == <span class="built_in">Function</span> <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Function</span>.prototype) <span class="comment">// function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Object</span>.prototype)   <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Number</span>.prototype)   <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Boolean</span>.prototype)  <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">String</span>.prototype)   <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Array</span>.prototype)    <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">RegExp</span>.prototype)   <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Error</span>.prototype)    <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Date</span>.prototype)     <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Object</span>.prototype)   <span class="comment">// object</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(person1.__proto__ === Person.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.__proto__ === <span class="built_in">Object</span>.prototype) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.__proto__) <span class="comment">//null</span></span><br><span class="line"></span><br><span class="line">Person.__proto__ == <span class="built_in">Function</span>.prototype; <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype)<span class="comment">// function()&#123;&#125; (ç©ºå‡½æ•°)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="keyword">new</span> <span class="built_in">Array</span>()</span><br><span class="line"><span class="built_in">console</span>.log(num.__proto__ == <span class="built_in">Array</span>.prototype) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log( <span class="built_in">Array</span>.prototype.__proto__ == <span class="built_in">Object</span>.prototype) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.prototype) <span class="comment">// [] (ç©ºæ•°ç»„)</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.__proto__) <span class="comment">//null</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.__proto__ == <span class="built_in">Function</span>.prototype)<span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> animal = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"> <span class="keyword">var</span> dog = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"> animal.price = <span class="number">2000</span>;</span><br><span class="line"> dog.prototype = animal;</span><br><span class="line"> <span class="keyword">var</span> tidy = <span class="keyword">new</span> dog();</span><br><span class="line"> <span class="built_in">console</span>.log(dog.price) <span class="comment">//undefined</span></span><br><span class="line"> <span class="built_in">console</span>.log(tidy.price) <span class="comment">// 2000</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŸå‹å’ŒåŸå‹é“¾æ˜¯JSå®ç°ç»§æ‰¿çš„ä¸€ç§æ¨¡å‹ã€‚<br>åŸå‹é“¾çš„å½¢æˆæ˜¯çœŸæ­£æ˜¯é <strong>proto</strong> è€Œéprototype</p><h2 id="JavaScriptç»§æ‰¿å®ç°"><a href="#JavaScriptç»§æ‰¿å®ç°" class="headerlink" title="JavaScriptç»§æ‰¿å®ç°"></a>JavaScriptç»§æ‰¿å®ç°</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">Animal.prototype.speak = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;åŠ¨ç‰©å‘å£°:&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">Dog.prototype = <span class="built_in">Object</span>.create(Animal.prototype);</span><br><span class="line">Dog.prototype.constructor = Dog;</span><br><span class="line">Dog.prototype.speak = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//é€šè¿‡åŸå‹é“¾æ‰¾â€˜åŸºæœ¬ç±»â€™åŸå‹é‡Œçš„åŒåæ–¹æ³•</span></span><br><span class="line">    <span class="built_in">this</span>.__proto__.__proto__.speak.call(<span class="built_in">this</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;æ±ªæ±ª, æˆ‘æ˜¯&#x27;</span>, <span class="built_in">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">Cat.prototype = <span class="built_in">Object</span>.create(Animal.prototype);</span><br><span class="line">Cat.prototype.constructor = Cat;</span><br><span class="line">Cat.prototype.speak = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//é€šè¿‡åŸå‹é“¾æ‰¾â€˜åŸºæœ¬ç±»â€™åŸå‹é‡Œçš„åŒåæ–¹æ³•</span></span><br><span class="line">    <span class="built_in">this</span>.__proto__.__proto__.speak.call(<span class="built_in">this</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;å–µå–µ, æˆ‘æ˜¯&#x27;</span>, <span class="built_in">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨ä»£ç </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animalSpeak</span>(<span class="params">animal</span>) </span>&#123;</span><br><span class="line">    animal.speak();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">animalSpeak(<span class="keyword">new</span> Dog(<span class="string">&#x27;å¤§é»„&#x27;</span>))</span><br><span class="line"><span class="built_in">console</span>.log()</span><br><span class="line">animalSpeak(<span class="keyword">new</span> Cat(<span class="string">&#x27;å°å–µ&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ¨ç‰©å‘å£°:</span></span><br><span class="line"><span class="comment">//æ±ªæ±ª, æˆ‘æ˜¯ å¤§é»„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ¨ç‰©å‘å£°:</span></span><br><span class="line"><span class="comment">//å–µå–µ, æˆ‘æ˜¯ å°å–µ</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Q-javascripté‡Œé¢çš„ç»§æ‰¿æ€ä¹ˆå®ç°ï¼Œå¦‚ä½•é¿å…åŸå‹é“¾ä¸Šé¢çš„å¯¹è±¡å…±äº«"><a href="#Q-javascripté‡Œé¢çš„ç»§æ‰¿æ€ä¹ˆå®ç°ï¼Œå¦‚ä½•é¿å…åŸå‹é“¾ä¸Šé¢çš„å¯¹è±¡å…±äº«" class="headerlink" title="Q: javascripté‡Œé¢çš„ç»§æ‰¿æ€ä¹ˆå®ç°ï¼Œå¦‚ä½•é¿å…åŸå‹é“¾ä¸Šé¢çš„å¯¹è±¡å…±äº«"></a>Q: javascripté‡Œé¢çš„ç»§æ‰¿æ€ä¹ˆå®ç°ï¼Œå¦‚ä½•é¿å…åŸå‹é“¾ä¸Šé¢çš„å¯¹è±¡å…±äº«</h2><p>æˆ‘åœ¨å†™çš„æ—¶å€™,ç”¨äº†ä¸¤ç§,ä¸€ä¸ªæ˜¯ ES5å’Œ ES6çš„æ–¹æ¡ˆ</p><p>ES5:å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿:é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥ç»§æ‰¿å±æ€§å’ŒåŸå‹é“¾æ¥å®ç°å­ç»§æ‰¿çˆ¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ParentClass</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">ParentClass.prototype.sayHello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;I&#x27;m parent!&quot;</span> + <span class="built_in">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubClass</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//è‹¥æ˜¯è¦å¤šä¸ªå‚æ•°å¯ä»¥ç”¨apply ç»“åˆ ...è§£æ„</span></span><br><span class="line">    ParentClass.call(<span class="built_in">this</span>, name);</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">SubClass.prototype = <span class="built_in">Object</span>.create(ParentClass.prototype);</span><br><span class="line">SubClass.prototype.constructor = SubClass;</span><br><span class="line">SubClass.prototype.sayChildHello = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;I&#x27;m child &quot;</span> + <span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> testA = <span class="keyword">new</span> SubClass(<span class="string">&#x27;CRPER&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.create()çš„polyfill</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    function pureObject(o)&#123;</span></span><br><span class="line"><span class="comment">        //å®šä¹‰äº†ä¸€ä¸ªä¸´æ—¶æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">         function F() &#123;&#125;</span></span><br><span class="line"><span class="comment">         //å°†è¿™ä¸ªä¸´æ—¶æ„é€ å‡½æ•°çš„åŸå‹æŒ‡å‘äº†ä¼ å…¥è¿›æ¥çš„å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">         F.prototype = obj;</span></span><br><span class="line"><span class="comment">         //è¿”å›è¿™ä¸ªæ„é€ å‡½æ•°çš„ä¸€ä¸ªå®ä¾‹ã€‚è¯¥å®ä¾‹æ‹¥æœ‰objçš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">         //å› ä¸ºè¯¥å®ä¾‹çš„åŸå‹æ˜¯objå¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">         return new F();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="comment">// ES6: å…¶å®å°±æ˜¯ES5çš„è¯­æ³•ç³–,ä¸è¿‡å¯è¯»æ€§å¾ˆå¼º..</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParentClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">sayHello</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;I&#x27;m parent!&quot;</span> + <span class="built_in">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> <span class="keyword">extends</span> <span class="title">ParentClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">sayChildHello</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;I&#x27;m child &quot;</span> + <span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é‡æ–°å£°æ˜çˆ¶ç±»åŒåæ–¹æ³•ä¼šè¦†å†™,ES5çš„è¯å°±æ˜¯ç›´æ¥æ“ä½œè‡ªå·±çš„åŸå‹é“¾ä¸Š</span></span><br><span class="line">    <span class="function"><span class="title">sayHello</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;override parent method !,I&#x27;m sayHello Method&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> testA = <span class="keyword">new</span> SubClass(<span class="string">&#x27;CRPER&#x27;</span>)</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œå°±ç»“æŸäº†ä¹ˆâ€¦ä¸,è¿™åªæ˜¯ç¬”è¯•,</p><p>é—®çš„æ—¶å€™ä½ ç”¨è¿‡é™æ€æ–¹æ³•,é™æ€å±æ€§,ç§æœ‰å˜é‡ä¹ˆ?</p><p>è¿™ä¸ªé™æ€æ–¹æ³•æ˜¯ES6ä¹‹åæ‰æœ‰è¿™ä¹ˆä¸ªç©æ„,æœ‰è¿™ä¹ˆäº›ç‰¹ç‚¹</p><p>æ–¹æ³•ä¸èƒ½ç»™ thiså¼•ç”¨,å¯ä»¥ç»™ç±»ç›´æ¥å¼•ç”¨<br>é™æ€ä¸å¯ä»¥ç»™å®ä¾‹è°ƒç”¨,æ¯”å¦‚ let a = new ParentClass =&gt; a.sayHello() ä¼šæŠ›å‡ºå¼‚å¸¸<br>çˆ¶ç±»é™æ€æ–¹æ³•,å­ç±»é static æ–¹æ³•æ²¡æ³•è¦†ç›–çˆ¶ç±»<br>é™æ€æ–¹æ³•å¯ä»¥ç»™å­ç±»ç»§æ‰¿<br>é™æ€å±æ€§å¯ä»¥ç»§æ‰¿ä¹Ÿå¯ä»¥è¢«ä¿®æ”¹<br>çœ‹ä¸‹é¢çš„ä»£ç ..</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParentClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="title">sayHello</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;I&#x27;m parent!&quot;</span> + <span class="built_in">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="title">testFunc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;emm...Parent test static Func&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> <span class="keyword">extends</span> <span class="title">ParentClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">sayChildHello</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;I&#x27;m child &quot;</span> + <span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="title">sayHello</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;override parent method !,I&#x27;m sayHello Method&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="title">testFunc2</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">super</span>.testFunc() + <span class="string">&#x27;fsdafasdf&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ParentClass.sayHello(); <span class="comment">// success print</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> ParentClass(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">a.sayHello() <span class="comment">// throw error</span></span><br><span class="line"></span><br><span class="line">SubClass.sayHello(); <span class="comment">// åŒå static å¯ä»¥ç»§æ‰¿ä¸”è¦†ç›–</span></span><br><span class="line"></span><br><span class="line">SubClass.testFunc2(); <span class="comment">// å¯ä»¥ç»§æ‰¿</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> testA = <span class="keyword">new</span> SubClass(<span class="string">&#x27;CRPER&#x27;</span>);</span><br></pre></td></tr></table></figure><p>ç§æœ‰å˜é‡è¿™ä¸ªæˆ‘æ²¡ç­”å‡ºæ¥,åªæ˜¯è¯´äº†ä¸‹æ²¡æœ‰ private è¿™ä¸ªå…³é”®å­—å’ŒåŸºæœ¬ç”¨ä¸‹åˆ’çº¿çš„äººä¸ºåŒºåˆ†</p><p>æ‰€ä»¥å›æ¥åªæ˜¯æ‰¾äº†ä¸‹ç›¸å…³çš„èµ„æ–™,å‘ç°æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ¨¡æ‹Ÿæ–¹æ¡ˆ,å°±æ˜¯ WeakMap ;</p><p>WeakMap å¯ä»¥é¿å…å†…å­˜æ³„éœ²,å½“æ²¡æœ‰è¢«å€¼å¼•ç”¨çš„æ—¶å€™ä¼šè‡ªåŠ¨ç»™å†…å­˜å¯„å­˜å™¨å›æ”¶äº†.</p><p>const _ = new WeakMap(); // å®ä¾‹åŒ–,value å¿…é¡»ä¸ºå¯¹è±¡,æœ‰ delete,get,has,setå››ä¸ªæ–¹æ³•,çœ‹åå­—éƒ½çŸ¥é“äº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestWeakMap</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">id, barcode</span>)</span> &#123;</span><br><span class="line">        __.set(<span class="built_in">this</span>, &#123; id,barcode &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">testFunc</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> &#123; id,barcode &#125; = __.get(<span class="built_in">this</span>); <span class="comment">// è·å–å¯¹åº”çš„å€¼</span></span><br><span class="line">        <span class="keyword">return</span> &#123; id,barcode &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> jQuery </tag>
            
            <tag> æ’ä»¶ </tag>
            
            <tag> å°è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çŸ¥è¯†ç‚¹</title>
      <link href="posts/%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
      <url>posts/%E7%9F%A5%E8%AF%86%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<p>xssé™åˆ¶è„šæœ¬æ‰§è¡Œæ–¹æ³• csp content script policy</p><p>setStateå¤šæ¬¡è°ƒç”¨ï¼Œæ€ä¹ˆæ‰§è¡Œï¼ŒåŸç†</p><p>css headerå›ºå®šï¼Œä¸‹é¢ç™¾åˆ†ç™¾å¸ƒå±€</p><p>cssç”»å„ç§å›¾å½¢</p><p>ç»„ä»¶æ·»åŠ è‡ªå®šä¹‰å†…å®¹ï¼Œ</p><p>æµè§ˆå™¨æ¸²æŸ“é¡µé¢è¿‡ç¨‹</p><p>cssåŠ¨ç”»ä¸è§¦å‘layout</p><p>react diff ç®—æ³•</p><p>promiseå¤šçº§è°ƒç”¨</p><p>å­—ç¬¦ä¸²åŠ å‡ä¹˜é™¤ç±»å‹çš„è½¬äºŒå‰æ ‘æ‰§è¡Œç»“æœ</p><p>ä¸¤ä¸ªæ•°ç»„å»é‡ï¼Œè¿™ä¸ªé‡Œä¸åŒ…å«é‚£ä¸ªé‡Œæœ‰çš„</p><p>å¼‚æ­¥ç”¨actionï¼ŒåŒæ­¥çš„è¯·æ±‚æ€ä¹ˆå¤„ç†</p><p>Dispatchäº†actionï¼Œæ˜¯æ€ä¹ˆè¯†åˆ«è¿™ä¸ªactionçš„</p><h2 id="reduxæµç¨‹ï¼Œä»£ç è¦å†™å‡ºæ¥"><a href="#reduxæµç¨‹ï¼Œä»£ç è¦å†™å‡ºæ¥" class="headerlink" title="reduxæµç¨‹ï¼Œä»£ç è¦å†™å‡ºæ¥"></a>reduxæµç¨‹ï¼Œä»£ç è¦å†™å‡ºæ¥</h2><p>actionæ€ä¹ˆå®šä¹‰ï¼Œæ€ä¹ˆdispatchåˆ°reducerä¸­ï¼Œ<br>æ€ä¹ˆè§¦å‘dispatch å‘é€action</p><p>actionæ€ä¹ˆåé¦ˆåˆ°reducer</p><p>reducerå¤„ç†æ•°æ®çš„ç›®çš„æ˜¯ä»€ä¹ˆ</p><h1 id="webpack-æ¸…é™¤ç¼“å­˜æ€è·¯"><a href="#webpack-æ¸…é™¤ç¼“å­˜æ€è·¯" class="headerlink" title="webpack æ¸…é™¤ç¼“å­˜æ€è·¯"></a>webpack æ¸…é™¤ç¼“å­˜æ€è·¯</h1><p>hashchunkå’ŒchunkåŒºåˆ«</p><h1 id="promiseå¤šæ¬¡ä¾èµ–å¼‚æ­¥è°ƒç”¨æ‰‹å†™ä»£ç "><a href="#promiseå¤šæ¬¡ä¾èµ–å¼‚æ­¥è°ƒç”¨æ‰‹å†™ä»£ç " class="headerlink" title="promiseå¤šæ¬¡ä¾èµ–å¼‚æ­¥è°ƒç”¨æ‰‹å†™ä»£ç "></a>promiseå¤šæ¬¡ä¾èµ–å¼‚æ­¥è°ƒç”¨æ‰‹å†™ä»£ç </h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Promise-then-then"><a href="#Promise-then-then" class="headerlink" title="Promise.then().then()"></a>Promise.then().then()</h1><p>å¤šä¸ªpromise.then().then()</p><p>å¦‚æœå‰é¢çš„.thenæŠ¥é”™åï¼Œåé¢çš„è¿˜ä¼šæ‰§è¡Œå—</p><p>flexå¦‚ä½•è¶…å‡ºèŒƒå›´åå‡ºç°æ»šåŠ¨æ¡ï¼Ÿï¼Ÿï¼Ÿ</p><p>Typeofè¿˜æ˜¯è¦çœ‹çš„ âˆš</p><p>å¯¹è±¡åé¢è·Ÿæ•°å­—ï¼Œæ’åº  sort  âˆš</p><p>Vueçš„ä¸€äº›å¸¸ç”¨æŒ‡ä»¤ âˆš<br>æ˜¾ç¤ºHtml v-html</p><p>Foucï¼Œ âˆš</p><p>V-text</p><p>Watchæ·±åº¦ç›‘å¬ deep: true  âˆš<br>Dataå’ŒcomputedåŒºåˆ«ï¼Œç¼“å­˜</p><p>Popï¼Œpush, å¯¹åº”æ ˆ åœ¨å°¾éƒ¨åˆ é™¤æ·»åŠ <br>shiftï¼Œunshift å¯¹åº”åˆ—ï¼Œåœ¨å¤´éƒ¨åˆ é™¤æ·»åŠ </p><p>React  vueç”Ÿå‘½å‘¨æœŸç»“åˆè·¯ç”±é’©å­è¯´æ˜</p><p>Promiseæ˜¯ä»€ä¹ˆâˆš</p><p>Letå’Œvarçš„åŒºåˆ«âˆš</p><p>é—­åŒ…ï¼Œå›è°ƒ</p><p>äº‹ä»¶å§”æ‰˜</p><p>Reduxçš„åŸç†ï¼Œæµç¨‹</p><p>æµè§ˆå™¨urlåŒ…å«ä»€ä¹ˆ  âˆš</p><p>Jsonpç¼ºç‚¹ï¼ŒåŸç†âˆš</p><p>Vueï¼ŒreactåŒºåˆ«</p><p>Ajaxæ˜¯ä»€ä¹ˆï¼ŒçŠ¶æ€ç </p><p>Gitå›æ»šä¸Šä¸€ä¸ªç‰ˆæœ¬âˆš</p><p>Git  pullå’Œrebase  mergeâˆš</p><p>å·¦å³å¸ƒå±€æ–¹æ³•</p><p>Audio</p><p>Promiseå®ç°å¼‚æ­¥é˜Ÿåˆ—</p><p>Mapå’ŒsetåŒºåˆ«ï¼Œæ€ä¹ˆç”¨<br>Setå’Œarray<br>set keyä¸èƒ½é‡å¤<br>Mapå’Œforeach</p><p>Jsæ•°ç»„è½¬å¯¹è±¡<br>ç”¨reduceå®ç°map</p><p>jQueryæ‰©å±•ç»„ä»¶æ€ä¹ˆå†™</p><p>Ajaxæœ‰å“ªäº›å‚æ•°</p><p>å¤§æ–‡ä»¶æ€ä¹ˆä¸Šä¼ ï¼Œ<br>ä½ç‰ˆæœ¬æµè§ˆå™¨æ€ä¹ˆå…¼å®¹</p><p>ReactåŒçº§ç»„ä»¶ä¼ å€¼</p><p>Cloneæ–¹æ³•å…‹éš†ç»‘å®šäº‹ä»¶</p><p>slice,splice<br>é•¿è¿æ¥å®ç°æ–¹å¼</p><p>socketå’ŒwebsocketåŒºåˆ«</p><p>è½®è¯¢å’Œé•¿è½®è¯¢åŒºåˆ«</p><p>mapå’Œreduceï¼Œç”¨mapå®ç°reduce</p><p>å®ç°a().b().c()  å®šä¹‰{}ï¼Œæ¯ä¸ªæ–¹æ³•return this</p><p>for in for of åŒºåˆ«</p><p>å¯æšä¸¾å’Œä¸å¯æšä¸¾çš„åŒºåˆ«</p><p>ä¸Šä¼ æ–‡ä»¶æ–¹å¼ï¼Œurl-formï¼Œ<br>formDataæ˜¯ä»€ä¹ˆ</p><p>æµè§ˆå™¨ä¸­çš„ç¼“å­˜æœ‰å“ªå‡ ç§ï¼Œå…·ä½“æ€ä¹ˆå·¥ä½œçš„</p><p>å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜</p><p>å®ç°å¹¶å‘è¯·æ±‚å¤šæ¬¡ï¼Œä¾æ¬¡è¿”å›ç»“æœã€‚</p><p>å¦‚æœç¬¬äºŒä¸ªç»“æœä¾èµ–ç¬¬ä¸€ä¸ªç»“æœæ€ä¹ˆå†™</p><p>nextTick, setImmediate, promise</p><p>require ,exports ,module.exports åŒºåˆ«</p><p>é¢è¯•æ€»ç»“ï¼š<br>js:</p><ol><li>thisæŒ‡å‘ï¼ŒPromise this</li><li>é—­åŒ…æ˜¯ä»€ä¹ˆï¼Œè¯´å‡ºæ¥ï¼Œ å†™å‡ºæ¥ï¼Œèƒ½è¯»æ‡‚ç¨‹åº</li><li>åŸå‹é“¾ åŸå‹è¯´å‡ºæ¥ï¼Œå†™å‡ºæ¥ï¼Œè¯»æ‡‚ã€‚ã€‚ã€‚</li></ol><p>reactå’ŒvueåŒºåˆ«</p><p>è®¾è®¡æ¨¡å¼</p><p>ç®—æ³•</p><p>ä¸ªäººé¡¹ç›®ä¸­é‡åˆ°å“ªäº›éš¾å¤„ç†çš„é—®é¢˜ï¼Œæ€ä¹ˆè§£å†³ã€‚</p><p>æ€§èƒ½é—®é¢˜æœ‰å“ªäº›ï¼Œæ€ä¹ˆè§£å†³ï¼Œ</p><p>ç§»åŠ¨ç«¯æœ‰å“ªäº›å…¼å®¹æ–¹æ¡ˆ(rem)</p><p>Generator æ˜¯ä»€ä¹ˆï¼Œ Promiseæ˜¯ä»€ä¹ˆ</p><p>ç»™ä¸€ä¸ªæ•°ç»„ï¼Œæ‰¾å‡ºæœ€å¤§æœ€å°å€¼ï¼Œä»€ä¹ˆæ–¹æ³•æœ€å¿«</p><p>æµ‹è¯•çš„è¯æœ‰å“ªäº›è¾¹ç•Œå€¼éœ€è¦è€ƒè™‘ï¼Œ</p><p>çŠ¶æ€ç </p><p>æ·±æ‹·è´ï¼Œæµ…æ‹·è´ åŒºåˆ«</p><p>reactç”Ÿå‘½å‘¨æœŸï¼Œæ¯ä¸ªç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯ä»€ä¹ˆï¼Œæœ‰å“ªäº›ç‰¹æ®Šç”¨è¿‡çš„ï¼Œ</p><p>ä¸ç”¨Promiseæ€ä¹ˆå®ç°Promise.all</p><p>å†™ä¸ªæ–¹æ³•å…‹éš†jsåŸå§‹ç±»å‹</p><p>CSS:</p><p>ç€‘å¸ƒæµåŸç† column</p><p>å±…ä¸­å¸ƒå±€æœ‰å“ªäº›æ–¹æ³•</p><h2 id="httpç›¸å…³"><a href="#httpç›¸å…³" class="headerlink" title="httpç›¸å…³"></a>httpç›¸å…³</h2><p>httpåè®®ç†è§£</p><p>httpæ˜¯ä»€ä¹ˆæè¿°ï¼Œ<br>æœ‰å“ªäº›å±‚ï¼Œæ¯å±‚éƒ½æœ‰ä»€ä¹ˆï¼Œ</p><p>ipåœ¨å“ªä¸€å±‚</p><p>ç½‘ç»œå±‚æ˜¯å¹²å˜›çš„</p><p>ä¼ è¾“å±‚æœ‰å“ªäº›åè®®ï¼Œ</p><p>tcp/ipåè®®</p><p>æ•°æ®ä»httpä¼ è¿‡æ¥ï¼Œæ¯ä¸€å±‚éƒ½åšä»€ä¹ˆå¤„ç†</p><p>tcpå’Œudpæœ‰ä»€ä¹ˆåŒºåˆ«</p><p>ä¸ªäººäº®ç‚¹æ˜¯ä»€ä¹ˆ</p><p>æœ‰é‡åˆ°ä»€ä¹ˆç‰¹æ®Šçš„ç»éªŒ</p><p>å…¬å¸å¾…é‡ï¼Œè–ªèµ„ç¦åˆ© å·¥ä½œå†…å®¹</p><p>å› ä¸ºçŠ¶æ€ä¸å¥½<br>å› ä¸ºä¸è‡ªä¿¡</p><h3 id="é¢è¯•æ€åº¦ï¼Œå¿ƒæ€å¾ˆé‡è¦å•Šï¼Œè¦å¾®ç¬‘ï¼Œé¢è¯•ä¹‹å‰å¾®ç¬‘ï¼Œç»™è‡ªå·±æ‰“æ°”ï¼é‡Šå½“ç¼“å’Œæ°”æ°›ï¼Œè¯´è¯ä¸è¦ç€æ€¥ï¼Œä¸è¦æŠ¢ç­”ï¼Œæ…¢æ¡æ–¯ç†è¯´å‡ºè‡ªå·±çŸ¥é“çš„ï¼Œä¸çŸ¥é“çš„çŒœçŒœï¼ŒçŒœä¸å‡ºæ¥å¾®ç¬‘å¤§èƒ†æ‰¿è®¤ä¸çŸ¥é“ï¼ŒæŠŠè°ˆè¯çš„æ°›å›´æå¥½å¾ˆé‡è¦ï¼Œå³ä½¿ä¸ä¼šï¼Œä¹Ÿè®©é¢è¯•å®˜è§‰å¾—ä½ æ˜¯æš‚æ—¶å¿˜äº†ï¼Œæ¼”æŠ€è¦ä¸Šçº¿"><a href="#é¢è¯•æ€åº¦ï¼Œå¿ƒæ€å¾ˆé‡è¦å•Šï¼Œè¦å¾®ç¬‘ï¼Œé¢è¯•ä¹‹å‰å¾®ç¬‘ï¼Œç»™è‡ªå·±æ‰“æ°”ï¼é‡Šå½“ç¼“å’Œæ°”æ°›ï¼Œè¯´è¯ä¸è¦ç€æ€¥ï¼Œä¸è¦æŠ¢ç­”ï¼Œæ…¢æ¡æ–¯ç†è¯´å‡ºè‡ªå·±çŸ¥é“çš„ï¼Œä¸çŸ¥é“çš„çŒœçŒœï¼ŒçŒœä¸å‡ºæ¥å¾®ç¬‘å¤§èƒ†æ‰¿è®¤ä¸çŸ¥é“ï¼ŒæŠŠè°ˆè¯çš„æ°›å›´æå¥½å¾ˆé‡è¦ï¼Œå³ä½¿ä¸ä¼šï¼Œä¹Ÿè®©é¢è¯•å®˜è§‰å¾—ä½ æ˜¯æš‚æ—¶å¿˜äº†ï¼Œæ¼”æŠ€è¦ä¸Šçº¿" class="headerlink" title="é¢è¯•æ€åº¦ï¼Œå¿ƒæ€å¾ˆé‡è¦å•Šï¼Œè¦å¾®ç¬‘ï¼Œé¢è¯•ä¹‹å‰å¾®ç¬‘ï¼Œç»™è‡ªå·±æ‰“æ°”ï¼é‡Šå½“ç¼“å’Œæ°”æ°›ï¼Œè¯´è¯ä¸è¦ç€æ€¥ï¼Œä¸è¦æŠ¢ç­”ï¼Œæ…¢æ¡æ–¯ç†è¯´å‡ºè‡ªå·±çŸ¥é“çš„ï¼Œä¸çŸ¥é“çš„çŒœçŒœï¼ŒçŒœä¸å‡ºæ¥å¾®ç¬‘å¤§èƒ†æ‰¿è®¤ä¸çŸ¥é“ï¼ŒæŠŠè°ˆè¯çš„æ°›å›´æå¥½å¾ˆé‡è¦ï¼Œå³ä½¿ä¸ä¼šï¼Œä¹Ÿè®©é¢è¯•å®˜è§‰å¾—ä½ æ˜¯æš‚æ—¶å¿˜äº†ï¼Œæ¼”æŠ€è¦ä¸Šçº¿"></a>é¢è¯•æ€åº¦ï¼Œå¿ƒæ€å¾ˆé‡è¦å•Šï¼Œè¦å¾®ç¬‘ï¼Œé¢è¯•ä¹‹å‰å¾®ç¬‘ï¼Œç»™è‡ªå·±æ‰“æ°”ï¼é‡Šå½“ç¼“å’Œæ°”æ°›ï¼Œè¯´è¯ä¸è¦ç€æ€¥ï¼Œä¸è¦æŠ¢ç­”ï¼Œæ…¢æ¡æ–¯ç†è¯´å‡ºè‡ªå·±çŸ¥é“çš„ï¼Œä¸çŸ¥é“çš„çŒœçŒœï¼ŒçŒœä¸å‡ºæ¥å¾®ç¬‘å¤§èƒ†æ‰¿è®¤ä¸çŸ¥é“ï¼ŒæŠŠè°ˆè¯çš„æ°›å›´æå¥½å¾ˆé‡è¦ï¼Œå³ä½¿ä¸ä¼šï¼Œä¹Ÿè®©é¢è¯•å®˜è§‰å¾—ä½ æ˜¯æš‚æ—¶å¿˜äº†ï¼Œæ¼”æŠ€è¦ä¸Šçº¿</h3><p>ä¸èƒ½å¤§æ„å¤±è†å·ï¼Œä¸€äº›åŸºç¡€çš„cssæ ·å¼è¦å®Œå…¨æ­£ç¡®æ‰‹å†™å‡ºæ¥ï¼ï¼ï¼</p><p>å­¦ä¹ çŸ¥è¯†è¦å…¨é¢ï¼Œäº†è§£äº†å¼‚æ­¥ä¸èƒ½ä¸çŸ¥é“åŒæ­¥è¯¥æ€ä¹ˆå†™ï¼Œ</p><ol><li><p>åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦ä¸ºåŒ…å«å…³ç³»<br> contain, indexOf</p></li><li><p>css flex æ¨¡å‹</p></li><li><p>ä¸€ä¸ªå…ƒç´  å¦‚div ä»topä¸º0 ç§»åŠ¨åˆ°top ä»»æ„ çš„åŠ¨ç”»æ•ˆæœ åŸç”Ÿä»£ç </p></li><li><p>52å¼ ç‰Œ å¹³å‡ éšæœºåˆ†ç»™4ä¸ªäºº</p></li><li><p>å¿«é€Ÿæ’åº</p></li><li><p>10è¿›åˆ¶è½¬64è¿›åˆ¶</p></li><li><p>è½®æ’­å¯¼èˆªï¼šæ…¢æ»‘æ— æƒ¯æ€§æ»‘åŠ¨æ•ˆæœï¼Œå¿«æ»‘è¦æƒ¯æ€§æ»‘åŠ¨ åŸç”Ÿ</p></li><li><p>ç»™ä½ ä¸€ä¸ªç½‘ç«™ å¦‚ä½•åˆ†æå®ƒçš„æ€§èƒ½ ä»¥åŠ è¯´è¯´ ä¼˜åŒ–ç­–ç•¥</p></li><li><p>vue angularjs å®ç°æ•°æ®ç»‘å®šçš„åŸç†</p></li><li><p>react è™šæ‹ŸdomåŸç†</p></li><li><p>ç”¨è¿‡å“ªäº›h5çš„api</p></li><li><p>localStorage ä½¿ç”¨æœ‰ä»€ä¹ˆæƒ³æ³• å¥½å¤„ ç¼ºç‚¹ ä½ æ€ä¹ˆç”¨çš„</p></li><li><p>å¦‚ä½•ç”¨jsè·å–ä¸€ä¸ªå…ƒç´ çš„å®½ å’Œ é«˜</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">#box&#123;</span><br><span class="line">    background-color: lightgrey;</span><br><span class="line">    width: 300px;</span><br><span class="line">    border: 25px solid green;</span><br><span class="line">    padding: 25px;</span><br><span class="line">    margin: 25px;</span><br><span class="line">    height:60px;</span><br><span class="line">&#125;</span><br><span class="line">//è·å–ç›’å­çš„å†…å®¹é«˜åº¦ï¼Œå†…å®¹é«˜åº¦ä¹Ÿå¯ç”¨ç”¨box.clientHeightè·å–ï¼Œå†…å®¹é«˜åº¦ä¸åŒ…æ‹¬è¾¹æ¡†å’Œå¤–è¾¹è·å’Œæ»šåŠ¨æ¡</span><br><span class="line">var box = document.getElementById(&quot;box&quot;)</span><br><span class="line">var contentHeight = window.getComputedStyle(box).height //è¾“å‡º &#x27;60px&#x27;</span><br><span class="line"></span><br><span class="line">//è·å–ç›’å­å®¢æˆ·ç«¯çš„é«˜åº¦</span><br><span class="line">box.clientHeight //è¾“å‡º110 (å†…å®¹é«˜åº¦+padding * 2)</span><br><span class="line"></span><br><span class="line">//è·å–ç›’å­è‡ªèº«å®é™…é«˜åº¦</span><br><span class="line">box.offsetHeight //è¾“å‡º160 (å†…å®¹é«˜åº¦ + å†…è¾¹è·*2 +è¾¹æ¡†*2)</span><br><span class="line"></span><br><span class="line">å¦‚æœboxçš„çˆ¶å®¹å™¨æ²¡æœ‰è®¾ç½®å®šä½ï¼Œåˆ™box.offsetLeftæ˜¯ç›¸å¯¹bodyè€Œè¨€ï¼Œå¦åˆ™æ˜¯æ ¹æ®ç¦»å®ƒæœ€è¿‘ä¸”æœ‰è®¾ç½®å®šä½çš„çˆ¶å®¹å™¨è€Œè¨€</span><br><span class="line">box.offsetLeft //è·å–boxç›’å­ç›¸å¯¹å®ƒçš„çˆ¶å®¹å™¨æ°´å¹³çš„åç§»</span><br><span class="line">box.offsetTop //è·å–boxç›’å­ç›¸å¯¹å®ƒçš„çˆ¶å®¹å™¨å‚ç›´çš„åç§»</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol><li>ç›’å­æ¨¡å‹æœ‰å‡ ç§</li><li>è¡Œå†…å…ƒç´  å—å…ƒç´  æœ‰å“ªäº› åŒºåˆ«æœ‰å“ªäº›</li><li>å®ç° å·¦è¾¹å®šå®½ å³è¾¹è‡ªé€‚åº”å¸ƒå±€</li><li>å­—ç¬¦ä¸²åè½¬</li><li>é€’å½’å’Œå¾ªç¯ äº’ç›¸è½¬æ¢</li><li>æ€§èƒ½è°ƒä¼˜ç­–ç•¥</li><li>äº‹ä»¶æ¨¡å‹</li><li>åŸå‹é“¾ ä»¥åŠ å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå±æ€§ æ˜¯å±äºè¯¥å¯¹è±¡ è¿˜æ˜¯ç»§æ‰¿è‡ªåŸå‹é“¾</li><li>å•é¡µåº”ç”¨ä½ æ€ä¹ˆç†è§£ åšè¿‡å— èŠèŠ</li><li>ä½ å¸¸ç”¨ä»€ä¹ˆè®¾è®¡æ¨¡å¼ èŠèŠ</li><li>è·¨åŸŸè§£å†³ç­–ç•¥å’ŒåŸç†</li><li>æµè§ˆå™¨æ¸²æŸ“è¿‡ç¨‹</li><li>æœ‰å“ªå‡ æµè§ˆå™¨å†…æ ¸</li><li>css åŠ¨ç”»</li><li>ç”¨è¿‡å“ªäº›æ¨¡å—åŠ è½½å·¥å…· èŠèŠ</li><li>å†™å‡ºå‡ ä¸ªå¸¸è§çš„å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´  å¦‚ä½•è½¬æ¢è¿™ä¸¤ç§æ ‡ç­¾çš„è¡Œä¸º</li><li>è¯·å†™å‡ºâ€meâ€ â€œyouâ€ æ‰€åœ¨å…ƒç´ çš„å®é™…è¡Œé«˜</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;font-size:14px;line-height:3&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;font-size:2em&quot;</span>&gt;</span>you</span><br><span class="line">     <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;font-size:3em;line-height:3em;&quot;</span>&gt;</span>me<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li><p>åˆ—ä¸¾5ç§ è§¦å‘ie hasLayoutçš„å±æ€§åŠå…¶å€¼</p></li><li><p>ç”»å‡ºcssç›’å­æ¨¡å‹</p></li><li><p>è¯·å†™å‡ºè‡³å°‘3ä¸ªcss3ç§æ–°æ·»åŠ çš„æ ·å¼å±æ€§</p></li><li><p>å®ç°ä»¥ä¸‹æ–¹æ³•ï¼ˆä¸æ ‡å‡†ä¸€è‡´ï¼‰<br>a.Element.prototype.getElementsByClassName<br>b.Function.prototype.bind<br>c.Array.prototype.every<br>d.Object.create</p></li><li><p>å†™å‡ºjavascriptæœ‰å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹ ä»¥åŠå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„</p></li><li><p>ç¼–å†™ä¸€ä¸ªæ–¹æ³• å»æ‰ä¸€ä¸ªæ•°ç»„çš„é‡å¤å…ƒç´ </p></li><li><p>å†™å‡ºä»¥ä¸‹ç¨‹åºçš„è®¡ç®—ç»“æœ<br>var str = â€œhelloâ€;<br>var fn1 = function(){<br>console.log(str); //hello<br>}<br>var fn2 = function(){<br>var str = â€œworldâ€;<br>fn1();<br>}<br>fn2()//ç»“æœ</p></li><li><p>ç¼–å†™ä¸€ä¸ªæ–¹æ³•shuffleå¾—åˆ°ä¸€ä¸ªæ•°ç»„çš„éšæœºå‰¯æœ¬<br>è¦æ±‚<br>var arr1 = [2,5,3,1,7,12,57,234]<br>var arr2 = shuffle(arr1);// arr2 =&gt; [234,2,3,1,7,57,12,5]</p></li><li><p>å†™ä¸€ä¸ªåˆ¤æ–­ ä¼ å…¥çš„å­—ç¬¦ä¸²æ˜¯æ•°å­—çš„ æ–¹æ³• è¯´å‡ºæ€è·¯ ï¼ˆisNaNï¼‰</p></li><li><p>ç”¨è¿‡æ•°ç»„çš„å“ªäº›api</p></li><li><p>å¤„ç†å…¼å®¹æ€§é—®é¢˜æœ‰å“ªäº›hack</p></li><li><p>è€ƒäº‹ä»¶å§”æ‰˜ï¼šå¦‚æœä½ æœ‰ä¸€ä¸ªåˆ—è¡¨,éœ€æ±‚æ˜¯ åŸç”Ÿæ¥å†™ ç‚¹å‡»liè¦è§¦å‘ä¸€äº›è¡Œä¸ºï¼Œä½†æ˜¯è¿™ä¸ªåˆ—è¡¨æ˜¯åŠ¨æ€çš„ï¼Œæ¯”å¦‚æˆ‘å¯èƒ½ä¸‹æ‹‰åˆ·æ–° æ–°åŠ è½½ä¸Š5æ¡æ•°æ® é‚£ä¹ˆè¿™ä¸ªäº‹ä»¶æ€ä¹ˆç»‘å®š</p></li><li><p>css å¸ƒå±€å¦‚ä½•å®ç°å‚ç›´å±…ä¸­ éƒ½æœ‰å“ªäº›æ–¹æ³•</p></li><li><p>æ€ä¹ˆçœ‹ä¸€ä¸ªcssåŠ¨ç”» æ˜¯å¦æµç•…</p></li><li><p>é‡ç»˜å’Œé‡æ’ ï¼Œä»€ä¹ˆæƒ…å†µå¼•èµ·é‡ç»˜ ä»€ä¹ˆæƒ…å†µå¼•èµ·é‡æ’ æ€ä¹ˆé¿å…ï¼›é‡ç»˜èƒ½å¼•èµ·é‡æ’å— é‡æ’èƒ½å¼•èµ·é‡ç»˜å—</p></li><li><p>è€ƒå¯Ÿé—­åŒ…ï¼šå†™ä¸€ä¸ªå‡½æ•° ä½œç”¨æ˜¯ ç¬¬ä¸€æ¬¡æ‰§è¡Œè¾“å‡º1 ç¬¬äºŒæ¬¡è¾“å‡º2 ç¬¬ä¸‰æ¬¡è¾“å‡º3</p></li><li><p>è€ƒå¯Ÿç®—æ³•ï¼š æ¯”å¦‚ä½ æœ‰ä¸€ä¸ªå¹¿å‘Šç‚¹å‡»çš„æ’ååˆ—è¡¨ ä»é«˜åˆ°åº• ï¼Œç°åœ¨ä½ æœ‰ä¸€ä¸ªå¹¿å‘Š ç‚¹å‡»æ¬¡æ•°500 å¦‚ä½•å¿«é€Ÿä»è¿™ä¸ªåˆ—è¡¨é‡Œ è¿”å›è¿™ä¸ªå¹¿å‘Šçš„ä½ç½®</p></li><li><p>jsonpçš„åŸç†å’Œç¼ºé™·</p></li><li><p>ä¸ºä»€ä¹ˆ<script>é€šå¸¸æ”¾åœ¨<body>åé¢</p></li><li><p>æœ‰æ²¡æœ‰ä»€ä¹ˆæƒ…å†µ<script>å¿…é¡»æ”¾åœ¨headé‡Œï¼Œscriptæ ‡ç­¾ä¸­async å’Œ deferçš„ä½œç”¨</p></li><li><p>é™¤äº† åšé›ªç¢§å›¾ ã€ å‹ç¼©æ··æ·†js è¿˜æœ‰ä»€ä¹ˆæå‡ç½‘é¡µåŠ è½½é€Ÿåº¦çš„æ–¹æ³•</p></li><li><p>å‰ç«¯å®‰å…¨ æœ‰å“ªäº›äº†è§£</p></li><li><p>javascriptçš„ä½œç”¨åŸŸåˆ†æ</p></li><li><p>cookies sessionstorge å’Œ localstorageçš„åŒºåˆ«</p></li><li><p>åˆ†æç»™å‡ºçš„ä»£ç <br>localstorage.setItem(â€œtestâ€,{a:â€1â€,b:â€2â€})<br>localstorage.getItem(â€œtestâ€) //æ‹¿å‡ºæ¥çš„æ˜¯ä»€ä¹ˆ<br>//â€œ[object Object]â€</p></li><li><p>ç”¨åˆ°äº†å“ªäº›css3çš„ä¸œè¥¿</p></li><li><p>é€šè¿‡ å¾ªç¯æ¯ä¸ªåˆ—è¡¨é‡Œçš„å…ƒç´  æ¥è·Ÿ ç›®æ ‡å…ƒç´ åšå¯¹æ¯” ï¼Œæ‰¾åˆ°è¿™ä¸ªå…ƒç´ çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘</p></li><li><p>å†™ä¸€ä¸ªåˆ¤æ–­æ­£æ•´æ•°ã€å°æ•°ã€è´Ÿæ•°çš„æ­£åˆ™</p></li><li><p>http é€šä¿¡çš„å››ä¸ªæ–¹æ³• delete get post pull éƒ½å¹²å˜›çš„ getå’Œdeleteçš„åŒºåˆ«</p></li><li><p>å®ç°$.ready()</p></li><li><p>å‡ ç§æ¨¡å—åŠ è½½å·¥å…·çš„å¯¹æ¯” amd cmdè§„èŒƒ</p></li><li><p>æ„å»ºå·¥å…·ç”¨è¿‡å“ªäº›</p></li><li><p>ä½ åšè¿‡æŠ€æœ¯é€‰å‹å— èŠèŠ</p></li><li><p>ajaxåŸç†ï¼ŒçŠ¶æ€ç ï¼Œé˜¶æ®µå€¼ï¼ˆéœ€è¦èƒ½å¤Ÿå½“åœºæ‰‹å†™åŸç”ŸXMLHttpRequest å®ç°get postï¼‰</p></li><li><p>å†™è¿‡nodeå— å›è°ƒé‡‘å­—å¡” ä½ å¦‚ä½•ç†è§£çš„ å¦‚ä½•åº”å¯¹ï¼ˆæƒ³è€ƒpromise èŠèŠpromiseçš„ç†å¿µå’Œapi å¼‚å¸¸å¤„ç†æ–¹æ³•ï¼‰</p></li><li><p>setTimeout å’ŒsetInterval å¯é å—<br>å¦‚æœå›ç­”å¯é  è€ƒå®˜ä¼šç»™ä½ å†™ä¸€æ®µä»£ç  é—®ä½ æ‰§è¡Œæƒ…å†µ<br>å¦‚æœå›ç­”ä¸å¯é  è€ƒå®˜ä¼šé—®ä½  ä¸ºæ¯›ä¸å¯é </p></li><li><p>èŠèŠcsså®šä½ ï¼ˆå¦‚æœä½ æƒ³åŠ åˆ† å¯ä»¥è¯´fixedæƒ…å†µä¸‹çš„å‘ï¼‰</p></li><li><p>ç§»åŠ¨ç«¯å¼€å‘ç»éªŒ å†™è¿‡è§†è§‰å·®æ•ˆæœå’© æ€ä¹ˆå†™çš„</p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> çŸ¥è¯†ç‚¹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueç†è®º</title>
      <link href="posts/Vue%E7%90%86%E8%AE%BA/"/>
      <url>posts/Vue%E7%90%86%E8%AE%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰ç«¯ç†è®º"><a href="#å‰ç«¯ç†è®º" class="headerlink" title="å‰ç«¯ç†è®º"></a>å‰ç«¯ç†è®º</h2><h2 id="Vue-js-ä¼˜åŠ¿"><a href="#Vue-js-ä¼˜åŠ¿" class="headerlink" title="Vue.js ä¼˜åŠ¿"></a>Vue.js ä¼˜åŠ¿</h2><p>ä¸»è¦æ˜¯åŸºäºä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„è€ƒè™‘ã€‚</p><ul><li><p>ä½“ç§¯ï¼š19kBï¼ˆmin+gzipï¼‰</p></li><li><p>API å’Œå­¦ä¹ æˆæœ¬ï¼š</p></li><li><p>å£°æ˜å¼ç»„ä»¶æ¨¡æ¿å’Œåˆ†ç¦»æ ·å¼è¡¨ï¼Œæ›´æ¥è¿‘äºä¼ ç»Ÿå¼€å‘æ¨¡å¼ï¼ŒæŠµè§¦å¿ƒç†å°ã€‚</p></li><li><p>å“åº”å¼çš„ç»„ä»¶çŠ¶æ€è·Ÿè¸ªï¼šæ›´æ–°çŠ¶æ€ä»£ç æ›´ç®€æ´ï¼Œç»„ä»¶æ ‘é‡æ–°æ¸²æŸ“æ•ˆç‡æ›´é«˜ã€‚</p></li><li><p>æ¸…æ™°ç®€æ´çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å’Œå•å‘æ•°æ®æµï¼šé¡µé¢é€»è¾‘å’ŒçŠ¶æ€æ›´æ–°æ›´å¯æ§ã€‚</p></li><li><p>è¿è¡Œæ—¶æŠ¥é”™å’Œå‘Šè­¦è¯¦ç»†ï¼šæ–¹ä¾¿æ–°æ‰‹å…¥é—¨å’Œè§„é¿å¸¸è§é”™è¯¯ã€‚</p></li><li><p>å·¥å…·é“¾å®Œæ•´æ€§ï¼šwebpackLoaderï¼ˆåŠ è½½ Vue å•æ–‡ä»¶ç»„ä»¶ï¼‰ã€å¼€å‘è€…å·¥å…·ï¼ˆDevToolsï¼‰ã€è„šæ‰‹æ¶ï¼ˆvue-cliï¼‰ã€å•å…ƒæµ‹è¯•å‹å¥½ï¼ˆvue-test-utilsï¼‰ã€‚</p></li><li><p>è¿è¡Œæ—¶æ€§èƒ½ï¼š</p></li><li><p>VirtualDOM æ¥ç®¡ç†ç»„ä»¶æ ‘æ¸²æŸ“åˆ°çœŸå® DOM çš„çŠ¶æ€åŒæ­¥ï¼Œä½¿ç”¨é«˜æ•ˆçš„ç®—æ³•<br>æ¥æœ€å°åŒ– DOM æ“ä½œçš„æ¬¡æ•°ã€‚</p></li><li><p>ç”±äºå“åº”å¼è®¾è®¡ï¼Œä¸éœ€è¦ä¼˜åŒ–ç»„ä»¶æ ‘å†æ¬¡æ¸²æŸ“çš„èŒƒå›´ã€‚</p></li><li><p>ç»„ä»¶æ ‘é™æ€éƒ¨åˆ†è¢«å•ç‹¬å¤„ç†ï¼Œé‡æ–°æ¸²æŸ“ä¸éœ€è¦é‡æ–°æ„å»ºã€‚</p></li><li><p>åŒæ„æ¸²æŸ“ï¼š</p></li><li><p>é«˜æ€§èƒ½ã€å¼€ç®±å³ç”¨çš„æ–¹æ¡ˆï¼ŒåŒ…æ‹¬å‰åç«¯å¯ç”¨çš„è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†ç»„ä»¶ï¼Œé™ä½äº†<br>ä½¿ç”¨çš„é—¨æ§›ã€‚</p></li><li><p>æ·±åº¦ webpack é›†æˆï¼Œç®€åŒ–äº†ä»£ç åˆ†å‰²å’Œæ„å»ºè°ƒè¯•æµç¨‹ã€‚</p></li><li><p>å‰åç«¯åˆ†ç¦»ï¼šå‰ç«¯æ‹¥æœ‰å®Œæ•´ç‹¬ç«‹çš„å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æµç¨‹ï¼Œä¸åç«¯å®Œå…¨åˆ†ç¦»ï¼Œ<br>å‡å°‘æ²Ÿé€šæˆæœ¬ã€‚</p></li><li><p>æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–ï¼šå°è£…å¯é‡ç”¨ UI ç»„ä»¶ã€ä¸šåŠ¡é€»è¾‘ï¼Œæå‡ä»£ç åº“çš„å¯å¤ç”¨æ€§ã€<br>å¯æµ‹è¯•æ€§ã€‚</p></li><li><p>æµç¨‹è‡ªåŠ¨åŒ–ï¼šæå‡æ•ˆç‡ã€é¿å…é‡å¤æ‰‹å·¥å·¥ä½œã€ä¿è¯è´¨é‡ã€è‡ªåŠ¨èµ„æºä¼˜åŒ–ç­‰ç­‰ã€‚</p></li><li><p>é¡µé¢åŠ è½½æ€§èƒ½ä¼˜åŒ–ï¼šå»ºç«‹å‰ç«¯ç›‘æ§ä½“ç³»ã€ä¼˜åŒ–èµ„æºåŠ è½½ã€ä½¿ç”¨ç¦»çº¿åŒ–ç­–ç•¥ã€‚</p></li></ul><h2 id="å‰åç«¯åˆ†ç¦»çš„å…³é”®ç‚¹åœ¨äºå‰ç«¯æ‹¥æœ‰å®Œæ•´ç‹¬ç«‹çš„å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æµç¨‹ï¼Œä¸åç«¯å®Œå…¨åˆ†ç¦»"><a href="#å‰åç«¯åˆ†ç¦»çš„å…³é”®ç‚¹åœ¨äºå‰ç«¯æ‹¥æœ‰å®Œæ•´ç‹¬ç«‹çš„å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æµç¨‹ï¼Œä¸åç«¯å®Œå…¨åˆ†ç¦»" class="headerlink" title="å‰åç«¯åˆ†ç¦»çš„å…³é”®ç‚¹åœ¨äºå‰ç«¯æ‹¥æœ‰å®Œæ•´ç‹¬ç«‹çš„å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æµç¨‹ï¼Œä¸åç«¯å®Œå…¨åˆ†ç¦»"></a>å‰åç«¯åˆ†ç¦»çš„å…³é”®ç‚¹åœ¨äºå‰ç«¯æ‹¥æœ‰å®Œæ•´ç‹¬ç«‹çš„å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æµç¨‹ï¼Œä¸åç«¯å®Œå…¨åˆ†ç¦»</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åœ¨èµ«å°”å¢¨æ–¯é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æŠŠé¡µé¢çš„ç»„è£…å®Œå…¨æ”¾ç½®åˆ°äº†å‰ç«¯é¡¹ç›®ï¼Œåç«¯åªæä¾›</span><br><span class="line">AJAX çš„æ¥å£ç”¨äºè·å–å’Œæäº¤æ•°æ®ã€‚å‰ç«¯é¡µé¢å®Œå…¨é™æ€åŒ–ï¼Œæ„å»ºå®Œæ¯•ä¹‹åè¿åŒç›¸åº”çš„</span><br><span class="line">é™æ€èµ„æºé€šè¿‡ CI ç›´æ¥å‘å¸ƒåˆ° CDN</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h2><p>æ¨¡å—åŒ–å¼€å‘çš„ä¼˜åŠ¿ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ã€‚</p><ul><li>æ›´å¥½çš„ä»£ç ç»„ç»‡ç»“æ„å’Œå¼€å‘åä½œï¼šé€šè¿‡ç»†è‡´çš„æ–‡ä»¶å¤¹ã€æ–‡ä»¶æ‹†åˆ†ï¼Œæ›´æ˜“äºç®¡ç†<br>å¤æ‚çš„ä»£ç åº“ï¼Œæ›´æ˜“äºå¤šäººåä½œå¼€å‘ï¼Œé™ä½æ–‡ä»¶åˆå¹¶æ—¶å€™å†²çªçš„å‘ç”Ÿæ¦‚ç‡ï¼Œæ–¹<br>ä¾¿ç¼–å†™å•å…ƒæµ‹è¯•ã€‚</li><li>ä¾èµ–ç®¡ç†ï¼šä¸å†éœ€è¦æ‰‹åŠ¨ç®¡ç†è„šæœ¬çš„åŠ è½½é¡ºåºã€‚</li><li>ä¼˜åŒ–ï¼š</li><li>ä»£ç æ‰“åŒ…ï¼ˆBundleï¼‰ï¼šåˆå¹¶å°æ¨¡å—ï¼ŒæŠ½å–å…¬å…±æ¨¡å—ï¼Œåœ¨èµ„æºè¯·æ±‚æ•°å’Œæµè§ˆå™¨ç¼“<br>å­˜åˆ©ç”¨æ–¹é¢è¿›è¡Œåˆé€‚çš„å–èˆã€‚</li><li>ä»£ç åˆ†å‰²ï¼ˆSplitï¼‰ï¼šå…è®¸æŒ‰éœ€åŠ è½½ JS ä»£ç ï¼ˆåˆ†è·¯ç”±ã€å¼‚æ­¥ç»„ä»¶ï¼‰ï¼Œè§£å†³å•é¡µé¢<br>åº”ç”¨ï¼ˆSPAï¼‰é¦–å±åŠ è½½é€Ÿåº¦é—®é¢˜ã€‚</li><li>Tree Shakingï¼šåˆ©ç”¨ ES6 æ¨¡å—çš„é™æ€åŒ–ç‰¹æ€§ï¼Œå¯ä»¥åœ¨æ„å»ºè¿‡ç¨‹ä¸­åˆ†æå‡ºä»£<br>ç åº“ä¸­æœªä½¿ç”¨åˆ°çš„ä»£ç ï¼Œä»æœ€ç»ˆçš„ bundle ä¸­å»é™¤ï¼Œä»è€Œå‡å°‘ JSâ—Bundle çš„<br>å°ºå¯¸ã€‚</li><li>Scope Hoistingï¼šES6 æ¨¡å—å†…å®¹å¯¼å…¥å’Œå¯¼å‡ºç»‘å®šæ˜¯æ´»åŠ¨çš„ï¼Œå¯ä»¥å°†å¤šä¸ªå°<br>æ¨¡å—åˆå¹¶åˆ°ä¸€ä¸ªå‡½æ•°å½“ä¸­ï¼Œå¯¹äºé‡å¤å˜é‡åè¿›è¡Œåˆé€‚çš„é‡å‘½åï¼Œä»è€Œå‡å°‘<br>Bundle çš„å°ºå¯¸å’Œæå‡åŠ è½½é€Ÿåº¦ã€‚</li></ul><h2 id="ç»„ä»¶åŒ–"><a href="#ç»„ä»¶åŒ–" class="headerlink" title="ç»„ä»¶åŒ–"></a>ç»„ä»¶åŒ–</h2><p>æ¨¡å—åŒ–æ˜¯è§£å†³å¦‚ä½•å°è£…å’Œå¤ç”¨ä¸€æ®µé€»è¾‘ä»£ç çš„è¯ï¼Œç»„ä»¶åŒ–è¦è§£å†³çš„æ˜¯å¦‚ä½•<br>å°è£…å’Œå¤ç”¨ä¸€ä¸ªç”¨æˆ·ç•Œé¢å…ƒç´ ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªæŒ‰é’®ã€ä¸€ä¸ªå¼¹å‡ºæ¡†ï¼Œäº¦æˆ–æ˜¯ä¸€ä¸ªè½®æ’­å›¾ã€‚</p><h3 id="é¡µé¢-é™æ€é¡µé¢-æ ‘-èŠ‚ç‚¹æè¿°-æ•°æ®-åŠŸèƒ½é€»è¾‘"><a href="#é¡µé¢-é™æ€é¡µé¢-æ ‘-èŠ‚ç‚¹æè¿°-æ•°æ®-åŠŸèƒ½é€»è¾‘" class="headerlink" title="é¡µé¢ = é™æ€é¡µé¢(æ ‘ + èŠ‚ç‚¹æè¿° + æ•°æ®) + åŠŸèƒ½é€»è¾‘"></a>é¡µé¢ = é™æ€é¡µé¢(æ ‘ + èŠ‚ç‚¹æè¿° + æ•°æ®) + åŠŸèƒ½é€»è¾‘</h3><p>æŠ€æœ¯é¢†åŸŸæœ‰ä¸€ä¸ªè½¯ä»¶è®¾è®¡èŒƒå¼ï¼š==â€œçº¦å®šå¤§äºé…ç½®â€==ï¼Œæ—¨åœ¨å‡å°‘ è½¯ä»¶å¼€å‘<br>äººå‘˜éœ€è¦åšå†³å®šçš„æ•°é‡ï¼Œåšåˆ°ç®€å•è€Œåˆä¸å¤±çµæ´»ã€‚åœ¨æ’ä»¶ç¼–å†™è¿‡ç¨‹ä¸­å¼€å‘è€…åº”å¤šæ³¨æ„<br>ä½¿ç”¨åœºæ™¯å’Œæ€§èƒ½çš„æœ‰æœºç»“åˆï¼Œä½¿ç”¨æ°å½“çš„è¯­æ³•ï¼Œå°½å¯èƒ½å‡å°‘å¼€å‘è€…çš„é…â—ç½®ï¼Œä¸æ±‚è¿åˆ<br>å„ä¸ªåœºæ™¯ã€‚</p><h2 id="webViewæ€§èƒ½ä¼˜åŒ–"><a href="#webViewæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="webViewæ€§èƒ½ä¼˜åŒ–"></a>webViewæ€§èƒ½ä¼˜åŒ–</h2><p>æ‰€ä»¥ä¸æµè§ˆå™¨ä¸åŒï¼ŒApp ä¸­æ‰“å¼€ WebView çš„ç¬¬ä¸€æ­¥å¹¶ä¸æ˜¯å»ºç«‹è¿æ¥ï¼Œè€Œæ˜¯å¯<br>åŠ¨æµè§ˆå™¨å†…æ ¸ã€‚</p><ul><li>WebView åˆå§‹åŒ–æ…¢ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–åŒæ—¶å…ˆè¯·æ±‚æ•°æ®ï¼Œè®©åç«¯å’Œç½‘ç»œä¸è¦é—²ç€ã€‚</li><li>åç«¯å¤„ç†æ…¢ï¼Œå¯ä»¥è®©æœåŠ¡å™¨åˆ† trunk è¾“å‡ºï¼Œåœ¨åç«¯è®¡ç®—çš„åŒæ—¶å‰ç«¯ä¹ŸåŠ è½½ç½‘ç»œ<br>é™æ€èµ„æºã€‚</li><li>è„šæœ¬æ‰§è¡Œæ…¢ï¼Œå°±è®©è„šæœ¬åœ¨æœ€åè¿è¡Œï¼Œä¸é˜»å¡é¡µé¢è§£æã€‚</li><li>åŒæ—¶ï¼Œåˆç†çš„é¢„åŠ è½½ã€é¢„ç¼“å­˜å¯ä»¥è®©åŠ è½½é€Ÿåº¦çš„ç“¶é¢ˆæ›´å°ã€‚</li><li>WebView åˆå§‹åŒ–æ…¢ï¼Œå°±éšæ—¶åˆå§‹åŒ–å¥½ä¸€ä¸ª WebView å¾…ç”¨ã€‚</li><li>DNS å’Œé“¾æ¥æ…¢ï¼Œæƒ³åŠæ³•å¤ç”¨å®¢æˆ·ç«¯ä½¿ç”¨çš„åŸŸåå’Œé“¾æ¥ã€‚</li><li>è„šæœ¬æ‰§è¡Œæ…¢ï¼Œå¯ä»¥æŠŠæ¡†æ¶ä»£ç æ‹†åˆ†å‡ºæ¥ï¼Œåœ¨è¯·æ±‚é¡µé¢ä¹‹å‰å°±æ‰§è¡Œå¥½ã€‚</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-cliæ•™ç¨‹</title>
      <link href="posts/Vue-cli%E6%95%99%E7%A8%8B/"/>
      <url>posts/Vue-cli%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>TODO</p><p>vueæ’ä»¶</p><p><a href="https://segmentfault.com/a/1190000012224638">https://segmentfault.com/a/1190000012224638</a></p><h1 id="ç¬¬ä¸€èŠ‚ï¼š-å®‰è£…vue-cli"><a href="#ç¬¬ä¸€èŠ‚ï¼š-å®‰è£…vue-cli" class="headerlink" title="ç¬¬ä¸€èŠ‚ï¼š å®‰è£…vue-cli"></a>ç¬¬ä¸€èŠ‚ï¼š å®‰è£…vue-cli</h1><p>å‰ææ˜¯è¦å®‰è£…nodeå’Œnpmã€‚</p><p>å¯ä»¥åœ¨å‘½ä»¤è¡Œè¾“å…¥npm -vï¼Œæ£€æµ‹æ˜¯å¦å®‰è£…äº†npmå’Œç‰ˆæœ¬æƒ…å†µã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm -v</span><br><span class="line">5.4.2</span><br></pre></td></tr></table></figure><h2 id="ç”¨npmå®‰è£…vue-cli"><a href="#ç”¨npmå®‰è£…vue-cli" class="headerlink" title="ç”¨npmå®‰è£…vue-cli"></a>ç”¨npmå®‰è£…vue-cli</h2><p>ç¡®å®šnpmå®‰è£…æˆåŠŸåï¼Œåœ¨å‘½ä»¤è¡Œå…¨å±€å®‰è£…vue-cli</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-cli -g</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸåï¼Œå°è¯•è¾“å…¥vue -V(æ³¨æ„Væ˜¯å¤§å†™)ï¼Œå‡ºç°ç‰ˆæœ¬ä¿¡æ¯åˆ™å®‰è£…æˆåŠŸã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ vue -V</span><br><span class="line">2.9.1</span><br></pre></td></tr></table></figure><h4 id="macç”µè„‘å®‰è£…vue-licå¤±è´¥"><a href="#macç”µè„‘å®‰è£…vue-licå¤±è´¥" class="headerlink" title="macç”µè„‘å®‰è£…vue-licå¤±è´¥"></a>macç”µè„‘å®‰è£…vue-licå¤±è´¥</h4><p>npm install â€“global vue-cli<br>sudo npm install â€“global vue-cli å³å¯</p><h2 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>ç”¨å‘½ä»¤vue initæ¥åˆå§‹åŒ–é¡¹ç›®ã€‚è¯­æ³•ä»‹ç»  <a href="https://github.com/vuejs/vue-cli">å®˜ç½‘</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init &lt;template-name&gt; &lt;project-name&gt;</span><br></pre></td></tr></table></figure><blockquote><p>initï¼šè¡¨ç¤ºæˆ‘è¦ç”¨vue-cliæ¥åˆå§‹åŒ–é¡¹ç›®<br><template-name>ï¼šè¡¨ç¤ºæ¨¡æ¿åç§°ï¼Œvue-cliå®˜æ–¹ä¸ºæˆ‘ä»¬æä¾›äº†5ç§æ¨¡æ¿ï¼Œ</p></blockquote><ul><li>webpack-ä¸€ä¸ªå…¨é¢çš„webpack+vue-loaderçš„æ¨¡æ¿ï¼ŒåŠŸèƒ½åŒ…æ‹¬çƒ­åŠ è½½ï¼Œlinting,æ£€æµ‹å’ŒCSSæ‰©å±•ã€‚</li><li>webpack-simple-ä¸€ä¸ªç®€å•webpack+vue-loaderçš„æ¨¡æ¿ï¼Œä¸åŒ…å«å…¶ä»–åŠŸèƒ½ï¼Œè®©ä½ å¿«é€Ÿçš„æ­å»ºvueçš„å¼€å‘ç¯å¢ƒã€‚</li><li>browserify-ä¸€ä¸ªå…¨é¢çš„Browserify+vueify çš„æ¨¡æ¿ï¼ŒåŠŸèƒ½åŒ…æ‹¬çƒ­åŠ è½½ï¼Œlinting,å•å…ƒæ£€æµ‹ã€‚</li><li>browserify-simple-ä¸€ä¸ªç®€å•Browserify+vueifyçš„æ¨¡æ¿ï¼Œä¸åŒ…å«å…¶ä»–åŠŸèƒ½ï¼Œè®©ä½ å¿«é€Ÿçš„æ­å»ºvueçš„å¼€å‘ç¯å¢ƒã€‚</li><li>simple-ä¸€ä¸ªæœ€ç®€å•çš„å•é¡µåº”ç”¨æ¨¡æ¿ã€‚</li></ul><blockquote><p><project-name>ï¼šæ ‡è¯†é¡¹ç›®åç§°ï¼Œè¿™ä¸ªä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„é¡¹ç›®æ¥èµ·åå­—ã€‚</p></blockquote><p>åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ä¸€èˆ¬ä¼šä½¿ç”¨webpackè¿™ä¸ªæ¨¡æ¿ã€‚è¿™é‡Œä¹Ÿå®‰è£…è¿™ä¸ªæ¨¡æ¿ã€‚</p><h4 id="åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤"><a href="#åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤" class="headerlink" title="åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤"></a>åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack vue-tutorial</span><br></pre></td></tr></table></figure><p>è¾“å…¥å‘½ä»¤åï¼Œä¼šæœ‰æç¤ºä¿¡æ¯ï¼ŒæŒ‰ç…§éœ€è¦å¡«å†™å³å¯ã€‚</p><ul><li>Project name :é¡¹ç›®åç§° ï¼Œå¦‚æœä¸éœ€è¦æ›´æ”¹ç›´æ¥å›è½¦å°±å¯ä»¥äº†ã€‚æ³¨æ„ï¼šè¿™é‡Œä¸èƒ½ä½¿ç”¨å¤§å†™</li><li>Project description:é¡¹ç›®æè¿°ï¼Œé»˜è®¤ä¸ºA Vue.js project,ç›´æ¥å›è½¦ï¼Œä¸ç”¨ç¼–å†™ã€‚</li><li>Authorï¼šä½œè€…ï¼Œå¦‚æœä½ æœ‰é…ç½®gitçš„ä½œè€…ï¼Œä»–ä¼šè¯»å–ã€‚</li><li>Install  vue-router? æ˜¯å¦å®‰è£…vueçš„è·¯ç”±æ’ä»¶ï¼Œæˆ‘ä»¬è¿™é‡Œéœ€è¦å®‰è£…ï¼Œæ‰€ä»¥é€‰æ‹©Y</li><li>Use ESLint to lint your code? æ˜¯å¦ç”¨ESLintæ¥é™åˆ¶ä½ çš„ä»£ç é”™è¯¯å’Œé£æ ¼ã€‚æˆ‘ä»¬è¿™é‡Œè¾“å…¥yï¼Œå¦‚æœä½ æ˜¯å¤§å‹å›¢é˜Ÿå¼€å‘ï¼Œæœ€å¥½æ˜¯è¿›è¡Œé…ç½®ã€‚</li><li>setup unit tests with  Karma + Mocha? æ˜¯å¦éœ€è¦å®‰è£…å•å…ƒæµ‹è¯•å·¥å…·Karma+Mochaï¼Œæˆ‘ä»¬è¿™é‡Œä¸éœ€è¦ï¼Œæ‰€ä»¥è¾“å…¥nã€‚</li><li>Setup e2e tests with Nightwatch?æ˜¯å¦å®‰è£…e2eæ¥è¿›è¡Œç”¨æˆ·è¡Œä¸ºæ¨¡æ‹Ÿæµ‹è¯•ï¼Œæˆ‘ä»¬è¿™é‡Œä¸éœ€è¦ï¼Œæ‰€ä»¥è¾“å…¥nã€‚</li></ul><p>å¯ä»¥çœ‹åˆ°æç¤ºä¿¡æ¯:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">To get started:</span><br><span class="line"></span><br><span class="line">  cd vue-tutorial</span><br><span class="line">  npm install</span><br><span class="line">  npm run dev</span><br><span class="line"></span><br><span class="line">Documentation can be found at https:&#x2F;&#x2F;vuejs-templates.github.io&#x2F;webpack</span><br></pre></td></tr></table></figure><p>1ã€cd vuecliTest  è¿›å…¥æˆ‘ä»¬çš„vueé¡¹ç›®ç›®å½•ã€‚</p><p>2ã€npm install  å®‰è£…æˆ‘ä»¬çš„é¡¹ç›®ä¾èµ–åŒ…ï¼Œä¹Ÿå°±æ˜¯å®‰è£…package.jsoné‡Œçš„åŒ…ï¼Œå¦‚æœä½ ç½‘é€Ÿä¸å¥½ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨cnpmæ¥å®‰è£…ã€‚</p><p>3ã€npm run dev å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œæˆ‘ä»¬çš„ç¨‹åºã€‚ç»™æˆ‘ä»¬è‡ªåŠ¨æ„å»ºäº†å¼€å‘ç”¨çš„æœåŠ¡å™¨ç¯å¢ƒå’Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œå¹¶å®æ—¶ç›‘è§†æˆ‘ä»¬çš„ä»£ç æ›´æ”¹ï¼Œå³æ—¶å‘ˆç°ç»™æˆ‘ä»¬ã€‚</p><p>è‡³æ­¤ï¼Œå·²ç»å®‰è£…æˆåŠŸï¼Œå¯ä»¥å¼€å§‹å†™vueä»£ç å•¦ã€‚</p><h1 id="ç¬¬äºŒèŠ‚ï¼švue-clié¡¹ç›®ç»“æ„è®²è§£"><a href="#ç¬¬äºŒèŠ‚ï¼švue-clié¡¹ç›®ç»“æ„è®²è§£" class="headerlink" title="ç¬¬äºŒèŠ‚ï¼švue-clié¡¹ç›®ç»“æ„è®²è§£"></a>ç¬¬äºŒèŠ‚ï¼švue-clié¡¹ç›®ç»“æ„è®²è§£</h1><p>vue-cliä¸ºæˆ‘ä»¬æ­å»ºäº†å¼€å‘æ‰€éœ€è¦çš„ç¯å¢ƒï¼Œçœå»äº†å¾ˆå¤šç²¾åŠ›ã€‚æœ‰å¿…è¦å¯¹è¿™ä¸ªç¯å¢ƒè¿›è¡Œç†Ÿæ‚‰ï¼Œæˆ‘ä»¬ä»é¡¹ç›®çš„ç»“æ„è®²èµ·ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">|-- build                            &#x2F;&#x2F; é¡¹ç›®æ„å»º(webpack)ç›¸å…³ä»£ç </span><br><span class="line">|   |-- build.js                     &#x2F;&#x2F; ç”Ÿäº§ç¯å¢ƒæ„å»ºä»£ç </span><br><span class="line">|   |-- check-version.js             &#x2F;&#x2F; æ£€æŸ¥nodeã€npmç­‰ç‰ˆæœ¬</span><br><span class="line">|   |-- dev-client.js                &#x2F;&#x2F; çƒ­é‡è½½ç›¸å…³</span><br><span class="line">|   |-- dev-server.js                &#x2F;&#x2F; æ„å»ºæœ¬åœ°æœåŠ¡å™¨</span><br><span class="line">|   |-- utils.js                     &#x2F;&#x2F; æ„å»ºå·¥å…·ç›¸å…³</span><br><span class="line">|   |-- webpack.base.conf.js         &#x2F;&#x2F; webpackåŸºç¡€é…ç½®</span><br><span class="line">|   |-- webpack.dev.conf.js          &#x2F;&#x2F; webpackå¼€å‘ç¯å¢ƒé…ç½®</span><br><span class="line">|   |-- webpack.prod.conf.js         &#x2F;&#x2F; webpackç”Ÿäº§ç¯å¢ƒé…ç½®</span><br><span class="line">|-- config                           &#x2F;&#x2F; é¡¹ç›®å¼€å‘ç¯å¢ƒé…ç½®</span><br><span class="line">|   |-- dev.env.js                   &#x2F;&#x2F; å¼€å‘ç¯å¢ƒå˜é‡</span><br><span class="line">|   |-- index.js                     &#x2F;&#x2F; é¡¹ç›®ä¸€äº›é…ç½®å˜é‡</span><br><span class="line">|   |-- prod.env.js                  &#x2F;&#x2F; ç”Ÿäº§ç¯å¢ƒå˜é‡</span><br><span class="line">|   |-- test.env.js                  &#x2F;&#x2F; æµ‹è¯•ç¯å¢ƒå˜é‡</span><br><span class="line">|-- src                              &#x2F;&#x2F; æºç ç›®å½•</span><br><span class="line">|   |-- components                     &#x2F;&#x2F; vueå…¬å…±ç»„ä»¶</span><br><span class="line">|   |-- store                          &#x2F;&#x2F; vuexçš„çŠ¶æ€ç®¡ç†</span><br><span class="line">|   |-- App.vue                        &#x2F;&#x2F; é¡µé¢å…¥å£æ–‡ä»¶</span><br><span class="line">|   |-- main.js                        &#x2F;&#x2F; ç¨‹åºå…¥å£æ–‡ä»¶ï¼ŒåŠ è½½å„ç§å…¬å…±ç»„ä»¶</span><br><span class="line">|-- static                           &#x2F;&#x2F; é™æ€æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸€äº›å›¾ç‰‡ï¼Œjsonæ•°æ®ç­‰</span><br><span class="line">|   |-- data                           &#x2F;&#x2F; ç¾¤èŠåˆ†æå¾—åˆ°çš„æ•°æ®ç”¨äºæ•°æ®å¯è§†åŒ–</span><br><span class="line">|-- .babelrc                         &#x2F;&#x2F; ES6è¯­æ³•ç¼–è¯‘é…ç½®</span><br><span class="line">|-- .editorconfig                    &#x2F;&#x2F; å®šä¹‰ä»£ç æ ¼å¼</span><br><span class="line">|-- .gitignore                       &#x2F;&#x2F; gitä¸Šä¼ éœ€è¦å¿½ç•¥çš„æ–‡ä»¶æ ¼å¼</span><br><span class="line">|-- README.md                        &#x2F;&#x2F; é¡¹ç›®è¯´æ˜</span><br><span class="line">|-- favicon.ico</span><br><span class="line">|-- index.html                       &#x2F;&#x2F; å…¥å£é¡µé¢</span><br><span class="line">|-- package.json                     &#x2F;&#x2F; é¡¹ç›®åŸºæœ¬ä¿¡æ¯</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é‡ç‚¹æ–‡ä»¶è®²è§£"><a href="#é‡ç‚¹æ–‡ä»¶è®²è§£" class="headerlink" title="é‡ç‚¹æ–‡ä»¶è®²è§£"></a>é‡ç‚¹æ–‡ä»¶è®²è§£</h2><h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h3><p>package.jsonæ–‡ä»¶æ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œå®šä¹‰è¯¥é¡¹ç›®å¼€å‘æ‰€éœ€è¦çš„å„ç§æ¨¡å—ä»¥åŠä¸€äº›é¡¹ç›®é…ç½®ä¿¡æ¯ï¼ˆå¦‚é¡¹ç›®åç§°ã€ç‰ˆæœ¬ã€æè¿°ã€ä½œè€…ç­‰ï¼‰ã€‚</p><p><strong>package.json é‡Œçš„scriptså­—æ®µ</strong>ï¼Œè¿™ä¸ªå­—æ®µå®šä¹‰äº†ä½ å¯ä»¥ç”¨npmè¿è¡Œçš„å‘½ä»¤ã€‚åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œåœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­è¿è¡Œnpm run dev å°±ç›¸å½“äºæ‰§è¡Œ node build/dev-server.js  .ä¹Ÿå°±æ˜¯å¼€å¯äº†ä¸€ä¸ªnodeå†™çš„å¼€å‘è¡Œå»ºè®®æœåŠ¡å™¨ã€‚ç”±æ­¤å¯ä»¥çœ‹å‡ºscriptå­—æ®µæ˜¯ç”¨æ¥æŒ‡å®šnpmç›¸å…³å‘½ä»¤çš„ç¼©å†™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;dev&quot;: &quot;node build&#x2F;dev-server.js&quot;,</span><br><span class="line">    &quot;start&quot;: &quot;npm run dev&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;node build&#x2F;build.js&quot;,</span><br><span class="line">    &quot;lint&quot;: &quot;eslint --ext .js,.vue src&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="dependencieså­—æ®µå’ŒdevDependencieså­—æ®µ"><a href="#dependencieså­—æ®µå’ŒdevDependencieså­—æ®µ" class="headerlink" title="dependencieså­—æ®µå’ŒdevDependencieså­—æ®µ"></a>dependencieså­—æ®µå’ŒdevDependencieså­—æ®µ</h4><ul><li>dependencieså­—æ®µæŒ‡é¡¹ç›®è¿è¡Œæ—¶æ‰€ä¾èµ–çš„æ¨¡å—ï¼›</li><li>devDependencieså­—æ®µæŒ‡å®šäº†é¡¹ç›®å¼€å‘æ—¶æ‰€ä¾èµ–çš„æ¨¡å—ï¼›</li></ul><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œnpm installå‘½ä»¤ï¼Œä¼šè‡ªåŠ¨å®‰è£…dependencieså’ŒdevDempendencieså­—æ®µä¸­çš„æ¨¡å—ã€‚</p><p>package.jsonè¿˜æœ‰å¾ˆå¤šç›¸å…³é…ç½®ï¼Œå¦‚æœä½ æƒ³å…¨é¢äº†è§£ï¼Œå¯ä»¥ä¸“é—¨å»ç™¾åº¦å­¦ä¹ ä¸€ä¸‹ã€‚</p><h2 id="webpack-é…ç½®ç›¸å…³"><a href="#webpack-é…ç½®ç›¸å…³" class="headerlink" title="webpack é…ç½®ç›¸å…³"></a>webpack é…ç½®ç›¸å…³</h2><p>æˆ‘ä»¬åœ¨ä¸Šé¢è¯´äº†è¿è¡Œnpm run dev å°±ç›¸å½“äºæ‰§è¡Œäº†node build/dev-server.js,è¯´æ˜è¿™ä¸ªæ–‡ä»¶ç›¸å½“é‡è¦ï¼Œå…ˆæ¥ç†Ÿæ‚‰ä¸€ä¸‹å®ƒã€‚ æˆ‘è´´å‡ºä»£ç å¹¶ç»™å‡ºé‡è¦çš„è§£é‡Šã€‚</p><h3 id="dev-server-js"><a href="#dev-server-js" class="headerlink" title="dev-server.js"></a>dev-server.js</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; æ£€æŸ¥ Node å’Œ npm ç‰ˆæœ¬</span><br><span class="line">require(&#39;.&#x2F;check-versions&#39;)()</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è·å– config&#x2F;index.js çš„é»˜è®¤é…ç½®</span><br><span class="line">var config &#x3D; require(&#39;..&#x2F;config&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¦‚æœ Node çš„ç¯å¢ƒæ— æ³•åˆ¤æ–­å½“å‰æ˜¯ dev &#x2F; product ç¯å¢ƒ</span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ config.dev.env.NODE_ENV ä½œä¸ºå½“å‰çš„ç¯å¢ƒ</span><br><span class="line"></span><br><span class="line">if (!process.env.NODE_ENV) process.env.NODE_ENV &#x3D; JSON.parse(config.dev.env.NODE_ENV)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ NodeJS è‡ªå¸¦çš„æ–‡ä»¶è·¯å¾„å·¥å…·</span><br><span class="line">var path &#x3D; require(&#39;path&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ express</span><br><span class="line">var express &#x3D; require(&#39;express&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ webpack</span><br><span class="line">var webpack &#x3D; require(&#39;webpack&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä¸€ä¸ªå¯ä»¥å¼ºåˆ¶æ‰“å¼€æµè§ˆå™¨å¹¶è·³è½¬åˆ°æŒ‡å®š url çš„æ’ä»¶</span><br><span class="line">var opn &#x3D; require(&#39;opn&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ proxyTable</span><br><span class="line">var proxyMiddleware &#x3D; require(&#39;http-proxy-middleware&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ dev ç¯å¢ƒçš„ webpack é…ç½®</span><br><span class="line">var webpackConfig &#x3D; require(&#39;.&#x2F;webpack.dev.conf&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; default port where dev server listens for incoming traffic</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¦‚æœæ²¡æœ‰æŒ‡å®šè¿è¡Œç«¯å£ï¼Œä½¿ç”¨ config.dev.port ä½œä¸ºè¿è¡Œç«¯å£</span><br><span class="line">var port &#x3D; process.env.PORT || config.dev.port</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Define HTTP proxies to your custom API backend</span><br><span class="line">&#x2F;&#x2F; https:&#x2F;&#x2F;github.com&#x2F;chimurai&#x2F;http-proxy-middleware</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ config.dev.proxyTable çš„é…ç½®ä½œä¸º proxyTable çš„ä»£ç†é…ç½®</span><br><span class="line">var proxyTable &#x3D; config.dev.proxyTable</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ express å¯åŠ¨ä¸€ä¸ªæœåŠ¡</span><br><span class="line">var app &#x3D; express()</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¯åŠ¨ webpack è¿›è¡Œç¼–è¯‘</span><br><span class="line">var compiler &#x3D; webpack(webpackConfig)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¯åŠ¨ webpack-dev-middlewareï¼Œå°† ç¼–è¯‘åçš„æ–‡ä»¶æš‚å­˜åˆ°å†…å­˜ä¸­</span><br><span class="line">var devMiddleware &#x3D; require(&#39;webpack-dev-middleware&#39;)(compiler, &#123;</span><br><span class="line">  publicPath: webpackConfig.output.publicPath,</span><br><span class="line">  stats: &#123;</span><br><span class="line">    colors: true,</span><br><span class="line">    chunks: false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¯åŠ¨ webpack-hot-middlewareï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ Hot-reload</span><br><span class="line">var hotMiddleware &#x3D; require(&#39;webpack-hot-middleware&#39;)(compiler)</span><br><span class="line">&#x2F;&#x2F; force page reload when html-webpack-plugin template changes</span><br><span class="line">compiler.plugin(&#39;compilation&#39;, function (compilation) &#123;</span><br><span class="line">  compilation.plugin(&#39;html-webpack-plugin-after-emit&#39;, function (data, cb) &#123;</span><br><span class="line">    hotMiddleware.publish(&#123; action: &#39;reload&#39; &#125;)</span><br><span class="line">    cb()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; proxy api requests</span><br><span class="line">&#x2F;&#x2F; å°† proxyTable ä¸­çš„è¯·æ±‚é…ç½®æŒ‚åœ¨åˆ°å¯åŠ¨çš„ express æœåŠ¡ä¸Š</span><br><span class="line">Object.keys(proxyTable).forEach(function (context) &#123;</span><br><span class="line">  var options &#x3D; proxyTable[context]</span><br><span class="line">  if (typeof options &#x3D;&#x3D;&#x3D; &#39;string&#39;) &#123;</span><br><span class="line">    options &#x3D; &#123; target: options &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  app.use(proxyMiddleware(context, options))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; handle fallback for HTML5 history API</span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ connect-history-api-fallback åŒ¹é…èµ„æºï¼Œå¦‚æœä¸åŒ¹é…å°±å¯ä»¥é‡å®šå‘åˆ°æŒ‡å®šåœ°å€</span><br><span class="line">app.use(require(&#39;connect-history-api-fallback&#39;)())</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; serve webpack bundle output</span><br><span class="line">&#x2F;&#x2F; å°†æš‚å­˜åˆ°å†…å­˜ä¸­çš„ webpack ç¼–è¯‘åçš„æ–‡ä»¶æŒ‚åœ¨åˆ° express æœåŠ¡ä¸Š</span><br><span class="line">app.use(devMiddleware)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; enable hot-reload and state-preserving</span><br><span class="line">&#x2F;&#x2F; compilation error display</span><br><span class="line">&#x2F;&#x2F; å°† Hot-reload æŒ‚åœ¨åˆ° express æœåŠ¡ä¸Š</span><br><span class="line">app.use(hotMiddleware)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; serve pure static assets</span><br><span class="line">&#x2F;&#x2F; æ‹¼æ¥ static æ–‡ä»¶å¤¹çš„é™æ€èµ„æºè·¯å¾„</span><br><span class="line">var staticPath &#x3D; path.posix.join(config.dev.assetsPublicPath, config.dev.assetsSubDirectory)</span><br><span class="line">&#x2F;&#x2F; ä¸ºé™æ€èµ„æºæä¾›å“åº”æœåŠ¡</span><br><span class="line">app.use(staticPath, express.static(&#39;.&#x2F;static&#39;))</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è®©æˆ‘ä»¬è¿™ä¸ª express æœåŠ¡ç›‘å¬ port çš„è¯·æ±‚ï¼Œå¹¶ä¸”å°†æ­¤æœåŠ¡ä½œä¸º dev-server.js çš„æ¥å£æš´éœ²</span><br><span class="line">module.exports &#x3D; app.listen(port, function (err) &#123;</span><br><span class="line">  if (err) &#123;</span><br><span class="line">    console.log(err)</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line">  var uri &#x3D; &#39;http:&#x2F;&#x2F;localhost:&#39; + port</span><br><span class="line">  console.log(&#39;Listening at &#39; + uri + &#39;\n&#39;)</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; when env is testing, don&#39;t need open it</span><br><span class="line">  &#x2F;&#x2F; å¦‚æœä¸æ˜¯æµ‹è¯•ç¯å¢ƒï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨å¹¶è·³åˆ°æˆ‘ä»¬çš„å¼€å‘åœ°å€</span><br><span class="line">  if (process.env.NODE_ENV !&#x3D;&#x3D; &#39;testing&#39;) &#123;</span><br><span class="line">    opn(uri)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="webpack-base-confg-js-webpackçš„åŸºç¡€é…ç½®æ–‡ä»¶"><a href="#webpack-base-confg-js-webpackçš„åŸºç¡€é…ç½®æ–‡ä»¶" class="headerlink" title="webpack.base.confg.js   webpackçš„åŸºç¡€é…ç½®æ–‡ä»¶"></a>webpack.base.confg.js   webpackçš„åŸºç¡€é…ç½®æ–‡ä»¶</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">module.export &#x3D; &#123;</span><br><span class="line">    &#x2F;&#x2F; ç¼–è¯‘å…¥å£æ–‡ä»¶</span><br><span class="line">    entry: &#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F; ç¼–è¯‘è¾“å‡ºè·¯å¾„</span><br><span class="line">    output: &#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F; ä¸€äº›è§£å†³æ–¹æ¡ˆé…ç½®</span><br><span class="line">    resolve: &#123;&#125;,</span><br><span class="line">    resolveLoader: &#123;&#125;,</span><br><span class="line">    module: &#123;</span><br><span class="line">        &#x2F;&#x2F; å„ç§ä¸åŒç±»å‹æ–‡ä»¶åŠ è½½å™¨é…ç½®</span><br><span class="line">        loaders: &#123;</span><br><span class="line">        ...</span><br><span class="line">        ...</span><br><span class="line">        &#x2F;&#x2F; jsæ–‡ä»¶ç”¨babelè½¬ç </span><br><span class="line">        &#123;</span><br><span class="line">            test: &#x2F;\.js$&#x2F;,</span><br><span class="line">            loader: &#39;babel&#39;,</span><br><span class="line">            include: projectRoot,</span><br><span class="line">            &#x2F;&#x2F; å“ªäº›æ–‡ä»¶ä¸éœ€è¦è½¬ç </span><br><span class="line">            exclude: &#x2F;node_modules&#x2F;</span><br><span class="line">        &#125;,</span><br><span class="line">        ...</span><br><span class="line">        ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; vueæ–‡ä»¶ä¸€äº›ç›¸å…³é…ç½®</span><br><span class="line">    vue: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¦ç»†çš„webpackçŸ¥è¯†å¯ä»¥åœ¨webpacké‡Œå­¦ä¹ ã€‚</p><h2 id="babelrc"><a href="#babelrc" class="headerlink" title=".babelrc"></a>.babelrc</h2><p>Babelè§£é‡Šå™¨çš„é…ç½®æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨æ ¹ç›®å½•ä¸‹ã€‚Babelæ˜¯ä¸€ä¸ªè½¬ç å™¨ï¼Œé¡¹ç›®é‡Œéœ€è¦ç”¨å®ƒå°†ES6ä»£ç è½¬ä¸ºES5ä»£ç ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹babelçš„çŸ¥è¯†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &#x2F;&#x2F;è®¾å®šè½¬ç è§„åˆ™</span><br><span class="line">  &quot;presets&quot;: [</span><br><span class="line">    [&quot;env&quot;, &#123; &quot;modules&quot;: false &#125;],</span><br><span class="line">    &quot;stage-2&quot;</span><br><span class="line">  ],</span><br><span class="line">  &#x2F;&#x2F;è½¬ç ç”¨çš„æ’ä»¶</span><br><span class="line">  &quot;plugins&quot;: [&quot;transform-runtime&quot;],</span><br><span class="line">  &quot;comments&quot;: false,</span><br><span class="line">  &#x2F;&#x2F;å¯¹BABEL_ENVæˆ–è€…NODE_ENVæŒ‡å®šçš„ä¸åŒçš„ç¯å¢ƒå˜é‡ï¼Œè¿›è¡Œä¸åŒçš„ç¼–è¯‘æ“ä½œ</span><br><span class="line">  &quot;env&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &#123;</span><br><span class="line">      &quot;presets&quot;: [&quot;env&quot;, &quot;stage-2&quot;],</span><br><span class="line">      &quot;plugins&quot;: [ &quot;istanbul&quot; ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="editorconfig"><a href="#editorconfig" class="headerlink" title=".editorconfig"></a>.editorconfig</h2><p>è¯¥æ–‡ä»¶å®šä¹‰é¡¹ç›®çš„ç¼–ç è§„èŒƒï¼Œç¼–è¯‘å™¨çš„è¡Œä¸ºä¼šä¸.editorconfigæ–‡ä»¶ä¸­å®šä¹‰çš„ä¸€è‡´ï¼Œå¹¶ä¸”å…¶ä¼˜å…ˆçº§æ¯”ç¼–è¯‘å™¨è‡ªèº«çš„è®¾ç½®è¦é«˜ï¼Œè¿™åœ¨å¤šäººåˆä½œå¼€å‘é¡¹ç›®æ—¶ååˆ†æœ‰ç”¨è€Œä¸”å¿…è¦ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root &#x3D; true</span><br><span class="line"></span><br><span class="line">[*]    &#x2F;&#x2F; å¯¹æ‰€æœ‰æ–‡ä»¶åº”ç”¨ä¸‹é¢çš„è§„åˆ™</span><br><span class="line">charset &#x3D; utf-8                    &#x2F;&#x2F; ç¼–ç è§„åˆ™ç”¨utf-8</span><br><span class="line">indent_style &#x3D; space               &#x2F;&#x2F; ç¼©è¿›ç”¨ç©ºæ ¼</span><br><span class="line">indent_size &#x3D; 2                    &#x2F;&#x2F; ç¼©è¿›æ•°é‡ä¸º2ä¸ªç©ºæ ¼</span><br><span class="line">end_of_line &#x3D; lf                   &#x2F;&#x2F; æ¢è¡Œç¬¦æ ¼å¼</span><br><span class="line">insert_final_newline &#x3D; true        &#x2F;&#x2F; æ˜¯å¦åœ¨æ–‡ä»¶çš„æœ€åæ’å…¥ä¸€ä¸ªç©ºè¡Œ</span><br><span class="line">trim_trailing_whitespace &#x3D; true    &#x2F;&#x2F; æ˜¯å¦åˆ é™¤è¡Œå°¾çš„ç©ºæ ¼</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æ¯”è¾ƒé‡è¦çš„å…³äºvue-cliçš„é…ç½®æ–‡ä»¶ï¼Œå½“ç„¶è¿˜æœ‰å¾ˆå¤šæ–‡ä»¶ï¼Œæˆ‘ä»¬ä¼šåœ¨ä»¥åçš„æ–‡ç« ä¸­è®²è§£ã€‚</p><h1 id="ç¬¬3èŠ‚ï¼š-è§£è¯»vue-cliæ¨¡æ¿"><a href="#ç¬¬3èŠ‚ï¼š-è§£è¯»vue-cliæ¨¡æ¿" class="headerlink" title="ç¬¬3èŠ‚ï¼š è§£è¯»vue-cliæ¨¡æ¿"></a>ç¬¬3èŠ‚ï¼š è§£è¯»vue-cliæ¨¡æ¿</h1><p>æˆ‘ä»¬é€šè¿‡ä¸¤èŠ‚è¯¾çš„è®²è§£ï¼Œä½ å¯¹vue-cliåº”è¯¥æœ‰äº†åŸºæœ¬çš„äº†è§£ï¼Œè¿™èŠ‚æˆ‘ä»¬ä¸»è¦äº†è§£ä¸€ä¸‹Vue-cliçš„æ¨¡æ¿æ“ä½œï¼ŒåŒ…æ‹¬å¢åŠ æ¨¡æ¿ï¼Œä¿®æ”¹æ¨¡æ¿ï¼Œä»¥åŠä¸€ä¸ªå¸¸è§„æ¨¡æ¿çš„åŸºæœ¬ç»“æ„ã€‚</p><h2 id="ä¸€ã€npm-run-build-å‘½ä»¤"><a href="#ä¸€ã€npm-run-build-å‘½ä»¤" class="headerlink" title="ä¸€ã€npm run build å‘½ä»¤"></a>ä¸€ã€npm run build å‘½ä»¤</h2><p>å¦‚ä½•æŠŠå†™å¥½çš„Vueç½‘é¡µæ”¾åˆ°æœåŠ¡å™¨ä¸Šï¼Œè¿™é‡Œè®²è§£ä¸€ä¸‹ï¼Œä¸»è¦çš„å‘½ä»¤å°±æ˜¯è¦ç”¨åˆ°npm run build å‘½ä»¤ã€‚</p><p>æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥npm run buildå‘½ä»¤åï¼Œvue-cliä¼šè‡ªåŠ¨è¿›è¡Œé¡¹ç›®å‘å¸ƒæ‰“åŒ…ã€‚</p><p>åœ¨package.jsonæ–‡ä»¶çš„scriptså­—æ®µä¸­å¯ä»¥çœ‹å‡ºï¼Œä½ æ‰§è¡Œçš„npm run buildå‘½ä»¤å°±ç›¸å¯¹æ‰§è¡Œçš„ node build/build.js</p><p>åœ¨æ‰§è¡Œå®Œnpm run buildå‘½ä»¤åï¼Œåœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆäº†distæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹é‡Œè¾¹å°±æ˜¯æˆ‘ä»¬è¦ä¼ åˆ°æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ã€‚</p><p>distæ–‡ä»¶å¤¹ä¸‹ç›®å½•åŒ…æ‹¬ï¼š</p><ul><li>index.html ä¸»é¡µæ–‡ä»¶:å› ä¸ºæˆ‘ä»¬å¼€å‘çš„æ˜¯å•é¡µwebåº”ç”¨ï¼Œæ‰€ä»¥è¯´ä¸€èˆ¬åªæœ‰ä¸€ä¸ªhtmlæ–‡ä»¶ã€‚</li><li>static é™æ€èµ„æºæ–‡ä»¶å¤¹ï¼šé‡Œè¾¹jsã€CSSå’Œä¸€äº›å›¾ç‰‡ã€‚</li></ul><h2 id="äºŒã€main-jsæ–‡ä»¶è§£è¯»"><a href="#äºŒã€main-jsæ–‡ä»¶è§£è¯»" class="headerlink" title="äºŒã€main.jsæ–‡ä»¶è§£è¯»"></a>äºŒã€main.jsæ–‡ä»¶è§£è¯»</h2><p>main.jsæ˜¯æ•´ä¸ªé¡¹ç›®çš„å…¥å£æ–‡ä»¶,åœ¨srcæ–‡ä»¶å¤¹ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;App&#39;</span><br><span class="line">import router from &#39;.&#x2F;router&#39;</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip &#x3D; false   &#x2F;&#x2F;ç”Ÿäº§ç¯å¢ƒæç¤ºï¼Œè¿™é‡Œè®¾ç½®æˆäº†false</span><br><span class="line"></span><br><span class="line">&#x2F;* eslint-disable no-new *&#x2F;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;,</span><br><span class="line">  router,</span><br><span class="line">  template: &#39;&lt;App&#x2F;&gt;&#39;,</span><br><span class="line">  components: &#123; App &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä»£ç å¯ä»¥çœ‹å‡ºè¿™é‡Œå¼•è¿›äº†Appçš„ç»„ä»¶å’Œ<App/>çš„æ¨¡æ¿ï¼Œå®ƒæ˜¯é€šè¿‡ import App from â€˜./Appâ€™è¿™å¥ä»£ç å¼•å…¥çš„ã€‚</p><p>æˆ‘ä»¬æ‰¾åˆ°App.vueæ–‡ä»¶ï¼Œæ‰“å¼€æŸ¥çœ‹ã€‚</p><h2 id="ä¸‰ã€App-vueæ–‡ä»¶"><a href="#ä¸‰ã€App-vueæ–‡ä»¶" class="headerlink" title="ä¸‰ã€App.vueæ–‡ä»¶"></a>ä¸‰ã€App.vueæ–‡ä»¶</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;.&#x2F;assets&#x2F;logo.png&quot;&gt;</span><br><span class="line">    &lt;router-view&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;app&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: &#39;Avenir&#39;, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>app.vueæ–‡ä»¶æˆ‘ä»¬å¯ä»¥åˆ†æˆä¸‰éƒ¨åˆ†è§£è¯»ï¼Œ</p><ul><li><strong><template></template>æ ‡ç­¾åŒ…è£¹çš„å†…å®¹</strong>ï¼šè¿™æ˜¯æ¨¡æ¿çš„HTMLDomç»“æ„ï¼Œé‡Œè¾¹å¼•å…¥äº†ä¸€å¼ å›¾ç‰‡å’Œ<router-view></router-view>æ ‡ç­¾ï¼Œ<br><router-view>æ ‡ç­¾è¯´æ˜ä½¿ç”¨äº†è·¯ç”±æœºåˆ¶ã€‚æˆ‘ä»¬ä¼šåœ¨ä»¥åä¸“é—¨æ‹¿å‡ºä¸€ç¯‡æ–‡ç« è®²Vue-routerã€‚</li><li><strong><script></script>æ ‡ç­¾åŒ…æ‹¬çš„jså†…å®¹</strong>ï¼šä½ å¯ä»¥åœ¨è¿™é‡Œäº›ä¸€äº›é¡µé¢çš„åŠ¨æ€æ•ˆæœå’ŒVueçš„é€»è¾‘ä»£ç ã€‚</li><li><strong><style></style>æ ‡ç­¾åŒ…è£¹çš„csså†…å®¹</strong>ï¼šè¿™é‡Œå°±æ˜¯ä½ å¹³æ—¶å†™çš„CSSæ ·å¼ï¼Œå¯¹é¡µé¢æ ·å­è¿›è¡Œè£…é¥°ç”¨çš„ï¼Œ<br>  éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ä½ ==å¯ä»¥ç”¨<style scoped></style>æ¥å£°æ˜è¿™äº›cssæ ·å¼åªåœ¨æœ¬æ¨¡æ¿ä¸­èµ·ä½œç”¨==ã€‚</li></ul><h1 id="å››ã€router-index-js-è·¯ç”±æ–‡ä»¶"><a href="#å››ã€router-index-js-è·¯ç”±æ–‡ä»¶" class="headerlink" title="å››ã€router/index.js è·¯ç”±æ–‡ä»¶"></a>å››ã€router/index.js è·¯ç”±æ–‡ä»¶</h1><p>åœ¨app.vueä¸­æˆ‘ä»¬çœ‹åˆ°äº†è·¯ç”±æ–‡ä»¶ï¼Œè™½ç„¶routerçš„å†…å®¹æ¯”è¾ƒå¤šï¼Œä½†æ˜¯æˆ‘ä»¬å…ˆç®€å•çš„çœ‹ä¸€ä¸‹ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line">import HelloWorld from &#39;@&#x2F;components&#x2F;HelloWorld&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">export default new Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: &#39;&#x2F;&#39;,</span><br><span class="line">      name: &#39;Hello&#39;,</span><br><span class="line">      component: HelloWorld</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° import Hello from â€˜@/components/Helloâ€™è¿™å¥è¯ï¼Œ æ–‡ä»¶å¼•å…¥äº†/components/Hello.vueæ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶é‡Œå°±é…ç½®äº†ä¸€ä¸ªè·¯ç”±ï¼Œå°±æ˜¯å½“æˆ‘ä»¬è®¿é—®ç½‘ç«™æ—¶ç»™æˆ‘ä»¬æ˜¾ç¤ºHello.vueçš„å†…å®¹ã€‚</p><h2 id="äº”ã€Hello-vueæ–‡ä»¶è§£è¯»"><a href="#äº”ã€Hello-vueæ–‡ä»¶è§£è¯»" class="headerlink" title="äº”ã€Hello.vueæ–‡ä»¶è§£è¯»"></a>äº”ã€Hello.vueæ–‡ä»¶è§£è¯»</h2><p>è¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åœ¨ç¬¬ä¸€èŠ‚è¯¾çœ‹åˆ°çš„é¡µé¢æ–‡ä»¶äº†ã€‚ä¹Ÿæ˜¯åˆ†ä¸º<template><script><style>ä¸‰ä¸ªéƒ¨åˆ†ï¼Œä»¥åæˆ‘ä»¬å¤§éƒ¨åˆ†çš„å·¥ä½œéƒ½æ˜¯å†™è¿™äº›.vueç»“å°¾çš„æ–‡ä»¶ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥è¯•ç€æ”¹ä¸€äº›å†…å®¹ï¼Œç„¶åé¢„è§ˆä¸€ä¸‹ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Essential Links<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://vuejs.org&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>Core Docs<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://forum.vuejs.org&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>Forum<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://chat.vuejs.org&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>Community Chat<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://twitter.com/vuejs&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>Twitter<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://vuejs-templates.github.io/webpack/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>Docs for This Template<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Ecosystem<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://router.vuejs.org/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>vue-router<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://vuex.vuejs.org/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>vuex<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://vue-loader.vuejs.org/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>vue-loader<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/vuejs/awesome-vue&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>awesome-vue<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">      name: <span class="string">&#x27;HelloWorld&#x27;</span>,</span></span><br><span class="line">      data () &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">          msg: <span class="string">&#x27;Welcome to Your Vue.js App&#x27;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">    h1, h2 &#123;</span><br><span class="line">      font-weight: normal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ul &#123;</span><br><span class="line">      list-style-type: none;</span><br><span class="line">      padding: 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li &#123;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      margin: 0 10px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    a &#123;</span><br><span class="line"><span class="css">      <span class="selector-tag">color</span>: <span class="selector-id">#42b983</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ä¸ªæ•™ç¨‹åªæ˜¯å¸¦ç€ä½ å¤§æ¦‚æµè§ˆå’Œé‡ç‚¹è®²è§£äº†vue-cliçš„çŸ¥è¯†ï¼Œå¦‚æœä½ æƒ³å®Œå…¨å¼„æ˜ç™½vue-cliï¼Œæˆ‘å»ºè®®æœ€å¥½æ˜¯æœ‰è°ƒç†çš„é˜…è¯»æ‰€æœ‰ä»£ç ï¼Œè¿™å¯¹ä½ ä»¥åæˆä¸ºvueå®é™…é¡¹ç›®<br>çš„å¼€å‘å¾ˆæœ‰å¸®åŠ©ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªåˆå­¦è€…ï¼Œäº†è§£è¿™äº›å·²ç»è¶³å¤Ÿå‘ä¸‹å­¦ä¹ äº†ã€‚è¿™ç¯‡æ•™ç¨‹ç»“æŸåï¼Œå­¦ä¹ vue-routerçš„çŸ¥è¯†ï¼Œvue-routeræ˜¯ä¸€ä¸ªé‡ç‚¹å­¦ä¹ ä»»åŠ¡.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>VueXå…¥é—¨è¿›é˜¶</title>
      <link href="posts/VueX%20%E5%85%A5%E9%97%A8%E8%BF%9B%E9%98%B6/"/>
      <url>posts/VueX%20%E5%85%A5%E9%97%A8%E8%BF%9B%E9%98%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="Vuexç®€ä»‹"><a href="#Vuexç®€ä»‹" class="headerlink" title="Vuexç®€ä»‹"></a>Vuexç®€ä»‹</h2><blockquote><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.jsåº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚<br>çŠ¶æ€ç®¡ç†dataä¸­çš„å±æ€§ éœ€è¦å…±äº«ç»™å…¶ä»–vueç»„ä»¶ä½¿ç”¨çš„éƒ¨åˆ†ï¼Œå°±å«åšçŠ¶æ€ã€‚ç®€å•çš„è¯´å°±æ˜¯dataä¸­éœ€è¦å…±ç”¨çš„å±æ€§ã€‚<br>æ¯”å¦‚ï¼Œç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œç”¨æˆ·åç§°ç­‰ç›¸å…³ä¿¡æ¯ã€‚å¦‚æœä¸æŠŠè¿™äº›å±æ€§è®¾ç½®ä¸ºçŠ¶æ€ï¼Œæ¯ä¸ªé¡µé¢é‡åˆ°åï¼Œéƒ½ä¼šå‘é€è¯·æ±‚ï¼Œä»æœåŠ¡å™¨ç«¯è·å–ï¼Œå†è¿”å›å‰ç«¯ã€‚åœ¨å¤§å‹é¡¹ç›®ä¸­ä¼šæœ‰å¾ˆå¤šå…±ç”¨çš„æ•°æ®ã€‚æ‰€ä»¥æä¾›äº†vuex.</p></blockquote><h2 id="ç¬¬ä¸€èŠ‚-åˆå‡ºèŒ…åºï¼Œæ¥ä¸ªdemo"><a href="#ç¬¬ä¸€èŠ‚-åˆå‡ºèŒ…åºï¼Œæ¥ä¸ªdemo" class="headerlink" title="ç¬¬ä¸€èŠ‚ åˆå‡ºèŒ…åºï¼Œæ¥ä¸ªdemo"></a>ç¬¬ä¸€èŠ‚ åˆå‡ºèŒ…åºï¼Œæ¥ä¸ªdemo</h2><p>è¿™ä¸ªæ•™ç¨‹æ˜¯åŸºäºvue-cliçš„é¡¹ç›®åšçš„å¼€å‘ã€‚æ‰€ä»¥ç¡®ä¿vue-cliï¼Œvueå¼€å‘ç¯å¢ƒæ˜¯okçš„ã€‚</p><h3 id="1-å®‰è£…vuex"><a href="#1-å®‰è£…vuex" class="headerlink" title="1. å®‰è£…vuex"></a>1. å®‰è£…vuex</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex --save</span><br></pre></td></tr></table></figure><p>å› ä¸ºç”Ÿäº§ç¯å¢ƒè¦ç”¨ï¼Œæ‰€ä»¥æ˜¯â€“save</p><h3 id="2-æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹ä¸‹æ–°å»ºindex-jsï¼Œæ–‡ä»¶ä¸­å¼•å…¥vueå’Œvuex"><a href="#2-æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹ä¸‹æ–°å»ºindex-jsï¼Œæ–‡ä»¶ä¸­å¼•å…¥vueå’Œvuex" class="headerlink" title="2. æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹ä¸‹æ–°å»ºindex.jsï¼Œæ–‡ä»¶ä¸­å¼•å…¥vueå’Œvuex"></a>2. æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹ä¸‹æ–°å»ºindex.jsï¼Œæ–‡ä»¶ä¸­å¼•å…¥vueå’Œvuex</h3><p>src/store/index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ç®—å¼•ç”¨æˆåŠŸäº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p><h2 id="å…¥é—¨Demo"><a href="#å…¥é—¨Demo" class="headerlink" title="å…¥é—¨Demo"></a>å…¥é—¨Demo</h2><p>é€šè¿‡åšä¸€ä¸ªè®¡æ•°å™¨çš„demoæ¥ç»ƒä¹ vuexçš„åŸºæœ¬æ“ä½œï¼Œå¹¶å®ç°æ•°æ®å…±äº«ã€‚</p><h3 id="1-åœ¨store-index-jsä¸­å¢åŠ ä¸€ä¸ªå¸¸é‡å¯¹è±¡ã€‚â€“-state"><a href="#1-åœ¨store-index-jsä¸­å¢åŠ ä¸€ä¸ªå¸¸é‡å¯¹è±¡ã€‚â€“-state" class="headerlink" title="1. åœ¨store/index.jsä¸­å¢åŠ ä¸€ä¸ªå¸¸é‡å¯¹è±¡ã€‚â€“==state=="></a>1. åœ¨store/index.jsä¸­å¢åŠ ä¸€ä¸ªå¸¸é‡å¯¹è±¡ã€‚â€“==state==</h3><p>store/index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    count: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-ç”¨export-defaultå°è£…ä»£ç ï¼Œè®©å¤–éƒ¨å¯ä»¥å¼•ç”¨"><a href="#2-ç”¨export-defaultå°è£…ä»£ç ï¼Œè®©å¤–éƒ¨å¯ä»¥å¼•ç”¨" class="headerlink" title="2. ç”¨export defaultå°è£…ä»£ç ï¼Œè®©å¤–éƒ¨å¯ä»¥å¼•ç”¨"></a>2. ç”¨export defaultå°è£…ä»£ç ï¼Œè®©å¤–éƒ¨å¯ä»¥å¼•ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="3-æ–°å»ºä¸€ä¸ªvueæ¨¡æ¿ï¼Œåœ¨componentsæ–‡ä»¶å¤¹ä¸‹ï¼ŒCount-vue-åœ¨æ¨¡æ¿ä¸­å¼•å…¥åˆšå»ºçš„index-js-å¹¶åœ¨æ¨¡æ¿ä¸­ç”¨è¾“å‡ºcountçš„å€¼"><a href="#3-æ–°å»ºä¸€ä¸ªvueæ¨¡æ¿ï¼Œåœ¨componentsæ–‡ä»¶å¤¹ä¸‹ï¼ŒCount-vue-åœ¨æ¨¡æ¿ä¸­å¼•å…¥åˆšå»ºçš„index-js-å¹¶åœ¨æ¨¡æ¿ä¸­ç”¨è¾“å‡ºcountçš„å€¼" class="headerlink" title="3. æ–°å»ºä¸€ä¸ªvueæ¨¡æ¿ï¼Œåœ¨componentsæ–‡ä»¶å¤¹ä¸‹ï¼ŒCount.vue.åœ¨æ¨¡æ¿ä¸­å¼•å…¥åˆšå»ºçš„index.js, å¹¶åœ¨æ¨¡æ¿ä¸­ç”¨è¾“å‡ºcountçš„å€¼"></a>3. æ–°å»ºä¸€ä¸ªvueæ¨¡æ¿ï¼Œåœ¨componentsæ–‡ä»¶å¤¹ä¸‹ï¼ŒCount.vue.åœ¨æ¨¡æ¿ä¸­å¼•å…¥åˆšå»ºçš„index.js, å¹¶åœ¨æ¨¡æ¿ä¸­ç”¨è¾“å‡ºcountçš„å€¼</h3><p>components/Count.vue</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;h2&gt;&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;hr/&gt;</span><br><span class="line">      &lt;h3&gt;&#123;&#123;$store.state.count&#125;&#125;&lt;/h3&gt;</span><br><span class="line">      &lt;button @click=<span class="string">&quot;$store.commit(&#x27;add&#x27;)&quot;</span>&gt; åŠ åˆ† &lt;/button&gt;</span><br><span class="line">      &lt;button @click=<span class="string">&quot;$store.commit(&#x27;reduce&#x27;)&quot;</span>&gt; å‡åˆ† &lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span></span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">        data () &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                msg: <span class="string">&#x27;Hello Vuex&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        store</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="4-åœ¨store-index-jsä¸­åŠ å…¥ä¸¤ä¸ªæ”¹å˜stateçš„æ–¹æ³•â€“-mutation"><a href="#4-åœ¨store-index-jsä¸­åŠ å…¥ä¸¤ä¸ªæ”¹å˜stateçš„æ–¹æ³•â€“-mutation" class="headerlink" title="4. åœ¨store/index.jsä¸­åŠ å…¥ä¸¤ä¸ªæ”¹å˜stateçš„æ–¹æ³•â€“==mutation=="></a>4. åœ¨store/index.jsä¸­åŠ å…¥ä¸¤ä¸ªæ”¹å˜stateçš„æ–¹æ³•â€“==mutation==</h3><p>store/index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    count: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–°å¢</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    add (state) &#123;</span><br><span class="line">        state.count ++</span><br><span class="line">    &#125;,</span><br><span class="line">    reduce (state) &#123;</span><br><span class="line">        state.count --</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state,</span><br><span class="line">    <span class="comment">// æ–°å¢</span></span><br><span class="line">    mutations</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„mutationsæ˜¯å›ºå®šçš„å†™æ³•ï¼Œç¨åä¼šç»†è®²ã€‚åªéœ€è¦çŸ¥é“æ”¹å˜stateæ•°å€¼çš„æ–¹æ³•ï¼Œå¿…é¡»å†™åœ¨mutationsé‡Œã€‚</p><h3 id="5-åœ¨Count-vueæ¨¡æ¿ä¸­åŠ å…¥ä¸¤ä¸ªæŒ‰é’®ï¼Œå¹¶è°ƒç”¨mutationsä¸­çš„æ–¹æ³•"><a href="#5-åœ¨Count-vueæ¨¡æ¿ä¸­åŠ å…¥ä¸¤ä¸ªæŒ‰é’®ï¼Œå¹¶è°ƒç”¨mutationsä¸­çš„æ–¹æ³•" class="headerlink" title="5. åœ¨Count.vueæ¨¡æ¿ä¸­åŠ å…¥ä¸¤ä¸ªæŒ‰é’®ï¼Œå¹¶è°ƒç”¨mutationsä¸­çš„æ–¹æ³•"></a>5. åœ¨Count.vueæ¨¡æ¿ä¸­åŠ å…¥ä¸¤ä¸ªæŒ‰é’®ï¼Œå¹¶è°ƒç”¨mutationsä¸­çš„æ–¹æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$store.commit(&#x27;add&#x27;)&quot;</span>&gt;</span> åŠ åˆ† <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$store.commit(&#x27;reduce&#x27;)&quot;</span>&gt;</span> å‡åˆ† <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>éœ€è¦åœ¨è·¯ç”±ä¸­åŠ å…¥countï¼Œå¹¶å¯ä»¥è·³è½¬åˆ°countï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p><p>ç°åœ¨å°±å¯ä»¥å¯¹vuexä¸­çš„countè¿›è¡ŒåŠ å‡äº†ã€‚</p><h2 id="ç¬¬äºŒèŠ‚-stateè®¿é—®çŠ¶æ€å¯¹è±¡"><a href="#ç¬¬äºŒèŠ‚-stateè®¿é—®çŠ¶æ€å¯¹è±¡" class="headerlink" title="ç¬¬äºŒèŠ‚ stateè®¿é—®çŠ¶æ€å¯¹è±¡"></a>ç¬¬äºŒèŠ‚ stateè®¿é—®çŠ¶æ€å¯¹è±¡</h2><p>åœ¨ç¬¬ä¸€èŠ‚å·²ç»å†™äº†ä¸€ä¸ªconst state,è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¯´çš„è®¿é—®çŠ¶æ€å¯¹è±¡ï¼Œå®ƒå°±æ˜¯æˆ‘ä»¬SPA(å•é¡µåº”ç”¨ç¨‹åº)ä¸­å…±äº«å€¼ã€‚</p><p>ä»Šå¤©å­¦ä¹ çŠ¶æ€å¯¹è±¡èµ‹å€¼ç»™å†…éƒ¨å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æŠŠstoreçš„å€¼èµ‹å€¼ç»™æ¨¡æ¿é‡Œçš„dataä¸­çš„å€¼ã€‚</p><p>==<strong>ï¼ˆè¯»å–stateçš„å€¼ï¼‰</strong>==</p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>ä¸Šä¸€èŠ‚ä¸­ï¼Œåœ¨Count.vueç»„ä»¶ä¸­è·å–vuexçš„å€¼æ˜¯é€šè¿‡è¿™ç§æ–¹å¼è·å–çš„ï¼Œä½†è¿™ç§æ–¹å¼å¹¶ä¸ä¼˜é›…ã€‚è¿™é‡Œç”¨3ç§æ–¹å¼æ”¹å†™ã€‚</p><p>æœ‰3ç§èµ‹å€¼æ–¹å¼ã€‚</p><h3 id="1-é€šè¿‡computedè®¡ç®—å±æ€§ç›´æ¥èµ‹å€¼"><a href="#1-é€šè¿‡computedè®¡ç®—å±æ€§ç›´æ¥èµ‹å€¼" class="headerlink" title="1. é€šè¿‡computedè®¡ç®—å±æ€§ç›´æ¥èµ‹å€¼"></a>1. é€šè¿‡computedè®¡ç®—å±æ€§ç›´æ¥èµ‹å€¼</h3><p><a href="https://cn.vuejs.org/v2/guide/computed.html#%E5%9F%BA%E7%A1%80%E4%BE%8B%E5%AD%90">computedå±æ€§</a>å¯ä»¥åœ¨å±æ€§è¾“å‡ºå‰ï¼Œå¯¹dataä¸­çš„å€¼è¿›è¡Œæ”¹å˜ï¼Œç°åœ¨å°±åˆ©ç”¨è¿™ç§ç‰¹æ€§æŠŠstore.jsä¸­çš„stateå€¼èµ‹ç»™æ¨¡æ¿ä¸­çš„dataå€¼</p><p>æ³¨æ„ï¼š computedçš„å±æ€§æ˜¯åœ¨ç»„ä»¶ä¸­çš„ï¼Œä¸æ˜¯åœ¨storeä¸­ã€‚</p><p>Count.vue</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            msg: <span class="string">&#x27;Hello Vuex&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">        count () &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.$store.state.count</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    store</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„ï¼Œä¸€å®šè¦å†™this,</p><p>åœ¨é¡µé¢æ˜¾ç¤ºçš„åœ°æ–¹æ›¿æ¢ä¸ºcount</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- &lt;h3&gt;&#123;&#123;$store.state.count&#125;&#125;&lt;/h3&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-é€šè¿‡mapStateçš„å¯¹è±¡æ¥èµ‹å€¼"><a href="#2-é€šè¿‡mapStateçš„å¯¹è±¡æ¥èµ‹å€¼" class="headerlink" title="2. é€šè¿‡mapStateçš„å¯¹è±¡æ¥èµ‹å€¼"></a>2. é€šè¿‡mapStateçš„å¯¹è±¡æ¥èµ‹å€¼</h3><ol><li><p>å¼•å…¥mapState</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;mapState&#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨computedè®¡ç®—å±æ€§é‡Œå†™å¦‚ä¸‹ä»£ç </p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">computed: mapState(&#123;</span><br><span class="line">    count: <span class="function"><span class="params">state</span> =&gt;</span> state.count</span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure><p> è¿™é‡Œæˆ‘ä»¬ç”¨ES6çš„ç®­å¤´å‡½æ•°æ¥ç»™countèµ‹å€¼ã€‚</p></li></ol><h3 id="3-é€šè¿‡mapStateçš„æ•°ç»„æ¥èµ‹å€¼"><a href="#3-é€šè¿‡mapStateçš„æ•°ç»„æ¥èµ‹å€¼" class="headerlink" title="3. é€šè¿‡mapStateçš„æ•°ç»„æ¥èµ‹å€¼"></a>3. é€šè¿‡mapStateçš„æ•°ç»„æ¥èµ‹å€¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">computed: mapState([<span class="string">&#x27;count&#x27;</span>])</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¿™ç§å†™æ³•æ˜¯é”™è¯¯çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">computed: mapState[<span class="string">&#x27;count&#x27;</span>],</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç®—æ˜¯æœ€ç®€å•çš„å†™æ³•ï¼Œåœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ä¹Ÿç»å¸¸è¿™æ ·ç”¨ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è¿™å°±æ˜¯ä¸‰ç§èµ‹å€¼æ–¹å¼ï¼Œè™½ç„¶ç®€å•ï¼Œä½†å®é™…é¡¹ç›®ä¸­ç»å¸¸ä½¿ç”¨ã€‚ä¸€å®šè¦å¤šç»ƒä¹ ã€‚</p><h2 id="ç¬¬ä¸‰èŠ‚-mutationsä¿®æ”¹çŠ¶æ€"><a href="#ç¬¬ä¸‰èŠ‚-mutationsä¿®æ”¹çŠ¶æ€" class="headerlink" title="ç¬¬ä¸‰èŠ‚ mutationsä¿®æ”¹çŠ¶æ€"></a>ç¬¬ä¸‰èŠ‚ mutationsä¿®æ”¹çŠ¶æ€</h2><p>mutationsä¿®æ”¹stateçš„æ•°æ®</p><p>ä¸ŠèŠ‚å­¦ä¹ äº†æ€ä¹ˆè¯»å–stateï¼Œè¿™èŠ‚å­¦ä¹  ==<strong>å¦‚ä½•ä¿®æ”¹çŠ¶æ€</strong>==ã€‚è¿™ä¸ªåœ¨ç¬¬ä¸€èŠ‚è¯¾å·²ç»ç¢°åˆ°è¿‡ï¼Œå¹¶è¿›è¡Œäº†åŠ å‡æ“ä½œï¼Œè¿™èŠ‚å…·ä½“å­¦ä¹ å¦‚ä½•æ“ä½œmutationsã€‚</p><h3 id="store-commit"><a href="#store-commit" class="headerlink" title="$store.commit()"></a>$store.commit()</h3><p>vuexæä¾›äº†commitæ–¹æ³•æ¥ä¿®æ”¹çŠ¶æ€</p><p>å›é¡¾ä¸€ä¸‹ä¹‹å‰ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•</p><p>Count.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$store.commit(&#x27;add&#x27;)&quot;</span>&gt;</span> åŠ åˆ† <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$store.commit(&#x27;reduce&#x27;)&quot;</span>&gt;</span> å‡åˆ† <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>store/index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    add (state) &#123;</span><br><span class="line">        state.count ++</span><br><span class="line">    &#125;,</span><br><span class="line">    reduce (state) &#123;</span><br><span class="line">        state.count --</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¼ å€¼"><a href="#ä¼ å€¼" class="headerlink" title="ä¼ å€¼"></a>ä¼ å€¼</h3><p>ä¸Šé¢åªæ˜¯ä¸€ä¸ªç®€å•çš„ä¿®æ”¹çŠ¶æ€æ“ä½œã€‚å®é™…é¡¹ç›®ä¸­å¸¸å¸¸éœ€è¦åœ¨ä¿®æ”¹çŠ¶æ€æ—¶ä¼ å€¼ã€‚æ¯”å¦‚ä¸Šè¾¹çš„ä¾‹å­æ¯æ¬¡åªåŠ 1ï¼Œç°åœ¨è¦é€šè¿‡æ‰€ä¼ çš„å€¼ç›¸åŠ ã€‚</p><p>å…¶å®åªéœ€è¦åœ¨mutationsé‡Œå†åŠ ä¸€ä¸ªå‚æ•°ï¼Œå¹¶åœ¨commitçš„æ—¶å€™ä¼ é€’å°±å¯ä»¥äº†ã€‚å¦‚ä¸‹</p><p>store/index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="comment">// æ–°å¢</span></span><br><span class="line">    add (state, n) &#123;</span><br><span class="line">        state.count += n</span><br><span class="line">    &#125;,</span><br><span class="line">    reduce (state) &#123;</span><br><span class="line">        state.count --</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨Count.vueé‡Œä¿®æ”¹æŒ‰é’®çš„commit()æ–¹æ³•çš„å‚æ•°ï¼Œä¼ 10ï¼Œå³æ¯æ¬¡åŠ 10</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$store.commit(&#x27;add&#x27;, 10)&quot;</span>&gt;</span> åŠ åˆ† <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$store.commit(&#x27;reduce&#x27;)&quot;</span>&gt;</span> å‡åˆ† <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¼ å€¼å°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ã€‚</p><h3 id="æ¨¡æ¿è·å–mutationsæ–¹æ³•"><a href="#æ¨¡æ¿è·å–mutationsæ–¹æ³•" class="headerlink" title="æ¨¡æ¿è·å–mutationsæ–¹æ³•"></a>æ¨¡æ¿è·å–mutationsæ–¹æ³•</h3><p>å®é™…å¼€å‘ä¸­ä¹Ÿä¸å–œæ¬¢çœ‹åˆ°$store.commit()è¿™æ ·çš„æ–¹æ³•å‡ºç°ï¼Œå¸Œæœ›è·Ÿè°ƒç”¨ç»„ä»¶é‡Œçš„æ–¹æ³•ä¸€æ ·è°ƒç”¨ã€‚</p><p>ä¾‹å¦‚ï¼š @click=â€reduceâ€, å°±å’Œæ²¡å¼•ç”¨vuexæ’ä»¶ä¸€æ ·ã€‚</p><p>è¦è¾¾åˆ°è¿™ç§å†™æ³•ï¼Œåªéœ€è¦ç®€å•çš„ä¸¤æ­¥</p><ol><li><p>åœ¨ç»„ä»¶Count.vueé‡Œç”¨importå¼•å…¥mapMutations</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState, mapMutations &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨ç»„ä»¶çš„scriptæ ‡ç­¾é‡Œæ·»åŠ methodså±æ€§ï¼Œå¹¶åŠ å…¥mapMutations</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapState, mapMutations &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            msg: <span class="string">&#x27;Hello Vuex&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: mapState([<span class="string">&#x27;count&#x27;</span>]),</span><br><span class="line">    <span class="comment">// æ–°å¢</span></span><br><span class="line">    methods: mapMutations([<span class="string">&#x27;add&#x27;</span>, <span class="string">&#x27;reduce&#x27;</span>]),</span><br><span class="line">    store</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨è°ƒç”¨çš„åœ°æ–¹æ”¹æˆç›´æ¥ç”¨addå’Œreduce.</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### actionæ–¹å¼</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒç§æ–¹å¼ï¼šå¯¹è±¡é£æ ¼çš„ä¼ å‚æ–¹å¼</span><br><span class="line"></span><br><span class="line">æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡ï¼š</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;js</span><br><span class="line">store.commit(&#123;</span><br><span class="line">  type: &#39;increment&#39;, &#x2F;&#x2F; äº‹ä»¶å</span><br><span class="line">  amount: 10</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h3 id="åœ¨-Vuex-ä¸­ï¼Œmutation-éƒ½æ˜¯åŒæ­¥å‡½æ•°"><a href="#åœ¨-Vuex-ä¸­ï¼Œmutation-éƒ½æ˜¯åŒæ­¥å‡½æ•°" class="headerlink" title="åœ¨ Vuex ä¸­ï¼Œmutation éƒ½æ˜¯åŒæ­¥å‡½æ•°"></a>åœ¨ Vuex ä¸­ï¼Œmutation éƒ½æ˜¯åŒæ­¥å‡½æ•°</h3><h2 id="ç¬¬å››èŠ‚-gettersè®¡ç®—è¿‡æ»¤æ“ä½œ"><a href="#ç¬¬å››èŠ‚-gettersè®¡ç®—è¿‡æ»¤æ“ä½œ" class="headerlink" title="ç¬¬å››èŠ‚ gettersè®¡ç®—è¿‡æ»¤æ“ä½œ"></a>ç¬¬å››èŠ‚ gettersè®¡ç®—è¿‡æ»¤æ“ä½œ</h2><p>gettersä»å­—é¢ä¸Šæ˜¯è·å¾—çš„æ„æ€ï¼Œè·å–stateçš„æ•°æ®ã€‚</p><p>å¯ä»¥æŠŠå®ƒçœ‹ä½œåœ¨è·å–æ•°æ®ä¹‹å‰è¿›è¡Œçš„ä¸€ç§å†ç¼–è¾‘ï¼Œç›¸å½“äºå¯¹æ•°æ®çš„ä¸€ä¸ªåŠ å·¥å’Œè¿‡æ»¤ã€‚å¯ä»¥çœ‹ä½œstoreçš„è®¡ç®—å±æ€§</p><p>Getters ä¹Ÿå¯ä»¥ç†è§£ä¸º Vue ä¸­çš„è®¡ç®—å±æ€§ (computed)ã€‚</p><h3 id="gettersåŸºæœ¬ç”¨æ³•"><a href="#gettersåŸºæœ¬ç”¨æ³•" class="headerlink" title="gettersåŸºæœ¬ç”¨æ³•"></a>gettersåŸºæœ¬ç”¨æ³•</h3><p>ç°åœ¨è¦å¯¹storeçš„countè¿›è¡Œä¸€ä¸ªè®¡ç®—å±æ€§çš„æ“ä½œï¼Œåœ¨è¾“å‡ºä¹‹å‰ï¼ŒåŠ ä¸Š100</p><p>é¦–å…ˆåœ¨store/index.jsé‡Œç”¨constå£°æ˜getterså±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">    count: <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</span><br><span class="line">        state.count += <span class="number">100</span></span><br><span class="line">        <span class="keyword">return</span> state.count</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™å¥½gettersåï¼Œè¿˜éœ€è¦åœ¨Vuex.store()é‡Œå¼•å…¥ï¼Œç”±äºä¹‹å‰å·²ç»å¼•å…¥stateå’Œmutationsï¼Œæ‰€ä»¥è¿™é‡Œæœ‰ä¸‰ä¸ªå¼•å…¥å±æ€§ã€‚å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨storeé‡Œçš„é…ç½®å®Œæˆäº†ï¼Œéœ€è¦åˆ°ç»„ä»¶é¡µå¯¹computedè¿›è¡Œé…ç½®ï¼Œåœ¨vueçš„æ„é€ å™¨é‡Œåªèƒ½æœ‰ä¸€ä¸ªcomputedå±æ€§ï¼Œå¦‚æœå†™å¤šä¸ªï¼Œåªæœ‰æœ€åä¸€ä¸ªcomputedå±æ€§å¯ç”¨ï¼Œæ‰€ä»¥è¦å¯¹ä¸ŠèŠ‚è¯¾çš„computedå±æ€§è¿›è¡Œæ”¹é€ ã€‚æ”¹é€ æ—¶ï¼Œä½¿ç”¨ES6ä¸­çš„å±•å¼€è¿ç®—ç¬¦â€™â€¦â€™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    ...mapState([<span class="string">&#x27;count&#x27;</span>]),</span><br><span class="line">    count () &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.$store.getters.count</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š å†™äº†è¿™ä¸ªé…ç½®åï¼Œæ¯æ¬¡countçš„å€¼å‘ç”Ÿå˜åŒ–ï¼Œéƒ½ä¼šè¿›è¡ŒåŠ 100æ“ä½œã€‚</p><h3 id="ç”¨mapGettersç®€åŒ–æ¨¡æ¿å†™æ³•"><a href="#ç”¨mapGettersç®€åŒ–æ¨¡æ¿å†™æ³•" class="headerlink" title="ç”¨mapGettersç®€åŒ–æ¨¡æ¿å†™æ³•"></a>ç”¨mapGettersç®€åŒ–æ¨¡æ¿å†™æ³•</h3><p>stateå’Œmutationséƒ½æœ‰mapçš„å¼•ç”¨æ–¹æ³•æŠŠæˆ‘ä»¬çš„æ¨¡æ¿ä¸­çš„ç¼–ç è¿›è¡Œç®€åŒ–ï¼Œgettersä¹Ÿæ˜¯ï¼Œçœ‹ä¸‹ä»£ç ï¼š</p><p>ç”¨importå¼•å…¥mapGetters</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState, mapMutations, mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br></pre></td></tr></table></figure><p>åœ¨computedå±æ€§ä¸­åŠ å…¥mapGetters</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    ...mapState([<span class="string">&#x27;count&#x27;</span>]),</span><br><span class="line">    ...mapGetters([<span class="string">&#x27;count&#x27;</span>])</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“-4"><a href="#æ€»ç»“-4" class="headerlink" title="æ€»ç»“-4"></a>æ€»ç»“-4</h3><p>åˆ°è¿™é‡Œgetterså°±å­¦å®Œäº†ï¼Œè¿˜æ˜¯è¦ç†Ÿæ‚‰ç†Ÿæ‚‰ã€‚<br>æ³¨æ„mapGettersæ˜¯å†™åœ¨computedä¸­çš„ã€‚<br>getterå†™çš„æ˜¯å‡½æ•°ï¼Œä½†æˆ‘ä»¬åº”è¯¥æŠŠå®ƒå½“æˆè®¡ç®—å±æ€§æ¥ç”¨ã€‚</p><h2 id="ç¬¬5èŠ‚-actionså¼‚æ­¥ä¿®æ”¹çŠ¶æ€"><a href="#ç¬¬5èŠ‚-actionså¼‚æ­¥ä¿®æ”¹çŠ¶æ€" class="headerlink" title="ç¬¬5èŠ‚ actionså¼‚æ­¥ä¿®æ”¹çŠ¶æ€"></a>ç¬¬5èŠ‚ actionså¼‚æ­¥ä¿®æ”¹çŠ¶æ€</h2><p>actions å’Œ mutationsçš„åŠŸèƒ½åŸºæœ¬ä¸€æ ·ï¼Œä¸åŒç‚¹æ˜¯actionsæ˜¯å¼‚æ­¥çš„æ”¹å˜stateçš„çŠ¶æ€ï¼Œè€Œmutationsæ˜¯åŒæ­¥æ”¹å˜çŠ¶æ€ã€‚</p><p>ä¸åŒæ¨¡å—çš„ actions å‡å¯ä»¥é€šè¿‡ store.dispatch ç›´æ¥è§¦å‘ã€‚</p><h3 id="åœ¨storeé‡Œå£°æ˜actions"><a href="#åœ¨storeé‡Œå£°æ˜actions" class="headerlink" title="åœ¨storeé‡Œå£°æ˜actions"></a>åœ¨storeé‡Œå£°æ˜actions</h3><p>actionså¯ä»¥è°ƒç”¨mutationsé‡Œçš„æ–¹æ³•ã€‚</p><p>ç»§ç»­ä¸ŠèŠ‚çš„ä»£ç ï¼Œåœ¨actionsé‡Œè°ƒç”¨mutationé‡Œçš„addå’Œreduceæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    addAction (context) &#123;</span><br><span class="line">        context.commit(<span class="string">&#x27;add&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    reduceAction (&#123;commit&#125;) &#123;</span><br><span class="line">        commit(<span class="string">&#x27;reduce&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºé‡Œæ·»åŠ </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    <span class="comment">//  æ–°å¢</span></span><br><span class="line">    actions,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ³¨æ„è¿™é‡Œçš„ä¼ å‚æ–¹å¼ï¼ï¼ï¼ï¼ï¼-addActionä¸­çš„10"><a href="#æ³¨æ„è¿™é‡Œçš„ä¼ å‚æ–¹å¼ï¼ï¼ï¼ï¼ï¼-addActionä¸­çš„10" class="headerlink" title="æ³¨æ„è¿™é‡Œçš„ä¼ å‚æ–¹å¼ï¼ï¼ï¼ï¼ï¼ addActionä¸­çš„10"></a>æ³¨æ„è¿™é‡Œçš„ä¼ å‚æ–¹å¼ï¼ï¼ï¼ï¼ï¼ addActionä¸­çš„10</h4><p>åœ¨actionsé‡Œå†™äº†ä¸¤ä¸ªæ–¹æ³•addActionå’ŒreduceActionï¼Œåœ¨æ–¹æ³•ä½“é‡Œéƒ½ç”¨commitè°ƒç”¨äº†mutationsé‡Œçš„æ–¹æ³•ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„ä¼ çš„å‚æ•°ä¸ä¸€æ ·ã€‚</p><ul><li>contextï¼š ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¿™é‡Œå¯ç†è§£ä¸ºstoreæœ¬èº«</li><li>{commit}: ç›´æ¥æŠŠcommitå¯¹è±¡ä¼ è¿‡æ¥ï¼Œå¯ä»¥è®©æ–¹æ³•ä½“é€»è¾‘å’Œä»£ç æ›´æ¸…æ™°æ˜äº†</li></ul><h3 id="æ¨¡æ¿ä¸­çš„ä½¿ç”¨"><a href="#æ¨¡æ¿ä¸­çš„ä½¿ç”¨" class="headerlink" title="æ¨¡æ¿ä¸­çš„ä½¿ç”¨"></a>æ¨¡æ¿ä¸­çš„ä½¿ç”¨</h3><p>æˆ‘ä»¬éœ€è¦åœ¨Count.vueä¸­è°ƒç”¨ï¼Œè®©actionsç”Ÿæ•ˆã€‚</p><p>å¤åˆ¶ä¹‹å‰çš„ä¸¤ä¸ªæŒ‰é’®ï¼Œè°ƒç”¨addActionå’ŒreduceAction</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addAction(10)&quot;</span>&gt;</span> å¼‚æ­¥åŠ åˆ† <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;reduceAction&quot;</span>&gt;</span> å¼‚æ­¥å‡åˆ† <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ”¹é€ methodsï¼Œç”¨æ‰©å±•è¿ç®—ç¬¦æŠŠmapMutationså’ŒmapActionså¼•å…¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">    ...mapActions([<span class="string">&#x27;addAction&#x27;</span>, <span class="string">&#x27;reduceAction&#x27;</span>]),</span><br><span class="line">    ...mapMutations([<span class="string">&#x27;add&#x27;</span>, <span class="string">&#x27;reduce&#x27;</span>])</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="ç”¨dispatchè°ƒç”¨action"><a href="#ç”¨dispatchè°ƒç”¨action" class="headerlink" title="ç”¨dispatchè°ƒç”¨action"></a>ç”¨dispatchè°ƒç”¨action</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">store.dispatch(<span class="string">&#x27;asyncAdd&#x27;</span>);</span><br><span class="line"></span><br><span class="line">store.dispatch(<span class="string">&#x27;addAction&#x27;</span>, &#123;</span><br><span class="line">    n: <span class="number">10</span> <span class="comment">// ä¼ å‚</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.dispatch(&#123; <span class="attr">type</span>: <span class="string">&#x27;addAction&#x27;</span>, <span class="attr">n</span>: <span class="number">10</span> &#125;);</span><br></pre></td></tr></table></figure><h3 id="å¢åŠ å¼‚æ­¥æ ¡éªŒ"><a href="#å¢åŠ å¼‚æ­¥æ ¡éªŒ" class="headerlink" title="å¢åŠ å¼‚æ­¥æ ¡éªŒ"></a>å¢åŠ å¼‚æ­¥æ ¡éªŒ</h3><p>ç°åœ¨çœ‹åˆ°çš„æ•ˆæœå’Œmutationsæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œæ€æ ·åŒºåˆ«ä¸mutationsé‡Œçš„æ–¹æ³•å‘¢ï¼Œç°åœ¨æ¼”ç¤ºactionsé‡Œçš„å¼‚æ­¥åŠŸèƒ½ã€‚</p><p>è¿™é‡Œå¢åŠ ä¸€ä¸ªè®¡æ—¶å™¨å»¶è¿Ÿæ‰§è¡Œã€‚</p><p>åœ¨addActioné‡Œä½¿ç”¨setTimeoutå°±è¡Œå»¶è¿Ÿæ‰§è¡Œã€‚<br>å¤„ç†é€»è¾‘ï¼Œå…ˆåŠ 10ï¼Œéš”500æ¯«ç§’ï¼Œå‡ä¸€</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    addAction (context) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            context.commit(<span class="string">&#x27;reduce&#x27;</span>)</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘æ˜¯å¼‚æ­¥æ‰§è¡Œçš„&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">500</span>)</span><br><span class="line">        context.commit(<span class="string">&#x27;add&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘å…ˆæ‰§è¡Œ&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    reduceAction (&#123;commit&#125;) &#123;</span><br><span class="line">        commit(<span class="string">&#x27;reduce&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“-5"><a href="#æ€»ç»“-5" class="headerlink" title="æ€»ç»“-5"></a>æ€»ç»“-5</h3><p>mutationå’Œactionéƒ½å¯ä»¥å¯¹storeè¿›è¡Œæ“ä½œ</p><p>mutationå¿…é¡»æ˜¯åŒæ­¥æ“ä½œï¼Œactionå¯ä»¥æ˜¯ä»»ä½•å¼‚æ­¥æ“ä½œã€‚</p><p>actionä¸ç›´æ¥æ›´æ”¹çŠ¶æ€ï¼Œè€Œæ˜¯æäº¤mutation</p><h2 id="ç¬¬6èŠ‚-moduleæ¨¡å—ç»„"><a href="#ç¬¬6èŠ‚-moduleæ¨¡å—ç»„" class="headerlink" title="ç¬¬6èŠ‚ moduleæ¨¡å—ç»„"></a>ç¬¬6èŠ‚ moduleæ¨¡å—ç»„</h2><p>éšç€é¡¹ç›®å¤æ‚åº¦çš„å¢åŠ ï¼Œå…±äº«çš„çŠ¶æ€è¶Šæ¥è¶Šå¤šï¼Œè¿™æ—¶å€™ï¼Œéœ€è¦æŠŠæˆ‘ä»¬çŠ¶æ€çš„æ“ä½œè¿›è¡Œåˆ†ç»„ï¼Œåˆ†ç»„åï¼Œå†æŒ‰ç»„ç¼–å†™ã€‚</p><p>ä»Šå¤©å­¦ä¹ module: çŠ¶æ€ç®¡ç†å™¨çš„æ¨¡å—ç»„æ“ä½œã€‚</p><p>æ¯ä¸ªmoduleæ‹¥æœ‰è‡ªå·±çš„stateã€mutationï¼Œactionï¼Œgetterï¼Œç”šè‡³åµŒå¥—å­æ¨¡å—ã€‚å…·ä½“ç»“æ„å¦‚ä¸‹:(æ¥è‡ªå®˜ç½‘)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;,</span><br><span class="line">  getters: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moduleB = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    a: moduleA,</span><br><span class="line">    b: moduleB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.state.a <span class="comment">// -&gt; moduleA çš„çŠ¶æ€</span></span><br><span class="line">store.state.b <span class="comment">// -&gt; moduleB çš„çŠ¶æ€</span></span><br></pre></td></tr></table></figure><h3 id="å£°æ˜æ¨¡å—ç»„"><a href="#å£°æ˜æ¨¡å—ç»„" class="headerlink" title="å£°æ˜æ¨¡å—ç»„"></a>å£°æ˜æ¨¡å—ç»„</h3><p>åœ¨store/index.jsä¸­ï¼Œå°†ä¹‹å‰å®šä¹‰å¥½çš„state,gettersï¼Œmutationsï¼Œactionséƒ½æå–åˆ°ä¸€ä¸ªå˜é‡ä¸­ï¼Œå‘½åModuleAã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¹‹å‰å¯¼å‡ºæ˜¯å°†è¿™äº›éƒ½å¯¼å‡ºçš„</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    actions,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç°åœ¨éƒ½è£…åˆ°moduleAä¸­ï¼Œå¯¼å‡ºmoduleA</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">    state, mutations, getters, actions</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    modules: &#123;</span><br><span class="line">        a: moduleA</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨"><a href="#åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨" class="headerlink" title="åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨"></a>åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨</h3><p>åœ¨è®¡ç®—å±æ€§ä¸­å¼•å…¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    count () &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.$store.state.a.count</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>å†çœ‹æ•ˆæœï¼Œå’Œä¹‹å‰æ˜¯ä¸€æ ·çš„ã€‚</p><p>è¿™æ ·å°±ç®—åˆ›å»ºäº†ä¸€ä¸ªmodule,</p><h3 id="TODO-åç»­éœ€è¦å°†moduleå•ç‹¬æŠ½ç¦»æˆä¸€ä¸ªæ–‡ä»¶"><a href="#TODO-åç»­éœ€è¦å°†moduleå•ç‹¬æŠ½ç¦»æˆä¸€ä¸ªæ–‡ä»¶" class="headerlink" title="TODO åç»­éœ€è¦å°†moduleå•ç‹¬æŠ½ç¦»æˆä¸€ä¸ªæ–‡ä»¶"></a>TODO åç»­éœ€è¦å°†moduleå•ç‹¬æŠ½ç¦»æˆä¸€ä¸ªæ–‡ä»¶</h3><h3 id="æ€»ç»“-6"><a href="#æ€»ç»“-6" class="headerlink" title="æ€»ç»“-6"></a>æ€»ç»“-6</h3><p>å¯ä»¥çœ‹åˆ°ï¼Œ ä¸€ä¸ªvuexé‡ŒåŒ…å«</p><ol><li><p>state<br> ç”¨æ¥å®šä¹‰é€šç”¨çš„æ•°æ®ï¼Œç±»ä¼¼äºç»„ä»¶ä¸­çš„data</p><p> mapStateæ˜¯è·å–stateçš„è¾…åŠ©å‡½æ•°ã€‚è·å–stateéƒ½æ˜¯é€šè¿‡computedæ¥è·å–çš„ï¼Œå¦‚æœè·å–å¤šä¸ªä¼šæ˜¾å¾—å†—ä½™ï¼Œç”¨mapStateè¾…åŠ©å‡½æ•°å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆè®¡ç®—å±æ€§ã€‚</p></li><li><p>getter<br> å¯ä»¥è®¤ä¸ºæ˜¯storeçš„è®¡ç®—å±æ€§ï¼Œç±»ä¼¼äºç»„ä»¶ä¸­çš„computedå±æ€§ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚</p><p> mapGettersæ˜¯getterçš„è¾…åŠ©å‡½æ•° å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ï¼š</p></li><li><p>mutation<br> æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚</p><p> Mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</p><blockquote><p>Vuex ä¸­çš„ mutation ä¹Ÿéœ€è¦ä¸ä½¿ç”¨ Vue ä¸€æ ·éµå®ˆä¸€äº›æ³¨æ„äº‹é¡¹ï¼š</p></blockquote><ol><li><p>æœ€å¥½æå‰åœ¨ä½ çš„ store ä¸­åˆå§‹åŒ–å¥½æ‰€æœ‰æ‰€éœ€å±æ€§ã€‚</p></li><li><p>å½“éœ€è¦åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§æ—¶ï¼Œä½ åº”è¯¥</p><p>ä½¿ç”¨ Vue.set(obj, â€˜newPropâ€™, 123), æˆ–è€…</p><p>ä»¥æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œåˆ©ç”¨ stage-3 çš„å¯¹è±¡å±•å¼€è¿ç®—ç¬¦æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p><p>state.obj = { â€¦state.obj, newProp: 123 }</p></li></ol></li><li><p>action</p><p> ç±»ä¼¼äºmutation<br> åŒºåˆ«:</p><ul><li>Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</li><li>Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</li></ul></li><li><p>module (è¿™ä¸ªä¸ä¸€å®š)<br> å°†ä¸€ä¸ªå¤§çš„storeæ‹†åˆ†æˆä¸€ä¸ªä¸ªå­æ¨¡å—ï¼Œå³module</p></li></ol><h2 id="mutation-åªç®¡å­˜ï¼Œä½ ç»™æˆ‘ï¼ˆdispatchï¼‰æˆ‘å°±å­˜"><a href="#mutation-åªç®¡å­˜ï¼Œä½ ç»™æˆ‘ï¼ˆdispatchï¼‰æˆ‘å°±å­˜" class="headerlink" title="mutation åªç®¡å­˜ï¼Œä½ ç»™æˆ‘ï¼ˆdispatchï¼‰æˆ‘å°±å­˜"></a>mutation åªç®¡å­˜ï¼Œä½ ç»™æˆ‘ï¼ˆdispatchï¼‰æˆ‘å°±å­˜</h2><h2 id="actionåªç®¡ä¸­é—´å¤„ç†ï¼Œå¤„ç†å®Œæˆ‘å°±ç»™ä½ ï¼Œä½ æ€ä¹ˆå­˜æˆ‘ä¸ç®¡"><a href="#actionåªç®¡ä¸­é—´å¤„ç†ï¼Œå¤„ç†å®Œæˆ‘å°±ç»™ä½ ï¼Œä½ æ€ä¹ˆå­˜æˆ‘ä¸ç®¡" class="headerlink" title="actionåªç®¡ä¸­é—´å¤„ç†ï¼Œå¤„ç†å®Œæˆ‘å°±ç»™ä½ ï¼Œä½ æ€ä¹ˆå­˜æˆ‘ä¸ç®¡"></a>actionåªç®¡ä¸­é—´å¤„ç†ï¼Œå¤„ç†å®Œæˆ‘å°±ç»™ä½ ï¼Œä½ æ€ä¹ˆå­˜æˆ‘ä¸ç®¡</h2><h2 id="Getter-æˆ‘åªç®¡å–ï¼Œæˆ‘ä¸æ”¹çš„"><a href="#Getter-æˆ‘åªç®¡å–ï¼Œæˆ‘ä¸æ”¹çš„" class="headerlink" title="Getter æˆ‘åªç®¡å–ï¼Œæˆ‘ä¸æ”¹çš„"></a>Getter æˆ‘åªç®¡å–ï¼Œæˆ‘ä¸æ”¹çš„</h2><h2 id="Vuex-åº”ç”¨åœºæ™¯"><a href="#Vuex-åº”ç”¨åœºæ™¯" class="headerlink" title="Vuex åº”ç”¨åœºæ™¯"></a>Vuex åº”ç”¨åœºæ™¯</h2><h3 id="Vuexåº”ç”¨åœºæ™¯æœ‰ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™é€‚åˆä½¿ç”¨Vuexï¼Œä»€ä¹ˆæ—¶å€™ä¸é€‚åˆ"><a href="#Vuexåº”ç”¨åœºæ™¯æœ‰ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™é€‚åˆä½¿ç”¨Vuexï¼Œä»€ä¹ˆæ—¶å€™ä¸é€‚åˆ" class="headerlink" title="Vuexåº”ç”¨åœºæ™¯æœ‰ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™é€‚åˆä½¿ç”¨Vuexï¼Œä»€ä¹ˆæ—¶å€™ä¸é€‚åˆ"></a>Vuexåº”ç”¨åœºæ™¯æœ‰ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™é€‚åˆä½¿ç”¨Vuexï¼Œä»€ä¹ˆæ—¶å€™ä¸é€‚åˆ</h3><h3 id="ä¸€èˆ¬å›ç­”"><a href="#ä¸€èˆ¬å›ç­”" class="headerlink" title="ä¸€èˆ¬å›ç­”"></a>ä¸€èˆ¬å›ç­”</h3><ol><li>æ¶‰åŠåˆ°éçˆ¶å­å…³ç³»çš„ç»„ä»¶ï¼Œä¾‹å¦‚å…„å¼Ÿå…³ç³»ã€ç¥–å­™å…³ç³»ã€ç”šè‡³æ›´è¿œå…³ç³»ã€‚</li><li>ä»–ä»¬ä¹‹é—´æœ‰æ•°æ®äº¤äº’ï¼Œåº”è¯¥ä½¿ç”¨Vuexå®ç°ã€‚</li><li>å¦‚æœé¡µé¢å¤æ‚åº¦è¾ƒä½ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨global-event-bus å®ç°</li><li>å¦‚æœåªæ˜¯çˆ¶å­å…³ç³»çš„ç»„ä»¶æ•°æ®äº¤äº’ï¼Œä½¿ç”¨propsè¿›è¡Œå•å‘ä¼ é€’</li><li>æ¶‰åŠåˆ°å­ç»„ä»¶å‘çˆ¶ç»„ä»¶çš„æ•°æ®ä¼ é€’ï¼Œè€ƒè™‘ä½¿ç”¨$emit å’Œ $on</li></ol><h3 id="æ›´é’ˆå¯¹æ€§çš„å›ç­”"><a href="#æ›´é’ˆå¯¹æ€§çš„å›ç­”" class="headerlink" title="æ›´é’ˆå¯¹æ€§çš„å›ç­”"></a>æ›´é’ˆå¯¹æ€§çš„å›ç­”</h3><p> <a href="https://www.tuicool.com/articles/EvYJRfv">https://www.tuicool.com/articles/EvYJRfv</a></p><p>åœ¨ä»¥ä¸‹åœºæ™¯ï¼Œæˆ‘ä»¬åº”å½“ä½¿ç”¨Vuexï¼š</p><h4 id="1-ç»„ä»¶ä¼šè¢«é”€æ¯"><a href="#1-ç»„ä»¶ä¼šè¢«é”€æ¯" class="headerlink" title="1. ç»„ä»¶ä¼šè¢«é”€æ¯"></a>1. ç»„ä»¶ä¼šè¢«é”€æ¯</h4><p>è§£å†³åŠæ³•</p><ol><li><p>å°†å€¼å­˜åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œå®é™…æ˜¯ä¿®æ”¹çš„çˆ¶ç»„ä»¶ä¸­çš„å€¼</p></li><li><p>å­˜åœ¨sessionStorageã€cookieä¹‹ç±»çš„ä¸œè¥¿ä¸­ï¼Œåœ¨createdæ—¶è¯»å–ï¼Œdestroyedæ—¶å†™å…¥</p></li><li><p>å­˜åˆ°global-event-busé‡Œ</p></li><li><p>å­˜åœ¨vuexä¸­</p><ol><li>é€šè¿‡$store.stateæ¥è°ƒç”¨ï¼Œé€šè¿‡commitæ¥ä¿®æ”¹å€¼</li><li>åœ¨createdæ—¶è¯»å–stateé‡Œçš„å€¼ï¼Œåœ¨destroyedæ—¶å†™å…¥state</li></ol></li></ol><p>ä¼˜ç‚¹ï¼š è§£è€¦ï¼Œä¸è·Ÿå…¶ä»–ç»„ä»¶æ‰“äº¤é“</p><h4 id="2-ç»„ä»¶åŸºäºæ•°æ®è€Œåˆ›å»º"><a href="#2-ç»„ä»¶åŸºäºæ•°æ®è€Œåˆ›å»º" class="headerlink" title="2. ç»„ä»¶åŸºäºæ•°æ®è€Œåˆ›å»º"></a>2. ç»„ä»¶åŸºäºæ•°æ®è€Œåˆ›å»º</h4><p>å‡è®¾ä¸€ä¸ªåœºæ™¯ï¼š</p><ol><li>ç”¨æˆ·å°†ç™»å½•åï¼Œè¯»å–æƒé™é…ç½®è¡¨ï¼Œè¿™æ˜¯ä¸ªå¼‚æ­¥æ“ä½œ</li><li>è¿™ä¸ªé…ç½®è¡¨ä¼šå½±å“å¾ˆå¤šé¡µé¢ã€‚</li></ol><p>è¿™äº›ç»„ä»¶ä¸ä¸€å®šæ˜¯çˆ¶å­å…³ç³»ï¼Œå…¶ä»–ç»„ä»¶è¯»å–æƒé™é…ç½®è¡¨ä¸å¤ªæ–¹ä¾¿</p><p>è§£å†³åŠæ³•ï¼š</p><ol><li>å†™åœ¨global-event-busé‡Œ</li><li>æ”¾åœ¨Vuexé‡Œ</li></ol><h4 id="3-å¤šå¯¹å¤šäº‹ä»¶-â€“-å¤šå¤„è§¦å‘ï¼Œå½±å“å¤šå¤„"><a href="#3-å¤šå¯¹å¤šäº‹ä»¶-â€“-å¤šå¤„è§¦å‘ï¼Œå½±å“å¤šå¤„" class="headerlink" title="3. å¤šå¯¹å¤šäº‹ä»¶ â€“ å¤šå¤„è§¦å‘ï¼Œå½±å“å¤šå¤„"></a>3. å¤šå¯¹å¤šäº‹ä»¶ â€“ å¤šå¤„è§¦å‘ï¼Œå½±å“å¤šå¤„</h4><p>å‡è®¾ä¸€ä¸ªåœºæ™¯</p><ol><li>åˆ‡æ¢é¡µé¢æ˜¾ç¤ºé£æ ¼ï¼Œæ”¹å˜ä¸€ä¸ªå˜é‡çš„å€¼</li><li>åœ¨å¤šä¸ªåœ°æ–¹å¯ä»¥åˆ‡æ¢</li><li>è¿™ä¸ªå˜é‡å°†å½±å“å¤šä¸ªåœ°æ–¹çš„æ ·å¼</li><li>è¿™å°±æ˜¯å¤šå¯¹å¤šåœºæ™¯</li></ol><p>é‚£ä¹ˆï¼š</p><ol><li>æ— è®ºè¿™ä¸ªå˜é‡æ”¾åœ¨å“ªä¸ªç»„ä»¶é‡Œï¼Œå…¶ä»–ç»„ä»¶è°ƒç”¨éƒ½å¾ˆéº»çƒ¦</li><li>å³ä½¿å­˜åœ¨äºæ ¹ç»„ä»¶ï¼Œç”¨this.$root.xxæ¥è·å–è¿™ä¸ªå˜é‡ï¼Œä¹Ÿæ˜¯å¾ˆéº»çƒ¦çš„</li></ol><p>è§£å†³åŠæ³•ï¼š</p><ol><li>ç”¨<code>global-event-bus</code>æ¥å­˜å‚¨è¿™ä¸ªå˜é‡ ï¼Œä¼šæ¯”è¾ƒéº»çƒ¦</li><li>ä½¿ç”¨<code>VueX</code><ol><li>é€šè¿‡<code>$store.state.xxx</code>æ¥è·å–è¿™ä¸ªå˜é‡</li><li>é€šè¿‡<code>$store.commit()</code>æ¥æäº¤ä¿®æ”¹(åœ¨æŸäº›æ¡ä»¶ä¸‹å¯ç¦æ­¢ä¿®æ”¹)</li><li>å¯ä»¥é€šè¿‡<code>$store.dispatch()</code>è·å–å…¶ä»–é£æ ¼æ ·å¼ï¼Œå¹¶é€šè¿‡<code>$store.state</code>å’Œ<code>$store.getters</code>æ¥è¿”å›æ–°é£æ ¼æ ·å¼</li></ol></li></ol><h2 id="æ€»ç»“-ä½¿ç”¨åœºæ™¯"><a href="#æ€»ç»“-ä½¿ç”¨åœºæ™¯" class="headerlink" title="æ€»ç»“-ä½¿ç”¨åœºæ™¯"></a>æ€»ç»“-ä½¿ç”¨åœºæ™¯</h2><p>å¦‚æœéœ€è¦æ•°æ®å’Œç»„ä»¶åˆ†ç¦»ï¼Œåˆ†åˆ«å¤„ç†ï¼Œé‚£ä¹ˆä½¿ç”¨VueXéå¸¸åˆé€‚ã€‚<br>ç›¸åï¼Œå¦‚æœä¸éœ€è¦åˆ†ç¦»å¤„ç†ï¼Œä¸ä½¿ç”¨VueXä¹Ÿæ²¡å…³ç³»ã€‚<br>æ¯”å¦‚æŸä¸ªæ•°æ®åªè·ŸæŸç»„ä»¶äº¤äº’ï¼Œæ˜¯å¼ºè€¦åˆçš„ï¼Œå…¶ä»–ç»„ä»¶ç”¨ä¸åˆ°ï¼Œé‚£ä¹ˆè¿™ä¸ªç»„ä»¶å°±å¯ä»¥é˜²æ­¢è¯¥ç»„ä»¶çš„dataå±æ€§ä¸­ã€‚</p><h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><p><a href="https://zhuanlan.zhihu.com/p/24357762">vuexä¸é”™çš„è®²è§£</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é©¾ç…§å­¦ä¹ </title>
      <link href="posts/%E9%A9%BE%E7%85%A7%E5%AD%A6%E4%B9%A0/"/>
      <url>posts/%E9%A9%BE%E7%85%A7%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<ol><li>ä¼˜é€‰æµ·æ·€é©¾æ ¡</li></ol><ul><li>å¥½å¤„ï¼šç»ƒè½¦ä¸ç¼ºåœºåœ°</li><li>è€ƒè¯•é€šè¿‡ç‡é«˜</li><li>è€ƒå‰æœ‰ä¸€æ¬¡å…è´¹çš„é›†è®­</li></ul><p>ç»éªŒï¼š</p><pre><code>1. ä¸è¦å®Œç¾å¿ƒæ€ï¼šåªè¦èƒ½å€’è¿›åº“ä¸å‹çº¿ï¼Œä¸å‡ºåº“å°±è¡Œï¼Œæ–¹å‘æ­£ä¸æ­£æ— æ‰€è°“2. ç¦»åˆä¸€å®šè¦æ—¶åˆ»å‹å¥½ï¼Œæ‰‹åˆ¹æ²¡æ‹‰å¥½ï¼Œæ¡£ä½ä¸åœ¨ç©ºæŒ¡ï¼Œåˆ¹è½¦æ²¡è¸©ç´§ï¼Œéƒ½ä¸èƒ½æ¾ç¦»åˆï¼ï¼ï¼ï¼3. è½¦é€Ÿä¸€å®šè¦æ…¢4. åƒä¸‡ä¸èƒ½ç†„ç«ï¼Œä¸€ç†„ç«å°±å®Œäº†5. ä¸€æŒ¡ï¼ŒäºŒç¯ï¼Œä¸‰å–‡å­ï¼Œå››çœ‹é•œï¼Œäº”ç¦»åˆï¼Œå…­æ‰‹åˆ¹ã€‚6. æ¾æ‰‹åˆ¹è¯€çªï¼š æ¾ä¹‹å‰ï¼Œå¾€ä¸Šæ‹‰ä¸€ç‚¹ï¼ŒæŒ‰ä¸‹æŒ‰é’®ï¼Œä¸‹å‹åˆ°åº•ï¼Œå¦‚æœæŒ‰ä¸åŠ¨æŒ‰é’®ï¼Œå°±å¾€ä¸Šæ‹‰ä¸€ç‚¹ï¼Œå°±å¯ä»¥äº†ã€‚7. å¶å°”æŒ‚ä¸ä¸Šå€’æŒ¡ï¼š ä¸è¦å¤ªå¿«ï¼Œé åˆ°æœ€å³ä¾§ï¼Œä½¿åŠ²å¾€åä¾§å‹ï¼Œ8. åˆ°ç‚¹åæ‰“æ–¹å‘ç›˜ä¸€å®šè¦å¿«ã€‚</code></pre><p>ç§‘äºŒï¼š<br>ä¸Šè½¦ä¸‰è¦ç´ ï¼š</p><pre><code>1. è°ƒåº§ä½ï¼Œè¦é¢†ï¼šèƒ½å°†ç¦»åˆå™¨è¸©åˆ°åº•ã€‚åŒæ‰‹ä¼¸å‡ºï¼Œæ‰‹è…•æ­£å¥½è¶…è¿‡æ–¹å‘ç›˜ã€‚2. è°ƒåè§†é•œ è¦é¢†ï¼šé—¨æŠŠæ‰‹ä¸Šçš„å°é»‘ç‚¹æ­£å¥½åœ¨é•œå­ä¸Šæ²¿ã€‚è½¦èº«å é•œå­çš„1/3å·¦ä¾§åè§†é•œè¦èƒ½çœ‹åˆ°åè½¦è½®ï¼Œå³ä¾§çš„çœ‹ä¸åˆ°ã€‚3. ç³»å®‰å…¨å¸¦ï¼ï¼ï¼</code></pre><p>å€’è½¦å…¥åº“ï¼š</p><pre><code>1. å…¥åº“æ ‡å‡†ã€‚å·¦ä¾§åè§†é•œçš„ä¸‹æ²¿ç¨å¾®è¶…è¿‡åº“å£çš„ç™½çº¿å³å¯åœè½¦ã€‚2. å‡ºåº“ è½¦å¤´åˆ°7ç±³çº¿æ—¶ç«‹åˆ»æ‰“æ–¹å‘ç›˜ã€‚3. è¿›åº“å‰å‡†å¤‡ï¼š    1. èº«ä½“ä¸åº“çº¿å¹³è¡Œï¼Œå³æ‰“ä¸€åœˆ    2. å·¦åè§†é•œè¿›å…¥åº“åŒº    ï¼Œå·¦åè§†é•œæœ€å¤–æ²¿è¿›å…¥ç™½çº¿ï¼Œå·¦æ‰“ä¸¤åœˆ    3. å¾…è½¦èº«ä¸åº“å¹³è¡Œï¼Œå›æ­£ï¼ˆå³æ‰“ä¸€åœˆï¼‰</code></pre><p>å³å€’åº“å£è¯€ï¼š</p><pre><code>1. å‘å³1åœˆåŠï¼Œ  å¼€è½¦åˆ°7ç±³çº¿ï¼Œ    2. å‘å·¦ä¸€åœˆåŠ   åˆ°å³ä¾§çš„ç™½çº¿--è¶…è¿‡åè§†é•œä¸€æŒ‡å®½çš„è·ç¦»3. å‘å³ä¸€åœˆåŠ   åè§†é•œåº•éƒ¨ä¸å³ä¾§ç™½çº¿é‡åˆ4. å‘å·¦ä¸€åœˆ   å³ä¾§åº“ç›´è§’è·è½¦èº«30å…¬åˆ†ï¼ˆç™½çº¿å®½10å…¬åˆ†ï¼Œå¤§çº¦æ˜¯ä¸¤å€ç™½çº¿å®½æ—¶ç«‹é©¬    æ‰“æ–¹å‘ç›˜ï¼‰5. å‘å³ä¸€åœˆ     å³ä¾§åº“è§’ä»åè§†é•œæ¶ˆå¤±6. å‘å·¦ä¸¤åœˆ     è½¦èº«å›æ­£7. åœè½¦         å·¦ä¾§åè§†é•œç¨å¾®è¶…è¿‡ç™½çº¿ä¸€ç‚¹</code></pre><p>å·¦å€’åº“å£è¯€ï¼š</p><pre><code>1. å‘å·¦ä¸€åœˆåŠ   å¼€è½¦åˆ°7ç±³çº¿2. å‘å³ä¸€åœˆåŠ   åˆ°å·¦ä¾§çš„ç™½çº¿è¶…è¿‡åè§†é•œä¸€æŒ‡å®½çš„è·ç¦»3. å‘å·¦ä¸€åœˆåŠ   åè§†é•œåº•éƒ¨ä¸å³ä¾§ç™½çº¿é‡åˆ4. å‘å³ä¸€åœˆ     å·¦ä¾§ç›´è§’è·è½¦èº«30å…¬åˆ†ï¼ˆè¿™é‡Œçš„30å…¬åˆ†å’Œå·¦ä¾§çš„ä¸åŒï¼Œè§’åˆšå‡ºæ¥ç‚¹    å°±ç«‹åˆ»å·¦å›ä¸€åœˆï¼‰5. å‘å·¦ä¸€åœˆ     å·¦ä¾§åº“è§’ä»å·¦ä¾§åè§†é•œæ¶ˆå¤±6. å‘å³ä¸¤åœˆ     è½¦èº«å›æ­£7. åœè½¦         å·¦ä¾§åè§†é•œç¨å¾®è¶…è¿‡ç™½çº¿ä¸€ç‚¹</code></pre><p>ç›´è§’è½¬å¼¯å£è¯€ï¼š</p><pre><code>1.è¿›å…¥ç›´è§’å‰ï¼Œæ–¹å‘ç›˜ï¼Œè½¦åº§å’Œè·¯ä¸­é—´çš„ç›´è§’è½¬å¼¯æç¤ºçº¿æˆä¸€æ¡ç›´çº¿ï¼Œ2. å¾…æ–¹å‘ç›˜ä¸ç›´è§’è½¬å¼¯çš„çº¿å¹³è¡Œæ—¶ï¼Œå·¦æ‰“æ­»ï¼Œä¸€åœˆåŠï¼Œ3. è½¦èº«ä¸è·¯å¹³è¡Œæ—¶ï¼Œå›æ­£ã€‚</code></pre><p>æ›²çº¿è¡Œé©¶å£è¯€ï¼š</p><pre><code>1.ä¿è¯è½¦å§‹ç»ˆåœ¨è·¯ä¸­é—´ï¼Œè¿™ä¸ªæ²¡æœ‰å›ºå®šçš„å£è¯€ï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„æ›²çº¿å…·ä½“ç¡®å®šä»€ä¹ˆæ—¶å€™åŠ¨æ–¹å‘ç›˜ï¼Œæ— è®ºå¦‚ä½•ç¡®ä¿è½¦èº«ä¸å‡ºå¼¯é“</code></pre><p>ä¾§æ–¹åœè½¦å£è¯€ï¼š</p><pre><code>1. æ–¹å‘ç›˜ä¸è·¯ä¸­çš„ç›´è¡Œç®­å¤´åœ¨ä¸€æ¡ç›´çº¿ï¼Œæ‰“å³ç¯ï¼ˆï¼ï¼ï¼ï¼‰ï¼Œ2. è½¦å¤´åˆšå¥½è¿‡ç™½çº¿æ—¶ï¼Œåœè½¦ï¼Œ3. å€’è½¦ï¼Œå³ä¾§åè§†é•œçš„è™šçº¿æ¶ˆå¤±æ—¶ï¼Œç«‹åˆ»å³æ‰“æ­»ï¼Œï¼ˆå³ä¸€åœˆåŠï¼‰4. å·¦ä¾§ é‡Œè¾¹çš„åº“è§’åˆšå‡ºç°æ—¶ï¼Œå›æ­£ï¼ˆå·¦ä¸€åœˆåŠï¼‰5. å·¦ä¾§ åè½¦è½®è§¦ç¢°åˆ°ï¼Œæ³¨æ„ä¸æ˜¯å‹åˆ°åº“å£è™šçº¿ï¼Œå·¦æ‰“æ­»ï¼ˆå·¦ä¸€åœˆåŠï¼‰è¿™æ˜¯å…³é”®ç‚¹ï¼Œæ‰“æ™šäº†ä¼šå¯¼è‡´è¿›å¤ªå¤šï¼ï¼6. è½¦èº«ä¸åº“å¹³è¡Œï¼Œåœè½¦ï¼Œä¸å›æ­£ï¼ï¼ï¼7. æ‰“å·¦ç¯ï¼ˆï¼ï¼ï¼ï¼‰ï¼ŒæŒ‚ä¸€æ¡£8. å·¦è½¦è§’ä¸ç™½çº¿é‡åˆï¼Œå›æ­£(å³ä¸€åœˆåŠ)9. è½¦å¤´åœ¨ç™½çº¿ä¸­é—´ï¼Œå³ä¸€åœˆï¼Œï¼ˆè¿™ä¸ªä¸8æ­¥æ—¶é—´é—´éš”å¾ˆçŸ­ï¼‰10. è½¦èº«ä¸ç™½çº¿å¹³è¡Œï¼Œå·¦ä¸€åœˆå›æ­£ã€‚</code></pre><p>å¡é“å®šç‚¹èµ·æ­¥å£è¯€ï¼š</p><pre><code>1. è¿›å…¥å¡é“ï¼Œæ–¹å‘ç›˜ï¼Œä¸æŒ‡ç¤ºç®­å¤´åœ¨ä¸€æ¡çº¿ä¸Šï¼Œæ‰“å³ç¯ï¼ˆï¼ï¼ï¼ï¼‰2. ä¸Šå¡å‰æ¾å¼€ç¦»åˆï¼Œå¿«åˆ°ç™½çº¿åŒºï¼Œå‹ç¦»åˆï¼Œæ”¾æ…¢è½¦é€Ÿ3. å·¦ä¾§åè§†é•œä¸‹æ²¿ä¸é»„çº¿é‡åˆï¼Œè¸©æ­»åˆ¹è½¦ï¼Œåœè½¦ã€‚4. æ‹‰æ‰‹åˆ¹ï¼ˆï¼ï¼ï¼ï¼‰ï¼Œæ¾å¼€åˆ¹è½¦ï¼Œæ‰“å·¦ç¯ï¼ˆï¼ï¼ï¼ï¼‰ï¼Œä¸ç”¨åŠ¨æ¡£ï¼ˆï¼ï¼ï¼ï¼‰5. è¸©æ²¹é—¨ï¼Œæ¾ç¦»åˆï¼Œçœ‹è½¦å¤´æŠ¬èµ·ï¼Œä¿æŒæ²¹é—¨å’Œç¦»åˆä½ç½®ä¸åŠ¨ï¼ˆï¼ï¼ï¼ï¼‰6. æ¾å¼€æ‰‹åˆ¹ï¼Œå¾®æŠ¬ç¦»åˆï¼Œï¼ˆå¯ä»¥ä¸æŠ¬ï¼Œä¿æŒä¸åŠ¨ï¼‰ï¼Œå¦‚æœèµ·æ­¥ç¼“æ…¢çš„è¯ï¼Œè½°æ²¹é—¨ï¼Œ    å¾…åˆ°å¡é¡¶åï¼Œæ¾æ²¹é—¨ï¼Œå¾®è¸©åˆ¹è½¦</code></pre>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>

{"pages":[{"title":"categories","text":"","link":"/categories/index.html"},{"title":"è‡ªæˆ‘ä»‹ç»","text":"å“‡å“ˆå“ˆè¿™é‡Œæ˜¯ä¸ªäººä¿¡æ¯ä¸»é¡µå†™ä¸€äº›ä¸ªäººä¿¡æ¯å•Šå•Šå†™ä»€ä¹ˆå•Šå•Šå•Šå•Šå•Šå•Šå†™äº†äº›æ²¡ç”¨çš„å•Šå•Šå•Šå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆä¹‹æ‰€ä»¥æŠŠå¥½å¤šç½‘ä¸Šå¯ä»¥æ‰¾åˆ°çš„èµ„æºè´¹åŠ›æ°”æ¬åˆ°è‡ªå·±åšå®¢é‡Œï¼Œå¾ˆå¤§ä¸€ä¸ªåŸå› å¾ˆå¤šä¸œè¥¿çœ‹è¿‡ä»¥åå¾ˆå¿«å°±å¿˜æ‰ï¼Œä»æ­¤æ³æ— éŸ³ä¿¡ï¼Œä¸è‡ªå·±å¤±å»è”ç³»ã€‚æœ‰æ—¶å€™è´¹å¿ƒæ€æ‰¾åˆ°é“¾æ¥ï¼Œå¯èƒ½ç”±äºç§ç§åŸå› æ— æ³•è®¿é—®ã€‚ ç´¢æ€§ï¼ŒæŠŠè§‰å¾—æœ‰ä»·å€¼çš„ä¸œè¥¿éƒ½æŒªåˆ°è‡ªå·±åšå®¢é‡Œï¼Œæ–¹ä¾¿æŸ¥æ‰¾ï¼Œä¹Ÿå¯ä»¥è§è¯ä¸€è·¯èµ°æ¥å­¦è¿‡äº›ä»€ä¹ˆã€‚ å¦ä¸€æ–¹é¢å­¦ä¹ å·¥ä½œè¿‡ç¨‹ä¸­ä¼šé‡åˆ°å„ç§å„æ ·çš„é—®é¢˜ã€‚ä¸€äº›å°é—®é¢˜ä¼šèŠ±ä¸å°‘æ—¶é—´å»è§£å†³ï¼Œ\bæœç´¢ï¼Œçœ‹å¥½å‡ ç¯‡æ–‡ç« æ‰èƒ½æ‰¾åˆ°æ­£ç¡®ç­”æ¡ˆ\bã€‚å°†å®ƒä»¬è®°å½•ä¸‹æ¥ï¼Œä¸€æ¥åŠ æ·±å°è±¡ï¼Œ\u001cäºŒæ¥æ‰“å¼€åšå®¢ï¼Œå¯ä»¥ç›´æ¥æ‰¾åˆ°ç­”æ¡ˆã€‚ğŸ‘ğŸ‘ğŸ‘\b","link":"/about/index.html"},{"title":"","text":"/** * @file: file * @author: yueyueniao */ class EventEmeitter { constructor() { // é€‰æ‹©äº†Mapä½œä¸ºå‚¨å­˜äº‹ä»¶çš„è§£æ„ï¼Œå› ä¸ºä½œä¸ºé”®å€¼å¯¹çš„å‚¨å­˜æ–¹å¼Mapæ¯”ä¸€èˆ¬å¯¹è±¡æ›´åŠ é€‚åˆï¼Œæ“ä½œæ›´åŠ ç®€æ´ // å‚¨å­˜äº‹ä»¶å›è°ƒé”®å€¼å¯¹ this._events = this._events || new Map(); // è®¾ç½®ç›‘å¬ä¸Šé™ this._maxListeners = this._maxListeners || 10; } } // è§¦å‘åä¸ºtypeçš„äº‹ä»¶ EventEmeitter.prototype.emit = function(type, ...args) { let handler; handler = htis._events.get(type); if(Array.isArray(handler)) { // å¦‚æœæ˜¯ä¸€ä¸ªæ•°ç»„è¯´æ˜æœ‰å¤šä¸ªç›‘å¬è€…ï¼Œéœ€è¦ä¾æ¬¡è§¦å‘é‡Œé¢çš„å‡½æ•° for(let i=0; i 0) { handler[i].apply(this.args); } else { handler[i].call(this); } } } else { // å•ä¸ªå‡½æ•°æƒ…å†µç›´æ¥è§¦å‘ if (args.length > 0) { handler.apply(this, args); } else { handler.call(this); } } return true; } // ç›‘å¬åä¸ºtypeçš„äº‹ä»¶ EventEmeitter.prototype.addListener = function(type, fn) { // è·å–å¯¹åº”äº‹ä»¶åç§°çš„å‡½æ•°æ¸…å• const handler = this._events.get(type); if (!handler) { this._events.seet(type, fn); } else if (handler && typeof handler === 'function') { // å¦‚æœhandleræ˜¯å‡½æ•°ï¼Œè¯´æ˜æ˜¯ä¸€ä¸ªç›‘å¬è€… // å¤šä¸ªç›‘å¬è€…éœ€è¦ç”¨æ•°ç»„å­˜å‚¨ this._events.set(type, [handler, fn]); } else { // å·²ç»æœ‰å¤šä¸ªç›‘å¬è€…ï¼Œç›´æ¥å°†å‡½æ•°pushåˆ°æ•°ç»„ handler.push(fn); } } // ç§»é™¤åä¸ºtypeçš„äº‹ä»¶ EventEmeitter.prototype.removeListener = function(type, fn) { // è·å–å¯¹åº”äº‹ä»¶åç§°çš„å‡½æ•°æ¸…å• const handler = this._events.get(type); if (handler && typeof handler === 'function') { // å¦‚æœæ˜¯å‡½æ•°ï¼Œè¯´æ˜åªè¢«ç›‘å¬äº†ä¸€æ¬¡ this._events.delete(type, fn); } else { let position; // å¦‚æœhandleræ˜¯æ•°ç»„ï¼Œè¦æ‰¾åˆ°å¯¹åº”çš„å‡½æ•° for(let i=0; i","link":"/jscode/EventEmeitter.js"},{"title":"","text":"/** * @file: file * @author: zhaojianpeng */ /** * @description: * @param {type} * @return: * ä»£ç ç®€å•æ¸…æ™° * åŒæ­¥è¯»å–ï¼Œå®¹æ˜“å†…å­˜æº¢å‡º * */ function copyOld(src, target) { fs.writeFileSync(target, fs.createWriteStream(src)) } function copy(src, dst) { fs.createReadStream(src).pipe(fs.createWriteStream(dst)) } /** * @description: * @param {type} * @return: * ä»£ç ç®€æ´ * æ²¡æœ‰å†…å­˜æº¢å‡ºé£é™© */ const fs = require('fs') const path = require('path') // å¤åˆ¶ç›®å½• main('source/tags', 'source/tags2') function main(src, dst) { // const rootSrc = path.resolve(path.resolve(), src) const rootSrc = path.resolve(process.cwd(), src) fs.stat(rootSrc, (err, stats) =>{ if (err) { console.log(err, 'é”™è¯¯äº†') } if (stats.isFile()) { copy(rootSrc, dst) } else if(stats.isDirectory()) { // å¦‚æœç›®æ ‡åœ°å€ä¹Ÿæ˜¯æ–‡ä»¶å¤¹çš„è¯ï¼Œç”Ÿæˆç›®æ ‡æ–‡ä»¶å¤¹ // å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º if(!fs.existsSync(dst)) { fs.mkdirSync(dst) } copyDir(rootSrc, dst) } }) } // è¯»å–æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¹¶å¤åˆ¶ function copyDir(src, dst) { fs.readdir(src, (err, paths) => { if (err) { throw err } paths.forEach(tmpPath=>{ const currPath = path.resolve(src, tmpPath) fs.stat(currPath, (err, st)=> { if(st.isFile()) { copy(currPath, path.resolve(dst, tmpPath)) }else if(st.isDirectory()) { // é€’å½’è°ƒç”¨å¤åˆ¶æ–‡ä»¶å¤¹å†…å®¹ const currDst = path.resolve(dst, tmpPath) if(!fs.existsSync(currDst)) { fs.mkdirSync(currDst) } copyDir(currPath, currDst) } }) }) }) }","link":"/jscode/fscopy.js"},{"title":"","text":"js é€šè¿‡åŒ¿åç©ºé—´éš”å¼€å…¬æœ‰ç§æœ‰ 123456789101112131415161718192021222324252627282930(function() { var abc = 5; function TabView(cfg) { this.a = cfg.a; this.b = cfg.b; } TabView.prototype = { c: function() { abc++;}, d: function() { abc--;} } window.TabView = TabView;})();(function() { var abc = 100; function TreeView(cfg) { this.a = cfg.a; this.b = cfg.b; } TreeView.prototype = { c: function() { abc *= 2;}, d: function() { abc /= 2;} } window.TreeView = TreeView;}); åŸºäº require.js é‡å†™ä»£ç 1234567891011121314151617181920212223242526272829// animate.jsdefine(function() { function Animate() {} return { Animate: Animate };});// treeview.jsdefine(function() { function TreeView() {} return { TreeView: TreeView };});// tabview.jsdefine([&quot;animate&quot;], function(a) { function TabView() { this.animate = new a.Animate(); } return { TabView: TabView };});// main.jsrequire([&quot;tabview&quot;, &quot;treeview&quot;], function(tab, tree) { var tabView = new tab.TabView(), treeView = new tree.TreeView();});","link":"/jscode/js.html"},{"title":"","text":"js é€šè¿‡åŒ¿åç©ºé—´éš”å¼€å…¬æœ‰ç§æœ‰ 123456789101112131415161718192021222324252627282930(function() { var abc = 5; function TabView(cfg) { this.a = cfg.a; this.b = cfg.b; } TabView.prototype = { c: function() { abc++;}, d: function() { abc--;} } window.TabView = TabView;})();(function() { var abc = 100; function TreeView(cfg) { this.a = cfg.a; this.b = cfg.b; } TreeView.prototype = { c: function() { abc *= 2;}, d: function() { abc /= 2;} } window.TreeView = TreeView;}); åŸºäº require.js é‡å†™ä»£ç 1234567891011121314151617181920212223242526272829// animate.jsdefine(function() { function Animate() {} return { Animate: Animate };});// treeview.jsdefine(function() { function TreeView() {} return { TreeView: TreeView };});// tabview.jsdefine([&quot;animate&quot;], function(a) { function TabView() { this.animate = new a.Animate(); } return { TabView: TabView };});// main.jsrequire([&quot;tabview&quot;, &quot;treeview&quot;], function(tab, tree) { var tabView = new tab.TabView(), treeView = new tree.TreeView();});","link":"/jscode/js2.html"},{"title":"","text":"/** * @file: file * @author: zhaojianpeng */ class Race { constructor(props = {}) { // super(props) ;[ ['rabbit', 'å…”å­'], ['turtle', 'ä¹Œé¾Ÿ'], ['turtleStep', 0], ['rabbitStep', 0], ['start', '|'], ['end', 'ã€‹'], ['pad', '.'], ['speed', 1], ['steps', 50], ['stopAt', 42] ].forEach(elem => { const [key, value] = elem if (!key in props) { this[key] = value } }) } getRaceTrack() { const { start, pad, turtle, turtleStep, rabbit, rabbitStep, steps, end } = this if (!turtleStep && !rabbitStep) { return `${turtle}${rabbit}${start}${pad.repeat(steps)}${end}` } const [ [minStr, min], [maxStr, max] ] = [ [turtle, turtleStep], [rabbit, rabbitStep] ].sort((a, b) => a[1] - b[1]) const prefix = `${pad.repeat((min || 1) - 1)}` const middle = `${pad.repeat(max - min)}` const suffix = `${pad.repeat(steps - max)}` const _start = `${start}${prefix}${minStr}` const _end = suffix ? `${maxStr}${suffix}${end}` : `${end}${maxStr}` return `${_start}${middle}${_end}` } updateRaceTrack(state, racing) { racing.replace(state) } updateSteps() { if (this.turtleStep >= this.steps) return if (this.rabbitStep { if (t","link":"/jscode/rabbit-class.js"},{"title":"","text":"/** * @file: file * @author: zhaojianpeng */ const rabbit = 'å…”å­'; const turtle = 'ä¹Œé¾Ÿ'; const start = '|'; const end = 'ã€‹' // èµ›é“ä¸Šçš„æ¯ä¸€ç±³ç”¨.è¡¨ç¤º const pad = '.' // é€Ÿåº¦ 1ç±³/150ms const speed = 1 // ä¸€å…±æœ‰50ç±³ const steps = 50 // çº¦å®šåœ¨42ç±³ const stopAt = 42 // å…”å­æ˜¯å¦åœä¸‹ let stoped = false // ä»0å¼€å§‹è½®è¯¢ let t = 0 let timer let initState = `${rabbit}${turtle}${start}${pad.repeat(steps)}${end}` function turtleBeyondStart() { return speed * t } function rabbitBeyoondStart() { if (speed * 3 * t >= stopAt) { stoped = true return stopAt } return speed * 3 * t } function race() { const turtleRange = turtleBeyondStart() const rabbitRange = rabbitBeyoondStart() if(turtleRange === 50) { clearInterval(timer) initState = `${start}${pad.repeat(stopAt)}${rabbit}${pad.repeat(steps - stopAt)}${end}${turtle}` } else if (t > 0 && !stoped) { initState = `${start}${pad.repeat(turtleRange)}${turtle}${pad.repeat(rabbitRange - turtleRange)}${rabbit}${pad.repeat(steps - rabbitRange)}${end}` // è¿™ä¸ªå¯ä»¥åˆå¹¶åˆ°ä¸Šé¢è¿™ä¸ªæ¡ä»¶é‡Œ // } else if(turtleRange < rabbitRange && stoped) { // // å…”å­åœæ­¢äº†,å…”å­åœ¨ä¹Œé¾Ÿå‰é¢ // initState = `${start}${pad.repeat(turtleRange)}${turtle}${pad.repeat(rabbitRange - turtleRange)}${rabbit}${pad.repeat(steps-stopAt)}${end}` } else if(turtleRange >= rabbitRange && stoped) { // å…”å­åœ¨ä¹Œé¾Ÿåé¢ initState = `${start}${pad.repeat(stopAt)}${rabbit}${pad.repeat(turtleRange - stopAt)}${turtle}${pad.repeat(steps-turtleRange)}${end}` } t++; console.log(initState) } timer = setInterval(() => { race() }, 150); const wait = sec => new Promise(resolve => setTimeout(() => resolve(), sec)) // ç­‰å¾… 2 ç§’å†å¼€å§‹å¯åŠ¨æ¯”èµ› wait(2000).then(() => { race() })","link":"/jscode/rabbit.js"},{"title":"tags","text":"","link":"/tags/index.html"},{"title":"","text":"// http://news.163.com/special/fdh5_funnyfriend/ function (e) { function n(e) { var n = document.getElementById(e), i = function () { document.removeEventListener(\"WeixinJSBridgeReady\", i), document.removeEventListener(\"YixinJSBridgeReady\", i), n.play() }; document.addEventListener(\"WeixinJSBridgeReady\", i, !1), document.addEventListener(\"YixinJSBridgeReady\", i, !1) } function i(e, n) { return Math.floor(Math.random() * (n - e + 1) + e) } function a(e) { for (var n = e.slice(), a = 0; a < n.length; a++) { var t = i(0, a), r = n[a]; n[a] = n[t], n[t] = r } return n } function t(n) { if (5 == n) return void r(); 3 == n ? (J.visible = !1, whitePage.visible = !0, e(\".music\").addClass(\"white\")) : (J.visible = !0, whitePage.visible = !1, e(\".music\").removeClass(\"white\")); for (var i = 0; i < 5; i++) N[\"num\" + i].visible = !1; N[\"num\" + n].visible = !0, main.children[n].visible = !0, main.children[n].alpha = 0, new TWEEN.Tween({ alpha: 0 }).to({ alpha: 1 }, 300).onUpdate(function () { main.children[n].alpha = this.alpha, main.children[n - 1].alpha = 1 - this.alpha }).start() } function r() { W.resize(750, 1206), b - 1206 > 50 && e(\"canvas,.create_bg,.show_img,.save_img\").css({ \"margin-top\": (b - 1206) / 2 + \"px\" }), e(\".first\").hide(), e(\".music\").hide(), e(\".create_end\").fadeIn(), setTimeout(function () { e(\".create_box\").addClass(\"active\") }, 10), setTimeout(function () { e(\".create_end\").fadeOut(300) }, 2500), new TWEEN.Tween({ width: 0 }).to({ width: 291 }, 2500).onUpdate(function () { e(\".create_rect\").width(this.width) }).easing(TWEEN.Easing.Quadratic.InOut).start(), setTimeout(function () { var n = new z(k.resources[m + \"end/bg\" + H + \".jpg\"].texture); O.addChild(n); var i = new z(k.resources[m + \"end/end_shidian_logo.png\"].texture); i.position.set(297, 1086), O.addChild(i); var a = d(F), t = 10; a > 8 && (t = 5); var r = new j(F, { fontSize: \"60px\", fill: \"#000000\", letterSpacing: t }), o = new j(\"çš„æŸå‹åœˆ\", { fontSize: \"60px\", fill: \"#000000\", letterSpacing: t }); a","link":"/testfile/zhexue.js"}],"posts":[{"title":"7å¤©å…¥é—¨æ•°æ®ç»“æ„å’Œç®—æ³•","text":"æ•°æ®ç»“æ„å’Œç®—æ³•æ€»è§ˆçº¿ä¸Šè¯¾ç¨‹ é¢„ä¹ -åŸºç¡€çŸ¥è¯†è‡ªå·±é¢„ä¹ å’ŒæŸ¥çœ‹è¯¾å ‚äº’åŠ¨-ä¸€èµ·æ€è€ƒå›ç­”é—®é¢˜è¯¾åä½œä¸š-æŒ‰ç…§åˆ‡é¢˜æ–¹æ³•å®Œæˆ æœŸå¾…æ•ˆæœ èŒä¸šé¡¶å°–çº§åˆ« - å¯¹ç®—æ³•æ•°æ®ç»“æ„çš„ç†è§£ä¸€çº¿äº’è”ç½‘å…¬å¸é¢è¯•LeetCode 300+çš„ç§¯ç´¯ ã€ŠOutliersã€‹ ã€Šå¼‚ç±»:ä¸ä¸€æ ·çš„æˆåŠŸå¯ç¤ºå½•ã€‹â€“é©¬å°”ç§‘å§†Â·æ ¼æ‹‰å¾·ç»´å°” ç²¾é€šä¸€ä¸ªé¢†åŸŸä¸‰æ­¥èµ° Chunk it up åˆ‡ç¢çŸ¥è¯†ç‚¹ Deliberate Practicing åˆ»æ„ç»ƒä¹  Feedback åé¦ˆ Chunk it up åº–ä¸è§£ç‰› è„‰ç»œç›¸è¿ æ•°æ®ç»“æ„æ•°æ®ç»“æ„è„‘å›¾ ä¸€ç»´ åŸºç¡€: æ•°ç»„ array(string), é“¾è¡¨ linked list é«˜çº§: æ ˆ stack, é˜Ÿåˆ— queue, åŒç«¯é˜Ÿåˆ— deque, é›†åˆ set, æ˜ å°„ map(hash or map), etc äºŒç»´ åŸºç¡€: æ ‘ tree, å›¾ graph é«˜çº§: äºŒå‰æœç´¢æ ‘ binary search tree (red-black tree, AVL), å † heap, å¹¶æŸ¥é›† disjoint set, å­—å…¸æ ‘Trie, etc ç‰¹æ®Š ä½è¿ç®— Bitwise, å¸ƒéš†è¿‡æ»¤å™¨ BloomFilter LRU Cache ç®—æ³•å…«ç‚¹ç®—æ³•è„‘å›¾ åŸºçŸ³-ä¸‰ç‚¹ if-else, switch â€”&gt; è·³è½¬ branch for, while loop â€”&gt; å¾ªç¯ iteration é€’å½’ Recursion(Divide &amp; Conquer, Backtrace) æ‰€æœ‰å¤æ‚ç®—æ³•ï¼Œæœ€åå…¶å®å°±æ˜¯æ‰¾å®ƒçš„é‡å¤å•å…ƒæ˜¯ä»€ä¹ˆ å…¶ä½™äº”ç‚¹ æœç´¢Search: æ·±åº¦ä¼˜å…ˆç®—æ³• Depth first search, å¹¿åº¦ä¼˜å…ˆç®—æ³• Breadth first search, A*, etc åŠ¨æ€è§„åˆ’ Dynamic Programming äºŒåˆ†æŸ¥æ‰¾ Binary Search è´ªå¿ƒ Greedy æ•°å­¦ Math, å‡ ä½• Geometry åˆ»æ„ç»ƒä¹ èŒä¸šåŒ–è¿åŠ¨ åŸºæœ¬åŠŸæ˜¯åŒºåˆ«ä¸šä½™å’ŒèŒä¸šé€‰æ‰‹çš„æ ¹æœ¬ åŸºç¡€åŠ¨ä½œçš„åˆ†è§£è®­ç»ƒå’Œåå¤ç»ƒä¹  â€“&gt; æœ€å¤§çš„è¯¯åŒº(åªåšä¸€é) ä¹’ä¹“çƒï¼Œå°çƒï¼Œæ»‘é›ª è§£å†³åŠæ³• åˆ»æ„è®­ç»ƒ â€“ è¿‡éæ•°(äº”æ¯’ç¥æŒ) ç»ƒä¹ ç¼ºé™·ã€å¼±ç‚¹åœ°æ–¹ ä¸èˆ’æœã€ä¸çˆ½ã€æ¯ç‡¥ ç”Ÿæ´»ä¸­çš„ä¹’ä¹“çƒï¼Œå°çƒç­‰ åé¦ˆå³ä½¿åé¦ˆ ä¸»åŠ¨å‹åé¦ˆ(è‡ªå·±å»æ‰¾) é«˜æ‰‹ä»£ç (GitHub, LeetCode, etc.) ç¬¬ä¸€è§†è§’ç›´æ’­ è¢«åŠ¨å‹åé¦ˆ(é«˜æ‰‹ç»™ä½ æŒ‡ç‚¹) code review æ•™ç»ƒçœ‹ä½ æ‰“ï¼Œç»™ä½ åé¦ˆ åˆ·é¢˜æŠ€å·§åˆ‡é¢˜å››ä»¶å¥—â€“å››æ­¥ç³»ç»ŸåŒ–æ€è€ƒæ–¹å¼ Clarification æ˜ç¡®é¢˜ç›®è¦æ±‚ é˜æ˜ Possible solutions æƒ³æ‰€æœ‰å¯èƒ½çš„è§£æ³•ï¼Œæ¯”è¾ƒä¸åŒçš„æ–¹æ³•çš„æ—¶é—´ç©ºé—´å¤æ‚åº¦ï¼Œæ‰¾å‡ºæœ€ä¼˜è§£æ³• compare (time/space) optimal (åŠ å¼º) Coding(å¤šå†™) Test cases(åˆ—ä¸¾å‡ ä¸ªï¼Œæµ‹è‡ªå·±çš„ç¨‹åºï¼Œæœ‰å§‹æœ‰ç»ˆ) äº”æ¯’ç¥æŒâ€“äº”éåˆ·é¢˜æ³•ç¬¬ä¸€é èŠ±5åˆ†é’Ÿæ—¶é—´è¯»é¢˜æ€è€ƒ(æœ€å¤š10åˆ†é’Ÿï¼Œæ²¡æœ‰æ€è·¯èµ°ç¬¬äºŒæ­¥) ç›´æ¥çœ‹è§£æ³•(ä¸è¦çº ç»“) æ³¨æ„å¤šè§£æ³•æ¯”è¾ƒä¼˜åŠ£ï¼Œ èƒŒè¯µå’Œé»˜å†™å¥½çš„è§£æ³• ç®—æ³•æ˜¯ç†è§£å’Œè¿ç”¨ï¼Œä¸æ˜¯åˆ›é€ ç®—æ³• ç¬¬äºŒéé©¬ä¸Šè‡ªå·±å†™â€“LeetCodeæäº¤ï¼Œç›´åˆ°é€šè¿‡å¤šç§è§£æ³•æ¯”è¾ƒã€ä½“ä¼šâ€“&gt; ä¼˜åŒ–ï¼ ç¬¬ä¸‰éè¿‡24å°æ—¶åï¼Œå†é‡å¤åšé¢˜ä¸åŒè§£æ³•çš„ç†Ÿç»ƒç¨‹åº¦â€”&gt;ä¸“é¡¹è®­ç»ƒ ç¬¬å››éè¿‡äº†ä¸€å‘¨ï¼š åå¤å›æ¥ç»ƒä¹ ç›¸åŒé¢˜ç›® ç¬¬äº”éé¢è¯•å‰ä¸€å‘¨æ¢å¤æ€§è®­ç»ƒ(çœ‹è‡ªå·±æ—¶é—´å®‰æ’) å°ç»“ èŒä¸šè®­ç»ƒ: æ‹†åˆ†çŸ¥è¯†ç‚¹ã€åˆ»æ„ç»ƒä¹ ã€åé¦ˆ äº”æ­¥åˆ·é¢˜æ³•(äº”æ¯’ç¥æŒ) åšç®—æ³•é¢˜æœ€å¤§è¯¯åŒº: åªåšä¸€é LeetCodeæ’ä»¶VS Code Pluginé‡ŒæœLeetCode æŠŠMost Votes æœ€é«˜ç¥¨çš„å‰ä¸‰ä¸ªéƒ½çœ‹ä¸€é CodeStyle éµå®ˆä»£ç è§„èŒƒæŒ‡æ³•å’Œå°æ“ä½œhome, end (è¡Œå¤´ã€è¡Œå°¾)Wordå•è¯ã€é€‰å•è¯ã€é€‰æ­£è¡ŒIDEè‡ªåŠ¨è¡¥å…¨Top tips for IDE-name è‡ªè¡Œæœç´¢ideç›¸å…³ä½¿ç”¨æŠ€å·§ è‡ªé¡¶å‘ä¸‹ç¼–ç¨‹å…³é”®æ–¹æ³•ï¼Œå…³é”®å†…å®¹æ”¾åœ¨ä¸Šè¾¹ æœ€å¼€å§‹æ€è€ƒå¤§å±‚æ¬¡çš„é€»è¾‘","link":"/posts/7%E5%A4%A9%E5%85%A5%E9%97%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/"},{"title":"Alfred","text":"[TOC] Alfredæ˜¯ä»€ä¹ˆ å¯ä»¥å½“åšappå¿«é€Ÿå¯åŠ¨(å…³é—­)å·¥å…·æ¥ä½¿ç”¨ è‡ªå®šä¹‰æœç´¢ workflow å®‰è£…ä¸‹è½½ å¿«æ·é”®å”¤èµ· option+ç©ºæ ¼è®¾ç½® command+, é…ç½®ç™¾åº¦æœç´¢åœ¨é…ç½®é¡µæ‰¾åˆ°Web Search ç‚¹å‡»å³ä¸‹è§’Edit custom Search. åœ¨å¼¹å‡ºæ¡†é‡Œé…ç½® 123Search URL: https://www.baidu.com/s?wd={query}Title: ç™¾åº¦(éšä¾¿å†™)keyWord: b ç‚¹save å”¤é†’åå†è¾“å…¥æ¡†è¾“å…¥b (ä»»æ„å­—ç¬¦) ä¼šè‡ªåŠ¨æ‰“å¼€ç™¾åº¦æœç´¢ å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œ å†ç‚¹å‡»â€Featuresâ€-&gt;Default Results-&gt;â€Setup fallback resultsâ€-&gt;ç‚¹å‡»å¼¹å‡ºçš„çª—å£å³ä¸‹è§’â€+â€å·-&gt;é€‰æ‹©Custom Rearch ä¸‹çš„ç™¾åº¦(ä¸Šä¸€æ­¥è®¾ç½®çš„Title)ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹å›¾ã€‚ é…ç½®è‡ªå®šä¹‰ç»ˆç«¯ç»ˆç«¯ä½¿ç”¨iTerm2, å¯ä»¥å¦‚ä¸‹è®¾ç½®åœ¨è®¾ç½®é¡µé¢ï¼Œå·¦ä¸‹è§’Terminal/Shell, é€‰æ‹©Custom æ ¹æ®iTerm2çš„ç‰ˆæœ¬, æ‰“å¼€è‡ªå®šä¹‰è„šæœ¬é…ç½®å¤åˆ¶åˆ°è¾“å…¥æ¡†,å³å¯ã€‚ å”¤é†’åï¼Œ è¾“å…¥&gt; [shellå‘½ä»¤]å³å¯è‡ªåŠ¨æ‰“å¼€iTerm2ï¼Œæ‰§è¡Œ[shellå‘½ä»¤] eg: &gt; cd / ä½¿ç”¨ç¤ºä¾‹ç™¾åº¦æœç´¢option+ç©ºæ ¼ å”¤é†’, éšä¾¿è¾“å…¥å†…å®¹ï¼Œä¸‹æ‹‰åˆ—è¡¨æ˜¾ç¤ºç™¾åº¦æœç´¢ï¼Œç›´æ¥å›è½¦ã€‚ æ‰“å¼€æŒ‡å®šåº”ç”¨option+ç©ºæ ¼ å”¤é†’, è¾“å…¥è®¾ç½®, chromeç­‰åº”ç”¨åå­—ï¼Œä¼šç›´æ¥æ˜¾ç¤ºappï¼Œå›è½¦æ‰“å¼€ã€‚ w å¯æ˜¾ç¤ºç½‘æ˜“äº‘éŸ³ä¹ iterm æ‰“å¼€ç»ˆç«¯ è®¡ç®—å™¨å”¤é†’ç›´æ¥åœ¨è¾“å…¥æ¡†è¾“å…¥ç®—å¼ï¼Œå³å¯æ˜¾ç¤ºç»“æœ ç¿»è¯‘åœ¨Web Searchä¸­æ·»åŠ https://translate.google.cn/?text={query}ï¼Œè®¾ç½®å¿«æ·é”®tr å”¤é†’åè¾“å…¥tr ç¿»è¯‘å†…å®¹ å›è½¦ï¼Œå¯è‡ªåŠ¨æ‰“å¼€è°·æ­Œç¿»è¯‘ é»˜è®¤å­—å…¸ç¿»è¯‘define ç¿»è¯‘å†…å®¹åªèƒ½ç¿»è¯‘è¯, æ²¡æœ‰è°·æ­Œæ™ºèƒ½,å¯ä»¥åŠæ—¶æ˜¾ç¤ºç¿»è¯‘å†…å®¹ï¼Œä¸ç”¨æ‰“å¼€ç½‘é¡µ å¯ä»¥åœ¨features-&gt;Dictionary-&gt;Defined a wordä¿®æ”¹denifeä¸ºde é€€å‡ºæŸä¸ªåº”ç”¨quit åŠ ç©ºæ ¼ alfred æ¯æ¬¡å¼€æœºè¿è¡Œåéƒ½æç¤ºæ˜¯å¦å…è®¸è®¿é—®é€šè®¯å½•åœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤è§£å†³ sudo codesign -f -d -s - /Applications/Alfred\\ 3.app/Contents/Frameworks/Alfred\\ Framework.framework/Versions/A/Alfred\\ Framework å¸¸ç”¨openç”¨æ¥æ‰“å¼€æ–‡ä»¶ï¼Œfindç”¨æ¥æ˜¾ç¤ºæ–‡ä»¶æ‰€åœ¨ä½ç½® screensaveræ˜¾ç¤ºå±ä¿ locké”å±â€”(ä¸ç”Ÿæ•ˆ) sleepç¡çœ  trashåºŸçº¸ç¯“ï¼Œemptytrashæ¸…ç©ºåºŸçº¸ç¯“ shutdownå…³æœºï¼Œrestarté‡å¯ï¼Œlogoutæ³¨é”€ workflow æŸ¥è¯¢æœ¬æœºIPä¸‹è½½åœ°å€ åŒå‡»å¯¼å…¥ï¼Œ è¾“å…¥ipï¼Œå³å¯æŸ¥è¯¢æœ¬æœºipï¼ŒæŒ‰cmd+cå¯ä»¥å¤åˆ¶ å¥½çš„é“¾æ¥æ¨è5åˆ†é’Ÿä¸Šæ‰‹Macæ•ˆç‡ç¥å™¨Alfredä»¥åŠAlfredå¸¸ç”¨æ“ä½œAlfred Workflowæ•™ç¨‹ä¸å®ä¾‹Workflowåˆ—è¡¨","link":"/posts/Alfred/"},{"title":"Bundleræºç ç¼–å†™","text":"å®‰è£…ä¾èµ–-ç›¸å…³æ–‡æ¡£ npm install @babel/parser @babel/traverse @babel/core @babel/preset-env --save index.js 12import message from './message.js';console.log(message); message.js 123import { word } from './word.js';const message = `say ${word}`;export default message; word.js 1export const word = 'hello'; bundler.js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485const fs = require('fs');const path = require('path');const parser = require('@babel/parser');const babel = require('@babel/core');const traverse = require('@babel/traverse').default;// åˆ†æå…¥å£æ–‡ä»¶å’Œä¾èµ–const moduleAnalyser = (filename) =&gt; { // è¯»å–æ–‡ä»¶å†…å®¹ const content = fs.readFileSync(filename, 'utf-8'); // ä½¿ç”¨babelè§£ææ–‡ä»¶æˆæŠ½è±¡è¯­æ³•æ ‘ const ast = parser.parse(content, { sourceType: 'module' }); const dependencies = {}; traverse(ast, { // å£°æ˜ ImportDeclaration({ node }) { // è·å–ç»å¯¹è·¯å¾„çš„æ–‡ä»¶ const dirname = path.dirname(filename); const newFile = './' + path.join(dirname, node.source.value); dependencies[node.source.value] = newFile; } }); // babelè½¬åŒ–es6ä»£ç åˆ°es5 const { code } = babel.transformFromAst(ast, null, { presets:: ['@babel/preset-env'] }); // è¿”å›å…¥å£æ–‡ä»¶å’Œä¾èµ–æ–‡ä»¶ return { filename, dependencies, code }}// æµ‹è¯•å…¥å£æ–‡ä»¶è§£ææ˜¯å¦æ­£å¸¸// moduleAnalyser('./src/index.js');// ä¾èµ–å›¾è°±ï¼Œåˆ†æå…¥å£æ–‡ä»¶åŠå…¥å£æ–‡ä»¶ä¸­å¼•å…¥æ–‡ä»¶çš„ä¾èµ–const makeDependenciesGraph = (entry) =&gt; { const entryModule = moduleAnalyser(entry); const graphArr = [entryModule]; for(let i = 0; i &lt; graphArr.length; i++) { const item = graphArr[i]; const { dependencies } = item; if (dependencies) { for(let j in dependencies) { graphArr.push(moduleAnalyser(dependencies[j])); } } } const graph = {}; graphArr.forEach(item =&gt; { graph[item.filename] = { dependencies: item.dependencies, code: item.code }; }); return graph;};// ç”Ÿæˆæœ€ç»ˆçš„ä»£ç const generageCode = (entry) =&gt; { const graph = JSON.stringify(makeDependenciesGraph(entry)); // æ‹¿åˆ°entry, æ‰§è¡Œentryå¯¹åº”çš„ä»£ç  return ` (function(graph) { function require(module) { function localRequire(relativePath) { return require(graph[module].dependencies[relativePath]); } var exports = {}; (function(require, exports, code){ eval(code) })(localRequire, exports, graph[module].code) return exports; }; require('${entry}'); })(${graph}); `;}// const graphInfo = makeDependenciesGraph('./src/index.js');const code = generageCode('./src/index.js');","link":"/posts/Bundler%E6%BA%90%E7%A0%81%E7%BC%96%E5%86%99/"},{"title":"CSS ä»£ç ç¤ºä¾‹","text":"è®¾ç½®å…ƒç´ readonlyå’Œdisabledæ ·å¼123456#endDate:read-only{ cursor:pointer;}#endDate:disabled{ cursor:not-allowed;} placeholderæ ·å¼ä¿®æ”¹123456789.input::-webkit-input-placeholder { color: red;}.input:-moz-placeholder { color: red;}.input:-ms-input-placeholder { color: red;} é€‰æ‹©è¢«ç”¨æˆ·é€‰å–çš„å…ƒç´ éƒ¨åˆ†123::selection { background:lightblue;} cssé€‰æ‹©å™¨ï¼Œé€‰æ‹©é™¤äº†æœ€åä¸€ä¸ªä»¥å¤–çš„å…ƒç´ åœºæ™¯ï¼šæ¯ä¸ªliéƒ½åŠ å³è¾¹æ¡†ï¼Œé™¤äº†æœ€åä¸€ä¸ªéœ€è¦å†™ä¸ªdemoè¯•ä¸€ä¸‹ï¼Œå¦‚æœlié‡ŒåµŒå¥—å…¶ä»–å…ƒç´ æ˜¯å¦ç”Ÿæ•ˆ 123.ab-character-con .l3:not(:last-child){ border-right:1px solid red;} cssä¸¤ç«¯å¯¹é½æ•ˆæœï¼š 123å§“ åæ‰‹ æœº å·ç”µ è¯ å· ç  1234567891011121314151617181920// html&lt;div&gt;å§“å&lt;/div&gt;&lt;div&gt;æ‰‹æœºå·ç &lt;/div&gt;&lt;div&gt;è´¦å·&lt;/div&gt;&lt;div&gt;å¯†ç &lt;/div&gt;// cssdiv { margin: 10px 0; width: 100px; border: 1px solid red; text-align: justify; text-align-last:justify}div:after{ content: ''; display: inline-block; width: 100%;}","link":"/posts/CSS-%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B/"},{"title":"Chromeæ’ä»¶","text":"Chrome æœ‰ä¸°å¯Œçš„æ’ä»¶, å¯ä»¥æ‰©å±•å‡ºå¾ˆå¤šåŠŸèƒ½, æé«˜æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡. æ²™æ‹‰æŸ¥è¯hrome ä¸­æœ€å¥½çš„ä¸€æ¬¾ç¿»è¯‘æ’ä»¶, chrome åº”ç”¨å•†åº—è¯¥æ’ä»¶ä¸‹çš„å¥½è¯„å¦‚æ½®.åœ¨è®¾ç½®é‡Œå…³é—­â€”é»˜è®¤ç”¨æœ¬æ‰©å±•æµè§ˆ PDF Full Page Screen Capture (å…¨ç½‘é¡µæˆªå±)è¯¥æ’ä»¶å¯ä»¥å°†æ•´ä¸ªç½‘é¡µæˆªæˆä¸€å¼ é•¿å›¾, å¹¶ä¸”æ”¯æŒç¼–è¾‘, æœ‰æ—¶æˆ‘ä»¬ä¸æ–¹ä¾¿åˆ†äº«ç½‘é¡µæ—¶, æ¯”å¦‚ä¸€äº›å†…ç½‘ç«™ç‚¹å¤–ç½‘è®¿é—®ä¸äº†, é€šè¿‡å…¨ç½‘é¡µæˆªå±å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åŠæ³•. Infinity æ–°æ ‡ç­¾é¡µæ›¿æ¢ chrome åŸæœ‰é¦–é¡µçš„ä¸€ä¸ªé€‰æ‹©, åŠŸèƒ½å®Œå–„, å¯ä»¥æ–¹ä¾¿çš„ç®¡ç†å’ŒæŸ¥æ‰¾ä¹¦ç­¾, æ¯å¤©æ›´æ¢ä¸€ä¸ªå£çº¸, ç‚¹å‡»ä¸‹è¾¹çš„å°é£è½¦, å¯ä»¥éšæœºåˆ‡æ¢å£çº¸ Momentumæ˜¯å¦ä¸€æ¬¾æ›¿æ¢ chrome åŸæœ‰é¦–é¡µçš„æ’ä»¶, ç®€ä»‹å¤§æ°”, å·¦ä¸Šè§’å¯ä»¥æœç´¢, å³ä¸Šè§’å±•ç¤ºå¤©æ°”, ä¸­é—´å±•ç¤ºæ—¶é—´, ä¸‹æ–¹é»˜è®¤æœ‰ä¸ª todo çš„åŠŸèƒ½, å·¦ä¸‹è§’å¯ä»¥å¯¹æ ‡ç­¾é¡µè¿›è¡Œè®¾ç½®. Octotreeè®©æµè§ˆ github ä»£ç å˜å¾—åƒæœ¬åœ°ç¼–è¾‘å™¨ä¸€æ ·è½»æ¾, å¯ä»¥æœç´¢æ–‡ä»¶, ç‚¹å‡»ä»£ç ç›®å½•è·³è½¬ç­‰, æ–¹ä¾¿åœ°åœ¨æ–‡ä»¶ä¹‹é—´åˆ‡æ¢ Access-Control-Allow-Credentials: trueå…è®¸è·¨åŸŸè®¿é—® Allow-Control-Allow-Origin: *åŒä¸Š Axure RP Extension for ChromeAxureæŸ¥çœ‹æ’ä»¶ EditThisCookieCookieä¿®æ”¹å·¥å…· EverSync - Sync bookmarks, backup favoritesä¿å­˜ä¹¦ç­¾å·¥å…· React Developer ToolsRedux DevToolsVue.js devtoolsGoogle ç¿»è¯‘è°·æ­Œç¿»è¯‘ PageSpeed Insights (with PNaCl)ç½‘ç«™åŠ è½½é€Ÿåº¦ä¼˜åŒ–å·¥å…· æ˜é‡‘æ˜é‡‘tabé¡µé»˜è®¤å·¥å…·ä¸ºç¨‹åºå‘˜ã€è®¾è®¡å¸ˆã€äº§å“ç»ç†æ¯æ—¥å‘ç°ä¼˜è´¨å†…å®¹ã€‚ æ½®æ± - æç®€ç•ªèŒ„é’Ÿä¸ç™½å™ªéŸ³æ½®æ±ï¼Œå±¡è·æ®Šè£çš„ç™½å™ªéŸ³ä¸“æ³¨è®¡æ—¶å™¨ï¼Œå¸®ä½ ä¿æŒä¸“æ³¨ï¼Œæå‡å·¥ä½œæ•ˆç‡ã€‚ PPè°·æ­Œè®¿é—®åŠ©æ‰‹-æ°¸ä¹…å…è´¹-ä¸é™æ—¶å¸®åŠ©è®¿é—®è¢«å°é”çš„è°·æ­Œå’Œæ——ä¸‹ç½‘ç«™ã€‚ä»£ç†æœåŠ¡å™¨ç¨³å®šï¼ŒVPNåŸç†ï¼ŒHTTPSçº§åˆ«åŠ å¯†ï¼Œç¡®ä¿é€šä¿¡å®‰å…¨ã€‚ å¦‚ä½•å®‰è£…ä¸‹è½½çš„CRXæ’ä»¶(1) ä»è®¾ç½®-&gt;æ›´å¤šå·¥å…·-&gt;æ‰©å±•ç¨‹åº æ‰“å¼€æ‰©å±•ç¨‹åºé¡µé¢ï¼Œæˆ–è€…åœ°å€æ è¾“å…¥ Chrome://extensions/ æŒ‰ä¸‹å›è½¦æ‰“å¼€æ‰©å±•ç¨‹åºé¡µ(2) æ‰“å¼€æ‰©å±•ç¨‹åºé¡µé¢çš„â€œå¼€å‘è€…æ¨¡å¼â€(å³ä¸Šè§’)(3) å°†crxæ–‡ä»¶æ‹–æ‹½åˆ°æ‰©å±•ç¨‹åºé¡µé¢ï¼Œå®Œæˆå®‰è£… Tampermonkeyå®‰è£…åå¯ä»¥æŸ¥æ‰¾åœ¨ç½‘ç«™æ‰¾æƒ³è¦çš„è„šæœ¬å®‰è£… å®‰è£…æ–¹æ³• chromeåº”ç”¨å•†åº— ä¸ç¿»å¢™å¯ç”¨ [Tampermonkeyä¸‹è½½åœ°å€]https://www.crx4chrome.com/crx/755/ ç ´è§£VIPä¼šå‘˜è§†é¢‘é›†åˆ Proxy SwitchyOmegaä»£ç†åˆ‡æ¢å·¥å…· GoogleHelperå®‰è£…å¯ä»¥è®¿é—®Google","link":"/posts/Chrome%E6%8F%92%E4%BB%B6/"},{"title":"EventLoopäº‹ä»¶å¾ªç¯æ‰§è¡Œé¡ºåº--promise,nextTick,setTimeout","text":"é¢è¯•é¢˜å†™å‡ºä¸‹é¢˜è¾“å‡ºç»“æœ: 1234567891011121314151617181920212223242526async function async1(){ console.log('async1 start') await async2() console.log('async1 end') }async function async2(){ console.log('async2')}console.log('script start')setTimeout(function(){ console.log('setTimeout0')},0) setTimeout(function(){ console.log('setTimeout3')},3) setImmediate(() =&gt; console.log('setImmediate'));process.nextTick(() =&gt; console.log('nextTick'));async1();new Promise(function(resolve){ console.log('promise1') resolve(); console.log('promise2')}).then(function(){ console.log('promise3')})console.log('script end') é¢è¯•é¢˜æ­£ç¡®çš„è¾“å‡ºç»“æœ 123456789101112script startasync1 startasync2promise1promise2script endnextTickasync1 endpromise3setTimeout0setImmediatesetTimeout3 æå‡ºé—®é¢˜node.jsçš„å¼€å‘è€…ä¸€å®šéƒ½çŸ¥é“å®ƒæ˜¯å•çº¿ç¨‹çš„ï¼Œå¼‚æ­¥ä¸é˜»å¡ä¸”é«˜å¹¶å‘çš„ä¸€é—¨è¯­è¨€ node.jsä¸­çš„å¼‚æ­¥å†…éƒ¨åŸç†:ï¼ˆå¾®ä»»åŠ¡ä¸äº‹ä»¶å¾ªç¯ï¼‰ Node çš„å¼‚æ­¥è¯­æ³•æ¯”æµè§ˆå™¨æ›´å¤æ‚ï¼Œå› ä¸ºå®ƒå¯ä»¥è·Ÿå†…æ ¸å¯¹è¯ï¼Œä¸å¾—ä¸æäº†ä¸€ä¸ªä¸“é—¨çš„åº“ libuv åšè¿™ä»¶äº‹ã€‚è¿™ä¸ªåº“è´Ÿè´£å„ç§å›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼Œå¼‚æ­¥ä»»åŠ¡æœ€ååŸºäºäº‹ä»¶å¾ªç¯æœºåˆ¶è¿˜æ˜¯è¦å›åˆ°ä¸»çº¿ç¨‹ï¼Œä¸€ä¸ªä¸ªæ’é˜Ÿæ‰§è¡Œã€‚ è¯¦ç»†è®²è§£1.æœ¬è½®å¾ªç¯ä¸æ¬¡è½®å¾ªç¯å¼‚æ­¥ä»»åŠ¡å¯ä»¥åˆ†æˆä¸¤ç§ã€‚ è¿½åŠ åœ¨æœ¬è½®å¾ªç¯çš„å¼‚æ­¥ä»»åŠ¡ è¿½åŠ åœ¨æ¬¡è½®å¾ªç¯çš„å¼‚æ­¥ä»»åŠ¡ æ‰€è°“â€å¾ªç¯â€ï¼ŒæŒ‡çš„æ˜¯äº‹ä»¶å¾ªç¯ï¼ˆevent loopï¼‰ã€‚è¿™æ˜¯ JavaScript å¼•æ“å¤„ç†å¼‚æ­¥ä»»åŠ¡çš„æ–¹å¼. æœ¬è½®å¾ªç¯ä¸€å®šæ—©äºæ¬¡è½®å¾ªç¯æ‰§è¡Œã€‚ Node è§„å®šï¼Œprocess.nextTickå’ŒPromiseçš„å›è°ƒå‡½æ•°ï¼Œè¿½åŠ åœ¨æœ¬è½®å¾ªç¯ï¼Œå³åŒæ­¥ä»»åŠ¡ä¸€æ—¦æ‰§è¡Œå®Œæˆï¼Œå°±å¼€å§‹æ‰§è¡Œå®ƒä»¬ã€‚è€ŒsetTimeoutã€setIntervalã€setImmediateçš„å›è°ƒå‡½æ•°ï¼Œè¿½åŠ åœ¨æ¬¡è½®å¾ªç¯ã€‚ 2.process.nextTick()1ï¼‰process.nextTickä¸è¦å› ä¸ºæœ‰nextå°±è¢«å¥½å¤šå°ä¼™ä¼´å½“ä½œæ¬¡è½®å¾ªç¯ã€‚ 2ï¼‰Node æ‰§è¡Œå®Œæ‰€æœ‰åŒæ­¥ä»»åŠ¡ï¼Œæ¥ä¸‹æ¥å°±ä¼šæ‰§è¡Œprocess.nextTickçš„ä»»åŠ¡é˜Ÿåˆ—ã€‚ 3ï¼‰å¼€å‘è¿‡ç¨‹ä¸­å¦‚æœæƒ³è®©å¼‚æ­¥ä»»åŠ¡å°½å¯èƒ½å¿«åœ°æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨process.nextTickæ¥å®Œæˆã€‚ 3.å¾®ä»»åŠ¡ï¼ˆmicrotackï¼‰æ ¹æ®è¯­è¨€è§„æ ¼ï¼ŒPromiseå¯¹è±¡çš„å›è°ƒå‡½æ•°ï¼Œä¼šè¿›å…¥å¼‚æ­¥ä»»åŠ¡é‡Œé¢çš„â€å¾®ä»»åŠ¡â€ï¼ˆmicrotaskï¼‰é˜Ÿåˆ—ã€‚ å¾®ä»»åŠ¡é˜Ÿåˆ—è¿½åŠ åœ¨process.nextTické˜Ÿåˆ—çš„åé¢ï¼Œä¹Ÿå±äºæœ¬è½®å¾ªç¯ã€‚ æ ¹æ®è¯­è¨€è§„æ ¼ï¼ŒPromiseå¯¹è±¡çš„å›è°ƒå‡½æ•°ï¼Œä¼šè¿›å…¥å¼‚æ­¥ä»»åŠ¡é‡Œé¢çš„â€å¾®ä»»åŠ¡â€ï¼ˆmicrotaskï¼‰é˜Ÿåˆ—ã€‚ å¾®ä»»åŠ¡é˜Ÿåˆ—è¿½åŠ åœ¨process.nextTické˜Ÿåˆ—çš„åé¢ï¼Œä¹Ÿå±äºæœ¬è½®å¾ªç¯ã€‚æ‰€ä»¥ï¼Œä¸‹é¢çš„ä»£ç æ€»æ˜¯å…ˆè¾“å‡º3ï¼Œå†è¾“å‡º4ã€‚ 12process.nextTick(() =&gt; console.log(3));Promise.resolve().then(() =&gt; console.log(4)); // è¾“å‡ºç»“æœ3ï¼Œ4 1234process.nextTick(() =&gt; console.log(1));Promise.resolve().then(() =&gt; console.log(2));process.nextTick(() =&gt; console.log(3));Promise.resolve().then(() =&gt; console.log(4)); // è¾“å‡ºç»“æœ 1ï¼Œ3ï¼Œ2ï¼Œ4 æ³¨æ„ï¼Œåªæœ‰å‰ä¸€ä¸ªé˜Ÿåˆ—å…¨éƒ¨æ¸…ç©ºä»¥åï¼Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªé˜Ÿåˆ—ã€‚ä¸¤ä¸ªé˜Ÿåˆ—çš„æ¦‚å¿µ nextTickQueue å’Œå¾®é˜Ÿåˆ—microTaskQueueï¼Œä¹Ÿå°±æ˜¯è¯´å¼€å¯å¼‚æ­¥ä»»åŠ¡ä¹Ÿåˆ†ä¸ºå‡ ç§ï¼Œåƒpromiseå¯¹è±¡è¿™ç§ï¼Œå¼€å¯ä¹‹åç›´æ¥è¿›å…¥å¾®é˜Ÿåˆ—ä¸­ï¼Œå¾®é˜Ÿåˆ—å†…çš„å°±æ˜¯é‚£ä¸ªä»»åŠ¡å¿«å°±é‚£ä¸ªå…ˆæ‰§è¡Œå®Œï¼Œä½†æ˜¯é’ˆå¯¹äºé˜Ÿåˆ—ä¸é˜Ÿåˆ—ä¹‹é—´ä¸åŒçš„ä»»åŠ¡ï¼Œè¿˜æ˜¯ä¼šæœ‰å…ˆåé¡ºåºï¼Œè¿™ä¸ªå…ˆåé¡ºåºæ˜¯ç”±é˜Ÿåˆ—å†³å®šçš„ã€‚ 4.äº‹ä»¶å¾ªç¯çš„é˜¶æ®µï¼ˆidle, prepareå¿½ç•¥äº†è¿™ä¸ªé˜¶æ®µï¼‰äº‹ä»¶å¾ªç¯æœ€é˜¶æ®µæœ€è¯¦ç»†çš„è®²è§£ï¼ˆå®˜ç½‘ï¼šhttps://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/#setimmediate-vs-settimeoutï¼‰ timersé˜¶æ®µ æ¬¡é˜¶æ®µåŒ…æ‹¬setTimeout()å’ŒsetInterval() IO callbacks å¤§éƒ¨åˆ†çš„å›è°ƒäº‹ä»¶ï¼Œæ™®é€šçš„caollback pollé˜¶æ®µ ç½‘ç»œè¿æ¥ï¼Œæ•°æ®è·å–ï¼Œè¯»å–æ–‡ä»¶ç­‰æ“ä½œ checké˜¶æ®µ setImmediate()åœ¨è¿™é‡Œè°ƒç”¨å›è°ƒ closeé˜¶æ®µ ä¸€äº›å…³é—­å›è°ƒï¼Œä¾‹å¦‚socket.on(â€˜closeâ€™, â€¦) äº‹ä»¶å¾ªç¯æ³¨æ„ç‚¹ 1ï¼‰Node å¼€å§‹æ‰§è¡Œè„šæœ¬æ—¶ï¼Œä¼šå…ˆè¿›è¡Œäº‹ä»¶å¾ªç¯çš„åˆå§‹åŒ–ï¼Œä½†æ˜¯è¿™æ—¶äº‹ä»¶å¾ªç¯è¿˜æ²¡æœ‰å¼€å§‹ï¼Œä¼šå…ˆå®Œæˆä¸‹é¢çš„äº‹æƒ…ã€‚ åŒæ­¥ä»»åŠ¡å‘å‡ºå¼‚æ­¥è¯·æ±‚è§„åˆ’å®šæ—¶å™¨ç”Ÿæ•ˆçš„æ—¶é—´æ‰§è¡Œprocess.nextTick()ç­‰ç­‰ æœ€åï¼Œä¸Šé¢è¿™äº›äº‹æƒ…éƒ½å¹²å®Œäº†ï¼Œäº‹ä»¶å¾ªç¯å°±æ­£å¼å¼€å§‹äº†ã€‚ 2ï¼‰äº‹ä»¶å¾ªç¯åŒæ ·è¿è¡Œåœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œé«˜å¹¶å‘ä¹Ÿæ˜¯ä¾é äº‹ä»¶å¾ªç¯ï¼Œæ¯äº§ç”Ÿä¸€ä¸ªäº‹ä»¶ï¼Œå°±ä¼šåŠ å…¥åˆ°è¯¥é˜¶æ®µå¯¹åº”çš„é˜Ÿåˆ—ä¸­ï¼Œæ­¤æ—¶äº‹ä»¶å¾ªç¯å°†è¯¥é˜Ÿåˆ—ä¸­çš„äº‹ä»¶å–å‡ºï¼Œå‡†å¤‡æ‰§è¡Œä¹‹åçš„callbackã€‚ 3ï¼‰å‡è®¾äº‹ä»¶å¾ªç¯ç°åœ¨è¿›å…¥äº†æŸä¸ªé˜¶æ®µï¼Œå³ä½¿è¿™æœŸé—´æœ‰å…¶ä»–é˜Ÿåˆ—ä¸­çš„äº‹ä»¶å°±ç»ªï¼Œä¹Ÿä¼šå…ˆå°†å½“å‰é˜Ÿåˆ—çš„å…¨éƒ¨å›è°ƒæ–¹æ³•æ‰§è¡Œå®Œæ¯•åï¼Œå†è¿›å…¥åˆ°ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚ 5.äº‹ä»¶å¾ªç¯ä¸­çš„setTimeOutä¸setImmediateç”±äºsetTimeoutåœ¨ timers é˜¶æ®µæ‰§è¡Œï¼Œè€ŒsetImmediateåœ¨ check é˜¶æ®µæ‰§è¡Œã€‚æ‰€ä»¥ï¼ŒsetTimeoutä¼šæ—©äºsetImmediateå®Œæˆã€‚ 12setTimeout(() =&gt; console.log(1));setImmediate(() =&gt; console.log(2)); ä¸Šé¢ä»£ç åº”è¯¥å…ˆè¾“å‡º1ï¼Œå†è¾“å‡º2ï¼Œä½†æ˜¯å®é™…æ‰§è¡Œçš„æ—¶å€™ï¼Œç»“æœå´æ˜¯ä¸ç¡®å®šï¼Œæœ‰æ—¶è¿˜ä¼šå…ˆè¾“å‡º2ï¼Œå†è¾“å‡º1ã€‚ è¿™æ˜¯å› ä¸ºsetTimeoutçš„ç¬¬äºŒä¸ªå‚æ•°é»˜è®¤ä¸º0ã€‚ä½†æ˜¯å®é™…ä¸Šï¼ŒNode åšä¸åˆ°0æ¯«ç§’ï¼Œæœ€å°‘ä¹Ÿéœ€è¦1æ¯«ç§’ï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œç¬¬äºŒä¸ªå‚æ•°çš„å–å€¼èŒƒå›´åœ¨1æ¯«ç§’åˆ°2147483647æ¯«ç§’ä¹‹é—´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒsetTimeout(f, 0)ç­‰åŒäºsetTimeout(f, 1)ã€‚ å®é™…æ‰§è¡Œçš„æ—¶å€™ï¼Œè¿›å…¥äº‹ä»¶å¾ªç¯ä»¥åï¼Œæœ‰å¯èƒ½åˆ°äº†1æ¯«ç§’ï¼Œä¹Ÿå¯èƒ½è¿˜æ²¡åˆ°1æ¯«ç§’ï¼Œå–å†³äºç³»ç»Ÿå½“æ—¶çš„çŠ¶å†µã€‚å¦‚æœæ²¡åˆ°1æ¯«ç§’ï¼Œé‚£ä¹ˆ timers é˜¶æ®µå°±ä¼šè·³è¿‡ï¼Œè¿›å…¥ check é˜¶æ®µï¼Œå…ˆæ‰§è¡ŒsetImmediateçš„å›è°ƒå‡½æ•°ã€‚ ä½†æ˜¯ï¼Œä¸‹é¢çš„ä»£ç ä¸€å®šæ˜¯å…ˆè¾“å‡º2ï¼Œå†è¾“å‡º1ã€‚ 12345const fs = require('fs');fs.readFile('test.js', () =&gt; { setTimeout(() =&gt; console.log(1)); setImmediate(() =&gt; console.log(2));}); ä¸Šé¢ä»£ç ä¼šå…ˆè¿›å…¥ I/O callbacks é˜¶æ®µï¼Œç„¶åæ˜¯ check é˜¶æ®µï¼Œæœ€åæ‰æ˜¯ timers é˜¶æ®µã€‚å› æ­¤ï¼ŒsetImmediateæ‰ä¼šæ—©äºsetTimeoutæ‰§è¡Œã€‚ 6.åŒæ­¥ä»»åŠ¡ä¸­asyncä»¥åŠpromiseçš„ä¸€äº›è¯¯è§£ é—®é¢˜1: åœ¨é‚£é“é¢è¯•é¢˜ä¸­ï¼Œåœ¨åŒæ­¥ä»»åŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯æ‰§è¡Œå®Œasync2è¾“å‡ºåæ‰§è¡Œasync1 endè¾“å‡ºï¼Œè€Œæ˜¯æ¥ç€æ‰§è¡Œpromise1ï¼Ÿ è§£ç­”:å¼•ç”¨é˜®ä¸€å³°è€å¸ˆä¹¦ä¸­ä¸€å¥è¯ï¼šâ€œ async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ° await å°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°è§¦å‘çš„å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚â€ç®€å•çš„è¯´ï¼Œå…ˆå»æ‰§è¡Œåé¢çš„åŒæ­¥ä»»åŠ¡ä»£ç ï¼Œæ‰§è¡Œå®Œæˆåï¼Œä¹Ÿå°±æ˜¯è¡¨è¾¾å¼ä¸­çš„ Promise è§£æå®Œæˆåç»§ç»­æ‰§è¡Œ async å‡½æ•°å¹¶è¿”å›è§£å†³ç»“æœã€‚ï¼ˆå…¶å®è¿˜æ˜¯æœ¬è½®å¾ªç¯promiseçš„é—®é¢˜ï¼Œæœ€åçš„resolveå±äºå¼‚æ­¥ï¼Œä½äºæœ¬è½®å¾ªç¯çš„æœ«å°¾ã€‚ï¼‰ é—®é¢˜2: console.log(â€˜promise2â€™)ä¸ºä»€ä¹ˆä¹Ÿæ˜¯åœ¨resolveä¹‹å‰æ‰§è¡Œï¼Ÿ è§£ç­”ï¼šæ³¨ï¼šæ­¤å†…å®¹æ¥æºä¸é˜®ä¸€å³°è€å¸ˆçš„ES6ä¹¦ç±ï¼Œè°ƒç”¨resolveæˆ–è€…rejectå¹¶ä¸ä¼šç»ˆç»“promiseçš„å‚æ•°å‡½æ•°çš„æ‰§è¡Œã€‚å› ä¸ºç«‹å³resolvedçš„Promiseæ˜¯æœ¬è½®å¾ªç¯çš„æœ«å°¾æ‰§è¡Œï¼ŒåŒæ—¶æ€»æ˜¯æ™šäºæœ¬è½®å¾ªç¯çš„åŒæ­¥ä»»åŠ¡ã€‚æ­£è§„çš„å†™æ³•è°ƒç”¨resolveæˆ–è€…rejectä»¥åï¼ŒPromiseçš„ä½¿å‘½å°±å®Œæˆäº†ï¼Œåç»§æ“ä½œåº”è¯¥æ”¾åœ¨thenæ–¹æ³•åé¢ã€‚æ‰€ä»¥æœ€å¥½åœ¨å®ƒçš„å‰é¢åŠ ä¸Šreturnè¯­å¥ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°æ„å¤– 12345new Promise((resolve,reject) =&gt; { return resolve(1); //åé¢çš„è¯­å¥ä¸ä¼šæ‰§è¡Œ console.log(2);} é—®é¢˜3: promise3å’Œscript endçš„æ‰§è¡Œé¡ºåºæ˜¯å¦æœ‰ç–‘é—®ï¼Ÿ è§£ç­”ï¼šå› ä¸ºç«‹å³resolvedçš„Promiseæ˜¯æœ¬è½®å¾ªç¯çš„æœ«å°¾æ‰§è¡Œï¼ŒåŒæ—¶æ€»æ˜¯æ™šäºæœ¬è½®å¾ªç¯çš„åŒæ­¥ä»»åŠ¡ã€‚ Promise æ˜¯ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œä½†æ˜¯ä»–çš„æˆåŠŸï¼ˆæˆ–å¤±è´¥ï¼šrejectï¼‰çš„å›è°ƒå‡½æ•° resolve å´æ˜¯ä¸€ä¸ªå¼‚æ­¥æ‰§è¡Œçš„å›è°ƒã€‚å½“æ‰§è¡Œåˆ° resolve() æ—¶ï¼Œè¿™ä¸ªä»»åŠ¡ä¼šè¢«æ”¾å…¥åˆ°å›è°ƒé˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…è°ƒç”¨æ ˆæœ‰ç©ºé—²æ—¶äº‹ä»¶å¾ªç¯å†æ¥å–èµ°å®ƒã€‚æœ¬è½®å¾ªç¯ä¸­æœ€åæ‰§è¡Œçš„ã€‚ æ•´ä½“ç»“è®º é¡ºåºçš„æ•´ä½“æ€»ç»“å°±æ˜¯: åŒæ­¥ä»»åŠ¡-&gt; æœ¬è½®å¾ªç¯ -&gt;æ¬¡è½®å¾ªç¯ æ­£å¸¸è¯­å¥ -&gt; nextTick -&gt; Promiseå¯¹è±¡çš„å›è°ƒå‡½æ•° -&gt; äº‹ä»¶å¾ªç¯ä¸­çš„setTimeOutä¸setImmediate é™„ä»¶:å‚è€ƒèµ„æ–™node.jså®˜ç½‘ï¼š [äº‹ä»¶å¾ªç¯]ï¼š(https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/#setimmediate-vs-settimeout) Timers eventLoopè§£æ","link":"/posts/EventLoop%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F--promise,nextTick,setTimeout/"},{"title":"Expresså­¦ä¹ ç§¯ç´¯","text":"express å®˜ç½‘pexpress åº”ç”¨ç”Ÿæˆå™¨æƒ³ç”¨nodeæ¥åšä¸€ä¸ªåå°æœåŠ¡æ—¶ï¼Œçœ‹åˆ°äº†expressï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆä¸€ä¸ªç®€å•çš„åº”ç”¨éª¨æ¶ã€‚åœ¨æ­¤è®°å½•ä¸€ä¸‹å­¦ä¹ è¿‡ç¨‹ã€‚ 1. å®‰è£…1npm install express-generator -g express -h æŸ¥çœ‹å¯ç”¨çš„å‘½ä»¤è¡Œé€‰é¡¹ 1234567891011121314express -h Usage: express [options] [dir] Options: -h, --help output usage information -V, --version output the version number -e, --ejs add ejs engine support (defaults to jade) --hbs add handlebars engine support -H, --hogan add hogan.js engine support -c, --css &lt;engine&gt; add stylesheet &lt;engine&gt; support (less|stylus|compass|sass) (defaults to plain css) --git add .gitignore -f, --force force on non-empty directory 2. åˆ›å»ºåº”ç”¨1express node-server ä¼šè‡ªåŠ¨åˆ›å»ºå¥½å¤šæ–‡ä»¶å„æ–‡ä»¶å«ä¹‰ 12345678910111213141516â”œâ”€â”€ app.jsâ”œâ”€â”€ binâ”‚ â””â”€â”€ www // å¯åŠ¨æœåŠ¡ï¼Œå¹¶ç›‘å¬ç«¯å£â”œâ”€â”€ package.json // åŒ…ç®¡ç†æ–‡ä»¶â”œâ”€â”€ public //ç›´æ¥è®¿é—®ç«¯å£ä¼šè®¿é—®åˆ°çš„æ–‡ä»¶â”‚ â”œâ”€â”€ imagesâ”‚ â”œâ”€â”€ javascriptsâ”‚ â””â”€â”€ stylesheetsâ”‚ â””â”€â”€ style.cssâ”œâ”€â”€ routes // è·¯ç”±è®¾ç½®ï¼Œè®¾ç½®ä¸åŒè¯·æ±‚è·¯å¾„ä¸åŒå“åº”ï¼Œuser.jså°±æ˜¯è‡ªå®šä¹‰çš„â”‚ â”œâ”€â”€ index.jsâ”‚ â””â”€â”€ users.jsâ””â”€â”€ views //æ¸²æŸ“è§†å›¾ â”œâ”€â”€ error.jade â”œâ”€â”€ index.jade â””â”€â”€ layout.jade 3. å®‰è£…ä¾èµ–å…ˆè¿›å…¥é¡¹ç›®è·¯å¾„ 1cd node-server å®‰è£…æ‰€æœ‰ä¾èµ–åŒ… 1npm install å¯åŠ¨åº”ç”¨12DEBUG=node-server npm start å®˜ç½‘æç¤ºwindowséœ€è¦ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œå®é™…æµ‹è¯•ï¼Œç”¨ä¸Šé¢çš„å°±å¯ä»¥ã€‚ 1set DEBUG=node-server &amp; npm start åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:3000/ ç½‘å€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨äº†express çƒ­éƒ¨ç½²ï¼Œä¿®æ”¹ä¸éœ€è¦é‡æ–°å¯åŠ¨å®‰è£…node-dev 1npm install -g node-dev ä¿®æ”¹package.jsonçš„scriptsï¼Œå¢åŠ devå‘½ä»¤ 1234&quot;scripts&quot;: { &quot;start&quot;: &quot;node ./bin/www&quot;, &quot;dev&quot;: &quot;node-dev ./bin/www&quot;}, ç°åœ¨å¯åŠ¨æœåŠ¡ç”¨ npm run dev å³å¯ä¿®æ”¹ä»£ç ä¼šå‘ç°å·²ç»æ›´æ”¹ã€‚ express è®¾ç½®getå’Œpostç”¨åŒä¸€ä¸ªæ–¹æ³•ä¹‹å‰æ˜¯ router.get(â€˜/â€˜) æˆ– router.post(â€˜/â€˜), ç›´æ¥ç”¨router.all(â€˜/â€˜)å³å¯ nodeè¯»å†™æ–‡ä»¶api 12345678910111213readFile()writeFile()readFileAsync()writeFileAsync()createReadStream()createWriteStream()writestreamçš„åŒºåˆ«å’Œä¾‹å­æ²¡çœ‹åˆ° vscode è°ƒè¯•nodeæä¸å®šå•Šï¼Œ~~~~~~~~~ç”¨expressç”Ÿæˆtoken ä¾›æƒé™æ ¡éªŒ","link":"/posts/Express%E5%AD%A6%E4%B9%A0%E7%A7%AF%E7%B4%AF/"},{"title":"JavaScript - async&#x2F;await","text":"å‚è€ƒé“¾æ¥ async/await æä¾›äº†ä½¿ç”¨åŒæ­¥æ ·å¼ä»£ç ç¼–å†™å¼‚æ­¥ä»£ç çš„æ–¹å¼ï¼Œè€Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚ async ä½œç”¨æ˜¯ä»€ä¹ˆæ ¹æ®MDN: async å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚async å‡½æ•°ï¼ˆåŒ…å«å‡½æ•°è¯­å¥ã€å‡½æ•°è¡¨è¾¾å¼ã€Lambdaè¡¨è¾¾å¼ï¼‰ä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¦‚æœåœ¨å‡½æ•°ä¸­ return ä¸€ä¸ªç›´æ¥é‡ï¼Œasync ä¼šæŠŠè¿™ä¸ªç›´æ¥é‡é€šè¿‡ Promise.resolve() å°è£…æˆ Promise å¯¹è±¡ã€‚ å¦‚æœ async å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œ å®ƒä¼šè¿”å› Promise.resolve(undefined)ã€‚ è¯­æ³•ï¼š 1234567async function name([param[, param[, ... param]]]) { // statements}async function A(){}let A=async function(){}let A=async ()=&gt;{} await ä½œç”¨æ˜¯ä»€ä¹ˆ(MDN) è¯­æ³• [return_value] = await expression; await ç­‰å¾…çš„æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœæ˜¯ Promise å¯¹è±¡æˆ–è€…å…¶å®ƒå€¼ï¼ˆæ¢å¥è¯è¯´ï¼Œawait å¯ä»¥ç­‰ä»»æ„è¡¨è¾¾å¼çš„ç»“æœï¼‰ã€‚ å¦‚æœå®ƒç­‰åˆ°çš„ä¸æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œé‚£ await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå°±æ˜¯å®ƒç­‰åˆ°çš„ä¸œè¥¿ã€‚ å¦‚æœå®ƒç­‰åˆ°çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œawait å°±å¿™èµ·æ¥äº†ï¼Œå®ƒä¼šé˜»å¡åé¢çš„ä»£ç ï¼Œç­‰ç€ Promise å¯¹è±¡ resolveï¼Œç„¶åå¾—åˆ° resolve çš„å€¼ï¼Œä½œä¸º await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœã€‚ è¿™å°±æ˜¯ await å¿…é¡»ç”¨åœ¨ async å‡½æ•°ä¸­çš„åŸå› ã€‚async å‡½æ•°è°ƒç”¨ä¸ä¼šé€ æˆé˜»å¡ï¼Œå®ƒå†…éƒ¨æ‰€æœ‰çš„é˜»å¡éƒ½è¢«å°è£…åœ¨ä¸€ä¸ª Promise å¯¹è±¡ä¸­å¼‚æ­¥æ‰§è¡Œã€‚ asyncå‡½æ•°ä¸­ï¼Œå¦‚æœæœ‰å¤šä¸ªawaitå…³é”®å­—æ—¶ï¼Œå¦‚æœæœ‰ä¸€ä¸ªawaitçš„çŠ¶æ€å˜æˆäº†rejectedï¼Œé‚£ä¹ˆåé¢çš„æ“ä½œéƒ½ä¸ä¼šç»§ç»­æ‰§è¡Œï¼Œpromiseä¹Ÿæ˜¯åŒç†awaitçš„è¿”å›ç»“æœå°±æ˜¯åé¢promiseæ‰§è¡Œçš„ç»“æœï¼Œå¯èƒ½æ˜¯resolvesæˆ–è€…rejectedçš„å€¼ä½¿ç”¨åœºæ™¯å¾ªç¯éå†æ–¹ä¾¿äº†ä»£ç éœ€è¦åŒæ­¥çš„æ“ä½œï¼ˆæ–‡ä»¶è¯»å–ï¼Œæ•°æ®åº“æ“ä½œç­‰ï¼‰ async/await çš„ä¼˜ç‚¹async/await å¸¦ç»™æˆ‘ä»¬çš„æœ€é‡è¦çš„å¥½å¤„æ˜¯åŒæ­¥ç¼–ç¨‹é£æ ¼ã€‚ ä»£ç æ¼”ç¤º: 12345678910111213// async/awaitasync getBooksByAuthorWithAwait(id) { const books = await bookModel.fetchAll(); // è¿™é‡Œçš„bookså°±æ˜¯å¼‚æ­¥æ‰§è¡Œè¿”å›çš„ç»“æœ return books.filter(b =&gt; b.authorId === id);}// PromisegetBooksByAuthorWithPromise(id) { return bookModel.fetchAll().then(books =&gt; { return books.filter(b =&gt; b.authorId === id)); }} è¿™é‡Œè°ƒç”¨this.getBooksByAuthorWithAwait(id)è¿”å›çš„æ˜¯Promiseå¯¹è±¡ï¼Œ éœ€è¦æ‰§è¡Œ.thenæ‰èƒ½è·å–åˆ°å¼‚æ­¥è¿”å›çš„ç»“æœ å¾ˆæ˜æ˜¾async/awaitç‰ˆæœ¬æ¯”Promiseç‰ˆæœ¬æ›´å®¹æ˜“ç†è§£ï¼Œå¦‚æœå¿½ç•¥awaitå…³é”®å­—ï¼Œä»£ç çœ‹èµ·æ¥åƒå…¶ä»–ä»»ä½•åŒæ­¥ä»£ç ã€‚ç›®å‰æ‰€æœ‰ä¸»æµæµè§ˆå™¨éƒ½å®Œå…¨æ”¯æŒå¼‚æ­¥åŠŸèƒ½ã€‚ æµè§ˆå™¨æ”¯æŒæ„å‘³ç€ä¸å¿…è½¬æ¢ä»£ç ã€‚ä¾¿äºè°ƒè¯•ã€‚ asyncå…³é”®å­—çš„å¥½å¤„ã€‚asyncå£°æ˜getBooksByAuthorWithAwaitå‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ªPromiseã€‚ è°ƒç”¨è€…å¯ä»¥å®‰å…¨çš„ä½¿ç”¨getBooksByAuthorWithAwait.then(...)æˆ–await getBooksByAuthorWithAwait(). Promiseåœ¨å¼‚å¸¸æƒ…å†µä¸‹ä¸èƒ½è°ƒç”¨.thenã€‚æœ‰äº†asyncå£°æ˜ï¼Œè¿™ç§æƒ…å†µå°±ä¸ä¼šå‡ºç° å¦‚ä¸‹ï¼š 1234567getBooksByAuthorWithPromise(id) { if(!authorId) { return null; } return bookModel.fetchAll() .then(books =&gt; books.filter(b =&gt; b.authorId === id));} è¿™é‡Œå¦‚æœè°ƒç”¨getBooksByAuthorWithPromiseå¯èƒ½è¿”å›Promise(æ­£å¸¸æƒ…å†µ)æˆ–null(å¼‚å¸¸æƒ…å†µidä¸ºç©º), åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè°ƒç”¨è€…ä¸èƒ½è°ƒç”¨.then() async/await å¯èƒ½ä¼šäº§ç”Ÿè¯¯å¯¼æœ‰äººå°†async/awaitä¸Promiseè¿›è¡Œæ¯”è¾ƒï¼Œå¹¶å£°ç§°å®ƒæ˜¯JavaScriptä¸‹ä¸€ä»£å¼‚æ­¥ç¼–ç¨‹é£æ ¼ã€‚async/awaitæ˜¯ä¸€ç§æ”¹è¿›ï¼Œä½†å®ƒåªä¸è¿‡æ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œä¸ä¼šå®Œå…¨æ”¹å˜ç¼–ç é£æ ¼ã€‚ æœ¬è´¨ä¸Šï¼Œasync å‡½æ•°ä»ç„¶æ˜¯Promiseã€‚ æ­£ç¡®ä½¿ç”¨asyncå‡½æ•°ä¹‹å‰ï¼Œå¿…é¡»å…ˆäº†è§£Promise. æ›´ç³Ÿç³•çš„æ˜¯å¤§å¤šæ•°æ—¶ï¼Œéœ€è¦åœ¨ä½¿ç”¨Promiseæ—¶åŒæ—¶ä½¿ç”¨asyncå‡½æ•°ã€‚ è¿™æ„å‘³ç€ï¼ŒgetBooksByAuthorWithAwaitå°†è¿”å›ä¸€ä¸ªPromiseï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ä½¿ç”¨.then(â€¦)æ–¹å¼æ¥è°ƒç”¨å®ƒã€‚ async/awaitå¸¸è§é”™è¯¯ä½¿ç”¨async/awaitæ—¶ï¼Œå¸¸è§é”™è¯¯ï¼š å¤ªè¿‡ä¸²è¡ŒåŒ–å°½ç®¡awaitå¯ä»¥ä½¿ä»£ç çœ‹èµ·æ¥åƒæ˜¯åŒæ­¥çš„ï¼Œä½†å®é™…ä¸Šä»–ä»¬ä»ç„¶æ˜¯å¼‚æ­¥çš„ï¼Œå¿…é¡»é¿å…å¤ªè¿‡ä¸²è¡ŒåŒ–ã€‚ 12345678async getBooksByAuthor(id) { const books = await bookModel.fetchAll(); const author = await authorModel.fetch(id); return { author, books: books.filter(book =&gt; book.authorId === id) };} ä»¥ä¸Šä»£ç çœ‹ä¼¼æ­£ç¡®ï¼Œç„¶è€Œè¿™æ˜¯é”™è¯¯çš„ã€‚ await bookModel.fetchAll() ä¼šç­‰å¾…fetchAll()ç›´åˆ°fetchAllè¿”å›ç»“æœ ç„¶åawait authorModel.fetch(id) è¢«è°ƒç”¨ ç¬¬äºŒä¸ªfetchä¸ä¾èµ–äºç¬¬ä¸€ä¸ªfetchçš„ç»“æœï¼Œå®é™…ä¸Šå¯ä»¥å¹¶è¡Œè°ƒç”¨ã€‚ç„¶è€Œè¿™é‡Œç”¨äº†awaitï¼Œä¸¤ä¸ªè°ƒç”¨å˜æˆä¸²è¡Œï¼Œæ€»çš„æ‰§è¡Œæ—¶é—´æ¯”å¹¶è¡Œç‰ˆæœ¬è¦é•¿çš„å¤šã€‚ æ­£ç¡®å†™æ³•ï¼š 12345678910async getBooksByAuthor(id) { const bookPromise = bookModel.fetchAll(); const authorPromise = authorModel.fetch(id); const book = await bookPromise; const author = await authorPromise; return { author, books: books.filter(book =&gt; book.authorId === id) };} å¦‚æœæ•°ç»„ä¸­æ¯ä¸ªiteméƒ½è¦è¯·æ±‚å¼‚æ­¥æ•°æ®ï¼Œå¿…é¡»ä¾èµ–Promise 12345678910async getAuthor(id) { // ä¼šå¼•èµ·ä¸²è¡Œè°ƒç”¨ï¼Œå¢åŠ è¿è¡Œæ—¶é—´ // const authors = _.map( // authorIds, // id =&gt; await authorModel.fetch(id) // ); // æ­£ç¡®æ–¹å¼ const promises = _.map(authorIds, id =&gt; authorModel.fetch(id)); const authors = await Promise.all(promises);} æ€»ä¹‹ï¼Œä»éœ€å°†æµç¨‹è§†ä¸ºå¼‚æ­¥çš„ï¼Œç„¶åç”¨awaitå†™å‡ºåŒæ­¥çš„ä»£ç ï¼Œåœ¨å¤æ‚çš„æµç¨‹ä¸­ï¼Œç›´æ¥ä½¿ç”¨Promiseå¯èƒ½æ›´æ–¹ä¾¿ã€‚ é”™è¯¯å¤„ç†åœ¨Promiseä¸­ï¼Œå¼‚æ­¥å‡½æ•°æœ‰ä¸¤ä¸ªè¿”å›å€¼ï¼š resolved å’Œ rejectedã€‚å¯ä»¥ç”¨.then()å¤„ç†æ­£å¸¸æƒ…å†µï¼Œç”¨.catch()å¤„ç†å¼‚å¸¸æƒ…å†µã€‚ç„¶è€Œç”¨async/awaitæ–¹å¼å¤„ç†é”™è¯¯æ¯”è¾ƒæ£˜æ‰‹ã€‚ tryâ€¦catchæ¨èç”¨tryâ€¦catchè¯­æ³•æ•è·å¼‚å¸¸ã€‚æ‰€ä»¥æœ€å¥½æŠŠawaitå‘½ä»¤æ”¾åˆ°tryâ€¦catchä»£ç å—ä¸­ã€‚ 1234567891011121314151617class bookModel { fetchAll() { return new Promise((resolve, reject) =&gt; { window.setTimeout(() =&gt; { reject({error: 400}) }, 1000); }); }}// async/awaitasync getBooksByAuthorWithAwait(id) { try { const books = await bookModel.fetchAll(); } catch (error) { console.log(error); // {error: 400} }} æ•æ‰åˆ°å¼‚å¸¸å¤„ç†æ–¹æ³•ï¼š è¿”å›ä¸€ä¸ªæ­£å¸¸å€¼ã€‚(ä¸åœ¨catchå—ä¸­ä½¿ç”¨ä»»ä½•returnè¯­å¥ï¼Œç›¸å½“äºreturn undefined) æƒ³è®©è°ƒç”¨è€…å¤„ç†å®ƒï¼Œå¯ä»¥ç›´æ¥æŠ›å‡ºæ™®é€šçš„é”™è¯¯å¯¹è±¡ã€‚å¦‚throw errorã€‚å…è®¸åœ¨Promise.catchä¸­å¤„ç†é”™è¯¯ã€‚ ä½¿ç”¨tryâ€¦catchå¥½å¤„ï¼š ç®€å•ï¼Œæ˜“äºç†è§£ å¦‚æœä¸éœ€è¦æ¯éƒ¨æ‰§è¡Œé”™è¯¯å¤„ç†ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªtryâ€¦catchå—ä¸­åŒ…è£…å¤šä¸ªawaitè°ƒç”¨æ¥å¤„ç†ä¸€ä¸ªåœ°æ–¹çš„é”™è¯¯ã€‚ è¿™ç§æ–¹æ³•æœ‰ä¸ªç¼ºé™·ï¼Œç”±äºtryâ€¦catchä¼šæ•è·ä»£ç å—ä¸­çš„å¼‚å¸¸ï¼Œæ‰€ä»¥é€šå¸¸ä¸ä¼šè¢«Promiseæ•è·çš„å¼‚å¸¸ä¹Ÿä¼šè¢«æ•è·åˆ°ã€‚ 123456789101112class BookModel { fetchAll() { cb();// cbæœªå®šä¹‰ï¼Œå¯¼è‡´å¼‚å¸¸ return fetch('/books'); }}try { bookModel.fetchAll();} catch(err) { console.log(err); // æ‰“å° cb is not undefined} ä»£ç ä¼šæ‰“å°cb is not undefinedï¼Œè¿™ä¸ªé”™è¯¯æ˜¯ç”±console.logæ‰“å°å‡ºæ¥ï¼Œè€Œä¸æ˜¯JavaScriptæœ¬èº«ã€‚æœ‰æ—¶ï¼Œè¿™æ˜¯è‡´å‘½çš„ï¼Œå¦‚æœBookModelè¢«åŒ…å«åœ¨ä¸€äº›åˆ—å‡½æ•°è°ƒç”¨ä¸­ï¼Œå…¶ä¸­ä¸€ä¸ªè°ƒç”¨è€…åå™¬äº†é”™è¯¯ï¼Œé‚£ä¹ˆå¾ˆéš¾æ‰¾åˆ°è¿™æ ·ä¸€ä¸ªæœªå®šä¹‰é”™è¯¯ã€‚ è®©å‡½æ•°è¿”å›ä¸¤ä¸ªå€¼[err, user] = await to(UserModel.findById(1)); ä½¿ç”¨.catchawaitçš„åŠŸèƒ½ï¼šå®ƒå°†ç­‰å¾…Promiseå®Œæˆå®ƒçš„å·¥ä½œã€‚Promise.catch()ä¹Ÿä¼šè¿”å›ä¸€ä¸ªPromiseã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·å¤„ç†é”™è¯¯ï¼š 123// books === undefined if error happens,// since nothing returned in the catch statementlet books = await bookModel.fetchAll().catch(err =&gt; {console.log(err);}); è¿™ä¸ªæ–¹æ³•æœ‰ä¸¤ä¸ªå°é—®é¢˜ï¼š å®ƒæ˜¯Promiseå’Œasyncå‡½æ•°çš„æ··åˆä½“ã€‚ä»éœ€è¦ç†è§£Promiseæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ é”™è¯¯ç†è§£å…ˆäºæ­£å¸¸è·¯å¾„ï¼Œè¿™æ˜¯ä¸ç›´è§‚çš„ã€‚ ç»“è®ºasync/await å…³é”®å­—æ— ç–‘æ˜¯å¯¹J avaScriptå¼‚æ­¥ç¼–ç¨‹çš„æ”¹è¿›ã€‚å®ƒå¯ä»¥ä½¿ä»£ç æ›´å®¹æ˜“é˜…è¯»å’Œè°ƒè¯•ã€‚ç„¶è€Œï¼Œä¸ºäº†æ­£ç¡®åœ°ä½¿ç”¨å®ƒä»¬ï¼Œå¿…é¡»å®Œå…¨ç†è§£ Promiseï¼Œå› ä¸º async/await åªä¸è¿‡æ˜¯ Promise çš„è¯­æ³•ç³–ï¼Œæœ¬è´¨ä¸Šä»ç„¶æ˜¯ Promiseã€‚","link":"/posts/JavaScript-async-await/"},{"title":"JavaScript:for-ofåˆ°generator","text":"for ofåœ¨JavaScriptä¸­, å¾ªç¯æ•°ç»„å¯ä»¥é€šè¿‡map, filter, for of ç­‰æ¥éå†ä¸€ä¸ªæ•°ç»„. ä¸ºä»€ä¹ˆfor of å¯ä»¥éå†æ•°ç»„æˆ–ç±»æ•°ç»„å¯¹è±¡(String, Maps, Sets, arguments)ï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½ç”¨æ¥éå†ä¸€ä¸ªå¯¹è±¡ï¼Ÿ å¾ªç¯æ•°ç»„æ—¶ï¼Œéœ€è¦ä¸¤ä¸ªä¿¡æ¯ï¼š å¯¹åº”ä¸‹æ ‡çš„å€¼ æ˜¯å¦éå†ç»“æŸçš„æ ‡å¿— åœ¨æ§åˆ¶å°æ‰“å°ä¸€ä¸ªæ•°ç»„çœ‹ä¸€ä¸‹ç»“æ„ 12const arr = [1, 2, 3];console.dir(arr); åœ¨__proto__ä¸­å¯ä»¥çœ‹åˆ°Symbol(Symbol.iterator)æ•°ç»„æˆ–ç±»æ•°ç»„å¯¹è±¡çš„åŸå‹ä¸­éƒ½å®ç°äº†ä¸€ä¸ªæ–¹æ³•Symbol.iterator å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•æŸ¥çœ‹ 123456const map = new Map();console.dir(map);const str = new String();console.dir(str);const set = new Set();console.dir(set); iterator(è¿­ä»£å™¨)è¿­ä»£åè®® mdnæ–‡æ¡£ The iterator protocol(å¯è¿­ä»£åè®®å…è®¸) JavaScript å¯¹è±¡å»å®šä¹‰æˆ–å®šåˆ¶å®ƒä»¬çš„è¿­ä»£è¡Œä¸º.æ‰€ä»¥ä¸Šé¢å‡ºç°çš„Symbol.iteratorå°±æ˜¯æ•°ç»„å¯¹äºè¿™ä¸ªåè®®çš„å®ç°ã€‚ æ•°ç»„æ€ä¹ˆå®ç°äº†ä¸€ä¸ªiteratorå‘¢ï¼ŸMDN æ–‡æ¡£ ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ ï¼ŒçŸ¥é“å¦‚ä½•æ¯æ¬¡è®¿é—®é›†åˆä¸­çš„ä¸€é¡¹ï¼Œ å¹¶è·Ÿè¸ªè¯¥åºåˆ—ä¸­çš„å½“å‰ä½ç½®ã€‚åœ¨ JavaScript ä¸­ è¿­ä»£å™¨æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªnext() æ–¹æ³•ï¼Œç”¨æ¥è¿”å›åºåˆ—ä¸­çš„ä¸‹ä¸€é¡¹ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›åŒ…å«ä¸¤ä¸ªå±æ€§ï¼šdoneå’Œ valueã€‚ è¿™é‡Œè·å–ä¸Šé¢æ•°ç»„çš„Symbol.iterator, æ‰“å°å‡ºæ¥çœ‹çœ‹ 123const arr = [1, 2, 3];let iterator = arr[Symbol.iterator]();console.dir(iterator); åœ¨iteratorçš„åŸå‹ä¸­æœ‰nextæ–¹æ³•ï¼Œæ‰§è¡Œnextæ–¹æ³• 1234iterator.next(); // è¾“å‡º {value: 1, done: false}iterator.next(); // è¾“å‡º {value: 2, done: false}iterator.next(); // è¾“å‡º {value: 3, done: false}iterator.next(); // è¾“å‡º {value: undefined, done: true} å½“ä¸‹æ ‡è¶…å‡ºæ—¶ï¼Œvalue:undefinediteratoræ¯æ¬¡éƒ½è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«ä¸¤ä¸ªä¿¡æ¯ï¼Œå½“å‰ä¸‹æ ‡çš„å€¼value, éå†æ˜¯å¦ç»“æŸçš„æ ‡å¿—done ä¸ºä»€ä¹ˆfor of ä¸èƒ½éå†ä¸€ä¸ªå¯¹è±¡å‘¢ï¼ŸJavaScript çš„å¯¹è±¡ä¸­æ²¡æœ‰å®ç°ä¸€ä¸ªè¿™æ ·çš„ iterator å¯ä»¥æ‰“å°çœ‹ä¸€ä¸‹console.log({}) ä¸ºä»€ä¹ˆåœ¨Objectä¸­æ²¡æœ‰å†…ç½®è¿­ä»£å™¨ï¼Ÿå…ˆäº†è§£ä¸€ä¸‹åŸºæœ¬æ¦‚å¿µ éå†å¯¹è±¡åªä¼šåœ¨ä¸¤ç§å±‚çº§ä¸Šå¯¹ä¸€ä¸ªJavaScriptå¯¹è±¡è¿›è¡Œéå†ï¼š ç¨‹åºçš„å±‚çº§ã€‚å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œè¿­ä»£ï¼Œæ˜¯åœ¨è¿­ä»£å±•ç¤ºå…¶ç»“æ„çš„å¯¹è±¡å±æ€§ã€‚ä¸¾ä¸ªæ —å­ï¼šArray.prototype.lengthè¿™ä¸ªå±æ€§ä¸å¯¹è±¡çš„ç»“æ„ç›¸å…³ï¼Œä½†å´ä¸æ˜¯å®ƒçš„æ•°æ®ã€‚ æ•°æ®çš„å±‚çº§ã€‚è¿­ä»£æ•°æ®ç»“æ„å¹¶æå–å®ƒçš„æ•°æ®ã€‚ä¸¾ä¸ªæ —å­ï¼šè¿­ä»£æ•°ç»„ï¼Œå¯¹å®ƒçš„æ¯ä¸ªæ•°æ®è¿›è¡Œè¿­ä»£ï¼Œå¦‚æœarr=[aï¼Œbï¼Œc]ï¼Œè¿­ä»£å™¨è®¿é—®çš„æ˜¯1,2,3 JavaScriptè™½ç„¶ä¸æ”¯æŒç”¨for oféå†å¯¹è±¡ï¼Œä½†æä¾›äº†for in æ–¹æ³•æ¥éå†æ‰€æœ‰éSymbolç±»å‹å¹¶ä¸”æ˜¯å¯æšä¸¾çš„å±æ€§ã€‚ æ ‡å‡†ä¸æ”¯æŒï¼Œè‡ªå·±å®ç°ä¸€ä¸ªfor-ofæ¥éå†å¯¹è±¡ï¼š 12345678910Object.prototype[Symbol.iterator] = function*() { for (const [key, value] of Object.entries(this)) { yield { key, value }; }}for (const { key, value } of { a: 1, b: 2, c: 3 }) { console.log(key, value);} åœ¨å®ç°iteratorä»£ç ä¸­ï¼Œç”¨åˆ°äº†Generator ç»“æ„ï¼šfunction*() {} Generatorsè¯­æ³•ï¼š 12345678function* gen() { yield 1; yield 2; yield 3;}let g = gen(); // &quot;Generator { }&quot; è¿™é‡Œæ‰“å°ä¸€ä¸‹genï¼Œ console.dir(gen)å¯ä»¥çœ‹åˆ°nextæ–¹æ³•ã€‚æ‰§è¡Œçœ‹ç»“æœ 12345let s = gen();s.next(); // {value: 1, done: false}s.next(); // {value: 2, done: false}s.next(); // {value: 3, done: false}s.next(); // {value: undefined, done: true} generatorå¯ä»¥å®ä¾‹åŒ–å‡ºä¸€ä¸ªiteratorï¼Œyieldè¯­å¥å°±æ˜¯ç”¨æ¥ä¸­æ–­ä»£ç çš„æ‰§è¡Œçš„ã€‚é…åˆnext() æ–¹æ³•ï¼Œæ¯æ¬¡åªä¼šæ‰§è¡Œä¸€ä¸ªyieldè¯­å¥ã€‚ generatorç‰¹æ€§ yieldåé¢å¯ä»¥è·Ÿä¸Šå¦ä¸€ä¸ªGenerator, å¹¶ä¸”ä»–ä»¬ä¼šæŒ‰ç…§æ¬¡åºæ‰§è¡Œ 12345678910111213141516171819function* gen() { yield 1; yield* gen2(); yield 2; return;}function* gen2() { yield 4; yield 5;}let iterator = gen();console.log(iterator.next());console.log(iterator.next());console.log(iterator.next());console.log(iterator.next());// 1,4,5,2 return ä¼šç»ˆç»“æ•´ä¸ªGeneratorã€‚å¸è½½returnåçš„yieldä¸ä¼šæ‰§è¡Œã€‚ Generatoræœ‰ä»€ä¹ˆç”¨ï¼Ÿèƒ½å¤Ÿä¸­æ–­æ‰§è¡Œä»£ç ï¼Œå¸®åŠ©æˆ‘ä»¬æ§åˆ¶å¼‚æ­¥ä»£ç çš„æ‰§è¡Œé¡ºåºã€‚ ä¾‹å¦‚æœ‰ä¸¤ä¸ªå¼‚æ­¥çš„å‡½æ•° A å’Œ B, å¹¶ä¸” B çš„å‚æ•°æ˜¯ A çš„è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ A æ²¡æœ‰æ‰§è¡Œç»“æŸï¼Œæˆ‘ä»¬ä¸èƒ½æ‰§è¡Œ B 123456789function* effect() { const { param } = yield A(); const { result } = yield B(param); console.table(result);}const iterator = effect();iterator.next();iterator.next(); æ‰§è¡Œä¸¤æ¬¡ next() å¾—åˆ°ç»“æœï¼Œçœ‹èµ·æ¥å¾ˆç¹çã€‚å‡è®¾æ¯æ¬¡æ‰§è¡Œ A() / B() çš„è¯·æ±‚ç»“æŸä¹‹åï¼Œéƒ½ä¼šè‡ªåŠ¨æ‰§è¡Œ next() å³å¯è§£å†³ã€‚ å‚è€ƒcoæºç  GeneratoråŸç†async å’Œawait åªæ˜¯Generatorçš„è¯­æ³•ç³–ã€‚dvaä¸­æœ‰Effectæ¦‚å¿µï¼Œå®ƒå°±æ˜¯ä½¿ç”¨Generatoræ¥è§£å†³å¼‚æ­¥è¯·æ±‚çš„é—®é¢˜ã€‚ Generatorå’ŒPromiseå¦‚ä½•å¼‚æ­¥ç¼–ç¨‹ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼š Generatorä½œä¸º ES6 ä¸­ä½¿ç”¨åç¨‹çš„è§£å†³æ–¹æ¡ˆæ¥å¤„ç†å¼‚æ­¥ç¼–ç¨‹çš„å…·ä½“å®ç°ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯: Generator ä¸­å¯ä»¥ä½¿ç”¨ yield å…³é”®å­—é…åˆå®ä¾‹ gen è°ƒç”¨ next() æ–¹æ³•ï¼Œæ¥å°†å…¶å†…éƒ¨çš„è¯­å¥åˆ†å‰²æ‰§è¡Œã€‚ ç®€è¨€ä¹‹ : next() è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œåˆ™ yield è¯­å¥è¢«æ‰§è¡Œä¸€å¥ï¼Œéšç€ next() è°ƒç”¨ï¼Œ yield è¯­å¥è¢«ä¾æ¬¡æ‰§è¡Œã€‚ Promiseè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆçŠ¶æ€ï¼ˆå®Œæˆæˆ–å¤±è´¥ï¼‰ï¼Œä»¥åŠå…¶è¿”å›çš„å€¼ã€‚å‚è€ƒPromise-MDN å¼‚æ­¥ç¼–ç¨‹ä½¿ç”¨Generatorå’ŒPromiseå®ç°çš„åŸç†ï¼š å› ä¸º Generator æœ¬èº« yield è¯­å¥æ˜¯åˆ†ç¦»æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œåœ¨ yield è¯­å¥ä¸­è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ é¦–æ¬¡è°ƒç”¨ Generator ä¸­çš„ next() å, å‡è®¾è¿”å›å€¼å« result ,é‚£ä¹ˆæ­¤æ—¶ result.value å°±æ˜¯æˆ‘ä»¬å®šä¹‰åœ¨ yield è¯­å¥ä¸­çš„ Promise å¯¹è±¡ æ³¨æ„ï¼šåœ¨è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å·²ç»æŠŠåŸæ¥çš„æ‰§è¡Œæµç¨‹æš‚åœï¼Œè½¬è€Œæ‰§è¡Œ Promise çš„å†…å®¹,å·²ç»å®ç°äº†æ§åˆ¶å¼‚æ­¥ä»£ç çš„æ‰§è¡Œï¼Œå› ä¸ºæ­¤æ—¶æˆ‘ä»¬å¦‚æœä¸ç»§ç»­æ‰§è¡Œ next() åˆ™ generator ä¸­ä½äºå½“å‰è¢«æ‰§è¡Œçš„ yield åé¢çš„å†…å®¹ï¼Œå°†ä¸ä¼šç»§ç»­æ‰§è¡Œ,è¿™å·²ç»è¾¾åˆ°äº†æˆ‘ä»¬éœ€è¦çš„æ•ˆæœ3. æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ˜¯åœ¨æ‰§è¡Œå®Œå½“å‰ Promise ä¹‹åï¼Œè®©ä»£ç ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª yield è¯­å¥:è¿™ä¸€æ­¥æ˜¯æœ€å…³é”®çš„ æ‰€ä»¥æˆ‘ä»¬æ€ä¹ˆåšå‘¢: æ­¥éª¤1ï¼š åœ¨å½“å‰çš„ Promise çš„ then() æ–¹æ³•ä¸­ï¼Œç»§ç»­æ‰§è¡Œ gen.next() æ­¥éª¤2ï¼š å½“ gen.next() è¿”å›çš„ç»“æœ result.done === true æ—¶,æˆ‘ä»¬æ‹¿åˆ° result.valueã€ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡ã€‘å†æ¬¡æ‰§è¡Œå¹¶ä¸”åœ¨å®ƒçš„then() æ–¹æ³•ä¸­ç»§ç»­ä¸Šé¢çš„æ­¥éª¤1ï¼Œç›´è‡³ result.done === false çš„æ—¶å€™ã€‚è¿™æ—¶å€™è°ƒç”¨ resolve() ä½¿ promise çŠ¶æ€æ”¹å˜ï¼Œå› ä¸ºæ‰€æœ‰çš„ yield è¯­å¥å·²ç»è¢«æ‰§è¡Œå®Œã€‚ æ­¥éª¤1 ä¿è¯äº†æˆ‘ä»¬å¯ä»¥èµ°åˆ°ä¸‹ä¸€ä¸ª yield è¯­å¥æ­¥éª¤2 ä¿è¯äº†ä¸‹ä¸€ä¸ª yield è¯­å¥æ‰§è¡Œå®Œä¸ä¼šä¸­æ–­ï¼Œç›´è‡³ Generator ä¸­çš„æœ€åä¸€ä¸ª yield è¯­å¥è¢«æ‰§è¡Œå®Œã€‚ å…·ä½“å®ç° ä»coåº“ä¸­çš„ä¸€ä¸ªdemoå¼€å§‹ï¼Œäº†è§£æˆ‘ä»¬çš„æ•´ä¸ªå¼‚æ­¥è¯·æ±‚å°è£…å®ç° 12345co(function*() { yield me.loginAction(me.form); ...}); å¼•å…¥coåº“ï¼Œå¹¶ä¸”ç”¨coæ¥åŒ…è£¹äº†ä¸€ä¸ªgeneratorï¼ˆç”Ÿæˆå™¨ï¼‰å¯¹è±¡ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹coå¯¹äºåŒ…è£¹èµ·æ¥çš„generatoråšäº†ä»€ä¹ˆå¤„ç† 1234567891011121314151617181920function co(gen) { // 1.è·å–å½“å‰coå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ,è·å–åˆ°å‚æ•°åˆ—è¡¨ var ctx = this; var args = slice.call(arguments, 1); // 2.è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ return new Promise(function(resolve, reject) { // åˆ¤æ–­å¹¶ä¸”ä½¿ç”¨ctx:context(ä¸Šä¸‹æ–‡ç¯å¢ƒ)å’Œarg:arguments(å‚æ•°åˆ—è¡¨)åˆå§‹åŒ–generatorå¹¶ä¸”å¤åˆ¶ç»™gen // æ³¨æ„: // gen = gen.apply(ctx, args)ä¹‹å // æˆ‘ä»¬è°ƒç”¨ gen.next() æ—¶ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®é™…çš„å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ // å¯¹è±¡çš„å½¢å¼ï¼š{done:[false | true], value: ''} if (typeof gen === 'function') gen = gen.apply(ctx, args); // å½“è¿”å›å€¼ä¸ä¸ºgenæ—¶æˆ–è€…gen.nextçš„ç±»å‹ä¸ä¸ºfunctionã€å®é™…æ˜¯åˆ¤æ–­æ˜¯å¦ä¸ºgeneratorã€‘æ—¶ // å½“å‰promiseçŠ¶æ€è¢«è®¾ç½®ä¸ºresolveè€Œç»“æŸ if (!gen || typeof gen.next !== 'function') return resolve(gen); // å¦åˆ™æ‰§è¡ŒonFulfilled() onFulfilled(); });} è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆ è¿”å›ä¸€ä¸ª promise promise ä¸­å°†è¢«åŒ…è£¹çš„ generator å®ä¾‹åŒ–ä¸ºä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ generator ä¸­ç¬¬ä¸€ä¸ª yield è¯­å¥ åˆ¤æ–­ generator å®ä¾‹åŒ–å‡ºæ¥çš„æŒ‡é’ˆæ˜¯å¦å­˜åœ¨ï¼šå¦‚æœæ²¡æœ‰ yield è¯­å¥åˆ™æŒ‡é’ˆä¸å­˜åœ¨, åˆ¤æ–­æŒ‡é’ˆ gen.next() æ–¹æ³•æ˜¯å¦ä¸º function ï¼šå¦‚æœä¸ä¸º function è¯æ˜æ— æ³•æ‰§è¡Œ gen.next()æ¡ä»¶æœ‰ä¸€é¡¹ä¸æ»¡è¶³å°±å°† promise çš„çŠ¶æ€ç½®ä¸º resolveå¦åˆ™æ‰§è¡Œ onFulfilled() çœ‹ä¸‹ onFulfilled() çš„å®ç° 1234567891011121314function onFulfilled(res) { // åœ¨æ‰§è¡ŒonFulfilledæ—¶ï¼Œå®šä¹‰äº†ä¸€ä¸ªretæ¥å‚¨å­˜gen.next(res)æ‰§è¡Œåçš„æŒ‡é’ˆå¯¹è±¡ var ret; try { ret = gen.next(res); // åœ¨è¿™é‡Œï¼Œyieldè¯­å¥æŠ›å‡ºçš„å€¼å°±æ˜¯{value:me.loginAction(me.form), done:false} } catch (e) { return reject(e); }// å°†retå¯¹è±¡ä¼ å…¥åˆ°æˆ‘ä»¬å®šä¹‰åœ¨promiseä¸­çš„nextæ–¹æ³•ä¸­ next(ret); return null;} onFulfilled æœ€ä¸»è¦çš„å·¥ä½œå°±æ˜¯ æ‰§è¡Œ gen.next() ä½¿ä»£ç æ‰§è¡Œåˆ° yield è¯­å¥ å°†æ‰§è¡Œåè¿”å›çš„ç»“æœä¼ å…¥æˆ‘ä»¬è‡ªå®šä¹‰çš„ next() æ–¹æ³•ä¸­ next() æ–¹æ³• 123456789101112131415function next(ret) {// è¿›å…¥nextä¸­é¦–å…ˆåˆ¤æ–­æˆ‘ä»¬ä¼ å…¥çš„retçš„doneçŠ¶æ€:// æƒ…å†µ1:ret.done = true ä»£è¡¨æˆ‘ä»¬è¿™ä¸ªgeneratorä¸­æ‰€æœ‰yieldè¯­å¥éƒ½å·²ç»æ‰§è¡Œå®Œã€‚// é‚£ä¹ˆå°†ret.valueä¼ å…¥åˆ°resolve()ä¸­ï¼Œpromiseçš„çŠ¶æ€å˜æˆè§£å†³ï¼Œæ•´ä¸ªè¿‡ç¨‹ç»“æŸã€‚ if (ret.done) return resolve(ret.value);// æƒ…å†µ2:å½“å‰ret.done = false ä»£è¡¨generatorè¿˜æœªå°†æ‰€æœ‰çš„yieldè¯­å¥æ‰§è¡Œå®Œï¼Œé‚£ä¹ˆè¿™æ—¶å€™// æˆ‘ä»¬æŠŠå½“å‰ä¸Šä¸‹æ–‡å’Œret.valueä¼ å…¥toPromiseä¸­ï¼Œå°†å…¶è½¬æ¢ä¸ºå¯¹åº”çš„Promiseå¯¹è±¡`value` var value = toPromise.call(ctx, ret.value); if (value &amp;&amp; isPromise(value)) return value.then(onFulfilled, onRejected);// å½“valueç¡®å®æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡çš„æ—¶å€™ï¼Œreturn value.then(onFulfilled,onRejected)// æˆ‘ä»¬é‡æ–°è¿›å…¥åˆ°äº†generatorä¸­ï¼Œæ‰§è¡Œä¸‹ä¸€æ¡yieldè¯­å¥ return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, ' + 'but the following object was passed: &quot;' + String(ret.value) + '&quot;'));} next ä¸»è¦å·¥ä½œ åˆ¤æ–­ä¸Šä¸€æ¬¡ yield è¯­å¥çš„æ‰§è¡Œç»“æœ å°† yield çš„ result çš„ value å€¼ã€å…¶å®å°±æ˜¯æˆ‘ä»¬è¦å¼‚æ­¥æ‰§è¡Œçš„ Promise ã€‘ æ‰§è¡Œ value çš„ then æ–¹æ³•ï¼Œé‡æ–°è¿›å…¥åˆ° onFulfilled æ–¹æ³•ä¸­ï¼Œè€Œåœ¨ onFulfilled ä¸­ï¼Œæˆ‘ä»¬åˆå°†è¿›å…¥åˆ°å½“å‰æ–¹æ³•ï¼Œå¦‚æ­¤å¾ªç¯çš„è°ƒç”¨ï¼Œå®ç°äº† generator å’Œ Promise çš„æ‰§è¡Œåˆ‡æ¢ï¼Œä»è€Œå®ç°äº† Promise çš„å†…å®¹æŒ‰ç…§æˆ‘ä»¬æ‰€å®šä¹‰çš„é¡ºåºæ‰§è¡Œã€‚ è‡³æ­¤å®ç°å¼‚æ­¥æ“ä½œçš„æ§åˆ¶ã€‚ å‚è€ƒé“¾æ¥ å‰ç«¯æ€ªè°ˆ_2ä» Dva çš„ Effect åˆ° Generator + Promise å®ç°å¼‚æ­¥ç¼–ç¨‹","link":"/posts/JavaScript-for-of%E5%88%B0generator/"},{"title":"JavaScriptç®—æ³•ä¹‹å¤æ‚åº¦åˆ†æ","text":"JavaScript ç®—æ³•ä¹‹å¤æ‚åº¦åˆ†æ æƒ³è¦å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œé¦–å…ˆè¦æŒæ¡ä¸€ä¸ªæ•°æ®ç»“æ„ä¸ç®—æ³•ä¸­æœ€é‡è¦çš„æ¦‚å¿µâ€”â€“å¤æ‚åº¦åˆ†æã€‚ ==æ˜¯æ•°æ®ç»“æ„å’Œç®—æ³•å­¦ä¹ çš„ç²¾é«“ã€‚== æ˜¯ä»€ä¹ˆï¼šæ•°æ®ç»“æ„æŒ‡çš„æ˜¯â€œä¸€ç»„æ•°æ®çš„å­˜å‚¨ç»“æ„â€ï¼Œç®—æ³•æŒ‡çš„æ˜¯â€œæ“ä½œæ•°æ®çš„ä¸€ç»„æ–¹æ³•â€ã€‚æ•°æ®ç»“æ„æ˜¯ä¸ºç®—æ³•æœåŠ¡çš„ï¼Œç®—æ³•æ˜¯è¦ä½œç”¨å†ç‰¹å®šçš„æ•°æ®ç»“æ„ä¸Šçš„ã€‚ å­¦ä»€ä¹ˆï¼š æ•ˆç‡å’Œèµ„æºæ¶ˆè€—çš„åº¦é‡è¡¡â€“å¤æ‚åº¦åˆ†æã€‚ æœ€å¸¸ç”¨ã€æœ€åŸºç¡€çš„20ä¸ªæ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œå­¦ä¹ ä»–ä»¬çš„ï¼šâ€œæ¥å†â€ã€â€œç‰¹ç‚¹â€ã€â€œé€‚åˆè§£å†³ä»€ä¹ˆé—®é¢˜â€å’Œâ€œå®é™…çš„åº”ç”¨åœºæ™¯â€ã€‚ æ•°æ®ç»“æ„ï¼šæ•°ç»„ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ•£åˆ—è¡¨ã€äºŒå‰æ ‘ã€å †ã€è·³è¡¨ã€å›¾ã€Tireæ ‘ ç®—æ³•ï¼š é€’å½’ã€æ’åºã€äºŒåˆ†æŸ¥æ‰¾ã€æœç´¢ã€å“ˆå¸Œç®—æ³•ã€è´ªå¿ƒç®—æ³•ã€åˆ†æ²»ç®—æ³•ã€å›æº¯ç®—æ³•ã€åŠ¨æ€è§„åˆ’ã€å­—ç¬¦ä¸²åŒ¹é…ç®—æ³• æ€ä¹ˆå­¦: è¾¹å­¦è¾¹ç»ƒï¼Œæ¯å‘¨èŠ± 1~2 å°æ—¶é›†ä¸­æ”»å…³ä¸‰èŠ‚è¯¾æ¶‰åŠçš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œå…¨éƒ¨å†™å‡ºæ¥ã€‚ ä¸»åŠ¨æé—®ã€å¤šæ€è€ƒã€å¤šäº’åŠ¨ã€‚åœ¨ç•™è¨€åŒºå¢åŠ è‡ªå·±çš„ç•™è¨€ã€‚ è‡ªæˆ‘æ¿€åŠ±ï¼Œæ¯æ¬¡å­¦ä¹ å®Œåšä¸€ç¯‡å­¦ä¹ ç¬”è®°ã€‚ æ²‰ä¸‹å¿ƒä¸è¦æµ®èºï¼Œå…ˆæŠŠè¿™äº›åŸºç¡€çš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œè¿˜æœ‰å­¦ä¹ æ–¹æ³•ç†Ÿç»ƒæŒæ¡åï¼Œå†è¿½æ±‚æ›´é«˜å±‚æ¬¡ã€‚ ä¸ºä»€ä¹ˆéœ€è¦å¤æ‚åº¦åˆ†ææ‰§è¡Œä»£ç è¿›è¡Œå¤æ‚åº¦åˆ†æå¼Šç«¯ æµ‹è¯•ç»“æœéå¸¸ä¾èµ–æµ‹è¯•ç¯å¢ƒ æµ‹è¯•ç»“æœå—æ•°æ®è§„æ¨¡çš„å½±å“å¾ˆå¤§ å¤§Oå¤æ‚åº¦è¡¨ç¤ºæ³•ä¸éœ€è¦å…·ä½“çš„æµ‹è¯•æ•°æ®æ¥æµ‹è¯•ï¼Œå°±å¯ä»¥ç²—ç•¥ä¼°è®¡ç®—æ³•æ‰§è¡Œæ•ˆç‡çš„æ–¹æ³• ä¸€ã€ä»€ä¹ˆæ˜¯å¤æ‚åº¦åˆ†æï¼Ÿ æ•°æ®ç»“æ„å’Œç®—æ³•è§£å†³æ˜¯â€œå¦‚ä½•è®©è®¡ç®—æœºæ›´å¿«æ—¶é—´ã€æ›´çœç©ºé—´çš„è§£å†³é—®é¢˜â€ã€‚ å› æ­¤éœ€ä»æ‰§è¡Œæ—¶é—´å’Œå ç”¨ç©ºé—´ä¸¤ä¸ªç»´åº¦æ¥è¯„ä¼°æ•°æ®ç»“æ„å’Œç®—æ³•çš„æ€§èƒ½ã€‚ åˆ†åˆ«ç”¨æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ä¸¤ä¸ªæ¦‚å¿µæ¥æè¿°æ€§èƒ½é—®é¢˜ï¼ŒäºŒè€…ç»Ÿç§°ä¸ºå¤æ‚åº¦ã€‚ å¤æ‚åº¦æè¿°çš„æ˜¯ç®—æ³•æ‰§è¡Œæ—¶é—´ï¼ˆæˆ–å ç”¨ç©ºé—´ï¼‰ä¸æ•°æ®è§„æ¨¡çš„å¢é•¿å…³ç³»ã€‚ äºŒã€ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ å’Œæ€§èƒ½æµ‹è¯•ç›¸æ¯”ï¼Œå¤æ‚åº¦åˆ†ææœ‰ä¸ä¾èµ–æ‰§è¡Œç¯å¢ƒã€æˆæœ¬ä½ã€æ•ˆç‡é«˜ã€æ˜“æ“ä½œã€æŒ‡å¯¼æ€§å¼ºçš„ç‰¹ç‚¹ã€‚ æŒæ¡å¤æ‚åº¦åˆ†æï¼Œå°†èƒ½ç¼–å†™å‡ºæ€§èƒ½æ›´ä¼˜çš„ä»£ç ï¼Œæœ‰åˆ©äºé™ä½ç³»ç»Ÿå¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚ ä¸‰ã€å¦‚ä½•è¿›è¡Œå¤æ‚åº¦åˆ†æï¼Ÿ å¤§Oè¡¨ç¤ºæ³• 1ï¼‰æ¥æº ç®—æ³•çš„æ‰§è¡Œæ—¶é—´ä¸æ¯è¡Œä»£ç çš„æ‰§è¡Œæ¬¡æ•°æˆæ­£æ¯”ï¼Œç”¨T(n) = O(f(n))è¡¨ç¤ºï¼Œå…¶ä¸­T(n)è¡¨ç¤ºç®—æ³•æ‰§è¡Œæ€»æ—¶é—´ï¼Œf(n)è¡¨ç¤ºæ¯è¡Œä»£ç æ‰§è¡Œæ€»æ¬¡æ•°ï¼Œè€Œnå¾€å¾€è¡¨ç¤ºæ•°æ®çš„è§„æ¨¡ã€‚ 2ï¼‰ç‰¹ç‚¹ ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºä¾‹ï¼Œç”±äºæ—¶é—´å¤æ‚åº¦æè¿°çš„æ˜¯ç®—æ³•æ‰§è¡Œæ—¶é—´ä¸æ•°æ®è§„æ¨¡çš„å¢é•¿å˜åŒ–è¶‹åŠ¿ï¼Œæ‰€ä»¥å¸¸é‡é˜¶ã€ä½é˜¶ä»¥åŠç³»æ•°å®é™…ä¸Šå¯¹è¿™ç§å¢é•¿è¶‹åŠ¿ä¸äº§å†³å®šæ€§å½±å“ï¼Œæ‰€ä»¥åœ¨åšæ—¶é—´å¤æ‚åº¦åˆ†ææ—¶å¿½ç•¥è¿™äº›é¡¹ã€‚ å¤æ‚åº¦åˆ†ææ³•åˆ™ 1ï¼‰å•æ®µä»£ç çœ‹é«˜é¢‘ï¼šæ¯”å¦‚å¾ªç¯ã€‚2ï¼‰å¤šæ®µä»£ç å–æœ€å¤§ï¼šæ¯”å¦‚ä¸€æ®µä»£ç ä¸­æœ‰å•å¾ªç¯å’Œå¤šé‡å¾ªç¯ï¼Œé‚£ä¹ˆå–å¤šé‡å¾ªç¯çš„å¤æ‚åº¦ã€‚3ï¼‰åµŒå¥—ä»£ç æ±‚ä¹˜ç§¯ï¼šæ¯”å¦‚é€’å½’ã€å¤šé‡å¾ªç¯ç­‰4ï¼‰å¤šä¸ªè§„æ¨¡æ±‚åŠ æ³•ï¼šæ¯”å¦‚æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°æ§åˆ¶ä¸¤ä¸ªå¾ªç¯çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆè¿™æ—¶å°±å–äºŒè€…å¤æ‚åº¦ç›¸åŠ ã€‚ å››ã€å¸¸ç”¨çš„å¤æ‚åº¦çº§åˆ«ï¼Ÿ å¤šé¡¹å¼é˜¶ï¼šéšç€æ•°æ®è§„æ¨¡çš„å¢é•¿ï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´å’Œç©ºé—´å ç”¨ï¼ŒæŒ‰ç…§å¤šé¡¹å¼çš„æ¯”ä¾‹å¢é•¿ã€‚åŒ…æ‹¬ï¼ŒO(1)ï¼ˆå¸¸æ•°é˜¶ï¼‰ã€O(logn)ï¼ˆå¯¹æ•°é˜¶ï¼‰ã€O(n)ï¼ˆçº¿æ€§é˜¶ï¼‰ã€O(nlogn)ï¼ˆçº¿æ€§å¯¹æ•°é˜¶ï¼‰ã€O(n^2)ï¼ˆå¹³æ–¹é˜¶ï¼‰ã€O(n^3)ï¼ˆç«‹æ–¹é˜¶ï¼‰ éå¤šé¡¹å¼é˜¶ï¼šéšç€æ•°æ®è§„æ¨¡çš„å¢é•¿ï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´å’Œç©ºé—´å ç”¨æš´å¢ï¼Œè¿™ç±»ç®—æ³•æ€§èƒ½æå·®ã€‚åŒ…æ‹¬ï¼ŒO(2^n)ï¼ˆæŒ‡æ•°é˜¶ï¼‰ã€O(n!)ï¼ˆé˜¶ä¹˜é˜¶ï¼‰ äº”ã€å¦‚ä½•æŒæ¡å¥½å¤æ‚åº¦åˆ†ææ–¹æ³•ï¼Ÿå¤æ‚åº¦åˆ†æå…³é”®åœ¨äºå¤šç»ƒï¼Œæ‰€è°“å­°èƒ½ç”Ÿå·§ã€‚ 06 | é“¾è¡¨ï¼ˆä¸Šï¼‰ï¼šå¦‚ä½•å®ç°LRUç¼“å­˜æ·˜æ±°ç®—æ³•äº”ã€åº”ç”¨1.å¦‚ä½•åˆ†åˆ«ç”¨é“¾è¡¨å’Œæ•°ç»„å®ç°LRUç¼“å†²æ·˜æ±°ç­–ç•¥ï¼Ÿ1ï¼‰ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿç¼“å­˜æ˜¯ä¸€ç§æé«˜æ•°æ®è¯»å–æ€§èƒ½çš„æŠ€æœ¯ï¼Œåœ¨ç¡¬ä»¶è®¾è®¡ã€è½¯ä»¶å¼€å‘ä¸­éƒ½æœ‰ç€éå¹¿æ³›çš„åº”ç”¨ï¼Œæ¯”å¦‚å¸¸è§çš„CPUç¼“å­˜ã€æ•°æ®åº“ç¼“å­˜ã€æµè§ˆå™¨ç¼“å­˜ç­‰ç­‰ã€‚2ï¼‰ä¸ºä»€ä¹ˆä½¿ç”¨ç¼“å­˜ï¼Ÿå³ç¼“å­˜çš„ç‰¹ç‚¹ç¼“å­˜çš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œå½“ç¼“å­˜è¢«ç”¨æ»¡æ—¶ï¼Œå“ªäº›æ•°æ®åº”è¯¥è¢«æ¸…ç†å‡ºå»ï¼Œå“ªäº›æ•°æ®åº”è¯¥è¢«ä¿ç•™ï¼Ÿå°±éœ€è¦ç”¨åˆ°ç¼“å­˜æ·˜æ±°ç­–ç•¥ã€‚3ï¼‰ä»€ä¹ˆæ˜¯ç¼“å­˜æ·˜æ±°ç­–ç•¥ï¼ŸæŒ‡çš„æ˜¯å½“ç¼“å­˜è¢«ç”¨æ»¡æ—¶æ¸…ç†æ•°æ®çš„ä¼˜å…ˆé¡ºåºã€‚4ï¼‰æœ‰å“ªäº›ç¼“å­˜æ·˜æ±°ç­–ç•¥ï¼Ÿå¸¸è§çš„3ç§åŒ…æ‹¬å…ˆè¿›å…ˆå‡ºç­–ç•¥FIFOï¼ˆFirst Inï¼ŒFirst Outï¼‰ã€æœ€å°‘ä½¿ç”¨ç­–ç•¥LFUï¼ˆLeast Frenquently Usedï¼‰ã€æœ€è¿‘æœ€å°‘ä½¿ç”¨ç­–ç•¥LRUï¼ˆLeast Recently Usedï¼‰ã€‚5ï¼‰é“¾è¡¨å®ç°LRUç¼“å­˜æ·˜æ±°ç­–ç•¥å½“è®¿é—®çš„æ•°æ®æ²¡æœ‰å­˜å‚¨åœ¨ç¼“å­˜çš„é“¾è¡¨ä¸­æ—¶ï¼Œç›´æ¥å°†æ•°æ®æ’å…¥é“¾è¡¨è¡¨å¤´ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼›å½“è®¿é—®çš„æ•°æ®å­˜åœ¨äºå­˜å‚¨çš„é“¾è¡¨ä¸­æ—¶ï¼Œå°†è¯¥æ•°æ®å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæ’å…¥åˆ°é“¾è¡¨è¡¨å¤´,æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚å¦‚æœç¼“å­˜è¢«å æ»¡ï¼Œåˆ™ä»é“¾è¡¨å°¾éƒ¨çš„æ•°æ®å¼€å§‹æ¸…ç†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚6ï¼‰æ•°ç»„å®ç°LRUç¼“å­˜æ·˜æ±°ç­–ç•¥æ–¹å¼ä¸€ï¼šé¦–ä½ç½®ä¿å­˜æœ€æ–°è®¿é—®æ•°æ®ï¼Œæœ«å°¾ä½ç½®ä¼˜å…ˆæ¸…ç†å½“è®¿é—®çš„æ•°æ®æœªå­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶ï¼Œç›´æ¥å°†æ•°æ®æ’å…¥æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ï¼Œæ­¤æ—¶æ•°ç»„æ‰€æœ‰å…ƒç´ éœ€è¦å‘åç§»åŠ¨1ä¸ªä½ç½®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼›å½“è®¿é—®çš„æ•°æ®å­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶ï¼ŒæŸ¥æ‰¾åˆ°æ•°æ®å¹¶å°†å…¶æ’å…¥æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæ­¤æ—¶äº¦éœ€ç§»åŠ¨æ•°ç»„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚ç¼“å­˜ç”¨æ»¡æ—¶ï¼Œåˆ™æ¸…ç†æ‰æœ«å°¾çš„æ•°æ®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚æ–¹å¼äºŒï¼šé¦–ä½ç½®ä¼˜å…ˆæ¸…ç†ï¼Œæœ«å°¾ä½ç½®ä¿å­˜æœ€æ–°è®¿é—®æ•°æ®å½“è®¿é—®çš„æ•°æ®æœªå­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶ï¼Œç›´æ¥å°†æ•°æ®æ·»åŠ è¿›æ•°ç»„ä½œä¸ºå½“å‰æœ€æœ‰ä¸€ä¸ªå…ƒç´ æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼›å½“è®¿é—®çš„æ•°æ®å­˜åœ¨äºç¼“å­˜çš„æ•°ç»„ä¸­æ—¶ï¼ŒæŸ¥æ‰¾åˆ°æ•°æ®å¹¶å°†å…¶æ’å…¥å½“å‰æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œæ­¤æ—¶äº¦éœ€ç§»åŠ¨æ•°ç»„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚ç¼“å­˜ç”¨æ»¡æ—¶ï¼Œåˆ™æ¸…ç†æ‰æ•°ç»„é¦–ä½ç½®çš„å…ƒç´ ï¼Œä¸”å‰©ä½™æ•°ç»„å…ƒç´ éœ€æ•´ä½“å‰ç§»ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚ï¼ˆä¼˜åŒ–ï¼šæ¸…ç†çš„æ—¶å€™å¯ä»¥è€ƒè™‘ä¸€æ¬¡æ€§æ¸…ç†ä¸€å®šæ•°é‡ï¼Œä»è€Œé™ä½æ¸…ç†æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½ã€‚ï¼‰2.å¦‚ä½•é€šè¿‡å•é“¾è¡¨å®ç°â€œåˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºæ°´ä»™èŠ±å­—ç¬¦ä¸²â€ï¼Ÿï¼ˆæ¯”å¦‚ ä¸Šæµ·è‡ªæ¥æ°´æ¥è‡ªæµ·ä¸Šï¼‰1ï¼‰å‰æï¼šå­—ç¬¦ä¸²ä»¥å•ä¸ªå­—ç¬¦çš„å½¢å¼å­˜å‚¨åœ¨å•é“¾è¡¨ä¸­ã€‚2ï¼‰éå†é“¾è¡¨ï¼Œåˆ¤æ–­å­—ç¬¦ä¸ªæ•°æ˜¯å¦ä¸ºå¥‡æ•°ï¼Œè‹¥ä¸ºå¶æ•°ï¼Œåˆ™ä¸æ˜¯ã€‚3ï¼‰å°†é“¾è¡¨ä¸­çš„å­—ç¬¦å€’åºå­˜å‚¨ä¸€ä»½åœ¨å¦ä¸€ä¸ªé“¾è¡¨ä¸­ã€‚4ï¼‰åŒæ­¥éå†2ä¸ªé“¾è¡¨ï¼Œæ¯”è¾ƒå¯¹åº”çš„å­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æ˜¯æ°´ä»™èŠ±å­—ä¸²ï¼Œå¦åˆ™ï¼Œä¸æ˜¯ã€‚å…­ã€è®¾è®¡æ€æƒ³æ—¶ç©ºæ›¿æ¢æ€æƒ³ï¼šâ€œç”¨ç©ºé—´æ¢æ—¶é—´â€ ä¸ â€œç”¨æ—¶é—´æ¢ç©ºé—´â€å½“å†…å­˜ç©ºé—´å……è¶³çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬æ›´åŠ è¿½æ±‚ä»£ç çš„æ‰§è¡Œé€Ÿåº¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©ç©ºé—´å¤æ‚åº¦ç›¸å¯¹è¾ƒé«˜ï¼Œæ—¶é—´å¤æ‚åº¦å°ç›¸å¯¹è¾ƒä½çš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œç¼“å­˜å°±æ˜¯ç©ºé—´æ¢æ—¶é—´çš„ä¾‹å­ã€‚å¦‚æœå†…å­˜æ¯”è¾ƒç´§ç¼ºï¼Œæ¯”å¦‚ä»£ç è·‘åœ¨æ‰‹æœºæˆ–è€…å•ç‰‡æœºä¸Šï¼Œè¿™æ—¶ï¼Œå°±è¦åè¿‡æ¥ç”¨æ—¶é—´æ¢ç©ºé—´çš„æ€è·¯ã€‚ é€’å½’ä¸€ã€ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿ é€’å½’æ˜¯ä¸€ç§éå¸¸é«˜æ•ˆã€ç®€æ´çš„ç¼–ç æŠ€å·§ï¼Œä¸€ç§åº”ç”¨éå¸¸å¹¿æ³›çš„ç®—æ³•ï¼Œæ¯”å¦‚DFSæ·±åº¦ä¼˜å…ˆæœç´¢ã€å‰ä¸­ååºäºŒå‰æ ‘éå†ç­‰éƒ½æ˜¯ä½¿ç”¨é€’å½’ã€‚ æ–¹æ³•æˆ–å‡½æ•°è°ƒç”¨è‡ªèº«çš„æ–¹å¼ç§°ä¸ºé€’å½’è°ƒç”¨ï¼Œè°ƒç”¨ç§°ä¸ºé€’ï¼Œè¿”å›ç§°ä¸ºå½’ã€‚ åŸºæœ¬ä¸Šï¼Œæ‰€æœ‰çš„é€’å½’é—®é¢˜éƒ½å¯ä»¥ç”¨é€’æ¨å…¬å¼æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚ 123f(n) = f(n-1) + 1;f(n) = f(n-1) + f(n-2);f(n)=n*f(n-1); äºŒã€ä¸ºä»€ä¹ˆä½¿ç”¨é€’å½’ï¼Ÿé€’å½’çš„ä¼˜ç¼ºç‚¹ï¼Ÿ ä¼˜ç‚¹ï¼šä»£ç çš„è¡¨è¾¾åŠ›å¾ˆå¼ºï¼Œå†™èµ·æ¥ç®€æ´ã€‚ ç¼ºç‚¹ï¼šç©ºé—´å¤æ‚åº¦é«˜ã€æœ‰å †æ ˆæº¢å‡ºé£é™©ã€å­˜åœ¨é‡å¤è®¡ç®—ã€è¿‡å¤šçš„å‡½æ•°è°ƒç”¨ä¼šè€—æ—¶è¾ƒå¤šç­‰é—®é¢˜ã€‚ ä¸‰ã€ä»€ä¹ˆæ ·çš„é—®é¢˜å¯ä»¥ç”¨é€’å½’è§£å†³å‘¢ï¼Ÿ ä¸€ä¸ªé—®é¢˜åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹3ä¸ªæ¡ä»¶ï¼Œå°±å¯ä»¥ç”¨é€’å½’æ¥è§£å†³ï¼š é—®é¢˜çš„è§£å¯ä»¥åˆ†è§£ä¸ºå‡ ä¸ªå­é—®é¢˜çš„è§£ã€‚ä½•ä¸ºå­é—®é¢˜ï¼Ÿå°±æ˜¯æ•°æ®è§„æ¨¡æ›´å°çš„é—®é¢˜ã€‚ é—®é¢˜ä¸å­é—®é¢˜ï¼Œé™¤äº†æ•°æ®è§„æ¨¡ä¸åŒï¼Œæ±‚è§£æ€è·¯å®Œå…¨ä¸€æ · å­˜åœ¨é€’å½’ç»ˆæ­¢æ¡ä»¶ å››ã€å¦‚ä½•å®ç°é€’å½’ï¼Ÿ é€’å½’ä»£ç ç¼–å†™ å†™é€’å½’ä»£ç çš„å…³é”®å°±æ˜¯æ‰¾åˆ°å¦‚ä½•å°†å¤§é—®é¢˜åˆ†è§£ä¸ºå°é—®é¢˜çš„è§„å¾‹ï¼Œå¹¶ä¸”åŸºäºæ­¤å†™å‡ºé€’æ¨å…¬å¼ï¼Œç„¶åå†æ¨æ•²ç»ˆæ­¢æ¡ä»¶ï¼Œæœ€åå°†é€’æ¨å…¬å¼å’Œç»ˆæ­¢æ¡ä»¶ç¿»è¯‘æˆä»£ç ã€‚ é€’å½’ä»£ç ç†è§£ å¯¹äºé€’å½’ä»£ç ï¼Œè‹¥è¯•å›¾æƒ³æ¸…æ¥šæ•´ä¸ªé€’å’Œå½’çš„è¿‡ç¨‹ï¼Œå®é™…ä¸Šæ˜¯è¿›å…¥äº†ä¸€ä¸ªæ€ç»´è¯¯åŒºã€‚é‚£è¯¥å¦‚ä½•ç†è§£é€’å½’ä»£ç å‘¢ï¼Ÿå¦‚æœä¸€ä¸ªé—®é¢˜Aå¯ä»¥åˆ†è§£ä¸ºè‹¥å¹²ä¸ªå­é—®é¢˜Bã€Cã€Dï¼Œä½ å¯ä»¥å‡è®¾å­é—®é¢˜Bã€Cã€Då·²ç»è§£å†³ã€‚è€Œä¸”ï¼Œä½ åªéœ€è¦æ€è€ƒé—®é¢˜Aä¸å­é—®é¢˜Bã€Cã€Dä¸¤å±‚ä¹‹é—´çš„å…³ç³»å³å¯ï¼Œä¸éœ€è¦ä¸€å±‚å±‚å¾€ä¸‹æ€è€ƒå­é—®é¢˜ä¸å­å­é—®é¢˜ï¼Œå­å­é—®é¢˜ä¸å­å­å­é—®é¢˜ä¹‹é—´çš„å…³ç³»ã€‚å±è”½æ‰é€’å½’ç»†èŠ‚ï¼Œè¿™æ ·å­ç†è§£èµ·æ¥å°±ç®€å•å¤šäº†ã€‚å› æ­¤ï¼Œç†è§£é€’å½’ä»£ç ï¼Œå°±æŠŠå®ƒæŠ½è±¡æˆä¸€ä¸ªé€’æ¨å…¬å¼ï¼Œä¸ç”¨æƒ³ä¸€å±‚å±‚çš„è°ƒç”¨å…³ç³»ï¼Œä¸è¦è¯•å›¾ç”¨äººè„‘å»åˆ†è§£é€’å½’çš„æ¯ä¸ªæ­¥éª¤ã€‚ äº”ã€é€’å½’å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ è­¦æƒ•å †æ ˆæº¢å‡ºï¼šå¯ä»¥å£°æ˜ä¸€ä¸ªå…¨å±€å˜é‡æ¥æ§åˆ¶é€’å½’çš„æ·±åº¦ï¼Œä»è€Œé¿å…å †æ ˆæº¢å‡ºã€‚ è­¦æƒ•é‡å¤è®¡ç®—ï¼šé€šè¿‡æŸç§æ•°æ®ç»“æ„æ¥ä¿å­˜å·²ç»æ±‚è§£è¿‡çš„å€¼ï¼Œä»è€Œé¿å…é‡å¤è®¡ç®—ã€‚ å…­ã€å¦‚ä½•å°†é€’å½’æ”¹å†™ä¸ºéé€’å½’ä»£ç ï¼Ÿ ç¬¼ç»Ÿçš„è®²ï¼Œæ‰€æœ‰çš„é€’å½’ä»£ç éƒ½å¯ä»¥æ”¹å†™ä¸ºè¿­ä»£å¾ªç¯çš„éé€’å½’å†™æ³•ã€‚å¦‚ä½•åšï¼ŸæŠ½è±¡å‡ºé€’æ¨å…¬å¼ã€åˆå§‹å€¼å’Œè¾¹ç•Œæ¡ä»¶ï¼Œç„¶åç”¨è¿­ä»£å¾ªç¯å®ç°ã€‚","link":"/posts/JavaScript%E7%AE%97%E6%B3%95%E4%B9%8B%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/"},{"title":"Linux","text":"ç»ˆç«¯ä¸Šä¼ ä¸‹è½½æ–‡ä»¶ åœ¨ç»ˆç«¯å¾€linuxä¸Šä¼ æ–‡ä»¶rz -b ä¸­æ–‡çš„æ— æ³•ä¸Šä¼ ï¼Œéœ€è¦å…ˆå°†æ–‡ä»¶åæ”¹ä¸ºè‹±æ–‡çš„ï¼Œä¸Šä¼ ä¸Šå»åï¼Œå†æ”¹ä¸ºä¸­æ–‡ã€‚ ä¸‹è½½sz -b å‚è€ƒ:é“¾æ¥ ä¸€ã€å‘½ä»¤åŸºæœ¬æ ¼å¼http://www.cnblogs.com/ShaYeBlog/p/5576601.html git æ‰“tag å‘½ä»¤ [é€‰é¡¹][å‚æ•°] æ³¨æ„ï¼š 1. ä¸ªåˆ«å‘½ä»¤ä¸éµå¾ªæ­¤æ ¼å¼ 2. æœ‰å¤šä¸ªé€‰é¡¹ï¼Œå¯ä»¥å†™åœ¨ä¸€èµ· 3. ç®€å†™ï¼š-a == -all, ll == ls -l 1.1 ls ls -a æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ ls -l æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ ls -d æŸ¥çœ‹ç›®å½•å±æ€§ ls -h äººæ€§åŒ–æ˜¾ç¤ºæ–‡ä»¶å¤§å° ï¼ŒK/M ls -i æ˜¾ç¤ºinode 1.2 æ–‡ä»¶æƒé™(10ä½) ç¬¬ä¸€ä½æ˜¯æ–‡ä»¶ç±»å‹ï¼Œåé¢æ¯3ä½ä¸€ç»„ -rw-r-râ€“ -æ–‡ä»¶ç±»å‹(-æ–‡ä»¶ dç›®å½• lè½¯é“¾æ¥) rw- uæ‰€æœ‰è€… râ€“ gæ‰€å±ç»„ râ€“ oå…¶ä»–äºº r è¯» w å†™ x æ‰§è¡Œ äºŒã€æ–‡ä»¶å¤„ç†å‘½ä»¤linuxä¸­ä¸€åˆ‡çš†æ–‡ä»¶ã€‚ç›®å½•ä¸ºç›®å½•æ–‡ä»¶ã€‚æ™®é€šæ–‡ä»¶ç”¨æ¥ä¿å­˜æ•°æ®ï¼Œç›®å½•æ–‡ä»¶ç”¨æ¥ä¿å­˜ç›®å½•ã€‚ 2.1 å¸¸ç”¨ç›®å½•ä»‹ç»åŠä½œç”¨ / æ ¹ç›®å½• /sbin ï¼Œ/bin å‘½ä»¤ä¿å­˜ç›®å½• æ ¹ç›®å½•ä¸‹çš„binå’Œsbinï¼Œusrä¸‹çš„bin å’Œsbinéƒ½æ˜¯ç”¨æ¥ä¿å­˜ç³»ç»Ÿå‘½ä»¤ã€‚binç›®å½•ä¸‹çš„å‘½ä»¤ä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥æ‰§è¡Œï¼Œsbinä¸‹åªæœ‰rootæ‰å¯ä»¥æ‰§è¡Œã€‚Linuxé€šè¿‡æ­¤æ–¹å¼åŒºåˆ†ç”¨æˆ·æƒé™ /boot å¯åŠ¨ç›®å½•ï¼Œå¯åŠ¨ç›¸å…³æ–‡ä»¶ /dev è®¾å¤‡æ–‡ä»¶ä¿å­˜ç›®å½• /etc é…ç½®æ–‡ä»¶ä¿å­˜ç›®å½• /home æ™®é€šç”¨æˆ·çš„å®¶ç›®å½• /lib ç³»ç»Ÿåº“ä¿å­˜ç›®å½• /mnt ç³»ç»ŸæŒ‚è½½uç›˜ã€ç§»åŠ¨ç¡¬ç›˜ç›®å½• /media æŒ‚è½½å…‰ç›˜ç›®å½• /misc å¤–æ¥ç£å¸¦æœºæŒ‚è½½ç›®å½• /root è¶…çº§ç”¨æˆ·çš„å®¶ç›®å½• /tmp ä¸´æ—¶ç›®å½• å¯å­˜æ”¾ä¸´æ—¶æ•°æ® /proc ç›´æ¥å†™å…¥å†…å­˜çš„ /sys åŒ /procä¸èƒ½ç›´æ¥æ“ä½œ /usr ç³»ç»Ÿè½¯ä»¶èµ„æºç›®å½• /usr/bin/ ç³»ç»Ÿå‘½ä»¤ (æ™®é€šç”¨æˆ·) /usr/sbin/ ç³»ç»Ÿå‘½ä»¤ (è¶…çº§ç”¨æˆ·) 2.2 ç›®å½•å¤„ç†æ–‡ä»¶å‘½ä»¤ mkdir -p [ç›®å½•å] -p é€’å½’åˆ›å»º make directories mkdir src mkdir bin cd åˆ‡æ¢æ‰€åœ¨ç›®å½• change directory ç®€åŒ–æ“ä½œ cd ~ è¿›å…¥å½“å‰ç”¨æˆ·çš„å®¶ç›®å½• cd - è¿›å…¥ä¸Šæ¬¡ç›®å½• cd .. è¿›å…¥ä¸Šä¸€çº§ç›®å½• cd . è¿›å…¥å½“å‰ç›®å½• pwd æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•ä½ç½® print working directory 2.3 æ–‡ä»¶å¤„ç†å‘½ä»¤ rmdir [ç›®å½•å] åˆ é™¤ç©ºç›®å½• remove empty directory rm -rf [æ–‡ä»¶æˆ–ç›®å½•] åˆ é™¤æ–‡ä»¶æˆ–ç›®å½• é€‰é¡¹ï¼š -r åˆ é™¤ç›®å½• -f å¼ºåˆ¶ rm [æ–‡ä»¶å] :æç¤ºæ˜¯å¦åˆ é™¤ rm -r [ç›®å½•]: åˆ é™¤ç›®å½•éœ€åŠ -rï¼Œç›®å½•ä¸­å«æœ‰å­æ–‡ä»¶ï¼Œå°†ç»§ç»­è¯¢é—®æ˜¯å¦åˆ é™¤ rm -rf [ç›®å½•]: åˆ é™¤ç›®å½•ï¼Œç›´æ¥åˆ é™¤ **è‡ªæ€æŒ‡ä»¤** rm -rf / cp [é€‰é¡¹] [åŸæ–‡ä»¶æˆ–ç›®å½•] [ç›®æ ‡ç›®å½•] å¤åˆ¶ copy -r å¤åˆ¶ç›®å½• -p è¿å¸¦æ–‡ä»¶å±æ€§å¤åˆ¶ -d è‹¥æºæ–‡ä»¶æ˜¯é“¾æ¥æ–‡ä»¶ï¼Œåˆ™å¤åˆ¶é“¾æ¥å±æ€§ -a ç›¸å½“äº-pdr ç›®æ ‡æ–‡ä»¶å’Œæºæ–‡ä»¶å±æ€§ç›¸åŒ è¢«å¤åˆ¶æ–‡ä»¶çš„æ—¶é—´ä¸ºæ‰§è¡Œå¤åˆ¶å‘½ä»¤çš„æ—¶é—´ï¼Œè‹¥è¦ä½¿è¢«å¤åˆ¶çš„æ–‡ä»¶ä¸åŸæ–‡ä»¶å±æ€§å®Œå…¨ä¸€è‡´ï¼Œéœ€åŠ  -a eg: cp abc /tmp/ è‹¥ç›®æ ‡ç›®å½•ä¸åŠ æ–‡ä»¶åï¼Œåˆ™åŸåå¤åˆ¶ cp abc /tmp/ana ç›®æ ‡æ–‡ä»¶åŠ å…¥æ–‡ä»¶åï¼Œæ”¹åå¤åˆ¶ cp -r ja/ /tmp/ å¤åˆ¶ç›®å½• cp -a ja/ /tmp/ å®Œå…¨å¤åˆ¶ï¼ŒåŒ…å«æ‰€æœ‰å±æ€§ mv [åŸæ–‡ä»¶æˆ–ç›®å½•] [ç›®æ ‡ç›®å½•] move eg: mv ja /tmp/ å‰ªåˆ‡ mv abc longls åŸæ–‡ä»¶ä¸ç›®æ ‡ç›®å½•åœ¨åŒä¸€ä¸ªç›®å½•ï¼Œåˆ™ä¸ºé‡å‘½å date æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ—¶é—´ 2.4 é“¾æ¥å‘½ä»¤ æ ¼å¼åŒ–ç¡¬ç›˜?? ln -s [æºæ–‡ä»¶] [ç›®æ ‡æ–‡ä»¶] link é€‰é¡¹ -s åˆ›å»ºè½¯é“¾æ¥ ç¡¬é“¾æ¥ç‰¹å¾ æ‹¥æœ‰ç›¸åŒièŠ‚ç‚¹å’Œå­˜å‚¨blockå—ï¼Œå¯ä»¥çœ‹åšæ˜¯åŒä¸€ä¸ªæ–‡ä»¶ã€‚ ç¡¬é“¾æ¥ä¸æºæ–‡ä»¶æ‹¥æœ‰ç›¸åŒçš„ièŠ‚ç‚¹ã€‚ åˆ é™¤åŸæ–‡ä»¶æˆ–ç¡¬é“¾æ¥æ–‡ä»¶çš„ä»»ä½•ä¸€æ–‡ä»¶ï¼Œä¸å½±å“æ–‡ä»¶ç´¢å¼•æ“ä½œï¼Ÿï¼Ÿï¼ŸåŸæ–‡ä»¶åˆ é™¤äº†å—ï¼Ÿ 1ï¼‰å¯ä»¥é€šè¿‡ièŠ‚ç‚¹è¯†åˆ« 2ï¼‰ä¸èƒ½è·¨åˆ†åŒºå»ºç«‹ 3ï¼‰ln ./source/abc ./target/bcd.hard åˆ›å»ºåï¼Œå¼•ç”¨è®¡æ•°+1 1) ls -i ./souce/abc ./target/bcd.hard å¯ä½¿ç”¨ls -i æ¥æŸ¥çœ‹æ–‡ä»¶ièŠ‚ç‚¹ ä¸å»ºè®®åˆ›å»ºç¡¬é“¾æ¥æ–‡ä»¶ï¼š æ–‡ä»¶è¿‡äºéšè”½ï¼Œé™¤äº†ièŠ‚ç‚¹å¾ˆéš¾åŒºåˆ†å®ƒæ˜¯ä¸æ˜¯ç¡¬é“¾æ¥ ç¡¬é“¾æ¥é™åˆ¶è¾ƒå¤šï¼Œä¸èƒ½è·¨åˆ†åŒºï¼Œä¸èƒ½é’ˆå¯¹ç›®å½•ï¼Œä½¿ç”¨ä¸­å®¹æ˜“å‡ºç°é”™è¯¯ä½¿ç”¨æ–¹æ³• è½¯é“¾æ¥ç‰¹å¾ ç±»ä¼¼äºWindowsçš„å¿«æ·æ–¹å¼ è½¯é“¾æ¥æ‹¥æœ‰è‡ªå·±çš„ièŠ‚ç‚¹å’Œblockå—ï¼Œåªä¿å­˜åŸæ–‡ä»¶çš„æ–‡ä»¶åå’ŒèŠ‚ç‚¹å·ï¼Œå¹¶æ²¡æœ‰å®é™…çš„æ–‡ä»¶æ•°æ®ã€‚ è½¯é“¾æ¥çš„æƒé™éƒ½ä¸º777ï¼Œä½†å®é™…æƒé™è¦çœ‹åŸæ–‡ä»¶æƒé™ã€‚ ä¿®æ”¹ä»»æ„æ–‡ä»¶ï¼Œå¦ä¸€ä¸ªéƒ½ä¼šæ”¹å˜ã€‚ åˆ é™¤åŸæ–‡ä»¶ï¼Œè½¯é“¾æ¥ä¸èƒ½ç”¨ åˆ›å»ºè½¯é“¾æ¥ï¼ŒåŸæ–‡ä»¶ä¸€å®šè¦å†™ç»å¯¹è·¯å¾„ï¼Œå¦åˆ™è½¯é“¾æ¥ä¼šåˆ°å®ƒæ‰€åœ¨çš„åŒä¸€ä¸ªç›®å½•å»æ‰¾åŸæ–‡ä»¶ ç¡¬é“¾æ¥ä¸è½¯é“¾æ¥å›¾ ä¸‰ã€æ–‡ä»¶æœç´¢å‘½ä»¤3.1 locate æ–‡ä»¶åé€Ÿåº¦å¿«ï¼Œä½†åªèƒ½æŒ‰ç…§æ–‡ä»¶åæœç´¢ï¼Œä¸èƒ½è¿›è¡Œæ›´å¤æ‚çš„æœç´¢ 3.2 whereisç”¨äºæœç´¢å‘½ä»¤æ‰€åœ¨çš„è·¯å¾„å·²ç»å¸®åŠ©æ–‡æ¡£æ‰€åœ¨çš„ä½ç½® -b: åªæŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶ -m: åªæŸ¥æ‰¾å¸®åŠ©æ–‡ä»¶ 3.3 whichèƒ½çœ‹åˆ°å‘½ä»¤çš„è·¯å¾„ï¼Œå¦‚æœæœ‰åˆ«åï¼Œè¿˜èƒ½çœ‹åˆ°åˆ«åçš„è¯´æ˜ åªèƒ½çœ‹åˆ°å¤–éƒ¨å®‰è£…çš„å‘½ä»¤ï¼Œå¦‚pwd. 3.4 $PATHç±»ä¼¼äºWindowsçš„ç¯å¢ƒå˜é‡ï¼Œæ‰§è¡Œå‘½ä»¤æ—¶ï¼Œä»pathå®šä¹‰çš„ç›®å½•ä¸­å¯»æ‰¾ echo $PATH 3.5 whoamiæ˜¾ç¤ºå½“å‰ç”¨æˆ· 3.6 whatisæŸ¥è¯¢ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œä»€ä¹ˆåŠŸèƒ½ï¼Œå¹¶å°†ç»“æœæ‰“å°åˆ°ç»ˆç«¯ä¸Š 3.7 find [æœç´¢èŒƒå›´] [æœç´¢æ¡ä»¶] é»˜è®¤å®Œå…¨åŒ¹é… é¿å…å¤§èŒƒå›´æœç´¢ï¼Œéå¸¸æµªè´¹èµ„æºï¼Œå»ºè®®ä¸åœ¨ç›´æ¥â€™/â€˜ç›®å½•ä¸‹æœç´¢ find /root -iname test ä¸åŒºåˆ†è¦æœç´¢çš„testå¤§å°å†™æ ¼å¼ find /root -user root æœç´¢rootç›®å½•ä¸‹æ‰€æœ‰å±äºrootç”¨æˆ·çš„æ–‡ä»¶ find /root -nouser æ²¡æœ‰æ‰€å±è€…çš„æ–‡ä»¶ã€‚ linuxä¸­æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰æ‰€å±è€…ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¸€èˆ¬éƒ½æ˜¯åƒåœ¾æ–‡ä»¶ã€‚ ä½†è¿˜æ˜¯æœ‰ç‰¹æ®Šçš„ï¼Œå†…æ ¸äº§ç”Ÿçš„æ–‡ä»¶ï¼Œå°±æ²¡æœ‰æ‰€å±è€…ï¼Œä¸€èˆ¬åœ¨procå’Œsysç›®å½•ä¸‹ï¼› è¿˜æœ‰å¤–æ¥æ–‡ä»¶ï¼Œuç›˜æ‹·å…¥çš„æ–‡ä»¶ä¹Ÿä¼šå¿½ç•¥æ‰€æœ‰è€… æ¨¡ç³ŠæŸ¥è¯¢é€šé…ç¬¦æœ‰3ç§ 1. * åŒ¹é…ä»»ä½•å­—ç¬¦ find /home -name &quot;*test*&quot;,æ˜¾ç¤ºæ‰€æœ‰åå­—å¸¦testçš„æ–‡ä»¶ find /home -name &quot;*&quot;, homeç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ 2. ? åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ 3. [] åŒ¹é…ä»»æ„ä¸€ä¸ªä¸­æ‹¬å·å†…çš„å­—ç¬¦ï¼Œ find /home -name &quot;test[12]&quot; æ˜¾ç¤ºtest1 test2æ–‡ä»¶ find /home -name &quot;[12]*&quot; æ˜¾ç¤º1æˆ–2å¼€å¤´çš„æ–‡ä»¶ find /home -name &quot;*[12]&quot; æ˜¾ç¤ºæ‰€æœ‰1æˆ–2ç»“å°¾çš„æ–‡ä»¶ find æŒ‰æ–‡ä»¶æ—¶é—´æœç´¢1. find /home -mtime +10 åœ¨homeç›®å½•ä¸‹ï¼ŒæŸ¥æ‰¾10å¤©å‰ä¿®æ”¹çš„æ–‡ä»¶ 2. find /home -mtime 10 10å¤©å‰å½“å¤©çš„æ–‡ä»¶ 3. find /home -mtime -10 10å¤©å†…ä¿®æ”¹çš„æ–‡ä»¶ atime æ–‡ä»¶è®¿é—®æ—¶é—´ ctime æ”¹å˜æ–‡ä»¶å±æ€§ mtime ä¿®æ”¹æ–‡ä»¶å†…å®¹ find ç›®å½• -size å¤§å°å°å†™kå’Œå¤§å†™M find /etc -size +20k -a -size -50k æŸ¥æ‰¾/etc/ç›®å½•ä¸‹å¤§äº20kå¹¶ä¸”å°äº50kçš„æ–‡ä»¶ -a and ä¸ï¼Œä¸¤ä¸ªæ¡ä»¶éƒ½æ»¡è¶³ -o or æˆ–ï¼Œä¸¤ä¸ªæ¡ä»¶æ»¡è¶³ä¸€ä¸ªå³å¯ find /etc -size +20k -a -size -50k -exec ls -lh {} \\; æŸ¥æ‰¾/etc ç›®å½•ä¸‹ï¼Œå¤§äº20kä¸”å°äº50kçš„æ–‡ä»¶ï¼Œå¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ -exec/ -ok å‘½ä»¤ {} \\; å¯¹æœç´¢ç»“æœæ‰§è¡Œæ“ä½œ å›ºå®šæ ¼å¼ï¼š-exec {} \\\\ ï¼Œè¡¨ç¤ºç›´æ¥å¯¹å‰é¢çš„æœç´¢ç»“æœè¿›è¡Œåé¢çš„å‘½ä»¤å¤„ç†ã€‚ï¼Ÿï¼Ÿï¼Ÿ grep [é€‰é¡¹] å­—ç¬¦ä¸² æ–‡ä»¶å-i å¿½ç•¥å¤§å°å†™ -v æ’é™¤æŒ‡å®šå­—ç¬¦ä¸² findä¸grepçš„åŒºåˆ« find: åœ¨ç³»ç»Ÿä¸­æœç´¢ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶åï¼Œå¦‚æœéœ€è¦åŒ¹é…ï¼Œä½¿ç”¨é€šé…ç¬¦ï¼Œä¸ºå®Œå…¨åŒ¹é… grep: åœ¨æ–‡ä»¶ä¸­æœç´¢ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœéœ€è¦åŒ¹é…ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸ºåŒ…å«åŒ¹é… å››ã€å¸®åŠ©å‘½ä»¤4.1 man å‘½ä»¤åç§° manualè¿›å…¥manå‘½ä»¤æ“ä½œï¼Œqé€€å‡ºï¼›è¾“å…¥: / -d æœç´¢â€™-dâ€™å­—ç¬¦ä¸²ï¼›æŒ‰nå¾€ä¸‹æœï¼Œshfit+n ç½‘ä¸Šæœ 4.2 å…¶ä»–å¸®åŠ©å‘½ä»¤ å‘½ä»¤ â€“help info å‘½ä»¤ ls â€“help -å›è½¦ è¿›å…¥å¸¦*å·çš„å‘½ä»¤ -u è¿›å…¥ä¸Šå±‚é¡µé¢ -n è¿›å…¥ä¸‹ä¸€ä¸ªå¸®åŠ©å°èŠ‚ -p è¿›å…¥ä¸Šä¸€ä¸ªå¸®åŠ©å°èŠ‚ -q é€€å‡º äº”ã€å‹ç¼©ä¸è§£å‹ç¼©å‘½ä»¤ .zip .gz .bz2 .tar.gz .tar.bz2 5.1 zip1234zip å‹ç¼©æ–‡ä»¶å æºæ–‡ä»¶ # å‹ç¼©æ–‡ä»¶zip -r å‹ç¼©ç›®å½•å æºç›®å½• # å‹ç¼©ç›®å½•unzip å‹ç¼©æ–‡ä»¶ # è§£å‹ç¼©æ–‡ä»¶ 5.2 gz123456gzip æºæ–‡ä»¶ # å‹ç¼©ä¸º.gzæ ¼å¼çš„å‹ç¼©æ–‡ä»¶ï¼Œæºæ–‡ä»¶ä¼šæ¶ˆå¤±gzip -c æºæ–‡ä»¶&gt;å‹ç¼©æ–‡ä»¶ # å‹ç¼©ä¸º.gzæ ¼å¼ï¼Œæºæ–‡ä»¶ä¼šä¿ç•™gzip -r ç›®å½• # å‹ç¼©ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å¤¹ï¼Œä½†ä¸èƒ½å‹ç¼©ç›®å½•gzip -d å‹ç¼©æ–‡ä»¶ # è§£å‹ç¼©æ–‡ä»¶gunzip å‹ç¼©æ–‡ä»¶ # è§£å‹ç¼©æ–‡ä»¶ 5.3 bzipæ ¼å¼bzip ä¸èƒ½å‹ç¼©ç›®å½• 12345bzip2 æºæ–‡ä»¶ # å‹ç¼©æ–‡ä»¶ æºæ–‡ä»¶ä¼šæ¶ˆå¤±bzip2 -k æºæ–‡ä»¶ # å‹ç¼©å ä¿ç•™æºæ–‡ä»¶bzip -d å‹ç¼©æ–‡ä»¶ # è§£å‹bzip2æ–‡ä»¶bunbzip å‹ç¼©æ–‡ä»¶ # è§£å‹æ–‡ä»¶ 5.4 tar.gz tar.bz212345678910111213tar -cvf æ‰“åŒ…æ–‡ä»¶å æºæ–‡ä»¶ # å‹ç¼©ä¸ºtaræ ¼å¼tar -zvcf å‹ç¼©åŒ…å.tar.gz æºæ–‡ä»¶ # å‹ç¼©ä¸º.tar.gzæ ¼å¼tar -jvcf å‹ç¼©åŒ…å.tar.bz2 æºæ–‡ä»¶ # å‹ç¼©ä¸º.tar.bz2æ ¼å¼# -c æ‰“åŒ…# -v æ˜¾ç¤ºè¿‡ç¨‹# -f æŒ‡å®šæ‰“åŒ…åçš„æ–‡ä»¶åtar -xvf æ‰“åŒ…æ–‡ä»¶å # è§£å‹taræ ¼å¼tar -zxvf å‹ç¼©åŒ…å.tar.gz # è§£å‹.tar.gzæ ¼å¼tar -jxvf å‹ç¼©åŒ…å.tar.bz2 # è§£å‹.tar.bz2æ ¼å¼# -x è§£å‹åŒ…# -z å‹ç¼©ä¸ºtar.gzæ ¼å¼# -j å‹ç¼©ä¸º.tar.bz2æ ¼å¼ å…¶ä»–ç”¨æ³• 1. æŒ‡å®šè§£å‹ä½ç½® tar -jxvfæ‰“åŒ…æ–‡ä»¶å -C ç»å¯¹è·¯å¾„ 2. åŒæ—¶å‹ç¼©å¤šä¸ªæ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„ tar -zcvf ç»å¯¹è·¯å¾„ ï¼ˆ/tmp/ï¼‰ æ‰“åŒ…æ–‡ä»¶å æºæ–‡ä»¶ æºæ–‡ä»¶ 3. æŸ¥çœ‹å‹ç¼©åŒ…å†…æ–‡ä»¶ï¼Œä¸è§£å‹ tar -ztvf å‹ç¼©åŒ…æ–‡ä»¶å 123456tar â€“cvf jpg.tar *.jpg # å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆtar.jpgtar â€“czf jpg.tar.gz *.jpg # å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨gzipå‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªgzipå‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.gztar â€“cjf jpg.tar.bz2 *.jpg # å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨bzip2å‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªbzip2å‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.bz2tar â€“cZf jpg.tar.Z *.jpg # å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨compresså‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªumcompresså‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.Zrar a jpg.rar *.jpg # raræ ¼å¼çš„å‹ç¼©ï¼Œéœ€è¦å…ˆä¸‹è½½rar for linuxzip jpg.zip *.jpg # zipæ ¼å¼çš„å‹ç¼©ï¼Œéœ€è¦å…ˆä¸‹è½½zip for linux è§£å‹ 1234567tar â€“xvf file.tar # è§£å‹ taråŒ…tar -xzvf file.tar.gz # è§£å‹tar.gztar -xjvf file.tar.bz2 # è§£å‹ tar.bz2tar â€“xZvf file.tar.Z # è§£å‹tar.Zunrar e file.rar # è§£å‹rarunzip file.zip # è§£å‹zip å…­ã€å…³æœºå’Œé‡å¯å‘½ä»¤6.1 å…³æœºå’Œé‡å¯ shutdown [é€‰é¡¹] æ—¶é—´ æ—¶é—´åé¢åŠ &quot;&amp;&quot;,è¡¨ç¤ºå°†å½“å‰è®¡åˆ’ä»»åŠ¡æ”¾ç½®åå°è¿è¡Œï¼è‹¥ä¸æ”¾ç½®ï¼Œå½“å‰ç•Œé¢ç›´åˆ°å…³æœº/é‡å¯éƒ½æ— æ³•è¿›è¡Œæ“ä½œã€‚ è¿™æ—¶ï¼Œå¦‚æœå½“å‰ç”¨æˆ·æŒ‰ä¸‹ctrl+c ï¼Œå¯ä»¥å–æ¶ˆæœ¬æ¬¡å…³æœºæˆ–é‡å¯çš„æ“ä½œï¼› è€Œå…¶ä»–ç”¨æˆ·æŒ‰ä¸‹ctrl+cï¼Œä¸ä¼šå–æ¶ˆå…³æœºæˆ–é‡å¯ï¼Œä½†å¯ä»¥ä¸­æ–­é€€å‡ºï¼Œç»§ç»­å…¶ä»–æ“ä½œã€‚ é€‰é¡¹-h å…³æœº -r é‡å¯ -c å–æ¶ˆä¸Šä¸€ä¸ªå…³æœºå‘½ä»¤ æ—¶é—´ now //ç°åœ¨ æ—¶: åˆ† // åé¢çš„æ—¶é—´å¯ä»¥ä½¿ç”¨[+m]æ ¼å¼ï¼Œè¡¨ç¤ºå¤šå°‘åˆ†é’Ÿåæ‰§è¡Œã€‚ ä¹Ÿå¯ä»¥ç”¨[hh:mm]æ ¼å¼ï¼Œè¡¨ç¤ºæŒ‡å®šçš„æ—¶é—´æ‰§è¡Œï¼Œè¯¥æ—¶é—´æ˜¯24å°æ—¶åˆ¶çš„ ä¸¾ä¾‹shutdown -h 05:30 è®¾å®šå‡Œæ™¨05:30å…³æœº shutdown -h now ç«‹å³å…³æœº shutdown -r 05:30 è®¾å®šå‡Œæ™¨05:30é‡å¯ shutdown -r now ç«‹å³é‡å¯ shutdown -c å–æ¶ˆå‰ä¸€ä¸ªå…³æœºæˆ–é‡å¯å‘½ä»¤ 6.2 ç³»ç»Ÿè¿è¡Œçº§åˆ«runlevel æŸ¥çœ‹è¿è¡Œçº§åˆ« å‰çº§åˆ« å½“å‰çº§åˆ« logout æ³¨é”€ 0 //å…³æœº 1 //å•ç”¨æˆ·(ç±»ä¼¼windowså®‰å…¨æ¨¡å¼ï¼‰ 2 //ä¸å®Œå…¨å¤šç”¨æˆ·ï¼Œä¸å«NFSæœåŠ¡ï¼ˆå­—ç¬¦ç•Œé¢ï¼Œä¸åŒ…å«æ–‡ä»¶å…±äº«æœåŠ¡ï¼‰ 3 //å®Œå…¨å¤šç”¨æˆ·ï¼ˆå­—ç¬¦ç•Œé¢ï¼‰ 4 //æœªåˆ†é… 5 //å›¾å½¢ç•Œé¢ 6 //é‡å¯ ä¸ƒã€æŒ‚è½½ä¸å¸è½½å‘½ä»¤7.1 æŒ‚è½½(å¯ç†è§£ä¸ºåˆ†é…ç›˜ç¬¦)(1)æŸ¥è¯¢ä¸è‡ªåŠ¨æŒ‚è½½ mount æŸ¥è¯¢ç³»ç»Ÿä¸­å·²æŒ‚è½½çš„è®¾å¤‡mount -a ä¾æ®é…ç½®æ–‡ä»¶/etc/fstabçš„å†…å®¹ï¼Œè‡ªåŠ¨æŒ‚è½½ å…‰ç›˜ Uç›˜ æ•°æ®ä¸å»ºè®®å†™å…¥è‡ªåŠ¨æŒ‚è½½ (2) æŒ‚è½½å‘½ä»¤çš„æ ¼å¼ mount [-t æ–‡ä»¶ç³»ç»Ÿ] [-o ç‰¹æ®Šé€‰é¡¹][è®¾å¤‡æ–‡ä»¶å][æŒ‚è½½ç‚¹] mounté€‰é¡¹-t æ–‡ä»¶ç³»ç»Ÿï¼šåŠ å…¥æ–‡ä»¶ç³»ç»Ÿç±»å‹æ¥æŒ‡å®šæŒ‚è½½çš„ç±»å‹ï¼Œext3,ext4,å…‰ç›˜ï¼šiso9660ç­‰æ–‡ä»¶ç³»ç»Ÿ-o ç‰¹æ®Šé€‰é¡¹ï¼šå¯ä»¥æŒ‡å®šæŒ‚è½½çš„é¢å¤–é€‰é¡¹ 7.2 æŒ‚è½½/å¸è½½å…‰ç›˜ æ²¡ç”¨äº†å§7.3 æŒ‚è½½Uç›˜å…ˆçœ‹Uç›˜çš„è®¾å¤‡åï¼Œç„¶åå†æŒ‚è½½ fdisk -l //æŸ¥çœ‹ç³»ç»Ÿä¸­å·²ç»è¯†åˆ«çš„ç¡¬ç›˜ mount -t vfat /dev/sdb1 /mnt/usb/ æ³¨: vfat æŒ‡çš„æ˜¯fat32æ–‡ä»¶ç³»ç»Ÿï¼Œå•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡4G Linuxé»˜è®¤ä¸æ”¯æŒNTFSæ–‡ä»¶ç³»ç»Ÿï¼Œå¯ä»¥ä¸‹è½½ntfs-3gè½¯ä»¶å®‰è£… å…«ã€ç”¨æˆ·ç™»å½•æŸ¥çœ‹å‘½ä»¤8.1 wæŸ¥çœ‹ç³»ç»Ÿå½“å‰ä¿¡æ¯(è´Ÿè½½å’Œå¼€æœºæ—¶é—´ç­‰ä¿¡æ¯) å½“å‰å·²ç»ç™»å½•çš„ç”¨æˆ·åŠç”¨ä»€ä¹ˆç»ˆç«¯è¿›å…¥ã€‚ load average: X.XX X.XX X.XX è¡¨ç¤ºç³»ç»Ÿåœ¨1åˆ†é’Ÿå†… 5åˆ†é’Ÿå†… 15åˆ†é’Ÿå†… çš„å¹³å‡è´Ÿè½½(CPUå†…å­˜)USER: ç”¨æˆ·TTY:ç™»å½•ç»ˆç«¯ pts/0 ç¬¬ä¸€ä¸ªè¿œç¨‹ç»ˆç«¯LOGIN@: ç™»å½•æ—¶é—´IDLE: ç”¨æˆ·é—²ç½®æ—¶é—´JCPU: æŒ‡çš„æ˜¯å’Œè¯¥ç»ˆç«¯è¿æ¥çš„æ‰€æœ‰è¿›ç¨‹å ç”¨çš„æ—¶é—´ã€‚PCPU: æŒ‡å½“å‰è¿›ç¨‹æ‰€å ç”¨çš„æ—¶é—´WHAT: å½“å‰æ­£åœ¨è¿è¡Œçš„å‘½ä»¤ 8.2 who ä¸wç±»ä¼¼ï¼Œä½†ä¿¡æ¯æœ‰æ‰€ç®€åŒ–ä¼šæ˜¾ç¤ºç™»å½•æ¥æºIPåœ°å€ 8.3 lastæŸ¥çœ‹å½“å‰ç™»å½•å’Œè¿‡å»ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯ å¯ä»¥çœ‹åˆ°rebootæ—¶é—´ï¼Œå®é™…æ˜¯æŸ¥çœ‹/var/log/wtmpä½†å¿…é¡»ç”¨lastå‘½ä»¤æ‰èƒ½çœ‹ 8.4 lastlogæŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·æœ€åä¸€æ¬¡ç™»å½•æ—¶é—´ /var/log/lastlog ä¸èƒ½ç›´æ¥çœ‹ï¼Œä¹Ÿæ˜¯ç”¨lastlogçœ‹ ç¼–è¾‘å™¨ :w æŠ¥é”™ :q é€€å‡º :! å¼ºåˆ¶ä¿å­˜ :ls åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ :n ä¸‹ä¸€ä¸ª :N ä¸Šä¸€ä¸ª :15è·³è½¬åˆ°æŒ‡å®šè¡Œ /xxx ä»å…‰æ ‡ä½ç½®å¼€å§‹å‘åæœç´¢ xxx å­—ç¬¦ä¸² ?xxx ä»å…‰æ ‡ä½ç½®å¼€å§‹å‘å‰æœç´¢","link":"/posts/Linux/"},{"title":"mac ç»éªŒ","text":"[TOC] macæ—¥å¸¸ç»éªŒç§¯ç´¯è®°å½•æ—¥å¸¸ç»éªŒ åœ¨ Mac OS X çš„ Terminal ä¸Šå¦‚ä½•ä¿®æ”¹è¡Œé¦–çš„æ˜¾ç¤º1sudo scutil --set HostName æ–°çš„ä¸»æœºå æ‰§è¡Œå‘½ä»¤åï¼Œå†è¾“å…¥ exit ç»“æŸå½“å‰ç»ˆç«¯è¿›ç¨‹ã€‚é‡æ–°æ‰“å¼€ç»ˆç«¯ï¼Œå°±ä¼šå‘ç°ä¸»æœºåå·²ç»ä¿®æ”¹ä¸ºæ–°çš„ä¸»æœºåäº†ã€‚ ç„¶åé‡å¯terminal keyboardé”®ç›˜è®¾ç½®æŒ‰command+ç©ºæ ¼æˆ–ç”¨Alfredæœkeyboard, æ‰“å¼€é”®ç›˜è®¾ç½®çª—å£æŠŠæŒ‰é”®é‡å¤å’Œé‡å¤å‰å»¶è¿Ÿè°ƒåˆ°æœ€å¿«ï¼Œå¯æå‡æ‰“å­—æ•ˆç‡ çª—å£å¹³é“ºå·¥å…·Magnet åœ¨xclient.infoå¯ä»¥ä¸‹è½½åˆ° macåˆ›å»ºæ–‡ä»¶å¤¹éœ€è¦å¯†ç ä»ç»ˆç«¯è¿›åˆ°ç›®æ ‡æ–‡ä»¶å¤¹æˆ–ç›®æ ‡æ–‡ä»¶å¤¹ä¸Šçº§ æ‰§è¡Œsudo chmod -R 777 xxx, xxxæ˜¯ä½ éœ€è¦æ·»åŠ å†™æƒé™çš„æ–‡ä»¶å¤¹åç§° macå½•å±è‡ªå¸¦è½¯ä»¶å³å¯å½•åˆ¶QuickTime Player mac å®‰è£… tomcat æŒ‰ç…§ç™¾åº¦ç»éªŒï¼Œå®‰è£…Java jdkï¼Œé…ç½®ç¯å¢ƒå˜é‡ æ£€æŸ¥Javaç‰ˆæœ¬ java -version echo $JAVA_HOME ä¸‹è½½tomcatï¼Œå®˜ç½‘ç‰ˆ ä¿®æ”¹æˆæƒ è¿›å…¥tomcatçš„binç›®å½•,ä¿®æ”¹æˆæƒ 123âœ bin pwd/Users/yp/Documents/workspace/apache-tomcat-7.0.68/binâœ bin sudo chmod 755 *.sh sudoä¸ºç³»ç»Ÿè¶…çº§ç®¡ç†å‘˜æƒé™. chmod æ”¹å˜ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶çš„å­˜å–æ¨¡å¼ 755ä»£è¡¨ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶æ‹¥æœ‰è¯»ã€å†™ã€æ‰§è¡Œçš„æƒé™ï¼ŒåŒç»„çš„å…¶ä»–äººå‘˜æ‹¥æœ‰æ‰§è¡Œå’Œè¯»çš„æƒé™ï¼Œæ²¡æœ‰å†™çš„æƒé™ï¼Œå…¶å®ƒç”¨æˆ·çš„æƒé™å’ŒåŒç»„äººå‘˜ä¸€æ ·. 777ä»£è¡¨ï¼Œuser,group ,others ,éƒ½æœ‰è¯»å†™å’Œå¯æ‰§è¡Œæƒé™. chmod -R 777 folername,è·å–æ–‡ä»¶å¤¹æƒé™. å¯åŠ¨äºŒã€å¯åŠ¨æ‰§è¡Œå¯åŠ¨å‘½ä»¤ sudo sh ./startup.shè®¿é—®http://localhost:8080/ å…³é—­ sudo sh ./shutdown.sh æˆ–ç›´æ¥./shutdown.sh å®‰è£… nginx å…ˆå®‰è£… homebrew brew install nginx mac ä¸‹ vim å¿«æ·é”® ä¸åœ¨ç¼–è¾‘çŠ¶æ€ä¸‹æŒ‰ dd åˆ é™¤è¡Œé“¾æ¥ æŸ¥çœ‹macå†…å­˜å’Œcpuå ç”¨ç³»ç»Ÿè‡ªå¸¦APPâ€“æ´»åŠ¨ç›‘è§†å™¨, å¯ä»¥æŸ¥çœ‹ mac æ·»åŠ ä»»ä½•æ¥æºå…è®¸æƒé™åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ 1 sudo spctl --master-disable è¾“å…¥å¯†ç ,å†å›åˆ°éšç§é‡Œï¼Œå°±èƒ½çœ‹åˆ°ä»»ä½•æ¥æº. å¦‚ä½•å¸è½½ paragon NTFS for mac123æ‰¾åˆ° /Library/Application Support/Paragon Software ç›®å½•sudo ./com.paragon-software.ntfs.uninstall macæœ¬åœ°ç»‘å®šhosts1234sudo vim /etc/hosts æ·»åŠ ä»¥ä¸‹å†…å®¹10.180.112.208 www.baidu.com www.jd.com å¯ä»¥æ·»åŠ å¤šä¸ªåŸŸå, ä¹Ÿå¯ä»¥ä¸€ä¸ª macæ‰‹åŠ¿å¿«æ·é”®1.ä¸‰æŒ‡æ‹–åŠ¨âœ¨âœ¨âœ¨âœ¨âœ¨ è®¾ç½®-&gt;è¾…åŠ©åŠŸèƒ½-&gt;é¼ æ ‡ä¸è§¦æ§æ¿-&gt;è§¦æ§æ¿é€‰é¡¹-&gt;å¯åŠ¨æ‹–ç§»-&gt;ä¸‰æŒ‡æ‹–ç§» å¯ä»¥åœ¨è§¦æ§æ¿åœ¨ä»»ä½•è½¯ä»¶æ ‡é¢˜æ æ‹–åŠ¨è¯¥çª—å£2.dockerç¨‹åºåç¼©æ”¾âœ¨âœ¨âœ¨âœ¨âœ¨ æ”¾å¤§é€‰ä¸­, æœ€å¤§ é¼ æ ‡æ”¾åˆ°dockerä¸Šå¯ä»¥çœ‹åˆ°è¯¥ç¨‹åºå›¾æ ‡æ”¾å¤§3.ç‚¹æŒ‰âœ¨âœ¨âœ¨âœ¨âœ¨ è®¾ç½®-&gt;è§¦æ§æ¿-&gt;è½»ç‚¹æ¥ç‚¹æŒ‰ å•æœºåªéœ€è½»ç‚¹è§¦æ§æ¿, ä¸ç”¨ç”¨åŠ›æŒ‰4.æ˜¾ç¤ºå™¨æ’åˆ—âœ¨âœ¨âœ¨âœ¨âœ¨ è®¾ç½®-&gt;æ˜¾ç¤ºå™¨-&gt;æ’åˆ— macå¦‚æœå¤–æ¥æ˜¾ç¤ºå™¨,å¯ä»¥æ‹–åŠ¨æ˜¾ç¤ºå™¨ä½ç½®æ¥æ’åˆ—ä½ç½®,æ–¹ä¾¿é¼ æ ‡ç§»åŠ¨åˆ°å¦ä¸€ä¸ªæ˜¾ç¤ºå™¨5.å…¨å±ä¸‹åˆ‡æ¢çª—å£âœ¨âœ¨âœ¨ å››æŒ‡æ»‘åŠ¨ macå®‰è£…homebrewHomebrewçš„å®‰è£…éå¸¸ç®€å•ï¼Œæ‰“å¼€ç»ˆç«¯å¤åˆ¶ã€ç²˜è´´ä»¥ä¸‹å‘½ä»¤ï¼Œå›è½¦ï¼Œæå®š(è¯·æ”¾å¿ƒä½¿ç”¨ï¼ŒåŸæ±åŸå‘³çš„å®˜æ–¹å®‰è£…æ–¹æ³•æ¬è¿ï¼‰ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; æ–°å»ºç®¡ç†å‘˜ç”¨æˆ·æ€ä¹ˆå¼„ç‚¹å‡»â€œç³»ç»Ÿåå¥½è®¾ç½®â€-â€œç”¨æˆ·ä¸ç¾¤ç»„â€,ç‚¹è§£é”ï¼Œè¾“å…¥å¯†ç ï¼Œç„¶åç‚¹å‡»å·¦ä¸‹è§’çš„â€œ+â€æ–°å»ºä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·ï¼Œç„¶åå›åˆ°ç”µè„‘ä¸»å±å¹•ï¼Œç‚¹å‡»å³ä¸Šè§’èœå•çš„å½“å‰ç”¨æˆ·ï¼Œç„¶åé€‰æ‹©æ–°å»ºçš„ç”¨æˆ·åˆ‡æ¢è¿›å…¥ä½¿ç”¨ã€‚ è§¦å‘è§’åœ¨ã€Œæ¡Œé¢ä¸å±å¹•ä¿æŠ¤ç¨‹åºã€-ã€Œå±å¹•ä¿æŠ¤ç¨‹åºã€å¯ä»¥è®¾ç½®é¼ æ ‡åœ¨æ¯ä¸ªè§’è½çš„æ—¶å€™ç›¸åº”çš„æ“ä½œã€‚ å¯ç”¨äºé”å±ï¼Œæ˜¾ç¤ºæ¡Œé¢ MAC å¿«æ·é”®Macä¸­ä¸»è¦æœ‰å››ä¸ªä¿®é¥°é”®ï¼Œåˆ†åˆ«æ˜¯Commandï¼ŒControlï¼ŒOptionå’ŒShiftã€‚ Commandæ˜¯Macé‡Œæœ€é‡è¦çš„ä¿®é¥°é”®ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ç›¸å½“äºWindowsä¸‹çš„Ctrlã€‚æ‰€ä»¥ä»¥ä¸‹æœ€åŸºæœ¬æ“ä½œå¾ˆå¥½ç†è§£ï¼šCommand-Z æ’¤é”€Command-X å‰ªåˆ‡ Command-C æ‹·è´ï¼ˆCopyï¼‰ Command-V ç²˜è´´ Command-A å…¨é€‰ï¼ˆAllï¼‰ Command-S ä¿å­˜ï¼ˆSave) Command-F æŸ¥æ‰¾ï¼ˆFindï¼‰ æˆªå›¾ï¼šCommand-Shift-4 æˆªå–æ‰€é€‰å±å¹•åŒºåŸŸåˆ°ä¸€ä¸ªæ–‡ä»¶ Command-Shift-3 æˆªå–å…¨éƒ¨å±å¹•åˆ°æ–‡ä»¶ Command-Shift-Control-3 æˆªå–å…¨éƒ¨å±å¹•åˆ°å‰ªè´´æ¿ Command-Shift-4 æˆªå–æ‰€é€‰å±å¹•åŒºåŸŸåˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ–æŒ‰ç©ºæ ¼é”®ä»…æ•æ‰ä¸€ä¸ªçª—å£ Command-Shift-Control-4 æˆªå–æ‰€é€‰å±å¹•åŒºåŸŸåˆ°å‰ªè´´æ¿ï¼Œæˆ–æŒ‰ç©ºæ ¼é”®ä»…æ•æ‰ä¸€ä¸ªçª—ç°åœ¨ç›´æ¥ç”¨å¾®ä¿¡çš„å¿«æ·é”®äº† åœ¨åº”ç”¨ç¨‹åºä¸­ï¼šCommand-Option-esc æ‰“å¼€å¼ºåˆ¶é€€å‡ºçª—å£ Command-H éšè—ï¼ˆHideï¼‰å½“å‰æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºçª—å£ Command-Option-H éšè—ï¼ˆHideï¼‰å…¶ä»–åº”ç”¨ç¨‹åºçª—å£ Command-Q é€€å‡ºï¼ˆQuitï¼‰æœ€å‰é¢çš„åº”ç”¨ç¨‹åº Command-Shift-Z é‡åšï¼Œä¹Ÿå°±æ˜¯æ’¤é”€çš„é€†å‘æ“ä½œ Command-Tab åœ¨æ‰“å¼€çš„åº”ç”¨ç¨‹åºåˆ—è¡¨ä¸­è½¬åˆ°ä¸‹ä¸€ä¸ªæœ€è¿‘ä½¿ç”¨çš„åº”ç”¨ç¨‹åºï¼Œç›¸å½“äºWindowsä¸­ï¼ˆAlt+Tabï¼‰ Command-Option-esc æ‰“å¼€â€œå¼ºåˆ¶é€€å‡ºâ€çª—å£ï¼Œå¦‚æœæœ‰åº”ç”¨ç¨‹åºæ— å“åº”ï¼Œå¯åœ¨çª—å£åˆ—è¡¨ä¸­é€‰æ‹©å¼ºåˆ¶é€€å‡º æ–‡æœ¬å¤„ç†ï¼šCommand-å³ç®­å¤´ å°†å…‰æ ‡ç§»è‡³å½“å‰è¡Œçš„è¡Œå°¾ Command-B åˆ‡æ¢æ‰€é€‰æ–‡å­—ç²—ä½“ï¼ˆBoldï¼‰æ˜¾ç¤º fn-Delete ç›¸å½“äºPCå…¨å°ºå¯¸é”®ç›˜ä¸Šçš„Deleteï¼Œä¹Ÿå°±æ˜¯å‘ååˆ é™¤ fn-ä¸Šç®­å¤´ å‘ä¸Šæ»šåŠ¨ä¸€é¡µï¼ˆPage Upï¼‰ fn-ä¸‹ç®­å¤´ å‘ä¸‹æ»šåŠ¨ä¸€é¡µï¼ˆPage Downï¼‰ fn-å·¦ç®­å¤´ æ»šåŠ¨è‡³æ–‡ç¨¿å¼€å¤´ï¼ˆHomeï¼‰ fn-å³ç®­å¤´ æ»šåŠ¨è‡³æ–‡ç¨¿æœ«å°¾ï¼ˆEndï¼‰ Command-å³ç®­å¤´ å°†å…‰æ ‡ç§»è‡³å½“å‰è¡Œçš„è¡Œå°¾ Command-å·¦ç®­å¤´ å°†å…‰æ ‡ç§»è‡³å½“å‰è¡Œçš„è¡Œé¦– Command-ä¸‹ç®­å¤´ å°†å…‰æ ‡ç§»è‡³æ–‡ç¨¿æœ«å°¾ Command-ä¸Šç®­å¤´ å°†å…‰æ ‡ç§»è‡³æ–‡ç¨¿å¼€å¤´ Option-å³ç®­å¤´ å°†å…‰æ ‡ç§»è‡³ä¸‹ä¸€ä¸ªå•è¯çš„æœ«å°¾ Option-å·¦ç®­å¤´ å°†å…‰æ ‡ç§»è‡³ä¸Šä¸€ä¸ªå•è¯çš„å¼€å¤´ Control-A ç§»è‡³è¡Œæˆ–æ®µè½çš„å¼€å¤´ åœ¨Finderä¸­ï¼šCommand-Option-V å‰ªåˆ‡æ–‡ä»¶ Command-Shift-N æ–°å»ºæ–‡ä»¶å¤¹ï¼ˆNewï¼‰ Command-Shift-. æ˜¾ç¤ºæˆ–éšè—ç³»ç»Ÿæ–‡ä»¶ Command-Shift-G è°ƒå‡ºçª—å£ï¼Œå¯è¾“å…¥ç»å¯¹è·¯å¾„ç›´è¾¾æ–‡ä»¶å¤¹ï¼ˆGoï¼‰ return è¿™ä¸ªå…¶å®ä¸ç®—å¿«æ·é”®ï¼Œç‚¹å‡»æ–‡ä»¶ï¼ŒæŒ‰ä¸‹å¯é‡å‘½åæ–‡ä»¶ Command-O æ‰“å¼€æ‰€é€‰é¡¹ã€‚åœ¨Macé‡Œæ‰“å¼€æ–‡ä»¶ä¸åƒWindowsé‡Œç›´æ¥æŒ‰Enter Command-Option-V ä½œç”¨ç›¸å½“äºWindowsé‡Œçš„æ–‡ä»¶å‰ªåˆ‡ã€‚åœ¨å…¶å®ƒä½ç½®ä¸Šå¯¹æ–‡ä»¶å¤åˆ¶ï¼ˆCommand-Cï¼‰ï¼Œåœ¨ç›®çš„ä½ç½®æŒ‰ä¸‹è¿™ä¸ªå¿«æ·é”®ï¼Œæ–‡ä»¶å°†è¢«å‰ªåˆ‡åˆ°æ­¤ä½ç½® Command-ä¸Šç®­å¤´ æ‰“å¼€åŒ…å«å½“å‰æ–‡ä»¶å¤¹çš„æ–‡ä»¶å¤¹ï¼Œç›¸å½“äºWindowsé‡Œçš„â€œå‘ä¸Šâ€ Command-Delete å°†æ–‡ä»¶ç§»è‡³åºŸçº¸ç¯“ Command-Shift-Delete æ¸…å€’åºŸçº¸ç¯“ ç©ºæ ¼é”® å¿«é€ŸæŸ¥çœ‹é€‰ä¸­çš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯é¢„è§ˆåŠŸèƒ½ åœ¨æµè§ˆå™¨ä¸­ï¼šControl-Tab è½¬å‘ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µ Command-L å…‰æ ‡ç›´æ¥è·³è‡³åœ°å€æ  Control-Tab è½¬å‘ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µ Control-Shift-Tab è½¬å‘ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µ Command-åŠ å·æˆ–ç­‰å· æ”¾å¤§é¡µé¢ Command-å‡å· ç¼©å°é¡µé¢ åˆ‡æ¢åŒä¸ªè½¯ä»¶çš„ä¸åŒçª—å£ command+` é”å±ctrl+command+q è§¦æ‘¸æ¿è§¦æ‘¸æ¿å¯ä»¥è®¾ç½®æˆè§¦æ‘¸æ¿è½»æ•²æ›¿ä»£æŒ‰ä¸‹çš„â€¦ å¦‚ä½•é‡ç½® Mac ä¸Šçš„ NVRAMhttps://support.apple.com/zh-cn/HT204063 é‡ç½® Mac ä¸Šçš„ç³»ç»Ÿç®¡ç†æ§åˆ¶å™¨ (SMC)https://support.apple.com/zh-cn/HT201295 UI åˆ‡å›¾å·¥å…· sketchç»˜å›¾å·¥å…·ä¸‹è½½ç ´è§£ç‰ˆ PxCookç”Ÿæˆå‰ç«¯ä»£ç åˆ©å™¨ Flavorsketchå¯¼å‡ºä¸ºPxCookæ’ä»¶Flavor Xmindå®‰è£…ä¸‹è½½åœ°å€ä¸‹è½½ä¸»ç¨‹åºå’Œç ´è§£è¡¥ä¸ã€‚ å…ˆå®‰è£…ä¸»ç¨‹åºï¼ŒæŒ‰ç…§ç ´è§£è¡¥ä¸é‡Œçš„æ­¥éª¤å®‰è£…å³å¯ã€‚ macå…³é—­æŒ‡å®šç«¯å£1234sudo lsof -i:8090udo kill -9 [pid]# egudo kill -9 59296 Windowsè™šæ‹Ÿæœºhttp://soft.macx.cn/6205.htm TODOè§£é”Alfred, Workflow iPhone 8å¼ºåˆ¶é‡å¯å…ˆæŒ‰éŸ³é‡+ï¼Œå†æŒ‰éŸ³é‡-ï¼Œå†é•¿æŒ‰ç”µæºé”®10så·¦å³ä¼šæ˜¾ç¤ºå¼€æœºç”»é¢ã€‚ homebrew è½¯ä»¶ä¸‹è½½å®‰è£…åˆ©å™¨[ä¸‹è½½å®‰è£…]https://brew.sh/index_zh-cn)æ‰€æœ‰è½¯ä»¶åˆ—è¡¨å®‰è£… 1brew install wget åœ¨finderå·¦ä¾§è¾¹æ å»ºç«‹æ–°æ–‡ä»¶å¤¹æ‰“å¼€finderåœ¨è®¾å¤‡æ‰¾åˆ°ç”µè„‘ç£ç›˜Macintosh HDæˆ–åœ¨æ¡Œé¢æ‰¾åˆ°Macintosh HDï¼Œ è¿›å…¥ç”¨æˆ·ï¼Œé€‰æ‹©è‡ªå·±çš„ç”¨æˆ·åï¼Œæ–°å»ºæ–‡ä»¶å¤¹ï¼Œç„¶åæ‹–åŠ¨åˆ°å·¦è¾¹è¾¹æ å³å¯ã€‚æƒ³è¦åˆ é™¤ç›´æ¥å³å‡»ï¼Œé€‰ä¸­ï¼Œä»è¾¹æ ç§»é™¤. è¯¦è§ç™¾åº¦ç»éªŒé“¾æ¥ macæµè§ˆå™¨å…¨å±åœ°å€æ è¢«éšè—å·¦ä¸Šè§’è§†å›¾â€“&gt; åœ¨å…¨å±æ¨¡å¼ä¸‹å§‹ç»ˆæ˜¾ç¤ºå·¥å…·æ gstgst macå¸¸ç”¨è½¯ä»¶ä¸‹è½½åœ°å€mac-torrent-download xclient.infoğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ å‚è€ƒé“¾æ¥ ç¨‹åºå‘˜å¦‚ä½•ä¼˜é›…åœ°ä½¿ç”¨ macOSï¼Ÿ","link":"/posts/Mac%20%E7%BB%8F%E9%AA%8C/"},{"title":"Macå¿«é€Ÿæ­å»ºå¼€å‘ç¯å¢ƒ","text":"å› ä¸ºç¬”è®°æœ¬ç”µæ± åäº†ï¼Œè¦é€æœºç»´ä¿®ï¼Œç”¨äº†åŠå¤©æ—¶é—´å¿«é€Ÿæ¢ç”µè„‘ä»0æ­å»ºå¾—å¿ƒåº”æ‰‹çš„å¼€å‘ç¯å¢ƒã€‚ç‰¹è®°å½•ç•™å¿µã€‚ Macé”®ç›˜è®¾ç½®ç³»ç»Ÿè®¾ç½®-&gt; é”®ç›˜-&gt; è°ƒåˆ°æœ€å¿« Git åˆå§‹åŒ–å…ˆåˆ›å»ºç›®å½• mkdir /Users/zjp(æ­¤å¤„ä¸ºç”µè„‘ç”¨æˆ·å)/.ssh å°†åŸæ¥ç”µè„‘é‡Œçš„ known_hostsï¼Œid_rsa.pubï¼Œ id_rsaæ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹å³å¯ ç”¨gitå‘½ä»¤ Git å‘½ä»¤å¿«æ·æ–¹å¼bdgp åœ¨ ~/.oh-my-zsh/plugins/gitçš„ git.plugin.zshæ–‡ä»¶æœ«å°¾æ·»åŠ  12345678bdgp() { if [[ &quot;$#&quot; != 0 ]] &amp;&amp; [[ &quot;$#&quot; != 1 ]]; then git push origin head:refs/for/&quot;${*}&quot; else [[ &quot;$#&quot; == 0 ]] &amp;&amp; local b=&quot;$(git_current_branch)&quot; git push origin head:refs/for/&quot;${b:=$1}&quot; fi} homebrew å®‰è£…åœ°å€å› ä¸ºHomeBrewå®˜ç½‘æä¾›çš„å®‰è£…åŠæ³•ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥æ”¹ç”¨ä»¥ä¸‹æ–¹æ³•ï¼Œç®€ä»‹å¥½ç”¨ï¼Œå¼ºçƒˆæ¨èï¼ï¼ï¼çŸ¥ä¹é“¾æ¥ç„¶åå°±å¯ä»¥æ­£å¸¸å®‰è£…æ’ä»¶ å„ä¸ªæ’ä»¶çš„å®‰è£…è¦æ ¹æ®æ¯ä¸ªæ’ä»¶çš„å®‰è£…æŒ‡å—å¯¹åº”å®‰è£… iTerm2ä¸‹è½½å› ä¸ºç½‘é€ŸåŸå› ä¸‹è½½æœ€æ–°ç‰ˆä¼šç‰¹åˆ«æ…¢ä½ç‰ˆæœ¬ä¸‹è½½é“¾æ¥ ç»éªŒä¸ç”¨ä»å®˜ç½‘ä¸‹è½½ï¼Œç›´æ¥å°†åŸç”µè„‘åº”ç”¨ç¨‹åºé‡Œçš„æ–‡ä»¶å‹ç¼©é€šè¿‡éš”ç©ºä¼ é€å‘é€åˆ°æ–°ç”µè„‘å³å¯ã€‚ æ’ä»¶å®‰è£…è¯¦è§æˆ‘çš„åšå®¢believezjp.oriht.comé“¾æ¥Oh-my-zshçš„å®‰è£…éƒ½è¦ç”¨åº“å¯¹åº”çš„æ–¹æ³•å®‰è£… å®‰è£…å¸¸ç”¨è½¯ä»¶æœç‹—è¾“å…¥æ³•ï¼ˆå¤–è§‚-ç®€çº¦é»‘2ï¼Œå€™é€‰9ä¸ªå­—ï¼‰ Vscode å¾®ä¿¡å¼€å‘è€…å·¥å…· ç™¾åº¦å¼€å‘è€…å·¥å…· GitKraken(åªèƒ½å®‰è£…6.5.1ç‰ˆæœ¬ä»¥ä¸‹çš„) PdfGuru vscodeæ’ä»¶å®‰è£…ç›´æ¥å®‰è£…Settings SyncåŒæ­¥å³å¯ Nodeç¯å¢ƒå®‰è£…ç›´æ¥å®˜ç½‘ä¸‹å®‰è£…åŒ… æ–‡ä»¶å¤‡ä»½æ‰“å¼€Finderé‡Œçš„å„ä¸ªç›®å½•æŸ¥çœ‹æ–‡ä»¶ï¼Œå‹ç¼©ä¼ é€æ–°ç”µè„‘å³å¯ ç„¶åå°±å¯ä»¥ä¸‹ä»£ç å¼€å§‹æ¬ç –äº†~~","link":"/posts/Mac%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"},{"title":"MongoDB","text":"å®‰è£…ä¸‹è½½é“¾æ¥ ä¸‹è½½å®Œç›´æ¥å®‰è£… ç®¡ç†å·¥å…·ï¼š Robomongo å’Œ Mongochef","link":"/posts/MongoDB/"},{"title":"Node-å¸¸ç”¨å·¥å…·","text":"supervisor ç›‘å¬Nodeæ”¹åŠ¨supervisor å®˜ç½‘æ˜¯ä¸€ä¸ªè¿›ç¨‹æ§åˆ¶ç³»ç»Ÿ å¹³æ—¶ï¼Œæˆ‘ä»¬ node app.js åï¼Œå½“æˆ‘ä»¬ä¿®æ”¹äº† app.js çš„å†…å®¹ï¼Œå°±éœ€è¦å…³é—­ node å‘½ä»¤è¡Œå†æ‰§è¡Œ node app.jsã€‚è€Œæˆ‘ä»¬ä½¿ç”¨ supervisor åï¼Œæˆ‘ä»¬ä¿®æ”¹äº† app.js ä¸­çš„å†…å®¹ï¼Œåªè¦ç‚¹å‡»ä¿å­˜ï¼Œå³å¯ç”Ÿæ•ˆä¿å­˜åçš„ä»£ç ï¼Œå®ç°å®æ—¶ç›‘å¬ node ä»£ç çš„å˜åŠ¨ã€‚ åŸºæœ¬ç”¨æ³• å®‰è£…æ’ä»¶ï¼šnpm i supervisor -g è¿è¡Œå‘½ä»¤ï¼šsupervisor app.js æŸ¥çœ‹è¿è¡Œï¼šlocalhost:3000 æ‰§è¡Œå‘½ä»¤å¿…é¡»åœ¨é¡¹ç›®çš„æ ¹ç›®å½•å¯åŠ¨ã€‚ä¸ç®¡æœåŠ¡å¯åŠ¨æ–‡ä»¶åœ¨ä»€ä¹ˆä½ç½®ã€‚ ä¾‹å¦‚ï¼šExpress4.0ä¸­ï¼Œå¯åŠ¨æ–‡ä»¶ä½äº./bin/wwwï¼Œå¯åŠ¨æ—¶ï¼Œå¿…é¡»åœ¨./ä¸‹æ‰§è¡Œsupervisor bin/www æ²¡æœ‰ä»»ä½•å‚æ•°å¯åŠ¨æœåŠ¡ï¼Œé»˜è®¤ç›‘æ§æ‰€æœ‰æ–‡ä»¶, æ–‡ä»¶å¤¹çš„å˜åŒ–ï¼Œä¸€æ—¦æœ‰å˜åŒ–ï¼ŒæœåŠ¡å°±ä¼šé‡å¯ã€‚ è¿™æ ·ä¼šå‡ºç°å¾ˆå¤šé—®é¢˜ï¼šå°†æ—¥å¿—å­˜å…¥æŸäº›æ–‡ä»¶å¤¹ï¼Œæˆ–ä¸Šä¼ é™„ä»¶ç­‰ï¼Œéƒ½ä¼šå¯¼è‡´æœåŠ¡å™¨æ–‡ä»¶çš„å˜åŒ–ï¼Œå¿…ç„¶å¼•èµ·nodeæœåŠ¡å™¨çš„é‡å¯ã€‚ ä¸æƒ³ç›‘æ§æŸäº›æ–‡ä»¶å¤¹ï¼Œå¯ä»¥ä½¿ç”¨-iå‚æ•°ã€‚å¦‚ï¼šå¿½ç•¥æ ¹ç›®å½•ä¸‹çš„private, å¯ä»¥è¿™æ ·å¯åŠ¨ï¼šsupervisor -i ./private myappå¿½ç•¥å¤šä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ™ç”¨,éš”å¼€supervisor -i ./private,./otherdir myapp è¯¦ç»†ä»‹ç»è¿è¡Œï¼šsupervisor PM2 - Nodeè¿›ç¨‹ç®¡ç†PM2- NPMå®˜ç½‘PM2 æ˜¯ Node è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥åˆ©ç”¨å®ƒæ¥ç®€åŒ–å¾ˆå¤š Node åº”ç”¨ç®¡ç†çš„ç¹çä»»åŠ¡ï¼Œå¦‚æ€§èƒ½ç›‘æ§ã€è‡ªåŠ¨é‡å¯ã€è´Ÿè½½å‡è¡¡ç­‰ï¼Œè€Œä¸”ä½¿ç”¨éå¸¸ç®€å•ã€‚ä¸‹é¢å°±å¯¹ PM2 è¿›è¡Œå…¥é—¨æ€§çš„ä»‹ç»ï¼ŒåŸºæœ¬æ¶µç›–äº† PM2 çš„å¸¸ç”¨çš„åŠŸèƒ½å’Œé…ç½®ï¼š ç”¨æ³• å…¨å±€å®‰è£… PM2ï¼šnpm i pm2 -g ç›‘å¬åº”ç”¨ï¼špm2 start index.js æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ï¼špm2 list æŸ¥çœ‹æŸä¸ªè¿›ç¨‹ï¼špm2 describe App name/id åœæ­¢æŸä¸ªè¿›ç¨‹ï¼špm2 stop App name/id åœæ­¢æ‰€æœ‰è¿›ç¨‹ï¼špm2 stop all é‡å¯æŸä¸ªè¿›ç¨‹ï¼špm2 restart App name/id åˆ é™¤æŸä¸ªè¿›ç¨‹ï¼špm2 delete App name/id æŸ¥çœ‹æ‰€æœ‰çš„è¿›ç¨‹çŠ¶æ€ï¼špm2 status supervisor æ˜¯ç›‘å¬å•ä¸ªè¿›ç¨‹çš„è¯ï¼Œé‚£ä¹ˆ PM2 å°±æ˜¯ç›‘å¬å¤šä¸ªè¿›ç¨‹ã€‚ å‚æ•°è¯´æ˜ --watchï¼šç›‘å¬åº”ç”¨ç›®å½•æºç çš„å˜åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œè‡ªåŠ¨é‡å¯ã€‚å¦‚æœè¦ç²¾ç¡®ç›‘å¬ã€ä¸è§å¬çš„ç›®å½•ï¼Œæœ€å¥½é€šè¿‡é…ç½®æ–‡ä»¶ -i --instancesï¼šå¯ç”¨å¤šå°‘ä¸ªå®ä¾‹ï¼Œå¯ç”¨äºè´Ÿè½½å‡è¡¡ã€‚å¦‚æœ-i 0æˆ–è€…-i maxï¼Œåˆ™æ ¹æ®å½“å‰æœºå™¨æ ¸æ•°ç¡®å®šå®ä¾‹æ•°ç›®ï¼Œå¯ä»¥å¼¥è¡¥node.jsç¼ºé™· --ignore-watchï¼šæ’é™¤ç›‘å¬çš„ç›®å½•/æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ç‰¹å®šçš„æ–‡ä»¶åï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ã€‚æ¯”å¦‚â€“ignore-watch=â€test node_modules â€œsome scriptsâ€ -n â€“nameï¼šåº”ç”¨çš„åç§°ã€‚æŸ¥çœ‹åº”ç”¨ä¿¡æ¯çš„æ—¶å€™å¯ä»¥ç”¨åˆ° -o --output &lt;path&gt;ï¼šæ ‡å‡†è¾“å‡ºæ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ï¼Œæœ‰é»˜è®¤è·¯å¾„ -e --error &lt;path&gt;ï¼šé”™è¯¯è¾“å‡ºæ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ï¼Œæœ‰é»˜è®¤è·¯å¾„ --interpreter &lt;interpreter&gt;ï¼šthe interpreter pm2 should use for executing app (bash, pythonâ€¦)ã€‚æ¯”å¦‚ä½ ç”¨çš„coffee scriptæ¥ç¼–å†™åº”ç”¨ é€šè¿‡yamlç®¡ç†å¤šä¸ªåº”ç”¨process.yml 12345678910apps: - script : app.js instances: 4 exec_mode: cluster - script : worker.js watch : true env : NODE_ENV: development env_production: NODE_ENV: production å¯åŠ¨: pm2 start process.yml ç¯å¢ƒåˆ‡æ¢å¼€å‘ä¸­ä¼šæœ‰å¤šä¸ªç¯å¢ƒ(å¼€å‘ï¼Œæµ‹è¯•ï¼Œç”Ÿäº§ç­‰), æ ¹æ®ä¸åŒç¯å¢ƒåˆ‡æ¢å„ç§æƒ…æ™¯ pm2é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­çš„env_xxæ¥å£°æ˜ä¸åŒç¯å¢ƒçš„é…ç½®ï¼Œç„¶ååœ¨å¯åŠ¨æ—¶é€šè¿‡--envå‚æ•°æŒ‡å®šè¿è¡Œç¯å¢ƒ ç¯å¢ƒå˜é‡å¦‚ä¸‹å®šä¹‰ 123456789101112&quot;env&quot;: { &quot;NODE_ENV&quot;: &quot;production&quot;, &quot;REMOTE_ADDR&quot;: &quot;http://www.example.com/&quot;},&quot;env_dev&quot;: { &quot;NODE_ENV&quot;: &quot;development&quot;, &quot;REMOTE_ADDR&quot;: &quot;http://wdev.example.com/&quot;},&quot;env_test&quot;: { &quot;NODE_ENV&quot;: &quot;test&quot;, &quot;REMOTE_ADDR&quot;: &quot;http://wtest.example.com/&quot;} åœ¨åº”ç”¨ä¸­é€šè¿‡process.env.REMOTE_ADDRç­‰æ¥è¯»å–é…ç½®ä¸­å£°æ˜çš„å˜é‡ å¯åŠ¨æŒ‡å®šçš„ç¯å¢ƒï¼špm2 start app.js --env development è´Ÿè½½å‡è¡¡12pm2 start app.js -i 3 # å¼€å¯ä¸‰ä¸ªè¿›ç¨‹pm2 start app.js -i max # æ ¹æ®æœºå™¨CPUæ ¸æ•°ï¼Œå¼€å¯å¯¹åº”æ•°ç›®çš„è¿›ç¨‹ æŸ¥çœ‹æ—¥å¿—pm2 logs æŸ¥çœ‹ç›‘æ§pm2 monit å¼€æœºè‡ªåŠ¨å¯åŠ¨ è¿è¡Œ pm2 startupï¼Œå³åœ¨/etc/init.d/ ç›®å½•ä¸‹ç”Ÿæˆ pm2-root çš„å¯åŠ¨è„šæœ¬ï¼Œä¸”è‡ªåŠ¨å°† pm2-root è®¾ä¸ºæœåŠ¡ï¼› é€šè¿‡pm2 saveä¿å­˜å½“å‰è¿›ç¨‹çŠ¶æ€ã€‚ è¯¦ç»†ä»‹ç»pm212pm2 -h # helppm2 # è¯­æ³•ä»‹ç» nodeç‰ˆæœ¬å‡çº§å…ˆæ¸…ç¼“å­˜å®‰è£…næ¨¡å—å‡çº§åˆ°æŒ‡å®šç‰ˆæœ¬/æœ€æ–°ç‰ˆæœ¬ 12345npm cache clean -fnpm install -g nn stable å®‰è£…å®Œæˆåï¼ŒæŸ¥çœ‹Nodeçš„ç‰ˆæœ¬node -v","link":"/posts/Node-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/"},{"title":"NodeJS è¿›é˜¶","text":"å‚è€ƒèµ„æ–™ 1. å®‰è£…Node.jså®˜ç½‘ä¸‹è½½ç›´æ¥å®‰è£… å®‰è£…æˆåŠŸåï¼Œè¾“å…¥npm -v å’Œnode -v æµ‹è¯•ã€‚ Linuxå®‰è£… 123456curl -O https://nodejs.org/dist/v6.9.1/node-v6.9.1.tar.gztar -xzvf node-v6.9.1.tar.gzcd node-v6.9.1./configuremakemake install ç‰ˆæœ¬ç®¡ç†ä½¿ç”¨nvm æˆ– n npm æºç®¡ç†å·¥å…·nrm ç”¨æ¥åˆ‡æ¢å®˜æ–¹npmæºå’Œå›½å†…npmæºï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åˆ‡æ¢å®˜æ–¹npmæºå’Œå…¬å¸ç§æœ‰npmæº å…¨å±€å®‰è£… nrm : 1npm i nrm -g æŸ¥çœ‹nrmå†…ç½®çš„npmæºåœ°å€ 1nrm ls åˆ‡æ¢æº 1npm use cnpm éå¸¸æ£’çš„åšå®¢ï¼šhttp://blog.fens.me http://blog.fens.me/series-nodejs/ Node æ•™ç¨‹https://github.com/nswbmw/N-blog/ Nodeæ–‡æ¡£åœ°å€ï¼šhttps://nodejs.org/api/fs.html#fs_event_openä¸­æ–‡æ–‡æ¡£http://nodejs.cn/api/fs.htmlå…³äºæ–‡ä»¶è¯»å–ï¼Œå†™å…¥ File System è¯»å–æ–‡ä»¶ https://segmentfault.com/a/1190000004957223 expresshttp://www.expressjs.com.cn/starter/generator.htmlnode+mongodbæ­å»ºåšå®¢https://segmentfault.com/a/1190000011794598 Node è‡ªå­¦å®Œå…¨æ€»ç»“http://www.jianshu.com/p/22f62a08559f Node.jsæ•™ç¨‹ä¸ƒå¤©å­¦ä¼šNodeJShttp://nqdeng.github.io/7-days-nodejs/#1.1 http://www.open-open.com/lib/view/1392611872538#_label2 https://github.com/alsotang/node-lessons æˆ‘æ¥å¯¹åˆ›ä¸šå…¬å¸ä¸­ä½¿ç”¨ Nodejsï¼Œåšä¸€ä¸ªå°æ€»ç»“ï¼Œæˆ‘ä»¬åœ¨å¦¥å–„å¤„ç†äº† è¿ç»´ã€é›†ç¾¤ç®¡ç†ã€æ€§èƒ½è°ƒä¼˜ç­‰ç­‰è¿™äº›ä¼ ç»Ÿè¯­è¨€å·²ç»åšçš„éå¸¸æ£’éå¸¸æˆç†Ÿçš„é¢†åŸŸï¼Œåœ¨å¤§éƒ¨åˆ†çš„åˆ›ä¸šå…¬å¸ï¼Œéƒ½å¯ä»¥ç”±å‰ç«¯å›¢é˜Ÿæ¨åŠ¨ï¼Œæ¥ä½¿ç”¨ Nodejs å»æ¥ç®¡æ•°æ®è®¿é—®å±‚ä¸æ¸²æŸ“å±‚çš„äº‹æƒ…ï¼Œç­‰åˆ°å…¬å¸è§„æ¨¡ä¸Šæ¥ä»¥åï¼Œå°±å¯ä»¥ä¾é æ›´èµ„æ·±çš„å·¥ç¨‹å¸ˆä»¥åŠåŸæ¥å›¢é˜Ÿçš„æ²‰æ·€ï¼Œæ¥åš æ¯”å¦‚æ—¥å¿—ã€ç›‘æ§ç³»ç»Ÿã€åˆ†å¸ƒå¼æœåŠ¡æ¥å…¥è¿™äº›äº‹æƒ…ï¼ŒNodejs çš„è½åœ°éœ€è¦å‰ç«¯å·¥ç¨‹å¸ˆï¼Œéœ€è¦ Nodejs å·¥ç¨‹å¸ˆï¼Œæ›´éœ€è¦å¼ºå¤§çš„è¿ç»´ä¹‹é”¤ï¼Œäº†è§£é™¤äº† JS ä»¥å¤–çš„æ›´å¤šæŠ€èƒ½ï¼Œæ¯”å¦‚æ•°æ®åº“ï¼Œæ¯”å¦‚ç³»ç»Ÿçš„è®¾è®¡ï¼Œæ¯”å¦‚æ¥å£æœåŠ¡ï¼Œæ¯”å¦‚å›¢é˜Ÿè§„èŒƒåä½œæµç¨‹ç­‰ç­‰ç­‰ç­‰ï¼Œåœ¨å¤§å…¬å¸å¯ä»¥æ‰æ ¹ä¸€ä¸ªæ–¹å‘æŒ–ä¸‹å»ï¼Œåœ¨å°å…¬å¸åˆ™éœ€è¦æ”¾çœ¼å¤©ä¸‹ï¼Œç­¹å¤‡æœªæ¥ã€‚","link":"/posts/NodeJS-%E8%BF%9B%E9%98%B6/"},{"title":"NodeJSä¸­çš„å†…å­˜æ³„æ¼","text":"å†…å­˜æ³„æ¼(Memory Leak): ç”±äºç–å¿½æˆ–é”™è¯¯é€ æˆç¨‹åºæœªèƒ½é‡Šæ”¾å·²ç»ä¸å†ä½¿ç”¨çš„å†…å­˜çš„æƒ…å†µã€‚ä¸¥é‡çš„æƒ…å†µä¸‹å¯¼è‡´å†…å­˜è¾¾åˆ°æŸä¸ªæé™ä¼šä½¿å¾—åº”ç”¨ç¨‹åºå´©æºƒã€‚ ä¼ ç»Ÿçš„ C/C++ ä¸­å­˜åœ¨æŒ‡é’ˆï¼Œå¯¹è±¡ç”¨å®Œåæœªé‡Šæ”¾ç­‰æƒ…å†µå¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚è€Œåœ¨ä½¿ç”¨è™šæ‹Ÿæœºæ‰§è¡Œçš„è¯­è¨€ä¸­å¦‚ Javaã€JavaScript ç”±äºä½¿ç”¨äº† GC ï¼ˆGarbage Collectionï¼Œåƒåœ¾å›æ”¶ï¼‰æœºåˆ¶è‡ªåŠ¨é‡Šæ”¾å†…å­˜ï¼Œä½¿å¾—ç¨‹åºå‘˜çš„ç²¾åŠ›å¾—åˆ°çš„æå¤§çš„è§£æ”¾ï¼Œä¸ç”¨å†åƒä¼ ç»Ÿè¯­è¨€é‚£æ ·æ—¶åˆ»å¯¹äºå†…å­˜çš„é‡Šæ”¾è€Œæˆ˜æˆ˜å…¢å…¢ã€‚ å³ä¾¿æœ‰äº† GC æœºåˆ¶å¯ä»¥è‡ªåŠ¨é‡Šæ”¾ï¼Œä½†è¿™å¹¶ä¸æ„å‘³è¿™å†…å­˜æ³„æ¼çš„é—®é¢˜ä¸å­˜åœ¨äº†ã€‚å†…å­˜æ³„æ¼ä¾æ—§æ˜¯å¼€å‘è€…ä»¬ä¸èƒ½ç»•è¿‡çš„ä¸€ä¸ªé—®é¢˜ï¼Œä»Šå¤©è®©æˆ‘ä»¬æ¥äº†è§£å¦‚ä½•åˆ†æ Node.js ä¸­çš„å†…å­˜æ³„æ¼ã€‚ GC in Node.jsNode.js ä½¿ç”¨ V8 ä½œä¸º JavaScript çš„æ‰§è¡Œå¼•æ“ï¼Œæ‰€ä»¥è®¨è®º Node.js çš„ GC æƒ…å†µå°±ç­‰äºåœ¨è®¨è®º V8 çš„ GCã€‚ åœ¨ V8 ä¸­ä¸€ä¸ªå¯¹è±¡çš„å†…å­˜æ˜¯å¦è¢«é‡Šæ”¾ï¼Œæ˜¯çœ‹ç¨‹åºä¸­æ˜¯å¦è¿˜æœ‰åœ°æ–¹æŒæœ‰æ”¹å¯¹è±¡çš„å¼•ç”¨ã€‚ åœ¨ V8 ä¸­ï¼Œæ¯æ¬¡ GC æ—¶ï¼Œæ˜¯æ ¹æ® root å¯¹è±¡ (æµè§ˆå™¨ç¯å¢ƒä¸‹çš„ windowï¼ŒNode.js ç¯å¢ƒä¸‹çš„ global ) ä¾æ¬¡æ¢³ç†å¯¹è±¡çš„å¼•ç”¨ï¼Œå¦‚æœèƒ½ä» root çš„å¼•ç”¨é“¾åˆ°è¾¾è®¿é—®ï¼ŒV8 å°±ä¼šå°†å…¶æ ‡è®°ä¸ºå¯åˆ°è¾¾å¯¹è±¡ï¼Œåä¹‹ä¸ºä¸å¯åˆ°è¾¾å¯¹è±¡ã€‚è¢«æ ‡è®°ä¸ºä¸å¯åˆ°è¾¾å¯¹è±¡ï¼ˆå³æ— å¼•ç”¨çš„å¯¹è±¡ï¼‰åå°±ä¼šè¢« V8 å›æ”¶ã€‚ æ›´å¤šç»†èŠ‚ï¼Œå¯ä»¥å‚è§ è§£è¯» V8 GCã€‚ åœ¨ Node.js ä¸­å†…å­˜æ³„éœ²çš„åŸå› å°±æ˜¯æœ¬è¯¥è¢«æ¸…é™¤çš„å¯¹è±¡ï¼Œè¢«å¯åˆ°è¾¾å¯¹è±¡å¼•ç”¨ä»¥åï¼Œæœªè¢«æ­£ç¡®çš„æ¸…é™¤è€Œå¸¸é©»å†…å­˜ã€‚ å†…å­˜æ³„æ¼çš„å‡ ç§æƒ…å†µå…¨å±€å˜é‡ä½¿ç”¨å…¨å±€å˜é‡æˆ–æœªå®šä¹‰çš„å˜é‡ï¼Œä¸ä¼šè¢«æ¸…é™¤æ‰ 12a = 10;global.b = 1; é—­åŒ…é—­åŒ…çš„å°±æ˜¯å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å®šä¹‰åœ¨å¤–éƒ¨å‡½æ•°ä¸­çš„å˜é‡ã€‚ 123456functionout(){ const bigData =newBuffer(100); inner =function(){ void bigData; }} ç”±äºinneræŒ‚è½½åœ¨rootä¸Šï¼Œå¯¼è‡´bigDataä¸ä¼šè¢«é‡Šæ”¾ äº‹ä»¶ç›‘å¬Node.js çš„äº‹ä»¶ç›‘å¬ä¹Ÿå¯èƒ½å‡ºç°çš„å†…å­˜æ³„æ¼ã€‚ä¾‹å¦‚å¯¹åŒä¸€ä¸ªäº‹ä»¶é‡å¤ç›‘å¬ï¼Œå¿˜è®°ç§»é™¤ node Agent keepAlive ä¸º true æ—¶ï¼Œå¯èƒ½é€ æˆçš„å†…å­˜æ³„æ¼ã€‚ å½“ Agent keepAlive ä¸º true çš„æ—¶å€™ï¼Œå°†ä¼šå¤ç”¨ä¹‹å‰ä½¿ç”¨è¿‡çš„ socketï¼Œå¦‚æœåœ¨ socket ä¸Šæ·»åŠ äº‹ä»¶ç›‘å¬ï¼Œå¿˜è®°æ¸…é™¤çš„è¯ï¼Œå› ä¸º socket çš„å¤ç”¨ï¼Œå°†å¯¼è‡´äº‹ä»¶é‡å¤ç›‘å¬ï¼Œè€Œäº§ç”Ÿå†…å­˜æ³„æ¼ã€‚ æ‰€ä»¥è¦äº†è§£æ·»åŠ äº‹ä»¶çš„å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚è‡ªå·±æ·»åŠ çš„äº‹ä»¶ç›‘å¬ï¼Œå¿…é¡»è‡ªå·±ç§»é™¤ã€‚ node Agent keepAlive å†…å­˜æ³„æ¼ å…¶ä»–åŸå› è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æƒ…å†µå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œæ¯”å¦‚ç¼“å­˜ã€‚ åœ¨ä½¿ç”¨ç¼“å­˜çš„æ—¶å€™ï¼Œå¾—æ¸…æ¥šç¼“å­˜çš„å¯¹è±¡çš„å¤šå°‘ï¼Œå¦‚æœç¼“å­˜å¯¹è±¡éå¸¸å¤šï¼Œå¾—åšé™åˆ¶æœ€å¤§ç¼“å­˜æ•°é‡å¤„ç†ã€‚è¿˜æœ‰å°±æ˜¯éå¸¸å ç”¨ CPU çš„ä»£ç ä¹Ÿä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼ŒæœåŠ¡å™¨åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå¦‚æœæœ‰é«˜ CPU çš„åŒæ­¥ä»£ç ï¼Œå› ä¸ºNode.js æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥ä¸èƒ½å¤„ç†å¤„ç†è¯·æ±‚ï¼Œè¯·æ±‚å †ç§¯å¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜ã€‚ å¦‚ä½•é¿å…å†…å­˜æ³„æ¼ESLint æ£€æµ‹ä»£ç æ£€æŸ¥éæœŸæœ›çš„å…¨å±€å˜é‡ã€‚ ä½¿ç”¨é—­åŒ…çš„æ—¶å€™ï¼Œå¾—çŸ¥é“é—­åŒ…äº†ä»€ä¹ˆå¯¹è±¡ï¼Œè¿˜æœ‰å¼•ç”¨é—­åŒ…çš„å¯¹è±¡ä½•æ—¶æ¸…é™¤é—­åŒ…ã€‚é¿å…å†™å‡ºå¤æ‚çš„é—­åŒ… ç»‘å®šäº‹ä»¶çš„æ—¶å€™ï¼Œä¸€å®šå¾—åœ¨æ°å½“çš„æ—¶å€™æ¸…é™¤äº‹ä»¶ã€‚åœ¨ç¼–å†™ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œæ¨èä½¿ç”¨ init å‡½æ•°å¯¹ç±»çš„äº‹ä»¶ç›‘å¬è¿›è¡Œç»‘å®šå’Œèµ„æºç”³è¯·ï¼Œç„¶å destroy å‡½æ•°å¯¹äº‹ä»¶å’Œå ç”¨èµ„æºè¿›è¡Œé‡Šæ”¾ã€‚ å®šä½å†…å­˜æ³„æ¼æ­£å¸¸ä½¿ç”¨å°±å¯ä»¥é‡ç°çš„å†…å­˜æ³„æ¼ï¼Œåªè¦åœ¨æµ‹è¯•ç¯å¢ƒæ¨¡æ‹Ÿå°±å¯ä»¥æ’æŸ¥ å¯¹äºå¶ç„¶çš„å†…å­˜æ³„æ¼ï¼Œä¸€èˆ¬ä¼šä¸ç‰¹æ®Šçš„è¾“å…¥æœ‰å…³ç³»ã€‚æƒ³ç¨³å®šé‡ç°è¿™ç§è¾“å…¥æ˜¯å¾ˆè€—æ—¶çš„è¿‡ç¨‹ã€‚å¦‚æœä¸èƒ½é€šè¿‡ä»£ç çš„æ—¥å¿—å®šä½åˆ°è¿™ä¸ªç‰¹æ®Šçš„è¾“å…¥ï¼Œé‚£ä¹ˆæ¨èå»ç”Ÿäº§ç¯å¢ƒæ‰“å°å†…å­˜å¿«ç…§äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰“å°å†…å­˜å¿«ç…§æ˜¯å¾ˆè€— CPU çš„æ“ä½œï¼Œå¯èƒ½ä¼šå¯¹çº¿ä¸Šä¸šåŠ¡é€ æˆå½±å“ã€‚ å¿«ç…§å·¥å…·æ¨èä½¿ç”¨ heapdump ç”¨æ¥ä¿å­˜å†…å­˜å¿«ç…§ï¼Œä½¿ç”¨ devtool æ¥æŸ¥çœ‹å†…å­˜å¿«ç…§ã€‚ä½¿ç”¨ heapdump ä¿å­˜å†…å­˜å¿«ç…§æ—¶ï¼Œåªä¼šæœ‰ Node.js ç¯å¢ƒä¸­çš„å¯¹è±¡ï¼Œä¸ä¼šå—åˆ°å¹²æ‰°ï¼ˆå¦‚æœä½¿ç”¨ node-inspector çš„è¯ï¼Œå¿«ç…§ä¸­ä¼šæœ‰å‰ç«¯çš„å˜é‡å¹²æ‰°ï¼‰ã€‚ PSï¼šå®‰è£… heapdump åœ¨æŸäº› Node.js ç‰ˆæœ¬ä¸Šå¯èƒ½å‡ºé”™ï¼Œå»ºè®®ä½¿ç”¨ npm install heapdump -target=Node.js ç‰ˆæœ¬æ¥å®‰è£…ã€‚ æ‰“å°å†…å­˜å¿«ç…§å°† heapdump å¼•å…¥ä»£ç ä¸­ï¼Œä½¿ç”¨ heapdump.writeSnapshot å°±å¯ä»¥æ‰“å°å†…å­˜å¿«ç…§äº†äº†ã€‚ä¸ºäº†å‡å°‘æ­£å¸¸å˜é‡çš„å¹²æ‰°ï¼Œå¯ä»¥åœ¨æ‰“å°å†…å­˜å¿«ç…§ä¹‹å‰ä¼šè°ƒç”¨ä¸»åŠ¨é‡Šæ”¾å†…å­˜çš„ gc() å‡½æ•°ï¼ˆå¯åŠ¨æ—¶åŠ ä¸Š â€”expose-gc å‚æ•°å³å¯å¼€å¯ï¼‰ã€‚ 12345const heapdump =require('heapdump');const save =function(){ gc(); heapdump.writeSnapshot('./'+Date.now()+'.heapsnapshot');} åœ¨æ‰“å°çº¿ä¸Šçš„ä»£ç çš„æ—¶å€™ï¼Œå»ºè®®æŒ‰ç…§å†…å­˜å¢é•¿æƒ…å†µæ¥æ‰“å°å¿«ç…§ã€‚heapdump å¯ä»¥ä½¿ç”¨ kill å‘ç¨‹åºå‘é€ä¿¡å·æ¥æ‰“å°å†…å­˜å¿«ç…§ï¼ˆåªåœ¨ *nix ç³»ç»Ÿä¸Šæä¾›ï¼‰ã€‚ kill -USR2 &lt;pid&gt; æ¨èæ‰“å° 3 ä¸ªå†…å­˜å¿«ç…§ï¼Œä¸€ä¸ªæ˜¯å†…å­˜æ³„æ¼ä¹‹å‰çš„å†…å­˜å¿«ç…§ï¼Œä¸€ä¸ªæ˜¯å°‘é‡æµ‹è¯•ä»¥åçš„å†…å­˜å¿«ç…§ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯å¤šæ¬¡æµ‹è¯•ä»¥åçš„å†…å­˜å¿«ç…§ã€‚ç¬¬ä¸€ä¸ªå†…å­˜å¿«ç…§ä½œä¸ºå¯¹æ¯”ï¼Œæ¥æŸ¥çœ‹åœ¨æµ‹è¯•åæœ‰å“ªäº›å¯¹è±¡å¢é•¿ã€‚åœ¨å†…å­˜æ³„æ¼ä¸æ˜æ˜¾çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¸å¤§é‡æµ‹è¯•ä»¥åçš„å†…å­˜å¿«ç…§å¯¹æ¯”ï¼Œè¿™æ ·èƒ½æ›´å®¹æ˜“å®šä½ã€‚ å¯¹æ¯”å†…å­˜å¿«ç…§æ‰¾å‡ºæ³„æ¼ä½ç½®é€šè¿‡å†…å­˜å¿«ç…§æ‰¾åˆ°æ•°é‡ä¸æ–­å¢åŠ çš„å¯¹è±¡ï¼Œæ‰¾åˆ°å¢åŠ å¯¹è±¡æ˜¯è¢«è°ç»™å¼•ç”¨ï¼Œæ‰¾åˆ°é—®é¢˜ä»£ç ï¼Œæ”¹æ­£ä¹‹åå°±è¡Œï¼Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æ 1234567891011121314151617const{EventEmitter}=require('events');const heapdump =require('heapdump');global.test =newEventEmitter();heapdump.writeSnapshot('./'+Date.now()+'.heapsnapshot');function run3(){ const innerData =newBuffer(100); onst outClosure3 =function(){ void innerData; }; test.on('error',()=&gt;{ console.log('error'); }); outClosure3();}for(let i =0; i &lt;10; i++){ run3();}gc();heapdump.writeSnapshot('./'+Date.now()+'.heapsnapshot'); è¿™é‡Œæ˜¯å¯¹é”™è¯¯ä»£ç çš„æœ€å°é‡ç°ä»£ç ã€‚ é¦–å…ˆä½¿ç”¨ node â€”expose-gc index.js è¿è¡Œä»£ç ï¼Œå°†ä¼šå¾—åˆ°ä¸¤ä¸ªå†…å­˜å¿«ç…§ï¼Œä¹‹åæ‰“å¼€ devtoolï¼Œç‚¹å‡» profileï¼Œè½½å…¥å†…å­˜å¿«ç…§ã€‚æ‰“å¼€å¯¹æ¯”ï¼ŒDelta ä¼šæ˜¾ç¤ºå¯¹è±¡çš„å˜åŒ–æƒ…å†µï¼Œå¦‚æœå¯¹è±¡ Delta ä¸€ç›´å¢é•¿ï¼Œå°±å¾ˆæœ‰å¯èƒ½æ˜¯å†…å­˜æ³„æ¼äº†ã€‚ å…¶å®è¿™ä¸‰å¤„å¯¹è±¡å¢é•¿éƒ½æ˜¯ä¸€ä¸ªé—®é¢˜å¯¼è‡´çš„ã€‚test å¯¹è±¡ä¸­çš„ error ç›‘å¬äº‹ä»¶ä¸­é—­åŒ…å¼•ç”¨äº† innerData å¯¹è±¡ï¼Œå¯¼è‡´ buffer æ²¡æœ‰è¢«æ¸…é™¤ï¼Œä»è€Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚å…¶å®è¿™é‡Œçš„ error ç›‘å¬äº‹ä»¶ä¸­æ²¡æœ‰å¼•ç”¨ innerData ä¸ºä»€ä¹ˆä¼šé—­åŒ…å¼•ç”¨äº† innerData å¯¹è±¡ï¼Œè¿™ä¸ªé—®é¢˜å¾ˆæ˜¯ç–‘æƒ‘ï¼Œåæ¥å¼„æ¸…æ˜¯ V8 çš„ä¼˜åŒ–é—®é¢˜ï¼Œåœ¨æ–‡æœ«ä¼šé¢å¤–è®²è§£ä¸€ä¸‹ã€‚å¯¹äºå¯¹æ¯”å¿«ç…§æ‰¾åˆ°é—®é¢˜ï¼Œå¾—çœ‹ä½ å¯¹ä»£ç çš„ç†Ÿæ‚‰ç¨‹åº¦ï¼Œè¿˜æœ‰çœ¼åŠ›äº†ã€‚","link":"/posts/NodeJS%E4%B8%AD%E7%9A%84%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"},{"title":"Reactä¸­APIä½¿ç”¨çš„æ­£ç¡®å§¿åŠ¿","text":"æƒ°æ€§åˆå§‹åŒ–statedefaultValue å‚æ•°åªä¼šåœ¨ç»„ä»¶çš„åˆå§‹æ¸²æŸ“ä¸­èµ·ä½œâ½¤ï¼Œåç»­æ¸²æŸ“æ—¶ä¼šè¢«å¿½ç•¥ã€‚å¦‚æœåˆå§‹ state éœ€è¦é€šè¿‡å¤æ‚è®¡ç®—è·å¾—ï¼Œåˆ™å¯ä»¥ä¼ â¼Šâ¼€ä¸ªå‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­è®¡ç®—å¹¶è¿”å›åˆå§‹çš„ stateï¼Œæ­¤å‡½æ•°åªåœ¨åˆå§‹æ¸²æŸ“æ—¶è¢«è°ƒâ½¤ï¼š è¿™ç§å†™æ³•å¯ä»¥é¿å…å®šä¹‰å¤šä¸ªstateæ—¶ï¼Œæ¯æ¬¡æ¸²æŸ“éƒ½è¦æ‰§è¡Œåˆå§‹åŒ–æ“ä½œï¼Œè€Œç”¨æƒ°æ€§åˆå§‹åŒ–stateï¼Œå¯ä»¥è§£å†³é‡å¤åˆå§‹åŒ–çš„é—®é¢˜ã€‚ 12345678910111213141516171819202122232425// æ¯æ¬¡setInputValueå¼•èµ·çš„é‡æ–°æ¸²æŸ“è¿›â¼Šå‡½æ•°ç»„ä»¶å†…defaultValueéƒ½ä¼šè¢«å¿½ç•¥ã€‚const TestInput= (props) =&gt; { const defaultValue = props.value || 'è¯·è¾“â¼Š' const [inputValue,setInputValue] = useState(defaultValue) return ( &lt;div&gt; &lt;input value={inputValue} onChange={(e)=&gt;setInputValue(e.target.value)} /&gt; {in &lt;/div&gt; )}export default TestInput//ä½¿â½¤å‡½æ•°æ¥è§£å†³æ¯æ¬¡æ¸²æŸ“ state éœ€è¦é€šè¿‡å¤æ‚è®¡ç®—è·å¾—çš„é—®é¢˜const TestInput= (props) =&gt; { const [inputValue,setInputValue] = useState(()=&gt;{ return props.value || 'è¯·è¾“â¼Š' }) return ( &lt;div&gt; &lt;input value={inputValue} onChange={(e)=&gt;setInputValue(e.target.value)} /&gt; {in &lt;/div&gt; )}export default TestInput","link":"/posts/React%E4%B8%ADAPI%E4%BD%BF%E7%94%A8%E7%9A%84%E6%AD%A3%E7%A1%AE%E5%A7%BF%E5%8A%BF/"},{"title":"Reactæ¡ä»¶æ¸²æŸ“","text":"å‚è€ƒé“¾æ¥æ¨¡æ¿æ¡ä»¶æ¸²æŸ“åœ¨å¼€å‘ä¸­å¸¸ç”¨ï¼Œä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆæ–¹å¼ï¼Ÿæ€ä¹ˆå†™è¾ƒå¥½ï¼Ÿ å…ˆç½—åˆ—å¸¸è§æ–¹å¼: IF/ELSE12345678function render() { if (flag) { return &lt;Component1 /&gt;; } else { return &lt;div /&gt;; }} return nullä¸éœ€è¦è¿”å›å¯ä»¥è¿”å›null, ä»£æ›¿ç©ºdiv, æå‡æ•ˆç‡ 12345678function render() { if (flag) { return &lt;Component1 /&gt;; } else { return null; }} ç»„ä»¶å˜é‡å°†ç»„ä»¶èµ‹å€¼ç»™å˜é‡ï¼Œå¯ä»¥åœ¨returnå‰ä»»æ„ä¿®æ”¹ 12345678910function render() { let component = null; if (flag) { component = &lt;Component1 /&gt;; } return component;} ä¸‰å…ƒæ“ä½œç¬¦é€»è¾‘ä¸å¤æ‚å¯ä»¥é¿å…if else 123function render() { return flag ? &lt;Component1 /&gt; : null;} &amp;&amp;æœ€æ–¹ä¾¿!!! 1234function render() { return flag &amp;&amp; &lt;Component1 /&gt;;} IIFEç«‹å³æ‰§è¡Œå‡½æ•° 12345678910111213141516171819(function myFunction(/* arguments */) { // ...})(/* arguments */);&lt;!-- ï¼Ÿï¼Ÿï¼Ÿä»€ä¹ˆæƒ…å†µç”¨ï¼Ÿï¼Ÿï¼Ÿ --&gt;function render() { return ( &lt;div&gt; {(() =&gt; { if (flag) { return &lt;Component1 /&gt;; } else { return &lt;div /&gt;; } })()} &lt;/div&gt; );} å­ç»„ä»¶å°†ä¸€å¤§å—çš„é€»è¾‘æ‹†åˆ†æˆå­ç»„ä»¶ 12345678910111213141516function render() { return ( &lt;div&gt; &lt;SubRender /&gt; &lt;/div&gt; );}function SubRender() { if (flag) { return &lt;Component1 /&gt;; } else { return &lt;div /&gt;; }} IF ç»„ä»¶â€“ä»€ä¹ˆæ—¶å€™ç”¨åšä¸€ä¸ªæ¡ä»¶æ¸²æŸ“ç»„ä»¶ IF ä»£æ›¿ js å‡½æ•°çš„ ifï¼š 1234&lt;If condition={true}&gt; &lt;span&gt;Hi!&lt;/span&gt;&lt;/If&gt; è¿™ä¸ªç»„ä»¶å®ç°ä¹Ÿå¾ˆç®€å• 12345678const If = props =&gt; { const condition = props.condition || false; const positive = props.then || null; const negative = props.else || null; return condition ? positive : negative;}; é«˜é˜¶ç»„ä»¶è¿”å›ä¸€ä¸ªæ–°ç»„ä»¶çš„å‡½æ•°ï¼Œå¹¶ä¸”æ¥æ”¶ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°åœ¨é«˜é˜¶ç»„ä»¶é‡Œå†™æ¡ä»¶è¯­å¥ï¼Œè¿”å›ä¸åŒçš„ç»„ä»¶å³å¯ï¼š 12345678910function higherOrderComponent(Component) { return function EnhancedComponent(props) { if (flag) { return &lt;AnotherComponent {...props} /&gt;; } return &lt;Component {...props} /&gt;; };} ç†è§£è¦ä¸è¦å°è£…ï¼Œæ€ä¹ˆå°è£…ï¼Œå–å†³äºåº”ç”¨å¤æ‚åº¦ã€‚ å¯¹äºä»»ä½•ä»£ç å°è£…ï¼Œéƒ½ä¼šå¢åŠ è¿™æ®µä»£ç è¿æ¥é€»è¾‘çš„å¤æ‚åº¦ã€‚ å‡å®šæ— è®ºå¦‚ä½•ä»£ç çš„å¤æ‚åº¦éƒ½æ˜¯æ’å®šä¸å˜çš„ï¼Œä¸‹é¢è¿™æ®µä»£ç ï¼Œè¿æ¥å¤æ‚åº¦ä¸º0ï¼Œè€Œå¯¹äºrenderå‡½æ•°è€Œè¨€ï¼Œé€»è¾‘å¤æ‚åº¦æ˜¯100. 1234567function render() { if (flag) { return isOk ? &lt;Component1 /&gt; : &lt;Component2 /&gt;; } else { return &lt;div /&gt;; }} æ‹†åˆ†æˆä¸¤ä¸ªå‡½æ•°ï¼Œé€»è¾‘å¤æ‚åº¦å¯¹render, SubComponentæ¥è¯´éƒ½æ˜¯50ï¼Œä½†è¿æ¥å¤æ‚åº¦æ˜¯50: 1234567891011function render() { if (flag) { return &lt;SubComponent/&gt;; } else { return &lt;div/&gt;; }}function SubComponent() { return isOk ? &lt;Component1 /&gt; : &lt;Component2 /&gt;} å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡å‡½æ•°æ‹†åˆ†ï¼Œé™ä½äº†æ¯ä¸ªå‡½æ•°çš„é€»è¾‘å¤æ‚åº¦ï¼Œå´æé«˜äº†è¿æ¥å¤æ‚åº¦ã€‚ å‡è®¾ä¸€ä¸ªç¨‹åºå‘˜å¯ä»¥ä¸€æ¬¡æ€§è½»æ¾è®°å¿†10ä¸ªå‡½æ•°ã€‚å¦‚æœå†å¤šï¼Œå‡½æ•°ä¹‹é—´çš„è°ƒç”¨å…³ç³»ä¼šè®©äººå¤´å¤§ã€‚ åº”ç”¨è¾ƒå°æ—¶åº”ç”¨è¾ƒå°æ—¶ï¼Œå‡è®¾å…±æœ‰10ä¸ªå‡½æ•°ï¼Œå¦‚æœåšäº†é€»è¾‘æŠ½è±¡ï¼Œæ‹†åˆ†å‡ºäº†10ä¸ªå­å‡½æ•°ï¼Œé‚£ä¹ˆæ€»é€»è¾‘å¤æ‚åº¦ä¸å˜ï¼Œå‡½æ•°å˜æˆ20ä¸ªã€‚ æ­¤æ—¶ï¼Œè¦ä¿®æ”¹é¡¹ç›®ï¼Œéœ€è¦æ‰¾åˆ°å…³é”®ä»£ç çš„ä½ç½®ã€‚ å¦‚æœæ²¡æœ‰åšé€»è¾‘æŠ½è±¡ï¼Œ å°æ˜å¯ä»¥ä¸€ä¸‹è®°ä½10ä¸ªå‡½æ•°ï¼Œå¾ˆå¿«å®Œæˆéœ€æ±‚ã€‚ åšäº†é€»è¾‘æŠ½è±¡ï¼Œéœ€è¦ç†è§£çš„é€»è¾‘å¤æ‚åº¦æ˜¯ä¸å˜çš„ã€‚ä½†è¦è¯»20ä¸ªå‡½æ•°ï¼Œå°æ˜éœ€è¦åœ¨çº¿ç´¢ä¸­ä¸æ–­è·³è½¬ï¼Œè¿˜æ˜¯åªæ‰¾äº†10ä¸ªå…³é”®å‡½æ•°ï¼Œä½†ä¸€å…±å°±20ä¸ªå‡½æ•°ï¼Œé€»è¾‘å¹¶ä¸å¤æ‚ï¼Œè¿™å€¼å¾—å—ï¼Ÿ è¿™æ—¶ï¼Œä¼šè§‰å¾—ï¼Œç®€å•çš„é€»è¾‘ï¼Œå´èŠ±äº†è¾ƒé•¿çš„æ—¶é—´æ‰¾ä»£ç ã€‚ åº”ç”¨è¾ƒå¤§æ—¶åº”ç”¨è¾ƒå¤§æ—¶ï¼Œå‡è®¾æœ‰500ä¸ªå‡½æ•°ï¼Œä¸è€ƒè™‘æŠ½è±¡åå¸¦æ¥çš„å¤ç”¨å¥½å¤„ï¼Œå‡è®¾éƒ½æ— æ³•å¤ç”¨ï¼Œé‚£ä¹ˆåšé€»è¾‘æŠ½è±¡åï¼Œæ€»é€»è¾‘å¤æ‚åº¦ä¸å˜ï¼Œå‡½æ•°å˜æˆäº†1000ä¸ªã€‚ å°æ˜æ¥åˆ°éœ€æ±‚å¼€å§‹ç»´æŠ¤é¡¹ç›®ã€‚ä»ä¸€å¼€å§‹æ²¡èƒ½ç†è§£é¡¹ç›®çš„å…¨è²Œï¼Œæ‰€ä»¥å¼€å§‹ä¸€æ­¥æ­¥æ¢ç´¢ã€‚ ç°åœ¨æœ‰ä¸¤ç§é€‰æ‹©ï¼šä¸€æ˜¯åœ¨æœªåšé€»è¾‘æŠ½è±¡æ—¶çš„æ¢ç´¢ï¼Œä¸€æ˜¯åœ¨åšè¿‡é€»è¾‘æŠ½è±¡åçš„æ¢ç´¢ã€‚ å‡è®¾æ²¡æœ‰åšé€»è¾‘æŠ½è±¡ï¼Œå°æ˜éœ€é¢å¯¹500ä¸ªè¿™ç§å‡½æ•°ï¼š 1234567function render() { if (renderComponent) { return isOk ? &lt;Component1 /&gt; : &lt;Component2 /&gt;; } else { return isReady ? &lt;Component3 /&gt; : &lt;Component4 /&gt;; }} å¦‚æœåšäº†é€»è¾‘æŠ½è±¡ï¼Œéœ€é¢å¯¹1000ä¸ªè¿™ç§å‡½æ•° 1234567function render() { if (renderComponent) { return &lt;Component1And2 /&gt;; } else { return &lt;Component3And4 /&gt;; }} é¡¹ç›®åºå¤§åï¼Œæ€»å‡½æ•°æ•°é‡å¹¶ä¸ä¼šå½±å“å¯¹çº¿ç´¢çš„æŸ¥æ‰¾ï¼Œè€Œæ€»çº¿ç´¢æ·±åº¦ä¹Ÿå‡ ä¹æ€»æ˜¯å›ºå®šçš„ï¼Œä¸€èˆ¬åœ¨5å±‚å·¦å³ã€‚ å°æ˜ç†è§£5ä¸ªæˆ–10ä¸ªå‡½æ•°æˆæœ¬å·®ä¸å¤šï¼Œä½†æ²¡æœ‰åšé€»è¾‘æŠ½è±¡æ—¶ï¼Œè¿™5ä¸ªå‡½æ•°å„è‡ªæºæ‚äº†å…¶ä»–é€»è¾‘ï¼Œè¿™5ä¸ªå‡½æ•°å„è‡ªæºæ‚äº†å…¶ä»–é€»è¾‘ï¼Œåè€Œå½±å“å¯¹å‡½æ•°çš„ç†è§£ã€‚ è¿™æ—¶åšé€»è¾‘æŠ½è±¡æ˜¯åˆé€‚çš„ã€‚ æ€»ç»“æ€»çš„æ¥è¯´ï¼Œæ¨èä½¿ç”¨å­å‡½æ•°ï¼Œå­ç»„ä»¶ï¼ŒIFç»„ä»¶ï¼Œé«˜é˜¶ç»„ä»¶åšæ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºè¿™å››ç§æ–¹å¼éƒ½èƒ½æé«˜ç¨‹åºçš„æŠ½è±¡èƒ½åŠ›ã€‚ å¾€å¾€æŠ½è±¡åçš„ä»£ç ä¼šæ›´å…·æœ‰å¤ç”¨æ€§ï¼Œå•ä¸ªå‡½æ•°é€»è¾‘æ›´æ¸…æ™°ï¼Œåœ¨åˆ‡é¢ç¼–ç¨‹æ—¶æ›´åˆ©äºç†è§£ã€‚ å½“é¡¹ç›®å¾ˆç®€å•æ—¶ï¼Œæ•´ä¸ªé¡¹ç›®çš„ç†è§£æˆæœ¬éƒ½å¾ˆä½ï¼ŒæŠ½è±¡å¸¦æ¥çš„å¤æ‚åº¦åè€Œè®©é¡¹ç›®å˜æˆäº†éœ€è¦åˆ‡é¢ç¼–ç¨‹æ—¶å°±å¾—ä¸å¿å¤±äº†ã€‚ æ€»ç»“ï¼š å½“é¡¹ç›®å¾ˆç®€å•ï¼Œæˆ–æ¡ä»¶æ¸²æŸ“çš„é€»è¾‘ç¡®è®¤æ— æ³•å¤ç”¨æ—¶ï¼Œæ¨èåœ¨ä»£ç ä¸­ç”¨ &amp;&amp; æˆ–ä¸‰å…ƒè¿ç®—ç¬¦ã€IIFEç­‰ç›´æ¥å®ç°æ¡ä»¶æ¸²æŸ“ã€‚ å½“é¡¹ç›®å¤æ‚æ—¶ï¼Œå°½é‡ä½¿ç”¨å­å‡½æ•°ï¼Œå­ç»„ä»¶ï¼ŒIFç»„ä»¶ï¼Œé«˜é˜¶ç»„ä»¶ç­‰æ–¹å¼åšæ›´æœ‰æŠ½è±¡åº¦çš„æ¡ä»¶æ¸²æŸ“ã€‚ åœ¨åšé€»è¾‘æŠ½è±¡æ—¶ï¼Œè€ƒè™‘ä¸‹é¡¹ç›®çš„å¤æ‚åº¦, é¿å…å› ä¸ºæŠ½è±¡å¸¦æ¥çš„æˆæœ¬å¢åŠ ï¼Œè®©æœ¬å¯ä»¥æ•´ä½“ç†è§£çš„é¡¹ç›®å˜å¾—æ”¯ç¦»ç ´ç¢ã€‚","link":"/posts/React%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93/"},{"title":"Rediså®æˆ˜è¯»ä¹¦ç¬”è®°","text":"ç›¸å…³æ–‡æ¡£ rediså®˜ç½‘ redisä¸­æ–‡ä¸‹è½½å®‰è£… redisä¸­æ–‡æ–‡æ¡£ å½“ä½ éœ€è¦ä»¥æ¥è¿‘å®æ—¶çš„é€Ÿåº¦è®¿é—®å¿«é€Ÿå˜åŠ¨çš„æ•°æ®æµæ—¶ï¼ŒRedisè¿™æ ·çš„é”®å€¼æ•°æ®åº“å°±æ˜¯ä½ çš„æœ€ä½³é€‰æ‹©ã€‚ å®‰è£…ä¸‹è½½ã€è§£å‹ã€ç¼–è¯‘Redis 1234wget http://download.redis.io/releases/redis-5.0.2.tar.gztar xzf redis-5.0.2.tar.gzcd redis-5.0.2make æç¤ºé”™è¯¯ 1xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun è§£å†³, è¾“å…¥ä»¥ä¸‹å‘½ä»¤: 1xcode-select --install å›è½¦åï¼Œç³»ç»Ÿå¼¹å‡ºä¸‹è½½xcodeï¼Œç‚¹å‡»ç¡®è®¤ï¼Œä¸‹è½½å®Œæˆåå³å¯ã€‚ï¼ˆå®é™…ä¸Šä¸æ˜¯ä¸‹è½½xcodeï¼Œå¯èƒ½ä¸‹è½½xcodeæœ‰å…³æ’ä»¶ï¼Œä¸‹è½½æ—¶é•¿çº¦1åˆ†é’Ÿï¼‰ åœ¨è¿™é‡Œå‘ç”Ÿä¸ªæœ‰è¶£çš„ç°è±¡ï¼Œç›´æ¥æ‹·è´åˆ°ç»ˆç«¯é‡Œæ‰§è¡Œä¼šæŠ¥é”™æ— æ³•è¯†åˆ«å‚æ•°ï¼Œæ‰‹åŠ¨æ•²äº†ä¸€éå¯ä»¥æ‰§è¡ŒğŸ˜¶ğŸ˜³ğŸ˜³ å¯åŠ¨åœ¨rediså®‰è£…ç›®å½•ä¸‹ï¼Œè¿›å…¥srcï¼Œæ‰§è¡Œ./redis-serverå¯ä»¥çœ‹åˆ°å¯åŠ¨ç”»é¢ å¦å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œåœ¨åŒæ ·ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ./redis-cli, è¿æ¥æˆåŠŸã€‚ å®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤ å‘½ä»¤ ç‰ˆæœ¬ set key value è®¾ç½® key çš„å€¼ get key è·å– key çš„å€¼ exists key æŸ¥çœ‹æ­¤ key æ˜¯å¦å­˜åœ¨ del key åˆ é™¤å­˜å‚¨åœ¨ç»™å®šé”®ä¸­çš„å€¼ keys * æŸ¥çœ‹æ‰€æœ‰çš„ key flushall æ¶ˆé™¤æ‰€æœ‰çš„ key Redisä¸å…¶ä»–è½¯ä»¶çš„ç›¸åŒä¸ä¸åŒ Redisæ˜¯ä¸€ä¸ªè¿œç¨‹å†…å­˜æ•°æ®åº“ï¼Œå…·æœ‰å¤åˆ¶ç‰¹æ€§åŠæœªè§£å†³é—®é¢˜è€Œå‡é«˜çš„ç‹¬ä¸€æ— äºŒçš„æ•°æ®æ¨¡å‹ã€‚ Redisæä¾›äº†5ç§ä¸åŒç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå„ç§é—®é¢˜éƒ½å¯æ˜ å°„åˆ°è¿™äº›æ•°æ®ç»“æ„ã€‚ redisç®€ä»‹redisæ˜¯ä»€ä¹ˆRedis æ˜¯ä¸€ä¸ªé€Ÿåº¦éå¸¸å¿«çš„éå…³ç³»æ•°æ®åº“(non-relational database), å¯ä»¥å­˜å‚¨é”®(key)ä¸5ç§ä¸åŒç±»å‹çš„å€¼ä¹‹é—´çš„æ˜ å°„(mapping), å¯ä»¥å°†å­˜å‚¨åœ¨å†…å­˜çš„é”®å€¼å¯¹æ•°æ®æŒä¹…åŒ–åˆ°ç¡¬ç›˜ï¼Œè¿˜å¯ä»¥é€šè¿‡å¤åˆ¶ï¼ŒæŒä¹…åŒ–å’Œå®¢æˆ·ç«¯åˆ†ç‰‡ç­‰ç‰¹æ€§ï¼Œå¯ä»¥å°†redisæ‰©å±•æˆä¸€ä¸ªèƒ½å¤ŸåŒ…å«æ•°ç™¾GBæ•°æ®ã€æ¯ç§’å¤„ç†ä¸Šç™¾ä¸‡è¯·æ±‚çš„ç³»ç»Ÿã€‚ redisèƒ½åšä»€ä¹ˆredisæ•°æ®ç»“æ„5ç§ç»“æ„|ç»“æ„ç±»å‹|å­˜å‚¨çš„å€¼|è¯»å†™èƒ½åŠ›||â€”â€”-|â€”â€”-|â€”â€”||string(å­—ç¬¦ä¸²)|å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•´æ•°æˆ–æµ®ç‚¹æ•°|å¯¹æ•´ä¸ªå­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦ä¸²çš„å…¶ä¸­ä¸€éƒ¨åˆ†æ‰§è¡Œæ“ä½œï¼›å¯¹æ•´æ•°å’Œæµ®ç‚¹æ•°æ‰§è¡Œè‡ªå¢æˆ–è‡ªå‡æ“ä½œ||list(åˆ—è¡¨) |ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²|ä»é“¾è¡¨ä¸¤ç«¯æ¨å…¥æˆ–å¼¹å‡ºå…ƒç´ ï¼›æ ¹æ®åç§»é‡å¯¹é“¾è¡¨è¿›è¡Œtrim;è¯»å–å•ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼›æ ¹æ®å€¼æŸ¥æ‰¾æˆ–ç§»é™¤å…ƒç´ ||set(é›†åˆ) |åŒ…å«å­—ç¬¦ä¸²çš„æ— åºæ”¶é›†å™¨(unordered collection), å¹¶ä¸”è¢«åŒ…å«çš„æ¯ä¸ªå­—ç¬¦ä¸²éƒ½æ˜¯ç‹¬ä¸€æ— äºŒã€å„ä¸ç›¸åŒçš„|æ·»åŠ ã€è·å–ã€ç§»é™¤å•ä¸ªå…ƒç´ ï¼›æ£€æŸ¥ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨ï¼›è®¡ç®—äº¤é›†ï¼Œå¹¶é›†ï¼Œå·®é›†ï¼›ä»é›†åˆé‡Œéšæœºè·å–å…ƒç´ ||hash(æ•£åˆ—) |åŒ…å«é”®å€¼å¯¹çš„æ— åºæ•£åˆ—è¡¨|æ·»åŠ ã€è·å–ç§»é™¤å•ä¸ªé”®å€¼å¯¹ï¼›è·å–æ‰€æœ‰é”®å€¼å¯¹||zset(æœ‰åºé›†åˆ)|å­—ç¬¦ä¸²æˆå‘˜(member)ä¸æµ®ç‚¹æ•°åˆ†å€¼(score)ä¹‹é—´çš„æœ‰åºæ˜ å°„ï¼Œå…ƒç´ çš„æ’åˆ—ä¹¦åºæœ‰åˆ†å€¼å¤§å°å†³å®š|æ·»åŠ ã€è·å–ã€ç§»é™¤å•ä¸ªå…ƒç´ ï¼›æ ¹æ®åˆ†å€¼èŒƒå›´(range)æˆ–æˆå‘˜æ¥è·å–å…ƒç´ | stringå½¢å¦‚: hello: world set, get, del ä½¿ç”¨ç¤ºä¾‹ 1234set hello worldget hellodel helloget hello å‘½ä»¤è¿”å›1è¡¨ç¤ºæˆåŠŸæ‰§è¡Œï¼Œ 0è¡¨ç¤ºæ‰§è¡Œå¤±è´¥ list åˆ—è¡¨ä¸€ä¸ªåˆ—è¡¨ç»“æ„å¯ä»¥æœ‰åºçš„å­˜å‚¨å¤šä¸ªå­—ç¬¦ä¸²ï¼Œåˆ—è¡¨å¯ä»¥åŒ…å«ç›¸åŒçš„å…ƒç´ å½¢å¦‚: list-key: [item, item2, item] åˆ—è¡¨å‘½ä»¤|å‘½ä»¤|è¡Œä¸º||â€”|â€”-||lpush |å°†å…ƒç´ æ¨å…¥åˆ—è¡¨å·¦ç«¯(left end)||rpush | â€¦å³ç«¯(right end)||lpop |ä»åˆ—è¡¨å·¦ç«¯å¼¹å‡ºå…ƒç´ ||rpop |ä»å³ç«¯å¼¹å‡ºå…ƒç´  ||lrange key start stop |è·å–åˆ—è¡¨ç»™å®šèŒƒå›´æ‰€æœ‰å€¼, æ”¯æŒè´Ÿç´¢å¼•, -1è¡¨ç¤ºæœ€å³è¾¹ç¬¬ä¸€ä¸ªå…ƒç´ ||llen key| è·å–åˆ—è¡¨ä¸­å…ƒç´ çš„ä¸ªæ•°,æ—¶é—´å¤æ‚åº¦ä¸ºO(1)||lrem key count value| åˆ é™¤åˆ—è¡¨ä¸­å‰countä¸ªå€¼ä¸ºvalueçš„å…ƒç´ ,è¿”å›å€¼æ˜¯å®é™…åˆ é™¤çš„ä¸ªæ•°||lindex |è·å–åˆ—è¡¨åœ¨ç»™å®šä½ç½®çš„å•ä¸ªå…ƒç´ ||lset key index value| å°†ç´¢å¼•ä¸ºindexçš„å…ƒç´ èµ‹å€¼ä¸ºvalue||ltrim key start end| åˆ é™¤æŒ‡å®šç´¢å¼•èŒƒå›´ä¹‹å¤–çš„æ‰€æœ‰å…ƒç´ ||linsert key BEFORE|AFTER pivot value| ä»å·¦å¾€å³æŸ¥æ‰¾å€¼ä¸ºpivotçš„å…ƒç´ ï¼Œæ ¹æ®ç¬¬äºŒä¸ªå‚æ•°æ˜¯beforeè¿˜æ˜¯afteræ¥å†³å®šå°†valueæ’å…¥åˆ°è¯¥å…ƒç´ å‰é¢è¿˜æ˜¯åé¢||rpoplpush source destination| å°†å…ƒç´ ä»ä¸€ä¸ªåˆ—è¡¨è½¬åˆ°å¦ä¸€ä¸ªåˆ—è¡¨| è¯´æ˜: count &gt; 0, lremä»åˆ—è¡¨å·¦è¾¹å¼€å§‹åˆ é™¤å‰countä¸ªå€¼ä¸ºvalueçš„å…ƒç´ count &lt; 0, lremä»åˆ—è¡¨å³è¾¹å¼€å§‹åˆ é™¤å‰countä¸ªå€¼ä¸ºvalueçš„å…ƒç´ count = 0, lremåˆ é™¤æ‰€æœ‰å€¼ä¸ºvalueçš„å…ƒç´ ltrimå’Œlpushä¸€èµ·ä½¿ç”¨æ¥é™åˆ¶åˆ—è¡¨ä¸­å…ƒç´ çš„æ•°é‡ï¼Œæ¯”å¦‚è®°å½•æ—¥å¿—åªä¿ç•™æœ€è¿‘100æ¡ï¼Œæ¯æ¬¡åŠ å…¥å…ƒç´ æ—¶è°ƒç”¨ä¸€æ¬¡ltrim 12lpush logs $newLogsltrim logs 0 99 12345678910111213141516171819lpush numbers 1# æ”¯æŒåŒæ—¶å¢åŠ å¤šä¸ªå…ƒç´ lpush numbers 2 3# æ­¤æ—¶æ•°æ®ä¸º[3, 2, 1]rpush numbers 0 -1# æ­¤æ—¶æ•°æ®ä¸º[3, 2, 1, 0, -1]lpop numbers # 3rpop numbers # -1llen numbers # 3lrange numbers 0 -1 # è·å–æ‰€æœ‰å…ƒç´ lremlindex list-key 1 æƒ³æŠŠåˆ—è¡¨å½“æ ˆä½¿ç”¨, ç”¨ lpush å’Œ lpop æˆ– rpushå’Œ rpopæƒ³å½“é˜Ÿåˆ—ä½¿ç”¨, ç”¨ lpush å’Œ rpop æˆ– rpush å’Œ lpop set é›†åˆé›†åˆé€šè¿‡æ•£åˆ—è¡¨ä¿è¯è‡ªå·±å­˜å‚¨çš„æ¯ä¸ªå­—ç¬¦ä¸²æ˜¯å„ä¸ç›¸åŒçš„(è¿™äº›æ•£åˆ—è¡¨åªæœ‰é”®ï¼Œæ²¡æœ‰ä¸é”®ç›¸å…³è”çš„å€¼) é›†åˆä¸åˆ—è¡¨å¯¹æ¯”|å¯¹æ¯”é¡¹|é›†åˆ|æ•£åˆ—||â€“|â€”-|â€”||å­˜å‚¨å†…å®¹|è‡³å¤š2(32)-1ä¸ªå­—ç¬¦ä¸²|è‡³å¤š2(32)-1ä¸ªå­—ç¬¦ä¸²||æœ‰åºæ€§|å¦|æ˜¯||å”¯ä¸€æ€§|æ˜¯|å¦| é›†åˆä½¿ç”¨æ— åº(unordered)æ–¹å¼å­˜å‚¨å…ƒç´ .å½¢å¦‚: setkey: [item, item2, item3] é›†åˆç±»å‹åœ¨Rediså†…éƒ¨æ˜¯ä½¿ç”¨å€¼ä¸ºç©ºçš„æ•£åˆ—è¡¨(hash table)å®ç°çš„ å¸¸ç”¨æ“ä½œæ˜¯åŠ å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œåˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨ç­‰ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1) å¤šä¸ªé›†åˆç±»å‹é”®ä¹‹é—´è¿˜å¯ä»¥è¿›è¡Œå¹¶é›†ï¼Œäº¤é›†å’Œå·®é›†è¿ç®— é›†åˆå‘½ä»¤|å‘½ä»¤|è¡Œä¸º||â€”|â€”-||sadd |å°†ç»™å®šå…ƒç´ æ·»åŠ åˆ°é›†åˆ||smembers |è¿”å›é›†åˆæ‰€æœ‰å…ƒç´ (æ…¢ï¼Œæ…ç”¨)||sismember |æ£€æŸ¥ç»™å®šå…ƒç´ æ˜¯å¦å­˜åœ¨||srem |å¦‚æœç»™å®šå…ƒç´ å­˜åœ¨ï¼Œç§»é™¤| 12345678910sadd setkey itemsadd setkey item2sadd setkey item3sadd setkey item // å¤±è´¥smembers setkeysismember setkey item4sismember setkey itemsrem setkey item2srem setkey item2 hash æ•£åˆ—æ•£åˆ—å¯ä»¥å­˜å‚¨å¤šä¸ªé”®å€¼å¯¹ä¹‹é—´çš„æ˜ å°„ï¼Œå’Œå­—ç¬¦ä¸²ä¸€æ ·ï¼Œæ—¢å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ•°å­—å€¼ï¼Œå¹¶ä¸”å¯ä»¥å¯¹æ•£åˆ—å­˜å‚¨çš„æ•°å­—å€¼æ‰§è¡Œè‡ªå¢è‡ªå‡æ“ä½œã€‚ æ•£åˆ—å¾ˆå¤šå½“é¢åƒä¸€ä¸ªå¾®ç¼©ç‰ˆçš„redisï¼Œä¸å°‘å­—ç¬¦ä¸²å‘½ä»¤éƒ½æœ‰ç›¸åº”çš„æ•£åˆ—ç‰ˆæœ¬ã€‚ å½¢å¦‚ï¼šhashset: [{subkey1: value1},{subkey2: value2},{subkey3: value3},] æ•£åˆ—å‘½ä»¤|å‘½ä»¤| è¡Œä¸º||â€”|â€”â€”||hset |åœ¨æ•£åˆ—é‡Œå…³è”ç»™å®šçš„é”®å€¼å¯¹||hget |è·å–ç»™å®šæ•£åˆ—é”®çš„å€¼||hgetall|è·å–æ•£åˆ—æ‰€æœ‰é”®å€¼å¯¹||hdel |å¦‚æœé”®å­˜åœ¨ï¼Œç§»é™¤| 12345678hset hashkey subkey1 value1hset hashkey subkey2 value2hset hashkey subkey3 value3hgetall hashkeyhdel hashkey subkey2hdel hashkey subkey2hdel hashkey subkey1hgetall hashkey zset æœ‰åºé›†åˆæœ‰åºé›†åˆå’Œæ•£åˆ—ä¸€æ ·ï¼Œéƒ½ç”¨äºå­˜å‚¨é”®å€¼å¯¹ï¼Œæœ‰åºé›†åˆçš„é”®å€¼è¢«ç§°ä¸ºæˆå‘˜(member)ï¼Œæ¯ä¸ªæˆå‘˜éƒ½æ˜¯å„ä¸ç›¸åŒçš„ï¼›è€Œæœ‰åºé›†åˆçš„å€¼è¢«ç§°ä¸ºåˆ†å€¼(score)ï¼Œåˆ†å€¼å¿…é¡»ä¸ºæµ®ç‚¹æ•°ã€‚æœ‰åºé›†åˆæ˜¯Redisé‡Œå”¯ä¸€ä¸€ä¸ªæ—¢å¯ä»¥æ ¹æ®æˆå‘˜è®¿é—®å…ƒç´ ï¼Œåˆå¯ä»¥æ ¹æ®åˆ†å€¼åŠåˆ†å€¼çš„æ’åºé¡ºåºæ¥è®¿é—®å…ƒç´ çš„ç»“æ„ æœ‰åºé›†åˆå’Œåˆ—è¡¨ç±»å‹åŒºåˆ« ç›¸åŒç‚¹: éƒ½æ˜¯æœ‰åºçš„ éƒ½å¯ä»¥è·å¾—æŸä¸€èŒƒå›´çš„å…ƒç´  ä¸åŒç‚¹: åˆ—è¡¨é€šè¿‡é“¾è¡¨å®ç°ï¼Œè·å–é è¿‘ä¸¤ç«¯çš„æ•°æ®é€Ÿåº¦æå¿«ï¼Œå½“å…ƒç´ å¢å¤šï¼Œè®¿é—®ä¼šå˜æ…¢ï¼Œæ‰€ä»¥æ›´é€‚åˆå®ç°å¦‚â€™æ–°é²œäº‹â€™æˆ–â€™æ—¥å¿—â€™è¿™æ ·å¾ˆå°‘è®¿é—®ä¸­é—´å…ƒç´ çš„åº”ç”¨ æœ‰åºé›†åˆç±»å‹æ˜¯ä½¿ç”¨æ•£åˆ—è¡¨å’Œè·³è·ƒè¡¨(Skip list)å®ç°çš„ï¼ŒåŠæ—¶è¯»å–ä¸­é—´éƒ¨åˆ†çš„æ•°æ®é€Ÿåº¦ä¹Ÿå¾ˆå¿«(æ—¶é—´å¤æ‚åº¦O(log(N))) åˆ—è¡¨ä¸­ä¸èƒ½ç®€å•çš„è°ƒæ•´æŸä¸ªå…ƒç´ çš„ä½ç½®ï¼Œä½†æœ‰åºé›†åˆå¯ä»¥(é€šè¿‡æ›´æ”¹è¿™ä¸ªå…ƒç´ çš„åˆ†æ•°) æœ‰åºé›†åˆæ¯”åˆ—è¡¨ç±»å‹æ›´è€—å†…å­˜ æœ‰åºé›†åˆå‘½ä»¤ å‘½ä»¤ è¡Œä¸º zadd å°†å¸¦æœ‰ç»™å®šåˆ†å€¼çš„æˆå‘˜æ·»åŠ åˆ°æœ‰åºé›†åˆé‡Œ zrange æ ¹æ®å…ƒç´ åœ¨æœ‰åºæ’åˆ—ä¸­æ‰€å¤„çš„ä½ç½®ï¼Œä»æœ‰åºé›†åˆæè·å–å¤šå°‘ä¸ªå…ƒç´  zrangebyscore è·å–æœ‰åºé›†åˆåœ¨ç»™å®šåˆ†å€¼èŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´  zrem å¦‚æœç»™å®šæˆå‘˜å­˜åœ¨ï¼Œç§»é™¤ 1234567891011zadd zsetkey 728 member1zadd zsetkey 928 member0zadd zsetkey 928 member0zrange zsetkey 0 -1 withscoreszrangebyscore zsetkey 0 800 withscoreszrem zsetkey member1zrem zsetkey member1zrange zsetkey 0 -1 withscores","link":"/posts/Redis%E5%AE%9E%E6%88%98%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"title":"VSCode","text":"æ’ä»¶åˆ—è¡¨ ä¸»å‘½ä»¤æ¡†Command+Shift+P: æ‰“å¼€å‘½ä»¤é¢æ¿ã€‚åœ¨æ‰“å¼€çš„è¾“å…¥æ¡†å†…ï¼Œå¯ä»¥è¾“å…¥ä»»ä½•å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š æŒ‰ä¸€ä¸‹Backspaceä¼šè¿›å…¥åˆ°Command+Pæ¨¡å¼ åœ¨Command+Pä¸‹è¾“å…¥&gt;å¯ä»¥è¿›å…¥Command+Shift+Pæ¨¡å¼ åœ¨Command+Pçª—å£ä¸‹è¿˜å¯ä»¥: â—‹ æ–‡ä»¶å è·³è½¬åˆ°å¯¹åº”æ–‡ä»¶ â—‹ ? åˆ—å‡ºå½“å‰å¯æ‰§è¡Œçš„åŠ¨ä½œ â—‹ ! æ˜¾ç¤º Errorsæˆ– Warningsï¼Œä¹Ÿå¯ä»¥Command+Shift+M â—‹ : è·³è½¬åˆ°è¡Œæ•°ï¼Œä¹Ÿå¯ä»¥Command+Gç›´æ¥è¿›å…¥ â—‹ @ è·³è½¬åˆ° symbolï¼ˆæœç´¢å˜é‡æˆ–è€…å‡½æ•°ï¼‰ï¼Œä¹Ÿå¯ä»¥Command+Shift+Oç›´æ¥è¿›å…¥ â—‹ @ æ ¹æ®åˆ†ç±»è·³è½¬ symbolï¼ŒæŸ¥æ‰¾å±æ€§æˆ–å‡½æ•°ï¼Œä¹Ÿå¯ä»¥Command+Shift+Oåè¾“å…¥:è¿›å…¥ â—‹ # æ ¹æ®åå­—æŸ¥æ‰¾ symbolï¼Œä¹Ÿå¯ä»¥ Command+T 2.2ã€å¸¸ç”¨å¿«æ·é”®2.2.1ã€ç¼–è¾‘å™¨ä¸ç»ˆç«¯çª—å£ç®¡ç†åŒæ—¶æ‰“å¼€å¤šä¸ªVscodeï¼ˆæŸ¥çœ‹å¤šä¸ªé¡¹ç›®ï¼‰ Command+Shift+N æ‰“å¼€ä¸€ä¸ªæ–°çª—å£Command+Shift+W å…³é—­çª—å£ åŒæ—¶æ‰“å¼€å¤šä¸ªç¼–è¾‘å™¨ï¼ˆæŸ¥çœ‹å¤šä¸ªæ–‡ä»¶ï¼‰Command+N æ–°å»ºæ–‡ä»¶Ctrl+Tab æ–‡ä»¶ä¹‹é—´åˆ‡æ¢Command+\\ åˆ†å‰²å‡ºä¸€ä¸ªæ–°çš„ç¼–è¾‘å™¨Command+1ã€Command+2ã€Command+3å·¦ä¸­å³ 3 ä¸ªç¼–è¾‘å™¨çš„å¿«æ·é”®Editorä¹‹é—´çš„äº’ç›¸åˆ‡æ¢ï¼š Shift + Command + [(]) 2.2.2ã€å·¥ä½œåŒºçš„å¿«æ·é”®å·¥ä½œåŒºçš„æ˜¾ç¤ºå’Œéšè—ï¼š Command + Bå·¥ä½œåŒºå’Œç¼–è¾‘åŒºçš„åˆ‡æ¢ï¼š Command + shift + Eå·¥ä½œåŒºæ–‡ä»¶èµ„æºç®¡ç†å™¨çš„æ–‡ä»¶é€‰æ‹©ï¼šH/J/K/Lä»£è¡¨æ–‡ä»¶å¤¹æŠ˜å (å¦‚æœä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†ä¼šè·³åˆ°è¿™ä¸ªæ–‡ä»¶æ‰€å±çš„æ–‡ä»¶å¤¹ä¸Šï¼Œä»¥ä¾¿å¯ä»¥åé¢æŠ˜å æ•´ä¸ªæ–‡ä»¶å¤¹)ã€èšç„¦ä¸‹ä¸€ä¸ªæ–‡ä»¶ã€èšç„¦ä¸Šä¸€ä¸ªæ–‡ä»¶ã€æ–‡ä»¶å¤¹å±•å¼€(å¦‚æœä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†ä¼šåœ¨ç¼–è¾‘åŒºæ‰“å¼€è¿™ä¸ªæ–‡ä»¶)æ‰“å¼€æ–‡ä»¶ä¹‹åéœ€è¦å›ºå®šåœ¨å¼€å¯çŠ¶æ€ä¸‹ï¼šCommand + K + Enteræ‰“å¼€è°ƒè¯•é¢æ¿ï¼šCommand + Shift + D 2.2.3ã€ç»ˆç«¯åŒºçš„å¿«æ·é”®`Ctrl + ``æ‰“å¼€ç»ˆç«¯ ä¸»é¢˜ï¼šwinter is comingDracula ä¸»é¢˜espresso ä¸»é¢˜ è¿™ä¸ªæ˜¯å·¦ä¾§é»‘è‰²ï¼Œç¼–è¾‘åŒºç™½è‰²çš„~~monokai lightsunrisewoolentheme-bluloco-darktheme-bluloco-lightgithub éå¸¸ç»™åŠ› å¿«æ·é”®ï¼š ctrl + p å¿«é€Ÿæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ctrl + G è·³è½¬åˆ°æŒ‡å®šè¡Œctrl + F åœ¨å½“å‰æ–‡ä»¶ä¸­æœç´¢ctrl + shift + k åˆ é™¤å½“å‰è¡Œ home è·³è½¬åˆ°è¡Œçš„å¼€å§‹end è·³è½¬åˆ°è¡Œçš„ç»“å°¾ ctrl + home è·³è½¬åˆ°æ–‡ä»¶çš„å¼€å§‹ctrl + end è·³è½¬åˆ°æ–‡ä»¶çš„ç»“å°¾ ctrl + shift + [ æŠ˜å ä¸€ä¸ªä»£ç å—ctrl + shift + ] å±•å¼€ä¸€ä¸ªä»£ç å— f3/shift + f3 å‘ç°ä¸‹ä¸€å¤„/å‘ç°ä¸Šä¸€å¤„ctrl + D å¯ä»¥æ‰¹é‡é€‰ä¸­åŒä¸€ä¸ªå…ƒç´ ï¼Œç„¶åè¿›è¡Œå˜é‡æˆ–æ–¹æ³•åçš„é‡å‘½åctrl + shift + o åœ¨å½“å‰æ–‡ä»¶æŸ¥æ‰¾ä¸€ä¸ªæ–¹æ³• alt + shift + f æ ¼å¼åŒ–ä»£ç  F12 è·³è½¬åˆ°å®šä¹‰å¤„ ctrl + i é€‰ä¸­å½“å‰è¡Œ å¦å¤–ï¼Œé€šè¿‡è·¯å¾„ File -&gt; Preferences -&gt; Keyboard Shortcutsä¸­çš„é“¾æ¥ï¼Œå¯ä»¥æ‰“å¼€keybindings.jsonæ–‡ä»¶ï¼Œå®šä¹‰è‡ªå·±çš„å¿«æ·é”® ä¾‹å¦‚ï¼šå®šä¹‰æŠŠæ‰€æœ‰å­—ç¬¦è½¬åŒ–ä¸ºå¤§å†™/å°å†™ï¼Œä¿®æ”¹æ–‡ä»¶keybindings.jsonæ–‡ä»¶ã€‚ç„¶åï¼Œé€šè¿‡ ctrl+shift+u å¿«æ·é”®å°±å¯ä»¥æŠŠä¸€ä¸ªå˜é‡ä¿®æ”¹ä¸ºå¤§å†™ã€‚é€šè¿‡ctrl+shift+læŠŠå¤§å†™çš„å˜é‡å˜æˆå°å†™ã€‚8405da39ed76ac45f91c7ac4261fa687eb7566a2 Settings Sync åŒæ­¥æ’ä»¶æ’ä»¶ï¼šESLint //jsæ–‡ä»¶è§„èŒƒåŒ–HTML CSS Support //html,csshtml css snippets html,css æç¤ºï¼Œè‡ªåŠ¨è¡¥å…¨ Vetur //vueæ–‡ä»¶æ”¯æŒvscode-icons æ–‡ä»¶å‰æ˜¾ç¤ºå›¾æ ‡mithril emmet // zen codingPath AutocompletePHP IntelliSense waka Time //ç»Ÿè®¡å†™ä»£ç æ—¶é—´ è‡ªåŠ¨é—­åˆæ ‡ç­¾Auto Close Tagé¢œè‰²å˜å€¼çš„å®é™…é¢œè‰²Color Highlightæ‹¬å·é«˜äº®Bracket Pair Colorizerï¼Œï¼Œ markdown preview enhanced é¢„è§ˆmarkdownéå¸¸å¥½Prettier - Code formatter è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç  ï¼Œå¯ä»¥è‡ªåŠ¨æ ¼å¼åŒ–â€œeditor.formatOnSaveâ€: true VS Code ç»ˆç«¯å­—ä½“é—´è·è¿‡å®½è§£å†³åŠæ³•ï¼šç»ˆç«¯ç”¨VSCodeçš„é»˜è®¤å­—ä½“ï¼Œç¼–è¾‘å™¨å¯ä»¥ç”¨è‡ªå®šä¹‰çš„å­—ä½“ç»ˆç«¯ä½¿ç”¨çš„å­—ä½“ä¸èƒ½æ˜¯ç­‰å®½å­—ä½“ï¼Œå¦åˆ™ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ vscodeè‡ªåŠ¨ç»™æ‰€æœ‰çš„importæ”¹ä¸ºå®é™…è·¯å¾„è€Œä¸æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œè§£å†³åŠæ³•è‡ªåŠ¨æ›´æ–° import è¯­å¥çš„è·¯å¾„ é»˜è®¤ç”¨æˆ·è®¾ç½®// å¯ç”¨æˆ–ç¦ç”¨åœ¨ VS Code ä¸­é‡å‘½åæˆ–ç§»åŠ¨æ–‡ä»¶æ—¶è‡ªåŠ¨æ›´æ–° import è¯­å¥çš„è·¯å¾„ã€‚å¯é€‰å€¼æœ‰: â€œpromptâ€ (åœ¨æ¯æ¬¡é‡å‘½åæ—¶æç¤º)ã€â€alwaysâ€ (å§‹ç»ˆè‡ªåŠ¨æ›´æ–°è·¯å¾„) å’Œ â€œneverâ€ (ä»ä¸é‡å‘½åè·¯å¾„ä¸”ä¸è¦æç¤º)ã€‚è¦æ±‚å·¥ä½œåŒºä½¿ç”¨é«˜äº 2.9 ç‰ˆæœ¬çš„ TypeScriptã€‚â€œtypescript.updateImportsOnFileMove.enabledâ€: â€œpromptâ€ å¦‚æœæŠŠè¿™ä¸ªå€¼æ”¹æˆalwaysï¼Œå°±ä¼šè‡ªåŠ¨ä¿®æ”¹æ‰€æœ‰çš„import VS Code setting Syncæ’ä»¶é…ç½®ç»éªŒï¼šæŒ‰ç…§æ•™ç¨‹æç¤ºæŒ‰shift+alt+u ä¼šå¼¹å‡ºè¾“å…¥æ¡†è¦æ±‚è¾“å…¥githubä¸­çš„tokenï¼Œç¬¬ä¸€æ¬¡å¯ä»¥è¾“å…¥å¦‚æœè¾“å…¥é”™è¯¯ï¼Œå†æ¬¡æŒ‰å¿«æ·é”®ä¼šä¸æ–­æç¤ºtokenè¿‡æœŸæˆ–é”™è¯¯ã€‚ è§£å†³åŠæ³•: æ‰¾åˆ°settings.jsonæ–‡ä»¶åŒç›®å½•ä¸‹çš„syncLocalSettings.jsonæŸ¥æ‰¾åŠæ³•ï¼Œé¼ æ ‡æ”¾åˆ°setting.jsonçš„æ‰“å¼€æ ‡ç­¾ä¸Šä¼šæ˜¾ç¤ºæ–‡ä»¶ç›®å½•ï¼Œå³é”®å¯æ‰“å¼€æ‰€åœ¨ç›®å½•ã€‚C:\\Users\\zhaojianpeng3\\AppData\\Roaming\\Code\\User ä¿®æ”¹æ–‡ä»¶ä¸­çš„tokenä¸ºgithubä¸­å¯¹åº”çš„tokenï¼Œä¿å­˜æ–‡ä»¶ã€‚é‡æ–°æŒ‰å¿«æ·é”®å³å¯å¯ç”¨ã€‚","link":"/posts/VSCode/"},{"title":"Vueç†è®º","text":"å‰ç«¯ç†è®ºVue.js ä¼˜åŠ¿ä¸»è¦æ˜¯åŸºäºä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„è€ƒè™‘ã€‚ ä½“ç§¯ï¼š19kBï¼ˆmin+gzipï¼‰ API å’Œå­¦ä¹ æˆæœ¬ï¼š å£°æ˜å¼ç»„ä»¶æ¨¡æ¿å’Œåˆ†ç¦»æ ·å¼è¡¨ï¼Œæ›´æ¥è¿‘äºä¼ ç»Ÿå¼€å‘æ¨¡å¼ï¼ŒæŠµè§¦å¿ƒç†å°ã€‚ å“åº”å¼çš„ç»„ä»¶çŠ¶æ€è·Ÿè¸ªï¼šæ›´æ–°çŠ¶æ€ä»£ç æ›´ç®€æ´ï¼Œç»„ä»¶æ ‘é‡æ–°æ¸²æŸ“æ•ˆç‡æ›´é«˜ã€‚ æ¸…æ™°ç®€æ´çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å’Œå•å‘æ•°æ®æµï¼šé¡µé¢é€»è¾‘å’ŒçŠ¶æ€æ›´æ–°æ›´å¯æ§ã€‚ è¿è¡Œæ—¶æŠ¥é”™å’Œå‘Šè­¦è¯¦ç»†ï¼šæ–¹ä¾¿æ–°æ‰‹å…¥é—¨å’Œè§„é¿å¸¸è§é”™è¯¯ã€‚ å·¥å…·é“¾å®Œæ•´æ€§ï¼šwebpackLoaderï¼ˆåŠ è½½ Vue å•æ–‡ä»¶ç»„ä»¶ï¼‰ã€å¼€å‘è€…å·¥å…·ï¼ˆDevToolsï¼‰ã€è„šæ‰‹æ¶ï¼ˆvue-cliï¼‰ã€å•å…ƒæµ‹è¯•å‹å¥½ï¼ˆvue-test-utilsï¼‰ã€‚ è¿è¡Œæ—¶æ€§èƒ½ï¼š VirtualDOM æ¥ç®¡ç†ç»„ä»¶æ ‘æ¸²æŸ“åˆ°çœŸå® DOM çš„çŠ¶æ€åŒæ­¥ï¼Œä½¿ç”¨é«˜æ•ˆçš„ç®—æ³•æ¥æœ€å°åŒ– DOM æ“ä½œçš„æ¬¡æ•°ã€‚ ç”±äºå“åº”å¼è®¾è®¡ï¼Œä¸éœ€è¦ä¼˜åŒ–ç»„ä»¶æ ‘å†æ¬¡æ¸²æŸ“çš„èŒƒå›´ã€‚ ç»„ä»¶æ ‘é™æ€éƒ¨åˆ†è¢«å•ç‹¬å¤„ç†ï¼Œé‡æ–°æ¸²æŸ“ä¸éœ€è¦é‡æ–°æ„å»ºã€‚ åŒæ„æ¸²æŸ“ï¼š é«˜æ€§èƒ½ã€å¼€ç®±å³ç”¨çš„æ–¹æ¡ˆï¼ŒåŒ…æ‹¬å‰åç«¯å¯ç”¨çš„è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†ç»„ä»¶ï¼Œé™ä½äº†ä½¿ç”¨çš„é—¨æ§›ã€‚ æ·±åº¦ webpack é›†æˆï¼Œç®€åŒ–äº†ä»£ç åˆ†å‰²å’Œæ„å»ºè°ƒè¯•æµç¨‹ã€‚ å‰åç«¯åˆ†ç¦»ï¼šå‰ç«¯æ‹¥æœ‰å®Œæ•´ç‹¬ç«‹çš„å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æµç¨‹ï¼Œä¸åç«¯å®Œå…¨åˆ†ç¦»ï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬ã€‚ æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–ï¼šå°è£…å¯é‡ç”¨ UI ç»„ä»¶ã€ä¸šåŠ¡é€»è¾‘ï¼Œæå‡ä»£ç åº“çš„å¯å¤ç”¨æ€§ã€å¯æµ‹è¯•æ€§ã€‚ æµç¨‹è‡ªåŠ¨åŒ–ï¼šæå‡æ•ˆç‡ã€é¿å…é‡å¤æ‰‹å·¥å·¥ä½œã€ä¿è¯è´¨é‡ã€è‡ªåŠ¨èµ„æºä¼˜åŒ–ç­‰ç­‰ã€‚ é¡µé¢åŠ è½½æ€§èƒ½ä¼˜åŒ–ï¼šå»ºç«‹å‰ç«¯ç›‘æ§ä½“ç³»ã€ä¼˜åŒ–èµ„æºåŠ è½½ã€ä½¿ç”¨ç¦»çº¿åŒ–ç­–ç•¥ã€‚ å‰åç«¯åˆ†ç¦»çš„å…³é”®ç‚¹åœ¨äºå‰ç«¯æ‹¥æœ‰å®Œæ•´ç‹¬ç«‹çš„å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æµç¨‹ï¼Œä¸åç«¯å®Œå…¨åˆ†ç¦»1234åœ¨èµ«å°”å¢¨æ–¯é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æŠŠé¡µé¢çš„ç»„è£…å®Œå…¨æ”¾ç½®åˆ°äº†å‰ç«¯é¡¹ç›®ï¼Œåç«¯åªæä¾›AJAX çš„æ¥å£ç”¨äºè·å–å’Œæäº¤æ•°æ®ã€‚å‰ç«¯é¡µé¢å®Œå…¨é™æ€åŒ–ï¼Œæ„å»ºå®Œæ¯•ä¹‹åè¿åŒç›¸åº”çš„é™æ€èµ„æºé€šè¿‡ CI ç›´æ¥å‘å¸ƒåˆ° CDN æ¨¡å—åŒ–æ¨¡å—åŒ–å¼€å‘çš„ä¼˜åŠ¿ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ã€‚ æ›´å¥½çš„ä»£ç ç»„ç»‡ç»“æ„å’Œå¼€å‘åä½œï¼šé€šè¿‡ç»†è‡´çš„æ–‡ä»¶å¤¹ã€æ–‡ä»¶æ‹†åˆ†ï¼Œæ›´æ˜“äºç®¡ç†å¤æ‚çš„ä»£ç åº“ï¼Œæ›´æ˜“äºå¤šäººåä½œå¼€å‘ï¼Œé™ä½æ–‡ä»¶åˆå¹¶æ—¶å€™å†²çªçš„å‘ç”Ÿæ¦‚ç‡ï¼Œæ–¹ä¾¿ç¼–å†™å•å…ƒæµ‹è¯•ã€‚ ä¾èµ–ç®¡ç†ï¼šä¸å†éœ€è¦æ‰‹åŠ¨ç®¡ç†è„šæœ¬çš„åŠ è½½é¡ºåºã€‚ ä¼˜åŒ–ï¼š ä»£ç æ‰“åŒ…ï¼ˆBundleï¼‰ï¼šåˆå¹¶å°æ¨¡å—ï¼ŒæŠ½å–å…¬å…±æ¨¡å—ï¼Œåœ¨èµ„æºè¯·æ±‚æ•°å’Œæµè§ˆå™¨ç¼“å­˜åˆ©ç”¨æ–¹é¢è¿›è¡Œåˆé€‚çš„å–èˆã€‚ ä»£ç åˆ†å‰²ï¼ˆSplitï¼‰ï¼šå…è®¸æŒ‰éœ€åŠ è½½ JS ä»£ç ï¼ˆåˆ†è·¯ç”±ã€å¼‚æ­¥ç»„ä»¶ï¼‰ï¼Œè§£å†³å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰é¦–å±åŠ è½½é€Ÿåº¦é—®é¢˜ã€‚ Tree Shakingï¼šåˆ©ç”¨ ES6 æ¨¡å—çš„é™æ€åŒ–ç‰¹æ€§ï¼Œå¯ä»¥åœ¨æ„å»ºè¿‡ç¨‹ä¸­åˆ†æå‡ºä»£ç åº“ä¸­æœªä½¿ç”¨åˆ°çš„ä»£ç ï¼Œä»æœ€ç»ˆçš„ bundle ä¸­å»é™¤ï¼Œä»è€Œå‡å°‘ JSâ—Bundle çš„å°ºå¯¸ã€‚ Scope Hoistingï¼šES6 æ¨¡å—å†…å®¹å¯¼å…¥å’Œå¯¼å‡ºç»‘å®šæ˜¯æ´»åŠ¨çš„ï¼Œå¯ä»¥å°†å¤šä¸ªå°æ¨¡å—åˆå¹¶åˆ°ä¸€ä¸ªå‡½æ•°å½“ä¸­ï¼Œå¯¹äºé‡å¤å˜é‡åè¿›è¡Œåˆé€‚çš„é‡å‘½åï¼Œä»è€Œå‡å°‘Bundle çš„å°ºå¯¸å’Œæå‡åŠ è½½é€Ÿåº¦ã€‚ ç»„ä»¶åŒ–æ¨¡å—åŒ–æ˜¯è§£å†³å¦‚ä½•å°è£…å’Œå¤ç”¨ä¸€æ®µé€»è¾‘ä»£ç çš„è¯ï¼Œç»„ä»¶åŒ–è¦è§£å†³çš„æ˜¯å¦‚ä½•å°è£…å’Œå¤ç”¨ä¸€ä¸ªç”¨æˆ·ç•Œé¢å…ƒç´ ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªæŒ‰é’®ã€ä¸€ä¸ªå¼¹å‡ºæ¡†ï¼Œäº¦æˆ–æ˜¯ä¸€ä¸ªè½®æ’­å›¾ã€‚ é¡µé¢ = é™æ€é¡µé¢(æ ‘ + èŠ‚ç‚¹æè¿° + æ•°æ®) + åŠŸèƒ½é€»è¾‘æŠ€æœ¯é¢†åŸŸæœ‰ä¸€ä¸ªè½¯ä»¶è®¾è®¡èŒƒå¼ï¼š==â€œçº¦å®šå¤§äºé…ç½®â€==ï¼Œæ—¨åœ¨å‡å°‘ è½¯ä»¶å¼€å‘äººå‘˜éœ€è¦åšå†³å®šçš„æ•°é‡ï¼Œåšåˆ°ç®€å•è€Œåˆä¸å¤±çµæ´»ã€‚åœ¨æ’ä»¶ç¼–å†™è¿‡ç¨‹ä¸­å¼€å‘è€…åº”å¤šæ³¨æ„ä½¿ç”¨åœºæ™¯å’Œæ€§èƒ½çš„æœ‰æœºç»“åˆï¼Œä½¿ç”¨æ°å½“çš„è¯­æ³•ï¼Œå°½å¯èƒ½å‡å°‘å¼€å‘è€…çš„é…â—ç½®ï¼Œä¸æ±‚è¿åˆå„ä¸ªåœºæ™¯ã€‚ webViewæ€§èƒ½ä¼˜åŒ–æ‰€ä»¥ä¸æµè§ˆå™¨ä¸åŒï¼ŒApp ä¸­æ‰“å¼€ WebView çš„ç¬¬ä¸€æ­¥å¹¶ä¸æ˜¯å»ºç«‹è¿æ¥ï¼Œè€Œæ˜¯å¯åŠ¨æµè§ˆå™¨å†…æ ¸ã€‚ WebView åˆå§‹åŒ–æ…¢ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–åŒæ—¶å…ˆè¯·æ±‚æ•°æ®ï¼Œè®©åç«¯å’Œç½‘ç»œä¸è¦é—²ç€ã€‚ åç«¯å¤„ç†æ…¢ï¼Œå¯ä»¥è®©æœåŠ¡å™¨åˆ† trunk è¾“å‡ºï¼Œåœ¨åç«¯è®¡ç®—çš„åŒæ—¶å‰ç«¯ä¹ŸåŠ è½½ç½‘ç»œé™æ€èµ„æºã€‚ è„šæœ¬æ‰§è¡Œæ…¢ï¼Œå°±è®©è„šæœ¬åœ¨æœ€åè¿è¡Œï¼Œä¸é˜»å¡é¡µé¢è§£æã€‚ åŒæ—¶ï¼Œåˆç†çš„é¢„åŠ è½½ã€é¢„ç¼“å­˜å¯ä»¥è®©åŠ è½½é€Ÿåº¦çš„ç“¶é¢ˆæ›´å°ã€‚ WebView åˆå§‹åŒ–æ…¢ï¼Œå°±éšæ—¶åˆå§‹åŒ–å¥½ä¸€ä¸ª WebView å¾…ç”¨ã€‚ DNS å’Œé“¾æ¥æ…¢ï¼Œæƒ³åŠæ³•å¤ç”¨å®¢æˆ·ç«¯ä½¿ç”¨çš„åŸŸåå’Œé“¾æ¥ã€‚ è„šæœ¬æ‰§è¡Œæ…¢ï¼Œå¯ä»¥æŠŠæ¡†æ¶ä»£ç æ‹†åˆ†å‡ºæ¥ï¼Œåœ¨è¯·æ±‚é¡µé¢ä¹‹å‰å°±æ‰§è¡Œå¥½ã€‚","link":"/posts/Vue%E7%90%86%E8%AE%BA/"},{"title":"antDesign","text":"è®°å½•è¸©è¿‡çš„å‘æ•°ç»„å¿…é¡»è¦keyçš„è§£å†³åŠæ³• ç”±äºæœ‰äº›æ•°æ®æ²¡æœ‰å”¯ä¸€keyå€¼ã€‚éœ€è¦è‡ªè¡Œæ·»åŠ  12345678910111213var localCounter = 1;this.data.forEach(el=&gt;{ el.id = localCounter++;});//å‘æ•°ç»„ä¸­åŠ¨æ€æ·»åŠ å…ƒç´ æ—¶ï¼Œfunction createUser(user) { return { ...user, id: localCounter++ }} åŠ¨æ€è·¯ç”±ï¼Œä¼ å‚è·å–å‚æ•°å®šä¹‰è·¯ç”± 123'/coupons/relateProducts/:couponBatchId': { component: dynamicWrapper(app, ['coupons'], () =&gt; import('../routes/Coupons/RelateProducts'))}, åœ¨ç»„ä»¶ä¸­è·å– 1this.props.match.params.couponBatchId è·¯ç”±è·³è½¬å¤šçº§å¯¹è±¡setStateå¯ä»¥å•ç‹¬å–å‡ºæ¥ï¼Œä¿®æ”¹åå†æ•´ä½“æ”¾è¿›å» ä¸€ä¸ªç»„ä»¶æ˜¯modalï¼Œæ‰“å¼€å°±æŸ¥è¯¢ä¸€æ¬¡ï¼Œåœ¨å“ªæ‰§è¡ŒæŸ¥è¯¢åœ¨componentWillReceivePropsé‡Œ 1234567componentWillReceiveProps(nextProps){ // è¿™é‡Œçš„nextPropsä¸ºä¿®æ”¹åçš„çŠ¶æ€å€¼ ç”¨this.propså¯ä»¥è·å–åˆ°ä¿®æ”¹ä¹‹å‰çš„props é€šè¿‡this.propså’ŒnextPropsä¸¤è€…å¯¹æ¯”å¯ä»¥çœ‹æ˜¯å¦éœ€è¦æ›´æ–°å’Œæ“ä½œ} componentwillreceivepropsä¼šè‡ªåŠ¨æ¥æ”¶å‚æ•°ï¼Œå¯¼è‡´é¡µé¢ä¸æ–­æ¸²æŸ“éœ€è¦é…åˆthis.propsä½¿ç”¨componentDidMountä¸ä¼šè§¦å‘ lodash.has select ç”¨setFieldsValueèµ‹å€¼ï¼Œç±»å‹è¦ä¸€æ ·ï¼Œæ•°å­—å°±æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²å°±æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰èƒ½æ­£å¸¸æ˜¾ç¤ºformè¡¨å•é‡ç½®æŒ‰é’®123handleReset = () =&gt; { this.props.form.resetFields();} Select ç»„ä»¶ä½¿ç”¨Select èµ‹å€¼ï¼Œç”¨this.props.form.setFieldsValues(); selectåŠ¨æ€èµ‹å€¼ç»™selectã€‚ï¼Œåªæ˜¾ç¤ºvalueï¼Œæ²¡æ˜¾ç¤ºlabelï¼Œæ˜¾ç¤ºlabelæ— æ³•æäº¤ç±»å‹è¦åŒ¹é…ï¼Œæ•°å­—å°±æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²å°±æ˜¯å­—ç¬¦ä¸² aå…ƒç´ ç»‘å®šäº‹ä»¶ç»™aç»‘å®šäº‹ä»¶ï¼Œä¸€å®šè¦è¿™æ ·ç»‘ 1234 &lt;a onClick={e =&gt; this.showDetail(record.key)}&gt;è¯¦æƒ…&lt;/a&gt;handleMouseOver = (key) =&gt; (e) =&gt; { this.setState({ display: key })} å†™äº†modelsä¸€å®šè¦åœ¨commonçš„router.jsä¸­getRouterDataçš„dynamicWrapperä¸­å¼•å…¥æ–‡ä»¶å¤¹åå­—ï¼Œæ‰èƒ½è‡ªåŠ¨å¼•å…¥åˆ°app._modelsä¸­ service ä¸­çš„apiè¦æ·»åŠ request. modelsä¸­è¦æ·»åŠ reducerï¼Œ åœ¨é¡µé¢ä¸­è¦ç”¨reduxå®šä¹‰å¥½çš„stateï¼Œéœ€è¦åœ¨connectä¸­å¼•å…¥@connect(({loading, coupons}) =&gt; ({ data: coupons,})) actionè°ƒç”¨æˆåŠŸåï¼Œåœ¨reduceré‡Œæ”¹äº†çŠ¶æ€ï¼Œ æ‰“å°å‡ºæ¥å‘ç”Ÿå˜åŒ–äº†ï¼Œä½†é¡µé¢æ²¡å˜åŒ–ã€‚ åœ¨divä¸­å†™çš„å¯ä»¥å˜åŒ–ï¼Œåœ¨inputæˆ–textareaä¸­ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚ åŠ äº†mapPropsToFieldsåï¼Œä¿®æ”¹çš„å€¼å›å“åº”åˆ°textareaä¸Šï¼Œ ä½†æ‰€æœ‰è¾“å…¥æ¡†è¾“å…¥çš„å€¼è¢«æ¸…ç©ºäº† ä¸æƒ³ç”¨reduxï¼Œç›´æ¥ç”¨ç»„ä»¶é‡Œçš„stateï¼Œæ€ä¹ˆæï¼Ÿ åœ¨dispatchåæ·»åŠ callback.ç›´æ¥ç”¨ this.props.form.setFieldsValue({ uids: payload.data.join()}); ä¸€ä¸ªé¡µé¢å¤šä¸ªformï¼Œç‚¹å‡»æ¯ä¸ªformçš„æäº¤ï¼Œå…¶ä»–formçš„å­—æ®µä¼šè·Ÿç€æäº¤ 1Formçš„FormItemå¦‚æœæ˜¯rangePickerï¼Œåˆ™è®¾ç½®`style={{width:100%}}`ï¼Œå¯ä»¥è®©è¾“å…¥æ¡†å“åº”å®¹å™¨ Formçš„labelå’Œinputè¾“å…¥æ¡†çš„å®½åº¦é€šè¿‡è°ƒèŠ‚labelColï¼ŒwrapperColæ¥è®¾ç½®ï¼Œæ€»é•¿åº¦ä¸º24 å•Šå•Šå•Šå•Šå¤§ç»éªŒå•Šï¼ï¼ï¼ï¼ nginxçš„proxyé…ç½®ä¸€å®šè¦å‰åè·¯å¾„ä¸€è‡´ 'POST /coupon/v1/(.*)': '&lt;http://10.64.38.89:8081/coupon/v1/',&gt; å‰é¢æ˜¯coupon/v1åé¢ä¹Ÿä¸€å®šæ˜¯coupon/v1,ä¸èƒ½å‰é¢æ˜¯coupon åé¢æ˜¯coupon/v1é¡¹ç›®ä¸€å®šè¦æ”¾åœ¨wwwç›®å½•ä¸‹","link":"/posts/antDesign/"},{"title":"axiosç§¯ç´¯","text":"ä½¿ç”¨axiosåœ¨urlåç»Ÿä¸€åŠ å‚æ•°é‡åˆ°çš„é—®é¢˜å¦‚æœæ˜¯getè¯·æ±‚ï¼Œç›´æ¥åŠ åœ¨urlåé¢ https://www.baidu.com?a=1&amp;b=2 å¦‚æœè¦get, post, putéƒ½åŠ å‘¢ï¼Ÿ 123456789101112131415const data = { ...params, a: 1, b: 2}axios.get(url, { params: data,})axios.post(url, { params: data,})axios.put(url, { params: data,}) æ³¨æ„: å¦‚æœåœ¨urlå’Œpostçš„dataä¸­éƒ½åŠ åŒæ ·å‚æ•°çš„è¯ï¼Œæœ‰çš„åç«¯æœåŠ¡ä¼šæŠ¥é”™ï¼Œæ— æ³•æ­£å¸¸è§£æã€‚ axiosåœ¨dataä¸­æ·»åŠ å‚æ•°åï¼Œä¼šæ ¹æ®getï¼Œpostä¸åŒè¯·æ±‚æ–¹æ³•ï¼Œé€‰æ‹©ä¸åŒçš„å‚æ•°æ‹¼æ¥æ–¹å¼. get: åŠ åˆ°urlåï¼Œpost, putåŠ åˆ°postçš„dataä¸­ã€‚ ç»¼ä¸Š: æ·»åŠ urlå‚æ•°å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©ç›´æ¥åŠ åœ¨urlåè¿˜æ˜¯åŠ åˆ°dataä¸­ã€‚","link":"/posts/axios%E7%A7%AF%E7%B4%AF/"},{"title":"canvaså®æˆ˜","text":"CANVASæ¸¸æˆå®æˆ˜æ€è·¯ ç»˜å›¾åŸºç¡€ æ·»åŠ å›¾å½¢ã€å›¾ç‰‡ã€è®¾ç½®é¢œè‰² åŠ¨èµ·æ¥ ç”»å¸ƒå®šæ—¶é‡ç»˜ åŠ å…¥é”®ç›˜é¼ æ ‡æ§åˆ¶ å¯æ“æ§ åŠ¨ç”»æ¡†æ¶PixiJS","link":"/posts/canvas%E5%AE%9E%E6%88%98/"},{"title":"centoså®‰è£…git","text":"centoså®‰è£…gitå®‰è£…yum install -y git æ£€æŸ¥ç‰ˆæœ¬git â€“version ç”Ÿæˆå…¬é’¥å¹¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Šç”Ÿæˆå…¬é’¥ssh-keygen -t rsa æŸ¥çœ‹å…¬é’¥cat .ssh/id_rsa.pub å¤åˆ¶id_rsa.pubé‡Œçš„å…¬é’¥åˆ°æœåŠ¡å™¨ä¸Šçš„authorized_keysæ–‡ä»¶æ‹·è´å‡ºæ¥ï¼Œå¤åˆ¶åˆ°github.comçš„settingsçš„SSH and GPG keysä¸­ å®‰è£…nodejsyum install -y nodejs//è¡Œä¸é€šï¼Œç‰ˆæœ¬å¤ªæ—§äº† å‚è€ƒï¼šhttp://wiki.jikexueyuan.com/project/nodejs-guide/install.html å¸è½½yum remove nodejs -y æ­£ç¡®æ–¹æ³•1.ç¡®ä¿ç³»ç»Ÿä¸‹ g++ ç‰ˆæœ¬åœ¨ 4.6 ä»¥ä¸Šï¼Œpython ç‰ˆæœ¬åœ¨ 2.6 ä»¥ä¸Šã€‚ 2.ä» nodejs.org ä¸‹è½½ tar.gz åç¼€çš„ NodeJS æœ€æ–°ç‰ˆæºä»£ç åŒ…å¹¶è§£å‹åˆ°æŸä¸ªä½ç½®ã€‚ wget https://nodejs.org/dist/v4.5.0/node-v4.5.0.tar.gz 3.è¿›å…¥è§£å‹åˆ°çš„ç›®å½•ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘å’Œå®‰è£…ã€‚ 1234tar -zvxf node-v4.5.0.tar.gz./configuremakesudo make install","link":"/posts/centos%E5%AE%89%E8%A3%85git/"},{"title":"h5å¼€å‘ç§¯ç´¯","text":"å›¾ç‰‡åˆ‡å›¾é«˜åº¦750*1334 h5æ»šåŠ¨ç”»å¸ƒæ’ä»¶ scroller animateJs TweenJS pixi.js H5 è¦è€ƒè™‘çš„å› ç´ :. å±å¹•æ—‹è½¬è‡ªåŠ¨é€‚é…å…ƒç´ æ ¹æ®å±å¹•ç¡®å®šä½ç½® ç½‘æ˜“(^o^)/~ h5æ€»ç½‘ç«™ ç¡å§¿å¤§æ¯”æ‹¼â€”åŠ å¯† æ»‘å‘ç«¥å¹´ ä¸æ˜¯pixi jqueryå®ç°çš„ pixi å­¦ä¹ èµ„æ–™å®˜ç½‘ä¾‹å­å£°éŸ³æ’ä»¶éƒ½å¯ä»¥åœ¨npmä¸­æ‰¾åˆ° æ‰‹æœºç«¯videoæ ‡ç­¾ä¸èƒ½è‡ªåŠ¨æ˜¾ç¤ºå°é¢ï¼Œéœ€è®¾ç½®poster é—ç•™é—®é¢˜ å¾®ä¿¡é‡Œé¢çš„éŸ³ä¹ä¸èƒ½è‡ªåŠ¨æ’­æ”¾ï¼Œå¦‚æœç”¨domçš„è‡ªåŠ¨æ’­æ”¾ï¼Œæµè§ˆå™¨é‡Œçš„åˆä¸èƒ½è‡ªåŠ¨æ’­æ”¾ã€‚ç½‘æ˜“ä¹Ÿæ˜¯é€‰æ‹©ä¸€ç§å®ç°çš„ã€‚ å›¾ç‰‡è™šåŒ–ï¼ŒåŸå› ï¼šæœ€å¤–å±‚å®¹å™¨ç¼©å°äº†0.5ï¼Œå¯¼è‡´æ‰€æœ‰ç´ æç¼©å°0.5.ä½†è¿™ä¸æ˜¯è™šåŒ–çš„åŸå› ï¼Œå› ä¸ºå…¶ä»–ç½‘é¡µä¹Ÿæ˜¯è¿™æ ·è™šåŒ–çš„ã€‚","link":"/posts/h5%E5%BC%80%E5%8F%91%E7%A7%AF%E7%B4%AF/"},{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/posts/hello-world/"},{"title":"iTerm2å®Œç¾çš„ç»ˆç«¯ä½“éªŒ","text":"[TOC] mac è‡ªå¸¦çš„ç»ˆç«¯å®åœ¨æ˜¯å·®åŠ²ï¼Œæ”¹ç”¨ iTerm2 å¯ä»¥ 6 åˆ°é£èµ·~~~ å®‰è£…ç›´æ¥ä¸‹è½½å®‰è£…å³å¯ã€‚ å®‰è£…oh-my-zshå®‰è£…æ–¹æ³•ç”±äºä¼šç»å¸¸æ›´æ–°ï¼Œè¯·ç‚¹å‡»é“¾æ¥è·³è½¬æŸ¥çœ‹å®‰è£…åŠæ³• é…ç½®ä¸»é¢˜ä¿®æ”¹ ZSH_THEME=â€ä¸»é¢˜åâ€ æ‰“å¼€é…ç½®æ–‡ä»¶ 1vi ~/.zshrc æ‰¾åˆ°å¦‚ä¸‹é…ç½®ZSH_THEME=â€robbyrussellâ€ä¿®æ”¹ä¸ºZSH_THEME=â€ysâ€ å¯ä»¥æ ¹æ®è‡ªå·±å–œå¥½é€‰æ‹©ä¸åŒçš„ä¸»é¢˜ ä¸»é¢˜é…ç½®åº“ ä»£ç é«˜äº®(zsh-syntax-highlighting)å®‰è£…æ–¹æ³•è¯¦è§é“¾æ¥ è‡ªåŠ¨æç¤ºå‘½ä»¤(zsh-autosuggestions)å®‰è£…æ–¹æ³•è¯¦è§é“¾æ¥ è‡ªåŠ¨åˆ‡æ¢ç›®å½•(autojump)1brew install autojump æ ¹æ®æç¤ºå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°~/.zshrc 1[ -f /usr/local/etc/profile.d/autojump.sh ] &amp;&amp; . /usr/local/etc/profile.d/autojump.sh åˆšå¼€å§‹è£…äº†ä¸ä¼šæœ‰æ•ˆæœï¼Œéœ€å¤šè¿›å‡ ä¸ªç›®å½•ï¼Œå°±å¯ä»¥çœ‹åˆ°æ•ˆæœ å¿«æ·é”® jæŒ‰ tab å¯ä»¥é€‰æ‹©ä¸‹æ‹‰é‡Œæç¤ºçš„å†…å®¹ æƒé‡å€¼è¶Šé«˜ï¼Œä¼˜å…ˆçº§è¶Šé«˜è¦è°ƒæ•´æŸä¸ªç›®å½•çš„ä¼˜å…ˆçº§ï¼Œéœ€è¦å…ˆè¿›å…¥åˆ°æ–‡ä»¶ç›®å½•ä¸‹ï¼Œè¿›è¡Œè°ƒæ•´ å¸¸ç”¨å‘½ä»¤1234567891011# æ˜¾ç¤ºæ•°æ®åº“ä¸­çš„ç»Ÿè®¡æ•°æ®, (å‰é¢çš„æ•°å­—æ˜¯æƒé‡å€¼)j -s# å¢åŠ æŸä¸ªç›®å½•çš„æƒé‡j -i 10# é™ä½æŸä¸ªç›®å½•æƒé‡j -d 10# æ¸…é™¤æ— ç”¨æ•°æ®j --purge ä½¿ç”¨ä¸­å‘ç°çš„é—®é¢˜å¦‚æœä¸¤ä¸ªç›®å½•åé¢çš„æ–‡ä»¶å¤¹åç›¸åŒï¼Œä¾‹å¦‚/home/abc/deå’Œ/home/deï¼Œæƒé‡çº§åˆ«ä¸ä¸€æ ·ï¼Œç›´æ¥ç”¨j deä¸ä¼šæ¯æ¬¡éƒ½è·³è½¬åˆ°æƒé‡é«˜çš„ç›®å½•ï¼Œå¦‚æœä¸æ˜¯æƒ³è¦çš„å¯ä»¥å†æ¬¡æ‰§è¡Œj deå³å¯ homebrew æ›´æ–°1brew update åœ¨å®‰è£…ä¸€äº›è½¯ä»¶æ—¶ï¼Œä¼šé‡åˆ° updating homebrew å¡ä½çš„é—®é¢˜ï¼Œè¿™æ—¶ control+c æ–­å¼€ï¼Œæ‰§è¡Œ brew update. ä¼šæˆåŠŸæ›´æ–°ã€‚ ç½‘ä¸Šè¿˜æœ‰è¯´æ³•æ˜¯æ›´æ¢ brew é•œåƒæºâ€”æ²¡è¯•è¿‡ã€‚ å¯åŠ¨é—®å€™è¯­è®¾ç½®123456cd /etcsudo pico motdè¾“å…¥å¯†ç åè¾“å…¥é—®å€™è¯­æŒ‰control+xé€€å‡ºï¼ŒæŒ‰yç¡®è®¤ï¼Œ æŒ‰å›è½¦ç¡®è®¤ï¼Œç”¨ yä¿å­˜é€€å‡ºï¼Œå† yä¸€æ¬¡ç¡®è®¤æ–‡ä»¶åmotd æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼Œå³å¯çœ‹åˆ°æç¤ºè¯­ å®‰è£… iTerm2 åæ›¿æ¢ä¸ºç³»ç»Ÿè‡ªå¸¦çš„ bashæ‰“å¼€ iTerm2-&gt;prefrences-&gt;profiles-commandé€‰æ‹© command è¾“å…¥/bin/bashå³å¯ 12345# ä¿®æ”¹iterm é»˜è®¤ç¨‹åºchsh -s /bin/zsh# æ¢å¤åŸæ¥çš„bashchsh -s /bin/bash å¸¸ç”¨å¿«æ·é”®12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758# æ‰“å¼€æ–°æ ‡ç­¾command+t# å…³é—­æ ‡ç­¾command+w# åŒä¸€ä¸ªTabå†…çš„åˆ†å±åˆ‡æ¢Command + [# Tabä¹‹é—´çš„åˆ‡æ¢Command + æ•°å­—# å‚ç›´åˆ‡åˆ†çª—å£command+d# æ°´å¹³åˆ‡åˆ†çª—å£command+shift+d# å¤åˆ¶çª—å£å·¦ä¸Šè§’shell-&gt;duplicate Tab ä»¥å½“å‰è·¯å¾„ä¸‹æ‰“å¼€æ–°çš„çª—å£# è¿›å…¥ä¸è¿”å›å…¨å±æ¨¡å¼command+enter# ä¿å­˜å½“å‰å¿«ç…§Window &gt; Save Window Arrangement.# æ¢å¤å¿«ç…§ï¼šWindow &gt; Restore Window Arrangementå¯ä»¥åœ¨Preferences &gt; General &gt; Open saved window arrangement.è®¾ç½®è‡ªåŠ¨æ¢å¤å¿«ç…§# ä»ç»ˆç«¯è¿›å…¥Finderè¿›å…¥æŸä¸ªç›®å½•open .# Finder è¿›ç»ˆç«¯ç›´æ¥æ‹–æ‹½# æŸ¥çœ‹å†å²å‘½ä»¤command + ;# æŸ¥çœ‹å‰ªè´´æ¿å†å²command + shift + h# å‘½ä»¤æœç´¢Ctrl + r# æ¸…é™¤å½“å‰è¡Œå‘½ä»¤Ctrl + u# è·³è½¬åˆ°è¡Œé¦–Ctrl + a# è·³è½¬åˆ°è¡Œå°¾Ctrl + e è‡ªåŠ¨è¡¥å…¨æ’ä»¶ incr â€”å¦‚æœæç¤ºå¤šäº†ä¼šå¡çš„å¾ˆä¸¥é‡ï¼Œæ›¾ç»ç”¨è¿‡ï¼Œåæ¥æ›¿æ¢æˆ zsh-autosuggestionsä¸‹è½½æ­¤æ’ä»¶ï¼š 12345678wget http://mimosa-pudica.net/src/incr-0.2.zsh# å°†æ­¤æ’ä»¶æ”¾åˆ°oh-my-zshç›®å½•çš„æ’ä»¶åº“ä¸‹ï¼š# åœ¨~/.zshrcæ–‡ä»¶æœ«å°¾åŠ ä¸Šsource ~/.oh-my-zsh/plugins/incr/incr*.zsh# æ›´æ–°é…ç½®source ~/.zshrc å‘½ä»¤å‚æ•°æç¤ºä¸¾ä¸ªæ —å­ï¼Œä¹‹å‰å¶å°”éœ€è¦ç”¨åˆ°åˆ é™¤æ–‡ä»¶å¤¹çš„æ“ä½œï¼Œrm -r [path]ï¼Œä½†æ˜¯å¸¸å¸¸ä¼šå¿˜è®°ä¸­é—´çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œç°åœ¨æˆ‘åªéœ€è¦è¿™ä¹ˆåšï¼š 12345# è¾“å…¥ rm - ï¼Œ ç„¶åæŒ‰tabrm --R -r -- remove directories and their contents recursively-f -- ignore nonexistent files, never prompt-i -- prompt before every removal git å¿«æ·é”®æ’ä»¶git.plugin.zshåœ°å€ 12cd ~/.oh-my-zsh/plugins/gitless git.plugin.zsh åœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°å¸¸ç”¨çš„gitå‘½ä»¤åˆ«å å®˜æ–¹æ’ä»¶åˆ—è¡¨çœ‹åˆ«äººåœ¨ç”¨çš„æ’ä»¶ fasd history å¸¸ç”¨å‘½ä»¤12345# æŸ¥çœ‹å½“å‰æ‰€ç”¨çš„ Shellecho $SHELL# æŸ¥çœ‹ç³»ç»Ÿå†…å·²å®‰è£…çš„ Shellcat /etc/shells itermä¸­git status æ˜¾ç¤ºå­—ç¬¦ï¼Œä¸æ˜¾ç¤ºä¸­æ–‡ è§£å†³æ–¹æ³•ï¼šåœ¨å‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤ 1git config --global core.quotepath false rz/szä¸Šä¼ ä¸‹è½½æ–‡ä»¶ å®‰è£…lrzsz brew install lrzsz ä¸‹è½½é…ç½®iTerm2çš„ç›¸å…³è„šæœ¬ è„šæœ¬åœ°å€ åœ¨/usr/local/binç›®å½•ä¸‹ç›´æ¥æ‰§è¡Œï¼š wget https://raw.githubusercontent.com/mmastrac/iterm2-zmodem/master/iterm2-send-zmodem.sh https://raw.githubusercontent.com/mmastrac/iterm2-zmodem/master/iterm2-recv-zmodem.sh èµ‹äºˆå¯æ‰§è¡Œæƒé™ chmod +x /usr/local/bin/iterm2-send-zmodem.sh /usr/local/bin/iterm2-recv-zmodem.sh é…ç½®ITerm2 Term2çš„é…ç½®é¡¹ï¼šiTerm2çš„Preferences-&gt; Profiles -&gt; Default -&gt; Advanced -&gt; Triggersçš„EditæŒ‰é’®ã€‚ ç„¶åé…ç½®é¡¹å¦‚ä¸‹ï¼š Regular Expression Action Parameters Instant rz waiting to receive.\\\\B0100 Run Silent Coprocess /usr/local/bin/iterm2-send-zmodem.sh checked \\\\B00000000000000 Run Silent Coprocess /usr/local/bin/iterm2-recv-zmodem.sh checked æ³¨æ„æœ€åä¸€é¡¹éœ€è¦ä½ å°†Instanté€‰é¡¹å‹¾ä¸Šï¼Œå¦åˆ™å°†ä¸ç”Ÿæ•ˆ","link":"/posts/iTerm2%E5%AE%8C%E7%BE%8E%E7%9A%84%E7%BB%88%E7%AB%AF%E4%BD%93%E9%AA%8C/"},{"title":"jQueryæ’ä»¶æ€è·¯æ•´ç†","text":"jQueryæ’ä»¶çš„å°è£…123(function($){ // do something})(jQuery); é—­åŒ…çš„ä½œç”¨â€“é¿å…å…¨å±€ä¾èµ–â€“é¿å…ç¬¬ä¸‰æ–¹ç ´åâ€“å…¼å®¹jQueryæ“ä½œç¬¦â€˜$â€™å’ŒjQuery å¼€å‘æ–¹å¼ ç±»çº§åˆ«ç»„ä»¶å¼€å‘ å³ç»™jQueryå‘½åç©ºé—´ä¸‹æ·»åŠ æ–°çš„å…¨å±€å‡½æ•°ï¼Œä¹Ÿç§°é™æ€æ–¹æ³•ã€‚ 123jQuery.myPlugin = function(){ // do something}; ä¾‹å¦‚ï¼š$.ajax,$.extend() å¯¹è±¡çº§åˆ«ç»„ä»¶å¼€å‘ å³æŒ‚åœ¨jQueryåŸå‹ä¸‹çš„æ–¹æ³•ï¼Œè¿™æ ·é€šè¿‡é€‰æ‹©å™¨è·å–çš„jQueryå¯¹è±¡å®ä¾‹ä¹Ÿèƒ½å…±äº«è¯¥æ–¹æ³•, ä¹Ÿç§°åŠ¨æ€æ–¹æ³•ã€‚ 123$.fn.myPlugin = function(){ // do something}; è¿™é‡Œ $.fn === $.prototypeä¾‹å¦‚ï¼šaddClass()ã€attr() ç­‰ï¼Œéœ€è¦åˆ›å»ºå®ä¾‹æ¥è°ƒç”¨ é“¾å¼è°ƒç”¨eg: $(&quot;div&quot;).next().addClass() 12345$.fn.myPlugin = function(){ return this.each(function(){ // do something });}; ä»£ç è¯´æ˜ï¼š return this è¿”å›å½“å‰å¯¹è±¡ï¼Œæ¥ç»´æŠ¤æ’ä»¶çš„é“¾å¼è°ƒç”¨ each å¾ªç¯å®ç°æ¯ä¸ªå…ƒç´ çš„è®¿é—® å•ä¾‹æ¨¡å¼ 1234567$.fn.myPlugin = function(){ var me = $(this), instance = me.data(&quot;myPlugin&quot;); if (!instance) { me.data(&quot;myPlugin&quot;,(instance= new Plugin())); }}; ä»£ç è¯´æ˜ï¼š-å¦‚æœå®ä¾‹å­˜åœ¨åˆ™ä¸å†é‡æ–°åˆ›å»ºå®ä¾‹-åˆ©ç”¨data()æ¥å­˜æ”¾æ’ä»¶å¯¹è±¡çš„å®ä¾‹ jQueryæ’ä»¶çš„å¼€å‘åŒ…æ‹¬ä¸¤ç§ï¼šä¸€ç§æ˜¯ç±»çº§åˆ«çš„æ’ä»¶å¼€å‘ï¼Œå³ç»™jQueryæ·»åŠ æ–°çš„å…¨å±€å‡½æ•°ï¼Œç›¸å½“äºç»™jQueryç±»æœ¬èº«æ·»åŠ æ–¹æ³•ã€‚jQueryçš„å…¨å±€å‡½æ•°å°±æ˜¯å±äºjQueryå‘½åç©ºé—´çš„å‡½æ•°ï¼Œå¦ä¸€ç§æ˜¯å¯¹è±¡çº§åˆ«çš„æ’ä»¶å¼€å‘ï¼Œå³ç»™jQueryå¯¹è±¡æ·»åŠ æ–¹æ³•ã€‚ä¸‹é¢å°±ä¸¤ç§å‡½æ•°çš„å¼€å‘åšè¯¦ç»†çš„è¯´æ˜ã€‚1ã€ç±»çº§åˆ«çš„æ’ä»¶å¼€å‘ç±»çº§åˆ«çš„æ’ä»¶å¼€å‘æœ€ç›´æ¥çš„ç†è§£å°±æ˜¯ç»™jQueryç±»æ·»åŠ ç±»æ–¹æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºæ·»åŠ é™æ€æ–¹æ³•ã€‚å…¸å‹çš„ä¾‹å­å°±æ˜¯$.AJAX()è¿™ä¸ªå‡½æ•°ï¼Œå°†å‡½æ•°å®šä¹‰äºjQueryçš„å‘½åç©ºé—´ä¸­ã€‚å…³äºç±»çº§åˆ«çš„æ’ä»¶å¼€å‘å¯ä»¥é‡‡ç”¨å¦‚ä¸‹å‡ ç§å½¢å¼è¿›è¡Œæ‰©å±•ï¼š1.1 æ·»åŠ ä¸€ä¸ªæ–°çš„å…¨å±€å‡½æ•°æ·»åŠ ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€å¦‚ä¸‹å®šä¹‰ï¼šJavaä»£ç  jQuery.foo = function() {alert(â€˜This is a test. This is only a test.â€™);}; 1.2 å¢åŠ å¤šä¸ªå…¨å±€å‡½æ•°æ·»åŠ å¤šä¸ªå…¨å±€å‡½æ•°ï¼Œå¯é‡‡ç”¨å¦‚ä¸‹å®šä¹‰ï¼šJavaä»£ç  jQuery.foo = function() {alert(â€˜This is a test. This is only a test.â€™);};jQuery.bar = function(param) {alert(â€˜This function takes a parameter, which is â€œâ€˜ + param + â€˜â€œ.â€™);};è°ƒç”¨æ—¶å’Œä¸€ä¸ªå‡½æ•°çš„ä¸€æ ·çš„:jQuery.foo();jQuery.bar();æˆ–è€…$.foo();$.bar(â€˜barâ€™);1.3 ä½¿ç”¨jQuery.extend(object);Javaä»£ç  jQuery.extend({foo: function() {alert(â€˜This is a test. This is only a test.â€™);},bar: function(param) {alert(â€˜This function takes a parameter, which is â€œâ€˜ + param +â€™â€.â€™);}}); 1.4 ä½¿ç”¨å‘½åç©ºé—´è™½ç„¶åœ¨jQueryå‘½åç©ºé—´ä¸­ï¼Œæˆ‘ä»¬ç¦æ­¢ä½¿ç”¨äº†å¤§é‡çš„javaScriptå‡½æ•°åå’Œå˜é‡åã€‚ä½†æ˜¯ä»ç„¶ä¸å¯é¿å…æŸäº›å‡½æ•°æˆ–å˜é‡åå°†äºå…¶ä»–jQueryæ’ä»¶å†²çªï¼Œå› æ­¤æˆ‘ä»¬ä¹ æƒ¯å°†ä¸€äº›æ–¹æ³•å°è£…åˆ°å¦ä¸€ä¸ªè‡ªå®šä¹‰çš„å‘½åç©ºé—´ã€‚Javaä»£ç  jQuery.myPlugin = {foo:function() {alert(â€˜This is a test. This is only a test.â€™);},bar:function(param) {alert(â€˜This function takes a parameter, which is â€œâ€˜ + param + â€˜â€œ.â€™);}};é‡‡ç”¨å‘½åç©ºé—´çš„å‡½æ•°ä»ç„¶æ˜¯å…¨å±€å‡½æ•°ï¼Œè°ƒç”¨æ—¶é‡‡ç”¨çš„æ–¹æ³•ï¼š$.myPlugin.foo();$.myPlugin.bar(â€˜bazâ€™); é€šè¿‡è¿™ä¸ªæŠ€å·§ï¼ˆä½¿ç”¨ç‹¬ç«‹çš„æ’ä»¶åï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…å‘½åç©ºé—´å†…å‡½æ•°çš„å†²çªã€‚2ã€å¯¹è±¡çº§åˆ«çš„æ’ä»¶å¼€å‘å¯¹è±¡çº§åˆ«çš„æ’ä»¶å¼€å‘éœ€è¦å¦‚ä¸‹çš„ä¸¤ç§å½¢å¼ï¼šã€å½¢å¼1ï¼šJavaä»£ç  (function($){$.fn.extend({pluginName:function(opt,callback){ // Our plugin implementation code goes here.}})})(jQuery);å½¢å¼2ï¼šJavaä»£ç  (function($) {$.fn.pluginName = function() { // Our plugin implementation code goes here.};})(jQuery); ä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªjQueryå‡½æ•°,å½¢å‚æ˜¯$ï¼Œå‡½æ•°å®šä¹‰å®Œæˆä¹‹å,æŠŠjQueryè¿™ä¸ªå®å‚ä¼ é€’è¿›å».ç«‹å³è°ƒç”¨æ‰§è¡Œã€‚è¿™æ ·çš„å¥½å¤„æ˜¯,æˆ‘ä»¬åœ¨å†™jQueryæ’ä»¶æ—¶,ä¹Ÿå¯ä»¥ä½¿ç”¨$è¿™ä¸ªåˆ«å,è€Œä¸ä¼šä¸prototypeå¼•èµ·å†²çª.2.1 åœ¨JQueryåç§°ç©ºé—´ä¸‹ç”³æ˜ä¸€ä¸ªåå­—è¿™æ˜¯ä¸€ä¸ªå•ä¸€æ’ä»¶çš„è„šæœ¬ã€‚å¦‚æœä½ çš„è„šæœ¬ä¸­åŒ…å«å¤šä¸ªæ’ä»¶ï¼Œæˆ–è€…äº’é€†çš„æ’ä»¶ï¼ˆä¾‹å¦‚ï¼š $.fn.doSomething() å’Œ$.fn.undoSomething()ï¼‰ï¼Œé‚£ä¹ˆä½ éœ€è¦å£°æ˜å¤šä¸ªå‡½æ•°åå­—ã€‚ä½†æ˜¯ï¼Œé€šå¸¸å½“æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªæ’ä»¶æ—¶ï¼ŒåŠ›æ±‚ä»…ä½¿ç”¨ä¸€ä¸ªåå­—æ¥åŒ…å«å®ƒçš„æ‰€æœ‰å†…å®¹ã€‚æˆ‘ä»¬çš„ç¤ºä¾‹æ’ä»¶å‘½åä¸ºâ€œhighlightâ€œ Javaä»£ç  $.fn.hilight = function() { // Our plugin implementation code goes here.};æˆ‘ä»¬çš„æ’ä»¶é€šè¿‡è¿™æ ·è¢«è°ƒç”¨ï¼š$(â€˜#myDivâ€™).hilight(); ä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦åˆ†è§£æˆ‘ä»¬çš„å®ç°ä»£ç ä¸ºå¤šä¸ªå‡½æ•°è¯¥æ€ä¹ˆåŠï¼Ÿæœ‰å¾ˆå¤šåŸå› ï¼šè®¾è®¡ä¸Šçš„éœ€è¦ï¼›è¿™æ ·åšæ›´å®¹æ˜“æˆ–æ›´æ˜“è¯»çš„å®ç°ï¼›è€Œä¸”è¿™æ ·æ›´ç¬¦åˆé¢å‘å¯¹è±¡ã€‚ è¿™çœŸæ˜¯ä¸€ä¸ªéº»çƒ¦äº‹ï¼ŒæŠŠåŠŸèƒ½å®ç°åˆ†è§£æˆå¤šä¸ªå‡½æ•°è€Œä¸å¢åŠ å¤šä½™çš„å‘½åç©ºé—´ã€‚å‡ºäºè®¤è¯†åˆ°å’Œåˆ©ç”¨å‡½æ•°æ˜¯javascriptä¸­æœ€åŸºæœ¬çš„ç±»å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšã€‚å°±åƒå…¶ä»–å¯¹è±¡ä¸€æ ·ï¼Œå‡½æ•°å¯ä»¥è¢«æŒ‡å®šä¸ºå±æ€§ã€‚å› æ­¤æˆ‘ä»¬å·²ç»å£°æ˜â€œhilightâ€ä¸ºjQueryçš„å±æ€§å¯¹è±¡ï¼Œä»»ä½•å…¶ä»–çš„å±æ€§æˆ–è€…å‡½æ•°æˆ‘ä»¬éœ€è¦æš´éœ²å‡ºæ¥çš„ï¼Œéƒ½å¯ä»¥åœ¨â€hilightâ€ å‡½æ•°ä¸­è¢«å£°æ˜å±æ€§ã€‚ç¨åç»§ç»­ã€‚2.2 æ¥å—optionså‚æ•°ä»¥æ§åˆ¶æ’ä»¶çš„è¡Œä¸ºè®©æˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„æ’ä»¶æ·»åŠ åŠŸèƒ½æŒ‡å®šå‰æ™¯è‰²å’ŒèƒŒæ™¯è‰²çš„åŠŸèƒ½ã€‚æˆ‘ä»¬ä¹Ÿè®¸ä¼šè®©é€‰é¡¹åƒä¸€ä¸ªoptionså¯¹è±¡ä¼ é€’ç»™æ’ä»¶å‡½æ•°ã€‚ä¾‹å¦‚ï¼šJavaä»£ç  // plugin definition$.fn.hilight = function(options) { var defaults = { foreground: â€˜redâ€™, background: â€˜yellowâ€™ }; // Extend our default options with those provided. var opts = $.extend(defaults, options); // Our plugin implementation code goes here.};æˆ‘ä»¬çš„æ’ä»¶å¯ä»¥è¿™æ ·è¢«è°ƒç”¨ï¼š$(â€˜#myDivâ€™).hilight({ foreground: â€˜blueâ€™}); 2.3 æš´éœ²æ’ä»¶çš„é»˜è®¤è®¾ç½®æˆ‘ä»¬åº”è¯¥å¯¹ä¸Šé¢ä»£ç çš„ä¸€ç§æ”¹è¿›æ˜¯æš´éœ²æ’ä»¶çš„é»˜è®¤è®¾ç½®ã€‚è¿™å¯¹äºè®©æ’ä»¶çš„ä½¿ç”¨è€…æ›´å®¹æ˜“ç”¨è¾ƒå°‘çš„ä»£ç è¦†ç›–å’Œä¿®æ”¹æ’ä»¶ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹åˆ©ç”¨å‡½æ•°å¯¹è±¡ã€‚ Javaä»£ç  // plugin definition$.fn.hilight = function(options) { // Extend our default options with those provided. // Note that the first arg to extend is an empty object - // this is to keep from overriding our â€œdefaultsâ€ object. var opts = $.extend({}, $.fn.hilight.defaults, options); // Our plugin implementation code goes here.};// plugin defaults - added as a property on our plugin function$.fn.hilight.defaults = { foreground: â€˜redâ€™, background: â€˜yellowâ€™};ç°åœ¨ä½¿ç”¨è€…å¯ä»¥åŒ…å«åƒè¿™æ ·çš„ä¸€è¡Œåœ¨ä»–ä»¬çš„è„šæœ¬é‡Œï¼š//è¿™ä¸ªåªéœ€è¦è°ƒç”¨ä¸€æ¬¡ï¼Œä¸”ä¸ä¸€å®šè¦åœ¨readyå—ä¸­è°ƒç”¨$.fn.hilight.defaults.foreground = â€˜blueâ€™;æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·ä½¿ç”¨æ’ä»¶çš„æ–¹æ³•ï¼Œç»“æœå®ƒè®¾ç½®è“è‰²çš„å‰æ™¯è‰²ï¼š$(â€˜#myDivâ€™).hilight(); å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬å…è®¸ä½¿ç”¨è€…å†™ä¸€è¡Œä»£ç åœ¨æ’ä»¶çš„é»˜è®¤å‰æ™¯è‰²ã€‚è€Œä¸”ä½¿ç”¨è€…ä»ç„¶åœ¨éœ€è¦çš„æ—¶å€™å¯ä»¥æœ‰é€‰æ‹©çš„è¦†ç›–è¿™äº›æ–°çš„é»˜è®¤å€¼ï¼š// è¦†ç›–æ’ä»¶ç¼ºçœçš„èƒŒæ™¯é¢œè‰²$.fn.hilight.defaults.foreground = â€˜blueâ€™;// â€¦// ä½¿ç”¨ä¸€ä¸ªæ–°çš„ç¼ºçœè®¾ç½®è°ƒç”¨æ’ä»¶$(â€˜.hilightDivâ€™).hilight();// â€¦// é€šè¿‡ä¼ é€’é…ç½®å‚æ•°ç»™æ’ä»¶æ–¹æ³•æ¥è¦†ç›–ç¼ºçœè®¾ç½®$(â€˜#greenâ€™).hilight({ foreground: â€˜greenâ€™});2.4 é€‚å½“çš„æš´éœ²ä¸€äº›å‡½æ•°è¿™æ®µå°†ä¼šä¸€æ­¥ä¸€æ­¥å¯¹å‰é¢é‚£æ®µä»£ç é€šè¿‡æœ‰æ„æ€çš„æ–¹æ³•æ‰©å±•ä½ çš„æ’ä»¶ï¼ˆåŒæ—¶è®©å…¶ä»–äººæ‰©å±•ä½ çš„æ’ä»¶ï¼‰ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ’ä»¶çš„å®ç°é‡Œé¢å¯ä»¥å®šä¹‰ä¸€ä¸ªåå«â€formatâ€çš„å‡½æ•°æ¥æ ¼å¼åŒ–é«˜äº®æ–‡æœ¬ã€‚æˆ‘ä»¬çš„æ’ä»¶ç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·ï¼Œé»˜è®¤çš„formatæ–¹æ³•çš„å®ç°éƒ¨åˆ†åœ¨hiligthå‡½æ•°ä¸‹é¢ã€‚Javaä»£ç  // plugin definition$.fn.hilight = function(options) { // iterate and reformat each matched element return this.each(function() { var $this = $(this); // â€¦ var markup = $this.html(); // call our format function markup = $.fn.hilight.format(markup); $this.html(markup); });};// define our format function$.fn.hilight.format = function(txt) {return â€˜â€˜ + txt + â€˜â€˜;}; æˆ‘ä»¬å¾ˆå®¹æ˜“çš„æ”¯æŒoptionså¯¹è±¡ä¸­çš„å…¶ä»–çš„å±æ€§é€šè¿‡å…è®¸ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥è¦†ç›–é»˜è®¤çš„è®¾ç½®ã€‚è¿™æ˜¯å¦å¤–ä¸€ä¸ªå‡ºè‰²çš„æ–¹æ³•æ¥ä¿®æ”¹ä½ çš„æ’ä»¶ã€‚è¿™é‡Œå±•ç¤ºçš„æŠ€å·§æ˜¯è¿›ä¸€æ­¥æœ‰æ•ˆçš„æš´éœ²formatå‡½æ•°è¿›è€Œè®©ä»–èƒ½è¢«é‡æ–°å®šä¹‰ã€‚é€šè¿‡è¿™æŠ€å·§ï¼Œæ˜¯å…¶ä»–äººèƒ½å¤Ÿä¼ é€’ä»–ä»¬è‡ªå·±è®¾ç½®æ¥è¦†ç›–ä½ çš„æ’ä»¶ï¼Œæ¢å¥è¯è¯´ï¼Œè¿™æ ·å…¶ä»–äººä¹Ÿèƒ½å¤Ÿä¸ºä½ çš„æ’ä»¶å†™æ’ä»¶ã€‚ è€ƒè™‘åˆ°è¿™ä¸ªç¯‡æ–‡ç« ä¸­æˆ‘ä»¬å»ºç«‹çš„æ— ç”¨çš„æ’ä»¶ï¼Œä½ ä¹Ÿè®¸æƒ³çŸ¥é“ç©¶ç«Ÿä»€ä¹ˆæ—¶å€™è¿™äº›ä¼šæœ‰ç”¨ã€‚ä¸€ä¸ªçœŸå®çš„ä¾‹å­æ˜¯Cycleæ’ä»¶.è¿™ä¸ªCycleæ’ä»¶æ˜¯ä¸€ä¸ªæ»‘åŠ¨æ˜¾ç¤ºæ’ä»¶ï¼Œä»–èƒ½æ”¯æŒè®¸å¤šå†…éƒ¨å˜æ¢ä½œç”¨åˆ°æ»šåŠ¨ï¼Œæ»‘åŠ¨ï¼Œæ¸å˜æ¶ˆå¤±ç­‰ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œæ²¡æœ‰åŠæ³•å®šä¹‰ä¹Ÿè®¸ä¼šåº”ç”¨åˆ°æ»‘åŠ¨å˜åŒ–ä¸Šæ¯ç§ç±»å‹çš„æ•ˆæœã€‚é‚£æ˜¯è¿™ç§æ‰©å±•æ€§æœ‰ç”¨çš„åœ°æ–¹ã€‚ Cycleæ’ä»¶å¯¹ä½¿ç”¨è€…æš´éœ²â€transitionsâ€å¯¹è±¡ï¼Œä½¿ä»–ä»¬æ·»åŠ è‡ªå·±å˜æ¢å®šä¹‰ã€‚æ’ä»¶ä¸­å®šä¹‰å°±åƒè¿™æ ·ï¼š$.fn.cycle.transitions = {// â€¦};è¿™ä¸ªæŠ€å·§ä½¿å…¶ä»–äººèƒ½å®šä¹‰å’Œä¼ é€’å˜æ¢è®¾ç½®åˆ°Cycleæ’ä»¶ã€‚2.5 ä¿æŒç§æœ‰å‡½æ•°çš„ç§æœ‰æ€§è¿™ç§æŠ€å·§æš´éœ²ä½ æ’ä»¶ä¸€éƒ¨åˆ†æ¥è¢«è¦†ç›–æ˜¯éå¸¸å¼ºå¤§çš„ã€‚ä½†æ˜¯ä½ éœ€è¦ä»”ç»†æ€è€ƒä½ å®ç°ä¸­æš´éœ²çš„éƒ¨åˆ†ã€‚ä¸€ä½†è¢«æš´éœ²ï¼Œä½ éœ€è¦åœ¨å¤´è„‘ä¸­ä¿æŒä»»ä½•å¯¹äºå‚æ•°æˆ–è€…è¯­ä¹‰çš„æ”¹åŠ¨ä¹Ÿè®¸ä¼šç ´åå‘åçš„å…¼å®¹æ€§ã€‚ä¸€ä¸ªé€šç†æ˜¯ï¼Œå¦‚æœä½ ä¸èƒ½è‚¯å®šæ˜¯å¦æš´éœ²ç‰¹å®šçš„å‡½æ•°ï¼Œé‚£ä¹ˆä½ ä¹Ÿè®¸ä¸éœ€è¦é‚£æ ·åšã€‚é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆå®šä¹‰æ›´å¤šçš„å‡½æ•°è€Œä¸æ…ä¹±å‘½åç©ºé—´ä¹Ÿä¸æš´éœ²å®ç°å‘¢ï¼Ÿè¿™å°±æ˜¯é—­åŒ…çš„åŠŸèƒ½ã€‚ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä»¬å°†ä¼šæ·»åŠ å¦å¤–ä¸€ä¸ªâ€œdebugâ€å‡½æ•°åˆ°æˆ‘ä»¬çš„æ’ä»¶ä¸­ã€‚è¿™ä¸ª debugå‡½æ•°å°†ä¸ºè¾“å‡ºè¢«é€‰ä¸­çš„å…ƒç´ æ ¼å¼åˆ°firebugæ§åˆ¶å°ã€‚ä¸ºäº†åˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œæˆ‘ä»¬å°†åŒ…è£…æ•´ä¸ªæ’ä»¶å®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ã€‚Javaä»£ç  (function($) { // plugin definition $.fn.hilight = function(options) { debug(this); // â€¦ }; // private function for debugging function debug($obj) { if (window.console &amp;&amp; window.console.log) window.console.log(â€˜hilight selection count: â€˜ + $obj.size()); };// â€¦})(jQuery); æˆ‘ä»¬çš„â€œdebugâ€æ–¹æ³•ä¸èƒ½ä»å¤–éƒ¨é—­åŒ…è¿›å…¥,å› æ­¤å¯¹äºæˆ‘ä»¬çš„å®ç°æ˜¯ç§æœ‰çš„ã€‚2.6 æ”¯æŒMetadataæ’ä»¶åœ¨ä½ æ­£åœ¨å†™çš„æ’ä»¶çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ å¯¹Metadataæ’ä»¶çš„æ”¯æŒèƒ½ä½¿ä»–æ›´å¼ºå¤§ã€‚ä¸ªäººæ¥è¯´ï¼Œæˆ‘å–œæ¬¢è¿™ä¸ªMetadataæ’ä»¶ï¼Œå› ä¸ºå®ƒè®©ä½ ä½¿ç”¨ä¸å¤šçš„â€markupâ€è¦†ç›–æ’ä»¶çš„é€‰é¡¹ï¼ˆè¿™éå¸¸æœ‰ç”¨å½“åˆ›å»ºä¾‹å­æ—¶ï¼‰ã€‚è€Œä¸”æ”¯æŒå®ƒéå¸¸ç®€å•ã€‚æ›´æ–°ï¼šæ³¨é‡Šä¸­æœ‰ä¸€ç‚¹ä¼˜åŒ–å»ºè®®ã€‚Javaä»£ç  $.fn.hilight = function(options) { // â€¦ // build main options before element iteration var opts = $.extend({}, $.fn.hilight.defaults, options); return this.each(function() { var $this = $(this); // build element specific options var o = $.meta ? $.extend({}, opts, $this.data()) : opts; //â€¦ è¿™äº›å˜åŠ¨è¡Œåšäº†ä¸€äº›äº‹æƒ…ï¼šå®ƒæ˜¯æµ‹è¯•Metadataæ’ä»¶æ˜¯å¦è¢«å®‰è£…å¦‚æœå®ƒè¢«å®‰è£…äº†ï¼Œå®ƒèƒ½æ‰©å±•æˆ‘ä»¬çš„optionså¯¹è±¡é€šè¿‡æŠ½å–å…ƒæ•°æ®è¿™è¡Œä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°æ·»åŠ åˆ°JQuery.extendï¼Œé‚£ä¹ˆå®ƒå°†ä¼šè¦†ç›–ä»»ä½•å…¶å®ƒé€‰é¡¹è®¾ç½®ã€‚ç°åœ¨æˆ‘ä»¬èƒ½ä»â€markupâ€å¤„é©±åŠ¨è¡Œä¸º,å¦‚æœæˆ‘ä»¬é€‰æ‹©äº†â€œmarkupâ€ï¼š è°ƒç”¨çš„æ—¶å€™å¯ä»¥è¿™æ ·å†™ï¼š jQuery.foo(); æˆ– $.foo(); Javaä»£ç  Have a nice day! Have a nice day! Have a nice day! ç°åœ¨æˆ‘ä»¬èƒ½é«˜äº®å“ªäº›divä»…ä½¿ç”¨ä¸€è¡Œè„šæœ¬ï¼š $('.hilight').hilight(); 2.7 æ•´åˆä¸‹é¢ä½¿æˆ‘ä»¬çš„ä¾‹å­å®Œæˆåçš„ä»£ç ï¼š Javaä»£ç  // åˆ›å»ºä¸€ä¸ªé—­åŒ…(function($) { // æ’ä»¶çš„å®šä¹‰ $.fn.hilight = function(options) { debug(this); // build main options before element iteration var opts = $.extend({}, $.fn.hilight.defaults, options); // iterate and reformat each matched element return this.each(function() { $this = $(this); // build element specific options var o = $.meta ? $.extend({}, opts, $this.data()) : opts; // update element styles $this.css({ backgroundColor: o.background, color: o.foreground }); var markup = $this.html(); // call our format function markup = $.fn.hilight.format(markup); $this.html(markup); }); }; // ç§æœ‰å‡½æ•°ï¼šdebugging function debug($obj) { if (window.console &amp;&amp; window.console.log) window.console.log(â€˜hilight selection count: â€˜ + $obj.size()); }; // å®šä¹‰æš´éœ²formatå‡½æ•° $.fn.hilight.format = function(txt) { return â€˜â€˜ + txt + â€˜â€˜; }; // æ’ä»¶çš„defaults $.fn.hilight.defaults = { foreground: â€˜redâ€™, background: â€˜yellowâ€™ };// é—­åŒ…ç»“æŸ})(jQuery); è¿™æ®µè®¾è®¡å·²ç»è®©æˆ‘åˆ›å»ºäº†å¼ºå¤§ç¬¦åˆè§„èŒƒçš„æ’ä»¶ã€‚æˆ‘å¸Œæœ›å®ƒèƒ½è®©ä½ ä¹Ÿèƒ½åšåˆ°ã€‚3ã€æ€»ç»“jQueryä¸ºå¼€å‘æ’ä»¶ææ‹±äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼šjQuery.fn.extend(object); ç»™jQueryå¯¹è±¡æ·»åŠ æ–¹æ³•ã€‚jQuery.extend(object); ä¸ºæ‰©å±•jQueryç±»æœ¬èº«.ä¸ºç±»æ·»åŠ æ–°çš„æ–¹æ³•ã€‚3.1 jQuery.fn.extend(object);fn æ˜¯ä»€ä¹ˆä¸œè¥¿å‘¢ã€‚æŸ¥çœ‹jQueryä»£ç ï¼Œå°±ä¸éš¾å‘ç°ã€‚jQuery.fn = jQuery.prototype = {init: function( selector, context ) {//â€¦.//â€¦â€¦};åŸæ¥ jQuery.fn = jQuery.prototype.å¯¹prototypeè‚¯å®šä¸ä¼šé™Œç”Ÿå•¦ã€‚è™½ç„¶ javascript æ²¡æœ‰æ˜ç¡®çš„ç±»çš„æ¦‚å¿µï¼Œä½†æ˜¯ç”¨ç±»æ¥ç†è§£å®ƒï¼Œä¼šæ›´æ–¹ä¾¿ã€‚jQueryä¾¿æ˜¯ä¸€ä¸ªå°è£…å¾—éå¸¸å¥½çš„ç±»ï¼Œæ¯”å¦‚æˆ‘ä»¬ç”¨ è¯­å¥ $(â€œ#btn1â€) ä¼šç”Ÿæˆä¸€ä¸ª jQueryç±»çš„å®ä¾‹ã€‚jQuery.fn.extend(object); å¯¹jQuery.prototypeè¿›å¾—æ‰©å±•ï¼Œå°±æ˜¯ä¸ºjQueryç±»æ·»åŠ â€œæˆå‘˜å‡½æ•°â€ã€‚jQueryç±»çš„å®ä¾‹å¯ä»¥ä½¿ç”¨è¿™ä¸ªâ€œæˆå‘˜å‡½æ•°â€ã€‚æ¯”å¦‚æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªæ’ä»¶ï¼Œåšä¸€ä¸ªç‰¹æ®Šçš„ç¼–è¾‘æ¡†ï¼Œå½“å®ƒè¢«ç‚¹å‡»æ—¶ï¼Œä¾¿alert å½“å‰ç¼–è¾‘æ¡†é‡Œçš„å†…å®¹ã€‚å¯ä»¥è¿™ä¹ˆåšï¼š$.fn.extend({ alertWhileClick:function(){ $(this).click(function(){ alert($(this).val()); }); }});$(â€œ#input1â€).alertWhileClick(); //é¡µé¢ä¸Šä¸ºï¼š$(â€œ#input1â€) ä¸ºä¸€ä¸ªjQueryå®ä¾‹ï¼Œå½“å®ƒè°ƒç”¨æˆå‘˜æ–¹æ³• alertWhileClickåï¼Œä¾¿å®ç°äº†æ‰©å±•ï¼Œæ¯æ¬¡è¢«ç‚¹å‡»æ—¶å®ƒä¼šå…ˆå¼¹å‡ºç›®å‰ç¼–è¾‘é‡Œçš„å†…å®¹ã€‚3.2 jQuery.extend(object);ä¸ºjQueryç±»æ·»åŠ æ·»åŠ ç±»æ–¹æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºæ·»åŠ é™æ€æ–¹æ³•ã€‚å¦‚ï¼š$.extend({ add:function(a,b){return a+b;}});ä¾¿ä¸º jQuery æ·»åŠ ä¸€ä¸ªä¸º add çš„ â€œé™æ€æ–¹æ³•â€ï¼Œä¹‹åä¾¿å¯ä»¥åœ¨å¼•å…¥ jQuery çš„åœ°æ–¹ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•äº†ï¼Œ$.add(3,4); //return 7","link":"/posts/jQuery%E6%8F%92%E4%BB%B6%E6%80%9D%E8%B7%AF%E6%95%B4%E7%90%86/"},{"title":"javaåŸºç¡€","text":"Stringæ˜¯å¤åˆç±»å‹ï¼Œint ,float æ˜¯åŸºæœ¬ç±»å‹ å¤åˆç±»å‹æ˜¯å¯¹è±¡ç±»å‹ï¼Œå¯¹è±¡è‡ªå·±æä¾›äº†æ¯”è¾ƒæ–¹æ³• 12String a = &quot;A&quot;; String b = a+&quot;&quot;;System.out.println(a==b);-----------false; ä¸²ä¸å­ä¸²substring(begin,end) åŒ…å«beginï¼Œä¸å«endï¼ŒåŠå¼€åŒºé—´[begin,end); è¿›åˆ¶è½¬æ¢ Integer.parseInt(ä¸²,è¿›åˆ¶) Integer.toString(æ•´æ•°,è¿›åˆ¶) Integer.toBinaryString(æ•°å€¼) Integer.toHexString(æ•°å€¼) æ—¶é—´è®¡ç®—long a = 365L2460601000 â€”â€”â€”-è½¬ä¸ºlongå‹ï¼Œè‡ªåŠ¨å‘longå‹è½¬æ¢long a = (long)â€¦â€¦long a = 1L*â€¦â€¦â€”â€”â€”â€”-éä¾µå…¥å¼ ç±»å‹è½¬æ¢ è‡ªåŠ¨å‘é«˜çº§åˆ«è½¬æ¢ byte-&gt;short-&gt;int-&gt;long-&gt;float-&gt;double æ— éœ€ç‰¹æ®Šéœ€è¦ï¼Œå°½é‡ä½¿ç”¨int æ„é€  åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™å¯¹ä»–è¿›è¡Œä¸€æ¬¡åˆç”Ÿçš„æ´—ç¤¼ï¼Œè®¾ç½®ä¸€äº›åˆå§‹å€¼ã€‚ 123456789101112131415161718192021class Age{ public Age(){//æ²¡æœ‰è¿”å›å€¼ã€‚æ²¡æœ‰voidæ¯”æœ‰voidæ›´ç‰›ã€‚æ„é€ æ–¹æ³•ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªã€‚ å¤šç§å‡ºç”Ÿæ–¹å¼ï¼Œ åªé€‰æ‹©ä¸€ç§ æ²¡æœ‰æä¾›æ„é€ æ–¹æ³•ï¼Œé»˜è®¤æä¾›ä¸€ç§ï¼Œå½“æä¾›äº†ä»¥åï¼Œéœ€è¦æä¾›ä¸€ä¸ªé»˜è®¤çš„ã€‚ é‡è½½ overload åå­—ç›¸åŒï¼Œä½†å‚æ•°ä¸åŒï¼Œï¼ˆä¸ªæ•°ï¼Œç±»å‹ï¼‰ //æˆå‘˜æ•°æ®(å­—æ®µ)çš„åˆå§‹åŒ– x=1;}public Age(int type) { if(type==1) x==1; else if(type==2) x==18; else x =1;}}Class B { public B(int x ){} public B(){}} å †æ ˆï¼Œä¸€èˆ¬æŒ‡æ ˆã€‚ å®šä¹‰æ•°ç»„ 1234int[] a = [3,7,9,5];int[] a = new int[4];//é»˜è®¤ä¸º0int[] a = null;a =new int[][2,6,8]; æ–æ³¢é‚£å¥‘æ•°åˆ— 1ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ8ï¼Œ18ï¼Œ21 123456789101112131415int a = 1;int b =1;for(int i=3;i&lt;=30;i++){ int c = a+b; System.out.println(c); a= b; b= c;}int[] a = new int[30];a[0] = 1;a[1] = 1;for(int i=2;i&lt;a.length;i++){ a[i] = a[i-1]+a[i-2]; System.out.println(a[i]);}int[][] a = {{2,9,4},{7,5,3},{6,1,8}}; ä¼ é€’çš„å‚æ•°æœ€å¤§ä¸º8å­—èŠ‚ï¼Œå®é™…ä¸Šjavaä¸å¯èƒ½ä¼ é€’å¯¹è±¡ï¼Œè‡³å¤šï¼Œjavaä¼ é€’å¯¹è±¡çš„å¼•ç”¨ã€‚ æ•°ç»„çš„åº”ç”¨ 12String s = &quot;1234567&quot;;char[] cc = s.toCharArray(); æ•°ç»„å¼±ç‚¹ 1.å¤§å°å›ºå®šï¼Œä¸èƒ½æ‰©å±• 2.åœ¨æ•°ç»„ä¸­æ’å…¥ã€åˆ é™¤å…ƒç´ æ“ä½œå¤æ‚åŠ¨æ€æ•°ç»„â€“Vector ArrayList. ä»»æ„ä½ç½®æ’å…¥ï¼Œåˆ é™¤å®¹æ˜“ å¯ä»¥åŠ¨æ€å¢é•¿ éšæœºè®¿é—®æ¯”æ•°ç»„æ…¢ this thisæ˜¯éšè—çš„å½¢å‚å˜é‡ï¼Œæ˜¯ä¸€ä¸ªåœ°å€å€¼(å¯¹è±¡å†…å­˜ä¸­åœ°å€)ï¼Œæ˜¯æ ˆå˜é‡ å½¢å¼å‚æ•°çš„å€¼ä»å®å‚æ‹·è´è¿‡æ¥ static æ„é€ æ–¹æ³•ä¸é€‚åˆ æ„é€ æ–¹æ³•åœ¨æ¯æ¬¡åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œè‡ªåŠ¨æ‰§è¡Œ ä¸åˆ›å»ºå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•å°±æ²¡æœ‰æœºä¼šæ‰§è¡Œ staticå—åœ¨ç±»åŠ è½½å…¥å†…å­˜æ—¶æ‰§è¡Œä¸€æ¬¡ ä»…ä»…æ‰§è¡Œä¸€æ¬¡ï¼Œä¸ä¼šåå¤æ‰§è¡Œ ä¸ç±»åŒæ—¶å­˜åœ¨ ç»§æ‰¿ å°è£…æ˜¯åŸºç¡€ï¼Œç»§æ‰¿æ˜¯æ¡¥æ¢ï¼Œå¤šæ€æ˜¯åå½©ä¹ç«  ç»§æ‰¿çš„ç›®çš„ï¼Œé‡ç”¨ä»£ç ï¼Œä¸ºå¤šæ€é“ºå¹³ä»£ç  javaé‡‡ç”¨æ¥å£ä»£æ›¿å¤šç»§æ‰¿ javaç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œä½†å¯ä»¥å®ç°å¤šä¸ªæ¥å£ æ–¹æ³•è¦†ç›– å­ç±»ä¸çˆ¶ç±»ä¸­åŒåçš„æ–¹æ³• é‡è½½ é‡è½½æ˜¯ç¼–è¯‘æ—¶å¯ä»¥åŒºåˆ†çš„ è¦†ç›–æ˜¯åœ¨è¿è¡Œæ—¶å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³• è¦†ç›–æ˜¯å¤šæ€çš„åŸºç¡€ æ³›åŒ– å¯¹è±¡ä¸å‘ç”Ÿå˜åŒ–ï¼Œåªæ˜¯æŒ‡é’ˆå‘ç”Ÿå˜åŒ– æ˜¯æŒ‡é’ˆå¼•ç”¨çš„æ³›åŒ–ï¼Œå¹¶ä¸æ˜¯å¯¹è±¡çš„æ³›åŒ–ï¼Œå¹¶ä¸æ˜¯ç±»çš„æ³›åŒ– å¤šæ€ æ„ä¹‰ å¾ˆç‰›ï¼ï¼ï¼ å¤šæ€ï¼Œæ³›åŒ– final æƒ¯ç”¨æ³• é™æ€å¸¸é‡ ç”¨æ¥å®šä¹‰è‹¥å¹²ä¸ªé€‰é¡¹ï¼Œå¢åŠ å¯è¯»æ€§ å¼‚å¸¸æ§åˆ¶ æŠŠå¼‚å¸¸çš„å‘ç°å’Œå¤„ç†åˆ†ç¦» åˆ†å·¥ ä¸“é—¨çš„äººåšä¸“é—¨çš„äº‹ ç”Ÿäº§ä¸æ–­ç¤¾ä¼šåŒ–çš„è¿‡ç¨‹ã€‚ è®¾è®¡ä¸ç¼–ç åˆ†ç¦» åŠŸèƒ½å’Œå®ç°åˆ†ç¦» é”™è¯¯çš„å‘ç°å’Œæ§åˆ¶åˆ†ç¦» å¼‚å¸¸å¤„ç† 123456789// 1try{// 2//å‡ºå¼‚å¸¸ }catch{// 3}finally{// 4} æ‰§è¡Œé¡ºåº: 1243 é‡å®šå‘ è¿½åŠ è¾“å‡ºåˆ°&lt;å¯¼å…¥ æŠ½è±¡æ–¹æ³•ï¼Œæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•å°±æ˜¯æŠ½è±¡ç±»abstractæ¾è€¦åˆçš„ç§˜è¯€ å†…éƒ¨ç±»å¯¹è±¡ å¤–éƒ¨ç±»å¯¹è±¡ä¸å­˜åœ¨æ— æ³•åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡ å¤–éƒ¨ç±»å¯¹è±¡.new å†…éƒ¨ç±»() åŒ¿åå¯¹è±¡ç±» åŒ¿åå¯¹è±¡ ï¼šå¯¹è±¡åªç”¨äº†ä¸€æ¬¡ åŒ¿åç±» æƒ³ä¸´æ—¶åˆ›å»ºå®ç°æŸä¸ªæ¥å£ç±»ï¼Œåªç”¨ä¸€æ¬¡ï¼Œä¸å€¼å¾—å‘½å ç»§æ‰¿ç±»æ˜¯ä¸´æ—¶çš„ å¯¹è±¡ï¼Œç»§æ‰¿ç±»æ‰€åˆ›å»ºçš„å¯¹è±¡æ˜¯ä¸´æ—¶çš„ï¼›ç»§æ‰¿ç±»æ‰€åˆ›å»ºå¯¹è±¡éœ€è¦å¤šæ¬¡ä½¿ç”¨ï¼Œæ³¨æ„æ³›åŒ–ã€‚ ç¼–è¯‘javac -classpath d:\\abc\\xyz A.javaå‘½ä»¤è¡Œé€‰é¡¹ï¼Œç¼–è¯‘é€‰é¡¹å¯ä»¥ç®€å†™æˆ-cpå¯»æ‰¾classæ–‡ä»¶ javac.exeæ‰€åœ¨ä½ç½®çš„ç›¸å¯¹ä½ç½® -classpathå‚æ•°æ‰€æŒ‡å®šçš„ä½ç½® classpathç¯å¢ƒå˜é‡æ‰€å£°ç§°çš„ä½ç½® æ‰“åŒ…jar.exe èƒ½å¤„ç†æ‰“åŒ…å’Œè§£åŒ…çš„å·¥ä½œ jar -cvf A.java æ–‡æ¡£è‡ªåŠ¨åŒ– javadoc -d æ–‡æ¡£ä½ç½® xx.java javadoc -d æ–‡æ¡£ä½ç½® -encoding utf-8 åˆ¶å®šç¼–ç æ–¹å¼ 12345678910111213141516171819@param x å‚æ•°çš„æè¿°@return è¿”å›å€¼çš„æè¿°@exception å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸@see å‚è§å…¶ä»–æ¨¡å—@version ç‰ˆæœ¬å·@author ä½œè€…/***æˆ‘çš„æ–‡æ¡£è‡ªåŠ¨åŒ–ç¤ºä¾‹ç±»&lt;br&gt;*ç¬¬äºŒè¡Œ x&lt;sup&gt;2&lt;/sup&gt;+Y&lt;sup&gt;2&lt;/sup&gt;*/public class A{ /** *åœ¨æ•°ç»„ä¸­å¤„ç†æŸ¥æ‰¾æ•´æ•°ï¼Œè¿”å›ä½ç½® */ public init search(int[] x,int a ){ }} android å¼€å‘ç¯å¢ƒæ­å»ºç»éªŒç§¯ç´¯ Android Studioä¸­æ˜¾ç¤ºï¼šHAX is not working and emulator runs in emulation modeæ—¶ï¼Œå»Tools-&gt;Android-&gt;SDK Managerç„¶åé€‰ä¸­Extras-&gt;Intel X86 Emulator Accelerator (HAXM installer)å¹¶å®‰è£…å³å¯ã€‚è®°å¾—å¦‚æœHAXæ•ˆæœæ²¡ç”Ÿæ•ˆï¼Œåˆ™è¯•è¯•é‡å¯Android Studioè¯•è¯•ï¼Œæˆ–è®¸å°±å¯ä»¥äº†ã€‚ç›¸å¯¹æ¥è¯´ï¼šå’Œä¹‹å‰çš„Eclipse+ADTæ—¶ä»£ï¼Œè¦å…ˆåè‡ªå·±æ‰‹åŠ¨ä¸‹è½½HAXç›¸å…³å·¥å…·å¹¶å®‰è£…å’Œé…ç½®ï¼Œçš„åšæ³•ç›¸æ¯”ï¼ŒAndroid Studioä¸­åªéœ€è¦é€‰ä¸­å¹¶å®‰è£…å³å¯æå®šï¼Œè¦æ–¹ä¾¿å¤šäº†ã€‚","link":"/posts/java%E5%9F%BA%E7%A1%80/"},{"title":"js å®šæ—¶å™¨","text":"ä¸€ã€å®šæ—¶å™¨setTimeout: è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨å®šæ—¶å™¨åˆ°æœŸåï¼Œæ‰§è¡Œä¸€æ®µä»£ç æˆ–ä»£ç æ®µ123var timeoutId = window.setTimeout(func[, delay, param1, param2, ... ]);var timeoutId = window.setTimeout(code[, delay]); timeoutId: å®šæ—¶å™¨ID func: å»¶è¿Ÿæ‰§è¡Œçš„å‡½æ•° code: å»¶è¿Ÿæ‰§è¡Œçš„ä»£ç å­—ç¬¦ä¸²ï¼Œä¸æ¨èä½¿ç”¨ï¼ŒåŸç†ç±»ä¼¼eval delay: å»¶è¿Ÿçš„æ—¶é—´(å•ä½ï¼šæ¯«ç§’)ï¼Œé»˜è®¤å€¼0 param1, param2: å‘å»¶è¿Ÿå‡½æ•°ä¼ é€’çš„å‚æ•°ã€‚ setInterval: ä»¥å›ºå®šæ—¶é—´é—´éš”é‡å¤è°ƒç”¨ä¸€ä¸ªå‡½æ•°æˆ–ä»£ç æ®µ12var intervalId = window.setInterval(func, delay[, param1, param2, ...]);var intervalId = window.setInterval(code, delay); intarvalId: é‡å¤æ“ä½œçš„ID func: å»¶è¿Ÿè°ƒç”¨çš„å‡½æ•° code: ä»£ç æ®µ delay: å»¶è¿Ÿæ—¶é—´ï¼Œæ²¡æœ‰é»˜è®¤å€¼ setImmediateï¼š åœ¨æµè§ˆå™¨å®Œå…¨ç»“æŸå½“å‰è¿è¡Œçš„æ“ä½œä¹‹åç«‹å³æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°(ä»…IE10å’ŒNode0.10+å®ç°)ï¼Œç±»ä¼¼setTimeout(func, 0)setImmediateè®¾è®¡æ¥æ˜¯ä¸ºä¿è¯è®©ä»£ç åœ¨ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯æ‰§è¡Œï¼Œä»¥å‰setTimeout(0)è¿™ç§ä¸å¯é çš„æ–¹å¼å¯ä»¥ä¸¢æ‰äº†ã€‚ 123456789101112var immediateId = setImmediate(func[, param1, param2, ...]);var immediateId = setImmediate(func);(function testSetImmediate() { const label = 'setImmediate'; console.time(label); setImmediate(() =&gt; { console.timeEnd(label); });})(); immediateId: å®šæ—¶å™¨ID func: å›è°ƒ requestAnimationFrame: å¸§åŠ¨ç”»çš„API,æ ¹æ®æµè§ˆå™¨çš„åˆ·æ–°é¢‘ç‡è€Œå®š1var requestId = window.requestAnimationFrame(func); func: å›è°ƒ Promisees6ä¸­çš„å¼‚æ­¥æ¨¡å‹ã€‚åœ¨setTimeout(0), setImmediate,requestAnimationFrameå’ŒPromiseä¸­ï¼ŒPromiseä¼˜å…ˆçº§æœ€é«˜ã€‚ 1234567891011121314151617181920212223function testSetImmediate() { const label = 'setImmediate'; console.time(label); setImmediate(() =&gt; { console.timeEnd(label); });}function testPromise() { const label = 'Promise'; console.time(label); new Promise((resolve, reject) =&gt; { resolve(); }).then(() =&gt; { console.timeEnd(label); });}testSetImmediate();testPromise(); å°½ç®¡setImmediated å…ˆæ³¨å†Œï¼ŒPromiseå…ˆæ‰§è¡Œ process.nextTickæ˜¯Nodejsä¸­çš„APIï¼Œæ¯”Promiseæ›´æ—©æ‰§è¡Œ äº‹å®ä¸Šï¼ŒPromiseä¸ä¼šè¿›å…¥å¼‚æ­¥é˜Ÿåˆ—ï¼Œè€Œæ˜¯ç›´æ¥åœ¨ä¸»çº¿ç¨‹é˜Ÿåˆ—å°¾å¼ºæ’ä¸€ä¸ªä»»åŠ¡ï¼Œè™½ç„¶ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œä½†ä¼šé˜»å¡å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œã€‚å¦‚æœæœ‰åµŒå¥—çš„process.nextTickï¼Œé‚£å¼‚æ­¥ä»»åŠ¡å°±æ°¸è¿œæ²¡æœºä¼šè¢«æ‰§è¡Œåˆ°äº†ã€‚ä½¿ç”¨çš„æ—¶å€™è¦è°¨æ…ã€‚ä½†Vueä¸­çš„nextTickæ˜¯è¿™ä¸ªå®ç°çš„å—ï¼Ÿï¼Ÿï¼Ÿ äºŒã€ show me the codeåŸºæœ¬ç”¨æ³•12345678910111213141516171819var intervalId, timeoutId;timeoutId = setTimeout(function(){ console.log(1);}, 300);setTimeout(function(){ clearTimeout(timeoutId); console.log(2);}, 100);setTimeout('console.log(5)', 400);intervalId = setInterval(function(){ console.log(4); clearInterval(intervalId);}, 200);// åˆ†åˆ«è¾“å‡º2,4,5 setInterval å’ŒsetTimeout çš„åŒºåˆ«1234567891011121314151617181920212223242526272829303132333435363738394041424344setTimeout(function(){ console.log('timeout');}, 1000);setInterval(function(){ console.log('interval');}, 1000);// è¾“å‡ºä¸€æ¬¡timeoutï¼Œæ¯éš”1sè¾“å‡ºä¸€æ¬¡interval/*****-------------------***///é€šè¿‡setTimeoutæ¨¡æ‹ŸsetIntervalå’ŒsetIntervalçš„åŒºåˆ«var callback = function(){ if (times++ &gt; max) { clearTimeout(timeoutId); clearInterval(intervalId); } console.log('start', Date.now() - start); for(var i=0; i&lt; 990000000; i++){} console.log('end', Date.now() - start);},delay = 100,times = 0,max = 5,start = Date.now(),intervalId,timeoutId;function imitateInterval(fn, delay) { timeoutId = setTimeout(function(){ fn(); if(times &lt;= max) { imitateInterval(fn, delay); } }, delay);}imitateInterval(callback, delay);intervalId = setInterval(callback, delay); setTimeout å’ŒsetInterval ä»…åœ¨æ‰§è¡Œæ¬¡æ•°ä¸Šæœ‰åŒºåˆ«ï¼šsetTimeoutåªæ‰§è¡Œä¸€æ¬¡ï¼ŒsetIntervalæ‰§è¡Œnæ¬¡ã€‚ é€šè¿‡setTimeoutæ¨¡æ‹Ÿçš„setIntervalä¸setIntervalçš„åŒºåˆ«åœ¨äºï¼š setTimeoutåªåœ¨å›è°ƒå®Œæˆä¹‹åæ‰å›å»è°ƒç”¨ä¸‹ä¸€æ¬¡å®šæ—¶å™¨ï¼Œ è€ŒsetIntervalä¸ç®¡å›è°ƒå‡½æ•°æ‰§è¡Œæƒ…å†µï¼Œåˆ°è¾¾è§„å®šæ—¶é—´å°±ä¼šåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­æ’å…¥ä¸€ä¸ªæ‰§è¡Œå›è°ƒçš„äº‹ä»¶ï¼Œæ‰€ä»¥ï¼Œç”¨setIntervalæ—¶è¦è°¨æ…ï¼Œæ¯”å¦‚å‘é€è¯·æ±‚å¤±è´¥ï¼Œä¼šé€ æˆæ­»é“¾å †ç§¯ã€‚ show me what you can do12345678910111213141516171819202122232425262728293031323334353637383940//é¢˜ç›®1var t = true;setTimeout(function(){ t = false;}, 1000);while(t){}alert('end');/**----------------------*/// é¢˜ç›®2for(var i=0; i&lt;5; i++){ setTimeout(function(){ console.log(i); }, 0);}/**----------------------*/// é¢˜ç›®3var obj = { msg: 'obj', shout: function (){ alert(this.msg); }, waitAndShout: function(){ setTimeout(function (){ this.shout(); }, 0); }};obj.waitAndShout(); The truth ç¬¬ä¸€é¢˜ï¼š alertæ°¸è¿œä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºjsæ˜¯å•çº¿ç¨‹ï¼Œä¸”å®šæ—¶å™¨çš„å›è°ƒåœ¨ç­‰å¾…å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡å®Œæˆåæ‰æ‰§è¡Œï¼Œè€Œwhile(true){}è¿›å…¥æ­»å¾ªç¯ä¸€ç›´å ç”¨çº¿ç¨‹ï¼Œä¸ç»™å›è°ƒå‡½æ•°æ‰§è¡Œæœºä¼š ç¬¬äºŒé¢˜ è¾“å‡º55555. å½“i=0æ—¶ï¼Œç”Ÿæˆä¸€ä¸ªå®šæ—¶å™¨ï¼Œå°†å›è°ƒæ’å…¥äº‹ä»¶é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…å½“å‰é˜Ÿåˆ—æ— ä»»åŠ¡æ‰§è¡Œå†æ‰§è¡Œã€‚æ­¤æ—¶forå¾ªç¯æ­£åœ¨æ‰§è¡Œï¼Œå›è°ƒè¢«æç½®ã€‚å½“forå¾ªç¯æ‰§è¡Œå®Œæˆåï¼Œé˜Ÿåˆ—ä¸­æœ‰5ä¸ªå›è°ƒå‡½æ•°ï¼Œéƒ½æ‰§è¡Œconsole.log(i),å› ä¸ºå½“å‰jsæ²¡æœ‰ä½¿ç”¨å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥içš„å€¼åœ¨forå¾ªç¯ç»“æŸåä¸€ç›´ä¸º5ï¼Œè¾“å‡º5ä¸ª5. ç¬¬ä¸‰é¢˜ æŠ¥é”™ï¼šUncaught TypeError: this.shout is not a functionsetTimeout()è°ƒç”¨çš„ä»£ç è¿è¡Œåœ¨ä¸æ‰€åœ¨å‡½æ•°å®Œå…¨åˆ†ç¦»çš„æ‰§è¡Œç¯å¢ƒä¸Šï¼Œå¯¼è‡´ä»£ç ä¸­çš„thisæŒ‡å‘window(æˆ–å…¨å±€)å¯¹è±¡ï¼Œwindowå¯¹è±¡ä¸å­˜åœ¨shoutæ–¹æ³•ï¼Œæ‰€ä»¥æŠ¥é”™ã€‚ ä¿®æ”¹æ–¹æ¡ˆ 1234567891011121314var obj = { msg: 'obj', shout: function () { alert(this.msg); }, waitAndShout: function() { var self = this; // è¿™é‡Œå°†thisèµ‹ç»™ä¸€ä¸ªå˜é‡ setTimeout(function () { self.shout(); }, 0); }};obj.waitAndShout(); éœ€è¦æ³¨æ„ JSå¼•æ“åŸºäºäº‹ä»¶å¾ªç¯ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¼šå¼ºåˆ¶å¼‚æ­¥äº‹ä»¶æ’é˜Ÿæ‰§è¡Œ å¦‚æœsetIntervalçš„å›è°ƒæ‰§è¡Œæ—¶é—´é•¿äºæŒ‡å®šçš„å»¶è¿Ÿï¼ŒsetIntervalå°†æ— é—´éš”çš„ä¸€ä¸ªæ¥ä¸€ä¸ªæ‰§è¡Œ thisçš„æŒ‡å‘é—®é¢˜å¯ä»¥é€šè¿‡bindå‡½æ•°ï¼Œå®šä¹‰å˜é‡ï¼Œç®­å¤´å‡½æ•°çš„æ–¹å¼è§£å†³ã€‚ å¤šä¸ªå®šæ—¶å™¨å¦‚ä¸åŠæ—¶æ¸…é™¤ï¼Œä¼šå­˜åœ¨å¹²æ‰°ï¼Œæ˜¯å»¶è¿Ÿæ—¶é—´æ‰æ‘¸ä¸é€ã€‚æ‰€ä»¥ä¸ç®¡å®šæ—¶å™¨æœ‰æ²¡æœ‰æ‰§è¡Œå®Œï¼ŒåŠæ—¶æ¸…é™¤å·²ç»ä¸éœ€è¦çš„å®šæ—¶å™¨æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚ å¦‚æœsetTimeoutå’ŒsetIntervaléƒ½åœ¨å»¶è¿Ÿ100msä¹‹åæ‰§è¡Œï¼Œé‚£ä¹ˆè°å…ˆæ³¨å†Œè°å°±å…ˆæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚ JavaScriptå®šæ—¶å™¨ä¸æ‰§è¡Œæœºåˆ¶è§£æå‚è€ƒ","link":"/posts/js-%E5%AE%9A%E6%97%B6%E5%99%A8/"},{"title":"js-ç»„åˆå‡½æ•°","text":"æ¦‚å¿µcomposeå‡½æ•°ï¼Œä¼šæ¥æ”¶è‹¥å¹²ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ¯ä¸ªå‡½æ•°æ‰§è¡Œåçš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºï¼Œç›´è‡³æœ€åä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºä½œä¸ºæœ€ç»ˆçš„ç»“æœã€‚ show code~~~ 123456789let n = '3.56';let data = parseFloat(n);let result = Math.round(data); // =&gt; æœ€ç»ˆç»“æœ 4// ç”¨ ç»„åˆå‡½æ•°let n = '3.56';let number = compose(Math.round,parseFloat);let result = number(n); // =&gt;4 æœ€ç»ˆç»“æœ ä»¥ä¸Šä»£ç çš„æ ¸å¿ƒæ˜¯é€šè¿‡composeå°†parseFloatå’ŒMath.roundç»„åˆåˆ°ä¸€ä¸ªè¿”å›ä¸€ä¸ªæ–°å‡½æ•° number è¿™å°±æ˜¯å‡½æ•°å¼ç»„åˆï¼Œå°†ä¸¤ä¸ªå‡½æ•°ç»„åˆåœ¨ä¸€èµ·ä»¥ä¾¿èƒ½åŠæ—¶çš„æ„é€ å‡ºä¸€ä¸ªæ–°å‡½æ•°ã€‚ åº”ç”¨éœ€æ±‚: ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå¤§å†™ï¼Œç„¶åé€†åºã€‚ å¸¸è§„æ€è·¯ï¼š 123456789let str = 'jspool';// å…ˆè½¬æˆå¤§å†™ï¼Œå†é€†åºfunction fn(str) { let upperStr = str.toUpperCase(); return upperStr.split('').reverse().join();}fn(str); ä»£ç æ²¡é—®é¢˜ï¼Œç°åœ¨æ”¹éœ€æ±‚ã€‚å°†å­—ç¬¦ä¸²å¤§å†™ä¹‹åï¼Œæ¯ä¸ªå­—ç¬¦æ‹†å¼€å¹¶å°è£…æˆä¸€ä¸ªæ•°ç»„ã€‚&quot;jspool&quot; =&gt; [&quot;J&quot;,&quot;S&quot;,&quot;P&quot;,&quot;O&quot;,&quot;O&quot;,&quot;L&quot;] ä¸ºäº†ä¿®æ”¹è¿™ä¸ªç›®æ ‡ï¼Œéœ€è¦ä¿®æ”¹ä¹‹å‰å°è£…çš„å‡½æ•°ï¼Œè¿™å°±ç ´åäº†è®¾è®¡æ¨¡å¼çš„å¼€é—­åŸåˆ™ã€‚ å¼€é—­åŸåˆ™ï¼šè½¯ä»¶ä¸­çš„å¯¹è±¡ï¼ˆç±»ï¼Œæ¨¡å—ï¼Œå‡½æ•°ç­‰ç­‰ï¼‰åº”è¯¥å¯¹äºæ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºä¿®æ”¹æ˜¯å°é—­çš„ã€‚ ç”¨ç»„åˆæ€æƒ³æ€ä¹ˆå†™å‘¢? åŸéœ€æ±‚å®ç°ï¼š 12345678910111213let str = 'jspool'function stringToUpper(str) { return str.toUpperCase()}function stringReverse(str) { return str.split('').reverse().join('')}let toUpperAndReverse = compose(stringReverse, stringToUpper)let result = toUpperAndReverse(str) // &quot;LOOPSJ&quot; ç°åœ¨å®ç°æ–°éœ€æ±‚ 12345678910111213141516let str = 'jspool'function stringToUpper(str) { return str.toUpperCase()}function stringReverse(str) { return str.split('').reverse().join('')}function stringToArray(str) { return str.split('')}let toUpperAndArray = compose(stringToArray, stringToUpper)let result = toUpperAndArray(str) // =&gt; [&quot;J&quot;,&quot;S&quot;,&quot;P&quot;,&quot;O&quot;,&quot;O&quot;,&quot;L&quot;] å¯ä»¥çœ‹åˆ°ï¼Œéœ€æ±‚å˜æ›´æ—¶ï¼Œæ²¡æœ‰æ‰“ç ´å°è£…ä»¥å‰çš„ä»£ç ï¼Œåªæ˜¯æ–°å¢äº†å‡½æ•°åŠŸèƒ½ï¼ŒæŠŠå‡½æ•°è¿›è¡Œé‡æ–°ç»„åˆã€‚ å¯èƒ½æœ‰äººä¼šæœ‰ç–‘é—®ï¼Œåº”ç”¨ç»„åˆçš„æ–¹å¼ä¹¦å†™ä»£ç ï¼Œå½“éœ€æ±‚å˜æ›´æ—¶ï¼Œä¾ç„¶ä¹Ÿä¿®æ”¹äº†ä»£ç ï¼Œä¸æ˜¯ä¹Ÿç®—ç ´åäº†å¼€é—­åŸåˆ™ä¹ˆï¼Ÿå…¶å®æˆ‘ä»¬ä¿®æ”¹çš„æ˜¯è°ƒç”¨çš„é€»è¾‘ä»£ç ï¼Œå¹¶æ²¡æœ‰ä¿®æ”¹å°è£…ã€æŠ½è±¡å‡ºæ¥çš„ä»£ç ï¼Œè€Œè¿™ç§ä¹¦å†™æ–¹å¼ä¹Ÿæ­£æ˜¯å¼€é—­åŸåˆ™æ‰€æå€¡çš„ã€‚ ç°åœ¨åˆæ”¹éœ€æ±‚: å­—ç¬¦ä¸²è½¬å¤§å†™åï¼Œæˆªå–å‰3ä¸ªå­—ç¬¦ï¼Œç„¶åè½¬ä¸ºæ•°ç»„ã€‚ 123456789101112131415161718192021let str = 'jspool'function stringToUpper(str) { return str.toUpperCase()}function stringReverse(str) { return str.split('').reverse().join('')}function getThreeCharacters(str){ return str.substring(0,3)}function stringToArray(str) { return str.split('')}let toUpperAndGetThreeAndArray = compose(stringToArray, getThreeCharacters,stringToUpper)let result = toUpperAndGetThreeAndArray(str) // =&gt; [&quot;J&quot;,&quot;S&quot;,&quot;P&quot;] ä»¥ä¸Šï¼Œç»„åˆçš„æ–¹å¼æ˜¯æŠ½è±¡å•ä¸€åŠŸèƒ½çš„å‡½æ•°ï¼Œå†ç»„æˆå¤æ‚åŠŸèƒ½ï¼Œä»£ç é€»è¾‘æ›´æ¸…æ™°ï¼Œä¹Ÿç»™ç»´æŠ¤å¸¦æ¥å·¨å¤§æ–¹ä¾¿ã€‚ å®ç°ç»„åˆæ–°å‡½æ•°æ‰§è¡Œæ—¶ï¼ŒæŒ‰ç…§ç”±å³å‘å·¦çš„é¡ºåºä¾æ¬¡æ‰§è¡Œä¼ å…¥composeä¸­çš„å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°çš„æ‰§è¡Œç»“æœä½œä¸ºä¸‹ä¸€ä¸ªå‡½æ•°çš„å…¥å‚ï¼Œç›´åˆ°æœ€åä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºä½œä¸ºæœ€ç»ˆçš„è¾“å‡ºç»“æœã€‚ å¦‚æœcomposeå‡½æ•°æ¥æ”¶çš„å‡½æ•°æ•°é‡æ˜¯å›ºå®šçš„ã€‚ 1234567891011function compose(f,g){ return function(x){ return f(g(x)); }}function compose(f,g){ return function(x){ return f(g(x)); }} ä½†å®é™…composeæ¥æ”¶çš„å‚æ•°ä¸ªæ•°æ˜¯ä¸ç¡®å®šçš„ï¼Œæˆ‘ä»¬è€ƒè™‘ç”¨restå‚æ•°æ¥æ¥æ”¶ï¼š 12345function compose(...fns) { return function(x) { // ... }} ç°åœ¨composeæ¥æ”¶çš„å‚æ•°fnsæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚ä½•å°†æ•°ç»„ä¸­çš„å‡½æ•°ä»å³å‘å·¦ä¾æ¬¡æ‰§è¡Œ. ç”¨æ•°ç»„çš„reduceRightæ¥å®ç° 1234567function compose(...fns) { return function(x) { return fns.reduceRight(function(arg, fn) { return fn(arg); }, x) }} è¿™æ ·å°±å®ç°äº†composeå‡½æ•°~~ å®ç°ç®¡é“composeçš„æ•°æ®æµæ˜¯ä»å³åˆ°å·¦, å› ä¸ºå³ä¾§å‡½æ•°é¦–å…ˆæ‰§è¡Œï¼Œå·¦ä¾§æœ€åæ‰§è¡Œã€‚ä½†æœ‰äººå–œæ¬¢ä»å·¦è‡³å³çš„æ‰§è¡Œæ–¹å¼ã€‚ ä»å·¦è‡³å³å¤„ç†æ•°æ®æµçš„è¿‡ç¨‹ç§°ä¹‹ä¸ºç®¡é“(pipeline) åªéœ€å°†reduceRightæ›¿æ¢ä¸ºreduce 1234567function pipe(...fns) { return function(x) { return fns.reduce(function(arg, fn) { return fn(arg); }, x); }}","link":"/posts/js-%E7%BB%84%E5%90%88%E5%87%BD%E6%95%B0/"},{"title":"leetcodeåˆ·é¢˜ç­”æ¡ˆè®°å½•","text":"[TOC] LeetCodeåˆ·é¢˜ç­”æ¡ˆè®°å½•å¸¸è§ç®—æ³•æ€è·¯äºŒåˆ†æŸ¥æ‰¾äºŒåˆ†æœç´¢æ˜¯ä¸€ç§åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æŸä¸€ç‰¹å®šå…ƒç´ çš„æœç´¢ç®—æ³•ã€‚ äºŒåˆ†æœç´¢ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log n)ï¼Œç›¸æ¯”è¾ƒé¡ºåºæœç´¢çš„ O(n) æ—¶é—´å¤æ‚åº¦ï¼Œå®ƒè¦å¿«å¾ˆå¤šã€‚ é¦–å…ˆè¦æ±‚å‡ºæ•°ç»„çš„ä¸­é—´ä¸‹æ ‡ï¼ˆæ•´æ•°ï¼‰ï¼Œä»è€Œè·å–åˆ°ä¸­é—´å€¼ï¼š `const mid = Math.floor((start + end) / 2)` ä½†åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹ `start+ end` å¯èƒ½ç›´æ¥è¶…å‡ºæœ€å¤§å®‰å…¨æ•°ï¼Œæ‰€ä»¥æ›´è°¨æ…çš„å†™æ³• `const mid = Math.floor(start + (end - start) / 2)` 12345678while (start &lt; end) { const mid = Math.floor(start + (end - start) / 2) if (arr[mid]` &lt; target) { start = mid + 1 } else { end = mid }} ç¬¬ä¸€é¢˜ æ±‚å’Œï¼Œåœ¨æ•°ç»„ä¸­æ‰¾ä¸¤ä¸ªå…ƒç´ åŠ èµ·æ¥ç­‰äºä¸€ä¸ªæ•°1234567891011121314151617181920212223242526272829303132333435363738394041/** * @param {number[]} nums * @param {number} target * @return {number[]} * æš´åŠ›æŸ¥æ‰¾ï¼Œå¾ªç¯ä¸¤æ¬¡ * æ—¶é—´å¤æ‚åº¦O(n^2)ï¼Œ ç©ºé—´å¤æ‚åº¦ï¼šO(1) */var twoSum = function(nums, target) { let i = 0, il = nums.length, sumArr = []; for(; i &lt; il; i++ ) { for (let j = i + 1; j &lt; il; j++) { if (**nums**[i] === target - nums[j]) { return [i, j]; } } } throw Error('not find~');};/** * @param {number[]} nums * @param {number} target * @return {number[]} * åŒ¹é…ä¸åˆ°çš„å­˜å…¥map, å¾ªç¯çš„æ—¶å€™å»mapé‡Œæ‰¾æ˜¯å¦æœ‰åŒ¹é…çš„ * æ—¶é—´å¤æ‚åº¦ï¼šO(n) * ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ‰€éœ€çš„é¢å¤–ç©ºé—´å–å†³äºå“ˆå¸Œè¡¨ä¸­å­˜å‚¨çš„å…ƒç´ æ•°é‡ï¼Œè¯¥è¡¨æœ€å¤šéœ€è¦å­˜å‚¨ n ä¸ªå…ƒç´ ã€‚ */var twoSum = function(nums, target) { let arrObj = {}, i = 0, il = nums.length; for(; i &lt; il; i++ ) { let extra = target - nums[i]; // æ”¾è¿›å»çš„å€¼å¯èƒ½æ˜¯0ï¼Œä¸èƒ½ç”¨if(arrObj[extra]) åˆ¤æ–­æ˜¯å¦æœ‰å€¼ if (arrObj[extra] !== undefined) { // æ”¾å…¥æ•°ç»„çš„é¡ºåºï¼Œå‰é¢çš„å…ˆæ”¾è¿›å»çš„ï¼Œæ‰€ä»¥iåœ¨åé¢ return [arrObj[extra], i]; } arrObj[nums[i]] = i; }}; ç¬¬2é¢˜ ä¸¤ä¸ªé“¾è¡¨æ±‚å’Œç»™å‡ºä¸¤ä¸ª éç©º çš„é“¾è¡¨ç”¨æ¥è¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å…¶ä¸­ï¼Œå®ƒä»¬å„è‡ªçš„ä½æ•°æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚ è¿™ä¸ªé¢˜æ˜¯å‚è€ƒç­”æ¡ˆåšçš„ã€‚ 12345678910111213141516171819202122232425262728293031323334353637/*** function ListNode(val) {* this.val = val;* this.next = null;* }* @param {ListNode} l1* @param {ListNode} l2* @return {ListNode}*/var addTwoNumbers = function(l1, l2) { var List = new ListNode(0); var head = List; var sum = 0; var carry = 0; while (l1 !== null || l2 !== null || sum &gt; 0) { if (l1 !== null) { sum = sum + l1.val; l1 = l1.next; } if (l2 !== null) { sum = sum + l2.val; l2 = l2.next; } if (sum &gt;= 10) { carry = 1; sum -= 10; } head.next = new ListNode(sum); head = head.next; sum = carry; carry = 0; } return List.next;}; ç¬¬3é¢˜ æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­å­å­—ç¬¦ä¸²æœ€é•¿é•¿åº¦åˆšå¼€å§‹çš„æ€è·¯æ˜¯æ”¾åˆ°mapé‡Œï¼Œåæ¥å‘ç°ä¼šæœ‰bdfbçš„æƒ…å†µï¼Œæ‰€ä»¥ä¸èƒ½ç”¨mapæ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œæ”¹ä¸ºç”¨æ•°ç»„åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨å°±ä»æ‰€åœ¨ä½ç½®åˆ é™¤ä¹‹å‰çš„æ•°ç»„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445/** @lc app=leetcode id=3 lang=javascript** [3] Longest Substring Without Repeating Characters*//*** @param {string} s* @return {number}*/var lengthOfLongestSubstring = function(s) { let sArr = s.split(''); let maxArr = []; let l = 0; let max = 0; for (let i = 0, il = sArr.length; i &lt; il; i++) { let tmp = sArr[i]; if (maxArr.includes(tmp)) { maxArr = maxArr.slice(maxArr.indexOf(tmp) + 1, maxArr.length); maxArr.push(tmp); l = maxArr.length; } else { maxArr.push(tmp); ++l; } if (l &gt; max) { max = l; } } return max;};// å‰å®³çš„è§£æ³•function lengthOfLongestSubstring(s) { const map = {}; let left = 0; return s.split('').reduce((max, v, i) =&gt; { left = map[v] &gt;= left ? map[v] + 1 : left; map[v] = i; return Math.max(max, i - left + 1); }, 0);} 4. å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°ä¸¤ä¸ªæœ‰åºæ•°ç»„æ±‚ä¸­ä½æ•°ï¼Œé—®é¢˜ä¸€èˆ¬åŒ–ä¸ºï¼Œæ±‚ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ç¬¬kä¸ªæ•°ï¼Œå½“k = (m+n)/2æ—¶ä¸ºåŸé—®é¢˜çš„è§£ã€‚ æ€ä¹ˆæ±‚ç¬¬kä¸ªæ•°ï¼Ÿåˆ†åˆ«æ±‚å‡ºç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ•°ç»„çš„ç¬¬ k / 2ä¸ªæ•° a å’Œ bï¼Œç„¶åæ¯”è¾ƒ a å’Œ bï¼Œå½“a &lt; b ï¼Œè¯´æ˜ç¬¬ k ä¸ªæ•°ä½äº aæ•°ç»„çš„ç¬¬ k / 2ä¸ªæ•°ååŠæ®µï¼Œæˆ–è€…bæ•°ç»„çš„ ç¬¬ k / 2 ä¸ªæ•°å‰åŠæ®µï¼Œé—®é¢˜è§„æ¨¡ç¼©å°äº†ä¸€åŠï¼Œç„¶åé€’å½’å¤„ç†å°±è¡Œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ O(log(m+n)) é“¾æ¥ è§£æ³•äºŒï¼š å°†ä¸¤ä¸ªæ•°ç»„åˆæˆä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ä¸­é—´ä½ç½®çš„å…ƒç´ ã€‚(å› ä¸ºäºŒåˆ†æ³•çš„å¤æ‚åº¦æ˜¯O(log(m+n))) 367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°â€“äºŒåˆ†æ³•ç»™å®šä¸€ä¸ªæ­£æ•´æ•° numï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœ num æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ 1234567891011121314151617181920212223var isPerfectSquare = function(num) { if (num === 0 || num === 1) { return true; } let start = 1; let end = num; while(start &lt;= end) { const mid = Math.floor(start + (end - start) / 2); const tmp = mid * mid; if (tmp === num) { return true; } if (tmp &gt; num) { end = mid -1; } else { start = mid + 1; } } return false;}; 744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯â€“äºŒåˆ†æ³•ç»™å®šä¸€ä¸ªåªåŒ…å«å°å†™å­—æ¯çš„æœ‰åºæ•°ç»„letters å’Œä¸€ä¸ªç›®æ ‡å­—æ¯ targetï¼Œå¯»æ‰¾æœ‰åºæ•°ç»„é‡Œé¢æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯ã€‚ æ•°ç»„é‡Œå­—æ¯çš„é¡ºåºæ˜¯å¾ªç¯çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœç›®æ ‡å­—æ¯target = â€˜zâ€™ å¹¶ä¸”æœ‰åºæ•°ç»„ä¸º letters = [â€˜aâ€™, â€˜bâ€™]ï¼Œåˆ™ç­”æ¡ˆè¿”å› â€˜aâ€™ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839var nextGreatestLetter = function(letters, target) { const max = letters.length; // è¾¹ç•Œå¤„ç†ï¼Œ if (letters[max -1] &lt; target) { return letters[0]; } const last = binarySearch(letters, 0, max, target); // è¿™é‡Œå–å€¼æ—¶å€™ä¸èƒ½ç›´æ¥ç”¨lastï¼Œå¯èƒ½ä¼šæœ‰last === letters.length return letters[last % letters.length];};function binarySearch(arr, start, end, target) { while(start &lt; end) { const mid = Math.floor(start + (end - start)/2); if (target &lt; arr[mid]) { end = mid; } else { start = mid + 1; } } return end;}// æœ€ä¼˜è§£var nextGreatestLetter = function(letters, target) { let res = letters[0]; let l = 0, r = letters.length - 1; while (l &lt;= r) { let mid = Math.floor((l + r) / 2); if (letters[mid] &gt; target) { res = letters[mid]; r = mid - 1; } else { l = mid + 1; } } return res;}; 852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼• Peak Index in a Mountain Arrayæˆ‘ä»¬æŠŠç¬¦åˆä¸‹åˆ—å±æ€§çš„æ•°ç»„ A ç§°ä½œå±±è„‰ï¼š A.length &gt;= 3å­˜åœ¨ 0 &lt; i &lt; A.length - 1 ä½¿å¾—A[0] &lt; A[1] &lt; â€¦ A[i-1] &lt; A[i] &gt; A[i+1] &gt; â€¦ &gt; A[A.length - 1]ç»™å®šä¸€ä¸ªç¡®å®šä¸ºå±±è„‰çš„æ•°ç»„ï¼Œè¿”å›ä»»ä½•æ»¡è¶³ A[0] &lt; A[1] &lt; â€¦ A[i-1] &lt; A[i] &gt; A[i+1] &gt; â€¦ &gt; A[A.length - 1] çš„ i çš„å€¼ã€‚ 123456789101112131415161718192021222324252627282930313233343536var peakIndexInMountainArray = function(A) { let start = 0; let end = A.length -1; debugger while(start &lt;= end) { const mid = Math.floor(start + (end - start) / 2); if (A[mid] &lt; A[mid + 1]) { start = mid + 1; } else if (A[mid] &lt; A[mid - 1]) { end = mid - 1; } else { return mid; } }};// é€’å½’è§£æ³•const peakIndexInMountainArray = function(A) { function recursive(i, j) { const mid = (i + j) &gt;&gt; 1 if (A[mid - 1] &lt; A[mid] &amp;&amp; A[mid] &gt; A[mid + 1]) { return mid } else if (A[mid] &lt; A[mid + 1]) { return recursive(mid + 1, j) } else { return recursive(i, mid - 1) } } return recursive(1, A.length - 1)}// reduce è§£æ³•var peakIndexInMountainArray = function(A) { return A.reduce((acc, curr, i) =&gt; ('undefined' === typeof acc || A[acc] &lt; curr ? i : acc), undefined);}; 475. ä¾›æš–å™¨ Heaterså†¬å­£å·²ç»æ¥ä¸´ã€‚ ä½ çš„ä»»åŠ¡æ˜¯è®¾è®¡ä¸€ä¸ªæœ‰å›ºå®šåŠ çƒ­åŠå¾„çš„ä¾›æš–å™¨å‘æ‰€æœ‰æˆ¿å±‹ä¾›æš–ã€‚ ç°åœ¨ï¼Œç»™å‡ºä½äºä¸€æ¡æ°´å¹³çº¿ä¸Šçš„æˆ¿å±‹å’Œä¾›æš–å™¨çš„ä½ç½®ï¼Œæ‰¾åˆ°å¯ä»¥è¦†ç›–æ‰€æœ‰æˆ¿å±‹çš„æœ€å°åŠ çƒ­åŠå¾„ã€‚ æ‰€ä»¥ï¼Œä½ çš„è¾“å…¥å°†ä¼šæ˜¯æˆ¿å±‹å’Œä¾›æš–å™¨çš„ä½ç½®ã€‚ä½ å°†è¾“å‡ºä¾›æš–å™¨çš„æœ€å°åŠ çƒ­åŠå¾„ã€‚ç¤ºä¾‹ 1: è¾“å…¥: [1,2,3],[2]è¾“å‡º: 1è§£é‡Š: ä»…åœ¨ä½ç½®2ä¸Šæœ‰ä¸€ä¸ªä¾›æš–å™¨ã€‚å¦‚æœæˆ‘ä»¬å°†åŠ çƒ­åŠå¾„è®¾ä¸º1ï¼Œé‚£ä¹ˆæ‰€æœ‰æˆ¿å±‹å°±éƒ½èƒ½å¾—åˆ°ä¾›æš–ã€‚ç¤ºä¾‹ 2: è¾“å…¥: [1,2,3,4],[1,4]è¾“å‡º: 1è§£é‡Š: åœ¨ä½ç½®1, 4ä¸Šæœ‰ä¸¤ä¸ªä¾›æš–å™¨ã€‚æˆ‘ä»¬éœ€è¦å°†åŠ çƒ­åŠå¾„è®¾ä¸º1ï¼Œè¿™æ ·æ‰€æœ‰æˆ¿å±‹å°±éƒ½èƒ½å¾—åˆ°ä¾›æš–ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112// ç¬¬ä¸€ç§ï¼Œæ²¡é€šè¿‡var findRadius = function(houses, heaters) { // ç°å°†æˆ¿å±‹å’ŒåŠ çƒ­å™¨ä»å°åˆ°å¤§æ’åº houses.sort(sortNum); heaters.sort(sortNum); const housesL = houses.length; const heatersL = heaters.length; // å…ˆå®šä¹‰åŠå¾„ä¸º0 let radius = 0; // å¾ªç¯æ¯ä¸ªhouse for(let i=0; i&lt;housesL; i++) { // æ¯”è¾ƒæˆ¿é—´å’ŒåŠ çƒ­å™¨æœ€å¤§å€¼ï¼Œå–æœ€å¤§å€¼ä½œä¸ºæœ€å°å€¼ï¼Ÿ let min = houses[housesL - 1] &gt; heaters[heatersL - 1] ? houses[housesL - 1] : heaters[heatersL - 1]; // æ¯”è¾ƒhouseåˆ°æ¯ä¸ªheaterçš„è·ç¦» for(let j=0; j&lt;heatersL; j++) { // è®¡ç®—å½“å‰houseåˆ°å½“å‰heaterçš„ç»å¯¹è·ç¦» const diff = Math.abs(heaters[j] - houses[i]); // æœ€å°å€¼å¤§äºç»å¯¹å€¼ï¼Œå–ç»å¯¹å€¼ï¼Œåä¹‹å–æœ€å°å€¼ min = min &gt;= diff? diff : min; // å¦‚æœç»å¯¹å€¼å¤§äºæœ€å°å€¼ï¼Œè·³å‡ºå¾ªç¯ if (diff &gt; min) { break; } // å¦‚æœåŠå¾„å°äºæœ€å°å€¼ï¼Œç”¨æœ€å°å€¼ï¼Œåä¹‹ç”¨å½“å‰åŠå¾„ radius = radius &lt; min ? min : radius; } // å¾ªç¯ç»“æŸï¼Œè¿”å›æœ€å°çš„radius return radius; }};function sortNum(a, b) { return a - b;}// ç¬¬äºŒç§ï¼Œå¯ä»¥é€šè¿‡var findRadius = function(houses, heaters) { houses.sort((a, b) =&gt; a - b); heaters.sort((a, b) =&gt; a - b); const n = houses.length; const m = heaters.length; let radius = 0; let j = 0; for (let i = 0; i &lt; n; i++) { let temp = Infinity; for (let k = j; k &lt; m; k++) { // console.log('check!!', houses[i], heaters[k]); // è·å–å½“å‰heatersåˆ°æ¯ä¸ªå±‹å­çš„æœ€å°å€¼ temp = Math.min(temp, Math.abs(heaters[k] - houses[i])); // å¦‚æœheaterçš„å€¼å°äºhouseçš„å€¼ï¼Œä»heaterå½“å‰çš„å€¼å¼€å§‹å¾ªç¯ if (heaters[k] &lt; houses[i]) { j = k; } // å¦‚æœheaterçš„å€¼å¤§äºhouseçš„å€¼ï¼Œå–å½“å‰houseåˆ°heaterçš„è·ç¦»å’Œå½“å‰tmpçš„æœ€å°å€¼ï¼Œå¹¶è·³å‡ºå¾ªç¯ if (heaters[k] &gt; houses[i]) { if (j &gt; 0) temp = Math.min(temp, Math.abs(houses[i] - heaters[j - 1]); break; } } radius = Math.max(radius, temp); // console.log('==', temp, radius); } return radius;};// æœ€ä¼˜è§£var findRadius = function(houses, heaters) { heaters.sort((a, b) =&gt; a - b); let dist = 0; let left; let right; let mid; let target; for (let i = 0, size = houses.length; i &lt; size; i++) { target = houses[i]; left = 0; right = heaters.length - 1; while (left &lt;= right) { mid = left + ((right - left) &gt;&gt; 1); if (heaters[mid] === target) { break; } else if (heaters[mid] &gt; target) { right = mid - 1; } else { left = mid + 1; } } if (left &lt;= right) continue; let distLeft = left &gt;= 0 &amp;&amp; left &lt; heaters.length ? Math.abs(houses[i] - heaters[left]) : Number.MAX_SAFE_INTEGER; let distRight = right &gt;= 0 &amp;&amp; right &lt; heaters.length ? Math.abs(houses[i] - heaters[right]) : Number.MAX_SAFE_INTEGER; dist = Math.max(dist, Math.min(distLeft, distRight)); } return dist;};","link":"/posts/leetcode%E5%88%B7%E9%A2%98%E7%AD%94%E6%A1%88%E8%AE%B0%E5%BD%95/"},{"title":"node cliå¼€å‘è°ƒè¯•ç»éªŒæ€»ç»“","text":"nodeå‘½ä»¤è¡Œå·¥å…·å¼€å‘è°ƒè¯•npm linkå‘½ä»¤é€šè¿‡é“¾æ¥ç›®å½•å’Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå®ç°npmåŒ…å‘½ä»¤çš„å…¨å±€å¯æ‰§è¡Œã€‚ ç®€è¦åœ°è®²ï¼Œè¿™ä¸ªå‘½ä»¤ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼š ä¸ºnpmåŒ…ç›®å½•åˆ›å»ºè½¯é“¾æ¥ï¼Œå°†å…¶é“¾åˆ°{prefix}/lib/node_modules/package(åŒ…å) ä¸ºå¯æ‰§è¡Œæ–‡ä»¶(bin)åˆ›å»ºè½¯é“¾æ¥ï¼Œå°†å…¶é“¾åˆ°{prefix}/bin/{name} åœ¨package.jsonä¸­é…ç½® 123&quot;bin&quot;: { &quot;ltsnode&quot;: &quot;bin/ltsnode.js&quot;} åœ¨ltsnode.jsä¸­ 12345#!/usr/bin/env node// æŒ‡å®šè¿è¡Œç¯å¢ƒä¸ºnodeconsole.log('è¿è¡Œltsnodeå‘½ä»¤') åœ¨VsCodeé‡Œdebugæ¨¡å¼é‡Œè°ƒè¯•12345678910111213141516171819{ &quot;version&quot;: &quot;0.2.0&quot;, &quot;configurations&quot;: [ { &quot;type&quot;: &quot;node&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;name&quot;: &quot;å¯åŠ¨ç¨‹åº&quot;, &quot;skipFiles&quot;: [ &quot;&lt;node_internals&gt;/**&quot; ], // è¿™é‡Œæ˜¯å‘½ä»¤è¡Œéœ€è¦ä¼ å…¥çš„å‚æ•° &quot;args&quot;: [ &quot;10&quot; ], // è¿™é‡Œæ˜¯å‘½ä»¤è¡Œå…¥å£æ–‡ä»¶çš„ä½ç½®ï¼Œä¸€èˆ¬æ”¾åœ¨binæ–‡ä»¶å¤¹ä¸‹ &quot;program&quot;: &quot;${workspaceFolder}/bin/ltsnode.js&quot; } ]} é…ç½®å®Œæˆåï¼Œç‚¹å‡»å¯åŠ¨ç¨‹åºï¼Œå³å¯å¼€å§‹è°ƒè¯•ã€‚ä¸Šä¸€æ­¥ä¸‹ä¸€æ­¥åœ¨VsCodeæ­£ä¸­é—´é¡¶éƒ¨ã€‚å¯ä»¥ä½¿ç”¨console.logè¾“å‡ºç»“æœåˆ°è°ƒè¯•æ§åˆ¶å° åœ¨å‘½ä»¤è¡Œé‡Œé‡Œè°ƒè¯•npm link å†è¿è¡Œnpm linkå³å¯ ç„¶åå†å‘½ä»¤è¡Œé‡Œæ‰§è¡Œå‘½ä»¤ltsnodeçœ‹æ•ˆæœ è¿›å…¥/usr/local/lib/node_modulesä¼šå‘ç°ä¸€ä¸ªè½¯é“¾ï¼ŒæŒ‡å‘è‡ªå·±é¡¹ç›®ç›®å½•ltsnode -&gt; /Users/zhaojianpeng/Desktop/workspaces/ltsnode å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜ æ‰§è¡Œnpm linkæŠ¥é”™ å¼€å‘è¿‡ç¨‹é‡åˆ°çš„æŠ¥é”™ ENOENT: no such file or directory, chmod '/usr/local/lib/node_modules/videocount/bin/videocount' è§£å†³åŠæ³•ï¼šåœ¨package.jsonä¸­ 123&quot;bin&quot;: { &quot;videocount&quot;: &quot;bin/videocount.js&quot;}, è¿™é‡Œä¸€å®šè¦åŠ åç¼€åjs npm ERR! Refusing to delete /usr/local/bin/ltsnode: ../../../Users/zhaojianpeng/.config/yarn/link/ltsnode/bin/ltsnode symlink target is not controlled by npm /usr/local/bin npm ERR! EEXIST: file already exists, symlink '../lib/node_modules/ltsnode/bin/ltsnode.js' -&gt; '/usr/local/bin/ltsnode' è§£å†³åŠæ³•ï¼šå°è¯•äº†å„ç§åŠæ³•ï¼Œåˆ ç¼“å­˜ï¼Œå‡çº§npmç‰ˆæœ¬ã€‚æ‰§è¡Œnpm linkæ€»æ˜¯æŠ¥é”™ã€‚æ‰§è¡Œrm /usr/local/bin/ltsnodeåˆ é™¤è½¯é“¾æå®š~~~ åœ¨/usr/local/bin/node_modulesé‡Œåˆ é™¤è½¯é“¾ä¸å¥½ä½¿ æœŸé—´ç”¨åˆ°çŸ¥è¯† ä¸€ã€ä½¿ç”¨æ·˜å®é•œåƒ1.ä¸´æ—¶ä½¿ç”¨npm â€“registry https://registry.npm.taobao.org install express 2.æŒä¹…ä½¿ç”¨npm config set registry https://registry.npm.taobao.org 3.é€šè¿‡cnpmnpm install -g cnpm â€“registry=https://registry.npm.taobao.org äºŒã€ä½¿ç”¨å®˜æ–¹é•œåƒnpm config set registry https://registry.npmjs.org/ ä¸‰ã€æŸ¥çœ‹npmæºåœ°å€npm config get registry åˆ é™¤è½¯é“¾rm -rf ltsnode","link":"/posts/node-cli%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/"},{"title":"phpç§¯ç´¯","text":"booleanå€¼ä¼ åˆ°å‰ç«¯çš„æ—¶å€™è½¬æˆäº†1 PHP è„šæœ¬å¯æ”¾ç½®äºæ–‡æ¡£ä¸­çš„ä»»ä½•ä½ç½®ã€‚PHP è„šæœ¬ä»¥ ` ç»“å°¾ï¼š 123456&lt;?php// æ­¤å¤„æ˜¯ PHP ä»£ç ?&gt;&lt;?php //è¿™é‡Œæ˜¯ä»£ç ï¼Œå“ˆå“ˆ?&gt; PHP æ–‡ä»¶çš„é»˜è®¤æ–‡ä»¶æ‰©å±•åæ˜¯ â€œ.phpâ€ã€‚PHP æ–‡ä»¶é€šå¸¸åŒ…å« HTML æ ‡ç­¾ä»¥åŠä¸€äº› PHP è„šæœ¬ä»£ç  12345678910&lt;?phpecho &quot; Hello World!&quot;;?&gt;&lt;?php //è¿™æ˜¯å•è¡Œæ³¨é‡Š #è¿™ä¹Ÿæ˜¯ å•è¡Œæ³¨é‡Š /* è¿™æ˜¯å¤šè¡Œæ³¨é‡Š */?&gt; å˜é‡å¤§å°å†™åˆ†æ˜ 1234567&lt;?php $color = &quot;red&quot;; echo &quot;My car is&quot; .$color.&quot;&lt;br&gt;&quot;; echo &quot;My car is&quot; .$COLOR.&quot;&lt;br&gt;&quot;; echo &quot;My car is&quot; .$coLOR.&quot;&lt;br&gt;&quot;;?&gt; PHP å˜é‡è§„åˆ™ï¼šå˜é‡ä»¥ $ ç¬¦å·å¼€å¤´ï¼Œå…¶åæ˜¯å˜é‡çš„åç§°å˜é‡åç§°å¿…é¡»ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´å˜é‡åç§°ä¸èƒ½ä»¥æ•°å­—å¼€å¤´å˜é‡åç§°åªèƒ½åŒ…å«å­—æ¯æ•°å­—å­—ç¬¦å’Œä¸‹åˆ’çº¿ï¼ˆA-zã€0-9 ä»¥åŠ _ï¼‰å˜é‡åç§°å¯¹å¤§å°å†™æ•æ„Ÿï¼ˆ$y ä¸ $Y æ˜¯ä¸¤ä¸ªä¸åŒçš„å˜é‡ï¼‰==æ³¨é‡Šï¼šPHP å˜é‡åç§°å¯¹å¤§å°å†™æ•æ„Ÿï¼== PHP æœ‰ä¸‰ç§ä¸åŒçš„å˜é‡ä½œç”¨åŸŸï¼šlocalï¼ˆå±€éƒ¨ï¼‰globalï¼ˆå…¨å±€ï¼‰staticï¼ˆé™æ€ï¼‰PHP åŒæ—¶åœ¨åä¸º $GLOBALS[index] çš„æ•°ç»„ä¸­å­˜å‚¨äº†æ‰€æœ‰çš„å…¨å±€å˜é‡ã€‚ä¸‹æ ‡å­˜æœ‰å˜é‡åã€‚è¿™ä¸ªæ•°ç»„åœ¨å‡½æ•°å†…ä¹Ÿå¯ä»¥è®¿é—®ï¼Œå¹¶èƒ½å¤Ÿç”¨äºç›´æ¥æ›´æ–°å…¨å±€å˜é‡ã€‚ 12345678function myTest() { $GLOBALS['y']=$GLOBALS['x']+$GLOBALS['y'];}function myTest() { static $x=0; echo $x; $x++;} echo å’Œ print è¯­å¥ echo å’Œ print ä¹‹é—´çš„å·®å¼‚ï¼šecho - èƒ½å¤Ÿè¾“å‡ºä¸€ä¸ªä»¥ä¸Šçš„å­—ç¬¦ä¸²print - åªèƒ½è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å§‹ç»ˆè¿”å› 1 å¹¶ç½®è¿ç®—ç¬¦ï¼ˆConcatenation Operatorï¼‰åœ¨ PHP ä¸­ï¼Œåªæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²è¿ç®—ç¬¦ã€‚å¹¶ç½®è¿ç®—ç¬¦ . ç”¨äºæŠŠä¸¤ä¸ªå­—ç¬¦ä¸²å€¼è¿æ¥èµ·æ¥ã€‚è¦æŠŠä¸¤ä¸ªå˜é‡è¿æ¥åœ¨ä¸€èµ·ï¼Œè¯·ä½¿ç”¨è¿™ä¸ªç‚¹è¿ç®—ç¬¦ .ä¸¥æ ¼åŒºåˆ«äºå…¶ä»–è¯­è¨€çš„+ strlen()å’Œstrpos()strlen() å‡½æ•°ç”¨äºè®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚strpos() å‡½æ•°ç”¨äºåœ¨å­—ç¬¦ä¸²å†…æ£€ç´¢ä¸€æ®µå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªå­—ç¬¦ã€‚ PHP çš„çœŸæ­£å¨åŠ›æºè‡ªäºå®ƒçš„å‡½æ•°ã€‚åœ¨ PHP ä¸­ï¼Œæä¾›äº†è¶…è¿‡ 700 ä¸ªå†…å»ºçš„å‡½æ•°ã€‚ åˆ›å»º PHP å‡½æ•°ï¼šæ‰€æœ‰çš„å‡½æ•°éƒ½ä½¿ç”¨å…³é”®è¯ function() æ¥å¼€å§‹å‘½åå‡½æ•° - å‡½æ•°çš„åç§°åº”è¯¥æç¤ºå‡ºå®ƒçš„åŠŸèƒ½ã€‚å‡½æ•°åç§°ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´ã€‚ $_REQUEST å˜é‡PHP çš„ $_REQUEST å˜é‡åŒ…å«äº† $_GET, $_POST ä»¥åŠ $_COOKIE çš„å†…å®¹ã€‚PHP çš„ $_REQUEST å˜é‡å¯ç”¨æ¥å–å¾—é€šè¿‡ GET å’Œ POST æ–¹æ³•å‘é€çš„è¡¨å•æ•°æ®çš„ç»“æœã€‚ mktime() å‡½æ•°è¿”å›ä¸€ä¸ªæ—¥æœŸçš„ UNIX æ—¶é—´æˆ³mktime(hour,minute,second,month,day,year,is_dst) æœåŠ¡å™¨ç«¯å¼•ç”¨ï¼ˆServer Side Includesï¼‰é€šè¿‡ include() æˆ– require() å‡½æ•°ï¼Œæ‚¨å¯ä»¥åœ¨æœåŠ¡å™¨æ‰§è¡Œ PHP æ–‡ä»¶ä¹‹å‰åœ¨è¯¥æ–‡ä»¶ä¸­æ’å…¥ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚ é™¤äº†å®ƒä»¬å¤„ç†é”™è¯¯çš„æ–¹å¼ä¸åŒä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°åœ¨å…¶ä»–æ–¹é¢éƒ½æ˜¯ç›¸åŒçš„ã€‚include() å‡½æ•°ä¼šç”Ÿæˆä¸€ä¸ªè­¦å‘Šï¼ˆä½†æ˜¯è„šæœ¬ä¼šç»§ç»­æ‰§è¡Œï¼‰ï¼Œè€Œ require() å‡½æ•°ä¼šç”Ÿæˆä¸€ä¸ªè‡´å‘½é”™è¯¯ï¼ˆfatal errorï¼‰ï¼ˆåœ¨é”™è¯¯å‘ç”Ÿåè„šæœ¬ä¼šåœæ­¢æ‰§è¡Œï¼‰ã€‚ PHP Sessionåœ¨æ‚¨æŠŠç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ° PHP session ä¸­ä¹‹å‰ï¼Œé¦–å…ˆå¿…é¡»å¯åŠ¨ä¼šè¯ã€‚æ³¨é‡Šï¼šsession_start() å‡½æ•°å¿…é¡»ä½äº html æ ‡ç­¾ä¹‹å‰ï¼š 1234567&lt;?php session_start(); ?&gt;&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; ä¸Šé¢çš„ä»£ç ä¼šå‘æœåŠ¡å™¨æ³¨å†Œç”¨æˆ·çš„ä¼šè¯ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥å¼€å§‹ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼ŒåŒæ—¶ä¼šä¸ºç”¨æˆ·ä¼šè¯åˆ†é…ä¸€ä¸ª UIDã€‚","link":"/posts/php%E7%A7%AF%E7%B4%AF/"},{"title":"test","text":"Welcome test page.post to github.commit new line.add new line for git test.","link":"/posts/test/"},{"title":"ã€Šæˆ‘ç”Ÿæœ‰æ¶¯æ„¿æ— å°½ã€‹è¯»ä¹¦ç¬”è®°","text":"æ‘˜è‡ªå¾—åˆ°APP æ€æ ·åƒæ¢æ¼±æºŸé‚£æ ·ï¼Œä¾é è‡ªå­¦ï¼Œå»ºç«‹ç‹¬ç«‹çš„æ€æƒ³ä½“ç³»æ¢æ¼±æºŸè¯´ï¼Œäººä»¬æ€»ä»¥ä¸ºçŸ¥é“å¾ˆå¤šï¼Œå¤„å¤„æ˜¾å¾—å¾ˆæ¸Šåšæ‰ç®—å­¦é—®ã€‚ å…¶å®æ¸Šåšå¹¶ä¸ç®—å­¦é—®ã€‚ä»€ä¹ˆæ‰æ˜¯å­¦é—®å‘¢ï¼Ÿæ˜¯èƒ½æŠŠçœ¼å‰çš„é“ç†å’Œææ–™åŠ ä»¥ç³»ç»ŸåŒ–ã€æ·±åˆ»åŒ–ã€‚ ä»–æŠŠè¿™ä¸ªå»ºç«‹ç‹¬ç«‹æ€æƒ³ã€è·å¾—çœŸæ­£å­¦é—®çš„è¿‡ç¨‹ï¼Œåˆ†æˆäº†å…«ä¸ªæ­¥éª¤ã€‚ ç¬¬ä¸€æ­¥æ˜¯é€šè¿‡ç”¨å¿ƒæ€æ¥å»ºç«‹ä¸»è§ã€‚æ¢æ¼±æºŸè¯´ï¼Œä»€ä¹ˆæ˜¯å“²å­¦çš„é“ç†ï¼Ÿå…¶å®å°±æ˜¯åè§ï¼Œç¾å…¶åæ›°çš„è¯ï¼Œå¯ä»¥è¯´æ˜¯ä¸»è§ã€‚åªè¦æ˜¯å“²å­¦å®¶ï¼Œå°±ä¸€å®šæ˜¯æç«¯çš„ã€‚å“²å­¦å®¶ç”¨å¿ƒæ€åœ°æ€è€ƒé—®é¢˜ï¼Œå¯»æ‰¾èƒ½å¤Ÿè´¯é€šä¸€åˆ‡çš„æ™®éæ€§é“ç†ã€‚åªè¦è¿™ä¸ªä¸»è§å»ºç«‹èµ·æ¥ï¼Œä»–å°±ä¸ä¼šå†æ¥å—æ¨¡æ£±ä¸¤å¯ã€æ··ä¹±çŸ›ç›¾çš„ä¸œè¥¿ï¼Œä¼šåšå®šåœ°æ’æ–¥ä¸åŒè§‚ç‚¹ã€‚äººé€šè¿‡ç‹¬ç«‹æ€è€ƒè·å¾—çš„ä¸»è§ä¹Ÿè®¸æ˜¯æµ…è–„çš„ï¼Œä½†çºµç„¶æµ…è–„ï¼Œä¹Ÿæ˜¯çœŸæ­£å±äºè‡ªå·±çš„ã€‚ ä»–è¯´ï¼Œèƒ¡é€‚çš„ä¸»è§å°±å¾ˆæµ…ï¼Œä½†å› ä¸ºæ˜¯ä»–ç‹¬ç«‹çš„å¿ƒå¾—ï¼Œè€Œä¸”ç†è®ºäº²åˆ‡åŠ¨äººï¼Œæ‰€ä»¥èƒ½è‡ªæˆä¸€æ´¾ã€‚åˆ«äººä¸è¡Œï¼Œå› ä¸ºè¿æµ…è–„çš„ä¸»è§éƒ½æ²¡æœ‰ã€‚ æœ‰äº†ä¸»è§ä¹‹åï¼Œç¬¬äºŒæ­¥å°±æ˜¯å»æ€è€ƒæ—äººçš„æ„è§ä¸è‡ªå·±ä¸åŒåœ¨å“ªé‡Œï¼Ÿè¿™åé¢éšè—ç€ä»€ä¹ˆé—®é¢˜ï¼Ÿæ¢æ¼±æºŸå¯¹å­¦é—®ä¸¤ä¸ªå­—çš„è§£é‡Šæ˜¯â€œå­¦ç€è®¤è¯†é—®é¢˜â€ã€‚æ¯”è¾ƒç³Ÿç³•çš„å­¦ä¹ æ˜¯ï¼šé“ç†çŸ¥é“äº†ä¸€å¤§å †ï¼Œå´æä¸å‡ºä¸€ä¸ªé—®é¢˜æ¥ã€‚ æœ€åˆçš„ä¸»è§å’Œé—®é¢˜æ˜¯é€šå¾€æ€æƒ³å’Œå­¦é—®çš„èŒèŠ½ï¼Œæœ‰äº†è¿™ä¸ªèŒèŠ½ï¼Œæ‰èƒ½åœ¨ä¸æ–­çš„å­¦ä¹ ä¸­å¸æ”¶å…»æ–™ï¼Œé•¿å‡ºå­¦é—®çš„å¤§æ ‘ã€‚åœ¨æ­¤ä¹‹åçš„ç¬¬ä¸‰æ­¥ï¼Œå°±èƒ½è¿›å…¥çœŸæ­£çš„è¯»ä¹¦å’Œå­¦ä¹ äº†ã€‚ç»è¿‡äº†ä¹‹å‰çš„è®­ç»ƒï¼Œåœ¨è¯»ä¹¦æ—¶ï¼Œäººä¼šè‡ªç„¶è€Œç„¶åœ°æ³¨æ„åˆ°ä¸ä¸€æ ·çš„è§è§£ï¼Œå‘ç°ä¸èƒ½è§£é‡Šçš„äº‹æƒ…ï¼Œæ€è€ƒå’Œæ¨æ±‚èƒŒåçš„è§£å†³åŠæ³•ï¼Œå¸æ”¶æˆä¸ºçœŸå®çš„çŸ¥è¯†ã€‚ ç¬¬å››æ­¥ï¼Œæ˜¯å­¦ç„¶åçŸ¥ä¸è¶³ã€‚ç”¨å¿ƒä¹‹åï¼Œä½ è‡ªç„¶å°±çŸ¥é“ï¼Œè‡ªå·±é‚£ä¸€ç‚¹å„¿æµ…æ˜¾çš„è§è¯†ï¼Œæ˜¯ä¸è¶³ä»¥è§£å†³é—®é¢˜çš„ã€‚è¿™å°±åƒæœ¨å¿ƒè¯´è¿‡çš„ä¸€å¥è¯ï¼šâ€œæœ‰äººä¸€çœ‹ä¹¦å°±å–å¼„ï¼Œå¤šçœ‹å‡ éå†å–å¼„å§ã€‚å¤šçœ‹å‡ éå°±ä¸å–å¼„äº†ã€‚â€ æ¢æ¼±æºŸåœ¨ä¸€æ¬¡é¢å‘å“²å­¦ç³»å­¦ç”Ÿçš„è®²æ¼”æ—¶è¯´ï¼šå­¦å“²å­¦åƒä¸‡ä¸è¦è½»æ˜“è¯´è‡ªå·±æ‡‚ã€‚ä½ è¦æ˜¯çœŸæ‡‚äº†æŸæ‹‰å›¾ï¼Œé‚£ä½ å°±ç­‰äºæ˜¯æŸæ‹‰å›¾ã€‚åªæœ‰è‡ªå·±çŸ¥é“è‡ªå·±ä¸æ‡‚ï¼Œæ‰æœ‰å¯èƒ½æ‰¾åˆ°è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚ å‰é¢è¿™å››æ­¥ï¼Œæ˜¯ä»é—®é¢˜åˆ°å­¦ä¹ ï¼Œå†åˆ°é€æ¸å½¢æˆæ€æƒ³çš„ä¿®ç‚¼è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹é‡Œä¸æ–­æ‰“ç£¨ï¼Œå°±å¯ä»¥æŠŠèŒƒå›´å¾ˆå¹¿çš„çŸ¥è¯†ï¼Œæ”¶é›†æ•´ç†æˆä¸ºä¸€ä¸ªæ€æƒ³ç³»ç»Ÿã€‚åˆ°äº†è¿™ä¸ªæ—¶å€™ï¼Œå°±å¯ä»¥è¿›å…¥ç¬¬äº”æ­¥ï¼šç”±æµ…å…¥æ·±ï¼Œä»¥ç®€åŒ–ç¹ã€‚æ¢æ¼±æºŸè¯´ï¼Œå‡¡æ˜¯æœ‰ç³»ç»Ÿçš„æ€æƒ³ï¼Œç»è¿‡æ•´åˆå’ŒæŠ½è±¡ï¼Œè¡¨ç°å‡ºæ¥çš„å½¢å¼éƒ½å¾ˆç®€å•ï¼Œä»¿ä½›åªæœ‰ä¸€ä¸¤å¥è¯ã€‚ æœ‰äº›äººè°ˆè®ºå­¦é—®æ—¶å †ç Œä¸€å †åè¯ï¼Œè®ºè¯ç¹å¤ï¼Œæ—å¾åšå¼•ï¼Œå®é™…ä¸Šå´æ²¡æœ‰è‡ªå·±çš„æ€æƒ³ï¼Œå­¦é—®ä¹Ÿæ˜¯ä¸é€šçš„ã€‚ åä¸‰ä¸ªæ­¥éª¤ï¼Œæ˜¯åˆ¤æ–­æ€æƒ³å’Œå­¦è¯†é«˜åº¦çš„æ ‡å‡†ã€‚ç¬¬å…­æ­¥æ˜¯è¿ç”¨è‡ªå¦‚ã€‚æœ‰åˆ™ç¦…å®—æ•…äº‹è¯´ï¼Œä¸€ä½ç¦…å¸ˆå¯¹äººè®²ï¼šâ€œä½ ä»¬æœ‰ä¸€è½¦å…µå™¨ï¼Œæ‹¿å‡ºä¸€ä»¶åˆä¸€ä»¶ï¼Œå´ä¸ä¼šä½¿ç”¨ã€‚è€åƒ§è™½ç„¶åªæœ‰å¯¸é“ï¼Œä¾¿èƒ½æ€äººã€‚â€å› ä¸ºè¿™å¯¸é“å°±æ˜¯ä»–è‡ªå·±çš„æ€æƒ³æ–¹æ³•ï¼Œæ‰€ä»¥çŸ¥é“æ€ä¹ˆè¿ç”¨ã€‚å½“é—®é¢˜æ¥äº†ï¼Œä»–èƒ½è®¤è¯†ï¼Œèƒ½åˆ¤æ–­ï¼Œèƒ½æŠ“ä½ä¸­å¿ƒæ‰€åœ¨ã€‚è€ŒèŒ«ç„¶åœ°åˆ¤æ–­ä¸å‡ºé—®é¢˜çš„å…³é”®å’Œè§£å†³æ–¹å‘ï¼Œå°±è¯´æ˜æ²¡æœ‰è‡ªå·±çš„æ€æƒ³å’Œå­¦é—®ã€‚ ç¬¬ä¸ƒæ­¥çš„æ ‡å‡†æ˜¯å¯¹ä»–äººçš„æ¸…æ™°åˆ¤æ–­åŠ›ã€‚å½“äººç«™åœ¨ä¸€ä¸ªæ€æƒ³é«˜åº¦ä¸Šä»¥åï¼Œå°±ä¼šå¯¹æ—äººçš„æ€æƒ³æ°´å¹³ä¸€ç›®äº†ç„¶ã€‚åˆ°äº†æ€æƒ³åœ†ç†Ÿã€ç‚‰ç«çº¯é’çš„ç¬¬å…«æ­¥ï¼Œäººè¯´å‡ºæ¥çš„æ¯å¥è¯ï¼Œéƒ½æ˜¯ç²¾å·§é€å½»çš„ã€‚æœ‰å¤§å­¦é—®çš„äººï¼Œè¯´å‡ºæ¥çš„è¯ï¼Œå½¢å¼ä¸Šæ˜¯å¹³å¸¸çš„ã€éšæ„çš„ï¼Œå…¶ä¸­å´è•´å«ç€ä¸‡å˜ä¸ç¦»å…¶å®—çš„é«˜æ˜é“ç†ã€‚ æ¢æ¼±æºŸè¯´ï¼Œè¿™å…«ä¸ªå±‚æ¬¡ï¼Œä»–ä¸€ç›´æ˜¯åœ¨å‰å››å±‚ï¼Œä¹Ÿå°±æ˜¯å»ºç«‹ä¸»è§ã€å¯»æ‰¾é—®é¢˜å’Œå¯»æ±‚è§£ç­”ä¸Šä¸‹åŠŸå¤«ï¼›è‡³äºåé¢å››å±‚ï¼Œåªèƒ½è¯´æ˜¯è™½ä¸èƒ½è‡³ï¼Œå¿ƒå‘å¾€ä¹‹ã€‚ èŠåŠ å“¥å¤§å­¦å†å²æ•™æˆã€æ±‰å­¦å®¶è‰¾æºä¸€ç›´ä»äº‹æ¢æ¼±æºŸç ”ç©¶ã€‚åœ¨æ¥å—è‰¾æºçš„è®¿è°ˆæ—¶ï¼Œæ¢æ¼±æºŸè¯´ï¼šå­”å­å’Œç‹é˜³æ˜æ˜¯åœ£äººï¼Œæˆ‘æ˜¯ä¸ªæ™®é€šäººã€‚ä½†æˆ‘ä¸æ™®é€šäººæœ‰ä¸€ç‚¹ä¸åŒï¼Œæˆ‘â€œåœ¨é›¾ä¸­è¿œè¿œåœ°çœ‹è§äº†å­”å­æ˜¯æ€ä¹ˆå›äº‹ï¼Œç‹é˜³æ˜æ˜¯æ€ä¹ˆå›äº‹ï¼Œè¿œè¿œåœ°çœ‹è§â€ã€‚å„’å®¶è§£å†³äº†ä»–çš„äººç”Ÿé—®é¢˜ï¼Œè®©ä»–ä¸å†è®¤ä¸ºâ€œäººç”Ÿæ˜¯è‹¦â€ï¼Œè½¬è€Œä»¥èº¬èº«å…¥å±€çš„æ€åº¦ï¼Œè°¨æ…åœ°ç›¸ä¿¡â€œè¿™ä¸ªä¸–ç•Œä¼šå¥½èµ·æ¥â€ã€‚å¯¹äºç°å®çš„ä¸­å›½ï¼Œæ— è®ºä»–çš„ä¸»å¼ æ˜¯å¦è¡Œå¾—é€šï¼Œä»–éƒ½éµç…§éƒ‘é‡çš„äººç”Ÿè§‚æ€è€ƒè¿‡ã€æ±‚ç´¢è¿‡äº†ï¼Œä»–è¿œè¿œçš„å†å²èƒŒå½±ï¼Œå·²ç»åŠ å…¥äº†å¤ä»£å„’è€…çš„è¡Œåˆ—ã€‚ æ¢æ¼±æºŸè®¤ä¸ºæ‹¥æœ‰ç‹¬ç«‹æ€æƒ³ï¼Œè¦ä»å»ºç«‹ä¸»è§ã€å­¦ä¼šå¯¹æ¯”æ€æƒ³å·®å¼‚ã€å¯»æ±‚é—®é¢˜å¼€å§‹ã€‚é€šè¿‡åœ¨å­¦ä¹ ä¸­å¯»æ±‚è§£å†³æ–¹æ¡ˆï¼Œå»ºç«‹è‡ªå·±çš„æ€æƒ³ç³»ç»Ÿã€‚çœŸæ­£çš„å­¦é—®ï¼Œæ˜¯æŠŠçœ¼å‰çš„é“ç†å’Œææ–™ç³»ç»ŸåŒ–ï¼Œæ·±åˆ»åŒ–ã€‚","link":"/posts/%E3%80%8A%E6%88%91%E7%94%9F%E6%9C%89%E6%B6%AF%E6%84%BF%E6%97%A0%E5%B0%BD%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"title":"ä¿—è¯­","text":"å®å¯è¤å£å¿µä½›ï¼Œä¸å¯ç´ å£éª‚äººå­—é¢ä¸Šçš„æ„æ€æ˜¯è¯´ï¼Œæˆ‘ä»¬å®å¯åƒè‚‰å–é…’ï¼Œå£ä¸­å¿µä½›ï¼Œä½†æ˜¯ä¸èƒ½åƒç´ å´éª‚äººã€‚ è¿™é‡Œæ‰€è¯´çš„â€œè¤å£â€ï¼Œæ˜¯æŒ‡çš„æˆ‘ä»¬æ™®é€šäººï¼Œå› ä¸ºè¿™äº›äººé…’è‚‰ç©¿è‚ è¿‡ï¼Œæ²¡æœ‰ä»€ä¹ˆåƒå–å¿Œè®³ã€‚è™½ç„¶ä¸åˆ»æ„å»æˆ’å£ï¼Œä½†æ˜¯æ¯æ—¶æ¯åˆ»å¿ƒä¸­å‹å–„ï¼Œå£ä¸­å¿µä½›ã€‚è¿™å¥è¯æ˜¯è€ç¥–å®—å˜±å’ä»–ä»¬çš„å­å­™åä»£ï¼Œä¸å¿…æ‹˜æ³¥äºå½¢å¼ä¸»ä¹‰ï¼Œåªè¦æˆ‘ä»¬å¿ƒä¸­æœ‰ä½›ï¼Œå£ä¸­æœ‰å¾·ï¼Œä¸åƒæ–‹åƒç´ ä¹Ÿå¯ä»¥ã€‚å› ä¸ºäººå¿…å®šæ˜¯æ‚é£ŸåŠ¨ç‰©ï¼Œåªè¦åšåˆ°ä¸æµªè´¹ï¼Œå°±éš¾èƒ½å¯è´µäº†ï¼Œåšåˆ°å£å‡ºå–„è¨€å°±å¾ˆå¥½äº†ï¼Œæ‰€ä»¥å°±æœ‰äº†å†œæ‘ä¿—è¯­â€œå®å¯è¤å£å¿µä½›â€è¿™å¥è¯ã€‚ â€œä¸å¯ç´ å£éª‚äººâ€ï¼Œå®ƒå¼•ç”³çš„æ„ä¹‰å°±æ˜¯ï¼Œä¸€ä¸ªæ¯å¤©åƒæ–‹åƒç´ çš„äººï¼Œå´å¼ å£å°±éª‚äººï¼Œè¿™æ˜¯ä¸‡ä¸‡ä¸å¯çš„ã€‚è¿™å°±è¯´æ˜ä»–åƒæ–‹å¿µä½›åªæ˜¯è¡¨è±¡ï¼Œè€Œå†…å¿ƒæ˜¯ä¸‘æ¶çš„ï¼Œä»ä»–å£åè„è¨€å°±èƒ½è¯´æ˜ä¸€åˆ‡ï¼Œä»–æ‰€åšçš„ä¿®è¡Œä¹Ÿæ˜¯å‡çš„ã€‚ åœ¨å¤ä»£æœ‰ä¸ªå°å»ºæ€æƒ³ï¼Œè¯´è¿™æ ·çš„äººä¼šé­åˆ°æŠ¥åº”ï¼Œå› ä¸ºè¿™äº›äººæ˜¯â€œä¼ªå–„è€…â€ã€‚è€ç¥–å®—å‘Šè¯«åäººï¼Œåƒä¸‡ä¸è¦æ¯å¤©åƒæ–‹åƒç´ ï¼Œä»¥ä¸ºå°±æˆäº†ä¿®è¡Œäººï¼Œå¦‚æœä¸ä¿®å£å¾·ä¹Ÿæ˜¯åšæ— ç”¨åŠŸã€‚å°±åƒæœ‰äº›äººâ€œå±…åº™å ‚ä¹‹ä¸Šâ€ï¼Œå´ä¸ç†æ°‘ç”Ÿç–¾è‹¦ï¼Œæ˜¯ä¸€ä¸ªé“ç†ï¼Œè¦çŸ¥é“â€œæ³•ç½‘æ¢æ¢ï¼Œç–è€Œä¸æ¼â€ã€‚å¿µä½›å…¶å®å°±æ˜¯ä¸ºäº†è®©äººæ— æ¬²æ— æ±‚ï¼Œå¿ƒå­˜å–„å¿ƒï¼Œéª‚äººæ˜¾ç„¶å°±æ˜¯è¿èƒŒäº†è¿™æ ·çš„ç†å¿µã€‚è€Œåƒè¤ä¸ä¼šä¼¤å®³åˆ°åˆ«äººï¼Œä½†æ˜¯éª‚äººå´å¯ä»¥å½±å“ç€å…¶å®ƒäººï¼Œä¹Ÿä¼šä¼¤å®³åˆ°å…¶å®ƒäººï¼Œè¿™æ ·çœ‹æ¥å°±å®å¯è¤å£å¿µä½›ï¼Œä¸å¯ç´ å£éª‚äººäº†ã€‚ æ‰€ä»¥â€œå®å¯è¤å£å¿µä½›ï¼Œä¸å¯ç´ å£éª‚äººâ€ï¼Œå°±æ˜¯è€ç¥–å®—å‘Šè¯«åäººï¼Œæˆ‘ä»¬å®å¯åšä¸€ä¸ªâ€œé…’è‚‰ç©¿è‚ è¿‡â€çš„å–„è‰¯äººï¼Œä¹Ÿä¸è¦åšä¸€ä¸ªâ€œå‡ä»å‡ä¹‰â€çš„ä¼ªå›å­ã€‚å› ä¸ºæœ‰ä¸€äº›äººæ‰“ç€â€œä¿®è¡Œäººâ€çš„æ——å·ï¼Œå´åšç€ä¸‹æµäººçš„äº‹æƒ…ï¼Œæˆ–è€…åˆ©ç”¨ä¿¡ä»°åˆ°å¤„å»éª—é’±ï¼Œè¿™å°±æ˜¯å¯¹ä¿¡ä»°çš„æ¬ºéª—ï¼Œè¿·ä¿¡çš„è¯´æ³•å°±æ˜¯ä¼šâ€œé­å¤©è°´â€ã€‚ å…¶å®åƒè¤æ˜¯çŠ¯äº†æˆ’å¾‹ï¼Œä½†æ˜¯å°±ç®—æ˜¯åƒè¤äº†ï¼Œåªè¦å¿ƒä¸­æœ‰ä½›ï¼Œé‚£è¿˜æ˜¯å¯ä»¥å¿µä½›çš„ï¼Œå¿ƒå­˜å–„å¿µï¼Œå°±å¯æˆä½›ã€‚è€Œå°±ç®—æ˜¯ä¸åƒè¤å¤©å¤©å¿µç€ä½›ç»ï¼Œä½†æ˜¯å´å£ä¸Šä¸ç•™å¾·ï¼Œå¤©å¤©å°±çŸ¥é“éª‚äººï¼Œè¿™æ˜¾ç„¶è¿èƒŒäº†åšäººé“å¾·ï¼Œä¸€è¾¹éª‚ç€äººä¸€è¾¹å¿µç€ä½›ï¼Œé‚£å¯æ˜¯éå¸¸è™šä¼ªçš„è¡Œä¸ºã€‚ æ€»ä¹‹ï¼Œè¿™å¥è¯è¯´çš„å°±æ˜¯éª‚äººå¯æ¯”åƒè¤æ›´åŠ ä¸¥é‡ï¼Œå°±ç®—åƒè¤ä¹Ÿå¯ä»¥æˆä½›ï¼Œä½†æ˜¯å˜´ä¸Šæ— å¾·çš„è¯ï¼Œæ˜¯å§‹ç»ˆéƒ½å¾—ä¸åˆ°åˆ«äººçš„å°Šé‡ï¼Œä¹Ÿä¼šå½±å“è‡ªèº«ä¿®è¡Œçš„ã€‚ è¿‡å»å†œæ‘è€äººéƒ½ä¼šæ•™è‚²è‡ªå·±çš„å­å¥³ï¼Œä¸€å®šä¸è¦éšä¾¿éª‚äººï¼Œå¦åˆ™å®æ„¿å»åƒè¤å¿µä½›ï¼Œä¹Ÿä¸èƒ½è¡¨é‡Œä¸ä¸€ï¼Œå¯¹äººä¸å°Šã€‚ç°å®ç”Ÿæ´»å½“ä¸­ä¸ä¹è¿™æ ·çš„äººï¼Œè¡¨é¢ä¸Šåƒæ–‹å¿µä½›ï¼Œä¸€å‰¯è™”è¯šï¼Œå®è´¨ä¸Šä¸¾æ­¢ä¹–å¼ ï¼ŒåŠ¨ä¸åŠ¨å°±çˆ†ç²—å£ï¼Œæ ¹æœ¬æ²¡æœ‰ä¸€ç‚¹å„’é›…çš„æ ·å­ã€‚è¿™æ ·çš„äººæ˜¯æœ€ä»¤äººè®¨åŒçš„ï¼Œä¹Ÿæ˜¯æœ€ä¸å—æ¬¢è¿çš„äººã€‚ å¦‚æœæˆ‘ä»¬å¾€æ·±å±‚æ¬¡å‰–æï¼Œè¿™ä¸ªå†œæ‘ä¿—è¯­çš„æ„ä¹‰å°±éå¸¸æ·±åˆ»äº†ã€‚ä¸ä»…æ˜¾ç¤ºå‡ºäº†ç°å®ç”Ÿæ´»ä¸­ï¼Œä¸€äº›äººçš„æœ¬æ€§ï¼Œä¹Ÿå‘Šè¯‰æˆ‘ä»¬é€šè¿‡äººçš„è¡¨è±¡ï¼Œè¦çœ‹çœ‹ä»–çš„æœ¬è´¨å±æ€§ï¼Œä¹Ÿå°±èƒ½å¤Ÿåˆ†æ¸…å–„æ¶ï¼ŒæŠŠå¥½åäººè¿›è¡ŒåŒºåˆ†äº†ã€‚","link":"/posts/%E4%BF%97%E8%AF%AD/"},{"title":"å‰ç«¯æ€§èƒ½çš„ç›‘æ§å’Œä¼˜åŒ–","text":"[TOC] ç›®æ ‡ ç†è§£æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–çš„ä¸€èˆ¬æ–¹æ³• ç§»åŠ¨ç«¯çš„æ€§èƒ½ è¿ç”¨å·¥å…·æ¥ç›‘æ§å’Œä¼˜åŒ– æ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ€§1. æ€§èƒ½å’ŒPVç›´æ¥ç›¸å…³ 2. æ€§èƒ½ä¸æ”¶å…¥æœ‰å…³ 3. å‰ç«¯å®¹æ˜“äº§ç”Ÿæ€§èƒ½çš„ç“¶é¢ˆ 4. æ— çº¿è®¾å¤‡æ€§èƒ½é—®é¢˜æ›´æ˜æ˜¾ åé¢æ¡ˆä¾‹: ç™¾ç§‘æŸæ¬¡ä¸Šçº¿ï¼Œæ€§èƒ½ä¸‹é™20% ====&gt; PVæµå¤±è¿‘15%====&gt; æ”¶å…¥ä¸‹é™10% ç§»åŠ¨ç«¯æ›´ä¸¥é‡DOM readyæ—¶é—´ï¼š wifi 2.3s, 3G/4G 4.2s, 2G é¦–å­—èŠ‚5-6sï¼Œ 8s+ ä¸€ã€ä½•ä¸ºå‰ç«¯æ€§èƒ½æ‰“å¼€ä¸€ä¸ªç½‘ç«™ï¼Œéœ€è¦ç»è¿‡å¤šå°‘æ­¥ æ€§èƒ½ä¼˜åŒ–çš„ä¸€èˆ¬æ€è·¯ å‡å°‘è¯·æ±‚æ¬¡æ•° å‡å°‘è¯·æ±‚ä½“ç§¯ åŠ å¿«è¯·æ±‚é€Ÿåº¦ ç¼©çŸ­æ¸²æŸ“æ—¶é—´ äºŒã€æŒ‡æ ‡çš„ç¡®å®šã€é‡‡é›†å’Œåˆ†æåŸºäºç”¨æˆ·è§’åº¦çš„å…³é”®æŒ‡æ ‡é€‰å– é¡µé¢æ‰“ä¸å¼€ â€“ ç™½å±æ—¶é—´(DNSæŸ¥è¯¢ï¼ŒTCPè¿æ¥ï¼Œå‘é€è¯·æ±‚ï¼Œç­‰å¾…å“åº”) é¡µé¢æ˜¾ç¤ºä¸å‡ºæ¥ â€“ é¦–å±æ—¶é—´(htmlä¼ è¾“ï¼Œé™æ€èµ„æºä¸‹è½½) æŒ‰é’®ç‚¹å‡»ä¸äº† â€“ ç”¨æˆ·å¯æ“ä½œ(è§£ææ–‡æ¡£ï¼Œæ‰§è¡ŒJS/CSSè§„åˆ™ï¼Œè®¡ç®—å¸ƒå±€) å›¾ç‰‡æ˜¾ç¤ºæ…¢ â€“ é¡µé¢æ€»ä¸‹è½½(æ¸²æŸ“å®Œæˆ) æ€ä¹ˆé‡‡é›†å±•ç¤ºé¡µé¢æ‰“å¼€çš„æ—¶é—´èµ·ç‚¹åˆ°é¡µé¢æ¸²æŸ“å®Œæˆçš„æ—¶é—´å„é˜¶æ®µæ—¶é—´åˆ†å¸ƒï¼Œæ€»å æ¯” æ•°æ®æ³¢åŠ¨æ³¢åŠ¨å³æ„å‘³ç€æ€§èƒ½å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦æ³¨æ„ å æ¯”æ›´é‡è¦æ€»ä¸‹è½½çš„æ—¶é—´ï¼Œå„é˜¶æ®µçš„ç”¨æˆ·ä¸‹è½½å æ¯”(å¾ˆå¿«0-2ï¼Œè¾ƒå¿«2-4ï¼Œå¯æ¥å—4-8ï¼Œå¾ˆæ…¢8+) æ•°æ®é‡‡é›†-é¦–å±æ—¶é—´å›¾ç‰‡æ˜¯åˆ¶çº¦é¦–å±çš„ä¸»è¦å› ç´  è·å–é¦–å±å›¾ç‰‡çš„åŠ è½½è€—æ—¶å³å¯è·å–å¤§æ¦‚é¦–å±æ—¶é—´ é¦–å±ç»Ÿè®¡æµç¨‹ é¦–å±å¤§æ¦‚ä½ç½®æ‰§è¡Œç»Ÿè®¡JS ç»‘å®šæ‰€æœ‰å›¾ç‰‡åŠ è½½äº‹ä»¶ é¡µé¢onloadä¹‹åæ‰¾åˆ°æœ€æ…¢ä¸€å¼ å›¾ç‰‡åŠ è½½æ—¶é—´ æ•°æ®é‡‡é›†- å¯æ“ä½œæ—¶é—´DomReadyæˆ–æ ¸å¿ƒJSåŠ è½½å®Œæ¯• æ•°æ®é‡‡é›†-æ€»ä¸‹è½½æ—¶é—´onload or å¼‚æ­¥æ¸²æŸ“å®Œæˆ æµè§ˆå™¨æ€§èƒ½APIPerformance Timing Resource Timing ä¸‰ã€å¸¸ç”¨çš„ä¼˜åŒ–æ–¹æ³• é›…è™æ€§èƒ½ä¼˜åŒ–å†›è§„ å¯ä¼˜åŒ–çš„ç‚¹ DNSæŸ¥è¯¢ DNSç¼“å­˜(æµè§ˆå™¨ã€æ“ä½œç³»ç»Ÿ) å‡å°‘DNSæ•°(ä¸€ä¸ªé¡µé¢ä¸è¶…è¿‡4ä¸ª, DNSé¢„æŸ¥è¯¢dns-prefetch) å»ºç«‹è¿æ¥ ä½¿ç”¨CDN æé€Ÿ10%-20%(ç¼©çŸ­è·ç¦»ï¼Œé™ä½è¿æ¥æ—¶é—´) å‘é€è¯·æ±‚ å‡å°‘HTTPè¯·æ±‚(æ‰“åŒ…JSï¼ŒCSSæ–‡ä»¶ï¼Œå›¾ç‰‡åˆå¹¶) Keep alive å‡å°‘TCPè¯·æ±‚è¿æ¥æ•° å†…å®¹ä¼ è¾“ æ–‡ä»¶å‹ç¼©(js, css, html),ä»£ç æ··æ·† 60%+ ä»£ç ç²¾ç®€ å‡å°‘æ— ç”¨ä»£ç ï¼Œæé«˜è´¨é‡ gzip ç¼“å­˜ Expiresã€Cache-Control Last-Modified Etag å……åˆ†åˆ©ç”¨ç¼“å­˜â€“å¼ºç¼“å­˜(æ–‡ä»¶åmd5åç¼€) å‰ç«¯å·¥ç¨‹åŒ–ä¸æ€§èƒ½ä¼˜åŒ–â€“é™æ€èµ„æºç®¡ç† è‡ªåŠ¨å°†æ ·å¼è¡¨æ”¾åœ¨å¤´éƒ¨ï¼Œè„šæœ¬æ”¾åœ¨åº•éƒ¨ï¼Œå¹¶æŒ‰éœ€åŠ è½½ ä»£ç çš„æ€§èƒ½â€“css ä¹¦å†™é«˜æ•ˆçš„CSS selectors åˆ é™¤æ²¡ç”¨çš„CSSä»£ç  é¿å…ä½¿ç”¨CSS expressions(å®è·µä¸­æ¯”è¾ƒéš¾~~~) æŠŠCSSæ”¾åˆ°é¡µé¢é¡¶éƒ¨ ä¸è¦ç¼©æ”¾å›¾ç‰‡â€“å¾ˆå¤§çš„å›¾ç‰‡ç¼©åˆ°å¾ˆå°å±•ç¤ºï¼Œè€—æ€§èƒ½ ä»£ç çš„æ€§èƒ½â€“JavaScript æ•°æ®ç»“æ„å’Œç®—æ³•ä¼˜åŒ– é¿å…with, eval å‡å°‘è·¨ä¸Šä¸‹æ–‡æŸ¥æ‰¾: å…¨éƒ¨å˜é‡ã€å±æ€§ é¿å…argumentsã€debugger ç¼“å­˜è®¡ç®—ç»“æœ DOMæ‰æ˜¯æ€§èƒ½å¤§å¤´ é¿å…DOMé‡ç»˜(é¿å…è®¿é—®childNodeæ•°ç»„ï¼Œè¯»å†™åˆ†ç¦»)ï¼Œä¸åœ¨forå¾ªç¯é‡ç»˜DOM æ”¶å›ã€é‡å¤åˆ©ç”¨DOM ç¼“å­˜æ•°æ®è€Œä¸æ˜¯DOM MVVM æ¡†æ¶çš„DOM åªåœ¨éœ€è¦æ—¶æ‰æ›´æ–°DOM æ€§èƒ½ï¼šJS Engine &gt; Render Engine Reactçš„æ€§èƒ½ä¼˜åŒ– shouldComponentUpdate / PureComponent å…¨å±€æ•°æ®storeç®¡ç†(redux) + immutable åœ¨shouldComponentUpdateé‡Œå…¨éƒ¨return false,åœ¨componentWillReceivePropsé‡Œåˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–° 12345678910111213export class Line extends React.Component { shouldComponentUpdate(nextProps) { return false; } componentWillReceiveProps(nextProps) { // åªæœ‰æŸäº›æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶è¿›è¡Œç»˜å›¾ if (this.props.data !== nextProps.data) { this.refresh(); } } ...} Debounceé˜²æŠ–å»¶è¿Ÿæ›´æ–° compositionstart, compositionend è§£å†³ä¸­æ–‡è¾“å…¥æ—¶çš„é¢‘ç¹æ›´æ–° 1234567891011121314151617export default class DebounceText extends Component { componentWillMount() { this.props_onChange = debounce(this.props.onchange, 300); } onChange = val =&gt; { this.setState({ value: val }); this.props_onChange(val); } render() { let props = Object.assign({}, this.props, {value: this.state.value}); delete props.onChange; return &lt;Input value={this.state.value} onChange={this.onChange} /&gt; }} React æ€§èƒ½ä¼˜åŒ– redux â€“&gt; mobx, mobx-state-tree å¯¹reduxæ€§èƒ½ä¼˜åŒ–ï¼Œä¸»åŠ¨ç”¨observerè§‚å¯Ÿæ•°æ®çš„å˜åŒ–â€¦ é¿å…è¿‡åº¦çš„åŠ¨ç”»æ•ˆæœ å››ã€æè‡´çš„æ€§èƒ½ä¼˜åŒ– æ‡’åŠ è½½(lazy render), é€å±åŠ è½½ï¼Œä¼˜åŒ–é¦–å±æ—¶é—´ bigRender å‡å°‘DOMæ•°ï¼Œæå‡é¦–å±ï¼ˆDOMæ ‘è½¬ä¸ºæ³¨é‡Šï¼Œé¡µé¢æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®æ‰åŠ è½½ï¼‰ bigpipe ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ†chunkæ–¹å¼è·å–æ‰€æœ‰å†…å®¹ï¼Œåç«¯å¹¶å‘ Request-header (http 1.1) transfer-encoding: chunked content-lengthå…ˆç»™å‰ç«¯åä¸€ä¸ªç»“æ„ï¼Œåœ¨HTMLç»“æŸåï¼Œè¾“å‡ºä¸€äº›jsä»£ç æ¸²æŸ“å†…å®¹ä¸Šå»æ€§èƒ½æå‡ è´´å§é¦–é¡µç™½å±æå‡40% FRSé¡µè´´å§åˆ—è¡¨åŒºå±•ç¤ºæ—¶é—´æå‡20%å¼Šç«¯ ä»£ç å¤æ‚åº¦ åç«¯æˆæœ¬ äº”ã€ç§»åŠ¨ç«¯çš„æ€§èƒ½ æ˜¾æ€§åŠ è½½- loadingé¡µ é¦–å±ä¼˜å…ˆ å•é¡µåº”ç”¨é¦–å±åç«¯æ¸²æŸ“ é€å±åŠ è½½ æ»šåŠ¨åŠ è½½(ç”¨æˆ·æ— æ„ŸçŸ¥ï¼Œæé€Ÿ30%) å‡å°‘é¦–å±å›¾ç‰‡æ•°é‡ï¼Œå‡å°‘è¯·æ±‚ ä½¿ç”¨å…¶ä»–æ–¹å¼ä»£æ›¿å›¾ç‰‡: css3,svg,iconfont åˆé€‚çš„å›¾ç‰‡ç±»å‹: webP &gt; jpg, png8&gt;gif é¿å…ä½¿ç”¨dataURL å“åº”å¼å›¾ç‰‡ åˆ†è¾¨ç‡ã€Retina srcset, picture åŠ è½½è¿‡ç¨‹çš„ä¼˜åŒ– é¢„åŠ è½½: æå‰åŠ è½½ä¸‹ä¸€é¡µ é¿å…302é‡å®šå‘ å¼‚æ­¥åŠ è½½å¹¿å‘Šç­‰ç¬¬ä¸‰æ–¹èµ„æº å‡å°‘cookieï¼šé™æ€èµ„æºåŸŸåä¸é€‚ç”¨cookie é•¿ç¼“å­˜ æ‰§è¡Œè¿‡ç¨‹çš„ä¼˜åŒ– åˆç†ä½¿ç”¨CSS 3DåŠ é€Ÿ é¿å…æ‰¹é‡ç»‘å®šæ•°é‡ï¼Œä½¿ç”¨äº‹ä»¶ä»£ç† ä¸¥æ ¼æ§åˆ¶DOMæ•°ï¼Œç¼“å­˜æ•°æ®è€Œä¸æ˜¯DOMï¼ˆä¸è¶…20å±‚ï¼‰ ç”¨touchstart, touchendä»£æ›¿click åˆ©ç”¨Nativeçš„èƒ½åŠ› å°†ä¸€äº›ä¸é¢‘ç¹æ›´æ–°çš„ä¸€äº›ä¸œè¥¿æœ¬åœ°åŒ– Hybirdçš„åŠ é€Ÿæ–¹å¼ æ¨¡æ¿èµ„æºæœ¬åœ°åŒ–ï¼Œæå¤§æé€Ÿé¦–å± æ¨¡æ¿èµ„æºçš„å¢é‡ä¸‹å‘ å›¾ç‰‡ç¼“å­˜ï¼šimageCache åˆ©ç”¨NA(native)çš„Requestã€socketé•¿è¿æ¥ åˆ©ç”¨NAè·å–ç”¨æˆ·ä¿¡æ¯ã€ä½ç½®ç­‰ æ‰‹ç™¾ä½¿ç”¨Hybirdçš„æ€§èƒ½æ”¶ç›Š ç›¸æ¯”H5æ–¹æ¡ˆï¼Œé¦–å±æ—¶é—´é™ä½60%+ æ¨¡æ¿å¢é‡ä¸‹å‘ï¼Œä½“ç§¯å‡å°90% æ€»ç»“å‰ç«¯æ€§èƒ½ååˆ†å…³é”®ï¼Œå½±å“PV å’Œæ”¶å…¥æ‰¾åˆ°å…³é”®æŒ‡æ ‡ï¼Œç”¨ç»Ÿè®¡åˆ°çš„æ•°æ®è¯´è¯æ€§èƒ½ä¼˜åŒ–è´¯ç©¿é¡µé¢çš„æ•´ä¸ªå“åº”è¿‡ç¨‹æ— çº¿ç«¯æ›´éœ€è¦ä¼˜åŒ–ç›‘æ§-åˆ†æ-ä¼˜åŒ–ï¼Œåˆ©ç”¨ç°æœ‰çš„å·¥å…·æ–¹æ¡ˆ","link":"/posts/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9A%84%E7%9B%91%E6%8E%A7%E5%92%8C%E4%BC%98%E5%8C%96/"},{"title":"å­¦ä¹ æ–¹æ³•","text":"å­¦ä¹ æ–¹æ³•ï¼šå¦‚ä½•åœ¨å·¥ä½œå†…å¤–è·å¾—æŒç»­çš„æŠ€æœ¯æˆé•¿å‚è€ƒé“¾æ¥ å­¦ä¹ æ–¹æ³•ï¼šå¦‚ä½•åœ¨å·¥ä½œå†…å¤–è·å¾—æŒç»­çš„æŠ€æœ¯æˆé•¿ çœ‹æ–‡ç« å†™çš„å¾ˆå¥½ï¼Œæ‘˜ä¸€äº›å¯¹è‡ªå·±æœ‰ç”¨çš„ä¸œè¥¿ä¿å­˜ä¸‹æ¥ æˆé•¿æœ¬è´¨æ˜¯çªç ´å¤©èŠ±æ¿æˆé•¿æ˜¯ä¸€ä»¶å¾ˆéš¾æ‰æ‘¸å’Œé‡åŒ–çš„äº‹æƒ…ï¼Œå®Œå…¨ä¸åŒçš„ç¯å¢ƒå’Œä¸»è§‚æ„è¯†åŠ ä¸Šå®Œå…¨ä¸åŒçš„è¡ŒåŠ¨æªæ–½æ—¢å¯ä»¥è®©ä¸€ä¸ªäººå¿«é€Ÿæˆä¸ºæŸä¸ªé¢†åŸŸçš„é¡¶å°–é«˜æ‰‹ï¼Œä¹Ÿå¯èƒ½å®Œå…¨ç›¸åã€‚ äº†è§£æŠ€æœ¯çš„æˆæœ¬å’Œé—¨æ§›å¯¹æŠ€æœ¯å¯»æ ¹æº¯æºè¿½æ±‚æœ¬è´¨æ˜¯æœ€é‡è¦çš„ï¼Œä½†æ¯”è¿™ä¸ªæ›´é‡è¦çš„æ˜¯è‡ªå·±çš„æ—¶é—´åˆ†é…å’Œå¦‚ä½•é€‰æ‹©ï¼Œä½ çš„æ—¶é—´è¿œæ¯”ä½ ä»¥ä¸ºçš„è¦å€¼é’±çš„å¤šï¼Œè¯·çæƒœå®ƒã€‚ å“ªäº›æŠ€æœ¯æ ˆæ˜¯æ—¶é—´é•¿åº¦ç›¸å¯¹å¯è¢«æ¥å—ï¼Œä¹Ÿå°±æ˜¯å“ªäº›å­¦ä¹ æˆæœ¬å¯ä»¥è¢«æ¥å—æ˜¯ä½ éœ€è¦æ€è€ƒçš„ï¼Œæ€è€ƒæ¸…æ¥šåï¼Œå†å»é€‰æ‹©ï¼Œä¼šæ›´æœ‰ä¾§é‡ï¼Œç„¶åå†æ¥çœ‹ä¸åŒçš„æŠ€æœ¯å­¦ä¹ æˆæœ¬èƒŒåï¼Œå“ªä¸ªæ›´è´´åˆè‡ªå·±ã€‚ æ±‚å˜ä¹‹å‰è¦å…ˆè®¤æ¸…è‡ªå·±1æˆ‘æ˜¯è°ï¼Ÿæˆ‘çš„èº«ä»½æ˜¯ï¼Ÿæœªæ¥æˆ‘æƒ³è¦åšä»€ä¹ˆï¼Ÿå½“ä¸‹æˆ‘å¯ä»¥åšä»€ä¹ˆï¼Ÿæˆ‘æ“…é•¿ä»€ä¹ˆï¼Ÿæˆ‘è¿˜éœ€è¦å­¦ä¼šä»€ä¹ˆï¼Ÿ ç­”æ¡ˆæ°¸è¿œåœ¨å˜åŒ–ï¼Œä¹Ÿæ°¸è¿œæ²¡åœ¨å˜ï¼Œæ—¶é—´è¶Šä¹…æ€è€ƒçš„è¶Šä¹…ç»å†ä¹Ÿè¶Šå¤šï¼Œå°±ä¼šè·ç¦»å®ƒæœ€çœŸå®çš„ç­”æ¡ˆè¶Šè¿‘ã€‚ å…¶å®æœ‰å¤ªå¤šå¤ªå¤šçš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•é—®è‡ªå·±ï¼Œä½†æˆ‘ä»¬å¾€å¾€æ‰¾åˆ«äººå»é—®ï¼ŒæŒ‘é€‰è·Ÿè‡ªå·±å†…å¿ƒä¸æœªæ¥æ— å…³çš„è¯é¢˜ï¼Œå…¶å®æ‰€æœ‰çš„ç­”æ¡ˆéƒ½å–å†³äºè‡ªå·±æ¥ä¸‹æ¥ 3 ~ 9 ä¸ªæœˆå…·ä½“çš„è¡ŒåŠ¨ï¼Œè¿™äº›ç­”æ¡ˆæ¥æºäºå†…å¿ƒçš„åŸåŠ¨åŠ›ä»¥åŠè‡ªå·±è§„åˆ’çš„æœ€ä¼˜æˆ–è€…æœ€å¯æ‰§è¡Œè·¯å¾„ï¼Œå¯ä¸€æ—¦æˆ‘ä»¬çœ¼ç›çœ‹åˆ° 9 ä¸ªæœˆåçš„ç»“æœï¼Œè€Œå¿½è§†è¿™ä¸ªå¯æ‰§è¡Œè·¯å¾„ï¼Œç”šè‡³å¿½ç•¥åŸåŠ¨åŠ›çš„æ—¶å€™ï¼Œç»“æœå°±å˜å¾—éå¸¸æƒ‹æƒœï¼Œå¿½ç•¥æ•´ä¸ªæ€è€ƒè¿‡ç¨‹ï¼Œä¹Ÿå°±å‹æ ¹æ— æ³•äº†è§£è‡ªå·±çš„çœŸå®è¯‰æ±‚å’ŒçœŸå®èƒ½åŠ›ã€‚ ä¹ æƒ¯å…»æˆä¸å®šç›®æ ‡è®¡åˆ’åœ¨ç»è¿‡æ·±æ€ç†Ÿè™‘åå»åˆ¶å®šçš„ç›®æ ‡æˆåŠŸçš„æ¦‚ç‡æ›´å¤§ï¼Œè€Œè„‘è¢‹ä¸€çƒ­è·‘å‡ºæ¥çš„ç›®æ ‡å¾€å¾€ä¼šæ³¡æ±¤ï¼Œæ³¡æ±¤å€’ä¹Ÿç½¢äº†ï¼Œè¿™ä¼šè®©è‡ªå·±é™·å…¥å®šç›®æ ‡ - æ‰§è¡Œéš¾åº¦è¿‡å¤§ - æ”¾å¼ƒ - å†å®šç›®æ ‡è¿™æ ·çš„æ­»å¾ªç¯ï¼Œä¿¡å¿ƒå’Œæˆå°±æ„Ÿä¸€å¤©å¤©æŒ«è´¥ä¸‹å»ï¼Œå°±å˜æˆäº†ä»Šæ—¥çš„è‡ªå·±ï¼Œæ™šä¸Šæƒ³åƒä¸‡æ¡è·¯æ—©ä¸Šèµ·æ¥èµ°åŸè·¯ï¼Œè¶Šæ¥è¶Šéº»æœ¨è¶Šæ¥è¶Šæ°”é¦ã€‚ å»ºè®®: åˆ¶å®šç›®æ ‡è¦è€ƒè™‘èƒ½ä¸èƒ½åšæŒä¸‹æ¥ï¼Œå¦‚æœä¸èƒ½åšæŒä¸‹æ¥ï¼Œå°±ä¿®æ­£ã€‚åšæŒä¸¤ä¸‰å‘¨æ…¢æ…¢å½¢æˆä¹ æƒ¯ï¼Œå¹¶ä»ä¸­å—ç›Šè·å–ä¸€äº›å…´è¶£å’Œæˆå°±æ„Ÿï¼Œè¿™æ—¶å€™æ‰æ˜¯å®šç›®æ ‡çš„æ—¶å€™ï¼Œå› ä¸ºè¿™æ—¶å€™ï¼Œä¹ æƒ¯æ­£åœ¨å…»æˆã€‚ å½“æœ‰äº†ä¸€ç§æ­£åœ¨å»ºç«‹æˆ–è€…æˆç†Ÿçš„ä¹ æƒ¯ï¼Œä¹Ÿå®šäº†å…·ä½“çš„ç›®æ ‡åï¼Œå°±å¯ä»¥å®šå…·ä½“çš„è®¡åˆ’äº†ã€‚è®¡åˆ’å°±æ˜¯è¡ŒåŠ¨æŒ‡å—ï¼Œè¦ä¸€æ¿ä¸€çœ¼çš„å»æ‰§è¡Œï¼Œåšå†³ä¸èƒ½é©¬è™å¤§æ„ï¼Œæœ€å¥½ä¸€æ¡æ¡å†™ä¸‹æ¥ã€‚æ¯”å¦‚ï¼š æ¯å‘¨æ™šä¸Š10ç‚¹é’Ÿï¼ŒèŠ±10åˆ†é’Ÿè¯»ä¹¦ æ¯å‘¨å…­èŠ±ä¸€å°æ—¶æ•´ç†ç¬”è®° æ¯å‘¨æ—¥èŠ±2å°æ—¶å¯¹é‡åˆ°çš„é—®é¢˜è¿›è¡Œæ·±å…¥ç ”ç©¶ å†æŠŠè¿™ä¸ªè§„å¾‹æ€§çš„äº‹é¡¹ï¼Œåˆ†è§£åˆ°æ¯ä¸€å¤©ï¼Œæ¯ä¸€å¤©éƒ½è¦æ‰“ä¸€ä¸ªå¯¹å‹¾ï¼Œä»»åŠ¡æ‰ç®—å®Œæˆï¼Œå®Œæˆåç»™è‡ªå·±ä¸€ä¸ªæ¿€åŠ±ï¼Œæ¯”å¦‚è¯´è¿ç»­5å¤©å®Œæˆï¼Œçœ‹åœºç”µå½±ä¹‹ç±»ã€‚æŒ‡å®šæ˜ç¡®çš„å¥–æƒ©ç»†åˆ™ï¼Œå åŠ åˆ°æ¯æ—¥çš„æ‰‹æœº/ç”µè„‘è¡Œç¨‹ä¸­ï¼Œç»™è‡ªå·±å¼ºæœ‰åŠ›çš„æé†’ï¼ŒåšæŒä¸‰ä¸ªæœˆï¼Œä¸€ä¸ªä¹ æƒ¯å¤§æ¦‚ç‡å°±èƒ½å…»æˆäº†ï¼Œå°±å¯ä»¥å®šç¬¬äºŒä¸ªç›®æ ‡å»å…»æˆç¬¬äºŒä¸ªä¹ æƒ¯äº†ã€‚ æ‰€ä»¥ä¹ æƒ¯å’Œç›®æ ‡åŠè®¡åˆ’çš„å…³ç³»æ˜¯ï¼Œå®šç›®æ ‡å‰è¦å°½å¯èƒ½å…ˆå…»æˆä¸€ä¸ªæ½œåœ¨çš„ä¹ æƒ¯ï¼ŒæŠŠè‡ªå·±çš„åº•çº¿æµ‹è¯•å‡ºæ¥ï¼Œç„¶åè°ƒæ•´ç›®æ ‡ï¼Œå†æ‹†è§£ç›®æ ‡å½¢æˆè§„å¾‹æ€§çš„è®¡åˆ’ï¼Œæœ€åæŠŠè®¡åˆ’å®Œæˆè·Ÿå¥–æƒ©å…³è”èµ·æ¥ï¼Œå¹¶é€šè¿‡è½¯ç¡¬ä»¶æ¥è·Ÿè‡ªå·±è¿›è¡Œäº’åŠ¨æé†’ã€‚è¿™æ³¨å®šæ˜¯ä¸€ä¸ªå•è°ƒçš„è¿‡ç¨‹ï¼Œä½†è¿™ä¸€å®šæ˜¯ä¸€ä¸ªè¶ŠåšæŒè¶Šå¥½ç©çš„è¿‡ç¨‹ï¼Œç­‰ä¹ æƒ¯è®­ç»ƒæœ‰äº†é›å½¢çš„æ—¶å€™ï¼Œæ‰ä¼šçœŸæ­£å¯åŠ¨æŒç»­æˆé•¿è¿™ä»¶äº‹æƒ…ã€‚ è®­ç»ƒç¨³å®šçš„æ€ç»´è·¯å¾„æˆ‘ä»¬å‰é¢å¯¹è‡ªå·±æœ‰äº†æ›´å®¢è§‚çš„è®¤çŸ¥ï¼Œä¹ŸåŸ¹å…»äº†å®Œæˆç›®æ ‡çš„ä¹ æƒ¯ï¼Œè¿™ä¸¤ä¸ªå‰ææ¡ä»¶å°±æˆç«‹äº†ï¼Œè¿˜ç¼ºç¬¬ä¸‰æ ·ä¸œè¥¿ï¼Œå°±æ˜¯ç¨³å®šçš„æ€ç»´è·¯å¾„ï¼Œæœ€åˆ»æ¿ä¹Ÿæœ€ç®€å•çš„æ€ç»´æ–¹å¼å°±æ˜¯ç©·å°½å¼çš„æé—®ï¼Œä¹Ÿå°±æ˜¯å‰é¢è®¤æ¸…è‡ªå·±è¿™é‡Œï¼Œæˆ‘ç”¨åˆ—ä¸¾é—®é¢˜çš„è¿™ç§åŠæ³•ï¼Œæ¥è®©è‡ªå·±ä¸æ–­çš„æ¥è¿‘æŸä¸€ä¸ªçœŸç›¸ï¼Œé‚£ä¹ˆé¢å¯¹ä»»ä½•ä¸€ä¸ªå›°å±€çš„æ—¶å€™ï¼Œéƒ½å¯ä»¥ç”¨è¿™ç§æ–¹æ³•ã€‚å®é™…ä¸Šï¼Œå½“ä½ æŠŠå‡ åä¸ªé—®é¢˜éƒ½å›ç­”ä¸€éçš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥ç»§ç»­å†™ä¸‹æ›´å‡»ä¸­çµé­‚çš„é—®é¢˜ï¼Œè€Œè¿™æ¬¡é—®é¢˜å†™ä¸‹å»çš„æ—¶å€™ï¼Œå¾€å¾€ç­”æ¡ˆå°±è‡ªç„¶æµ®å‡ºæ°´é¢ã€‚ æé—®çš„å¥—è·¯å¯ä»¥æ›´ç®€å•ä¸€äº›ï¼Œå°±æ˜¯ What Why Howï¼Œè¿™ä¸ªé—®é¢˜æ˜¯ä»€ä¹ˆï¼Œå½“å‰çš„çœŸç›¸æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆå‘ç”Ÿï¼Œä¸ºä»€ä¹ˆèµ°åˆ°è¿™ä¸ªåœ°æ­¥ï¼ŒåŸºäºè¿™äº›åŸå› è¦å¦‚ä½•è§£å†³ï¼Œæ— è®ºä»»ä½•äº‹æƒ…ï¼Œéƒ½é€¼è‡ªå·±å»æ‰æ‘¸å®ƒå»æ€è€ƒå®ƒçš„å‰å› åæœï¼Œæ…¢æ…¢ä¼šå‘ç°è‡ªå·±ä¼šå˜æˆä¸€ä¸ªå–œæ¬¢ä¸Šæ€è€ƒå’Œå–„äºæ€è€ƒçš„äººï¼Œå†ä¹Ÿä¸æ˜¯ä¹‹å‰çš„é‚£ä¸ªé²è½çš„æ¯›å¤´å°å­ï¼Œçœ‹é—®é¢˜åªçœ‹è´Ÿé¢çœ‹ç°è±¡åªçœ‹è¡¨é¢ã€‚ è®¤è¯†è‡ªå·±ã€ä¹ æƒ¯å…»æˆã€æ€ç»´è®­ç»ƒè¿™ä¸‰ä¸ªè¦æˆå¹´ç´¯æœˆæŒç»­çš„åšï¼Œå½“è¿™äº›éƒ½é€æ¸å˜æˆé•¿åœ¨è‡ªå·±èº«ä½“å†…çš„ä¸€ç§èƒ½åŠ›çš„æ—¶å€™ï¼Œæ‰€ä»¥ä½ é¢ä¸´çš„é—®é¢˜éƒ½ä¸ä¼šè®©ä½ åƒä¹‹å‰é‚£æ ·ç„¦è™‘ï¼Œåœ¨åšå®Œè¿™ä¹ˆé•¿é“ºå«åï¼Œæˆ‘ä»¬å†æ¥çœ‹å¦‚ä½•è·å¾—æŒç»­çš„æŠ€æœ¯æˆé•¿ã€‚ å·¥ä½œå†…å¤–çš„æŠ€æœ¯æˆé•¿æˆé•¿æ˜¯ç»å¸¸ä¸ç¬¦åˆé¢„æœŸçš„ï¼Œè¯·è®°ä½ï¼Œå®ƒå¤§æ¦‚ç‡æ˜¯ä¸ç¬¦åˆé¢„æœŸçš„ï¼ŒåŸå› æ˜¯è‡ªå·±çš„é¢„æœŸæœ¬èº«æ˜¯éå¸¸ä¸»è§‚ä¸å‡†ç¡®çš„ï¼ŒåŒæ—¶æˆé•¿åªæ˜¯è¿‡ç¨‹çš„ç§¯ç´¯å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆç›´è§‚çš„ç»“æœã€‚åŸºäºè¿™æ ·çš„èƒŒæ™¯ï¼Œæˆ‘ä»¬å¸Œæœ›è¾¾æˆçš„å…±è¯†æ˜¯ï¼Œæ— è®ºæˆé•¿æ˜¯å¦é¢„æœŸï¼Œæˆ‘éƒ½å¸Œæœ›æœ‰æŒç»­çš„æˆé•¿ï¼ŒåŒæ—¶ç›¼æœ›å¥‡è¿¹çš„å‘ç”Ÿ - å°±æ˜¯è¿œè¶…é¢„æœŸçš„æˆé•¿ä¼šå‘ç”Ÿåœ¨æˆ‘èº«ä¸Šã€‚ å·¥ä½œå†…çš„æˆé•¿ä¸»è¦æ¥è‡ªé¡¹ç›®å¸¦ç€è¿™æ ·çš„æœŸæœ›ï¼Œæˆ‘ä»¬å›åˆ°å·¥ä½œå†…å·¥ä½œå¤–ä¼šå‘ç°ï¼Œæ‰€æœ‰çš„æˆé•¿æœ€æ ¸å¿ƒçš„è¿‡ç¨‹æŒ‡æ ‡å°±æ˜¯é¡¹ç›®ç»éªŒï¼Œå·¥ä½œå†…å¤©ç„¶å°±å¯ä»¥æ²‰æ·€ï¼Œé‚£ä¹ˆå¦‚ä½•æ²‰æ·€æˆ–è€…æŒ–æ˜æˆé•¿ç‚¹å‘¢ï¼Ÿ å¾ˆå¤šäººåœ¨é¢è¯•ä¸­ä¼šè¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜ã€Œä½ åšçš„é¡¹ç›®æœ‰ä»€ä¹ˆéš¾ç‚¹ã€ã€‚å¯èƒ½å¤§å®¶ä¼šæŠŠæ€ç»´å±€é™åœ¨æˆ‘åšçš„è¿™ä¸ªä¸šåŠ¡æœ‰ä»€ä¹ˆéš¾çš„åœ°æ–¹ï¼Œæˆ‘ç”¨äº†ä»€ä¹ˆç‰›é€¼çš„æŠ€æœ¯å»è§£å†³äº†ä¸šåŠ¡ä¸Šçš„ä»€ä¹ˆéš¾é¢˜ã€‚æˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†äººä¸ä¼šæœ‰è¿™æ ·çš„ç»å†ï¼Œç”±æ­¤ä¼šè§‰å¾—è¿™ä¸ªé—®é¢˜å¾ˆéš¾ç­”ã€‚é‚£ä¹ˆè¿™ä¸ªé—®é¢˜å…¶å®å°±å¯ä»¥å¼•ç”³ä¸ºæˆ‘ä»¬å¦‚ä½•åœ¨å·¥ä½œä¸­ã€ä¸šåŠ¡ä¸­å‘ç°é—®é¢˜å¹¶å¾—åˆ°æˆé•¿ï¼Ÿ å¦‚ä½•å®ç°ä¸šåŠ¡åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸ä¼šæ˜¯ä¸€ä¸ªéš¾é¢˜ï¼Œä½†æ˜¯å¦‚ä½•æŠŠä¸šåŠ¡ä¸­ç›¸å…³çš„ç»„ä»¶ã€é€»è¾‘ç­‰ç­‰å¯ä»¥å¤ç”¨çš„ä¸œè¥¿æŠ½è±¡å‡ºæ¥ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªéš¾é¢˜äº†ã€‚ä½ å¯ä»¥é€šè¿‡å­¦ä¹ æ¯”ä½ å‰å®³çš„åŒäº‹çš„ä»£ç ï¼Œä¹Ÿå¯ä»¥å­¦ä¹ è¿™æ–¹é¢ä¸šå†…é¡¶å°–çš„åº“æ˜¯å¦‚ä½•å®ç°çš„ï¼Œè¿™å°±æ˜¯åœ¨å·¥ä½œä¸­å­¦ä¹ åŠæˆé•¿ã€‚ åœ¨å®ç°ä¸šåŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œå¤§å®¶è‚¯å®šä¼šä½¿ç”¨å„ç§å„æ ·çš„åº“åŠæ¡†æ¶ã€‚é‚£ä¹ˆå½“æˆ‘ä»¬ç†Ÿç»ƒä½¿ç”¨è¿™ä¸ªåº“çš„æ—¶å€™ï¼Œå°±åº”è¯¥å°½å¯èƒ½çš„å»äº†è§£å¸¸ç”¨çš„åº“çš„å®ç°åŸç†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ–‡ç« å»äº†è§£ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é˜…è¯»æºç å»äº†è§£ï¼Œè¿™ä¹Ÿæ˜¯åœ¨å·¥ä½œä¸­å­¦ä¹ åŠæˆé•¿ã€‚ å®é™…ä¸Šå¤§éƒ¨åˆ†å·¥ä½œåœºæ™¯ä¸­çš„é¡¹ç›®ï¼Œæ·±åº¦çš„æ€è€ƒæŒç»­çš„æ€è€ƒéƒ½ä¼šå¸¦æ¥è¾ƒå¤§çš„æŠ€æœ¯æˆé•¿ï¼Œä½†å¾€å¾€æˆ‘ä»¬æ²¡æœ‰è€å¿ƒå’ŒåŠ¨åŠ›å»åšè¿™ä»¶äº‹æƒ…ï¼Œå› ä¸ºä¼šæœ‰é›‡ä½£å¿ƒæ€ï¼Œä¹Ÿå°±æ˜¯ä½ ä»˜æˆ‘é‚£ç‚¹å·¥èµ„ï¼Œå‡­ä»€ä¹ˆæˆ‘æƒ³ç ´å¤´çš®å»æ‰æ‘¸æ€ä¹ˆä¼˜åŒ–å®ƒï¼Œè¿™å°±ç­‰äºæ˜¯æŠŠè‡ªå·±æ‹¦åˆ°äº†æ± å­ä¹‹å¤–ï¼Œå…¬å¸ä»˜è–ªæ°´ï¼ˆæ— è®ºå¤šå°‘ï¼‰æ˜¯è´­ä¹°äº†ä½ çš„æ—¶é—´ï¼Œè€Œä½ çš„æˆé•¿æ˜¯åŸºäºè¿™äº›æ—¶é—´å¦‚ä½•åœ¨æ± å­é‡Œå­¦æ¸¸æ³³æŠ€èƒ½ï¼Œæ± å­å¤§å°æ°´æ¸©æ·±æµ…ç”šè‡³å½¢çŠ¶ä½ éƒ½å¾ˆéš¾æœ‰æ§åˆ¶æƒï¼Œä½†è›™æ³³ä»°æ³³è‡ªç”±æ³³ç”šè‡³é—­æ°”æ½œæ°´è¿™äº›éƒ½æ˜¯è‡ªå·±è¯´äº†ç®—ï¼Œå¦‚æœè¿™äº›éƒ½ç©æºœäº†ï¼Œå»ä»»æ„ä¸€ä¸ªæ± å­éƒ½èƒ½å¦‚é±¼å¾—æ°´ï¼Œä¸æ˜¯ä¹ˆï¼Ÿ ä¾‹å¦‚ï¼šæ‰“é€ å·¥ä½œç›¸å…³çš„å·¥å…·é“¾ï¼Œè®©æ¯ä¸ªæµç¨‹ä¸ç‹¬ç«‹è¿›è¡Œã€‚ æ‰€ä»¥å·¥ä½œå†…ï¼Œä¸ä»…é è€å¿ƒï¼Œè¿˜è¦æœ‰ä¸æ€•åƒäºçš„å¿ƒæ€ï¼Œæ›´è¦æœ‰å–„äºå‘ç°çš„åŒçœ¼ï¼Œæ— æ•°æœºä¼šéƒ½åœ¨ä½ é¢å‰ï¼Œéƒ½å¯ä»¥æŒç»­ä¸æ–­çš„å¸¦æ¥æˆé•¿ï¼ŒåŒæ—¶ç»™è‡ªå·±å›¢é˜Ÿå’Œä¸ªäººå¸¦æ¥æ›´å¤šæ•ˆç‡å’Œä½“éªŒçš„æå‡ã€‚ å·¥ä½œå¤–çš„æˆé•¿ä¸»è¦æ¥è‡ªå°è¯•ä¸æ€è€ƒå·¥ä½œå¤–çš„æˆé•¿æ›´ç®€å•æ˜“æ“ä½œä¸€äº›ï¼Œå¾€å¾€å°±æ˜¯æŠ€æœ¯å‚¨å¤‡ã€æŠ€æœ¯å°é²œå’Œæ€»ç»“æ€è€ƒï¼ŒæŠ€æœ¯å‚¨å¤‡ä¸€éƒ¨åˆ†æ˜¯ä¸ºäº†è‡ªå·±çš„èŒä¸šè€ƒè™‘ï¼Œæ¯”å¦‚å­¦ä¹  RN/Flutter/Go ç­‰ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥æ˜¯ä¸ºäº†è‡ªå·±å…¬å¸ä¸šåŠ¡æœªæ¥çš„å¯èƒ½æ€§é¢†åŸŸï¼Œæ¯”å¦‚ NodeJS/Taro/MPVue ç­‰ç­‰ï¼Œæ‰€æœ‰æ„Ÿå…´è¶£çš„æ–¹å‘éƒ½å¯ä»¥å»å­¦ä¹ å‚¨å¤‡ã€‚å¦å¤–å°±æ˜¯è‡ªå·±çš„æƒ³æ³•ï¼Œå¯ä»¥æŠŠä»–å˜æˆç°å®ï¼Œæ¯”å¦‚ä¸€ä¸ªè¡Œç¨‹æé†’å°å·¥å…·ï¼Œä¸€ä¸ªèè‰å¦¹å­å«èµ·åºŠå°å·¥å…·ï¼Œä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆå‘¨æœ«é£Ÿè°±çš„å·¥å…·ç­‰ç­‰ï¼Œä»»ä½•ä¸€ä¸ªç”Ÿæ´»ç—›ç‚¹å’Œåˆ›æ„æƒ³æ³•ï¼Œéƒ½å¯ä»¥åŠ¨æ‰‹æŠŠå®ƒå®ç°å‡ºæ¥ï¼Œå‰åç«¯å¯ä»¥ä¸€èµ·åšï¼ŒæŠ€æœ¯æ ˆå¯ä»¥æ¿€è¿›ï¼Œæ‰€æœ‰çš„è¿™äº›å°é²œéƒ½ä¼šå¸¦æ¥æŠ€æœ¯è§†é‡çš„æ‰©å¼ ï¼Œä¹Ÿä¼šå¸¦æ¥æŠ€æœ¯æ·±åº¦çš„æ²‰æ·€ã€‚æœ€å€¼å¾—å°è¯•çš„å°±æ˜¯æ€è€ƒå’Œæ€»ç»“ï¼ŒæŠŠä»»ä½•è‡ªå·±å­¦ä¹ çš„æ¡†æ¶ï¼Œçœ‹è¿‡çš„ä¹¦ï¼Œåšè¿‡çš„é¡¹ç›®ï¼Œç”šè‡³è§£å†³è¿‡çš„ Bugï¼Œéƒ½å¯ä»¥æœ‰åºçš„æ•´ç†èµ·æ¥ï¼ŒæŠŠè¿™äº›æ•´ç†å˜æˆæ–‡å­—å’Œå›¾è¡¨ï¼Œæ¥å¼ºåŒ–è‡ªå·±å¯¹äºæŠ€æœ¯çš„è®°å¿†ï¼Œæ‰€æœ‰çš„è¿™äº›è®°å¿†é‡å¤è®­ç»ƒçš„æ¬¡æ•°è¶Šå¤šï¼Œå¯¹äºä»–ä»¬çš„ç†è§£å’Œè¿è¥å°±è¶Šå¨´ç†Ÿï¼Œå¾€å¾€æœ€æ…¢çš„åè€Œæ˜¯æœ€æœ‰æ•ˆçš„ã€‚ å°ç»“æˆé•¿æ˜¯ä¸€ä¸ªæ°¸æ’çš„è¯é¢˜ï¼Œäº’è”ç½‘å‡ åå¹´æ¥ï¼Œæ— æ•°çš„æ–°äººé—®æˆé•¿ï¼Œä¹Ÿæ— æ•°çš„æ–°äººå˜è€äººï¼Œæœ‰çš„æ··æˆä¸€æ–¹å¤§æ‹¿ï¼Œæœ‰çš„æ··æˆèºä¸å·¥å¤´ï¼ŒæŠ›å¼€ç»æµç¯å¢ƒã€è¡Œä¸šè¶‹åŠ¿å’Œå…¬å¸ç»è¥ï¼Œæ›´å¤šæ—¶å€™å–å†³äºæˆ‘ä»¬æˆé•¿çš„æ˜¯ä¸€äº›å­¦ä¹ æ–¹æ³•ï¼Œæ›´æ ¹æœ¬ä¸Šä¾ç„¶æ˜¯æˆ‘ä»¬å¯¹äºè‡ªå·±çš„ç†è§£ã€è§„åˆ’å’ŒæŒä¹‹ä»¥æ’çš„æ‰§è¡Œï¼Œè¿™é‡Œé¢æ— å…³è¿æ°”æ›´å…³ä¹å®åŠ›ï¼Œä¸æ˜¯ç¯å¢ƒå¸¦æ¥çš„æˆé•¿å»é€‰æ‹©ä½ ï¼Œè€Œæ˜¯ä½ é€‰æ‹©åœ¨ä»»ä½•ç¯å¢ƒä¸­éƒ½èƒ½æˆé•¿ï¼Œå…·å¤‡é€‰æ‹©æƒåï¼Œå‰©ä¸‹çš„æ— éæ˜¯è§„åˆ’ã€æ‰§è¡Œä¸åšæŒï¼Œæ— å®ƒï¼","link":"/posts/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/"},{"title":"åŸå‹","text":"jsåŸå‹ç»§æ‰¿çš„å‡ ç§æ–¹å¼ åŸå‹é“¾ç»§æ‰¿ 2ï¼Œæ„é€ å‡½æ•°ç»§æ‰¿ï¼ˆå¯¹è±¡å†’å……ç»§æ‰¿ï¼‰ 3ï¼Œç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾ç»§æ‰¿+æ„é€ å‡½æ•°ç»§æ‰¿ï¼‰ 4ï¼ŒåŸå‹å¼ç»§æ‰¿ 5, å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ ä¸€ã€‚åŸå‹é“¾ç»§æ‰¿ 1234567891011function Show(){ this.name=&quot;run&quot;;}function Run(){ this.age=&quot;20&quot;; //Runç»§æ‰¿äº†Show,é€šè¿‡åŸå‹ï¼Œå½¢æˆé“¾æ¡}Run.prototype=new Show();var show=new Run();alert(show.name)//ç»“æœï¼šrun äºŒã€‚æ„é€ å‡½æ•°ç»§æ‰¿ï¼ˆå¯¹è±¡å†’å……ç»§æ‰¿ï¼‰ ä¸ºäº†è§£å†³å¼•ç”¨å…±äº«å’Œè¶…ç±»å‹æ— æ³•ä¼ å‚çš„é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸€ç§å«å€Ÿç”¨æ„é€ å‡½æ•°çš„æŠ€æœ¯ï¼Œæˆ–è€…æˆä¸ºå¯¹è±¡å†’å……(ä¼ªé€ å¯¹è±¡ã€ç»å…¸ç»§æ‰¿)çš„æŠ€æœ¯æ¥è§£å†³è¿™ä¸¤ç§é—®é¢˜ 2.ä¼˜ç¼ºç‚¹å¯ä»¥å®ç°å¤šç»§æ‰¿,ä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³• 123456789101112function Box(age){ this.name=['Lee','Jack','Hello'] this.age=age;}function Desk(age){ Box.call(this,age); //å¯¹è±¡å†’å……ï¼Œç»™è¶…ç±»å‹ä¼ å‚}var desk = new Desk(200);alert(desk.age);//200alert(desk.name);//['Lee','Jack','Hello']desk.name.push('AAA'); //æ·»åŠ çš„æ–°æ•°æ®ï¼Œåªç»™ deskalert(desk.name)//['Lee','Jack','Hello','AAA'] ä¸‰ã€‚ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾ç»§æ‰¿+æ„é€ å‡½æ•°ç»§æ‰¿ï¼‰ å€Ÿç”¨æ„é€ å‡½æ•°è™½ç„¶è§£å†³äº†åˆšæ‰ä¸¤ç§é—®é¢˜ï¼Œ ä½†æ²¡æœ‰åŸå‹ï¼Œ å¤ç”¨åˆ™æ— ä»è°ˆèµ·ã€‚ æ‰€ä»¥ï¼Œ æˆ‘ä»¬éœ€è¦åŸå‹é“¾+å€Ÿç”¨æ„é€ å‡½æ•°çš„æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼æˆä¸ºç»„åˆç»§æ‰¿ã€‚ é€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨ 1234567891011121314function Box(age) { this.name = ['Lee', 'Jack', 'Hello'] this.age = age;}Box.prototype.run = function () { return this.name + this.age;};function Desk(age) { Box.call(this, age); //å¯¹è±¡å†’å……}Desk.prototype = new Box(); //åŸå‹é“¾ç»§æ‰¿Desk.prototype.constructor = Desk; // ç»„åˆç»§æ‰¿ä¹Ÿæ˜¯éœ€è¦ä¿®å¤æ„é€ å‡½æ•°æŒ‡å‘çš„ã€‚var desk = new Desk(100);alert(desk.run()); å››ã€‚åŸå‹å¼ç»§æ‰¿ è¿™ç§ç»§æ‰¿å€ŸåŠ©åŸå‹å¹¶åŸºäºå·²æœ‰çš„å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŒæ—¶è¿˜ä¸å¿…å› æ­¤åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ 12345678910111213141516171819function obj(o) { //ä¼ é€’ä¸€ä¸ªå­—é¢é‡å‡½æ•°function F() {} //åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•°F.prototype = o; //æŠŠå­—é¢é‡å‡½æ•°èµ‹å€¼ç»™æ„é€ å‡½æ•°çš„åŸå‹ return new F(); //æœ€ç»ˆè¿”å›å‡ºå®ä¾‹åŒ–çš„æ„é€ å‡½æ•°}var box = { //å­—é¢é‡å¯¹è±¡ name : 'Lee', arr : ['å“¥å“¥','å¦¹å¦¹','å§å§']};var box1 = obj(box); //ä¼ é€’alert(box1.name);box1.name = 'Jack';alert(box1.name);alert(box1.arr);box1.arr.push('çˆ¶æ¯');alert(box1.arr);var box2 = obj(box); //ä¼ é€’alert(box2.name);alert(box2.arr); //å¼•ç”¨ç±»å‹å…±äº«äº† äº”ã€‚å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿è§£å†³äº†ä¸¤æ¬¡è°ƒç”¨çš„é—®é¢˜ï¼Œç»„åˆå¼ç»§æ‰¿å°±ä¼šæœ‰ä¸¤æ¬¡è°ƒç”¨çš„æƒ…å†µ åŸºæœ¬æ¨¡å‹å¦‚ä¸‹ï¼š 1234567891011function object(o) { function F() {} F.prototype = o; return new F();}function inheritPrototype(subType, superType) { var prototype = object(superType.prototype); //åˆ›å»ºå¯¹è±¡ prototype.constructor = subType; //å¢å¼ºå¯¹è±¡ subType.prototype = prototype; //æŒ‡å®šå¯¹è±¡} åé¢çš„å¯„ç”Ÿå¼ç»§æ‰¿å’Œå¯„ç”Ÿç»„åˆæ¨¡å‹å¼ç»§æ‰¿è¿˜æä¸æ‡‚ï¼Œå“ˆå“ˆå“ˆï¼Œå¥½å°´å°¬ å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼Œè§£å†³äº†ä¸¤æ¬¡è°ƒç”¨çš„é—®é¢˜ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192Person.prototype.constructor == Person;person1.__proto__ == Person.prototype;person1.constructor == Person;person1.__proto__ === Person.prototypePerson.__proto__ === Function.prototypePerson.prototype.__proto__ === Object.prototypeObject.__proto__Object.prototype.__proto__ === nullvar b = new Array();b.constructor === Array;b.__proto__ === Array.prototype;var c = new Date();c.constructor === Date;c.__proto__ === Date.prototype;var d = new Function();d.constructor === Function;d.__proto__ === Function.prototype;// æ‰€æœ‰å‡½æ•°å¯¹è±¡çš„protoéƒ½æŒ‡å‘Function.prototypeï¼Œå®ƒæ˜¯ä¸€ä¸ªç©ºå‡½æ•°ï¼ˆEmpty functionï¼‰Number.__proto__ === Function.prototype // trueNumber.constructor == Function //trueBoolean.__proto__ === Function.prototype // trueBoolean.constructor == Function //trueString.__proto__ === Function.prototype // trueString.constructor == Function //true// æ‰€æœ‰çš„æ„é€ å™¨éƒ½æ¥è‡ªäºFunction.prototypeï¼Œç”šè‡³åŒ…æ‹¬æ ¹æ„é€ å™¨ObjectåŠFunctionè‡ªèº«Object.__proto__ === Function.prototype // trueObject.constructor == Function // true// æ‰€æœ‰çš„æ„é€ å™¨éƒ½æ¥è‡ªäºFunction.prototypeï¼Œç”šè‡³åŒ…æ‹¬æ ¹æ„é€ å™¨ObjectåŠFunctionè‡ªèº«Function.__proto__ === Function.prototype // trueFunction.constructor == Function //trueArray.__proto__ === Function.prototype // trueArray.constructor == Function //trueRegExp.__proto__ === Function.prototype // trueRegExp.constructor == Function //trueError.__proto__ === Function.prototype // trueError.constructor == Function //trueDate.__proto__ === Function.prototype // trueDate.constructor == Function //trueconsole.log(typeof Function.prototype) // functionconsole.log(typeof Object.prototype) // objectconsole.log(typeof Number.prototype) // objectconsole.log(typeof Boolean.prototype) // objectconsole.log(typeof String.prototype) // objectconsole.log(typeof Array.prototype) // objectconsole.log(typeof RegExp.prototype) // objectconsole.log(typeof Error.prototype) // objectconsole.log(typeof Date.prototype) // objectconsole.log(typeof Object.prototype) // objectfunction Person(){}var person1 = new Person();console.log(person1.__proto__ === Person.prototype); // trueconsole.log(Person.prototype.__proto__ === Object.prototype) //trueconsole.log(Object.prototype.__proto__) //nullPerson.__proto__ == Function.prototype; //trueconsole.log(Function.prototype)// function(){} (ç©ºå‡½æ•°)var num = new Array()console.log(num.__proto__ == Array.prototype) // trueconsole.log( Array.prototype.__proto__ == Object.prototype) // trueconsole.log(Array.prototype) // [] (ç©ºæ•°ç»„)console.log(Object.prototype.__proto__) //nullconsole.log(Array.__proto__ == Function.prototype)// truevar animal = function(){}; var dog = function(){}; animal.price = 2000; dog.prototype = animal; var tidy = new dog(); console.log(dog.price) //undefined console.log(tidy.price) // 2000 åŸå‹å’ŒåŸå‹é“¾æ˜¯JSå®ç°ç»§æ‰¿çš„ä¸€ç§æ¨¡å‹ã€‚åŸå‹é“¾çš„å½¢æˆæ˜¯çœŸæ­£æ˜¯é proto è€Œéprototype JavaScriptç»§æ‰¿å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344function Animal() {}Animal.prototype.speak = function () { console.log('åŠ¨ç‰©å‘å£°:');}function Dog(name) { this.name = name;}Dog.prototype = Object.create(Animal.prototype);Dog.prototype.constructor = Dog;Dog.prototype.speak = function () { //é€šè¿‡åŸå‹é“¾æ‰¾â€˜åŸºæœ¬ç±»â€™åŸå‹é‡Œçš„åŒåæ–¹æ³• this.__proto__.__proto__.speak.call(this); console.log('æ±ªæ±ª, æˆ‘æ˜¯', this.name);}function Cat(name) { this.name = name;}Cat.prototype = Object.create(Animal.prototype);Cat.prototype.constructor = Cat;Cat.prototype.speak = function () { //é€šè¿‡åŸå‹é“¾æ‰¾â€˜åŸºæœ¬ç±»â€™åŸå‹é‡Œçš„åŒåæ–¹æ³• this.__proto__.__proto__.speak.call(this); console.log('å–µå–µ, æˆ‘æ˜¯', this.name);}//è°ƒç”¨ä»£ç function animalSpeak(animal) { animal.speak();}animalSpeak(new Dog('å¤§é»„'))console.log()animalSpeak(new Cat('å°å–µ'))//åŠ¨ç‰©å‘å£°://æ±ªæ±ª, æˆ‘æ˜¯ å¤§é»„//åŠ¨ç‰©å‘å£°://å–µå–µ, æˆ‘æ˜¯ å°å–µ Q: javascripté‡Œé¢çš„ç»§æ‰¿æ€ä¹ˆå®ç°ï¼Œå¦‚ä½•é¿å…åŸå‹é“¾ä¸Šé¢çš„å¯¹è±¡å…±äº«æˆ‘åœ¨å†™çš„æ—¶å€™,ç”¨äº†ä¸¤ç§,ä¸€ä¸ªæ˜¯ ES5å’Œ ES6çš„æ–¹æ¡ˆ ES5:å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿:é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥ç»§æ‰¿å±æ€§å’ŒåŸå‹é“¾æ¥å®ç°å­ç»§æ‰¿çˆ¶ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556function ParentClass(name) { this.name = name;}ParentClass.prototype.sayHello = function () { console.log(&quot;I'm parent!&quot; + this.name);}function SubClass(name, age) { //è‹¥æ˜¯è¦å¤šä¸ªå‚æ•°å¯ä»¥ç”¨apply ç»“åˆ ...è§£æ„ ParentClass.call(this, name); this.age = age;}SubClass.prototype = Object.create(ParentClass.prototype);SubClass.prototype.constructor = SubClass;SubClass.prototype.sayChildHello = function (name) { console.log(&quot;I'm child &quot; + this.name)}let testA = new SubClass('CRPER')// Object.create()çš„polyfill /* function pureObject(o){ //å®šä¹‰äº†ä¸€ä¸ªä¸´æ—¶æ„é€ å‡½æ•° function F() {} //å°†è¿™ä¸ªä¸´æ—¶æ„é€ å‡½æ•°çš„åŸå‹æŒ‡å‘äº†ä¼ å…¥è¿›æ¥çš„å¯¹è±¡ã€‚ F.prototype = obj; //è¿”å›è¿™ä¸ªæ„é€ å‡½æ•°çš„ä¸€ä¸ªå®ä¾‹ã€‚è¯¥å®ä¾‹æ‹¥æœ‰objçš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚ //å› ä¸ºè¯¥å®ä¾‹çš„åŸå‹æ˜¯objå¯¹è±¡ã€‚ return new F(); } */// ES6: å…¶å®å°±æ˜¯ES5çš„è¯­æ³•ç³–,ä¸è¿‡å¯è¯»æ€§å¾ˆå¼º..class ParentClass { constructor(name) { this.name = name; } sayHello() { console.log(&quot;I'm parent!&quot; + this.name); }}class SubClass extends ParentClass { constructor(name) { super(name); } sayChildHello() { console.log(&quot;I'm child &quot; + this.name) } // é‡æ–°å£°æ˜çˆ¶ç±»åŒåæ–¹æ³•ä¼šè¦†å†™,ES5çš„è¯å°±æ˜¯ç›´æ¥æ“ä½œè‡ªå·±çš„åŸå‹é“¾ä¸Š sayHello(){ console.log(&quot;override parent method !,I'm sayHello Method&quot;) }}let testA = new SubClass('CRPER') åˆ°è¿™é‡Œå°±ç»“æŸäº†ä¹ˆâ€¦ä¸,è¿™åªæ˜¯ç¬”è¯•, é—®çš„æ—¶å€™ä½ ç”¨è¿‡é™æ€æ–¹æ³•,é™æ€å±æ€§,ç§æœ‰å˜é‡ä¹ˆ? è¿™ä¸ªé™æ€æ–¹æ³•æ˜¯ES6ä¹‹åæ‰æœ‰è¿™ä¹ˆä¸ªç©æ„,æœ‰è¿™ä¹ˆäº›ç‰¹ç‚¹ æ–¹æ³•ä¸èƒ½ç»™ thiså¼•ç”¨,å¯ä»¥ç»™ç±»ç›´æ¥å¼•ç”¨é™æ€ä¸å¯ä»¥ç»™å®ä¾‹è°ƒç”¨,æ¯”å¦‚ let a = new ParentClass =&gt; a.sayHello() ä¼šæŠ›å‡ºå¼‚å¸¸çˆ¶ç±»é™æ€æ–¹æ³•,å­ç±»é static æ–¹æ³•æ²¡æ³•è¦†ç›–çˆ¶ç±»é™æ€æ–¹æ³•å¯ä»¥ç»™å­ç±»ç»§æ‰¿é™æ€å±æ€§å¯ä»¥ç»§æ‰¿ä¹Ÿå¯ä»¥è¢«ä¿®æ”¹çœ‹ä¸‹é¢çš„ä»£ç .. 1234567891011121314151617181920212223242526272829303132333435363738class ParentClass { constructor(name) { this.name = name; } static sayHello() { console.log(&quot;I'm parent!&quot; + this.name); } static testFunc(){ console.log('emm...Parent test static Func') }}class SubClass extends ParentClass { constructor(name) { super(name); } sayChildHello() { console.log(&quot;I'm child &quot; + this.name) } static sayHello() { console.log(&quot;override parent method !,I'm sayHello Method&quot;) } static testFunc2() { console.log(super.testFunc() + 'fsdafasdf'); }}ParentClass.sayHello(); // success printlet a = new ParentClass('test');a.sayHello() // throw errorSubClass.sayHello(); // åŒå static å¯ä»¥ç»§æ‰¿ä¸”è¦†ç›–SubClass.testFunc2(); // å¯ä»¥ç»§æ‰¿let testA = new SubClass('CRPER'); ç§æœ‰å˜é‡è¿™ä¸ªæˆ‘æ²¡ç­”å‡ºæ¥,åªæ˜¯è¯´äº†ä¸‹æ²¡æœ‰ private è¿™ä¸ªå…³é”®å­—å’ŒåŸºæœ¬ç”¨ä¸‹åˆ’çº¿çš„äººä¸ºåŒºåˆ† æ‰€ä»¥å›æ¥åªæ˜¯æ‰¾äº†ä¸‹ç›¸å…³çš„èµ„æ–™,å‘ç°æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ¨¡æ‹Ÿæ–¹æ¡ˆ,å°±æ˜¯ WeakMap ; WeakMap å¯ä»¥é¿å…å†…å­˜æ³„éœ²,å½“æ²¡æœ‰è¢«å€¼å¼•ç”¨çš„æ—¶å€™ä¼šè‡ªåŠ¨ç»™å†…å­˜å¯„å­˜å™¨å›æ”¶äº†. const _ = new WeakMap(); // å®ä¾‹åŒ–,value å¿…é¡»ä¸ºå¯¹è±¡,æœ‰ delete,get,has,setå››ä¸ªæ–¹æ³•,çœ‹åå­—éƒ½çŸ¥é“äº† 12345678910class TestWeakMap { constructor(id, barcode) { __.set(this, { id,barcode }); } testFunc() { let { id,barcode } = __.get(this); // è·å–å¯¹åº”çš„å€¼ return { id,barcode }; }}","link":"/posts/%E5%8E%9F%E5%9E%8B/"},{"title":"å¯Œæ–‡æœ¬ç¼–è¾‘å™¨è°ƒç ”","text":"å¯Œæ–‡æœ¬ç¼–è¾‘å™¨draft-jsè°ƒç ”éœ€æ±‚ç§»åŠ¨ç«¯å’ŒPCç«¯å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æŠ€æœ¯é€‰å‹, Facebookå¼€æºæ¡†æ¶draft-jsè°ƒç ” ä¸ç°æœ‰å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¯”è¾ƒ é¡¹ç›® draft ç°æœ‰ æ ·å¼ å¯ä»¥è‡ªå®šä¹‰ï¼Œå¼•ç”¨cssæ–‡ä»¶ï¼Œå†…è”æ ·å¼ å¯ä»¥è‡ªå®šä¹‰ï¼Œå¼•ç”¨cssæ–‡ä»¶ è‡ªå®šä¹‰å—ç»„ä»¶ ç”¨draftæä¾›çš„è¯­æ³•ï¼Œè‡ªå®šä¹‰å—ï¼Œå®šä¹‰ç­–ç•¥ç±»å‹ï¼Œæ ¹æ®ç±»å‹æ¸²æŸ“ç»„ä»¶ æ‹¼HTML ç§»åŠ¨ç«¯æ”¯æŒ å®˜ç½‘ç”³æ˜ä¸æ”¯æŒ æœªæµ‹è¯• ä¸Šæ‰‹ éœ€ç†Ÿæ‚‰æä¾›çš„æ¥å£åŠä¸€äº›æ¦‚å¿µï¼Œä¸€ç³»åˆ—æ¥å£ æ“ä½œDOM,è°ƒç”¨åŸç”Ÿæµè§ˆå™¨æä¾›çš„æ–¹æ³• æ•°æ®å­˜å‚¨ è‡ªå®šä¹‰çš„objectå¯¹è±¡ï¼Œå¸¦æ¥è°ƒè¯•éš¾ç‚¹ï¼Œéœ€ç†Ÿæ‚‰æ•°æ®æ ¼å¼ html æ ¼å¼è½¬æ¢ æä¾›convertToRawæ¥å£ï¼Œå°†draftçš„ContentStateè½¬æˆjså¯¹è±¡ï¼Œä¸ç›´æ¥æä¾›HTML(ç‚¹å‡»äº‹ä»¶ï¼Œäº¤äº’ç­‰). éœ€è¦æ’ä»¶è½¬HTML(è‡ªå®šä¹‰ç»„ä»¶ç‰¹æ®ŠåŠŸèƒ½æ’ä»¶å¯èƒ½ä¸æ”¯æŒ) ä»¥HTMLæ ¼å¼å­˜å‚¨ ç¼–è¾‘å™¨ä¸­DOMæ“ä½œï¼Œè·å–ç„¦ç‚¹(åˆ é™¤å•†å“å—æ— æ³•æ•´ä¸ªåˆ é™¤ï¼Œç¼–è¾‘åŒºæœ‰videoï¼ŒæŒ‰åˆ é™¤é”®ï¼Œæ— æ³•åˆ é™¤) demoä¸­æœ‰é—®é¢˜ å®é™…ä½¿ç”¨ä¹Ÿæœ‰é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡hackæ–¹å¼è§£å†³ å­˜åœ¨çš„é£é™©ç‚¹ ç§»åŠ¨ç«¯å…¼å®¹æ€§ æ•°æ®å­˜å‚¨ä¸ºdraftè‡ªå®šä¹‰æ ¼å¼ï¼Œå¼€å‘è°ƒè¯•å›°éš¾ï¼Œåœ¨å±•ç¤ºæ—¶ï¼Œéœ€è¦è½¬æˆHTMLï¼Œå®˜æ–¹æœªæä¾›è½¬æ¢æ’ä»¶ï¼Œè½¬æ¢è¿‡ç¨‹ä¼šé€ æˆæ‰€è§éæ‰€å¾—çš„æƒ…å†µ å¯¹å¤–æä¾›çš„APIå°è£…åŸç”Ÿçš„æ–¹æ³•ï¼Œå¼€å‘éš¾åº¦å¤§ ç”±äºå†…éƒ¨å°è£…é€»è¾‘è¿‡é‡ï¼Œé‡åˆ°é—®é¢˜ä»æ ¹æºå¤„è§£å†³éš¾åº¦å¤§ ç»“è®º ç”±äºå­˜åœ¨é£é™©ç‚¹è¾ƒå¤šï¼Œæš‚æ—¶ä¸è€ƒè™‘ä»¥draftä¸ºåŸºç¡€æ¡†æ¶ã€‚ ç›®å‰å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¡†æ¶å¯¹ç§»åŠ¨ç«¯æ”¯æŒæ™®éä¸å¤Ÿï¼Œä¼šæŒç»­è°ƒç ”ç°æœ‰æ¡†æ¶ï¼Œå¦‚quilljs, å°ç±³ç¤¾åŒºç­‰ã€‚","link":"/posts/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8%E8%B0%83%E7%A0%94/"},{"title":"å°ç¨‹åºå¼€å‘ç§¯ç´¯","text":"[TOC] å°ç¨‹åºå¼€å‘ç»éªŒç§¯ç´¯å°ç¨‹åºsetDataæ—¶ï¼Œæ•°æ®æ²¡æ›´æ–°ç”±äºå°ç¨‹åºä¸æ”¯æŒå°† data ä¸­ä»»ä½•ä¸€é¡¹çš„ value è®¾ä¸º undefined ï¼Œåœ¨ setState çš„æ—¶å€™ä¹Ÿè¯·é¿å…è¿™ä¹ˆç”¨ã€‚ä½ å¯ä»¥ä½¿ç”¨ null æ¥æ›¿ä»£ã€‚ setDataæœ‰çš„å€¼ä¹‹å‰æœ‰å€¼ï¼Œé‡æ–°setä¸ºundefinedæ—¶ï¼Œä¼šå¯¼è‡´é¡µé¢ä¸æ›´æ–°è§£å†³åŠæ³•åˆ¤æ–­æ˜¯undefinedæ—¶ï¼Œå°†å€¼è®¾ä¸ºnull key ? key : null å°ç¨‹åºç”¨getè¯·æ±‚ä¼ æ•°ç»„æ—¶ï¼Œå–åˆ°çš„å€¼ä¸æ­£ç¡®12345request({ data: { list: ['11','sss'] }}) åº”æ”¹ä¸º 123456request({ data: { list: ['11','sss'].join(','gst) }}) jsåˆ¤æ–­å°ç¨‹åºç¯å¢ƒå°ç¨‹åºå†…ç½®web-viewå¼•å…¥é¡µé¢æ—¶ï¼Œå®˜æ–¹æ–‡æ¡£å»ºè®®é€šè¿‡ window.__wxjs_environment === 'miniprogram' åˆ¤æ–­å°ç¨‹åºç¯å¢ƒã€‚ç»æµ‹è¯•åœ¨å®‰å“æœ‰äº›è®¾å¤‡ä¸Šä¼šå¤±æ•ˆã€‚ wx.miniProgram.getEnvä¹Ÿä¼šå¤±æ•ˆ 123456wx.miniProgram.getEnv(function(res) { if (res.miniProgram) { // èµ°åœ¨å°ç¨‹åºçš„é€»è¾‘ alert(&quot;å°ç¨‹åºç¯å¢ƒ&quot; + window.__wxjs_environment); }}); è§£å†³æ–¹æ¡ˆé€šè¿‡userAgent åˆ¤æ–­const isMiniProgram = /miniProgram/i.test(navigator.userAgent.toLowerCase()); UserAgent è¯¦è§£é€šè¿‡UAæ¥åˆ¤æ–­ä¸åŒçš„è®¾å¤‡æˆ–æµè§ˆå™¨æ˜¯å¼€å‘è€…æœ€å¸¸ç”¨çš„æ–¹æ³• åœ¨æ§åˆ¶å°æ‰“å°navigator.userAgentæŸ¥çœ‹ Android ç³»ç»Ÿä¸‹çš„å¾®ä¿¡ User Agent 1Mozilla/5.0 (Linux; Android 7.1.1; MI 6 Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/6.2 TBS/043807 Mobile Safari/537.36 MicroMessenger/6.6.1.1220(0x26060135) NetType/WIFI Language/zh_CN iPhone ç³»ç»Ÿä¸‹çš„å¾®ä¿¡ User Agent 1Mozilla/5.0 (iPhone; CPU iPhone OS 9_3_2 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Mobile/13F69 MicroMessenger/6.6.1 NetType/4G Language/zh_CN å¾®ä¿¡å†…ç½®æµè§ˆå™¨ä¸å°ç¨‹åºä¸­çš„User Agent å¯¹æ¯” 1234// å®‰å“ç³»ç»Ÿä¸­å°ç¨‹åº User AgentMozilla/5.0 (Linux; Android 7.1.1; MI 6 Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/6.2 TBS/043807 Mobile Safari/537.36 MicroMessenger/6.6.1.1220(0x26060135) NetType/4G Language/zh_CN MicroMessenger/6.6.1.1220(0x26060135) NetType/4G Language/zh_CN miniProgram// å®‰å“ç³»ç»Ÿä¸­å¾®ä¿¡å†…ç½®æµè§ˆå™¨ User AgentMozilla/5.0 (Linux; Android 7.1.1; MI 6 Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/6.2 TBS/043807 Mobile Safari/537.36 MicroMessenger/6.6.1.1220(0x26060135) NetType/4G Language/zh_CN ä»¥ä¸Šå­—ç¬¦ä¸²ä¸ºMI6å®‰å“è®¾å¤‡ä¸­è·å¾—ã€‚å¯ä»¥çœ‹å‡ºå¾®ä¿¡å°ç¨‹çš„UAå’Œå¾®ä¿¡å†…ç½®æµè§ˆå™¨UAæ˜¯ä¸åŒçš„ï¼Œç‰¹åˆ«æ˜¯æœ€åçš„â€™miniProgramâ€™å­—ç¬¦ä¸²ã€‚è€Œåœ¨iPhoneç³»ç»Ÿè®¾å¤‡ä¸­UAæ˜¯ä¸€è‡´çš„ï¼Œ å°ç¨‹åºå’Œå¾®ä¿¡å†…ç½®æµè§ˆå™¨UAæ²¡æœ‰åŒºåˆ«ã€‚ UAæ£€æµ‹å’Œåˆ¤æ–­æ–¹æ³•123if (/MicroMessenger/i.test(navigator.userAgent)) { console.log('å½“å‰ä¸ºå¾®ä¿¡è®¿é—®');} å¼€æºå·¥å…·æ¨èUAParser.js ç›®å‰ç”Ÿäº§ç¯å¢ƒä½¿ç”¨è¯¥åº“æ¥åˆ¤æ–­ç§»åŠ¨ï¼ŒAndroidï¼ŒiOSç­‰ç¯å¢ƒã€‚ å°ç¨‹åºé‡Œä¸€å®šè¦ç”¨https, æ— æ³•è®¿é—®httpè§£å†³åŠæ³•ï¼šé…ç½®Charleshttps://www.cnblogs.com/xcsn/p/7538371.html å°ç¨‹åºç”Ÿå‘½å‘¨æœŸonload â€”-&gt; onshow â€”-&gt; onreadyå³ä½¿åœ¨onloadé˜¶æ®µå‘ç”Ÿè·³è½¬ï¼Œåé¢çš„æµç¨‹è¿˜æ˜¯ä¼šç»§ç»­æ‰§è¡Œã€‚ åŸåˆ™ä¸Šonload åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œonshowæ¯æ¬¡é¡µé¢æ˜¾ç¤ºæ‰ä¼šæ˜¾ç¤ºã€‚ æ‰€æœ‰é¡µé¢onloadé˜¶æ®µçš„optionsæ˜¯ä»è·³è½¬çš„page urlåè·Ÿçš„å‚æ•°å–åˆ°çš„ã€‚ ç»„ä»¶buttonæ ·å¼buttonå»æ‰è¾¹æ¡†(é€‚ç”¨äºç™¾åº¦å°ç¨‹åº) 123456.btn{ backgrond:none;}.btn::after{ border: none;} button é˜»æ­¢å†’æ³¡æœ‰çš„button è®¾ç½®äº†é»˜è®¤æ“ä½œä¾‹å¦‚open-type=â€™shareâ€™ç‚¹å‡»ä»¥åçˆ¶å®¹å™¨æœ‰clickäº‹ä»¶ï¼Œä¹Ÿä¼šè§¦å‘ã€‚ è§£å†³åŠæ³•ï¼šåœ¨buttonç»‘å®šä¸€ä¸ªæ–¹æ³• return false; å¼€å‘æ¡†æ¶ç”¨è¿‡wepyå„ç§å‘ï¼Œå¼ƒå‘ ä¼˜åŒ–å¾®ä¿¡å°ç¨‹åºï¼šä¸€äº›è¿è¡Œç»†èŠ‚åŠé’ˆå¯¹æ€§çš„ä¼˜åŒ–ç­–ç•¥ å¾®ä¿¡å°ç¨‹åºå¼€å‘èµ„æºæ±‡æ€»å¥½çš„ç›®å½•ç»“æ„123456789101112131415161718192021222324252627282930313233343536373839404142â”œâ”€â”€ README.md // è¯´æ˜æ–‡æ¡£â”œâ”€â”€ dist // ç¼–è¯‘åçš„ä»£ç ï¼Œç”¨å°ç¨‹åºå¼€å‘å·¥å…·æ‰“å¼€æ­¤æ–‡ä»¶å¤¹â”œâ”€â”€ mock.js // æ¨¡æ‹Ÿæ•°æ®çš„æ–‡ä»¶â”œâ”€â”€ package-lock.jsonâ”œâ”€â”€ package.jsonâ”œâ”€â”€ project.config.json // é¡¹ç›®é…ç½®æ–‡ä»¶â”œâ”€â”€ src // é¡¹ç›®ä»£ç éƒ½åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹â”‚ â”œâ”€â”€ app.js // ç­‰åŒäºå°ç¨‹åºæ ¹ç›®å½•ä¸‹çš„app.jsâ”‚ â”œâ”€â”€ app.json // ç­‰åŒäºå°ç¨‹åºæ ¹ç›®å½•ä¸‹çš„app.jsonâ”‚ â”œâ”€â”€ app.wxss // ç­‰åŒäºå°ç¨‹åºæ ¹ç›®å½•ä¸‹çš„app.wxssâ”‚ â”œâ”€â”€ assets // é¡¹ç›®ä¸­ä½¿ç”¨åˆ°çš„é™æ€èµ„æºâ”‚ â”‚ â””â”€â”€ imagesâ”‚ â”‚ â”œâ”€â”€ exampleâ”‚ â”‚ â””â”€â”€ tabâ”‚ â”œâ”€â”€ components // å…¬ç”¨çš„ç»„ä»¶â”‚ â”œâ”€â”€ page // å­˜æ”¾å°ç¨‹åºçš„å„ä¸ªé¡µé¢æ–‡ä»¶â”‚ â”‚ â”œâ”€â”€ example // example é¡µé¢â”‚ â”‚ â”‚ â”œâ”€â”€ components // exampleé¡µé¢ä¸­çš„ç»„ä»¶â”‚ â”‚ â”‚ â”œâ”€â”€ index.jsâ”‚ â”‚ â”‚ â”œâ”€â”€ index.jsonâ”‚ â”‚ â”‚ â”œâ”€â”€ index.wxmlâ”‚ â”‚ â”‚ â”œâ”€â”€ index.wxssâ”‚ â”‚ â”‚ â”œâ”€â”€ services // exampleé¡µé¢ä¸­æ¥å£â”‚ â”‚ â”‚ â”œâ”€â”€ template // exampleé¡µé¢ä¸­çš„æ¨¡æ¿â”‚ â”‚ â”‚ â””â”€â”€ wxs // exampleé¡µé¢ä¸­çš„wxsæ–‡ä»¶â”‚ â”‚ â”œâ”€â”€ globalStore.js // å…¨å±€å…±äº«çš„æ•°æ®â”‚ â”‚ â””â”€â”€ testâ”‚ â”‚ â”œâ”€â”€ index.jsâ”‚ â”‚ â”œâ”€â”€ index.jsonâ”‚ â”‚ â”œâ”€â”€ index.wxmlâ”‚ â”‚ â””â”€â”€ index.wxssâ”‚ â”œâ”€â”€ template // å…¬ç”¨çš„æ¨¡æ¿â”‚ â””â”€â”€ utils // å…¬ç”¨çš„æ–¹æ³•æˆ–å·¥å…·â”‚ â”œâ”€â”€ config.js // å…¨å±€çš„ä¸€äº›é…ç½®ä¿¡æ¯â”‚ â”œâ”€â”€ create.js // çŠ¶æ€ç®¡ç†æ’ä»¶â”‚ â”œâ”€â”€ mitt.js // çŠ¶æ€ç®¡ç†æ’ä»¶â”‚ â”œâ”€â”€ obaa.js // çŠ¶æ€ç®¡ç†æ’ä»¶â”‚ â”œâ”€â”€ util.js // å…¬ç”¨æ–¹æ³•â”‚ â”œâ”€â”€ wxRequest.js // å°è£…çš„å°ç¨‹åºè¯·æ±‚æ•°æ®æ–¹æ³•â”‚ â””â”€â”€ wxapi.js // å¯¹å°ç¨‹åºapiè¿›è¡ŒPromiseå°è£…â””â”€â”€ weapp.config.js // å¯¹è„šæ‰‹æ¶çš„é…ç½®æ–‡ä»¶ å°ç¨‹åºçš„åŒçº¿ç¨‹ç»“æ„ä¸ä¼ ç»Ÿçš„æµè§ˆå™¨Webé¡µé¢æœ€å¤§åŒºåˆ«åœ¨äºï¼Œå°ç¨‹åºçš„æ˜¯åŸºäº åŒçº¿ç¨‹ æ¨¡å‹çš„ï¼Œåœ¨è¿™ç§æ¶æ„ä¸­ï¼Œå°ç¨‹åºçš„æ¸²æŸ“å±‚ä½¿ç”¨ WebView ä½œä¸ºæ¸²æŸ“è½½ä½“ï¼Œè€Œé€»è¾‘å±‚åˆ™ç”±ç‹¬ç«‹çš„ JsCore çº¿ç¨‹è¿è¡Œ JS è„šæœ¬ï¼ŒåŒæ–¹å¹¶ä¸å…·å¤‡æ•°æ®ç›´æ¥å…±äº«çš„é€šé“ï¼Œå› æ­¤æ¸²æŸ“å±‚å’Œé€»è¾‘å±‚çš„é€šä¿¡è¦ç”± Native çš„ JSBrigde åšä¸­è½¬ã€‚ å°ç¨‹åºæ›´æ–°è§†å›¾æ•°æ®çš„é€šä¿¡æµç¨‹æ¯å½“å°ç¨‹åºè§†å›¾æ•°æ®éœ€è¦æ›´æ–°æ—¶ï¼Œé€»è¾‘å±‚ä¼šè°ƒç”¨å°ç¨‹åºå®¿ä¸»ç¯å¢ƒæä¾›çš„ setData æ–¹æ³•å°†æ•°æ®ä»é€»è¾‘å±‚ä¼ é€’åˆ°è§†å›¾å±‚ï¼Œç»è¿‡ä¸€ç³»åˆ—æ¸²æŸ“æ­¥éª¤ä¹‹åå®ŒæˆUIè§†å›¾æ›´æ–°ã€‚å®Œæ•´çš„é€šä¿¡æµç¨‹å¦‚ä¸‹ï¼š å°ç¨‹åºé€»è¾‘å±‚è°ƒç”¨å®¿ä¸»ç¯å¢ƒçš„ setData æ–¹æ³•ã€‚ é€»è¾‘å±‚æ‰§è¡Œ JSON.stringify å°†å¾…ä¼ è¾“æ•°æ®è½¬æ¢æˆå­—ç¬¦ä¸²å¹¶æ‹¼æ¥åˆ°ç‰¹å®šçš„JSè„šæœ¬ï¼Œå¹¶é€šè¿‡evaluateJavascript æ‰§è¡Œè„šæœ¬å°†æ•°æ®ä¼ è¾“åˆ°æ¸²æŸ“å±‚ã€‚ æ¸²æŸ“å±‚æ¥æ”¶åˆ°åï¼Œ WebView JS çº¿ç¨‹ä¼šå¯¹è„šæœ¬è¿›è¡Œç¼–è¯‘ï¼Œå¾—åˆ°å¾…æ›´æ–°æ•°æ®åè¿›å…¥æ¸²æŸ“é˜Ÿåˆ—ç­‰å¾… WebView çº¿ç¨‹ç©ºé—²æ—¶è¿›è¡Œé¡µé¢æ¸²æŸ“ã€‚ ebView çº¿ç¨‹å¼€å§‹æ‰§è¡Œæ¸²æŸ“æ—¶ï¼Œå¾…æ›´æ–°æ•°æ®ä¼šåˆå¹¶åˆ°è§†å›¾å±‚ä¿ç•™çš„åŸå§‹ data æ•°æ®ï¼Œå¹¶å°†æ–°æ•°æ®å¥—ç”¨åœ¨WXMLç‰‡æ®µä¸­å¾—åˆ°æ–°çš„è™šæ‹ŸèŠ‚ç‚¹æ ‘ã€‚ ç»è¿‡æ–°è™šæ‹ŸèŠ‚ç‚¹æ ‘ä¸å½“å‰èŠ‚ç‚¹æ ‘çš„ diff å¯¹æ¯”ï¼Œå°†å·®å¼‚éƒ¨åˆ†æ›´æ–°åˆ°UIè§†å›¾ã€‚åŒæ—¶ï¼Œå°†æ–°çš„èŠ‚ç‚¹æ ‘æ›¿æ¢æ—§èŠ‚ç‚¹æ ‘ï¼Œç”¨äºä¸‹ä¸€æ¬¡é‡æ¸²æŸ“ã€‚ å¼•å‘æ¸²æŸ“æ€§èƒ½é—®é¢˜çš„åŸå›  setDataä¼ é€’å¤§é‡æ–°æ•°æ® æ•°æ®çš„ä¼ è¾“ä¼šç»å†è·¨çº¿ç¨‹ä¼ è¾“å’Œè„šæœ¬ç¼–è¯‘çš„è¿‡ç¨‹ï¼Œå½“æ•°æ®é‡è¿‡å¤§ï¼Œä¼šå¢åŠ è„šæœ¬ç¼–è¯‘çš„æ‰§è¡Œæ—¶é—´ï¼Œå ç”¨ WebView JS çº¿ç¨‹ã€‚ é¢‘ç¹çš„æ‰§è¡ŒsetDataæ“ä½œ é¢‘ç¹çš„æ‰§è¡Œ setData ä¼šè®© WebView JS çº¿ç¨‹ä¸€ç›´å¿™ç¢Œäºè„šæœ¬çš„ç¼–è¯‘ã€èŠ‚ç‚¹æ ‘çš„å¯¹æ¯”è®¡ç®—å’Œé¡µé¢æ¸²æŸ“ã€‚ è¿‡å¤šçš„é¡µé¢èŠ‚ç‚¹æ•° é¡µé¢åˆå§‹æ¸²æŸ“æ—¶ï¼Œæ¸²æŸ“æ ‘çš„æ„å»ºã€è®¡ç®—èŠ‚ç‚¹å‡ ä½•ä¿¡æ¯ä»¥åŠç»˜åˆ¶èŠ‚ç‚¹åˆ°å±å¹•çš„æ—¶é—´å¼€é”€éƒ½è·Ÿé¡µé¢èŠ‚ç‚¹æ•°é‡æˆæ­£ç›¸å…³å…³ç³»ï¼Œé¡µé¢èŠ‚ç‚¹æ•°é‡è¶Šå¤šï¼Œæ¸²æŸ“è€—æ—¶è¶Šé•¿ã€‚ æ¯æ¬¡æ‰§è¡Œ setData æ›´æ–°è§†å›¾ï¼ŒWebView JS çº¿ç¨‹éƒ½è¦éå†èŠ‚ç‚¹æ ‘è®¡ç®—æ–°æ—§èŠ‚ç‚¹æ•°å·®å¼‚éƒ¨åˆ†ã€‚å½“é¡µé¢èŠ‚ç‚¹æ•°é‡è¶Šå¤šï¼Œè®¡ç®—çš„æ—¶é—´å¼€é”€è¶Šå¤§ï¼Œå‡å°‘èŠ‚ç‚¹æ ‘èŠ‚ç‚¹æ•°é‡å¯ä»¥æœ‰æ•ˆé™ä½é‡æ¸²æŸ“çš„æ—¶é—´å¼€é”€ã€‚ æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–setDataä¼˜åŒ– å‡å°‘ setData æ•°æ®ä¼ è¾“é‡ ä»…ä¼ è¾“è§†å›¾å±‚ä½¿ç”¨åˆ°çš„æ•°æ®ï¼Œå…¶ä»– JS ç¯å¢ƒç”¨åˆ°çš„æ•°æ®å­˜æ”¾åˆ° data å¯¹è±¡å¤–ã€‚ åˆç†åˆ©ç”¨å±€éƒ¨æ›´æ–°ã€‚ setData æ”¯æŒä½¿ç”¨ æ•°æ®è·¯å¾„ çš„æ–¹å¼å¯¹å¯¹è±¡çš„å±€éƒ¨å­—æ®µè¿›è¡Œæ›´æ–°ã€‚ 1234567891011// åªæ›´æ–°éœ€è¦æ›´æ–°çš„æ•°æ®ï¼ï¼ï¼// åå°è·å–åˆ—è¡¨æ•°æ®const list = requestSync();// æ›´æ–°æ•´ä¸ªåˆ—è¡¨----é”™è¯¯âŒthis.setData({ list });// å±€éƒ¨æ›´æ–°åˆ—è¡¨---âˆšthis.setData({ 'list[0].src': list[0].src}); é™ä½ setData æ‰§è¡Œé¢‘ç‡ åœ¨ä¸å½±å“ä¸šåŠ¡æµç¨‹çš„å‰æä¸‹ï¼Œå°†å¤šä¸ª setData è°ƒç”¨åˆå¹¶æ‰§è¡Œï¼Œå‡å°‘çº¿ç¨‹é—´é€šä¿¡é¢‘æ¬¡ã€‚ å–„ç”¨è‡ªå®šä¹‰ç»„ä»¶ å°ç¨‹åºè‡ªå®šä¹‰ç»„ä»¶çš„å®ç°æ˜¯ç”±å°ç¨‹åºå®˜æ–¹è®¾è®¡çš„ Exparser æ¡†æ¶æ‰€æ”¯æŒï¼Œæ¡†æ¶å®ç°çš„è‡ªå®šä¹‰ç»„ä»¶çš„ç»„ä»¶æ¨¡å‹ä¸ Web Components æ ‡å‡†çš„ Shadow DOM ç›¸ä¼¼. åœ¨é¡µé¢å¼•ç”¨è‡ªå®šä¹‰ç»„ä»¶åï¼Œå½“åˆå§‹åŒ–é¡µé¢æ—¶ï¼ŒExparser ä¼šåœ¨åˆ›å»ºé¡µé¢å®ä¾‹çš„åŒæ—¶ï¼Œä¹Ÿä¼šæ ¹æ®è‡ªå®šä¹‰ç»„ä»¶çš„æ³¨å†Œä¿¡æ¯è¿›è¡Œç»„ä»¶å®ä¾‹åŒ–ï¼Œç„¶åæ ¹æ®ç»„ä»¶è‡ªå¸¦çš„ data æ•°æ®å’Œç»„ä»¶WXMLï¼Œæ„é€ å‡ºç‹¬ç«‹çš„ Shadow Tree ï¼Œå¹¶è¿½åŠ åˆ°é¡µé¢ Composed Tree ã€‚åˆ›å»ºå‡ºæ¥çš„ Shadow Tree æ‹¥æœ‰ç€è‡ªå·±ç‹¬ç«‹çš„é€»è¾‘ç©ºé—´ã€æ•°æ®ã€æ ·å¼ç¯å¢ƒåŠsetDataè°ƒç”¨. åŸºäºè‡ªå®šä¹‰ç»„ä»¶çš„ Shadow DOM æ¨¡å‹è®¾è®¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¡µé¢ä¸­ä¸€äº›éœ€è¦é«˜é¢‘æ‰§è¡Œ setData æ›´æ–°çš„åŠŸèƒ½æ¨¡å—ï¼ˆå¦‚å€’è®¡æ—¶ã€è¿›åº¦æ¡ç­‰ï¼‰å°è£…æˆè‡ªå®šä¹‰ç»„ä»¶åµŒå…¥åˆ°é¡µé¢ä¸­ã€‚ å½“è¿™äº›è‡ªå®šä¹‰ç»„ä»¶è§†å›¾éœ€è¦æ›´æ–°æ—¶ï¼Œæ‰§è¡Œçš„æ˜¯ç»„ä»¶è‡ªå·±çš„ setData ï¼Œæ–°æ—§èŠ‚ç‚¹æ ‘çš„å¯¹æ¯”è®¡ç®—å’Œæ¸²æŸ“æ ‘çš„æ›´æ–°éƒ½åªé™äºç»„ä»¶å†…æœ‰é™çš„èŠ‚ç‚¹æ•°é‡ï¼Œæœ‰æ•ˆé™ä½æ¸²æŸ“æ—¶é—´å¼€é”€ã€‚ å½“ç„¶ï¼Œå¹¶ä¸æ˜¯ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶è¶Šå¤šä¼šè¶Šå¥½ï¼Œé¡µé¢æ¯æ–°å¢ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ï¼Œ Exparser éœ€è¦å¤šç®¡ç†ä¸€ä¸ªç»„ä»¶å®ä¾‹ï¼Œå†…å­˜æ¶ˆè€—ä¼šæ›´å¤§ï¼Œå½“å†…å­˜å ç”¨ä¸Šå‡åˆ°ä¸€å®šç¨‹åº¦ï¼Œæœ‰å¯èƒ½å¯¼è‡´ iOS å°†éƒ¨åˆ† WKWebView å›æ”¶ï¼Œå®‰å“æœºä½“éªŒä¼šå˜å¾—æ›´åŠ å¡é¡¿ã€‚å› æ­¤è¦åˆç†çš„ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶ï¼ŒåŒæ—¶é¡µé¢è®¾è®¡ä¹Ÿè¦æ³¨æ„ä¸æ»¥ç”¨æ ‡ç­¾ã€‚ æ€»ç»“å°ç¨‹åºåŒçº¿ç¨‹æ¶æ„å†³å®šäº†æ•°æ®é€šä¿¡ä¼˜åŒ–ä¼šæ˜¯æ€§èƒ½ä¼˜åŒ–ä¸­ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ç‚¹ã€‚è€Œä¸Šè¿°æåˆ°çš„å‡ ä¸ªä¼˜åŒ–å»ºè®®åªæ˜¯ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œè¦æƒ³è®©ä½ çš„é¡µé¢ä½“éªŒå˜å¾—æ›´åŠ ä¸æ»‘ï¼Œå°±è¦ç†Ÿæ‚‰å°ç¨‹åºæ¡†æ¶çš„åº•å±‚åŸç†ï¼Œæ ¹æ®å°ç¨‹åºæ¡†æ¶çš„ç‰¹ç‚¹ï¼Œç¼–å†™å‡ºâ€œåˆèº«â€çš„å‰ç«¯ä»£ç ã€‚ å°ç¨‹åºä¼ é€’urlé‡Œæœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚+ç”¨ encodeURIComponent(JSON.stringify(address)),æ–¹å¼ä¼ é€’ï¼Œåœ¨æ¥æ”¶æ—¶ï¼Œä¸ç”¨decode,ç›´æ¥è·å–å³å¯å¦‚æœä¸ç”¨encodeï¼Œè·å–åˆ°çš„å€¼é‡Œ+ä¼šä¸¢å¤± å°ç¨‹åºtextareaé€‚é…é—®é¢˜åœ¨é¡µé¢ä¸­ç”¨åˆ°äº†textareaï¼Œæµ‹è¯•å‘ç°çš„é—®é¢˜ï¼š é«˜åº¦æ— æ³•è‡ªé€‚åº” åˆ é™¤æ—¶ï¼Œå…‰æ ‡ä¼šè‡ªåŠ¨åˆ°ç¬¬ä¸€ä¸ª æœ‰çš„æ‰‹æœºä¸Šå¤šè¡Œå±•ç¤ºä¸è‡ªåŠ¨æ¢è¡Œ è§£å†³åŠæ³•: æŒ¨ä¸ªæ’é™¤æ¯ä¸ªå±æ€§ï¼Œçœ‹æ˜¯å“ªä¸ªå±æ€§å½±å“å¯¼è‡´çš„ã€‚å‘ç° auto-height å¯¼è‡´çš„é—®é¢˜ï¼Œå»æ‰auto-heightï¼Œé‡‡ç”¨cssè®¾ç½®heightä¸ºå›ºå®šé«˜åº¦ï¼Œè§£å†³é—®é¢˜ å¤„ç†ä¸€äº›å…¼å®¹æ€§é—®é¢˜æ—¶ï¼Œè¦å…ˆçœ‹æ‰‹ç™¾APPæ˜¯ä¸æ˜¯æœ€æ–°ç‰ˆçš„ï¼Œæœ‰å¯èƒ½æ˜¯æ—§ç‰ˆçš„APPå¯¼è‡´çš„é—®é¢˜","link":"/posts/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%A7%AF%E7%B4%AF/"},{"title":"å°ç¨‹åºé«˜æ€§èƒ½æ‰“é€ ä¹‹è·¯","text":"åŸæ–‡é“¾æ¥ å°ç¨‹åºé¡µé¢çš„æ ‡å‡† æè‡´çš„é¡µé¢æ€§èƒ½ å‹å¥½çš„äº§å“ä½“éªŒ ç¨³å®šçš„ç³»ç»ŸæœåŠ¡","link":"/posts/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%AB%98%E6%80%A7%E8%83%BD%E6%89%93%E9%80%A0%E4%B9%8B%E8%B7%AF/"},{"title":"æ€ç»´å¯¼å›¾åˆ—è¡¨","text":"æ‰§è¡Œæœ‰é“å››æ­¥æ³•","link":"/posts/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%88%97%E8%A1%A8/"},{"title":"æ€ç»´å¯¼å›¾ç¬”è®°","text":"1.è¦æƒ³é«˜æ•ˆçš„åˆ©ç”¨æœ¬ä¹¦ï¼Œå¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯å¿…é¡»åŠ å¼ºç»ƒä¹ ï¼ï¼ï¼ 2.å·¦è„‘å¤„ç†é€»è¾‘ã€è¯æ±‡ã€è¡¨å•ã€æ•°å­—ã€çº¿æ€§å’Œåˆ†æç­‰æ‰€è°“çš„å­¦æœ¯æ´»åŠ¨ã€‚å³è„‘ä¸»å¸èŠ‚å¥ã€æƒ³è±¡ã€è‰²å½©ã€å¹»æƒ³ã€ç©ºé—´æ„Ÿã€å®Œæ•´å€¾å‘(æ•´ä½“è§‚å¿µ)å’Œç»´åº¦ã€‚ 3.é¼“åŠ±äººä»¬å»å¼€å‘ä»–ä»¬ä»¥å‰è®¤ä¸ºå¾ˆå¼±çš„è„‘åŒºã€‚ä¼šäº§ç”Ÿä¸€ç§ååŒæ•ˆåº”ï¼Œä½¿æ•´ä¸ªè„‘åŒºçš„æ™ºåŠ›æ°´å¹³éƒ½éšä¹‹æé«˜ã€‚ 4.å½“æˆ‘ä»¬è¯´è‡ªå·±æŸäº›æ–¹é¢è¡Œï¼ŒæŸäº›æ–¹é¢ä¸è¡Œæ—¶ï¼Œæˆ‘ä»¬å®é™…æ˜¯æŒ‡å·²ç»å¾ˆæˆåŠŸçš„å¼€å‘å‡ºæ¥äº†çš„æ½œåŠ›å’Œå°šæœªå¼€å‘å‡ºæ¥çš„ï¼Œä»ç„¶å¤„åœ¨è›°ä¼çŠ¶æ€çš„æ½œèƒ½ã€‚å¦‚æœèƒ½å°†è›°ä¼çŠ¶æ€ä¸‹çš„æ½œèƒ½å¼€å‘å‡ºæ¥ï¼Œå¤§è„‘å°†é‡Šæ”¾å‡ºå·¨å¤§çš„â€œèƒ½é‡â€ã€‚ 5.å¤§è„‘æ¯åˆ†é’Ÿçº¦è¦è¿›è¡Œ10ä¸‡~100ä¸‡æ¬¡ä¸åŒçš„åŒ–å­¦ååº”ã€‚ è®°å¿†æ›²çº¿ 6.æ„ŸçŸ¥æ¨¡å‹ï¼šçœ¼ç›-å¤§è„‘-ç›¸æœº æŒ‰ç…§ä¸€èˆ¬äººåšç™½æ—¥æ¢¦çš„æ ·å­ï¼Œé—­ä¸Šçœ¼ç›ï¼Œæƒ³è±¡ä½ æœ€å–œæ¬¢çš„ç‰©ä½“ï¼Œåœ¨ä½ å¿ƒç›®ä¸­å·²ç»å¾ˆæ¸…æ™°åœ°è®°ä½å…¶å›¾åƒåï¼Œå†åšä¸‹åˆ—è¿™äº›ç»ƒä¹ : åœ¨é¢å‰è½¬åŠ¨å®ƒä»é¡¶éƒ¨çœ‹å®ƒä»åº•éƒ¨çœ‹å®ƒæ”¹å˜å®ƒçš„é¢œè‰²ï¼Œè‡³å°‘3æ¬¡ã€‚æŠŠå¥¹ç§»å¼€ï¼Œå°±å¥½åƒåœ¨å¾ˆè¿œå¤„çœ‹å®ƒä¸€æ ·ã€‚å†æŠŠå®ƒç§»å›æ¥ã€‚æŠŠå®ƒå˜çš„æå¤§ã€‚æŠŠä»–å˜å°ã€‚å®Œå…¨æ”¹å˜å®ƒçš„å½¢çŠ¶ã€‚è®©å®ƒæ¶ˆå¤±ã€‚å†è®©å®ƒå‡ºæ¥ã€‚è¿™äº›æ´»åŠ¨ä½ åšèµ·æ¥å¥½ä¸è´¹äº‹ï¼Œå¯æ˜¯ç›¸æœºçš„é›¶ä»¶å´å®Œå…¨æ— æ³•åšåˆ°ã€‚ æ€ç»´å¯¼å›¾_å¯åŠ¨å¤§è„‘ 33é¡µâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-2014/10/27 00:03 â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ å¤§è„‘å—é™åˆ¶çš„åŸå›  ä¸æ‰¿è®¤å¤±è´¥ç›¸æ¯”ï¼Œæ›´å¤šäººä¼šè¯´â€æˆ‘ä»¬åªæ˜¯æ™®é€šäººâ€ï¼Œè¿™ç§è¯´æ³•ä¸è¶³ä»¥ä»¤äººä¿¡æœï¼æˆ‘ä»¬å¿…é¡»å­¦ä¹ å¤§è„‘æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä»¥ä¾¿å……åˆ†å‘æŒ¥è‡ªèº«æ— é™çš„æ½œåŠ›ã€‚ 2.æˆ‘ä»¬çš„è¡¨ç°ä¸æˆ‘ä»¬ç”šè‡³æœ€å°æ½œåŠ›ä¸ç›¸ç¬¦çš„åŸå› å°±æ˜¯ï¼Œæˆ‘ä»¬å¯¹è‡ªå·±æ‰€æ‹¥æœ‰çš„å†…åœ¨æ½œåŠ›ä¸€æ— æ‰€çŸ¥ï¼Œæ›´ä¸ç”¨è¯´å¦‚ä½•å»å……åˆ†åˆ©ç”¨äº†ã€‚3.ä¸€ä¸ªæ™®éå¹¶ä¸”è¢«ä¸¥é‡è¯¯å¯¼çš„ç¥è¯ï¼šäººç±»æœ¬èº«å°±æœ‰ä¸è¶³ä¹‹å¤„ï¼Œå› æ­¤ï¼Œè¿™åœºç¾éš¾çš„è´£ä»»åº”å½’ç»“äºäººç±»æœ¬èº«çš„â€œç¼ºé™·â€ã€‚ 4.åœ¨å…¨ä¸–ç•ŒèŒƒå›´çš„æ•™è‚²ç³»ç»Ÿå†…ï¼Œäººä»¬ä¹‹æ‰€ä»¥å‡ ä¹æ²¡æœ‰èŠ±æ—¶é—´å»å­¦ä¹ å¦‚ä½•å­¦ä¹ ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å¯¹è¿™å°ç”Ÿç‰©è®¡ç®—æœºçš„åŸºæœ¬æ“ä½œè§„åˆ™ä¸€æ— æ‰€çŸ¥ã€‚ ã€Šå¯åŠ¨å¤§è„‘ã€‹ æ˜¯ç¬¬ä¸€æœ¬â€œå¤§è„‘ä½¿ç”¨è¯´æ˜ä¹¦â€ï¼Œå®ƒæ˜¯ä¸“é—¨ç”¨æ¥å¸®åŠ©ä½ äº†è§£ã€å……å®å’Œä¿å…»ä½ è‡ªå·±çš„â€œè¶…çº§ç”Ÿç‰©è®¡ç®—æœºâ€çš„ï¼Œå¹¶æ•™ä½ å¦‚ä½•é‡Šæ”¾ä½ æ‰€æ‹¥æœ‰çš„è‡ªç„¶ä¸”éå‡¡çš„æ™ºèƒ½ã€‚ æ›´å¿«ã€æ›´æœ‰æ•ˆçš„é˜…è¯» 1.æˆ‘é˜…è¯»å­˜åœ¨çš„é—®é¢˜ é˜…è¯»é€Ÿåº¦æ…¢ï¼Œé˜…è¯»åä¼šå¿˜è®°ã€é˜…è¯»çš„æ—¶é—´ä¸èƒ½ä¿è¯ã€é˜…è¯»åå½“æ—¶æŒæ¡å›å¤´å°±ä¼šå¿˜è®°ã€é˜…è¯»çš„æ—¶å€™æœ‰äº›ä¸èƒ½å¾ˆå¿«çš„ç†è§£ é˜…è¯»å®šä¹‰:â€œä»ä¹¦ä¸­æ•æ‰ä½œè€…çš„æ„å›¾â€æˆ–â€œå¸æ”¶æ‰€å†™æ–‡å­—çš„å†…å®¹â€ã€‚é˜…è¯»æ˜¯ä¸ªäººä¸ç¬¦å·ä¿¡æ¯ä¹‹é—´å‘ç”Ÿçš„å…¨éƒ¨ç›¸äº’è”ç³»ï¼›å®ƒé€šå¸¸æ˜¯æŒ‡å­¦ä¹ çš„è§†è§‰æ–¹é¢ï¼Œå¹¶åŒ…å«ä¸‹è¿°7ä¸ªæ­¥éª¤ã€‚ è¾¨è¯†ã€å¸æ”¶ã€å†…éƒ¨æ•´åˆã€å¤–éƒ¨æ•´åˆã€ä¿æŒã€å›å¿†ã€äº¤æµ 4.3é˜…è¯»é—®é¢˜å­˜åœ¨çš„åŸå›  ç­”æ¡ˆé™¤äº†æˆ‘ä»¬æ—©å…ˆå¯¹å¤§è„‘ç¼ºä¹è®¤è¯†ä¹‹å¤–ï¼Œä¸»è¦æ˜¯å› ä¸ºæˆ‘ä»¬æ—©æœŸçš„é˜…è¯»æ•™è‚²æ–¹æ³•ä¸å½“ã€‚ çœ¼ç›åœ¨é˜…è¯»æ—¶ï¼Œå®é™…æ˜¯ä»¥ä¸€ç³»åˆ—çš„åœé¡¿å’Œå¿«é€Ÿè·³è·ƒçš„æ–¹å¼ç§»åŠ¨çš„ã€‚ æé«˜é€Ÿåº¦ 1.æ¶ˆé™¤å›è¯»----90%çš„å›è·³å’Œå›è¯»æ˜¯å› ä¸ºæ‹…å¿ƒä¸èƒ½å¯¹é˜…è¯»ææ–™å®Œå…¨ç†è§£è€Œå¼•èµ·çš„ã€‚ 2.æ¯æ¬¡å‡è§†çš„æ—¶é—´å¯å‡åˆ°æœ€ä½çš„1/4ç§’ï¼Œ------äººçš„çœ¼ç›å¯ä»¥åœ¨1/100ç§’çš„æ—¶é—´å†…æ‘„å…¥5ä¸ªå•è¯ã€‚ 3.å‡è§†çš„é—´éš”å¯æ‰©å±•åˆ°ä¸€æ¬¡æ‘„å…¥3~5ä¸ªå•è¯ã€‚ å¿«é€Ÿé˜…è¯»çš„å¥½å¤„ å¿«é€Ÿé˜…è¯»è€…çš„ä¼˜åŠ¿æ˜¯ä»–çš„çœ¼ç›åœ¨æ¯ä¸€é¡µä¸Šè¯è´¹çš„ç‰©ç†è¿åŠ¨è¾ƒå°‘ï¼Œä¸ä¼šåƒæ…¢é€Ÿé˜…è¯»è€…é‚£æ ·ï¼Œæ¯é¡µç´§å¼ çš„èšç„¦å‡è§†500å¤šæ¬¡ã€‚å¿«é€Ÿé˜…è¯»è€…æ¯é¡µåªå‡è§†100æ¬¡ï¼Œå…¶çœ¼è‚Œå°±ä¸ä¼šç–²åŠ³ã€‚ å¦ä¸€ä¸ªå¥½å¤„ï¼šèƒ½æœ‰èŠ‚å¥ã€æµç•…çš„é˜…è¯»å’Œè½»æ¾æ„‰å¿«çš„é¢†ç•¥æ–‡ç« çš„æ„æ€ã€‚4.6 å¯¹é˜…è¯»çš„è¯¯è§£ 1.ä¸€æ¬¡åªèƒ½çœ‹ä¸€ä¸ªå•è¯â€”â€”â€”â€”é”™ã€‚äººçš„å‡è§†èƒ½åŠ›å°±å¯ä»¥æ‰©å±•ï¼Œæˆ‘ä»¬é˜…è¯»çš„ç›®çš„ä¸æ˜¯ç†è§£å•ä¸ªçš„è¯ï¼Œè€Œæ˜¯æ•´ä½“æ„æ€ã€‚ 2.é˜…è¯»é€Ÿåº¦ä¸å¯èƒ½è¶…è¿‡æ¯åˆ†é’Ÿ500ä¸ªå•è¯â€”-é”™ï¼Œæ¯æ¬¡å‡è§†å¯ä»¥æ‘„å…¥6ä¸ªå•è¯ï¼Œè€Œä¸”æ¯ç§’é’Ÿå¯ä»¥å‡è§†4æ¬¡ã€‚è¿™å°±æ„å‘³ç€æ¯åˆ†é’Ÿ1000ä¸ªå•è¯çš„é˜…è¯»é€Ÿåº¦æ˜¯å®Œå…¨èƒ½è¾¾åˆ°çš„ã€‚ 3.å¿«é€Ÿé˜…è¯»è€…æ²¡æ³•æ¬£èµæ–‡ç« â€”â€”â€”-é”™ã€‚å› ä¸ºå¿«é€Ÿé˜…è¯»è€…èƒ½æ›´å¤šçš„ç†è§£æ‰€è¯»çš„å†…å®¹ï¼Œèƒ½æ›´ä¸“æ³¨åœ°çœ‹ææ–™ï¼Œæ‰€ä»¥ä»–æœ‰æ›´å¤šçš„æ—¶é—´å»å›é¡¾ä»–è®¤ä¸ºç‰¹åˆ«æœ‰è¶£çš„å’Œé‡è¦çš„éƒ¨åˆ†ã€‚ 4.é€Ÿåº¦è¶Šå¿«æ³¨æ„åŠ›å°±è¶Šä½â€”â€”-é”™ã€‚è¯»çš„è¶Šå¿«ï¼Œå¾—åˆ°çš„åˆºæ¿€å°±è¶Šå¤šï¼Œæ³¨æ„åŠ›å°±è¶Šé›†ä¸­ã€‚ 5.ä¸€èˆ¬é˜…è¯»é€Ÿåº¦æ›´è‡ªç„¶ï¼Œå› æ­¤ä¹Ÿå°±æœ€å¥½â€”â€”é”™ã€‚å› ä¸ºä¸€èˆ¬é˜…è¯»é€Ÿåº¦å¹¶ä¸è‡ªç„¶ã€‚å®ƒæ˜¯æ—©æœŸä¸å®Œå–„çš„è®­ç»ƒï¼ŒåŠ ä¹‹ç¼ºä¹çœ¼ç›å’Œå¤§è„‘èƒ½ä»¥å„ç§å¯èƒ½çš„é€Ÿåº¦é˜…è¯»ç­‰æ–¹é¢çš„çŸ¥è¯†æ‰€é€ æˆçš„ã€‚ 4.7.1 é«˜çº§é˜…è¯»æŠ€å·§â€”â€”å¿«ä¸ŠåŠ å¿« æˆ‘ä»¬è¦åšçš„ä¸æ˜¯å«ä»–ä»¬æŠŠæ‰‹æŒ‡ä»ä¹¦æœ¬ä¸Šæ‹¿å¼€ï¼Œè€Œæ˜¯è®©ä»–ä»¬æ›´å¿«çš„ç§»åŠ¨æ‰‹æŒ‡ã€‚å®ƒåœ¨å¸®åŠ©å…»æˆæµç•…çš„é˜…è¯»èŠ‚å¥æ–¹é¢æœ‰ç€ä¸å¯ä¼°é‡çš„ä½œç”¨ã€‚ ç”¨è¾…åŠ©ç‰© é˜…è¯»æ—¶é˜…è¯»çš„é€Ÿåº¦æ›´å¿«ã€‚4.7.2 â€”â€”â€”æ‰©å¤§ç„¦ç‚¹ ç»“åˆè§†è§‰è¾…åŠ©æŠ€å·§ï¼Œç‰¹åˆ«é€‚ç”¨äºé˜…è¯»ä¸€äº›è½»æ¾çš„ææ–™å’Œç”¨æ¥é¢„ä¹ å’Œå¤ä¹ ï¼Œè¿˜å¯ä»¥æé«˜æ­£å¸¸çš„é˜…è¯»é€Ÿåº¦ã€‚ å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯å¿…é¡»ä½¿ç”¨è§†è§‰å¯¼å¼•ç‰© è¯•ç€é‡‡ç”¨å¦‚æ–œå¯¹è§’çº¿ã€æ›²çº¿å’Œæ²¿ä¹¦é¡µç›´çº¿å‘ä¸‹ç­‰å„ç§è§†è§‰å¯¼å¼•ç‰©ã€‚4.7.3 å¿«é€Ÿç†è§£ å°½å¿«ä»ä¸€é¡µæµè§ˆåˆ°ä¸‹ä¸€é¡µï¼Œå¹¶å°½å¯èƒ½å¤šçœ‹ä¸€äº›å•è¯ã€‚è¿™ç§è®­ç»ƒå¯å¢åŠ æ¯æ¬¡å‡è§†æ—¶æ‘„å…¥æ›´å¤§èŒƒå›´çš„å•è¯ç¾¤çš„èƒ½åŠ›ï¼Œä¹Ÿé€‚ç”¨äºç»ƒä¹ çºµè§ˆå’Œé¢„è§ˆæŠ€å·§ï¼Œå¹¶èƒ½æŠŠå¤§è„‘è°ƒæ•´åˆ°é€‚åº”æ›´å¿«é€Ÿã€æ›´æœ‰æ•ˆçš„æ•´ä½“é˜…è¯»ç»ƒä¹ çŠ¶æ€ã€‚ 4.8 åŠ¨æœºè®­ç»ƒ è®¡ç®—æ¯åˆ†é’Ÿé˜…è¯»é€Ÿåº¦çš„å…¬å¼ï¼š é˜…è¯»é€Ÿåº¦=ï¼ˆæ‰€è¯»é¡µæ•°*æ¯é¡µå¹³å‡å•è¯ä¹¦ï¼‰/é˜…è¯»çš„åˆ†é’Ÿæ•°4.9 èŠ‚æ‹è®­ç»ƒ è°ƒæ•´åˆ°åˆç†çš„èŠ‚å¥ã€å³æ¯ä¸€æ‹ä»£è¡¨è§†è§‰å¼•å¯¼ç‰©çš„ä¸€æ¬¡ç§»åŠ¨çš„è¯ï¼Œç”¨è¿™ç§æ–¹å¼å¯ä»¥ä¿æŒä¸€ç§ç¨³å®šã€è¿è´¯çš„èŠ‚å¥ã€å¹¶å¯å…‹æœé˜…è¯»å¼€å§‹åä¸ä¹…å‡ºç°çš„é˜…è¯»é€Ÿåº¦ä¸‹é™çš„é—®é¢˜ã€‚ä¸€æ—¦æ‰¾åˆ°æœ€ä½³çš„èŠ‚å¥ï¼Œå°±å¯é€šè¿‡æ¯åˆ†é’Ÿå¶å°”åŠ ä¸€æ‹çš„æ–¹å¼æé«˜ä½ çš„é˜…è¯»é€Ÿåº¦ã€‚â€”â€”â€”â€”2014/10/28 00:15â€”â€”â€”â€”â€”â€”- 5.3 è®°å¿†è¶‹åŠ¿ï¼šåœ¨å­¦ä¹ æœŸé—´çš„å¼€å¤´å’Œç»“å°¾è®°å¾—å¤šï¼›å¤šæ¬¡é‡å¤ã€æ˜“æ„ŸçŸ¥ã€æœ‰èŠ‚å¥çš„å†…å®¹è®°å¾—å¤šï¼›çªå‡ºæˆ–ç‹¬ç‰¹çš„å†…å®¹è®°å¾—å¤šâ€”â€”â€”â€“å†¯-é›·æ–¯æ‰˜å¤«æ•ˆåº”ï¼Œè€Œå­¦ä¹ æœŸé—´çš„ä¸­é—´é˜¶æ®µæ‰€èƒ½æœºç¿¼çš„å†…å®¹å´ç›¸å½“å°‘ã€‚ è¦æƒ³ä¿æŒåœ¨ä¸€ä¸ªç›¸å½“é«˜çš„æ°´å‡†ï¼Œå¿…é¡»æ‰¾åˆ°è®°å¿†ä¸ç†è§£æœ€å’Œè°çš„å·¥ä½œç‚¹ã€‚ åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸€ç‚¹å‡ºç°åœ¨å­¦ä¹ å¼€å§‹çš„20~50åˆ†é’Ÿä¹‹é—´ã€‚ å­¦ä¹ æœŸé—´çš„çŸ­æš‚é—´éš”ä¹Ÿå¸¸ç”¨äºæ”¾æ¾ã€æ¶ˆé£ã€‚å¯ä»¥ä½¿é›†ä¸­æ³¨æ„åŠ›å­¦ä¹ æ—¶ç´§å¼ çš„è‚Œè‚‰å’Œç¥ç»å¾—ä»¥æ”¾æ¾ã€‚ å­¦ä¹ åçš„å›å¿†é‡æœ€åˆæ˜¯ä¸Šå‡ï¼Œä¹‹åæ‰æ˜¯ä¸‹é™ï¼Œå†åæ˜¯ä¸€æ¡é€æ¸ä¸‹é™çš„ã€ä»¥æ°´å¹³çº¿ç»“å°¾çš„å‡¹å½¢æ›²çº¿ã€‚ çŸ­æš‚ä¸Šå‡çš„åŸå› ï¼šåœ¨å­¦ä¹ ç»“æŸçš„ç¬é—´ï¼Œå¤§è„‘æ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´å»æ•´åˆåˆšå­¦çš„æ–°ä¿¡æ¯ï¼Œå°¤å…¶æ˜¯æœ€åçš„éƒ¨åˆ†ã€‚å®ƒéœ€è¦å‡ åˆ†é’Ÿçš„æ—¶é—´å°†æ–°ææ–™ä¹‹é—´çš„ç›¸å…³è”ç³»ç‰¢å›ºåœ°è¿æ¥èµ·æ¥ï¼Œå³ä½¿ä¹‹â€œæ²‰æ·€ä¸‹æ¥â€ã€‚ å°å¹…ä¸Šå‡ä¹‹åæ˜¯ä¸€ä¸ªé™¡å³»çš„ä¸‹é™ï¼Œåœ¨å­¦ä¹ ä¸€ä¸ªå°æ—¶ä¹‹åçš„24å°æ—¶ä¹‹å†…ï¼Œè‡³å°‘æœ‰80%çš„ç»†èŠ‚è¢«é—å¿˜äº†ã€‚ 5.5 è®°å¿†â€“å¤ä¹ çš„æŠ€å·§å’Œç†è®º å®‰æ’æœ‰è®¡åˆ’çš„å¤ä¹ ï¼Œè€Œä¸”æ¯æ¬¡å¤ä¹ å¿…é¡»å®‰æ’åœ¨å›å¿†åˆšå¼€å§‹ä¸‹é™ä¹‹å‰ã€‚ eg:ç¬¬ä¸€æ¬¡å¤ä¹ åº”è¯¥åœ¨å­¦ä¹ 1å°æ—¶ä¹‹åçš„10åˆ†é’Ÿå¼€å§‹ï¼Œå¤ä¹ æ—¶é—´ä»¥5åˆ†é’Ÿä¸ºå®œã€‚è¿™æ ·å¯ä»¥ä½¿è®°å¿†åœ¨é«˜ä½ä¿æŒ1å¤©å·¦å³ï¼Œç„¶ååº”è¯¥è¿›è¡Œç¬¬äºŒæ¬¡å¤ä¹ ï¼Œæ—¶é—´ä¸º2~4åˆ†é’Ÿã€‚æ­¤åï¼Œè®°å¿†å°†ä¿æŒä¸€å‘¨å·¦å³ï¼Œç„¶ååœ¨ä¸€ä¸ªæœˆä¹‹åå†æ¬¡å¤ä¹ çº¦2åˆ†é’Ÿã€‚ç»è¿‡è¿™æœ€åä¸€æ¬¡å¤ä¹ ï¼Œæ­¤é¡¹çŸ¥è¯†å°†è¢«è½¬ä¸ºé•¿æœŸè®°å¿†ã€‚ å¦‚æœå·²ç»åšè¿‡ç¬”è®°çš„è¯ï¼Œç¬¬ä¸€æ¬¡å¤ä¹ åº”è¯¥æ˜¯å¯¹ç¬”è®°çš„å…¨é¢ä¿®è®¢è¿‡ç¨‹ï¼Œè¿™å°±æ„å‘³ç€è¦å–ä»£åŸæ¥çš„ç¬”è®°çš„â€œæœ€ç»ˆç‰ˆæœ¬â€ã€‚è€Œç¬¬äºŒã€ä¸‰å’Œå››æ¬¡å¤ä¹ åˆ™åº”é‡‡ç”¨ä¸‹åˆ—æ–¹å¼:ä¸çœ‹æ•´ç†è¿‡çš„ç¬”è®°ï¼Œç”¨ä¸€å¼ çº¸æ¦‚æ‹¬è®°ä¸‹æ‰€èƒ½å›å¿†çš„ä¸€åˆ‡ï¼Œç„¶åå°†å…¶ä¸æ•´ç†åçš„ç¬”è®°å¯¹ç…§ï¼Œå†è¿›è¡Œä¿®æ”¹å’Œè¡¥å……ã€‚ç¬”è®°å’Œè‰ç¨¿éƒ½åº”åšæˆæ€ç»´å¯¼å›¾ã€‚ åˆç†å¤ä¹ æœ€é‡è¦çš„ä¸€ä¸ªæ–¹é¢æ˜¯ä½œç”¨äºå­¦ä¹ ã€æ€ç»´å’Œè®°å¿†ç­‰å„æ–¹é¢çš„ç´¯è®¡æ•ˆåº”ã€‚ æ¯æ¬¡æ¥è§¦æ–°çŸ¥è¯†æ—¶ï¼Œäººä»¬å¯¹å·²å­¦çŸ¥è¯†çš„è®°å¿†å¤„äºä½è°·ï¼ŒåŸæœ‰çŸ¥è¯†é—´è‡ªåŠ¨äº§ç”Ÿçš„è¿æ¥ä¼šè§£ä½“ã€‚è¿™æ ·ï¼Œä»–å¯¹æ–°çŸ¥è¯†çš„ç†è§£å°±ä¸èƒ½è¾¾åˆ°åº”æœ‰çš„æ°´å¹³ï¼Œæ•ˆç‡å’Œé€Ÿåº¦ä¹Ÿå¿…ç„¶å¾ˆä½ã€‚è¿™ç§è¿ç»­çš„æ¶ˆæè¿‡ç¨‹ä¼šä½¿äººæ„Ÿåˆ°æ²®ä¸§ï¼Œæœ€ç»ˆå¯¹èƒ½å­¦å¥½çš„ä¸œè¥¿ä¹Ÿå¤±å»äº†ä¿¡å¿ƒ-----åªè¦ä¸€å­¦æ–°ä¸œè¥¿å°±ä¼šå¿˜è®°ï¼Œä¸€æ¥è§¦æ–°ä¸œè¥¿å¿ƒç†ä¸Šå°±ä¼šæ„Ÿåˆ°å‹æŠ‘ã€‚ç»“æœæ˜¯å¾ˆå¤šäººåœ¨å®Œæˆäº†æ­£å¼çš„è€ƒè¯•ä¹‹åï¼Œå°±å¾ˆå°‘ç”šè‡³æ ¹æœ¬ä¸å†ç¢°ä¹¦æœ¬ã€‚ å¤±è´¥çš„å¤ä¹ å¯¹æ•´ä½“è®°å¿†åŒæ ·æœ‰å®³ï¼Œå¦‚æœå¿½ç•¥æ¯æ¡æ–°ä¿¡æ¯çš„è¯ï¼Œé‚£ä¹ˆå®ƒå°†ä¸å†ä¿æŒåœ¨æ„è¯†å±‚ä¸­ï¼Œä¹Ÿä¸èƒ½å½¢æˆæ–°çš„è®°å¿†é“¾æ¥ã€‚ç”±äºè®°å¿†æ˜¯ä¸€ä¸ªä»¥è¿æ¥å’Œè”æƒ³ä¸ºåŸºç¡€çš„è¿‡ç¨‹ï¼Œå› è€Œâ€œè®°å¿†åº“â€ä¸­çš„ä¸œè¥¿è¶Šå°‘ï¼Œå…¶æ¥çº³å’Œè¿æ¥æ–°çŸ¥è¯†çš„å¯èƒ½æ€§å°±è¶Šå°ã€‚ ç›¸åï¼Œå¤ä¹ çš„å¥½å¤„æ˜¯æ— ç©·çš„ã€‚ 2014/10/29 10:54 ä½¿ç”¨æŸäº›æ–¹æ³•ä½¿æˆ‘ä»¬èƒ½åˆ©ç”¨è®°å¿†çš„è¿æ¥å’Œè”æƒ³èƒ½åŠ›ï¼Œæ¥æŠŠè¿™äº›äº‹é¡¹ä¸å…¶å¯¹åº”çš„æ•°å­—å…³è”èµ·æ¥ã€‚ æœ€å¥½çš„æ–¹æ³•æ˜¯æ•°å­—-éŸµå¾‹æ³•ã€‚ 5.7è®°å¿†çš„â€œSMASHINâ€ SCOPE æ³• åœ¨è¿™ç§æ–¹æ³•ä¸­æœ€é‡è¦çš„æ˜¯è¦ä¿è¯æŠ¼éŸµå­—ä¸æ‰€è¦è®°å¿†çš„å•è¯å¿…é¡»å…¨éƒ¨å‡†ç¡®çš„è¿æ¥èµ·æ¥ã€‚ 1.é€šæ„Ÿ/æ„Ÿå®˜(Synaesthesia/Sensuality) é€šæ„Ÿï¼ŒæŒ‡çš„æ˜¯å¤šç§æ„Ÿè§‰çš„èåˆã€‚ è§†è§‰ã€å¬è§‰ã€å—…è§‰ã€å‘³è§‰ã€è§¦è§‰ã€åŠ¨è§‰â€”å¯¹èº«ä½“åœ¨ç©ºé—´ä¸­çš„ä½ç½®ä¸è¿åŠ¨çš„æ„Ÿè§‰ã€‚ 2.è¿åŠ¨(Movenment) åœ¨ä»»ä½•è®°å¿†çš„å½¢è±¡ä¸­ï¼Œè¿åŠ¨å¯ä»¥æå¤§çš„å¢åŠ å¤§è„‘è¿æ¥å’Œè®°ä½ä¸œè¥¿çš„å¯èƒ½æ€§ã€‚â€”-è¿™é‡ŒæŒ‡è®°å¿†çš„å½¢è±¡çš„è¿åŠ¨æ€§ã€‚ 3.è”æƒ³(Association) ç¡®ä¿ä½¿å®ƒä¸ä½ çš„å†…çœçš„æŸäº›ç¨³å®šä¸å˜çš„äº‹ç‰©è”æƒ³æˆ–è¿æ¥èµ·æ¥ã€‚è¡£é’©æ³•ï¼š1=é¢åŒ…ã€‚ 4.æ€§(Sexuality) è¦åŠ ä»¥åˆ©ç”¨! 5.å¹½é»˜(Humour) æƒ³è±¡è¶Šæœ‰è¶£ã€è¶Šè’è°¬ã€è¶Šæ„šè ¢ã€è¶…è¶Šç°å®ï¼Œå°±è¶Šå®¹æ˜“è¢«è®°ä½ã€‚ 6.æƒ³è±¡(Imagination) çˆ±å› æ–¯å¦è¯´ï¼šâ€œæƒ³è±¡æ¯”çŸ¥è¯†æ›´é‡è¦ï¼Œå› ä¸ºçŸ¥è¯†æ˜¯æœ‰é™çš„ï¼Œè€Œæƒ³è±¡å´èƒ½åŒ…å®¹å…¨ä¸–ç•Œã€ä¿ƒè¿›è¿›æ­¥ã€å­•è‚²é©æ–°ã€‚â€ åœ¨è®°å¿†ä¸­åº”ç”¨çš„æƒ³è±¡è¶Šå¤šï¼Œè®°å¿†å°±ä¼šè¶Šå¥½ã€‚ 7.ç¼–å·(Number) æŒ‰æ•°å­—ç¼–å·ä½¿é¡ºåºåŠæ¬¡åºçš„è§„åˆ™æ›´æœ‰é’ˆå¯¹æ€§ï¼Œæ›´æœ‰æ•ˆã€‚ 8.ç¬¦å·(Symbolism) ç”¨ä¸°å¯Œå¤šå½©çš„æƒ³è±¡ï¼›å¯ä»¥ç”¨ä¼ ç»Ÿçš„ç¬¦å·ï¼Œå¦‚ä¼‘æ­¢ç¬¦ã€ç¯æ³¡ã€‚ 9.é¢œè‰²(Color) åœ¨é€‚å½“çš„åœ°æ–¹å°½å¯èƒ½ä½¿ç”¨å„ç§é¢œè‰²ï¼Œå¯ä½¿ä½ çš„æƒ³æ³•è‰²å½©æ–‘æ–“ï¼Œæ›´æ˜“äºè®°å¿†ã€‚ 10.é¡ºåºå’Œ/æˆ–æ¬¡åº(Order and /or Seguence) ç»“åˆå…¶ä»–è§„åˆ™ï¼Œæ’åˆ—é¡ºåºå’Œæ¬¡åºèµ·åˆ°äº†æ›´ç›´æ¥çš„å‚è€ƒä½œç”¨ï¼Œå¹¶å¢åŠ äº†å¤§è„‘â€œéšæœºå­˜å–â€çš„å¯èƒ½æ€§ã€‚å°†æ’åˆ—é¡ºåºå’Œæ¬¡åºçš„åº”ç”¨åŠ ä»¥æ‰©å±•ï¼Œèƒ½ä½¿ä½ å¼€å‘è®°å¿†çŸ©é˜µï¼Œå¦‚è‡ªæˆ‘å¢å¼ºå‹è®°å¿†çŸ©é˜µã€‚ 11.â€œç§¯æâ€çš„å½¢è±¡(Positive Images) ç§¯ææ„‰å¿«çš„å½¢è±¡æ›´åˆ©äºè®°å¿†ï¼Œè¿™ä½¿å¤§è„‘ä¹äºå·¥ä½œã€‚ 12.å¤¸å¼ (Exageration) åœ¨æ‰€æƒ³è±¡çš„æƒ…æ™¯ä¸­ï¼Œå¤¸å¤§å°ºå¯¸ã€å½¢è±¡å’Œå£°éŸ³ã€‚ 12ä¸ªè®°å¿†è¦ç´ å¾ˆå®¹æ˜“ç”¨å®ƒä»¬çš„é¦–å­—æ¯ç»„æˆçš„å•è¯â€œSMASHINâ€ SCOPE æ¥è®°ã€‚ 5.8 æ•°å­—â€“éŸµå¾‹æ³• åœ¨å½¢æˆå¤´è„‘ä¸­çš„å½¢è±¡æ—¶ï¼Œå¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯,è¦åœ¨â€œå¿ƒç›®â€ä¸­çœ‹åˆ°æ¸…æ™°çš„å›¾åƒã€‚ç»å¸¸é—­ä¸Šçœ¼ç›ï¼Œå°†æƒ³è±¡çš„æƒ…æ™¯æŠ•å½±åˆ°ä½ çš„çœ¼è„¸å†…éƒ¨ï¼Œæˆ–æŠ•å½±åˆ°ä½ å¤§è„‘çš„å±å¹•ä¸Šï¼Œå¹¶ä¸”å»å¬ã€å»æ„Ÿè§‰ã€å»é—»ï¼Œæˆ–è€…ç”¨å¯¹ä½ æ¥è¯´æœ€æœ‰æ•ˆçš„æ–¹å¼å»ä½“éªŒã€‚åŸä¹¦84é¡µã€‚ æ‰€æœ‰æ–¹æ³•ä¸­å°¤å…¶æœ‰æ•ˆçš„æ˜¯åŸºæœ¬è®°å¿†æ³•ã€‚å®ƒèƒ½ä»¥â€œæ•°å­—-éŸµå¾‹æ³•â€çš„æ–¹å¼è®°ä½1000æ¡ä»¥ä¸Šçš„ä¿¡æ¯ï¼Œå¹¶ä¸”èƒ½ç»™å‡ºè®°å¿†æ•°å­—ä¸æ—¥æœŸçš„å…³é”®æ–¹æ³•ã€‚â€œåå­—-é¢å­”è®°å¿†æ³•â€èƒ½é¿å…ä½ åœ¨ç¢°åˆ°æ›¾ç»è§è¿‡é¢çš„äººæ—¶ï¼Œé¿å…å°´å°¬ã€‚5.9 ä¸å¯èƒ½å®Œæˆçš„ä»»åŠ¡ è®°å¿†åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªè”æƒ³å’Œè¿æ¥çš„è¿‡ç¨‹ï¼Œè€Œä¸”å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå…³é”®å­—ï¼Œä»¥åŠç”¨äºæ°å½“æƒ³è±¡çš„å…³é”®æ¦‚å¿µã€‚ 6.æ€ç»´å¯¼å›¾â€“è¯æ±‡ä¸æ€ç»´ç‰¹å¾çš„ä»‹ç»6.1 ç»ƒä¹ ä¸è®¨è®ºèŸ‹èŸ€ å››è±¡é™æ³•åˆ™ç­–ç•¥ï¼šå¦‚æœä½ æ€»æ˜¯æœ‰ç´§æ€¥åˆé‡è¦çš„äº‹æƒ…è¦åšï¼Œè¯´æ˜ä½ åœ¨æ—¶é—´ç®¡ç†ä¸Šå­˜åœ¨é—®é¢˜ï¼Œè®¾æ³•å‡å°‘å®ƒã€‚å°½å¯èƒ½åœ°æŠŠæ—¶é—´èŠ±åœ¨é‡è¦ä½†ä¸ç´§æ€¥ï¼ˆç¬¬äºŒè±¡é™ï¼‰çš„äº‹æƒ…ä¸Šï¼Œè¿™æ ·æ‰èƒ½å‡å°‘ç¬¬ä¸€è±¡é™çš„å·¥ä½œé‡ã€‚å¯¹äºç´§æ€¥ä½†ä¸é‡è¦çš„äº‹æƒ…çš„å¤„ç†åŸåˆ™æ˜¯æˆæƒï¼Œè®©åˆ«äººå»åšã€‚ä¸é‡è¦ä¹Ÿä¸ç´§æ€¥çš„äº‹æƒ…å°½é‡å°‘åšã€‚","link":"/posts/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E7%AC%94%E8%AE%B0/"},{"title":"æ•°æ®åº“åˆ†äº«","text":"Sharding-Sphereæ˜¯ä¸€å¥—å¼€æºçš„åˆ†å¸ƒå¼æ•°æ®åº“ä¸­é—´ä»¶è§£å†³æ–¹æ¡ˆç»„æˆçš„ç”Ÿæ€åœˆï¼Œå®ƒç”±Sharding-JDBCã€Sharding-Proxyå’ŒSharding-Sidecarè¿™3æ¬¾ç›¸äº’ç‹¬ç«‹çš„äº§å“ç»„æˆã€‚ä»–ä»¬å‡æä¾›æ ‡å‡†åŒ–çš„æ•°æ®åˆ†ç‰‡ã€è¯»å†™åˆ†ç¦»ã€æŸ”æ€§äº‹åŠ¡å’Œæ•°æ®æ²»ç†åŠŸèƒ½ï¼Œå¯é€‚ç”¨äºå¦‚JavaåŒæ„ã€å¼‚æ„è¯­è¨€ã€å®¹å™¨ã€äº‘åŸç”Ÿç­‰å„ç§å¤šæ ·åŒ–çš„åº”ç”¨åœºæ™¯ã€‚","link":"/posts/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E4%BA%AB/"},{"title":"æ—¥å¸¸æ‰å‘è®°","text":"æ—¥å¸¸æ‰å‘è®°1. scrollIntoViewè¯¥æ–¹æ³•å¯ä»¥å¾ˆå¥½çš„è§£å†³é¡µé¢å†…é”šç‚¹è·³è½¬ï¼Œä¸ç”¨åœ¨urlé‡ŒåŠ #é”šç‚¹ åœ¨QQæµè§ˆå™¨ä¸‹ä¼šæ— æ³•æ»šåŠ¨åˆ°æŒ‡å®šé”šç‚¹, åœ¨æœ‰äº›ç‰ˆæœ¬çš„Chromeé‡Œä¹Ÿä¼šé‡åˆ° 12const element = document.getElementById('box');element.scrollIntoView({behavior: &quot;smooth&quot;}); å»æ‰{behavior: &quot;smooth&quot;}å¯ä»¥æ­£å¸¸æ»šåŠ¨ è§£å†³æ–¹æ¡ˆ123456const button = document.querySelector('#box');window.scrollTo({ top: button.offsetTop, left: 0, behavior: 'smooth'}); ç»æµ‹è¯•ï¼Œåœ¨IEå’ŒUCä¸­è¿™ä¸ªæ–¹æ³•ä¹Ÿä¸å¥½ä½¿ã€‚æ‰€ä»¥æœ€ç»ˆæ–¹æ¡ˆæ˜¯ 12const element = document.getElementById('box');element.scrollIntoView(); ç¼ºç‚¹æ˜¯æ²¡æœ‰åŠ¨ç”»æ•ˆæœã€‚å¯ä»¥æ ¹æ®å…¼å®¹æ€§è¦æ±‚æ¥é€‰æ‹©æ–¹æ¡ˆã€‚ Clipboard è§¦å‘äº‹ä»¶çš„å…ƒç´ ä¸€å®šè¦ç”¨buttonæ‰èƒ½ç”Ÿæ•ˆã€‚ è§†é¢‘æ’­æ”¾åˆ°æœ€åä¸€å¸§é»‘å±ç»æµ‹è¯•ï¼Œæ˜¯è§†é¢‘æœ¬èº«é»‘å± æµè§ˆå™¨ç”¨window.innerWidth ä¸º1280ï¼Œä¸ºä½•æµè§ˆå™¨æˆªå›¾ä¸º1920ï¼Œå› ä¸ºç”µè„‘è®¾ç½®äº†æ˜¾ç¤ºæ¯”ä¾‹ã€‚150%ï¼Œæ‰€ä»¥ä¼šå‡ºç°æ˜¾ç¤ºå¼‚å¸¸ã€‚ èƒŒæ™¯é€æ˜ä¸è¦ç”¨opacityï¼Œè¦ç”¨rgba()ç”¨opacityä¼šå¯¼è‡´èƒŒæ™¯é€æ˜æ–‡å­—ä¹Ÿé€æ˜ã€‚ èƒŒæ™¯é€æ˜ï¼Œæ–‡å­—ä¹Ÿé€æ˜è§£å†³åŠæ³• è®¾ç½®z-indexå¤±æ•ˆï¼Œ å‘ç°åœ¨å®¹å™¨ä¸­å¯ç”¨ï¼Œposition absoluteç¦»å¼€å®¹å™¨åå°±çœ‹ä¸åˆ°äº†ï¼Œ åŸå› ï¼š çˆ¶å®¹å™¨è®¾ç½®äº†overflow:hidden, æ‰€ä»¥å¦‚æœè¦ç§»åˆ°åˆé€‚çš„ä½ç½®ï¼Œéœ€è¦æŠŠåˆé€‚çš„ä½ç½®ä¹Ÿæ”¾åˆ°çˆ¶å®¹å™¨ä¸­ã€‚ bootstrapæ¯åˆ—ä¹‹é—´æ²¡æœ‰é—´éš”ï¼Œçœ‹èµ·æ¥ä¸­é—´æœ‰é—´éš”ï¼Œç‚¹å‡»çš„æ—¶å€™è¿˜æ˜¯ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼Œ è§£å†³åŠæ³•ï¼š æŠŠç»‘å®šäº‹ä»¶åŠ åœ¨æ¯åˆ—ä¸­çš„å†…å®¹åŒºåŸŸï¼Œè€Œä¸æ˜¯col-mdä¸Šã€‚ formè¡¨å•æäº¤æ–‡å­—å¸¦å›¾ç‰‡ å¦‚å›¾ç‰‡æ˜¯å•ç‹¬çš„å­—æ®µï¼Œæ²¡æœ‰é—®é¢˜{â€˜picâ€™:url, text: â€˜â€™} å¦‚æœæ˜¯å¯Œæ–‡æœ¬ï¼Ÿæ–‡å­—å›¾ç‰‡æ··åœ¨ä¸€èµ·ï¼Œæ€ä¹ˆå¤„ç†ã€‚ç­”æ¡ˆï¼šåœ¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨é‡Œï¼Œä¸Šä¼ å›¾ç‰‡ä¼šè¦æ±‚é…ç½®ä¸Šä¼ å›¾ç‰‡è·¯å¾„ï¼Œæ”¾å…¥çš„å›¾ç‰‡ä¼šå…ˆä¸Šä¼ è¿”å›å›¾ç‰‡åœ°å€ã€‚ 2018-7-11 16:31:43 æ»šåŠ¨æ¡å¸é¡¶æ•ˆæœç»éªŒæ€»ç»“ 12345678910111213141516var menu= document.getElementById(&quot;nav&quot;);//è·å–è·ç¦»é¡µé¢é¡¶ç«¯çš„è·ç¦»var titleTop = menu.offsetTop;//æ»šåŠ¨äº‹ä»¶window.addEventListener(&quot;scroll&quot;, function() { var btop = document.documentElement.scrollTop || document.body.scrollTop; //å¦‚æœæ»šåŠ¨è·ç¦»å¤§äºå¯¼èˆªæ¡æ®é¡¶éƒ¨çš„è·ç¦» if(btop &gt; titleTop) { //ä¸ºå¯¼èˆªæ¡è®¾ç½®fix $(&quot;.nav&quot;).addClass(&quot;fixed&quot;) } else { //ç§»é™¤fixed $(&quot;.nav&quot;).removeClass(&quot;fixed&quot;) }}); ä¸ºäº†å‡å°‘é¡µé¢é‡ç»˜æ¬¡æ•°å¢åŠ å»¶æ—¶åŠŸèƒ½ 123456789101112function callback(){ //do something console.log('scroll once..');}var timeoutRef;window.addEventListener('scroll' , function(){ if(timeoutRef){ clearTimeout(timeoutRef); } timeoutRef = setTimeout(callback , 50);}) å¦‚æœè¦å¸é¡¶çš„å…ƒç´ åœ¨é¡µé¢ä¸­é—´ï¼Œä¼šé€ æˆé¡µé¢æŠ–åŠ¨ï¼Œéœ€è¦å¸é¡¶çš„å…ƒç´ è®¾ç½®position:fixedåç§»åˆ°é¡¶éƒ¨é€ æˆé¡µé¢é«˜åº¦å‘ç”Ÿå˜åŒ–é‡æ–°è§¦å‘scrollæ–¹æ³•ï¼Œ è§£å†³åŠæ³•ï¼š å°†éœ€è¦å¸é¡¶çš„å…ƒç´ çˆ¶å®¹å™¨è®¾å®šæœ€å°é«˜åº¦ï¼Œå³ä½¿ä½ç½®å‘ç”Ÿç§»åŠ¨ï¼Œä¹Ÿæœ‰å›ºå®šé«˜åº¦åœ¨ï¼Œä¸ä¼šè§¦å‘scrollæ–¹æ³•ã€‚","link":"/posts/%E6%97%A5%E5%B8%B8%E6%8E%89%E5%9D%91%E8%AE%B0/"},{"title":"æ²Ÿé€šæŠ€å·§","text":"2. å¦‚ä½•è·Ÿçˆ¸å¦ˆæ‰“ç”µè¯â€”å“„çˆ¶æ¯å¼€å¿ƒçš„ä¸‰å¿ƒæŠ€æ³•å®‰å¿ƒï¼Œèˆ’å¿ƒï¼Œå¼€å¿ƒï¼Œ æˆ‘ä»¬æ‰èƒ½æ”¾å¿ƒ çˆ¶æ¯ä¸çŸ¥é“è¯´ä»€ä¹ˆï¼Œæˆ‘ä»¬ä¹Ÿä¸çŸ¥é“è¯´ä»€ä¹ˆæå‡è·Ÿçˆ¶æ¯çš„ç«¥è¯è´¨é‡ ç»†èŠ‚â€“å®‰å¿ƒå¤§è€Œç¬¼ç»Ÿçš„è¯è¶Šä¸æ”¾å¿ƒå°‘æ“å¿ƒï¼Œæ—©ç¡æ—©èµ·ï¼Œå¤šåƒé¥­ï¼Œä¸€åˆ‡éƒ½å¥½è¯·æ”¾å¿ƒâ€“ä¼šè§‰å¾—è—ç€æ–ç€æŠ¥å–œä¸æŠ¥å¿§ è¯´ç»†èŠ‚ï¼Œçœ‹äº†ä»€ä¹ˆç”µå½±ï¼Œç”µè§†å‰§ï¼Œè·Ÿå“ªä¸ªæœ‹å‹åƒäº†é¥­ ç»†èŠ‚æš—ç¤ºæ¯”ä¿¡èª“æ—¦æ—¦æ›´æœ‰æ•ˆ é—®é¢˜â€“èˆ’å¿ƒé—®é¢˜ä½¿ä»–ä»¬èˆ’å¿ƒç»å¸¸åœ¨ç”µè¯ä¸­å‘ä»–ä»¬æé—®ï¼Œæœ€å¥½é—®ç”Ÿæ´»ä¸­ä»–ä»¬å¾—å¿ƒåº”æ‰‹çš„é—®é¢˜ æ’éª¨æ±¤æ€ä¹ˆç‚– è¡£æœæ€ä¹ˆæ´—å¥½ å¤å¤©åƒä»€ä¹ˆæ°´æœæ¯”è¾ƒå¥åº· è€å¿ƒå¬å–ç­”æ¡ˆï¼Œåšå‡ºæç„¶å¤§æ‚Ÿçš„å›åº” æœ€å¥½ä¸è¦é—®å·¥ä½œä¸­çš„é—®é¢˜ æ‹¿å¯¹æ¯”ä½¿ä»–ä»¬å¼€å¿ƒçˆ¶æ¯ä»¬åœ¨å„¿å¥³è¿™ä¸ªè¯é¢˜ä¸Šè¦æœ‰å‘è¨€æƒè®©ä»–ä»¬æœ‰å€¼å¾—éª„å‚²å’Œç‚«è€€çš„è¯é¢˜ç‚¹ï¼Œå®é™…æˆå°±å¹¶ä¸é‡è¦ï¼Œåªéœ€è¦å¤šè¯´è¯´å’ŒåŒäº‹æœ‹å‹çš„å…«å¦ã€‚ æŸåŒäº‹æ²¡å¥³æœ‹å‹ï¼ŒæŸåŒäº‹è¿˜æ²¡ç»“å©šï¼ŒæŸåŒäº‹æ²¡å·¥ä½œäº†ã€‚è®©çˆ¶æ¯æœ‰è°ˆèµ„ï¼Œèˆ’ç¼“çˆ¶æ¯ç¤¾äº¤å‹åŠ› çˆ¶æ¯ä¸»åŠ¨ç¤¾äº¤èƒ½åŠ›åœ¨ä¸æ–­ä¸‹é™ï¼Œå­©å­æ‰¿æ‹…èµ·ä¸»åŠ¨æ²Ÿé€šçš„è´£ä»»ï¼Œå¹¶æä¾›çˆ¶æ¯æ²Ÿé€šçš„è°ˆèµ„ äººçš„ä¸€ç”Ÿéƒ½æ˜¯ç¤¾äº¤çš„ä¸€ç”Ÿ ç”¨ç»†èŠ‚è®©çˆ¶æ¯å®‰å¿ƒï¼Œæ„å‘³ç€ä½ è¦å‘ä»–ä»¬å‘ˆç°çœŸå®ç”Ÿæ´»ï¼ŒæŠŠè‡ªå·±ç½®äºæ±‡æŠ¥è€…çš„åœ°ä½ç”¨é—®é¢˜è®©çˆ¶æ¯èˆ’å¿ƒï¼Œä½ è¦è®©ä»–ä»¬æ„Ÿè§‰åˆ°ä»–ä»¬å¯¹ä½ çš„ç”Ÿæ´»æ˜¯æœ‰æ„ä¹‰çš„ï¼Œæ˜¯èƒ½å¤Ÿæå‡ºæŒ‡å¯¼æ„è§çš„ï¼Œæ˜¯æœ‰æƒå¨çš„ç”¨å¯¹æ¯”è®©ä»–ä»¬å¼€å¿ƒï¼Œä½ è¦å‘ä»–ä»¬è¯æ˜ä½ æ˜¯å€¼å¾—ä»–ä»¬ç‚«è€€çš„ï¼Œæ˜¯èƒ½å¤Ÿè®©ä»–ä»¬åœ¨ç¤¾äº¤çš„æ—¶å€™ç‰¹åˆ«æœ‰é¢å­çš„ã€‚ è¿™æ ·çš„æ²Ÿé€šæŠ€å·§è¿˜èƒ½ç”¨åœ¨å…¶ä»–å¾ˆå¤šæ–¹é¢ï¼Œå¼€é€šè„‘ç­‹ï¼Œå¥½å¥½è¯´è¯ 3. è§‚å†²çªï¼Œè¯¥æ€ä¹ˆèŠ","link":"/posts/%E6%B2%9F%E9%80%9A%E6%8A%80%E5%B7%A7/"},{"title":"ç™¾åº¦å°ç¨‹åºç»éªŒç§¯ç´¯","text":"[TOC] é‡å¯å¤§æ³•å¦‚æœé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼Œä¸è¦æ€€ç–‘è‡ªå·±ï¼Œè¯·é‡å¯ æ ·å¼ä¸ç”Ÿæ•ˆ é¡µé¢ä¸èƒ½æ­£å¸¸æ¸²æŸ“ é¡¹ç›®ç¼–è¯‘å¤±è´¥ å†™çš„æ–°ç»„ä»¶ï¼Œå¼•ç”¨åä¸ç”Ÿæ•ˆ ç¼–è¯‘æŠ¥é”™å¼€å‘è€…å·¥å…·æŠ¥ä¸€å †ä¸æ˜¯ä»£ç çš„é”™è¯¯ï¼Œæ£€æŸ¥è°ƒè¯•åŸºç¡€åº“çš„ç‰ˆæœ¬ æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯-&gt; è°ƒè¯•åŸºç¡€åº“-&gt; 3.40.28 ç»„ä»¶ç¼–å†™ æ–°åˆ›å»ºçš„æ–‡ä»¶å¤¹åœ¨å¼•ç”¨æ—¶ä¸ç”Ÿæ•ˆ è§£å†³æ–¹æ¡ˆï¼š é‡å¯å¼€å‘è€…å·¥å…· å¼•ç”¨ç»„ä»¶åç§°ä¸èƒ½æ˜¯é©¼å³°å†™æ³•(arrivalDialog)ï¼Œå¿…é¡»ç”¨arrival-dialog ç»„ä»¶å¼•ç”¨åï¼Œåœ¨é¡µé¢å‡ºç°ä¸¤ä¸ªç›¸åŒçš„DOM åŸå› : ç»„ä»¶ä¸­æœ‰è¯­æ³•é”™è¯¯ jsonæ–‡ä»¶ 1234567{ &quot;component&quot;: true, &quot;usingComponents&quot;: { &quot;popup&quot;: &quot;/pages/components/popup/popup&quot;, &quot;btn-group&quot;:&quot;../btngroup/index&quot; }} å­ç»„ä»¶æ¥æ”¶å‚æ•°è¦åœ¨propertiesä¸­å®šä¹‰ 123456789properties: { dataSource: { type: Object, value: null, observer: function(newVal, oldVal) { this.renderView(); } }} å¦‚æœå­ç»„ä»¶é‡Œè¦æ ¹æ®çˆ¶ç»„ä»¶é‡Œä¼ æ¥çš„æ•°æ®è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œéœ€è¦åœ¨observeré‡Œé‡æ–°setData ç»„ä»¶çš„æ–¹æ³•è¦å†™åˆ°methods: {}é‡Œ äº‹ä»¶ç»‘å®š åœ¨å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œè¦é€çº§ä¼ é€’ï¼Œä¸èƒ½æ¼æ‰å…¶ä¸­ä¸€å±‚ å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³• 123closeModal(e) { this.triggerEvent('toggleReservationDialog', {isShow: false});} å¼•ç”¨å­ç»„ä»¶ 123&lt;order-dialog bind:toggleReservationDialog = &quot;toggleReservationDialog&quot;/&gt; äº‹ä»¶ä¼ å‚ 1this.triggerEvent('arrivalSubmit', {telephone: input}); åœ¨çˆ¶ç»„ä»¶arrivalSubmitä¸­ï¼Œè·å–å‚æ•°ä¸èƒ½ç›´æ¥å–åˆ°telephoneè¿™ä¸ªå¯¹è±¡å°ç¨‹åºä¼šå†åŒ…ä¸€å±‚ï¼Œç”¨ä»¥ä¸‹æ–¹å¼è·å– 1const telephone = e.detail.telephone; å°ç¨‹åºè‡ªèº«ç¼ºé™· s-ifä¸­çš„è¡¨è¾¾å¼ 12345&lt;!-- æ— æ³•è¯†åˆ«ï¼Œä¼šæŠ¥é”™ --&gt;&lt;!-- &lt;swan s-if=&quot;{{+res.code === 1}}&quot;&gt; --&gt;&lt;swan s-if=&quot;{{res.code === 1}}&quot;&gt;&lt;/swan&gt; è¡¨è¾¾å¼è¿‡äºå¤æ‚ï¼Œä¼šå¯¼è‡´DOMæ— æ³•æ¸²æŸ“ forå¾ªç¯æ— æ³•ä¸€æ¬¡å¾ªç¯ä¸¤æ¡æ•°æ®ï¼Œä¸èƒ½ä¿®æ”¹å½“å‰index. è§£å†³åŠæ³•: å…ˆå¤„ç†å¥½æ•°æ®ç»“æ„å†å¾ªç¯ cssè¯­æ³•ä¸èƒ½è¯†åˆ«color: var(--color-white);(ä¹‹å‰å¯ä»¥è¯†åˆ«~~~) Reactä»£ç è¿ç§»åˆ°å°ç¨‹åºç»éªŒhtmlç»“æ„ç›´æ¥æ‹·è´åˆ°swanæ–‡ä»¶ divæ›¿æ¢ä¸ºview p, h1-h6 ç­‰æ›¿æ¢ä¸ºview, åŸæ¥çš„æ ‡ç­¾æ ·å¼æ›¿æ¢ä¸ºviewååŠ classã€‚å¦‚: &lt;view class=&quot;h1&quot;&gt;&lt;/view classNameæ›¿æ¢ä¸ºclass onClickæ›¿æ¢ä¸ºbindtap onclickä¼ å‚éœ€è¦åœ¨jsæ–¹æ³•é‡Œä¼ é€’ï¼Œå‚æ•°å…·ä½“å€¼å¯ä»¥ç”¨data-ç»‘å®šåˆ°domä¸Šï¼Œåœ¨jsä¸­é€šè¿‡e.currentTarget.dataset.è·å–, å¦‚æœå½“å‰ç»„ä»¶åªæœ‰ä¸€ä¸ªdataï¼Œä¸æ˜¯æ•°ç»„ç±»å‹çš„æ•°æ®, å¯ä»¥ç›´æ¥ä»this.dataä¸­è·å– lessé€šè¿‡è½¬æ¢å·¥å…·è½¬æˆcssï¼Œpxæ›¿æ¢ä¸ºrpxï¼Œæ•°å€¼éƒ½éœ€è¦*2ã€‚å¦‚ï¼šwidth:20px---&gt; width: 40rpx; js setStateæ›¿æ¢ä¸ºsetData jsxä¸­æ ¹æ®æ¡ä»¶æ¸²æŸ“çš„DOMå¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µçœ‹æ‹†åˆ†æˆæ–°ç»„ä»¶è¿˜æ˜¯é€šè¿‡s-if, s-elseè§£å†³ æƒ³æŸ¥çœ‹æŸä¸ªjså˜é‡çš„å€¼ï¼Œå¯ä»¥ç»‘å®šåˆ°DOMä¸ŠæŸ¥çœ‹ï¼Œå¦‚ 1&lt;swan item=&quot;{{item}}&quot;&gt;&lt;/swan&gt; å¼ºåˆ¶è§¦å‘å°ç¨‹åºé¡µé¢æ¸²æŸ“çš„æ–¹æ³• åœ¨ç»„ä»¶propertiesé‡Œå®šä¹‰å˜é‡å, ä»¥åŠç›‘å¬äº‹ä»¶ 123456789properties: { data: { type: Object, value: {}, observer(newVal, oldVal) { this.processData(); } }} è®¾ç½®å˜é‡ä¸ºnull,å†è®¾å€¼ 1234567this.setData({ dataList: null}, () =&gt; { this.setData({ dataList: [1, 2, 3] });}); å¼ºåˆ¶é”€æ¯DOM, s-ifè®¾ä¸ºfalseï¼Œå†è®¾ä¸ºtrueåœ¨è®¾ç½®style=background-color: rgba(255, 255, 255, ${opacity});æ—¶, dataå·²ç»å‘ç”Ÿå˜åŒ–ï¼Œä½†é¡µé¢æ²¡æ”¹å˜ æ ·å¼é—®é¢˜åœ¨viewé‡ŒåŒ…ä¸€ä¸ªimageå…ƒç´ ï¼Œå¦‚ä¸‹ 12345678&lt;view class=&quot;con&quot;&gt; &lt;image src=&quot;https://cms-dumall.cdn.bcebos.com/cms_upload_pro/cms_1569467395902.jpg&quot; mode=&quot;widthFix&quot; class=&quot;image&quot; /&gt;&lt;/view&gt; css 12345678.con { background-color:crimson;}.image { width: 100%; margin-top: 12rpx;} è¿™æ—¶å€™imageä¼šæœ‰å¤šä½™çš„èƒŒæ™¯è‰²å‡ºç°, åŸå› æ˜¯imageå…ƒç´ ä¸ºinline-blockå…ƒç´ ï¼Œé€šè¿‡è®¾ç½®`display: block;`è§£å†³ åŠ¨ç”»å®ç°ä¸€äº›å¤æ‚çš„åŠ¨ç”»ä¸èƒ½é€šè¿‡æ ·å¼æ¥å®ç°ï¼Œåªèƒ½é€šè¿‡æä¾›çš„Animation APIæ¥å®ç°ï¼Œéå¸¸éº»çƒ¦~~~ scroll-viewé«˜åº¦å¿…é¡»å›ºå®šé€šè¿‡cssè®¾ç½®height: 100vh; è§£é‡Šï¼šä½¿ç”¨ç«–å‘æ»šåŠ¨æ—¶ï¼Œéœ€è¦ç»™å®šä¸€ä¸ªå›ºå®šé«˜åº¦ï¼Œå¯ä»¥é€šè¿‡cssæ¥è®¾ç½®heightã€‚ ç»ˆäºæ”¯æŒasyncäº†å•Šï¼Œ çœŸä¸å®¹æ˜“2019-12-26 20:06:33éŸ³é¢‘æ’­æ”¾ä¸è¦ç”¨audioç»„ä»¶ï¼Œç›´æ¥ç”¨APIé‡Œçš„innerAudioContextå¼€å‘ã€‚æ‹–åŠ¨æ¡ç”¨sliderç»„ä»¶ è·³åˆ°æŒ‡å®šä½ç½®æ’­æ”¾ç”¨InnerAudioContext.seek éŸ³é¢‘æ’­æ”¾å™¨æ’­æ”¾æ—¶æ§åˆ¶slideré—®é¢˜æ’­æ”¾ä¼šè‡ªåŠ¨è®¾ç½®sliderçš„å€¼ï¼Œä½†æ˜¯æ‹–åŠ¨æ—¶ä¹Ÿä¼šè®¾ç½®å€¼ï¼Œä¼šæœ‰é—ªçƒçš„æ•ˆæœ è§£å†³æ–¹æ³•ï¼š æ‹–åŠ¨æ—¶ï¼Œæš‚åœæ’­æ”¾ï¼Œç»“æŸåå¼€å§‹æ’­æ”¾","link":"/posts/%E7%99%BE%E5%BA%A6%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/"},{"title":"çŸ¥è¯†ç‚¹","text":"xssé™åˆ¶è„šæœ¬æ‰§è¡Œæ–¹æ³• csp content script policy setStateå¤šæ¬¡è°ƒç”¨ï¼Œæ€ä¹ˆæ‰§è¡Œï¼ŒåŸç† css headerå›ºå®šï¼Œä¸‹é¢ç™¾åˆ†ç™¾å¸ƒå±€ cssç”»å„ç§å›¾å½¢ ç»„ä»¶æ·»åŠ è‡ªå®šä¹‰å†…å®¹ï¼Œ æµè§ˆå™¨æ¸²æŸ“é¡µé¢è¿‡ç¨‹ cssåŠ¨ç”»ä¸è§¦å‘layout react diff ç®—æ³• promiseå¤šçº§è°ƒç”¨ å­—ç¬¦ä¸²åŠ å‡ä¹˜é™¤ç±»å‹çš„è½¬äºŒå‰æ ‘æ‰§è¡Œç»“æœ ä¸¤ä¸ªæ•°ç»„å»é‡ï¼Œè¿™ä¸ªé‡Œä¸åŒ…å«é‚£ä¸ªé‡Œæœ‰çš„ å¼‚æ­¥ç”¨actionï¼ŒåŒæ­¥çš„è¯·æ±‚æ€ä¹ˆå¤„ç† Dispatchäº†actionï¼Œæ˜¯æ€ä¹ˆè¯†åˆ«è¿™ä¸ªactionçš„ reduxæµç¨‹ï¼Œä»£ç è¦å†™å‡ºæ¥actionæ€ä¹ˆå®šä¹‰ï¼Œæ€ä¹ˆdispatchåˆ°reducerä¸­ï¼Œæ€ä¹ˆè§¦å‘dispatch å‘é€action actionæ€ä¹ˆåé¦ˆåˆ°reducer reducerå¤„ç†æ•°æ®çš„ç›®çš„æ˜¯ä»€ä¹ˆ webpack æ¸…é™¤ç¼“å­˜æ€è·¯hashchunkå’ŒchunkåŒºåˆ« promiseå¤šæ¬¡ä¾èµ–å¼‚æ­¥è°ƒç”¨æ‰‹å†™ä»£ç 1 Promise.then().then()å¤šä¸ªpromise.then().then() å¦‚æœå‰é¢çš„.thenæŠ¥é”™åï¼Œåé¢çš„è¿˜ä¼šæ‰§è¡Œå— flexå¦‚ä½•è¶…å‡ºèŒƒå›´åå‡ºç°æ»šåŠ¨æ¡ï¼Ÿï¼Ÿï¼Ÿ Typeofè¿˜æ˜¯è¦çœ‹çš„ âˆš å¯¹è±¡åé¢è·Ÿæ•°å­—ï¼Œæ’åº sort âˆš Vueçš„ä¸€äº›å¸¸ç”¨æŒ‡ä»¤ âˆšæ˜¾ç¤ºHtml v-html Foucï¼Œ âˆš V-text Watchæ·±åº¦ç›‘å¬ deep: true âˆšDataå’ŒcomputedåŒºåˆ«ï¼Œç¼“å­˜ Popï¼Œpush, å¯¹åº”æ ˆ åœ¨å°¾éƒ¨åˆ é™¤æ·»åŠ shiftï¼Œunshift å¯¹åº”åˆ—ï¼Œåœ¨å¤´éƒ¨åˆ é™¤æ·»åŠ  React vueç”Ÿå‘½å‘¨æœŸç»“åˆè·¯ç”±é’©å­è¯´æ˜ Promiseæ˜¯ä»€ä¹ˆâˆš Letå’Œvarçš„åŒºåˆ«âˆš é—­åŒ…ï¼Œå›è°ƒ äº‹ä»¶å§”æ‰˜ Reduxçš„åŸç†ï¼Œæµç¨‹ æµè§ˆå™¨urlåŒ…å«ä»€ä¹ˆ âˆš Jsonpç¼ºç‚¹ï¼ŒåŸç†âˆš Vueï¼ŒreactåŒºåˆ« Ajaxæ˜¯ä»€ä¹ˆï¼ŒçŠ¶æ€ç  Gitå›æ»šä¸Šä¸€ä¸ªç‰ˆæœ¬âˆš Git pullå’Œrebase mergeâˆš å·¦å³å¸ƒå±€æ–¹æ³• Audio Promiseå®ç°å¼‚æ­¥é˜Ÿåˆ— Mapå’ŒsetåŒºåˆ«ï¼Œæ€ä¹ˆç”¨Setå’Œarrayset keyä¸èƒ½é‡å¤Mapå’Œforeach Jsæ•°ç»„è½¬å¯¹è±¡ç”¨reduceå®ç°map jQueryæ‰©å±•ç»„ä»¶æ€ä¹ˆå†™ Ajaxæœ‰å“ªäº›å‚æ•° å¤§æ–‡ä»¶æ€ä¹ˆä¸Šä¼ ï¼Œä½ç‰ˆæœ¬æµè§ˆå™¨æ€ä¹ˆå…¼å®¹ ReactåŒçº§ç»„ä»¶ä¼ å€¼ Cloneæ–¹æ³•å…‹éš†ç»‘å®šäº‹ä»¶ slice,spliceé•¿è¿æ¥å®ç°æ–¹å¼ socketå’ŒwebsocketåŒºåˆ« è½®è¯¢å’Œé•¿è½®è¯¢åŒºåˆ« mapå’Œreduceï¼Œç”¨mapå®ç°reduce å®ç°a().b().c() å®šä¹‰{}ï¼Œæ¯ä¸ªæ–¹æ³•return this for in for of åŒºåˆ« å¯æšä¸¾å’Œä¸å¯æšä¸¾çš„åŒºåˆ« ä¸Šä¼ æ–‡ä»¶æ–¹å¼ï¼Œurl-formï¼ŒformDataæ˜¯ä»€ä¹ˆ æµè§ˆå™¨ä¸­çš„ç¼“å­˜æœ‰å“ªå‡ ç§ï¼Œå…·ä½“æ€ä¹ˆå·¥ä½œçš„ å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ å®ç°å¹¶å‘è¯·æ±‚å¤šæ¬¡ï¼Œä¾æ¬¡è¿”å›ç»“æœã€‚ å¦‚æœç¬¬äºŒä¸ªç»“æœä¾èµ–ç¬¬ä¸€ä¸ªç»“æœæ€ä¹ˆå†™ nextTick, setImmediate, promise require ,exports ,module.exports åŒºåˆ« é¢è¯•æ€»ç»“ï¼šjs: thisæŒ‡å‘ï¼ŒPromise this é—­åŒ…æ˜¯ä»€ä¹ˆï¼Œè¯´å‡ºæ¥ï¼Œ å†™å‡ºæ¥ï¼Œèƒ½è¯»æ‡‚ç¨‹åº åŸå‹é“¾ åŸå‹è¯´å‡ºæ¥ï¼Œå†™å‡ºæ¥ï¼Œè¯»æ‡‚ã€‚ã€‚ã€‚ reactå’ŒvueåŒºåˆ« è®¾è®¡æ¨¡å¼ ç®—æ³• ä¸ªäººé¡¹ç›®ä¸­é‡åˆ°å“ªäº›éš¾å¤„ç†çš„é—®é¢˜ï¼Œæ€ä¹ˆè§£å†³ã€‚ æ€§èƒ½é—®é¢˜æœ‰å“ªäº›ï¼Œæ€ä¹ˆè§£å†³ï¼Œ ç§»åŠ¨ç«¯æœ‰å“ªäº›å…¼å®¹æ–¹æ¡ˆ(rem) Generator æ˜¯ä»€ä¹ˆï¼Œ Promiseæ˜¯ä»€ä¹ˆ ç»™ä¸€ä¸ªæ•°ç»„ï¼Œæ‰¾å‡ºæœ€å¤§æœ€å°å€¼ï¼Œä»€ä¹ˆæ–¹æ³•æœ€å¿« æµ‹è¯•çš„è¯æœ‰å“ªäº›è¾¹ç•Œå€¼éœ€è¦è€ƒè™‘ï¼Œ çŠ¶æ€ç  æ·±æ‹·è´ï¼Œæµ…æ‹·è´ åŒºåˆ« reactç”Ÿå‘½å‘¨æœŸï¼Œæ¯ä¸ªç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯ä»€ä¹ˆï¼Œæœ‰å“ªäº›ç‰¹æ®Šç”¨è¿‡çš„ï¼Œ ä¸ç”¨Promiseæ€ä¹ˆå®ç°Promise.all å†™ä¸ªæ–¹æ³•å…‹éš†jsåŸå§‹ç±»å‹ CSS: ç€‘å¸ƒæµåŸç† column å±…ä¸­å¸ƒå±€æœ‰å“ªäº›æ–¹æ³• httpç›¸å…³httpåè®®ç†è§£ httpæ˜¯ä»€ä¹ˆæè¿°ï¼Œæœ‰å“ªäº›å±‚ï¼Œæ¯å±‚éƒ½æœ‰ä»€ä¹ˆï¼Œ ipåœ¨å“ªä¸€å±‚ ç½‘ç»œå±‚æ˜¯å¹²å˜›çš„ ä¼ è¾“å±‚æœ‰å“ªäº›åè®®ï¼Œ tcp/ipåè®® æ•°æ®ä»httpä¼ è¿‡æ¥ï¼Œæ¯ä¸€å±‚éƒ½åšä»€ä¹ˆå¤„ç† tcpå’Œudpæœ‰ä»€ä¹ˆåŒºåˆ« ä¸ªäººäº®ç‚¹æ˜¯ä»€ä¹ˆ æœ‰é‡åˆ°ä»€ä¹ˆç‰¹æ®Šçš„ç»éªŒ å…¬å¸å¾…é‡ï¼Œè–ªèµ„ç¦åˆ© å·¥ä½œå†…å®¹ å› ä¸ºçŠ¶æ€ä¸å¥½å› ä¸ºä¸è‡ªä¿¡ é¢è¯•æ€åº¦ï¼Œå¿ƒæ€å¾ˆé‡è¦å•Šï¼Œè¦å¾®ç¬‘ï¼Œé¢è¯•ä¹‹å‰å¾®ç¬‘ï¼Œç»™è‡ªå·±æ‰“æ°”ï¼é‡Šå½“ç¼“å’Œæ°”æ°›ï¼Œè¯´è¯ä¸è¦ç€æ€¥ï¼Œä¸è¦æŠ¢ç­”ï¼Œæ…¢æ¡æ–¯ç†è¯´å‡ºè‡ªå·±çŸ¥é“çš„ï¼Œä¸çŸ¥é“çš„çŒœçŒœï¼ŒçŒœä¸å‡ºæ¥å¾®ç¬‘å¤§èƒ†æ‰¿è®¤ä¸çŸ¥é“ï¼ŒæŠŠè°ˆè¯çš„æ°›å›´æå¥½å¾ˆé‡è¦ï¼Œå³ä½¿ä¸ä¼šï¼Œä¹Ÿè®©é¢è¯•å®˜è§‰å¾—ä½ æ˜¯æš‚æ—¶å¿˜äº†ï¼Œæ¼”æŠ€è¦ä¸Šçº¿ä¸èƒ½å¤§æ„å¤±è†å·ï¼Œä¸€äº›åŸºç¡€çš„cssæ ·å¼è¦å®Œå…¨æ­£ç¡®æ‰‹å†™å‡ºæ¥ï¼ï¼ï¼ å­¦ä¹ çŸ¥è¯†è¦å…¨é¢ï¼Œäº†è§£äº†å¼‚æ­¥ä¸èƒ½ä¸çŸ¥é“åŒæ­¥è¯¥æ€ä¹ˆå†™ï¼Œ åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦ä¸ºåŒ…å«å…³ç³» contain, indexOf css flex æ¨¡å‹ ä¸€ä¸ªå…ƒç´  å¦‚div ä»topä¸º0 ç§»åŠ¨åˆ°top ä»»æ„ çš„åŠ¨ç”»æ•ˆæœ åŸç”Ÿä»£ç  52å¼ ç‰Œ å¹³å‡ éšæœºåˆ†ç»™4ä¸ªäºº å¿«é€Ÿæ’åº 10è¿›åˆ¶è½¬64è¿›åˆ¶ è½®æ’­å¯¼èˆªï¼šæ…¢æ»‘æ— æƒ¯æ€§æ»‘åŠ¨æ•ˆæœï¼Œå¿«æ»‘è¦æƒ¯æ€§æ»‘åŠ¨ åŸç”Ÿ ç»™ä½ ä¸€ä¸ªç½‘ç«™ å¦‚ä½•åˆ†æå®ƒçš„æ€§èƒ½ ä»¥åŠ è¯´è¯´ ä¼˜åŒ–ç­–ç•¥ vue angularjs å®ç°æ•°æ®ç»‘å®šçš„åŸç† react è™šæ‹ŸdomåŸç† ç”¨è¿‡å“ªäº›h5çš„api localStorage ä½¿ç”¨æœ‰ä»€ä¹ˆæƒ³æ³• å¥½å¤„ ç¼ºç‚¹ ä½ æ€ä¹ˆç”¨çš„ å¦‚ä½•ç”¨jsè·å–ä¸€ä¸ªå…ƒç´ çš„å®½ å’Œ é«˜ 1234567891011121314151617181920212223&lt;div id=&quot;box&quot;&gt;&lt;/div&gt;#box{ background-color: lightgrey; width: 300px; border: 25px solid green; padding: 25px; margin: 25px; height:60px;}//è·å–ç›’å­çš„å†…å®¹é«˜åº¦ï¼Œå†…å®¹é«˜åº¦ä¹Ÿå¯ç”¨ç”¨box.clientHeightè·å–ï¼Œå†…å®¹é«˜åº¦ä¸åŒ…æ‹¬è¾¹æ¡†å’Œå¤–è¾¹è·å’Œæ»šåŠ¨æ¡var box = document.getElementById(&quot;box&quot;)var contentHeight = window.getComputedStyle(box).height //è¾“å‡º '60px'//è·å–ç›’å­å®¢æˆ·ç«¯çš„é«˜åº¦box.clientHeight //è¾“å‡º110 (å†…å®¹é«˜åº¦+padding * 2)//è·å–ç›’å­è‡ªèº«å®é™…é«˜åº¦box.offsetHeight //è¾“å‡º160 (å†…å®¹é«˜åº¦ + å†…è¾¹è·*2 +è¾¹æ¡†*2)å¦‚æœboxçš„çˆ¶å®¹å™¨æ²¡æœ‰è®¾ç½®å®šä½ï¼Œåˆ™box.offsetLeftæ˜¯ç›¸å¯¹bodyè€Œè¨€ï¼Œå¦åˆ™æ˜¯æ ¹æ®ç¦»å®ƒæœ€è¿‘ä¸”æœ‰è®¾ç½®å®šä½çš„çˆ¶å®¹å™¨è€Œè¨€box.offsetLeft //è·å–boxç›’å­ç›¸å¯¹å®ƒçš„çˆ¶å®¹å™¨æ°´å¹³çš„åç§»box.offsetTop //è·å–boxç›’å­ç›¸å¯¹å®ƒçš„çˆ¶å®¹å™¨å‚ç›´çš„åç§» ç›’å­æ¨¡å‹æœ‰å‡ ç§ è¡Œå†…å…ƒç´  å—å…ƒç´  æœ‰å“ªäº› åŒºåˆ«æœ‰å“ªäº› å®ç° å·¦è¾¹å®šå®½ å³è¾¹è‡ªé€‚åº”å¸ƒå±€ å­—ç¬¦ä¸²åè½¬ é€’å½’å’Œå¾ªç¯ äº’ç›¸è½¬æ¢ æ€§èƒ½è°ƒä¼˜ç­–ç•¥ äº‹ä»¶æ¨¡å‹ åŸå‹é“¾ ä»¥åŠ å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå±æ€§ æ˜¯å±äºè¯¥å¯¹è±¡ è¿˜æ˜¯ç»§æ‰¿è‡ªåŸå‹é“¾ å•é¡µåº”ç”¨ä½ æ€ä¹ˆç†è§£ åšè¿‡å— èŠèŠ ä½ å¸¸ç”¨ä»€ä¹ˆè®¾è®¡æ¨¡å¼ èŠèŠ è·¨åŸŸè§£å†³ç­–ç•¥å’ŒåŸç† æµè§ˆå™¨æ¸²æŸ“è¿‡ç¨‹ æœ‰å“ªå‡ æµè§ˆå™¨å†…æ ¸ css åŠ¨ç”» ç”¨è¿‡å“ªäº›æ¨¡å—åŠ è½½å·¥å…· èŠèŠ å†™å‡ºå‡ ä¸ªå¸¸è§çš„å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´  å¦‚ä½•è½¬æ¢è¿™ä¸¤ç§æ ‡ç­¾çš„è¡Œä¸º è¯·å†™å‡ºâ€meâ€ â€œyouâ€ æ‰€åœ¨å…ƒç´ çš„å®é™…è¡Œé«˜ 12345&lt;div style=&quot;font-size:14px;line-height:3&quot;&gt; &lt;div style=&quot;font-size:2em&quot;&gt;you &lt;span style=&quot;font-size:3em;line-height:3em;&quot;&gt;me&lt;/span&gt; &lt;/div&gt;&lt;/div&gt; åˆ—ä¸¾5ç§ è§¦å‘ie hasLayoutçš„å±æ€§åŠå…¶å€¼ ç”»å‡ºcssç›’å­æ¨¡å‹ è¯·å†™å‡ºè‡³å°‘3ä¸ªcss3ç§æ–°æ·»åŠ çš„æ ·å¼å±æ€§ å®ç°ä»¥ä¸‹æ–¹æ³•ï¼ˆä¸æ ‡å‡†ä¸€è‡´ï¼‰a.Element.prototype.getElementsByClassNameb.Function.prototype.bindc.Array.prototype.everyd.Object.create å†™å‡ºjavascriptæœ‰å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹ ä»¥åŠå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„ ç¼–å†™ä¸€ä¸ªæ–¹æ³• å»æ‰ä¸€ä¸ªæ•°ç»„çš„é‡å¤å…ƒç´  å†™å‡ºä»¥ä¸‹ç¨‹åºçš„è®¡ç®—ç»“æœvar str = â€œhelloâ€;var fn1 = function(){console.log(str); //hello}var fn2 = function(){var str = â€œworldâ€;fn1();}fn2()//ç»“æœ ç¼–å†™ä¸€ä¸ªæ–¹æ³•shuffleå¾—åˆ°ä¸€ä¸ªæ•°ç»„çš„éšæœºå‰¯æœ¬è¦æ±‚var arr1 = [2,5,3,1,7,12,57,234]var arr2 = shuffle(arr1);// arr2 =&gt; [234,2,3,1,7,57,12,5] å†™ä¸€ä¸ªåˆ¤æ–­ ä¼ å…¥çš„å­—ç¬¦ä¸²æ˜¯æ•°å­—çš„ æ–¹æ³• è¯´å‡ºæ€è·¯ ï¼ˆisNaNï¼‰ ç”¨è¿‡æ•°ç»„çš„å“ªäº›api å¤„ç†å…¼å®¹æ€§é—®é¢˜æœ‰å“ªäº›hack è€ƒäº‹ä»¶å§”æ‰˜ï¼šå¦‚æœä½ æœ‰ä¸€ä¸ªåˆ—è¡¨,éœ€æ±‚æ˜¯ åŸç”Ÿæ¥å†™ ç‚¹å‡»liè¦è§¦å‘ä¸€äº›è¡Œä¸ºï¼Œä½†æ˜¯è¿™ä¸ªåˆ—è¡¨æ˜¯åŠ¨æ€çš„ï¼Œæ¯”å¦‚æˆ‘å¯èƒ½ä¸‹æ‹‰åˆ·æ–° æ–°åŠ è½½ä¸Š5æ¡æ•°æ® é‚£ä¹ˆè¿™ä¸ªäº‹ä»¶æ€ä¹ˆç»‘å®š css å¸ƒå±€å¦‚ä½•å®ç°å‚ç›´å±…ä¸­ éƒ½æœ‰å“ªäº›æ–¹æ³• æ€ä¹ˆçœ‹ä¸€ä¸ªcssåŠ¨ç”» æ˜¯å¦æµç•… é‡ç»˜å’Œé‡æ’ ï¼Œä»€ä¹ˆæƒ…å†µå¼•èµ·é‡ç»˜ ä»€ä¹ˆæƒ…å†µå¼•èµ·é‡æ’ æ€ä¹ˆé¿å…ï¼›é‡ç»˜èƒ½å¼•èµ·é‡æ’å— é‡æ’èƒ½å¼•èµ·é‡ç»˜å— è€ƒå¯Ÿé—­åŒ…ï¼šå†™ä¸€ä¸ªå‡½æ•° ä½œç”¨æ˜¯ ç¬¬ä¸€æ¬¡æ‰§è¡Œè¾“å‡º1 ç¬¬äºŒæ¬¡è¾“å‡º2 ç¬¬ä¸‰æ¬¡è¾“å‡º3 è€ƒå¯Ÿç®—æ³•ï¼š æ¯”å¦‚ä½ æœ‰ä¸€ä¸ªå¹¿å‘Šç‚¹å‡»çš„æ’ååˆ—è¡¨ ä»é«˜åˆ°åº• ï¼Œç°åœ¨ä½ æœ‰ä¸€ä¸ªå¹¿å‘Š ç‚¹å‡»æ¬¡æ•°500 å¦‚ä½•å¿«é€Ÿä»è¿™ä¸ªåˆ—è¡¨é‡Œ è¿”å›è¿™ä¸ªå¹¿å‘Šçš„ä½ç½® jsonpçš„åŸç†å’Œç¼ºé™· ä¸ºä»€ä¹ˆé€šå¸¸æ”¾åœ¨åé¢ æœ‰æ²¡æœ‰ä»€ä¹ˆæƒ…å†µå¿…é¡»æ”¾åœ¨headé‡Œï¼Œscriptæ ‡ç­¾ä¸­async å’Œ deferçš„ä½œç”¨ é™¤äº† åšé›ªç¢§å›¾ ã€ å‹ç¼©æ··æ·†js è¿˜æœ‰ä»€ä¹ˆæå‡ç½‘é¡µåŠ è½½é€Ÿåº¦çš„æ–¹æ³• å‰ç«¯å®‰å…¨ æœ‰å“ªäº›äº†è§£ javascriptçš„ä½œç”¨åŸŸåˆ†æ cookies sessionstorge å’Œ localstorageçš„åŒºåˆ« åˆ†æç»™å‡ºçš„ä»£ç localstorage.setItem(â€œtestâ€,{a:â€1â€,b:â€2â€})localstorage.getItem(â€œtestâ€) //æ‹¿å‡ºæ¥çš„æ˜¯ä»€ä¹ˆ//â€œ[object Object]â€ ç”¨åˆ°äº†å“ªäº›css3çš„ä¸œè¥¿ é€šè¿‡ å¾ªç¯æ¯ä¸ªåˆ—è¡¨é‡Œçš„å…ƒç´  æ¥è·Ÿ ç›®æ ‡å…ƒç´ åšå¯¹æ¯” ï¼Œæ‰¾åˆ°è¿™ä¸ªå…ƒç´ çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ å†™ä¸€ä¸ªåˆ¤æ–­æ­£æ•´æ•°ã€å°æ•°ã€è´Ÿæ•°çš„æ­£åˆ™ http é€šä¿¡çš„å››ä¸ªæ–¹æ³• delete get post pull éƒ½å¹²å˜›çš„ getå’Œdeleteçš„åŒºåˆ« å®ç°$.ready() å‡ ç§æ¨¡å—åŠ è½½å·¥å…·çš„å¯¹æ¯” amd cmdè§„èŒƒ æ„å»ºå·¥å…·ç”¨è¿‡å“ªäº› ä½ åšè¿‡æŠ€æœ¯é€‰å‹å— èŠèŠ ajaxåŸç†ï¼ŒçŠ¶æ€ç ï¼Œé˜¶æ®µå€¼ï¼ˆéœ€è¦èƒ½å¤Ÿå½“åœºæ‰‹å†™åŸç”ŸXMLHttpRequest å®ç°get postï¼‰ å†™è¿‡nodeå— å›è°ƒé‡‘å­—å¡” ä½ å¦‚ä½•ç†è§£çš„ å¦‚ä½•åº”å¯¹ï¼ˆæƒ³è€ƒpromise èŠèŠpromiseçš„ç†å¿µå’Œapi å¼‚å¸¸å¤„ç†æ–¹æ³•ï¼‰ setTimeout å’ŒsetInterval å¯é å—å¦‚æœå›ç­”å¯é  è€ƒå®˜ä¼šç»™ä½ å†™ä¸€æ®µä»£ç  é—®ä½ æ‰§è¡Œæƒ…å†µå¦‚æœå›ç­”ä¸å¯é  è€ƒå®˜ä¼šé—®ä½  ä¸ºæ¯›ä¸å¯é  èŠèŠcsså®šä½ ï¼ˆå¦‚æœä½ æƒ³åŠ åˆ† å¯ä»¥è¯´fixedæƒ…å†µä¸‹çš„å‘ï¼‰ ç§»åŠ¨ç«¯å¼€å‘ç»éªŒ å†™è¿‡è§†è§‰å·®æ•ˆæœå’© æ€ä¹ˆå†™çš„","link":"/posts/%E7%9F%A5%E8%AF%86%E7%82%B9/"},{"title":"ç®—æ³•","text":"åå¤§ç»å…¸æ’åºç®—æ³•æ€»ç»“ï¼ˆJavaScriptæè¿°ï¼‰é“¾æ¥ å†’æ³¡æ’åº &amp; é€‰æ‹©æ’åº &amp; æ’å…¥æ’åº &amp; å¸Œå°”æ’åº JavaScript å®ç° é€’å½’ï¼Œwhileéå†æ ‘ç»“æ„8ä¸ªè‹¹æœä¸€ä¸ªåçš„ï¼Œå¤–å½¢ä¸å…¶ä»–ç›¸åŒï¼Œåªæœ‰é‡é‡ä¸åŒæœ‰ä¸ªå¤©å¹³ï¼Œç”¨2æ¬¡æŠŠåçš„æ‰¾å‡ºæ¥ï¼Œæ€ä¹ˆç§° ç­”æ¡ˆï¼š (3,3)+ (1,1)ä¸¤æ¬¡ é¦–å…ˆæˆ‘ä»¬æ¥ç¡®å®šä¸€ä»¶äº‹,å°±æ˜¯åçš„è‹¹æœåº”è¯¥æ˜¯æ¯”å…¶ä»–çš„è¦è½».ç¬¬ä¸€æ­¥,æŠŠè‹¹æœåˆ†ä¸º3+3+1+1;ç¬¬äºŒæ­¥,ç§°é‡; 3+3 æ”¾åˆ°å¤©å¹³ä¸¤ç«¯,å¦‚æœå¹³ç­‰ å†æ”¾1+1,ä¹Ÿå°±æ˜¯ä¸¤è¾¹å„æ”¾ä¸€ä¸ª,å€¾æ–œ,å‘ä¸Šç«¯,æœ€åæ”¾çš„æ˜¯åçš„. 3+3 æ”¾åˆ°å¤©å¹³ä¸¤ç«¯,å¦‚æœå€¾æ–œ, å–å‘ä¸Šç«¯3ä¸ªè‹¹æœ,åˆ†ä¸º1+1+1,ä¸¤è¾¹ä¸€è¾¹ä¸€ä¸ªéšä¾¿æ”¾,å¦‚æœå¹³è¡¡,æ²¡æ”¾çš„ä¸€ä¸ªæ˜¯åçš„,å¦‚æœå€¾æ–œ,å‘ä¸Šçš„æ˜¯åçš„.æ²¡æœ‰å…¶ä»–æƒ…å†µäº†,ä¸¤æ¬¡å°±å¯ä»¥ç§°å‡º. 1. å†’æ³¡æ’åºé‡å¤éå†è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ã€‚éå†æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚ å¹³å‡æƒ…å†µï¼šT(n) = O(n^2) å¤æ‚åº¦æ—¶é—´å¤æ‚åº¦ï¼šå¹³å‡æ—¶é—´å¤æ‚åº¦O(nn) ã€æœ€å¥½æƒ…å†µO(n)ã€æœ€å·®æƒ…å†µO(nn)ç©ºé—´å¤æ‚åº¦ï¼š O(1)ç¨³å®šæ€§ï¼šç¨³å®šå…³é”®ï¼šä¸¤æ¬¡å¾ªç¯ i=0,i&lt;len; j=0, j&lt;len-1-i j å’Œj+1ç½®æ¢ 123456789101112131415161718function bubbleSort(arr) { var len = arr.length; for (var i = 0; i &lt; len; i++) { // æ³¨æ„è¿™é‡Œçš„len-1-i, å¦‚æœå†™len-1ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¼šæœ‰å¤šä½™çš„å†…å±‚å¾ªç¯ for (var j = 0; j &lt; len - 1 - i; j++) { if (arr[j] &gt; arr[j+1]) { //ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯” var temp = arr[j+1]; //å…ƒç´ äº¤æ¢ arr[j+1] = arr[j]; arr[j] = temp; } } } return arr;}var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48];console.log(bubbleSort(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] 2.é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰é¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚ æœ€ä½³æƒ…å†µï¼šT(n) = O(nÂ²)æœ€å·®æƒ…å†µï¼šT(n) = O(nÂ²)å¹³å‡æƒ…å†µï¼šT(n) = O(nÂ²) 12345678910111213141516171819function selectionSort(arr) { const len = arr.length; let minIndex, temp; for (let i = 0; i &lt; len - 1; i++) { minIndex = i; for (let j = i + 1; j &lt; len; j++) { if (arr[j] &lt; arr[minIndex]) { //å¯»æ‰¾æœ€å°çš„æ•° minIndex = j; //å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜ } } temp = arr[i]; arr[i] = arr[minIndex]; arr[minIndex] = temp; } return arr;}var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48];console.log(selectionSort(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] 3.æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰1234567891011121314151617181920function insertionSort(array) { if (Object.prototype.toString.call(array).slice(8, -1) === 'Array') { console.time('æ’å…¥æ’åºè€—æ—¶ï¼š'); for (var i = 1; i &lt; array.length; i++) { var key = array[i]; var j = i - 1; while (j &gt;= 0 &amp;&amp; array[j] &gt; key) { array[j + 1] = array[j]; j--; } array[j + 1] = key; } console.timeEnd('æ’å…¥æ’åºè€—æ—¶ï¼š'); return array; } else { return 'array is not an Array!'; }} 6.å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰ å¿«é€Ÿæ’åºçš„åŸºæœ¬æ€æƒ³ï¼šé€šè¿‡ä¸€è¶Ÿæ’åºå°†å¾…æ’è®°å½•åˆ†éš”æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†è®°å½•çš„å…³é”®å­—å‡æ¯”å¦ä¸€éƒ¨åˆ†çš„å…³é”®å­—å°ï¼Œåˆ™å¯åˆ†åˆ«å¯¹è¿™ä¸¤éƒ¨åˆ†è®°å½•ç»§ç»­è¿›è¡Œæ’åºï¼Œä»¥è¾¾åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚ (3)ç®—æ³•åˆ†æ æœ€ä½³æƒ…å†µï¼šT(n) = O(nlogn) æœ€å·®æƒ…å†µï¼šT(n) = O(n2) å¹³å‡æƒ…å†µï¼šT(n) = O(nlogn) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455Javascriptä»£ç å®ç°ï¼š/*æ–¹æ³•è¯´æ˜ï¼šå¿«é€Ÿæ’åº@param array å¾…æ’åºæ•°ç»„*///æ–¹æ³•ä¸€function quickSort(array, left, right) { console.time('1.å¿«é€Ÿæ’åºè€—æ—¶'); if (Object.prototype.toString.call(array).slice(8, -1) === 'Array' &amp;&amp; typeof left === 'number' &amp;&amp; typeof right === 'number') { if (left &lt; right) { var x = array[right], i = left - 1, temp; for (var j = left; j &lt;= right; j++) { if (array[j] &lt;= x) { i++; temp = array[i]; array[i] = array[j]; array[j] = temp; } } quickSort(array, left, i - 1); quickSort(array, i + 1, right); } console.timeEnd('1.å¿«é€Ÿæ’åºè€—æ—¶'); return array; } else { return 'array is not an Array or left or right is not a number!'; }}//æ–¹æ³•äºŒvar quickSort2 = function(arr) { console.time('2.å¿«é€Ÿæ’åºè€—æ—¶'); if (arr.length &lt;= 1) { return arr; } var pivotIndex = Math.floor(arr.length / 2); var pivot = arr.splice(pivotIndex, 1)[0]; var left = []; var right = []; for (var i = 0; i &lt; arr.length; i++){ if (arr[i] &lt; pivot) { left.push(arr[i]); } else { right.push(arr[i]); } }console.timeEnd('2.å¿«é€Ÿæ’åºè€—æ—¶'); return quickSort2(left).concat([pivot], quickSort2(right));};var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48];console.log(quickSort(arr,0,arr.length-1));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]console.log(quickSort2(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]ä½œè€…ï¼šDamonareé“¾æ¥ï¼šhttps://juejin.im/post/57dcd394a22b9d00610c5ec8æ¥æºï¼šæ˜é‡‘è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ è®²çš„å¥½çš„ç®—æ³•å¿«é€Ÿé“¾æ¥ é˜®ä¸€å³°å¿«é€Ÿæ’åºé“¾æ¥ jsç®—æ³•ç›®å½• äºŒå‰æ ‘çš„æ¦‚å¿µäºŒå‰æ ‘èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹ï¼š 1234567struct BinaryTreeNode{ int m_nValue; BinaryTreeNode* m_pLeft; BinaryTreeNode* m_pRight;}; å®Œå…¨äºŒå‰æ ‘ä¸€ä¸ªæ·±åº¦ä¸ºkï¼ŒèŠ‚ç‚¹ä¸ªæ•°ä¸º 2^k - 1 çš„äºŒå‰æ ‘ä¸ºæ»¡äºŒå‰æ ‘ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰ äºŒå‰æ ‘çš„æ€§è´¨äºŒå‰æ ‘çš„æ€§è´¨ä¸€ï¼šåœ¨äºŒå‰æ ‘çš„ç¬¬iå±‚ä¸Šè‡³å¤šæœ‰2^(i-1)ä¸ªç»“ç‚¹(i&gt;=1) äºŒå‰æ ‘çš„æ€§è´¨äºŒï¼šæ·±åº¦ä¸ºkçš„äºŒå‰æ ‘è‡³å¤šæœ‰2^k-1ä¸ªç»“ç‚¹(k&gt;=1) äºŒå‰é“¾è¡¨lchild data rchild dataä¸ºæ ¹èŠ‚ç‚¹ï¼Œ lchildä¸ºå·¦å­æ ‘ï¼Œrchildä¸ºå³å­æ ‘ äºŒå‰æ ‘çš„éå†æœ‰ä¸‰ç§æ–¹å¼ï¼Œå¦‚ä¸‹12345678910111213141516171819202122232425262728293031323334353637383940ï¼ˆ1ï¼‰å‰åºéå†ï¼ˆDLRï¼‰ï¼Œ é¦–å…ˆè®¿é—®æ ¹ç»“ç‚¹ï¼Œç„¶åéå†å·¦å­æ ‘ï¼Œæœ€åéå†å³å­æ ‘ã€‚ ç®€è®°æ ¹-å·¦-å³ã€‚ï¼ˆ2ï¼‰ä¸­åºéå†ï¼ˆLDRï¼‰ï¼Œ é¦–å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åè®¿é—®æ ¹ç»“ç‚¹ï¼Œæœ€åéå†å³å­æ ‘ã€‚ ç®€è®°å·¦-æ ¹-å³ã€‚ï¼ˆ3ï¼‰ååºéå†ï¼ˆLRDï¼‰ï¼Œ é¦–å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åéå†å³å­æ ‘ï¼Œæœ€åè®¿é—®æ ¹ç»“ç‚¹ã€‚ ç®€è®°å·¦-å³-æ ¹ã€‚//å…ˆåºéå†function preOrder(node){ if(node){ console.log(node.value); preOrder(node.left); preOrder(node.right); }}//ä½¿ç”¨é€’å½’æ–¹å¼å®ç°ä¸­åºéå†function inOrder(node){ if(node){ inOrder(node.left);//å…ˆè®¿é—®å·¦å­æ ‘ console.log(node.value); inOrder(node.right);//æœ€åè®¿é—®å³å­æ ‘ }}//ååºéå†function postOrder(node){ if(node){ postOrder(node.left); postOrder(node.right); console.log(node.value); }} äºŒåˆ†æŸ¥æ‰¾æ¦‚å¿µåœ¨ä¸€ä¸ªå·²æ’åºçš„æ•°ç»„seqä¸­ï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ v (è¦æŸ¥æ‰¾çš„å…ƒç´ )ï¼Œå‡å¦‚è¿™ä¸ªæ•°ç»„çš„èŒƒå›´æ˜¯[lowâ€¦high]ï¼Œæˆ‘ä»¬è¦çš„vå°±åœ¨è¿™ä¸ªèŒƒå›´é‡Œã€‚ æŸ¥æ‰¾çš„æ–¹æ³•æ˜¯æ‹¿lowåˆ°highçš„æ­£ä¸­é—´çš„å€¼ï¼Œæˆ‘ä»¬å‡è®¾æ˜¯mï¼Œæ¥è·Ÿvç›¸æ¯”ï¼Œå¦‚æœm&gt;vï¼Œè¯´æ˜æˆ‘ä»¬è¦æŸ¥æ‰¾çš„våœ¨å‰æ•°ç»„seqçš„å‰åŠéƒ¨ï¼Œå¦åˆ™å°±åœ¨ååŠéƒ¨ã€‚æ— è®ºæ˜¯åœ¨å‰åŠéƒ¨è¿˜æ˜¯ååŠéƒ¨ï¼Œå°†é‚£éƒ¨åˆ†å†æ¬¡æŠ˜åŠæŸ¥æ‰¾ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼ŒçŸ¥é“æŸ¥æ‰¾åˆ°vå€¼æ‰€åœ¨çš„åœ°æ–¹ã€‚å®ç°äºŒåˆ†æŸ¥æ‰¾å¯ä»¥ç”¨å¾ªç¯ï¼Œä¹Ÿå¯ä»¥é€’å½’ï¼Œå…ˆç»™å‡ºä¸¤ç§æ–¹å¼çš„ä¼ªä»£ç ã€‚ Javaç‰ˆä½¿ç”¨å¾ªç¯å®ç° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576public static int search(int[] seq, int v, int low, int high) { while (low &lt;= high) { int mid = (low + high) / 2; if (v == seq[mid]) { return mid; } else if (v &gt; seq[mid]) { low = mid + 1; } else { high = mid - 1; } } return Integer.MIN_VALUE;}ä½¿ç”¨é€’å½’å®ç° public static int search2(int[] seq, int v, int low, int high) { if (low &gt; high) { return Integer.MIN_VALUE; } int mid = (low + high) / 2; if (v == seq[mid]) { return mid; } else if (v &gt; seq[mid]) { return search2(seq, v, mid + 1, high); } else { return search2(seq, v, low, mid - 1); } }JS ç‰ˆæœ¬// éé€’å½’ç®—æ³• function binary_search(arr, key) { var low = 0, high = arr.length - 1; while(low &lt;= high){ var mid = parseInt((high + low) / 2); if(key == arr[mid]){ return mid; }else if(key &gt; arr[mid]){ low = mid + 1; }else if(key &lt; arr[mid]){ high = mid -1; }else{ return -1; } } }; var arr = [1,2,3,4,5,6,7,8,9,10,11,23,44,86]; var result = binary_search(arr,10); alert(result); // 9 è¿”å›ç›®æ ‡å…ƒç´ çš„ç´¢å¼•å€¼// é€’å½’ç®—æ³• function binary_search(arr,low, high, key) { if (low &gt; high){ return -1; } var mid = parseInt((high + low) / 2); if(arr[mid] == key){ return mid; }else if (arr[mid] &gt; key){ high = mid - 1; return binary_search(arr, low, high, key); }else if (arr[mid] &lt; key){ low = mid + 1; return binary_search(arr, low, high, key); } }; var arr = [1,2,3,4,5,6,7,8,9,10,11,23,44,86]; var result = binary_search(arr, 0, 13, 10); alert(result); // 9 è¿”å›ç›®æ ‡å…ƒç´ çš„ç´¢å¼•å€¼","link":"/posts/%E7%AE%97%E6%B3%95/"},{"title":"çº¿ä¸Šé—®é¢˜è¿½æŸ¥é€šç”¨æ–¹æ³•","text":"å¤„ç†åŸåˆ™ æ­¢æŸåŸåˆ™ åŠæ—¶é€šå‘Š é€»è¾‘æ–¹æ³• åˆ†ç»´åº¦ï¼Œåˆ¤å®šå½±å“é¢ï¼Œç¼©å°èŒƒå›´ æœ‰èƒ†æœ‰è¯† å¿ƒæ€å‡†å¤‡è¿…é€Ÿç²¾å‡†ï¼Œâ€“è„šæœ¬åŠŸåº•ï¼Œä¿¡å¿ƒå¤§èƒ†å‡è®¾ï¼Œâ€“æ€è·¯æ¸…æ™°å¼€æ”¾ï¼Œæ²¡æœ‰SOPæ­¢æŸæ„è¯† â€”æ— æŸåˆ¤æ–­è´¨ç–‘æ‰€æœ‰ â€”å„ä¸ªæ•°æ®ã€ç»“è®º(ç›‘æ§ç³»ç»Ÿ)æœ‰æ•ˆæ€§æœ‰çš„æ”¾çŸ¢ â€”é€»è¾‘æ€ç»´ çŸ¥è¯†å‡†å¤‡æ—¥å¿—â€”å„å­—æ®µæ„ä¹‰è¦éå¸¸ç†Ÿæ‚‰é…ç½®â€”å°¤å…¶æ˜¯è°ƒåº¦ç›¸å…³çš„è¦äº†ç„¶äºèƒ¸ç»†èŠ‚â€”æ¯æ¬¡æ›´ç»†ä¸€ç‚¹å‘½ä»¤â€”åŸºæœ¬åŠŸ(linuxæ¯ä¸ªå‘½ä»¤ï¼Œæ¯ä¸ªå‚æ•°) çŸ¥è¯†ç§¯ç´¯ æ¼”è¿›è¿‡ç¨‹","link":"/posts/%E7%BA%BF%E4%B8%8A%E9%97%AE%E9%A2%98%E8%BF%BD%E6%9F%A5%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95/"},{"title":"ç¼–è¾‘å™¨æ‰å‘è®°","text":"æœ€è¿‘é¡¹ç›®ç»å¸¸é‡åˆ°å®šåˆ¶åŒ–å¼€å‘ä¸Šä¼ è§†é¢‘çš„éœ€æ±‚ï¼Œç°åœ¨ä¸€äº›é€šç”¨çš„è§†é¢‘åŸºæœ¬ä¸æ»¡è¶³éœ€æ±‚ã€‚ è¿™ç¯‡æ–‡å­—è®°å½•ä¸€ä¸‹é‡åˆ°çš„é—®é¢˜å’Œå­¦åˆ°çš„çŸ¥è¯†ã€‚ å‰ç«¯å¸¸è§çš„ç¼–è¾‘å™¨ä¸€èˆ¬éƒ½ä¸æ”¯æŒä¸Šä¼ è§†é¢‘ ueditoré™¤å¤–,ä½†ç°åœ¨è¿˜æ²¡çœ‹åˆ°ueEditoråœ¨Reacté¡¹ç›®ä¸­ä½¿ç”¨ã€‚ æ’å…¥è§†é¢‘è§£å†³æ–¹æ¡ˆï¼šåœ¨ç¼–è¾‘å™¨å€¼ä¸­æ’å…¥htmlçš„videoæ ‡ç­¾posterç”¨äºè®¾ç½®è§†é¢‘å°é¢ 12&lt;video src=&quot;&quot; poster=&quot;&quot;&gt;&lt;/video&gt; æ’å…¥è‡ªå®šä¹‰å†…å®¹æ¯”å¦‚æ’å…¥ä¸€æ®µHTML åŸç†ï¼Œå…ˆæ‹¼è£…å¥½htmlï¼Œè°ƒç”¨ç¼–è¾‘å™¨APIå°†HTMLæ’å…¥ã€‚ æœ¬è´¨æ˜¯æ‰§è¡Œäº†document.execCommand(MDNé“¾æ¥) å…¶ä¸­çš„å‚æ•°å¯ä»¥è®¾ç½®åŒ…æ‹¬åŠ ç²—(bold), æ’å…¥å›¾ç‰‡(insertImage) è‡ªå®šä¹‰å†…å®¹çš„è¯ï¼ŒinsertHTMLå¯ä»¥æ’å…¥HTMLã€‚ ä¹‹å‰è¿˜è€ƒè™‘è¿‡å°†ä¸€æ®µhtmlå¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼Œé€šè¿‡pasteå‘½ä»¤å°†è‡ªå®šä¹‰çš„ä¸€æ®µHTMLæ‹·è´åˆ°ç¼–è¾‘å™¨ä¸­ã€‚ å…³é”®é—®é¢˜ï¼Œæ’å…¥åï¼Œæ€ä¹ˆä½œä¸ºæ•´ä½“å¤„ç†ï¼Œåˆ é™¤ä¸€èµ·åˆ é™¤ï¼ŒæŒ‰å›è½¦ä¼š(æˆ–ä¸ä¼š)ç”ŸæˆåŒä¸€ä¸ªç›¸åŒçš„å—. è€ƒè™‘å°†æ’å…¥çš„ä¸€æ®µHTMLæœ€å¤–å±‚è®¾ç½®æˆcontentEditable=falseï¼Œå¯ä»¥ä½¿æ•´æ®µæ’å…¥çš„HTMLä¸èƒ½ç¼–è¾‘ã€‚ä½†åœ¨å›è½¦æˆ–åˆ é™¤æ—¶ï¼Œä¼šé‡åˆ°æ— æ³•åˆ é™¤ç­‰é—®é¢˜ã€‚ ç°åœ¨çš„ç¼–è¾‘å™¨æœºåˆ¶éƒ½æ˜¯é€šè¿‡ä¿®æ”¹divçš„contentEditable=trueæ¥å®ç°æ’å…¥HTMLã€‚","link":"/posts/%E7%BC%96%E8%BE%91%E5%99%A8%E6%8E%89%E5%9D%91%E8%AE%B0/"},{"title":"ç½‘ç«™æ­å»º","text":"ç½‘ç«™åˆ›å»ºå†ç¨‹1. ä¹°åŸŸåhttps://wanwang.aliyun.com/domain/searchresult/ å…ˆè¦èµ·åå­—ï¼Œæ‰¾åˆ°åˆé€‚çš„åŸŸåã€‚ æ‰¾å¥½åç›´æ¥ä»˜æ¬¾æ”¯ä»˜å°±okäº†ã€‚ 1.1 å®ååˆ¶éœ€è¦èº«ä»½è¯ç…§ç‰‡ã€‚ ç›´æ¥æ‹ç…§ï¼Œä¸Šä¼ ï¼Œokï¼Œç­‰2ä¸ªå·¥ä½œæ—¥ã€‚ æœåŠ¡å™¨ è´­ä¹°åœ°å€ äº‘æœåŠ¡å™¨ECSï¼ˆåŒ…å¹´åŒ…æœˆï¼‰åœ°åŸŸ: ååŒ— 1å¯ç”¨åŒº: ååŒ— 1 å¯ç”¨åŒº BI/O ä¼˜åŒ–å®ä¾‹: é I/O ä¼˜åŒ–å®ä¾‹å®ä¾‹è§„æ ¼: 1 æ ¸ 2GBç½‘ç»œç±»å‹: ç»å…¸ç½‘ç»œå¸¦å®½: 1Mbpsï¼ˆæŒ‰å›ºå®šå¸¦å®½ï¼‰æ“ä½œç³»ç»Ÿ: CentOS 7.2 64ä½ç³»ç»Ÿç›˜: 40GB æ™®é€šäº‘ç›˜å¯†ç : å·²è®¾ç½®å®ä¾‹åç§°: oriht linuxå­¦ä¹ ï¼šhttp://wiki.jikexueyuan.com/project/linux-command/chap03.html ç™»é™†çš„æ“ä½œï¼šssh root@ip ä¸‰ï¼šè¿æ¥æ•°æ®åº“ï¼šmysql -uroot -proot //p è¿˜æœ‰å°±æ˜¯é‡åˆ°æ­»é“¾æ¥çš„é—®é¢˜éœ€è¦ é…ç½®è·¯ç”±ï¼šâ€˜URL_MODELâ€™=2;æˆ–è€…é…ç½®ä¸º0 å’Œ3 è¿™é‡Œéœ€è¦ä»”ç»†æŸ¥çœ‹TPæ‰‹å†Œéƒ¨ç½²é‚£é‡Œã€‚ ç›´æ¥å†™è·¯å¾„å°±å¯ä»¥ 3ã€‚chkconfig â€“level 35 vsftpd on4.yum -y install vsftpd;5 cd /home/wwwroot/default/6 chmod 777 /home/wwwroot/default/chmod 777 /home/wwwroot/default/ -Rè¿™é‡Œè¦æ³¨æ„çš„æ˜¯æƒé™é—®é¢˜ï¼šä½ è¦æŠŠapplicationç›®å½•æƒé™-777ä¾‹å¦‚ï¼šchmod 777 /home/wwwroot/default/ -Rchmod -R 777 /home/wwwroot/default/ åœ¨centosä¸Šå®‰è£…git å¤‡æ¡ˆæµç¨‹ ç½‘ç«™å¤‡æ¡ˆä¿¡æ¯çœŸå®æ€§æ ¸éªŒå• [æŸ¥çœ‹æ ·ä¾‹] è¯·æ‰“å°3ä»½ï¼ŒæŒ‰ç…§æ ·ä¾‹åˆ†åˆ«å¡«å†™å¹¶å…¨éƒ¨é‚®å¯„ ç”³è¯·é‚®å¯„å¹•å¸ƒ æ‚¨è‡ªè¡Œæ‹ç…§åä¸Šä¼  è¿œç¨‹æ‹·è´æ‹·è´è¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶åˆ°æœ¬åœ°: 1scp -r -P ç«¯å£å· ç”¨æˆ·å@IPåœ°å€:/usr/local/tomcat_airc/webapps/ /tmp/kyj/ æ‹·è´æœ¬åœ°æ–‡ä»¶åˆ°è¿œç¨‹æœåŠ¡å™¨: 1scp -r /tmp/kyj/sys.war ç”¨æˆ·å@IPåœ°å€:/usr/local/tomcat_airc/webapps/ æœåŠ¡å™¨ä¿¡æ¯ phpçš„é»˜è®¤ç«¯å£æ˜¯8080 nginxçš„é»˜è®¤ç«¯å£æ”¹æˆ80 httpsé…ç½® åœ¨é˜¿é‡Œäº‘ä¹°å¥½è¯ä¹¦ï¼Œ åœ¨nginxå®‰è£…ç›®å½•ä¸‹æ–°å»ºcertç›®å½•cd /usr/local/nginxmkdir cert å°†è¯ä¹¦ä¸‹è½½ä¸‹æ¥ï¼Œå¤åˆ¶åˆ°certç›®å½•ä¸‹ scp -r æœ¬åœ°æ–‡ä»¶ç›®å½• root@(ip):/usr/local/nginx/cert/ è¿™é‡Œæœ‰123.pem å’Œ123.key,ä¸¤ä¸ªéƒ½è¦ä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨ é…ç½®åä¸ç”Ÿæ•ˆ curl -l http://oriht.com wget http://oriht.com éœ€è¦è¿›å…¥é˜¿é‡Œäº‘æœåŠ¡å™¨çš„å®ä¾‹é‡Œï¼Œæ‰¾åˆ°å®‰å…¨ç»„è§„åˆ™ï¼Œé…ç½®443è®¿é—®æƒé™ã€‚æ‰èƒ½è®¿é—®httpsçš„ç«¯å£ nginx no input file specified æŸ¥çœ‹nginx error.log, å‘ç°æ˜¯nginxä¹‹å‰çš„é…ç½®æ‰¾ä¸åˆ°è·¯å¾„ä¹‹ç±»çš„é—®é¢˜ï¼Œå…ˆå°†æ‰€æœ‰çš„å…¶ä»–é…ç½®æ³¨é‡Šæ‰ï¼Œmv **.conf **.conf.bak åˆæŠ¥502 Bad Gateway è¯´æ˜¯nginx-fpmçš„å ç”¨å†…å­˜å¤ªå¤šï¼Œé»˜è®¤è¿›ç¨‹æ•°å¤ªå°‘ 1ã€æŸ¥çœ‹php fastcgiçš„è¿›ç¨‹æ•°ï¼ˆmax_childrenå€¼ï¼‰ netstat -anop | grep php-cgi | wc -l1ã€æŸ¥çœ‹php fastcgiçš„è¿›ç¨‹æ•°ï¼ˆmax_childrenå€¼ï¼‰ netstat -anop | grep php-cgi | wc -l 3ã€è°ƒæ•´/usr/local/php/etc/php-fpm.conf çš„ç›¸å…³è®¾ç½® 12pm.max_children = 5request_terminate_timeout = 60 éƒ¨åˆ†PHPç¨‹åºçš„æ‰§è¡Œæ—¶é—´è¶…è¿‡äº†Nginxçš„ç­‰å¾…æ—¶é—´ï¼Œå¯ä»¥é€‚å½“å¢åŠ nginx.confé…ç½®æ–‡ä»¶ä¸­FastCGIçš„timeoutæ—¶é—´ï¼Œä¾‹å¦‚ï¼š 12345678http{â€¦â€¦fastcgi_connect_timeout 300;fastcgi_send_timeout 300;fastcgi_read_timeout 300;â€¦â€¦}","link":"/posts/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"},{"title":"ç¾½æ¯›çƒé€Ÿæˆ","text":"æ¡çƒæ‹çš„æ‰‹åŠ¿ æ—¶åˆ»ä¿æŒä¸»åŠ¨å‡ºå‡»çŠ¶æ€ï¼Œ ä¸è¦æ‰“å®Œä¸€ä¸ªçƒåï¼Œå°±å®šä½ä¸åŠ¨ç«™ç€çœ‹ï¼Œç­‰çƒå†è¿‡æ¥å°±æ²¡æœ‰æ—¶é—´å¯åŠ¨èº«ä½“ååº”äº† ç½‘å‰æŒ‘çƒæ—¶å¯¹æ‰‹æ˜¯è½»æ‰“è¿‡æ¥çš„ï¼Œè¦ä½¿åŠ²æ‰“åˆ°ååœº å¦‚æœå¯¹æ‰‹è½»æŒ‘è¿‡æ¥ï¼Œä½ å†è½»æŒ‘ï¼Œçƒçš„å¼¹åŠ›ä¸å¤Ÿå¾ˆéš¾è¿‡ç½‘ ååœºçƒæŒ¥æ‹æ‰£æ€å§¿åŠ¿è¦å¥½å¥½ç»ƒ ç»ƒå¥½æ‰£çƒæ‰èƒ½å¾—åˆ†èµ¢çƒ æ‰“çƒå§¿åŠ¿è¦å½•è§†é¢‘çœ‹æ˜¯å¦æ­£ç¡®ï¼Œå¯èƒ½è‡ªå·±è§‰å¾—æ­£ç¡®ï¼Œå®é™…æ˜¯é”™çš„ã€‚ æ¡æ‹æ‰‹åŠ¿å’ŒæŒ¥æ‹å§¿åŠ¿æ˜¯åŸºç¡€ï¼ï¼ï¼ è¦æœ‰åˆšæœ‰æŸ”, æ‰èƒ½å¯¹çƒæ§åˆ¶è‡ªå¦‚ã€‚","link":"/posts/%E7%BE%BD%E6%AF%9B%E7%90%83%E9%80%9F%E6%88%90/"},{"title":"è‡ªåŠ¨æ ¼å¼åŒ–-md,js,css,htmlç­‰","text":"è‡ªåŠ¨æ ¼å¼åŒ–mdæ–‡æ¡£æ–‡æ¡£é“¾æ¥ ç”¨VSCodeç¼–è¾‘å™¨å®‰è£…markdownlintæ‰©å±• ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–éœ€è¦åœ¨settings.jsonä¸­é…ç½® æ‰“å¼€setting.jsonæ–¹æ³•æŒ‰command+p,è¾“å…¥settings.json 123&quot;editor.codeActionsOnSave&quot;: { &quot;source.fixAll.markdownlint&quot;: true} å³å¯ç”Ÿæ•ˆ jsæ–‡ä»¶è‡ªåŠ¨æ ¼å¼åŒ–å°è¯•äº†ç”¨Prettier, å‘ç°é…ç½®é¡¹æ²¡æœ‰ç›´æ¥ç”¨ESLintå¤šï¼Œæ”¹ç”¨ESLint ESLintè¶Ÿå‘ å®˜æ–¹æ–‡æ¡£ ä¸­æ–‡æ–‡æ¡£ ä¹ æƒ¯ç”¨VSCodeæ‰©å±•çš„ç”¨æˆ·ï¼Œé»˜è®¤ä¼šå…ˆåœ¨æ‰©å±•å¸‚åœºç›´æ¥æœç´¢æ’ä»¶ï¼Œç„¶åå†settings.jsonä¸­ä¿®æ”¹é…ç½®é¡¹æ¥ä½¿æ’ä»¶ç”Ÿæ•ˆã€‚è¿™æ ·çš„æ€ç»´æƒ¯æ€§å¯¼è‡´äº†ESLintæ’ä»¶çš„åˆå§‹åŒ–å·¥ä½œç›´æ¥è¢«å¿½ç•¥æ‰ï¼Œä¸€ç›´ä¸ç”Ÿæ•ˆã€‚ é¦–å…ˆéœ€è¦è¦æŒ‰ç…§ESLintçš„æ–‡æ¡£æ¥åˆå§‹åŒ– å¯¹åº”æ–‡æ¡£æŒ‡å— å…ˆå†³æ¡ä»¶ï¼šNode.js (&gt;=6.14), npm version 3+ã€‚ ä½ å¯ä»¥ä½¿ç”¨ npm å®‰è£… ESLintï¼š åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ npm install eslint --save-dev ç´§æ¥ç€ä½ åº”è¯¥è®¾ç½®ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼š ./node_modules/.bin/eslint --init æˆ–npx --init è¿™ä¸ªå‘½ä»¤æ‰§è¡Œå®Œåä¼šè‡ªåŠ¨ç”Ÿæˆeslintrc.jsæ–‡ä»¶ ä¹‹åï¼Œä½ å¯ä»¥åœ¨ä»»ä½•æ–‡ä»¶æˆ–ç›®å½•ä¸Šè¿è¡ŒESLintå¦‚ä¸‹ï¼š ./node_modules/.bin/eslint yourfile.js ä»¥ä¸Šåˆå§‹åŒ–å·¥ä½œå°±å®Œæˆäº†ã€‚ æ¥ä¸‹æ¥å¼€å§‹è‡ªåŠ¨æ ¼å¼åŒ–çš„å„ç§é…ç½® åœ¨VSCodeä¸­å¦‚ä¸‹é…ç½®(é…ç½®è¯´æ˜) 123&quot;eslint.autoFixOnSave&quot;: true,&quot;eslint.alwaysShowStatus&quot;: true,&quot;eslint.run&quot;: &quot;onSave&quot;, è®¾ç½®è‡ªå·±çš„ä»£ç é£æ ¼ è§„åˆ™åˆ—è¡¨ å› ä¸ºå…¬å¸æœ‰è‡ªå·±çš„ä»£ç æ ¼å¼æ ¡éªŒï¼Œæ‰€ä»¥è¿™é‡Œçš„é…ç½®æ˜¯å’Œå…¬å¸ä»£ç é£æ ¼ä¸€è‡´çš„ï¼Œä¸åŒçš„é…ç½®å¯ä»¥æŒ‰ç…§è§„åˆ™è‡ªå·±é…ç½® 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465/** * @file: file * @author: believeZJP */module.exports = { 'env': { 'browser': true, 'commonjs': true, 'es6': true }, 'extends': 'eslint:recommended', 'globals': { 'Component': 'readonly', 'swan': 'readonly', 'Page': 'readonly', 'getApp': 'readonly', 'Atomics': 'readonly', 'SharedArrayBuffer': 'readonly' }, 'parserOptions': { 'ecmaVersion': 2018, 'sourceType': 'module' }, 'rules': { 'semi': ['error', 'always'], // æ“ä½œç¬¦åœ¨è¡Œé¦– 'operator-linebreak': ['error', 'before'], // åˆ é™¤æœ€åä¸€ä¸ªé€—å· 'comma-dangle': ['error', 'never'], // å¯¹è±¡ä¸¤è¾¹åŠ ç©ºæ ¼ 'object-curly-spacing': ['error', 'always'], // æ•°ç»„ç±»å‹å·¦å³ä¸åŠ ç©ºæ ¼ 'array-bracket-spacing': ['error', 'never'], // è®¡ç®—å±æ€§ç±»å‹åŠ ç©ºæ ¼ï¼ŒåŒä¸Š 'computed-property-spacing': ['error', 'never'], // æ“ä½œç¬¦åŠ ç©ºæ ¼ 'space-infix-ops': ['error', { 'int32Hint': true }], // åˆ é™¤å¤šä½™ç©ºæ ¼å’Œç©ºè¡Œ 'no-multi-spaces': 'error', // ç¦æ­¢è¡Œå°¾ç©ºæ ¼ 'no-trailing-spaces': 'error', // æ–¹æ³•å‚æ•°æ˜¯å•ä¸ªæ˜¯ä¸åŠ æ‹¬å· 'arrow-parens': ['error', 'as-needed'], // consoleè­¦å‘Š 'no-console': ['error', { allow: ['warn'] }], // è¦æ±‚ä½¿ç”¨ === å’Œ !== (eqeqeq) 'eqeqeq': ['error', 'always'], // å‡½æ•°åœ†æ‹¬å·ä¹‹å‰æœ‰ä¸€ä¸ªç©ºæ ¼ 'space-before-function-paren': ['error', 'never'], // å¤§æ‹¬å·ä¹‹å‰æœ‰ç©ºæ ¼ 'block-spacing': ['error', 'always'], // è¯­å¥å—ä¹‹å‰çš„ç©ºæ ¼ 'space-before-blocks': ['error', 'always'], // å¯¹è±¡å­—é¢é‡çš„é”®å’Œå€¼ä¹‹é—´ä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ 'key-spacing': ['error', { 'afterColon': true, 'beforeColon': false }], // ä½¿ç”¨éª†é©¼æ‹¼å†™æ³• 'camelcase': ['error', { allow: ['Component'] }], // æ–‡ä»¶æœ«å°¾ä¿ç•™ä¸€è¡Œç©ºè¡Œ 'eol-last': ['error', 'always'], 'no-multiple-empty-lines': ['error', { 'max': 2, 'maxEOF': 1 }], // å•å¼•å· 'quotes': ['error', 'single'] }}; è¯´æ˜:globals: æ˜¯ä¸ºäº†å¿½ç•¥ä¸€äº›å…¨å±€å˜é‡æ²¡æœ‰å®šä¹‰çš„æŠ¥é”™rules: æ˜¯å¯¹åº”çš„è¯¦ç»†è§„åˆ™ï¼Œæœ‰äº›è§„åˆ™æŸ¥ä¸åˆ°çš„å¯ä»¥å…ˆæŸ¥è¯¢æŠ¥é”™ä¿¡æ¯å†æ‰¾å¯¹åº”çš„é…ç½®ä¼šå®¹æ˜“ç‚¹ï¼Œå®˜ç½‘çš„è§„åˆ™è§£é‡Šä¸æ˜¯å¾ˆæ¸…æ¥š å¦‚ä¸Šé…ç½®ï¼Œå³å¯è‡ªåŠ¨æ ¼å¼åŒ–å¤§éƒ¨åˆ†ä»£ç é”™è¯¯ ä½†è¯­æ³•é”™è¯¯ä»€ä¹ˆçš„éœ€è¦æ‰‹åŠ¨è§£å†³ çœ‹åˆ°æœ‰çš„äººç”¨husky+lint-staged ä½†è¿™ä¸ªæ˜¯åœ¨æäº¤ä»£ç ä¹‹å‰æ ¡éªŒï¼Œå› ä¸ºè¿™é‡Œå·²ç»åœ¨onSaveæ—¶æ ¼å¼åŒ–äº†ï¼Œæ‰€ä»¥æ²¡å¿…è¦åŠ è¿™æ­¥.(å½“ç„¶ï¼ŒåŠ äº†å¯ä»¥å¼ºåˆ¶æ ¡éªŒæäº¤çš„ä»£ç ) æ–°é¡¹ç›®å¯ä»¥å°è¯•ï¼Œæ—§é¡¹ç›®å› ä¸ºå†å²é—ç•™ä»£ç å°±æ²¡å¿…è¦äº†ã€‚ å‘å¸ƒä¸ºnpmåŒ… åœ¨é¡¹ç›®çš„eslintrc.jsä¸­å¼•ç”¨extends: lint-4bd è‡ªåŠ¨åŠ æ–‡ä»¶å¤´éƒ¨æ³¨é‡Šå…¬å¸è¦æ±‚jsæ–‡ä»¶å¿…é¡»åŠ æ–‡ä»¶å¤´ï¼Œæ‰€ä»¥è¿™é‡Œç”¨æ’ä»¶è§£å†³ æ’ä»¶å: koro1FileHeader åœ¨VSCodeæ‰©å±•å¸‚åœºæœç´¢ç›´æ¥å®‰è£…è¦æ³¨æ„ï¼Œæœç´¢åå­—æ˜¯koroFileHeaderæ²¡æœ‰1é…ç½® 12345678910111213&quot;fileheader.customMade&quot;: { &quot;file&quot;: &quot;file&quot;, &quot;author&quot;: &quot;believeZJP&quot;, }, &quot;fileheader.configObj&quot;: { &quot;autoAdd&quot;: false, &quot;language&quot;: { &quot;js&quot;: { &quot;head&quot;: &quot;/**&quot;, &quot;middle&quot;: &quot; * @&quot;, &quot;end&quot;: &quot; */&quot; }, } é…ç½®è‡ªå®šä¹‰æ—¶å‘ç°å¯¹å…¨å±€ä¿®æ”¹ä¸ç”Ÿæ•ˆï¼Œå¿…é¡»æŒ‡å®šè¯­è¨€è¿›è¡Œä¿®æ”¹ï¼Œå¦‚ä¸Šçš„jsã€‚ autoAddè®¾æˆfalseæ¯”è¾ƒå¥½ï¼Œè¿™ä¸ªæ’ä»¶ä¸èƒ½è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶é‡Œæ˜¯å¦å·²ç»å­˜åœ¨æ³¨é‡Šï¼Œä¼šæ·»åŠ å¤šä¸ª éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯æ¬¡ä¿®æ”¹settings.jsonåè¦é‡å¯VSCode","link":"/posts/%E8%87%AA%E5%8A%A8%E6%A0%BC%E5%BC%8F%E5%8C%96-md-js-css-html%E7%AD%89/"},{"title":"è‡ªå·±å®ç°EventBus","text":"","link":"/posts/%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0EventBus/"},{"title":"è¡Œä¸šæœ¯è¯­","text":"è½¯ä»¶è¡Œä¸šæœ¯è¯­ è½¯ä»¶å¼€å‘ä¸­é‡åˆ°çš„æ‰€æœ‰é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¢åŠ ä¸€å±‚æŠ½è±¡è€Œå¾—ä»¥è§£å†³ã€‚ è¿‡æ—©çš„ä¼˜åŒ–å¹¶ä¸æ˜¯ä¸€ä»¶å¥½äº‹ã€‚ ä»£ç å¼€å‘ä¸­, éš¾ç‚¹æœ‰æ—¶ä¸æ˜¯å®ç°çš„æ€è·¯ï¼Œ è€Œæ˜¯ç»†èŠ‚çš„å¤„ç† å¸¸æ•°å˜æ˜“æ³• å°æ­¥èµ°ï¼ŒåŠæ—¶åé¦ˆ äººç±»çš„æ€è€ƒä¹ æƒ¯æ˜¯ä»å…·ä½“åˆ°æŠ½è±¡ å¯ä»¥ä»æŸä¸ªå…·ä½“çš„æƒ…å†µå…¥æ‰‹ï¼ŒæŠŠæ‰€æœ‰å˜åŒ–çš„è¦ç´ éƒ½å›ºå®šä¸‹æ¥ ä»æœ€ç®€å•çš„æƒ…å†µå…¥æ‰‹ï¼Œå†é€æ­¥æ‰©å±•åˆ°å¤æ‚æƒ…å†µ æŠ›å¼€å˜åŒ– å˜åŒ–ä¼šå¹²æ‰°æˆ‘ä»¬çš„æ€è·¯ï¼Œå…ˆæŠŠå˜çš„ä¸œè¥¿å›ºå®šæ­»ï¼Œå†™å‡ºåº”å¯¹æ­»æ•°æ®çš„å¤„ç†è¿‡ç¨‹ æ‰¾è§„å¾‹ ä»å¯¹æ­»æ•°æ®çš„å¤„ç†è¿‡ç¨‹ä¸­æ‰¾è§„å¾‹ï¼Œæœ‰æ—¶å¯ä»¥é€šè¿‡é€‚å½“å˜æ¢ä½¿å¾—è§„å¾‹ä¸€è‡´ ä»£æ¢ æŠŠå¸¸é‡ä»£æ¢ä¸ºå˜é‡ï¼Œå¹¶ä¿æŒç¨‹åºæ‰§è¡Œçš„ç»“æœ ä¼šå¤šè¯­è¨€çš„å¥½å¤„ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„åœºæ™¯å’Œè¦æ±‚æ¥å†³å®šä½¿ç”¨å“ªç§è¯­è¨€å®ç°æŸäº›åŠŸèƒ½ã€‚ è¯»ä¹¦åƒéå…¶ä¹‰è‡ªè§ ç®€åŒ–çŸ¥è¯†ç‚¹â€“è¯»ä¹¦è¯»ç›®å½• å¤šè¯»ä¹¦ï¼Œ çœ‹ä¸æ‡‚ä¹Ÿè¦çœ‹å®Œï¼ŒçŸ¥è¯†æ˜¯é€’å½’ç»“æ„","link":"/posts/%E8%A1%8C%E4%B8%9A%E6%9C%AF%E8%AF%AD/"},{"title":"è®¡ç®—æœºå°çŸ¥è¯†","text":"é›¶å®½å­—ä½“åˆ—è¡¨ æ‰¾åˆ°ç©ºçš„å­—ç¬¦ æ‰¾åˆ°ç©ºå­—ç¬¦çš„ç¼–ç , å¦‚U+034F å°†U+æ¢æˆ\\u åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ copy('\\u034F') å³å¯ç²˜è´´åˆ°èŠå¤©è¾“å…¥æ¡† ç«ç‹æœ€æ–°ç‰ˆå®Œæ•´å®‰è£…åŒ…ï¼šhttp://download.firefox.com.cn/releases/full/zh-CN/Firefox-full-latest.exe","link":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/"},{"title":"è°ƒè¯•ç»éªŒ","text":"[TOC] å¾®ä¿¡é‡Œè®¿é—®é¡µé¢å‡ºé”™ï¼Œæµè§ˆå™¨è®¿é—®æ²¡é”™åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€è¯¥é“¾æ¥ï¼Œå¯ä»¥æ¨¡æ‹Ÿå¾®ä¿¡è®¿é—®é“¾æ¥ æ‰‹æœºè®¿é—®æœ¬åœ°æœåŠ¡è®¾ç½® æ‰‹æœºâ€“æ— çº¿å±€åŸŸç½‘â€“é€‰æ‹©é“¾æ¥çš„wifiâ€“é…ç½®DNSâ€“æ”¹ä¸ºæ‰‹åŠ¨ï¼Œæ·»åŠ æœ¬åœ°æœºå™¨çš„IPã€‚ ç”¨æ‰‹æœºè®¿é—®æœ¬æœºIPåŠ æœåŠ¡åœ°å€å³å¯è®¿é—®æœ¬åœ°æœåŠ¡. åœ¨é¡µé¢ä¸­åŠ è°ƒè¯•å·¥å…·vConsole ä¸€ä¸ªè½»é‡ã€å¯æ‹“å±•ã€é’ˆå¯¹æ‰‹æœºç½‘é¡µçš„å‰ç«¯å¼€å‘è€…è°ƒè¯•é¢æ¿ã€‚ 123456&lt;script src=&quot;https://cdn.bootcss.com/vConsole/3.2.0/vconsole.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt; // init vConsole var vConsole = new VConsole(); console.log('Hello world');&lt;/script&gt; å‡ºé”™è¦çœ‹å¼‚å¸¸é”™è¯¯ç , 302 Not Found ä¸ºè¯·æ±‚é“¾æ¥æœªæ‰¾åˆ°ã€‚ä¼šå¯¼è‡´å¼‚å¸¸","link":"/posts/%E8%B0%83%E8%AF%95%E7%BB%8F%E9%AA%8C/"},{"title":"è·‘æ­¥è®­ç»ƒåŠç»éªŒ","text":"è·‘æ­¥å§¿åŠ¿èº«ä½“å¾®å¾®å‰å€¾ï¼ŒåŒè‡‚å°½å¯èƒ½è´´è¿‘èº«ä½“ï¼Œå‰åæ‘†åŠ¨ èº«ä½“ç›´ç«‹ï¼Œé‡å¿ƒç¨å‘å‰ï¼Œä¿æŒèº«ä½“ç¨³å®š æ‘†è‡‚æŠ€æœ¯ å‰ä¸æ¼è‚˜åä¸æ¼æ‰‹ ï¼Œ çŸ­è·‘å¯ä»¥å¤§å¹…åº¦ï¼Œé•¿è·‘å°å¹…åº¦ å¤§è‡‚å°è‡‚å‘ˆ90åº¦æˆ–å°äº90åº¦ ä¸èƒ½è€¸è‚© ä¸è¦å·¦å³æ‘†è‡‚ ä¸‰ä¸ªåŸºç¡€ç»ƒä¹ é™ä½å—ä¼¤å‡ ç‡ï¼Œä¿è¯å®‰å…¨å¥åº·è·‘æ­¥ ç»ƒä¹ ä¸€ï¼Œ æè¸µæé«˜å°è…¿è‚Œè‚‰åŠ›é‡åŠè·Ÿè…±å¼ºåº¦ æŠ¬è„šåè·Ÿï¼Œå°½å¯èƒ½æåˆ°æœ€é«˜å¹…åº¦ï¼ŒåŒè…¿åŠ ç´§ é‹å­å‰é¢çš„çº¿å‘ˆä¸€å­—å‹ æ³¨æ„äº‹é¡¹ï¼š åŠ¨ä½œæ ‡å‡†æ€§ é€Ÿåº¦ä¸€å®šè¦æ…¢ï¼Œè¶³ä¸‹æ”¯æ’‘åŠ›é‡ä¸è¶³ä¼šå¯¼è‡´è…±é˜ç‚ ä¸€å®šè¦åšæ­£ç¡®ï¼Œä¸ç„¶ä¸å¦‚ä¸åš ç»ƒä¹ äºŒã€å¼“æ­¥ä¸Šä¸‹èµ·åŠ å¼ºè†ç›–åŠ›é‡å’Œå¤§è…¿è‚¡å››å¤´è‚ŒåŠ›é‡ï¼Œé¿å…è·‘æ­¥æ—¶çš„è†ç›–ä¼¤å®³ å¼“æ­¥ä¸Šä¸‹è¿åŠ¨ï¼Œèº«ä½“ç›´ç«‹ï¼Œå°è…¿å‡ ä¹ä¸åŠ¨ï¼Œé å¤§è…¿ä¸Šä¸‹æµ®åŠ¨ï¼Œé€Ÿåº¦è¦æ…¢ï¼Œ æ¯æ¬¡åŠ¨æ€åšå®Œåšä¸€æ¬¡é™åŠ›ï¼Œæ„Ÿè§‰è…¿å¾ˆé…¸èƒ€æ‰æœ‰æ•ˆæœ ç»ƒä¹ ä¸‰ã€é«‹éƒ¨ç»ƒä¹ ä¸‰éƒ¨æ›²å¢åŠ è…°éƒ¨åŠ›é‡ã€‚é«‹éƒ¨æ²¡æœ‰åŠ›é‡ï¼Œåªèƒ½ç”¨å¤§è…¿æ‹–ç€è·‘ï¼Œä¼šé€ æˆè…¿ç²—ã€‚ æ­£èµ·æ­£è¸¢ï¼Œèº«ä½“ç›´ç«‹ å¾€å‰è¸¢ï¼Œèº«ä½“ä¸è¦åä»°ï¼Œä¸­é—´ä¸å¯ä»¥è½åœ°ï¼Œ èº«ä½“ä¸è¦æ­ªï¼Œä¸­é—´è…¿ä¸è¦è½åœ° å‰ï¼Œä¾§ï¼Œå ä¸‰ä¸ªç»ƒä¹ ä¸¤ä¸ªæœˆåï¼Œè·‘æ­¥ä¼šéå¸¸è½»æ¾~~~~~ å‚èµ›è·‘æ­¥è®­ç»ƒä¸€å¹´ä»¥ä¸Šï¼Œæ¯å‘¨è®­ç»ƒé‡è¶…è¿‡åŠé©¬30å…¬é‡Œï¼Œå…¨é©¬60å…¬é‡Œ å…·å¤‡2åˆ°3æ¬¡ï¼Œ35åˆ°38å…¬é‡Œ è®­ç»ƒè®¡åˆ’ æ¯”èµ›æ³¨æ„äº‹é¡¹ é¢‘ç¹æŠ½ç­‹ çªç„¶è§‰å¾—å¾ˆç´¯ï¼Œç›´æ¥ååˆ°è·¯è¾¹ å†²åˆºä¹‹åç«‹å³ä¼‘æ¯ æ‘†è…¿åŠ¨ä½œåæ”¶å‰æ‘†è¿è´¯ æ­¥å¹…æ…¢å°å¿«å¤§ å‰æ‘†åˆ°ä½ï¼Œè†ç›–ä¸Šæ é«˜çº§æŠ€å·§é€é«‹â€“ï¼Ÿï¼Ÿï¼Ÿ","link":"/posts/%E8%B7%91%E6%AD%A5%E8%AE%AD%E7%BB%83%E5%8F%8A%E7%BB%8F%E9%AA%8C/"},{"title":"é“¾è¡¨","text":"å•å‘é“¾è¡¨é“¾è¡¨èŠ‚ç‚¹å®šä¹‰-Node 123456class Node { constructor(el) { this.el = el; this.next = null; }} é“¾è¡¨-LinkedList 1234567891011121314151617class LinkedList { constructor() { this.head = new Node('head'); } // æŸ¥æ‰¾ find() { } // æ’å…¥èŠ‚ç‚¹ insert() { } // åˆ é™¤èŠ‚ç‚¹ remove() { }} æŸ¥æ‰¾èŠ‚ç‚¹ 123456789function find(item) { // ä»é“¾è¡¨çš„å¤´èŠ‚ç‚¹å¼€å§‹éå† let currentNode = this.head; while(currentNode &amp;&amp; currentNode.el !== item) { currentNode = currentNode.next; } return currentNode;} æ’å…¥èŠ‚ç‚¹ 1234567function insert(el, item) { const newNode = new Node(el); const currentNode = this.find(item); // å°†å½“å‰èŠ‚ç‚¹çš„nextç»™äº†æ–°èŠ‚ç‚¹çš„next newNode.next = currentNode.next; currentNode.next = newNode;} åˆ é™¤èŠ‚ç‚¹ åˆ é™¤å½“å‰èŠ‚ç‚¹è¦æ‰¾åˆ°å½“å‰èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å°†ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘ä¸‹ä¸€ä¸ª 123456789101112131415function findPre(item) { let node = this.head; while(node.next !== null &amp;&amp; node.next.el !== item) { node = node.next; } return node;}function remove(item) { const preNode = this.findPre(item); if (preNode.next !== null) { // æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿™è¡Œä»£ç å¾ˆå…³é”® preNode.next = preNode.next.next; }} å®Œæ•´ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// å®šä¹‰å•ä¸ªèŠ‚ç‚¹class Node { constructor(el) { this.el = el; this.next = null; }}class LinkedList { constructor() { this.head = new Node('head'); } // ç”¨äºæŸ¥æ‰¾ find(item) { let node = this.head; while (node !== null &amp;&amp; node.el !== item) { node = node.next; } return node; } findPrev(item) { let node = this.head; while (node.next !== null &amp;&amp; node.next.el !== item) { node = node.next; } return node; } // æ’å…¥èŠ‚ç‚¹ insert(el, item) { const newNode = new Node(el); const currentNode = this.find(item); newNode.next = currentNode.next; currentNode.next = newNode; } // åˆ é™¤èŠ‚ç‚¹ remove(item) { const prevNode = this.findPrev(item); if (prevNode.next !== null) { // æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿™è¡Œä»£ç å¾ˆå…³é”® prevNode.next = prevNode.next.next; } }} åŒå‘é“¾è¡¨å®šä¹‰èŠ‚ç‚¹ 1234567class Node() { constructor(el) { this.el = el; this.prev = null; this.next = null; }} æŸ¥æ‰¾åŒå•å‘é“¾è¡¨ æ’å…¥èŠ‚ç‚¹ 1234567891011function insert(el, item) { const newNode = new Node(el); const currentNode = this.find(item); // å…ˆå°†æ–°èŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘å¯¹åº”ä½ç½® newNode.next = currentNode.next; newNode.prev = currentNode; // å°†å½“å‰èŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹ currentNode.next = newNode; // å½“å‰èŠ‚ç‚¹çš„nextèŠ‚ç‚¹çš„prevæŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹ currentNode.next.prev = newNode;} åˆ é™¤èŠ‚ç‚¹ 12345678function remove(item) { const node = this.find(item); node.prev.next = node.next; node.next.prev = node.prev; node.prev = null; node.next = null;}","link":"/posts/%E9%93%BE%E8%A1%A8/"},{"title":"é¡¹ç›®ä½¿ç”¨standardè§„èŒƒå¹¶ç”¨eslintè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ","text":"åœ¨vscodeæ’ä»¶ä¸­å®‰è£…standardæ’ä»¶ å…ˆç¦ç”¨ï¼Œå†åœ¨å·¥ä½œåŒºå¯ç”¨ï¼Œå³å¯åªåœ¨å½“å‰å·¥ä½œåŒºç”Ÿæ•ˆ åœ¨é¡¹ç›®ä¸­å®‰è£…standardå’Œeslintnpm i eslint standard -D åœ¨å‘½ä»¤è¡Œæ‰§è¡Œeslint --initåˆå§‹åŒ–ç”Ÿæˆ.eslintrc.jsæ–‡ä»¶ ç”Ÿæˆè¿‡ç¨‹ä¸­æ ¹æ®è‡ªå·±éœ€æ±‚é€‰æ‹©å³å¯ åœ¨vsCodeé…ç½®ä¸­(setting.json)å¢åŠ å¦‚ä¸‹é…ç½®, å³å¯è‡ªåŠ¨æ ¼å¼åŒ– 123&quot;standard.run&quot;: &quot;onSave&quot;,&quot;standard.autoFixOnSave&quot;: true,&quot;javascript.validate.enable&quot;: false","link":"/posts/%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8standard%E8%A7%84%E8%8C%83%E5%B9%B6%E7%94%A8eslint%E8%87%AA%E5%8A%A8%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%BB%A3%E7%A0%81/"},{"title":"é©¾ç…§å­¦ä¹ ","text":"ä¼˜é€‰æµ·æ·€é©¾æ ¡ å¥½å¤„ï¼šç»ƒè½¦ä¸ç¼ºåœºåœ° è€ƒè¯•é€šè¿‡ç‡é«˜ è€ƒå‰æœ‰ä¸€æ¬¡å…è´¹çš„é›†è®­ ç»éªŒï¼š 1. ä¸è¦å®Œç¾å¿ƒæ€ï¼š åªè¦èƒ½å€’è¿›åº“ä¸å‹çº¿ï¼Œ ä¸å‡ºåº“å°±è¡Œï¼Œæ–¹å‘æ­£ä¸æ­£æ— æ‰€è°“ 2. ç¦»åˆä¸€å®šè¦æ—¶åˆ»å‹å¥½ï¼Œæ‰‹åˆ¹æ²¡æ‹‰å¥½ï¼Œ æ¡£ä½ä¸åœ¨ç©ºæŒ¡ï¼Œåˆ¹è½¦æ²¡è¸©ç´§ ï¼Œéƒ½ä¸èƒ½æ¾ç¦»åˆï¼ï¼ï¼ï¼ 3. è½¦é€Ÿä¸€å®šè¦æ…¢ 4. åƒä¸‡ä¸èƒ½ç†„ç« ï¼Œä¸€ç†„ç«å°±å®Œäº† 5. ä¸€æŒ¡ï¼ŒäºŒç¯ï¼Œä¸‰å–‡å­ï¼Œå››çœ‹é•œï¼Œ äº”ç¦»åˆï¼Œå…­æ‰‹åˆ¹ã€‚ 6. æ¾æ‰‹åˆ¹è¯€çªï¼š æ¾ä¹‹å‰ï¼Œå¾€ä¸Šæ‹‰ä¸€ç‚¹ï¼ŒæŒ‰ä¸‹æŒ‰é’® ï¼Œä¸‹å‹åˆ°åº•ï¼Œå¦‚æœæŒ‰ä¸åŠ¨æŒ‰é’®ï¼Œ å°±å¾€ä¸Šæ‹‰ä¸€ç‚¹ï¼Œå°±å¯ä»¥äº†ã€‚ 7. å¶å°”æŒ‚ä¸ä¸Šå€’æŒ¡ï¼š ä¸è¦å¤ªå¿« ï¼Œé åˆ°æœ€å³ä¾§ï¼Œä½¿åŠ²å¾€åä¾§å‹ï¼Œ 8. åˆ°ç‚¹åæ‰“æ–¹å‘ç›˜ä¸€å®šè¦å¿«ã€‚ ç§‘äºŒï¼šä¸Šè½¦ä¸‰è¦ç´ ï¼š 1. è°ƒåº§ä½ï¼Œè¦é¢†ï¼šèƒ½å°†ç¦»åˆå™¨è¸©åˆ°åº•ã€‚ åŒæ‰‹ä¼¸å‡ºï¼Œæ‰‹è…•æ­£å¥½è¶…è¿‡æ–¹å‘ç›˜ã€‚ 2. è°ƒåè§†é•œ è¦é¢†ï¼šé—¨æŠŠæ‰‹ä¸Šçš„å°é»‘ç‚¹æ­£å¥½åœ¨é•œå­ä¸Šæ²¿ã€‚ è½¦èº«å é•œå­çš„1/3 å·¦ä¾§åè§†é•œè¦èƒ½çœ‹åˆ°åè½¦è½®ï¼Œå³ä¾§çš„çœ‹ä¸åˆ°ã€‚ 3. ç³»å®‰å…¨å¸¦ï¼ï¼ï¼ å€’è½¦å…¥åº“ï¼š 1. å…¥åº“æ ‡å‡†ã€‚å·¦ä¾§åè§†é•œçš„ä¸‹æ²¿ç¨å¾® è¶…è¿‡åº“å£çš„ç™½çº¿å³å¯åœè½¦ã€‚ 2. å‡ºåº“ è½¦å¤´åˆ°7ç±³çº¿æ—¶ç«‹åˆ»æ‰“æ–¹å‘ç›˜ã€‚ 3. è¿›åº“å‰å‡†å¤‡ï¼š 1. èº«ä½“ä¸åº“çº¿å¹³è¡Œï¼Œå³æ‰“ä¸€åœˆ 2. å·¦åè§†é•œè¿›å…¥åº“åŒº ï¼Œå·¦åè§†é•œæœ€å¤–æ²¿è¿›å…¥ç™½çº¿ï¼Œå·¦æ‰“ä¸¤åœˆ 3. å¾…è½¦èº«ä¸åº“å¹³è¡Œï¼Œå›æ­£ï¼ˆå³æ‰“ä¸€åœˆï¼‰ å³å€’åº“å£è¯€ï¼š 1. å‘å³1åœˆåŠï¼Œ å¼€è½¦åˆ°7ç±³çº¿ï¼Œ 2. å‘å·¦ä¸€åœˆåŠ åˆ°å³ä¾§çš„ç™½çº¿--è¶…è¿‡åè§†é•œä¸€æŒ‡å®½çš„è·ç¦» 3. å‘å³ä¸€åœˆåŠ åè§†é•œåº•éƒ¨ä¸å³ä¾§ç™½çº¿é‡åˆ 4. å‘å·¦ä¸€åœˆ å³ä¾§åº“ç›´è§’è·è½¦èº«30å…¬åˆ†ï¼ˆç™½çº¿å®½10å…¬åˆ†ï¼Œå¤§çº¦æ˜¯ä¸¤å€ç™½çº¿å®½æ—¶ç«‹é©¬ æ‰“æ–¹å‘ç›˜ï¼‰ 5. å‘å³ä¸€åœˆ å³ä¾§åº“è§’ä»åè§†é•œæ¶ˆå¤± 6. å‘å·¦ä¸¤åœˆ è½¦èº«å›æ­£ 7. åœè½¦ å·¦ä¾§åè§†é•œç¨å¾®è¶…è¿‡ç™½çº¿ä¸€ç‚¹ å·¦å€’åº“å£è¯€ï¼š 1. å‘å·¦ä¸€åœˆåŠ å¼€è½¦åˆ°7ç±³çº¿ 2. å‘å³ä¸€åœˆåŠ åˆ°å·¦ä¾§çš„ç™½çº¿è¶…è¿‡åè§†é•œä¸€æŒ‡å®½çš„è·ç¦» 3. å‘å·¦ä¸€åœˆåŠ åè§†é•œåº•éƒ¨ä¸å³ä¾§ç™½çº¿é‡åˆ 4. å‘å³ä¸€åœˆ å·¦ä¾§ç›´è§’è·è½¦èº«30å…¬åˆ†ï¼ˆè¿™é‡Œçš„30å…¬åˆ†å’Œå·¦ä¾§çš„ä¸åŒï¼Œè§’åˆšå‡ºæ¥ç‚¹ å°±ç«‹åˆ»å·¦å›ä¸€åœˆï¼‰ 5. å‘å·¦ä¸€åœˆ å·¦ä¾§åº“è§’ä»å·¦ä¾§åè§†é•œæ¶ˆå¤± 6. å‘å³ä¸¤åœˆ è½¦èº«å›æ­£ 7. åœè½¦ å·¦ä¾§åè§†é•œç¨å¾®è¶…è¿‡ç™½çº¿ä¸€ç‚¹ ç›´è§’è½¬å¼¯å£è¯€ï¼š 1.è¿›å…¥ç›´è§’å‰ï¼Œæ–¹å‘ç›˜ï¼Œ è½¦åº§å’Œè·¯ä¸­é—´çš„ç›´è§’è½¬å¼¯æç¤ºçº¿æˆä¸€æ¡ç›´çº¿ï¼Œ 2. å¾…æ–¹å‘ç›˜ä¸ç›´è§’è½¬å¼¯çš„çº¿å¹³è¡Œæ—¶ï¼Œ å·¦æ‰“æ­»ï¼Œä¸€åœˆåŠï¼Œ 3. è½¦èº«ä¸è·¯å¹³è¡Œæ—¶ï¼Œå›æ­£ã€‚ æ›²çº¿è¡Œé©¶å£è¯€ï¼š 1.ä¿è¯è½¦å§‹ç»ˆåœ¨è·¯ä¸­é—´ï¼Œè¿™ä¸ªæ²¡æœ‰å›ºå®šçš„å£è¯€ï¼Œ éœ€è¦æ ¹æ®ä¸åŒçš„æ›²çº¿å…·ä½“ç¡®å®šä»€ä¹ˆæ—¶å€™åŠ¨æ–¹å‘ç›˜ ï¼Œæ— è®ºå¦‚ä½•ç¡®ä¿è½¦èº«ä¸å‡ºå¼¯é“ ä¾§æ–¹åœè½¦å£è¯€ï¼š 1. æ–¹å‘ç›˜ä¸è·¯ä¸­çš„ç›´è¡Œç®­å¤´åœ¨ä¸€æ¡ç›´çº¿ï¼Œæ‰“å³ç¯ï¼ˆï¼ï¼ï¼ï¼‰ï¼Œ 2. è½¦å¤´åˆšå¥½è¿‡ç™½çº¿æ—¶ï¼Œåœè½¦ï¼Œ 3. å€’è½¦ï¼Œå³ä¾§åè§†é•œçš„è™šçº¿æ¶ˆå¤±æ—¶ï¼Œç«‹åˆ»å³æ‰“æ­»ï¼Œï¼ˆå³ä¸€åœˆåŠï¼‰ 4. å·¦ä¾§ é‡Œè¾¹çš„åº“è§’åˆšå‡ºç°æ—¶ï¼Œå›æ­£ï¼ˆå·¦ä¸€åœˆåŠï¼‰ 5. å·¦ä¾§ åè½¦è½®è§¦ç¢°åˆ°ï¼Œæ³¨æ„ä¸æ˜¯å‹åˆ°åº“å£è™šçº¿ï¼Œå·¦æ‰“æ­»ï¼ˆå·¦ä¸€åœˆåŠï¼‰è¿™æ˜¯å…³é”®ç‚¹ï¼Œæ‰“æ™šäº†ä¼šå¯¼è‡´è¿›å¤ªå¤šï¼ï¼ 6. è½¦èº«ä¸åº“å¹³è¡Œï¼Œåœè½¦ï¼Œä¸å›æ­£ï¼ï¼ï¼ 7. æ‰“å·¦ç¯ï¼ˆï¼ï¼ï¼ï¼‰ï¼ŒæŒ‚ä¸€æ¡£ 8. å·¦è½¦è§’ä¸ç™½çº¿é‡åˆï¼Œå›æ­£(å³ä¸€åœˆåŠ) 9. è½¦å¤´åœ¨ç™½çº¿ä¸­é—´ï¼Œå³ä¸€åœˆï¼Œï¼ˆè¿™ä¸ªä¸8æ­¥æ—¶é—´é—´éš”å¾ˆçŸ­ï¼‰ 10. è½¦èº«ä¸ç™½çº¿å¹³è¡Œï¼Œå·¦ä¸€åœˆå›æ­£ã€‚ å¡é“å®šç‚¹èµ·æ­¥å£è¯€ï¼š 1. è¿›å…¥å¡é“ï¼Œæ–¹å‘ç›˜ï¼Œä¸æŒ‡ç¤ºç®­å¤´åœ¨ä¸€æ¡çº¿ä¸Šï¼Œæ‰“å³ç¯ï¼ˆï¼ï¼ï¼ï¼‰ 2. ä¸Šå¡å‰æ¾å¼€ç¦»åˆï¼Œå¿«åˆ°ç™½çº¿åŒºï¼Œå‹ç¦»åˆï¼Œæ”¾æ…¢è½¦é€Ÿ 3. å·¦ä¾§åè§†é•œä¸‹æ²¿ä¸é»„çº¿é‡åˆï¼Œè¸©æ­»åˆ¹è½¦ï¼Œåœè½¦ã€‚ 4. æ‹‰æ‰‹åˆ¹ï¼ˆï¼ï¼ï¼ï¼‰ï¼Œæ¾å¼€åˆ¹è½¦ï¼Œæ‰“å·¦ç¯ï¼ˆï¼ï¼ï¼ï¼‰ï¼Œä¸ç”¨åŠ¨æ¡£ï¼ˆï¼ï¼ï¼ï¼‰ 5. è¸©æ²¹é—¨ï¼Œæ¾ç¦»åˆï¼Œçœ‹è½¦å¤´æŠ¬èµ·ï¼Œä¿æŒæ²¹é—¨å’Œç¦»åˆä½ç½®ä¸åŠ¨ï¼ˆï¼ï¼ï¼ï¼‰ 6. æ¾å¼€æ‰‹åˆ¹ï¼Œå¾®æŠ¬ç¦»åˆï¼Œï¼ˆå¯ä»¥ä¸æŠ¬ï¼Œä¿æŒä¸åŠ¨ï¼‰ï¼Œå¦‚æœèµ·æ­¥ç¼“æ…¢çš„è¯ï¼Œè½°æ²¹é—¨ï¼Œ å¾…åˆ°å¡é¡¶åï¼Œæ¾æ²¹é—¨ï¼Œå¾®è¸©åˆ¹è½¦","link":"/posts/%E9%A9%BE%E7%85%A7%E5%AD%A6%E4%B9%A0/"},{"title":"é¢è¯•ç§¯ç´¯","text":"ç§¯ç´¯åŸºç¡€OSã€æ•°æ®ç»“æ„ä¸ç®—æ³•ã€ç½‘ç»œè¿™å‡ å—å†…å®¹æ˜¯å¿…é¡»è¦æŒæ¡çš„åŸºç¡€çš„ï¼Œè¿™äº›åŸºç¡€ä¸æ‰å®ï¼Œå¤©èŠ±æ¿åŠ¿å¿…ä¸é«˜ã€‚ åŸºç¡€ä¸å¥½è™½ç„¶ä¹ŸåŒæ ·èƒ½å¹²æ´»ï¼Œä½†æ˜¯å¤©èŠ±æ¿ä¸é«˜ä¼šå¯¼è‡´ä½ çš„æŠ€æœ¯æˆé•¿ä¼šéšç€å¹´é¾„å¢é•¿å˜å¾—è¶Šæ¥è¶Šä½ï¼Œæœ€åç»“æœä¹ŸåŸºæœ¬æ˜¯åœç•™äºäºŒä¸‰çº¿å…¬å¸ã€‚ å¤§éƒ¨åˆ†äººé—®åŸºç¡€çŸ¥è¯†ç‚¹è¿˜æ˜¯èƒ½å¤Ÿè¯´å‡ºæ¥çš„ï¼Œä½†æ˜¯ä»…é™äºçŸ¥é“ã€‚å¯¹äºå¦‚ä½•å°†å¤šä¸ªçŸ¥è¯†ç‚¹ä¸²è”èµ·æ¥æˆ–è€…çŸ¥è¯†ç‚¹çš„æ›´æ·±å±‚æ¬¡çš„é—®é¢˜å°±å¾ˆå°‘æœ‰äººèƒ½å¤Ÿç­”å¥½ã€‚ å»ºè®®å­¦å¥½è®¡ç®—æœºåŸºç¡€ æ¡†æ¶å­¦ä¹ æ¡†æ¶å‰ï¼Œæˆ‘è§‰å¾—ä½ åº”è¯¥å…ˆæ‰“å¥½åŸºç¡€ï¼Œè€Œä¸æ˜¯å¥½é«˜éª›è¿œçš„å…ˆä½¿ç”¨æ¡†æ¶ã€‚å†è€…ï¼Œå‡ å¤§çƒ­é—¨çš„æ¡†æ¶åº•å±‚çš„æ€æƒ³éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¹¶æ²¡æœ‰å“ªä¸ªå¥½å“ªä¸ªå·®ä¹‹åˆ†ã€‚ å­¦ä¹ ä¸€ä»¶äº‹ç‰©ï¼Œç†Ÿç»ƒä½¿ç”¨å®ƒæ˜¯åŸºæœ¬ï¼Œåœ¨ç†Ÿç»ƒä½¿ç”¨ä»¥åï¼Œåº”è¯¥è½¬è€Œå»å­¦ä¹ ä»–åº•å±‚çš„åŸç†æœºåˆ¶ï¼Œç”šè‡³è‡ªå·±å»å®ç°ä¸€ä¸ªç±»ä¼¼çš„ä¸œè¥¿ã€‚å½“ä½ è¿™æ ·å»åšçš„æ—¶å€™ï¼Œæ°¸è¿œä¸éœ€è¦æ‹…å¿ƒè‡ªå·±æ˜¯å¦ä¼šæ·˜æ±°ï¼Œå› ä¸ºä½ å·²ç»é¢†å…ˆæ‰€æœ‰åªä¼šç”¨ API çš„äººäº†ï¼Œè¿™éƒ¨åˆ†ç»å¯¹æ˜¯æœ€å¤šçš„ã€‚ æ€»ç»“æƒ³åœ¨é¢è¯•ä¸­è·å¾—å¥½çš„ç»“æœçš„äººæ¥è¯´ï¼Œéƒ½åº”è¯¥åšåˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š å¤¯å®è‡ªå·±çš„åŸºç¡€ï¼ŒåŸºç¡€å†³å®šäº†å¤§æ¥¼çš„é«˜åº¦ æœ‰æ·±å…¥æŒ–æ˜çŸ¥è¯†çš„æ€æƒ³ï¼Œå¯¹äºæ¯ä¸ªçŸ¥è¯†ç‚¹éƒ½åº”è¯¥è€ƒè™‘ä¸€ä¸‹è¿™ç©æ„æ€ä¹ˆå®ç°çš„ï¼Œä¸ºä»€ä¹ˆè¦æœ‰è¿™ç©æ„ ä¸è¦åšæ¡†æ¶ API çš„ç†Ÿç»ƒå·¥ï¼Œå°½é‡å»äº†è§£æ¡†æ¶åº•å±‚çš„åŸç†æœºåˆ¶ 4ã€é¢è¯•æ˜¯ä¸€ç§è¾“å‡ºå­¦ä¹ æ˜¯ä¸€ç§è¾“å…¥ï¼Œä½†é¢è¯•æ˜¯ä¸€ç§è¾“å‡ºã€‚ é¢è¯•éœ€è¦çš„ä¸æ˜¯ä½ æ‡‚ï¼Œè€Œæ˜¯è¦è®©é¢è¯•å®˜çŸ¥é“ä½ æ‡‚ï¼Œä½ å¿…é¡»æœ‰èƒ½åŠ›å°†è€ƒç‚¹ä¸­çš„è¦ç‚¹è”ç³»èµ·æ¥ï¼Œè¿è´¯çš„è¯´å‡ºæ¥ï¼Œè¿™å¹¶ä¸æ˜¯çœ‹è¿‡ä¸€æ¬¡å°±èƒ½è¾¾åˆ°çš„ã€‚ä½†ä¸å°‘äººä»¥ä¸ºçœ‹è¿‡è¿™ç±»æ–‡ç« ï¼ŒçŸ¥é“è¿™ä¸ªç‚¹ï¼Œå°±å¯ä»¥äº†ã€‚äº‹å®ä¸Šï¼Œåªæ˜¯â€œçŸ¥é“â€è¿œè¿œä¸å¤Ÿã€‚ è¿™ç§é—®é¢˜ï¼Œæ ¹æœ¬ä¸Šï¼Œæ˜¯å¯¹æŠ€æœ¯ç‚¹çš„ä¸å¤Ÿæ·±å…¥ï¼Œä¸å¤Ÿç†Ÿæ‚‰ï¼Œæ²¡æœ‰å½¢æˆè‡ªå·±çš„ç†è§£ã€‚æˆ‘ä¹Ÿç»å†è¿‡è¿™ä¸€è¿‡ç¨‹ï¼Œä½ çŸ¥é“è¿™äº›æ¦‚å¿µï¼Œè‡ªå·±ä¹Ÿèƒ½åˆ†æ¸…ï¼Œä½†éš¾ä»¥å‘åˆ«äººè®²æ˜ç™½ã€‚ç®€å•æµ‹è¯•ä¸€ä¸ªCSSé—®é¢˜ï¼šä»€ä¹ˆæ˜¯BFCï¼Ÿ ä½ è‚¯å®šçŸ¥é“å«å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œé—®é¢˜æ˜¯ï¼Œæ€ä¹ˆå‘é¢è¯•å®˜è§£é‡Šè¿™ä¸ªä¸œè¥¿ï¼Ÿ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆï¼Œå­¦ä¹ è¿‡ç¨‹æ³¨é‡ç†è§£è€Œä¸æ˜¯è®°å¿†ã€‚ ç¬¬äºŒï¼Œä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œéœ€è¦é€šè¿‡å¤šç¯‡æ–‡ç« å­¦ä¹ ï¼Œé‡å¤å­¦ä¹ ï¼ŒåŠ æ·±ç†è§£ï¼Œæ€»ç»“å‡ºè‡ªå·±çš„ç­”æ¡ˆå’Œçœ‹æ³•ã€‚ ç¬¬ä¸‰ï¼Œåˆ»æ„ç»ƒä¹ ã€‚å¦‚æœä½ æœ‰ä¼™ä¼´ï¼Œå¯ä»¥ç›¸äº’æé—®ã€‚å¦‚æœæ²¡æœ‰ï¼Œä¹Ÿå¯ä»¥è‡ªé—®è‡ªç­”ã€‚ 5ã€æ³¨é‡è¡¨è¾¾é€»è¾‘å¦‚æœä¸Šä¸€ç‚¹æ˜¯è¯´èƒ½æ­£ç¡®å›ç­”é—®é¢˜ï¼Œè¿™ç‚¹åˆ™æ˜¯èƒ½æ›´å¥½çš„å›ç­”é—®é¢˜ã€‚ä¸€ä¸ªé€»è¾‘æ¸…æ™°çš„å›ç­”ï¼Œèƒ½è®©é¢è¯•å®˜æ„Ÿå—åˆ°ï¼Œé¢è¯•è€…ä¸ä»…ç†Ÿæ‚‰è¿™ä¸ªé—®é¢˜ï¼Œè¿˜æœ‰æ¯”è¾ƒä¼˜ç§€çš„è¯­è¨€èƒ½åŠ›å’Œé€»è¾‘èƒ½åŠ›ã€‚ æ¯”å¦‚ï¼Œå¸¸è§é—®é¢˜ï¼šè¯´è¯´ var, let/const çš„åŒºåˆ«ã€‚å¤§éƒ¨åˆ†äººéƒ½èƒ½ç½—åˆ—å‡ºå®ƒä»¬çš„åŒºåˆ«å’Œæ³¨æ„ç‚¹ï¼Œä½†è¿™å¾ˆéš¾ç»™é¢è¯•å®˜ç•™ä¸‹ä»€ä¹ˆå°è±¡ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æ·»åŠ å‡ å¥è”ç³»æ€§çš„è¯­å¥ï¼Œæ•ˆæœå°±ä¸ä¸€æ ·äº†ï¼š varæ˜¯ ES5 ä¹‹å‰çš„å˜é‡å£°æ˜æ–¹å¼ï¼Œå­˜åœ¨å¾ˆå¤šå®¹æ˜“äº§ç”Ÿè¯¯è§£çš„ç¼ºé™·ï¼Œå…·ä½“ä½“ç°åœ¨ï¼šâ€¦â€¦ï¼ˆç½—åˆ— var çš„ä¸€äº›ä¸è¶³ï¼‰, é’ˆå¯¹è¿™äº›é—®é¢˜ï¼ŒES6 æå‡ºäº† let/const çš„å˜é‡å£°æ˜æ–¹å¼ï¼Œå®ƒä»¬å…·æœ‰ä¸€äº›æ–°çš„ç‰¹æ€§ï¼šâ€¦â€¦ï¼ˆç½—åˆ— let/const ç‰¹æ€§ï¼‰ã€‚ è¿™å‡ å¥ç®€å•çš„è¿æ¥ï¼Œè®©æ•´ä¸ªå›ç­”ä»ä¸€ä¸ªç®€å•çš„è¦ç‚¹å †ç Œå˜æˆå…³ç³»å¯†åˆ‡çš„è¡¨è¾¾ã€‚ ç„¶è€Œï¼Œè¿™å¹¶éæ˜“äº‹ã€‚å‰ææ˜¯å¿…é¡»è¦æœ‰è¾ƒå¥½çš„é€»è¾‘æ€ç»´ã€‚ åœ¨å­¦ä¹ æ¯ä¸€ä¸ªæŠ€æœ¯ç‚¹çš„æ—¶å€™ï¼Œéƒ½è¦æ³¨æ„ä¸€äº›é—®é¢˜ï¼šæ˜¯ä»€ä¹ˆï¼Ÿä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•å®ç°çš„ï¼Œæœ‰æ²¡æœ‰æ›´æ·±çš„åŸç†ï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨çš„åœºæ™¯ï¼Ÿæœ‰ä»€ä¹ˆä¸è¶³ï¼Ÿè¿™äº›ä¸è¶³èƒ½å¦é¿å…ï¼Ÿ è¿™äº›é—®é¢˜èƒ½è®©ä½ æ›´åŠ å…¨é¢åœ°ä½“ä¼šå„ä¸ªé—®é¢˜çš„è”ç³»ã€‚ éœ€è¦æŒ‡å‡ºä¸€ç‚¹ï¼Œå†™åšå®¢å¯¹è¿™æ–¹é¢æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚ å³ä½¿ä½ æ²¡æœ‰å†™è¿‡åšå®¢ï¼Œå»ºè®®åœ¨å¤‡è€ƒçš„æ—¶å€™ï¼Œä½¿ç”¨æ€ç»´å¯¼å›¾ç­‰å·¥å…·ï¼Œå¹¶ä¸”ç»å¸¸æ•´ç†å·²å­¦çŸ¥è¯†çš„è”ç³»ã€‚ å¯èƒ½æœ‰äººè·Ÿæˆ‘ä¸€æ ·é¢è¯•ä¼šç´§å¼ ï¼Œä¸€ç´§å¼ å°±å®¹æ˜“è„‘å­ç©ºç™½ã€‚æˆ‘çš„æ–¹æ³•æ˜¯ï¼ŒæŠŠé¢è¯•å®˜å‡æƒ³æˆæ˜¯æ¥è¯·æ•™æˆ‘é—®é¢˜çš„åŒå­¦ï¼Œä¸å¾—ä¸è¯´è¿™ç§æ•ˆæœçœŸçš„å¾ˆå¥½ã€‚ 6ã€æ‰¬é•¿é¿çŸ­ï¼Œä½†å°½é‡äº‰å–å¯¹äºé‚£äº›æ¯ä¸ªåº”è˜è€…å¿…å¤‡çš„æŠ€èƒ½ï¼Œå¿…é¡»è¦ç†Ÿæ‚‰å†ç†Ÿæ‚‰ï¼Œä¸è¦è®©åŸºç¡€æˆä¸ºè‡ªå·±çš„çŸ­æ¿ã€‚è€Œå¯¹äºå…¶å®ƒæŠ€èƒ½ï¼Œæ·±å…¥å­¦ä¹ å…¶ä¸­çš„å‡ ä¸ªï¼Œç„¶åæƒ³åŠæ³•å¼•å¯¼é¢è¯•å®˜æé—®è¿™äº›æ–¹é¢çš„é—®é¢˜ã€‚ æœ€æœ‰æ•ˆæœ€å¸¸è§çš„å¼•å¯¼æ–¹å¼æ˜¯ç®€å†ã€‚ç®€å†ä¿¡æ¯å¾€å¾€æ˜¯é¢è¯•å®˜å‡ºé¢˜çš„ä¾æ®ï¼Œæ‰€ä»¥ç®€å†ä¸€å®šä¸è¦å†™è‡ªå·±æ²¡æ¥è§¦è¿‡çš„æŠ€æœ¯ï¼Œå³ä½¿æ‹›è˜ä¿¡æ¯æœ‰è¿™é¡¹è¦æ±‚ï¼Œå¦‚æœé¢è¯•å®˜æé—®ç®€å†ä¸Šçš„å†…å®¹ï¼Œå‘ç°ä½ æ ¹æœ¬ä¸ä¼šï¼Œé‚£ä¹ˆï¼Œä½ ç®€å†ä¸Šçš„æ‰€æœ‰æŠ€èƒ½ç‚¹ï¼Œé¢è¯•å®˜éƒ½ä¼šæ‰“ä¸ªé—®å·ã€‚å¯¹äºä½ æœ‰æ·±å…¥å­¦ä¹ çš„æ–¹é¢ï¼Œå¯ä»¥å•ç‚¹åˆ—å‡ºï¼Œæ¯”å¦‚ï¼Œç†Ÿæ‚‰ JavaScriptï¼Œèƒ½ç†Ÿç»ƒæ“ä½œ DOMï¼Œå°½ç®¡ JavaScript åŒ…å«äº† DOMï¼Œä½†ä½ ä¾ç„¶å¯ä»¥å¼ºè°ƒä¸€ä¸‹ã€‚é¢è¯•å®˜å¾€å¾€ä¼šæ ¹æ®åº”è˜è€…çš„å›ç­”æ¥å†³å®šä¸‹ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ç‚¹ï¼Œåœ¨é¢è¯•å›ç­”ä¸­å¼•å¯¼ã€‚åœ¨å›ç­”å¼€æ”¾æ€§é—®é¢˜æ—¶ï¼Œè¿™ç§æ–¹æ³•ååˆ†æœ‰æ•ˆï¼Œä½†åˆ‡è®°ç‚¹åˆ°ä¸ºæ­¢ï¼Œä¸è¦è¿‡åˆ†æ·±å…¥å¯¼è‡´åé¢˜ã€‚æ¯”å¦‚ï¼Œé¢è¯•å®˜æé—®ï¼šå¯¹ä¸€ä¸ªå·²æœ‰çš„ç½‘ç«™ï¼Œä½ å“ªäº›çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼Ÿ å½“ä½ é˜è¿°æ€§èƒ½æ”¹è¿›æè®®ä¹‹åï¼Œæœ«äº†ï¼ŒåŠ ä¸€å¥â€œé™¤äº†æ€§èƒ½ï¼Œä¸€ä¸ªç½‘ç«™è€ƒè™‘è¿˜å¯ä»¥ä»å®‰å…¨æ€§å’Œ SEO è¿™äº›æ–¹é¢è¿›è¡Œä¼˜åŒ–â€ã€‚ å¦‚æœé¢è¯•å®˜ Web å®‰å…¨å’Œ SEO æ„Ÿå…´è¶£ï¼Œé‚£ä»–å°±ä¸­å¥—äº†ã€‚ å¦‚æœé¢è¯•å®˜æŠ›å‡ºäº†ä¸€ä¸ªä½ ç¨æœ‰äº†è§£ä½†ä¸ç†Ÿæ‚‰çš„é—®é¢˜ã€‚ä¸è¦æ…Œï¼Œå…ˆæ€è€ƒç‰‡åˆ»ã€‚æ•´åˆè‡ªå·±çŸ¥é“çš„ï¼Œåšä¸€äº›åˆç†çš„æ¨æµ‹ã€‚ç„¶ååœ¨å›ç­”çš„æ—¶å€™ï¼Œå…ˆè¡¨æ˜è‡ªå·±ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä½†åœ¨å­¦ä¹ å…¶ä»–çŸ¥è¯†çš„æ—¶å€™æœ‰æ¥è§¦è¿‡ï¼Œç®€å•è¯´è¯´è‡ªå·±çš„äº†è§£å’Œæ¨æ–­ã€‚ä¸å°‘é¢è¯•å®˜ä¼šæ•…æ„æå‡ºä¸€äº›ç¨å¾®è¶…å‡ºé¢è¯•è€…èƒ½åŠ›çš„é—®é¢˜ï¼Œè€ƒé‡é¢è¯•è€…çš„ä¸´åœºèƒ½åŠ›å’Œè¿ç§»å­¦ä¹ èƒ½åŠ›ã€‚ ä¸‡ä¸€ï¼Œæ˜ç¡®é¢è¯•å®˜é—®é¢˜åï¼Œå‘ç°è‡ªå·±ä¸æ¯«ä¸ä¼šï¼Œç›´æ¥è¡¨æ˜ï¼ŒæŠŠé¢è¯•å®˜çš„æ³¨æ„åŠ›è½¬ç§»åˆ°ä¸‹ä¸€é“é¢˜ï¼Œåœç•™çš„æ—¶å€™é•¿äº†ï¼Œå¯èƒ½ä¼šæ”¾å¤§è¿™é“é¢˜çš„å½±å“ã€‚ä»å®¹åº”å¯¹æ¥ä¸‹æ¥çš„é¢˜ç›®ï¼Œé¢è¯•å®˜ä¸ä¼šå› ä¸ºä¸€ä¸¤é“é¢˜æ·˜æ±°ä¸€ä¸ªå„æ–¹é¢éƒ½å¾ˆä¼˜ç§€çš„é¢è¯•è€…ã€‚","link":"/posts/%E9%9D%A2%E8%AF%95%E7%A7%AF%E7%B4%AF/%E9%9D%A2%E8%AF%95%E7%A7%AF%E7%B4%AF/"},{"title":"CSS çŸ¥è¯†ç‚¹","text":"å‚è€ƒé“¾æ¥ å†™å¥½CSSä»£ç çš„70ä¸ªä¸“ä¸šå»ºè®® é¡¹ç›®ç»Ÿä¸€æ ·å¼ä¸ºäº†è§£å†³æµè§ˆå™¨é»˜è®¤æ ·å¼ä¸ç»Ÿä¸€çš„é—®é¢˜ã€‚ ä¸€èˆ¬æœ‰ä¸¤ä¸ªåº“ Normalize.css Reset CSS è¿˜å¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚å®šåˆ¶åˆå§‹åŒ–æ ·å¼. å¥½å¤„ï¼š ä¿æŠ¤æœ‰ç”¨çš„æµè§ˆå™¨é»˜è®¤æ ·å¼è€Œä¸æ˜¯å®Œå…¨å»æ‰å®ƒä»¬ ä¸€èˆ¬åŒ–çš„æ ·å¼ï¼šä¸ºå¤§éƒ¨åˆ†HTMLå…ƒç´ æä¾› ä¿®å¤æµè§ˆå™¨è‡ªèº«çš„bugå¹¶ä¿è¯å„æµè§ˆå™¨çš„ä¸€è‡´æ€§ ä¼˜åŒ–CSSå¯ç”¨æ€§ï¼šç”¨ä¸€äº›å°æŠ€å·§ è§£é‡Šä»£ç ï¼šç”¨æ³¨é‡Šå’Œè¯¦ç»†çš„æ–‡æ¡£æ¥ ç”¨overflow: auto å¿…é¡»ç»™å®¹å™¨æŒ‡å®šé«˜åº¦height: å›ºå®šå€¼ é¡µé¢é¦–æ¬¡åŠ è½½åŠ¨ç”»å±•ç¤º WOWä¸­æ–‡æ–‡æ¡£ è¿›å…¥å’Œç¦»å¼€å±å¹•æ—¶åŠ¨ç”»scrollreveal Animate.css å¸¸è§å¸ƒå±€æ–¹æ¡ˆæ•´ç† CSSå¸ƒå±€æ–¹æ¡ˆ ç»å…¸å¸ƒå±€ ä½¿ç”¨ flex å®ç° 5 ç§å¸¸ç”¨å¸ƒå±€ flexå¸ƒå±€è¯¦è§£ cssè´Ÿmarginè¿ç”¨ CSS3å®ç°åŠ¨ç”»åŠŸèƒ½ä¸»è¦é€šè¿‡ä¸¤ä¸ªå±æ€§1.transition2.animation transition:&lt;è¿‡æ¸¡å±æ€§åç§°&gt; &lt;è¿‡æ¸¡æ—¶é—´&gt; 1234transition: color 1s;transition: height 3s;transition-property: color;transition-duration: 1s; å¤šä¸ªå±æ€§çš„è¿‡æ¸¡æ•ˆæœ-webkit-transition:&lt;å±æ€§1&gt; &lt;æ—¶é—´1&gt;,&lt;å±æ€§2&gt; &lt;æ—¶é—´2&gt;,&lt;å±æ€§3&gt; &lt;æ—¶é—´3&gt;; ç¬¬ä¸‰ä¸ªå±æ€§å€¼ï¼štransition:&lt;è¿‡æ¸¡å±æ€§åç§°&gt; &lt;è¿‡æ¸¡æ—¶é—´&gt; &lt;è¿‡æ¸¡æ¨¡å¼&gt;transition-timing-functionå€¼: ease ç¼“æ…¢å¼€å§‹ï¼Œç¼“æ…¢ç»“æŸ liner åŒ€é€Ÿ ease-in ç¼“æ…¢å¼€å§‹ ease-out ç¼“æ…¢ç»“æŸ ease-in-out ç¼“æ…¢å¼€å§‹ï¼Œç¼“æ…¢ç»“æŸï¼ˆå’Œeaseç¨æœ‰åŒºåˆ«ï¼‰ CSS3åˆ›å»º3Dåœºæ™¯ å±æ€§ä»‹ç»perspective:800 å¹³é¢è·ç¦»ä¸‰ç»´ä¸­æ–¹æ¡†çš„è·ç¦»perspective-origin:50% 50% transformå±æ€§ â€“translete :ä½ç§»æ“ä½œ translateX(X px) translateY(Y px) translateZ(Z px) â€“rotateï¼šæ—‹è½¬æ“ä½œ rotateX(X deg) rotateY(Y deg) rotateZ(Z deg) è®¾ç½®3D transform-style:preserve-3d; å¦‚ä½•é€šè¿‡cssä½¿div å®ç°å…¨å±æ•ˆæœâ€“å…¨å±è¦ç´ ï¼š 1.å…¨å±çš„å…ƒç´ åŠå…¶çˆ¶å…ƒç´ éƒ½è¦è®¾ç½®ä¸ºheight:100%, 2.å°†html,bodyæ ‡ç­¾è®¾ç½®ä¸ºheight100%,æ³¨ï¼šheight:100%æ˜¯è·Ÿéšå…¶çˆ¶å…ƒç´ é«˜åº¦å˜åŒ–è€Œå˜åŒ–çš„ cssä¸­ link å’Œ @import åŒºåˆ«@import æŒ‡ä»¤ ä¼šé˜»æ­¢æµè§ˆå¹¶è¡Œä¸‹è½½ã€‚link åŠ è½½å¤–éƒ¨æ ·å¼è¡¨ä¸ä¼šé˜»æ­¢å¹¶è¡Œä¸‹è½½ã€‚ px,em,remçš„åŒºåˆ« PXç‰¹ç‚¹ IEæ— æ³•è°ƒæ•´é‚£äº›ä½¿ç”¨pxä½œä¸ºå•ä½çš„å­—ä½“å¤§å°; å›½å¤–çš„å¤§éƒ¨åˆ†ç½‘ç«™èƒ½å¤Ÿè°ƒæ•´çš„åŸå› åœ¨äºå…¶ä½¿ç”¨äº†emæˆ–remä½œä¸ºå­—ä½“å•ä½; Firefoxèƒ½å¤Ÿè°ƒæ•´pxå’Œemï¼Œremï¼Œä½†æ˜¯96%ä»¥ä¸Šçš„ä¸­å›½ç½‘æ°‘ä½¿ç”¨IEæµè§ˆå™¨(æˆ–å†…æ ¸)ã€‚pxåƒç´ (Pixel)ã€‚ç›¸å¯¹é•¿åº¦å•ä½ã€‚åƒç´ pxæ˜¯ç›¸å¯¹äºæ˜¾ç¤ºå™¨å±å¹•åˆ†è¾¨ç‡è€Œè¨€çš„ã€‚(å¼•è‡ªCSS2.0æ‰‹å†Œ)emæ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸ã€‚(å¼•è‡ªCSS2.0æ‰‹å†Œ)ä»»æ„æµè§ˆå™¨çš„é»˜è®¤å­—ä½“é«˜éƒ½æ˜¯16pxã€‚æ‰€æœ‰æœªç»è°ƒæ•´çš„æµè§ˆå™¨éƒ½ç¬¦åˆ: 1em=16pxã€‚é‚£ä¹ˆ12px=0.75em,10px=0.625emã€‚ä¸ºäº†ç®€åŒ–font-sizeçš„æ¢ç®—ï¼Œéœ€è¦åœ¨cssä¸­çš„bodyé€‰æ‹©å™¨ä¸­å£°æ˜Font-size=62.5%ï¼Œè¿™å°±ä½¿emå€¼å˜ä¸º 16px*62.5%=10px, è¿™æ ·12px=1.2em, 10px=1em, ä¹Ÿå°±æ˜¯è¯´åªéœ€è¦å°†ä½ çš„åŸæ¥çš„pxæ•°å€¼é™¤ä»¥10ï¼Œç„¶åæ¢ä¸Šemä½œä¸ºå•ä½å°±è¡Œäº†ã€‚ EMç‰¹ç‚¹ emçš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„; emä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å†™CSSçš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š bodyé€‰æ‹©å™¨ä¸­å£°æ˜Font-size=62.5%; å°†ä½ çš„åŸæ¥çš„pxæ•°å€¼é™¤ä»¥10ï¼Œç„¶åæ¢ä¸Šemä½œä¸ºå•ä½; é‡æ–°è®¡ç®—é‚£äº›è¢«æ”¾å¤§çš„å­—ä½“çš„emæ•°å€¼ã€‚é¿å…å­—ä½“å¤§å°çš„é‡å¤å£°æ˜ã€‚ä¹Ÿå°±æ˜¯é¿å…1.2 * 1.2= 1.44çš„ç°è±¡ã€‚æ¯”å¦‚è¯´ä½ åœ¨#contentä¸­å£°æ˜äº†å­—ä½“å¤§å°ä¸º1.2emï¼Œé‚£ä¹ˆåœ¨å£°æ˜pçš„å­—ä½“å¤§å°æ—¶å°±åªèƒ½æ˜¯1emï¼Œè€Œä¸æ˜¯1.2em, å› ä¸ºæ­¤eméå½¼emï¼Œå®ƒå› ç»§æ‰¿#contentçš„å­—ä½“é«˜è€Œå˜ä¸ºäº†1em=12pxã€‚ remç‰¹ç‚¹remæ˜¯CSS3æ–°å¢çš„ä¸€ä¸ªç›¸å¯¹å•ä½(root emï¼Œæ ¹em)ï¼Œè¿™ä¸ªå•ä½å¼•èµ·äº†å¹¿æ³›å…³æ³¨ã€‚è¿™ä¸ªå•ä½ä¸emæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?åŒºåˆ«åœ¨äºä½¿ç”¨remä¸ºå…ƒç´ è®¾å®šå­—ä½“å¤§å°æ—¶ï¼Œä»ç„¶æ˜¯ç›¸å¯¹å¤§å°ï¼Œä½†ç›¸å¯¹çš„åªæ˜¯HTMLæ ¹å…ƒç´ ã€‚è¿™ä¸ªå•ä½å¯è°“é›†ç›¸å¯¹å¤§å°å’Œç»å¯¹å¤§å°çš„ä¼˜ç‚¹äºä¸€èº«ï¼Œé€šè¿‡å®ƒæ—¢å¯ä»¥åšåˆ°åªä¿®æ”¹æ ¹å…ƒç´ å°±æˆæ¯”ä¾‹åœ°è°ƒæ•´æ‰€æœ‰å­—ä½“å¤§å°ï¼Œåˆå¯ä»¥é¿å…å­—ä½“å¤§å°é€å±‚å¤åˆçš„è¿é”ååº”ã€‚ä¸€ä¸ªä¾‹å­ï¼šp {font-size:14px; font-size:.875rem;} CSS3 åŠ¨ç”»æ€§èƒ½é—®é¢˜https://www.cnblogs.com/shytong/p/5419565.htmlaã€æ˜¯å¦å¯¼è‡´layoutå¦‚æœæ˜¯ï¼Œå°½å¯èƒ½å°†åŠ¨ç”»å…ƒç´ absoluteæˆ–è€…fixedåŒ–ä»¥é¿å…å½±å“æ–‡æ¡£æ ‘ï¼Œä»¥å‡å°‘é‡æ’.bã€æ˜¯å¦å¯ç”¨ç¡¬ä»¶åŠ é€Ÿâ€œç”¨åˆ°äº†CSS3åŠ¨ç”»â€å’Œâ€œå¼€å¯äº†ç¡¬ä»¶åŠ é€Ÿâ€æ˜¯ä¸¤ä»¶äº‹æƒ…ï¼Œè™½ç„¶å‰è€…æœ‰å¯èƒ½å¯¼è‡´åè€…ã€‚å¼€å¯ç¡¬ä»¶åŠ é€Ÿåœ¨webkitä¸­æœ‰ç¥å¥‡çš„ä¸‡é‡‘æ²¹ï¼šopacity: 1;æˆ–è€…-webkit-backface-visibility: hidden;ã€‚cã€æ˜¯å¦æ˜¯æœ‰é«˜æ¶ˆè€—çš„å±æ€§ï¼ˆcss shadowã€gradientsã€background-attachment: fixedç­‰ï¼‰æœ‰çš„è¯ï¼Œå›¾ç‰‡ä¹Ÿæ˜¯ä¸€ç§é€‰æ‹©ã€‚è¿™ç®—å¾—ä¸Šæ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´çš„ä¼˜åŒ–äº†ã€‚dã€repaintçš„é¢ç§¯å¦‚æœæ˜¯ï¼Œåªå¥½ç¼©å°åŠ¨ç”»é¢ç§¯äº†ã€‚è¿™ä¸€æ­¥çš„ä¼˜åŒ–æœ‰é™;eã€å°½é‡ä½¿ç”¨ transform ç”ŸæˆåŠ¨ç”»ï¼Œé¿å…ä½¿ç”¨ height,width,margin,padding ç­‰ï¼›transform åŠ¨ç”»ç”±GPUæ§åˆ¶ï¼Œæ”¯æŒç¡¬ä»¶åŠ é€Ÿï¼Œå¹¶ä¸éœ€è¦è½¯ä»¶æ–¹é¢çš„æ¸²æŸ“ä¸ºåŠ¨ç”»DOMå…ƒç´ æ·»åŠ  CSS3 æ ·å¼ -webkit-transform:transition3d(0,0,0) æˆ– -webkit-transform:translateZ(0); ï¼Œè¿™ä¸¤ä¸ªå±æ€§éƒ½ä¼šå¼€å¯ GPUç¡¬ä»¶åŠ é€Ÿ æ¨¡å¼ï¼Œä»è€Œè®©æµè§ˆå™¨åœ¨æ¸²æŸ“åŠ¨ç”»æ—¶ä»CPUè½¬å‘GPUï¼Œ å­—ä½“åŠ ç²—ç”¨å“ªä¸ª&lt;b&gt;&lt;/b&gt;æ ‡ç­¾çš„åŠ ç²—åªæ˜¯ä¸ºäº†åŠ ç²—&lt;strong&gt;&lt;/strong&gt;æ ‡ç­¾åŠ ç²—æ˜¯ä¸ºäº†çªå‡ºé‡ç‚¹åœ¨ç½‘é¡µä¸­ä½¿ç”¨&lt;strong&gt;&lt;/strong&gt;çªå‡ºçš„å†…å®¹æ›´å®¹æ˜“è¢«ç½‘é¡µæœç´¢èœ˜è››æœç´¢åˆ°ã€‚ç›²äººæœ‹å‹ä½¿ç”¨é˜…è¯»è®¾å¤‡é˜…è¯»ç½‘ç»œæ—¶ï¼š&lt;strong&gt;ä¼šé‡è¯»ï¼Œ&lt;b&gt;ä¸ä¼š CSSä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®— å…ƒç´ é€‰æ‹©ç¬¦ï¼š 1 classé€‰æ‹©ç¬¦ï¼š 10 idé€‰æ‹©ç¬¦ï¼š100 å…ƒç´ æ ‡ç­¾ï¼š1000 !importantå£°æ˜çš„æ ·å¼ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¦‚æœå†²çªå†è¿›è¡Œè®¡ç®—ã€‚ å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™é€‰æ‹©æœ€åå‡ºç°çš„æ ·å¼ã€‚ç»§æ‰¿å¾—åˆ°çš„æ ·å¼çš„ä¼˜å…ˆçº§æœ€ä½ã€‚ box-sizingå±æ€§ç”¨æ¥æ§åˆ¶å…ƒç´ çš„ç›’å­æ¨¡å‹çš„è§£ææ¨¡å¼ï¼Œé»˜è®¤ä¸ºcontent-boxcontext-boxï¼šW3Cçš„æ ‡å‡†ç›’å­æ¨¡å‹ï¼Œè®¾ç½®å…ƒç´ çš„ height/width å±æ€§æŒ‡çš„æ˜¯contentéƒ¨åˆ†çš„é«˜/å®½border-boxï¼šIEä¼ ç»Ÿç›’å­æ¨¡å‹ã€‚è®¾ç½®å…ƒç´ çš„height/widthå±æ€§æŒ‡çš„æ˜¯border + padding + contentéƒ¨åˆ†çš„é«˜/å®½inherit: åº”ä»çˆ¶å…ƒç´ ç»§æ‰¿ box-sizing å±æ€§çš„å€¼ ä»‹ç»ä¸€ä¸‹æ ‡å‡†çš„CSSçš„ç›’å­æ¨¡å‹ï¼Ÿä¸ä½ç‰ˆæœ¬IEçš„ç›’å­æ¨¡å‹æœ‰ä»€ä¹ˆä¸åŒçš„æ ‡å‡†ç›’å­æ¨¡å‹ï¼šå®½åº¦=å†…å®¹çš„å®½åº¦ï¼ˆcontentï¼‰+ border + padding + marginä½ç‰ˆæœ¬IEç›’å­æ¨¡å‹ï¼šå®½åº¦=å†…å®¹å®½åº¦ï¼ˆcontent+border+paddingï¼‰+ margin nth-childä¸nth-of-typeåŒºåˆ«123456789101112.product-list .item:nth-child(2n) { margin-left: 6px;}.product-list .item:nth-child(2n+1) { margin-right: 6px;}.product-list .item:nth-of-type(2n) { margin-left: 6px;}.product-list .item:nth-of-type(2n+1) { margin-right: 6px;} :nth-child(n) é€‰æ‹©å™¨åŒ¹é…å±äºå…¶çˆ¶å…ƒç´ çš„ç¬¬ N ä¸ªå­å…ƒç´ ï¼Œä¸è®ºå…ƒç´ çš„ç±»å‹ã€‚:nth-of-type(n) é€‰æ‹©å™¨åŒ¹é…å±äºçˆ¶å…ƒç´ çš„ç‰¹å®šç±»å‹çš„ç¬¬ N ä¸ªå­å…ƒç´ çš„æ¯ä¸ªå…ƒç´ . justify-contentè®¾ç½®å±…å·¦CSSè¯­æ³•:justify-content: flex-start|flex-end|center|space-between|space-around|initial|inherit; é»˜è®¤å€¼ä¸ºflex-start, å¦‚æœè¦å±…å·¦å¯ä»¥è®¾ç½®è¿™ä¸ªå€¼ï¼Œ æ³¨æ„ï¼šè®¾ç½®leftä¸ç”Ÿæ•ˆï¼Œå› ä¸ºæ²¡æœ‰leftè¿™ä¸ªå€¼ã€‚ cssæ¢è¡Œ12word-break: break-all;word-break: break-word; max-width å’Œ !importantmax-widthåœ¨æ¯”widthå°æ—¶ï¼Œå³ä½¿widthä½¿ç”¨!importantæ¥åŠ æƒï¼Œä»ä¼šmax-widthç”Ÿæ•ˆï¼› ä»¥ä¸‹ä»£ç å®½åº¦ä¸º300px 12&lt;img src=&quot;1.jpg&quot; style=&quot;width:480px!important; max-width: 300px&quot;&gt;&lt;img src=&quot;1.jpg&quot; style=&quot;width:480px!important; transform: scale(0.625, 1);&quot; &gt; overflow åŸºæœ¬å±æ€§ï¼š visible ï¼ˆé»˜è®¤ï¼‰ hidden è¶…å‡ºçš„éƒ¨åˆ†è¢«éšè— scroll ä¸¤è¾¹éƒ½ä¼šå‡ºç° auto æ™ºèƒ½è·¯çº¿ inherit(IE8+æ‰æ”¯æŒ) å…¼å®¹æ€§ï¼š 1.ç‡•ç¯è‚¥ç˜¦ï¼Œå„æœ‰æ˜¥ç§‹ 2.å®½åº¦è®¾å®šæœºåˆ¶ie7ä¸­è«åå‡ºç°æ»šåŠ¨æ¡ï¼Œå¯èƒ½æ˜¯è®¾ç½®äº†100%ï¼Œåšæ³•æ˜¯åˆ é™¤width:100%; ä½œç”¨çš„å‰æ1.édisplay:inline æ°´å¹³~ displayä¸èƒ½è®¾ç½®ä¸ºinline2.å¯¹åº”æ–¹ä½çš„å°ºå¯¸é™åˆ¶ã€‚width/height/max-width/max-height/absoluteæ‹‰ä¼¸3.å¯¹äºå•å…ƒæ ¼tdç­‰ï¼Œè¿˜éœ€è¦è®¾ç½®tableä¸ºtable-layout:fixed; overflow:visibleå¦™ç”¨ ie7ä¸‹æ–‡å­—è¶Šå¤šï¼ŒæŒ‰é’®ä¸¤ä¾§paddingç•™ç™½å°±è¶Šå¤§ç»™æ‰€æœ‰æŒ‰é’®æ·»åŠ cssæ ·å¼ overflow:visible æ»šåŠ¨æ¡å‡ºç°çš„æ¡ä»¶ 1.overflow:auto,overflow:scroll â€”è‡ªå¸¦htmlï¼Œtextarea 2.è‰çªè—ä¸ä½å‡¤å‡°ï¼Œæ½œæ°´å›°ä¸ä½è›Ÿé¾™ å†…å®¹è¿‡å¤š body/html ä¸æ»šåŠ¨æ¡ æ— è®ºä»€ä¹ˆæµè§ˆå™¨ï¼Œé»˜è®¤æ»šåŠ¨æ¡å‡æ¥è‡ª&lt;html&gt;ï¼Œè€Œä¸æ˜¯&lt;body&gt; ie7- html{overflow-y:scroll;}ie8+ html{overflow:auto;} æƒ³è¦å»æ‰é¡µé¢é»˜è®¤çš„æ»šåŠ¨æ¡ html {overflow:hidden;}html,body{overflow:hidden;} â€”â€”Ã— jsä¸æ»šåŠ¨é«˜åº¦ chrome document.body.scrollTop å…¶ä»–ï¼šdocument.documentElement.scrollTopæ ‡å‡†å†™æ³•ï¼š var st = document.body.scrollTop || document.documentElement.scrollTop; overflowçš„padding-bottomç¼ºå¤±ç°è±¡ å¯¼è‡´ä¸ä¸€æ ·çš„scrollHeight (å…ƒç´ å†…å®¹é«˜åº¦)æ»šåŠ¨æ¡çš„å®½åº¦æœºåˆ¶ æ»šåŠ¨æ¡ä¼šå ç”¨å®¹å™¨çš„å¯ç”¨é«˜åº¦æˆ–é«˜åº¦ å®½åº¦å‡ä¸º17px 1.æ€ªå¼‚æ¨¡å¼é—®é¢˜ï¼šæ¼å†™DTDå£°æ˜ï¼ŒFirefoxä»ç„¶ä¼šæŒ‰ç…§æ ‡å‡†æ¨¡å¼æ¥è§£æç½‘é¡µï¼Œä½†åœ¨IEä¸­ä¼šè§¦å‘æ€ªå¼‚æ¨¡å¼ã€‚ä¸ºé¿å…æ€ªå¼‚æ¨¡å¼ç»™æˆ‘ä»¬å¸¦æ¥ä¸å¿…è¦çš„éº»çƒ¦ï¼Œæœ€å¥½å…»æˆä¹¦å†™DTDå£°æ˜çš„å¥½ä¹ æƒ¯ã€‚2.IE6åŒè¾¹è·é—®é¢˜ï¼šåœ¨IE6ä¸‹ï¼Œå¦‚æœå¯¹å…ƒç´ è®¾ç½®äº†æµ®åŠ¨ï¼ŒåŒæ—¶åˆè®¾ç½®äº†margin-leftæˆ–margin-rightï¼Œmarginå€¼ä¼šåŠ å€ã€‚ä¾‹å¦‚ï¼šHTMLï¼š 1&lt; span&gt;div class=&quot;myDiv&quot;&lt;div&lt; CSSï¼š .myDiv{ width:100px; height:100px; border:1px solid #000; float:left; margin-left:30px;} IE6é¢„è§ˆç»“æœï¼šå¾ˆæ˜æ˜¾çš„ï¼Œåœ¨IE6ä¸­ï¼Œmargin-left:30pxçš„è¾¹è·ç¿»å€æˆ60pxäº†ã€‚è§£å†³é—®é¢˜ï¼šè®¾ç½®display:inlineï¼š .myDiv{ width:100px; height:100px; border:1px solid #000; float:left; display:inline; margin-left:30px;} IE6é¢„è§ˆç»“æœï¼š3.ä¸Šä¸‹marginé‡åˆï¼šmarginæ˜¯ä¸ªæœ‰ç‚¹ç‰¹æ®Šçš„æ ·å¼ï¼Œç›¸é‚»çš„margin-leftå’Œmargin-rightæ˜¯ä¸ä¼šé‡åˆçš„ï¼Œä½†ç›¸é‚»çš„margin-topå’Œmargin-bottomä¼šäº§ç”Ÿé‡åˆã€‚ä¸ç®¡IEè¿˜æ˜¯Firefoxéƒ½å­˜åœ¨è¿™é—®é¢˜ã€‚ä¾‹å¦‚ï¼šHTMLï¼š 12&lt; span&gt;div class=&quot;topDiv&quot;&lt;div&lt;&lt; span&gt;div class=&quot;bottomDiv&quot;&lt;div&lt; CSSï¼š .topDiv{ width:100px; height:100px; border:1px solid #000; margin-bottom:25px;}.bottomDiv{ width:100px; height:100px; border:1px solid #000; margin-top:50px;} æˆ‘ä»¬å¯¹ä¸Šé¢çš„divè®¾ç½®äº†25pxçš„ä¸‹è¾¹è·ï¼Œå¯¹ä¸‹æ–¹çš„divè®¾ç½®äº†50pxçš„ä¸Šè¾¹è·ã€‚ä¸ºäº†ä¾¿äºè§‚å¯Ÿï¼Œè¿™é‡Œå°†divçš„é«˜åº¦éƒ½è®¾ä¸º100pxã€‚æµè§ˆå™¨é¢„è§ˆç»“æœï¼šå¯è§ï¼Œç»“æœä¸æ˜¯é¢„æœŸçš„ä¸Šä¸‹divæ‹‰å¼€75pxçš„è·ç¦»ï¼Œè€Œæ˜¯æ‹‰å¼€äº†åŠä¸ªdivé«˜åº¦(50px)çš„è·ç¦»ã€‚è§£å†³é—®é¢˜ï¼šç»Ÿä¸€ä½¿ç”¨margin-topæˆ–è€…margin-bottomï¼Œä¸è¦æ··åˆä½¿ç”¨ã€‚è¿™å¹¶ä¸æ˜¯æŠ€æœ¯ä¸Šçš„å¿…éœ€ï¼Œä½†å´æ˜¯ä¸ªè‰¯å¥½çš„ä¹ æƒ¯ã€‚4.è¶…é“¾æ¥è®¿é—®åhoveræ ·å¼ä¸å‡ºç°ï¼šæœ‰æ—¶å€™æˆ‘ä»¬åŒæ—¶è®¾ç½®äº†a:visitedå’Œa:hoveræ ·å¼ï¼Œä½†ä¸€æ—¦è¶…é“¾æ¥è®¿é—®åï¼Œhoverçš„æ ·å¼å°±ä¸å†å‡ºç°ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿæ˜¯å› ä¸ºå°†æ ·å¼é¡ºåºæ”¾é”™äº†ï¼Œè°ƒæ•´ä¸ºå…ˆa:visitedå†a:hoverã€‚å…³äºaæ ‡ç­¾çš„å››ç§çŠ¶æ€çš„æ’åºé—®é¢˜ï¼Œæœ‰ä¸ªç®€å•å¥½è®°çš„åŸåˆ™ï¼Œå«åšlove hateåŸåˆ™ï¼Œå³i(link)ov(visited)e h(hover)a(active)eã€‚5.IE6ã€IE7çš„hasLayouté—®é¢˜ï¼šå¾ˆå¤šæ—¶å€™ï¼ŒCSSåœ¨IEä¸‹çš„è§£æååˆ†å¥‡æ€ªï¼Œæ˜æ˜åœ¨Firefoxä¸­æ˜¾ç¤ºå¾—éå¸¸æ­£ç¡®ï¼Œä½†åˆ°äº†IEä¸‹å´å‡ºç°äº†é—®é¢˜ï¼Œæœ‰çš„æ—¶å€™ï¼Œè¿™äº›é—®é¢˜ç”šè‡³è¡¨ç°å¾—éå¸¸è¯¡å¼‚ã€‚ä¾‹å¦‚ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„Bugå°±æ˜¯è®¾ç½®borderçš„æ—¶å€™ï¼Œæœ‰æ—¶å€™borderä¼šæ–­å¼€ï¼Œåˆ·æ–°é¡µé¢æˆ–è€…æ‹–ä¸‹æ»šåŠ¨æ¡çš„æ—¶å€™ï¼Œæ–­æ‰çš„éƒ¨åˆ†åˆä¼šè¿æ¥èµ·æ¥ã€‚å†æ¯”å¦‚åœ¨IE6&amp;IE7ä¸­å¯¹å…ƒç´ è®¾ç½®æµ®åŠ¨åï¼Œå…¶åçš„å…ƒç´ å¹¶æœªå æ®è¿™éƒ¨åˆ†ç©ºé—´ï¼Œé€ æˆäº†IE6&amp;IE7ä¸­æµ®åŠ¨å…ƒç´ æœªè„±ç¦»æ–‡æ¡£æµçš„å‡è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…ä¸ŠIE6&amp;IE7æµ®åŠ¨å…ƒç´ ä¹Ÿè„±ç¦»äº†æ–‡æ¡£æµï¼Œåªæ˜¯ç”±äºå…¶åå…ƒç´ çš„hasLayoutè¢«è‡ªåŠ¨è§¦å‘è€Œå¯¼è‡´çš„ã€‚è¿™é‡Œè¯´çš„hasLayoutè¢«è§¦å‘ï¼Œå³æŒ‡å…ƒç´ çš„hasLayoutå±æ€§ä¸ºtrueã€‚ä¸‹åˆ—å…ƒç´ é»˜è®¤hasLayout=â€trueâ€ï¼šä¸‹åˆ— CSS å±æ€§å’Œå–å€¼å°†ä¼šè‡ªåŠ¨è®©ä¸€ä¸ªå…ƒç´ çš„hasLayout=â€trueâ€ï¼šposition: absoluteç»å¯¹å®šä½å…ƒç´ çš„åŒ…å«åŒºå—(containing block)å°±ä¼šç»å¸¸åœ¨è¿™ä¸€æ–¹é¢å‡ºé—®é¢˜ã€‚float: left|rightç”±äº layout å…ƒç´ çš„ç‰¹æ€§ï¼Œæµ®åŠ¨æ¨¡å‹ä¼šæœ‰å¾ˆå¤šæ€ªå¼‚çš„è¡¨ç°ã€‚display: inline-blockå½“ä¸€ä¸ªå†…è”çº§åˆ«çš„å…ƒç´ éœ€è¦ layout çš„æ—¶å€™å¾€å¾€å°±è¦ç”¨åˆ°å®ƒï¼Œè¿™ä¹Ÿå¯èƒ½ä¹Ÿæ˜¯è¿™ä¸ª CSS å±æ€§çš„å”¯ä¸€æ•ˆæœâ€“è®©æŸä¸ªå…ƒç´ æ‹¥æœ‰ layoutã€‚â€inline-blockè¡Œä¸ºâ€åœ¨IEä¸­æ˜¯å¯ä»¥å®ç°çš„ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼š IE/Win: inline-block and hasLayout ã€‚width: é™¤ â€œautoâ€ å¤–çš„ä»»æ„å€¼å¾ˆå¤šäººé‡åˆ° layout ç›¸å…³é—®é¢˜å‘ç”Ÿæ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šå…ˆå°è¯•ç”¨è¿™ä¸ªæ¥ä¿®å¤ã€‚height: é™¤ â€œautoâ€ å¤–çš„ä»»æ„å€¼height: 1% å°±åœ¨ Holly Hack ä¸­ç”¨åˆ°ã€‚zoom: é™¤ â€œnormalâ€ å¤–çš„ä»»æ„å€¼IEä¸“æœ‰å±æ€§ã€‚ä¸è¿‡ zoom: 1 å¯ä»¥ä¸´æ—¶ç”¨åšè°ƒè¯•ã€‚writing-mode: tb-rlMSä¸“æœ‰å±æ€§ã€‚overflow: hidden|scroll|autoåœ¨ IE7 ä¸­ï¼Œoverflow ä¹Ÿå˜æˆäº†ä¸€ä¸ª layout è§¦å‘å™¨ï¼Œè¿™ä¸ªå±æ€§åœ¨ä¹‹å‰ç‰ˆæœ¬ IE ä¸­æ²¡æœ‰è§¦å‘ layout çš„åŠŸèƒ½ã€‚overflow-x|-y: hidden|scroll|autooverflow-x å’Œ overflow-y æ˜¯ CSS3 ç›’æ¨¡å‹ä¸­çš„å±æ€§ï¼Œå°šæœªå¾—åˆ°æµè§ˆå™¨çš„å¹¿æ³›æ”¯æŒã€‚ä»–ä»¬åœ¨ä¹‹å‰ç‰ˆæœ¬IEä¸­æ²¡æœ‰è§¦å‘ layout çš„åŠŸèƒ½ã€‚å¦å¤– IE7 çš„è§å¹•ä¸Šåˆæ–°æ·»äº†å‡ ä¸ª haslayout çš„æ¼”å‘˜ï¼Œå¦‚æœåªä» hasLayout è¿™ä¸ªæ–¹é¢è€ƒè™‘ï¼Œmin/max å’Œ width/height çš„è¡¨ç°ç±»ä¼¼ï¼Œposition çš„ fixed å’Œ absolute ä¹Ÿæ˜¯ä¸€æ¨¡ä¸€æ ·ã€‚position: fixedmin-width: ä»»æ„å€¼å°±ç®—è®¾ä¸º0ä¹Ÿå¯ä»¥è®©è¯¥å…ƒç´ è·å¾— layoutã€‚max-width: é™¤ â€œnoneâ€ ä¹‹å¤–çš„ä»»æ„å€¼min-height: ä»»æ„å€¼ã€‚å³ä½¿è®¾ä¸º0ä¹Ÿå¯ä»¥è®©è¯¥å…ƒç´ çš„ haslayout=truemax-height: é™¤ â€œnoneâ€ ä¹‹å¤–çš„ä»»æ„å€¼å¦‚æœBUGæ˜¯ç”±äºhasLayoutæœªè§¦å‘æ‰€å¼•èµ·çš„ï¼Œåˆ™å¯é‡‡ç”¨æ‰‹åŠ¨è§¦å‘hasLayoutæ¥è§£å†³ï¼šåŠæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªç”Ÿåƒ»çš„CSSå±æ€§zoomæ¥è§¦å‘ï¼Œå¼•ç”¨æ ·å¼.zoom{zoom:1}ã€‚å¦‚æœBUGæ˜¯hasLayoutè¢«è‡ªåŠ¨è§¦å‘è€Œå¼•èµ·çš„ï¼Œåˆ™è¦çœ‹è§¦å‘æ˜¯ä»€ä¹ˆå¼•èµ·çš„ï¼Œè‹¥è¿™å…ƒç´ æœ¬èº«å°±ä¼šè‡ªåŠ¨è§¦å‘hasLayoutï¼Œå¯ä»¥è€ƒè™‘æ¢ä¸€ä¸ªå…ƒç´ ã€‚è‹¥æ˜¯å¯¹äºè¿™å…ƒç´ è®¾ç½®çš„æŸä¸ªCSSå±æ€§å¼•èµ·çš„ï¼Œåˆ™å¯ä»¥è€ƒè™‘åˆ é™¤è¿™å±æ€§ï¼Œå€˜è‹¥è¿™å±æ€§åˆæ˜¯å¿…è¦çš„ï¼Œåˆ™å°±éœ€è¦è‡ªå·±æ ¹æ®å…·ä½“æƒ…å†µå»ç¼–å†™CSS Hackï¼Œå› ä¸ºhasLayoutæ˜¯åªè¯»çš„ï¼Œä¸€æ—¦hasLayout=â€trueâ€åï¼Œä¾¿ä¸å¯é€†è½¬ã€‚6.è¡Œå†…å…ƒç´ ä¸Šä¸‹marginåŠpaddingä¸æ‹‰å¼€å…ƒç´ é—´è·çš„é—®é¢˜ï¼šè¡Œå†…å…ƒç´ çš„marginå’Œpaddingå±æ€§å¾ˆå¥‡æ€ªï¼Œæ°´å¹³æ–¹å‘çš„padding-leftã€padding-rightã€margin-leftã€margin-rightéƒ½äº§ç”Ÿè¾¹è·æ•ˆæœï¼Œä½†ç«–ç›´æ–¹å‘çš„padding-topã€padding-bottomã€margin-topã€margin-bottomå´ä¸ä¼šäº§ç”Ÿè¾¹è·æ•ˆæœã€‚ä¾‹å¦‚ï¼šHTMLï¼š CSS:div{background:gray;padding:20px;}span{background:green;padding:20px;margin:20px;}å„æµè§ˆå™¨é¢„è§ˆç»“æœï¼šå¯è§ç«–ç›´æ–¹å‘çš„paddingã€marginè™½ç„¶å¢å¤§äº†è¡Œå†…å…ƒç´ çš„é¢ç§¯ï¼Œä½†å¹¶æ²¡æœ‰å’Œç›¸é‚»å…ƒç´ æ‹‰å¼€è·ç¦»ï¼Œå¯¼è‡´äº†å…ƒç´ é‡å ã€‚è§£å†³é—®é¢˜ï¼šå°†è¡Œå†…å…ƒç´ displayè®¾ç½®ä¸ºblockå³å¯è§£å†³ä¿®æ”¹åCSSï¼šspan{background:green;padding:20px;margin:20px;display:block;}å„æµè§ˆå™¨é¢„è§ˆç»“æœï¼šä½†ç”±äºå—çº§å…ƒç´ ä¸è¡Œå†…å…ƒç´ çš„é»˜è®¤æ ·å¼ä¸åŒï¼Œå¯èƒ½ä¼šå› æ­¤ä¹¦å†™é¢å¤–çš„æ ·å¼ä»£ç ã€‚æ¯”å¦‚widthæ ·å¼ï¼Œå› ä¸ºå—çº§å…ƒç´ é»˜è®¤å æ®æ•´è¡Œã€‚7.IE6ä¸‹selectå…ƒç´ æ˜¾ç¤ºé—®é¢˜ï¼šæµè§ˆå™¨è§£æé¡µé¢æ—¶ï¼Œä¼šå…ˆåˆ¤æ–­å…ƒç´ çš„ç±»å‹ï¼Œå¦‚æœæ˜¯çª—å£ç±»å‹çš„ï¼Œä¼šä¼˜å…ˆäºéçª—å£ç±»å‹çš„å…ƒç´ ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢æœ€é¡¶ç«¯ï¼Œå¦‚æœåŒå±äºéçª—å£ç±»å‹çš„ï¼Œæ‰ä¼šå»åˆ¤æ–­z-indexçš„å¤§å°ã€‚selectå…ƒç´ åœ¨IE6ä¸‹æ˜¯ä»¥çª—å£å½¢å¼æ˜¾ç¤ºçš„ï¼Œè¿™æ˜¯IE6çš„ä¸€ä¸ªBugã€‚å¯¼è‡´çš„æƒ…å†µæ˜¯å¾€å¾€æƒ³è¦å¼¹å‡ºä¸€ä¸ªå±‚ï¼Œç»“æœselectå…ƒç´ å‡ºç°åœ¨å±‚ä¸Šæ–¹ã€‚ä¾‹å¦‚ï¼šHTMLï¼š CSSï¼š 12345678910div{ position:absolute; background:#CCDCEE; top:0px; left:0px; width:300px; height:300px; border:1px solid #000; margin:5px;} IE6é¢„è§ˆç»“æœï¼šè§£å†³é—®é¢˜ï¼šæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå’Œå¼¹å‡ºå±‚åŒæ ·å¤§å°çš„iframeæ”¾åœ¨å±‚ä¸‹é¢ï¼Œselectä¸Šé¢ï¼Œç”¨iframeé®ä½selectã€‚æ¯”å¦‚è®¾ç½®å¼¹å‡ºå±‚çš„æ ·å¼z-index:2ï¼Œiframeçš„æ ·å¼z-index:1ï¼Œä½¿iframeä½äºå±‚ä¸‹æ–¹ã€‚ä¿®æ”¹åHTMLï¼š ä¿®æ”¹åCSSï¼š div{ position:absolute; background:#CCDCEE; top:0px; left:0px; width:300px; height:300px; border:1px solid #000; margin:5px; z-index:2;}iframe{ position:absolute; top:0px; left:0px; width:300px; height:300px; margin:5px; z-index:1;} æˆ‘ä»¬è®©iframeä½äºdivä¸‹æ–¹ï¼Œå¤§å°ä»¥åŠä¸æµè§ˆå™¨çš„è·ç¦»è°ƒæ•´æˆä¸divä¸€è‡´ã€‚IE6é¢„è§ˆç»“æœï¼š8.IE6å¯¹pngçš„é€æ˜åº¦æ”¯æŒé—®é¢˜ï¼špngæ ¼å¼å› ä¸ºå…¶ä¼˜ç§€çš„å‹ç¼©ç®—æ³•å’Œå¯¹é€æ˜åº¦çš„å®Œç¾æ”¯æŒï¼Œæˆä¸ºWebä¸­æœ€æµè¡Œçš„å›¾ç‰‡æ ¼å¼ä¹‹ä¸€ã€‚ä½†å®ƒå­˜åœ¨ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„å¤´ç–¼é—®é¢˜â€”IE6ä¸‹å¯¹pngçš„é€æ˜åº¦æ”¯æŒå¹¶ä¸å¥½ã€‚æœ¬è¯¥æ˜¯é€æ˜çš„åœ°æ–¹ï¼Œåœ¨IE6ä¸‹ä¼šæ˜¾ç¤ºä¸ºæµ…è“è‰²ã€‚å¯ä»¥ä½¿ç”¨IEä¸‹ç§æœ‰çš„æ»¤é•œåŠŸèƒ½æ¥è§£å†³é—®é¢˜ï¼Œæ ¼å¼å¦‚ä¸‹ï¼šfilter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=â€™pngå›¾ç‰‡è·¯å¾„â€™,sizingMethod=â€™cropâ€™)ã€‚9.ulçš„ä¸åŒè¡¨ç°ï¼šulåˆ—è¡¨ä¹Ÿæ˜¯åœ¨IEä¸Firefoxä¸­å®¹æ˜“å‘ç”Ÿé—®é¢˜çš„å¯¹è±¡ï¼Œä¸»è¦æºè‡ªæµè§ˆå™¨å¯¹ulå¯¹è±¡çš„é»˜è®¤å€¼è®¾ç½®ã€‚åœ¨IEä¸Firefoxä¸­ï¼Œä¸€éƒ¨åˆ†å¯¹è±¡æœ‰é»˜è®¤çš„å±æ€§ï¼ˆæ¯”å¦‚h1~h6ï¼‰ï¼Œä»–ä»¬æœ¬èº«å°±å¸¦æœ‰å¤§å­—å·ã€åŠ ç²—æ ·å¼ä»¥åŠä¸€äº›è¾¹è·æ•ˆæœã€‚ulä¹Ÿæ˜¯å¦‚æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ulæ˜¯æœ‰è¾¹è·çš„ã€‚ä¾‹å¦‚ï¼šHTMLï¼š CSSï¼š 1# layout{border:1px solid #333;} ul{list-style:none;}ä»£ç éå¸¸ç®€å•ï¼Œä»…å»é™¤äº†ulçš„åˆ—è¡¨åœ†ç‚¹ã€‚çœ‹ä¸‹åœ¨IEå’ŒFirefoxçš„é¢„è§ˆæ•ˆæœï¼šIEé¢„è§ˆç»“æœï¼šFirefoxé¢„è§ˆç»“æœï¼šæ˜¾ç¤ºéƒ½å¾ˆæ­£å¸¸ï¼Œå…³é”®åœ¨äºæˆ‘ä»¬å¯¹ulæ¥ä¸‹æ¥çš„è®¾ç½®ï¼šä¿®æ”¹åçš„CSSï¼š 123456# layout{border:1px solid #333;}ul{ list-style:none; margin-left:0px;} è®¾ç½®ulå·¦å¤–è¾¹è·ä¸º0åã€‚IEé¢„è§ˆç»“æœï¼š Firefoxé¢„è§ˆç»“æœï¼š é¢„è§ˆåå‘ç°é—®é¢˜å‡ºç°äº†ã€‚IEä¸­çš„ulå·²ä¸divé é½ï¼Œè€ŒFirefoxä¸­çš„ulå´ä¸æ¯«ä¸åŠ¨ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿä¸å¦¨æŠŠæ ·å¼ä¿®æ”¹ä¸‹å†çœ‹çœ‹ã€‚ä¿®æ”¹åçš„CSSï¼š 123456#layout{border:1px solid #333;}ul{ list-style:none; padding-left:0px;} è¿™æ¬¡æˆ‘ä»¬æŠŠmargin-leftæ¢æˆpadding-leftã€‚å†æ¥çœ‹çœ‹é¢„è§ˆç»“æœã€‚IEé¢„è§ˆç»“æœï¼š Firefoxé¢„è§ˆç»“æœï¼š å¯è§æ•ˆæœæ­£å¥½ç›¸åï¼ŒFirefoxä¸­å®ç°äº†é é½ï¼Œè€ŒIEä¸­ä¸æ¯«æœªåŠ¨ã€‚é€šè¿‡ä»¥ä¸Šä¾‹å­æˆ‘ä»¬å‘ç°ï¼šåœ¨IEä¸­ï¼Œulçš„é»˜è®¤è¾¹è·æ˜¯marginï¼Œåœ¨Firefoxä¸­ï¼Œulçš„é»˜è®¤è¾¹è·æ˜¯paddingã€‚æˆ‘ä»¬å•ç‹¬å®šä¹‰marginæˆ–paddingæ—¶ï¼Œè‡ªç„¶ä¸èƒ½åœ¨ä¸¤ä¸ªæµè§ˆå™¨è¾¾åˆ°ä¸€è‡´æ•ˆæœã€‚è¿™å°±æ˜¯ulåœ¨ä¸åŒæµè§ˆå™¨ä¸‹è¡¨ç°ä¸åŒçš„é—®é¢˜æ‰€åœ¨ã€‚è§£å†³é—®é¢˜ï¼šå¯ä»¥ç”¨hackæ–¹æ³•åˆ†åˆ«é’ˆå¯¹IEå’ŒFirefoxå•ç‹¬å†™æ ·å¼ï¼Œä½†æ›´å¥½çš„åšæ³•æ˜¯æ ·å¼å¼€å¤´å…ˆç»Ÿä¸€ulè¾¹è·ï¼Œul{padding:0px;margin:0px;}ã€‚10.IE3pxé—®é¢˜ï¼š3pxé—®é¢˜ä¸æ˜¯ç»å¸¸è¢«äººå‘ç°ï¼Œå› ä¸ºå®ƒçš„å½±å“åªäº§ç”Ÿ3pxçš„ä½ç§»ã€‚å¦‚æœæ˜¯ç²¾ç¡®åˆ°åƒç´ çº§çš„è®¾è®¡ï¼Œ3pxçš„å½±å“å¯è°“ä¸å°ã€‚å…ˆæ¥çœ‹ä¸‹ä¾‹å­ï¼šHTMLï¼š 12&lt;div id=&quot;left&quot;&gt;å·¦æµ®åŠ¨div&lt;/div&gt;&lt;div id=&quot;mydiv&quot;&gt;æ®µè½div&lt;/div&gt; CSSï¼š 12345678910111213#left{ float:left; border:1px solid #333; width:100px; height:100px;}#mydiv{ border:1px solid #f66; margin-left:130px;} leftæ˜¯å¼•å‘Bugçš„ä¸€ä¸ªæµ®åŠ¨divï¼ŒåŒæ—¶è®¾ç½®äº†è¾¹æ¡†ä¾¿äºè§‚å¯ŸIEé¢„è§ˆç»“æœï¼š Firefoxé¢„è§ˆç»“æœï¼š ä»ç†è®ºä¸Šè®²ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰è®¾ç½®#mydivçš„paddingï¼Œå®ƒä»¬ç†æ‰€å½“ç„¶æ˜¯ç´§è´´è¾¹æ¡†çš„ã€‚ä½†åœ¨IEä¸­ï¼Œâ€œæ®µè½â€æ–‡å­—å¹¶æœªç´§ç´§è´´ä½#leftã€‚åœ¨å®é™…ä¸­å¯èƒ½ä¼šå› æ­¤å¯¼è‡´å†…éƒ¨å…ƒç´ å®½åº¦è¶…å‡ºå¤–éƒ¨divå›ºå®šå®½åº¦è€Œå¼•å‘å¸ƒå±€é—®é¢˜ã€‚è§£å†³é—®é¢˜ï¼šæ˜¯æŠŠ#mydivè®¾ç½®ä¸ºdisplay:inline-blockã€‚ä¿®æ”¹åCSSï¼š 1234567891011121314#left{ float:left; border:1px solid #333; width:100px; height:100px;}#mydiv{ border:1px solid #f66; margin-left:130px; +display:inline-block;} ç”¨hackæ–¹æ³•ä¸ºIEå•ç‹¬è®¾ç½®display:inline-blockåã€‚IEå„ç‰ˆæœ¬é¢„è§ˆç»“æœï¼š ç»“æœä¸Firefoxä¸€è‡´ã€‚11.é«˜åº¦ä¸é€‚åº”é—®é¢˜ï¼šé«˜åº¦ä¸é€‚åº”æŒ‡çš„æ˜¯ï¼Œå½“å†…å±‚å¯¹è±¡çš„é«˜åº¦å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¤–å±‚å¯¹è±¡çš„é«˜åº¦ä¸èƒ½è‡ªåŠ¨æ‰©å±•ï¼Œç‰¹åˆ«æ˜¯å½“å†…å±‚å¯¹è±¡ä½¿ç”¨paddingæˆ–marginä¹‹åã€‚é«˜åº¦ä¸é€‚åº”é—®é¢˜ä¸æ˜¯IEçš„ä¸“åˆ©ï¼ŒFirefoxä¹Ÿå‡ºç°è¿™ç§é—®é¢˜ã€‚å…ˆæ¥çœ‹çœ‹ä¾‹å­ï¼šHTMLï¼šCSSï¼š 1234567891011#box{ background-color:#eee;}#box p{ margin-top:20px; margin-bottom:20px; text-align:center;} çœ‹çœ‹ä»£ç åšäº†ä»€ä¹ˆï¼Œé™¤äº†èƒŒæ™¯ä¹‹å¤–ï¼Œ#boxä»…æ˜¯ä¸€ä¸ªæ²¡æœ‰ä»»ä½•æ ·å¼çš„divï¼Œè€ŒpåŠ äº†2ä¸ªå…³é”®å±æ€§margin-top:20pxï¼Œmargin-bottom:20px;ï¼Œå³ä¸Šä¸‹å¤–è¾¹è·éƒ½æ˜¯20pxï¼Œpå¯¹è±¡çš„é«˜åº¦åº”å½“æ˜¯20+20+æ–‡å­—é«˜åº¦ï¼Œå³åº”å½“åœ¨40pxä»¥ä¸Šã€‚ç†è®ºä¸Š#boxè¿™ä¸ªdivçš„é«˜åº¦ä¼šè¢«æŒ¤å¼€ï¼Œè‡³å°‘è¾¾åˆ°40pxä»¥ä¸Šã€‚æˆ‘ä»¬çœ‹çœ‹é¢„è§ˆæ•ˆæœã€‚æµè§ˆå™¨é¢„è§ˆç»“æœï¼š ä¼¼ä¹å¹¶éé¢„æƒ³çš„ç»“æœï¼Œçœ‹ä¸Šå»å¸¦èƒŒæ™¯çš„#boxè¿˜æ˜¯å’Œæ–‡å­—ä¸€æ ·é«˜ï¼Œå¹¶æ²¡æœ‰è¶…è¿‡40pxï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿä¸ºäº†éªŒè¯ä¸€äº›äº‹æƒ…ï¼Œæˆ‘ä»¬åœ¨htmlå‰ååŠ ä¸Šä¸€ä¸ªå¸¦èƒŒæ™¯çš„divã€‚ä¿®æ”¹åçš„HTMLï¼šä¿®æ”¹åçš„CSSï¼š 1234567891011121314#box{ background-color:#eee;}#box p{ margin-top:20px; margin-bottom:20px; text-align:center;}.box2{ background-color:#aaa;} å†æ¥çœ‹ä¸‹é¢„è§ˆç»“æœï¼šæµè§ˆå™¨é¢„è§ˆç»“æœï¼š å¯ä»¥çœ‹åˆ°ä¸Šä¸‹ä¸¤ä¸ªdivå¹¶æ²¡æœ‰ç´§è´´#boxå¯¹è±¡ï¼Œè€Œæ˜¯æœ‰ä¸€å®šçš„é—´è·ã€‚æµ‹é‡ä¸‹ä¼šå‘ç°ï¼Œè¿™ä¸ªé—´è·åˆšå¥½æ˜¯på¯¹è±¡çš„marginä¸Šä¸‹å„20pxã€‚è¿™ä¸ªæµ‹éªŒè¯æ˜äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯#boxå¯¹è±¡å¹¶æ²¡æœ‰å› å…¶ä¸­çš„på¯¹è±¡çš„marginå˜åŒ–è€Œæ”¹å˜è‡ªèº«çš„é«˜åº¦ã€‚è€Œpå¯¹è±¡çš„marginé«˜åº¦çš„ç¡®åœ¨æ•´ä¸ªé¡µé¢ä¸­å æ®äº†ä¸€å®šçš„ç©ºé—´ã€‚ç›¸å½“äº#boxä¸åŠ¨ï¼Œè€ŒpæŠŠè‡ªå·±æ’‘åˆ°äº†#boxå¤–é¢å»äº†ã€‚æ— è®ºæ˜¯IEè¿˜æ˜¯Firefoxï¼Œæµ‹è¯•ä¸­éƒ½ä¼šå‘ç°è¿™ä¸ªé—®é¢˜ã€‚è§£å†³é—®é¢˜ï¼šç»è¿‡ä¸€äº›æµ‹è¯•ï¼Œæˆ‘ä»¬å‘ç°å¯¹#boxå®šä¹‰paddingæˆ–è€…borderï¼Œå°±ä¼šè¿«ä½¿#boxé‡æ–°è®¡ç®—è‡ªå·±çš„é«˜åº¦ï¼Œä»è€Œä½¿è‡ªèº«èƒ½å¤Ÿé€‚åº”å†…å®¹çš„é«˜åº¦å˜åŒ–ã€‚ä½†å¦‚æœå¼ºåˆ¶ç»™å¯¹è±¡è®¾ç½®äº†è¾¹è·åˆä¼šå¸¦æ¥ä½ç§»ã€‚æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªæ–°æ–¹æ³•ï¼Œä¸å†ä»å¯¹è±¡æœ¬èº«çš„å±æ€§å…¥æ‰‹ï¼Œè€Œæ˜¯åœ¨å¯¹è±¡çš„å†…éƒ¨è¿›è¡Œä¿®å¤ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å¯¹è±¡ä¸Šä¸‹å¢åŠ 2ä¸ªé«˜åº¦ä¸º0çš„ç©ºdivï¼Œå¹¶å¼ºåˆ¶å†…å®¹ä¸æ˜¾ç¤ºã€‚ä¿®æ”¹åçš„HTMLï¼š è¿™2ä¸ªdivåªå……å½“äº†å ä½ç¬¦çš„è§’è‰²ï¼Œè€Œä¸å‘ç”Ÿå®é™…çš„å ä½ã€‚è€Œå¯¹å®ƒçš„å¤–å±‚å¯¹è±¡è€Œè¨€ï¼Œç”±äºå…¶ä¸­å¤šäº†ä¸€äº›é€»è¾‘å ä½å¯¹è±¡ä½¿å¾—å®ƒä¼šé‡æ–°è®¡ç®—é«˜åº¦ï¼Œä»è€Œå®ç°é«˜åº¦çš„è‡ªé€‚åº”ã€‚é¢„è§ˆæ•ˆæœï¼š 12.IE6æ–­å¤´å°é—®é¢˜ï¼šæ–­å¤´å°é—®é¢˜æ˜¯å›½å¤–çš„CSSè®¾è®¡è€…ç»™è¿™ä¸ªé—®é¢˜èµ·çš„ä¸€ä¸ªéå¸¸å½¢è±¡çš„åå­—ï¼Œä¸ä¹‹ç›¸åçš„ï¼Œè¢«åˆ‡æ–­çš„ä¸æ˜¯å¯¹è±¡çš„å¤´éƒ¨ï¼Œè€Œæ˜¯å¯¹è±¡çš„åº•éƒ¨ã€‚å…ˆæ¥çœ‹ä¸‹ä¾‹å­ï¼šHTMLï¼š XHTMLä»£ç æœ‰ä¸‰éƒ¨åˆ†ç»„æˆï¼Œä¸€ä¸ªæ˜¯ä¸»å¯¹è±¡#layoutï¼Œä¸»æ¡†æ¶ä¸­æœ‰#leftä¸ºå·¦æµ®åŠ¨å¯¹è±¡ï¼Œå³ä¾§ä¸ºæ™®é€šçš„4ä¸ªé“¾æ¥ï¼Œç±»ä¼¼äºå·¦å³åˆ†æ çš„å¸ƒå±€ã€‚CSSï¼š 1234567891011121314151617# layout{ border:5px solid #35BB0C; width:400px; background-color:#F2F2F2;}# left{ border:5px solid #D4CA25; width:200px; float:left; background-color:#fff;}a:hover{ background-color:#fff;} åœ¨CSSä»£ç éƒ¨åˆ†ï¼Œä¸»è¦è®¾ç½®äº†é“¾æ¥çš„èƒŒæ™¯è‰²ï¼Œ#leftçš„å·¦æµ®åŠ¨ï¼Œä»¥ä¾¿äºæˆ‘ä»¬è§‚å¯Ÿçš„ç²—è¾¹æ¡†æ•ˆæœã€‚å…ˆé€šè¿‡æµè§ˆå™¨çœ‹çœ‹é—®é¢˜æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼Œè§ä¸‹å›¾ï¼šIE6é¢„è§ˆæ•ˆæœï¼š è¿™é‡Œåˆ—å‡ºäº†IE6ç½‘é¡µæ•ˆæœçš„2ä¸ªçŠ¶æ€ï¼Œå½“ç½‘é¡µè¢«æ‰“å¼€æ—¶ï¼Œé¡µé¢æ­£å¸¸æ˜¾ç¤ºï¼Œä¸CSSç¼–ç æŒ‡å®šæ ·å¼ä¸€è‡´ã€‚å½“é¼ æ ‡å³ä¾§çš„â€œé“¾æ¥4â€æ—¶ï¼Œé—®é¢˜å‡ºç°äº†ï¼Œä¸»å¯¹è±¡#layoutä¸‹é¢è¢«åˆ‡æ‰äº†ï¼Œè€Œå‰©ä¸‹çš„é«˜åº¦æ­£å¥½æ˜¯4ä¸ªé“¾æ¥çš„é«˜åº¦ã€‚è€Œå½“é¼ æ ‡ç§»åˆ°â€œé“¾æ¥1â€æˆ–â€œé“¾æ¥2â€æ—¶ï¼Œ#layoutå¯¹è±¡çš„é«˜åº¦åˆæ¢å¤æ­£å¸¸ã€‚è¿™ä¾¿æ˜¯IE6æ–­å¤´å°é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºé“¾æ¥ä¸Šï¼Œå»é™¤é“¾æ¥çš„a:hover{background-color:#fff}æ ·å¼åï¼Œä¸€åˆ‡æ­£å¸¸ã€‚ç»æµ‹è¯•å‘ç°ï¼Œä¸ä»…ä»…æ˜¯background-colorçš„å˜åŒ–ï¼Œå¦‚æœæ”¹å˜hoverçŠ¶æ€ä¸‹é“¾æ¥çš„å…¶ä»–å±æ€§ï¼Œä¹Ÿä¼šå¼•å‘åŒæ ·çš„é—®é¢˜ã€‚ä¾‹å¦‚è®¾ç½®paddingã€borderã€åŠ ç²—ã€æ–œä½“ç­‰ï¼Œéƒ½ä¼šå¼•å‘æ–­å¤´å°é—®é¢˜ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨#layoutä¸­ï¼Œ#leftæ˜¯ä¸ªæµ®åŠ¨å¯¹è±¡ï¼Œè€Œå³æµ‹æ˜¯è‹¥å¹²é“¾æ¥å¯¹è±¡ã€‚å¯¹äºæœªæŒ‡å®šé«˜åº¦çš„å¯¹è±¡è€Œè¨€ï¼ŒIE6ä¼šæ ¹æ®å…¶ä¸­çš„å†…å®¹ï¼ˆä¸ç®¡æµ®åŠ¨ä¸å¦ï¼‰æ¥è®¡ç®—é«˜åº¦çš„å¤§å°ï¼Œè€Œå½“ä¾‹å­ä¸­çš„é“¾æ¥å¯¹è±¡æ˜¯ä¸ªéæµ®åŠ¨å¯¹è±¡ï¼Œå¹¶å…·æœ‰hoveræ”¹å˜border,backgroundåŠpaddingå±æ€§æ—¶ï¼ŒIE6ä¼šè®¤ä¸ºè¿™äº›å±æ€§åŒæ—¶ä¼šæ”¹å˜#layoutçš„é«˜åº¦ï¼Œå› æ­¤å®ƒé‡æ–°è®¡ç®—å¯¹è±¡é«˜åº¦ã€‚è€Œä»¤äººå¤±æœ›çš„æ˜¯ï¼ŒIE6çš„è¿™ç§è‡ªä»¥ä¸ºæ˜¯çš„è¡Œä¸ºå¹¶æ²¡æœ‰è¾¾åˆ°é¢„æœŸç›®çš„ï¼Œå®ƒä¼šæŠŠéæµ®åŠ¨å¯¹è±¡çš„æ€»é«˜åº¦ä½œä¸ºé«˜åº¦ç»™äº†#layoutï¼Œä»è€Œåˆ‡æ–­äº†#leftçš„å†…å®¹ã€‚åŸºäºè¿™ç±»é—®é¢˜çš„äº§ç”ŸåŸå› ï¼Œè§£å†³æ–¹æ¡ˆå¯ä»¥æœ‰å¤šç§ã€‚è§£å†³é—®é¢˜ï¼šæ ¹æ®é—®é¢˜äº§ç”Ÿçš„åŸå› ï¼Œæˆ‘ä»¬å¯ä»¥åšå‡ºå¤šå¥—è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬çŸ¥é“å› ä¸ºéæµ®åŠ¨å¯¹è±¡ä¸æµ®åŠ¨å¯¹è±¡éƒ½åœ¨#layoutä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»æµ®åŠ¨æ–¹å¼å…¥æ‰‹ï¼ŒæŠŠéæµ®åŠ¨å¯¹è±¡æ”¹ä¸ºæµ®åŠ¨å¯¹è±¡ï¼Œè¿™æ ·ä¾¿å¯ä»¥è§£å†³é—®é¢˜ã€‚ä¾‹å¦‚å¯¹XHTMLä¿®æ”¹å¦‚ä¸‹ï¼š å¯¹é“¾æ¥åŠ ä¸Šä¸ªdivï¼Œå¹¶è®¾ç½®æµ®åŠ¨#right{float:left}ã€‚è¿™æ ·ä½¿å¾—ä¸¤ä¸ªå¯¹è±¡éƒ½æˆä¸ºæµ®åŠ¨å¯¹è±¡ï¼Œä¸ä¼šå¼•å‘é—®é¢˜ã€‚ä¹Ÿå¯ä»¥åœ¨#layoutåº•éƒ¨å¢åŠ ä¸€ä¸ªdivæ¥å¼ºåˆ¶IEæµè§ˆå™¨é‡æ–°è®¡ç®—é«˜åº¦ï¼Œè¿™ä¸ªæ¸…é™¤æµ®åŠ¨å†…å®¹çš„divä¼šå¸®åŠ©æµè§ˆå™¨é‡æ–°æ‰¾åˆ°åˆé€‚çš„é«˜åº¦ï¼Œä»è€Œè§£å†³æ–­å¤´å°é—®é¢˜ã€‚13.å®¹å™¨ä¸æ‰©å±•é—®é¢˜ï¼šå®¹å™¨ä¸æ‰©å±•é—®é¢˜æ˜¯æˆ‘ä»¬ç»å¸¸é‡åˆ°çš„ã€‚æ¯”å¦‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªdivåµŒå¥—ç»“æ„:HTMLï¼š CSSï¼š 1234567891011# divGroup{ border:2px solid #333;}# a,#b{ border:2px solid #333; float:left; margin:5px;} IEé¢„è§ˆç»“æœï¼š Firefoxé¢„è§ˆç»“æœï¼š å¯è§å¤–å±‚çš„é«˜åº¦å¹¶æ²¡æœ‰éšç€å­å®¹å™¨çš„é«˜åº¦è‡ªåŠ¨æ‰©å±•ï¼Œå´æ˜¯å½¢æˆäº†ä¸€æ¡çº¿ã€‚è¿™æ˜¯å› ä¸ºå½“å­å®¹å™¨æˆä¸ºæµ®åŠ¨å…ƒç´ åï¼Œå¹¶è„±ç¦»äº†æ–‡æ¡£æµã€‚å› æ­¤çˆ¶å®¹å™¨è®¤ä¸ºè‡ªå·±å†…å®¹ä¸ºç©ºï¼Œä»è€Œé€ æˆäº†è¿™æ ·çš„ç»“æœã€‚è§£å†³é—®é¢˜ï¼šè§£å†³æ–¹æ¡ˆæ˜¯åœ¨å®¹å™¨çš„æœ«å°¾åŠ å…¥ä¸ªæ¸…ç†æµ®åŠ¨çš„divã€‚ä¿®æ”¹åçš„HTMLï¼š å¦‚æœè¿˜æƒ³é˜²æ­¢è¿™ä¸ªå…ƒç´ å æ®çˆ¶å…ƒç´ çš„é«˜åº¦ï¼Œå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–æˆ ï¼Œè¿™æ ·è¿™ä¸ªæ¸…é™¤æµ®åŠ¨çš„å®¹å™¨è¢«è®¤ä¸ºæ˜¯ä¸ªä¸å ä»»ä½•é«˜åº¦çš„ç©ºæ ¼å­—ç¬¦ã€‚åœ¨ç½‘é¡µä¸­çš„ä»»ä½•åœ°æ–¹ï¼Œå½“é‡åˆ°å®¹å™¨ä¸æ‰©å±•æ—¶ï¼Œåªéœ€åŠ å…¥æ­¤æ®µä¾¿èƒ½ä¿®å¤é—®é¢˜ã€‚14.IE8å’ŒFireFoxçˆ¶å­å…ƒç´ ä¸Šä¸‹marginå åŠ é—®é¢˜ï¼šå…ˆçœ‹ä¸‹æ•ˆæœï¼š&lt; span&gt;div class=â€grayâ€&lt;&lt; span&gt;div class=â€blueâ€&lt;div&lt;&lt; span&gt;div class=â€blackâ€&lt;div&lt;div&lt; .gray{ background:gray; width:200px; margin:20px;}.blue{ background:blue; width:100px; height:100px; margin:20px;}.black{ background:black; width:100px; height:100px; margin:20px;} ä¸Šå›¾ä¸­ï¼Œè“è‰²divå’Œé»‘è‰²divæ˜¯ç°è‰²divçš„å­å…ƒç´ ï¼Œä¸‰ä¸ªdivçš„marginéƒ½æ˜¯20ï¼Œä½†æ˜¯æˆ‘ä»¬çœ‹åˆ°è“è‰²divä¸å…¶çˆ¶å…ƒç´ çš„ä¸Šè¾¹ç•Œå¹¶æ²¡æœ‰20pxçš„é—´éš™ï¼Œé»‘è‰²divä¸å…¶çˆ¶å…ƒç´ çš„ä¸‹è¾¹ç•Œä¹Ÿæ²¡æœ‰20pxçš„é—´éš™ï¼Œä¹Ÿå°±æ˜¯è¯´è“è‰²divçš„ä¸Šå¤–è¾¹è·ä¸å…¶çˆ¶å…ƒç´ çš„ä¸Šå¤–è¾¹è·å åŠ åœ¨äº†ä¸€èµ·ï¼Œå°±å¥½åƒæ˜¯è“è‰²divçš„ä¸Šå¤–è¾¹è·è·‘å‡ºå»äº†ä¸€æ ·ã€‚é»‘è‰²divä¹Ÿæ˜¯åŒç†ã€‚è¿™å°±æ˜¯çˆ¶å…ƒç´ ä¸å­å…ƒç´ çš„è¾¹è·å åŠ æ•ˆæœï¼Œå åŠ åçš„å–å€¼å–çš„æ˜¯ä¸¤è€…ä¸­è¾ƒå¤§çš„é‚£ä¸ªã€‚ç»æµ‹è¯•ï¼Œåªè¦çˆ¶å…ƒç´ æœ‰borderæˆ–paddingï¼Œå°±ä¸ä¼šè§¦å‘è¿™ä¸ªé—®é¢˜ã€‚ç„¶è€Œåˆ»æ„ç»™çˆ¶å…ƒç´ è®¾ç½®borderæˆ–paddingåˆä¼šå¸¦æ¥ä½ç§»ã€‚å¯é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•æ¥æ ¹æœ¬è§£å†³é—®é¢˜ï¼šè§£å†³é—®é¢˜ï¼šç»™çˆ¶å…ƒç´ è®¾ç½®overflow:hidden;å³å¯è§£å†³ã€‚å†æ¥é¢„è§ˆä¸‹ï¼šIE8ï¼š è§£å†³äº†ã€‚FireFoxï¼š ä¹Ÿè§£å†³äº†ã€‚15.IE6é«˜åº¦ä¸å›ºå®šé—®é¢˜ï¼šå…¸å‹BUG1ï¼šIE6ä¸‹ï¼Œå³ä½¿ç»™çˆ¶å…ƒç´ è®¾äº†å›ºå®šé«˜åº¦ï¼Œå­å…ƒç´ è¿˜æ˜¯ä¼šå°†å…¶æ’‘å¼€ã€‚å…¸å‹BUG2ï¼šå¦‚æœä¸€ä¸ªå…ƒç´ æ²¡æœ‰å­å…ƒç´ ï¼Œè€Œè¿™ä¸ªå…ƒç´ è®¾ç½®çš„lengthåˆå°äºdivé»˜è®¤é«˜åº¦ï¼Œåˆ™è¿™ä¸ªå…ƒç´ åœ¨IE6é‡Œæ˜¾ç¤ºçš„é«˜åº¦ä»ç„¶æ˜¯divçš„é»˜è®¤é«˜åº¦ã€‚å¼•å‘ä»¥ä¸Š2ä¸ªBUGçš„åŸå› åœ¨äºlengthå±æ€§åœ¨IE6é‡Œè¢«å½“ä½œmin-lengthï¼ˆæœ€å°é«˜åº¦ï¼‰è§£æäº†ï¼Œï¼ˆæ¢å¥è¯è¯´ï¼Œä½ å‹æ ¹åœ¨IE6ä¸­å°±æ²¡è®¾ç½®è¿‡å›ºå®šé«˜åº¦ï¼Œå› ä¸ºä½ è®¾ç½®çš„æ˜¯æœ€å°é«˜åº¦ï¼‰è§£å†³åŠæ³•æ˜¯å†ç»™çˆ¶å…ƒç´ è®¾ç½®overflow:hidden;16.IE6è®¾ç½®äº†æœ€å°é«˜åº¦å¹¶æ’‘æ»¡çˆ¶å…ƒç´ é«˜åº¦ï¼šé»˜è®¤æƒ…å†µä¸‹å¦‚æœå¯¹IE6è®¾ç½®äº†æœ€å°é«˜åº¦200pxï¼Œé‚£ä¹ˆå¦‚æœå®é™…å†…å®¹æœ‰250pxï¼Œåˆ™åªä¼šæ˜¾ç¤º250pxçš„é«˜åº¦ã€‚ä¹Ÿå°±æ˜¯é«˜åº¦ä¼šè·Ÿéšç€å†…å®¹æ˜¾ç¤ºã€‚å¦‚æœæ­¤æ—¶å¸Œæœ›æ— è®ºé‡Œé¢å†…å®¹æœ‰å¤šå°‘ï¼Œéƒ½è®©å…¶å¡«å……æ»¡çˆ¶å…ƒç´ é«˜åº¦ï¼Œåˆ™è¦è¿™ä¹ˆè®¾ç½®ï¼šheight:auto!important;height:200px;min-height:200px;17.IE6ã€IE7ä¸‹æµ®åŠ¨å…ƒç´ æœªè„±ç¦»æ–‡æ¡£æµå‡è±¡çš„é—®é¢˜ï¼šå¯¹å…ƒç´ è®¾ç½®æµ®åŠ¨åï¼Œåœ¨IE6&amp;IE7ä¸‹é¢„è§ˆï¼Œä¼šäº§ç”Ÿå…ƒç´ æœªè„±ç¦»æ–‡æ¡£æµçš„å‡è±¡çš„ç°è±¡ã€‚å…¶å®å…ƒç´ è„±ç¦»æ–‡æ¡£æµäº†ï¼Œè¿™é—®é¢˜å…¶å®æ˜¯å…¶åçš„å…ƒç´ å¼•èµ·çš„ã€‚ç”±äºå…¶åçš„å…ƒç´ å› æŸäº›åŸå› é€ æˆhasLayoutè¢«è§¦å‘è€Œå¯¼è‡´çš„å®ƒæœªå»å æ®æµ®åŠ¨å…ƒç´ çš„ç©ºé—´ï¼ˆè¿™é—®é¢˜è¯´èµ·æ¥è¯é•¿ï¼Œä½ å°±è¿™ä¹ˆç†è§£å¥½äº†ï¼šè¿™ä¸ªå¤§æ¦‚è¿½æœ”åˆ°è¡¨æ ¼å¸ƒå±€çš„å¹´ä»£ï¼Œç”±äºå•å…ƒæ ¼éƒ½æ˜¯æœ‰hasLayoutçš„ï¼Œè€Œåé¢å•å…ƒæ ¼é‡Œçš„å…ƒç´ è‚¯å®šä¸ä¼šè·‘å‰é¢çš„å•å…ƒæ ¼é‡Œå»çš„ï¼‰ã€‚å…³äºhasLayoutï¼Œåœ¨ç¬¬5æ¡é‡Œæœ‰è¯¦ç»†è¯´æ˜ï¼Œè¿™é‡Œå•ç‹¬æå‡ºæ¥ä½œä¸ºä¸€æ¡æ¥è¯´æ˜ï¼Œä»…å› ä¸ºè¿™ä¸ªæµ®åŠ¨æœªè„±ç¦»æ–‡æ¡£æµå‡è±¡çš„é—®é¢˜æ¯”è¾ƒå…¸å‹ã€‚18.å…¨å±é®ç½©åå±…ä¸­æ˜¾ç¤ºä¸€ä¸ªå¯¹è¯å±‚ï¼šä¸‹é¢æ˜¯é®ç½©å±‚ï¼šç»å¯¹å®šä½ï¼Œå®½é«˜éƒ½100%ï¼Œå¹¶ä¸”åŠé€æ˜ .over{ position:absolute; width:100%; height:100%; top:0px; left:0px; background-color:#7E9898; filter:alpha(opacity=50); -moz-opacity:0.5; -khtml-opacity:0.5; opacity:0.5;} ä¸‹é¢æ˜¯å¯¹è¯å±‚ï¼šä¹Ÿæ˜¯ç»å¯¹å®šä½ï¼š .confirm{ position:absolute; width:400px; height:300px; background:#FFFFFF; top:300px; left:0px;} è¿™é‡Œçš„æç¤ºå±‚ä¸è¦åµŒå¥—åœ¨é®ç½©å±‚é‡Œé¢ï¼Œå¦åˆ™ä¹Ÿä¼šå—å½±å“ï¼Œå˜æˆåŠé€æ˜çš„äº†ã€‚è¦è®©æç¤ºå±‚è·Ÿé®ç½©å±‚å¹¶åˆ—ã€‚è¿™é‡Œè¿˜æœ‰2ä¸ªé—®é¢˜ï¼š1.å•å•å¯¹é®ç½©å±‚ä½¿ç”¨height:100%ï¼Œåªæœ‰IE6ä¼šè¾¾åˆ°æ•ˆæœï¼Œè€Œå…¶ä»–æµè§ˆå™¨ä¸€æ—¦åªä¼šæ˜¯å½“å‰å¯è§åŒºåŸŸé®ä¸Šäº†ï¼Œå¦‚æœæ‹–åŠ¨çºµå‘æ»šåŠ¨æ¡ï¼Œå‘ç°ä¸‹æ–¹è¿˜æœ‰æ²¡é®ç›–ä¸Šã€‚2.ç”¨æˆ·ç”µè„‘åˆ†è¾¨ç‡ä¸åŒï¼Œè€Œç»å¯¹å®šä½çš„æç¤ºå±‚ä½¿ç”¨margin:300px autoä¹Ÿæ— æ•ˆã€‚ä¸ºäº†è¾¾åˆ°å„æµè§ˆå™¨ç½‘é¡µå¯è§åŒºåŸŸå…¨éƒ¨é®ç›–çš„æ•ˆæœï¼Œè¿™é‡Œç”¨äº†ä¸‹jqueryè„šæœ¬ï¼Œè§£å†³ä»¥ä¸Š2ä¸ªé—®é¢˜ï¼š$(document).ready(function(){ $(â€œdiv[class=â€™coverâ€™]â€).height($(document).height());//å°†å¯è§åŒºåŸŸéƒ½é®ç½©èµ·æ¥ $(â€œdiv[class=â€™confirmâ€™]â€).css(â€œleftâ€,($(document).width()-($(â€œdiv[class=â€™confirmâ€™]â€).width()))/2+â€pxâ€);//æç¤ºå±‚å±…ä¸­});æœ€ä½³å®è·µï¼š1.å†™DTDå£°æ˜ï¼š&lt;!DOCTYPE html&gt;2.å¼•å…¥base.cssé‡ç½®å„æµè§ˆå™¨é»˜è®¤å±æ€§å€¼ï¼š html,body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td{margin:0px;padding:0px;}table{border-collapse:collapse;border-spacing:0px;}fieldset,img,abbr,acronym{border:0px;}address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:normal;}ol,ul{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:â€™â€™;} 3.åŒæ—¶ä¸ºä¸€ä¸ªå…ƒç´ å†™floatå’Œmargin-leftï¼ˆmargin-rightï¼‰çš„æ—¶å€™ï¼Œä¹ æƒ¯æ€§åœ°æƒ³åˆ°IE6ä¼šåŒå€è¾¹è·ï¼Œç”¨display:inlineè§£å†³ã€‚4.ä¸ºå­å…ƒç´ å†™margin-topæˆ–margin-bottomçš„æ—¶å€™ï¼Œä¹ æƒ¯æ€§çš„å»æ€è€ƒçˆ¶å…ƒç´ æ˜¯å¦æœ‰paddingæˆ–borderå±æ€§ï¼Œä»è€Œæ–­å®šæ˜¯å¦ä¼šåœ¨IE6&amp;IE7ä¸Šäº§ç”Ÿä¸Šä¸‹å¤–è¾¹è·é‡åˆé—®é¢˜ã€‚å¦‚æœæœ‰é—®é¢˜ç”¨overflow:hidden;è§£å†³ã€‚5.ç»™å…ƒç´ è®¾äº†å›ºå®šé«˜åº¦åï¼Œä¹ æƒ¯æ€§åœ°å†è®¾ä¸ªoverflow:hidden;ä»è€Œé¿å…IE6ä¸Šé«˜åº¦ç»§ç»­æ‰©å±•çš„é—®é¢˜ã€‚6.å¿…è¦æ—¶å€™è¦clearï¼Œã€‚7.å¯¹äºæ–‡æœ¬ï¼Œåœ¨ä½¿ç”¨margin-leftã€padding-leftã€margin-topã€padding-topä¹‹å‰ä¼˜å…ˆè€ƒè™‘æ˜¯å¦å¯ç”¨text-indentå’Œline-heightä»£æ›¿ã€‚å› ä¸ºè®¡ç®—å°ºå¯¸çš„ä»£ä»·ç›¸å¯¹æ¥è¯´è¦å¤§äº›ã€‚å¦‚èƒ½åšåˆ°ä»¥ä¸Šå‡ ç‚¹ï¼Œå°±å·²ç»é¿å…äº†90%çš„æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ã€‚","link":"/posts/CSS-%E7%9F%A5%E8%AF%86%E7%82%B9/"},{"title":"ES6æ–°è¯­æ³•ç§¯ç´¯","text":"[TOC] es6å¼ºåˆ¶è®©ä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªé»˜è®¤å€¼123if (!a) { throw Error('cuowu')} è£…é¥°å™¨PromisePromiseè¿·ä½ ä¹¦ jsä¸­Mapå’ŒSetåŒºåˆ«Set å¯¹è±¡ç±»ä¼¼äºæ•°ç»„ï¼Œä¸”æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ Map å¯¹è±¡æ˜¯é”®å€¼å¯¹é›†åˆï¼Œå’Œ JSON å¯¹è±¡ç±»ä¼¼ï¼Œä½†æ˜¯ key ä¸ä»…å¯ä»¥æ˜¯å­—ç¬¦ä¸²è¿˜å¯ä»¥æ˜¯å¯¹è±¡ setä¸­å­˜å‚¨æ— åºå¹¶ä¸”ä¸å¯é‡å¤çš„å…ƒç´ ã€‚mapå­˜å‚¨çš„æ˜¯é”®å€¼å¯¹ã€‚key=&gt;VALUE ç”±äºä¸€ä¸ªkeyåªèƒ½å¯¹åº”ä¸€ä¸ªvalueï¼Œæ‰€ä»¥ï¼Œå¤šæ¬¡å¯¹ä¸€ä¸ªkeyæ”¾å…¥valueï¼Œåé¢çš„å€¼ä¼šæŠŠå‰é¢çš„å€¼å†²æ‰ï¼š Mapï¼šé”®å€¼å¯¹é›†åˆï¼Œå¯¹åº”äº Objectï¼ŒES6 ä¸­mapçš„key å¯ä»¥æ˜¯å¯¹è±¡Listï¼šæœ‰åºå¯é‡å¤çš„åˆ—è¡¨ï¼Œå¯¹åº”äº ArraySetï¼šæ— åºä¸”ä¸å¯é‡å¤çš„åˆ—è¡¨ 123456789101112131415161718192021222324252627282930313233343536const arr = [1, 2, 3, 4, 5, 5, 4, 3, 2, 1]const set = new Set()arr.forEach(item =&gt; set.add(item))console.log(set) // 1, 2, 3, 4, 5var s1 = new Set(); // ç©ºSetvar s2 = new Set([1, 2, 3]); // å«1, 2, 3é‡å¤å…ƒç´ åœ¨Setä¸­è‡ªåŠ¨è¢«è¿‡æ»¤ï¼švar s = new Set([1, 2, 3, 3, '3']);s; // Set {1, 2, 3, &quot;3&quot;}æ³¨æ„æ•°å­—3å’Œå­—ç¬¦ä¸²'3'æ˜¯ä¸åŒçš„å…ƒç´ ã€‚é€šè¿‡add(key)æ–¹æ³•å¯ä»¥æ·»åŠ å…ƒç´ åˆ°Setä¸­ï¼Œå¯ä»¥é‡å¤æ·»åŠ ï¼Œä½†ä¸ä¼šæœ‰æ•ˆæœï¼šs.add(4);s; // Set {1, 2, 3, 4}s.add(4);s; // ä»ç„¶æ˜¯ Set {1, 2, 3, 4}// æ•°ç»„å¿«é€Ÿå»é‡console.log([...new Set(arr)])var map = new Map()var obj = { name: 'å°ç¼˜', age: 14 }map.set(obj, 'å°ç¼˜å–µ')map.get(obj) // å°ç¼˜å–µmap.has(obj) // truemap.delete(obj) // truemap.has(obj) // false æ¨¡ç‰ˆå­—ç¬¦ä¸²ä½¿ç”¨${variable}æ’å…¥å˜é‡ 123var fName = 'Peter', sName = 'Smith', age = 43, job = 'photographer';var a = 'Hi, I\\'m ' + fName + ' ' + sName + ', I\\'m ' + age + ' and work as a ' + job + '.';var b = `Hi, I'm ${ fName } ${ sName }, I'm ${ age } and work as a ${ job }.`; å—çº§ä½œç”¨åŸŸ let constJavaScript æœ¬èº«ä¸€ç›´æ˜¯å‡½æ•°å¼ä½œç”¨åŸŸï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç»å¸¸å°†æ•´ä¸ª JavaScript æ–‡ä»¶å°è£…åœ¨ä¸€ä¸ªç©ºçš„ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰ä¸­çš„åŸå› ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†éš”ç¦»æ–‡ä»¶ä¸­çš„æ‰€æœ‰å˜é‡ï¼Œå› æ­¤å…¨å±€ä¸­å°±ä¸ä¼šå­˜åœ¨å˜é‡åå†²çªã€‚ ES5 ä¸­å¦‚æœä½ æƒ³é™åˆ¶å˜é‡ tmp çš„ä½œç”¨èŒƒå›´ä»…åœ¨æŸä¸€å—ä»£ç ä¸­æœ‰æ•ˆï¼Œä½ ä¸å¾—ä¸ä½¿ç”¨ä¸€ä¸ªå« IIFE(Immediately-Invoked Function Expressionï¼Œç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼) çš„æ¨¡å¼ï¼š 12345678910111213(function () { // IIFE å¼€å§‹ var tmp = Â·Â·Â·; Â·Â·Â·}()); // IIFE ç»“æŸconsole.log(tmp); // ReferenceError// ECMAScript 6 ä¸­å¯ä»¥ç®€å•åœ°ä½¿ç”¨å—å’Œ let ç”³æ˜(æˆ– const ç”³æ˜)ï¼š{ // å—èµ·å§‹ let tmp = Â·Â·Â·; Â·Â·Â·} // å—ç»“æŸconsole.log(tmp); // ReferenceError letlet å£°æ˜çš„å˜é‡å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥å¯ä»¥åœ¨ä¸å½±å“å¤–éƒ¨å˜é‡çš„æƒ…å†µä¸‹å£°æ˜å…·æœ‰ç›¸åŒåç§°çš„æ–°å±€éƒ¨ï¼ˆå†…éƒ¨ï¼‰å˜é‡ã€‚==åŒä¸€ä¸ªå—çº§ä½œç”¨åŸŸä¸èƒ½ç”³æ˜åŒä¸€ä¸ªå˜é‡== 1234567var a = 'car' ;{ let a = 5; console.log(a) // 5 let a = 6 // Identifier 'a' has already been declared}console.log(a) // car varå’Œletä¹‹é—´çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯letä¸ä¼šåƒvarä¸€æ ·è¢«æå‡ã€‚ 123456{ console.log(a); // undefined console.log(b); // ReferenceError var a = 'car'; let b = 5;} ç»å…¸é¢è¯•é¢˜ 123for (var i = 1; i &lt; 5; i++) { setTimeout(() =&gt; { console.log(i); }, 1000);} ConstJavaScript ä¸­å£°æ˜ä¸€ä¸ªå¸¸é‡å˜é‡ï¼Œé‚£ä¹ˆæƒ¯ä¾‹æ˜¯å°†å˜é‡å‘½åå¤§å†™ã€‚ç„¶è€Œï¼Œè¿™å¹¶ä¸èƒ½ä¿è¯å®ƒæ˜¯ä¸€ä¸ªå¸¸é‡ - å®ƒåªæ˜¯è®©å…¶ä»–å¼€å‘äººå‘˜çŸ¥é“è¿™æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸åº”è¯¥æ”¹å˜ã€‚ ==const ä¸ä¼šä½¿å˜é‡ä¸å¯å˜ï¼Œåªæ˜¯é”å®šå®ƒçš„èµ‹å€¼ã€‚ å¦‚æœä½ æœ‰ä¸€ä¸ªå¤æ‚çš„èµ‹å€¼ï¼ˆå¯¹è±¡æˆ–æ•°ç»„ï¼‰ï¼Œé‚£ä¹ˆè¯¥å€¼ä»ç„¶å¯ä»¥ä¿®æ”¹ã€‚== 123456789101112131415161718192021{ const c = &quot;tree&quot;; console.log(c); // tree c = 46; // TypeError!}{ const d = [1, 2, 3, 4]; const dave = { name: 'David Jones', age: 32}; d.push(5); dave.job = &quot;salesman&quot;; console.log(d); // [1, 2, 3, 4, 5] console.log(dave); // { age: 32, job: &quot;salesman&quot;, name: 'David Jones'} // ä¸Šé¢çš„æ–¹å¼ç»™constèµ‹å€¼ä¸æŠ¥é”™ï¼Œ ç›´æ¥ç»™constèµ‹å€¼ï¼ŒæŠ¥é”™ã€‚ dave = {name: 'salesman'} // Assignment to constant variable.} å—çº§ä½œç”¨åŸŸå‡½æ•°é—®é¢˜12345678910111213141516171819å‡½æ•°å£°æ˜ç°åœ¨è¢«æŒ‡å®šä¸ºå¿…é¡»ç»‘å®šåˆ°å—çº§ä½œç”¨åŸŸã€‚{ bar(); // works function bar() { /* do something */ }}bar(); // doesn't workif ( something) { function baz() { console.log('I passed') }} else { function baz() { console.log('I didn\\'t pass') }}baz();åœ¨ ES6 ä¹‹å‰ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°å£°æ˜éƒ½ä¼šè¢«æå‡ï¼Œ\\ç»“æœå°±æ˜¯ â€˜I didn\\â€™t passâ€™ï¼Œä¸ç®¡something æ˜¯ä»€ä¹ˆä¸œè¥¿ã€‚ç°åœ¨æˆ‘ä»¬ä¼šå¾—åˆ° â€˜ReferenceErrorâ€™ï¼Œå› ä¸ºbaz()æ€»æ˜¯å—åˆ°å—èŒƒå›´çš„çº¦æŸã€‚ å»ºè®®ï¼š é¦–é€‰ constã€‚æ‰€æœ‰ä¸ä¼šæ”¹å˜å€¼çš„å˜é‡éƒ½å¯ä»¥ä½¿ç”¨å®ƒã€‚ å…¶å®ƒçš„ä½¿ç”¨ letï¼Œç”¨äºå€¼ä¼šè¢«æ”¹å˜çš„å˜é‡ã€‚ é¿å…ä½¿ç”¨ varã€‚ æ‰©å±•è¿ç®—ç¬¦â€¦è¿ç®—ç¬¦ï¼Œå®ƒè¢«ç§°ä¸ºâ€œæ‰©å±•è¿ç®—ç¬¦â€ã€‚ å®ƒæœ‰ä¸¤ä¸ªä¸»è¦ç”¨é€”ï¼šå°†æ•°ç»„æˆ–å¯¹è±¡åˆ†æ•£åˆ°æ–°çš„æ•°ç»„æˆ–å¯¹è±¡ä¸­ï¼Œå¹¶å°†å¤šä¸ªå‚æ•°åˆå¹¶åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚ â€¦ è¿ç®—ç¬¦çš„å¦ä¸€ä¸ªç‰¹ç‚¹æ˜¯å®ƒåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„æˆ–å¯¹è±¡ã€‚ å°†å˜é‡ä¸€èµ·æ”¶é›†åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚ å½“ä½ ä¸çŸ¥é“æœ‰å¤šå°‘å˜é‡ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œè¿™éå¸¸æœ‰ç”¨ã€‚ 1234567891011121314151617181920212223let a = [3, 4, 5];let b = [1, 2, ...a, 6];console.log(b); // [1, 2, 3, 4, 5, 6]let car = { type: 'vehicle ', wheels: 4};let fordGt = { make: 'Ford', ...car, model: 'GT'};console.log(fordGt); // {make: 'Ford', model: 'GT', type: 'vehicle', wheels: 4}let a = [1, 2, 3];let b = [ ...a ];let c = a;b.push(4);console.log(a); // [1, 2, 3]console.log(b); // [1, 2, 3, 4] referencing different arraysc.push(5);console.log(a); // [1, 2, 3, 5]console.log(c); // [1, 2, 3, 5] referencing the same arrayfunction foo(...args) { console.log(args);}foo( 'car', 54, 'tree'); // [ 'car', 54, 'tree' ] å‡½æ•°é»˜è®¤å‚æ•°ä»¥ä½¿ç”¨é»˜è®¤å‚æ•°å®šä¹‰å‡½æ•°ã€‚ç¼ºå°‘æˆ–æœªå®šä¹‰çš„å€¼å°†ä½¿ç”¨é»˜è®¤å€¼è¿›è¡Œåˆå§‹åŒ–ã€‚åªè¦å°å¿ƒ - å› ä¸ºç©ºå€¼å’Œå‡å€¼ä¼šè¢«å¼ºåˆ¶ä¸º0ã€‚ é»˜è®¤å€¼å¯ä»¥ä¸ä»…ä»…æ˜¯å€¼ - å®ƒä»¬ä¹Ÿå¯ä»¥æ˜¯è¡¨è¾¾å¼æˆ–å‡½æ•°ã€‚ 123456789101112131415161718function foo( a = 5, b = 10) { console.log( a + b);}foo(); // 15foo( 7, 12 ); // 19foo( undefined, 8 ); // 13foo( 8 ); // 18foo( null ); // 10 as null is coerced to 0// é»˜è®¤å€¼ä¸ºå‡½æ•°function foo( a ) { return a * 4; }function bar( x = 2, y = x + 4, z = foo(x)) { console.log([ x, y, z ]);}bar(); // [ 2, 6, 8 ]bar( 1, 2, 3 ); //[ 1, 2, 3 ]bar( 10, undefined, 3 ); // [ 10, 14, 3 ] è§£æ„è§£æ„æ˜¯æ‹†åˆ†ç­‰å·å·¦ä¾§çš„æ•°ç»„æˆ–å¯¹è±¡çš„è¿‡ç¨‹ã€‚æ•°ç»„æˆ–å¯¹è±¡å¯ä»¥æ¥è‡ªå˜é‡ï¼Œå‡½æ•°æˆ–ç­‰å¼ã€‚ æœ‰æ—¶ï¼Œä½ æƒ³å–å€¼ï¼Œå°†å®ƒä»¬åˆ†é…ç»™ä¸€ä¸ªæ–°çš„å˜é‡ã€‚ è¿™æ˜¯é€šè¿‡åœ¨ç­‰å·å·¦è¾¹çš„ key: variable é…å¯¹å®Œæˆçš„ã€‚ å¯¹è±¡è§£æ„å…è®¸çš„å¦ä¸€ä»¶äº‹æ˜¯ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼ã€‚ 123456789101112131415161718192021let [ a, b, c ] = [ 6, 2, 9];console.log(`a=${a}, b=${b}, c=${c}`); //a=6, b=2, c=9function foo() { return ['car', 'dog', 6 ]; }let [ x, y, z ] = foo();console.log(`x=${x}, y=${y}, z=${z}`); // x=car, y=dog, z=6function baz() { return { x: 'car', y: 'London', z: { name: 'John', age: 21} };}let { x: vehicle, y: city, z: { name: driver } } = baz();console.log( `I'm going to ${city} with ${driver} in their ${vehicle}.`); // I'm going to London with John in their car.let { x: first, x: second } = { x: 4 };console.log( first, second ); // 4, 4 å¯¹è±¡å­—é¢é‡å’Œç®€æ˜å‚æ•°å½“æ‚¨ä»å˜é‡åˆ›å»ºå¯¹è±¡å­—é¢é‡æ—¶ï¼ŒES6 å…è®¸æ‚¨åœ¨ä¸ key ä¸å˜é‡åç§°ç›¸åŒçš„æƒ…å†µä¸‹çœç•¥ key åã€‚ 1234let a = 4, b = 7;let c = { a: a, b: b };let concise = { a, b };console.log(c, concise) // {a: 4, b: 7}, {a: 4, b: 7} åŠ¨æ€å±æ€§åç§°ä½¿ç”¨åŠ¨æ€åˆ†é…çš„ key åˆ›å»ºæˆ–æ·»åŠ å±æ€§çš„åŠŸèƒ½ã€‚ 123456let city= 'sheffield_';let a = { [ city + 'population' ]: 350000};a[ city + 'county' ] = 'South Yorkshire';console.log(a); // {sheffield_population: 350000, sheffield_county: 'South Yorkshire' } ç®­å¤´å‡½æ•°ç®­å¤´å‡½æ•°æœ‰ä¸¤ä¸ªä¸»è¦æ–¹é¢ï¼šç»“æ„å’Œthisç»‘å®šã€‚ ä¸éœ€è¦åŠŸèƒ½å…³é”®å­—ï¼Œå¹¶ä¸”å®ƒä»¬è‡ªåŠ¨è¿”å›ç®­å¤´ä¹‹åçš„ä»»ä½•å†…å®¹ã€‚ å¦‚æœå‡½æ•°éœ€è¦çš„ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„è®¡ç®—ï¼Œå¯ä»¥ä½¿ç”¨å¤§æ‹¬å·ï¼Œå¹¶ä¸”è¯¥å‡½æ•°ä¼šè¿”å›èŠ±æ‹¬å·å—èŒƒå›´è¿”å›çš„ä»»ä½•å†…å®¹ã€‚ å¯¹äºç®­å¤´å‡½æ•°æœ€æœ‰ç”¨çš„åœ°æ–¹ä¹‹ä¸€æ˜¯åœ¨map()ï¼ŒforEach()æˆ–sort()ä¹‹ç±»çš„æ•°ç»„å‡½æ•°ä¸­ã€‚ 1234var foo = function( a, b ) { return a * b;}let bar = ( a, b ) =&gt; a * b; æ•°å­—å­—é¢é‡ES5 ä»£ç å¾ˆå¥½åœ°å¤„ç†äº†åè¿›åˆ¶å’Œåå…­è¿›åˆ¶æ•°å­—æ ¼å¼ï¼Œä½†æœªæŒ‡å®šå…«è¿›åˆ¶æ ¼å¼ã€‚äº‹å®ä¸Šï¼Œå®ƒåœ¨ä¸¥æ ¼çš„æ¨¡å¼ä¸‹è¢«ç¦æ­¢ã€‚ ES6æ·»åŠ äº†ä¸€ç§æ–°æ ¼å¼ï¼Œåœ¨æœ€åˆçš„ 0 ä¹‹åæ·»åŠ ä¸€ä¸ª o ï¼ˆæ³¨æ„æ˜¯å­—æ¯ï¼‰ä»¥å°†è¯¥æ•°å­—å£°æ˜ä¸ºå…«è¿›åˆ¶æ•°ã€‚ES6 è¿˜æ·»åŠ äº†äºŒè¿›åˆ¶æ ¼å¼ã€‚ 12345Number( 29 ) // 29Number( 035 ) // 35 in old octal form.Number( 0o35 ) // 29 in new octal formNumber( 0x1d ) // 29 in hexadecimalNumber( 0b11101 ) // 29 in binary form é™æ€æ–¹æ³•ï¼ˆStatic Methodsï¼‰åœ¨ç±»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨staticå…³é”®å­—æ¥å£°æ˜é™æ€æ–¹æ³•ã€‚ç±»çš„å®ä¾‹æ— æ³•è®¿é—®é™æ€æ–¹æ³•ï¼Œå› ä¸ºå£°æ˜é™æ€æ–¹æ³•çš„ç±»å±äºç±»å¯¹è±¡ï¼ˆclass objectï¼‰ã€‚ 1234567891011class Repo{ static getName() { return &quot;Repo name is modern-js-cheatsheet&quot; }}// Note that we did not have to create an instance of the Repo classconsole.log(Repo.getName()) // Repo name is modern-js-cheatsheetlet r = new Repo();console.log(r.getName()) // Uncaught TypeError: repo.getName is not a function é€šè¿‡ä½¿ç”¨thiså…³é”®å­—ï¼Œé™æ€æ–¹æ³•å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œä½†è¿™ä¸é€‚ç”¨äºéé™æ€æ–¹æ³•ï¼ˆnon-static methodsï¼‰ã€‚éé™æ€æ–¹æ³•ä¸èƒ½ç›´æ¥ä½¿ç”¨thiså…³é”®è¯è®¿é—®é™æ€æ–¹æ³•ã€‚ é™æ€æ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªé™æ€æ–¹æ³•è¦æƒ³é™æ€æ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨thiså…³é”®å­—; 1234567891011class Repo{ static getName() { return &quot;Repo name is modern-js-cheatsheet&quot; } static modifyName(){ return this.getName() + '-added-this' }}console.log(Repo.modifyName()) // Repo name is modern-js-cheatsheet-added-this éé™æ€æ–¹æ³•è°ƒç”¨é™æ€æ–¹æ³•éé™æ€æ–¹æ³•å¯ä»¥é€šè¿‡è¿™ä¸¤ç§æ–¹å¼è°ƒç”¨é™æ€æ–¹æ³•; ä½¿ç”¨ç±»åç§°ã€‚ ä¸ºäº†åœ¨éé™æ€æ–¹æ³•é‡Œè®¿é—®é™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬ä½¿ç”¨ç±»åç§°ï¼ˆclass nameï¼‰å¹¶åƒå±æ€§ä¸€æ ·è°ƒç”¨é™æ€æ–¹æ³•ã€‚ä¾‹å¦‚ClassName.StaticMethodName 1234567891011121314class Repo{ static getName() { return &quot;Repo name is modern-js-cheatsheet&quot; } useName(){ return Repo.getName() + ' and it contains some really important stuff' }}// we need to instantiate the class to use non-static methodslet r = new Repo()console.log(r.useName()) // Repo name is modern-js-cheatsheet and it contains some really important stuff ä½¿ç”¨æ„é€ å‡½æ•° é™æ€æ–¹æ³•å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°å¯¹è±¡ï¼ˆconstructor objectï¼‰çš„å±æ€§æ¥è°ƒç”¨ã€‚ 1234567891011121314class Repo{ static getName() { return &quot;Repo name is modern-js-cheatsheet&quot; } useName(){ // Calls the static method as a property of the constructor return this.constructor.getName() + ' and it contains some really important stuff' }}// we need to instantiate the class to use non-static methodslet r = new Repo()console.log(r.useName()) // Repo name is modern-js-cheatsheet and it contains some really important stuff æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡12345state.obj = {...state.obj, newProp: 123}oldObj = Object.assign({}, newObj)oldObj = JSON.parse(JSON.stringify(newObj)) åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§1Vue.set(obj, 'newProp', 123) let1234567var a = [];for(let i=0;i&lt;10;i++){ a[i] = function(){ console.log(i); }}a[6](); ä¸å­˜åœ¨å˜é‡æå‡ 1234567// var çš„æƒ…å†µconsole.log(foo); // è¾“å‡ºundefinedvar foo = 2;// let çš„æƒ…å†µconsole.log(bar); // æŠ¥é”™ReferenceErrorlet bar = 2; ä¸å…è®¸é‡å¤å£°æ˜ä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨é‡æ–°å£°æ˜å‚æ•° 12345678910111213141516171819202122232425 function func(arg) { let arg; // æŠ¥é”™ } function func(arg) { { let arg; // ä¸æŠ¥é”™ } }``` å—çº§ä½œç”¨åŸŸçš„ä¸åˆç†åœºæ™¯1. å†…å±‚å˜é‡å¯èƒ½ä¼šè¦†ç›–å¤–å±‚å˜é‡ã€‚```js var tmp = new Date(); function f() { console.log(tmp); if (false) { var tmp = 'hello world'; } } f(); // undefined ç”¨æ¥è®¡æ•°çš„å¾ªç¯å˜é‡æ³„éœ²ä¸ºå…¨å±€å˜é‡ å¾ªç¯ç»“æŸåï¼Œiå¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œæ³„éœ²æˆäº†å…¨å±€å˜é‡ã€‚ å—çº§ä½œç”¨åŸŸï¼š å¯ä»¥ä»»æ„åµŒå¥— å—çº§ä½œç”¨åŸŸçš„å‡ºç°ï¼Œå®é™…ä¸Šä½¿å¾—è·å¾—å¹¿æ³›åº”ç”¨çš„ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰ä¸å†å¿…è¦äº†ã€‚ 1234567891011// IIFE å†™æ³•(function () { var tmp = ...; ...}());// å—çº§ä½œç”¨åŸŸå†™æ³•{ let tmp = ...; ...} é¿å…åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•°ã€‚å¦‚æœç¡®å®éœ€è¦ï¼Œä¹Ÿåº”è¯¥å†™æˆå‡½æ•°è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜è¯­å¥ã€‚ 123456789101112131415// å‡½æ•°å£°æ˜è¯­å¥{ let a = 'secret'; function f() { return a; }}// å‡½æ•°è¡¨è¾¾å¼{ let a = 'secret'; let f = function () { return a; };} ES6 çš„å—çº§ä½œç”¨åŸŸå…è®¸å£°æ˜å‡½æ•°çš„è§„åˆ™ï¼Œåªåœ¨ä½¿ç”¨å¤§æ‹¬å·çš„æƒ…å†µä¸‹æˆç«‹ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨å¤§æ‹¬å·ï¼Œå°±ä¼šæŠ¥é”™ã€‚ 12345678910// ä¸æŠ¥é”™'use strict';if (true) { function f() {}}// æŠ¥é”™'use strict';if (true) function f() {} constå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚ æ”¹å˜å¸¸é‡çš„å€¼ä¼šæŠ¥é”™ã€‚ const PI = 3.1415; PI // 3.1415 PI = 3; // TypeError: Assignment to constant variable. åªå£°æ˜ä¸èµ‹å€¼ï¼ŒæŠ¥é”™ const foo; // SyntaxError: Missing initializer in const declaration ä½œç”¨åŸŸä¸letå‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚ if (true) { const MAX = 5; } MAX // Uncaught ReferenceError: MAX is not defined å£°æ˜çš„å¸¸é‡ä¹Ÿæ˜¯ä¸æå‡ï¼ŒåŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜çš„ä½ç½®åé¢ä½¿ç”¨ã€‚ if (true) { console.log(MAX); // ReferenceError const MAX = 5; } å£°æ˜çš„å¸¸é‡ï¼Œä¹Ÿä¸letä¸€æ ·ä¸å¯é‡å¤å£°æ˜ã€‚ let age = 25; var message = â€œHello!â€; // ä»¥ä¸‹ä¸¤è¡Œéƒ½ä¼šæŠ¥é”™ const message = â€œGoodbye!â€; const age = 30; æœ¬è´¨constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚å› æ­¤ï¼Œå°†ä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸ºå¸¸é‡å¿…é¡»éå¸¸å°å¿ƒã€‚ 12345678910111213const foo = {};// ä¸º foo æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥æˆåŠŸfoo.prop = 123;foo.prop // 123// å°† foo æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šæŠ¥é”™foo = {}; // TypeError: &quot;foo&quot; is read-onlyconst a = [];a.push('Hello'); // å¯æ‰§è¡Œa.length = 0; // å¯æ‰§è¡Œa = ['Dave']; // æŠ¥é”™ ES6 å£°æ˜å˜é‡çš„å…­ç§æ–¹æ³•varå‘½ä»¤å’Œfunctionå‘½ä»¤ï¼Œletå’Œconstå‘½ä»¤ï¼Œimportå‘½ä»¤å’Œclasså‘½ä»¤ã€‚ é¡¶å±‚å¯¹è±¡çš„å±æ€§ä¸å…¨å±€å˜é‡æŒ‚é’©ï¼Œè¢«è®¤ä¸ºæ˜¯JavaScriptè¯­è¨€æœ€å¤§çš„è®¾è®¡è´¥ç¬”ä¹‹ä¸€ã€‚è¿™æ ·çš„è®¾è®¡å¸¦æ¥äº†å‡ ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œé¦–å…ˆæ˜¯æ²¡æ³•åœ¨ç¼–è¯‘æ—¶å°±æŠ¥å‡ºå˜é‡æœªå£°æ˜çš„é”™è¯¯ï¼Œåªæœ‰è¿è¡Œæ—¶æ‰èƒ½çŸ¥é“ï¼ˆå› ä¸ºå…¨å±€å˜é‡å¯èƒ½æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§åˆ›é€ çš„ï¼Œè€Œå±æ€§çš„åˆ›é€ æ˜¯åŠ¨æ€çš„ï¼‰ï¼›å…¶æ¬¡ï¼Œç¨‹åºå‘˜å¾ˆå®¹æ˜“ä¸çŸ¥ä¸è§‰åœ°å°±åˆ›å»ºäº†å…¨å±€å˜é‡ï¼ˆæ¯”å¦‚æ‰“å­—å‡ºé”™ï¼‰ï¼›æœ€åï¼Œé¡¶å±‚å¯¹è±¡çš„å±æ€§æ˜¯åˆ°å¤„å¯ä»¥è¯»å†™çš„ï¼Œè¿™éå¸¸ä¸åˆ©äºæ¨¡å—åŒ–ç¼–ç¨‹ã€‚å¦ä¸€æ–¹é¢ï¼Œwindowå¯¹è±¡æœ‰å®ä½“å«ä¹‰ï¼ŒæŒ‡çš„æ˜¯æµè§ˆå™¨çš„çª—å£å¯¹è±¡ï¼Œé¡¶å±‚å¯¹è±¡æ˜¯ä¸€ä¸ªæœ‰å®ä½“å«ä¹‰çš„å¯¹è±¡ï¼Œä¹Ÿæ˜¯ä¸åˆé€‚çš„ã€‚ ES6ä¸ºäº†æ”¹å˜è¿™ä¸€ç‚¹ï¼Œä¸€æ–¹é¢è§„å®šï¼Œä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼Œvarå‘½ä»¤å’Œfunctionå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼›å¦ä¸€æ–¹é¢è§„å®šï¼Œletå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»ES6å¼€å§‹ï¼Œå…¨å±€å˜é‡å°†é€æ­¥ä¸é¡¶å±‚å¯¹è±¡çš„å±æ€§è„±é’©ã€‚","link":"/es6/ES6%E6%96%B0%E8%AF%AD%E6%B3%95%E7%A7%AF%E7%B4%AF/"},{"title":"Git ç»éªŒç§¯ç´¯","text":"å®¢æˆ·ç«¯æ¨è SmartGitâœ¨âœ¨âœ¨(å¼€å§‹ç”¨çš„ï¼Œåæ¥æ”¾å¼ƒ) Sourcetreeâœ¨âœ¨âœ¨âœ¨âœ¨(ç°åœ¨ç”¨çš„è¿™ä¸ªï¼Œéœ€è¦ç¿»å¢™æ³¨å†Œ) GitKraken å¾ˆå¥½ç”¨ï¼Œå¯ä»¥æ›¿ä»£SourceTree, å…¨å¹³å°å…è´¹(ä¹Ÿå¼€å§‹æ”¶è´¹äº†) github contributions å±•ç¤ºé—®é¢˜æ­£å¸¸æƒ…å†µä¸‹ä¼šå°†æ¯å¤©çš„æäº¤è®°å½•å±•ç¤ºåˆ°å›¾è¡¨ä¸­ã€‚æœ‰å¤©çªç„¶å‘ç°ä¹‹å‰å¥½å¤šæäº¤è®°å½•æ²¡å±•ç¤ºï¼ŒæŸ¥çœ‹åŸå› å‘ç°æ˜¯æäº¤è´¦å·å’Œgithubçš„è´¦å·ä¸ä¸€è‡´çš„åŸå› å¯¼è‡´çš„ã€‚ GitHubé»˜è®¤åªæœ‰è´¦å·ç»‘å®šçš„é‚®ç®±æäº¤çš„commitsæ‰ä¼šå±•ç¤º. è§£å†³åŠæ³•: å°†å…¬å¸é‚®ç®±åŠ åˆ°GitHubè´¦æˆ·ä¸‹â€“é“¾æ¥ å°†å½“å‰é¡¹ç›®çš„æäº¤è®¾ç½®ä¸ºä¸ªäººé‚®ç®± 1git config user.email &quot;email@example.com&quot; centoså®‰è£…gitå®‰è£…yum install -y git æ£€æŸ¥ç‰ˆæœ¬git â€“version ç”Ÿæˆå…¬é’¥å¹¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Šç”Ÿæˆå…¬é’¥ssh-keygen -t rsa æŸ¥çœ‹å…¬é’¥cat ~/.ssh/id_rsa.pub macä¸­ç›´æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿ pbcopy &lt; ~/.ssh/id_rsa.pub å¤åˆ¶id_rsa.pubé‡Œçš„å…¬é’¥åˆ°æœåŠ¡å™¨ä¸Šçš„authorized_keysæ–‡ä»¶æ‹·è´ï¼Œå¤åˆ¶åˆ°github.comçš„settingsçš„SSH and GPG keysä¸­ å®‰è£…nodejså‚è€ƒï¼šhttps://nodejs.org/ å¸è½½yum remove nodejs -y æ­£ç¡®æ–¹æ³•1.ç¡®ä¿ç³»ç»Ÿä¸‹ g++ ç‰ˆæœ¬åœ¨ 4.6 ä»¥ä¸Šï¼Œpython ç‰ˆæœ¬åœ¨ 2.6 ä»¥ä¸Šã€‚ 2.ä» nodejs.org ä¸‹è½½ tar.gz åç¼€çš„ NodeJS æœ€æ–°ç‰ˆæºä»£ç åŒ…å¹¶è§£å‹åˆ°æŸä¸ªä½ç½®ã€‚ wget https://nodejs.org/dist/v4.5.0/node-v4.5.0.tar.gz 3.è¿›å…¥è§£å‹åˆ°çš„ç›®å½•ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘å’Œå®‰è£…ã€‚ 1234tar -zvxf node-v4.5.0.tar.gz./configuremakesudo make install gitæäº¤commitåï¼Œæƒ³æ’¤å›é‡æ–°commitgit reset --soft HEAD^ è¿™æ ·å°±æˆåŠŸçš„æ’¤é”€äº†ä½ çš„commitæ³¨æ„ï¼Œä»…ä»…æ˜¯æ’¤å›commitæ“ä½œï¼Œæ‚¨å†™çš„ä»£ç ä»ç„¶ä¿ç•™ã€‚ --hardä¼šåˆ é™¤æœ¬åœ°ä¿®æ”¹ä»£ç ï¼Œå›åˆ°ä¸Šæ¬¡commitçŠ¶æ€ æŸ¥çœ‹åˆ†æ”¯ git branch -a (å¯ä»¥æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯)åˆ›å»ºåˆ†æ”¯ git branch nameåˆ‡æ¢åˆ†æ”¯ git checkout nameåˆ›å»ºå¹¶åˆ‡æ¢ git checkout -b nameåˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ git merge name ç”¨äºåˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯åˆ é™¤åˆ†æ”¯ git branch -d name æ³¨ï¼Œåˆå¹¶åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šâ€“no-ffå‚æ•°å°±å¯ä»¥ç”¨æ™®é€šæ¨¡å¼åˆå¹¶ï¼Œåˆå¹¶åçš„å†å²æœ‰åˆ†æ”¯è®°å½•ï¼Œèƒ½çœ‹å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ï¼Œè€Œfast forwardåˆå¹¶å°±çœ‹ä¸å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ã€‚9.å›¢é˜Ÿå¤šäººå¼€å‘åä½œ 1).æŸ¥çœ‹è¿œç¨‹ä»“åº“åˆ†æ”¯æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„ä¿¡æ¯ git remoteå‘½ä»¤å¯ä»¥æŸ¥çœ‹è¿œç¨‹ä»“åº“ï¼ŒåŠ -vé€‰é¡¹å¯ä»¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚ 2).åˆ†æ”¯æ¨é€ é¦–å…ˆï¼Œå¯ä»¥è¯•å›¾ç”¨git push origin branch-nameæ¨é€è‡ªå·±çš„ä¿®æ”¹å¦‚æœæ¨é€å¤±è´¥ï¼Œåˆ™å› ä¸ºè¿œç¨‹åˆ†æ”¯æ¯”ä½ çš„æœ¬åœ°æ›´æ–°ï¼Œéœ€è¦å…ˆç”¨git pullè¯•å›¾åˆå¹¶å¦‚æœåˆå¹¶æœ‰å†²çªï¼Œåˆ™è§£å†³å†²çªï¼Œå¹¶åœ¨æœ¬åœ°æäº¤æ²¡æœ‰å†²çªæˆ–è€…è§£å†³æ‰å†²çªåï¼Œå†ç”¨git push origin branch-nameæ¨é€å°±èƒ½æˆåŠŸå¦‚æœgit pullæç¤ºâ€œno tracking informationâ€ï¼Œåˆ™è¯´æ˜æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„é“¾æ¥å…³ç³»æ²¡æœ‰åˆ›å»ºï¼Œç”¨å‘½ä»¤git branch â€“set-upstream branch-name origin/branch-nameã€‚ git åˆ›å»ºtagç”¨ -a ï¼ˆè¯‘æ³¨ï¼šå– annotated çš„é¦–å­—æ¯ï¼‰git tag -a v0.1 -m â€˜sidebar is okâ€™ git tag : æŸ¥çœ‹tagåˆ—è¡¨git show v1.4 ï¼š æŸ¥çœ‹tagçš„å…·ä½“ä¿¡æ¯ git tag -l â€˜v0.1.*â€™ # æœç´¢ç¬¦åˆæ¨¡å¼çš„Tag ç»™æŒ‡å®šçš„commitæ‰“Tag git tag -a v1.2 9fceb02 åˆ‡æ¢åˆ°Tagä¸åˆ‡æ¢åˆ†æ”¯å‘½ä»¤ç›¸åŒï¼Œç”¨git checkout [tagname]åˆ é™¤Tagè¯¯æ‰“æˆ–éœ€è¦ä¿®æ”¹Tagæ—¶ï¼Œéœ€è¦å…ˆå°†Tagåˆ é™¤ï¼Œå†æ‰“æ–°Tagã€‚$ git tag -d v0.1.2 # åˆ é™¤Tag åˆ†äº«æ ‡ç­¾Tagæ¨é€åˆ°æœåŠ¡å™¨ git push origin v1.5 ä¸€æ¬¡æ¨é€æ‰€æœ‰æœ¬åœ°æ–°å¢çš„æ ‡ç­¾ä¸Šå»ï¼Œå¯ä»¥ä½¿ç”¨ â€“tags é€‰é¡¹ï¼šgit push origin â€“tags æ³¨æ„ï¼šå¦‚æœæƒ³çœ‹ä¹‹å‰æŸä¸ªTagçŠ¶æ€ä¸‹çš„æ–‡ä»¶ï¼Œå¯ä»¥è¿™æ ·æ“ä½œ1.git tag æŸ¥çœ‹å½“å‰åˆ†æ”¯ä¸‹çš„Tag2.git checkout v0.21 æ­¤æ—¶ä¼šæŒ‡å‘æ‰“v0.21 Tagæ—¶çš„ä»£ç çŠ¶æ€ï¼Œï¼ˆä½†ç°åœ¨å¤„äºä¸€ä¸ªç©ºçš„åˆ†æ”¯ä¸Šï¼‰ git pull origin master /ä¿®æ”¹æäº¤ç”¨åˆ°çš„å‘½ä»¤**/git push origin gitcafe-pages //æäº¤åˆ°è¿œç«¯çš„æœåŠ¡å™¨ä¸Šgit commit -m â€˜gitabc first commitâ€™ //åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªç‰ˆæœ¬git add -A/**ä¿®æ”¹æäº¤ç”¨åˆ°çš„å‘½ä»¤/git add -A æ·»åŠ å¤šä¸ªæ–‡ä»¶åŠæ–‡ä»¶å¤¹ è¿›å…¥æŸä¸ªæ–‡ä»¶å¤¹è·¯å¾„ï¼šcd D:/gitCafe å³å¯è¿›å…¥D:\\gitCafecd believeZJP å³å¯è¿›å…¥ D:\\gitCafe\\believeZJP git logå¸¸ç”¨å‘½ä»¤ä»¥åŠæŠ€å·§1.git logå¦‚æœä¸å¸¦ä»»ä½•å‚æ•°ï¼Œå®ƒä¼šåˆ—å‡ºæ‰€æœ‰å†å²è®°å½•ï¼Œæœ€è¿‘çš„æ’åœ¨æœ€ä¸Šæ–¹ï¼Œæ˜¾ç¤ºæäº¤å¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œä½œè€…ã€æäº¤æ—¥æœŸã€å’Œæäº¤è¯´æ˜ã€‚å¦‚æœè®°å½•è¿‡å¤šï¼Œåˆ™æŒ‰Page Upã€Page Downã€â†“ã€â†‘æ¥æ§åˆ¶æ˜¾ç¤ºï¼›æŒ‰qé€€å‡ºå†å²è®°å½•åˆ—è¡¨ã€‚ å½“gitå‡ºç° Please enter a commit message to explain why this merge is necessary especially if it merges an updated upstream into a topic branch Lines starting with â€˜#â€™ will be ignored, and an empty message aborts the commit~â€œ.git/MERGE_MSGâ€ 7L, 293Cè¿™ä¸ªç”»é¢æ—¶ï¼š type i to insert a comment then press esc and type :wq viç¼–è¾‘æ¨¡å¼ï¼šè¿›å…¥ï¼švi test.txtä»æ’å…¥æ¨¡å¼åˆ‡æ¢ä¸ºå‘½ä»¤è¡Œæ¨¡å¼ æŒ‰ã€ŒESCã€é”®ã€‚æŒ‰escé€€å‡ºç¼–è¾‘æ¨¡å¼é€€å‡ºviåŠä¿å­˜æ–‡ä»¶ åˆ«å¿˜äº†wqå‰é¢çš„::w ä¿å­˜æ–‡ä»¶ä½†ä¸é€€å‡ºvi:w file å°†ä¿®æ”¹å¦å¤–ä¿å­˜åˆ°fileä¸­ï¼Œä¸é€€å‡ºvi:w! å¼ºåˆ¶ä¿å­˜ï¼Œä¸æ¨å‡ºvi:wq ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºvi:wq! å¼ºåˆ¶ä¿å­˜æ–‡ä»¶ï¼Œå¹¶é€€å‡ºviq: ä¸ä¿å­˜æ–‡ä»¶ï¼Œé€€å‡ºvi:q! ä¸ä¿å­˜æ–‡ä»¶ï¼Œå¼ºåˆ¶é€€å‡ºvi:e! æ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹ï¼Œä»ä¸Šæ¬¡ä¿å­˜æ–‡ä»¶å¼€å§‹å†ç¼–è¾‘cat test.txt //æŸ¥çœ‹æ–‡ä»¶å†…å®¹ é…ç½®SSH KEYSæ­¥éª¤ä¸¥æ ¼æŒ‰ç…§https://help.github.com/articles/generating-ssh-keys/ æ˜¯å¯ä»¥æˆåŠŸçš„ã€‚ è½¬ pushæœ¬åœ°ä»£ç åˆ°githubå‡ºé”™åˆšåˆ›å»ºçš„githubç‰ˆæœ¬åº“ï¼Œåœ¨pushä»£ç æ—¶å‡ºé”™ï¼š $ git push -u origin master è§£å†³åŠæ³•ï¼š 2.pushå‰å…ˆå°†è¿œç¨‹repositoryä¿®æ”¹pullä¸‹æ¥ 123git pull origin mastergit push -u origin master æ·»åŠ å…¬é’¥: åº”å°†id_rsa.pubä¸­çš„å†…å®¹æ‹·è´åˆ°æ–‡æœ¬æ¡†ä¸­ï¼Œè€Œä¸æ˜¯id_rsaä¸­çš„ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ git åˆå¹¶ï¼š 1.å…ˆgit pull å°†è¿œç¨‹çš„æ–‡ä»¶æ›´æ–°è¿‡æ¥ 2.æœ‰å†²çªçš„ï¼Œä¼šåœ¨æ–‡ä»¶ä¸­æœ‰ è¿™æ ·çš„æç¤ºï¼Œè§£å†³å†²çªï¼Œ 3.git add ï¼Œç„¶åå†commit 4.git push origin master git add -Agit commit -m â€˜ddâ€™git push origin master github æäº¤æ—¶ï¼Œå¤šæ¬¡è¦æ±‚è¾“å…¥ç”¨æˆ·åå¯†ç çš„è§£å†³æ–¹æ³• gitç”Ÿæˆssh key ssh-keygen.exe vim ~/.ssh/id_rsa.pubå°†ssh key å¤åˆ¶åˆ°æ·»åŠ é¡µé¢ git diff ä»¥åï¼ŒæŒ‰q é€€å‡ºgit å¼ºåˆ¶è¦†ç›–æœ¬åœ°æŸä¸ªæ–‡ä»¶git checkout â€“ file gitåˆ‡æ¢åˆ†æ”¯ï¼š git checkout åˆ†æ”¯åç§°git åªæ·»åŠ æ–‡ä»¶å¤¹ï¼Œ ç”¨git status æ˜¯ä¸ä¼šæ£€æµ‹åˆ°æ·»åŠ çš„æ–‡ä»¶å¤¹ï¼Œ(å¤šçº§æ–‡ä»¶å¤¹ä¹Ÿæ— æ³•æ£€æµ‹åˆ°) åªæœ‰æ–‡ä»¶å¤¹ä¸­æœ‰æ–‡ä»¶ï¼Œæ‰ä¼šæ£€æµ‹åˆ°ï¼Œ ç»™æœ¬æ¬¡å­˜å‚¨åŠ ä¸ªå¤‡æ³¨ï¼Œä»¥é˜²æ—¶é—´ä¹…äº†å¿˜äº†git stash save &quot;å­˜å‚¨&quot; git stash ç»éªŒï¼Œå½“é‡åˆ°æœ¬åœ°å·²ç»commitåï¼Œå‘ç°å¿˜è®°äº†git pull æ—¶ï¼Œæ­¤æ—¶ï¼Œgit pullä¼šæç¤ºï¼šyou have unstaged changes.å¯ä»¥å…ˆgit stash ï¼Œå°†æœ¬åœ°çš„çŠ¶æ€å­˜èµ·æ¥ï¼Œç„¶åå°±å¯ä»¥git pull,å†ä»æœ¬åœ°æ¢å¤ä¹‹å‰çš„çŠ¶æ€ï¼Œgit stash pop git stash list å¯ä»¥æŸ¥çœ‹æœ¬åœ°æœ‰å“ªäº›çŠ¶æ€ï¼Œgit stash pop stash@{0} å¯ä»¥å°†åŸå…ˆä¿å­˜çš„çŠ¶æ€è¿˜åŸã€‚ç›´æ¥git stash pop ä¹Ÿå¯ä»¥ã€‚æ­¤æ—¶å†git commit -m â€œâ€ï¼Œgit pushå°±å¯ä»¥æ­£å¸¸æäº¤äº†ã€‚å›é€€åˆ°æŸä¸ªç‰ˆæœ¬ sudo git reset â€“hard 3943d5c74a08a8f6ad113e63ed191ecb4f48b053gitå¼ºåˆ¶è¦†ç›–æœ¬åœ°æ‰€æœ‰ä¿®æ”¹ï¼šgit fetch â€“allgit reset â€“hard origin/master error: cannot lock ref â€˜refs/remotes/origin/masterâ€™: unable to resolve reference refs/remotes/origin/master: Invalid argumentå‘ç”ŸåŸå› ï¼šgit push origin master å†™æˆäº†git push origin/master è§£å†³åŠæ³•ï¼šrm .git/refs/remotes/origin/mastergit fetch ä¿®å¤bugçš„æµç¨‹è¯´æ˜ï¼šä»ç”Ÿäº§ç¯å¢ƒçš„åˆ†æ”¯ä¸Šä¿®æ”¹ï¼Œå†é€æ¸æ”¹åˆ°æµ‹è¯•ç¯å¢ƒï¼Œdevç¯å¢ƒæ“ä½œæ­¥éª¤ï¼š 1.åœ¨ä¸»åˆ†æ”¯masteræ‹‰ä¸€ä¸ªåˆ†æ”¯branch1å‡ºæ¥ï¼Œä¿®æ”¹ï¼Œ 2.å°†branch1åˆå¹¶åˆ°master,å¹¶æäº¤ï¼Œgit push 3.åˆ‡æ¢åˆ°teståˆ†æ”¯ï¼Œgit merge branch1,å¹¶æäº¤ï¼Œgit push 4.åˆ‡æ¢åˆ°devåˆ†æ”¯ï¼Œgit merge branch1 å¹¶æäº¤ï¼Œgit push 5.ç™»å½•åˆ°æ¯ä¸ªç¯å¢ƒçš„æœåŠ¡å™¨ä¸­ï¼Œåˆ†åˆ«git pullï¼Œå³å¯çœ‹åˆ°æ›´æ”¹çš„ç»“æœã€‚ è®©æŸä¸ªåˆ†æ”¯å’Œå¦å¤–ä¸€ä¸ªåˆ†æ”¯ä¸€æ ·çš„è¯ï¼Œç›´æ¥å°†å¦ä¸€ä¸ªåˆ†æ”¯mergeè¿‡æ¥ã€‚ Read-Search-Ask methodology git pullçš„æ—¶å€™é‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šThe following untracked working tree files would be overwritten by merge balabalaâ€¦è§£å†³åŠæ³•ï¼šgit clean -d -fxå¤‡æ³¨ï¼šä¼šåˆ é™¤æ‰æ²¡æœ‰addåˆ°ä»“åº“çš„æ–‡ä»¶ï¼Œæ“ä½œè®°å¾—æ…é‡ï¼Œä»¥å…æ”¹åŠ¨æ–‡ä»¶çš„ä¸¢å¤±ã€‚æœ¬è´¨ä¸Šå°±æ˜¯æ“ä½œä»“åº“ä¸­æ²¡æœ‰è¢«è¿½è¸ªçš„æœ¬åœ°æ–‡ä»¶$ git clean -f -n # 1$ git clean -f # 2$ git clean -fd # 3$ git clean -fX # 4$ git clean -fx # 5(1): é€‰é¡¹-nå°†æ˜¾ç¤ºæ‰§è¡Œï¼ˆ2ï¼‰æ—¶å°†ä¼šç§»é™¤å“ªäº›æ–‡ä»¶ã€‚(2): è¯¥å‘½ä»¤ä¼šç§»é™¤æ‰€æœ‰å‘½ä»¤ï¼ˆ1ï¼‰ä¸­æ˜¾ç¤ºçš„æ–‡ä»¶ã€‚(3): å¦‚æœä½ è¿˜æƒ³ç§»é™¤æ–‡ä»¶ä»¶ï¼Œè¯·ä½¿ç”¨é€‰é¡¹-dã€‚(4): å¦‚æœä½ åªæƒ³ç§»é™¤å·²è¢«å¿½ç•¥çš„æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨é€‰é¡¹-Xã€‚(5): å¦‚æœä½ æƒ³ç§»é™¤å·²è¢«å¿½ç•¥å’Œæœªè¢«å¿½ç•¥çš„æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨é€‰é¡¹-xã€‚ mkdir learngitcd learngitpwdgit initgit add readme.txtgit commit -m â€œwrote a readme fileâ€git status git diff readme.txt //æŸ¥çœ‹æ–‡ä»¶çš„åŒºåˆ«git log å†å²è®°å½•git log â€“pretty=oneline ä¸€è¡Œæ˜¾ç¤º git reset â€“hard HEAD^ å›é€€ä¸Šä¸€ä¸ªç‰ˆæœ¬ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD^^ å†™æˆHEAD~100 ä¸Š100ä¸ªç‰ˆæœ¬git reset â€“hard 3628164 æŒ‡å®šå›åˆ°æœªæ¥çš„æŸä¸ªç‰ˆæœ¬ã€‚ç‰ˆæœ¬å·æ²¡å¿…è¦å†™å…¨ï¼Œå‰å‡ ä½å°±å¯ä»¥äº†ï¼ŒGitä¼šè‡ªåŠ¨å»æ‰¾gitreflog è®°å½•æ¯ä¸€æ¬¡å‘½ä»¤git diff //æŸ¥çœ‹ä¿®æ”¹çš„å†…å®¹git diff HEAD â€“ readme.txtå‘½ä»¤å¯ä»¥æŸ¥çœ‹å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“é‡Œé¢æœ€æ–°ç‰ˆæœ¬çš„åŒºåˆ«git checkout â€“ readme.txt ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹ å‘½ä»¤git checkout â€“ readme.txtæ„æ€å°±æ˜¯ï¼ŒæŠŠreadme.txtæ–‡ä»¶åœ¨å·¥ä½œåŒºçš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æƒ…å†µï¼š ä¸€ç§æ˜¯readme.txtè‡ªä¿®æ”¹åè¿˜æ²¡æœ‰è¢«æ”¾åˆ°æš‚å­˜åŒºï¼Œç°åœ¨ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°å’Œç‰ˆæœ¬åº“ä¸€æ¨¡ä¸€æ ·çš„çŠ¶æ€ï¼› ä¸€ç§æ˜¯readme.txtå·²ç»æ·»åŠ åˆ°æš‚å­˜åŒºåï¼Œåˆä½œäº†ä¿®æ”¹ï¼Œç°åœ¨ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°æ·»åŠ åˆ°æš‚å­˜åŒºåçš„çŠ¶æ€ã€‚ æ€»ä¹‹ï¼Œå°±æ˜¯è®©è¿™ä¸ªæ–‡ä»¶å›åˆ°æœ€è¿‘ä¸€æ¬¡git commitæˆ–git addæ—¶çš„çŠ¶æ€ã€‚â€“å¾ˆé‡è¦ï¼Œæ²¡æœ‰â€“ï¼Œå°±å˜æˆäº†â€œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯â€çš„å‘½ä»¤ï¼Œgit checkoutå…¶å®æ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥â€œä¸€é”®è¿˜åŸâ€ã€‚git reset HEAD readme.txt å¯ä»¥æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼ˆunstageï¼‰ï¼Œé‡æ–°æ”¾å›å·¥ä½œåŒºï¼š å°ç»“ï¼š åœºæ™¯1ï¼šå½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤git checkout â€“ fileã€‚ åœºæ™¯2ï¼šå½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨å‘½ä»¤git rese t HEAD fileï¼Œå°±å›åˆ°äº†åœºæ™¯1ï¼Œç¬¬äºŒæ­¥æŒ‰åœºæ™¯1æ“ä½œã€‚ åœºæ™¯3ï¼šå·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤ï¼Œå‚è€ƒç‰ˆæœ¬å›é€€ï¼Œä¸è¿‡å‰ææ˜¯æ²¡æœ‰æ¨é€åˆ°è¿œç¨‹åº“ ã€‚â€”â€“åˆ é™¤æ–‡ä»¶â€”-rm test.txt ç›´æ¥åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æŠŠæ²¡ç”¨çš„æ–‡ä»¶åˆ äº†ï¼Œæˆ–è€…ç”¨rmå‘½ä»¤åˆ äº†ï¼šâ€”ç›¸å½“äºä»æ–‡ä»¶ç®¡ç†å™¨åˆ é™¤ git rm test.txt ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤è¯¥æ–‡ä»¶ï¼Œé‚£å°±ç”¨å‘½ä»¤git rmåˆ æ‰ï¼Œå¹¶ä¸”git commitï¼šgit commit -m â€œremove test.txtâ€ æ–‡ä»¶å°±ä»ç‰ˆæœ¬åº“ä¸­è¢«åˆ é™¤äº†ã€‚â€”â€”â€”â€“è¿œç¨‹å…³è”â€”â€”â€”â€”git remote add origin git@server-name:path/repo-name.gitï¼› eg: $ git remote add origin git@github.com:michaelliao/learngit.gitgit push -u origin masterç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹ï¼›æ¯æ¬¡æœ¬åœ°æäº¤åï¼Œåªè¦æœ‰å¿…è¦ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤git push origin masteræ¨é€æœ€æ–°ä¿®æ”¹ï¼›git remote -v çœ‹æœ‰æ²¡æœ‰æƒé™æ¨é€ â€”â€”â€”â€”ç”¨å‘½ä»¤å…‹éš†ä¸€ä¸ªè¿œç¨‹åº“â€”â€”â€”â€”â€”-git clone git@github.com:michaelliao/gitskills.git ç”¨å‘½ä»¤git cloneå…‹éš†ä¸€ä¸ªæœ¬åœ°åº“ï¼šgit@github.com/believeZJP/believeZJP.github.io.git https://gitcafe.com/believeZJP/believeZJP.git git åªå…‹éš†ä¸€ä¸ªåˆ†æ”¯ git clone -b &lt;branch&gt; &lt;remote_repo&gt; eg: git clone -b gitcafe-pages git@gitcafe.com:believeZJP/believeZJP.git â€”â€”â€”â€”â€“åˆ‡æ¢åˆ†æ”¯â€”â€”â€”â€”-git checkout -b dev checkoutå‘½ä»¤åŠ ä¸Š-bå‚æ•°è¡¨ç¤ºåˆ›å»ºå¹¶åˆ‡æ¢ï¼Œç›¸å½“äºä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ï¼šgit branch devgit checkout devgit branch æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼šä¼šåˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ ‡ä¸€ä¸ª*å·git checkout master åˆ‡æ¢å›masteråˆ†æ”¯ï¼š git merge dev æŠŠdevåˆ†æ”¯çš„å·¥ä½œæˆæœåˆå¹¶åˆ°masteråˆ†æ”¯ä¸Šgit branch -d dev åˆ é™¤devåˆ†æ”¯äº†git branch -D feature-vulcan å¼ºè¡Œåˆ é™¤åˆ†æ”¯ å°ç»“Gité¼“åŠ±å¤§é‡ä½¿ç”¨åˆ†æ”¯ï¼šæŸ¥çœ‹åˆ†æ”¯ï¼šgit branch // git branch -aåˆ›å»ºåˆ†æ”¯ï¼šgit branch åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout -b åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼šgit merge åˆ é™¤åˆ†æ”¯ï¼šgit branch -d git log â€“graph â€“pretty=oneline â€“abbrev-commit åˆ†æ”¯çš„åˆå¹¶æƒ…å†µï¼š git merge â€“no-ff -m â€œmerge with no-ffâ€ dev è¯·æ³¨æ„â€“no-ffå‚æ•°ï¼Œè¡¨ç¤ºç¦ç”¨Fast forwardï¼šå› ä¸ºæœ¬æ¬¡åˆå¹¶è¦åˆ›å»ºä¸€ä¸ªæ–°çš„commitï¼Œæ‰€ä»¥åŠ ä¸Š-må‚æ•°ï¼ŒæŠŠcommitæè¿°å†™è¿›å»ã€‚åˆå¹¶åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šâ€“no-ffå‚æ•°å°±å¯ä»¥ç”¨æ™®é€šæ¨¡å¼åˆå¹¶ï¼Œåˆå¹¶åçš„å†å²æœ‰åˆ†æ”¯ï¼Œèƒ½çœ‹å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ï¼Œè€Œfast forwardåˆå¹¶å°±çœ‹ä¸å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ã€‚ â€”â€”â€”â€”â€“ä»è¿œç¨‹è·å–æ–‡ä»¶â€”â€”â€”â€”â€”â€”-å°†ä¿®æ”¹çš„æ–‡ä»¶æ¨é€åˆ°è¿œç¨‹git push origin mastergit push origin dev â€”â€”â€”Bugåˆ†æ”¯â€”â€”â€”â€”â€”â€“git stash æŠŠå½“å‰å·¥ä½œç°åœºâ€œå‚¨è—â€èµ·æ¥ï¼Œç­‰ä»¥åæ¢å¤ç°åœºåç»§ç»­å·¥ä½œï¼šgit stash list æŸ¥çœ‹å·¥ä½œç°åœº GitæŠŠstashå†…å®¹å­˜åœ¨æŸä¸ªåœ°æ–¹ï¼Œéœ€è¦æ¢å¤ï¼Œæœ‰ä¸¤ä¸ªåŠæ³•ï¼šä¸€æ˜¯ç”¨git stash applyæ¢å¤ï¼Œä½†æ˜¯æ¢å¤åï¼Œstashå†…å®¹å¹¶ä¸åˆ é™¤ï¼Œä½ éœ€è¦ç”¨git stash dropæ¥åˆ é™¤ï¼›å¦ä¸€ç§æ–¹å¼æ˜¯ç”¨git stash popï¼Œæ¢å¤çš„åŒæ—¶æŠŠstashå†…å®¹ä¹Ÿåˆ äº†ï¼š å¯ä»¥å¤šæ¬¡stashï¼Œæ¢å¤çš„æ—¶å€™ï¼Œå…ˆç”¨git stash listæŸ¥çœ‹ï¼Œç„¶åæ¢å¤æŒ‡å®šçš„stashï¼Œç”¨å‘½ä»¤ï¼š$ git stash apply stash@{0}ä¿®å¤bugæ—¶ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡åˆ›å»ºæ–°çš„bugåˆ†æ”¯è¿›è¡Œä¿®å¤ï¼Œç„¶ååˆå¹¶ï¼Œæœ€ååˆ é™¤ï¼›å½“æ‰‹å¤´å·¥ä½œæ²¡æœ‰å®Œæˆæ—¶ï¼Œå…ˆæŠŠå·¥ä½œç°åœºgit stashä¸€ä¸‹ï¼Œç„¶åå»ä¿®å¤bugï¼Œä¿®å¤åï¼Œå†git stash popï¼Œå›åˆ°å·¥ä½œç°åœºã€‚ â€”â€”â€”â€”â€”â€“å¤šäººåä½œâ€”â€”â€”â€”â€”â€”â€“å°ç»“æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼Œä½¿ç”¨git remote -vï¼›æœ¬åœ°æ–°å»ºçš„åˆ†æ”¯å¦‚æœä¸æ¨é€åˆ°è¿œç¨‹ï¼Œå¯¹å…¶ä»–äººå°±æ˜¯ä¸å¯è§çš„ï¼›ä»æœ¬åœ°æ¨é€åˆ†æ”¯ï¼Œä½¿ç”¨git push origin branch-nameï¼Œå¦‚æœæ¨é€å¤±è´¥ï¼Œå…ˆç”¨git pullæŠ“å–è¿œç¨‹çš„æ–°æäº¤ï¼›åœ¨æœ¬åœ°åˆ›å»ºå’Œè¿œç¨‹åˆ†æ”¯å¯¹åº”çš„åˆ†æ”¯ï¼Œä½¿ç”¨git checkout -b branch-name origin/branch-nameï¼Œæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯çš„åç§°æœ€å¥½ä¸€è‡´ï¼›å»ºç«‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„å…³è”ï¼Œä½¿ç”¨git branch â€“set-upstream branch-name origin/branch-nameï¼›ä»è¿œç¨‹æŠ“å–åˆ†æ”¯ï¼Œä½¿ç”¨git pullï¼Œå¦‚æœæœ‰å†²çªï¼Œè¦å…ˆå¤„ç†å†²çªã€‚ â€”â€”â€”â€”â€”åˆ›å»ºæ ‡ç­¾â€”â€”â€”â€”â€”git tag v1.0 é»˜è®¤æ ‡ç­¾æ˜¯æ‰“åœ¨æœ€æ–°æäº¤çš„commitä¸Šgit tag æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾git tag v0.96224937 æ‰“æ ‡ç­¾åˆ°æŸä¸€ä¸ªcommitä¸Š git show v0.9 æŸ¥çœ‹æ ‡ç­¾ä¿¡æ¯git tag -a v0.1 -m â€œversion 0.1 releasedâ€3628164 åˆ›å»ºå¸¦æœ‰è¯´æ˜çš„æ ‡ç­¾ï¼Œç”¨-aæŒ‡å®šæ ‡ç­¾åï¼Œ-mæŒ‡å®šè¯´æ˜æ–‡å­—git tag -s -m â€œblablablaâ€¦â€å¯ä»¥ç”¨PGPç­¾åæ ‡ç­¾ï¼›git tag -d v0.1 åˆ é™¤æ ‡ç­¾git push origin v1.0 æ¨é€æŸä¸ªæ ‡ç­¾åˆ°è¿œç¨‹ git push origin â€“tags ä¸€æ¬¡æ€§æ¨é€å…¨éƒ¨å°šæœªæ¨é€åˆ°è¿œç¨‹çš„æœ¬åœ°æ ‡ç­¾git push origin :refs/tags/v0.9ç­¾å·²ç»æ¨é€åˆ°è¿œç¨‹ï¼Œè¦åˆ é™¤è¿œç¨‹æ ‡ç­¾å°±éº»çƒ¦ä¸€ç‚¹ï¼Œå…ˆä»æœ¬åœ°åˆ é™¤ï¼šä»è¿œç¨‹åˆ é™¤ã€‚åˆ é™¤å‘½ä»¤ä¹Ÿæ˜¯pushï¼Œä½†æ˜¯æ ¼å¼å¦‚ä¸‹ï¼šgit push origin :refs/tags/v0.9// To git@github.com:michaelliao/learngit.git ä¸çŸ¥é“æœ‰æ²¡æœ‰è¿™ä¸ª å°ç»“å‘½ä»¤git push origin å¯ä»¥æ¨é€ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼›å‘½ä»¤git push origin â€“tagså¯ä»¥æ¨é€å…¨éƒ¨æœªæ¨é€è¿‡çš„æœ¬åœ°æ ‡ç­¾ï¼›å‘½ä»¤git tag -d å¯ä»¥åˆ é™¤ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼›å‘½ä»¤git push origin :refs/tags/å¯ä»¥åˆ é™¤ä¸€ä¸ªè¿œç¨‹æ ‡ç­¾ã€‚ â€”â€”â€”-ä½¿ç”¨GitHubâ€”â€”â€”â€”â€”â€”â€”å°ç»“åœ¨GitHubä¸Šï¼Œå¯ä»¥ä»»æ„Forkå¼€æºä»“åº“ï¼›è‡ªå·±æ‹¥æœ‰Forkåçš„ä»“åº“çš„è¯»å†™æƒé™ï¼›å¯ä»¥æ¨é€pull requestç»™å®˜æ–¹ä»“åº“æ¥è´¡çŒ®ä»£ç ã€‚ â€”â€”â€”â€”â€”â€”è‡ªå®šä¹‰Gitâ€”â€”â€”â€”â€”â€”â€”â€”git config â€“global color.ui true è®©Gitæ˜¾ç¤ºé¢œè‰²ï¼Œä¼šè®©å‘½ä»¤è¾“å‡ºçœ‹èµ·æ¥æ›´é†’ç›®â€”â€”â€”â€”â€”â€”é…ç½®åˆ«åâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ git config â€“global alias.st statusgit config â€“global alias.co checkoutgit config â€“global alias.ci commitgit config â€“global alias.br branchä»¥åstå°±è¡¨ç¤ºstatus coè¡¨ç¤ºcheckoutï¼Œciè¡¨ç¤ºcommitï¼Œbrè¡¨ç¤ºbranch â€“globalå‚æ•°æ˜¯å…¨å±€å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¿™äº›å‘½ä»¤åœ¨è¿™å°ç”µè„‘çš„æ‰€æœ‰Gitä»“åº“ä¸‹éƒ½æœ‰ç”¨ git config â€“global alias.unstage â€˜reset HEADâ€™ å½“ä½ æ•²å…¥å‘½ä»¤ï¼š$ git unstage test.py å®é™…ä¸ŠGitæ‰§è¡Œçš„æ˜¯ï¼š $ git reset HEAD test.pygit config â€“global alias.last â€˜log -1â€™ è®©å…¶æ˜¾ç¤ºæœ€åä¸€æ¬¡æäº¤ä¿¡æ¯ git config â€“global alias.lg â€œlog â€“color â€“graph â€“pretty=format:â€™%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Cresetâ€™ â€“abbrev-commitâ€git lg é…ç½®æ–‡ä»¶æ”¾å“ªäº†ï¼Ÿæ¯ä¸ªä»“åº“çš„Gité…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨.git/configæ–‡ä»¶ä¸­ï¼šåˆ«åå°±åœ¨[alias]åé¢ï¼Œè¦åˆ é™¤åˆ«åï¼Œç›´æ¥æŠŠå¯¹åº”çš„è¡Œåˆ æ‰å³å¯ã€‚å½“å‰ç”¨æˆ·çš„Gité…ç½®æ–‡ä»¶æ”¾åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„ä¸€ä¸ªéšè—æ–‡ä»¶.gitconfigä¸­ï¼š â€¦or create a new repository on the command lineecho â€œ# node-serverâ€ &gt;&gt; README.mdgit initgit add README.mdgit commit -m â€œfirst commitâ€git remote add origin https://github.com/believeZJP/node-server.gitgit push -u origin master â€¦or push an existing repository from the command linegit remote add origin https://github.com/believeZJP/node-server.gitgit push -u origin master gitè¿œç¨‹æœ‰åˆ†æ”¯ï¼Œæœ¬åœ°æ²¡æœ‰ï¼Œè§£å†³åŠæ³•git fetch å‘½ä»¤ä¼šæ›´æ–° remote ç´¢å¼•ã€‚ git fetch origin gitå­˜å‚¨gitåˆ†åŒºgitå­˜å‚¨åˆ†æˆå››ä¸ªéƒ¨åˆ† workspaceï¼šå·¥ä½œç©ºé—´ï¼ˆæˆ‘ä»¬çš„å¼€å‘ä»£ç ç›®å½•ï¼‰ indexï¼š æš‚å­˜åŒºï¼Œ.gitç›®å½•ä¸‹çš„indexæ–‡ä»¶ Repositoryï¼šæœ¬åœ°ä»“åº“ï¼Œé€šè¿‡git cloneå°†è¿œç¨‹çš„ä»£ç ä¸‹è½½åˆ°æœ¬åœ°ï¼›ä»£ç åº“çš„å…ƒæ•°æ®ä¿¡æ¯åœ¨æ ¹ç›®å½•ä¸‹çš„.gitç›®å½•ä¸‹ Remoteï¼šè¿œç¨‹ä»“åº“ï¼ˆæ¯”å¦‚GitHubå°±æ˜¯ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼‰ æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯ï¼š å·¥ä½œåŒºâ€“git addâ€“æš‚å­˜åŒºâ€“git commitâ€“æœ¬åœ°ä»“åº“â€“ git pushâ€“è¿œç¨‹ä»“åº“ è¿œç¨‹ä»“åº“åŒºâ€“-fetchâ€“-ä½¿ç”¨refs\\remotesä¸‹å¯¹åº”åˆ†æ”¯æ–‡ä»¶è®°å½•è¿œç¨‹åˆ†æ”¯æœ«ç«¯commit_id å’Œ æœ¬åœ°ä»“åº“åŒº â€“mergeâ€“-å·¥ä½œåŒº è¿œç¨‹ä»“åº“åŒºâ€“-pullâ€“-ä½¿ç”¨refs\\remotesä¸‹å¯¹åº”åˆ†æ”¯æ–‡ä»¶è®°å½•è¿œç¨‹åˆ†æ”¯æœ«ç«¯commit_id and æœ¬åœ°ä»“åº“åŒº and å·¥ä½œåŒº git fetchå’Œgit pullçš„åŒºåˆ«git fetch: æ˜¯å°†è¿œç¨‹ä¸»æœºçš„æœ€æ–°å†…å®¹æ‹‰åˆ°æœ¬åœ°ï¼Œç”¨æˆ·åœ¨æ£€æŸ¥äº†ä»¥åå†³å®šæ˜¯å¦åˆå¹¶åˆ°å·¥ä½œæœ¬æœºåˆ†æ”¯ä¸­ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹: 12345678git fetch origin master:temp//æœ¬åœ°æ–°å»ºä¸€ä¸ªtempåˆ†æ”¯ï¼Œå¹¶å°†è¿œç¨‹originä»“åº“çš„masteråˆ†æ”¯ä»£ç ä¸‹è½½åˆ°æœ¬åœ°tempåˆ†æ”¯git diff temp//æ¯”è¾ƒè¿œç¨‹ä»£ç ä¸æœ¬åœ°ä»£ç çš„åŒºåˆ«git merge temp//å°†tempåˆ†æ”¯åˆå¹¶åˆ°æœ¬åœ°masteråˆ†æ”¯git branch -d temp//å¦‚æœä¸æƒ³ä¿ç•™åˆ†æ”¯ï¼Œå¯ä»¥å°†å…¶åˆ é™¤ git pull: åŸºäºæœ¬åœ°çš„FETCH_HEADè®°å½•ï¼Œæ¯”å¯¹æœ¬åœ°çš„FETCH_HEADä¸è¿œç¨‹ä»“åº“çš„ç‰ˆæœ¬å·ï¼Œç„¶ågit fetchè·å¾—å½“å‰çš„è¿œç¨‹åˆ†æ”¯çš„åç»­ç‰ˆæœ¬çš„æ•°æ®ï¼Œç„¶ååˆ©ç”¨git mergeå°†å…¶ä¸æœ¬åœ°çš„åˆ†æ”¯åˆå¹¶ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯git pullæ˜¯git fetchå’Œgit mergeä¸¤ä¸ªæ­¥éª¤çš„åˆå¹¶ã€‚å®é™…çš„git pullè¿‡ç¨‹å¯ä»¥ç†è§£ä¸ºï¼š 12git fetch origin master //å°†è¿œç«¯çš„masteråˆ†æ”¯æ‹‰å–æœ€æ–°å†…å®¹git merge FETCH_HEAD //å°†æ‹‰å–çš„æœ€æ–°å†…å®¹ä¸å½“å‰åˆ†æ”¯åˆå¹¶ git pullç”¨æ³•ï¼š 12git pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;`// å°†è¿œç¨‹ä¸»æœºçš„æŸä¸ªåˆ†æ”¯ï¼Œä¸æœ¬åœ°çš„æŒ‡å®šåˆ†æ”¯åˆå¹¶ git pullåˆå¹¶åå¯èƒ½ä¼šå‡ºç°å†²çªï¼Œéœ€è¦æ‰‹åŠ¨è§£å†³å†²çªã€‚å‡ºç°çš„é”™è¯¯æç¤ºå¦‚ä¸‹ error: Your local changes to the following files would be overwritten by merge:Please commit your changes or stash them before you merge.// æ›´æ–°çš„ä»£ç ä¸æœ¬åœ°çš„ä¿®æ”¹ä»£ç æœ‰å†²çªï¼Œå…ˆæäº¤ä½ çš„æ”¹å˜æˆ–è€…å…ˆå°†æœ¬åœ°ä¿®æ”¹æš‚å­˜èµ·æ¥ è§£å†³å†²çªçš„æ–¹å¼ï¼šå…ˆå°†æœ¬åœ°çš„ä»£ç æš‚å­˜ 1234git stash //å…ˆå°†æœ¬åœ°ä¿®æ”¹æš‚å­˜èµ·æ¥git stash list //æŸ¥çœ‹ä¿å­˜ä¿¡æ¯git pull //æ‹‰å–å†…å®¹git stash pop //è¿˜åŸæš‚å­˜çš„å†…å®¹ git status Changes to be committedï¼šä»£è¡¨è¢«addçš„æ–‡ä»¶ï¼Œè¢«åŠ è½½åˆ°äº†æš‚å­˜åŒº Changes not staged for commitï¼šä»£è¡¨åœ¨å½“å‰åˆ†æ”¯ä¸­è¢«ä¿®æ”¹çš„æ–‡ä»¶ï¼Œè¿˜æ²¡æœ‰è¢«addï¼Œå­˜å‚¨åœ¨å·¥ä½œåŒº gitå†…éƒ¨å­˜å‚¨æœ¬åœ°gité¡¹ç›®é‡Œé¢çš„.gitç›®å½•ä¸‹çš„æ–‡ä»¶å¦‚ä¸‹ï¼š refsï¼šå­˜å‚¨gitå„ç§å¼•ç”¨çš„ç›®å½•ï¼ŒåŒ…å«åˆ†æ”¯ã€è¿œç¨‹åˆ†æ”¯å’Œæ ‡ç­¾ objectsï¼šæ˜¯å­˜å‚¨gitå„ç§å¯¹è±¡åŠå¤‡ç”¨çš„å¯¹è±¡åº“ï¼ŒåŒ…å«æ­£å¸¸çš„å‹ç¼©å’Œå‹ç¼©åçš„ infoï¼šå­˜å‚¨gitä¿¡æ¯çš„ç›®å½•ï¼Œæ¯”å¦‚åˆ¤å¤„ç‰¹å®šåç¼€çš„æ–‡ä»¶ indexï¼šæš‚å­˜åŒº hooksï¼šå­˜å‚¨gité’©å­çš„ç›®å½•ï¼Œé’©å­åªåœ¨ç‰¹å®šäº‹ä»¶å‘ç”Ÿæ—¶è§¦çš„è„šæœ¬ï¼Œæ¯”å¦‚ï¼šæäº¤ä¹‹å‰ï¼Œæäº¤ä¹‹å descriptionï¼šé¡¹ç›®æè¿° configï¼šä»£ç åº“å‡ å€çš„é…ç½®æ–‡ä»¶ ORIG_HEADï¼šé’ˆå¯¹æŸäº› å±é™©æ“ä½œ ï¼ŒGité€šè¿‡è®°å½•HEADæŒ‡é’ˆçš„ä¸Šæ¬¡æ‰€åœ¨çš„ä½ç½® ORIG_HEADæä¾›äº†å›é€€çš„åŠŸèƒ½ã€‚å½“ä½ å‘ç°æŸäº›æ“ä½œå¤±è¯¯äº†ï¼Œæ¯”å¦‚é”™è¯¯çš„resetåˆ°äº†ä¸€ä¸ªå¾ˆæ—©å¾ˆæ—©çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ git reset â€“hard ORIG_HEADå›é€€åˆ°ä¸Šä¸€æ¬¡resetä¹‹å‰ã€‚ HEADï¼šä»£ç åº“å½“å‰åˆ†æ”¯çš„æŒ‡å‘ FETCH_HEADï¼š æ˜¯ä¸€ä¸ªç‰ˆæœ¬é“¾æ¥ï¼Œè®°å½•åœ¨æœ¬åœ°çš„ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ŒæŒ‡å‘ç€ç›®å‰å·²ç»ä»è¿œç¨‹ä»“åº“å–ä¸‹æ¥çš„åˆ†æ”¯çš„æœ«ç«¯ç‰ˆæœ¬ã€‚ COMMIT_EDITMSGï¼šcommitç¼–è¾‘ git å¸¸ç”¨æ’ä»¶ commitizen è§„èŒƒcommit message git showåœ¨å½“å‰åˆ†æ”¯ï¼Œè¿è¡Œgit show &lt;å…¶ä»–åˆ†æ”¯å&gt; kå¯ä»¥æŸ¥çœ‹å½“å‰åˆ†æ”¯ä¸å…¶ä»–åˆ†æ”¯çš„diff git diff master f_tmp å¯ä»¥æŸ¥çœ‹masterå’Œf_tmpåˆ†æ”¯çš„åŒºåˆ«","link":"/posts/Git-%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/"},{"title":"HTML å°çŸ¥è¯†","text":"1.è®¾ç½®input è¯­æ³•æ£€æŸ¥spellcheck=&quot;false/true&quot; 2.è®¾ç½®inputæ˜¯å¦è‡ªåŠ¨è¡¥å…¨autocomplete=&quot;off/on&quot; 3.é¡µé¢åŠ è½½æ—¶ï¼Œè‡ªåŠ¨è·å–ç„¦ç‚¹autofocus=&quot;autofocus&quot; 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;&gt; ä¸Šé¢ä»£ç çš„æ„æ€æ˜¯ï¼Œè®©å¸ƒå±€è§†å£çš„å®½åº¦ç­‰äºç†æƒ³è§†å£çš„å®½åº¦ï¼Œé¡µé¢çš„åˆå§‹ç¼©æ”¾æ¯”ä¾‹ä»¥åŠæœ€å¤§ç¼©æ”¾æ¯”ä¾‹éƒ½ä¸º1ï¼Œä¸”ä¸å…è®¸ç”¨æˆ·å¯¹é¡µé¢è¿›è¡Œç¼©æ”¾æ“ä½œã€‚ inputæ ‡ç­¾åªèƒ½è¾“å…¥æ•°å­—jså®ç°(ä¸”ä¸èƒ½è¾“å…¥eæˆ–è€…å…¶ä»–å„ç§ç¬¦å·)1&lt;input id=&quot;xxx&quot; type=&quot;number&quot; onKeypress=&quot;return (/[\\d]/.test(String.fromCharCode(event.keyCode)))&quot; style=&quot;ime-mode: Disabled&quot; &gt; ime-modeçš„è¯­æ³•è§£é‡Šå¦‚ä¸‹ï¼š ime-mode : auto | active | inactive | disabled å–å€¼ï¼š auto : é»˜è®¤å€¼ã€‚ä¸å½±å“IMEçš„çŠ¶æ€ã€‚ä¸ä¸æŒ‡å®š ime-mode å±æ€§æ—¶ç›¸åŒ active : æŒ‡å®šæ‰€æœ‰ä½¿ç”¨IMEè¾“å…¥çš„å­—ç¬¦ã€‚å³æ¿€æ´»æœ¬åœ°è¯­è¨€è¾“å…¥æ³•ã€‚ç”¨æˆ·ä»å¯ä»¥æ’¤é”€æ¿€æ´»IME inactive : æŒ‡å®šæ‰€æœ‰ä¸ä½¿ç”¨IMEè¾“å…¥çš„å­—ç¬¦ã€‚å³æ¿€æ´»éæœ¬åœ°è¯­è¨€ã€‚ç”¨æˆ·ä»å¯ä»¥æ’¤é”€æ¿€æ´»IME disabled : å®Œå…¨ç¦ç”¨IMEã€‚å¯¹äºæœ‰ç„¦ç‚¹çš„æ§ä»¶(å¦‚è¾“å…¥æ¡†)ï¼Œç”¨æˆ·ä¸å¯ä»¥æ¿€æ´»IME IME æ˜¯æŒ‡ Input Method Editors è¾“å…¥æ³•ç¼–è¾‘å™¨ æ…•è¯¾ç½‘å­¦ä¹  1.htmlåŸºç¡€ emæ ‡ç­¾ï¼šå¼ºè°ƒï¼Œæ–œä½“ï¼›strong:å¼ºè°ƒ &lt;address&gt;æ–œä½“ï¼Œç”¨äºæ˜¾ç¤ºåœ°å€&lt;q&gt;æ ‡ç­¾çš„çœŸæ­£å…³é”®ç‚¹ä¸æ˜¯å®ƒçš„é»˜è®¤æ ·å¼åŒå¼•å·ï¼Œè€Œæ˜¯å®ƒçš„è¯­ä¹‰ï¼šå¼•ç”¨åˆ«äººçš„è¯ã€‚ &lt;blockquote&gt;çš„ä½œç”¨ä¹Ÿæ˜¯å¼•ç”¨åˆ«äººçš„æ–‡æœ¬ã€‚ä½†å®ƒæ˜¯å¯¹é•¿æ–‡æœ¬çš„å¼•ç”¨ï¼Œå¦‚åœ¨æ–‡ç« ä¸­å¼•å…¥å¤§æ®µæŸçŸ¥åä½œå®¶çš„æ–‡å­—ï¼Œè¿™æ—¶éœ€è¦è¿™ä¸ªæ ‡ç­¾ã€‚ html4.01ç‰ˆæœ¬ &lt;hr&gt; &lt;br&gt;xhtml1.0ç‰ˆæœ¬ &lt;hr /&gt; &lt;br/&gt; æ˜¾ç¤ºä»£ç æ®µ ä¸€è¡Œâ€”&lt;code&gt;&lt;/code&gt; å¤šè¡Œâ€”-&lt;pre&gt;&lt;/pre&gt;select å¤šé€‰ &lt;select multiple=&quot;multiple&quot;&gt;Labelä¸­çš„foräº‹ä»¶labelæ ‡ç­¾ä¸ä¼šå‘ç”¨æˆ·å‘ˆç°ä»»ä½•ç‰¹æ®Šæ•ˆæœï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¸ºé¼ æ ‡ç”¨æˆ·æ”¹è¿›äº†å¯ç”¨æ€§ã€‚å¦‚æœä½ åœ¨ label æ ‡ç­¾å†…ç‚¹å‡»æ–‡æœ¬ï¼Œå°±ä¼šè§¦å‘æ­¤æ§ä»¶ã€‚å°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·å•å‡»é€‰ä¸­è¯¥labelæ ‡ç­¾æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šè‡ªåŠ¨å°†ç„¦ç‚¹è½¬åˆ°å’Œæ ‡ç­¾ç›¸å…³çš„è¡¨å•æ§ä»¶ä¸Šï¼ˆå°±è‡ªåŠ¨é€‰ä¸­å’Œè¯¥ labelæ ‡ç­¾ç›¸å…³è¿çš„è¡¨å•æ§ä»¶ä¸Šï¼‰ã€‚placeholderå±æ€§&lt;input type=&quot;email&quot; id=&quot;email&quot; placeholder=&quot;Enter email&quot;&gt; cssæ ·å¼ä¸‰ç§æ ·å¼æ˜¯æœ‰ä¼˜å…ˆçº§çš„ï¼Œè®°ä½ä»–ä»¬çš„ä¼˜å…ˆçº§ï¼šå†…è”å¼ &gt; åµŒå…¥å¼ &gt; å¤–éƒ¨å¼ ç±»é€‰æ‹©å™¨å’Œidé€‰æ‹©å™¨çš„ç›¸åŒã€ä¸åŒç‚¹ ç›¸åŒç‚¹å’Œä¸åŒç‚¹ï¼šç›¸åŒç‚¹ï¼šå¯ä»¥åº”ç”¨äºä»»ä½•å…ƒç´  ä¸åŒç‚¹ï¼š1ã€IDé€‰æ‹©å™¨åªèƒ½åœ¨æ–‡æ¡£ä¸­ä½¿ç”¨ä¸€æ¬¡ã€‚ä¸ç±»é€‰æ‹©å™¨ä¸åŒï¼Œåœ¨ä¸€ä¸ªHTMLæ–‡æ¡£ä¸­ï¼ŒIDé€‰æ‹©å™¨åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œè€Œä¸”ä»…ä¸€æ¬¡ã€‚è€Œç±»é€‰æ‹©å™¨å¯ä»¥ä½¿ç”¨å¤šæ¬¡ã€‚2ã€å¯ä»¥ä½¿ç”¨ç±»é€‰æ‹©å™¨è¯åˆ—è¡¨æ–¹æ³•ä¸ºä¸€ä¸ªå…ƒç´ åŒæ—¶è®¾ç½®å¤šä¸ªæ ·å¼ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºä¸€ä¸ªå…ƒç´ åŒæ—¶è®¾å¤šä¸ªæ ·å¼ï¼Œä½†åªå¯ä»¥ç”¨ç±»é€‰æ‹©å™¨çš„æ–¹æ³•å®ç°ï¼ŒIDé€‰æ‹©å™¨æ˜¯ä¸å¯ä»¥çš„ï¼ˆä¸èƒ½ä½¿ç”¨ ID è¯åˆ—è¡¨ï¼‰ã€‚ å­é€‰æ‹©å™¨è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„é€‰æ‹©å™¨å­é€‰æ‹©å™¨ï¼Œå³å¤§äºç¬¦å·(&gt;),ç”¨äºé€‰æ‹©æŒ‡å®šæ ‡ç­¾å…ƒç´ çš„ç¬¬ä¸€ä»£å­å…ƒç´ ã€‚å¦‚å³ä¾§ä»£ç ç¼–è¾‘å™¨ä¸­çš„ä»£ç ï¼š.food&gt;li{border:1px solid red;} åŒ…å«(åä»£)é€‰æ‹©å™¨åŒ…å«é€‰æ‹©å™¨ï¼Œå³åŠ å…¥ç©ºæ ¼,ç”¨äºé€‰æ‹©æŒ‡å®šæ ‡ç­¾å…ƒç´ ä¸‹çš„åè¾ˆå…ƒç´ ã€‚å¦‚å³ä¾§ä»£ç ç¼–è¾‘å™¨ä¸­çš„ä»£ç ï¼š.first span{color:red;}è¯·æ³¨æ„è¿™ä¸ªé€‰æ‹©å™¨ä¸å­é€‰æ‹©å™¨çš„åŒºåˆ«ï¼Œå­é€‰æ‹©å™¨ï¼ˆchild selectorï¼‰ä»…æ˜¯æŒ‡å®ƒçš„ç›´æ¥åä»£ï¼Œæˆ–è€…ä½ å¯ä»¥ç†è§£ä¸ºä½œç”¨äºå­å…ƒç´ çš„ç¬¬ä¸€ä»£åä»£ã€‚è€Œåä»£é€‰æ‹©å™¨æ˜¯ä½œç”¨äºæ‰€æœ‰å­åä»£å…ƒç´ ã€‚åä»£é€‰æ‹©å™¨é€šè¿‡ç©ºæ ¼æ¥è¿›è¡Œé€‰æ‹©ï¼Œè€Œå­é€‰æ‹©å™¨æ˜¯é€šè¿‡â€œ&gt;â€è¿›è¡Œé€‰æ‹©ã€‚ æ€»ç»“ï¼š&gt;ä½œç”¨äºå…ƒç´ çš„ç¬¬ä¸€ä»£åä»£ï¼Œç©ºæ ¼ä½œç”¨äºå…ƒç´ çš„æ‰€æœ‰åä»£ã€‚ é€šç”¨é€‰æ‹©å™¨ * ä¼ªç±»é€‰æ‹©ç¬¦æ›´æœ‰è¶£çš„æ˜¯ä¼ªç±»é€‰æ‹©ç¬¦ï¼Œä¸ºä»€ä¹ˆå«åšä¼ªç±»é€‰æ‹©ç¬¦ï¼Œå®ƒå…è®¸ç»™htmlä¸å­˜åœ¨çš„æ ‡ç­¾ï¼ˆæ ‡ç­¾çš„æŸç§çŠ¶æ€ï¼‰è®¾ç½®æ ·å¼ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬ç»™htmlä¸­ä¸€ä¸ªæ ‡ç­¾å…ƒç´ çš„é¼ æ ‡æ»‘è¿‡çš„çŠ¶æ€æ¥è®¾ç½®å­—ä½“é¢œè‰²ï¼ša:hover{color:red;} åˆ†ç»„é€‰æ‹©ç¬¦å½“ä½ æƒ³ä¸ºhtmlä¸­å¤šä¸ªæ ‡ç­¾å…ƒç´ è®¾ç½®åŒä¸€ä¸ªæ ·å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åˆ†ç»„é€‰æ‹©ç¬¦ï¼ˆï¼Œï¼‰ï¼Œå¦‚ä¸‹ä»£ç ä¸ºå³ä¾§ä»£ç ç¼–è¾‘å™¨ä¸­çš„h1ã€spanæ ‡ç­¾åŒæ—¶è®¾ç½®å­—ä½“é¢œè‰²ä¸ºçº¢è‰²ï¼šh1,span{color:red;} ç»§æ‰¿CSSçš„æŸäº›æ ·å¼æ˜¯å…·æœ‰ç»§æ‰¿æ€§çš„ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯ç»§æ‰¿å‘¢ï¼Ÿç»§æ‰¿æ˜¯ä¸€ç§è§„åˆ™ï¼Œå®ƒå…è®¸æ ·å¼ä¸ä»…åº”ç”¨äºæŸä¸ªç‰¹å®šhtmlæ ‡ç­¾å…ƒç´ ï¼Œè€Œä¸”åº”ç”¨äºå…¶åä»£ã€‚æ¯”å¦‚ä¸‹é¢ä»£ç ï¼šå¦‚æŸç§é¢œè‰²åº”ç”¨äºpæ ‡ç­¾ï¼Œè¿™ä¸ªé¢œè‰²è®¾ç½®ä¸ä»…åº”ç”¨pæ ‡ç­¾ï¼Œè¿˜åº”ç”¨äºpæ ‡ç­¾ä¸­çš„æ‰€æœ‰å­å…ƒç´ æ–‡æœ¬ï¼Œè¿™é‡Œå­å…ƒç´ ä¸ºspanæ ‡ç­¾ã€‚p{color:red;} 12345&lt;p&gt;ä¸‰å¹´çº§æ—¶ï¼Œæˆ‘è¿˜æ˜¯ä¸€ä¸ª&lt;span&gt;èƒ†å°å¦‚é¼ &lt;/span&gt;çš„å°å¥³å­©ã€‚&lt;/p&gt;å¯è§å³ä¾§ç»“æœçª—å£ä¸­pä¸­çš„æ–‡æœ¬ä¸spanä¸­çš„æ–‡æœ¬éƒ½è®¾ç½®ä¸ºäº†çº¢è‰²ã€‚ä½†æ³¨æ„æœ‰ä¸€äº›cssæ ·å¼æ˜¯ä¸å…·æœ‰ç»§æ‰¿æ€§çš„ã€‚å¦‚border:1px solid red;p{border:1px solid red;}&lt;p&gt;ä¸‰å¹´çº§æ—¶ï¼Œæˆ‘è¿˜æ˜¯ä¸€ä¸ª&lt;span&gt;èƒ†å°å¦‚é¼ &lt;/span&gt;çš„å°å¥³å­©ã€‚&lt;/p&gt; ç‰¹æ®Šæ€§æ ¹æ®æƒå€¼æ¥åˆ¤æ–­ä½¿ç”¨å“ªç§cssæ ·å¼çš„ï¼Œæƒå€¼é«˜çš„å°±ä½¿ç”¨å“ªç§cssæ ·å¼ã€‚ä¸‹é¢æ˜¯æƒå€¼çš„è§„åˆ™ï¼šæ ‡ç­¾çš„æƒå€¼ä¸º1ï¼Œç±»é€‰æ‹©ç¬¦çš„æƒå€¼ä¸º10ï¼ŒIDé€‰æ‹©ç¬¦çš„æƒå€¼æœ€é«˜ä¸º100ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š 123456p{color:red;} /*æƒå€¼ä¸º1*/p span{color:green;} /*æƒå€¼ä¸º1+1=2*/.warning{color:white;} /*æƒå€¼ä¸º10*/p span.warning{color:purple;} /*æƒå€¼ä¸º1+1+10=12*/# footer .note p{color:yellow;} /*æƒå€¼ä¸º100+10+1=111*/ æ³¨æ„ï¼šè¿˜æœ‰ä¸€ä¸ªæƒå€¼æ¯”è¾ƒç‰¹æ®Šâ€“ç»§æ‰¿ä¹Ÿæœ‰æƒå€¼ä½†å¾ˆä½ï¼Œæœ‰çš„æ–‡çŒ®æå‡ºå®ƒåªæœ‰0.1ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸ºç»§æ‰¿çš„æƒå€¼æœ€ä½ã€‚ å±‚å å†…è”æ ·å¼è¡¨ï¼ˆæ ‡ç­¾å†…éƒ¨ï¼‰&gt; åµŒå…¥æ ·å¼è¡¨ï¼ˆå½“å‰æ–‡ä»¶ä¸­ï¼‰&gt; å¤–éƒ¨æ ·å¼è¡¨ï¼ˆå¤–éƒ¨æ–‡ä»¶ä¸­ï¼‰ã€‚ é‡è¦æ€§ æ ·å¼ä¼˜å…ˆçº§ä¸ºï¼šæµè§ˆå™¨é»˜è®¤çš„æ ·å¼ &lt; ç½‘é¡µåˆ¶ä½œè€…æ ·å¼ &lt; ç”¨æˆ·è‡ªå·±è®¾ç½®çš„æ ·å¼ï¼Œä½†è®°ä½!importantä¼˜å…ˆçº§æ ·å¼æ˜¯ä¸ªä¾‹å¤–ï¼Œæƒå€¼é«˜äºç”¨æˆ·è‡ªå·±è®¾ç½®çš„æ ·å¼ã€‚ ç°åœ¨ä¸€èˆ¬ç½‘é¡µå–œæ¬¢è®¾ç½®â€œå¾®è½¯é›…é»‘â€ï¼Œå¦‚ä¸‹ä»£ç ï¼šbody{font-family:&quot;Microsoft Yahei&quot;;} æ–‡å­—æ’ç‰ˆâ€“æ–œä½“ä»¥ä¸‹ä»£ç å¯ä»¥å®ç°æ–‡å­—ä»¥æ–œä½“æ ·å¼åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºï¼šp a{font-style:italic;} æ–‡å­—æ’ç‰ˆâ€“ä¸‹åˆ’çº¿æœ‰äº›æƒ…å†µä¸‹æƒ³ä¸ºæ–‡å­—è®¾ç½®ä¸ºä¸‹åˆ’çº¿æ ·å¼ï¼Œè¿™æ ·å¯ä»¥åœ¨è§†è§‰ä¸Šå¼ºè°ƒæ–‡å­—ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢ä»£ç æ¥å®ç°ï¼šp a{text-decoration:underline;}åˆ é™¤çº¿ä½¿ç”¨ä¸‹é¢ä»£ç å°±å¯ä»¥å®ç°ï¼š.oldPrice{text-decoration:line-through;} æ®µè½æ’ç‰ˆâ€“ç¼©è¿›ä¸­æ–‡æ–‡å­—ä¸­çš„æ®µå‰ä¹ æƒ¯ç©ºä¸¤ä¸ªæ–‡å­—çš„ç©ºç™½ï¼Œè¿™ä¸ªç‰¹æ®Šçš„æ ·å¼å¯ä»¥ç”¨ä¸‹é¢ä»£ç æ¥å®ç°ï¼šp{text-indent:2em;}æ³¨æ„ï¼š2emçš„æ„æ€å°±æ˜¯æ–‡å­—çš„2å€å¤§å° æ®µè½æ’ç‰ˆâ€“è¡Œé—´è·è¿™ä¸€å°èŠ‚æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹å¦ä¸€ä¸ªåœ¨æ®µè½æ’ç‰ˆä¸­èµ·é‡è¦ä½œç”¨çš„è¡Œé—´è·å±æ€§ï¼ˆline-heightï¼‰ï¼Œå¦‚ä¸‹ä»£ç å®ç°è®¾ç½®æ®µè½è¡Œé—´è·ä¸º1.5å€ã€‚p{line-height:1.5em;} æ®µè½æ’ç‰ˆâ€“å­—é—´è·ã€å­—æ¯é—´è·æ–‡å­—é—´éš”ã€å­—æ¯é—´éš”è®¾ç½®ï¼šå¦‚æœæƒ³åœ¨ç½‘é¡µæ’ç‰ˆä¸­è®¾ç½®æ–‡å­—é—´éš”æˆ–è€…å­—æ¯é—´éš”å°±å¯ä»¥ä½¿ç”¨ letter-spacingæ¥å®ç°ï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š 123h1{ letter-spacing:50px;} æ³¨æ„ï¼šè¿™ä¸ªæ ·å¼ä½¿ç”¨åœ¨è‹±æ–‡å•è¯æ—¶ï¼Œæ˜¯è®¾ç½®å­—æ¯ä¸å­—æ¯ä¹‹é—´çš„é—´è·ã€‚å•è¯é—´è·è®¾ç½®ï¼šå¦‚æœæˆ‘æƒ³è®¾ç½®è‹±æ–‡å•è¯ä¹‹é—´çš„é—´è·å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨word-spacingæ¥å®ç°ã€‚å¦‚ä¸‹ä»£ç ï¼š 123h1{ word-spacing:50px;} æ®µè½æ’ç‰ˆâ€“å¯¹é½æƒ³ä¸ºå—çŠ¶å…ƒç´ ä¸­çš„æ–‡æœ¬ã€å›¾ç‰‡è®¾ç½®å±…ä¸­æ ·å¼å—ï¼Ÿå¯ä»¥ä½¿ç”¨text-alignæ ·å¼ä»£ç ï¼Œå¦‚ä¸‹ä»£ç å¯å®ç°æ–‡æœ¬å±…ä¸­æ˜¾ç¤ºã€‚(é‚£ä¹ˆä»€ä¹ˆæ˜¯å—çŠ¶å…ƒç´ å‘¢ï¼Ÿåœ¨åé¢çš„11-1ã€11-2å°èŠ‚ä¸­ä¼šè®²åˆ°ã€‚) 123h1{ text-align:center;} å…ƒç´ åˆ†ç±»åœ¨è®²è§£CSSå¸ƒå±€ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æå‰çŸ¥é“ä¸€äº›çŸ¥è¯†ï¼Œåœ¨CSSä¸­ï¼Œhtmlä¸­çš„æ ‡ç­¾å…ƒç´ å¤§ä½“è¢«åˆ†ä¸ºä¸‰ç§ä¸åŒçš„ç±»å‹ï¼šå—çŠ¶å…ƒç´ ã€å†…è”å…ƒç´ (åˆå«è¡Œå†…å…ƒç´ )å’Œå†…è”å—çŠ¶å…ƒç´ ã€‚å¸¸ç”¨çš„å—çŠ¶å…ƒç´ æœ‰ï¼š 1&lt;div&gt;ã€&lt;p&gt;ã€&lt;h1&gt;...&lt;h6&gt;ã€&lt;ol&gt;ã€&lt;ul&gt;ã€&lt;dl&gt;ã€&lt;table&gt;ã€&lt;address&gt;ã€&lt;blockquote&gt;ã€&lt;form&gt; å¸¸ç”¨çš„å†…è”å…ƒç´ æœ‰ï¼š 1&lt;a&gt;ã€&lt;span&gt;ã€&lt;br&gt;ã€&lt;i&gt;ã€&lt;em&gt;ã€&lt;strong&gt;ã€&lt;label&gt;ã€&lt;q&gt;ã€&lt;var&gt;ã€&lt;cite&gt;ã€&lt;code&gt; å¸¸ç”¨çš„å†…è”å—çŠ¶å…ƒç´ æœ‰ï¼š 1&lt;img&gt;ã€&lt;input&gt; å…ƒç´ åˆ†ç±»â€“å—çº§å…ƒç´ ä»€ä¹ˆæ˜¯å—çº§å…ƒç´ ï¼Ÿåœ¨htmlä¸­&lt;div&gt;ã€ &lt;p&gt;ã€&lt;h1&gt;ã€&lt;form&gt;ã€&lt;ul&gt; å’Œ &lt;li&gt;å°±æ˜¯å—çº§å…ƒç´ ã€‚è®¾ç½®display:blockå°±æ˜¯å°†å…ƒç´ æ˜¾ç¤ºä¸ºå—çº§å…ƒç´ ã€‚å¦‚ä¸‹ä»£ç å°±æ˜¯å°†å†…è”å…ƒç´ aè½¬æ¢ä¸ºå—çŠ¶å…ƒç´ ï¼Œä»è€Œä½¿aå…ƒç´ å…·æœ‰å—çŠ¶å…ƒç´ ç‰¹ç‚¹ã€‚a{display:block;}å—çº§å…ƒç´ ç‰¹ç‚¹ï¼š1ã€æ¯ä¸ªå—çº§å…ƒç´ éƒ½ä»æ–°çš„ä¸€è¡Œå¼€å§‹ï¼Œå¹¶ä¸”å…¶åçš„å…ƒç´ ä¹Ÿå¦èµ·ä¸€è¡Œã€‚ï¼ˆçœŸéœ¸é“ï¼Œä¸€ä¸ªå—çº§å…ƒç´ ç‹¬å ä¸€è¡Œï¼‰2ã€å…ƒç´ çš„é«˜åº¦ã€å®½åº¦ã€è¡Œé«˜ä»¥åŠé¡¶å’Œåº•è¾¹è·éƒ½å¯è®¾ç½®ã€‚3ã€å…ƒç´ å®½åº¦åœ¨ä¸è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œæ˜¯å®ƒæœ¬èº«çˆ¶å®¹å™¨çš„100%ï¼ˆå’Œçˆ¶å…ƒç´ çš„å®½åº¦ä¸€è‡´ï¼‰ï¼Œé™¤éè®¾å®šä¸€ä¸ªå®½åº¦ã€‚ å…ƒç´ åˆ†ç±»â€“å†…è”å…ƒç´ åœ¨htmlä¸­ï¼Œ&lt;span&gt;ã€&lt;a&gt;ã€&lt;label&gt;ã€&lt;input&gt;ã€ &lt;img&gt;ã€ &lt;strong&gt; å’Œ&lt;em&gt;å°±æ˜¯å…¸å‹çš„å†…è”å…ƒç´ ï¼ˆè¡Œå†…å…ƒç´ ï¼‰ï¼ˆinlineï¼‰å…ƒç´ ã€‚å½“ç„¶å—çŠ¶å…ƒç´ ä¹Ÿå¯ä»¥é€šè¿‡ä»£ç display:inlineå°†å…ƒç´ è®¾ç½®ä¸ºå†…è”å…ƒç´ ã€‚å¦‚ä¸‹ä»£ç å°±æ˜¯å°†å—çŠ¶å…ƒç´ divè½¬æ¢ä¸ºå†…è”å…ƒç´ ï¼Œä»é¡µä½¿ç”¨divå…ƒç´ å…·æœ‰å†…è”å…ƒç´ ç‰¹ç‚¹ã€‚å†…è”å…ƒç´ ç‰¹ç‚¹ï¼š1ã€å’Œå…¶ä»–å…ƒç´ éƒ½åœ¨ä¸€è¡Œä¸Šï¼›2ã€å…ƒç´ çš„é«˜åº¦ã€å®½åº¦ã€è¡Œé«˜åŠé¡¶éƒ¨å’Œåº•éƒ¨è¾¹è·ä¸å¯è®¾ç½®ï¼›3ã€å…ƒç´ çš„å®½åº¦å°±æ˜¯å®ƒåŒ…å«çš„æ–‡å­—æˆ–å›¾ç‰‡çš„å®½åº¦ï¼Œä¸å¯æ”¹å˜ã€‚å°ä¼™ä¼´ä»¬ä½ ä»¬è§‚æŸ¥ä¸€ä¸‹å³ä¾§ä»£ç æ®µï¼Œæœ‰æ²¡æœ‰å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå†…è”å…ƒç´ ä¹‹é—´æœ‰ä¸€ä¸ªé—´è·é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜åœ¨æœ¬å°èŠ‚çš„wikiä¸­æœ‰ä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å»æŸ¥çœ‹ã€‚è§£å†³è¡Œå†…å…ƒç´ é—´éš™bugé—®é¢˜è¡Œå†…å…ƒç´ ä¹‹é—´ä¼šäº§ç”Ÿé—´éš™bugé—®é¢˜çš„åœºæ™¯ï¼š1ã€å½“è¡Œå†…å…ƒç´ ä¹‹é—´æœ‰â€œå›è½¦â€ã€â€œtabâ€ã€â€œç©ºæ ¼â€æ—¶å°±ä¼šå‡ºç°é—´éš™ã€‚å¦‚ä¸‹ä»£ç ï¼š 12345678910111213&lt;div&gt; &lt;a&gt;1&lt;/a&gt; &lt;a&gt;2&lt;/a&gt; &lt;span&gt;33333&lt;/span&gt; &lt;span&gt;44444&lt;/span&gt; &lt;em&gt;555555&lt;/em&gt;&lt;/div&gt; è§£å†³æ–¹æ³•ï¼š1ã€å†™åœ¨ä¸€è¡Œï¼Œä¹‹é—´ä¸è¦æœ‰ç©ºæ ¼ä¹‹ç±»çš„ç¬¦å·ã€‚ 12345&lt;div&gt;&lt;a&gt;1&lt;/a&gt;&lt;a&gt;2&lt;/a&gt;&lt;span&gt;33333&lt;/span&gt;&lt;span&gt;44444&lt;/span&gt;&lt;em&gt;555555&lt;/em&gt;&lt;/div&gt; 2ã€ä½¿ç”¨font-size:0 123div{font-size:0;}a,span,em{font-size:16px;} å…ƒç´ åˆ†ç±»â€“å†…è”å—çŠ¶å…ƒç´ å†…è”å—çŠ¶å…ƒç´ ï¼ˆinline-blockï¼‰å°±æ˜¯åŒæ—¶å…·å¤‡å†…è”å…ƒç´ ã€å—çŠ¶å…ƒç´ çš„ç‰¹ç‚¹ï¼Œä»£ç display:inline-blockå°±æ˜¯å°†å…ƒç´ è®¾ç½®ä¸ºå†…è”å—çŠ¶å…ƒç´ ã€‚(css2.1æ–°å¢)ï¼Œ&lt;img&gt;ã€&lt;input&gt;æ ‡ç­¾å°±æ˜¯è¿™ç§å†…è”å—çŠ¶æ ‡ç­¾ã€‚ inline-blockå…ƒç´ ç‰¹ç‚¹ï¼š1ã€å’Œå…¶ä»–å…ƒç´ éƒ½åœ¨ä¸€è¡Œä¸Šï¼›2ã€å…ƒç´ çš„é«˜åº¦ã€å®½åº¦ã€è¡Œé«˜ä»¥åŠé¡¶å’Œåº•è¾¹è·éƒ½å¯è®¾ç½®ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;&lt;title&gt;å†…è”å—çŠ¶å…ƒç´ &lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;a{ display:inline-block; width:20px;/*åœ¨é»˜è®¤æƒ…å†µä¸‹å®½åº¦ä¸èµ·ä½œç”¨*/ height:20px;/*åœ¨é»˜è®¤æƒ…å†µä¸‹é«˜åº¦ä¸èµ·ä½œç”¨*/ background:pink;/*è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºç²‰è‰²*/ text-align:center; /*è®¾ç½®æ–‡æœ¬å±…ä¸­æ˜¾ç¤º*/}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;a&gt;1&lt;/a&gt;&lt;a&gt;2&lt;/a&gt;&lt;a&gt;3&lt;/a&gt;&lt;a&gt;4&lt;/a&gt;&lt;/body&gt;&lt;/html&gt; å†…å¡«å……ï¼Œå¤–è¾¹è·ï¼Œè¾¹æ¡†ç›’æ¨¡å‹â€“è¾¹æ¡†ï¼ˆä¸€ï¼‰ç›’å­æ¨¡å‹çš„è¾¹æ¡†å°±æ˜¯å›´ç»•ç€å†…å®¹åŠè¡¥ç™½çš„çº¿ï¼Œè¿™æ¡çº¿ä½ å¯ä»¥è®¾ç½®å®ƒçš„ç²—ç»†ã€æ ·å¼å’Œé¢œè‰²(è¾¹æ¡†ä¸‰ä¸ªå±æ€§)ã€‚ 123div{ border:2px solid red;} ä¸Šé¢æ˜¯borderä»£ç çš„ç¼©å†™å½¢å¼ï¼Œå¯ä»¥åˆ†å¼€å†™ï¼š 12345div{ border-width:2px; border-style:solid; border-color:red;} æ³¨æ„ï¼š1ã€border-styleï¼ˆè¾¹æ¡†æ ·å¼ï¼‰å¸¸è§æ ·å¼æœ‰ï¼šdashedï¼ˆè™šçº¿ï¼‰| dottedï¼ˆç‚¹çº¿ï¼‰| solidï¼ˆå®çº¿ï¼‰ã€‚2ã€border-colorï¼ˆè¾¹æ¡†é¢œè‰²ï¼‰ä¸­çš„é¢œè‰²å¯è®¾ç½®ä¸ºåå…­è¿›åˆ¶é¢œè‰²ï¼Œå¦‚:border-color:#888;//å‰é¢çš„äº•å·ä¸è¦å¿˜æ‰ã€‚3ã€border-widthï¼ˆè¾¹æ¡†å®½åº¦ï¼‰ä¸­çš„å®½åº¦ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºï¼šthin | medium | thickï¼ˆä½†ä¸æ˜¯å¾ˆå¸¸ç”¨ï¼‰ï¼Œæœ€å¸¸è¿˜æ˜¯ç”¨è±¡ç´ ï¼ˆpxï¼‰ã€‚ç›’æ¨¡å‹â€“å®½åº¦å’Œé«˜åº¦ç›’æ¨¡å‹å®½åº¦å’Œé«˜åº¦å’Œæˆ‘ä»¬å¹³å¸¸æ‰€è¯´çš„ç‰©ä½“çš„å®½åº¦å’Œé«˜åº¦ç†è§£æ˜¯ä¸ä¸€æ ·çš„ï¼Œcsså†…å®šä¹‰çš„å®½ï¼ˆwidthï¼‰å’Œé«˜ï¼ˆheightï¼‰ï¼ŒæŒ‡çš„æ˜¯å¡«å……ä»¥é‡Œçš„å†…å®¹èŒƒå›´ã€‚ å› æ­¤ä¸€ä¸ªå…ƒç´ å®é™…å®½åº¦ï¼ˆç›’å­çš„å®½åº¦ï¼‰=å·¦è¾¹ç•Œ+å·¦è¾¹æ¡†+å·¦å¡«å……+å†…å®¹å®½åº¦+å³å¡«å……+å³è¾¹æ¡†+å³è¾¹ç•Œã€‚ å…ƒç´ çš„é«˜åº¦ä¹Ÿæ˜¯åŒç†ã€‚ç›’æ¨¡å‹â€“å¡«å……å…ƒç´ å†…å®¹ä¸è¾¹æ¡†ä¹‹é—´æ˜¯å¯ä»¥è®¾ç½®è·ç¦»çš„ï¼Œç§°ä¹‹ä¸ºâ€œå¡«å……â€ã€‚å¡«å……ä¹Ÿå¯åˆ†ä¸ºä¸Šã€å³ã€ä¸‹ã€å·¦(é¡ºæ—¶é’ˆ)ã€‚å¦‚ä¸‹ä»£ç ï¼šdiv{padding:20px 10px 15px 30px;}é¡ºåºä¸€å®šä¸è¦ææ··ã€‚å¯ä»¥åˆ†å¼€å†™ä¸Šé¢ä»£ç ï¼š 123456div{ padding-top:20px; padding-right:10px; padding-bottom:15px; padding-left:30px;} å¦‚æœä¸Šã€å³ã€ä¸‹ã€å·¦çš„å¡«å……éƒ½ä¸º10px;å¯ä»¥è¿™ä¹ˆå†™div{padding:10px;}å¦‚æœä¸Šä¸‹å¡«å……ä¸€æ ·ä¸º10pxï¼Œå·¦å³ä¸€æ ·ä¸º20pxï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼šdiv{padding:10px 20px;}ç›’æ¨¡å‹â€“è¾¹ç•Œå…ƒç´ ä¸å…¶å®ƒå…ƒç´ ä¹‹é—´çš„è·ç¦»å¯ä»¥ä½¿ç”¨è¾¹ç•Œï¼ˆmarginï¼‰æ¥è®¾ç½®ã€‚è¾¹ç•Œä¹Ÿæ˜¯å¯åˆ†ä¸ºä¸Šã€å³ã€ä¸‹ã€å·¦ã€‚å¦‚ä¸‹ä»£ç ï¼šdiv{margin:20px 10px 15px 30px;}ä¹Ÿå¯ä»¥åˆ†å¼€å†™ï¼š 123456div{ margin-top:20px; margin-right:10px; margin-bottom:15px; margin-left:30px;} å¦‚æœä¸Šå³ä¸‹å·¦çš„è¾¹ç•Œéƒ½ä¸º10px;å¯ä»¥è¿™ä¹ˆå†™ï¼šdiv{ margin:10px;}å¦‚æœä¸Šä¸‹è¾¹ç•Œä¸€æ ·ä¸º10pxï¼Œå·¦å³ä¸€æ ·ä¸º20pxï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼šdiv{ margin:10px 20px;}æ€»ç»“ä¸€ä¸‹ï¼špaddingå’Œmarginçš„åŒºåˆ«ï¼Œpaddingåœ¨è¾¹æ¡†é‡Œï¼Œmarginåœ¨è¾¹æ¡†å¤–ã€‚ 12-1 CSSå¸ƒå±€æ¨¡å‹csså¸ƒå±€æ¨¡å‹æ¸…æ¥šäº†CSS ç›’æ¨¡å‹çš„åŸºæœ¬æ¦‚å¿µã€ ç›’æ¨¡å‹ç±»å‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ·±å…¥æ¢è®¨ç½‘é¡µå¸ƒå±€çš„åŸºæœ¬æ¨¡å‹äº†ã€‚å¸ƒå±€æ¨¡å‹ä¸ç›’æ¨¡å‹ä¸€æ ·éƒ½æ˜¯ CSS æœ€åŸºæœ¬ã€ æœ€æ ¸å¿ƒçš„æ¦‚å¿µã€‚ä½†å¸ƒå±€æ¨¡å‹æ˜¯å»ºç«‹åœ¨ç›’æ¨¡å‹åŸºç¡€ä¹‹ä¸Šï¼Œåˆä¸åŒäºæˆ‘ä»¬å¸¸è¯´çš„ CSS å¸ƒå±€æ ·å¼æˆ– CSS å¸ƒå±€æ¨¡æ¿ã€‚å¦‚æœè¯´å¸ƒå±€æ¨¡å‹æ˜¯æœ¬ï¼Œé‚£ä¹ˆ CSSå¸ƒå±€æ¨¡æ¿å°±æ˜¯æœ«äº†ï¼Œæ˜¯å¤–åœ¨çš„è¡¨ç°å½¢å¼ã€‚CSSåŒ…å«3ç§åŸºæœ¬çš„å¸ƒå±€æ¨¡å‹ï¼Œç”¨è‹±æ–‡æ¦‚æ‹¬ä¸ºï¼šFlowã€Layer å’Œ Floatã€‚åœ¨ç½‘é¡µä¸­ï¼Œå…ƒç´ æœ‰ä¸‰ç§å¸ƒå±€æ¨¡å‹ï¼š1ã€æµåŠ¨æ¨¡å‹ï¼ˆFlowï¼‰2ã€æµ®åŠ¨æ¨¡å‹ (Float)3ã€å±‚æ¨¡å‹ï¼ˆLayerï¼‰sæµåŠ¨æ¨¡å‹ï¼ˆä¸€ï¼‰å…ˆæ¥è¯´ä¸€è¯´æµåŠ¨æ¨¡å‹ï¼ŒæµåŠ¨ï¼ˆFlowï¼‰æ˜¯é»˜è®¤çš„ç½‘é¡µå¸ƒå±€æ¨¡å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ç½‘é¡µåœ¨é»˜è®¤çŠ¶æ€ä¸‹çš„ HTML ç½‘é¡µå…ƒç´ éƒ½æ˜¯æ ¹æ®æµåŠ¨æ¨¡å‹æ¥åˆ†å¸ƒç½‘é¡µå†…å®¹çš„ã€‚æµåŠ¨å¸ƒå±€æ¨¡å‹å…·æœ‰2ä¸ªæ¯”è¾ƒå…¸å‹çš„ç‰¹å¾ï¼šç¬¬ä¸€ç‚¹ï¼Œå—çŠ¶å…ƒç´ éƒ½ä¼šåœ¨æ‰€å¤„çš„åŒ…å«å…ƒç´ å†…è‡ªä¸Šè€Œä¸‹æŒ‰é¡ºåºå‚ç›´å»¶ä¼¸åˆ†å¸ƒï¼Œå› ä¸ºåœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œå—çŠ¶å…ƒç´ çš„å®½åº¦éƒ½ä¸º100%ã€‚å®é™…ä¸Šï¼Œå—çŠ¶å…ƒç´ éƒ½ä¼šä»¥è¡Œçš„å½¢å¼å æ®ä½ç½®ã€‚å¦‚å³ä¾§ä»£ç ç¼–è¾‘å™¨ä¸­ä¸‰ä¸ªå—çŠ¶å…ƒç´ æ ‡ç­¾(divï¼Œh1ï¼Œp)å®½åº¦æ˜¾ç¤ºä¸º100%ã€‚å—çŠ¶å…ƒç´ çš„ç‰¹ç‚¹ï¼šâ€œåœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œå—çŠ¶å…ƒç´ çš„å®½åº¦éƒ½ä¸º100%â€ã€‚ 12-3 æµåŠ¨æ¨¡å‹äºŒ æµåŠ¨æ¨¡å‹ï¼ˆäºŒï¼‰ ç¬¬äºŒç‚¹ï¼Œåœ¨æµåŠ¨æ¨¡å‹ä¸‹ï¼Œå†…è”å…ƒç´ éƒ½ä¼šåœ¨æ‰€å¤„çš„åŒ…å«å…ƒç´ å†…ä»å·¦åˆ°å³æ°´å¹³åˆ†å¸ƒæ˜¾ç¤ºã€‚ï¼ˆå†…è”å…ƒç´ å¯ä¸åƒå—çŠ¶å…ƒç´ è¿™ä¹ˆéœ¸é“ç‹¬å ä¸€è¡Œï¼‰ å³ä¾§ä»£ç ç¼–è¾‘å™¨ä¸­å†…è”å…ƒç´ æ ‡ç­¾aã€spanã€emã€strongéƒ½æ˜¯å†…è”å…ƒç´ ã€‚å†…è”å…ƒç´ çš„ç‰¹ç‚¹ï¼šâ€œåŒ…å«å…ƒç´ å†…ä»å·¦åˆ°å³æ°´å¹³åˆ†å¸ƒæ˜¾ç¤ºâ€ 12-4 æµ®åŠ¨æ¨¡å‹ æµ®åŠ¨æ¨¡å‹ å—çŠ¶å…ƒç´ è¿™ä¹ˆéœ¸é“éƒ½æ˜¯ç‹¬å ä¸€è¡Œï¼Œå¦‚æœç°åœ¨æˆ‘ä»¬æƒ³è®©ä¸¤ä¸ªå—çŠ¶å…ƒç´ å¹¶æ’æ˜¾ç¤ºï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿä¸è¦ç€æ€¥ï¼Œè®¾ç½®å…ƒç´ æµ®åŠ¨å°±å¯ä»¥å®ç°è¿™ä¸€æ„¿æœ›ã€‚ä»»ä½•å…ƒç´ åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸èƒ½æµ®åŠ¨çš„ï¼Œä½†å¯ä»¥ç”¨CSSå®šä¹‰ä¸ºæµ®åŠ¨ï¼Œå¦‚divã€pã€tableã€imgç­‰å…ƒç´ éƒ½å¯ä»¥è¢«å®šä¹‰ä¸ºæµ®åŠ¨ã€‚float æµ®åŠ¨ 12-5ä»€ä¹ˆæ˜¯å±‚æ¨¡å‹ï¼Ÿ ä»€ä¹ˆæ˜¯å±‚å¸ƒå±€æ¨¡å‹ï¼Ÿå±‚å¸ƒå±€æ¨¡å‹å°±åƒæ˜¯å›¾åƒè½¯ä»¶PhotoShopä¸­éå¸¸æµè¡Œçš„å›¾å±‚ç¼–è¾‘åŠŸèƒ½ä¸€æ ·ï¼Œæ¯ä¸ªå›¾å±‚èƒ½å¤Ÿç²¾ç¡®å®šä½æ“ä½œï¼Œä½†åœ¨ç½‘é¡µè®¾è®¡é¢†åŸŸï¼Œç”±äºç½‘é¡µå¤§å°çš„æ´»åŠ¨æ€§ï¼Œå±‚å¸ƒå±€æ²¡èƒ½å—åˆ°çƒ­æ§ã€‚ä½†æ˜¯åœ¨ç½‘é¡µä¸Šå±€éƒ¨ä½¿ç”¨å±‚å¸ƒå±€è¿˜æ˜¯æœ‰å…¶æ–¹ä¾¿ä¹‹å¤„çš„ã€‚ä¸‹é¢æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹htmlä¸­çš„å±‚å¸ƒå±€ã€‚ å¦‚ä½•è®©htmlå…ƒç´ åœ¨ç½‘é¡µä¸­ç²¾ç¡®å®šä½ï¼Œå°±åƒå›¾åƒè½¯ä»¶PhotoShopä¸­çš„å›¾å±‚ä¸€æ ·å¯ä»¥å¯¹æ¯ä¸ªå›¾å±‚èƒ½å¤Ÿç²¾ç¡®å®šä½æ“ä½œã€‚CSSå®šä¹‰äº†ä¸€ç»„å®šä½ï¼ˆpositioningï¼‰å±æ€§æ¥æ”¯æŒå±‚å¸ƒå±€æ¨¡å‹ã€‚ å±‚æ¨¡å‹æœ‰ä¸‰ç§å½¢å¼ï¼š 1ã€ç»å¯¹å®šä½(position: absolute) 2ã€ç›¸å¯¹å®šä½(position: relative) 3ã€å›ºå®šå®šä½(position: fixed) 12-6å±‚æ¨¡å‹â€“ç»å¯¹å®šä½å¦‚æœæƒ³ä¸ºå…ƒç´ è®¾ç½®å±‚æ¨¡å‹ä¸­çš„ç»å¯¹å®šä½ï¼Œéœ€è¦è®¾ç½®position:absolute(è¡¨ç¤ºç»å¯¹å®šä½)ï¼Œè¿™æ¡è¯­å¥çš„ä½œç”¨å°†å…ƒç´ ä»æ–‡æ¡£æµä¸­æ‹–å‡ºæ¥ï¼Œç„¶åä½¿ç”¨leftã€rightã€topã€bottomå±æ€§ç›¸å¯¹äºå…¶æœ€æ¥è¿‘çš„ä¸€ä¸ªå…·æœ‰å®šä½å±æ€§çš„çˆ¶åŒ…å«å—è¿›è¡Œç»å¯¹å®šä½ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„åŒ…å«å—ï¼Œåˆ™ç›¸å¯¹äºbodyå…ƒç´ ï¼Œå³ç›¸å¯¹äºæµè§ˆå™¨çª—å£ã€‚12-7å±‚å…ƒç´ ç›¸å¯¹å®šä½å±‚æ¨¡å‹â€“ç›¸å¯¹å®šä½ å¦‚æœæƒ³ä¸ºå…ƒç´ è®¾ç½®å±‚æ¨¡å‹ä¸­çš„ç›¸å¯¹å®šä½ï¼Œéœ€è¦è®¾ç½®position:relativeï¼ˆè¡¨ç¤ºç›¸å¯¹å®šä½ï¼‰ï¼Œå®ƒé€šè¿‡leftã€rightã€topã€bottomå±æ€§ç¡®å®šå…ƒç´ åœ¨æ­£å¸¸æ–‡æ¡£æµä¸­çš„åç§»ä½ç½®ã€‚ç›¸å¯¹å®šä½å®Œæˆçš„è¿‡ç¨‹æ˜¯é¦–å…ˆæŒ‰static(float)æ–¹å¼ç”Ÿæˆä¸€ä¸ªå…ƒç´ (å¹¶ä¸”å…ƒç´ åƒå±‚ä¸€æ ·æµ®åŠ¨äº†èµ·æ¥)ï¼Œç„¶åç›¸å¯¹äºä»¥å‰çš„ä½ç½®ç§»åŠ¨ï¼Œç§»åŠ¨çš„æ–¹å‘å’Œå¹…åº¦ç”±leftã€rightã€topã€bottomå±æ€§ç¡®å®šï¼Œåç§»å‰çš„ä½ç½®ä¿ç•™ä¸åŠ¨ã€‚ å¦‚ä¸‹ä»£ç å®ç°ç›¸å¯¹äºä»¥å‰ä½ç½®å‘ä¸‹ç§»åŠ¨50pxï¼Œå‘å³ç§»åŠ¨100px; 1234567891011# div1{ width:200px; height:200px; border:2px red solid; position:relative; left:100px; top:50px;}&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt; ä»€ä¹ˆå«åšâ€œåç§»å‰çš„ä½ç½®ä¿ç•™ä¸åŠ¨â€å‘¢ï¼Ÿ å¤§å®¶å¯ä»¥åšä¸€ä¸ªå®éªŒï¼Œåœ¨å³ä¾§ä»£ç ç¼–è¾‘å™¨çš„19è¡Œdivæ ‡ç­¾çš„åé¢åŠ å…¥ä¸€ä¸ªspanæ ‡ç­¾ï¼Œåœ¨æ ‡å¹¶åœ¨spanæ ‡ç­¾ä¸­å†™å…¥ä¸€äº›æ–‡å­—ã€‚å¦‚ä¸‹ä»£ç ï¼š 123&lt;body&gt; &lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;&lt;span&gt;åç§»å‰çš„ä½ç½®è¿˜ä¿ç•™ä¸åŠ¨ï¼Œè¦†ç›–ä¸äº†å‰é¢çš„divæ²¡æœ‰åç§»å‰çš„ä½ç½®&lt;/span&gt;&lt;/body&gt; æ•ˆæœå›¾ï¼š ä»æ•ˆæœå›¾ä¸­å¯ä»¥æ˜æ˜¾çš„çœ‹å‡ºï¼Œè™½ç„¶divå…ƒç´ ç›¸å¯¹äºä»¥å‰çš„ä½ç½®äº§ç”Ÿäº†åç§»ï¼Œä½†æ˜¯divå…ƒç´ ä»¥å‰çš„ä½ç½®è¿˜æ˜¯ä¿ç•™ç€ï¼Œæ‰€ä»¥åé¢çš„spanå…ƒç´ æ˜¯æ˜¾ç¤ºåœ¨äº†divå…ƒç´ ä»¥å‰ä½ç½®çš„åé¢ã€‚ 12-8å±‚æ¨¡å‹â€“å›ºå®šå®šä½ fixedï¼šè¡¨ç¤ºå›ºå®šå®šä½ï¼Œä¸absoluteå®šä½ç±»å‹ç±»ä¼¼ï¼Œä½†å®ƒçš„ç›¸å¯¹ç§»åŠ¨çš„åæ ‡æ˜¯è§†å›¾ï¼ˆå±å¹•å†…çš„ç½‘é¡µçª—å£ï¼‰æœ¬èº«ã€‚ç”±äºè§†å›¾æœ¬èº«æ˜¯å›ºå®šçš„ï¼Œå®ƒä¸ä¼šéšæµè§ˆå™¨çª—å£çš„æ»šåŠ¨æ¡æ»šåŠ¨è€Œå˜åŒ–ï¼Œé™¤éä½ åœ¨å±å¹•ä¸­ç§»åŠ¨æµè§ˆå™¨çª—å£çš„å±å¹•ä½ç½®ï¼Œæˆ–æ”¹å˜æµè§ˆå™¨çª—å£çš„æ˜¾ç¤ºå¤§å°ï¼Œå› æ­¤å›ºå®šå®šä½çš„å…ƒç´ ä¼šå§‹ç»ˆä½äºæµè§ˆå™¨çª—å£å†…è§†å›¾çš„æŸä¸ªä½ç½®ï¼Œä¸ä¼šå—æ–‡æ¡£æµåŠ¨å½±å“ï¼Œè¿™ä¸background-attachment:fixedÍ¾å±æ€§åŠŸèƒ½ç›¸åŒã€‚ä»¥ä¸‹ä»£ç å¯ä»¥å®ç°ç›¸å¯¹äºæµè§ˆå™¨è§†å›¾å‘å³ç§»åŠ¨100pxï¼Œå‘ä¸‹ç§»åŠ¨50pxã€‚å¹¶ä¸”æ‹–åŠ¨æ»šåŠ¨æ¡æ—¶ä½ç½®å›ºå®šä¸å˜ã€‚ 12-9Relativeä¸Absoluteç»„åˆä½¿ç”¨ å°ä¼™ä¼´ä»¬å­¦ä¹ äº†12-6å°èŠ‚çš„ç»å¯¹å®šä½çš„æ–¹æ³•ï¼šä½¿ç”¨position:absoluteå¯ä»¥å®ç°è¢«è®¾ç½®å…ƒç´ ç›¸å¯¹äºæµè§ˆå™¨ï¼ˆbodyï¼‰è®¾ç½®å®šä½ä»¥åï¼Œå¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡å¯ä¸å¯ä»¥ç›¸å¯¹äºå…¶å®ƒå…ƒç´ è¿›è¡Œå®šä½å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œå½“ç„¶å¯ä»¥ã€‚ä½¿ç”¨position:relativeæ¥å¸®å¿™ï¼Œä½†æ˜¯å¿…é¡»éµå®ˆä¸‹é¢è§„èŒƒï¼š 1ã€å‚ç…§å®šä½çš„å…ƒç´ å¿…é¡»æ˜¯ç›¸å¯¹å®šä½å…ƒç´ çš„å‰è¾ˆå…ƒç´ ï¼š 123&lt;div id=&quot;box1&quot;&gt;&lt;!--å‚ç…§å®šä½çš„å…ƒç´ --&gt; &lt;div id=&quot;box2&quot;&gt;ç›¸å¯¹å‚ç…§å…ƒç´ è¿›è¡Œå®šä½&lt;/div&gt;&lt;!--ç›¸å¯¹å®šä½å…ƒç´ --&gt;&lt;/div&gt; ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹å‡ºbox1æ˜¯box2çš„çˆ¶å…ƒç´ ï¼ˆçˆ¶å…ƒç´ å½“ç„¶ä¹Ÿæ˜¯å‰è¾ˆå…ƒç´ äº†ï¼‰ã€‚ 2ã€å‚ç…§å®šä½çš„å…ƒç´ å¿…é¡»åŠ å…¥position:relative; 123456# box1{ width:200px; height:200px; position:relative;} 3ã€å®šä½å…ƒç´ åŠ å…¥position:absoluteï¼Œä¾¿å¯ä»¥ä½¿ç”¨topã€bottomã€leftã€rightæ¥è¿›è¡Œåç§»å®šä½äº†ã€‚ 123456# box2{ position:absolute; top:20px; left:30px;} è¿™æ ·box2å°±å¯ä»¥ç›¸å¯¹äºçˆ¶å…ƒç´ box1å®šä½äº†ï¼ˆè¿™é‡Œæ³¨æ„å‚ç…§ç‰©å°±å¯ä»¥ä¸æ˜¯æµè§ˆå™¨äº†ï¼Œè€Œå¯ä»¥è‡ªç”±è®¾ç½®äº†ï¼‰ã€‚ 13.1ç›’æ¨¡å‹ä»£ç ç®€å†™ è¿˜è®°å¾—åœ¨è®²ç›’æ¨¡å‹æ—¶å¤–è¾¹è·(margin)ã€å†…è¾¹è·(padding)å’Œè¾¹æ¡†(border)è®¾ç½®ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘çš„è¾¹è·æ˜¯æŒ‰ç…§é¡ºæ—¶é’ˆæ–¹å‘è®¾ç½®çš„ï¼šä¸Šå³ä¸‹å·¦ã€‚å…·ä½“åº”ç”¨åœ¨marginå’Œpaddingçš„ä¾‹å­å¦‚ä¸‹ï¼š margin:10px 15px 12px 14px;/ä¸Šè®¾ç½®ä¸º10pxã€å³è®¾ç½®ä¸º15pxã€ä¸‹è®¾ç½®ä¸º12pxã€å·¦è®¾ç½®ä¸º14px/ é€šå¸¸æœ‰ä¸‹é¢ä¸‰ç§ç¼©å†™æ–¹æ³•: 1ã€å¦‚æœtopã€rightã€bottomã€leftçš„å€¼ç›¸åŒï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š margin:10px 10px 10px 10px; å¯ç¼©å†™ä¸ºï¼š margin:10px; 2ã€å¦‚æœtopå’Œbottomå€¼ç›¸åŒã€leftå’Œ rightçš„å€¼ç›¸åŒï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š margin:10px 20px 10px 20px; å¯ç¼©å†™ä¸ºï¼š margin:10px 20px; 3ã€å¦‚æœleftå’Œrightçš„å€¼ç›¸åŒï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š margin:10px 20px 30px 20px; å¯ç¼©å†™ä¸ºï¼š margin:10px 20px 30px; æ³¨æ„ï¼špaddingã€borderçš„ç¼©å†™æ–¹æ³•å’Œmarginæ˜¯ä¸€è‡´çš„ã€‚ 13-2é¢œè‰²å€¼ç¼©å†™ å…³äºé¢œè‰²çš„cssæ ·å¼ä¹Ÿæ˜¯å¯ä»¥ç¼©å†™çš„ï¼Œå½“ä½ è®¾ç½®çš„é¢œè‰²æ˜¯16è¿›åˆ¶çš„è‰²å½©å€¼æ—¶ï¼Œå¦‚æœæ¯ä¸¤ä½çš„å€¼ç›¸åŒï¼Œå¯ä»¥ç¼©å†™ä¸€åŠã€‚ ä¾‹å­1ï¼š p{color:#000000;} å¯ä»¥ç¼©å†™ä¸ºï¼š p{color: #000;} ä¾‹å­2ï¼š p{color: #336699;} å¯ä»¥ç¼©å†™ä¸ºï¼š p{color: #369;} 13-3å­—ä½“ç¼©å†™ ç½‘é¡µä¸­çš„å­—ä½“cssæ ·å¼ä»£ç ä¹Ÿæœ‰ä»–è‡ªå·±çš„ç¼©å†™æ–¹å¼ï¼Œä¸‹é¢æ˜¯ç»™ç½‘é¡µè®¾ç½®å­—ä½“çš„ä»£ç ï¼š 12345678body{ font-style:italic; font-variant:small-caps; font-weight:bold; font-size:12px; line-height:1.5em; font-family:&quot;å®‹ä½“&quot;,sans-serif;} è¿™ä¹ˆå¤šè¡Œçš„ä»£ç å…¶å®å¯ä»¥ç¼©å†™ä¸ºä¸€å¥ï¼š 123body{ font:italic small-caps bold 12px/1.5em &quot;å®‹ä½“&quot;,sans-serif;} æ³¨æ„ï¼š 1ã€ä½¿ç”¨è¿™ä¸€ç®€å†™æ–¹å¼ä½ è‡³å°‘è¦æŒ‡å®š font-size å’Œ font-family å±æ€§ï¼Œå…¶ä»–çš„å±æ€§(å¦‚ font-weightã€font-styleã€font-varientã€line-height)å¦‚æœªæŒ‡å®šå°†è‡ªåŠ¨ä½¿ç”¨é»˜è®¤å€¼ã€‚ 2ã€åœ¨ç¼©å†™æ—¶ font-size ä¸ line-height ä¸­é—´è¦åŠ å…¥â€œ/â€æ–œæ‰›ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹å› ä¸ºå¯¹äºä¸­æ–‡ç½‘ç«™ï¼Œè‹±æ–‡è¿˜æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œæ‰€ä»¥ä¸‹é¢ç¼©å†™ä»£ç æ¯”è¾ƒå¸¸ç”¨ï¼š body{ font:12px/1.5em â€œå®‹ä½“â€,sans-serif;} åªæ˜¯æœ‰å­—å·ã€è¡Œé—´è·ã€ä¸­æ–‡å­—ä½“ã€è‹±æ–‡å­—ä½“è®¾ç½®ã€‚ ç¬¬äºŒé˜¶æ®µ ç½‘é¡µè®¾è®¡ç‰¹ç‚¹ï¼Œå®½åº¦å¯ä»¥è‡ªé€‚åº”ï¼Œé•¿åº¦æ— é™åˆ¶ 2-1ä¸€åˆ—å¸ƒå±€ 12.main{width:800px;height:300px;margin:0 auto;background:#ccc;}&lt;div class=&quot;main&quot;&gt;&lt;/div&gt; ä¸‰åˆ—å¸ƒå±€ 12345.left{ width:200px; height:600px; background:#ccc; position:absolute; left:0; top:0}.main{ height:600px; margin:0 200px 0 200px; background:#9CF}.right{ height:600px; width:200px; position:absolute; top:0; position:absolute;right:0; background:#FCC;} w3cå€¡å¯¼å€¡å¯¼ç»“æ„ã€æ ·å¼ã€è¡Œä¸ºåˆ†ç¦» cssä¸­ï¼Œå­˜åœ¨3ä¸­å®šä½æœºåˆ¶æ ‡å‡†æ–‡æ¡£æµ(Normal flow)æµ®åŠ¨ (Floats)ç»å¯¹å®šä½(Absolute positioning) æ ‡å‡†æ–‡æ¡£æµç‰¹ç‚¹ï¼šä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³ã€è¾“å‡ºæ–‡æ¡£å†…å®¹ç”±å—çº§æ ‡ç­¾å’Œè¡Œçº§æ ‡ç­¾ç»„æˆ å—çº§ ç‰¹ç‚¹ä»å·¦åˆ°å³æ’‘æ»¡é¡µé¢ï¼Œç‹¬å ä¸€è¡Œï¼›è§¦ç¢°åˆ°é¡µé¢è¾¹ç¼˜æ—¶ï¼Œä¼šè‡ªåŠ¨æ¢è¡Œdiv,ul,li,dl,dt,pâ€¦ è¡Œçº§å…ƒç´ ç‰¹ç‚¹ï¼šèƒ½åœ¨åŒä¸€è¡Œå†…æ˜¾ç¤ºï¼Œä¸ä¼šæ”¹å˜htmlæ–‡æ¡£ç»“æ„span,strong,img,input å—çº§å…ƒç´ å’Œè¡Œçº§å…ƒç´ éƒ½æ˜¯ç›’å­æ¨¡å‹ å¦‚æœæƒ³è®©é¡µé¢è‡ªåŠ¨å±…ä¸­ï¼Œå½“è®¾ç½®marginå±æ€§ä¸ºautoæ—¶ï¼Œä¸èƒ½å†è®¾ç½®æµ®åŠ¨æˆ–ç»å¯¹å®šä½å±æ€§ floatå±æ€§ï¼šleft,right,none;å½“å…ƒç´ æ²¡æœ‰è®¾ç½®å®½åº¦å€¼ï¼Œè€Œè®¾ç½®äº†æµ®åŠ¨å±æ€§ï¼Œå…ƒç´ çš„å®½åº¦éšå†…å®¹çš„å˜åŒ–è€Œå˜åŒ–ã€‚ æ¸…é™¤æµ®åŠ¨çš„å¸¸ç”¨æ–¹æ³•clear:both;æˆ–clear:left;æˆ–clear:right; åŒæ—¶è®¾ç½®width:100%(æˆ–å›ºå®šé«˜åº¦)+overflow:hidden;æ¸…é™¤æµ®åŠ¨æ—¶ï¼Œåªè®¾ç½®å®½åº¦ä¸è¡Œï¼Œå¿…é¡»è®¾ç½®overflow:hidden;æ‰èƒ½å®ç°æ¸…é™¤æµ®åŠ¨çš„æ•ˆæœ æ¨ªå‘ä¸¤åˆ—å¸ƒå±€ä¸»è¦åº”ç”¨æŠ€èƒ½ float:ä½¿çºµå‘æ’åˆ—çš„å—çº§å…ƒç´ ï¼Œæ¨ªå‘æ’åˆ— marginå±æ€§ï¼Œè®¾ç½®ä¸¤åˆ—ä¹‹é—´çš„é—´è·å½“çˆ¶å—åŒ…å«å—2ç¼©æˆä¸€æ¡æ—¶ï¼Œç”¨clear:bothæ¸…é™¤æµ®åŠ¨æ— æ•ˆï¼Œå®ƒä¸€èˆ¬ç”¨äºç´§é‚»åé¢çš„å…ƒç´ çš„æ¸…é™¤æµ®åŠ¨ positionå±æ€§ æ‹¥æœ‰3ç§å®šä½æ–¹å¼ 1.é™æ€å®šä½ 2.ç›¸å¯¹å®šä½ 3.ç»å¯¹å®šä½å¯ä»¥è®¾ç½®4ä¸ªå±æ€§å€¼ static ï¼ˆé™æ€å®šä½ï¼‰ relative ï¼ˆç›¸å¯¹å®šä½ï¼‰ absoluteï¼ˆç»å¯¹å®šä½ï¼‰ fixedï¼ˆå›ºå®šå®šä½ï¼‰ ç›¸å¯¹å®šä½ ç‰¹ç‚¹ï¼šç›¸å¯¹äºè‡ªèº«åŸæœ‰ä½ç½®è¿›è¡Œå®šä½ï¼Œä»å¤„äºæ ‡å‡†æ–‡æ¡£æµä¸­ï¼Œéšå³æ‹¥æœ‰åç§»å±æ€§å’Œz-indexå±æ€§ ç›¸å¯¹äºè‡ªå·±æœ¬æ¥åº”è¯¥åœ¨çš„ä½ç½®è¿›è¡Œåç§»ï¼Œè®¾ç½®top,left,right,bottomå±æ€§ã€‚ ç»å¯¹å®šä½ï¼š ç‰¹ç‚¹ï¼šå»ºç«‹äº†ä»¥åŒ…å«å—ä¸ºåŸºå‡†çš„å®šä½ï¼Œå®Œå…¨è„±ç¦»äº†æ ‡å‡†æ–‡æ¡£æµï¼Œéšå³æ‹¥æœ‰åç§»å±æ€§å’Œz-indeå±æ€§ æœªè®¾ç½®åç§»é‡ç‰¹ç‚¹ æ— è®ºæ˜¯å¦å­˜åœ¨å·²å®šä½ç¥–å…ˆå…ƒç´ ï¼Œéƒ½ä¿æŒåœ¨åŸå§‹ä½ç½® è„±ç¦»äº†æ ‡å‡†æ–‡æ¡£æµ è®¾ç½®åç§»é‡ åç§»å‚ç…§åŸºå‡† æ— å®šä½ç¥–å…ˆå…ƒç´ ï¼Œä»¥&lt;html&gt;ä¸ºåç§»å‚ç…§æ ‡å‡† æœ‰å·²å®šä½ç¥–å…ˆå…ƒç´ ï¼Œä»¥è·å…¶æœ€è¿‘çš„å·²å®šä½ç¥–å…ˆå…ƒç´ ä¸ºåç§»å‚ç…§åŸºå‡† ä½¿ç”¨absoluteå®ç°æ¨ªå‘ä¸¤åˆ—å¸ƒå±€ â€“å¸¸ç”¨äºä¸€åˆ—å›ºå®šé•¿åº¦ï¼Œå¦ä¸€åˆ—å®½åº¦è‡ªé€‚åº”çš„æƒ…å†µ ä¸»è¦æŠ€èƒ½ relative æ°Ÿå…ƒç´ ç›¸å¯¹å®šä½ absolute è‡ªé€‚åº”å…ƒç´ ç»å¯¹å®šä½ æ³¨æ„ ï¼šå›ºå®šå®½åº¦åˆ—çš„é«˜åº¦&gt;è‡ªé€‚åº”å®½åº¦çš„åˆ— ä¸è®¾ç½®é•¿å®½ï¼Œç”¨absolute ç»å¯¹å®šä½æœ¬èº«å°±æ˜¯è‡ªé€‚åº”å®½åº¦ ç½‘é¡µç®€å•å¸ƒå±€ä¹‹ç»“æ„ä¸è¡¨ç° html css javascriptç»“æ„ è¡¨ç° è¡Œä¸º å…ˆæŒ‰ç…§ç»“æ„å’Œè¯­ä¹‰ç¼–å†™ä»£ç ï¼Œç„¶åè¿›è¡Œcssæ ·å¼è®¾ç½®ï¼Œå‡å°‘htmlå’Œcssçš„å¥‘åˆåº¦ 1/1. åœ¨ç½‘é¡µåˆ¶ä½œä¸­ï¼Œé¢å¯¹è®¾è®¡å›¾ï¼Œç½‘é¡µåˆ¶ä½œäººå‘˜ä¸€èˆ¬è¦éµå¾ªçš„åŸåˆ™æ˜¯ä»€ä¹ˆï¼ŸCå…ˆè€ƒè™‘è®¾è®¡å›¾ä¸­çš„æ–‡å­—å†…å®¹å’Œå†…å®¹æ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œé‡ç‚¹æ”¾åœ¨ç¼–å†™htmlç»“æ„å’Œè¯­ä¹‰åŒ–ï¼Œç„¶åè€ƒè™‘å¸ƒå±€å’Œè¡¨ç°å½¢å¼ã€‚ ç¬¬äºŒæ­¥ æ¡ˆä¾‹å®ç° æŒ‰é’®ç‰¹æ•ˆ1.1å¹½çµæŒ‰é’® é€æ˜æŒ‰é’® css3å…³é”®æŠ€æœ¯ç‚¹ transform transition box-sizing border-radius transfromå±æ€§å‘å…ƒç´ åº”ç”¨2Dæˆ–3Dè½¬æ¢ã€‚è¯¥å…ƒç´ å…è®¸æˆ‘ä»¬å¯¹å…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç§»åŠ¨æˆ–å€¾æ–œã€‚ css é›ªç¢§æ•ˆæœ 1.åŸåˆ™ï¼š1.é™æ€å›¾ç‰‡ï¼Œä¸éšç”¨æˆ·ä¿¡æ¯å˜åŒ–è€Œå˜åŒ– 2.å°å›¾ç‰‡ï¼Œå›¾ç‰‡å®¹é‡æ¯”è¾ƒå° ä¸€äº›å¤§å›¾ä¸å»ºè®®æ‹¼æˆé›ªç¢§å›¾ 2.ç›®çš„1.å‡å°‘ httpè¯·æ±‚æ•°é‡ 2.åŠ é€Ÿå†…å®¹æ˜¾ç¤º å®ç°åŸç† background-position æ§åˆ¶ä¸€ä¸ªå±‚ï¼Œå¯æ˜¾ç¤ºçš„åŒºåŸŸèŒƒå›´å¤§å°ï¼Œ é€šè¿‡ä¸€ä¸ªçª—å£ï¼Œè¿›è¡ŒèƒŒæ™¯å›¾çš„æ»‘åŠ¨ å®ç°æ–¹å¼ 1.psæ‰‹åŠ¨æ‹¼å›¾ï¼Œ 2.ä½¿ç”¨spriteå·¥å…·è‡ªåŠ¨ç”Ÿæˆ å·¥å…· ï¼šcssgaga cssåœ†è§’è®¾è®¡ ä½¿ç”¨css2.0+htmlæ ‡ç­¾æ¨¡æ‹Ÿåœ†è§’ä¼˜ç¼ºç‚¹åˆ†æ 1.ä»£ç é‡å°‘ï¼Œä¸éœ€è¦å¢åŠ httpè¯·æ±‚ 2.åæœŸç»´æŠ¤æ€§å¥½ï¼Œä½†æ˜¯åœ†è§’åƒç´ çš„å¢åŠ  3.æ— æ„ä¹‰ä»£ç å°†æˆå€å¢åŠ  4.å®ç°çš„åœ†è§’å±€é™æ€§ 5.åªèƒ½å®ç°çº¯è‰²åœ†è§’ css3.0åœ†è§’å±æ€§border-radius å±æ€§å€¼ï¼šè¡¨ç¤ºåœ†è§’åŠå¾„ï¼Œå¯ä½¿ç”¨é•¿åº¦å•ä½px,æˆ–ç™¾åˆ†æ¯” ç®€å†™å±æ€§:border-radius åˆ†é‡å±æ€§ï¼šborder-top-left-radius(ä¸Šå·¦)ã€border-top-right-radius(ä¸Šå³) border-bottom-right-radius(ä¸‹å³)ã€border-bottom-left-radius(ä¸‹å·¦) å±æ€§å€¼è®¾ç½®,ä¸marginç›¸åŒã€‚ 1ä¸ªï¼Œå››ä¸ªè§’åŠå¾„ç›¸åŒã€‚2ä¸ªï¼Œäº’ä¸ºå¯¹è§’ã€‚ æµè§ˆå™¨ç§æœ‰å‰ç¼€ è§£å†³æµè§ˆå™¨æ˜¾ç¤ºå·®å¼‚ï¼Œé’ˆå¯¹æµè§ˆå™¨å†™ç§æœ‰å‰ç¼€ IEå†…æ ¸ï¼š-ms- Firefoxå†…æ ¸ï¼š-moz- è°·æ­Œæµè§ˆå™¨ã€safariå†…æ ¸:-webkit- ä½¿ç”¨dl,dt,ddçš„åŸå›  è¯­ä¹‰åŒ–ï¼Œä½¿ä¸€äº›å†…å®¹åœ¨ä¸€ä¸ªdlå†…ï¼Œè€Œulï¼Œliåšä¸åˆ°un å“åº”å¼è®¾è®¡ä¼˜ç¼ºç‚¹: ä¼˜ç‚¹ï¼šè§£å†³äº†è®¾å¤‡ä¹‹é—´çš„å·®å¼‚åŒ–å±•ç¤º ç¼ºç‚¹:å…¼å®¹æ€§ä»£ç å¤šï¼Œå·¥ä½œé‡å¤§ï¼ŒåŠ è½½é€Ÿåº¦å—å½±å“ å¯¹åŸæœ‰ç½‘ç«™å¸ƒå±€äº§ç”Ÿå½±å“ï¼Œç”¨æˆ·åˆ¤æ–­æœªå¿…ç²¾ç¡®è®¾è®¡åŸåˆ™ï¼š ç§»åŠ¨ä¼˜å…ˆï¼šåœ¨è®¾è®¡çš„åˆæœŸå°±è¦è€ƒè™‘é¡µé¢å¦‚ä½•åœ¨å¤šç»ˆç«¯å±•ç¤º æ¸è¿›å¢å¼º:å……åˆ†å‘æŒ¥ç¡¬ä»¶è®¾å¤‡çš„æœ€å¤§åŠŸèƒ½å¦‚ä½•å®ç°:å“åº”å¼å¸ƒå±€ css3-Media query æœ€ç®€å•çš„æ–¹å¼ åŸç”Ÿjavascript æˆæœ¬é«˜ï¼Œä¸æ¨èä½¿ç”¨ ç¬¬ä¸‰æ–¹å¼€æºæ¡†æ¶ å¯ä»¥å¾ˆå¥½çš„æ”¯æŒæµè§ˆå™¨å“åº”å¼å¸ƒå±€ css3-Media Query å¸¸è§çš„å±æ€§ï¼š device-width,deivce-heightâ€”å±å¹•å®½é«˜ width,height â€”æ¸²æŸ“çª—å£ï¼Œå±•ç¤ºé¡µé¢çš„å®½é«˜ orientation â€”è®¾å¤‡æ–¹å‘ resolutionâ€”è®¾å¤‡åˆ†è¾¨ç‡ Yahooå†›è§„1.å°½å¯èƒ½å‡å°‘httpè¯·æ±‚æ•°é‡2.ä½¿ç”¨CDN å†…å®¹åˆ†å‘ç½‘ç»œ åœ¨ç¦»ä½ æœ€è¿‘çš„åœ°æ–¹ï¼Œæ”¾ç½®ä¸€å°æ€§èƒ½å¥½é“¾æ¥é¡ºç•… çš„å‰¯æœ¬æœåŠ¡å™¨ï¼Œè®©ä½ èƒ½å¤Ÿä»¥æœ€è¿‘çš„è·ç¦»ï¼Œæœ€å¿«çš„é€Ÿåº¦ è·å–å†…å®¹ã€‚é moneyè§£å†³é—®é¢˜3.æ·»åŠ expire/Cache-Controlå¤´ expireå¤´çš„å†…å®¹æ˜¯ä¸€ä¸ªæ—¶é—´å€¼ï¼Œ å€¼å°±æ˜¯èµ„æºåœ¨æœ¬åœ°çš„è¿‡æœŸæ—¶é—´ã€å­˜åœ¨æœ¬åœ°ã€‚ åœ¨æœ¬åœ°ç¼“å­˜é˜¶æ®µï¼Œæ‰¾åˆ°ä¸€ä¸ªå¯¹åº”çš„èµ„æºå€¼ï¼Œ å½“å‰æ—¶é—´è¿˜æ²¡è¶…è¿‡èµ„æºçš„è¿‡æœŸæ—¶é—´ï¼Œå°±ç›´æ¥ä½¿ç”¨è¿™ä¸€ä¸ªèµ„æºï¼Œä¸ä¼šå‘é€httpè¯·æ±‚ã€‚ cache-control æ˜¯httpåè®®ä¸­å¸¸ç”¨çš„å¤´éƒ¨ä¹‹ä¸€ï¼Œ è´Ÿè´£æ§åˆ¶é¡µé¢çš„ç¼“å­˜æœºåˆ¶4.å¯ç”¨Gzipå‹ç¼© æŠŠæ–‡ä»¶å…ˆæ”¾åœ¨æœåŠ¡å™¨å‹ç¼©å†ä¼ è¾“ html,php,js,css,xml,css5.å°†cssæ”¾åœ¨é¡µé¢æœ€ä¸Šé¢ æ”¾åœ¨headä¸­ï¼Œå…ˆè¿›è¡ŒåŠ è½½å’Œæ¸²æŸ“6.å°†scriptæ”¾åœ¨é¡µé¢æœ€ä¸‹é¢ é¦–å…ˆå°†é¡µé¢å‘ˆç°å‡ºæ¥ï¼Œè¿™æ ·é¡µé¢ä¸ä¼šç­‰å¤ªä¹…7.é¿å…åœ¨cssä¸­ä½¿ç”¨Expressions css Expressions:cssè¡¨è¾¾å¼â€“javascript é¡µé¢æ˜¾ç¤ºç¼©æ”¾ï¼Œé¡µé¢æ»šåŠ¨ï¼Œç§»åŠ¨é¼ æ ‡éƒ½ä¼šé‡æ–°è®¡ç®—8.æŠŠjså’Œcssæ”¾åˆ°å¤–éƒ¨æ–‡ä»¶ä¸­ å•ç‹¬æå–ï¼š æé«˜äº†jså’Œcssçš„å¤ç”¨æ€§ å‡å°é¡µé¢ä½“ç§¯ æé«˜äº†jså’Œcssçš„å¯ç»´æŠ¤æ€§ å†™åœ¨é¡µé¢é‡Œ å‡å°‘é¡µé¢è¯·æ±‚ æå‡é¡µé¢æ¸²æŸ“é€Ÿåº¦ å†™åœ¨é¡µé¢å†…çš„æƒ…å†µï¼š æ ·å¼åªåº”ç”¨äºä¸€ä¸ªé¡µé¢ ä¸ç»å¸¸è¢«è®¿é—®åˆ° è„šæœ¬å’Œæ ·å¼å¾ˆå°‘ï¼ˆä¸å¤šäº20è¡Œï¼‰9.å‡å°‘dnsæŸ¥è¯¢ å½“ç¼“å­˜æ—¶é—´é•¿æ—¶ï¼šå‡å°‘dnsçš„é‡å¤æŸ¥æ‰¾ï¼ŒèŠ‚çœæ—¶é—´ å½“ç¼“å­˜æ—¶é—´çŸ­æ—¶ï¼šåŠæ—¶æ£€æµ‹ç½‘ç«™æœåŠ¡å™¨çš„å˜åŒ–ï¼Œä¿è¯æ­£ç¡®æ€§ã€‚ å¤šåŸŸï¼Œå•åŸŸ10.å‹ç¼©javascriptå’Œcss å»é™¤ä¸å¿…è¦çš„ç©ºç™½ç¬¦ï¼Œæ ¼å¼ç¬¦ï¼Œæ³¨é‡Šç¬¦ ç®€å†™æ–¹æ³•åï¼Œå‚æ•°åå‹ç¼©jsè„šæœ¬11.é¿å…é‡å®šå‘ åŸå§‹è¯·æ±‚è¢«é‡æ–°è½¬å‘åˆ°äº†å…¶ä»–è¯·æ±‚ 301 è¢«ç§»åŠ¨åˆ°äº†å¦å¤–çš„ä½ç½®(æ°¸ä¹…é‡å®šå‘) 302 ç”¨æˆ·æ‰€è¯·æ±‚çš„é¡µé¢æ‰¾åˆ°äº†ï¼Œä½†ä¸åœ¨åŸå§‹ä½ç½®ï¼ˆä¸´æ—¶é‡å®šå‘ï¼‰ 301æ›´æ™ºèƒ½ 12.ç§»é™¤é‡å¤è„šæœ¬ 13.é…ç½®å®ä½“æ ‡ç­¾(ETag)??14.ä½¿ç”¨ajaxç¼“å­˜ postæ¯æ¬¡éƒ½æ‰§è¡Œï¼Œä¸è¢«ç¼“å­˜ getåŒä¸€åœ°å€ä¸é‡å¤æ‰§è¡Œï¼Œå¯ä»¥è¢«ç¼“å­˜ 14.yslowå·¥å…·ç®€ä»‹ å¯¹ç½‘ç«™è¿›è¡Œåˆ†æï¼Œç»™ä¸€äº›å»ºè®®ï¼Œè§„åˆ™ï¼Œ ä¸€æ­¥æ­¥ä¼˜åŒ–ç½‘ç«™ä½¿ç”¨ï¼š æŒ‰f12ä¼šå‡ºç°åœ¨consoleä¹‹å","link":"/posts/HTML-%E5%B0%8F%E7%9F%A5%E8%AF%86/"},{"title":"Javascriptè®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µ-è¯»ä¹¦ç¬”è®°","text":"è¯»ã€ŠJavaScriptè®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹ç¬”è®°æ‘˜è¦ è®¾è®¡æ¨¡å¼å®šä¹‰è®¾è®¡æ¨¡å¼çš„å®šä¹‰ï¼šåœ¨é¢å‘å¯¹è±¡è½¯ä»¶è®¾è®¡è¿‡ç¨‹ä¸­é’ˆå¯¹ç‰¹å®šé—®é¢˜çš„ç®€æ´è€Œä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚é€šä¿—çš„è¯´ï¼šè®¾è®¡æ¨¡å¼æ˜¯åœ¨æŸç§åœºåˆä¸‹å¯¹æŸä¸ªé—®é¢˜çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚è®¾è®¡æ¨¡å¼æ˜¯ç»™é¢å‘å¯¹è±¡è½¯ä»¶å¼€å‘ä¸­çš„ä¸€äº›å¥½çš„è®¾è®¡å–çš„åå­—ã€‚ åœ¨è½¯ä»¶è®¾è®¡ä¸­ï¼Œæ¨¡å¼æ˜¯ä¸€äº›ç»è¿‡äº†å¤§é‡å®é™…é¡¹ç›®éªŒè¯çš„ä¼˜ç§€è§£å†³æ–¹æ¡ˆã€‚ç†Ÿæ‚‰è¿™äº›æ¨¡å¼ çš„ç¨‹åºå‘˜ï¼Œå¯¹æŸäº›æ¨¡å¼çš„ç†è§£ä¹Ÿè®¸å½¢æˆäº†æ¡ä»¶åå°„ã€‚å½“åˆé€‚çš„åœºæ™¯å‡ºç°æ—¶ï¼Œä»–ä»¬å¯ä»¥å¾ˆå¿«åœ°æ‰¾åˆ° æŸç§æ¨¡å¼ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚ è®¾è®¡æ¨¡å¼çš„ä¸»é¢˜æ€»æ˜¯æŠŠä¸å˜çš„äº‹ç‰©å’Œå˜åŒ–çš„äº‹ç‰©åˆ†ç¦»å¼€ä½œç”¨è®©äººä»¬å†™å‡ºå¯å¤ç”¨å’Œå¯ç»´æŠ¤æ€§é«˜çš„ç¨‹åº. æ‰€æœ‰è®¾è®¡æ¨¡å¼éƒ½éµå¾ªä¸€æ¡åŸåˆ™ï¼Œå³â€™æ‰¾å‡ºç¨‹åºä¸­å˜åŒ–çš„åœ°æ–¹ï¼Œå¹¶å°†å˜åŒ–å°è£…èµ·æ¥â€™ã€‚ä¸€ä¸ªç¨‹åºçš„è®¾è®¡æ€»æ˜¯å¯ä»¥åˆ†ä¸ºå¯å˜çš„éƒ¨åˆ†å’Œä¸å˜çš„éƒ¨åˆ†ã€‚å½“æˆ‘ä»¬æ‰¾å‡ºå¯å˜çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”æŠŠè¿™äº›éƒ¨ åˆ†å°è£…èµ·æ¥ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å°±æ˜¯ä¸å˜å’Œç¨³å®šçš„éƒ¨åˆ†ã€‚è¿™äº›ä¸å˜å’Œç¨³å®šçš„éƒ¨åˆ†æ˜¯éå¸¸å®¹æ˜“å¤ç”¨çš„ã€‚è¿™ ä¹Ÿæ˜¯è®¾è®¡æ¨¡å¼ä¸ºä»€ä¹ˆæå†™çš„æ˜¯å¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶åŸºç¡€çš„åŸå› ã€‚ è®¾è®¡æ¨¡å¼è¢«äººè¯¯è§£çš„ä¸€ä¸ªé‡è¦åŸå› æ˜¯äººä»¬å¯¹å®ƒçš„è¯¯ç”¨å’Œæ»¥ç”¨ï¼Œæ¯”å¦‚å°†ä¸€äº›æ¨¡å¼ç”¨åœ¨äº†é”™è¯¯çš„ åœºæ™¯ä¸­ï¼Œæˆ–è€…è¯´åœ¨ä¸è¯¥ä½¿ç”¨æ¨¡å¼çš„åœ°æ–¹åˆ»æ„ä½¿ç”¨æ¨¡å¼ã€‚ åˆ†è¾¨æ¨¡å¼çš„å…³é”®æ˜¯æ„å›¾è€Œä¸æ˜¯ç»“æ„åœ¨è®¾è®¡æ¨¡å¼çš„å­¦ä¹ ä¸­ï¼Œæœ‰äººç»å¸¸å‘å‡ºè¿™æ ·çš„ç–‘é—®:ä»£ç†æ¨¡å¼å’Œè£…é¥°è€…æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼å’ŒçŠ¶æ€ æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼å’Œæ™ºèƒ½å‘½ä»¤æ¨¡å¼ï¼Œè¿™äº›æ¨¡å¼çš„ç±»å›¾çœ‹èµ·æ¥å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œå®ƒä»¬åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«? è¾¨åˆ«æ¨¡å¼çš„å…³é”®æ˜¯è¿™ä¸ªæ¨¡å¼å‡ºç°çš„åœºæ™¯ï¼Œä»¥åŠä¸ºæˆ‘ä»¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€‚ å¯¹JavaScriptè®¾è®¡æ¨¡å¼çš„è¯¯è§£ä¸€äº›èµ„æ–™ä¸­å¯¹JavaScriptæ¨¡å¼å­˜åœ¨çš„ä¸¤ä¸ªé—®é¢˜: ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ä¹ æƒ¯æŠŠé™æ€ç±»å‹è¯­è¨€çš„è®¾è®¡æ¨¡å¼ç…§æ¬åˆ°JavaScriptä¸­. æ¯”å¦‚æœ‰äººä¸ºäº†æ¨¡æ‹Ÿ JavaScriptç‰ˆæœ¬çš„å·¥å‚æ–¹æ³•(Factory Method)æ¨¡å¼ï¼Œè€Œç”Ÿç¡¬åœ°æŠŠåˆ›å»ºå¯¹è±¡çš„æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚ å®é™…ä¸Šï¼Œåœ¨Javaç­‰é™æ€ç±»å‹è¯­è¨€ä¸­ï¼Œè®©å­ç±»æ¥â€œå†³å®šâ€åˆ›å»ºä½•ç§å¯¹è±¡çš„åŸå› æ˜¯ä¸ºäº†è®©ç¨‹åºè¿åˆä¾èµ–å€’ç½®åŸåˆ™(DIP)ã€‚ åœ¨è¿™äº›è¯­è¨€ä¸­åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå…ˆè§£å¼€å¯¹è±¡ç±»å‹ä¹‹é—´çš„è€¦åˆå…³ç³»éå¸¸é‡è¦ï¼Œè¿™æ ·æ‰æœ‰æœºä¼šåœ¨å°†æ¥è®©å¯¹è±¡è¡¨ç°å‡ºå¤šæ€æ€§ã€‚ è€Œåœ¨JavaScriptè¿™ç§ç±»å‹æ¨¡ç³Šçš„è¯­è¨€ä¸­ï¼Œå¯¹è±¡å¤šæ€æ€§æ˜¯å¤©ç”Ÿçš„ï¼Œä¸€ä¸ªå˜é‡æ—¢å¯ä»¥æŒ‡å‘ä¸€ä¸ªç±»ï¼Œåˆå¯ä»¥éšæ—¶æŒ‡å‘å¦å¤–ä¸€ä¸ªç±»ã€‚ JavaScriptä¸å­˜åœ¨ç±»å‹è€¦åˆçš„é—®é¢˜ï¼Œè‡ªç„¶ä¹Ÿæ²¡æœ‰å¿…è¦åˆ»æ„å»æŠŠå¯¹è±¡â€œå»¶è¿Ÿâ€åˆ°å­ç±»åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaScriptå®é™…ä¸Šæ˜¯ä¸éœ€è¦å·¥å‚æ–¹æ³•æ¨¡å¼çš„ã€‚ æ¨¡å¼çš„å­˜åœ¨é¦–å…ˆæ˜¯èƒ½ä¸ºæˆ‘ä»¬è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œè¿™ç§ç‰µå¼ºçš„æ¨¡æ‹Ÿåªä¼šè®©äººè§‰å¾—è®¾è®¡æ¨¡å¼æ—¢éš¾æ‡‚åˆæ²¡ä»€ä¹ˆç”¨å¤„ã€‚ å¦ä¸€ä¸ªé—®é¢˜æ˜¯ä¹ æƒ¯æ ¹æ®æ¨¡å¼çš„åå­—å»è‡†æµ‹è¯¥æ¨¡å¼çš„ä¸€åˆ‡ã€‚ æ¯”å¦‚å‘½ä»¤æ¨¡å¼æœ¬æ„æ˜¯æŠŠè¯·æ±‚å°è£…åˆ°å¯¹è±¡ä¸­ï¼Œåˆ©ç”¨å‘½ä»¤æ¨¡å¼å¯ä»¥è§£å¼€è¯·æ±‚å‘é€è€…å’Œè¯·æ±‚æ¥å—è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚ ä½†å‘½ä»¤æ¨¡å¼ç»å¸¸è¢«äººè¯¯è§£ä¸ºåªæ˜¯ä¸€ä¸ªåä¸ºexecuteçš„æ™®é€šæ–¹æ³•è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•é™¤äº†å«ä½œexecuteä¹‹å¤–ï¼Œå…¶å®å¹¶æ²¡æœ‰çœ‹å‡ºå…¶ä»–ç”¨å¤„ã€‚ æ‰€ä»¥è®¸å¤šäººä¼šè¯¯ä¼šå‘½ä»¤æ¨¡å¼çš„æ„å›¾ï¼Œä»¥ä¸ºå®ƒå…¶å®æ²¡ä»€ä¹ˆç”¨å¤„ï¼Œä»è€Œè”æƒ³åˆ°å…¶ä»–è®¾è®¡æ¨¡å¼ ä¹Ÿæ²¡æœ‰ç”¨å¤„ã€‚ è¿™äº›è¯¯è§£éƒ½å½±å“äº†è®¾è®¡æ¨¡å¼åœ¨JavaScriptè¯­è¨€ä¸­çš„å‘å±•ã€‚ JavaScriptä¸­çš„åŸå‹ç»§æ‰¿ æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å¯¹è±¡ è¦å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯é€šè¿‡å®ä¾‹åŒ–ç±»ï¼Œè€Œæ˜¯æ‰¾åˆ°ä¸€ä¸ªå¯¹è±¡ä½œä¸ºåŸå‹å¹¶å…‹éš†å®ƒ JavaScriptçš„æ ¹å¯¹è±¡æ˜¯Object.prototypeå¯¹è±¡ã€‚ 12345var obj1 = new Object();var obj2 = {};console.log(Object.getPrototypeOf(obj1) === Object.prototype); // trueconsole.log(Object.getPrototypeOf(obj2) === Object.prototype); // true JavaScriptå¯¹è±¡ä¼šè®°ä½å®ƒçš„åŸå‹ å¦‚æœå¯¹è±¡æ— æ³•å“åº”æŸä¸ªè¯·æ±‚ï¼Œå®ƒä¼šæŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™å®ƒçš„æ„é€ å™¨çš„åŸå‹ å·¥å‚æ¨¡å¼åˆ—è¡¨ æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factoryï¼‰ å®šä¹‰: æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— éœ€åˆ¶å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚ æœ¬è´¨: é€‰æ‹©äº§å“ç°‡çš„å®ç°ã€‚ ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilderï¼‰ å®šä¹‰: å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ æœ¬è´¨ï¼š åˆ†ç¦»æ•´ä½“æ„å»ºç®—æ³•å’Œéƒ¨ä»¶æ„é€ ã€‚ ç”Ÿæˆå™¨æ¨¡å¼çš„é‡å¿ƒåœ¨äºåˆ†ç¦»æ•´ä½“æ„å»ºç®—æ³•å’Œéƒ¨ä»¶æ„é€ ï¼Œè€Œåˆ†æ­¥éª¤æ„å»ºå¯¹è±¡ä¸è¿‡æ˜¯æ•´ä½“æ„å»ºç®—æ³•çš„ä¸€ä¸ªç®€å•å®ç°ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªé™„å¸¦äº§ç‰©ã€‚ ç”Ÿæˆå™¨æ¨¡å¼ä¸æŠ½è±¡å·¥å‚æ¨¡å¼ è¿™ä¸¤ä¸ªæ¨¡å¼æ—¢ç›¸ä¼¼åˆæœ‰åŒºåˆ«ï¼Œä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ã€‚ åŒºåˆ«ï¼šæŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯åˆ›å»ºäº§å“ç°‡ï¼Œè¿™ä¸ªäº§å“ç°‡é‡Œé¢çš„å•ä¸ªäº§å“å°±ç›¸å½“äºæ˜¯æ„æˆä¸€ä¸ªå¤æ‚å¯¹è±¡çš„éƒ¨ä»¶å¯¹è±¡ï¼ŒæŠ½è±¡å·¥å‚å¯¹è±¡åˆ›å»ºå®Œæˆåå°±ç«‹å³è¿”å›æ•´ä¸ªäº§å“ç°‡ï¼›è€Œç”Ÿæˆå™¨æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯æŒ‰ç…§æ„é€ ç®—æ³•ï¼Œä¸€æ­¥ä¸€æ­¥æ¥æ„å»ºä¸€ä¸ªå¤æ‚çš„äº§å“å¯¹è±¡ï¼Œæ¡åŸè¦ç­‰åˆ°æ•´ä¸ªæ„å»ºè¿‡ç¨‹ç»“æŸä»¥åæ²¡æ‰ä¼šå¾—åˆ°æœ€ç»ˆçš„äº§å“å¯¹è±¡ã€‚ ç»„åˆä½¿ç”¨ï¼šåœ¨ç”Ÿæˆå™¨æ¨¡å¼çš„Builderå®ç°ä¸­ï¼Œéœ€è¦åˆ›å»ºå„ä¸ªéƒ¨ä»¶å¯¹è±¡ï¼Œè€Œè¿™äº›éƒ¨ä»¶å¯¹è±¡æ˜¯æœ‰å…³è”çš„ï¼Œé€šå¸¸æ˜¯æ„æˆä¸€ä¸ªå¤æ‚å¯¹è±¡çš„éƒ¨ä»¶å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒBuilderå®ç°ä¸­ï¼Œéœ€è¦è·å–æ„æˆä¸€ä¸ªå¤æ‚å¯¹è±¡çš„äº§å“ç°‡ï¼Œå°±å¯ä»¥ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼æ¥å®ç°ã€‚æœ‰æŠ½è±¡å·¥å‚æ¨¡å¼è´Ÿè´£éƒ¨ä»¶å¯¹è±¡åˆ›å»ºï¼ŒBuilderå®ç°é‡Œé¢åˆ™ä¸»è¦è´Ÿè´£äº§å“å¯¹è±¡æ•´ä½“çš„æ„å»ºäº†ã€‚ ç­–ç•¥æ¨¡å¼ç­–ç•¥æ¨¡å¼æŒ‡çš„æ˜¯å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ã€‚å°†ä¸å˜çš„éƒ¨åˆ†å’Œå˜åŒ–çš„éƒ¨åˆ†éš”å¼€æ˜¯æ¯ä¸ªè®¾è®¡æ¨¡å¼çš„ä¸»é¢˜ï¼Œç­–ç•¥æ¨¡å¼ä¹Ÿä¸ä¾‹å¤–ï¼Œç­–ç•¥æ¨¡å¼çš„ç›®çš„å°±æ˜¯å°†ç®—æ³•çš„ä½¿ç”¨ä¸ç®—æ³•çš„å®ç°åˆ†ç¦»å¼€æ¥ã€‚ 12345678910111213141516var strategies = { &quot;S&quot;: function( salary ){ return salary * 4; }, &quot;A&quot;: function( salary ){ return salary * 3; }, &quot;B&quot;: function( salary ){ return salary * 2; };var calculateBonus = function(level, salary){ return strategies[level](salary);};console.log(calculateBonus('S', 20000));console.log(calculateBonus('A', 10000));// è¾“å‡º:80000 // è¾“å‡º:30000 å‘å¸ƒ-è®¢é˜…æ¨¡å¼å‘å¸ƒâ€”è®¢é˜…æ¨¡å¼åˆå«è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå®ƒå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ã€‚åœ¨ JavaScript å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨äº‹ä»¶æ¨¡å‹æ¥æ›¿ä»£ä¼ ç»Ÿçš„å‘å¸ƒâ€”è®¢é˜…æ¨¡å¼ã€‚ ä¼˜ç‚¹ï¼š ä¸€ä¸ºæ—¶é—´ä¸Šçš„è§£è€¦äºŒä¸ºå¯¹è±¡ä¹‹é—´çš„è§£è€¦ã€‚è¿˜å¯ä»¥ç”¨æ¥å¸®åŠ©å®ç°ä¸€äº›åˆ«çš„è®¾è®¡æ¨¡å¼ï¼Œæ¯”å¦‚ä¸­ä»‹è€…æ¨¡å¼ã€‚ ç¼ºç‚¹: åˆ›å»ºè®¢é˜…è€…æœ¬èº«è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´å’Œå†…å­˜.å‘å¸ƒâ€”è®¢é˜…æ¨¡å¼è™½ç„¶å¯ä»¥å¼±åŒ–å¯¹è±¡ä¹‹é—´çš„è”ç³»ï¼Œä½†å¦‚æœè¿‡åº¦ä½¿ç”¨çš„è¯ï¼Œå¯¹è±¡å’Œå¯¹è±¡ä¹‹é—´çš„å¿…è¦è”ç³»ä¹Ÿå°†è¢«æ·±åŸ‹åœ¨èƒŒåï¼Œä¼šå¯¼è‡´ç¨‹åºéš¾ä»¥è·Ÿè¸ªç»´æŠ¤å’Œç†è§£ã€‚ç‰¹åˆ«æ˜¯æœ‰å¤šä¸ªå‘å¸ƒè€…å’Œè®¢é˜…è€…åµŒå¥—åˆ°ä¸€ èµ·çš„æ—¶å€™ï¼Œè¦è·Ÿè¸ªä¸€ä¸ª bug ä¸æ˜¯ä»¶è½»æ¾çš„äº‹æƒ…ã€‚ ç»„åˆæ¨¡å¼ç»„åˆæ¨¡å¼: ç”¨å°çš„å­å¯¹è±¡æ¥æ„å»ºæ›´å¤§çš„å¯¹è±¡ï¼Œè€Œè¿™äº›å°çš„å­å¯¹è±¡æœ¬èº«ä¹Ÿè®¸æ˜¯ç”±æ›´ å°çš„â€œå­™å¯¹è±¡â€æ„æˆçš„ã€‚ ç»„åˆå¯¹è±¡å’Œå¶å¯¹è±¡ä¼šå„è‡ªåšè‡ªå·±æ­£ç¡®çš„äº‹æƒ…ã€‚â€“ç»„åˆæ¨¡å¼æœ€é‡è¦çš„èƒ½åŠ› ä½¿ç”¨åœºæ™¯ï¼š 1. ä»£è¡¨å¯¹è±¡çš„éƒ¨åˆ†-æ•´ä½“å±‚æ¬¡ç»“æ„ã€‚ 2. å¯¹æ ‘ä¸­æ‰€æœ‰å¯¹è±¡ç»Ÿä¸€å¯¹å¾… ç»„åˆæ¨¡å¼å¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨æ ‘å½¢æ–¹å¼åˆ›å»ºå¯¹è±¡çš„ç»“æ„ï¼ŒæŠŠç›¸åŒçš„æ“ä½œåº”ç”¨åœ¨ç»„åˆå¯¹è±¡å’Œå•ä¸ªå¯¹è±¡ä¸Šã€‚å¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥å¿½ç•¥æ‰ä¸¤è€…çš„å·®åˆ«ï¼Œç”¨ä¸€è‡´çš„æ–¹å¼æ¥å¤„ç†ã€‚ ç¼ºç‚¹ï¼š æ¯ä¸ªå¯¹è±¡çœ‹ä½ èµ·æ¥ä¸å…¶ä»–å¯¹è±¡å·®ä¸å¤šï¼Œä½†åŒºåˆ«ä¼šåœ¨è¿è¡Œæ—¶æ˜¾ç°å‡ºæ¥ï¼Œä¼šè®©ä»£ç éš¾ä»¥ç†è§£ï¼› å¦‚æœç»„åˆæ¨¡å¼åˆ›å»ºçš„å¯¹è±¡å¤ªå¤šï¼Œå¯èƒ½è®©ç³»ç»Ÿè´Ÿæ‹…ä¸èµ·ã€‚ æ¨¡æ¿æ–¹æ³•æ¨¡å¼(Template Method)æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§åªéœ€ä½¿ç”¨ç»§æ‰¿å°±å¯ä»¥å®ç°çš„éå¸¸ç®€å•çš„æ¨¡å¼ã€‚ æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç”±ä¸¤éƒ¨åˆ†ç»“æ„ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æŠ½è±¡çˆ¶ç±»ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å…·ä½“çš„å®ç°å­ç±»ã€‚é€šå¸¸ åœ¨æŠ½è±¡çˆ¶ç±»ä¸­å°è£…äº†å­ç±»çš„ç®—æ³•æ¡†æ¶ï¼ŒåŒ…æ‹¬å®ç°ä¸€äº›å…¬å…±æ–¹æ³•ä»¥åŠå°è£…å­ç±»ä¸­æ‰€æœ‰æ–¹æ³•çš„æ‰§è¡Œé¡ºåºã€‚å­ç±»é€šè¿‡ç»§æ‰¿è¿™ä¸ªæŠ½è±¡ç±»ï¼Œä¹Ÿç»§æ‰¿äº†æ•´ä¸ªç®—æ³•ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚ å¦‚æœå­ç±»æœªå®ç°çˆ¶ç±»è¦æ±‚å®ç°çš„æ–¹æ³•ï¼Œå¯ä»¥throw new Error('å­ç±»å¿…é¡»é‡å†™xxxæ–¹æ³•')æ¥åšæ£€æŸ¥ã€‚ æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§å…¸å‹çš„é€šè¿‡å°è£…å˜åŒ–æé«˜ç³»ç»Ÿæ‰©å±•æ€§çš„è®¾è®¡æ¨¡å¼ã€‚ 123var brew = param.brew || function(){ throw new Error( 'å¿…é¡»ä¼ é€’ brew æ–¹æ³•' );}; æ¨¡æ¿æ–¹æ³•æ¨¡å¼å¸¸è¢«æ¶æ„å¸ˆç”¨äºæ­å»ºé¡¹ç›®çš„æ¡†æ¶ï¼Œæ¶æ„å¸ˆå®šå¥½äº†æ¡†æ¶çš„éª¨æ¶ï¼Œ ç¨‹åºå‘˜ç»§æ‰¿æ¡†æ¶çš„ç»“æ„ä¹‹åï¼Œè´Ÿè´£å¾€é‡Œé¢å¡«ç©ºï¼Œ é’©å­æ–¹æ³•(hook)ç”¨æ¥è§£å†³ä¸€äº›ç‰¹æ®Šçš„å­ç±»ï¼Œä¸ç¬¦åˆçˆ¶ç±»çš„æ‰§è¡Œé¡ºåºç­‰ã€‚ äº«å…ƒæ¨¡å¼(flyweight)æ˜¯ä¸€ç§ç”¨æ—¶é—´æ¢ç©ºé—´çš„ä¼˜åŒ–æ¨¡å¼ï¼Œä¸ºè§£å†³æ€§èƒ½è€Œç”Ÿ æ ¸å¿ƒ: è¿ç”¨å…±äº«æŠ€æœ¯æ¥æœ‰æ•ˆæ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ ç›®æ ‡: å°½é‡å‡å°‘å…±äº«å¯¹è±¡çš„æ•°é‡ äº«å…ƒæ¨¡å¼è¦æ±‚å°†å¯¹è±¡çš„å±æ€§åˆ†ä¸ºå†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€ã€‚åˆ’åˆ†å†…å¤–éƒ¨çŠ¶æ€è§„åˆ™ï¼š å†…éƒ¨çŠ¶æ€å­˜å‚¨äºå¯¹è±¡å†…éƒ¨ å†…éƒ¨çŠ¶æ€å¯ä»¥è¢«ä¸€äº›å¯¹è±¡å…±äº« å†…éƒ¨çŠ¶æ€ç‹¬ç«‹äºå…·ä½“çš„åœºæ™¯ï¼Œé€šå¸¸ä¸ä¼šå˜ å¤–éƒ¨çŠ¶æ€å–å†³äºå…·ä½“çš„åœºæ™¯ï¼Œæ ¹æ®åœºæ™¯è€Œå˜ï¼Œå¤–éƒ¨çŠ¶æ€ä¸èƒ½å…±äº« ä½¿ç”¨åœºæ™¯ï¼š ä¸€ä¸ªç¨‹åºä¸­ä½¿ç”¨äº†å¤§é‡çš„ç›¸ä¼¼å¯¹è±¡ ç”±äºä½¿ç”¨äº†å¤§é‡çš„ç›¸ä¼¼å¯¹è±¡ï¼Œé€ æˆå¾ˆå¤§çš„å†…å­˜å¼€é”€ å¯¹è±¡çš„å¤§å¤šæ•°çŠ¶æ€éƒ½å¯ä»¥å˜ä¸ºå¤–éƒ¨çŠ¶æ€ å‰¥ç¦»å‡ºå¯¹è±¡çš„å¤–éƒ¨çŠ¶æ€åï¼Œå¯ä»¥ç”¨ç›¸å¯¹è¾ƒå°‘çš„å…±äº«å¯¹è±¡å–ä»£å¤§é‡å¯¹è±¡ æ€è€ƒï¼š åˆ›å»ºå‡ºçš„å…±äº«å¯¹è±¡åœ¨æ¯æ¬¡ç»‘å®šäº‹ä»¶åä¼šæ‰§è¡Œè‡ªå·±çš„ç»‘å®šæ—¶é—´è¿˜æ˜¯ä¼šè¦†ç›– èŒè´£é“¾æ¨¡å¼å®šä¹‰: ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œå°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œè¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚ æŠŠå¤§å‡½æ•°æ‹†æˆå°å‡½æ•°ï¼Œå»æ‰è®¸å¤šåµŒå¥—çš„æ¡ä»¶åˆ†æ”¯è¯­å¥ æ­¤å¤– Chain çš„ prototype ä¸­è¿˜æœ‰ä¸¤ä¸ªå‡½æ•°ï¼Œå®ƒä»¬çš„ä½œç”¨å¦‚ä¸‹æ‰€ç¤º: // Chain.prototype.setNextSuccessor æŒ‡å®šåœ¨é“¾ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹// Chain.prototype.passRequest ä¼ é€’è¯·æ±‚ç»™æŸä¸ªèŠ‚ç‚¹ 123456789101112131415161718192021222324var Chain = function( fn ){ this.fn = fn; this.successor = null;};Chain.prototype.setNextSuccessor = function( successor ){ return this.successor = successor;};Chain.prototype.passRequest = function(){ var ret = this.fn.apply( this, arguments ); if ( ret === 'nextSuccessor' ){ return this.successor &amp;&amp; this.successor.passRequest.apply( this.successor, arguments ); } return ret;};// ä½¿ç”¨var chainOrder500 = new Chain( order500 );var chainOrder200 = new Chain( order200 );var chainOrderNormal = new Chain( orderNormal );chainOrder500.setNextSuccessor( chainOrder200 );chainOrder200.setNextSuccessor( chainOrderNormal); ä¼˜ç‚¹ï¼š è§£è€¦äº†è¯·æ±‚å‘é€è€…å’ŒNä¸ªæ¥æ”¶è€…ä¹‹é—´çš„å¤æ‚å…³ç³» é“¾ä¸­çš„èŠ‚ç‚¹å¯ä»¥çµæ´»çš„æ‹†åˆ†é‡ç»„ å¯ä»¥æ‰‹åŠ¨æŒ‡å®šèµ·å§‹èŠ‚ç‚¹ å¯ä»¥åœ¨é“¾å°¾å¢åŠ ä¸€ä¸ªä¿åº•çš„æ¥å—è€…èŠ‚ç‚¹å¤„ç†å‰é¢æ— æ³•å¤„ç†çš„è¯·æ±‚ è¦é¿å…è¿‡é•¿çš„èŒè´£é“¾å¸¦æ¥çš„æ€§èƒ½æŸè€— ä¸­ä»‹è€…æ¨¡å¼é€šè¿‡å¢åŠ ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ï¼Œæ‰€æœ‰ç›¸å…³çš„å¯¹è±¡éƒ½é€šè¿‡ä¸­ä»‹è€…æ¥é€šä¿¡ï¼Œè€Œä¸æ˜¯äº’ç›¸å¼•ç”¨ã€‚å½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œåªéœ€é€šçŸ¥ä¸­ä»‹è€…ã€‚ ä½¿ç½‘çŠ¶çš„å¤šå¯¹å¤šå…³ç³»å˜æˆç›¸å¯¹ç®€å•çš„ä¸€å¯¹å¤šå…³ç³» ä½œç”¨ è§£é™¤å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„ç´§è€¦åˆå…³ç³»ã€‚ ç¼ºç‚¹ ç³»ç»Ÿä¼šå¢åŠ ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ã€‚å¯¹è±¡ä¹‹é—´å¤æ‚çš„äº¤äº’æ€§ï¼Œè½¬ç§»æˆäº†ä¸­ä»‹è€…å¯¹è±¡çš„å¤æ‚æ€§ï¼Œä½¿å¾—ä¸­ä»‹è€…å¯¹è±¡ç»å¸¸æ˜¯å·¨å¤§çš„ã€‚ä¸­ä»‹è€…å¯¹è±¡è‡ªèº«å°±æ˜¯ä¸€ä¸ªéš¾ä»¥ç»´æŠ¤çš„å¯¹è±¡ã€‚ æ€»ç»“ä¸­ä»‹è€…æ¨¡å¼å¯ä»¥éå¸¸æ–¹ä¾¿åœ°å¯¹æ¨¡å—æˆ–è€…å¯¹è±¡è¿›è¡Œè§£è€¦ï¼Œä½†å¯¹è±¡ä¹‹é—´å¹¶éä¸€å®šéœ€è¦è§£è€¦ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ¨¡å—æˆ–å¯¹è±¡ä¹‹é—´æœ‰ä¸€äº›ä¾èµ–å…³ç³»æ˜¯å¾ˆæ­£å¸¸çš„ã€‚æ¯•ç«Ÿæˆ‘ä»¬å†™ç¨‹åºæ˜¯ä¸ºäº†å¿«é€Ÿå®Œæˆé¡¹ç›®äº¤ä»˜ç”Ÿäº§ï¼Œè€Œä¸æ˜¯å †ç Œæ¨¡å¼å’Œè¿‡åº¦è®¾è®¡ã€‚å…³é”®å°±åœ¨äºå¦‚ä½•å»è¡¡é‡å¯¹è±¡ä¹‹é—´çš„è€¦åˆç¨‹åº¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœå¯¹è±¡ä¹‹é—´çš„å¤æ‚è€¦åˆç¡®å®å¯¼è‡´è°ƒç”¨å’Œç»´æŠ¤å‡ºç°äº†å›°éš¾ï¼Œè€Œä¸”è¿™äº›è€¦åˆåº¦éšé¡¹ç›®çš„å˜åŒ–å‘ˆæŒ‡æ•°å¢é•¿æ›²çº¿ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ç”¨ä¸­ä»‹è€…æ¨¡å¼æ¥é‡æ„ä»£ç ã€‚ è£…é¥°è€…æ¨¡å¼åŠ¨æ€çš„ç»™æŸä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œè€Œä¸ä¼šå½±å“è¿™ä¸ªç±»ä¸­æ´¾ç”Ÿçš„å…¶ä»–å¯¹è±¡ã€‚ è£…é¥°è€…èƒ½å¤Ÿåœ¨ä¸æ”¹å˜å¯¹è±¡è‡ªèº«çš„åŸºç¡€ä¸Šï¼Œåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç»™å¯¹è±¡åŠ¨æ€çš„æ·»åŠ èŒè´£ã€‚ ä¼ ç»Ÿè¯­è¨€ä¸­ï¼Œç»™å¯¹è±¡æ·»åŠ åŠŸèƒ½å¸¸ç”¨ç»§æ‰¿æ–¹å¼ï¼Œä½†ç»§æ‰¿ä¼šå¸¦æ¥ä»¥ä¸‹é—®é¢˜: 1. å¯¼è‡´å­ç±»å’Œè¶…ç±»ä¹‹é—´å­˜åœ¨å¼ºè€¦åˆæ€§ï¼Œ è¶…ç±»æ”¹å˜ï¼Œå­ç±»ä¹Ÿéšä¹‹æ”¹å˜ 2. ç»§æ‰¿çš„å¤ç”¨æ–¹å¼æ˜¯ç™½ç®±å¤ç”¨ï¼Œè¶…ç±»çš„å†…éƒ¨ç»†èŠ‚å¯¹å­ç±»å¯è§ã€‚ç»§æ‰¿å¸¸å¸¸è¢«è®¤ä¸ºç ´åäº†å°è£…æ€§ã€‚ 3. å®ŒæˆåŠŸèƒ½å¤ç”¨æ—¶ï¼Œæœ‰å¯èƒ½åˆ›é€ å‡ºå¤§é‡çš„å­ç±»ã€‚ è£…é¥°è€…æ¨¡å¼è·Ÿç»§æ‰¿è€…æ¨¡å¼ç›¸æ¯”æ›´è½»ä¾¿çµæ´»ã€‚ ä»£ç†è€…æ¨¡å¼å’Œè£…é¥°è€…æ¨¡å¼åŒºåˆ« åœ¨äºä»–ä»¬çš„æ„å›¾å’Œè®¾è®¡ç›®çš„ ä»£ç†æ¨¡å¼çš„ç›®çš„æ˜¯ç›´æ¥è®¿é—®æœ¬ä½“ä¸æ–¹ä¾¿æˆ–ä¸éœ€è¦æ—¶ï¼Œæä¾›ä¸€ä¸ªæ›¿ä»£è€…ï¼Œæœ¬ä½“å®šä¹‰äº†å…³é”®åŠŸèƒ½ã€‚ä»£ç†è€…æ¨¡å¼å¼ºè°ƒä¸€ç§å…³ç³»(proxyå’Œå®ƒæœ¬ä½“ä¹‹é—´çš„å…³ç³»), è¿™ç§å…³ç³»å¯ä»¥é™æ€çš„è¡¨è¾¾ã€‚è¿™ç§å…³ç³»ä¸€å¼€å§‹å°±å¯ä»¥ç¡®å®šã€‚è€Œè£…é¥°å™¨æ¨¡å¼ç”¨äºä¸€å¼€å§‹ä¸èƒ½ç¡®å®šå¯¹è±¡çš„å…¨éƒ¨åŠŸèƒ½æ—¶ã€‚ ä»£ç†æ¨¡å¼é€šå¸¸åªæœ‰ä¸€å±‚ä»£ç†-æœ¬ä½“çš„å¼•ç”¨ï¼Œè£…é¥°è€…æ¨¡å¼ä¼šå½¢æˆä¸€æ¡é•¿é•¿çš„é“¾æ¡ã€‚ çŠ¶æ€æ¨¡å¼å®šä¹‰å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚ æˆ‘ä»¬ä»¥é€—å·åˆ†å‰²ï¼ŒæŠŠè¿™å¥è¯åˆ†ä¸ºä¸¤éƒ¨åˆ†æ¥çœ‹ã€‚ç¬¬ä¸€éƒ¨åˆ†çš„æ„æ€æ˜¯å°†çŠ¶æ€å°è£…æˆç‹¬ç«‹çš„ç±»ï¼Œå¹¶å°†è¯·æ±‚å§”æ‰˜ç»™å½“å‰çš„çŠ¶æ€å¯¹è±¡ï¼Œå½“å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œä¼šå¸¦æ¥ä¸åŒçš„è¡Œä¸ºå˜åŒ–ã€‚ç¬¬äºŒéƒ¨åˆ†æ˜¯ä»å®¢æˆ·çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„å¯¹è±¡ï¼Œåœ¨ä¸åŒçš„çŠ¶æ€ä¸‹å…·æœ‰æˆªç„¶ä¸åŒçš„è¡Œä¸ºï¼Œè¿™ ä¸ªå¯¹è±¡çœ‹èµ·æ¥æ˜¯ä»ä¸åŒçš„ç±»ä¸­å®ä¾‹åŒ–è€Œæ¥çš„ï¼Œå®é™…ä¸Šè¿™æ˜¯ä½¿ç”¨äº†å§”æ‰˜çš„æ•ˆæœã€‚ çŠ¶æ€æ¨¡å¼çš„å…³é”®æ˜¯åŒºåˆ†äº‹ç‰©å†…éƒ¨çš„çŠ¶æ€ï¼Œäº‹ç‰©å†…éƒ¨çŠ¶æ€çš„æ”¹å˜ï¼Œå¾€å¾€ä¼šå¸¦æ¥äº‹ç‰©è¡Œä¸ºçš„æ”¹å˜ã€‚ æŠŠäº‹ç‰©çš„æ¯ä¸ªçŠ¶æ€éƒ½å°è£…æˆå•ç‹¬çš„ç±»ï¼Œè·Ÿæ­¤ç§çŠ¶æ€æœ‰å…³çš„è¡Œä¸ºéƒ½å°è£…åœ¨è¿™ä¸ªç±»çš„å†…éƒ¨ã€‚è¦ä¿®æ”¹æ—¶ï¼ŒæŠŠè¯·æ±‚å§”æ‰˜ç»™å½“å‰çš„çŠ¶æ€å¯¹è±¡å³å¯ï¼Œè¯¥çŠ¶æ€å¯¹è±¡è´Ÿè´£æ‰§è¡Œç›¸åº”çš„æ–¹æ³•ã€‚ ä¼˜ç‚¹ çŠ¶æ€æ¨¡å¼å®šä¹‰äº†çŠ¶æ€ä¸è¡Œä¸ºä¹‹é—´çš„å…³ç³»ï¼Œå¹¶å°†å®ƒä»¬å°è£…åœ¨ä¸€ä¸ªç±»é‡Œã€‚é€šè¿‡å¢åŠ æ–°çš„çŠ¶æ€ç±»ï¼Œå¾ˆå®¹æ˜“å¢åŠ æ–°çš„çŠ¶æ€å’Œè½¬æ¢ã€‚ é¿å… Context æ— é™è†¨èƒ€ï¼ŒçŠ¶æ€åˆ‡æ¢çš„é€»è¾‘è¢«åˆ†å¸ƒåœ¨çŠ¶æ€ç±»ä¸­ï¼Œä¹Ÿå»æ‰äº† Context ä¸­åŸæœ¬è¿‡ 5 å¤šçš„æ¡ä»¶åˆ†æ”¯ã€‚ ç”¨å¯¹è±¡ä»£æ›¿å­—ç¬¦ä¸²æ¥è®°å½•å½“å‰çŠ¶æ€ï¼Œä½¿å¾—çŠ¶æ€çš„åˆ‡æ¢æ›´åŠ ä¸€ç›®äº†ç„¶ã€‚ Context ä¸­çš„è¯·æ±‚åŠ¨ä½œå’ŒçŠ¶æ€ç±»ä¸­å°è£…çš„è¡Œä¸ºå¯ä»¥éå¸¸å®¹æ˜“åœ°ç‹¬ç«‹å˜åŒ–è€Œäº’ä¸å½±å“ã€‚ ç¼ºç‚¹ä¼šåœ¨ç³»ç»Ÿä¸­å®šä¹‰è®¸å¤šçŠ¶æ€ç±»ï¼Œç³»ç»Ÿä¸­ä¼šå› æ­¤è€Œå¢åŠ ä¸å°‘å¯¹è±¡ã€‚å¦å¤–ï¼Œç”±äºé€»è¾‘åˆ†æ•£åœ¨çŠ¶æ€ç±»ä¸­ï¼Œè™½ç„¶é¿å¼€äº†ä¸å—æ¬¢è¿çš„æ¡ä»¶åˆ†æ”¯è¯­å¥ï¼Œä½†ä¹Ÿé€ æˆäº†é€»è¾‘åˆ†æ•£çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ— æ³•åœ¨ä¸€ä¸ªåœ°æ–¹å°±çœ‹å‡ºæ•´ä¸ªçŠ¶æ€æœºçš„é€»è¾‘ã€‚ æ€§èƒ½ä¼˜åŒ–ç®¡ç† state å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ã€‚ ç¬¬ä¸€ç§æ˜¯ä»…å½“ state å¯¹è±¡è¢«éœ€è¦æ—¶æ‰åˆ›å»ºå¹¶éšåé”€æ¯ï¼Œå¦ä¸€ç§æ˜¯ä¸€å¼€å§‹å°±åˆ›å»ºå¥½æ‰€æœ‰çš„çŠ¶æ€å¯¹è±¡ï¼Œå¹¶ä¸”å§‹ç»ˆä¸é”€æ¯å®ƒä»¬ã€‚å¦‚æœ state å¯¹è±¡æ¯”è¾ƒåºå¤§ï¼Œå¯ä»¥ç”¨ç¬¬ä¸€ç§æ–¹å¼æ¥èŠ‚çœå†…å­˜ï¼Œè¿™æ ·å¯ä»¥é¿å…åˆ›å»ºä¸€äº›ä¸ä¼šç”¨åˆ°çš„å¯¹è±¡å¹¶åŠæ—¶åœ°å›æ”¶å®ƒä»¬ã€‚ çŠ¶æ€æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼åŒºåˆ«ç›¸åŒç‚¹ å®ƒä»¬éƒ½æœ‰ä¸€ä¸ªä¸Šä¸‹æ–‡ã€ä¸€äº›ç­–ç•¥æˆ–è€…çŠ¶æ€ç±»ï¼Œä¸Šä¸‹æ–‡æŠŠè¯·æ±‚å§”æ‰˜ç»™è¿™äº›ç±»æ¥æ‰§è¡Œã€‚ åŒºåˆ« ç­–ç•¥æ¨¡å¼ä¸­çš„å„ä¸ªç­–ç•¥ç±»ä¹‹é—´æ˜¯å¹³ç­‰åˆå¹³è¡Œçš„ï¼Œå®ƒä»¬ä¹‹é—´æ²¡æœ‰ä»»ä½•è”ç³»ï¼Œ æ‰€ä»¥å®¢æˆ·å¿…é¡»ç†ŸçŸ¥è¿™äº›ç­–ç•¥ç±»çš„ä½œç”¨ï¼Œä»¥ä¾¿å®¢æˆ·å¯ä»¥éšæ—¶ä¸»åŠ¨åˆ‡æ¢ç®—æ³•;è€Œåœ¨çŠ¶æ€æ¨¡å¼ä¸­ï¼ŒçŠ¶æ€å’ŒçŠ¶æ€å¯¹åº”çš„è¡Œä¸ºæ˜¯æ—©å·²è¢«å°è£…å¥½çš„ï¼ŒçŠ¶æ€ä¹‹é—´çš„åˆ‡æ¢ä¹Ÿæ—©è¢«è§„å®šå®Œæˆï¼Œâ€œæ”¹å˜è¡Œä¸ºâ€è¿™ä»¶äº‹æƒ…å‘ç”Ÿåœ¨çŠ¶æ€æ¨¡å¼å†…éƒ¨ã€‚å¯¹å®¢æˆ·æ¥è¯´ï¼Œå¹¶ä¸éœ€è¦äº†è§£è¿™äº›ç»†èŠ‚ã€‚è¿™æ­£æ˜¯çŠ¶æ€æ¨¡å¼çš„ä½œç”¨æ‰€åœ¨ã€‚ é€‚é…å™¨æ¨¡å¼å½“æˆ‘ä»¬è¯•å›¾è°ƒç”¨æ¨¡å—æˆ–è€…å¯¹è±¡çš„æŸä¸ªæ¥å£æ—¶ï¼Œå´å‘ç°è¿™ä¸ªæ¥å£çš„æ ¼å¼å¹¶ä¸ç¬¦åˆç›®å‰çš„éœ€æ±‚ã€‚ä¸¤ç§è§£å†³åŠæ³•ï¼Œç¬¬ä¸€ç§æ˜¯ä¿®æ”¹åŸæ¥çš„æ¥å£å®ç°ã€‚ç¬¬äºŒç§åŠæ³•æ˜¯åˆ›å»ºä¸€ä¸ªé€‚é…å™¨ï¼Œå°†åŸæ¥å£è½¬æ¢ä¸ºå®¢æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œå®¢æˆ·åªéœ€è¦å’Œé€‚é…å™¨æ‰“äº¤é“ã€‚ é€‚é…å™¨ä½œç”¨è§£å†³ä¸¤ä¸ªè½¯ä»¶é—´çš„æ¥å£ä¸å…¼å®¹çš„é—®é¢˜ã€‚ é€‚é…å™¨å’Œå…¶ä»–æ¨¡å¼çš„åŒºåˆ«å…³é”®ä»ç„¶æ˜¯æ¨¡å¼çš„æ„å›¾ é€‚é…å™¨æ¨¡å¼ä¸»è¦ç”¨æ¥è§£å†³ä¸¤ä¸ªå·²æœ‰æ¥å£ä¹‹é—´ä¸åŒ¹é…çš„é—®é¢˜ï¼Œå®ƒä¸è€ƒè™‘è¿™äº›æ¥å£æ˜¯æ€æ ·å®ç°çš„ï¼Œä¹Ÿä¸è€ƒè™‘å®ƒä»¬å°†æ¥å¯èƒ½ä¼šå¦‚ä½•æ¼”åŒ–ã€‚é€‚é…å™¨æ¨¡å¼ä¸éœ€è¦æ”¹å˜å·²æœ‰çš„æ¥å£ï¼Œå°±èƒ½å¤Ÿä½¿å®ƒä»¬ååŒä½œç”¨ã€‚ è£…é¥°è€…æ¨¡å¼å’Œä»£ç†æ¨¡å¼ä¹Ÿä¸ä¼šæ”¹å˜åŸæœ‰å¯¹è±¡çš„æ¥å£ï¼Œä½†è£…é¥°è€…æ¨¡å¼çš„ä½œç”¨æ˜¯ä¸ºäº†ç»™å¯¹è±¡å¢åŠ åŠŸèƒ½ã€‚è£…é¥°è€…æ¨¡å¼å¸¸å¸¸å½¢æˆä¸€æ¡é•¿çš„è£…é¥°é“¾ï¼Œè€Œé€‚é…å™¨æ¨¡å¼é€šå¸¸åªåŒ…è£…ä¸€æ¬¡ã€‚ä»£ç†æ¨¡å¼æ˜¯ä¸ºäº†æ§åˆ¶å¯¹å¯¹è±¡çš„è®¿é—®ï¼Œé€šå¸¸ä¹ŸåªåŒ…è£…ä¸€æ¬¡ã€‚ å¤–è§‚æ¨¡å¼çš„ä½œç”¨å€’æ˜¯å’Œé€‚é…å™¨æ¯”è¾ƒç›¸ä¼¼ï¼Œæœ‰äººæŠŠå¤–è§‚æ¨¡å¼çœ‹æˆä¸€ç»„å¯¹è±¡çš„é€‚é…å™¨ï¼Œä½†å¤– è§‚æ¨¡å¼æœ€æ˜¾è‘—çš„ç‰¹ç‚¹æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„æ¥å£ã€‚ è®¾è®¡åŸåˆ™å’Œç¼–ç¨‹æŠ€å·§å•ä¸€èŒè´£åŸåˆ™SRP(Single Responsibility Principle)ä¸€ä¸ªå¯¹è±¡(æ–¹æ³•)åªåšä¸€ä»¶äº‹æƒ…ã€‚ SRP åŸåˆ™åœ¨å¾ˆå¤šè®¾è®¡æ¨¡å¼ä¸­éƒ½æœ‰ç€å¹¿æ³›çš„è¿ç”¨ï¼Œä¾‹å¦‚ä»£ç†æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€å•ä¾‹æ¨¡å¼å’Œè£…é¥°è€…æ¨¡å¼ã€‚ è¦æ˜ç¡®çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„èŒè´£éƒ½åº”è¯¥ä¸€ä¸€åˆ†ç¦»ã€‚ä¸€æ–¹é¢ï¼Œå¦‚æœéšç€éœ€æ±‚çš„å˜åŒ–ï¼Œæœ‰ä¸¤ä¸ªèŒè´£æ€»æ˜¯åŒæ—¶å˜åŒ–ï¼Œé‚£å°±ä¸å¿…åˆ†ç¦»ä»–ä»¬ã€‚ å¦ä¸€æ–¹é¢ï¼ŒèŒè´£çš„å˜åŒ–è½´çº¿ä»…å½“å®ƒä»¬ç¡®å®šä¼šå‘ç”Ÿå˜åŒ–æ—¶æ‰å…·æœ‰æ„ä¹‰ï¼Œå³ä½¿ä¸¤ä¸ªèŒè´£å·²ç»è¢«è€¦åˆåœ¨ä¸€èµ·ï¼Œä½†å®ƒä»¬è¿˜æ²¡æœ‰å‘ç”Ÿæ”¹å˜çš„å¾å…†ï¼Œé‚£ä¹ˆä¹Ÿè®¸æ²¡æœ‰å¿…è¦ä¸»åŠ¨åˆ†ç¦»å®ƒä»¬ï¼Œåœ¨ä»£ç éœ€è¦é‡æ„çš„æ—¶å€™å†è¿›è¡Œåˆ†ç¦»ä¹Ÿä¸è¿Ÿã€‚ åœ¨æ–¹ä¾¿æ€§ä¸ç¨³å®šæ€§ä¹‹é—´è¦æœ‰ä¸€äº›å–èˆã€‚å…·ä½“æ˜¯é€‰æ‹©æ–¹ä¾¿æ€§è¿˜æ˜¯ç¨³å®šæ€§ï¼Œå¹¶æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œè€Œ æ˜¯è¦å–å†³äºå…·ä½“çš„åº”ç”¨ç¯å¢ƒã€‚ SRP åŸåˆ™çš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ é™ä½äº†å•ä¸ªç±»æˆ–è€…å¯¹è±¡çš„å¤æ‚åº¦ï¼ŒæŒ‰ç…§èŒè´£æŠŠå¯¹è±¡åˆ†è§£æˆæ›´å°çš„ç²’åº¦ï¼Œ è¿™æœ‰åŠ©äºä»£ç çš„å¤ç”¨ï¼Œä¹Ÿæœ‰åˆ©äºè¿›è¡Œå•å…ƒæµ‹è¯•ã€‚å½“ä¸€ä¸ªèŒè´£éœ€è¦å˜æ›´çš„æ—¶å€™ï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»–çš„èŒè´£ã€‚ ç¼ºç‚¹ æœ€æ˜æ˜¾çš„æ˜¯ä¼šå¢åŠ ç¼–å†™ä»£ç çš„å¤æ‚åº¦ã€‚å½“æˆ‘ä»¬æŒ‰ç…§èŒè´£æŠŠå¯¹è±¡åˆ†è§£æˆæ›´å°çš„ç²’åº¦ä¹‹åï¼Œå®é™…ä¸Šä¹Ÿå¢å¤§äº†è¿™äº›å¯¹è±¡ä¹‹é—´ç›¸äº’è”ç³»çš„éš¾åº¦ã€‚ æœ€å°‘çŸ¥è¯†åŸåˆ™(LKP)ä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å°½å¯èƒ½å°‘åœ°ä¸å…¶ä»–å®ä½“å‘ç”Ÿç›¸äº’ä½œç”¨ã€‚ ä¾‹å¦‚ï¼šä¸­ä»‹è€…æ¨¡å¼å’Œå¤–è§‚æ¨¡å¼ã€‚ ç»ˆç»“è€…æ¨¡å¼ï¼šé€šè¿‡å¢åŠ ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ï¼Œè®©æ‰€æœ‰çš„ç›¸å…³å¯¹è±¡éƒ½é€šè¿‡ä¸­ä»‹è€…å¯¹è±¡æ¥é€šä¿¡ï¼Œè€Œä¸æ˜¯äº’ç›¸å¼•ç”¨ã€‚ å¤–è§‚æ¨¡å¼ï¼šä¸ºä¸€ç»„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•ä¾¿åˆ©çš„è®¿é—®å…¥å£, éš”ç¦»å®¢æˆ·ä¸å¤æ‚å­ç³»ç»Ÿä¹‹é—´çš„è”ç³»ï¼Œå®¢æˆ·ä¸ç”¨å»äº†è§£å­ç³»ç»Ÿçš„ç»†èŠ‚ã€‚ å°è£…ï¼šå°è£…åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šè¡¨è¾¾çš„æ˜¯æ•°æ®çš„éšè—ã€‚ä¸€ä¸ªæ¨¡å—æˆ–è€…å¯¹è±¡å¯ä»¥å°†å†…éƒ¨çš„æ•°æ®æˆ–è€…å®ç°ç»†èŠ‚éšè—èµ·æ¥ï¼Œåªæš´éœ²å¿…è¦çš„æ¥å£ API ä¾›å¤–ç•Œè®¿é—®ã€‚å¯¹è±¡ä¹‹é—´éš¾å…äº§ç”Ÿè”ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»å¼•ç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è®©å¯¹è±¡åªæš´éœ²å¿…è¦çš„æ¥å£ï¼Œè®©å¯¹è±¡ä¹‹é—´çš„è”ç³»é™åˆ¶åœ¨æœ€å°çš„èŒƒå›´ä¹‹å†…ã€‚ è™½ç„¶éµå®ˆæœ€å°çŸ¥è¯†åŸåˆ™å‡å°‘äº†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½å¢åŠ ä¸€äº›åºå¤§åˆ°éš¾ ä»¥ç»´æŠ¤çš„ç¬¬ä¸‰è€…å¯¹è±¡ã€‚è·Ÿå•ä¸€èŒè´£åŸåˆ™ä¸€æ ·ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæ˜¯å¦é€‰æ‹©è®©ä»£ç ç¬¦åˆæœ€å°‘çŸ¥è¯†åŸåˆ™ï¼Œ è¦æ ¹æ®å…·ä½“çš„ç¯å¢ƒæ¥å®šã€‚ å¼€æ”¾å°é—­åŸåˆ™(OCP)å½“éœ€è¦æ”¹å˜ä¸€ä¸ªç¨‹åºçš„åŠŸèƒ½æˆ–è€…ç»™è¿™ä¸ªç¨‹åºå¢åŠ æ–°åŠŸ èƒ½çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å¢åŠ ä»£ç çš„æ–¹å¼ï¼Œä½†æ˜¯ä¸å…è®¸æ”¹åŠ¨ç¨‹åºçš„æºä»£ç ã€‚ ç”¨å¯¹è±¡çš„å¤šæ€æ€§æ¶ˆé™¤æ¡ä»¶åˆ†æ”¯è¿‡å¤šçš„æ¡ä»¶åˆ†æ”¯è¯­å¥æ˜¯é€ æˆç¨‹åºè¿åå¼€æ”¾ï€­å°é—­åŸåˆ™çš„ä¸€ä¸ªå¸¸è§åŸå› ã€‚æ¯å½“éœ€è¦å¢åŠ ä¸€ä¸ªæ–°çš„ if è¯­å¥æ—¶ï¼Œéƒ½è¦è¢«è¿«æ”¹åŠ¨åŸå‡½æ•°ã€‚æŠŠ if æ¢æˆ switch-case æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œè¿™æ˜¯ä¸€ç§æ¢æ±¤ä¸æ¢è¯çš„åšæ³•ã€‚å®é™…ä¸Šï¼Œæ¯å½“æˆ‘ä»¬çœ‹åˆ°ä¸€å¤§ç‰‡çš„ if æˆ–è€… swtich-case è¯­å¥æ—¶ï¼Œç¬¬ä¸€æ—¶é—´å°±åº”è¯¥è€ƒè™‘ï¼Œèƒ½å¦åˆ©ç”¨å¯¹è±¡çš„å¤šæ€æ€§æ¥é‡æ„å®ƒä»¬ã€‚ åˆ©ç”¨å¯¹è±¡çš„å¤šæ€æ€§æ¥è®©ç¨‹åºéµå®ˆå¼€æ”¾ï€­å°é—­åŸåˆ™ï¼Œæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æŠ€å·§ã€‚ æ‰¾åˆ°ä¸€äº›è®©ç¨‹åºå°½é‡éµå®ˆå¼€æ”¾ï€­å°é—­åŸåˆ™çš„è§„å¾‹ï¼Œæœ€æ˜æ˜¾çš„å°±æ˜¯æ‰¾å‡ºç¨‹åºä¸­å°†è¦å‘ç”Ÿå˜åŒ–çš„åœ°æ–¹ï¼Œç„¶åæŠŠå˜åŒ–å°è£…èµ·æ¥ã€‚ å…¶ä»–æ–¹å¼ æ”¾ç½®æŒ‚é’©(hook) åœ¨ç¨‹åºæœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–çš„åœ°æ–¹æ”¾ç½®æŒ‚é’©ï¼ŒæŒ‚é’©è¿”å›çš„ç»“æœå†³å®šç¨‹åºä¸‹ä¸€æ­¥èµ°å‘ã€‚ ä½¿ç”¨å›è°ƒå‡½æ•° ç­–ç•¥æ¨¡å¼å’Œå‘½ä»¤æ¨¡å¼ç­‰éƒ½å¯ä»¥ç”¨å›è°ƒå‡½æ•°è½»æ¾å®ç°ã€‚ ä»£ç é‡æ„ æç‚¼å‡½æ•°å‡½æ•°è¦æœ‰è‰¯å¥½çš„å‘½åï¼Œå‡½æ•°ä½“å†…åŒ…å«çš„é€»è¾‘æ¸…æ™°æ˜äº†ã€‚å¥½å¤„ é¿å…å‡ºç°è¶…å¤§å‡½æ•°ã€‚ ç‹¬ç«‹å‡ºæ¥çš„å‡½æ•°æœ‰åŠ©äºä»£ç å¤ç”¨ã€‚ ç‹¬ç«‹å‡ºæ¥çš„å‡½æ•°æ›´å®¹æ˜“è¢«è¦†å†™ã€‚ ç‹¬ç«‹å‡ºæ¥çš„å‡½æ•°å¦‚æœæ‹¥æœ‰ä¸€ä¸ªè‰¯å¥½çš„å‘½åï¼Œå®ƒæœ¬èº«å°±èµ·åˆ°äº†æ³¨é‡Šçš„ä½œç”¨ã€‚ åˆå¹¶é‡å¤çš„æ¡ä»¶ç‰‡æ®µ æŠŠæ¡ä»¶åˆ†æ”¯è¯­å¥æç‚¼æˆå‡½æ•° 1234567891011if ( date.getMonth() &gt;= 6 &amp;&amp; date.getMonth() &lt;= 9 ){ // ...}// æç‚¼å‡ºæ¥var isSummer = function(){ var date = new Date(); return date.getMonth() &gt;= 6 &amp;&amp; date.getMonth() &lt;= 9;};if (isSummer) { // ...} åˆç†ä½¿ç”¨å¾ªç¯ æå‰è®©å‡½æ•°é€€å‡ºä»£æ›¿åµŒå¥—æ¡ä»¶åˆ†æ”¯ ä¼ é€’å¯¹è±¡å‚æ•°ä»£æ›¿è¿‡é•¿çš„å‚æ•°åˆ—è¡¨å¯ä»¥æŠŠå‚æ•°éƒ½æ”¾å…¥ä¸€ä¸ªå¯¹è±¡å†… å°½é‡å‡å°‘å‚æ•°æ•°é‡ å°‘ç”¨ä¸‰ç›®è¿ç®—ç¬¦ å°‘ç”¨ä¸‰ç›®è¿ç®—ç¬¦ åˆ†è§£å¤§å‹ç±» ç”¨returné€€å‡ºå¤šé‡å¾ªç¯ é“¾æ¥ å·¥å‚æ¨¡å¼ç®€å•çš„å·¥å‚æ¨¡å¼å¯ä»¥ç†è§£ä¸ºè§£å†³å¤šä¸ªç›¸ä¼¼çš„é—®é¢˜; 123456789101112131415161718192021function CreatePerson(name,age,sex) { var obj = new Object(); obj.name = name; obj.age = age; obj.sex = sex; obj.sayName = function(){ return this.name; } return obj;}var p1 = new CreatePerson(&quot;longen&quot;,'28','ç”·');var p2 = new CreatePerson(&quot;tugenhua&quot;,'27','å¥³');console.log(p1.name); // longenconsole.log(p1.age); // 28console.log(p1.sex); // ç”·console.log(p1.sayName()); // longenconsole.log(p2.name); // tugenhuaconsole.log(p2.age); // 27console.log(p2.sex); // å¥³console.log(p2.sayName()); // tugenhua å•ä¾‹æ¨¡å¼åªèƒ½è¢«å®ä¾‹åŒ–(æ„é€ å‡½æ•°ç»™å®ä¾‹æ·»åŠ å±æ€§ä¸æ–¹æ³•)ä¸€æ¬¡ 1234567891011121314151617181920// å•ä½“æ¨¡å¼var Singleton = function(name){ this.name = name;};Singleton.prototype.getName = function(){ return this.name;}// è·å–å®ä¾‹å¯¹è±¡var getInstance = (function() { var instance = null; return function(name) { if(!instance) {//ç›¸å½“äºä¸€ä¸ªä¸€æ¬¡æ€§é˜€é—¨,åªèƒ½å®ä¾‹åŒ–ä¸€æ¬¡ instance = new Singleton(name); } return instance; }})();// æµ‹è¯•å•ä½“æ¨¡å¼çš„å®ä¾‹,æ‰€ä»¥a===bvar a = getInstance(&quot;aa&quot;);var b = getInstance(&quot;bb&quot;); æ²™ç®±æ¨¡å¼å°†ä¸€äº›å‡½æ•°æ”¾åˆ°è‡ªæ‰§è¡Œå‡½æ•°é‡Œé¢,ä½†è¦ç”¨é—­åŒ…æš´éœ²æ¥å£,ç”¨å˜é‡æ¥æ”¶æš´éœ²çš„æ¥å£,å†è°ƒç”¨é‡Œé¢çš„å€¼,å¦åˆ™æ— æ³•ä½¿ç”¨é‡Œé¢çš„å€¼ 12345678let sandboxModel=(function(){ function sayName(){}; function sayAge(){}; return{ sayName:sayName, sayAge:sayAge }})() å‘å¸ƒè€…è®¢é˜…æ¨¡å¼å°±ä¾‹å¦‚å¦‚æˆ‘ä»¬å…³æ³¨äº†æŸä¸€ä¸ªå…¬ä¼—å·,ç„¶åä»–å¯¹åº”çš„æœ‰æ–°çš„æ¶ˆæ¯å°±ä¼šç»™ä½ æ¨é€, ä»£ç å®ç°é€»è¾‘æ˜¯ç”¨æ•°ç»„å­˜è´®è®¢é˜…è€…, å‘å¸ƒè€…å›è°ƒå‡½æ•°é‡Œé¢é€šçŸ¥çš„æ–¹å¼æ˜¯éå†è®¢é˜…è€…æ•°ç»„,å¹¶å°†å‘å¸ƒè€…å†…å®¹ä¼ å…¥è®¢é˜…è€…æ•°ç»„ 12345678910111213141516171819202122232425262728//å‘å¸ƒè€…ä¸è®¢é˜…æ¨¡å¼var shoeObj = {}; // å®šä¹‰å‘å¸ƒè€…shoeObj.list = []; // ç¼“å­˜åˆ—è¡¨ å­˜æ”¾è®¢é˜…è€…å›è°ƒå‡½æ•°// å¢åŠ è®¢é˜…è€…shoeObj.listen = function(fn) { shoeObj.list.push(fn); // è®¢é˜…æ¶ˆæ¯æ·»åŠ åˆ°ç¼“å­˜åˆ—è¡¨}// å‘å¸ƒæ¶ˆæ¯shoeObj.trigger = function() { for (var i = 0, fn; fn = this.list[i++];) { fn.apply(this, arguments);//ç¬¬ä¸€ä¸ªå‚æ•°åªæ˜¯æ”¹å˜fnçš„this, } } // å°çº¢è®¢é˜…å¦‚ä¸‹æ¶ˆæ¯shoeObj.listen(function(color, size) { console.log(&quot;é¢œè‰²æ˜¯ï¼š&quot; + color); console.log(&quot;å°ºç æ˜¯ï¼š&quot; + size);});// å°èŠ±è®¢é˜…å¦‚ä¸‹æ¶ˆæ¯shoeObj.listen(function(color, size) { console.log(&quot;å†æ¬¡æ‰“å°é¢œè‰²æ˜¯ï¼š&quot; + color); console.log(&quot;å†æ¬¡æ‰“å°å°ºç æ˜¯ï¼š&quot; + size);});shoeObj.trigger(&quot;çº¢è‰²&quot;, 40);shoeObj.trigger(&quot;é»‘è‰²&quot;, 42);","link":"/posts/Javascript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"title":"Koa2 è¿›é˜¶","text":"Koa2æ˜¯ç°åœ¨æœ€æµè¡Œçš„åŸºäºNode.jså¹³å°çš„webå¼€å‘æ¡†æ¶ï¼Œå®ƒå¾ˆå°ï¼Œä½†æ‰©å±•æ€§å¾ˆå¼ºã€‚Koaç»™äººä¸€ç§å¹²å‡€åˆ©è½çš„æ„Ÿè§‰ï¼Œä½“ç§¯å°ã€ç¼–ç¨‹æ–¹å¼å¹²å‡€ã€‚ä½¿ç”¨ koa ç¼–å†™ web åº”ç”¨ï¼Œé€šè¿‡ç»„åˆä¸åŒçš„ generatorï¼Œå¯ä»¥å…é™¤é‡å¤ç¹ççš„å›è°ƒå‡½æ•°åµŒå¥—ï¼Œå¹¶æå¤§åœ°æå‡é”™è¯¯å¤„ç†çš„æ•ˆç‡ã€‚ä¸€ä¸ªKoaåº”ç”¨å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«äº†ä¸€ä¸ªmiddlewareæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ç”±ä¸€ç»„Generatorå‡½æ•°ç»„æˆã€‚è¿™äº›å‡½æ•°è´Ÿè´£å¯¹HTTPè¯·æ±‚è¿›è¡Œå„ç§åŠ å·¥ï¼Œæ¯”å¦‚ç”Ÿæˆç¼“å­˜ã€æŒ‡å®šä»£ç†ã€è¯·æ±‚é‡å®šå‘ç­‰ç­‰ã€‚è¿™äº›ä¸­é—´ä»¶å‡½æ•°åŸºäº request è¯·æ±‚ä»¥ä¸€ä¸ªç±»ä¼¼äºæ ˆçš„ç»“æ„ç»„æˆå¹¶ä¾æ¬¡æ‰§è¡Œã€‚ å‰ç½®çŸ¥è¯†ï¼šjs,ES6,node ,npm ç¬¬ä¸€èŠ‚ Koaå¼€å‘ç¯å¢ƒæ­å»º æ–°å»ºç›®å½• 12mkdir koa2Tutorialcd koa2Tutorial ç”Ÿæˆpackage.json æ–‡ä»¶ 1npm init -y å®‰è£…koaåŒ… 1npm install --save koa coding å¼€å§‹ç¼–å†™koaå¯åŠ¨ä»£ç  12345678910const Koa = require('koa')const app = new Koa()app.use( async (ctx) =&gt; {ctx.body = 'Hello Koa2' })app.listen(8040)console.log('[demo] start quick is starting at port 8040') å¯åŠ¨ åœ¨å‘½ä»¤è¡Œè¾“å…¥ 1node index.js åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ï¼š localhost:8040å°±èƒ½çœ‹åˆ°ç»“æœäº† ç¬¬2èŠ‚ async/await ä½¿ç”¨æ–¹æ³•ä»€ä¹ˆæ˜¯asyncå’Œawait asyncæ˜¯å¼‚æ­¥çš„ç®€å†™ awaitè¿™é‡Œæ˜¯async awaitç®€å†™ asyncæ˜¯å£°æ˜ä¸€ä¸ªæ–¹æ³•æ˜¯å¼‚æ­¥çš„ï¼Œawaitæ˜¯ç­‰å¾…å¼‚æ­¥å®Œæˆã€‚ æ³¨æ„awaitå¿…é¡»æ˜¯åœ¨asyncæ–¹æ³•ä¸­æ‰å¯ä»¥ä½¿ç”¨å› ä¸ºawaitè®¿é—®æœ¬èº«ä¼šé€ æˆç¨‹åºåœæ­¢ï¼Œæ‰€ä»¥å¿…é¡»åœ¨å¼‚æ­¥æ–¹æ³•ä¸­æ‰å¯ä»¥ä½¿ç”¨ async åˆ°åº•èµ·ä»€ä¹ˆä½œç”¨asyncæ˜¯è®©æ–¹æ³•å˜æˆå¼‚æ­¥ï¼Œå…³é”®æ˜¯ä»–çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Œå¾—åˆ°åå¦‚ä½•å¤„ç†ï¼Ÿ çœ‹ä¸€ä¸‹asyncæ–¹æ³•çš„è¿”å›å€¼ 123456async function testAsync() { return 'Hello Async'}const result = testAsync()console.log(result) åœ¨ç»ˆç«¯ä¸­è¿è¡Œnode testAsync.jsï¼Œå‘ç°è¿”å›çš„æ˜¯Promise 12node test.jsPromise { 'Hello async' } awaitåœ¨ç­‰ä»€ä¹ˆawaitä¸€èˆ¬æ˜¯åœ¨ç­‰asyncæ–¹æ³•æ‰§è¡Œå®Œæ¯•ã€‚ä½†å…¶å®awaitç­‰å¾…çš„åªæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼(Promiseå¯¹è±¡)ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶æ™®é€šå€¼ã€‚çœ‹ä»£ç ï¼š 12345678910111213141516function getSomething(){ return 'something'}async function testAsync(){ return 'Hello Async'}async function test () { const v1 = await getSomething() const v2 = await testAsync() console.log(v1, v2)}test() ä¸Šé¢ä»£ç ä¸€ä¸ªæ˜¯å¼‚æ­¥å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯æ™®é€šå‡½æ•°ã€‚ å¯ä»¥çœ‹åˆ°éƒ½æ˜¯ç›´æ¥è¿”å›ç»“æœã€‚ async/await åŒæ—¶ä½¿ç”¨é€šè¿‡å‰é¢ä¸¤ä¸ªä¾‹å­ï¼Œå·²ç»åˆ†åˆ«äº†è§£åˆ°asyncå’Œawaitã€‚ç°åœ¨åšä¸ªè™šå‡çš„ä¾‹å­ï¼Œçœ‹ä¸‹ç­‰å¾…é—®é¢˜ã€‚ 1234567891011121314function takeLongTime(){ return new Promise(resolve =&gt; { setTimeout(() =&gt; { resolve('long_time_value') }, 1000) })}async function test(){ const v = await takeLongTime() console.log(v)}test() ç¬¬3èŠ‚ Getè¯·æ±‚æ¥æ”¶è¿™èŠ‚è¯¾çœ‹ä¸€ä¸‹Koaå¦‚ä½•å¤„ç†getè¯·æ±‚ queryå’ŒquerystringåŒºåˆ«åœ¨Koa2ä¸­ï¼ŒGetè¯·æ±‚é€šè¿‡requestæ¥æ”¶ï¼Œä½†æ¥æ”¶æ–¹æ³•æœ‰ä¸¤ç§ï¼šqueryå’Œquerystringã€‚ queryï¼š è¿”å›çš„æ˜¯æ ¼å¼åŒ–å¥½çš„å‚æ•°å¯¹è±¡ querystringï¼š è¿”å›çš„æ˜¯è¯·æ±‚å­—ç¬¦ä¸² å†™ä¸ªç®€å•çš„ä¾‹å­çœ‹ä¸‹è¾“å‡ºç»“æœã€‚ demo1.js 1234567891011121314151617const Koa = require('koa')const app = new Koa()app.use( async (ctx) =&gt; { let url = ctx.url let request = ctx.request let req_query = ctx.request.query let req_querystring = ctx.request.querystring ctx.body = { url, req_query, req_querystring }})app.listen(8040)console.log('[demo] start quick is starting at port 8040') ä¸Šé¢çš„ä»£ç ï¼Œåœ¨bodyä¸­è¿”å›äº†ä»ctxä¸­å–åˆ°çš„url, request, requeststring. åœ¨ç»ˆç«¯ç”¨node demo1.jså¯åŠ¨æœåŠ¡ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥æŸ¥çœ‹é¡µé¢æ•ˆæœ http://localhost:8040/?user=admin&amp;age=18 é¡µé¢è¾“å‡ºçš„ç»“æœ 1{&quot;url&quot;:&quot;/?user=admin&amp;age=18&quot;,&quot;req_query&quot;:{&quot;user&quot;:&quot;admin&quot;,&quot;age&quot;:&quot;18&quot;},&quot;req_querystring&quot;:&quot;user=admin&amp;age=18&quot;} ç›´æ¥ä»ctxä¸­è·å–Getè¯·æ±‚ä¸Šé¢ä»£ç æ˜¯åœ¨ctx.requestä¸­è·å–çš„requestå’Œrequeststringï¼Œ è¿˜å¯ä»¥ç›´æ¥ä»ctxä¸­å¾—åˆ°Getè¯·æ±‚ã€‚ 12345678910111213141516171819202122232425262728const Koa = require('koa')const app = new Koa()app.use( async (ctx) =&gt; { let url = ctx.url // ä» request ä¸­è·å–GETè¯·æ±‚ let request = ctx.request let req_query = ctx.request.query let req_querystring = ctx.request.querystring // ä»ä¸Šä¸‹æ–‡è·å–GETè¯·æ±‚ let ctx_query = ctx.query let ctx_querystring = ctx.querystring ctx.body = { url, req_query, req_querystring, ctx_query, ctx_querystring }})app.listen(8040)console.log('[demo] start quick is starting at port 8040') å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹æ•ˆæœã€‚ æ€»ç»“ è·å–GETè¯·æ±‚æ–¹å¼æœ‰ä¸¤ç§ ä»requestè·å– ä»ctxä¸­è·å–ã€‚ è·å–çš„æ ¼å¼ä¹Ÿæœ‰ä¸¤ç§ request requeststring ç¬¬4èŠ‚ POSTè¯·æ±‚å¦‚ä½•æ¥æ”¶(1)è¿™èŠ‚å­¦ä¹ POSTè¯·æ±‚çš„æ¥æ”¶æ–¹æ³•ã€‚ å¯¹äºPOSTï¼ŒKoa2æ²¡æœ‰å°è£…æ–¹ä¾¿çš„è·å–å‚æ•°æ–¹æ³•ï¼Œéœ€è¦é€šè¿‡è§£æä¸Šä¸‹æ–‡contextä¸­çš„åŸç”Ÿnode.jsè¯·æ±‚å¯¹è±¡reqæ¥è·å–ã€‚ è·å–Postè¯·æ±‚çš„æ­¥éª¤ï¼š è§£æä¸Šä¸‹æ–‡ctxä¸­çš„åŸç”Ÿnode.jså¯¹è±¡req å°†postè¡¨å•æ•°æ®è§£ææˆquery string å­—ç¬¦ä¸²ã€‚ å°†å­—ç¬¦ä¸²è½¬æ¢æˆJSON ctx.requestå’Œctx.reqåŒºåˆ« ctx.request:æ˜¯Koa2ä¸­contextç»è¿‡å°è£…çš„è¯·æ±‚å¯¹è±¡ï¼Œç”¨èµ·æ¥æ›´ç®€å•ç›´è§‚ ctx.req: æ˜¯contextæä¾›çš„node.jsåŸç”ŸHTTPè¯·æ±‚å¯¹è±¡ã€‚å¯ä»¥å¾—åˆ°æ›´å¤šçš„å†…å®¹ã€‚ ctx.mothedå¾—åˆ°çš„è¯·æ±‚ç±»å‹Koa2æä¾›äº†ctx.methodå±æ€§ï¼Œæ¥è·å–è¯·æ±‚ç±»å‹ã€‚æ ¹æ®ä¸åŒç±»å‹ç¼–å†™ä¸åŒçš„å“åº”ã€‚åœ¨å·¥ä½œä¸­å¾ˆå¸¸ç”¨ã€‚ å…ˆåšä¸ªå°ä¾‹å­ã€‚æ ¹æ®è¯·æ±‚ç±»å‹è·å–ä¸åŒçš„é¡µé¢å†…å®¹ã€‚GETè¯·æ±‚æ—¶å¾—åˆ°è¡¨å•å¡«å†™é¡µé¢ï¼ŒPOSTè¯·æ±‚æ—¶ï¼Œå¾—åˆ°POSTå¤„ç†é¡µé¢ã€‚ 12345678910111213141516171819202122232425262728293031const Koa = require('koa')const app = new Koa()app.use( async (ctx) =&gt; { // å½“è¯·æ±‚æ˜¯getæ—¶ï¼Œæ˜¾ç¤ºè¡¨å•è®©ç”¨æˆ·å¡«å†™ if(ctx.url === '/' &amp;&amp; ctx.method === 'GET'){ let html = ` &lt;h1&gt;Koa2 request post demo&lt;/h1&gt; &lt;form method=&quot;POST&quot; action=&quot;/&quot;&gt; &lt;p&gt;userName&lt;/p&gt; &lt;input name=&quot;userName&quot; /&gt; &lt;br/&gt; &lt;p&gt;age&lt;/p&gt; &lt;input name=&quot;age&quot; /&gt; &lt;br/&gt; &lt;p&gt;webSite&lt;/p&gt; &lt;input name='webSite' /&gt;&lt;br/&gt; &lt;button type=&quot;submit&quot;&gt;submit&lt;/button&gt; &lt;/form&gt; ` ctx.body = html }else if(ctx.url === '/' &amp;&amp; ctx.method === 'POST'){ ctx.body = 'æ¥æ”¶åˆ°çš„è¯·æ±‚' }else { ctx.body = ` &lt;h1&gt;404&lt;/h1&gt; ` }})app.listen(8040)console.log('[demo] start quick is starting at port 8040') å†™å®Œæ‰§è¡Œnode index.jsï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://localhost:8040/ï¼Œç¬¬ä¸€æ¬¡å±•ç°çš„æ˜¯è¡¨å•é¡µé¢ï¼Œç‚¹å‡»æäº¤åï¼Œè¿”å›æ¥æ”¶åˆ°çš„è¯·æ±‚ã€‚è¾“å…¥å…¶ä»–åœ°å€ï¼Œè¿”å›404. æ€»ç»“-4è¿™èŠ‚è¯¾ç†è®ºä¸Šå­¦ä¹ äº†å¦‚ä½•è·å–POSTè¯·æ±‚å‚æ•°ã€‚å­¦ä¹ äº†å¦‚ä½•è·å–è¯·æ±‚ç±»å‹ï¼Œctx.method,å¹¶ç¼–å†™äº†ä¸€ä¸ªå°æ¡ˆä¾‹ã€‚ ç¬¬5èŠ‚ POSTè¯·æ±‚å¦‚ä½•æ¥æ”¶å‚æ•°(2)è¿™èŠ‚è¯¾å…·ä½“å­¦ä¹ æ€ä¹ˆè§£æPOSTå‚æ•°ã€‚ è§£æNodeåŸç”ŸPOSTå‚æ•°å…ˆå£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨Promiseå¯¹è±¡è§£æã€‚è¿™é‡Œä½¿ç”¨ctx.req.onæ¥æ”¶äº‹ä»¶ã€‚ 12345678910111213141516function parsePostData(ctx) { return new Promise((resolve, reject) =&gt; { try{ let postData = '' ctx.req.on('data', (data) =&gt; { postData += data }) ctx.req.addListener('end', function(){ resolve(postData) }) }catch(err){ reject(err) } })} ä¿®æ”¹ä¸ŠèŠ‚æ¥æ”¶POSTè¯·æ±‚çš„å¤„ç†æ–¹æ³•ï¼Œå¦‚ä¸‹ 123// ctx.body = 'æ¥æ”¶åˆ°çš„è¯·æ±‚'let postData = await parsePostData(ctx)ctx.body = postData ç°åœ¨ï¼Œç‚¹å‡»æäº¤å¯ä»¥çœ‹åˆ°è¿”å›å­—ç¬¦ä¸² POSTå­—ç¬¦ä¸²è§£ææˆJSONå¯¹è±¡ä¸Šé¢è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™é‡Œå†™ä¸€ä¸ªå°è£…JSONå¯¹è±¡çš„æ–¹æ³• 1234567891011function parseQueryStr(queryStr) { let queryData = {} let queryStrList = queryStr.split('&amp;') console.log(queryStrList) for(let [index, queryStr] of queryStrList.entries()) { let itemList = queryStr.split('=') console.log(itemList, 'item') queryData[itemList[0]] = decodeURIComponent(itemList[1]); } return queryData} ä¿®æ”¹parsePostDataä¸­resolveè¿”å›å‰çš„è°ƒç”¨ 12345678910111213141516171819// å¤„ç†postå‚æ•°ï¼Œåˆå¹¶ä¸ºå­—ç¬¦ä¸²function parsePostData(ctx) { return new Promise((resolve, reject) =&gt; { try{ let postData = '' ctx.req.on('data', (data) =&gt; { postData += data }) ctx.req.addListener('end', function(){ let parseData = parseQueryStr(postData) resolve(parseData) }) }catch(err){ reject(err) } })} ç°åœ¨è¿”å›çš„æ˜¯jsonå¯¹è±¡ã€‚ ç¬¬6èŠ‚ koa-bodyparserä¸­é—´ä»¶ä¸Šé¢å·²ç»å­¦ä¼šå¦‚ä½•è‡ªå·±ç¼–å†™ä»£ç æ¥æ”¶å¹¶è§£æPOSTè¯·æ±‚ã€‚æœ‰ç°æˆçš„å·¥å…·å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œkoa-bodyparser. è¿™ç§è½®å­å«åšä¸­é—´ä»¶ã€‚å¯¹äºPOSTè¯·æ±‚çš„å¤„ç†ï¼Œkoa-bodyparserä¸­é—´ä»¶å¯ä»¥æŠŠkoa2ä¸Šä¸‹æ–‡å‘¢çš„formDataæ•°æ®è§£æåˆ°ctx.request.bodyä¸­ å®‰è£…ä¸­é—´ä»¶ 1npm install --save koa-bodyparser å¼•ç”¨ 123const bodyParser = require('koa-bodyparser')app.use(bodyParser) ç›´æ¥ç”¨ctx.request.bodyè·å–POSTè¯·æ±‚å‚æ•°ï¼Œä¸­é—´ä»¶è‡ªåŠ¨åšäº†è§£æ 1234567891011121314151617181920212223242526272829303132333435363738const Koa = require('koa')const app = new Koa()const bodyParser = require('koa-bodyparser')// app.use(bodyParser) é”™è¯¯å†™æ³•ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼app.use(bodyParser())app.use( async (ctx) =&gt; { // å½“è¯·æ±‚æ˜¯getæ—¶ï¼Œæ˜¾ç¤ºè¡¨å•è®©ç”¨æˆ·å¡«å†™ if(ctx.url === '/' &amp;&amp; ctx.method === 'GET'){ let html = ` &lt;h1&gt;Koa2 request post demo&lt;/h1&gt; &lt;form method=&quot;POST&quot; action=&quot;/&quot;&gt; &lt;p&gt;userName&lt;/p&gt; &lt;input name=&quot;userName&quot; /&gt; &lt;br/&gt; &lt;p&gt;age&lt;/p&gt; &lt;input name=&quot;age&quot; /&gt; &lt;br/&gt; &lt;p&gt;webSite&lt;/p&gt; &lt;input name='webSite' /&gt;&lt;br/&gt; &lt;button type=&quot;submit&quot;&gt;submit&lt;/button&gt; &lt;/form&gt; ` ctx.body = html }else if(ctx.url === '/' &amp;&amp; ctx.method === 'POST'){ // ctx.body = 'æ¥æ”¶åˆ°çš„è¯·æ±‚' // è¿™é‡Œæ˜¯æ–°å¢çš„ let postData = ctx.request.body ctx.body = postData }else { ctx.body = ` &lt;h1&gt;404&lt;/h1&gt; ` }})app.listen(8040)console.log('[demo] start quick is starting at port 8040') ç»éªŒæ³¨æ„åœ¨å¼•ç”¨æ—¶ï¼Œåˆ‡è®° ==app.use(bodyParser())== ä¸­çš„æ‹¬å·ï¼Œä¸å†™æ‹¬å·ä¼šæŠ¥é”™ 1koa-bodyparser ctx.onerror is not a function ç¬¬7èŠ‚ Koa2åŸç”Ÿè·¯ç”±å®ç°è·¯ç”±ç”¨æ¥æ ¹æ®ä¸åŒçš„urlåˆ‡æ¢æ˜¾ç¤ºçš„é¡µé¢å†…å®¹ã€‚è¿™èŠ‚è¯¾ä¸å€ŸåŠ©ä¸­é—´ä»¶ï¼Œç”¨åŸç”Ÿæ–¹æ³•å®ç°ç®€å•è·¯ç”±ã€‚ ctx.request.urlè¦å®ç°è·¯ç”±ï¼Œéœ€è¦å¾—åˆ°åœ°å€æ çš„è¯·æ±‚è·¯å¾„ã€‚æ ¹æ®è·¯å¾„çš„ä¸åŒè¿›è¡Œè·³è½¬ã€‚ é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œäº†è§£å¦‚ä½•é€šè¿‡ctx.request.urlæ¥è·å–è®¿é—®è·¯å¾„ã€‚ 123456789101112const Koa = require('koa')const app = new Koa()app.use(bodyParser())app.use( async (ctx) =&gt; { let url = ctx.request.url ctx.body = url})app.listen(8040) è¿™æ—¶ï¼Œè®¿é—®http://localhost:8040/demo,é¡µé¢è¾“å‡º/demoã€‚ æ ¹æ®è¿™ä¸ªï¼Œå¯ä»¥è·å–åˆ°ä¸åŒçš„è¯·æ±‚é“¾æ¥ã€‚ åŸç”Ÿè·¯ç”±å®ç°å¤§ä½“æ€è·¯ï¼š æ ¹æ®ä¼ å…¥çš„urlï¼Œé€‰æ‹©å¯¹åº”çš„é¡µé¢åç§° è°ƒç”¨fsè¯»å–æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å†…å®¹ä¼ ç»™ctx.bodyã€‚ é¡µé¢æ˜¾ç¤º æ³¨æ„caseä¸­å†™é€‰é¡¹æ—¶ï¼Œè¦æ³¨æ„urlçš„å…¨è·¯å¾„ï¼Œåˆšå¼€å§‹å†™çš„â€™todoâ€™, â€˜404â€™ è¿™æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œè¦å†™æˆâ€™/todoâ€™, â€˜/404â€™ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051const fs = require('fs')const Koa = require('koa')const app = new Koa()app.use( async (ctx) =&gt; { let url = ctx.request.url ctx.body = await router(url)})async function router(url) { let page = '404.html' switch(url) { case '/': page = 'index.html' break case '/index': page = 'index.html' break case '/todo': page = 'todo.html' break case '/404': page = '404.html' break default: break } // ç”¨å¼‚æ­¥æ¥æ¥æ”¶htmlï¼Œé˜²æ­¢é¡µé¢å¡æ­» let html = await render(page) return html}function render(page){ return new Promise((resolve, reject)=&gt;{ let pageUrl = `./page/${page}` fs.readFile(pageUrl, 'UTF-8', (err, data)=&gt;{ if(err){ reject(err) }else{ resolve(data) } }) })}app.listen(8040)console.log('[demo] start quick is starting at port 8040') æ€»ç»“-7è¿™èŠ‚è¯¾äº†è§£äº†å¦‚ä½•åŸç”Ÿå®ç°è·¯ç”±ã€‚ ç¬¬8èŠ‚ Koa-routerä¸­é—´ä»¶å…¥é—¨(1)ä¸ŠèŠ‚å†™çš„è·¯ç”±åªæ˜¯å¾ˆç®€å•çš„ä¾‹å­ï¼Œå®é™…é¡¹ç›®ä¸­éƒ½ä¼šç”¨å¼€æºçš„ä¸­é—´ä»¶æ¥å®Œæˆè·¯ç”±é…ç½®ã€‚ è¿™èŠ‚è¯¾ç”¨koa-routeræ¥å®ç°ã€‚ 1. å®‰è£…koa-router1npm install --save koa-router 2. koa-routeråŸºç¡€æ¡ˆä¾‹å…ˆå†™ä¸€ä¸ªæœ€ç®€å•çš„koa-routerä¾‹å­ã€‚ å¼•å…¥ æ–°å»ºä¸€ä¸ªå®ä¾‹ ä¸åŒè·¯ç”±é…ç½® use 12345678910111213141516const Koa = require('koa')const Router = require('koa-router')const app = new Koa()const router = new Router()router.get('/', function(ctx, next){ ctx.body = 'Hello Koa2'})app.use(router.routes()) .use(router.allowedMethods())app.listen(8040, ()=&gt;{ console.log('[demo] start quick is starting at port 8040')}) å¤šé¡µé¢é…ç½®å¤šé¡µé¢é…ç½®ï¼Œåªéœ€è¦åŠ get,postå³å¯ã€‚ç°åœ¨å¢åŠ ä¸€ä¸ªtodoé¡µé¢ã€‚ 123456789101112131415161718192021const Koa = require('koa')const Router = require('koa-router')const app = new Koa()const router = new Router()router.get('/', function(ctx, next){ ctx.body = 'Hello Koa2'}).get('/todo', function(ctx, next){ ctx.body = 'Todo Page'})app.use(router.routes()) .use(router.allowedMethods())app.listen(8040, ()=&gt;{ console.log('[demo] start quick is starting at port 8040')}) åˆ†åˆ«è®¿é—®http://localhost:8040 å’Œhttp://localhost:8040/todoï¼Œå¯ä»¥çœ‹åˆ°ä¸åŒçš„ç»“æœã€‚ ç¬¬9èŠ‚ Koa-routerä¸­é—´ä»¶ å±‚çº§(2)è®¾ç½®å‰ç¼€æœ‰æ—¶éœ€è¦æŠŠæ‰€æœ‰è·¯å¾„å‰åŠ ä¸€ä¸ªå±‚çº§ï¼Œä¾‹å¦‚ï¼Œ http://localhost:8040/todo åŠ ä¸€ä¸ªdemoå±‚çº§ï¼Œå˜æˆhttp://localhost:8040/demo/todo. è·¯ç”±åœ¨åˆ›å»ºæ—¶å¯ä»¥æŒ‡å®šä¸€ä¸ªå‰ç¼€ã€‚è¿™ä¸ªå‰ç¼€ä¼šè¢«æ·»åŠ åˆ°è·¯ç”±æœ€é¡¶å±‚ã€‚ 1234const router = new Router({ prefix: '/demo'}) è®¿é—®ï¼š http://localhost:8040/demo/todo http://localhost:8040/demo å¯ä»¥çœ‹åˆ°é¡µé¢ï¼Œè®¿é—®åŸæ¥çš„è·¯å¾„ï¼Œä¼šæç¤ºNot Found è·¯ç”±å±‚çº§ä¸Šé¢æ˜¯ä¸ºå…¨å±€è®¾ç½®å±‚çº§ï¼Œè¿™é‡Œä¸ºå•ä¸ªé¡µé¢è®¾ç½®å±‚çº§ï¼Œåªè¦åœ¨useæ—¶ï¼Œä½¿ç”¨è·¯å¾„å°±å¯ä»¥äº†ã€‚ è¿™é‡Œæ¼”ç¤ºä¸¤ä¸ªä¸åŒå±‚çº§çš„è·¯ç”±è®¾ç½®ã€‚ä¸€ä¸ªæ˜¯home,ä¸€ä¸ªæ˜¯page,é€šè¿‡useèµ‹äºˆä¸åŒçš„å‰å±‚çº§ã€‚ 123456789101112131415161718192021222324252627282930313233343536// ä½¿ç”¨koa-routerconst Koa = require('koa')const Router = require('koa-router')const app = new Koa()// ä¸¤ä¸ªå•ç‹¬çš„è·¯ç”±let home = new Router()home.get('/koa', async(ctx) =&gt;{ ctx.body = 'Hello Koa'}).get('/todo', async(ctx) =&gt; { ctx.body = 'learning Koa'})let page = new Router()page.get('/koa', async(ctx) =&gt;{ ctx.body = 'Hello Koa Page'}).get('/todo', async(ctx) =&gt; { ctx.body = 'learning Koa Page'})// è£…è½½æ‰€æœ‰å­è·¯ç”±let router = new Router()router.use('/home', home.routes(), home.allowedMethods())router.use('/page', page.routes(), page.allowedMethods())// åŠ è½½è·¯ç”±ä¸­é—´ä»¶app.use(router.routes()).use(router.allowedMethods())app.listen(8040, ()=&gt;{ console.log('[demo] start quick is starting at port 8040')}) åˆ†åˆ«è®¿é—®/home/todo,/home/koa,/page/todo, /page/koaå¯ä»¥çœ‹åˆ°ç»“æœã€‚ ç¬¬10èŠ‚ Koa-router ä¸­é—´ä»¶å‚æ•° (3)è¿™èŠ‚å­¦ä¹ å¦‚ä½•ä¼ å‚ ç”¨ctx.queryæ¥æ”¶å‚æ•° ç¬¬11èŠ‚ Koaä¸­ä½¿ç”¨Cookieè¿™èŠ‚å­¦ä¹ æ“ä½œcookieã€‚ Koaçš„ä¸Šä¸‹æ–‡(ctx)ç›´æ¥æä¾›äº†è¯»å–å’Œå†™å…¥çš„æ–¹æ³•ã€‚ ctx.cookies.get(name, [options]): è¯»å–cookie ctx.cookies.set(name, value, [options]): å†™å…¥cookie è¿™é‡Œçš„cookieæ˜¯å†™å…¥æµè§ˆå™¨ä¸­äº† ä»£ç  12345678910111213141516171819// æ“ä½œcookieconst Koa = require('koa')const app = new Koa()app.use(async(ctx) =&gt; { if(ctx.url === '/index'){ ctx.cookies.set('name', 'Hello Koa') ctx.body = 'cookie is set.' }else{ ctx.body = 'Hello Koa' }})app.listen(8040, ()=&gt;{ console.log('[demo] start quick is starting at port 8040')}) è®¿é—®localhost:8040/index ï¼ŒæŒ‰F12å¯ä»¥çœ‹åˆ°cookies Cookieé€‰é¡¹ä¸€äº›é…ç½®é¡¹ domain: cookieæ‰€åœ¨åŸŸå path: æ‰€åœ¨è·¯å¾„ maxAge: æœ€å¤§æœ‰æ•ˆæ—¶é•¿ expires: cookieå¤±æ•ˆæ—¶é—´ httpOnly: æ˜¯å¦åªä»httpè¯·æ±‚ä¸­è·å– overwrite: æ˜¯å¦å…è®¸é‡å†™ 12345678ctx.cookies.set('name', 'Hello Koa',{ domain:'localhost', // å†™cookieæ‰€åœ¨çš„åŸŸå path:'/index', // å†™cookieæ‰€åœ¨çš„è·¯å¾„ maxAge:1000*60*60*24, // cookieæœ‰æ•ˆæ—¶é•¿ expires:new Date('2018-12-31'), // cookieå¤±æ•ˆæ—¶é—´ httpOnly:false, // æ˜¯å¦åªç”¨äºhttpè¯·æ±‚ä¸­è·å– overwrite:false // æ˜¯å¦å…è®¸é‡å†™}) è¯»å–cookieç”¨ctx.cookies.get()æ¥è¯»å– 12345if(ctx.cookies.get('name')){ ctx.body = ctx.cookies.get('name')}else{ ctx.body = 'No cookie is set~~'} æ³¨æ„ï¼Œå¦‚æœä¸Šé¢çš„pathè®¾ç½®çš„æ˜¯indexçš„è¯ï¼Œè®¿é—®localhost:8040æ˜¯è·å–ä¸åˆ°nameè¿™ä¸ªcookieçš„,éœ€è¦å°†pathè®¾ä¸ºâ€™â€™ ç¬¬12èŠ‚ Koa2 çš„æ¨¡æ¿åˆè¯† (ejs)å¼€å‘ä¸å¯èƒ½æŠŠæ‰€æœ‰çš„htmlä»£ç å…¨åŠ è½½åˆ°JSé‡Œï¼Œä¹Ÿæ²¡åŠæ³•å®Œæˆå¤§å‹webå¼€å‘ã€‚å¿…é¡»å€Ÿç”¨æ¨¡æ¿æ¥å¸®åŠ©æˆ‘ä»¬å¼€å‘ã€‚ è¿™èŠ‚ç®€å•äº†è§£ä¸€ä¸‹Koa2çš„æ¨¡æ¿æœºåˆ¶ã€‚éœ€è¦é ä¸­é—´ä»¶æ¥å®Œæˆå¼€å‘ã€‚ å®‰è£…ä¸­é—´ä»¶1npm install --save koa-views å®‰è£… ejs æ¨¡æ¿å¼•æ“ejsæ˜¯è‘—åå¹¶ä¸”å¼ºå¤§çš„æ¨¡æ¿å¼•æ“ï¼Œå¯ä»¥å•ç‹¬å®‰è£…ã€‚ 1npm install --save ejs ç¼–å†™æ¨¡æ¿ä¸ºäº†æ¨¡æ¿ç»Ÿä¸€ç®¡ç†ï¼Œæ–°å»ºä¸€ä¸ªviewæ–‡ä»¶å¤¹ï¼Œå¹¶æ–°å»ºindex.ejsæ–‡ä»¶ views/index.ejs 1234567891011121314151617181920212223// å¼•ç”¨ejsæ¨¡æ¿const Koa = require('koa')const views = require('koa-views')const path = require('path')const app = new Koa()app.use(views(path.join(__dirname, './views'), { extension: 'ejs'}))app.use(async(ctx)=&gt; { let title = 'Hello Koa2' await ctx.render('index', { title })})app.listen(8040, ()=&gt;{ console.log('[demo] start quick is starting at port 8040')}) æ€»ç»“-12è¿™é‡Œåªæ˜¯ç®€å•çš„è®²è§£äº†koa2çš„æ¨¡æ¿æœºåˆ¶ã€‚ ç¬¬13èŠ‚ï¼š koa-staticé™æ€èµ„æºä¸­é—´ä»¶å¼€å‘ä¸­ä¸åªè¦å¤„ç†ä¸šåŠ¡é€»è¾‘è¯·æ±‚ï¼Œä¹Ÿä¼šæœ‰å¾ˆå¤šé™æ€èµ„æºè¯·æ±‚ï¼Œå¦‚js, css, jpg, png è¿™äº›é™æ€è¯·æ±‚ã€‚æœ‰æ—¶å€™ä¹Ÿä¼šè®¿é—®é™æ€èµ„æºè·¯å¾„ ç”¨koaå¯ä»¥ç›´æ¥è®¿é—®è¿™äº›é™æ€æ–‡ä»¶ï¼Œä½†ä»£ç ä¼šå†—é•¿ï¼Œè¿™èŠ‚è¯¾åˆ©ç”¨ koa-static æ¥å®ç°é™æ€èµ„æºè®¿é—®ã€‚ å®‰è£…koa-static1npm install --save koa-static æ–°å»º static æ–‡ä»¶å¤¹åœ¨staticæ–‡ä»¶å¤¹ä¸­æ”¾js, css, imgkoa.png, test.js, style.css ä½¿ç”¨koa-static12345678910111213141516171819// å¼•ç”¨é™æ€èµ„æºconst Koa = require('koa')const path = require('path')const static = require('koa-static')const app = new Koa()const staticPath = './static'app.use(static(path.join(__dirname, staticPath)))app.use( async ( ctx ) =&gt; { ctx.body = 'è®¿é—®é™æ€èµ„æºè¯•è¯• koa.png, test.js, style.css' }) app.listen(8040, ()=&gt;{ console.log('[demo] start quick is starting at port 8040')}) åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š &lt;http://localhost:8040/style.css&gt; &lt;http://localhost:8040/test.js&gt; &lt;http://localhost:8040/koa.png&gt;","link":"/posts/Koa2-%E8%BF%9B%E9%98%B6/"},{"title":"React Nativeå…¥é—¨","text":"å¼€å‘ç¯å¢ƒæ­å»º Android studio python2 java sdk å¹¶é…ç½®javaç¯å¢ƒå˜é‡ 12npm install -g react-nativenpm install -g react-native-cli å¯åŠ¨è™šæ‹Ÿå™¨avd æ˜¯ç°è‰² æ— æ³•ç‚¹å‡»é…ç½®AndroidSDK toolsåˆ°pathå˜é‡åˆ é™¤.androidæ–‡ä»¶ï¼Œé‡æ–°å¯¼å…¥ï¼Œå³å¯ å¦‚æœæ‰“åŒ…å¤±è´¥æŠ¥é”™12Error:Execution failed for task ':app:transformClassesWithInstantRunForAcproductionDebug'.&gt; Invalid signature file digest for Manifest main attributes åœ¨android studioä¸­çš„settingsæœinstant runï¼Œå°†enable instant run to hot swapå…³é—­ï¼Œå–æ¶ˆé€‰ä¸­ã€‚ è°ƒè¯•jsæ‰“å¼€æ¨¡æ‹Ÿå™¨åï¼ŒæŒ‰Ctrl+M,ï¼ˆiosæŒ‰ctrl+Dï¼‰ é€‰æ‹©debug remote js. æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªçª—å£ï¼Œåœ¨é‚£ä¸ªçª—å£ä¸­æŒ‰ctrl+shift+J ï¼Œåœ¨consoleçª—å£ä¼šçœ‹åˆ°æ‰“å°å‡ºæ¥çš„ä¿¡æ¯ã€‚ é€‰æ‹© Enable Hot Reloading,å¯ä»¥å¼€å¯çƒ­åŠ è½½ æŒ‰(r,r) åˆ·æ–°ï¼Œï¼ˆiosæŒ‰command+rï¼‰ å¦‚æœandroidæ¨¡æ‹Ÿå™¨æ— æ³•è¿æ¥æœ¬åœ°æœåŠ¡æŒ‰ctrl+ M dev Setting Debug server host &amp; port for device è®¾ç½®IP:8081 è”è°ƒç¡¬ä»¶ å…ˆè¦ç»™è®¾å¤‡é…ç½‘(æŒ‰ä¸­é—´çš„æŒ‰é’® 5s) ç„¶åç»‘å®šè®¾å¤‡ react native ç»‘å®šäº‹ä»¶12345678910111213onPressSwitch() { console.log('changed') let status = this.props.powerStatus status == 'off' ? status = 'on' : status = 'off' this.props.callbackPowerChanged(status)}&lt;!--ä¹‹å‰çš„ç»‘å®šäº‹ä»¶æ˜¯è¦ç”¨bindçš„ --&gt; &lt;TouchableOpacity onPress={this.onPressSwitch.bind(this)}&gt; &lt;Image source={require('../../assets/light-close.png')}/&gt; &lt;Text style={styles.switchInfo}&gt;è½»è§¦å¼€å¯&lt;/Text&gt;&lt;/TouchableOpacity&gt; ç”¨es6çš„ç®­å¤´å‡½æ•°ä¹‹åï¼Œ 1234567&lt;!--è¿™é‡Œæ˜¯ç®­å¤´å‡½æ•°--&gt;onPressSwitch = () =&gt; { console.log('changed') let status = this.props.powerStatus status == 'off' ? status = 'on' : status = 'off' this.props.callbackPowerChanged(status)} è¿™æ˜¯ç”¨æ–°çš„ç»‘å®š ï¼Œä¸è¦bind ï¼Œ==[æ­£ç¡®çš„å†™æ³•]== 12345 &lt;TouchableOpacity onPress={this.onPressSwitch}&gt; &lt;Image source={require('../../assets/light-close.png')}/&gt; &lt;Text style={styles.switchInfo}&gt;è½»è§¦å¼€å¯&lt;/Text&gt;&lt;/TouchableOpacity&gt; éœ€è¦ä¼ å‚çš„å†™æ³• ==[ä¼ å‚çš„å†™æ³•]== 123&lt;TouchableOpacity onPress={() =&gt; this.onPressSwitch(item)}&gt; &lt;Image source={getPicture('switch-'+item.status)}/&gt;&lt;/TouchableOpacity&gt; å¦‚æœä¸ä¼ å‚çš„è¯ï¼Œä¸èƒ½å†™ä¸ºç©ºå¦‚ä¸‹ï¼š ==[é”™è¯¯çš„å†™æ³•]== 123&lt;TouchableOpacity onPress={() =&gt; this.onPressSwitch}&gt; &lt;Image source={getPicture('switch-'+item.status)}/&gt;&lt;/TouchableOpacity&gt; è¿™æ ·ä¼šæ— æ³•è¿›å…¥ç‚¹å‡»äº‹ä»¶ï¼ï¼ï¼ï¼ï¼ è§£å†³åŠæ³•å°±æ˜¯ä¸ç”¨() =&gt; {} æ”¹ç”¨[æ­£ç¡®çš„å†™æ³•] setState è¯­æ³•setStateæ‹¬å·é‡Œå¿…é¡»æ˜¯ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯ä¼šæŠ¥é”™ã€‚ 1this.setState({'item': newItem}) æŠ¥é”™ä¿¡æ¯ï¼š 1setState(...): takes an object of state variables to update or a function which returns an object of state variables. çˆ¶ä¸å­ç»„ä»¶ä¼ å€¼åœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰propsã€‚é€šè¿‡propsä¼ å…¥å­ç»„ä»¶ä¸­ã€‚ çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶ 12&lt;ControlArea powerStatus={this.state.powerStatus} callbackPowerChanged={this.changePowerStatus.bind(this)}&gt;&lt;/ControlArea&gt; å…¶ä¸­powerSatatusæ˜¯propsï¼ŒcallbackPowerChangedæ˜¯ä¾›å­ç»„ä»¶è°ƒç”¨çš„æ–¹æ³•ã€‚changePowerStatusæ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­ä¾›å­ç»„ä»¶è°ƒç”¨æ—¶æ‰§è¡Œçš„æ–¹æ³•ã€‚ å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶å­ç»„ä»¶ï¼š 12345678onPressSwitch = () =&gt; { console.log('changed') let status = this.props.powerStatus status == 'off' ? status = 'on' : status = 'off'&lt;!--è¿™ä¸ªæ˜¯è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ã€‚æŠŠä¿®æ”¹åçš„çŠ¶æ€å€¼ä¼ ç»™çˆ¶ç»„ä»¶ï¼Œä¾›çˆ¶ç»„ä»¶ä¿®æ”¹çŠ¶æ€ï¼Œçˆ¶ç»„ä»¶ä¿®æ”¹çŠ¶æ€åï¼Œå­ç»„ä»¶ä¼šè‡ªåŠ¨æ ¹æ®çŠ¶æ€å€¼æ›´æ–°é¡µé¢ã€‚--&gt; this.props.callbackPowerChanged(status)} æ³¨æ„æœ‰äº›æ•°æ®æ—¢å¯ä»¥æ”¾åœ¨prosï¼Œåˆå¯ä»¥æ”¾åœ¨stateä¸­ï¼Œé‚£ä¹ˆå»ºè®®ä¸è¦æ”¾åœ¨stateä¸­ï¼Œ å­ç»„ä»¶ä¿®æ”¹propséœ€è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œä½“ç°äº†ä»ä¸Šè‡³ä¸‹çš„æ•°æ®æµ æ ¹æ®æ•°ç»„ï¼Œå¾ªç¯ç”Ÿæˆdom12345678&lt;View style={[styles.topCon]}&gt; {this.props.dataList.map((item, index) =&gt; ( &lt;TouchableOpacity key={index} onPress={() =&gt; this.onPressSwitch(item)}&gt; &lt;Image source={getPicture('switch-'+item.status)}/&gt; &lt;Text style={styles.itemText}&gt;{item.name}&gt;&lt;/Text&gt; &lt;/TouchableOpacity&gt; ))}&lt;/View&gt; æ³¨æ„ï¼š this.props.dataListæ˜¯çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çš„æ•°æ®ã€‚ å¾ªç¯æ•°æ®ç”¨çš„map ä¸€å®šè¦æœ‰keyé”®å€¼ï¼Œå¦åˆ™æŠ¥é”™ æ³¨æ„ç»‘å®šäº‹ä»¶çš„å†™æ³•ï¼Œä¼šå°†å½“å‰å¾ªç¯çš„å…ƒç´ ä¼ ç»™äº‹ä»¶ã€‚æ³¨æ„ç®­å¤´å‡½æ•°å†™æ³•ã€‚ è·¯ç”±è·³è½¬ä½¿ç”¨çš„æ˜¯v0.50,å®˜æ–¹æ¨èä½¿ç”¨React Navigation å¦‚æœä¹‹å‰ç”¨çš„æ˜¯å…¶ä»–è·¯ç”±ï¼Œæ²¡æœ‰åŠæ³•ï¼Œåªèƒ½å…¨éƒ¨æ¢æˆè¿™ä¸ªäº†ã€‚ ç»éªŒå¦‚æœä¸€æ—¶åŠä¼šçœ‹ä¸æ˜ç™½çš„è¯ï¼Œå¯ä»¥å…ˆç…§ç€å®˜ç½‘å’Œå…¶ä»–äººçš„ç¤ºä¾‹å…ˆåšä¸€ä¸ªç®€å•çš„å‡ºæ¥ï¼Œç„¶åç…§ç€æ”¹é¡¹ç›®é‡Œçš„ä»£ç ã€‚ é‡åˆ°çš„é—®é¢˜1. åˆå§‹åŒ–å¯¼èˆªåï¼Œéœ€è¦ç»™åˆå§‹çš„ç»„ä»¶ä¼ å€¼çœ‹æ–‡æ¡£å¥½ä¸å®¹æ˜“æ‰¾åˆ°äº†screenProps. 123&lt;SimpleApp screenProps={{tintColor: 'blue'}}/&gt; åœ¨ç»„ä»¶å†…å–å€¼ 12345this.state = { // deviceInfo: JSON.parse(this.props.deviceInfoStr), å…¶ä»–è·¯ç”±çš„å–å€¼ pageConfig: JSON.parse(this.props.screenProps.pageConfigStr), deviceInfo: JSON.parse(this.props.screenProps.deviceInfoStr),} 2. è·¯ç”±è·³è½¬ç›®å‰æµ‹è¯•åªèƒ½è¿™æ ·å†™ï¼Œå°†navigateæå–å‡ºæ¥å¥½åƒä¸å¯ä»¥ã€‚ä»¥åéœ€åšæµ‹è¯• 123456789101112render() { const { navigate } = this.props.navigation; return ( &lt;View&gt; &lt;Text&gt;Hello, Chat App!&lt;/Text&gt; &lt;Button onPress={() =&gt; navigate('Chat')} title=&quot;Chat with Lucy&quot; /&gt; &lt;/View&gt; )} 3. å¯¼èˆªè·³è½¬åˆ°çš„ç»„ä»¶æ˜¯çˆ¶é¡µé¢ï¼Œ è€Œå­é¡µé¢ä¸­æƒ³ç”¨å¯¼èˆªçš„navigationï¼Œæ­¤æ—¶æ˜¯æ— æ³•ç”¨çš„ï¼Œ éœ€è¦åœ¨çˆ¶ç»„ä»¶ä¸­å°†navigationä¼ ç»™å­ç»„ä»¶ï¼Œè¿™æ ·ï¼Œå­ç»„ä»¶å°±å¯ä»¥ç”¨çˆ¶ç»„ä»¶çš„navigationçˆ¶ç»„ä»¶ä¸­è°ƒç”¨å­ç»„ä»¶ï¼Œå¹¶æŠŠnavigationä¼ ç»™å­ç»„ä»¶ 1234&lt;Content pageConfig={this.state.pageConfig} navigation = {this.state.navigation} callbackPowerChanged={this.changePowerStatus.bind(this)}/&gt; åœ¨å­ç»„ä»¶ä¸­ 1234567891011 render() { const { navigate } = this.props.navigation return ( &lt;View style={[styles.container]}&gt; &lt;TouchableOpacity onPress={() =&gt;{ console.log(this.props, 'click'); navigate('Detail', {info: 'è¿™æ˜¯ä¼ å…¥çš„å‚æ•°'})}}&gt; &lt;Text style={styles.itemText}&gt;å•Šå•Š&lt;/Text&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; )} 4. è¿”å›ä¸Šä¸€çº§æ³¨æ„ï¼Œç”¨ä¹‹å‰ç¡®ä¿æœ‰navigationè¿™ä¸ªå±æ€§ï¼Œæ²¡æœ‰çš„è¯çœ‹ä¸Šé¢çš„ä¾‹å­ã€‚ 123456goBack = () =&gt; { this.props.navigation.goBack()}// åœ¨æŒ‰é’®ä¸ŠåŠ äº‹ä»¶onPress={this.goBack} 3.æ— å…³ç»„ä»¶é—´ä¼ å€¼å®˜æ–¹æ–‡æ¡£åªæ‰¾åˆ°è¿™å¥è¯ï¼š JavaScriptæ¨¡å—å¯ä»¥é€šè¿‡ä½¿ç”¨DeviceEventEmitteræ¨¡å—æ¥ç›‘å¬äº‹ä»¶ï¼š å¼•ç”¨ 1import { View, DeviceEventEmitter } from 'react-native' ç›‘å¬äº‹ä»¶ 123456789componentDidMount() { this.subSwitchEmitter = DeviceEventEmitter.addListener('subSwitch', (e) =&gt; { this.changePowerStatus(e.item) }); // ä¿®æ”¹å­é¡µé¢åç§°ç”¨ this.modifyItemEmitter = DeviceEventEmitter.addListener('modifyItemProp', (e) =&gt; { this.modifyItemProp(e.item) });} è§¦å‘ç›‘å¬äº‹ä»¶ï¼Œå‘å‡ºé€šçŸ¥ 1DeviceEventEmitter.emit('subSwitch', {item: this.state.item}); ç§»é™¤ç›‘å¬ 1234567 componentWillUnmount() { // ç§»é™¤æ‰€æœ‰çš„äº‹ä»¶ DeviceEventEmitter.remove(); // å•ä¸ªç§»é™¤ this.subSwitchEmitter.remove(); this.modifyItemEmitter.remove();} refçš„ä½¿ç”¨ çˆ¶ä¼ å­ï¼Œé€šè¿‡ref 1234// å®šä¹‰ref&lt;SonCompoent ref=&quot;son&quot; /&gt;// è·å–å­ç»„ä»¶ï¼Œæ‰§è¡ŒæŒ‡å®šæ–¹æ³•ï¼Œæ–¹æ³•å‚æ•°ä¸­ä¼ å€¼this.refs.son.receiveMoney(1000); Ref ä½¿ç”¨åœºæ™¯ è§¦å‘ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©ï¼Œåª’ä½“æ’­æ”¾ è§¦å‘å¼ºåˆ¶æ€§åŠ¨ç”» é›†æˆç¬¬ä¸‰æ–¹DOMåº“ ç»™DOM æ·»åŠ Refs, å‚è€ƒ å¼¹æ¡†ç”¨Modalç»„ä»¶ macé…ç½®è¿æ¥windowsçš„æœåŠ¡1234567NSURL *jsCodeLocation;[[RCTBundleURLProvider sharedSettings] setDefaults];#if DEBUG[[RCTBundleURLProvider sharedSettings] setJsLocation:@&quot;192.168.1.101&quot;];#endifjsCodeLocation = [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@&quot;index.ios&quot; fallbackResource:nil]; reactnative æœ‰çš„æŒ‰é’®ç‚¹å‡»äº‹ä»¶æ— æ³•è§¦å‘å¯èƒ½åŸå› æ˜¯å¸ƒå±€é—®é¢˜ï¼Œå…ˆç»™è¦ç‚¹å‡»çš„å…ƒç´ åŠ è¾¹æ¡†ï¼Œçœ‹æ‰€åœ¨ä½ç½®ï¼Œ å†ç¡®è®¤æœ‰æ²¡æœ‰å…¶ä»–å…ƒç´ å ç”¨äº†ä»–çš„ä½ç½®ï¼Œé®æŒ¡åœ¨ä»–ä¸Šé¢äº†ï¼Œå¯¼è‡´æ— æ³•ç‚¹å‡»ã€‚ iosè°ƒè¯•ä¸€ç›´æŠ¥æ— æ³•è¿æ¥package serverï¼Œå…¶å®packageserverå·²ç»å¯åŠ¨è§£å†³åŠæ³•ï¼š é‡æ–°å®‰è£…APP. setStateè®¾ç½®çŠ¶æ€åï¼Œç›´æ¥console.logè·å–åˆ°çš„è¿˜æ˜¯æ—§æ•°æ®12this.setState({data:data});console.log(this.state.data); è§£å†³åŠæ³•ï¼š setstateåï¼Œè·å–çš„æ•°æ®è¿˜æ˜¯æ—§çš„åŸå› ï¼š 1.setStateå¼‚æ­¥è°ƒç”¨2. æ‰¹é‡å¤„ç† å¹¶ä¸æ˜¯è°ƒç”¨ä¸€æ¬¡å°±ä¼šæ›´æ–°ä¸€æ¬¡render setStateä¹‹åï¼Œéœ€è¦èµ°å®ŒRNç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯èµ°åˆ°renderæ—¶ï¼Œstateçš„å€¼æ‰ä¼šå˜æˆsetStateçš„å€¼ï¼Œè¦ç«‹å³ä½¿ç”¨stateçš„å€¼ï¼Œéœ€è¦åœ¨å›è°ƒä¸­ä½¿ç”¨ æ­£ç¡®å†™æ³• 12345678this.setState(state,()=&gt;{ console.log(this.state);});this.setState({'dataList': this.state.lastStatus}, ()=&gt;{ console.log(this.state.dataList, 'å›è°ƒ') this.changeBgColor();}) ç¬¬äºŒç§åŠæ³•åœ¨storeä¸­å®šä¹‰ï¼Œæ ¹æ®actionè¯·æ±‚è¿”å›çš„å€¼ ï¼Œæ ¹æ®é€»è¾‘å¤„ç†éœ€è¦æ˜¾ç¤ºçš„å€¼ macè°ƒè¯•æ€»æ˜¯æç¤ºï¼šXcode Errorè¾“å‡º1Runtime is not ready for debugging. Make sure Packager server is running. è§£å†³åŠæ³• åœ¨RCTWebSocketExecutor.mæ–‡ä»¶ä¸­ï¼ŒæŠŠlocalhostä¿®æ”¹ä¸ºä¸AppDelegate.mä¸­ç›¸åŒçš„IPåœ°å€(ä¸€èˆ¬ä¸ºç”µè„‘IP). 12NSString *host = [[_bridge bundleURL] host] ?: @&quot;localhost; 12NSString *host = [[_bridge bundleURL] host] ?: @&quot;172.16.126.97&quot;; http://www.jianshu.com/p/90ceb04da552 ä¸Šè¡Œ ä¸‹è¡Œè®¾å¤‡å‘ç»™äº‘ç«¯ è®¾å¤‡ä¸ŠæŠ¥ ä¸Šè¡Œ appæˆ–è€…äº‘ç«¯ç»™è®¾å¤‡å‘æ¶ˆæ¯å±äºä¸‹è¡Œ ä¿®æ”¹ä¸ºreduxåï¼Œæ€è·¯æ•´ç†æˆ‘æœ‰ä¸€ä¸ªstate(deviceData),è®¾å¤‡ç«¯æœ‰ä¸ªå¯¹åº”çš„state,deviceProperty ä¹Ÿæœ‰ä¸ªå¯¹åº”çš„state, ç„¶åä¸‰è€…è¦ç»Ÿä¸€ã€‚ å…ˆåœ¨devicePropertyä¸­æ ¹æ®è®¾å¤‡è¿”å›çš„è®¾ç½®ä¸€æ¨¡ä¸€æ ·çš„å‚æ•°ï¼Œï¼Œç„¶åç­‰ä¸ŠæŠ¥ä»¥åæ ¹æ®ä¸åŒçš„å€¼ï¼Œå†æ•´ç†å€¼æ”¾åˆ°stateä¸­ã€‚ é¡µé¢æ¸²æŸ“ï¼Œæ ¹æ®devicePropertyè¿›è¡Œæ¸²æŸ“ã€‚ æœ€ç»ˆç»“æœï¼Œéƒ½æ”¾åˆ°äº†devicePropertyä¸­äº†ã€‚ å¼•å…¥Reduxåæ•°æ®å¤„ç†é€»è¾‘åŸæ¥ç”¨çˆ¶å­ç»„ä»¶å¤„ç†state çˆ¶ç»„ä»¶ä¸­å­˜æœ‰çˆ¶ç»„ä»¶ç›¸å…³çš„state, å­ç»„ä»¶ç›¸å…³çš„state, å­ç»„ä»¶ç”¨çˆ¶ç»„ä»¶ä¸­çš„stateæ—¶ï¼Œçˆ¶ç»„ä»¶é€šè¿‡propä¼ ç»™å­ç»„ä»¶ å­ç»„ä»¶è¦ä¿®æ”¹çˆ¶ç»„ä»¶æ—¶ï¼Œé€šè¿‡çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„äº‹ä»¶ï¼Œè°ƒç”¨çˆ¶ç»„ä»¶å®šä¹‰å¥½çš„äº‹ä»¶ï¼Œç”±çˆ¶ç»„ä»¶æ›´æ”¹çŠ¶æ€ï¼Œ å­ç»„ä»¶è‡ªåŠ¨æ›´æ–° å­ç»„ä»¶ä¸­å¯ä»¥æœ‰ä¸€å¥—è‡ªå·±çš„state reduxçš„æ•°æ®å¤„ç†é€»è¾‘ æ‰€æœ‰çš„æ•°æ®éƒ½åœ¨storeä¸­å®šä¹‰å¥½,å¯ä»¥æœ‰ä¸åŒçš„å¯¹è±¡ 123456789101112const initState = { deviceInfo: { deviceId: 0, }, deviceProperty: { id: 0, timestamp: 0, finalColor: 'rgba(56,171,193,0.90)', },}export default initState åœ¨storeä¸­å¼•ç”¨ 1234567891011const store = createStore( reducers, initState, applyMiddleware( thunk, createPromise(), createLogger() ))export default store è¦æ›´æ”¹storeä¸­çš„æ•°æ®ï¼Œéƒ½é€šè¿‡actionå»è°ƒç”¨äº‹ä»¶è§¦å‘ 12345678910111213141516const powerOn = (subDomainName, physicalDeviceId, command) =&gt; ({ type: types.powerOn, payload: { promise: BindManager.sendDevice( subDomainName, physicalDeviceId, { code: command.code, content: new Uint8Array(command.content) } ), data: { } }}) actionè¯·æ±‚å›è°ƒè¿”å›ç»“æœï¼Œæ ¹æ®è¿”å›æˆåŠŸå¤±è´¥ï¼Œåœ¨reducerä¸­åˆ†åˆ«å¤„ç†storeä¸­çš„æ•°æ®ã€‚ 123456789101112131415161718192021222324case `${types.powerOn}_PENDING`: return Object.assign({}, state, { isFetching: true, })case `${types.powerOn}_FULFILLED`: return Object.assign({}, state, { powerStatus: 'on', lineStart: state.finalColor, lineEnd: state.finalColor, isFetching: false })case `${types.powerOn}_REJECTED`: if(action.payload.errorCode){ console.log(getInfoByCode(action.payload.errorCode), 'ä¿¡æ¯') } return Object.assign({}, state, { isFetching: false, toastTip: { showNum: state.toastTip.showNum + 1, text: 'å¼€å¯å¤±è´¥.'+action.payload } }) å¼€å…³é€»è¾‘ä¿®æ”¹è®¾å¤‡åªè¦ä¼  idï¼Œå¯¹åº”çš„å¼€å…³å€¼ï¼Œ0,1 å°±è¡Œã€‚ å¯¹åº”åˆ°ä»£ç ï¼š å‘é€commandæ—¶ï¼Œéœ€è¦ç»„åˆå¥½å¼€å…³idï¼ŒçŠ¶æ€ã€‚ æŒ‡ä»¤å‘é€æˆåŠŸéœ€è¦æ ¹æ®å¼€å…³idå’Œå€¼æ”¹å˜storeä¸­çš„å€¼ã€‚ è¿˜è¦è¿›è¡ŒèƒŒæ™¯é¢œè‰²çš„åˆ¤æ–­ã€‚ å°¼ç›ï¼Œä¿®æ”¹åç§°æ‰¾è°æ”¹ã€‚â€”å¹²æ‰äº† å­é¡µé¢çš„å¼€å…³æ§åˆ¶é€»è¾‘ä¿®æ”¹ä¹‹å‰æ˜¯ç”¨çš„navigationå°†å½“å‰ç‚¹å‡»çš„itemä¼ å…¥å­é¡µé¢ ä¼ å…¥åæ ¹æ®äº‹ä»¶ç›‘å¬è§¦å‘ä¿®æ”¹ï¼Œç”¨çš„æ˜¯ ==DeviceEventEmitter== , æ”¹æˆreduxåï¼Œ ç›´æ¥åœ¨storeä¸­è¯»å–propsçš„å±æ€§æ ¹æ®ä¼ å…¥item çš„idæ‰¾åˆ°å½“å‰çš„item,æ ¹æ®ä¸åŒçš„çŠ¶æ€å€¼ï¼Œ (æ³¨æ„ï¼Œæ­¤å¤„ä¼ å…¥ä¹Ÿæ˜¯é€šè¿‡navigationä¼ å…¥çš„ã€‚) å†å­é¡µé¢ä¸­ç›´æ¥å‘é€actionï¼Œ reducerä¿®æ”¹storeä¸­çš„æ•°æ®åï¼Œ åœ¨å­é¡µé¢ä¸­ç”¨ ==componentWillReceiveProps== æ¥ç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œå¹¶æ ¹æ®ç›¸åº”çš„å€¼ï¼Œæ¥åˆ‡æ¢çŠ¶æ€ã€‚ å›½é™…åŒ–æ’ä»¶react-native-i18nè¿™ä¸ªæ’ä»¶éœ€è¦æ”¹åŠ¨androidå’ŒiOS çš„ä»£ç ï¼ï¼ï¼ï¼ å®‰è£… npm install react-native-i18n --save å…³è”android react-native link æ³¨æ„ï¼š è¿™é‡Œæ‰§è¡Œå‘½ä»¤åï¼Œandroidæµ‹è¯•ä¼šæŠ¥é”™ã€‚ æ ¹æ®æ–‡æ¡£æŒ¨ä¸ªæ£€æŸ¥å¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œçœ‹å“ªä¸ªæ²¡æœ‰æ·»åŠ ï¼Œæ·»åŠ å¯¹åº”çš„è°ƒç”¨è¯­å¥å³å¯ã€‚ ./android/settings.gradle ./android/app/build.gradle (æˆ‘è¿™é‡Œâ†‘æ²¡æœ‰è‡ªåŠ¨æ·»åŠ ï¼Œæ‰‹åŠ¨æ·»åŠ çš„) ./android/app/src/main/java/your/bundle/MainApplication.java IOSè¿˜æ²¡æœ‰æµ‹è¯• ä½¿ç”¨1. å°è£…ä¸€ä¸ªå•ç‹¬çš„jså‡ºæ¥æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹i18n index.js 1234567891011121314import i18n from 'react-native-i18n';import translations from './translations';// è¿™ä¸ªä¸ºé»˜è®¤ï¼Œçš„å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„è¯­è¨€ï¼Œåˆ™ä¸ºé»˜è®¤çš„ã€‚i18n.defaultLocale = 'en';i18n.fallbacks = true;i18n.translations = { en: translations.en, zh: translations.zh,};export default i18n; 2. translationsä¸ºä¸­è‹±æ–‡å¯¹åº”çš„æ–‡å­—ä¿¡æ¯translations.js 123456789101112131415161718export default { en: { greeting: 'Greeting in en', exit: 'exit?', tapSwitch: 'Tap to switch', Switch: 'Switch', Timing: 'Timing', Countdown: 'Countdown', }, zh: { greeting: 'æ¬¢è¿æ¬¢è¿çƒ­çƒˆæ¬¢è¿', exit: 'æ˜¯å¦é€€å‡º?', tapSwitch: 'è½»è§¦å¯å¼€å…³', Switch: 'å¼€å…³', Timing: 'å®šæ—¶', Countdown: 'å€’è®¡æ—¶', },}; æ³¨æ„ï¼Œè¿™é‡Œçš„ä¸­è‹±æ–‡å¯ä»¥å•ç‹¬å‡ºæ¥ï¼Œåšæˆä¸¤ä¸ªå•ç‹¬çš„æ–‡ä»¶ã€‚zh.js 12345678export default { greeting: 'æ¬¢è¿æ¬¢è¿çƒ­çƒˆæ¬¢è¿', exit: 'æ˜¯å¦é€€å‡º?', tapSwitch: 'è½»è§¦å¯å¼€å…³', Switch: 'å¼€å…³', Timing: 'å®šæ—¶', Countdown: 'å€’è®¡æ—¶',}; en.js 12345678export default { greeting: 'Greeting in en', exit: 'exit?', tapSwitch: 'Tap to switch', Switch: 'Switch', Timing: 'Timing', Countdown: 'Countdown',}; åœ¨å•ç‹¬å¼•å…¥æ–‡ä»¶ 123456789101112import i18n from 'react-native-i18n';import en from './en';import zh from './zh';i18n.defaultLocale = 'en';i18n.fallbacks = true;i18n.translations = { en, zh,};export default i18n; 3. ä¸šåŠ¡å±‚è°ƒç”¨1234567import {i18n} from 'ä½ é¢„è®¾çš„indexçš„ç›®å½•';// jsi18n.t('Timing')// html&lt;Text style={styles.text}&gt;{i18n.t('Timing')}&lt;/Text&gt; æ€»ç»“é¦–å…ˆNativeé‚£é‡Œè·å–æœ¬æ‰‹æœºçš„LocaleListç„¶åæ ¼å¼åŒ–å–ç¬¬ä¸€ä¸ªå…ƒç´ äº¤ç”±I18n.jså¤„ç†ï¼Œ ç„¶åI18n.jsæ ¹æ®keyé€‰ç”¨ä¸€å¥—æœ‰æ•ˆçš„è¯­è¨€è§„åˆ™ï¼Œ å†ä¹‹åæµç¨‹å°±å’Œä½¿ç”¨æ—¶å€™çš„é¡ºåºä¸€æ ·äº†ã€‚ toastæ’ä»¶ react-native-easy-toastè¿™ä¸ªæ’ä»¶ä¸éœ€è¦æ”¹åŠ¨androidå’Œiosä»£ç  å®‰è£… 1npm i react-native-easy-toast --save å¼•ç”¨ 1import Toast, {DURATION} from 'react-native-easy-toast' åœ¨htmlä¸­éœ€è¦å†™åœ¨Viewåº•éƒ¨å¼•ç”¨ 1&lt;Toast ref=&quot;toast&quot;/&gt; jsè°ƒç”¨æ˜¾ç¤º 1234567891011// é»˜è®¤250msæ¶ˆå¤±this.refs.toast.show('hello world!');// ä¸æ¶ˆå¤±this.refs.toast.show('hello world!', DURATION.FOREVER);// é»˜è®¤2sæ¶ˆå¤±this.refs.toast.show('hello world!', DURATION.LENGTH_LONG);// è‡ªå®šä¹‰æ—¶é—´æ¶ˆå¤±this.refs.toast.show('hello world!', 3000); é—®é¢˜åœ¨positionè®¾ç½®ä¸ºå±…ä¸­æ—¶ï¼Œæ˜¯å»æ‰å¯¼èˆªæ ä»¥å¤–çš„åŒºåŸŸå±…ä¸­çš„ï¼Œæ‰€ä»¥æ„Ÿè§‰æ•´ä½“åä¸‹ï¼Œå¯ä»¥æ”¹æºç é‡Œçš„positionä¸ºcenteræ—¶ï¼Œå‡å»positionValueçš„å€¼ã€‚ ä½†æ‰“åŒ…æ—¶æ€ä¹ˆåŠï¼Œå¥½åƒçœ‹åˆ°æœ‰çš„demoé‡Œæ˜¯å±…ä¸­çš„ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯è‡ªå·±ä»£ç cssé—®é¢˜ã€‚ ç¡¬ä»¶APPå¼€å‘åŠŸèƒ½ç‚¹ ç¬¬ä¸€æ¬¡æ‰“å¼€APPè·å–è®¾å¤‡çŠ¶æ€ï¼Œæ‰€æœ‰å±æ€§å€¼éƒ½è¦ è®¾å¤‡ä¸åœ¨çº¿æ—¶å¯¹é¡µé¢é®ç½©ï¼Œç¦ç”¨æ‰€æœ‰åŠŸèƒ½ï¼Œ è®¾å¤‡ä¸ŠæŠ¥è·å–æ‰€æœ‰å±æ€§ï¼Œå¹¶æ ¹æ®ä¸åŒå€¼é‡ç½®é¡µé¢ è®¾å¤‡å‘é€æŒ‡ä»¤ï¼ŒæˆåŠŸåï¼Œä¿®æ”¹APPçŠ¶æ€ å¤±è´¥åï¼Œæç¤ºä¿¡æ¯æ˜¾ç¤ºï¼Œä¸èƒ½æ›´æ”¹APPçŠ¶æ€ PropTypesåœ¨ç¼–å†™ç»„ä»¶æ—¶ï¼Œå¸Œæœ›æ¯ä¸ªåœ°æ–¹éƒ½èƒ½ç”¨åˆ°ï¼Œä½†åˆ«äººæ€ä¹ˆç”¨ï¼Œå°±ä¸çŸ¥é“äº†ã€‚æ‰€ä»¥éœ€è¦åˆ¶å®šä¸€äº›è§„åˆ™ï¼Œæ¯”å¦‚å¿…é¡»ä¼ ä»€ä¹ˆå‚æ•°ï¼Œå‚æ•°æ˜¯ä»€ä¹ˆç±»å‹çš„ã€‚ å› ä¸ºJavaScriptè¯­è¨€ç‰¹ç‚¹ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œé¡µé¢è™½æ˜¾ç¤ºä¸æ­£å¸¸ï¼Œä½†ä¸ä¼šæŠ¥é”™ã€‚å¾ˆéš¾æ‰¾åˆ°bugä½ç½®ã€‚ reactæä¾›äº†ä¸€ç§ç±»å‹æ£€æµ‹æœºåˆ¶ï¼Œç”¨æ¥ç¡®ä¿æ¥æ”¶åˆ°çš„å‚æ•°æ˜¯æœ‰æ•ˆçš„ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨PropTypes.string è¯­å¥ã€‚å½“ç»™ prop ä¼ é€’äº†ä¸€ä¸ªä¸æ­£ç¡®çš„å€¼æ—¶ï¼ŒJavaScriptæ§åˆ¶å°å°†ä¼šæ˜¾ç¤ºä¸€æ¡è­¦å‘Šã€‚å‡ºäºæ€§èƒ½çš„åŸå› ï¼ŒpropTypes ä»…åœ¨å¼€å‘æ¨¡å¼ä¸­æ£€æµ‹ã€‚ é¦–å…ˆï¼Œè¦å®‰è£…reactæä¾›çš„ç¬¬ä¸‰æ–¹åº“ prop-typesï¼š(è²Œä¼¼åªé’ˆå¯¹15.5.0ä¹‹åçš„ç‰ˆæœ¬ï¼Œå…¬å¸é¡¹ç›®15.4.2 å¹¶ä¸éœ€è¦installï¼Œ ç›´æ¥ç”¨å°±è¡Œäº†ï¼‰ 1npm install --save prop-types ä½¿ç”¨ 12345678910111213import PropTypes from 'prop-types';class Greeting extends React.Component { render() { return ( &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt; ); }}Greeting.propTypes = { name: PropTypes.string}; React.PropTypes.element.isRequiredï¼Œå¯ä»¥ä¸ºç»„ä»¶æŒ‡å®šå¿…é¡»é¡¹ defaultPropsï¼šä¸ºpropsæŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼ 123Greeting.defaultProps = { name: 'Stranger'}; adb.exeç›®å½•C:\\Users\\z\\AppData\\Local\\Android\\Sdk\\platform-toolsæ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œadbå‘½ä»¤ adb install -r name.apkç”¨å‘½ä»¤è¡Œå®‰è£…apk jsç”¨switch caseå®ç°åŒºé—´é‡ç‚¹æ˜¯switch(true){} 123456789101112131415161718192021222324252627function getAQIDegree(jq){ switch(true){ case jq&lt;51: return 'ä¼˜' break case jq&lt;101: return 'è‰¯' break case jq&lt;151: return 'è½»åº¦æ±¡æŸ“' break case jq&lt;201: return 'ä¸­åº¦æ±¡æŸ“' break case jq&lt;301: return 'é‡åº¦æ±¡æŸ“' break case 300&lt;jq: return 'ä¸¥é‡æ±¡æŸ“' break default: break }}","link":"/posts/React%20Native%E5%85%A5%E9%97%A8/"},{"title":"React SSR æ¢³ç†","text":"åŸºæœ¬æ¦‚å¿µä»€ä¹ˆæ˜¯æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Ÿä»€ä¹ˆæ˜¯å®¢æˆ·ç«¯æ¸²æŸ“ï¼Ÿä»€ä¹ˆæ˜¯åŒæ„ï¼Ÿ å®¢æˆ·ç«¯æ¸²æŸ“ CSRé¡µé¢åˆå§‹åŠ è½½çš„HTMLä¸­æ— ç½‘é¡µå±•ç¤ºå†…å®¹ï¼Œéœ€è¦åŠ è½½JavaScriptä¸­çš„Reactä»£ç ,é€šè¿‡JavaScriptæ¸²æŸ“ç”Ÿæˆé¡µé¢ï¼ŒåŒæ—¶ï¼ŒJavaScriptä»£ç ä¼šå®Œæˆé¡µé¢äº¤äº’äº‹ä»¶çš„ç»‘å®šã€‚ æµç¨‹å¦‚ä¸‹ï¼š æœåŠ¡ç«¯è¿”å›HTMLåˆ°æµè§ˆå™¨ æµè§ˆå™¨ä¸‹è½½JS æµè§ˆå™¨æ‰§è¡Œjs, Reactâ€”â€”-åœ¨è¿™ä¹‹å‰éƒ½æ˜¯loading(åŒ…æ‹¬3) é¡µé¢æ˜¾ç¤ºï¼Œå¯äº¤äº’ æœåŠ¡å™¨æ¸²æŸ“ç”¨æˆ·è¯·æ±‚æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸Šç›´æ¥ç”ŸæˆHTMLå†…å®¹å¹¶è¿”å›æµè§ˆå™¨ã€‚é¡µé¢å†…å®¹ç›´æ¥ç”±Serverç«¯ç”Ÿæˆã€‚æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„é¡µé¢äº¤äº’èƒ½åŠ›æœ‰é™ï¼Œè¦å®ç°å¤æ‚äº¤äº’ï¼Œè¿˜æ˜¯è¦é€šè¿‡å¼•å…¥JavaScriptæ–‡ä»¶æ¥è¾…åŠ©å®ç°ã€‚ åŒæ„SSRè¿™ä¸ªæ¦‚å¿µå­˜åœ¨äºVueï¼Œ Reactè¿™äº›æ–°å‹çš„å‰ç«¯æ¡†æ¶ä¸­ï¼ŒåŒæ„å®é™…æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡å™¨æ¸²æŸ“çš„ä¸€ä¸ªæ•´åˆã€‚æŠŠé¡µé¢çš„å±•ç¤ºå†…å®¹å’Œäº¤äº’å†™åœ¨ä¸€èµ·ï¼Œè®©ä»£ç æ‰§è¡Œä¸¤æ¬¡ã€‚æœåŠ¡å™¨ç«¯æ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºå®ç°æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œå®¢æˆ·ç«¯å†æ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºæ¥ç®¡é¡µé¢äº¤äº’ã€‚ æµç¨‹å¦‚ä¸‹ï¼š æœåŠ¡å™¨å‘é€å·²ç»æ¸²æŸ“å¥½çš„HTMLåˆ°æµè§ˆå™¨â€”-ä»…åœ¨è¿™ä¸€è¿‡ç¨‹é¡µé¢loading æµè§ˆå™¨æ¸²æŸ“é¡µé¢,é¡µé¢æ˜¾ç¤ºï¼Œå¼€å§‹ä¸‹è½½JS æµè§ˆå™¨æ‰§è¡ŒJS/React é¡µé¢å¯äº¤äº’ ä¸ºä»€ä¹ˆä½¿ç”¨SSRæŠ€æœ¯ä¸»è¦å› ç´ ï¼š CSRé¡¹ç›®çš„TTFP(Time To First Page)æ—¶é—´è¾ƒé•¿ã€‚åŠ è½½HTMLï¼Œä¸‹è½½JavaScriptï¼ŒJavaScriptæ¸²æŸ“ç”Ÿæˆé¡µé¢ã€‚åœ¨è¿™ä¸ªæ¸²æŸ“è¿‡ç¨‹ä¸­è‡³å°‘æ¶‰åŠåˆ°ä¸¤ä¸ªHTTPè¯·æ±‚å‘¨æœŸï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€å®šçš„è€—æ—¶ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä½ä¿—ç½‘ç»œä¸‹ï¼Œåˆå§‹é¡µé¢ä¼šæœ‰ç™½å±çš„åŸå› ã€‚ CSRé¡¹ç›®çš„SEOèƒ½åŠ›æå¼±ã€‚æœç´¢å¼•æ“ä¸»è¦è¯†åˆ«çš„å†…å®¹è¿˜æ˜¯HTMLï¼Œå¯¹JavaScriptæ–‡ä»¶å†…å®¹çš„è¯†åˆ«éƒ½è¿˜æ¯”è¾ƒå¼±ã€‚ å‡å°‘APIè¯·æ±‚æ¬¡æ•° SSRçš„äº§ç”Ÿï¼Œä¸»è¦å°±æ˜¯ä¸ºäº†è§£å†³ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ã€‚åœ¨Reactä¸­ä½¿ç”¨SSRï¼Œè®©Reactåœ¨æœåŠ¡å™¨ç«¯å…ˆæ‰§è¡Œä¸€æ¬¡ï¼Œä½¿å¾—ç”¨æˆ·ä¸‹è½½çš„HTMLå·²ç»åŒ…å«äº†æ‰€æœ‰çš„é¡µé¢å±•ç¤ºå†…å®¹ï¼Œè¿™æ ·é¡µé¢å±•ç¤ºçš„è¿‡ç¨‹åªéœ€ç»å†ä¸€ä¸ªHTTPè¯·æ±‚å‘¨æœŸï¼ŒTTFPæ—¶é—´å¾—åˆ°ä¸€å€ä»¥ä¸Šç¼©å‡ã€‚åŒæ—¶HTMLä¸­å·²ç»åŒ…å«äº†ç½‘é¡µçš„æ‰€æœ‰å†…å®¹ï¼ŒSEOæ•ˆæœä¹Ÿä¼šå˜å¾—éå¸¸å¥½ã€‚ ä¹‹åReactåœ¨å®¢æˆ·ç«¯å†æ¬¡æ‰§è¡Œï¼Œä¸ºHTMLä¸­çš„å†…å®¹æ·»åŠ æ•°æ®åŠäº‹ä»¶çš„ç»‘å®šï¼Œé¡µé¢å°±å…·å¤‡äº†Reactçš„å„ç§äº¤äº’èƒ½åŠ›ã€‚ ä¸»è¦åŒºåˆ«ï¼šå®¢æˆ·ç«¯ä»æ— åˆ°æœ‰çš„æ¸²æŸ“ï¼ŒæœåŠ¡ç«¯æ˜¯å…ˆåœ¨æœåŠ¡ç«¯æ¸²æŸ“ä¸€éƒ¨åˆ†ï¼Œåœ¨å†å®¢æˆ·ç«¯æ¸²æŸ“ä¸€å°éƒ¨åˆ†ã€‚ SSRæŠ€æœ¯æ¶æ„å›¾1234567891011121314å®¢æˆ·ç«¯(æµè§ˆå™¨) NodeæœåŠ¡å™¨ APIæœåŠ¡å™¨è®¿é—®åœ°å€--------- 1.æ¥æ”¶è¯·æ±‚ 2.è·¯ç”±åˆ†æè·å–å³å°†å±•ç¤ºçš„ç»„ä»¶ä¿¡æ¯ 3. è·å–ç»„ä»¶æ‰€éœ€æ•°æ®----------- 4.æ¥æ”¶è¯·æ±‚ï¼Œè¿”å›æ¥å£æ•°æ®6.æ˜¾ç¤ºHTML, 5.æ¸²æŸ“ç»„ä»¶ï¼Œè¿”å›æ¸²æŸ“åçš„HTMLåŠ è½½éœ€è¦çš„bundle.js (æœåŠ¡ç«¯æ¸²æŸ“å®Œæˆ) 7.è·å–bundle.jsæ–‡ä»¶ 8.æ¥æ”¶è¯·æ±‚ 9.è¿”å›bundle.js 10. åŠ è½½è¿è¡Œbundle.jsè¿›è¡Œå®¢æˆ·ç«¯æ¸²æŸ“11. bundle.jså‘é€è¯·æ±‚ 12.æ”¶åˆ°è¯·æ±‚ï¼Œä»£ç†åˆ°ä¸šåŠ¡æ¥å£ 13. æ¥å—è¯·æ±‚ï¼Œè¿”å›æ¥å£æ•°æ® 14.è·å–åˆ°æ•°æ®è¿”å›15.è·å–åˆ°è¯·æ±‚æ•°æ®ï¼Œå®Œæˆå®¢æˆ·ç«¯æ¸²æŸ“ ç¼ºç‚¹ä½¿ç”¨SSRä½¿å¾—åŸæœ¬ç®€å•çš„Reacté¡¹ç›®å˜å¾—éå¸¸å¤æ‚ï¼Œé¡¹ç›®çš„å¯ç»´æŠ¤æ€§é™ä½ï¼Œä»£ç è¿½æº¯å˜å¾—å›°éš¾ã€‚æœ‰æ—¶è¿™äº›å‰¯ä½œç”¨æ¯”èµ·ä¼˜åŠ¿è¦å¤§å¾—å¤šã€‚ä¸€èˆ¬é™¤éç‰¹åˆ«ä¾èµ–æœç´¢å¼•æ“æµé‡ï¼Œæˆ–å¯¹é¦–å±æ—¶é—´æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œä¸å»ºè®®ä½¿ç”¨SSRã€‚åªæœ‰NodeJSç¯å¢ƒå¯ä»¥SSRï¼šè‹¥åç«¯ä½¿ç”¨pythonæˆ–æ˜¯rubyç­‰è¯­è¨€ï¼Œå¤„ç†React SSRå°±è¦å¤šå¼€ä¸€å°NodeJS Render Serverï¼Œå¤šäº†ç»´æŠ¤ä¸Šçš„éº»çƒ¦ã€‚ SSRæŠ€æœ¯éš¾ç‚¹å‰–æè™šæ‹ŸDOMå’ŒSSRçš„å…³ç³»SSRä¹‹æ‰€ä»¥èƒ½å®ç°ï¼Œæœ¬è´¨ä¸Šä¸Šå› ä¸ºè™šæ‹ŸDOMçš„å­˜åœ¨ SSRçš„å·¥ç¨‹ä¸­ï¼ŒReactä»£ç ä¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å„æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœReactä»£ç ä¸­å­˜åœ¨ç›´æ¥æ“ä½œDOMçš„ä»£ç ï¼Œé‚£ä¹ˆå°±æ— æ³•å®ç°SSRè¿™ç§æŠ€æœ¯ã€‚å› ä¸ºåœ¨nodeç¯å¢ƒä¸­ï¼Œæ²¡æœ‰DOMè¿™ä¸ªæ¦‚å¿µå­˜åœ¨ã€‚æ‰€ä»¥è¿™äº›ä»£ç åœ¨nodeç¯å¢ƒä¸‹ä¼šæŠ¥é”™ã€‚ è™šæ‹ŸDOMæ˜¯çœŸå®DOMçš„ä¸€ä¸ªJavaScriptå¯¹è±¡æ˜ å°„ã€‚Reactåœ¨åšé¡µé¢æ“ä½œæ—¶ï¼Œå®é™…ä¸Šä¸æ˜¯ç›´æ¥æ“ä½œDOMï¼Œè€Œæ˜¯æ“ä½œè™šæ‹ŸDOMï¼Œä¹Ÿå°±æ˜¯æ“ä½œæ™®é€šJavaScriptå¯¹è±¡ï¼Œè¿™å°±ä½¿å¾—SSRæˆä¸ºäº†å¯èƒ½ã€‚ åœ¨æœåŠ¡ç«¯ï¼Œå¯ä»¥æ“ä½œJavaScriptå¯¹è±¡ï¼Œåˆ¤æ–­ç¯å¢ƒæ˜¯æœåŠ¡å™¨ç¯å¢ƒï¼ŒæŠŠè™šæ‹ŸDOMæ˜ å°„æˆå­—ç¬¦ä¸²è¾“å‡ºï¼›åœ¨å®¢æˆ·ç«¯ï¼Œæ“ä½œJavaScriptå¯¹è±¡ï¼Œåˆ¤æ–­æ˜¯å®¢æˆ·ç«¯ç¯å¢ƒï¼Œå°†è™šæ‹ŸDOMæ˜ å°„æˆçœŸå®DOMï¼Œå®Œæˆé¡µé¢æŒ‚è½½ã€‚ ç»†è¯´æµç¨‹å›¾ç¬¬3æ­¥ï¼šæœåŠ¡å™¨è¦æ ¹æ®è¯·æ±‚åœ°å€ï¼Œåˆ¤æ–­å±•ç¤ºä»€ä¹ˆé¡µé¢ã€‚è¿™ä¸€æ­¥å«åšæœåŠ¡å™¨ç«¯è·¯ç”±ã€‚ç¬¬10æ­¥ï¼šå®¢æˆ·ç«¯æ¥æ”¶åˆ°JavaScriptæ–‡ä»¶åï¼Œè¦æ ¹æ®å½“å‰è·¯å¾„ï¼Œåœ¨æµè§ˆå™¨ä¸Šå†åˆ¤æ–­å½“å‰è¦å±•ç¤ºçš„ç»„ä»¶ï¼Œé‡æ–°è¿›è¡Œä¸€æ¬¡å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œè¿™æ—¶ï¼Œè¿˜è¦ç»å†ä¸€æ¬¡å®¢æˆ·ç«¯è·¯ç”±(å‰ç«¯è·¯ç”±) SSRä¸­å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“è·¯ç”±ä»£ç å·®å¼‚å®ç°Reactçš„SSRæ¶æ„ï¼Œéœ€è¦è®©ç›¸åŒçš„Reactä»£ç åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å„æ‰§è¡Œä¸€æ¬¡ã€‚è¿™é‡Œè¯´çš„ç›¸åŒçš„Reactä»£ç ï¼ŒæŒ‡çš„æ˜¯å„ç§ç»„ä»¶ä»£ç ï¼Œæ‰€ä»¥åœ¨åŒæ„ä¸­ï¼Œåªæœ‰ç»„ä»¶ä»£ç æ˜¯å¯ä»¥å…±ç”¨çš„ã€‚è€Œè·¯ç”±è¿™æ ·çš„ä»£ç æ˜¯æ²¡æœ‰åŠæ³•å…¬ç”¨çš„ã€‚ åŸå› ï¼šæœåŠ¡ç«¯éœ€è¦é€šè¿‡è¯·æ±‚è·¯å¾„ï¼Œæ‰¾åˆ°è·¯ç”±ç»„ä»¶ï¼›åœ¨å®¢æˆ·ç«¯éœ€é€šè¿‡æµè§ˆå™¨ä¸­çš„ç½‘å€ï¼Œæ‰¾åˆ°è·¯ç”±ç»„ä»¶ï¼Œæ˜¯å®Œå…¨ä¸åŒçš„ä¸¤å¥—æœºåˆ¶ã€‚æ‰€ä»¥è¿™éƒ¨åˆ†ä»£ç è‚¯å®šæ— æ³•å…¬ç”¨ã€‚ ä»£ç ç¤ºä¾‹ï¼šå®¢æˆ·ç«¯è·¯ç”± 123456789101112const App = () =&gt; { return ( &lt;Provider store={store}&gt; &lt;BrowserRouter&gt; &lt;div&gt; &lt;Route path='/' component={Home}&gt; &lt;/div&gt; &lt;/BrowserRouter&gt; &lt;/Provider&gt; )}ReactDom.render(&lt;App/&gt;, document.querySelector('#root')) æœåŠ¡ç«¯è·¯ç”±ï¼š 1234567891011const App = () =&gt; { return &lt;Provider store={store}&gt; &lt;StaticRouter location={req.path} context={context}&gt; &lt;div&gt; &lt;Route path='/' component={Home}&gt; &lt;/div&gt; &lt;/StaticRouter&gt; &lt;/Provider&gt;}return ReactDom.renderToString(&lt;App/&gt;) æœåŠ¡ç«¯è·¯ç”±ä»£ç ç›¸å¯¹å¤æ‚ç‚¹ï¼Œéœ€è¦æŠŠlocation(å½“å‰è¯·æ±‚è·¯å¾„)ä¼ é€’ç»™StaticRouterç»„ä»¶ï¼Œè¿™æ ·StaticRouteræ‰èƒ½æ ¹æ®è·¯å¾„åˆ†æå‡ºå½“å‰æ‰€éœ€è¦çš„ç»„ä»¶æ˜¯å“ªä¸ªã€‚ StaticRouteræ˜¯React-Routeré’ˆå¯¹æœåŠ¡ç«¯æ¸²æŸ“ä¸“é—¨æä¾›çš„ä¸€ä¸ªè·¯ç”±ç»„ä»¶ BrowerRouterèƒ½å¤ŸåŒ¹é…åˆ°æµè§ˆå™¨å³å°†æ˜¾ç¤ºçš„è·¯ç”±ç»„ä»¶ï¼Œå¯¹æµè§ˆå™¨æ¥è¯´ï¼Œéœ€è¦å°†ç»„ä»¶è½¬åŒ–æˆDOMï¼Œç”¨ReactDom.renderè¿›è¡ŒDOMæŒ‚è½½ã€‚ StaticRouterèƒ½å¤Ÿåœ¨æœåŠ¡å™¨ç«¯åŒ¹é…åˆ°å°†è¦æ˜¾ç¤ºçš„ç»„ä»¶ï¼Œå¯¹æœåŠ¡ç«¯æ¥è¯´ï¼Œéœ€è¦å°†ç»„ä»¶è½¬åŒ–æˆå­—ç¬¦ä¸²ï¼Œç”¨ReactDom.renderToStringæ–¹æ³•ï¼Œå°±å¯ä»¥åŠæ—¶å¾—åˆ°Appç»„ä»¶å¯¹åº”çš„HTMLå­—ç¬¦ä¸² å¯¹ä¸€ä¸ªReactåº”ç”¨æ¥è¯´ï¼Œè·¯ç”±ä¸€èˆ¬æ˜¯æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œå…¥å£ï¼Œåœ¨SSRä¸­ï¼ŒæœåŠ¡ç«¯çš„è·¯ç”±å’Œå®¢æˆ·ç«¯çš„è·¯ç”±ä¸ä¸€æ ·ï¼Œæ„å‘³ç€æœåŠ¡ç«¯çš„å…¥å£ä»£ç å’Œå®¢æˆ·ç«¯çš„å…¥å£ä»£ç æ˜¯ä¸åŒçš„ã€‚ æ‰€ä»¥ï¼Œé’ˆå¯¹ä»£ç è¿è¡Œç¯å¢ƒçš„ä¸åŒï¼Œè¦è¿›è¡Œæœ‰åŒºåˆ«çš„webpackæ‰“åŒ…ã€‚ æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä»£ç çš„æ‰“åŒ…å·®å¼‚å®¢æˆ·ç«¯webpacké…ç½® 123456789101112131415161718192021222324252627{ entry: './src/client/index.js', output: { filename: 'index.js', path: path.resolve(__dirname, 'public') }, module: { rules: [{ test: /\\.js?$/, loader: 'babel-loader' },{ test: /\\.css?$/, use: ['style-loader', { loader: 'css-loader', options: {modules: true} }] },{ test: /\\.(png|jpeg|jpg|gif|svg)?$/, loader: 'url-loader', options: { limit: 8000, publicPath: '/' } }] }} æœåŠ¡ç«¯webpacké…ç½®1234567891011121314151617181920212223242526272829303132333435{// è¿™é‡Œä¸åŒ target: 'node',// entryä¸åŒ entry: './src/server/index.js', output: { filename: 'bundle.js', // è¾“å‡ºè·¯å¾„ä¸åŒ path: path.resolve(__dirname, 'build') },// è¿™é‡Œä¸åŒ externals: [nodeExternals()], module: { rules: [{ test: /\\.js?$/, loader: 'babel-loader' },{ test: /\\.css?$/, // è¿™é‡Œä¸åŒ use: ['isomorphic-style-loader', { loader: 'css-loader', options: {modules: true} }] },{ test: /\\.(png|jpeg|jpg|gif|svg)?$/, loader: 'url-loader', options: { limit: 8000, // è¿™é‡Œä¸åŒ outputPath: '../public/', publicPath: '/' } }] }}; å¯ä»¥çœ‹åˆ°ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“å’Œå®¢æˆ·ç«¯é…ç½®æ˜¯æœ‰å·®å¼‚çš„ã€‚ nodeæ ¸å¿ƒæ¨¡å—: åœ¨æœåŠ¡ç«¯è¿è¡Œçš„ä»£ç ï¼Œéœ€è¦å¼•å…¥Nodeçš„ä¸€äº›æ ¸å¿ƒæ¨¡å—ã€‚åœ¨æ¨¡å—æ‰“åŒ…æ—¶ï¼Œéœ€è¦Webpackè¯†åˆ«å‡ºç±»ä¼¼çš„æ ¸å¿ƒæ¨¡å—ï¼Œä¸€æ—¦å‘ç°æ˜¯æ ¸å¿ƒæ¨¡å—ï¼Œä¸å¿…æŠŠæ¨¡å—çš„ä»£ç åˆå¹¶åˆ°æœ€ç»ˆç”Ÿæˆçš„ä»£ç ä¸­ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€åœ¨æœåŠ¡ç«¯webpackä¸­åŠ å…¥target: nodeã€‚ ç¬¬ä¸‰æ–¹æ¨¡å—: æœåŠ¡ç«¯æ¸²æŸ“çš„ä»£ç ï¼Œå¦‚æœåŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œè¿™äº›æ¨¡å—ä¸ç”¨æ‰“åŒ…åˆ°æœ€ç»ˆæºç ä¸­ï¼Œå› ä¸ºNodeç¯å¢ƒä¸‹é€šè¿‡NPMå·²ç»å®‰è£…äº†è¿™äº›åŒ…ï¼Œç›´æ¥å¼•ç”¨å°±è¡Œï¼Œä¸éœ€è¦é¢å¤–å†æ‰“åŒ…åˆ°ä»£ç é‡Œã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨webpack-node-externalsæ’ä»¶ CSSæ ·å¼é¥®ç”¨: Reactä»£ç ä¸­å¼•å…¥CSSæ ·å¼ä»£ç ï¼ŒæœåŠ¡ç«¯æ‰“åŒ…çš„è¿‡ç¨‹ä¼šå¤„ç†ä¸€éCSSï¼Œå®¢æˆ·ç«¯åˆä¼šå¤„ç†ä¸€éã€‚è§£å†³ï¼šæœåŠ¡ç«¯ä½¿ç”¨isomorphic-style-loaderå®ƒå¤„ç†CSSæ—¶ï¼Œåªåœ¨å¯¹åº”çš„DOMå…ƒç´ ä¸Šç”Ÿæˆclassç±»ï¼Œè¿”å›ç”Ÿæˆçš„CSSæ ·å¼ä»£ç ã€‚ ---çœ‹æ–‡æ¡£æœ‰ç‚¹æ²¡æ‡‚ï¼Œè¿˜è¦æ”¹ç»„ä»¶ä»£ç ?éœ€è¦æµ‹ä¸€ä¸‹ å›¾ç‰‡å¼•å…¥: å›¾ç‰‡ç­‰ç±»å‹æ–‡ä»¶çš„å¼•å…¥ï¼Œurl-loaderä¼šåœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ‰“åŒ…çš„è¿‡ç¨‹ä¸­åˆ†åˆ«æ‰“åŒ…ã€‚ä¸Šè¿°é…ç½®æ— è®ºæœåŠ¡ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯æ‰“åŒ…ï¼Œéƒ½æŠŠæ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶å­˜å‚¨åœ¨publicç›®å½•ä¸‹ï¼Œè¿™æ ·è™½ç„¶æ‰“åŒ…å‡ºæ¥ä¸¤éï¼Œä½†åæ‰“åŒ…çš„ä¼šè¦†ç›–ä¹‹å‰æ–‡ä»¶ï¼Œçœ‹èµ·æ¥åªæœ‰ä¸€ä»½æ–‡ä»¶ã€‚è¿™æ ·åšæ€§èƒ½ä¼˜é›…æ€§ä¸é«˜ï¼Œå¯ä»¥è®©å›¾ç‰‡å¤§æ‰“åŒ…åªè¿›è¡Œä¸€æ¬¡ï¼Œå€ŸåŠ©webpackçš„æ’ä»¶æˆ–è‡ªå·±å†™loaderã€‚ å¦‚æœReactçš„åº”ç”¨ä¸­æ²¡æœ‰ä¸€éƒ¨æ•°æ®çš„è·å–ã€‚å•çº¯çš„åšé™æ€å±•ç¤ºã€‚ç»è¿‡ä¸Šé¢é…ç½®ï¼Œç®€å•çš„SSRåº”ç”¨å°±å¯ä»¥å®ç°äº† å¼‚æ­¥æ•°æ®è·å– + Reduxä½¿ç”¨å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œå¼‚æ­¥æ•°æ®ç»“åˆReduxçš„ä½¿ç”¨æ–¹å¼éµå¾ªä¸‹é¢çš„æµç¨‹(å¯¹åº”ä¸Šé¢12æ­¥): åˆ›å»ºStore æ ¹æ®è·¯ç”±æ˜¾ç¤ºç»„ä»¶ æ´¾å‘Actionè·å–æ•°æ® æ›´æ–°Storeä¸­çš„æ•°æ® ç»„ä»¶Rerender æœåŠ¡ç«¯ï¼Œé¡µé¢ä¸€æ—¦ç¡®å®šï¼Œå°±æ²¡æ³•Rerenderäº†ï¼Œè¿™å°±è¦æ±‚ç»„ä»¶æ˜¾ç¤ºæ—¶ï¼ŒæŠŠStoreçš„æ•°æ®éƒ½å‡†å¤‡å¥½ã€‚æ‰€ä»¥æœåŠ¡ç«¯æµç¨‹å¦‚ä¸‹(å¯¹åº”ç¬¬4æ­¥)ï¼š åˆ›å»ºStore æ ¹æ®è·¯ç”±åˆ†æStoreä¸­éœ€è¦çš„æ•°æ® æ´¾å‘Action æ›´æ–°Storeä¸­çš„æ•°æ® ç»“åˆæ•°æ®å’Œç»„ä»¶ç”ŸæˆHTMLï¼Œä¸€æ¬¡æ€§è¿”å› åˆ†ææœåŠ¡ç«¯æ¸²æŸ“æµç¨‹ åˆ›å»ºStore: å®¢æˆ·ç«¯æ¸²æŸ“ä¸­ï¼Œç”¨æˆ·æµè§ˆå™¨ä¸­æ°¸è¿œåªå­˜åœ¨ä¸€ä¸ªStoreï¼Œæ‰€ä»¥ä»£ç å¦‚ä¸‹ï¼š 12const store = createStore(reducer, defaultState)export default store; è€Œåœ¨æœåŠ¡ç«¯çš„Storeæ˜¯æ‰€æœ‰ç”¨æˆ·å…±ç”¨çš„ã€‚å¦‚æœå¦‚ä¸Šåˆ›å»ºStoreï¼ŒStoreå˜æˆä¸€ä¸ªå•ä¾‹ï¼Œæ‰€æœ‰ç”¨æˆ·å…±äº«Storeï¼Œæ˜¾ç¤ºå°±æœ‰é—®é¢˜äº†ã€‚æ‰€ä»¥åœ¨æœåŠ¡ç«¯æ¸²æŸ“ä¸­ï¼ŒStoreåˆ›å»ºå¦‚ä¸‹ï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ¯ä¸ªç”¨æˆ·è®¿é—®æ—¶ï¼Œè¿™ä¸ªå‡½æ•°é‡æ–°æ‰§è¡Œï¼Œä¸ºæ¯ä¸ªç”¨æˆ·æä¾›ç‹¬ç«‹çš„Storeï¼š 1234const getStore = (req) =&gt; { return createStore(reducer, defaultState);}export default getStore; æ ¹æ®è·¯ç”±åˆ†æStoreä¸­éœ€è¦çš„æ•°æ®åœ¨æœåŠ¡ç«¯ï¼Œéœ€è¦åˆ†æå½“å‰è·¯ç”±è¦åŠ è½½çš„æ‰€æœ‰ç»„ä»¶ï¼Œå€ŸåŠ©ç¬¬ä¸‰æ–¹åŒ…ï¼Œæ¯”å¦‚react-router-config.(æ‰€æœ‰è·¯ç”±pathéƒ½è¦æ”¹ä¸ºç»å¯¹è·¯å¾„)è¿™ä¸ªåŒ…ä¼šæ ¹æ®ä¼ å…¥æœåŠ¡çš„è¯·æ±‚è·¯å¾„ï¼Œåˆ†æå‡ºè¿™ä¸ªè·¯å¾„ä¸‹è¦å±•ç¤ºçš„æ‰€æœ‰ç»„ä»¶ã€‚ æ´¾å‘Actionè·å–æ•°æ®åœ¨æ¯ä¸ªç»„ä»¶ä¸Šå¢åŠ ä¸€ä¸ªè·å–æ•°æ®çš„æ–¹æ³•ï¼š 123Home.loadData = (store) =&gt; { return store.dispatch(getHomeList())} éœ€è¦å°†æœåŠ¡ç«¯æ¸²æŸ“çš„Storeä¼ è¿›æ¥ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯å¸®åŠ©æœåŠ¡ç«¯çš„Storeè·å–åˆ°è¿™ä¸ªç»„ä»¶æ‰€éœ€çš„æ•°æ®ã€‚æ‰€ä»¥ç»„ä»¶æœ‰äº†è¿™æ ·çš„æ–¹æ³•ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿæœ‰å½“å‰è·¯ç”±æ‰€éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œä¾æ¬¡è°ƒç”¨å„ä¸ªç»„ä»¶ä¸Šçš„loadDataæ–¹æ³•ï¼Œå°±èƒ½è·å–åˆ°è·¯ç”±æ‰€éœ€çš„æ‰€æœ‰æ•°æ®å†…å®¹. æ›´æ–°Storeä¸­çš„æ•°æ®éœ€è¦åœ¨ç”ŸæˆHTMLä¹‹å‰ï¼Œä¿è¯æ‰€æœ‰çš„æ•°æ®éƒ½è·å–å®Œæ¯•ã€‚æ€ä¹ˆå¤„ç†ï¼Ÿ 123456789101112// matchedRoutes æ˜¯å½“å‰è·¯ç”±å¯¹åº”çš„æ‰€æœ‰éœ€è¦æ˜¾ç¤ºçš„ç»„ä»¶é›†åˆmatchedRoutes.forEach(item =&gt; { if (item.route.loadData) { const promise = new Promise((resolve, reject) =&gt; { item.route.loadData(store).then(resolve).catch(resolve); }) promises.push(promise); }})Promise.all(promises).then(() =&gt; { // ç”Ÿæˆ HTML é€»è¾‘}) æ„å»ºPromiseé˜Ÿåˆ—ï¼Œç­‰å¾…æ‰€æœ‰Promiseéƒ½æ‰§è¡Œç»“æŸåï¼Œå†ç”ŸæˆHTMLã€‚ åˆ°æ­¤ï¼Œå°±ç»“åˆå®ç°äº†Reduxå®ç°äº†SSRæµç¨‹ æœåŠ¡å™¨ç«¯æ¸²æŸ“æ—¶ï¼Œé¡µé¢çš„æ•°æ®æ˜¯é€šè¿‡ loadData å‡½æ•°æ¥è·å–çš„ã€‚è€Œåœ¨å®¢æˆ·ç«¯ï¼Œæ•°æ®è·å–ä¾ç„¶è¦åšï¼Œå› ä¸ºå¦‚æœè¿™ä¸ªé¡µé¢æ˜¯ä½ è®¿é—®çš„ç¬¬ä¸€ä¸ªé¡µé¢ï¼Œé‚£ä¹ˆä½ çœ‹åˆ°çš„å†…å®¹æ˜¯æœåŠ¡å™¨ç«¯æ¸²æŸ“å‡ºæ¥çš„ï¼Œä½†æ˜¯å¦‚æœç»è¿‡ react-router è·¯ç”±è·³è½¬é“ç¬¬äºŒä¸ªé¡µé¢ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡µé¢å°±å®Œå…¨æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“å‡ºæ¥çš„äº†ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä¹Ÿè¦å»æ‹¿æ•°æ®ã€‚â€”â€”-ä¸éƒ½æ˜¯é€šè¿‡React-routerè·³è½¬çš„å— å®¢æˆ·ç«¯è·å–æ•°æ®åœ¨componentDidMounté˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µæœåŠ¡ç«¯ä¸ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥ä¸å¿…æ‹…å¿ƒå’ŒloadDataå†²çªã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ•°æ®çš„è·å–åº”è¯¥æ”¾åˆ°componentDidMounté˜¶æ®µï¼Œå¯ä»¥é¿å…æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯è·å–æ•°æ®å†²çªã€‚ Nodeåªæ˜¯ä¸€ä¸ªä¸­é—´å±‚åœ¨SSRæ¶æ„ä¸­ï¼Œä¸€èˆ¬nodeåªæ˜¯ä¸€ä¸ªä¸­é—´å±‚ï¼Œç”¨æ¥åšReactä»£ç çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œè€Œnodeéœ€è¦çš„æ•°æ®é€šå¸¸ç”±APIæœåŠ¡å™¨å•ç‹¬æä¾›ã€‚ ä¸€æ˜¯ä¸ºäº†è§£è€¦ï¼Œè€Œæ˜¯è§„é¿NodeæœåŠ¡å™¨çš„ä¸€äº›è®¡ç®—æ€§èƒ½é—®é¢˜ã€‚ æœåŠ¡ç«¯ç›´æ¥è¯·æ±‚APIæœåŠ¡æ²¡é—®é¢˜ï¼Œä½†åœ¨å®¢æˆ·ç«¯ï¼Œå¯èƒ½å­˜åœ¨è·¨è¶Šé—®é¢˜ã€‚é€šè¿‡è¯·æ±‚nodeæœåŠ¡å™¨ï¼Œç»è¿‡ä»£ç†è½¬å‘ï¼Œæ‹¿åˆ°APIçš„æ•°æ®ã€‚å¯ä»¥é€šè¿‡express-http-proxyè¿™æ ·çš„å·¥å…·æ­å»ºproxyä»£ç†åŠŸèƒ½ï¼Œéœ€è¦æ³¨æ„ï¼Œè®©ä»£ç†ä¸æœä¸ä»…è½¬å‘è¯·æ±‚ï¼Œè¿˜è¦æºå¸¦cookieï¼Œé¿å…æƒé™æ ¡éªŒé—®é¢˜ã€‚ 123456// Node ä»£ç†åŠŸèƒ½å®ç°ä»£ç app.use('/api', proxy('http://apiServer.com', { proxyReqPathResolver: function (req) { return '/ssr' + req.url; }})); æ€»ç»“æ•´ä¸ªSSRæµç¨‹ä½“ç³»ä¸­çš„å…³é”®çŸ¥è¯†ç‚¹å’ŒåŸç†å°±è®²å®Œäº†ã€‚å½“ç„¶è¿˜æœ‰å¾ˆå¤šç»†èŠ‚çš„å¤„ç†ã€‚æ¯”å¦‚ä¸åŒé¡µé¢é…ç½®ä¸åŒtitleå’Œdescriptionæ¥æç¤ºSEOï¼Œå¯ä»¥ç”¨react-helmetç­‰å·¥å…·ï¼Œè¿˜è¦å·¥ç¨‹ç›®å½•çš„è®¾è®¡ï¼Œ404ï¼Œ301é‡å®šå‘çš„å¤„ç†ç­‰ç­‰ã€‚éœ€è¦åœ¨å®è·µä¸­å„ä¸ªå‡»ç ´~~ è¡¥å……React16.Xä¸­çš„SSR hydrateReactåœ¨å®¢æˆ·ç«¯æ¸²æŸ“çš„renderåŸºç¡€ä¸Šï¼Œå¢åŠ äº†æ–°çš„æ–¹æ³•hydrate.å¦‚æœå°½åœ¨å®¢æˆ·ç«¯å‘ˆç°å†…å®¹ï¼Œä½¿ç”¨renderæ–¹æ³•å°±å·²ç»å¤Ÿç”¨äº†ï¼Œå¦‚æœå®¢æˆ·ç«¯è¦åœ¨æœåŠ¡ç«¯çš„åŸºç¡€ä¸Šæ¸²æŸ“ï¼Œç”¨hydrateã€‚ä½¿ç”¨æ–¹æ³•ï¼š12import {hydrate} from 'react-dom';hydrate(&lt;HomePage/&gt;,document.getElementById('app')); è¿è¡Œåä¼šæç¤ºä¹‹åç‰ˆæœ¬ä¼šç§»é™¤renderï¼Œå®Œå…¨ç”¨hydrateä»£æ›¿ã€‚ hydrateè§£å†³çš„æ˜¯å¦‚ä½•å¤ç”¨serverç«¯ï¼ŒReactDOMServerçš„ç»“æœã€‚ stream é’ˆå¯¹renderToStringå’ŒrenderToStaticMarkUpæä¾›äº†streamæ–¹æ³• renderToNodeStream renderStaticNodeStream è¿™ä¸¤ä¸ªæ–¹æ³•åŒæ ·æ¥æ”¶çš„å‚æ•°ä¸ºreact elementï¼Œä½†è¿”å›çš„ä¸æ˜¯HTMLå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯è¯»æµã€‚ React16ä¹‹å‰ç”¨renderToStringï¼Œå’ŒrenderToNodeStreamåŒºåˆ«ï¼šrenderToNodeStreamæ”¯æŒç›´æ¥æ¸²æŸ“åˆ°èŠ‚ç‚¹æµï¼Œæ¸²æŸ“åˆ°æµå¯ä»¥å‡å°‘TTFBæ—¶é—´ï¼Œåœ¨æ–‡æ¡£çš„ä¸‹ä¸€éƒ¨åˆ†ç”Ÿæˆä¹‹å‰ï¼Œå°†æ–‡æ¡£çš„å¼€å¤´è‡³ç»“å°¾å‘é€åˆ°æµè§ˆå™¨ã€‚å½“å†…å®¹ä»æœåŠ¡å™¨æµå¼ä¼ è¾“æ—¶ï¼Œæµè§ˆå™¨å¼€å§‹è§£æHTMLã€‚é€Ÿåº¦æ˜¯renderToStringçš„3å€(å®˜æ–¹)ã€‚ 123456789101112131415import {renderToStaticMarkup,renderToNodeStream} from 'react-dom/server'const root = (&lt;Provider store={store}&gt; &lt;StaticRouter location={req.url} context={context} &gt; &lt;App&gt;&lt;/App&gt; &lt;/StaticRouter&gt; &lt;/Provider&gt;) const markupStream = renderToNodeStream(root) markupStream.pipe(res,{end:false}) markupStream.on('end',()=&gt;{ res.end() })}) å¿…é¡»åŒ…æ‹¬å¯é€‰å‚æ•° {end:false}å‘Šè¯‰æµå½“æ¸²æŸ“å®Œæˆä¸è‡ªåŠ¨ç»“æŸå“åº”ã€‚è¿™å…è®¸æˆ‘ä»¬å®ŒæˆHTMLä¸»ä½“ï¼Œå¹¶åœ¨æµå®Œå…¨å†™å…¥å“åº”åç»“æŸå“åº”ã€‚ æ³¨æ„äº‹é¡¹ å°½é‡é¿å…ä½¿ç”¨windowç­‰å®¢æˆ·ç«¯å˜é‡Serverç«¯æ²¡æœ‰windowå¯¹è±¡ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ä»windowå¼€å§‹é€çº§åˆ¤æ–­ å®¢æˆ·ç«¯å¯¹è±¡çš„åˆ¤æ–­ç”¨typeofif(window &amp;&amp; window.autoScroll) =&gt; if(typeof window != &quot;undefined&quot; &amp;&amp; window.autoScroll) é¿å…å¾€windowç­‰å…¨å±€å¯¹è±¡æŒ‚è½½å®šæ—¶å™¨å¯èƒ½å†…å­˜æ³„æ¼ é¿å…random()ç­‰ä¸ç¡®å®šæ€§è¾“å‡º(è¾“å‡ºç»“æœå¯é¢„æœŸï¼Œä¸ä¾èµ–äºç¯å¢ƒç­‰)å¯èƒ½é€ æˆserverç«¯å’Œwebç«¯DOMåŒ¹é…æ£€éªŒä¸æˆåŠŸ é¿å…ä½¿ç”¨ç¬¬ä¸‰æ–¹éreactåº“ç”¨reactåŒ…è£…ä¸€ä¸ªjQueryå†™çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ å‚è€ƒé“¾æ¥ React ä¸­åŒæ„ï¼ˆSSRï¼‰åŸç†è„‰ç»œæ¢³ç†","link":"/posts/React-SSR-%E6%A2%B3%E7%90%86/"},{"title":"Reactå…¨å®¶æ¡¶è§†é¢‘æ•™ç¨‹","text":"å­¦ä¹ ç½‘å€å…¨å®¶æ¡¶ ç¬¬ä¸€èŠ‚ React ç®€ä»‹ReactReactèµ·æºäºFacebookçš„å†…éƒ¨é¡¹ç›®ï¼Œè¯¥å…¬å¸ç§¯æå°è¯•å¼•å…¥HTML5æŠ€æœ¯ç”¨æ¥æ¶è®¾Instagramç½‘ç«™ï¼Œå¼€å‘ä¸­å‘ç°HTML5çš„æ€§èƒ½ä¸‹é™æ˜æ˜¾ï¼Œè¾¾ä¸åˆ°é¢„æœŸçš„æ•ˆæœã€‚ä»–ä»¬å°±è‡ªå·±å¼€å‘äº†Reactæ¡†æ¶ã€‚ ReactJSå®˜æ–¹åœ°å€ GitHubåœ°å€ react ç‰¹ç‚¹ è™šæ‹ŸDOM: Reactä¹Ÿæ˜¯ä»¥æ•°æ®é©±åŠ¨çš„ï¼Œæ¯æ¬¡æ•°æ®å˜åŒ–Reactéƒ½ä¼šæ‰«ç æ•´ä¸ªè™šæ‹ŸDOMæ ‘ï¼Œè‡ªåŠ¨è®¡ç®—ä¸ä¸Šæ¬¡è™šæ‹ŸDOMçš„å·®å¼‚å˜åŒ–ï¼Œç„¶åé’ˆå¯¹éœ€è¦å˜åŒ–çš„éƒ¨åˆ†è¿›è¡Œå®é™…çš„æµè§ˆå™¨DOMæ›´æ–°ã€‚ ç»„ä»¶åŒ–ï¼š Reactå¯ä»¥ä»åŠŸèƒ½è§’åº¦æ¨ªå‘åˆ’åˆ†ï¼Œå°†UIåˆ†è§£æˆä¸åŒç»„ä»¶ï¼Œå„ç»„ä»¶éƒ½ç‹¬ç«‹å°è£…ï¼Œæ•´ä¸ªUIæ˜¯ç”±ä¸€ä¸ªä¸ªå°ç»„ä»¶æ„æˆçš„ä¸€ä¸ªå¤§ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶åªå…³ç³»è‡ªèº«çš„é€»è¾‘ï¼Œå½¼æ­¤ç‹¬ç«‹ã€‚ å•é¡¹æ•°æ®æµï¼šReactè®¾è®¡è€…è®¤ä¸ºæ•°æ®åŒå‘ç»‘å®šè™½ç„¶ä¾¿æ·ï¼Œä½†åœ¨å¤æ‚åœºæ™¯ä¸‹å‰¯ä½œç”¨ä¹Ÿæ˜¯å¾ˆæ˜æ˜¾ï¼Œæ‰€ä»¥Reactæ›´å€¾å‘äºå•å‘çš„æ•°æ®æµåŠ¨-ä»çˆ¶èŠ‚ç‚¹ä¼ é€’åˆ°å­èŠ‚ç‚¹ã€‚ï¼ˆä½¿ç”¨ReactLinkä¹Ÿå¯ä»¥å®ç°åŒå‘ç»‘å®šï¼Œä½†ä¸å»ºè®®ä½¿ç”¨ï¼‰ ç¬¬äºŒèŠ‚ æ„å»ºï¼šcreate-react-app å¿«é€Ÿè„šæ‰‹æ¶ å®˜ç½‘creat-react-appä¼˜ç‚¹ æ— éœ€é…ç½®ï¼šå®˜æ–¹çš„é…ç½®å ªç§°å®Œç¾ï¼Œå‡ ä¹ä¸ç”¨ä½ å†é…ç½®ä»»ä½•ä¸œè¥¿ï¼Œå°±å¯ä»¥ä¸Šæ‰‹å¼€å‘é¡¹ç›®ã€‚ é«˜é›†æˆæ€§ï¼šé›†æˆäº†å¯¹Reactï¼ŒJSXï¼ŒES6å’ŒFlowçš„æ”¯æŒã€‚ è‡ªå¸¦æœåŠ¡ï¼šé›†æˆäº†å¼€å‘æœåŠ¡å™¨ï¼Œä½ å¯ä»¥å®ç°å¼€å‘é¢„è§ˆä¸€ä½“åŒ–ã€‚ çƒ­æ›´æ–°ï¼šä¿å­˜è‡ªåŠ¨æ›´æ–°ï¼Œè®©ä½ çš„å¼€å‘æ›´ç®€å•ã€‚ å…¨å…¼å®¹æ€§ï¼šè‡ªåŠ¨å¤„ç†CSSçš„å…¼å®¹é—®é¢˜ï¼Œæ— éœ€æ·»åŠ -webkitå‰ç¼€ã€‚ è‡ªåŠ¨å‘å¸ƒï¼šé›†æˆå¥½äº†å‘å¸ƒæˆå“åŠŸèƒ½ï¼Œç¼–è¯‘åç›´æ¥å‘å¸ƒï¼Œå¹¶ä¸”åŒ…å«äº†sourcemapsåŠŸèƒ½ã€‚ create-react-appå®‰è£…1npm install -g create-react-app åˆ›å»ºReacté¡¹ç›®1create-react-app react-app æ³¨æ„ï¼š ç›®å½•åä¸è¦ä½¿ç”¨å¤§å°å†™ã€‚å› ä¸ºLinuxä¸‹æ˜¯ä¸¥æ ¼åŒºåˆ†å¤§å°å†™çš„ã€‚ å¯åŠ¨æœåŠ¡1npm start æ³¨æ„ï¼š å¬æ‡‚ä¸ç­‰äºå­¦ä¼šï¼Œä¸€å®šè¦åŠ¨æ‰‹åšä¸€åšã€‚ ç¬¬äºŒèŠ‚ æ„å»ºå·¥å…· generator-react-webpackè¿™ä¹Ÿæ˜¯ä¸ªæ„å»ºå·¥å…·ï¼Œéœ€è¦yeomanæ”¯æŒã€‚ ä¼˜ç‚¹ä»‹ç» åŸºäºwebpackæ„å»ºï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„é…ç½®è‡ªå·±éœ€è¦çš„webpackã€‚ æ”¯æŒES6ï¼Œé›†æˆäº†Babel-Loaderã€‚ æ”¯æŒä¸åŒé£æ ¼çš„CSSï¼ˆsassï¼Œlessï¼Œstylusï¼‰ã€‚ æ”¯æŒPostCSSè½¬æ¢æ ·å¼ã€‚ é›†æˆäº†esLintåŠŸèƒ½ã€‚ å¯ä»¥è½»æ¾é…ç½®å•å…ƒæµ‹è¯•ï¼Œæ¯”å¦‚Karmaå’ŒMocha å®‰è£…éœ€è¦å…ˆå®‰è£…yeoman 12npm install -g yonpm install -g generator-react-webpack åˆ›å»ºç›®å½•1mkdir new-react-demo è¿›å…¥æ–‡ä»¶ 1cd new-react-demo ç”¨ç”Ÿæˆå™¨ç”Ÿæˆé¡¹ç›®ç›®å½• 1yo react-webpack å¯åŠ¨1npm start ç¬¬ä¸‰èŠ‚ æ„å»ºï¼š webpackä¸€æ­¥ä¸€æ­¥æ„å»º01ä»å¤´å¼€å§‹è‡ªå·±æ„å»ºä¸€ä¸ªç®€å•çš„Reactå¼€å‘ç¯å¢ƒã€‚ å»ºç«‹æ–‡ä»¶å¤¹,è¿›å…¥æ–‡ä»¶å¤¹ 12mkdir react-webpackcd react-webpack å¯¹webpackåˆå§‹åŒ– 1npm init å¦‚æœæ„Ÿè§‰ä¸€ç›´å›è½¦éº»çƒ¦ï¼Œå¯ä»¥åŠ -yå‚æ•°ï¼Œè¿™æ ·npmå°±ç›´æ¥ç”Ÿæˆäº†ã€‚ 1npm init -y åˆå§‹åŒ–åï¼Œå¯ä»¥å®‰è£…webpackäº†ã€‚ 1npm install --save-dev webpack é…ç½®webpack.config.jsåœ¨æ ¹ç›®å½•å»ºç«‹webpack.config.js , å»ºç«‹åŸºæœ¬çš„å…¥å£å‡ºå£æ–‡ä»¶ 12345678910var path = require('path')module.exports = { // å…¥å£æ–‡ä»¶ entry: './app/index.js', // å‡ºå£æ–‡ä»¶ output: { filename: 'index.js', path: path.resolve(__dirname, 'dist') }} æ–‡ä»¶é…ç½®å¥½åï¼Œ è¦æ ¹æ®æ–‡ä»¶çš„ç»“æ„æ”¹é€ é¡¹ç›®ç›®å½•ã€‚åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºappå’Œdistæ–‡ä»¶å¤¹ï¼Œåœ¨appæ–‡ä»¶å¤¹é‡Œæ–°å»ºindex.jsæ–‡ä»¶ æ–°å»ºindex.htmlåœ¨æ ¹ç›®å½•æ–°å»ºindex.htmlï¼Œ å¹¶å¼•å…¥webpackè®¾ç½®ä¸­çš„å‡ºå£æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ã€‚ 12345678910111213&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt; &lt;title&gt;Reactå…¨å®¶æ¡¶&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- å¼•å…¥å‡ºå£æ–‡ä»¶ --&gt; &lt;script src=&quot;./dist/index.js&quot;&gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt;&gt; æ–°å»ºindex.jsåœ¨/app/index.jsä¸­ 1234567function component() { var element = document.createElement('div') element.innerHTML = 'Hello React' return element}document.body.appendChild(component()) åŠ å…¥æ‰“åŒ…å‘½ä»¤åœ¨package.jsonä¸­ï¼Œscriptså±æ€§åŠ å…¥buildå‘½ä»¤ 123&quot;scripts&quot;: { &quot;build&quot;: &quot;webpack&quot;}, åœ¨ç»ˆç«¯ä¸­è¾“å…¥npm run build ï¼Œå°±å¯ä»¥çœ‹åˆ°æ‰“åŒ…ç»“æœã€‚ æ€»ç»“åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œæˆ‘ä»¬æ­£ç¡®å®‰è£…äº†webpackï¼Œè¿›è¡Œäº†å‡ºå…¥å£é…ç½®ï¼Œä¹Ÿçœ‹åˆ°äº†webpackçš„è¾“å‡ºæ•ˆæœã€‚ å¼€å‘æœåŠ¡å™¨é…ç½®æ·»åŠ å®æ—¶æ›´æ–°çš„æœåŠ¡ å®‰è£…webpack-dev-server1npm install --save-dev webpack-dev-server å®‰è£…å®Œæˆåé…ç½®webpack.config.js 123456devServer: { contentBase: './', host: 'localhost', compress: true, port: 1717} é…ç½®å¥½åï¼Œåœ¨package.jsoné‡Œå¢åŠ scriptså‘½ä»¤ 1234&quot;scripts&quot;: { &quot;build&quot;: &quot;webpack&quot;, &quot;server&quot;: &quot;webpack-dev-server --open&quot;}, â€“openæ˜¯è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œéƒ½é…ç½®å®Œæˆåå¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥npm run server çœ‹æ•ˆæœ è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ä¿®æ”¹ä»£ç æ—¶ï¼Œå¹¶ä¸èƒ½è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ï¼ŒæŸ¥çœ‹æœ€æ–°æ•ˆæœã€‚è€Œæ˜¯è¦å†æ¬¡npm run buildæ‰å¯ä»¥ã€‚åªè¦åœ¨å‡ºå£æ–‡ä»¶é…ç½®ä¸­å¢åŠ ä¸€ä¸ªpublicPath: â€˜dist/â€˜ 12345output: { filename: 'index.js', path: path.resolve(__dirname, 'dist'), publicPath: 'dist/'}, åœ¨index.htmlä¸­å¼•å…¥js 1&lt;script src=&quot;./dist/index.js&quot;&gt;&lt;/script&gt; æ€»ç»“-3è¿™èŠ‚è¯¾ä¸»è¦é…ç½®webpackçš„åŸºæœ¬é…ç½®ã€‚ ç¬¬4èŠ‚ æ„å»ºï¼š webpackä¸€æ­¥ä¸€æ­¥æ„å»º02ä¸ŠèŠ‚å¯¹webpackè¿›è¡ŒåŸºç¡€é…ç½®ï¼Œå·²ç»èƒ½æ‰“åŒ…åˆ°é¡µé¢ä¸­ã€‚è¿™èŠ‚ä¸»è¦é’ˆå¯¹ES6å’ŒReacté…ç½®ã€‚å­¦ä¹ ä¹‹å‰éœ€ç¡®ä¿ä¸ŠèŠ‚é…ç½®å®Œæˆã€‚ Babelå®‰è£…é…ç½®webpacké…ç½®Babeléœ€è¦å…ˆåŠ å…¥babel-loaderï¼Œè¿˜éœ€è¦æ”¯æŒes2015,Reactï¼Œæ‰€ä»¥å®‰è£…4ä¸ªåŒ…ã€‚ 1npm install --save-dev babel-core babel-loader babel-preset-es2015 babel-preset-react å®‰è£…å®Œæˆåï¼Œä¼šåœ¨package.jsonä¸­çœ‹åˆ°è¿™äº›åŒ…å’Œç‰ˆæœ¬ä¿¡æ¯ 12345678&quot;devDependencies&quot;: { &quot;babel-core&quot;: &quot;^6.26.0&quot;, &quot;babel-loader&quot;: &quot;^7.1.2&quot;, &quot;babel-preset-es2015&quot;: &quot;^6.24.1&quot;, &quot;babel-preset-react&quot;: &quot;^6.24.1&quot;, &quot;webpack&quot;: &quot;^3.8.1&quot;, &quot;webpack-dev-server&quot;: &quot;^2.9.4&quot;} é…ç½®moduleåœ¨webpack.config.jsä¸­é…ç½®moduleï¼Œå³loaderã€‚ 123456789101112 module: { loaders: [ { test: /\\.js$/, exclude: /node_modules/, loaders: 'babel-loader', query: { presets: ['es2015', 'react'] } } ]} ç¼–å†™Reactwebpakcå·²ç»é…ç½®å®Œæˆã€‚ è¿™é‡Œå†™ä¸€ä¸ªReactæ–‡ä»¶æ¥æµ‹è¯•ä¸€ä¸‹ã€‚ å…ˆå®‰è£…Reactå’ŒReact-domè¿™ä¸¤ä¸ªåŒ…ã€‚ å®‰è£…Reactå’ŒReact-dom1npm install --save react react-dom å®‰è£…å®Œæˆåï¼Œå°†app/index.jsä¸­çš„åŸç”Ÿjsä»£ç æ”¹å†™æˆReactä»£ç ã€‚ index.js 1234567import React from 'react'import ReactDOM from 'react-dom'ReactDOM.render( &lt;div&gt;Hello Webpack&lt;/div&gt;, document.getElementById('app')) è¿™é‡Œå¢åŠ äº†#appçš„divï¼Œåœ¨index.htmlä¸­æ·»åŠ  1&lt;div id=&quot;app&quot;&gt;&lt;/div&gt; é…ç½®å®Œæˆåï¼Œnpm run serverå¯ä»¥çœ‹åˆ°æ•ˆæœã€‚æ¥ä¸‹æ¥å°±å¯ä»¥æ„‰å¿«çš„å¼€å‘äº† æ€»ç»“-4å…¶å®è‡ªå·±é…ç½®Reactå¼€å‘ç¯å¢ƒåœ¨å®é™…å·¥ä½œä¸­å¹¶ä¸å¤šã€‚å› ä¸ºæˆ‘ä»¬çš„é…ç½®ä¸æ˜¯å¾ˆæˆç†Ÿï¼Œè€Œä¸”æ”¯æŒè¾ƒå°‘ã€‚ è¿™é‡Œå­¦ä¹ åªæ˜¯ä¸ºäº†æ›´å¥½çš„æŒæ¡Reactæ„å»ºè¿‡ç¨‹å’Œè®¾ç½®å‚æ•°ï¼Œå®é™…å·¥ä½œä¸­å°½é‡ä½¿ç”¨åˆé€‚çš„è„šæ‰‹æ¶å·¥å…·ã€‚ ç¬¬5èŠ‚ è·¯ç”±ï¼š Hello Reactè·¯ç”±é€šè¿‡å‰é¢4èŠ‚è¯¾å·²ç»å¯ä»¥é¡ºåˆ©çš„æ„å»ºReactçš„åŸºæœ¬å¼€å‘ç¯å¢ƒäº†ã€‚ è¿™èŠ‚è¯¾å¼€å§‹ç”¨å‡ èŠ‚è¯¾çš„æ—¶é—´å…¨é¢äº†è§£ä¸€ä¸‹React Routerã€‚ è·¯ç”±åœ¨å¼€å‘è¿‡ç¨‹ä¸­éƒ½ä¼šç”¨åˆ°ã€‚å®ƒæ˜¯SPA(å•é¡µåº”ç”¨)çš„åŸºç¡€ï¼Œå¯ä»¥è¯´ä¸ä¼šè·¯ç”±ç³»ç»Ÿå°±æ— æ³•ä½¿ç”¨Reactè¿›è¡Œç¼–ç¨‹ã€‚ å…¶å®è·¯ç”±å¯ä»¥ç®€å•çš„çœ‹ä½œæˆ‘ä»¬å¹³æ—¶è®¿é—®çš„ç½‘å€æˆ–åœ°å€ã€‚è¿™æ ·æœ‰åŠ©äºç†è§£ï¼Œä½†å¹¶ä¸æ­£ç¡®ã€‚ routeråŒ…å®‰è£…1npm install --save react-router react-router-dom react-router: æ˜¯åŸºæœ¬çš„routeråŒ…ï¼Œé‡Œé¢å«çš„å†…å®¹è¾ƒå¤šï¼Œä½†æ˜¯åœ¨ç½‘é¡µå¼€å‘ä¸­æœ‰å¾ˆå¤šç”¨ä¸åˆ°ï¼Œç°åœ¨å¸‚é¢ä¸Šçš„è¯¾ç¨‹ç®€å•åŸºæœ¬éƒ½æ˜¯è¿™ä¸ªåŒ…çš„æ•™ç¨‹ã€‚ react-router-dom: éšç€Reactç”Ÿæ€ç¯å¢ƒçš„å£®å¤§ï¼Œåå‡ºç°çš„åŒ…ã€‚è¿™ä¸ªåŒ…æ¯”react-routerè½»å·§è®¸å¤šã€‚ æ³¨æ„ï¼š å®‰è£…äº†react-routerå°±ä¸ç”¨å®‰è£…react-router-domåŒ…äº†ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†è®²è¯¾æ–¹ä¾¿ï¼Œæ‰€ä»¥å®‰è£…äº†ä¸¤ä¸ªåŒ…ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œè¯·è·Ÿè¿›éœ€è¦è¿›è¡Œå®‰è£…ã€‚ å®‰è£…æ—¶ï¼Œä½¿ç”¨â€“saveï¼Œå› ä¸ºåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¹Ÿè¦ä½¿ç”¨ã€‚ å¤ä¹ componentä¹‹å‰å­¦è¿‡Reactç»„ä»¶å¦‚ä½•ç¼–å†™ï¼Œè¿™é‡Œç®€å•å¤ä¹ ä¸€ä¸‹ã€‚ åšä¸€ä¸ªAé¡µé¢çš„ç»„ä»¶ åœ¨appæ–‡ä»¶å¤¹ä¸‹æ–°å»ºcomponentA.jsï¼Œå¼•å…¥ReactåŒ…ï¼Œå¹¶ç¼–å†™Aé¡µé¢çš„ç»„ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š componentA.js 123456789import React from 'react'export default class componentA extends React.Component{ render(){ return( &lt;div&gt;Aé»˜è®¤ç»„ä»¶&lt;/div&gt; ) }} è¿™é‡Œç”¨äº†ES6è¯­æ³•ï¼Œè¿™ä¹Ÿæ˜¯Reactç°åœ¨æ¨èçš„ï¼Œå¦‚æœä½¿ç”¨è€è¯­æ³•ä¼šå‡ºç°è­¦å‘Š åœ¨index.jsä¸­å¼•å…¥Aç»„ä»¶ï¼Œå¹¶æ”¹å†™æ¸²æŸ“ä»£ç  123456789import React from 'react'import ReactDOM from 'react-dom'import Componenta from './componentA'ReactDOM.render( &lt;Componenta/&gt;, document.getElementById('app')) é¢„è§ˆçœ‹æ•ˆæœ ç»éªŒ ä¹‹å‰å†™çš„æ—¶å€™æ˜¯ &lt;componentA/&gt;, ä¼šæŠ¥ä¸¤ä¸ªé”™è¯¯ Warning: &lt;componentA /&gt; is using uppercase HTML. Always use lowercase HTML tags in React.è­¦å‘Šï¼š htmlæ ‡ç­¾ä¸€å®šè¦ç”¨å°å†™ Warning: The tag &lt;componentA&gt; is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.è­¦å‘Šï¼šæ ‡ç­¾&lt;componentA&gt;ä½œä¸ºç»„ä»¶ï¼Œé¦–å­—æ¯è¦å¤§å†™ ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªç»„ä»¶çš„å¼€å‘å’Œå¼•ç”¨æ¥ä¸‹æ¥ä»¿ç…§ä¸Šé¢çš„æ–¹æ³•å¼€å‘ä¸¤ä¸ªæ–°ç»„ä»¶ï¼ŒComponentBï¼Œ ComponentCã€‚ä»£ç å¦‚ä¸‹ ComponentB.js 1234567891011import React from 'react'export default class componentB extends React.Component{ render(){ return( &lt;div&gt;è¿™æ˜¯Bç»„ä»¶&lt;/div&gt; ) }} ComponentC.js 1234567891011import React from 'react'export default class componentC extends React.Component{ render(){ return( &lt;div&gt;è¿™æ˜¯Cç»„ä»¶&lt;/div&gt; ) }} å†™å®Œåå¼•å…¥åˆ°index.js æ–‡ä»¶ 12345import Componenta from './componentA'import Componentb from './componentb'import Componentc from './componentc' å¼•å…¥å’Œä¹¦å†™è·¯ç”±é¡µé¢åˆ¶ä½œå¥½åï¼Œéœ€è¦è·¯ç”±æ¥åˆ‡æ¢ã€‚å…ˆå¼•å…¥è·¯ç”±åŒ…ï¼Œè¿™é‡Œç”¨åˆ°ä¸¤ä¸ªæ¨¡å—Routerï¼Œrouteã€‚ 123import {BrowserRouter as Router, Route} from 'react-router-dom' æ”¹å†™æ–‡ä»¶ï¼Œå¢åŠ è·¯ç”±è®¾ç½® 123456789101112ReactDOM.render( &lt;Router&gt; &lt;div&gt; &lt;Route exact path=&quot;/&quot; component=&quot;{Componenta}&quot;/&gt; &lt;Route path=&quot;/componentb&quot; component=&quot;{Componentb}&quot;/&gt; &lt;Route path=&quot;/componentc&quot; component=&quot;{Componentc}&quot;/&gt; &lt;/div&gt; &lt;/Router&gt;, document.getElementById('app')) æ³¨æ„ï¼šè¿™é‡Œæ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½åŠ å¼•å·ï¼Œæ­£ç¡®å¦‚ä¸‹123456789101112ReactDOM.render( &lt;Router&gt; &lt;div&gt; &lt;Route exact path=&quot;/&quot; component={Componenta}/&gt; &lt;Route path=&quot;/componentb&quot; component={Componentb}/&gt; &lt;Route path=&quot;/componentc&quot; component={Componentc}/&gt; &lt;/div&gt; &lt;/Router&gt;, document.getElementById('app')) æ³¨æ„ï¼Œè¿™é‡Œçš„exactæ˜¯ç²¾ç¡®åŒ¹é…çš„æ„æ€ï¼Œå¦‚æœæœ‰å¤šå±‚è·¯ç”±åµŒå¥—æ—¶ï¼Œexactå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç²¾ç¡®åŒ¹é…åˆ°æƒ³è¦è·³è½¬çš„è·¯ç”± è·¯ç”±è®¾ç½®å®Œæ¯•è¿˜ä¸èƒ½åˆ‡æ¢ï¼Œéœ€è¦åšä¸€ä¸ªåˆ‡æ¢çš„ç»„ä»¶ã€‚å‘½åä¸º&lt;nav/&gt; å¼€å‘Navç»„ä»¶åœ¨appæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªnav.jsï¼Œå¼•å…¥Reactå’ŒReact-router-dom 12345678910111213141516import React from 'react'import {NavLink} from 'raect-router-dom'const NavBar = () =&gt; ( &lt;div&gt; &lt;div&gt; &lt;NavLink exact to=&quot;/&quot;&gt;ComponentA&lt;/NavLink&gt;&lt;br/&gt; &lt;NavLink to=&quot;/componentb&quot;&gt;ComponentB&lt;/NavLink&gt;&lt;br/&gt; &lt;NavLink to=&quot;/componentc&quot;&gt;ComponentC&lt;/NavLink&gt; &lt;/div&gt; &lt;/div&gt;)export default NavBar ç»„ä»¶ç¼–å†™å®Œæˆåï¼Œå¼•å…¥index.jsï¼Œå¹¶æ·»åŠ &lt;Nav/&gt;æ ‡ç­¾åˆ°ä»£ç é‡Œ 12345678910111213ReactDOM.render( &lt;Router&gt; &lt;div&gt; &lt;Nav/&gt; &lt;Route exact path=&quot;/&quot; component={Componenta}/&gt; &lt;Route path=&quot;/componentb&quot; component={Componentb}/&gt; &lt;Route path=&quot;/componentc&quot; component={Componentc}/&gt; &lt;/div&gt; &lt;/Router&gt;, document.getElementById('app')) åˆ°è¿™é‡Œï¼Œå°±å¯ä»¥è¿›è¡Œé¢„è§ˆäº†ï¼Œä¹Ÿå¯ä»¥é¡ºåˆ©çš„åˆ‡æ¢é¡µé¢å†…å®¹ï¼Œè¯´æ˜è·¯ç”±å·²ç»èµ·ä½œç”¨äº†ã€‚å½“ç„¶è¿™åªæ˜¯è·¯ç”±æœ€ç®€å•çš„å†™æ³•ã€‚ æ€»ç»“è¿™é‡Œç¼–å†™ä»£ç çš„æ—¶å€™é‡åˆ°ç‚¹é—®é¢˜ï¼š å¤§å°å†™è¦æ³¨æ„ htmlæ ‡ç­¾ä¸€å®šè¦ç”¨å°å†™ æ ‡ç­¾&lt;componentA&gt;ä½œä¸ºç»„ä»¶ï¼Œé¦–å­—æ¯è¦å¤§å†™ï¼Œæ”¹ä¸º&lt;Componenta/&gt; æœ‰çš„åœ°æ–¹æ˜¯ä¸éœ€è¦å¼•å·çš„ ç¬¬6èŠ‚ è·¯ç”±ï¼š NavLinkä¸­å¸¸ç”¨é€‰é¡¹ä¸ŠèŠ‚åˆè¯†äº†Reactè·¯ç”±ï¼Œå¹¶åˆ¶ä½œäº†å°æ¡ˆä¾‹ã€‚è¿™èŠ‚å­¦ä¹ NavLinkæ ‡ç­¾ä¸Šçš„é€‰é¡¹ Routeå’ŒNavLinkçš„exacté€‰é¡¹exact ç²¾ç¡®åŒ¹é…ï¼Œä¸€èˆ¬è€Œè¨€ï¼ŒReactä¼šåŒ¹é…æ‰€æœ‰èƒ½åŒ¹é…çš„è·¯ç”±ç»„ä»¶ï¼Œexactå¯ä»¥ä½¿æˆ‘ä»¬çš„åŒ¹é…æ›´ç²¾ç¡®ã€‚ exactçš„å€¼ä¸ºboolean, ä¸ºtrueè¡¨ç¤ºä¸¥æ ¼åŒ¹é…ï¼Œä¸ºfalseè¡¨ç¤ºæ­£å¸¸åŒ¹é… 1234&lt;Route path=&quot;/&quot; component={Componenta}/&gt;&lt;Route path=&quot;/componentb&quot; component={Componentb}/&gt;// è¿™ç§æƒ…å†µï¼Œè®¿é—®/componentbï¼Œä¼šæŠŠcomponentç»„ä»¶ä¹Ÿæ˜¾ç¤ºå‡ºæ¥ æ‰€ä»¥ï¼Œç”¨exactæ¥è§£å†³è¿™ä¸ªé—®é¢˜ 12&lt;Route exact path=&quot;/&quot; component={Componenta}/&gt;&lt;Route path=&quot;/componentb&quot; component={Componentb}/&gt; åœ¨å¤šå±‚(è·¯ç”±)è·¯ç”±åµŒå¥—æ—¶ä¹Ÿä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œè¦å¤šç”¨exactæ¥è§£å†³ç²¾ç¡®åŒ¹é…é—®é¢˜ NavLinkä½¿ç”¨æ ·å¼æ€æ ·ç»™NavLinkæ·»åŠ æ ·å¼å‘¢ï¼Œè¦å…ˆé…ç½®ä¸€ä¸‹webpack.config.jsæ–‡ä»¶ã€‚ å…ˆå†™ä¸€ä¸ªcss,å’Œnav.jsæ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œå‘½åä¸ºnav.css nav.css 123.blue{ color: blue;} åœ¨nav.jsä¸­å¼•å…¥css 1import './nav.css' è¿™æ—¶ï¼Œä¼šæŠ¥é”™ 12Module parse failed: Unexpected token (1:0)You may need an appropriate loader to handle this file type. å› ä¸ºwebpackè¿˜ä¸èƒ½å¯¹cssæ–‡ä»¶è¿›è¡Œæ­£ç¡®çš„è§£æï¼Œéœ€è¦åŠ å…¥cssçš„loaderã€‚å…ˆç”¨npmå®‰è£…style-loaderå’Œcss-loader 1npm install --save-dev style-loader css-loader å®‰è£…å¥½åï¼Œåœ¨webpack.config.jsé‡Œé…ç½®cssçš„loaderã€‚å¦‚ä¸‹ 1234 { test: /\\.css$/, loader: ['style-loader', 'css-loader']} é…ç½®å¥½åï¼Œéœ€è¦é‡å¯ä¸€ä¸‹æœåŠ¡å™¨ï¼Œæ‰å¯ä»¥æ­£ç¡®è§£æã€‚ è¿™æ—¶å€™ï¼Œå°±å¯ä»¥åœ¨NavLinkä¸ŠåŠ ClassNameæŒ‡å®šcssç±»äº†ã€‚ 1&lt;NavLink exact to=&quot;/&quot; className=&quot;blue&quot;&gt;ComponentA&lt;/NavLink&gt;&lt;br/&gt; ç›´æ¥åœ¨NavLinkä¸Šå†™æ ·å¼é™¤äº†ç”¨cssæ–‡ä»¶è¿™ç§æ–¹å¼ï¼Œè¿˜å¯ä»¥æ›´ç›´æ¥ï¼Œåœ¨NavLinkä¸Šå†™æ ·å¼ï¼Œçœ‹ä¸‹é¢ 12&lt;NavLink to=&quot;/componentb&quot; style={{color:'red',fontSize:'30px'}}&gt;ComponentB&lt;/NavLink&gt;&lt;br/&gt; è¿™ç§å†™æ³•è™½ç„¶åªç®¡å¥½ç”¨ï¼Œä½†æ˜¯ä¸å»ºè®®åœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨ï¼Œè¿™å¢åŠ äº†ä»£ç è€¦åˆåº¦ï¼Œä¸æ˜¯ä¸€ç§å¥½çš„ç¼–ç¨‹æ–¹å¼ã€‚æ³¨æ„ï¼Œè·ŸåŸç”Ÿå†™æ³•å®Œå…¨ä¸ä¸€æ · ä¸‹é¢æ˜¯æˆ‘ç›´æ¥å†™çš„ã€‚é”™è¯¯â†“â†“â†“â†“â†“â†“ 12&lt;NavLink to=&quot;/componentb&quot; style=&quot;{{color:red;font-size:30px;}}&quot;&gt;ComponentB&lt;/NavLink&gt;&lt;br/&gt; styleåé¢çš„ä¸èƒ½ç”¨å¼•å·å¼•ç”¨ï¼Œæ˜¯ä¸ªå¤§å¯¹è±¡ é‡Œé¢æ˜¯key-valueå½¢å¼çš„ï¼Œä¸€ä¸ªå±æ€§ç»“æŸä¸æ˜¯ç”¨åˆ†å· æ¯ä¸ªå±æ€§åé¢éƒ½è¦ç”¨å¼•å·å¼•èµ·æ¥ã€‚ activeClassNameä½œä¸ºä¸€ä¸ªé“¾æ¥ï¼Œæ˜¯æœ‰æ¿€æ´»çŠ¶æ€çš„ã€‚å®ƒæ¥å—ä¸€ä¸ªç±»åã€‚ç°åœ¨æˆ‘ä»¬åœ¨nav.csså®šä¹‰ä¸€ä¸ªactiveçš„ç±»ï¼ŒæŠŠå­—ä½“è®¾ä¸ºçº¢è‰² .nav.css 123456.blue{ color: blue;}.active { color: red;} ä¿®æ”¹NavLinkæ ‡ç­¾ nav.js 123456789101112131415import React from 'react'import {NavLink} from 'react-router-dom'import './nav.css'const NavBar = () =&gt; ( &lt;div&gt; &lt;div&gt; &lt;NavLink exact to=&quot;/&quot; className=&quot;blue&quot;&gt;ComponentA&lt;/NavLink&gt;&lt;br/&gt; &lt;NavLink to=&quot;/componentb&quot; activeClassName=&quot;active&quot; style={{color:'#2BAB40',fontSize:'14px'}}&gt;ComponentB&lt;/NavLink&gt;&lt;br/&gt; &lt;NavLink to=&quot;/componentc&quot; activeClassName=&quot;active&quot;&gt;ComponentC&lt;/NavLink&gt; &lt;/div&gt; &lt;/div&gt;)export default NavBar æ€»ç»“-6è¿™èŠ‚è¯¾è™½ç„¶ç®€å•ï¼Œä½†éƒ½æ˜¯å®é™…å·¥ä½œä¸­å¸¸ç”¨åˆ°çš„å°æŠ€å·§ï¼Œä¾‹å¦‚activeClassNameï¼ŒclassNameï¼Œè¿˜æœ‰webpacké…ç½®ä¹Ÿæ˜¯å¿…é¡»æŒæ¡çš„ã€‚ ä¸€å®šè¦æ³¨æ„åŸç”Ÿå’ŒReactè¯­æ³•åŒºåˆ«~~~~ ç¬¬7èŠ‚ è·¯ç”±ï¼š 404è®¾ç½®å’Œè·³è½¬é¡¹ç›®ä¸­éƒ½è¦è®¾ç½®404é¡µé¢ï¼Œå³è·¯ç”±ä¸å­˜åœ¨æ—¶è·³è½¬çš„é¡µé¢ã€‚Reactä¸­çš„404ä¸»è¦æ˜¯é Switchç»„ä»¶æ¥å®Œæˆçš„ã€‚ è¿™èŠ‚æ¥å­¦ä¹ Switchç»„ä»¶ç›¸å…³çŸ¥è¯†å’Œè·³è½¬çš„ç›¸å…³çŸ¥è¯†ã€‚ Switchç»„ä»¶çš„ä½¿ç”¨ åœ¨index.jsé¡µé¢ä¸­ï¼Œåœ¨å¼•å…¥è·¯ç”±çš„åœ°æ–¹ï¼Œå¼•å…¥Switchã€‚ 12import {BrowserRouter as Router, Route, Switch} from 'react-router-dom' ç¼–å†™404é¡µé¢ åœ¨appæ–‡ä»¶å¤¹ä¸‹æ–°å»ºerror.js, å°è£…æˆç»„ä»¶ï¼Œæ–¹ä¾¿è·¯ç”±è°ƒç”¨ error.js 123456789import React from 'react'export default class error extends React.Component{ render(){ return( &lt;h2&gt;404é¡µé¢&lt;/h2&gt; ) }} åœ¨nav.jsä¸­åŠ å…¥ä¸€ä¸ªä¸å­˜åœ¨çš„é“¾æ¥NavLinkï¼Œä»¥ä¾¿é”™è¯¯æ—¶è·³è½¬åˆ°404é¡µé¢ nav.js 12&lt;NavLink to=&quot;/notfound&quot; activeClassName=&quot;active&quot;&gt;404&lt;/NavLink&gt; Switchç™»åœºï¼Œæ”¹å†™index.jsé¡µé¢ï¼Œå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526import React from 'react'import ReactDOM from 'react-dom'import {BrowserRouter as Router, Route, Switch} from 'react-router-dom'import Componenta from './componentA'import Componentb from './componentB'import Componentc from './componentC'import Nav from './nav'import Error from './error' // æ–°å¢ReactDOM.render( &lt;Router&gt; &lt;div&gt; &lt;Nav/&gt; //æ–°å¢ &lt;Switch&gt; &lt;Redirect from=&quot;/redirect&quot; to=&quot;/componentb&quot;/&gt; &lt;Route exact path=&quot;/&quot; component={Componenta}/&gt; &lt;Route path=&quot;/componentb&quot; component={Componentb}/&gt; &lt;Route path=&quot;/componentc&quot; component={Componentc}/&gt; &lt;Route component={Error}/&gt; //æ–°å¢ &lt;/Switch&gt; &lt;/div&gt; &lt;/Router&gt;, document.getElementById('app')) ==æ³¨æ„==ï¼šSwitchè¦å°†RouteåŒ…æ‹¬åœ¨é‡Œé¢ åœ¨æµè§ˆå™¨ä¸­ç‚¹å‡»404 ï¼Œä¼šè·³è½¬åˆ°error.jsé¡µé¢ï¼Œè¿™é‡Œçš„é“¾æ¥æ˜¯éšä¾¿å†™çš„ï¼Œä½†æ˜¯æˆåŠŸçš„è·³åˆ°äº†é”™è¯¯é¡µé¢ã€‚ æ³¨æ„é¡ºåºï¼š 404åº”è¯¥åœ¨æœ€åã€‚ Redirectç»„ä»¶ä½¿ç”¨å¼€å‘ä¸­æœ‰æ—¶éœ€è¦åœ¨ç¨‹åºä¸­æ ¹æ®ä¸šåŠ¡é€»è¾‘è¿›è¡Œè·³è½¬ï¼Œæˆ–ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ç›´æ¥è·³è½¬åˆ°å…¶ä»–é“¾æ¥ï¼Œè¿™æ—¶ï¼Œå¯ä»¥ç”¨Redirectç»„ä»¶æ¥è§£å†³ã€‚ å¼•å…¥Redirectç»„ä»¶ åœ¨index.jsä¸­å¼•å…¥Redirect ç»„ä»¶ 12import {BrowserRouter as Router, Route, Switch, Redirect} from 'react-router-dom' åŠ å…¥è·³è½¬é“¾æ¥ åœ¨nav.jsé‡ŒåŠ å…¥ä¸€ä¸ªå‡†å¤‡è·³è½¬çš„é“¾æ¥ï¼Œå¦‚ä¸‹ï¼š 12&lt;NavLink to=&quot;/redirect&quot; activeClassName=&quot;active&quot;&gt;redirect&lt;/NavLink&gt; è¿™æ—¶å€™ç‚¹å‡»é“¾æ¥ä¼šè·³è½¬åˆ°404é¡µé¢ï¼Œä½†æˆ‘ä»¬å¸Œæœ›è·³è½¬åˆ°componentBé¡µé¢ã€‚ åŠ å…¥&lt;Redirect&gt; æ ‡ç­¾ åœ¨index.jsä¸­åŠ å…¥&lt;Redirect&gt;æ ‡ç­¾ 1234567891011121314&lt;Router&gt; &lt;div&gt; &lt;Nav/&gt; &lt;Switch&gt; &lt;Redirect from=&quot;/redirect&quot; to=&quot;/componentb&quot;/&gt; &lt;Route exact path=&quot;/&quot; component={Componenta}/&gt; &lt;Route path=&quot;/componentb&quot; component={Componentb}/&gt; // æ–°å¢ &lt;Route path=&quot;/componentc&quot; component={Componentc}/&gt; &lt;Route component={Error}/&gt; &lt;/Switch&gt; &lt;/div&gt;&lt;/Router&gt;, from: è¡¨ç¤ºæ¥è‡ªäºä»€ä¹ˆé“¾æ¥ï¼Œä¹Ÿå°±æ˜¯å½“å‰é“¾æ¥æ˜¯redirectæ—¶ï¼Œè§¦å‘è·³è½¬å‘½ä»¤ to: è¡¨ç¤ºè¦è·³è½¬åˆ°çš„é“¾æ¥ï¼Œè¿™é‡Œè·³è½¬åˆ°componentbç»„ä»¶ã€‚ å†™å®Œåï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹è·³è½¬æ•ˆæœäº†ã€‚ æ€»ç»“-7è®¾ç½®404å’Œè·³è½¬éƒ½è¦å…ˆåŠ å…¥Switchçš„æ”¯æŒï¼Œåœ¨åˆ¶ä½œ404æ—¶ï¼Œä¸€å®šè¦æŠŠ404çš„Routeè®¾ç½®åˆ°æ‰€æœ‰è·¯ç”±çš„åé¢ã€‚ è·³è½¬æ—¶ä½¿ç”¨Redirectæ ‡ç­¾ï¼Œè¿™ä¸ªå¾ˆå®¹æ˜“å®ç°ã€‚ ç¬¬8èŠ‚ï¼š è·¯ç”±: é€šè¿‡è·¯ç”±ä¼ å€¼çš„æ–¹æ³•å¼€å‘ä¸­è·¯ç”±ä¼ å€¼æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè™½ç„¶Reactæœ‰æ›´ä¼˜é›…çš„æ–¹å¼ï¼Œè¿™é‡Œè¿˜æ˜¯æ¥å­¦ä¹ ä¸€ä¸‹è·¯ç”±å¦‚ä½•ä¼ å€¼ã€‚ æœ€å¸¸è§çš„ä¼ å€¼ä¼ å€¼æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸»è¦ä¾é propsæ¥æ”¶ã€‚ åŸºç¡€è¯¾ç¨‹ä¸­å·²ç»å­¦äº†ç»„ä»¶ä¹‹é—´çš„ä¼ å€¼æ–¹æ³•ã€‚è·¯ç”±å’Œé¡µé¢ä¹‹é—´çš„ä¼ å€¼ä¹Ÿç±»ä¼¼ã€‚ åœ¨nav.jsé¡µé¢ä¼ å€¼ï¼Œå¦‚ä¸‹ 12&lt;NavLink exact to=&quot;/componentc/ILoveWeb&quot; activeClassName=&quot;active&quot; className=&quot;blue&quot;&gt;ComponentCä¼ å€¼&lt;/NavLink&gt;&lt;br/&gt; åœ¨è·¯ç”±åé¢è·Ÿäº†ä¸ªILoveWebä½œä¸ºå€¼ä¼ é€’ç»™ç»„ä»¶ Routeä¸­çš„è®¾ç½®ï¼Œ ç”¨å†’å·æ¥é€šçŸ¥è·¯ç”± 1&lt;Route path=&quot;/componentc/:param&quot; component={Componentc}/&gt; åœ¨componentcç»„ä»¶ä¸­è·å– ç°åœ¨Componentcç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­çœ‹ä¸€ä¸‹propsé‡Œæœ‰ä»€ä¹ˆå€¼ã€‚ componentC.js 1234567891011121314import React from 'react'export default class componentC extends React.Component{ // æ–°å¢ componentWillMount () { console.log(this.props) } render(){ return( &lt;div&gt;è¿™æ˜¯Cç»„ä»¶&lt;/div&gt; ) }} åœ¨consoleä¸­å¯ä»¥çœ‹åˆ°match.paramsé‡Œæœ‰å€¼äº†ã€‚ åœ¨é¡µé¢ä¸­æ˜¾ç¤ºä¼ é€’çš„å‚æ•° componentC.js 1234567891011121314import React from 'react'export default class componentC extends React.Component{ componentWillMount () { console.log(this.props) } render(){ return( // æ–°å¢ &lt;div&gt;è¿™æ˜¯Cç»„ä»¶ï¼šå‚æ•°ï¼š{this.props.match.params.param}&lt;/div&gt; ) }} ä¼ é€’2ä¸ªå€¼nav.js 1&lt;NavLink exact to=&quot;/componentc/ILoveWeb/HelloReact&quot; activeClassName=&quot;active&quot; className=&quot;blue&quot;&gt;ComponentCä¼ å€¼&lt;/NavLink&gt;&lt;br/&gt; index.js 1&lt;Route path=&quot;/componentc/:param/:a&quot; component={Componentc}/&gt; componentC.js 12&lt;div&gt;è¿™æ˜¯Cç»„ä»¶ï¼šå‚æ•°ï¼š{this.props.match.params.param}, {this.props.match.params.a}&lt;/div&gt; ç¬¬9èŠ‚ è·¯ç”±ï¼š Routerä¸­çš„å±æ€§å’Œè·¯ç”±æ¨¡å¼ä¸ŠèŠ‚å­¦ä¹ äº†Reactè·¯ç”±å¯¼èˆªçš„åŸºæœ¬æ–¹æ³•ï¼Œè¿™èŠ‚è¯¾å­¦ä¹ æ ‡ç­¾ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚è¿˜æœ‰ä¸€ä¸ªé‡ç‚¹æ˜¯è·¯ç”±5ç§æ¨¡å¼çš„è®²è§£ã€‚ basenameå±æ€§basenameæ˜¯å¢åŠ ä¸€çº§å¯¼èˆªç›®å½•ï¼Œå¦‚ä¹‹å‰è®¿é—®http://localhost:1717/componentbï¼Œç°åœ¨è®¿é—®åŒä¸€ä¸ªé¡µé¢ï¼Œä½†è·¯å¾„æ˜¯http://localhost:1717/demo/componentb.è¿™æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨basenameå±æ€§æ¥è®¾ç½®ã€‚ basenameæ˜¯æ”¾åœ¨&lt;Router&gt;æ ‡ç­¾ä¸­çš„ index.js 1234567891011121314151617ReactDOM.render( &lt;Router basename=&quot;demo&quot;&gt; &lt;div&gt; &lt;Nav/&gt; &lt;Switch&gt; &lt;Redirect from=&quot;/redirect&quot; to=&quot;/componentb&quot;/&gt; &lt;Route exact path=&quot;/&quot; component={Componenta}/&gt; &lt;Route path=&quot;/componentb&quot; component={Componentb}/&gt; &lt;Route path=&quot;/componentc/:param/:a&quot; component={Componentc}/&gt; &lt;Route component={Error}/&gt; &lt;/Switch&gt; &lt;/div&gt; &lt;/Router&gt;, document.getElementById('app')) è¿™æ—¶å†ç‚¹å‡»å¯¼èˆªï¼Œå·²ç»éƒ½åŠ äº†/demoã€‚ ==æ³¨æ„ï¼š==æ­¤æ—¶çš„è®¾ç½®æ˜¯å…¨å±€å¢åŠ ï¼Œå¦‚æœæ˜¯å•ä¸ªè·¯ç”±å¢åŠ ï¼Œéœ€è¦ç‰¹æ®Šä¸ªæ€§è®¾ç½®ã€‚ forceRefresh å±æ€§è¿™ä¸ªå±æ€§æ˜¯å¼€å¯æˆ–å…³é—­React Routerï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠforceRefresh è®¾ä¸ºtrueï¼Œå°†å…³é—­Reactè·¯ç”±ç³»ç»Ÿï¼ŒçœŸå®çš„å»æœåŠ¡å™¨ç«¯è¯·æ±‚ä¿¡æ¯ ç°åœ¨æŠŠforceRefreshè®¾ä¸ºtrueï¼Œä¼šå‘ç°è·¯ç”±å·²ç»ä¸èƒ½ä½¿ç”¨ 1234567891011121314151617ReactDOM.render(&lt;!--æ–°å¢--&gt; &lt;Router basename=&quot;demo&quot; forceRefresh={true}&gt; &lt;div&gt; &lt;Nav/&gt; &lt;Switch&gt; &lt;Redirect from=&quot;/redirect&quot; to=&quot;/componentb&quot;/&gt; &lt;Route exact path=&quot;/&quot; component={Componenta}/&gt; &lt;Route path=&quot;/componentb&quot; component={Componentb}/&gt; &lt;Route path=&quot;/componentc/:param/:a&quot; component={Componentc}/&gt; &lt;Route component={Error}/&gt; &lt;/Switch&gt; &lt;/div&gt; &lt;/Router&gt;, document.getElementById('app')) è¿™ä¸ªæ“ä½œç»å¸¸åœ¨å¤§é¡¹ç›®ä¸­ä½¿ç”¨ã€‚åœ¨æœåŠ¡å™¨è·³è½¬å’ŒReactRouteråˆ‡æ¢æ—¶ä½¿ç”¨ã€‚æ¯”å¦‚åšä¸€ä¸ªAPPæ´»åŠ¨é¡µï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶åˆ°æœåŠ¡å™¨è¯·æ±‚æ•´ä¸ªé¡µé¢ï¼Œå°†æ•´ä¸ªé¡µé¢ç¼“å­˜ã€‚ç”ŸæˆReactRouterå®ç°æœ¬åœ°å•é¡µåº”ç”¨ï¼Œè®¾ç½®forceRefreshä¸ºfalseï¼Œå³å¯ã€‚ 5ç§è·¯ç”±æ–¹å¼æˆ‘ä»¬ä¸€ç›´ç”¨çš„æ˜¯BrowserRouterï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨çš„è·¯ç”±æ–¹å¼ï¼Œå…¶å®Reactè¿˜æœ‰å‡ ç§è·¯ç”±æ–¹å¼ã€‚ 1.BrowserRouter æµè§ˆå™¨çš„è·¯ç”±æ–¹å¼ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä¸€ç›´å­¦ä¹ çš„è·¯ç”±æ–¹å¼ã€‚å¼€å‘ä¸­æœ€å¸¸ä½¿ç”¨ã€‚ 2. HashRouter åœ¨è·¯å¾„é’±åŠ å…¥#å·ç§°ä¸ºä¸€ä¸ªå“ˆå¸Œå€¼ã€‚Hashæ¨¡å¼çš„å¥½å¤„æ˜¯ï¼Œå†ä¹Ÿä¸ä¼šå› ä¸ºåˆ·æ–°è€Œæ‰¾ä¸åˆ°å¯¹åº”è·¯å¾„ã€‚ 3.MemoryRouter ä¸å­˜å‚¨historyï¼Œæ‰€æœ‰è·¯ç”±è¿‡ç¨‹éƒ½å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸èƒ½å‰è¿›åé€€ï¼Œæµè§ˆå™¨åœ°å€ä¸ä¼šå‘ç”Ÿã€‚ 4.NativeRouter ç»å¸¸é…åˆReactNativeä½¿ç”¨ï¼Œå¤šç”¨äºç§»åŠ¨ç«¯ã€‚ 5. StaticRouter è®¾ç½®é™æ€è·¯ç”±ï¼Œéœ€è¦å’Œåå°æœåŠ¡å™¨é…åˆè®¾ç½®ï¼Œæ¯”å¦‚è®¾ç½®æœåŠ¡ç«¯æ¸²æŸ“æ—¶ä½¿ç”¨ã€‚ æ¯ä¸­æ¨¡å¼éƒ½æœ‰ä¼˜ç¼ºç‚¹ï¼Œæ ¹æ®é¡¹ç›®çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„ä½¿ç”¨å³å¯ã€‚ ç¤ºä¾‹ ä½¿ç”¨HashRouter æˆ–MemoryRouteræ¨¡å¼ å¼•å…¥ 1import {BrowserRouter as Router ,HashRouter,MemoryRouter, Route , Switch ,Redirect} from 'react-router-dom'; è®¾ç½® HashRouter 12345678910111213&lt;HashRouter basename=&quot;demo&quot; &gt; &lt;div&gt; &lt;Nav/&gt; &lt;Switch&gt; &lt;Route exact path=&quot;/&quot; component={Jspang} /&gt; &lt;Route path=&quot;/Jspangb&quot; component={Jspangb} /&gt; &lt;Route path=&quot;/Jspangc/:param&quot; component={Jspangc} /&gt; &lt;Redirect from=&quot;/redirect&quot; to=&quot;/Jspangb&quot; /&gt; &lt;Route component={Error} /&gt; &lt;/Switch&gt; &lt;/div&gt;&lt;/HashRouter&gt;, MemoryRouter 12345678910111213&lt;MemoryRouter basename=&quot;demo&quot; &gt; &lt;div&gt; &lt;Nav/&gt; &lt;Switch&gt; &lt;Route exact path=&quot;/&quot; component={Jspang} /&gt; &lt;Route path=&quot;/Jspangb&quot; component={Jspangb} /&gt; &lt;Route path=&quot;/Jspangc/:param&quot; component={Jspangc} /&gt; &lt;Redirect from=&quot;/redirect&quot; to=&quot;/Jspangb&quot; /&gt; &lt;Route component={Error} /&gt; &lt;/Switch&gt; &lt;/div&gt;&lt;/MemoryRouter&gt;, æ€»ç»“-9è¿™èŠ‚è¯¾é‡ç‚¹æ˜¯è·¯ç”±çš„æ–¹å¼ã€‚åœ¨é¡¹ç›®å¼€å§‹æ—¶å°±åº”è¯¥æ ¹æ®éœ€æ±‚é€‰æ‹©å¥½ï¼Œä¹Ÿæ˜¯è¦æŒæ¡çš„é‡ç‚¹ä¹‹ä¸€ã€‚ä¸Šæ‰‹é¡¹ç›®å®¹æ˜“é‡åˆ°å‘ã€‚ ç¬¬10èŠ‚ è·¯ç”± promptç”¨æ³•è¯¦è§£åœ¨å¾ˆå¤šé¡¹ç›®ä¸­ï¼Œç¦»å¼€ä¸€ä¸ªé¡µé¢ï¼Œéƒ½ä¼šå¼¹å‡ºä¸€ä¸ªæç¤ºæ¡†ã€‚ç¡®å®šæ˜¯å¦ç¦»å¼€ã€‚Reactä¹Ÿæœ‰è¿™æ ·çš„ç»„ä»¶ï¼Œå°±æ˜¯Promptã€‚ &lt;Prompt&gt;æ ‡ç­¾è¦ä½¿ç”¨&lt;Prompt&gt;æ ‡ç­¾è¦å…ˆå¼•å…¥ã€‚ componentB.js 123456789101112131415import React from 'react'// æ–°å¢import { Prompt } from 'react-router-dom'export default class componentB extends React.Component{ render(){ return( &lt;div&gt; è¿™æ˜¯Bç»„ä»¶ // æ–°å¢ &lt;Prompt message=&quot;æ®‹å¿ç¦»å¼€?&quot; /&gt; &lt;/div&gt; ) }} éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½¿ç”¨MemoryRouterï¼Œ&lt;Prompt&gt;ä¸èµ·ä½œç”¨ã€‚ &lt;Prompt&gt;æœ‰ä¸¤ä¸ªå±æ€§ message: ç”¨äºæ˜¾ç¤ºæç¤ºçš„æ–‡æœ¬ä¿¡æ¯ whenï¼š ä¼ é€’å¸ƒå°”å€¼ï¼Œç›¸å½“äºæ ‡ç­¾çš„å¼€å…³ï¼Œé»˜è®¤æ˜¯trueï¼Œè®¾ç½®ä¸ºfalseï¼Œpromptå¤±æ•ˆã€‚ å¦‚ä½•åŠ¨æ€æ”¹å˜whençš„çŠ¶æ€å‘¢ï¼Ÿåšä¸ªå°å®ä¾‹ã€‚ 123456789101112131415161718192021222324252627import React from 'react'import { Prompt } from 'react-router-dom'export default class componentB extends React.Component{ constructor (props) { super(props) this.state = { power: false } this.changePower = this.changePower.bind(this) } changePower () { alert('å·²ç»å¼€å¯') this.setState({ power: true }) } render(){ return( &lt;div&gt; è¿™æ˜¯Bç»„ä»¶ &lt;Prompt message=&quot;æ®‹å¿ç¦»å¼€?&quot; when={this.state.power}/&gt; &lt;button onClick={this.changePower}&gt;å¯ç”¨&lt;/button&gt; &lt;/div&gt; ) }} Fluxå’ŒReduxçš„å­¦ä¹ å»ºè®®åœ¨å®˜ç½‘å­¦ä¹ ã€‚ å®˜æ–¹æ–‡æ¡£ä¸­æ–‡æ–‡æ¡£ç»éªŒ-10ç§»åŠ¨ç«¯æ ·å¼çœ‹èµ·æ¥å¤§éƒ¨åˆ†ç”¨flexå°±å¯ä»¥æ»¡è¶³ã€‚å¸¸ç”¨ç»„ä»¶Textï¼ŒViewï¼ŒTextInputï¼ŒImageImage srcå±æ€§ä¸ºsourceæ ·å¼çš„ç¼–å†™ä¸åŸç”ŸåŒºåˆ«","link":"/posts/React%E5%85%A8%E5%AE%B6%E6%A1%B6%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B/"},{"title":"TODO.md","text":"TODOå¦‚ä½•åœ¨ JS å¾ªç¯ä¸­æ­£ç¡®ä½¿ç”¨ async ä¸ awaitå‚è€ƒåœ¨å¾ªç¯ä¸­ä½¿ç”¨å¼‚æ­¥ï¼Œè¯·ä½¿ç”¨for..of JS ç²¾åº¦é—®é¢˜123456782599.7 * 1001.1 * 1000.1 + 0.2 = 0.3ï¼Ÿ[ä»æ ‡å‡†åŸç†å‡ºå‘ç†è§£ JavaScript æ•°å€¼ç²¾åº¦](https://juejin.im/post/5c3db8b7e51d45515817bdeb) 1[math.js] è§£å†³åŠæ³• æ— æ³•å®ç°çš„éœ€æ±‚1. æ•°å­—è¾“å…¥æ¡†åªå”¤èµ·æ•°å­—é”®ç›˜ï¼Œä¸èƒ½è¾“å…¥æ±‰å­—&lt;input type='number'&gt; åœ¨æœ‰çš„æ‰‹æœºè£…äº†æœç‹—è¾“å…¥æ³•æˆ–å…¶ä»–è¾“å…¥æ³•åï¼Œå”¤èµ·é”®ç›˜è¾“å…¥æ³•å¯ä»¥åˆ‡æ¢æˆå…¶ä»–è¾“å…¥æ³• æœ‰çš„æœºå‹æ²¡æœ‰è£…å…¶ä»–è¾“å…¥æ³•ï¼Œå”¤é†’çš„ä¸æ˜¯æ•°å­—é”®ç›˜ 2. æ•°å­—è¾“å…¥æ¡†è·å–ä¸æ˜¯æ•°å­—çš„å€¼éœ€æ±‚: è¾“å…¥.æ—¶, åœ¨.å‰åŠ 0, æ˜¾ç¤º0. è¾“å…¥ä¸¤ä¸ª..æ—¶ï¼Œå»æ‰åä¸€ä¸ª åœ¨inputä¸ºnumberç±»å‹æ—¶ï¼Œè¾“å…¥ . ï¼Œä½†onchange å–ä¸åˆ° . ï¼Œå–åˆ°çš„æ˜¯ç©ºå­—ç¬¦ä¸² ç›¸å…³çŸ¥è¯†ç‚¹input ime-mode: disabled[CSS]æµè§ˆå™¨IMEè¾“å…¥æ³•æ§åˆ¶ç¦æ­¢è¾“å…¥ä¸­æ–‡å…³äºè¡¨å•input type=â€numberâ€éæ³•å€¼æ—¶çš„ä¸€äº›æ¢ç©¶åŠæ‹“å±•input type=numberé©—è­‰å•é¡ŒScript Reacté«˜é˜¶ https://github.com/dt-fe/weekly/blob/master/12.%E7%B2%BE%E8%AF%BB%20React%20%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6.md å¾ˆå¥½çš„vueæºç è§£æhttps://juejin.im/post/5abe5822f265da2373149276 é¢è¯•å¤§å…¨ï¼ï¼ï¼ï¼https://www.tuicool.com/articles/bInqieZ è…¾è®¯ä¸€é¢https://juejin.im/post/5ab8d9e06fb9a028c22ac36c æµè§ˆå™¨çš„ç¼“å­˜(1)https://segmentfault.com/a/1190000004486640 å‰ç«¯æ€ç»´å¯¼å›¾https://github.com/qiu-deqing/FE-interview/blob/master/javascript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.md?1520994177199 æ’åºhttps://juejin.im/post/57dcd394a22b9d00610c5ec8 é¢è¯•é“¾æ¥ è¿˜æŒºå¥½çš„https://github.com/geekape/good-article/issues/2Reactä¸­æ–‡å®˜æ–¹æ–‡æ¡£https://doc.react-china.org/ Reactåšå®¢Reactæ„å»ºhttps://segmentfault.com/a/1190000007891318https://taikongfeizhu.github.io/webpack3-in-action/index.html#16https://github.com/hujiulong/blog CSShttp://caibaojian.com/30-seconds-of-css/es6å¸¸è§æ–°ç‰¹æ€§https://segmentfault.com/a/1190000010230939 https://segmentfault.com/a/1190000010204791 é—­åŒ…http://www.cnblogs.com/xxcanghai/p/4991870.html letå’Œvarçš„åŒºåˆ«https://zhuanlan.zhihu.com/p/28140450 Reactç”Ÿå‘½å‘¨æœŸhttps://www.cnblogs.com/lijie33402/p/6384080.htmlHTTPåè®®https://zouhangwithsweet.github.io/ ç®€å†åˆ¶ä½œç½‘ç«™http://www.500d.me/ ä¼šåŠ¨çš„ç®€å†æ¨¡æ¿https://github.com/jirengu-inc/animating-resume https://segmentfault.com/a/1190000010868439 https://segmentfault.com/a/1190000010871559 webpack3 DOMæ“ä½œæˆæœ¬åˆ°åº•é«˜åœ¨å“ªå„¿ï¼Ÿhttps://segmentfault.com/a/1190000014070240#articleHeader5 js å†…å­˜æ³„æ¼åˆ†æ https://www.tuicool.com/articles/ErIR7rE? ä¸é”™çš„é¢è¯•é¢˜ https://github.com/WangXiZhu/frontend-interview-question å¤§æ¼ çš„å­¦ä¹ ç¬”è®° https://www.w3cplus.com/blogs/airen ä¸‡ç‰©çš†ç©ºä¹‹ JavaScript åŸå‹https://www.tuicool.com/articles/BN7bi2F https://www.tuicool.com/articles/aEr22ue Vue.jsæœ€ä½³å®è·µï¼ˆäº”æ‹›è®©ä½ æˆä¸ºVue.jså¤§å¸ˆï¼‰https://segmentfault.com/a/1190000014085613 https://segmentfault.com/a/1190000013331105 https://github.com/qiu-deqing/FE-interview https://github.com/fouber/blog BFC ç»å…¸è®²è§£https://www.cnblogs.com/lhb25/p/inside-block-formatting-ontext.htmlhttps://segmentfault.com/a/1190000013372963 å®è·µæ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹å¼js æœ€å…¨https://github.com/mqyqingfeng/Blog çˆ¬è™«ä¸“ç”¨ç½‘ç«™ï¼šhttp://books.toscrape.com/ åœ¨æœåŠ¡å™¨æ”¾æ‰“åŒ…å¥½çš„æ–‡ä»¶çš„è¯ï¼Œ å…ˆäº†è§£å‘èµ·è¯·æ±‚çš„æœ¬è´¨ï¼šåœ¨ä¸€ä¸ªæœåŠ¡å™¨ï¼ˆæ³¨æ„å¿…é¡»æ˜¯æœåŠ¡å™¨ï¼Œæœ‰ç«¯å£å¯ä»¥è®¿é—®çš„ï¼‰ä¸­ï¼Œè®¿é—®åˆ°ä¸€ä¸ªé¡µé¢ è¿™ä¸ªé¡µé¢ç”± axios ä¹‹ç±»çš„httpè¯·æ±‚æœåŠ¡æ¥å£ åœ¨æ²¡æœ‰é…ç½®ProxyTableæ—¶ï¼Œç›´æ¥è¯·æ±‚ä¼šæœ‰è·¨åŸŸé—®é¢˜å­˜åœ¨ã€‚ å¼€å‘ç¯å¢ƒ ä½†é…ç½®proxyTableåï¼Œå¯ä»¥è§£å†³è·¨åŸŸé—®é¢˜ï¼Œè¯·æ±‚å¾—åˆ°æœåŠ¡è¿”å›çš„ç»“æœã€‚ é…ç½®äº†proxyTableåï¼Œè¯·æ±‚çš„è·¯å¾„ å‰é¢çš„http://åŸŸåç«¯å£éƒ½å¯ä»¥ä¸ç”¨å†™ï¼Œç›´æ¥åœ¨proxyTableçš„targeté‡Œé…ç½®å¥½ï¼Œåœ¨axiosé‡Œè¯·æ±‚çš„urlåªéœ€æ ¹æ®éœ€è¦å†™åé¢çš„è·¯å¾„å³å¯ã€‚ ç”Ÿäº§ç¯å¢ƒåœ¨å¼€å‘ç¯å¢ƒæ‰“åŒ…å¥½çš„æ–‡ä»¶è¯·æ±‚åç«¯æ¥å£æ—¶æ˜¯ä¸å¸¦httpå’ŒåŸŸåç«¯å£çš„ï¼Œæ‰€ä»¥è¯·æ±‚çš„æ˜¯ç›¸å¯¹è·¯å¾„ã€‚è¿™ä¸ªæ—¶å€™åœ¨åç«¯èµ·ä¸€ä¸ªæœåŠ¡(æ¯”å¦‚node), åœ¨è¿™ä¸ªnodeæœåŠ¡é‡Œå‘èµ·è¯·æ±‚çš„è¯ï¼Œæ˜¯è¦å†™å…¨è·¯å¾„çš„ï¼Œå¦åˆ™ä¼šæ‰¾ä¸åˆ°åœ°å€ã€‚ è§£å†³åŠæ³• åœ¨è¿™ä¸ªnodeæœåŠ¡ä¸­ï¼Œå°è£…ä¸€ä¸ªaxiosçš„æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•é‡Œå†™å…¨è·¯å¾„ï¼Œè¿™æ ·ä¹‹å‰æ‰“åŒ…å¥½çš„æ–‡ä»¶æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ”¾åˆ°è¿™ä¸ªnodeæœåŠ¡çš„ç›®å½•ä¸‹ï¼Œå°±æˆäº†å…¨è·¯å¾„è®¿é—®æœåŠ¡ã€‚ è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯åœ¨æ‰“åŒ…æ–‡ä»¶ä¸­é€šè¿‡é…ç½®å†™è¯·æ±‚è·¯å¾„ï¼Œç„¶åå°†è¯·æ±‚åç«¯çš„å…¨è·¯å¾„ï¼Œæ‰“åŒ…åˆ°ç”Ÿæˆçš„æ–‡ä»¶ä¸­ã€‚â€“è¿™ä¸ªè¿˜æ²¡è¯•è¿‡ Dockerè¯´äº†è¿™ä¹ˆå¤š æœ€å…¨çš„ä¸€ç¯‡åœ¨è¿™é‡Œ https://mp.weixin.qq.com/s/r6Zj9Umlc9v_rqplq8207A å‰ç«¯ä¹¦ç± https://github.com/wxyyxc1992/Web-Development-And-Engineering-Practices androidï¼Œå¾®ä¿¡å¼€å‘angular.jsspringmvcâ€“ä¸Šç¡…è°·è§†é¢‘rollup.jsVue.jsReactES6node.jssqljavaphplinux å‘½ä»¤è¡Œnginxansible è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·fetch.jspm2.jsbluebird.js é¢è¯•è€ƒå¯Ÿç‚¹ï¼š æ€è·¯æ˜¯å¦æ¸…æ™°ï¼› åŸºæœ¬è¯­æ³•æ˜¯å¦æœ‰é”™ï¼› æ‰‹å†™ä»£ç çš„èƒ½åŠ› ç®—æ³• http://www.materialscss.com/grid electron https://github.com/electron/electron è·¨å¹³å°çš„GUIè½¯ä»¶æ„å»ºå·¥å…· https://www.html5rocks.com/en/tutorials/file/filesystem/ H5æ–‡ä»¶æ¥å£ Express http://www.expressjs.com.cn/ åŸºäºnodeã€‚jsçš„webæ¡†æ¶lodash http://lodashjs.com/docs/#_now jsåº“ write a blog http://ssh.today/blog/something-about-js-timer js æ­£åˆ™è¡¨è¾¾å¼https://segmentfault.com/a/1190000008812676#articleHeader1https://juejin.im/post/5965943ff265da6c30653879 js æ’åºhttps://segmentfault.com/a/1190000008796659 å¾®ä¿¡å°ç¨‹åºhttps://github.com/lin-xin/wxapp-mall å‰ç«¯é¢è¯•é¢˜ï¼šhttps://juejin.im/post/59be99a0f265da0644289ddeå‰ç«¯ç¨‹åºå‘˜ç»å¸¸å¿½è§†çš„ä¸€ä¸ªJavaScripté¢è¯•é¢˜ https://segmentfault.com/p/1210000008946418/read#top å°èœé¸Ÿå‰ç«¯é¢è¯•å¤§ä½œæˆ˜https://huruji.github.io/FE-Interview/#/ å¦¨ç¢è¿›æ­¥çš„å› ç´ https://juejin.im/post/59bf2a1d51882531b730b718 å¼‚æ­¥é€’å½’å›è°ƒhttps://zhuanlan.zhihu.com/p/29534555ä½ ä¸çŸ¥é“çš„ CSS https://mp.weixin.qq.com/s/GxtJTIbMbFteCEFnFB7waw https://smohan.net/blog/6gr77h css åŠ è½½åŠ¨ç”»æ•ˆæœæºç http://loading.awesomes.cn/ ä½¿ç”¨é€’å½’éå†å¹¶è½¬æ¢æ ‘å½¢æ•°æ®ï¼ˆä»¥ TypeScript ä¸ºä¾‹ï¼‰https://segmentfault.com/a/1190000011819279 React:ä¸€ç¯‡åŒ…å«äº†reactæ‰€æœ‰åŸºæœ¬ç‚¹çš„æ–‡ç«  https://segmentfault.com/a/1190000011205580æ­ç§˜reactå…¨å®¶æ¡¶(redux,react-redux,react-router)https://github.com/shen1992/blog/issues/2Nodeé¥¿äº†ä¹ˆNode.jsæ•™ç¨‹https://github.com/ElemeFE/node-interview/tree/master/sections/zh-cn https://github.com/ElemeFE/node-practice React å…è´¹æ•™ç¨‹https://react-course.magicfun.ai/ macè¯»å–ç§»åŠ¨ç¡¬ç›˜http://vip.zgyjzf.com/nfm/ GitHubè½¯ä»¶https://osxfuse.github.io/ http://www.cnblogs.com/macsoft/p/6835753.html http://www.orsoon.com/Mac/150550.html http://wm.makeding.com/redirect/url?segment=axEJmc-ik43ina5LG-TZD5_vApJ8vMxEnzLuVBELJ7z1iJBTC25zxyiSookdjOflPQ-BBKfzOu8S0TT3T6H3sDYVMbITp52pODsN82VD8jrLwXt9uhTQFq_XOsbWm65NgbxaG6R8Mk6-AfLaZNWB9aeCYPbr_mq2VQMeCsKne_U-sXLaxRW9KmP7UG0SKEAwKUWVD2m8pkHSRF5N-2o1i79iLyUwl2pjDCB93P64q753lx_QCO28E9nH_8r7BI0hD9-dXEJp9dEZkU2NL__inFM1LFFdI_6h0GOU3fWoPescmS_HrDNHlvytmT4qrypAaB5Y0_-YzFIcq1TWs79zj-nJwyETD8zaEMC43M1rThHEPYncCvFLvP7F9S140X10&amp;utm_medium=wm&amp;utm_source=http%3A%2F%2Fwww.cnblogs.com%2Fmacsoft%2Fp%2F6835753.html&amp;utm_content=Tuxera+NTFS--&amp;utm_campaign=LM_echo jsäº‹ä»¶ç»‘å®šé—®é¢˜ï¼Œ å¯¹æ¥é«˜å¾·å¯¼èˆªæœåŠ¡ï¼Œèµ·ç‚¹ç»ˆç‚¹ç¡®å®šåæ ‡ã€‚ èµ·ç‚¹ï¼šè¾“å…¥å†…å®¹ï¼Œæœ‰ä¸‹æ‹‰æ¡†ï¼Œé€‰æ‹©äº†ä¸‹æ‹‰æ¡†çš„å°±æœ‰å¯ç¡®å®šåæ ‡ï¼Œæ²¡é€‰ä¸‹æ‹‰æ¡†ï¼Œå°±è¦æœç´¢ï¼Œ ç»ˆç‚¹ï¼š åŒä¸Š ç‚¹å‡»æœç´¢è·¯çº¿ã€‚å¦‚æœèµ·ç‚¹ç»ˆç‚¹éƒ½ç¡®å®šåæ ‡ï¼Œç›´æ¥æœç´¢è·¯çº¿ï¼Œ ä¸ç¡®å®šèµ·ç‚¹ç»ˆç‚¹ï¼Œåˆ™å…ˆæœç´¢ç»“æœã€‚ æ€ä¹ˆåˆ¤å®šè¿™ä¸¤ä¸ªçŠ¶æ€ï¼Ÿ æˆ‘çš„æ€è·¯ï¼Œåœ¨ä¸‹æ‹‰æ¡†ä¸­é€‰æ‹©ä¸€ä¸ªç»“æœï¼Œåˆ™ç»™è¾“å…¥æ¡†èµ‹ä¸€ä¸ªåæ ‡çš„å±æ€§ï¼Œ ç‚¹å‡»æœç´¢è·¯çº¿ï¼Œåˆ¤æ–­è¾“å…¥æ¡†æ˜¯å¦æœ‰åæ ‡å±æ€§ï¼Œæœ‰ç›´æ¥æœè·¯çº¿ï¼Œæ²¡æœ‰ï¼ŒæŸ¥è¯¢ç»“æœã€‚ onchangeæˆ–onkeyupæ¸…é™¤åæ ‡å±æ€§ node ä½œä¸ºä¸­é—´ä»¶æ­å»ºå‰æ®µä»£ç†ï¼Œä¸­è½¬è¯·æ±‚åˆ°åç«¯ã€‚https://segmentfault.com/a/1190000007992200 git bookä¸­æ–‡æ•™ç¨‹https://chenyitian.gitbooks.io/react-docs å®˜ç½‘ ä¸é”™çš„æ•™ç¨‹http://www.runoob.com/w3cnote/getting-started-with-react.html æå®¢å­¦é™¢æ•™ç¨‹http://wiki.jikexueyuan.com/project/react-tutorial/ Reactå¯è’™ï¼ˆè¯‘ï¼‰https://www.gitbook.com/book/zhangwang1990/reactenlightenment/detailsReactä¸­å›½https://tianxiangbing.github.io/react-cn/index.htmlReact å…¥é—¨æ•™ç¨‹https://hulufei.gitbooks.io/react-tutorial/content/component.html å®Œç¾ä½¿ç”¨ React, Redux, and React-Routerï¼æœ€å¥½ç”¨çš„è„šæ‰‹æ¶https://github.com/bodyno/react-starter-kit react ä¸­æ–‡ç½‘http://www.react-cn.com/https://segmentfault.com/blog/jasonnote https://github.com/theJian/build-a-hn-front-pageReactæŠ€æœ¯æ ˆ+Express+Mongodbå®ç°ä¸ªäººåšå®¢https://github.com/Nealyang/React-Express-Blog-Demo Vuerouteræ–‡æ¡£ï¼šhttp://router.vuejs.org/zh-cn/ demoç¤ºä¾‹ï¼šhttps://github.com/cwsjoker/webpack-vue-spa-demo/tree/master ä¸­æ–‡æ–‡æ¡£ï¼›https://vuefe.cn/v2/guide/ vueå­¦ä¹ æ•™ç¨‹http://www.cnblogs.com/keepfool/p/5619070.html vue vue-materialæ¡†æ¶https://vuematerial.github.io å¾ˆå…¨çš„vueèµ„æ–™ èµèµèµ~~~~~~~~~~~~~https://github.com/opendigg/awesome-github-vue https://github.com/vuejs/awesome-vue ç®€å•çš„åå°ç®¡ç†ç³»ç»Ÿhttps://github.com/monster1935/vue-element å¾ˆæ£’çš„åå°ç®¡ç†ç³»ç»Ÿhttp://panjiachen.github.io/vue-element-admin/#/introduction/index è¿™ä¸ªä¹Ÿä¸é”™https://github.com/vue-bulma/vue-admin Vueé¡¹ç›®ä¸­å¼•ç”¨çŸ¥ä¹APIè·å–å›¾ç‰‡æŠ¥403è§£å†³æ–¹æ¡ˆ åœ¨htmlè®¾ç½®meta é“¾æ¥ http://www.cnblogs.com/dongcanliang/archive/2017/04/01/6655061.html é€šè¿‡è·å–img srcï¼Œç”¨iframeå»è¯·æ±‚é“¾æ¥ï¼šhttps://segmentfault.com/q/1010000002581983/a-1020000002592757 https://www.xiabingbao.com/vue/2017/07/10/vue-curd.html https://www.xiabingbao.com Vue ç»„ä»¶ç¼–å†™https://segmentfault.com/a/1190000011796898ReactReact æœåŠ¡ç«¯æ¸²æŸ“å¦‚æ­¤è½»æ¾ ä»é›¶å¼€å§‹æ„å»ºå‰åç«¯åº”ç”¨https://segmentfault.com/a/1190000010260036 Vue2.0â€”ä»¿çŸ¥ä¹æ—¥æŠ¥æ€»ç»“ https://segmentfault.com/a/1190000009305496 VUE-WASï¼šä¸€ä¸ªåŸºäºVueçš„Web Appæ”¶é›†å‘é¡¹ç›® https://segmentfault.com/a/1190000010330905 Vue ä¸ iOS çš„ç»„ä»¶åŒ–.mdhttps://github.com/halfrost/Halfrost-Field/blob/master/contents/Vue/%E5%A4%A7%E8%AF%9D%E5%A4%A7%E5%89%8D%E7%AB%AF%E6%97%B6%E4%BB%A3(%E4%B8%80)%20%E2%80%94%E2%80%94%20Vue%20%E4%B8%8E%20iOS%20%E7%9A%84%E7%BB%84%E4%BB%B6%E5%8C%96.md å¥½çš„jsåšå®¢https://zhuanlan.zhihu.com/dreawer?author=qiangdada520 å¤©çŒ«å‰ç«¯http://tmallfe.github.io/ js æ ¸å¿ƒæ¦‚å¿µhttps://mp.weixin.qq.com/s/I7A1iC8Et6uOGZ234DsTlA Vue mockhttp://www.jianshu.com/p/284590b5b717https://github.com/yanm1ng/vue-starter-kit å¾ˆå¥½çš„é¢è¯•é¢˜https://zhoukekestar.github.io/notes/2017/06/07/interview-answers.html vue å¾ˆå¥½çš„åå°ç®¡ç†ç³»ç»Ÿhttps://github.com/PanJiaChen/vue-element-adminhttps://github.com/PanJiaChen/vueAdmin-template Vueæºç è§£æ~~éå¸¸æ£’https://zhuanlan.zhihu.com/p/25869382 https://zhuanlan.zhihu.com/p/28835709 é«˜é˜¶å‡½æ•° easy-mockhttps://easy-mock.com/ believezjp zhao110120 å‰ç«¯æ¯å‘¨ç›˜ç‚¹åŠå¹´æ¸…å•ç³»åˆ— https://segmentfault.com/a/1190000010769946 https://segmentfault.com/a/1190000010716195 MVVMå®ç°åŸç†ã€‚https://segmentfault.com/a/1190000010744960 React å­¦ä¹ æ•™ç¨‹https://segmentfault.com/a/1190000005136764 Vue è„±å‘è®° - æŸ¥æ¼è¡¥ç¼º(æ±‡æ€»ä¸‹ç¾¤é‡Œé«˜é¢‘è¯¢é—®çš„xxxåŠç»™å‡ºä¸é è°±çš„è§£å†³æ–¹æ¡ˆ)https://juejin.im/post/59fa9257f265da43062a1b0e ä½¿ç”¨vscode è‡ªåŠ¨ä¿®å¤eslintçš„æ ¼å¼é”™è¯¯(ç©ºæ ¼å¤šå°‘ï¼Œtabä¹‹ç±»çš„)vscodeå·¦ä¸‹è§’ï¼Œè®¾ç½®é…ç½®å¦‚ä¸‹ï¼šâ€œeslint.validateâ€: [ â€œjavascriptâ€, â€œjavascriptreactâ€, { â€œlanguageâ€: â€œvu eâ€, â€œautoFixâ€: true } ] æŠŠvueæ–‡ä»¶è®¾ä¸ºtrue,æƒ³ä¿®å¤çš„æ—¶å€™ï¼Œåœ¨vscodeç”¨ctrl+shift+pæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥Fix all auto-fixable problemså³å¯è‡ªåŠ¨ä¿®å¤æ‰€æœ‰çš„æ ¼å¼é”™è¯¯ http://www.gbtags.com/ æ‰€æœ‰è½¯ä»¶çš„ä¹¦ç±ï¼š https://github.com/vhf/free-programming-books/blob/master/free-programming-books-zh.md react æ•™ç¨‹ï¼šhttps://fakefish.github.io/react-webpack-cookbook/ FLEXç…§ç€æ”¹é€ è‡ªå·±çš„flex é¡µé¢ã€‚https://zhuanlan.zhihu.com/p/25303493 http://www.fgm.cc/learn/ å„ç§å®ä¾‹å„ç§è§†é¢‘è¯¾ç¨‹ http://www.stuq.org/ http://www.chengxuyuans.com/web_technology/ajax-jsonp.html jsonpçš„è®²è§£http://kb.cnblogs.com/page/159704/webå‰ç«¯å¼€å‘åæ—¥è°ˆhttp://www.cnblogs.com/dowinning/archive/2012/04/19/json-jsonp-jquery.html https://github.com/FreeCodeCamp/FreeCodeCamp/blob/staging/CONTRIBUTING.md çº¿ä¸‹è¯¾ &lt;&lt;å‰ç«¯å·¥ç¨‹å¸ˆä¸æµ‹è¯•å·¥ç¨‹å¸ˆ&gt;&gt;http://www.tudou.com/programs/view/NRpKuBbeZEgå¯†ç  ydxt2016 &lt;&lt;EcmaScript6ç¼–ç¨‹é£æ ¼ä¸Š&gt;&gt;é“¾æ¥: http://pan.baidu.com/s/1c1TfnUC å¯†ç : 945t &lt;&lt;ç¬¬ä¸€å‘¨è€ƒé¢˜&gt;&gt;ä½ å¯ä»¥æµ‹éªŒä¸€ä¸‹è‡ªå·±çš„æ°´å¹³ã€‚http://pan.baidu.com/s/1gf7BsUf å¯†ç ceuhè®²è§£ http://www.tudou.com/programs/view/epsKmGW-Nwg/å¯†ç YDXTpass2016 Vue.jsèµ„æºåˆ†äº«https://github.com/maidishike/FrontEnd-Wikis/blob/master/vuejs.md JavaScript å…¨æ ˆå·¥ç¨‹å¸ˆåŸ¹è®­æ•™ç¨‹http://www.ruanyifeng.com/blog/2016/11/javascript.html ç®€ä¹¦å¾ˆæ£’çš„æ–‡ç« ï¼šhttp://www.jianshu.com/p/cc1cb9a5650c http://blog.phpfamily.org http://ued.party/#åºä¸ºä»€ä¹ˆå‰ç«¯æ²¡æœ‰å‰é€” https://www.shiyanlou.com/paths/webå®éªŒæ¥¼ JavaScriptè®¾è®¡æ¨¡å¼ä¹‹ç»“æ„å‹è®¾è®¡æ¨¡å¼https://segmentfault.com/a/1190000012585364 JavaScriptæ•°æ®ç±»å‹çš„å­˜å‚¨http://axuebin.com/blog/2017/08/24/javascript-data-storage/ jQuery å¯¹åº”åŸç”Ÿjsæ€ä¹ˆå†™~~~http://youmightnotneedjquery.com/ https://github.com/oneuijs/You-Dont-Need-jQuery/blob/master/README.zh-CN.md JavaScriptæ·±å…¥æ•™ç¨‹â€“å¿…å­¦ï¼ï¼https://github.com/mqyqingfeng/Blog jsä¸“é¢˜https://segmentfault.com/blog/yayu-blog?tag=javascript%E4%B8%93%E9%A2%98%E7%B3%BB%E5%88%97 vitual-domåŸç†ä¸ç®€å•å®ç° https://segmentfault.com/a/1190000012230659#articleHeader2 ã€JavaScriptä»å…¥é—¨åˆ°ç²¾é€šã€‘http://www.igeekbar.com/igeekbar/mypost/113.htm å‰ç«¯PDFä¸‹è½½http://www.menvscode.com/list/ziyuan/webpdf/1 javascriptç»„ä»¶åŒ–http://caibaojian.com/javascript-module-2.html ä» for of èŠåˆ° Generatoræ·±å…¥ç†è§£ TypeScriptMDN javascriptä¸­é«˜çº§æ•™ç¨‹ã€Œä¸­é«˜çº§å‰ç«¯ã€é«˜æ€§èƒ½æ¸²æŸ“åä¸‡æ¡æ•°æ®ã€Œä¸­é«˜çº§å‰ç«¯ã€é«˜æ€§èƒ½æ¸²æŸ“åä¸‡æ¡æ•°æ® æ ¡å›­ç¼–ç¨‹å’ŒèŒåœºç¼–ç¨‹çš„åŒºåˆ«å­¦æ ¡çš„ç¨‹åºè§£å†³çš„è®¾è®¡é—®é¢˜å¾ˆå°‘æ˜¯é™©æ¶çš„ï¼ŒåŸºæœ¬èƒ½ä»å¤´åˆ°å°¾ç›´çº¿å‰è¿›è€Œè®¾è®¡ã€‚åŸºæœ¬å®Œæˆä½œä¸šå°±å¯ä»¥ï¼Œå¾ˆå°‘ä¼šå¯¹ç¨‹åºæ”¹åŠ¨ã€‚ è€Œä¸“ä¸šç¼–ç¨‹ä¸­ä»£ç çš„ä¿®æ”¹æ˜¯æ¯æ—¥å¯è§çš„çœŸå®æƒ…æ™¯ã€‚ è¯»ä»£ç å¤§å…¨2ç¬”è®°è½¯ä»¶å¼€å‘çš„éšå–»ï¼Œåˆ°åº•ä»€ä¹ˆè¯åˆé€‚ å…ˆæƒ³åˆ°çš„æ˜¯åº–ä¸è§£ç‰›ï¼Œä¸è¿‡æ˜¯ç›¸åçš„è¿‡ç¨‹ï¼Œç¼ºå°‘ä»»ä½•ä¸€ä¸ªéª¨å¤´è‚Œè‚‰éƒ½ä¸èƒ½å®Œæ•´æ‹¼æˆã€‚ ä½†æ’­ç§è€•ç§æ›´å½¢è±¡ï¼Œæ’­ç§ç›´åˆ°ä¸°æ”¶ï¼Œæ¯ä¸ªç»†èŠ‚éƒ½ä¸èƒ½é©¬è™ï¼Œæœ€ç»ˆæ‰èƒ½æœ‰ç§‹åçš„æœå®ã€‚ å¤§å‹çš„æˆ¿å±‹å»ºç­‘éœ€è¦è¶…å‡ºå¸¸è§„çš„è§„åˆ’å’Œå»ºè®¾ ç»„åˆå„ç§éšå–» è½¯ä»¶å¼€å‘é‡‘å­—å¡” é—®é¢˜å®šä¹‰åªå®šä¹‰é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œä¸æ¶‰åŠä»»ä½•å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚ éœ€æ±‚éœ€æ±‚åƒæ°´ï¼Œå†»ç»“äº†æ‰èƒ½åœ¨ä¸Šé¢å¼€å±•å»ºè®¾ã€‚ ç®¡ç†å¤æ‚åº¦çš„é‡è¦æ€§ ä½œä¸ºè½¯ä»¶å¼€å‘äººå‘˜ï¼Œä¸åº”è¯¥è¯•ç€åœ¨åŒä¸€æ—¶é—´æŠŠæ•´ä¸ªç¨‹åºéƒ½å¡è¿›è‡ªå·±çš„å¤§è„‘ï¼Œè€Œåº”è¯¥è¯•ç€ä»¥æŸç§æ–¹å¼å»ç»„ç»‡ç¨‹åºï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨ä¸€ä¸ªæ—¶åˆ»å¯ä»¥ä¸“æ³¨äºä¸€ä¸ªç‰¹å®šçš„éƒ¨åˆ†ã€‚è¿™ä¹ˆåšçš„ç›®çš„æ˜¯å°½é‡å‡å°‘åœ¨ä»»æ„æ—¶é—´ç´¢è¦è€ƒè™‘çš„ç¨‹åºé‡ã€‚ åœ¨è½¯ä»¶æ¶æ„å±‚æ¬¡ä¸Šï¼Œå¯ä»¥é€šè¿‡æŠŠæ•´ä¸ªç³»ç»Ÿåˆ†è§£ä¸ºå¤šä¸ªå­ç³»ç»Ÿæ¥é™ä½é—®é¢˜çš„å¤æ‚åº¦ã€‚2019-11-29 16:49:41 97é¡µ ä»£ç æ•´æ´ä¹‹é“è¯»å®Œ event loop","link":"/posts/TODO/"},{"title":"Vue-cliæ•™ç¨‹","text":"TODO vueæ’ä»¶ https://segmentfault.com/a/1190000012224638 ç¬¬ä¸€èŠ‚ï¼š å®‰è£…vue-cliå‰ææ˜¯è¦å®‰è£…nodeå’Œnpmã€‚ å¯ä»¥åœ¨å‘½ä»¤è¡Œè¾“å…¥npm -vï¼Œæ£€æµ‹æ˜¯å¦å®‰è£…äº†npmå’Œç‰ˆæœ¬æƒ…å†µã€‚ 12$ npm -v5.4.2 ç”¨npmå®‰è£…vue-cliç¡®å®šnpmå®‰è£…æˆåŠŸåï¼Œåœ¨å‘½ä»¤è¡Œå…¨å±€å®‰è£…vue-cli 1npm install vue-cli -g å®‰è£…æˆåŠŸåï¼Œå°è¯•è¾“å…¥vue -V(æ³¨æ„Væ˜¯å¤§å†™)ï¼Œå‡ºç°ç‰ˆæœ¬ä¿¡æ¯åˆ™å®‰è£…æˆåŠŸã€‚ 12$ vue -V2.9.1 macç”µè„‘å®‰è£…vue-licå¤±è´¥npm install â€“global vue-clisudo npm install â€“global vue-cli å³å¯ åˆå§‹åŒ–é¡¹ç›®ç”¨å‘½ä»¤vue initæ¥åˆå§‹åŒ–é¡¹ç›®ã€‚è¯­æ³•ä»‹ç» å®˜ç½‘ 1vue init &lt;template-name&gt; &lt;project-name&gt; initï¼šè¡¨ç¤ºæˆ‘è¦ç”¨vue-cliæ¥åˆå§‹åŒ–é¡¹ç›®ï¼šè¡¨ç¤ºæ¨¡æ¿åç§°ï¼Œvue-cliå®˜æ–¹ä¸ºæˆ‘ä»¬æä¾›äº†5ç§æ¨¡æ¿ï¼Œ webpack-ä¸€ä¸ªå…¨é¢çš„webpack+vue-loaderçš„æ¨¡æ¿ï¼ŒåŠŸèƒ½åŒ…æ‹¬çƒ­åŠ è½½ï¼Œlinting,æ£€æµ‹å’ŒCSSæ‰©å±•ã€‚ webpack-simple-ä¸€ä¸ªç®€å•webpack+vue-loaderçš„æ¨¡æ¿ï¼Œä¸åŒ…å«å…¶ä»–åŠŸèƒ½ï¼Œè®©ä½ å¿«é€Ÿçš„æ­å»ºvueçš„å¼€å‘ç¯å¢ƒã€‚ browserify-ä¸€ä¸ªå…¨é¢çš„Browserify+vueify çš„æ¨¡æ¿ï¼ŒåŠŸèƒ½åŒ…æ‹¬çƒ­åŠ è½½ï¼Œlinting,å•å…ƒæ£€æµ‹ã€‚ browserify-simple-ä¸€ä¸ªç®€å•Browserify+vueifyçš„æ¨¡æ¿ï¼Œä¸åŒ…å«å…¶ä»–åŠŸèƒ½ï¼Œè®©ä½ å¿«é€Ÿçš„æ­å»ºvueçš„å¼€å‘ç¯å¢ƒã€‚ simple-ä¸€ä¸ªæœ€ç®€å•çš„å•é¡µåº”ç”¨æ¨¡æ¿ã€‚ ï¼šæ ‡è¯†é¡¹ç›®åç§°ï¼Œè¿™ä¸ªä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„é¡¹ç›®æ¥èµ·åå­—ã€‚ åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ä¸€èˆ¬ä¼šä½¿ç”¨webpackè¿™ä¸ªæ¨¡æ¿ã€‚è¿™é‡Œä¹Ÿå®‰è£…è¿™ä¸ªæ¨¡æ¿ã€‚ åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤1vue init webpack vue-tutorial è¾“å…¥å‘½ä»¤åï¼Œä¼šæœ‰æç¤ºä¿¡æ¯ï¼ŒæŒ‰ç…§éœ€è¦å¡«å†™å³å¯ã€‚ Project name :é¡¹ç›®åç§° ï¼Œå¦‚æœä¸éœ€è¦æ›´æ”¹ç›´æ¥å›è½¦å°±å¯ä»¥äº†ã€‚æ³¨æ„ï¼šè¿™é‡Œä¸èƒ½ä½¿ç”¨å¤§å†™ Project description:é¡¹ç›®æè¿°ï¼Œé»˜è®¤ä¸ºA Vue.js project,ç›´æ¥å›è½¦ï¼Œä¸ç”¨ç¼–å†™ã€‚ Authorï¼šä½œè€…ï¼Œå¦‚æœä½ æœ‰é…ç½®gitçš„ä½œè€…ï¼Œä»–ä¼šè¯»å–ã€‚ Install vue-router? æ˜¯å¦å®‰è£…vueçš„è·¯ç”±æ’ä»¶ï¼Œæˆ‘ä»¬è¿™é‡Œéœ€è¦å®‰è£…ï¼Œæ‰€ä»¥é€‰æ‹©Y Use ESLint to lint your code? æ˜¯å¦ç”¨ESLintæ¥é™åˆ¶ä½ çš„ä»£ç é”™è¯¯å’Œé£æ ¼ã€‚æˆ‘ä»¬è¿™é‡Œè¾“å…¥yï¼Œå¦‚æœä½ æ˜¯å¤§å‹å›¢é˜Ÿå¼€å‘ï¼Œæœ€å¥½æ˜¯è¿›è¡Œé…ç½®ã€‚ setup unit tests with Karma + Mocha? æ˜¯å¦éœ€è¦å®‰è£…å•å…ƒæµ‹è¯•å·¥å…·Karma+Mochaï¼Œæˆ‘ä»¬è¿™é‡Œä¸éœ€è¦ï¼Œæ‰€ä»¥è¾“å…¥nã€‚ Setup e2e tests with Nightwatch?æ˜¯å¦å®‰è£…e2eæ¥è¿›è¡Œç”¨æˆ·è¡Œä¸ºæ¨¡æ‹Ÿæµ‹è¯•ï¼Œæˆ‘ä»¬è¿™é‡Œä¸éœ€è¦ï¼Œæ‰€ä»¥è¾“å…¥nã€‚ å¯ä»¥çœ‹åˆ°æç¤ºä¿¡æ¯: 1234567To get started: cd vue-tutorial npm install npm run devDocumentation can be found at https://vuejs-templates.github.io/webpack 1ã€cd vuecliTest è¿›å…¥æˆ‘ä»¬çš„vueé¡¹ç›®ç›®å½•ã€‚ 2ã€npm install å®‰è£…æˆ‘ä»¬çš„é¡¹ç›®ä¾èµ–åŒ…ï¼Œä¹Ÿå°±æ˜¯å®‰è£…package.jsoné‡Œçš„åŒ…ï¼Œå¦‚æœä½ ç½‘é€Ÿä¸å¥½ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨cnpmæ¥å®‰è£…ã€‚ 3ã€npm run dev å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œæˆ‘ä»¬çš„ç¨‹åºã€‚ç»™æˆ‘ä»¬è‡ªåŠ¨æ„å»ºäº†å¼€å‘ç”¨çš„æœåŠ¡å™¨ç¯å¢ƒå’Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œå¹¶å®æ—¶ç›‘è§†æˆ‘ä»¬çš„ä»£ç æ›´æ”¹ï¼Œå³æ—¶å‘ˆç°ç»™æˆ‘ä»¬ã€‚ è‡³æ­¤ï¼Œå·²ç»å®‰è£…æˆåŠŸï¼Œå¯ä»¥å¼€å§‹å†™vueä»£ç å•¦ã€‚ ç¬¬äºŒèŠ‚ï¼švue-clié¡¹ç›®ç»“æ„è®²è§£vue-cliä¸ºæˆ‘ä»¬æ­å»ºäº†å¼€å‘æ‰€éœ€è¦çš„ç¯å¢ƒï¼Œçœå»äº†å¾ˆå¤šç²¾åŠ›ã€‚æœ‰å¿…è¦å¯¹è¿™ä¸ªç¯å¢ƒè¿›è¡Œç†Ÿæ‚‰ï¼Œæˆ‘ä»¬ä»é¡¹ç›®çš„ç»“æ„è®²èµ·ã€‚ 123456789101112131415161718192021222324252627282930.|-- build // é¡¹ç›®æ„å»º(webpack)ç›¸å…³ä»£ç | |-- build.js // ç”Ÿäº§ç¯å¢ƒæ„å»ºä»£ç | |-- check-version.js // æ£€æŸ¥nodeã€npmç­‰ç‰ˆæœ¬| |-- dev-client.js // çƒ­é‡è½½ç›¸å…³| |-- dev-server.js // æ„å»ºæœ¬åœ°æœåŠ¡å™¨| |-- utils.js // æ„å»ºå·¥å…·ç›¸å…³| |-- webpack.base.conf.js // webpackåŸºç¡€é…ç½®| |-- webpack.dev.conf.js // webpackå¼€å‘ç¯å¢ƒé…ç½®| |-- webpack.prod.conf.js // webpackç”Ÿäº§ç¯å¢ƒé…ç½®|-- config // é¡¹ç›®å¼€å‘ç¯å¢ƒé…ç½®| |-- dev.env.js // å¼€å‘ç¯å¢ƒå˜é‡| |-- index.js // é¡¹ç›®ä¸€äº›é…ç½®å˜é‡| |-- prod.env.js // ç”Ÿäº§ç¯å¢ƒå˜é‡| |-- test.env.js // æµ‹è¯•ç¯å¢ƒå˜é‡|-- src // æºç ç›®å½•| |-- components // vueå…¬å…±ç»„ä»¶| |-- store // vuexçš„çŠ¶æ€ç®¡ç†| |-- App.vue // é¡µé¢å…¥å£æ–‡ä»¶| |-- main.js // ç¨‹åºå…¥å£æ–‡ä»¶ï¼ŒåŠ è½½å„ç§å…¬å…±ç»„ä»¶|-- static // é™æ€æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸€äº›å›¾ç‰‡ï¼Œjsonæ•°æ®ç­‰| |-- data // ç¾¤èŠåˆ†æå¾—åˆ°çš„æ•°æ®ç”¨äºæ•°æ®å¯è§†åŒ–|-- .babelrc // ES6è¯­æ³•ç¼–è¯‘é…ç½®|-- .editorconfig // å®šä¹‰ä»£ç æ ¼å¼|-- .gitignore // gitä¸Šä¼ éœ€è¦å¿½ç•¥çš„æ–‡ä»¶æ ¼å¼|-- README.md // é¡¹ç›®è¯´æ˜|-- favicon.ico|-- index.html // å…¥å£é¡µé¢|-- package.json // é¡¹ç›®åŸºæœ¬ä¿¡æ¯ é‡ç‚¹æ–‡ä»¶è®²è§£package.jsonpackage.jsonæ–‡ä»¶æ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œå®šä¹‰è¯¥é¡¹ç›®å¼€å‘æ‰€éœ€è¦çš„å„ç§æ¨¡å—ä»¥åŠä¸€äº›é¡¹ç›®é…ç½®ä¿¡æ¯ï¼ˆå¦‚é¡¹ç›®åç§°ã€ç‰ˆæœ¬ã€æè¿°ã€ä½œè€…ç­‰ï¼‰ã€‚ package.json é‡Œçš„scriptså­—æ®µï¼Œè¿™ä¸ªå­—æ®µå®šä¹‰äº†ä½ å¯ä»¥ç”¨npmè¿è¡Œçš„å‘½ä»¤ã€‚åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œåœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­è¿è¡Œnpm run dev å°±ç›¸å½“äºæ‰§è¡Œ node build/dev-server.js .ä¹Ÿå°±æ˜¯å¼€å¯äº†ä¸€ä¸ªnodeå†™çš„å¼€å‘è¡Œå»ºè®®æœåŠ¡å™¨ã€‚ç”±æ­¤å¯ä»¥çœ‹å‡ºscriptå­—æ®µæ˜¯ç”¨æ¥æŒ‡å®šnpmç›¸å…³å‘½ä»¤çš„ç¼©å†™ 123456&quot;scripts&quot;: { &quot;dev&quot;: &quot;node build/dev-server.js&quot;, &quot;start&quot;: &quot;npm run dev&quot;, &quot;build&quot;: &quot;node build/build.js&quot;, &quot;lint&quot;: &quot;eslint --ext .js,.vue src&quot;}, dependencieså­—æ®µå’ŒdevDependencieså­—æ®µ dependencieså­—æ®µæŒ‡é¡¹ç›®è¿è¡Œæ—¶æ‰€ä¾èµ–çš„æ¨¡å—ï¼› devDependencieså­—æ®µæŒ‡å®šäº†é¡¹ç›®å¼€å‘æ—¶æ‰€ä¾èµ–çš„æ¨¡å—ï¼› åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œnpm installå‘½ä»¤ï¼Œä¼šè‡ªåŠ¨å®‰è£…dependencieså’ŒdevDempendencieså­—æ®µä¸­çš„æ¨¡å—ã€‚ package.jsonè¿˜æœ‰å¾ˆå¤šç›¸å…³é…ç½®ï¼Œå¦‚æœä½ æƒ³å…¨é¢äº†è§£ï¼Œå¯ä»¥ä¸“é—¨å»ç™¾åº¦å­¦ä¹ ä¸€ä¸‹ã€‚ webpack é…ç½®ç›¸å…³æˆ‘ä»¬åœ¨ä¸Šé¢è¯´äº†è¿è¡Œnpm run dev å°±ç›¸å½“äºæ‰§è¡Œäº†node build/dev-server.js,è¯´æ˜è¿™ä¸ªæ–‡ä»¶ç›¸å½“é‡è¦ï¼Œå…ˆæ¥ç†Ÿæ‚‰ä¸€ä¸‹å®ƒã€‚ æˆ‘è´´å‡ºä»£ç å¹¶ç»™å‡ºé‡è¦çš„è§£é‡Šã€‚ dev-server.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109// æ£€æŸ¥ Node å’Œ npm ç‰ˆæœ¬require('./check-versions')()// è·å– config/index.js çš„é»˜è®¤é…ç½®var config = require('../config')// å¦‚æœ Node çš„ç¯å¢ƒæ— æ³•åˆ¤æ–­å½“å‰æ˜¯ dev / product ç¯å¢ƒ// ä½¿ç”¨ config.dev.env.NODE_ENV ä½œä¸ºå½“å‰çš„ç¯å¢ƒif (!process.env.NODE_ENV) process.env.NODE_ENV = JSON.parse(config.dev.env.NODE_ENV)// ä½¿ç”¨ NodeJS è‡ªå¸¦çš„æ–‡ä»¶è·¯å¾„å·¥å…·var path = require('path')// ä½¿ç”¨ expressvar express = require('express')// ä½¿ç”¨ webpackvar webpack = require('webpack')// ä¸€ä¸ªå¯ä»¥å¼ºåˆ¶æ‰“å¼€æµè§ˆå™¨å¹¶è·³è½¬åˆ°æŒ‡å®š url çš„æ’ä»¶var opn = require('opn')// ä½¿ç”¨ proxyTablevar proxyMiddleware = require('http-proxy-middleware')// ä½¿ç”¨ dev ç¯å¢ƒçš„ webpack é…ç½®var webpackConfig = require('./webpack.dev.conf')// default port where dev server listens for incoming traffic// å¦‚æœæ²¡æœ‰æŒ‡å®šè¿è¡Œç«¯å£ï¼Œä½¿ç”¨ config.dev.port ä½œä¸ºè¿è¡Œç«¯å£var port = process.env.PORT || config.dev.port// Define HTTP proxies to your custom API backend// https://github.com/chimurai/http-proxy-middleware// ä½¿ç”¨ config.dev.proxyTable çš„é…ç½®ä½œä¸º proxyTable çš„ä»£ç†é…ç½®var proxyTable = config.dev.proxyTable// ä½¿ç”¨ express å¯åŠ¨ä¸€ä¸ªæœåŠ¡var app = express()// å¯åŠ¨ webpack è¿›è¡Œç¼–è¯‘var compiler = webpack(webpackConfig)// å¯åŠ¨ webpack-dev-middlewareï¼Œå°† ç¼–è¯‘åçš„æ–‡ä»¶æš‚å­˜åˆ°å†…å­˜ä¸­var devMiddleware = require('webpack-dev-middleware')(compiler, { publicPath: webpackConfig.output.publicPath, stats: { colors: true, chunks: false }})// å¯åŠ¨ webpack-hot-middlewareï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ Hot-reloadvar hotMiddleware = require('webpack-hot-middleware')(compiler)// force page reload when html-webpack-plugin template changescompiler.plugin('compilation', function (compilation) { compilation.plugin('html-webpack-plugin-after-emit', function (data, cb) { hotMiddleware.publish({ action: 'reload' }) cb() })})// proxy api requests// å°† proxyTable ä¸­çš„è¯·æ±‚é…ç½®æŒ‚åœ¨åˆ°å¯åŠ¨çš„ express æœåŠ¡ä¸ŠObject.keys(proxyTable).forEach(function (context) { var options = proxyTable[context] if (typeof options === 'string') { options = { target: options } } app.use(proxyMiddleware(context, options))})// handle fallback for HTML5 history API// ä½¿ç”¨ connect-history-api-fallback åŒ¹é…èµ„æºï¼Œå¦‚æœä¸åŒ¹é…å°±å¯ä»¥é‡å®šå‘åˆ°æŒ‡å®šåœ°å€app.use(require('connect-history-api-fallback')())// serve webpack bundle output// å°†æš‚å­˜åˆ°å†…å­˜ä¸­çš„ webpack ç¼–è¯‘åçš„æ–‡ä»¶æŒ‚åœ¨åˆ° express æœåŠ¡ä¸Šapp.use(devMiddleware)// enable hot-reload and state-preserving// compilation error display// å°† Hot-reload æŒ‚åœ¨åˆ° express æœåŠ¡ä¸Šapp.use(hotMiddleware)// serve pure static assets// æ‹¼æ¥ static æ–‡ä»¶å¤¹çš„é™æ€èµ„æºè·¯å¾„var staticPath = path.posix.join(config.dev.assetsPublicPath, config.dev.assetsSubDirectory)// ä¸ºé™æ€èµ„æºæä¾›å“åº”æœåŠ¡app.use(staticPath, express.static('./static'))// è®©æˆ‘ä»¬è¿™ä¸ª express æœåŠ¡ç›‘å¬ port çš„è¯·æ±‚ï¼Œå¹¶ä¸”å°†æ­¤æœåŠ¡ä½œä¸º dev-server.js çš„æ¥å£æš´éœ²module.exports = app.listen(port, function (err) { if (err) { console.log(err) return } var uri = 'http://localhost:' + port console.log('Listening at ' + uri + '\\n') // when env is testing, don't need open it // å¦‚æœä¸æ˜¯æµ‹è¯•ç¯å¢ƒï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨å¹¶è·³åˆ°æˆ‘ä»¬çš„å¼€å‘åœ°å€ if (process.env.NODE_ENV !== 'testing') { opn(uri) }}) webpack.base.confg.js webpackçš„åŸºç¡€é…ç½®æ–‡ä»¶12345678910111213141516171819202122232425262728module.export = { // ç¼–è¯‘å…¥å£æ–‡ä»¶ entry: {}, // ç¼–è¯‘è¾“å‡ºè·¯å¾„ output: {}, // ä¸€äº›è§£å†³æ–¹æ¡ˆé…ç½® resolve: {}, resolveLoader: {}, module: { // å„ç§ä¸åŒç±»å‹æ–‡ä»¶åŠ è½½å™¨é…ç½® loaders: { ... ... // jsæ–‡ä»¶ç”¨babelè½¬ç  { test: /\\.js$/, loader: 'babel', include: projectRoot, // å“ªäº›æ–‡ä»¶ä¸éœ€è¦è½¬ç  exclude: /node_modules/ }, ... ... } }, // vueæ–‡ä»¶ä¸€äº›ç›¸å…³é…ç½® vue: {}} è¯¦ç»†çš„webpackçŸ¥è¯†å¯ä»¥åœ¨webpacké‡Œå­¦ä¹ ã€‚ .babelrcBabelè§£é‡Šå™¨çš„é…ç½®æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨æ ¹ç›®å½•ä¸‹ã€‚Babelæ˜¯ä¸€ä¸ªè½¬ç å™¨ï¼Œé¡¹ç›®é‡Œéœ€è¦ç”¨å®ƒå°†ES6ä»£ç è½¬ä¸ºES5ä»£ç ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹babelçš„çŸ¥è¯†ã€‚ 1234567891011121314151617{ //è®¾å®šè½¬ç è§„åˆ™ &quot;presets&quot;: [ [&quot;env&quot;, { &quot;modules&quot;: false }], &quot;stage-2&quot; ], //è½¬ç ç”¨çš„æ’ä»¶ &quot;plugins&quot;: [&quot;transform-runtime&quot;], &quot;comments&quot;: false, //å¯¹BABEL_ENVæˆ–è€…NODE_ENVæŒ‡å®šçš„ä¸åŒçš„ç¯å¢ƒå˜é‡ï¼Œè¿›è¡Œä¸åŒçš„ç¼–è¯‘æ“ä½œ &quot;env&quot;: { &quot;test&quot;: { &quot;presets&quot;: [&quot;env&quot;, &quot;stage-2&quot;], &quot;plugins&quot;: [ &quot;istanbul&quot; ] } }} .editorconfigè¯¥æ–‡ä»¶å®šä¹‰é¡¹ç›®çš„ç¼–ç è§„èŒƒï¼Œç¼–è¯‘å™¨çš„è¡Œä¸ºä¼šä¸.editorconfigæ–‡ä»¶ä¸­å®šä¹‰çš„ä¸€è‡´ï¼Œå¹¶ä¸”å…¶ä¼˜å…ˆçº§æ¯”ç¼–è¯‘å™¨è‡ªèº«çš„è®¾ç½®è¦é«˜ï¼Œè¿™åœ¨å¤šäººåˆä½œå¼€å‘é¡¹ç›®æ—¶ååˆ†æœ‰ç”¨è€Œä¸”å¿…è¦ã€‚ 123456789root = true[*] // å¯¹æ‰€æœ‰æ–‡ä»¶åº”ç”¨ä¸‹é¢çš„è§„åˆ™charset = utf-8 // ç¼–ç è§„åˆ™ç”¨utf-8indent_style = space // ç¼©è¿›ç”¨ç©ºæ ¼indent_size = 2 // ç¼©è¿›æ•°é‡ä¸º2ä¸ªç©ºæ ¼end_of_line = lf // æ¢è¡Œç¬¦æ ¼å¼insert_final_newline = true // æ˜¯å¦åœ¨æ–‡ä»¶çš„æœ€åæ’å…¥ä¸€ä¸ªç©ºè¡Œtrim_trailing_whitespace = true // æ˜¯å¦åˆ é™¤è¡Œå°¾çš„ç©ºæ ¼ è¿™æ˜¯æ¯”è¾ƒé‡è¦çš„å…³äºvue-cliçš„é…ç½®æ–‡ä»¶ï¼Œå½“ç„¶è¿˜æœ‰å¾ˆå¤šæ–‡ä»¶ï¼Œæˆ‘ä»¬ä¼šåœ¨ä»¥åçš„æ–‡ç« ä¸­è®²è§£ã€‚ ç¬¬3èŠ‚ï¼š è§£è¯»vue-cliæ¨¡æ¿æˆ‘ä»¬é€šè¿‡ä¸¤èŠ‚è¯¾çš„è®²è§£ï¼Œä½ å¯¹vue-cliåº”è¯¥æœ‰äº†åŸºæœ¬çš„äº†è§£ï¼Œè¿™èŠ‚æˆ‘ä»¬ä¸»è¦äº†è§£ä¸€ä¸‹Vue-cliçš„æ¨¡æ¿æ“ä½œï¼ŒåŒ…æ‹¬å¢åŠ æ¨¡æ¿ï¼Œä¿®æ”¹æ¨¡æ¿ï¼Œä»¥åŠä¸€ä¸ªå¸¸è§„æ¨¡æ¿çš„åŸºæœ¬ç»“æ„ã€‚ ä¸€ã€npm run build å‘½ä»¤å¦‚ä½•æŠŠå†™å¥½çš„Vueç½‘é¡µæ”¾åˆ°æœåŠ¡å™¨ä¸Šï¼Œè¿™é‡Œè®²è§£ä¸€ä¸‹ï¼Œä¸»è¦çš„å‘½ä»¤å°±æ˜¯è¦ç”¨åˆ°npm run build å‘½ä»¤ã€‚ æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥npm run buildå‘½ä»¤åï¼Œvue-cliä¼šè‡ªåŠ¨è¿›è¡Œé¡¹ç›®å‘å¸ƒæ‰“åŒ…ã€‚ åœ¨package.jsonæ–‡ä»¶çš„scriptså­—æ®µä¸­å¯ä»¥çœ‹å‡ºï¼Œä½ æ‰§è¡Œçš„npm run buildå‘½ä»¤å°±ç›¸å¯¹æ‰§è¡Œçš„ node build/build.js åœ¨æ‰§è¡Œå®Œnpm run buildå‘½ä»¤åï¼Œåœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆäº†distæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹é‡Œè¾¹å°±æ˜¯æˆ‘ä»¬è¦ä¼ åˆ°æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ã€‚ distæ–‡ä»¶å¤¹ä¸‹ç›®å½•åŒ…æ‹¬ï¼š index.html ä¸»é¡µæ–‡ä»¶:å› ä¸ºæˆ‘ä»¬å¼€å‘çš„æ˜¯å•é¡µwebåº”ç”¨ï¼Œæ‰€ä»¥è¯´ä¸€èˆ¬åªæœ‰ä¸€ä¸ªhtmlæ–‡ä»¶ã€‚ static é™æ€èµ„æºæ–‡ä»¶å¤¹ï¼šé‡Œè¾¹jsã€CSSå’Œä¸€äº›å›¾ç‰‡ã€‚ äºŒã€main.jsæ–‡ä»¶è§£è¯»main.jsæ˜¯æ•´ä¸ªé¡¹ç›®çš„å…¥å£æ–‡ä»¶,åœ¨srcæ–‡ä»¶å¤¹ä¸‹ï¼š 12345678910111213import Vue from 'vue'import App from './App'import router from './router'Vue.config.productionTip = false //ç”Ÿäº§ç¯å¢ƒæç¤ºï¼Œè¿™é‡Œè®¾ç½®æˆäº†false/* eslint-disable no-new */new Vue({ el: '#app', router, template: '&lt;App/&gt;', components: { App }}) é€šè¿‡ä»£ç å¯ä»¥çœ‹å‡ºè¿™é‡Œå¼•è¿›äº†Appçš„ç»„ä»¶å’Œçš„æ¨¡æ¿ï¼Œå®ƒæ˜¯é€šè¿‡ import App from â€˜./Appâ€™è¿™å¥ä»£ç å¼•å…¥çš„ã€‚ æˆ‘ä»¬æ‰¾åˆ°App.vueæ–‡ä»¶ï¼Œæ‰“å¼€æŸ¥çœ‹ã€‚ ä¸‰ã€App.vueæ–‡ä»¶123456789101112131415161718192021222324&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;img src=&quot;./assets/logo.png&quot;&gt; &lt;router-view/&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default { name: 'app'}&lt;/script&gt;&lt;style&gt;#app { font-family: 'Avenir', Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; text-align: center; color: #2c3e50; margin-top: 60px;}&lt;/style&gt; app.vueæ–‡ä»¶æˆ‘ä»¬å¯ä»¥åˆ†æˆä¸‰éƒ¨åˆ†è§£è¯»ï¼Œ æ ‡ç­¾åŒ…è£¹çš„å†…å®¹ï¼šè¿™æ˜¯æ¨¡æ¿çš„HTMLDomç»“æ„ï¼Œé‡Œè¾¹å¼•å…¥äº†ä¸€å¼ å›¾ç‰‡å’Œæ ‡ç­¾ï¼Œæ ‡ç­¾è¯´æ˜ä½¿ç”¨äº†è·¯ç”±æœºåˆ¶ã€‚æˆ‘ä»¬ä¼šåœ¨ä»¥åä¸“é—¨æ‹¿å‡ºä¸€ç¯‡æ–‡ç« è®²Vue-routerã€‚ æ ‡ç­¾åŒ…æ‹¬çš„jså†…å®¹ï¼šä½ å¯ä»¥åœ¨è¿™é‡Œäº›ä¸€äº›é¡µé¢çš„åŠ¨æ€æ•ˆæœå’ŒVueçš„é€»è¾‘ä»£ç ã€‚ æ ‡ç­¾åŒ…è£¹çš„csså†…å®¹ï¼šè¿™é‡Œå°±æ˜¯ä½ å¹³æ—¶å†™çš„CSSæ ·å¼ï¼Œå¯¹é¡µé¢æ ·å­è¿›è¡Œè£…é¥°ç”¨çš„ï¼Œ éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ä½ ==å¯ä»¥ç”¨æ¥å£°æ˜è¿™äº›cssæ ·å¼åªåœ¨æœ¬æ¨¡æ¿ä¸­èµ·ä½œç”¨==ã€‚ å››ã€router/index.js è·¯ç”±æ–‡ä»¶åœ¨app.vueä¸­æˆ‘ä»¬çœ‹åˆ°äº†è·¯ç”±æ–‡ä»¶ï¼Œè™½ç„¶routerçš„å†…å®¹æ¯”è¾ƒå¤šï¼Œä½†æ˜¯æˆ‘ä»¬å…ˆç®€å•çš„çœ‹ä¸€ä¸‹ã€‚ 12345678910111213141516import Vue from 'vue'import Router from 'vue-router'import HelloWorld from '@/components/HelloWorld'Vue.use(Router)export default new Router({ routes: [ { path: '/', name: 'Hello', component: HelloWorld } ]}) å¯ä»¥çœ‹åˆ° import Hello from â€˜@/components/Helloâ€™è¿™å¥è¯ï¼Œ æ–‡ä»¶å¼•å…¥äº†/components/Hello.vueæ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶é‡Œå°±é…ç½®äº†ä¸€ä¸ªè·¯ç”±ï¼Œå°±æ˜¯å½“æˆ‘ä»¬è®¿é—®ç½‘ç«™æ—¶ç»™æˆ‘ä»¬æ˜¾ç¤ºHello.vueçš„å†…å®¹ã€‚ äº”ã€Hello.vueæ–‡ä»¶è§£è¯»è¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬åœ¨ç¬¬ä¸€èŠ‚è¯¾çœ‹åˆ°çš„é¡µé¢æ–‡ä»¶äº†ã€‚ä¹Ÿæ˜¯åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œä»¥åæˆ‘ä»¬å¤§éƒ¨åˆ†çš„å·¥ä½œéƒ½æ˜¯å†™è¿™äº›.vueç»“å°¾çš„æ–‡ä»¶ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥è¯•ç€æ”¹ä¸€äº›å†…å®¹ï¼Œç„¶åé¢„è§ˆä¸€ä¸‹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;template&gt; &lt;div class=&quot;hello&quot;&gt; &lt;h1&gt;{{ msg }}&lt;/h1&gt; &lt;h2&gt;Essential Links&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;https://vuejs.org&quot; target=&quot;_blank&quot;&gt;Core Docs&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://forum.vuejs.org&quot; target=&quot;_blank&quot;&gt;Forum&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://chat.vuejs.org&quot; target=&quot;_blank&quot;&gt;Community Chat&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://twitter.com/vuejs&quot; target=&quot;_blank&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt; &lt;br&gt; &lt;li&gt;&lt;a href=&quot;http://vuejs-templates.github.io/webpack/&quot; target=&quot;_blank&quot;&gt;Docs for This Template&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;Ecosystem&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;http://router.vuejs.org/&quot; target=&quot;_blank&quot;&gt;vue-router&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;http://vuex.vuejs.org/&quot; target=&quot;_blank&quot;&gt;vuex&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;http://vue-loader.vuejs.org/&quot; target=&quot;_blank&quot;&gt;vue-loader&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://github.com/vuejs/awesome-vue&quot; target=&quot;_blank&quot;&gt;awesome-vue&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default { name: 'HelloWorld', data () { return { msg: 'Welcome to Your Vue.js App' } } }&lt;/script&gt;&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;&lt;style scoped&gt; h1, h2 { font-weight: normal; } ul { list-style-type: none; padding: 0; } li { display: inline-block; margin: 0 10px; } a { color: #42b983; }&lt;/style&gt; æ€»ç»“è¿™ä¸ªæ•™ç¨‹åªæ˜¯å¸¦ç€ä½ å¤§æ¦‚æµè§ˆå’Œé‡ç‚¹è®²è§£äº†vue-cliçš„çŸ¥è¯†ï¼Œå¦‚æœä½ æƒ³å®Œå…¨å¼„æ˜ç™½vue-cliï¼Œæˆ‘å»ºè®®æœ€å¥½æ˜¯æœ‰è°ƒç†çš„é˜…è¯»æ‰€æœ‰ä»£ç ï¼Œè¿™å¯¹ä½ ä»¥åæˆä¸ºvueå®é™…é¡¹ç›®çš„å¼€å‘å¾ˆæœ‰å¸®åŠ©ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªåˆå­¦è€…ï¼Œäº†è§£è¿™äº›å·²ç»è¶³å¤Ÿå‘ä¸‹å­¦ä¹ äº†ã€‚è¿™ç¯‡æ•™ç¨‹ç»“æŸåï¼Œå­¦ä¹ vue-routerçš„çŸ¥è¯†ï¼Œvue-routeræ˜¯ä¸€ä¸ªé‡ç‚¹å­¦ä¹ ä»»åŠ¡.","link":"/posts/Vue-cli%E6%95%99%E7%A8%8B/"},{"title":"VueXå…¥é—¨è¿›é˜¶","text":"Vuexç®€ä»‹ Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.jsåº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚çŠ¶æ€ç®¡ç†dataä¸­çš„å±æ€§ éœ€è¦å…±äº«ç»™å…¶ä»–vueç»„ä»¶ä½¿ç”¨çš„éƒ¨åˆ†ï¼Œå°±å«åšçŠ¶æ€ã€‚ç®€å•çš„è¯´å°±æ˜¯dataä¸­éœ€è¦å…±ç”¨çš„å±æ€§ã€‚æ¯”å¦‚ï¼Œç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œç”¨æˆ·åç§°ç­‰ç›¸å…³ä¿¡æ¯ã€‚å¦‚æœä¸æŠŠè¿™äº›å±æ€§è®¾ç½®ä¸ºçŠ¶æ€ï¼Œæ¯ä¸ªé¡µé¢é‡åˆ°åï¼Œéƒ½ä¼šå‘é€è¯·æ±‚ï¼Œä»æœåŠ¡å™¨ç«¯è·å–ï¼Œå†è¿”å›å‰ç«¯ã€‚åœ¨å¤§å‹é¡¹ç›®ä¸­ä¼šæœ‰å¾ˆå¤šå…±ç”¨çš„æ•°æ®ã€‚æ‰€ä»¥æä¾›äº†vuex. ç¬¬ä¸€èŠ‚ åˆå‡ºèŒ…åºï¼Œæ¥ä¸ªdemoè¿™ä¸ªæ•™ç¨‹æ˜¯åŸºäºvue-cliçš„é¡¹ç›®åšçš„å¼€å‘ã€‚æ‰€ä»¥ç¡®ä¿vue-cliï¼Œvueå¼€å‘ç¯å¢ƒæ˜¯okçš„ã€‚ 1. å®‰è£…vuex1npm install vuex --save å› ä¸ºç”Ÿäº§ç¯å¢ƒè¦ç”¨ï¼Œæ‰€ä»¥æ˜¯â€“save 2. æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹ä¸‹æ–°å»ºindex.jsï¼Œæ–‡ä»¶ä¸­å¼•å…¥vueå’Œvuexsrc/store/index.js 1234import Vue from 'vue'import Vuex from 'vuex'Vue.use(Vuex) è¿™æ ·å°±ç®—å¼•ç”¨æˆåŠŸäº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨äº†ã€‚ å…¥é—¨Demoé€šè¿‡åšä¸€ä¸ªè®¡æ•°å™¨çš„demoæ¥ç»ƒä¹ vuexçš„åŸºæœ¬æ“ä½œï¼Œå¹¶å®ç°æ•°æ®å…±äº«ã€‚ 1. åœ¨store/index.jsä¸­å¢åŠ ä¸€ä¸ªå¸¸é‡å¯¹è±¡ã€‚â€“==state==store/index.js 123const state = { count: 1} 2. ç”¨export defaultå°è£…ä»£ç ï¼Œè®©å¤–éƒ¨å¯ä»¥å¼•ç”¨123export default new Vuex.Store({ state}) 3. æ–°å»ºä¸€ä¸ªvueæ¨¡æ¿ï¼Œåœ¨componentsæ–‡ä»¶å¤¹ä¸‹ï¼ŒCount.vue.åœ¨æ¨¡æ¿ä¸­å¼•å…¥åˆšå»ºçš„index.js, å¹¶åœ¨æ¨¡æ¿ä¸­ç”¨è¾“å‡ºcountçš„å€¼components/Count.vue 123456789101112131415161718192021&lt;template&gt; &lt;div&gt; &lt;h2&gt;{{msg}}&lt;/h2&gt; &lt;hr/&gt; &lt;h3&gt;{{$store.state.count}}&lt;/h3&gt; &lt;button @click=&quot;$store.commit('add')&quot;&gt; åŠ åˆ† &lt;/button&gt; &lt;button @click=&quot;$store.commit('reduce')&quot;&gt; å‡åˆ† &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import store from '@/store' export default{ data () { return { msg: 'Hello Vuex' } }, store }&lt;/script&gt; 4. åœ¨store/index.jsä¸­åŠ å…¥ä¸¤ä¸ªæ”¹å˜stateçš„æ–¹æ³•â€“==mutation==store/index.js 123456789101112131415161718192021222324import Vue from 'vue'import Vuex from 'vuex'Vue.use(Vuex)const state = { count: 1}// æ–°å¢const mutations = { add (state) { state.count ++ }, reduce (state) { state.count -- }}export default new Vuex.Store({ state, // æ–°å¢ mutations}) è¿™é‡Œçš„mutationsæ˜¯å›ºå®šçš„å†™æ³•ï¼Œç¨åä¼šç»†è®²ã€‚åªéœ€è¦çŸ¥é“æ”¹å˜stateæ•°å€¼çš„æ–¹æ³•ï¼Œå¿…é¡»å†™åœ¨mutationsé‡Œã€‚ 5. åœ¨Count.vueæ¨¡æ¿ä¸­åŠ å…¥ä¸¤ä¸ªæŒ‰é’®ï¼Œå¹¶è°ƒç”¨mutationsä¸­çš„æ–¹æ³•12&lt;button @click=&quot;$store.commit('add')&quot;&gt; åŠ åˆ† &lt;/button&gt;&lt;button @click=&quot;$store.commit('reduce')&quot;&gt; å‡åˆ† &lt;/button&gt; éœ€è¦åœ¨è·¯ç”±ä¸­åŠ å…¥countï¼Œå¹¶å¯ä»¥è·³è½¬åˆ°countï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ ç°åœ¨å°±å¯ä»¥å¯¹vuexä¸­çš„countè¿›è¡ŒåŠ å‡äº†ã€‚ ç¬¬äºŒèŠ‚ stateè®¿é—®çŠ¶æ€å¯¹è±¡åœ¨ç¬¬ä¸€èŠ‚å·²ç»å†™äº†ä¸€ä¸ªconst state,è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¯´çš„è®¿é—®çŠ¶æ€å¯¹è±¡ï¼Œå®ƒå°±æ˜¯æˆ‘ä»¬SPA(å•é¡µåº”ç”¨ç¨‹åº)ä¸­å…±äº«å€¼ã€‚ ä»Šå¤©å­¦ä¹ çŠ¶æ€å¯¹è±¡èµ‹å€¼ç»™å†…éƒ¨å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æŠŠstoreçš„å€¼èµ‹å€¼ç»™æ¨¡æ¿é‡Œçš„dataä¸­çš„å€¼ã€‚ ==ï¼ˆè¯»å–stateçš„å€¼ï¼‰== é—®é¢˜ä¸Šä¸€èŠ‚ä¸­ï¼Œåœ¨Count.vueç»„ä»¶ä¸­è·å–vuexçš„å€¼æ˜¯é€šè¿‡è¿™ç§æ–¹å¼è·å–çš„ï¼Œä½†è¿™ç§æ–¹å¼å¹¶ä¸ä¼˜é›…ã€‚è¿™é‡Œç”¨3ç§æ–¹å¼æ”¹å†™ã€‚ æœ‰3ç§èµ‹å€¼æ–¹å¼ã€‚ 1. é€šè¿‡computedè®¡ç®—å±æ€§ç›´æ¥èµ‹å€¼computedå±æ€§å¯ä»¥åœ¨å±æ€§è¾“å‡ºå‰ï¼Œå¯¹dataä¸­çš„å€¼è¿›è¡Œæ”¹å˜ï¼Œç°åœ¨å°±åˆ©ç”¨è¿™ç§ç‰¹æ€§æŠŠstore.jsä¸­çš„stateå€¼èµ‹ç»™æ¨¡æ¿ä¸­çš„dataå€¼ æ³¨æ„ï¼š computedçš„å±æ€§æ˜¯åœ¨ç»„ä»¶ä¸­çš„ï¼Œä¸æ˜¯åœ¨storeä¸­ã€‚ Count.vue 1234567891011121314import store from '@/store'export default{ data () { return { msg: 'Hello Vuex' } }, computed: { count () { return this.$store.state.count } }, store} éœ€è¦æ³¨æ„ï¼Œä¸€å®šè¦å†™this, åœ¨é¡µé¢æ˜¾ç¤ºçš„åœ°æ–¹æ›¿æ¢ä¸ºcount 12&lt;!-- &lt;h3&gt;{{$store.state.count}}&lt;/h3&gt; --&gt;&lt;h3&gt;{{count}}&lt;/h3&gt; 2. é€šè¿‡mapStateçš„å¯¹è±¡æ¥èµ‹å€¼ å¼•å…¥mapState 1import {mapState} from 'vuex' åœ¨computedè®¡ç®—å±æ€§é‡Œå†™å¦‚ä¸‹ä»£ç  123computed: mapState({ count: state =&gt; state.count}), è¿™é‡Œæˆ‘ä»¬ç”¨ES6çš„ç®­å¤´å‡½æ•°æ¥ç»™countèµ‹å€¼ã€‚ 3. é€šè¿‡mapStateçš„æ•°ç»„æ¥èµ‹å€¼1computed: mapState(['count']) ä¸‹é¢è¿™ç§å†™æ³•æ˜¯é”™è¯¯çš„ 1computed: mapState['count'], è¿™ä¸ªç®—æ˜¯æœ€ç®€å•çš„å†™æ³•ï¼Œåœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ä¹Ÿç»å¸¸è¿™æ ·ç”¨ã€‚ æ€»ç»“è¿™å°±æ˜¯ä¸‰ç§èµ‹å€¼æ–¹å¼ï¼Œè™½ç„¶ç®€å•ï¼Œä½†å®é™…é¡¹ç›®ä¸­ç»å¸¸ä½¿ç”¨ã€‚ä¸€å®šè¦å¤šç»ƒä¹ ã€‚ ç¬¬ä¸‰èŠ‚ mutationsä¿®æ”¹çŠ¶æ€mutationsä¿®æ”¹stateçš„æ•°æ® ä¸ŠèŠ‚å­¦ä¹ äº†æ€ä¹ˆè¯»å–stateï¼Œè¿™èŠ‚å­¦ä¹  ==å¦‚ä½•ä¿®æ”¹çŠ¶æ€==ã€‚è¿™ä¸ªåœ¨ç¬¬ä¸€èŠ‚è¯¾å·²ç»ç¢°åˆ°è¿‡ï¼Œå¹¶è¿›è¡Œäº†åŠ å‡æ“ä½œï¼Œè¿™èŠ‚å…·ä½“å­¦ä¹ å¦‚ä½•æ“ä½œmutationsã€‚ $store.commit()vuexæä¾›äº†commitæ–¹æ³•æ¥ä¿®æ”¹çŠ¶æ€ å›é¡¾ä¸€ä¸‹ä¹‹å‰ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³• Count.vue 12&lt;button @click=&quot;$store.commit('add')&quot;&gt; åŠ åˆ† &lt;/button&gt;&lt;button @click=&quot;$store.commit('reduce')&quot;&gt; å‡åˆ† &lt;/button&gt; store/index.js 12345678const mutations = { add (state) { state.count ++ }, reduce (state) { state.count -- }} ä¼ å€¼ä¸Šé¢åªæ˜¯ä¸€ä¸ªç®€å•çš„ä¿®æ”¹çŠ¶æ€æ“ä½œã€‚å®é™…é¡¹ç›®ä¸­å¸¸å¸¸éœ€è¦åœ¨ä¿®æ”¹çŠ¶æ€æ—¶ä¼ å€¼ã€‚æ¯”å¦‚ä¸Šè¾¹çš„ä¾‹å­æ¯æ¬¡åªåŠ 1ï¼Œç°åœ¨è¦é€šè¿‡æ‰€ä¼ çš„å€¼ç›¸åŠ ã€‚ å…¶å®åªéœ€è¦åœ¨mutationsé‡Œå†åŠ ä¸€ä¸ªå‚æ•°ï¼Œå¹¶åœ¨commitçš„æ—¶å€™ä¼ é€’å°±å¯ä»¥äº†ã€‚å¦‚ä¸‹ store/index.js 123456789const mutations = { // æ–°å¢ add (state, n) { state.count += n }, reduce (state) { state.count -- }} åœ¨Count.vueé‡Œä¿®æ”¹æŒ‰é’®çš„commit()æ–¹æ³•çš„å‚æ•°ï¼Œä¼ 10ï¼Œå³æ¯æ¬¡åŠ 10 12&lt;button @click=&quot;$store.commit('add', 10)&quot;&gt; åŠ åˆ† &lt;/button&gt;&lt;button @click=&quot;$store.commit('reduce')&quot;&gt; å‡åˆ† &lt;/button&gt; è¿™æ ·ä¼ å€¼å°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ã€‚ æ¨¡æ¿è·å–mutationsæ–¹æ³•å®é™…å¼€å‘ä¸­ä¹Ÿä¸å–œæ¬¢çœ‹åˆ°$store.commit()è¿™æ ·çš„æ–¹æ³•å‡ºç°ï¼Œå¸Œæœ›è·Ÿè°ƒç”¨ç»„ä»¶é‡Œçš„æ–¹æ³•ä¸€æ ·è°ƒç”¨ã€‚ ä¾‹å¦‚ï¼š @click=â€reduceâ€, å°±å’Œæ²¡å¼•ç”¨vuexæ’ä»¶ä¸€æ ·ã€‚ è¦è¾¾åˆ°è¿™ç§å†™æ³•ï¼Œåªéœ€è¦ç®€å•çš„ä¸¤æ­¥ åœ¨ç»„ä»¶Count.vueé‡Œç”¨importå¼•å…¥mapMutations 1import { mapState, mapMutations } from 'vuex' åœ¨ç»„ä»¶çš„scriptæ ‡ç­¾é‡Œæ·»åŠ methodså±æ€§ï¼Œå¹¶åŠ å…¥mapMutations 12345678910111213import store from '@/store'import { mapState, mapMutations } from 'vuex'export default{ data () { return { msg: 'Hello Vuex' } }, computed: mapState(['count']), // æ–°å¢ methods: mapMutations(['add', 'reduce']), store} åœ¨è°ƒç”¨çš„åœ°æ–¹æ”¹æˆç›´æ¥ç”¨addå’Œreduce. 123456789101112### actionæ–¹å¼ç¬¬äºŒç§æ–¹å¼ï¼šå¯¹è±¡é£æ ¼çš„ä¼ å‚æ–¹å¼æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡ï¼š```jsstore.commit({ type: 'increment', // äº‹ä»¶å amount: 10}) åœ¨ Vuex ä¸­ï¼Œmutation éƒ½æ˜¯åŒæ­¥å‡½æ•°ç¬¬å››èŠ‚ gettersè®¡ç®—è¿‡æ»¤æ“ä½œgettersä»å­—é¢ä¸Šæ˜¯è·å¾—çš„æ„æ€ï¼Œè·å–stateçš„æ•°æ®ã€‚ å¯ä»¥æŠŠå®ƒçœ‹ä½œåœ¨è·å–æ•°æ®ä¹‹å‰è¿›è¡Œçš„ä¸€ç§å†ç¼–è¾‘ï¼Œç›¸å½“äºå¯¹æ•°æ®çš„ä¸€ä¸ªåŠ å·¥å’Œè¿‡æ»¤ã€‚å¯ä»¥çœ‹ä½œstoreçš„è®¡ç®—å±æ€§ Getters ä¹Ÿå¯ä»¥ç†è§£ä¸º Vue ä¸­çš„è®¡ç®—å±æ€§ (computed)ã€‚ gettersåŸºæœ¬ç”¨æ³•ç°åœ¨è¦å¯¹storeçš„countè¿›è¡Œä¸€ä¸ªè®¡ç®—å±æ€§çš„æ“ä½œï¼Œåœ¨è¾“å‡ºä¹‹å‰ï¼ŒåŠ ä¸Š100 é¦–å…ˆåœ¨store/index.jsé‡Œç”¨constå£°æ˜getterså±æ€§ 123456const getters = { count: function (state) { state.count += 100 return state.count }} å†™å¥½gettersåï¼Œè¿˜éœ€è¦åœ¨Vuex.store()é‡Œå¼•å…¥ï¼Œç”±äºä¹‹å‰å·²ç»å¼•å…¥stateå’Œmutationsï¼Œæ‰€ä»¥è¿™é‡Œæœ‰ä¸‰ä¸ªå¼•å…¥å±æ€§ã€‚å¦‚ä¸‹ 12345export default new Vuex.Store({ state, mutations, getters}) åœ¨storeé‡Œçš„é…ç½®å®Œæˆäº†ï¼Œéœ€è¦åˆ°ç»„ä»¶é¡µå¯¹computedè¿›è¡Œé…ç½®ï¼Œåœ¨vueçš„æ„é€ å™¨é‡Œåªèƒ½æœ‰ä¸€ä¸ªcomputedå±æ€§ï¼Œå¦‚æœå†™å¤šä¸ªï¼Œåªæœ‰æœ€åä¸€ä¸ªcomputedå±æ€§å¯ç”¨ï¼Œæ‰€ä»¥è¦å¯¹ä¸ŠèŠ‚è¯¾çš„computedå±æ€§è¿›è¡Œæ”¹é€ ã€‚æ”¹é€ æ—¶ï¼Œä½¿ç”¨ES6ä¸­çš„å±•å¼€è¿ç®—ç¬¦â€™â€¦â€™ 123456computed: { ...mapState(['count']), count () { return this.$store.getters.count }}, æ³¨æ„ï¼š å†™äº†è¿™ä¸ªé…ç½®åï¼Œæ¯æ¬¡countçš„å€¼å‘ç”Ÿå˜åŒ–ï¼Œéƒ½ä¼šè¿›è¡ŒåŠ 100æ“ä½œã€‚ ç”¨mapGettersç®€åŒ–æ¨¡æ¿å†™æ³•stateå’Œmutationséƒ½æœ‰mapçš„å¼•ç”¨æ–¹æ³•æŠŠæˆ‘ä»¬çš„æ¨¡æ¿ä¸­çš„ç¼–ç è¿›è¡Œç®€åŒ–ï¼Œgettersä¹Ÿæ˜¯ï¼Œçœ‹ä¸‹ä»£ç ï¼š ç”¨importå¼•å…¥mapGetters 1import { mapState, mapMutations, mapGetters } from 'vuex' åœ¨computedå±æ€§ä¸­åŠ å…¥mapGetters 1234computed: { ...mapState(['count']), ...mapGetters(['count'])}, æ€»ç»“-4åˆ°è¿™é‡Œgetterså°±å­¦å®Œäº†ï¼Œè¿˜æ˜¯è¦ç†Ÿæ‚‰ç†Ÿæ‚‰ã€‚æ³¨æ„mapGettersæ˜¯å†™åœ¨computedä¸­çš„ã€‚getterå†™çš„æ˜¯å‡½æ•°ï¼Œä½†æˆ‘ä»¬åº”è¯¥æŠŠå®ƒå½“æˆè®¡ç®—å±æ€§æ¥ç”¨ã€‚ ç¬¬5èŠ‚ actionså¼‚æ­¥ä¿®æ”¹çŠ¶æ€actions å’Œ mutationsçš„åŠŸèƒ½åŸºæœ¬ä¸€æ ·ï¼Œä¸åŒç‚¹æ˜¯actionsæ˜¯å¼‚æ­¥çš„æ”¹å˜stateçš„çŠ¶æ€ï¼Œè€Œmutationsæ˜¯åŒæ­¥æ”¹å˜çŠ¶æ€ã€‚ ä¸åŒæ¨¡å—çš„ actions å‡å¯ä»¥é€šè¿‡ store.dispatch ç›´æ¥è§¦å‘ã€‚ åœ¨storeé‡Œå£°æ˜actionsactionså¯ä»¥è°ƒç”¨mutationsé‡Œçš„æ–¹æ³•ã€‚ ç»§ç»­ä¸ŠèŠ‚çš„ä»£ç ï¼Œåœ¨actionsé‡Œè°ƒç”¨mutationé‡Œçš„addå’Œreduceæ–¹æ³• 123456789101112131415161718const actions = { addAction (context) { context.commit('add', 10) }, reduceAction ({commit}) { commit('reduce') }}// å¯¼å‡ºé‡Œæ·»åŠ export default new Vuex.Store({ state, mutations, // æ–°å¢ actions, getters}) æ³¨æ„è¿™é‡Œçš„ä¼ å‚æ–¹å¼ï¼ï¼ï¼ï¼ï¼ addActionä¸­çš„10åœ¨actionsé‡Œå†™äº†ä¸¤ä¸ªæ–¹æ³•addActionå’ŒreduceActionï¼Œåœ¨æ–¹æ³•ä½“é‡Œéƒ½ç”¨commitè°ƒç”¨äº†mutationsé‡Œçš„æ–¹æ³•ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„ä¼ çš„å‚æ•°ä¸ä¸€æ ·ã€‚ contextï¼š ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¿™é‡Œå¯ç†è§£ä¸ºstoreæœ¬èº« {commit}: ç›´æ¥æŠŠcommitå¯¹è±¡ä¼ è¿‡æ¥ï¼Œå¯ä»¥è®©æ–¹æ³•ä½“é€»è¾‘å’Œä»£ç æ›´æ¸…æ™°æ˜äº† æ¨¡æ¿ä¸­çš„ä½¿ç”¨æˆ‘ä»¬éœ€è¦åœ¨Count.vueä¸­è°ƒç”¨ï¼Œè®©actionsç”Ÿæ•ˆã€‚ å¤åˆ¶ä¹‹å‰çš„ä¸¤ä¸ªæŒ‰é’®ï¼Œè°ƒç”¨addActionå’ŒreduceAction 12&lt;button @click=&quot;addAction(10)&quot;&gt; å¼‚æ­¥åŠ åˆ† &lt;/button&gt;&lt;button @click=&quot;reduceAction&quot;&gt; å¼‚æ­¥å‡åˆ† &lt;/button&gt; æ”¹é€ methodsï¼Œç”¨æ‰©å±•è¿ç®—ç¬¦æŠŠmapMutationså’ŒmapActionså¼•å…¥ 1234methods: { ...mapActions(['addAction', 'reduceAction']), ...mapMutations(['add', 'reduce'])}, ç”¨dispatchè°ƒç”¨action1234567store.dispatch('asyncAdd');store.dispatch('addAction', { n: 10 // ä¼ å‚})store.dispatch({ type: 'addAction', n: 10 }); å¢åŠ å¼‚æ­¥æ ¡éªŒç°åœ¨çœ‹åˆ°çš„æ•ˆæœå’Œmutationsæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œæ€æ ·åŒºåˆ«ä¸mutationsé‡Œçš„æ–¹æ³•å‘¢ï¼Œç°åœ¨æ¼”ç¤ºactionsé‡Œçš„å¼‚æ­¥åŠŸèƒ½ã€‚ è¿™é‡Œå¢åŠ ä¸€ä¸ªè®¡æ—¶å™¨å»¶è¿Ÿæ‰§è¡Œã€‚ åœ¨addActioné‡Œä½¿ç”¨setTimeoutå°±è¡Œå»¶è¿Ÿæ‰§è¡Œã€‚å¤„ç†é€»è¾‘ï¼Œå…ˆåŠ 10ï¼Œéš”500æ¯«ç§’ï¼Œå‡ä¸€ 12345678910111213const actions = { addAction (context) { setTimeout(() =&gt; { context.commit('reduce') console.log('æˆ‘æ˜¯å¼‚æ­¥æ‰§è¡Œçš„') }, 500) context.commit('add', 10) console.log('æˆ‘å…ˆæ‰§è¡Œ') }, reduceAction ({commit}) { commit('reduce') }} æ€»ç»“-5mutationå’Œactionéƒ½å¯ä»¥å¯¹storeè¿›è¡Œæ“ä½œ mutationå¿…é¡»æ˜¯åŒæ­¥æ“ä½œï¼Œactionå¯ä»¥æ˜¯ä»»ä½•å¼‚æ­¥æ“ä½œã€‚ actionä¸ç›´æ¥æ›´æ”¹çŠ¶æ€ï¼Œè€Œæ˜¯æäº¤mutation ç¬¬6èŠ‚ moduleæ¨¡å—ç»„éšç€é¡¹ç›®å¤æ‚åº¦çš„å¢åŠ ï¼Œå…±äº«çš„çŠ¶æ€è¶Šæ¥è¶Šå¤šï¼Œè¿™æ—¶å€™ï¼Œéœ€è¦æŠŠæˆ‘ä»¬çŠ¶æ€çš„æ“ä½œè¿›è¡Œåˆ†ç»„ï¼Œåˆ†ç»„åï¼Œå†æŒ‰ç»„ç¼–å†™ã€‚ ä»Šå¤©å­¦ä¹ module: çŠ¶æ€ç®¡ç†å™¨çš„æ¨¡å—ç»„æ“ä½œã€‚ æ¯ä¸ªmoduleæ‹¥æœ‰è‡ªå·±çš„stateã€mutationï¼Œactionï¼Œgetterï¼Œç”šè‡³åµŒå¥—å­æ¨¡å—ã€‚å…·ä½“ç»“æ„å¦‚ä¸‹:(æ¥è‡ªå®˜ç½‘) 12345678910111213141516171819202122const moduleA = { state: { ... }, mutations: { ... }, actions: { ... }, getters: { ... }}const moduleB = { state: { ... }, mutations: { ... }, actions: { ... }}const store = new Vuex.Store({ modules: { a: moduleA, b: moduleB }})store.state.a // -&gt; moduleA çš„çŠ¶æ€store.state.b // -&gt; moduleB çš„çŠ¶æ€ å£°æ˜æ¨¡å—ç»„åœ¨store/index.jsä¸­ï¼Œå°†ä¹‹å‰å®šä¹‰å¥½çš„state,gettersï¼Œmutationsï¼Œactionséƒ½æå–åˆ°ä¸€ä¸ªå˜é‡ä¸­ï¼Œå‘½åModuleAã€‚ 1234567// ä¹‹å‰å¯¼å‡ºæ˜¯å°†è¿™äº›éƒ½å¯¼å‡ºçš„export default new Vuex.Store({ state, mutations, actions, getters}) ç°åœ¨éƒ½è£…åˆ°moduleAä¸­ï¼Œå¯¼å‡ºmoduleA 123456789const moduleA = { state, mutations, getters, actions}export default new Vuex.Store({ modules: { a: moduleA }}) åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨åœ¨è®¡ç®—å±æ€§ä¸­å¼•å…¥ 12345computed: { count () { return this.$store.state.a.count }}, å†çœ‹æ•ˆæœï¼Œå’Œä¹‹å‰æ˜¯ä¸€æ ·çš„ã€‚ è¿™æ ·å°±ç®—åˆ›å»ºäº†ä¸€ä¸ªmodule, TODO åç»­éœ€è¦å°†moduleå•ç‹¬æŠ½ç¦»æˆä¸€ä¸ªæ–‡ä»¶æ€»ç»“-6å¯ä»¥çœ‹åˆ°ï¼Œ ä¸€ä¸ªvuexé‡ŒåŒ…å« state ç”¨æ¥å®šä¹‰é€šç”¨çš„æ•°æ®ï¼Œç±»ä¼¼äºç»„ä»¶ä¸­çš„data mapStateæ˜¯è·å–stateçš„è¾…åŠ©å‡½æ•°ã€‚è·å–stateéƒ½æ˜¯é€šè¿‡computedæ¥è·å–çš„ï¼Œå¦‚æœè·å–å¤šä¸ªä¼šæ˜¾å¾—å†—ä½™ï¼Œç”¨mapStateè¾…åŠ©å‡½æ•°å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆè®¡ç®—å±æ€§ã€‚ getter å¯ä»¥è®¤ä¸ºæ˜¯storeçš„è®¡ç®—å±æ€§ï¼Œç±»ä¼¼äºç»„ä»¶ä¸­çš„computedå±æ€§ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚ mapGettersæ˜¯getterçš„è¾…åŠ©å‡½æ•° å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ï¼š mutation æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚ Mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•° Vuex ä¸­çš„ mutation ä¹Ÿéœ€è¦ä¸ä½¿ç”¨ Vue ä¸€æ ·éµå®ˆä¸€äº›æ³¨æ„äº‹é¡¹ï¼š æœ€å¥½æå‰åœ¨ä½ çš„ store ä¸­åˆå§‹åŒ–å¥½æ‰€æœ‰æ‰€éœ€å±æ€§ã€‚ å½“éœ€è¦åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§æ—¶ï¼Œä½ åº”è¯¥ ä½¿ç”¨ Vue.set(obj, â€˜newPropâ€™, 123), æˆ–è€… ä»¥æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œåˆ©ç”¨ stage-3 çš„å¯¹è±¡å±•å¼€è¿ç®—ç¬¦æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š state.obj = { â€¦state.obj, newProp: 123 } action ç±»ä¼¼äºmutation åŒºåˆ«: Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚ Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚ module (è¿™ä¸ªä¸ä¸€å®š) å°†ä¸€ä¸ªå¤§çš„storeæ‹†åˆ†æˆä¸€ä¸ªä¸ªå­æ¨¡å—ï¼Œå³module mutation åªç®¡å­˜ï¼Œä½ ç»™æˆ‘ï¼ˆdispatchï¼‰æˆ‘å°±å­˜actionåªç®¡ä¸­é—´å¤„ç†ï¼Œå¤„ç†å®Œæˆ‘å°±ç»™ä½ ï¼Œä½ æ€ä¹ˆå­˜æˆ‘ä¸ç®¡Getter æˆ‘åªç®¡å–ï¼Œæˆ‘ä¸æ”¹çš„Vuex åº”ç”¨åœºæ™¯Vuexåº”ç”¨åœºæ™¯æœ‰ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™é€‚åˆä½¿ç”¨Vuexï¼Œä»€ä¹ˆæ—¶å€™ä¸é€‚åˆä¸€èˆ¬å›ç­” æ¶‰åŠåˆ°éçˆ¶å­å…³ç³»çš„ç»„ä»¶ï¼Œä¾‹å¦‚å…„å¼Ÿå…³ç³»ã€ç¥–å­™å…³ç³»ã€ç”šè‡³æ›´è¿œå…³ç³»ã€‚ ä»–ä»¬ä¹‹é—´æœ‰æ•°æ®äº¤äº’ï¼Œåº”è¯¥ä½¿ç”¨Vuexå®ç°ã€‚ å¦‚æœé¡µé¢å¤æ‚åº¦è¾ƒä½ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨global-event-bus å®ç° å¦‚æœåªæ˜¯çˆ¶å­å…³ç³»çš„ç»„ä»¶æ•°æ®äº¤äº’ï¼Œä½¿ç”¨propsè¿›è¡Œå•å‘ä¼ é€’ æ¶‰åŠåˆ°å­ç»„ä»¶å‘çˆ¶ç»„ä»¶çš„æ•°æ®ä¼ é€’ï¼Œè€ƒè™‘ä½¿ç”¨$emit å’Œ $on æ›´é’ˆå¯¹æ€§çš„å›ç­” https://www.tuicool.com/articles/EvYJRfv åœ¨ä»¥ä¸‹åœºæ™¯ï¼Œæˆ‘ä»¬åº”å½“ä½¿ç”¨Vuexï¼š 1. ç»„ä»¶ä¼šè¢«é”€æ¯è§£å†³åŠæ³• å°†å€¼å­˜åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œå®é™…æ˜¯ä¿®æ”¹çš„çˆ¶ç»„ä»¶ä¸­çš„å€¼ å­˜åœ¨sessionStorageã€cookieä¹‹ç±»çš„ä¸œè¥¿ä¸­ï¼Œåœ¨createdæ—¶è¯»å–ï¼Œdestroyedæ—¶å†™å…¥ å­˜åˆ°global-event-busé‡Œ å­˜åœ¨vuexä¸­ é€šè¿‡$store.stateæ¥è°ƒç”¨ï¼Œé€šè¿‡commitæ¥ä¿®æ”¹å€¼ åœ¨createdæ—¶è¯»å–stateé‡Œçš„å€¼ï¼Œåœ¨destroyedæ—¶å†™å…¥state ä¼˜ç‚¹ï¼š è§£è€¦ï¼Œä¸è·Ÿå…¶ä»–ç»„ä»¶æ‰“äº¤é“ 2. ç»„ä»¶åŸºäºæ•°æ®è€Œåˆ›å»ºå‡è®¾ä¸€ä¸ªåœºæ™¯ï¼š ç”¨æˆ·å°†ç™»å½•åï¼Œè¯»å–æƒé™é…ç½®è¡¨ï¼Œè¿™æ˜¯ä¸ªå¼‚æ­¥æ“ä½œ è¿™ä¸ªé…ç½®è¡¨ä¼šå½±å“å¾ˆå¤šé¡µé¢ã€‚ è¿™äº›ç»„ä»¶ä¸ä¸€å®šæ˜¯çˆ¶å­å…³ç³»ï¼Œå…¶ä»–ç»„ä»¶è¯»å–æƒé™é…ç½®è¡¨ä¸å¤ªæ–¹ä¾¿ è§£å†³åŠæ³•ï¼š å†™åœ¨global-event-busé‡Œ æ”¾åœ¨Vuexé‡Œ 3. å¤šå¯¹å¤šäº‹ä»¶ â€“ å¤šå¤„è§¦å‘ï¼Œå½±å“å¤šå¤„å‡è®¾ä¸€ä¸ªåœºæ™¯ åˆ‡æ¢é¡µé¢æ˜¾ç¤ºé£æ ¼ï¼Œæ”¹å˜ä¸€ä¸ªå˜é‡çš„å€¼ åœ¨å¤šä¸ªåœ°æ–¹å¯ä»¥åˆ‡æ¢ è¿™ä¸ªå˜é‡å°†å½±å“å¤šä¸ªåœ°æ–¹çš„æ ·å¼ è¿™å°±æ˜¯å¤šå¯¹å¤šåœºæ™¯ é‚£ä¹ˆï¼š æ— è®ºè¿™ä¸ªå˜é‡æ”¾åœ¨å“ªä¸ªç»„ä»¶é‡Œï¼Œå…¶ä»–ç»„ä»¶è°ƒç”¨éƒ½å¾ˆéº»çƒ¦ å³ä½¿å­˜åœ¨äºæ ¹ç»„ä»¶ï¼Œç”¨this.$root.xxæ¥è·å–è¿™ä¸ªå˜é‡ï¼Œä¹Ÿæ˜¯å¾ˆéº»çƒ¦çš„ è§£å†³åŠæ³•ï¼š ç”¨global-event-busæ¥å­˜å‚¨è¿™ä¸ªå˜é‡ ï¼Œä¼šæ¯”è¾ƒéº»çƒ¦ ä½¿ç”¨VueX é€šè¿‡$store.state.xxxæ¥è·å–è¿™ä¸ªå˜é‡ é€šè¿‡$store.commit()æ¥æäº¤ä¿®æ”¹(åœ¨æŸäº›æ¡ä»¶ä¸‹å¯ç¦æ­¢ä¿®æ”¹) å¯ä»¥é€šè¿‡$store.dispatch()è·å–å…¶ä»–é£æ ¼æ ·å¼ï¼Œå¹¶é€šè¿‡$store.stateå’Œ$store.gettersæ¥è¿”å›æ–°é£æ ¼æ ·å¼ æ€»ç»“-ä½¿ç”¨åœºæ™¯å¦‚æœéœ€è¦æ•°æ®å’Œç»„ä»¶åˆ†ç¦»ï¼Œåˆ†åˆ«å¤„ç†ï¼Œé‚£ä¹ˆä½¿ç”¨VueXéå¸¸åˆé€‚ã€‚ç›¸åï¼Œå¦‚æœä¸éœ€è¦åˆ†ç¦»å¤„ç†ï¼Œä¸ä½¿ç”¨VueXä¹Ÿæ²¡å…³ç³»ã€‚æ¯”å¦‚æŸä¸ªæ•°æ®åªè·ŸæŸç»„ä»¶äº¤äº’ï¼Œæ˜¯å¼ºè€¦åˆçš„ï¼Œå…¶ä»–ç»„ä»¶ç”¨ä¸åˆ°ï¼Œé‚£ä¹ˆè¿™ä¸ªç»„ä»¶å°±å¯ä»¥é˜²æ­¢è¯¥ç»„ä»¶çš„dataå±æ€§ä¸­ã€‚ å‚è€ƒé“¾æ¥vuexä¸é”™çš„è®²è§£","link":"/posts/VueX%20%E5%85%A5%E9%97%A8%E8%BF%9B%E9%98%B6/"},{"title":"æ­å»ºHexoåšå®¢ç¬”è®°","text":"[toc] hexo æ­å»º HEXO å®˜ç½‘ æ–‡æ¡£ å®‰è£… node.js git å·²ç»å®‰è£…ï¼Œè·³è¿‡ hexo å®‰è£… 1npm install -g hexo-cli 12ä¸èƒ½åœ¨æ–‡ç« ä¸­æœ‰{{}},å¦åˆ™hexoæ— æ³•è§è§£æï¼Œä¼šæŠ¥é”™ è¿è¡Œ 123hexo init blogcd bloghexo server è®¿é—® localhost:4000 å³å¯çœ‹åˆ°ç½‘é¡µ åœ¨ sources/posts æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª test.md æ–‡ä»¶ï¼Œå†æ¬¡è®¿é—®é¡µé¢ï¼Œå¯çœ‹åˆ°æ–°åŠ çš„æ–‡ç« ã€‚ å®‰è£… hexo-admin123npm install --save hexo-adminhexo server -dopen http://localhost:4000/admin å®‰è£… next ä¸»é¢˜å¥½çš„ä¸»é¢˜æ¨èé“¾æ¥ nextä¸»é¢˜ä¸åœ¨ç»´æŠ¤~~ï¼Œä¸æ¨èä½¿ç”¨ åœ¨æ ¹ç›®å½•è¿è¡Œ 1git clone https://github.com/theme-next/hexo-theme-next themes/next ä¼šåœ¨ themes ç›®å½•ä¸‹åˆ›å»º next æ–‡ä»¶å¤¹ (éœ€è¿è¡Œå¤šæ¬¡æ‰èƒ½é¡ºåˆ©ä¸‹è½½) åœ¨æ ¹ç›®å½•çš„_config.yml é‡Œé…ç½® themes: next å‘å¸ƒåˆ° githubéœ€å…ˆå®‰è£…æ’ä»¶ 1npm install hexo-deployer-git --save åœ¨æ ¹ç›®å½•_config.yml é‡Œé…ç½® deployã€‚æ ¹æ® github é…ç½®æç¤ºï¼Œbranch åªèƒ½æ˜¯ masterï¼Œå…¶ä»–åˆ†æ”¯ä¸ç”Ÿæ•ˆ(å®æµ‹)ã€‚repo é¡¹ç›®åä¸€å®šè¦æ˜¯ç”¨æˆ·å.github.io 12345deploy: type: git repo: git@github.com:believezjp/believezjp.github.io.git branch: master é…ç½®å®Œæˆè¿è¡Œ 12hexo cleanhexo d -g å‘å¸ƒå‡ºå»ã€‚è®¿é—® believezjp.github.ioï¼Œå³å¯çœ‹åˆ°ä¸»é¡µã€‚ å¦‚æœæ²¡æœ‰æƒé™ï¼Œéœ€è¦å°†æœ¬åœ°çš„ id_rsa.pub é‡Œçš„ key åŠ åˆ° github çš„ SSH key ä¸­æŸ¥çœ‹æœ¬åœ°çš„ key 1less ~/.ssh/id_rsa.pub githubSSH keys åœ°å€å¿«æ·åœ°å€, æ·»åŠ  SSH key å€¼ æ‰“èµè®¾ç½®å°†äºŒç»´ç å›¾ç‰‡æ”¾åˆ°ä¸»é¢˜ source/images ä¸‹é¢æ‰“å¼€ä¸»é¢˜ç›®å½•ä¸‹é¢çš„é…ç½®æ–‡ä»¶_config.ymlè¿™é‡Œçš„é…ç½®é¡¹å¯èƒ½æ¯ä¸ªä¸»é¢˜ä¸ä¸€æ ·ã€‚æ ¹æ®æ¯ä¸ªä¸»é¢˜è‡ªå·±é…ç½®ã€‚ 12345678## æ‰“èµæ–‡å­—æç¤ºreward_comment: 'æ‰«ç é€ç¤¼, èµ°èµ·~~~'## å¾®ä¿¡æ”¶æ¬¾å›¾ç‰‡wechatpay: /images/wechatpay.jpeg## æ”¯ä»˜å®æ”¶æ¬¾å›¾ç‰‡alipay: /images/alipay.jpeg## æ¯”ç‰¹å¸æ”¶æ¬¾#bitcoin: /images/bitcoin.png æ–°å»ºæ–‡ç« 1hexo new &quot;æ ‡é¢˜&quot; åœ¨ _posts ç›®å½•ä¸‹ä¼šç”Ÿæˆæ–‡ä»¶æ ‡é¢˜.md, å¦‚ä¸‹: 1234567title: 'æ ‡é¢˜'date: 2018-11-04 10:17:16 #å‘è¡¨æ—¥æœŸï¼Œä¸€èˆ¬ä¸æ”¹åŠ¨categories: hexo #æ–‡ç« æ–‡ç±»tags: [hexo,github] #æ–‡ç« æ ‡ç­¾ï¼Œå¤šäºä¸€é¡¹æ—¶ç”¨è¿™ç§æ ¼å¼---æ­£æ–‡ï¼Œä½¿ç”¨Markdownè¯­æ³•ä¹¦å†™ ç¼–è¾‘å®Œåä¿å­˜ï¼Œhexo serverï¼Œæµè§ˆå™¨è¾“å…¥ localhost:4000 é¢„è§ˆ æ·»åŠ é˜…è¯»å…¨æ–‡éš”æ–­é»˜è®¤æ–‡ç« åˆ—è¡¨é¡µæ˜¯å…¨éƒ¨å±•ç¤º, åªå±•ç¤ºéƒ¨åˆ†çš„è¯ï¼Œå¯ä»¥åœ¨æ–‡ç« ä¸­åŠ å…¥ 123&lt;!-- more --&gt; ä¼šè‡ªåŠ¨éš”æ–­ï¼Œæ·»åŠ é˜…è¯»å…¨æ–‡æŒ‰é’®ã€‚(æ³¨æ„, æ˜¯åœ¨æ–‡ç« åˆ—è¡¨é¡µæœ‰é˜…è¯»å…¨æ–‡æŒ‰é’®) å±•ç¤ºæ‘˜è¦å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿ å®‰è£… hexo-wordcount 1npm install hexo-symbols-count-time --save æ–‡ä»¶é…ç½®åœ¨æ ¹ç›®å½•çš„_config.yml ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®(æ³¨æ„æ ¼å¼ä¸€å®šè¦å‡†ç¡®æ— è¯¯): 12345symbols_count_time: symbols: true time: true total_symbols: true total_time: true åœ¨ next ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­æŸ¥çœ‹å¦‚ä¸‹é…ç½®æ˜¯å¦å¯ç”¨ 123456symbols_count_time: separated_meta: true item_text_post: true item_text_total: false awl: 4 wpm: 275 é‡å¯æœåŠ¡, åˆ·æ–°é¡µé¢, å¯ä»¥çœ‹åˆ°æ•ˆæœã€‚è¿™ä¸ªåªé’ˆå¯¹æ–‡ç« è¯¦æƒ…é¡µæ‰ä¼šå±•ç¤ºã€‚åˆ—è¡¨é¡µä¸ä¼šå±•ç¤ºã€‚ å±•ç¤ºæ€»è®¿é—®é‡ä¸è’œå­ - æç®€ç½‘é¡µè®¡æ•°å™¨ åœ¨ themes/next/layout/_partials/footer.swig ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç  12345678&lt;script async src=&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;&lt;span id=&quot;busuanzi_container_site_pv&quot; &gt;æœ¬ç«™æ€»è®¿é—®é‡&lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;æ¬¡&lt;/span&gt; å³å¯åœ¨é¦–é¡µæœ«å°¾çœ‹åˆ°æ€»æ•°ï¼Œå› ä¸ºæœ¬åœ°æ˜¯ localhost:4000,æ‰€ä»¥æ•°é‡æœ‰è¯¯ ä¿®æ”¹ footer å†…å®¹next ä¸»é¢˜é»˜è®¤ä¼šæœ‰ç”± next å¼ºåŠ›é©±åŠ¨ç­‰æ–‡å­—ã€‚ä¸å–œæ¬¢å¯ä»¥å»æ‰, é…ç½®æ–¹æ³•:åœ¨ç›®å½• themes/next/_config.yml ä¸­æœ footer:, å°† copyright ä¸­çš„ powered, å¦‚ä¸‹é…ç½®ã€‚å³å¯å»æ‰ã€‚ 12345678copyright:powered: enable: false version: falsetheme: enable: false version: false ç½‘ç«™è¿è¡Œæ—¶é—´æ·»åŠ æ ¹æ®ç›®å½• themes/next/layout/_partials/footer.swig, æ‰¾åˆ°é¡µè„šé…ç½®æ–‡ä»¶ã€‚åœ¨æœ«å°¾æ·»åŠ  12345678910111213141516171819&lt;span id=&quot;timeDate&quot;&gt;è½½å…¥å¤©æ•°...&lt;/span&gt;&lt;span id=&quot;times&quot;&gt;è½½å…¥æ—¶åˆ†ç§’...&lt;/span&gt;&lt;script&gt; var now = new Date(); function createtime() { var grt= new Date(&quot;02/14/2018 12:49:00&quot;);//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´ now.setTime(now.getTime()+250); days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); if(String(hnum).length ==1 ){hnum = &quot;0&quot; + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = &quot;0&quot; + mnum;} seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); snum = Math.round(seconds); if(String(snum).length ==1 ){snum = &quot;0&quot; + snum;} document.getElementById(&quot;timeDate&quot;).innerHTML = &quot;æœ¬ç«™å·²å®‰å…¨è¿è¡Œ &quot;+dnum+&quot; å¤© &quot;; document.getElementById(&quot;times&quot;).innerHTML = hnum + &quot; å°æ—¶ &quot; + mnum + &quot; åˆ† &quot; + snum + &quot; ç§’&quot;; }setInterval(&quot;createtime()&quot;,250);&lt;/script&gt; leancloud é˜…è¯»ç»Ÿè®¡åŠŸèƒ½ æ³¨å†Œ leancloud ç™»å½•ååˆ›å»ºåº”ç”¨,ç‚¹å‡»è®¾ç½®-åº”ç”¨ key, æŸ¥çœ‹ app ID å’Œ app Key åœ¨ next/_config.yml ä¸­æœç´¢leancloud_visitorsé…ç½® ID å’Œ Key 1234leancloud_visitors: enable: true app_id: #&lt;app_id&gt; app_key: #&lt;app_key&gt; åˆ›å»º Classåœ¨å·¦ä¾§ç‚¹å‡»å­˜å‚¨ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º Counter çš„ Class æ–‡ä»¶ï¼Œè¿™é‡Œçš„åç§°ä¸€å®šä¸º Counter ä¸èƒ½éšæ„å–ï¼ï¼ï¼æƒé™è®¾ç½®è¦é€‰æ— é™åˆ¶, å¦åˆ™åœ¨ç¬¬äºŒæ¬¡è®¿é—®ä¼šæŠ¥é”™ã€‚è®¾ç½®å®Œåï¼Œå›åˆ°æˆ‘çš„åšå®¢ï¼Œéšä¾¿ç‚¹å‡»ä¸€ç¯‡åšæ–‡ï¼Œåˆ·æ–°å‡ æ¬¡ å°±å¯ä»¥åœ¨ leancloudâ€“ã€‹å­˜å‚¨â€“ã€‹Counter çœ‹åˆ°æˆ‘ä»¬çš„æµè§ˆè®°å½•äº†ï¼Œåœ¨æˆ‘ä»¬çš„åšæ–‡å‰¯æ ‡é¢˜ä¹Ÿå¯ä»¥çœ‹åˆ°æµè§ˆè®°å½•ã€‚ hexo æ–°å»ºç›®å½•ï¼Œpage, æ ‡ç­¾, åˆ†ç±», å…³äºåœ¨ä¸»é¢˜çš„_config.yml ä¸­æ‰“å¼€é…ç½® 123456789menu: home: / || home about: /about/ || user tags: /tags/ || tags categories: /categories/ || th archives: /archives/ || archive #schedule: /schedule/ || calendar #sitemap: /sitemap.xml || sitemap å¯ä»¥çœ‹åˆ°å·¦ä¸Šè§’æ–°å¢å…³äº, æ ‡ç­¾, åˆ†ç±» æ ‡ç­¾è¿è¡Œ hexo new page tagsè®¿é—®æ ‡ç­¾é¡µ, æ–°é¡µé¢å¯ä»¥æ­£å¸¸è®¿é—®åœ¨ source/tags/index.md ä¸­å¦‚ä¸‹è®¾ç½®, å³å¯çœ‹åˆ°æ ‡ç­¾åˆ†ç±»(å‰æ:åœ¨æ–‡ç« ä¸­éœ€æ·»åŠ  tags) 123456---title: tagsdate: 2018-11-06 16:55:49type: &quot;tags&quot;layout: &quot;tags&quot;--- åˆ†ç±»1hexo new page categories åœ¨ source/categories/index.md ä¸­æ·»åŠ å¦‚ä¸‹ 123456---title: categoriesdate: 2018-11-06 17:11:29type: &quot;categories&quot;layout: &quot;categories&quot;--- æ–‡ç« ä¸­å¤šä¸ª tag æ—¶ï¼Œå¦‚ä¸‹é…ç½® 123tags: - http - ç½‘ç»œ å•ä¸ª 1tags: ç½‘ç»œ å…³äº1hexo new page about åœ¨ source/about/index.md å†™ä¸ªäººä¿¡æ¯ æ·»åŠ ç¤¾äº¤é“¾æ¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æœç´¢ social: 1234social: GitHub: https://github.com/believeZJP || github å¾®åš: https://weibo.com/u/6021664425 || weibo QQ: tencent://message/?uin=421790588&amp;Site=www&amp;Menu=yes || qq å›¾æ ‡é…ç½®ï¼š 123456social_icons: enable: true icons_only: true transition: false å¾®åš: weibo QQ: qq åœ¨å·¦ä¾§å³å¯çœ‹åˆ°é“¾æ¥ã€‚éœ€è¦æ³¨æ„, å›¾æ ‡çš„é…ç½®æ˜¯æ ¹æ® font-awesome.min.css ä¸­çš„ css å±æ€§æ ·å¼, æƒ³æ·»åŠ å¯¹åº”çš„å¯ä»¥åœ¨æ–‡ä»¶ä¸­æœç´¢ã€‚ é»˜è®¤æ˜¾ç¤ºæ–‡å­—å’Œå›¾æ ‡, å¦‚æœåªæ˜¾ç¤ºå›¾æ ‡å¯è®¾ç½®icons_only: true ç«™å†…æœç´¢1npm install hexo-generator-searchdb --save åœ¨ä¸»é¢˜ next/_config.yml ä¸­é…ç½® 12local_search: enable: true åœ¨å…¨å±€é…ç½®ä¸­_config.yml æ·»åŠ  12345search: path: search.xml field: post format: html limit: 10000 â€”â€”â€”â€“æ­£å¸¸æƒ…å†µåˆ°è¿™å°±å¯ä»¥ä½¿ç”¨æœç´¢åŠŸèƒ½äº†â€”â€”â€” å¤ç›˜: ç‚¹å‡»é¦–é¡µæœç´¢,å‘ç°å¼¹æ¡†å¼¹å‡º, loading ä¸€ç›´åŠ è½½ã€‚æ²¡æœ‰æ˜¾ç¤ºæœç´¢ç•Œé¢. æ£€æŸ¥ network, å‘ç° search.xml è¯·æ±‚æˆåŠŸ, çŠ¶æ€ 200. ç”¨é“¾æ¥ç›´æ¥è®¿é—® search.xml localhost:4000/search.xmlæç¤ºæŠ¥é”™, æœ‰é”™è¯¯å­—ç¬¦ å¯ä»¥æ‹‰åˆ°æœ€åçœ‹å“ªç¯‡æ–‡ç« è¢«æˆªæ–­ ä¹Ÿå¯ä»¥å®¡æŸ¥å…ƒç´ , ç‚¹å‡»æ¯ä¸ª entry-content æŸ¥çœ‹æœ€è¿‘ä¸ºç©ºçš„é‚£ä¸ª,æ‰¾åˆ°å, è¿™ç¯‡æ–‡ç« ä¸­æœ‰é”™è¯¯å­—ç¬¦ä¸è¯†åˆ«ã€‚ åœ¨ network çœ‹ search.xml ä¸­æˆªæ–­çš„æ–‡ç« ä¸­æœ‰ä¸¤ä¸ªå­—ä¸­é—´æœ‰ä¸ªç‚¹çš„åœ°æ–¹, åœ¨æ–‡ä¸­æ‰¾åˆ°è¿™ä¸ªåœ°æ–¹å…‰æ ‡ç§»åŠ¨å‘ç°ä¼šæœ‰ä¸€æ¬¡æ²¡æœ‰ç§»åŠ¨, åˆ é™¤å³å¯ã€‚ å®åœ¨æ‰¾ä¸åˆ°å¯ä»¥å…ˆå‰ªåˆ‡æ–‡ç« , çœ‹æ˜¯å¦èƒ½æ­£å¸¸æ˜¾ç¤º. ç”¨ vim ç¼–è¾‘å™¨æŸ¥çœ‹ç‰¹æ®Šå­—ç¬¦ä¸€ç›®äº†ç„¶å¸¸è§çš„ç‰¹æ®Šå­—ç¬¦^H, .(ç°è‰²) æ¥å¿…åŠ›è¯„è®ºhttps://www.livere.com/ä¸€å®šè¦ç”¨è¿™ä¸ªæ³¨å†Œ, ä¸­æ–‡ç‰ˆ(http://www.laibili.com.cn/)å¤±æ•ˆï¼ï¼ï¼ï¼æ³¨å†Œå®Œæˆå, å¡«å†™ç›¸åº”ä¿¡æ¯, å³å¯è·å–åˆ° data-uid.next/_config.yml ä¸­æœç´¢livere_uid, å¡«å…¥å¯¹åº” data-uidæ³¨æ„:æ ¼å¼å¦‚ä¸‹:livere_uid: fsdfs343==ä¸€å®šä¸è¦åŠ ä»»ä½•å¼•å·~~~~~~~(ğŸ•³ğŸ•³ğŸ•³ğŸ•³ğŸ•³) æœ¬åœ°å›¾ç‰‡æ·»åŠ  åœ¨_config.yml ä¸­æœç´¢post_asset_folder, è®¾ä¸º true åœ¨ source æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ img åœ¨ img ä¸­æ·»åŠ å›¾ç‰‡ åœ¨ md ä¸­å¼•ç”¨å›¾ç‰‡ 12[è®°å¿†æ›²çº¿](/img/clipboard.png)&lt;img src=&quot;/img/clipboard.png&quot; &gt; æ³¨æ„: è¿™é‡Œä¸€å®šè¦ç”¨ç»å¯¹è·¯å¾„, å› ä¸ºå›¾ç‰‡åœ¨æ ¹ç›®å½•ä¸‹ ä¸ç”¨æ ¹ç›®å½•çš„å›¾ç‰‡æ·»åŠ ç”¨hexo n 'æ–‡ç« æ ‡é¢˜'åˆ›å»ºæ–‡ç« åï¼Œä¼šç”Ÿæˆä¸æ–‡ç« æ ‡é¢˜ç›¸åŒçš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æŠŠå›¾ç‰‡æ”¾åˆ°å¯¹åº”æ–‡ä»¶å¤¹ä¸­åœ¨mdä¸­å¼•ç”¨æ–¹å¼ 12![æ·»åŠ è‡ªå®šä¹‰search](/posts/Alfred/addbaidu.png)![è®¾ç½®ç™¾åº¦å†…å®¹](/posts/Alfred/addbaidu-input.png) éƒ¨ç½²å‘½ä»¤ç®€åŒ–åœ¨ package.json ä¸­æ·»åŠ  1234&quot;scripts&quot;: { &quot;d&quot;: &quot;hexo clean &amp;&amp; hexo g -d&quot;, &quot;s&quot;: &quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo s&quot;}, éƒ¨ç½²æ—¶ï¼Œåªéœ€åœ¨ç»ˆç«¯è¿è¡Œnpm run då³å¯å‘å¸ƒæ–‡ç«  å¯åŠ¨æ—¶ï¼Œè¿è¡Œnpm run s,å³å¯åœ¨æœ¬åœ°è®¿é—®æœåŠ¡ å¥½çš„é“¾æ¥ ç™¾åº¦ç»Ÿè®¡åœ¨ next/_config.yml ä¸­æœç´¢ baidu_analytics, é…ç½® id åœ¨å®˜ç½‘,æ–°å»ºåº”ç”¨ï¼Œç‚¹å‡»ç®¡ç†ï¼Œå¤åˆ¶ id 123456&lt;script&gt;var _hmt = _hmt || [];(function() { var hm = document.createElement(&quot;script&quot;); hm.src = &quot;https://hm.baidu.com/hm.js?60d1bc14f9ca17b7&quot;; var s = document.getElementsByTagName(&quot;script&quot;)[0]; æ·»åŠ å¤´åƒåœ¨ next/config.yml é‡Œæœ avatar,å¦‚ä¸‹é…ç½®, å›¾ç‰‡é“¾æ¥å¯æ›´æ¢ 12345avatar: url: /images/avatar.gif rounded: true opacity: 1 rotated: true æ·»åŠ ç¼“å­˜hexo-offline 1npm i hexo-offline --save ä¿®æ”¹é»˜è®¤çš„æ–‡ç« é“¾æ¥å®˜æ–¹æ–‡æ¡£ é»˜è®¤æ–‡ç« é“¾æ¥æ˜¯http://localhost:4000/2018/10/18/hello-world/ æœ‰å¹´æœˆæ—¥å±‚çº§å¤ªæ·±ï¼Œä¸åˆ©äº SEO ä¿®æ”¹ä¸ºhttp://localhost:4000/posts/hello-world/ åœ¨_config.yml ä¸­æœç´¢permalink,ä¿®æ”¹å¦‚ä¸‹ 12## permalink: :year/:month/:day/:title/permalink: :category/:title/ æœç´¢default_category,ä¿®æ”¹å¦‚ä¸‹ 1default_category: posts é‡å¯æœåŠ¡å³å¯ ç»‘å®šè‡ªå·±åŸŸååœ¨é˜¿é‡Œäº‘æ§åˆ¶å°åŸŸåä¿®æ”¹åŸŸåè§£æï¼Œè®°å½•ç±»å‹ CNAME, è®°å½•çº¸ä¸º believezjp.github.io åœ¨ hexo é¡¹ç›®ä¸‹ï¼Œsource æ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»º CNAME æ–‡ä»¶ï¼ˆæ²¡æœ‰åç¼€åçš„ï¼‰ï¼Œåœ¨é‡Œé¢å†™ä¸Šè´­ä¹°çš„åŸŸåã€‚ 1believezjp.oriht.com æ³¨æ„ï¼Œè¿™ä¸ªè¦å†™è‡ªå·±çš„åŸŸåï¼Œä¸æ˜¯ github çš„åŸŸå åœ¨ github ä¸Šé¢ï¼Œæ‰“å¼€ username.github.io é¡¹ç›®çš„ï¼ˆSettingsï¼‰è®¾ç½®ï¼Œç„¶ååœ¨ GitHub Pages çš„ Custom domain è®¾ç½®é‡Œå¡«ä¸Šè´­ä¹°çš„åŸŸåã€‚ è¯¦è§:å‚è€ƒé“¾æ¥ æ›¿æ¢ jquery èµ„æºåº“åœ°å€åœ¨ä¸»é¢˜ç›®å½•ä¸‹æ‰¾åˆ° after-footer.ejs æ–‡ä»¶ï¼ŒPSï¼šä¸»é¢˜ç›®å½•æŒ‡çš„æ˜¯ themes ä¸‹ next ç›®å½• æ‰¾åˆ°ä¸‹é¢ä¸€æ®µä»£ç  1&lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js&quot;&gt;&lt;/script&gt; ä¿®æ”¹ä¸ºï¼šï¼ˆå°† jquery çš„åœ¨çº¿åœ°å€ä¿®æ”¹ä¸ºç™¾åº¦çš„é™æ€èµ„æºåº“åœ°å€ï¼‰ 1&lt;script src=&quot;http://libs.baidu.com/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt; é¡¹ç›®æ·»åŠ  changelogâŒ123npm install --save conventional-changelogconventional-changelog -p angular -i CHANGELOG.md -w -r 0 é¡¹ç›®æ·»åŠ git commit è§„èŒƒæ’ä»¶é“¾æ¥ 12345678910111213npm install --save-dev @commitlint/{cli,config-conventional}echo &quot;module.exports = {extends: ['@commitlint/config-conventional']};&quot; &gt; commitlint.config.jsnpm install --save-dev husky## åœ¨package.jsonä¸­é…ç½®## package.json{ &quot;husky&quot;: { &quot;hooks&quot;: { &quot;commit-msg&quot;: &quot;commitlint -E HUSKY_GIT_PARAMS&quot; } }} æäº¤æ–¹å¼ï¼š æ ¼å¼ï¼š type(scope?): subject ## scope å¯é€‰ subjectæ˜¯ commit ç›®çš„çš„ç®€çŸ­æè¿°ï¼Œä¸è¶…è¿‡50ä¸ªå­—ç¬¦ï¼Œä¸”ç»“å°¾ä¸åŠ å¥å·ï¼ˆ.ï¼‰ eg: 12345chore: run tests on travis cifix(server): send cors headersfeat(blog): add comment section build: ä¸»è¦ç›®çš„æ˜¯ä¿®æ”¹é¡¹ç›®æ„å»ºç³»ç»Ÿ(ä¾‹å¦‚ gulpï¼Œwebpackï¼Œrollup çš„é…ç½®ç­‰)çš„æäº¤ ci: ä¸»è¦ç›®çš„æ˜¯ä¿®æ”¹é¡¹ç›®ç»§ç»­é›†æˆæµç¨‹(ä¾‹å¦‚ Travisï¼ŒJenkinsï¼ŒGitLab CIï¼ŒCircleç­‰)çš„æäº¤ docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ merge: åˆå¹¶åˆ†æ”¯ fixï¼šä¿®å¤bug perf: (performance) ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒ refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ revert: å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ testï¼šå¢åŠ æµ‹è¯• wipï¼šç§»é™¤æ–‡ä»¶æˆ–è€…ä»£ç  choreï¼šä¸å±äºä»¥ä¸Šç±»å‹çš„å…¶ä»–ç±»å‹ ç”ŸæˆchangelogChange log å°±å¯ä»¥ç”¨è„šæœ¬è‡ªåŠ¨ç”Ÿæˆã€‚ç”Ÿæˆçš„æ–‡æ¡£åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š New features Bug fixes Breaking changes. onventional-changelog å°±æ˜¯ç”Ÿæˆ Change log çš„å·¥å…·ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ã€‚ç”¨åˆ°çš„æ˜¯å…¶ä¸­çš„cliå·¥å…· 12npm install -g conventional-changelog-cliconventional-changelog -p angular -i CHANGELOG.md -s -w -r 0 ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œå¯ä»¥å°†å…¶å†™å…¥ package.json çš„ scripts å­—æ®µï¼š 12345{ &quot;scripts&quot;: { &quot;changelog&quot;: &quot;conventional-changelog -p angular -i CHANGELOG.md -s -w -r 0&quot; }} ä»¥åï¼Œç›´æ¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ï¼š 1npm run changelog æ–°å»ºè‰ç¨¿è‰ç¨¿ç›¸å½“äºå¾ˆå¤šåšå®¢éƒ½æœ‰çš„â€œç§å¯†æ–‡ç« â€åŠŸèƒ½ã€‚hexo new draft &quot;new draft&quot;ä¼šåœ¨source/_draftsç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªnew-draft.mdæ–‡ä»¶ã€‚ä½†æ˜¯è¿™ä¸ªæ–‡ä»¶ä¸è¢«æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œé“¾æ¥ä¹Ÿè®¿é—®ä¸åˆ°ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ æƒ³æŠŠæŸä¸€ç¯‡æ–‡ç« ç§»é™¤æ˜¾ç¤ºï¼Œåˆä¸èˆå¾—åˆ é™¤ï¼Œå¯ä»¥æŠŠå®ƒç§»åŠ¨åˆ°_draftsç›®å½•ä¹‹ä¸­ã€‚å¦‚æœä½ å¸Œæœ›å¼ºè¡Œé¢„è§ˆè‰ç¨¿ï¼Œæ›´æ”¹é…ç½®æ–‡ä»¶_config.ymlï¼šrender_drafts: trueæˆ–è€…ï¼Œå¦‚ä¸‹æ–¹å¼å¯åŠ¨serverï¼šhexo server --draftsä¸‹é¢è¿™æ¡å‘½ä»¤å¯ä»¥æŠŠè‰ç¨¿å˜æˆæ–‡ç« ï¼Œæˆ–è€…é¡µé¢ï¼šhexo publish [layout] &lt;filename&gt;æˆ–hexo P &lt;filename&gt;filenameä¸ºä¸åŒ…å«mdåç¼€çš„æ–‡ç« åç§°ã€‚å®ƒçš„åŸç†åªæ˜¯å°†æ–‡ç« ä» source/_drafts ç§»åŠ¨åˆ° source/_posts è€Œå·²ã€‚ è‹¥æ—¥åæƒ³å°†æ­£å¼æ–‡ç« è½¬ä¸ºä¸ºè‰ç¨¿ï¼Œåªéœ€æ‰‹åŠ¨å°†æ–‡ç« ä» source/_posts ç›®å½•ç§»åŠ¨åˆ° source/_drafts ç›®å½•å³å¯ã€‚ hexo å‘½ä»¤å¸¸ç”¨å‘½ä»¤ 12345678hexo help #æŸ¥çœ‹å¸®åŠ©hexo init #åˆå§‹åŒ–ä¸€ä¸ªç›®å½•hexo new &quot;postName&quot; #æ–°å»ºæ–‡ç« hexo new page &quot;pageName&quot; #æ–°å»ºé¡µé¢hexo generate #ç”Ÿæˆç½‘é¡µï¼Œå¯ä»¥åœ¨ public ç›®å½•æŸ¥çœ‹æ•´ä¸ªç½‘ç«™çš„æ–‡ä»¶hexo server #æœ¬åœ°é¢„è§ˆï¼Œ'Ctrl+C'å…³é—­hexo deploy #éƒ¨ç½².deployç›®å½•hexo clean #æ¸…é™¤ç¼“å­˜ï¼Œ**å¼ºçƒˆå»ºè®®æ¯æ¬¡æ‰§è¡Œå‘½ä»¤å‰å…ˆæ¸…ç†ç¼“å­˜ï¼Œæ¯æ¬¡éƒ¨ç½²å‰å…ˆåˆ é™¤ .deploy æ–‡ä»¶å¤¹** ç®€å†™ 1234hexo n == hexo newhexo g == hexo generatehexo s == hexo serverhexo d == hexo deploy git pushä»¥åè‡ªåŠ¨å‘å¸ƒåˆ°gitHubä¸Šä½¿ç”¨Travis è‡ªåŠ¨åŒ–éƒ¨ç½²Hexo Blog æ·»åŠ .travis.yml é…ç½®token Hexoåšå®¢æ”¶å½•ç™¾åº¦å’Œè°·æ­Œ-åŸºäºNextä¸»é¢˜å‚è€ƒé“¾æ¥ å‚è€ƒæ–‡ç« Hexo è¿›é˜¶é«˜çº§æ•™ç¨‹Hexo+Github: ä¸ªäººåšå®¢ç½‘ç«™æ­å»ºå®Œå…¨æ•™ç¨‹","link":"/posts/hexo%E7%AC%94%E8%AE%B0/"},{"title":"js ä»£ç ç‰‡æ®µ","text":"jsæ¯”è¾ƒç‰ˆæœ¬å·123456789101112131415161718192021222324252627282930313233/** * ç‰ˆæœ¬æ¯”è¾ƒ versionCompare * @param {String} currVer å½“å‰ç‰ˆæœ¬. * @param {String} promoteVer æ¯”è¾ƒç‰ˆæœ¬. * @return {Boolean} false å½“å‰ç‰ˆæœ¬å°äºæ¯”è¾ƒç‰ˆæœ¬è¿”å› true. * * ä½¿ç”¨ * versionCompare(&quot;6.3&quot;,&quot;5.2.5&quot;); // false. * versionCompare(&quot;6.1&quot;, &quot;6.1&quot;); // false. * versionCompare(&quot;6.1.5&quot;, &quot;6.2&quot;); // true. */function versionCompare(currVer = '0.0.0', promoteVer = '0.0.0') { if (currVer === promoteVer) { return false; } const currVerArr = currVer.split('.'); const promoteVerArr = promoteVer.split('.'); const len = Math.max(currVerArr.length, promoteVerArr.length); // ~æ˜¯æŒ‰ä½å–åçš„æ„æ€ï¼Œè®¡ç®—æœºé‡Œé¢å¤„ç†äºŒè¿›åˆ¶æ•°æ®æ—¶å€™çš„éï¼Œ // ~~åˆ©ç”¨ä¸¤ä¸ªæŒ‰ä½å–åçš„ç¬¦å·ï¼Œè¿›è¡Œç±»å‹çš„è½¬æ¢ï¼Œè½¬æ¢æˆæ•°å­— for (let i = 0; i &lt; len; i++) { // å°†æ¯”è¾ƒå¯¹è±¡è½¬æˆæ•°å­— const proVal = ~~promoteVerArr[i]; const curVal = ~~currVerArr[i]; if (proVal &lt; curVal) { return false; } else if (proVal &gt; curVal) { return true; } } return false;} bindbind è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œä½ å¿…é¡»è°ƒç”¨å®ƒæ‰ä¼šè¢«æ‰§è¡Œ function() {}.bind(thisArg [, arg1 [, arg2, â€¦]]); bindå‡½æ•°ä¼ å‚ä¼šå…ˆäºæ–°å‡½æ•°è°ƒç”¨æ—¶çš„å‚æ•°ä¼ å…¥ 1234567891011121314151617181920212223var fn = function(){ setTimeout(function(){ console.log(this.name) }.bind({name: 2}), 100)}var obj1 = {name:1}fn.call(obj1) //è¾“å‡º2 ï¼Œå› ä¸ºbindçš„å‚æ•°å…ˆäºå…¶ä»–å‚æ•°ã€‚è‡ªå·±å®ç°bindif (!function() {}.bind) { Function.prototype.bind = function(context) { var self = this , args = Array.prototype.slice.call(arguments); return function() { return self.apply(context, args.slice(1)); } };} æŠŠqueryStringè½¬æ¢æˆjså¯¹è±¡123456789101112131415function getQueryObject(url){ url=url==null?window.location.href:url; var search=url.substring(url.lastIndexOf(&quot;?&quot;)+1); var obj={}; var reg=/([^?&amp;=]+)=([^?&amp;=]*)/g; search.replace(reg,function(rs,$1,$2){ var name=decodeURIComponent($1); var val=decodeURIComponent($2); obj[name]=String(val); return rs; }) return obj;}getQueryObject(&quot;http://www.cnblogs.com/zichi/p/4359786.html?aa=111&amp;bb=3dadsads&amp;43=43a&quot;); å®ç°ä¸€ä¸ªå¼‚æ­¥ç¼“å­˜å™¨ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œå‘é€è¯·æ±‚ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œç›´æ¥å–ç»“æœç”¨å‘å¸ƒè®¢é˜…è€…æ¨¡å¼ ä¸ç®¡è°è°ƒç”¨éƒ½æ˜¯æ‹¿çš„åŒä¸€ä¸ªPromiseï¼Œ Promise å†™æ³•12345678910111213141516171819202122232425262728293031323334353637383940// æ ‡å‡†å†™æ³•ï¼švar promise = new Promise(function(resolve, reject) { // ... some code if ( /* å¼‚æ­¥æ“ä½œæˆåŠŸ */ ) { resolve(value); } else { reject(error); }});promise.then(function(value) { // success}, function(error) { // failure});new Promise(function (resolve, reject) {// ä¸€ã€è¿™é‡Œæ˜¯Promiseè¦æ‰§è¡Œçš„ä»£ç  log('start new Promise...'); var timeOut = Math.random() * 2; log('set timeout to: ' + timeOut + ' seconds.'); setTimeout(function () { if (timeOut &lt; 1) { log('call resolve()...'); // äºŒã€è¿™é‡Œæ‰æ˜¯å¼‚æ­¥æ‰§è¡Œåè°ƒç”¨çš„æ­¥éª¤ resolve('200 OK'); } else { log('call reject()...'); reject('timeout in ' + timeOut + ' seconds.'); } }, timeOut * 1000);}).then(function (r) { log('Done: ' + r);}).catch(function (reason) { log('Failed: ' + reason);}); è‡ªå·±å®ç°promise.allæ€è·¯ï¼Œç”¨ä¸€ä¸ªæ•°ç»„å°†æ‰€æœ‰è¦è¯·æ±‚çš„å­˜èµ·æ¥ï¼Œå¾ªç¯å‘é€æ‰§è¡Œåï¼Œæ ¹æ®æ•°ç»„é•¿åº¦åˆ¤æ–­æ˜¯å¦æ‰§è¡Œå®Œæˆã€‚ 1ã€æ¥æ”¶ä¸€ä¸ª Promise å®ä¾‹çš„æ•°ç»„æˆ–å…·æœ‰ Iterator æ¥å£çš„å¯¹è±¡ï¼Œ 2ã€å¦‚æœå…ƒç´ ä¸æ˜¯ Promise å¯¹è±¡ï¼Œåˆ™ä½¿ç”¨ Promise.resolve è½¬æˆ Promise å¯¹è±¡ 3ã€å¦‚æœå…¨éƒ¨æˆåŠŸï¼ŒçŠ¶æ€å˜ä¸º resolvedï¼Œè¿”å›å€¼å°†ç»„æˆä¸€ä¸ªæ•°ç»„ä¼ ç»™å›è°ƒ 4ã€åªè¦æœ‰ä¸€ä¸ªå¤±è´¥ï¼ŒçŠ¶æ€å°±å˜ä¸º rejectedï¼Œè¿”å›å€¼å°†ç›´æ¥ä¼ é€’ç»™å›è°ƒall() çš„è¿”å›å€¼ä¹Ÿæ˜¯æ–°çš„ Promise å¯¹è±¡ 123456789101112131415161718192021222324function promiseAll(promises) { return new Promise(function(resolve, reject) { if (!isArray(promises)) { return reject(new TypeError('arguments must be an array')); } var resolvedCounter = 0; var promiseNum = promises.length; var resolvedValues = new Array(promiseNum); for (var i = 0; i &lt; promiseNum; i++) { (function(i) { Promise.resolve(promises[i]).then(function(value) { resolvedCounter++ resolvedValues[i] = value if (resolvedCounter == promiseNum) { return resolve(resolvedValues) } }, function(reason) { return reject(reason) }) })(i) } })} æ‰‹åŠ¨å†™å¤šæ¬¡å¼‚æ­¥è°ƒç”¨å›è°ƒåœºæ™¯ä¸€ï¼šå…ˆè°ƒç”¨getData1ï¼Œå†è°ƒç”¨getData2ï¼Œå†è°ƒç”¨getData3 â€¦ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657//åˆ›å»ºä¸€ä¸ªPromiseå®ä¾‹ï¼Œè·å–æ•°æ®ã€‚å¹¶æŠŠæ•°æ®ä¼ é€’ç»™å¤„ç†å‡½æ•°resolveå’Œrejectã€‚éœ€è¦æ³¨æ„çš„æ˜¯Promiseåœ¨å£°æ˜çš„æ—¶å€™å°±æ‰§è¡Œäº†ã€‚var getData1=new Promise(function(resolve,reject){ $.ajax({ type:&quot;get&quot;, url:&quot;index.aspx&quot;, success:function(data){ if(data.Status==&quot;1&quot;){ resolve(data.ResultJson)//åœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ }else{ reject(data.ErrMsg);//åœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ } } });})var getData2= new Promise(function(resolve,reject){ $.ajax({ type:&quot;get&quot;, url:&quot;index.aspx&quot;, success:function(data){ if(data.Status==&quot;1&quot;){ resolve(data.ResultJson)//åœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ }else{ reject(data.ErrMsg);//åœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ } } });})var getData3=new Promise(function(resolve,reject){ $.ajax({ type:&quot;get&quot;, url:&quot;index.aspx&quot;, success:function(data){ if(data.Status==&quot;1&quot;){ resolve(data.ResultJson)//åœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ }else{ reject(data.ErrMsg);//åœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ } } });})getData1.then(function(res){ return getData2(res)}).then(function(res){ return getData3(res)}).then(function(res){ console.log(res)}).cache(function(error){ console.log(error)})åœºæ™¯äºŒï¼šgetData3çš„æ‰§è¡Œä¾èµ–getData1å’ŒgetData2//Promiseçš„allæ–¹æ³•ï¼Œç­‰æ•°ç»„ä¸­çš„æ‰€æœ‰promiseå¯¹è±¡éƒ½å®Œæˆæ‰§è¡ŒPromise.all([getData1,getData2]).then(function([ResultJson1,ResultJson2]){ //è¿™é‡Œå†™ç­‰è¿™ä¸¤ä¸ªajaxéƒ½æˆåŠŸè¿”å›æ•°æ®æ‰æ‰§è¡Œçš„ä¸šåŠ¡é€»è¾‘ getData3()}) Object.defineProperty(obj, prop, descriptor)valueå±æ€§å¯¹åº”çš„å€¼,å¯ä»¥ä½¿ä»»æ„ç±»å‹çš„å€¼ï¼Œé»˜è®¤ä¸ºundefined writableå±æ€§çš„å€¼æ˜¯å¦å¯ä»¥è¢«é‡å†™ã€‚è®¾ç½®ä¸ºtrueå¯ä»¥è¢«é‡å†™ï¼›è®¾ç½®ä¸ºfalseï¼Œä¸èƒ½è¢«é‡å†™ã€‚é»˜è®¤ä¸ºfalse enumerableæ­¤å±æ€§æ˜¯å¦å¯ä»¥è¢«æšä¸¾ï¼ˆä½¿ç”¨forâ€¦inæˆ–Object.keys()ï¼‰ã€‚è®¾ç½®ä¸ºtrueå¯ä»¥è¢«æšä¸¾ï¼›è®¾ç½®ä¸ºfalseï¼Œä¸èƒ½è¢«æšä¸¾ã€‚é»˜è®¤ä¸ºfalseã€‚ configurableæ˜¯å¦å¯ä»¥åˆ é™¤ç›®æ ‡å±æ€§æˆ–æ˜¯å¦å¯ä»¥å†æ¬¡ä¿®æ”¹å±æ€§çš„ç‰¹æ€§ï¼ˆwritable, configurable, enumerableï¼‰ã€‚è®¾ç½®ä¸ºtrueå¯ä»¥è¢«åˆ é™¤æˆ–å¯ä»¥é‡æ–°è®¾ç½®ç‰¹æ€§ï¼›è®¾ç½®ä¸ºfalseï¼Œä¸èƒ½è¢«å¯ä»¥è¢«åˆ é™¤æˆ–ä¸å¯ä»¥é‡æ–°è®¾ç½®ç‰¹æ€§ã€‚é»˜è®¤ä¸ºfalseã€‚ è¿™ä¸ªå±æ€§èµ·åˆ°ä¸¤ä¸ªä½œç”¨ï¼š ç›®æ ‡å±æ€§æ˜¯å¦å¯ä»¥ä½¿ç”¨deleteåˆ é™¤ ç›®æ ‡å±æ€§æ˜¯å¦å¯ä»¥å†æ¬¡è®¾ç½®ç‰¹æ€§ //ç¬¬ä¸€ç§æƒ…å†µï¼šconfigurableè®¾ç½®ä¸ºfalseï¼Œä¸èƒ½è¢«åˆ é™¤ã€‚//ç¬¬äºŒç§æƒ…å†µï¼šconfigurableè®¾ç½®ä¸ºtrueï¼Œå¯ä»¥è¢«åˆ é™¤ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748//å¯¹è±¡æ–°æ·»åŠ çš„å±æ€§çš„ç‰¹æ€§æè¿°Object.defineProperty(obj,&quot;newKey&quot;,{ configurable:true | false, enumerable:true | false, value:ä»»æ„ç±»å‹çš„å€¼, writable:true | false});å­˜å–å™¨æè¿°å½“ä½¿ç”¨å­˜å–å™¨æè¿°å±æ€§çš„ç‰¹æ€§çš„æ—¶å€™ï¼Œå…è®¸è®¾ç½®ä»¥ä¸‹ç‰¹æ€§å±æ€§ï¼švar obj = {};Object.defineProperty(obj,&quot;newKey&quot;,{ get:function (){} | undefined, set:function (value){} | undefined configurable: true | false enumerable: true | false});å±æ€§å¯¹åº”çš„å€¼,å¯ä»¥ä½¿ä»»æ„ç±»å‹çš„å€¼ï¼Œé»˜è®¤ä¸ºundefinedgetter æ˜¯ä¸€ç§è·å¾—å±æ€§å€¼çš„æ–¹æ³•setteræ˜¯ä¸€ç§è®¾ç½®å±æ€§å€¼çš„æ–¹æ³•ã€‚var obj = {};var initValue = 'hello';Object.defineProperty(obj,&quot;newKey&quot;,{ get:function (){ //å½“è·å–å€¼çš„æ—¶å€™è§¦å‘çš„å‡½æ•° return initValue; }, set:function (value){ //å½“è®¾ç½®å€¼çš„æ—¶å€™è§¦å‘çš„å‡½æ•°,è®¾ç½®çš„æ–°å€¼é€šè¿‡å‚æ•°valueæ‹¿åˆ° initValue = value; }});//è·å–å€¼console.log( obj.newKey ); //hello//è®¾ç½®å€¼obj.newKey = 'change value';console.log( obj.newKey ); //change value å­—ç¬¦ä¸²é‡å¤123'x'.repeat(3) // &quot;xxx&quot;264 'hello'.repeat(2) // &quot;hellohello&quot;265 'na'.repeat(0) // &quot;&quot; æ•°ç»„é‡å¤12345678910Array.prototype.cp = function(n){ var arr = []; while(n&gt;0){ console.log(this); n--; arr= arr.concat(this); console.log(arr); }} jså¤åˆ¶æ•°ç»„ä¸€ã€ slice slice æ–¹æ³•è¿”å›ä¸€ä¸ª Array å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº† arrayObj çš„æŒ‡å®šéƒ¨åˆ†ã€‚ å¦‚æœçœç•¥ end ï¼Œé‚£ä¹ˆ slice æ–¹æ³•å°†ä¸€ç›´å¤åˆ¶åˆ° arrayObj çš„ç»“å°¾ã€‚å¦‚æœ end å‡ºç°åœ¨ start ä¹‹å‰ï¼Œä¸å¤åˆ¶ä»»ä½•å…ƒç´ åˆ°æ–°æ•°ç»„ä¸­ã€‚ 12345678var arr = [&quot;One&quot;,&quot;Two&quot;,&quot;Three&quot;];var arrtoo = arr.slice(0);arrtoo[1] = &quot;set Map&quot;;// arr One,Two,Three// arrtoo One,set Map,Three äºŒã€concat() æ–¹æ³•ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚è¯¥æ–¹æ³•ä¸ä¼šæ”¹å˜ç°æœ‰çš„æ•°ç»„ï¼Œè€Œä»…ä»…ä¼šè¿”å›è¢«è¿æ¥æ•°ç»„çš„ä¸€ä¸ªå‰¯æœ¬ã€‚ 12var arrtooo = arr.concat();arrtooo[1] = &quot;set Map To&quot;; ä¸‰ã€è™½ç„¶è¯´assginä¹Ÿæ˜¯æ·±æ‹·è´ï¼Œä½†æ˜¯ä»–åªæ˜¯ç¬¬ä¸€å±‚æ·±æ‹·è´ï¼Œç¬¬äºŒå±‚ä¹‹åè¿˜æ˜¯è¿›è¡Œæµ…æ‹·è´ æ¨¡æ‹Ÿé“¾å¼è°ƒç”¨12345678910var obj={};obj.a=function(){ console.log(&quot;a&quot;) return this}obj.b=function(){ console.log(&quot;n&quot;) return this}obj.a().b(); å‚æ•°é“¾å¼è°ƒç”¨12345678910const functionFunction = (s) =&gt; { const func = (str) =&gt; { s += ',' + str; return func; } func.toString = func.valueOf = () =&gt; s; return func;}alert(functionFunction(2)(3)(4)) // 2,3,4 Promiseå¼‚æ­¥é“¾å¼å†™æ³•123456789101112131415161718192021222324function fn_a(num) { return new Promise(function (resolve, reject) { if(num!= undefined){ num=num+1; setTimeout(resolve(num), 500); }else{//é”™è¯¯ reject(&quot;numæœªå®šä¹‰&quot;); } });}function fn_b(num,parm) { return new Promise(function (resolve, reject) { num=num*parm; setTimeout(resolve(num), 1000); });}fn_a(1).then(num=&gt;{ return fn_b(num,5);},error=&gt;{ console.log(error);}).then(num=&gt;{ console.log(num);//åœ¨1.5ç§’å›è¿”å›10}) mapï¼ŒforEachï¼Œ filterï¼Œ reduce1234567891011121314151617181920212223242526272829303132333435363738394041var a=new Array(1,2,3,3,2,1);Array.isArray(a)); //truea.indexOf(2)); //1a.lastIndexOf(2); //4a.forEach(function(e,i,array){ array[i]=e+1;});a.every(function(e,i,arr){ console.log(i+' : '+e); return e&lt;5;});a.map(function(e){ return e*e;});a.filter(function(e){ return e%2==0;})a.reduce(function(v1,v2){ return v1+v2;})// æ•°ç»„ arr = [1,2,3,4] æ±‚æ•°ç»„çš„å’ŒforEach å®ç°var arr = [1,2,3,4],sum = 0;arr.forEach(function(e){sum += e;}); // sum = 10map å®ç°var arr = [1,2,3,4],sum = 0;arr.map(function(obj){sum += obj});//return undefined array. sum = 10reduceå®ç°var arr = [1,2,3,4];arr.reduce(function(pre,cur){return pre + cur}); // return 10 å†™ä¸€ä¸ªæ–¹æ³•clone; å®ç°jsäº”ç§æ•°æ®ç±»å‹(string, number, boolean, array, object)çš„å¤åˆ¶number , string , boolean ç›´æ¥èµ‹å€¼ object , array éå†åèµ‹å€¼ æ–¹æ³•ä¸­ç”¨åˆ°çš„applyæ–¹æ³• 1234567891011121314151617181920212223242526272829303132333435363738394041function clone(obj) { var copy; switch(typeof obj){ case 'number': case 'string': case 'boolean': copy = obj; break; case 'object': if (obj == null) { copy = null } else if (toString.apply(obj) === '[object Array]') { copy = []; for (var i in obj) { copy.push(clone(obj[i])) }; } else { copy = {}; for (var j in obj) { copy[j] = clone(obj[j]); } } } return copy;} //å„ç§ç±»å‹çš„è¿”å›å€¼; call å’Œ apply è¿”å›å€¼ç›¸åŒ; åªæ˜¯å‚æ•°ä¸åŒ console.log(&quot;string&quot; +toString.apply(str)) // string[object String] console.log(&quot;number&quot; +toString.apply(num)) // number[object Number] console.log(&quot;object&quot; +toString.apply(obj)) // object[object Object] console.log(&quot;array&quot; + toString.apply(arr)) // array[object Array] console.log(&quot;boolean&quot; + toString.apply(bool)) // boolean[object Boolean] console.log(&quot;undefined&quot; + toString.apply(undefined)) //undefined[object Undefined] console.log(&quot;null&quot; + toString.apply(null)) // null[object Null] çº¯jsçš„ajax1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859/** * å¾—åˆ°ajaxå¯¹è±¡ */function getajaxHttp() { var xmlHttp; try { // Firefox, Opera 8.0+, Safari xmlHttp = new XMLHttpRequest(); } catch (e) { // Internet Explorer try { xmlHttp = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); } catch (e) { try { xmlHttp = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;); } catch (e) { alert(&quot;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒAJAXï¼&quot;); return false; } } } return xmlHttp;}/** * å‘é€ajaxè¯·æ±‚ * url--url * methodtype(post/get) * con (true(å¼‚æ­¥)|false(åŒæ­¥)) * parameter(å‚æ•°) * functionName(å›è°ƒæ–¹æ³•åï¼Œä¸éœ€è¦å¼•å·,è¿™é‡Œåªæœ‰æˆåŠŸçš„æ—¶å€™æ‰è°ƒç”¨) * (æ³¨æ„ï¼šè¿™æ–¹æ³•æœ‰äºŒä¸ªå‚æ•°ï¼Œä¸€ä¸ªå°±æ˜¯xmlhttp,ä¸€ä¸ªå°±æ˜¯è¦å¤„ç†çš„å¯¹è±¡) * objéœ€è¦åˆ°å›è°ƒæ–¹æ³•ä¸­å¤„ç†çš„å¯¹è±¡ */function ajaxrequest(url,methodtype,con,parameter,functionName,obj){ var xmlhttp=getajaxHttp(); xmlhttp.onreadystatechange=function(){ if(xmlhttp.readyState==4){ //HTTPå“åº”å·²ç»å®Œå…¨æ¥æ”¶æ‰è°ƒç”¨ functionName(xmlhttp,obj); } }; xmlhttp.open(methodtype,url,con); xmlhttp.send(parameter);}//è¿™å°±æ˜¯å‚æ•°function createxml(){ var xml=&quot;&lt;user&gt;&lt;userid&gt;haorooms çº¯js ajaxè¯·æ±‚&lt;\\/userid&gt;&lt;\\/user&gt;&quot;;//&quot;\\/&quot;è¿™ä¸æ˜¯å¤§å†™Vè€Œæ˜¯è½¬ä¹‰æ˜¯å·¦æ–œæ å’Œå³æ–œæ  return xml;}//è¿™å°±æ˜¯å‚æ•°function createjson(){ var json={id:0,username:&quot;haorooms&quot;}; return json;}function c(){ alert(&quot;&quot;);}//æµ‹è¯•ajaxrequest(&quot;http://www.haorooms.com&quot;,&quot;post&quot;,true,createxml(),c,document); reduceç”¨æ³•å°†æ•°ç»„æ‰€æœ‰é¡¹ç›¸åŠ 1234var total = [0, 1, 2, 3].reduce(function(a, b) { return a + b;});// total == 6 æ•°ç»„æ‰å¹³åŒ– æœ‰å¤šç§è§£å†³åŠæ³•1234567891011121314151617181920var flattened = [[0, 1], [2, 3], [4, 5]].reduce(function(a, b) { return a.concat(b);});// flattened is [0, 1, 2, 3, 4, 5]ä½¿ç”¨é€’å½’å®ç°function flattenDepth(array, depth=1) { let result = []; array.forEach (item =&gt; { let d = depth; if(Array.isArray(item) &amp;&amp; d &gt; 0){ result.push(...(flattenDepth(item, --d))) } else { result.push(item); } }) return result;}console.log(flattenDepth([1,[2,[3,[4]],5]])) æ•°ç»„å»é‡å¤šç§æ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839404142æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰å†…éƒ¨ä½¿ç”¨forâ€¦ofå¾ªç¯[...new Set([1,2,3,1,'a',1,'a'])]Array.from(new Set(array));// åŸç†ï¼šåˆ©ç”¨forEachçš„ä¸‰ä¸ªå‚æ•°å’ŒindexOf()çš„ç¬¬äºŒä¸ªå‚æ•°(ä»å“ªé‡Œå¼€å§‹æŸ¥æ‰¾)ï¼Œåœ¨æ•°ç»„ä¸­æ£€æµ‹è¯¥å…ƒç´ åæ–¹æ˜¯å¦æœ‰ä¸è¯¥å…ƒç´ ç›¸åŒçš„å…ƒç´ ã€‚distinct = (arr) =&gt;{ let _arr = []; arr.forEach((item, index, arr) =&gt; { var bool = arr.indexOf(item,index+1); if(bool === -1){ _arr.push(item); } }) return _arr;}let arr = [2,1,3,5,1,2,4];distinct(arr);=&gt; [3, 5, 1, 2, 4] //1æ˜¯åé¢çš„1ï¼Œ2ä¹Ÿæ˜¯åå‡ºç°çš„2.// åŸç†ï¼šsplice()åˆ é™¤å…ƒç´ ï¼Œä¼šæ”¹å˜åŸæ•°ç»„ã€‚distinct = (arr) =&gt;{ let len = arr.length; for(let i = 0; i &lt; len; i++) { for(let j = i + 1; j &lt; len; j++) { if(arr[i] === arr[j]) { arr.splice(j,1); len--; j--; } } } return arr;}let arr = [2,1,3,5,1,2,4];distinct(arr);=&gt;[2, 1, 3, 5, 4] è·å–æ•°ç»„æœ€å¤§æœ€å°å€¼12345678910111213141516171819202122232425262728293031Array.max = function( array ){return Math.max.apply( Math, array );};Array.min = function( array ){return Math.min.apply( Math, array );};Array.prototype.max = function(){return Math.max.apply({},this)}Array.prototype.min = function(){return Math.min.apply({},this)}[1,2,3].max()// =&gt; 3[1,2,3].min()// =&gt; 1var a=[1,2,3,[5,6],[1,4,8]];var ta=a.join(&quot;,&quot;).split(&quot;,&quot;);//è½¬åŒ–ä¸ºä¸€ç»´æ•°ç»„alert(Math.max.apply(null,ta));//æœ€å¤§å€¼alert(Math.min.apply(null,ta));//æœ€å°å€¼//sort()æ’åºé»˜è®¤ä¸ºå‡åºï¼Œreverse()å°†æ•°ç»„æ‰ä¸ªvar max3 = arr.sort().reverse()[0];console.log(max3)ä½¿ç”¨ES6çš„æ‰©å±•è¿ç®—ç¬¦ var arr = [22,13,6,55,30]; console.log(Math.max(...arr)); // 55 é˜²æŠ–ï¼ˆdebounceï¼‰å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµéƒ½èƒ½æ§åˆ¶ä¸€æ®µæ—¶é—´å†…å‡½æ•°æ‰§è¡Œçš„æ¬¡æ•°. å‡½æ•°é˜²æŠ–: å°†æœ¬æ¥çŸ­æ—¶é—´å†…çˆ†å‘çš„ä¸€ç»„äº‹ä»¶ç»„åˆæˆå•ä¸ªäº‹ä»¶æ¥è§¦å‘ã€‚ç­‰ç”µæ¢¯å°±æ˜¯ä¸€ä¸ªéå¸¸å½¢è±¡çš„æ¯”å–»ï¼Œç”µæ¢¯ä¸ä¼šç«‹å³ä¸Šè¡Œï¼Œè€Œæ˜¯ç­‰å¾…ä¸€æ®µæ—¶é—´å†…æ²¡æœ‰äººå†ä¸Šç”µæ¢¯äº†æ‰ä¸Šè¡Œï¼Œæ¢å¥è¯è¯´æ­¤æ—¶å‡½æ•°æ‰§è¡Œæ—¶ä¸€é˜µä¸€é˜µçš„ï¼Œå¦‚æœä¸€ç›´æœ‰äººä¸Šç”µæ¢¯ï¼Œç”µæ¢¯å°±æ°¸è¿œä¸ä¼šä¸Šè¡Œã€‚ ä½¿ç”¨åœºåˆï¼šç”¨æˆ·è¾“å…¥å…³é”®è¯å®æ—¶æœç´¢ï¼Œå¦‚æœç”¨æˆ·æ¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦å°±å‘è¯·æ±‚æœç´¢ä¸€æ¬¡ï¼Œå°±å¤ªæµªè´¹ç½‘ç»œï¼Œé¡µé¢æ€§èƒ½ä¹Ÿå·®ï¼›å†æ¯”å¦‚ç¼©æ”¾æµè§ˆå™¨çª—å£äº‹ä»¶ï¼›å†å†æ¯”å¦‚é¡µé¢æ»šåŠ¨åŸ‹ç‚¹ å‡½æ•°èŠ‚æµ: æ§åˆ¶æŒç»­å¿«é€Ÿè§¦å‘çš„ä¸€ç³»åˆ—äº‹ä»¶æ¯éš”â€™Xâ€™æ¯«ç§’æ‰§è¡Œä¸€æ¬¡,å°±åƒMagicæŠŠç“¢æ³¼å¤§é›¨ç¼–ç¨‹äº†ç»µç»µç»†é›¨ã€‚ ä½¿ç”¨åœºåˆï¼šé¡µé¢æ»šåŠ¨è¿‡ç¨‹ä¸­ä¸æ–­ç»Ÿè®¡ç¦»åº•éƒ¨è·ç¦»ä»¥ä¾¿æ‡’åŠ è½½ã€‚ä½œç”¨æ˜¯åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡è§¦å‘åŒä¸€ä¸ªå‡½æ•°ï¼Œåªæ‰§è¡Œæœ€åä¸€æ¬¡ï¼Œæˆ–è€…åªåœ¨å¼€å§‹æ—¶æ‰§è¡Œã€‚ 1234567891011121314151617181920212223242526// debounce å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°å’Œå»¶è¿Ÿæ‰§è¡Œçš„æ—¶é—´ä½œä¸ºå‚æ•°function debounce(fn, delay){ // ç»´æŠ¤ä¸€ä¸ª timer let timer = null; // è¿”å›çš„å‡½æ•°å¹¶æ²¡æœ‰ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œç›®çš„æ˜¯åœ¨äº‹ä»¶æ‰§è¡Œæ—¶ç¡®å®šä¸Šä¸‹æ–‡ return function() { // è·å–å‡½æ•°çš„ä½œç”¨åŸŸå’Œå˜é‡ let context = this; let args = arguments; timer &amp;&amp; clearTimeout(timer); timer = setTimeout(function(){ fn.apply(context, args); }, delay) }}function foo() { console.log('trigger');}// åœ¨ debounce ä¸­åŒ…è£…æˆ‘ä»¬çš„å‡½æ•°ï¼Œè¿‡ 2 ç§’è§¦å‘ä¸€æ¬¡window.addEventListener('resize', debounce(foo, 2000));æ¯ä¸€æ¬¡äº‹ä»¶è¢«è§¦å‘ï¼Œéƒ½ä¼šæ¸…é™¤å½“å‰çš„ timer ç„¶åé‡æ–°è®¾ç½®è¶…æ—¶è°ƒç”¨ã€‚åªæœ‰åœ¨æœ€åä¸€æ¬¡è§¦å‘äº‹ä»¶ï¼Œæ‰èƒ½åœ¨ delay æ—¶é—´åæ‰§è¡Œã€‚ èŠ‚æµï¼ˆthrottleï¼‰èŠ‚æµæ˜¯åœ¨ä¸€æ®µæ—¶é—´å†…åªå…è®¸å‡½æ•°æ‰§è¡Œä¸€æ¬¡ã€‚ æ—¶é—´æˆ³å®ç°ï¼š 123456789101112131415161718function throttle(func, wait = 100) { let timerId let start = Date.now() return function(...args) { const now = Date.now() clearTimeout(timerId) if (now - start &gt;= wait) {// å¯ä»¥ä¿è¯funcä¸€å®šä¼šè¢«æ‰§è¡Œ func.apply(this, args) start = now } else { timerId = setTimeout(() =&gt; { func.apply(this, args) }, wait) } }} ä½¿ç”¨æ—¶é—´æˆ³å®ç°çš„èŠ‚æµå‡½æ•°ä¼šåœ¨ç¬¬ä¸€æ¬¡è§¦å‘äº‹ä»¶æ—¶ç«‹å³æ‰§è¡Œï¼Œä»¥åæ¯è¿‡ delay ç§’ä¹‹åæ‰æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”æœ€åä¸€æ¬¡è§¦å‘äº‹ä»¶ä¸ä¼šè¢«æ‰§è¡Œï¼›è€Œå®šæ—¶å™¨å®ç°çš„èŠ‚æµå‡½æ•°åœ¨ç¬¬ä¸€æ¬¡è§¦å‘æ—¶ä¸ä¼šæ‰§è¡Œï¼Œè€Œæ˜¯åœ¨ delay ç§’ä¹‹åæ‰æ‰§è¡Œï¼Œå½“æœ€åä¸€æ¬¡åœæ­¢è§¦å‘åï¼Œè¿˜ä¼šå†æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚ æŸ¯é‡ŒåŒ–å‚æ•°å¤Ÿäº†å°±æ‰§è¡Œï¼Œå‚æ•°ä¸å¤Ÿå°±è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä¹‹å‰çš„å‚æ•°å­˜èµ·æ¥ï¼Œç›´åˆ°å¤Ÿäº†ä¸ºæ­¢ã€‚ 3ä¸ªå¸¸è§ä½œç”¨ï¼š1. å‚æ•°å¤ç”¨ï¼›2. æå‰è¿”å›ï¼›3. å»¶è¿Ÿè®¡ç®—/è¿è¡Œã€‚ 123456789101112131415161718192021function curry(func) { var l = func.length; return function curried() { var args = [].slice.call(arguments); if(args.length &lt; l) { return function() { var argsInner = [].slice.call(arguments) return curried.apply(this, args.concat(argsInner)) } } else { return func.apply(this, args) } }}var f = function(a,b,c) { return console.log([a,b,c])}var curried = curry(f);curried(1)(2)(3) æµ…æ‹·è´123456789101112 function extendCopy(p) { var c = {}; for (var i in p) { c[i] = p[i]; } c.uber = p; return c; } æ·±æ‹·è´123456789101112131415161718192021function deepCopy(p, c) { var c = c || {}; for (var i in p) { if (typeof p[i] === 'object') { c[i] = (p[i].constructor === Array) ? [] : {}; deepCopy(p[i], c[i]); } else { c[i] = p[i]; } } return c;} è‡ªå·±å®ç°bindæ–¹æ³•123456Function.prototype.bind=Function.prototype.bind||function(context){ var self=this; return function(){ return self.apply(contex,arguments); };}","link":"/posts/js-%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"},{"title":"jså‰ç«¯å°çŸ¥è¯†","text":"å‰ç«¯æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦ æ¯”å¦‚å›è½¦ï¼Œæ¢è¡Œï¼Œç­‰ã€‚åœ¨windowä¸­ï¼Œæ¢è¡Œæœ‰å¯èƒ½æ˜¯\\r\\nè¿èµ·æ¥çš„ã€‚ 12345678910str.replace(/\\\\n/g, &quot;\\\\n&quot;) .replace(/\\n/g, &quot;\\\\n&quot;) .replace(/\\\\'/g, &quot;\\\\'&quot;) .replace(/&quot; &quot;/g, &quot;&quot;) .replace(/\\\\&quot;/g, &quot;\\\\\\&quot;&quot;) .replace(/\\\\&amp;/g, &quot;\\\\&amp;&quot;) .replace(/\\\\r/g, &quot;\\\\r&quot;) .replace(/\\\\t/g, &quot;\\\\t&quot;) .replace(/\\\\b/g, &quot;\\\\b&quot;) .replace(/\\\\f/g, &quot;\\\\f&quot;); jsè·å–optionsçš„åˆ—è¡¨å’Œæ¯ä¸ªçš„æ–‡æœ¬å’Œå€¼var opts=document.getElementById(&quot;option&quot;).options;opts[0].valueå¾—åˆ°ç¬¬ä¸€ä¸ªvalueçš„å€¼opts[0].textå¾—åˆ°æ˜¾ç¤ºçš„æ–‡æœ¬å€¼ jsè·å–æ—¶é—´æˆ³var nowTimestamp = new Date().getTime();è·å–3ä¸ªå°æ—¶å‰çš„æ—¶é—´æˆ³var threeHourAgo = nowTimestamp - 3 *60 * 60* 1000; jsè·å–selecté€‰ä¸­çš„å€¼1234567891011$(&quot;#s option:selected&quot;).text(); //è·å–é€‰ä¸­çš„optionçš„æ–‡æœ¬å€¼// è·å–selectä¸­optionçš„è¢«é€‰ä¸­çš„valueå€¼ï¼Œ$(&quot;#s&quot;).val();$(&quot;#s option:selected&quot;).val();// jsè·å–selecté€‰ä¸­çš„å€¼var sel=document.getElementById(&quot;select1&quot;);var index = sel.selectedIndex; // é€‰ä¸­ç´¢å¼•albumid= sel.options[index].value;//è¦çš„å€¼ è·å–æ–‡æœ¬ä¸º{}çš„å…ƒç´ $(â€œtable tr td:contains(â€˜{}â€™)â€) åœ¨å½“å‰å…ƒç´ ä¸Šæ·»åŠ ä¸€ä¸ªçˆ¶å…ƒç´ 12//ç»™tableæ·»åŠ ä¸€ä¸ªdiv.table-responsiveçš„çˆ¶å…ƒç´ ï¼Œå¯ä»¥ä½¿tableå˜æˆå“åº”å¼çš„ã€‚$('table').addClass('table').wrap('&lt;div class=&quot;table-responsive&quot;/&gt;'); js è§¦å‘resizejQuery: $(selector).resize() eg: $(window).resize(); jsçš„æš‚æœªæ‰¾åˆ°ï¼ï¼ï¼ï¼ï¼ï¼ jsè®¾ç½®æ—¶é—´ä¸ºæ ‡å‡†æ—¶é—´æ ¼å¼ æ™®é€š new Date(); var a = new Date(â€˜2016-10-12 12:12:11â€™); è¿™ç§æƒ…å†µåœ¨safariä¸‹ä¸èƒ½ç”¨ä¼šè¿”å›Invalid Date å¯ä»¥ç”¨a == â€˜Invalid Dateâ€™ åˆ¤æ–­new Date(â€˜2016/10/12 12:12:11â€™) è¿™ç§å¯ä»¥åœ¨sarafiå’Œchromeä¸‹ä½¿ç”¨ äºæ˜¯ï¼Œ var a = â€˜2016-10-12 12:12:11â€™ a = a.replace(/-/g,â€/â€œ) var a = new Date(a) setTimeout1234567891011function a(){ console.log('a'); setTimeout(function(){ console.log('aaa'); },0);}function b(){ console.log('b');}a();b(); è°ƒç”¨ setTimeout å‡½æ•°ä¼šåœ¨ä¸€ä¸ªæ—¶é—´æ®µè¿‡å»ååœ¨é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªæ¶ˆæ¯ã€‚è¿™ä¸ªæ—¶é—´æ®µä½œä¸ºå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°è¢«ä¼ å…¥ã€‚å¦‚æœé˜Ÿåˆ—ä¸­æ²¡æœ‰å…¶å®ƒæ¶ˆæ¯ï¼Œæ¶ˆæ¯ä¼šè¢«é©¬ä¸Šå¤„ç†ã€‚ä½†æ˜¯ï¼Œå¦‚æœæœ‰å…¶å®ƒæ¶ˆæ¯ï¼ŒsetTimeout æ¶ˆæ¯å¿…é¡»ç­‰å¾…å…¶å®ƒæ¶ˆæ¯å¤„ç†å®Œã€‚å› æ­¤ç¬¬äºŒä¸ªå‚æ•°ä»…ä»…è¡¨ç¤ºæœ€å°‘çš„æ—¶é—´ è€Œéç¡®åˆ‡çš„æ—¶é—´æ‰€ä»¥å³ä½¿ï¼Œæ—¶é—´è®¾ç½®ä¸º0ï¼Œä¹Ÿæ˜¯ä¼šç…§æ ·å…ˆæ‰§è¡Œå‡½æ•°b js replace æ›¿æ¢ç©ºæ ¼var a = â€˜{â€œstringâ€:â€ â€œ,â€hexâ€:â€20â€,â€â€:â€ â€œ}â€™a.replace(/â€œ â€œ/g, â€œâ€) è¾“å‡ºç»“æœï¼šâ€{â€œstringâ€:,â€hexâ€:â€20â€,â€â€:}â€è§£å†³åŠæ³•ï¼š a.replace(/â€œ â€œ/g, â€˜â€œâ€â€˜) a.replace(/â€œ â€œ/g, â€œ&quot; &quot;â€œ) csså»é™¤æ‰€æœ‰è¾¹æ¡† border: none; cellpadding=â€0â€ cellspacing=â€0â€ css æ¢è¡Œword-break: break-word;åœ¨ç«ç‹ä¸‹ä¸æ”¯æŒï¼Œè§£å†³æ–¹æ¡ˆï¼šæ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒ 123overflow: hidden;word-wrap: break-word;word-break: break-all; 1ã€å¯¹å·²æœ‰å¯¹è±¡è¿›è¡Œæ‰©å……æ–¹æ³•å’Œå±æ€§ 1234567var object = new Object(); object.name = &quot;zhangsan&quot;;//æ¯ä¸ªå¯¹è±¡éœ€è¦å†™è¿™äº›è¯­å¥ object.sayName = function(name){//æ¯ä¸ªå¯¹è±¡éœ€è¦å†™è¿™äº›è¯­å¥ this.name = name; }; object.sayName(&quot;lisi&quot;); alert(object.name); 2ã€å·¥å‚æ–¹å¼åˆ›å»ºå¯¹è±¡ 123456789101112131415161718192021222324252627282930313233343536373839404142function createObject() { var object = new Object(); object.username = &quot;zhangsan&quot;; object.password = &quot;123456&quot;; object.get = function(){ alert(this.username + &quot;,&quot; + this.password); } return object; } var object1 = createObject(); var object2 = createObject(); object1.get(); object2.get(); // å¸¦å‚æ•°çš„æ„é€ æ–¹æ³• function createObject(username, password){ var object = new Object(); object.username = username; object.password = password; object.get = function(){//ç¼ºç‚¹æ˜¯ï¼Œå¤šå°‘ä¸ªå¯¹è±¡åˆ™æ–¹æ³•å°±æœ‰å¤šå°‘ä¸ª alert(this.username + &quot;, &quot; + this.password); } return object; } var object1 = createObject(&quot;zhangsan&quot;,123456); object1.get(); // æœ€ä½³æ”¹è¿›æ–¹å¼ function get(){//ä½¿è¯¥å‡½æ•°è¢«å¤šä¸ªå¯¹è±¡å…±äº« alert(this.username + &quot;, &quot; + this.password); } function createObject(username, password){//åˆ›å»ºå¯¹è±¡ var object = new Object(); object.username = username; object.password = password; object.get = get; return object; } var object1 = createObject(&quot;zhangsan&quot;, &quot;123456&quot;); var object2 = createObject(&quot;wangwu&quot;, &quot;654321&quot;); object1.get(); object2.get(); 3ã€æ„é€ å‡½æ•°æ–¹å¼åˆ›å»ºå¯¹è±¡ 12345678910111213141516171819202122function Person(){ //åœ¨æ‰§è¡Œç¬¬ä¸€è¡Œä»£ç æ¬ ï¼Œjså¼•æ“ä¼šä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªå¯¹è±¡ this.username = &quot;zhangsan&quot;; this.password = &quot;123&quot;; this.getInfo = function(){ alert(this.username + &quot;, &quot; + this.password); } //æ­¤å¤„æœ‰ä¸€ä¸ªéšè—çš„returnè¯­å¥ï¼Œç”¨äºå°†ä¹‹å‰ç”Ÿæˆå¯¹è±¡è¿”å›ã€‚ } var p1 = new Person(); p1.getInfo(); //å¸¦å‚æ•° function Person(username, password){ this.username = username; this.password = password; this.getInfo = function(){ alert(this.username + &quot;, &quot; + this.password); } } var p1 = new Person(&quot;zhangsan&quot;,&quot;1234546&quot;); p1.getInfo(); 4ã€åŸå‹ï¼ˆâ€œprototypeâ€ï¼‰æ–¹å¼ 12345678910111213141516171819202122232425262728293031function Person(){} Person.prototype.username = &quot;zhangsan&quot;; Person.prototype.password = &quot;123456&quot;; Person.prototype.getInfo = function(){ alert(this.username + &quot;, &quot; + this.password); } var person = new Person(); var person2 = new Person(); person.username = &quot;haha&quot;; person.getInfo(); person2.getInfo(); //å•çº¯ä½¿ç”¨åŸå‹æ–¹å¼å®šä¹‰å¯¹è±¡æ— æ³•åœ¨æ„é€ å‡½æ•°ä¸­ä¸ºå±æ€§èµ‹å€¼ï¼Œåªèƒ½åœ¨å¯¹è±¡ç”Ÿæˆåå†å»æ”¹å˜å±æ€§å€¼ function Person(){} Person.prototype.username = new Array(); Person.prototype.password = &quot;123456&quot;; Person.prototype.getInfo = function(){ alert(this.username + &quot;, &quot; + this.password); } var person = new Person(); var person2 = new Person(); person.username.push(&quot;zhangsan&quot;); person.username.push(&quot;lisi&quot;); person.password = &quot;321&quot;; person.getInfo(); person2.getInfo(); 5ã€ç»¼åˆæ–¹å¼ï¼ˆåŸå‹+æ„é€ å‡½æ•°æ–¹å¼æ­é…ï¼‰ 12345678910111213141516function Person(){ this.username = new Array();//ä¸è¢«å¤šä¸ªå¯¹è±¡å…±äº« this.password = &quot;123&quot;; } Person.prototype.getInfo = function()//è¢«å¤šä¸ªå¯¹è±¡å…±äº« { alert(this.username + &quot;,&quot; + this.password); } var p1 = new Person(); var p2 = new Person(); p1.username.push(&quot;zhangsan&quot;); p2.username.push(&quot;lisi&quot;); p1.getInfo(); p2.getInfo(); 6ã€åŠ¨æ€åŸå‹æ–¹å¼ 123456789101112131415161718function Person(){ this.username = &quot;zhangsan&quot;; this.password = &quot;123&quot;; //é€šè¿‡æ ‡å¿—é‡è®©æ‰€æœ‰çš„å¯¹è±¡å…±äº«æ–¹æ³• if(typeof Person.flag == &quot;undefined&quot;){ alert(&quot;prototype&quot;); Person.prototype.getInfo = function() { alert(this.username + &quot;, &quot; + this.password); } Person.flag = true; }}var p = new Person();var p2 = new Person();p.getInfo();p2.getInfo(); ä¸€é“å®¹æ˜“åšé”™çš„JavaScripté¢è¯•é¢˜ http://caibaojian.com/toutiao/5446?fid=0#0-tsina-1-81079-397232819ff9a47a7b7e80a40613cfe1 jsè·å–å­—ç¬¦ä¸²å­—èŠ‚æ•°æ–¹æ³•å°ç»“ æ–¹æ³•ä¸€ï¼š 123//åŸç†ï¼šæŠŠä¸­æ–‡å­—ç¬¦æ›¿æ¢æˆ2ä¸ªè‹±æ–‡å­—æ¯ï¼Œé‚£ä¹ˆå­—èŠ‚æ•°å°±æ˜¯2ï¼Œ//\\u0000è¿™ä¸ªè¡¨ç¤ºçš„æ˜¯unicodeç¼–ç alert('aä½ å¥½'.replace(/[^\\u0000-\\u00ff]/g,&quot;aa&quot;).length); æ–¹æ³•äºŒï¼š 1234567891011121314151617//ç»“æœæ˜¯6//åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œç”¨æ­£åˆ™åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸­æ–‡ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå­—èŠ‚æ•°å°±åŠ 1ã€‚var str='æˆ‘æˆ‘æˆ‘';var bytesCount;for (var i = 0; i &lt; str.length; i++){ var c = str.charAt(i); if (/^[\\u0000-\\u00ff]$/.test(c)) //åŒ¹é…åŒå­—èŠ‚ { bytesCount += 1; } else { bytesCount += 2; }}alert(bytesCount); å…³é”®åŒ¹é…ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š [\\u4e00-\\u9fa5] åŒ¹é…åŒå­—èŠ‚å­—ç¬¦(åŒ…æ‹¬æ±‰å­—åœ¨å†…)ï¼š[^\\u0000-\\u00ff] è¿‡æ»¤ç‰¹æ®Šå­—ç¬¦123456789101112131415161718// /[&quot;'&lt;&gt;%;)(&amp;+]/if (/['&quot;)-&gt;&lt;&amp;\\\\\\/\\.]/.test(value)) { alert('åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œä¸å…è®¸æäº¤!');}IllegalString = &quot;\\`~!#$%^&amp;*()+{}|\\\\:\\&quot;&lt;&gt;?-=/,\\'&quot;;var pattern = new RegExp(&quot;[%--`~!@#$^&amp;*()=|{}':;',\\\\\\\\\\[\\\\].&lt;&gt;/?~ï¼@#ï¿¥â€¦â€¦&amp;*ï¼ˆï¼‰â€”â€”|{}ã€ã€‘â€˜ï¼›ï¼šâ€â€œ'ã€‚ï¼Œã€ï¼Ÿ]&quot;);if (/[ ,\\\\`,\\\\~,\\\\!,\\\\@,\\#,\\\\$,\\\\%,\\\\^,\\\\+,\\\\*,\\\\&amp;,\\\\\\\\,\\\\/,\\\\?,\\\\|,\\\\:,\\\\.,\\\\&lt;,\\\\&gt;,\\\\{,\\},\\\\(,\\\\),\\\\'',\\\\;,\\\\=,\\&quot;]/.test(key)) {if (/['&quot;)-&gt;&lt;&amp;\\\\\\/\\.]/.test(key)) { alert('åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œä¸å…è®¸æäº¤!'); return;} 1.å¦‚ä½•é€šè¿‡cssä½¿div å®ç°å…¨å±æ•ˆæœâ€“å…¨å±è¦ç´ ï¼š 1.å…¨å±çš„å…ƒç´ åŠå…¶çˆ¶å…ƒç´ éƒ½è¦è®¾ç½®ä¸ºheight:100%, 2.å°†html,bodyæ ‡ç­¾è®¾ç½®ä¸ºheight100%,æ³¨ï¼šheight:100%æ˜¯è·Ÿéšå…¶çˆ¶å…ƒç´ é«˜åº¦å˜åŒ–è€Œå˜åŒ–çš„ jQueryæ’ä»¶çš„å°è£…123(function($){ // do something})(jQuery); é—­åŒ…çš„ä½œç”¨ â€“é¿å…å…¨å±€ä¾èµ– â€“é¿å…ç¬¬ä¸‰æ–¹ç ´å â€“å…¼å®¹jQueryæ“ä½œç¬¦â€˜$â€™å’ŒjQuery å¼€å‘æ–¹å¼ç±»çº§åˆ«ç»„ä»¶å¼€å‘ -å³ç»™jQueryå‘½åç©ºé—´ä¸‹æ·»åŠ æ–°çš„å…¨å±€å‡½æ•°ï¼Œä¹Ÿç§°é™æ€æ–¹æ³•ã€‚ 123jQuery.myPlugin = function(){ //do something}; ä¾‹å¦‚ï¼š $.ajax,$.extend() å¯¹è±¡çº§åˆ«ç»„ä»¶å¼€å‘-å³æŒ‚åœ¨jQueryåŸå‹ä¸‹çš„æ–¹æ³•ï¼Œè¿™æ ·é€šè¿‡é€‰æ‹©å™¨è·å–çš„jQueryå¯¹è±¡å®ä¾‹ä¹Ÿèƒ½å…±äº«è¯¥æ–¹æ³•ï¼Œ ä¹Ÿç§°åŠ¨æ€æ–¹æ³•ã€‚ 1234$.fn.myPlugin = function(){ //do something};è¿™é‡Œ$.fn===$.prototype ä¾‹å¦‚ï¼šaddClass()ã€attr()ç­‰ï¼Œéœ€è¦åˆ›å»ºå®ä¾‹æ¥è°ƒç”¨ é“¾å¼è°ƒç”¨123456eg: $(&quot;div&quot;).next().addClass().... $.fn.myPlugin = function(){ return this.each(function(){ //do something }); }; ä»£ç è¯´æ˜ï¼š return this è¿”å›å½“å‰å¯¹è±¡ï¼Œæ¥ç»´æŠ¤æ’ä»¶çš„é“¾å¼è°ƒç”¨ each å¾ªç¯å®ç°æ¯ä¸ªå…ƒç´ çš„è®¿é—® å•ä¾‹æ¨¡å¼1234567$.fn.myPlugin = function(){ var me = $(this), instance = me.data(&quot;myPlugin&quot;); if(!instance){ me.data(&quot;myPlugin&quot;,(instance= new Plugin())); }}; ä»£ç è¯´æ˜ï¼š -å¦‚æœå®ä¾‹å­˜åœ¨åˆ™ä¸å†é‡æ–°åˆ›å»ºå®ä¾‹ -åˆ©ç”¨data()æ¥å­˜æ”¾æ’ä»¶å¯¹è±¡çš„å®ä¾‹ es6 ä»æ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ 1234let users = data.usersresult = users.find(ele =&gt; { return ele.username === username &amp;&amp; ele.password === password}) ä»æ•°ç»„ä¸­åˆ é™¤æŸä¸ªå…ƒç´  1splice(index, 1) æ•°ç»„æ¯”è¾ƒ12345678const arr1 =['a', 'b', 'c'];const arr2 =['b', 'c', 'a'];console.log( arr1.sort() === arr1, arr2.sort() === arr2, arr1.sort() === arr2.sort());// true, true, false è§£æ: arr.sortæ–¹æ³•å¯¹åŸå§‹æ•°ç»„è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„å¼•ç”¨ï¼Œè°ƒç”¨.sort(), å¯¹æ•°ç»„å†…å¯¹è±¡è¿›è¡Œæ’åº å½“æ¯”è¾ƒå¯¹è±¡æ—¶ï¼Œæ•°ç»„çš„æ’åºé¡ºåºå¹¶ä¸é‡è¦ã€‚ç”±äºarr1.sort()å’Œarr1æŒ‡å‘å†…å­˜ä¸­çš„åŒä¸€å¯¹è±¡ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªè¿”å›true. arr1.sort()å’Œarr2.sort()æ’åºé¡ºåºç›¸åŒï¼›ä½†ä»–ä»¬æŒ‡å‘å†…å­˜ä¸­çš„ä¸åŒå¯¹è±¡ï¼Œæ‰€ä»¥è¿”å›false å‰ç«¯å®ç°å³æ—¶é€šè®¯çš„æ–¹å¼æœ‰å“ªäº›ï¼Œå¹¶ä»‹ç»å¯¹åº”çš„ä¼˜ç¼ºç‚¹çŸ­è½®è¯¢çŸ­è½®è¯¢çš„åŸç†å¾ˆç®€å•ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å®¢æˆ·ç«¯å°±å‘å‡ºä¸€ä¸ªè¯·æ±‚ï¼Œå»è·å–æœåŠ¡å™¨æœ€æ–°çš„æ•°æ®ï¼Œä¸€å®šç¨‹åº¦ä¸Šæ¨¡æ‹Ÿå®ç°äº†å³æ—¶é€šè®¯ã€‚ ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¼ºï¼Œå®ç°éå¸¸ç®€å•ç¼ºç‚¹ï¼šå»¶è¿Ÿæ€§é«˜ï¼Œéå¸¸æ¶ˆè€—è¯·æ±‚èµ„æºï¼Œå½±å“æ€§èƒ½ cometcometæœ‰ä¸¤ç§ä¸»è¦å®ç°æ‰‹æ®µï¼Œ ä¸€ç§æ˜¯åŸºäºAJAXçš„é•¿è½®è¯¢(1ong-polling) æ–¹å¼ï¼Œ å¦ä¸€ç§æ˜¯åŸºäºIframeåŠhtml fileçš„æµ(streaming) æ–¹å¼ï¼Œé€šå¸¸è¢«å«åšé•¿è¿æ¥ã€‚ a.é•¿è½®è¯¢ä¼˜ç¼ºç‚¹ï¼šä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¥½ï¼Œèµ„æºæµªè´¹è¾ƒå°ç¼ºç‚¹ï¼šæœåŠ¡å™¨holdè¿æ¥ä¼šæ¶ˆè€—èµ„æºï¼Œ è¿”å›æ•°æ®é¡ºåºæ— ä¿è¯ï¼Œéš¾äºç®¡ç†ç»´æŠ¤ b.é•¿è¿æ¥ä¼˜ç¼ºç‚¹ï¼šä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¥½ï¼Œæ¶ˆæ¯å³æ—¶åˆ°è¾¾ï¼Œä¸å‘æ— ç”¨è¯·æ±‚ç¼ºç‚¹ï¼šæœåŠ¡å™¨ç»´æŠ¤é•¿è¿æ¥æ¶ˆè€—èµ„æº SSESSE(Server-Sent Eventï¼Œ æœåŠ¡ç«¯æ¨é€äº‹ä»¶) æ˜¯ä¸€ç§å…è®¸æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯æ¨é€æ–°æ•°æ®çš„HTML 5æŠ€æœ¯ã€‚ a.ä¼˜ç‚¹ï¼šåŸºäºHTTPè€Œç”Ÿï¼Œ å› æ­¤ä¸éœ€è¦å¤ªå¤šæ”¹é€ å°±èƒ½ä½¿ç”¨ï¼Œ ä½¿ç”¨æ–¹ä¾¿ï¼Œ è€Œwebsocketéå¸¸å¤æ‚ï¼Œ å¿…é¡»å€ŸåŠ©æˆç†Ÿçš„åº“æˆ–æ¡†æ¶b.ç¼ºç‚¹ï¼šåŸºäºæ–‡æœ¬ä¼ è¾“æ•ˆç‡æ²¡æœ‰websocketé«˜ï¼Œ ä¸æ˜¯ä¸¥æ ¼çš„åŒå‘é€šä¿¡ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æ— æ³•å¤ç”¨ä¹‹å‰çš„è¿æ¥ï¼Œéœ€è¦é‡æ–°å‘å‡ºç‹¬ç«‹çš„è¯·æ±‚ Web socketWeb socketæ˜¯ä¸€ä¸ªå…¨æ–°çš„ã€ç‹¬ç«‹çš„åè®®ï¼Œ åŸºäºTCPåè®®ï¼Œä¸httpåè®®å…¼å®¹ã€å´ä¸ä¼šèå…¥httpåè®®ï¼Œ ä»…ä»…ä½œä¸ºhtmL 5çš„ä¸€éƒ¨åˆ†ï¼Œ å…¶ä½œç”¨å°±æ˜¯åœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´å»ºç«‹å®æ—¶çš„åŒå‘é€šä¿¡ã€‚a.ä¼˜ç‚¹ï¼šçœŸæ­£æ„ä¹‰ä¸Šçš„å®æ—¶åŒå‘é€šä¿¡ï¼Œæ€§èƒ½å¥½ï¼Œä½å»¶è¿Ÿb.ç¼ºç‚¹ï¼šç‹¬ç«‹ä¸httpçš„åè®®ï¼Œ å› æ­¤éœ€è¦é¢å¤–çš„é¡¹ç›®æ”¹é€ ï¼Œä½¿ç”¨å¤æ‚åº¦é«˜ï¼Œå¿…é¡»å¼•å…¥æˆç†Ÿçš„åº“ï¼Œæ— æ³•å…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨ Service workersService Workerä»è‹±æ–‡ç¿»è¯‘è¿‡æ¥å°±æ˜¯ä¸€ä¸ªæœåŠ¡å·¥äººï¼Œ (æœåŠ¡äºå‰ç«¯é¡µé¢çš„åå°çº¿ç¨‹ï¼Œ åŸºäºWeb Workerå®ç°ã€‚æœ‰ç€ç‹¬ç«‹çš„jsè¿è¡Œç¯å¢ƒï¼Œåˆ†æ‹…ã€ååŠ©å‰ç«¯é¡µé¢å®Œæˆå‰ç«¯å¼€å‘è€…åˆ†é…çš„éœ€è¦åœ¨åå°æ‚„æ‚„æ‰§è¡Œçš„ä»»åŠ¡ã€‚åŸºäºå®ƒå¯ä»¥å®ç°æ‹¦æˆªå’Œå¤„ç†ç½‘ç»œè¯·æ±‚ã€æ¶ˆæ¯æ¨é€ã€é™é»˜æ›´æ–°ã€äº‹ä»¶åŒæ­¥ç­‰æœåŠ¡ã€‚ ä¼˜åŠ¿åŠä½¿ç”¨åœºæ™¯ï¼š â‘ ç¦»çº¿ç¼“å­˜ï¼šå¯ä»¥å°†H5åº”ç”¨ä¸­ä¸å˜åŒ–çš„èµ„æºæˆ–è€…å¾ˆå°‘å˜åŒ–çš„èµ„æºé•¿ä¹…çš„å­˜å‚¨åœ¨ç”¨æˆ·ç«¯ï¼Œæå‡åŠ è½½é€Ÿåº¦é™ä½æµé‡æ¶ˆè€—ã€é™ä½æœåŠ¡å™¨å‹åŠ›ã€‚å¦‚ä¸­é‡åº¦çš„H5æ¸¸æˆã€æ¡†æ¶æ•°æ®ç‹¬ç«‹çš„webèµ„è®¯å®¢æˆ·ç«¯ã€webé‚®ä»¶å®¢æˆ·ç«¯ç­‰ â‘¡æ¶ˆæ¯æ¨é€ï¼šæ¿€æ´»æ²‰ç¡çš„ç”¨æˆ·ï¼Œæ¨é€å³æ—¶æ¶ˆæ¯ã€å…¬å‘Šé€šçŸ¥ï¼Œæ¿€å‘æ›´æ–°ç­‰ã€‚å¦‚webèµ„è®¯å®¢æˆ·ç«¯ã€webå³æ—¶é€šè®¯å·¥å…·ã€h5æ¸¸æˆç­‰è¿è¥äº§å“ã€‚ â‘¢äº‹ä»¶åŒæ­¥ï¼šç¡®ä¿webç«¯äº§ç”Ÿçš„ä»»åŠ¡å³ä½¿åœ¨ç”¨æˆ·å…³é—­äº†webé¡µé¢ä¹Ÿå¯ä»¥é¡ºåˆ©å®Œæˆã€‚å¦‚webé‚®ä»¶å®¢æˆ·ç«¯ã€webå³æ—¶é€šè®¯å·¥å…·ç­‰ã€‚ â‘£å®šæ—¶åŒæ­¥ï¼šå‘¨æœŸæ€§çš„è§¦å‘Service Workerè„šä¸­çš„å®šæ—¶åŒäº‹ä»¶ï¼Œå¯å€ŸåŠ©å®ƒæå‰åˆ·æ–°ç¼“å­˜å†…å®¹ã€‚å¦‚webèµ„è®¯å®¢æˆ·ç«¯ã€‚ æ•°ç»„push123456function addToList(item, list) { return list.push(item);}const result = addToList('abc', ['de']);console.log(result);// ç»“æœæ˜¯2 pushæ–¹æ³•è¿”å›æ–°æ•°ç»„çš„é•¿åº¦pushæ–¹æ³•ä¿®æ”¹åŸå§‹æ•°ç»„ï¼Œå¦‚æœæƒ³ä»å‡½æ•°è¿”å›æ•°ç»„è€Œä¸æ˜¯æ•°ç»„é•¿åº¦ï¼Œåº”è¯¥å…ˆpushï¼Œåè¿”å› 12list.push(item);return list; Scriptæ”¾åœ¨åº•éƒ¨ä¼šå½±å“DOMçš„è§£æå’Œæ¸²æŸ“å—Scriptæ”¾åœ¨åº•éƒ¨å½±å“DOMæ¸²æŸ“ã€‚ä¸ä¼šå½±å“è§£æã€‚ Scriptå†…çš„ä»£ç æ‰§è¡Œä¼šä¼šç­‰å¾…CSSåŠ è½½å®Œæˆä¹ˆScriptå†…çš„ä»£ç æ‰§è¡Œä¼šç­‰å¾…CSSåŠ è½½ CSSåŠ è½½ä¼šå½±å“DOMContentLoadedä¹ˆCSSä»£ç ä¸‹è‹¥æ— Scriptä»£ç æ®µï¼Œå°±ä¸ä¼šå½±å“DOMContentLoaded ä¹Ÿå¯ä»¥å€ŸåŠ©æ§åˆ¶å°çš„Performanceè¯¦ç»†çš„æŸ¥çœ‹HTMLçš„æ•´ä½“æ¸²æŸ“æµç¨‹ï¼Œè¿™æ˜¯æˆä¸ºé«˜çº§å‰ç«¯çš„ç¬¬ä¸€æ­¥ã€‚ å®ç°Promise.allæ€è·¯ æ¥æ”¶ä¸€ä¸ªPromiseå®ä¾‹çš„æ•°ç»„æˆ–å…·æœ‰Iteratoræ¥å£çš„å¯¹è±¡ä½œä¸ºå‚æ•° è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„promiseå¯¹è±¡ éå†ä¼ å…¥çš„å‚æ•°ï¼Œç”¨promise.resolve()å°†å‚æ•°åŒ…ä¸€å±‚ï¼Œä½¿å…¶å˜æˆä¸€ä¸ªpromiseå¯¹è±¡ å‚æ•°æ‰€æœ‰å›è°ƒæˆåŠŸæ‰æ˜¯æˆåŠŸï¼Œè¿”å›å€¼æ•°ç»„ä¸å‚æ•°é¡ºåºä¸€è‡´ å‚æ•°æ•°ç»„å…¶ä¸­ä¸€ä¸ªå¤±è´¥ï¼Œåˆ™è§¦å‘å¤±è´¥çŠ¶æ€ï¼Œç¬¬ä¸€ä¸ªè§¦å‘å¤±è´¥çš„Promiseé”™è¯¯ä¿¡æ¯ä½œä¸ºPromise.allçš„é”™è¯¯ä¿¡æ¯ æ‰©å±• ä¸€èˆ¬æ¥è¯´ï¼ŒPromise.allç”¨æ¥å¤„ç†å¤šä¸ªå¹¶å‘è¯·æ±‚ï¼Œä¹Ÿæ˜¯ä¸ºäº†é¡µé¢æ•°æ®æ„é€ çš„æ–¹ä¾¿ï¼Œå°†ä¸€ä¸ªé¡µé¢æ‰€ç”¨åˆ°çš„åœ¨ä¸åŒæ¥å£çš„æ•°æ®ä¸€èµ·è¯·æ±‚è¿‡æ¥ã€‚ä¸è¿‡å¦‚æœå…¶ä¸­ä¸€ä¸ªå€Ÿå£å¤±è´¥äº†ï¼Œå¤šä¸ªè¯·æ±‚ä¹Ÿå°±å¤±è´¥äº†ï¼Œé¡µé¢å¯èƒ½å•¥ä¹Ÿå‡ºä¸æ¥ï¼Œè¿™å°±çœ‹å½“å‰é¡µé¢çš„è€¦åˆç¨‹åº¦äº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142function promiseAll(promises) { return new Promise((resolve, reject) =&gt; { if (!Array.isArray(promises)) { throw new TypeError('argument must be a array') } let resolvedCounter = 0; let promiseNum = promises.length; let resolvedResult = []; for(let i=0;i&lt;promiseNum;i++) { Promise.resolve(promises[i]).then(value =&gt; { resolvedCounter++; resolvedResult[i] = value; if (resolvedCounter === promiseNum) { return resolve(resolvedResult) } }, error =&gt; { return reject(error) }) } })}// testlet p1 = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(1) }, 1000)})let p2 = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(2) }, 2000)})let p3 = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(3) }, 3000)})promiseAll([p3, p1, p2]).then(res =&gt; { console.log(res)});","link":"/posts/js%E5%89%8D%E7%AB%AF%E5%B0%8F%E7%9F%A5%E8%AF%86/"},{"title":"Linuxå­¦ä¹ ","text":"windowè¿œç¨‹è¿æ¥å·¥å…·ï¼šsecure CRTé…ç½®ï¼šé€‰é¡¹-ä¼šè¯é€‰é¡¹-ä»¿çœŸ ç»ˆç«¯ï¼šx-term ansié¢œè‰² å¤–è§‚ï¼šé¢œè‰²æ–¹æ¡ˆï¼šé»„é»‘ å…‰æ ‡ ç«–çº¿ ç¼–ç ï¼šå›è¯é€‰é¡¹-å¤–è§‚-å­—ç¬¦ç¼–ç -UTF-8 git å®šæ—¶ä»»åŠ¡crontabé“¾æ¥ åœ¨centosæ‰§è¡Œgit pullæŠ¥é”™Peer reports incompatible or unsupported protocol version. è§£å†³åŠæ³•ï¼š yum update -y nss curl libcurl æ‰§è¡Œåï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œã€‚ ==++æ–‡ä»¶ä¸ç›®å½•ç®¡ç†++==æ–°å»ºæ–‡ä»¶å¤¹mkdir eg:mkdir test mkdir -p test/123/abc -p é€’å½’åˆ›å»ºç›®å½•ï¼Œå³ä½¿ä¸Šçº§ç›®å½•ä¸å­˜åœ¨ã€‚è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å¦‚æœä½ æƒ³è¦åˆ›å»ºçš„ç›®å½•å­˜åœ¨çš„è¯ï¼Œä¼šæç¤ºæŠ¥é”™ï¼Œç„¶åä½ åŠ ä¸Š-på‚æ•°åï¼Œå°±ä¸ä¼šæŠ¥é”™äº†ã€‚ å‘½ä»¤è¯¦æƒ… man rm, man ls å¤åˆ¶æ–‡ä»¶cp eg: cp a b cp copyçš„ç®€å†™ï¼Œå³æ‹·è´ã€‚æ ¼å¼ä¸º cp [é€‰é¡¹] [ æ¥æºæ–‡ä»¶ ] [ç›®çš„æ–‡ä»¶] ï¼Œä¾‹å¦‚æˆ‘æƒ³æŠŠtest1 æ‹·è´æˆtest2 ï¼Œè¿™æ ·å³å¯ cp test1 test2ï¼Œ -d è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªâ€œè¿æ¥â€çš„æ¦‚å¿µã€‚è¿æ¥åˆ†ä¸ºè½¯è¿æ¥å’Œç¡¬è¿æ¥ å¦‚æœä¸åŠ è¿™ä¸ª-d åˆ™æ‹·è´è½¯è¿æ¥æ—¶ä¼šæŠŠè½¯è¿æ¥çš„ç›®æ ‡æ–‡ä»¶æ‹·è´è¿‡å»ï¼Œè€ŒåŠ ä¸Šåï¼Œå…¶å®åªæ˜¯æ‹·è´äº†ä¸€ä¸ªè¿æ¥æ–‡ä»¶ï¼ˆå³å¿«æ·æ–¹å¼ï¼‰ã€‚ -r å¦‚æœä½ è¦æ‹·è´ä¸€ä¸ªç›®å½•ï¼Œå¿…é¡»è¦åŠ -ré€‰é¡¹ï¼Œå¦åˆ™ä½ æ˜¯æ‹·è´ä¸äº†ç›®å½•çš„ã€‚ omitting directory â€˜dâ€™ -i å¦‚æœé‡åˆ°ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶ï¼Œä¼šé—®æ˜¯å¦è¦†ç›–ã€‚ -u è¯¥é€‰é¡¹ä»…å½“ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶æ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœæºæ–‡ä»¶æ¯”ç›®æ ‡æ–‡ä»¶æ–°æ‰ä¼šæ‹·è´ï¼Œå¦åˆ™ä¸åšä»»ä½•åŠ¨ä½œ ç§»åŠ¨æ–‡ä»¶mv ç§»åŠ¨çš„æ„æ€ï¼Œæ˜¯moveçš„ç®€å†™ã€‚æ ¼å¼ä¸º mv [ é€‰é¡¹ ] [æºæ–‡ä»¶] [ç›®æ ‡æ–‡ä»¶]ã€‚ -i å’Œcpçš„-i ä¸€æ ·ï¼Œå½“ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶ä¼šé—®ç”¨æˆ·æ˜¯å¦è¦è¦†ç›–ã€‚ -u å’Œä¸Šè¾¹cp å‘½ä»¤çš„-ué€‰é¡¹ä¸€ä¸ªä½œç”¨ï¼Œå½“ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶æ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœæºæ–‡ä»¶æ¯”ç›®æ ‡æ–‡ä»¶æ–°æ‰ä¼šç§»åŠ¨ï¼Œå¦åˆ™ä¸åšä»»ä½•åŠ¨ä½œã€‚ - windowsä¸‹çš„é‡å‘½åï¼Œåœ¨linuxä¸‹ç”¨mvå°±å¯ä»¥æå®šã€‚ åˆ é™¤æ–‡ä»¶å¤¹ rm -rf eg:rm -rf testCLI rmdir åªèƒ½åˆ é™¤ç›®å½•ä½†ä¸èƒ½åˆ é™¤æ–‡ä»¶ï¼Œè¦æƒ³åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ™è¦ç”¨rmå‘½ä»¤äº†ã€‚ -f å¼ºåˆ¶çš„æ„æ€ï¼Œå¦‚æœä¸åŠ è¿™ä¸ªé€‰é¡¹ï¼Œå½“åˆ é™¤ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶æ—¶ä¼šæŠ¥é”™ã€‚ -i è¿™ä¸ªé€‰é¡¹çš„ä½œç”¨æ˜¯ï¼Œå½“ç”¨æˆ·åˆ é™¤ä¸€ä¸ªæ–‡ä»¶æ—¶ä¼šæç¤ºç”¨æˆ·æ˜¯å¦çœŸçš„åˆ é™¤ã€‚ -r å½“åˆ é™¤ç›®å½•æ—¶ï¼ŒåŠ è¯¥é€‰é¡¹ï¼Œå¦‚æœä¸åŠ è¿™ä¸ªé€‰é¡¹ä¼šæŠ¥é”™ã€‚rmæ˜¯å¯ä»¥åˆ é™¤ä¸ä¸ºç©ºçš„ç›®å½•çš„ã€‚ æ–°å»ºæ–‡ä»¶touch a a.txt å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–‡ä»¶aä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶vi a vi a /vim a å¯ä»¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹ è¾“å…¥iï¼Œè¿›å…¥ç¼–è¾‘æ¨¡å¼ æŒ‰escï¼Œé€€å‡ºç¼–è¾‘æ¨¡å¼ è¾“å…¥:wqé€€å‡ºæŸ¥çœ‹æ–‡ä»¶ è¿›å…¥linuxçš„ä¸»ç›®å½•cd /home pwd è¿™ä¸ªå‘½ä»¤æ‰“å°å‡ºå½“å‰æ‰€åœ¨ç›®å½•./ æŒ‡çš„æ˜¯å½“å‰ç›®å½• ../ æŒ‡çš„æ˜¯å½“å‰ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•ã€‚cd wwwroot/ls ç»å¯¹è·¯å¾„ï¼šè·¯å¾„çš„å†™æ³•ä¸€å®šç”±æ ¹ç›®å½•â€/â€å†™èµ·ï¼Œä¾‹å¦‚/usr/local/mysql è¿™å°±æ˜¯ç»å¯¹è·¯å¾„ã€‚ ç›¸å¯¹è·¯å¾„ï¼šè·¯å¾„çš„å†™æ³•ä¸æ˜¯ç”±æ ¹ç›®å½•â€/â€å†™èµ·ï¼Œä¾‹å¦‚ï¼Œé¦–å…ˆç”¨æˆ·è¿›å…¥åˆ°/ ç„¶åå†è¿›å…¥åˆ° home ï¼Œå‘½ä»¤ä¸º cd /home ç„¶å cd test æ­¤æ—¶ç”¨æˆ·æ‰€åœ¨çš„è·¯å¾„ä¸º /home/test ã€‚ç¬¬ä¸€ä¸ªcdå‘½ä»¤åè·Ÿ /home ç¬¬äºŒä¸ª cd å‘½ä»¤åè·Ÿ test ï¼Œå¹¶æ²¡æœ‰æ–œæ ï¼Œè¿™ä¸ªtestæ˜¯ç›¸å¯¹äº/home ç›®å½•æ¥è®²çš„ï¼Œæ‰€ä»¥å«åšç›¸å¯¹è·¯å¾„ã€‚ è¾“å‡ºecho å˜é‡echo â€˜abcâ€™&gt;111 å°†å­—ç¬¦è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­å¤§äºå·â€&gt;â€ åœ¨linuxä¸­è¿™å«åšé‡å®šå‘ï¼Œå³æŠŠå‰é¢äº§ç”Ÿçš„è¾“å‡ºå†™å…¥åˆ°åé¢çš„æ–‡ä»¶ä¸­ã€‚â€&gt;&gt;â€æ˜¯è¿½åŠ çš„æ„æ€ï¼Œè€Œç”¨â€&gt;â€ï¼Œå¦‚æœæ–‡ä»¶ä¸­æœ‰å†…å®¹åˆ™ä¼šåˆ é™¤æ–‡ä»¶ä¸­å†…å®¹ï¼Œè€Œâ€&gt;&gt;â€åˆ™ä¸ä¼šã€‚ æŸ¥çœ‹æ–‡ä»¶ cat æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ä¸ªå‘½ä»¤ï¼Œå³æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹å¹¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Š -n æŸ¥çœ‹æ–‡ä»¶æ—¶ï¼ŒæŠŠè¡Œå·ä¹Ÿæ˜¾ç¤ºåˆ°å±å¹•ä¸Šã€‚ -A æ˜¾ç¤ºæ‰€æœ‰ä¸œè¥¿å‡ºæ¥ï¼ŒåŒ…æ‹¬ç‰¹æ®Šå­—ç¬¦ tac å…¶å®æ˜¯catçš„åå†™ï¼ŒåŒæ ·çš„åŠŸèƒ½ä¹Ÿæ˜¯åå‘æ‰“å°æ–‡ä»¶çš„å†…å®¹åˆ°å±å¹•ä¸Šã€‚ moreä¹Ÿæ˜¯ç”¨æ¥æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚å½“æ–‡ä»¶å†…å®¹å¤ªå¤šï¼Œä¸€å±å¹•ä¸èƒ½å ä¸‹ï¼Œè€Œä½ ç”¨catè‚¯å®šæ˜¯çœ‹ä¸å‰é¢çš„å†…å®¹çš„ï¼Œé‚£ä¹ˆä½¿ç”¨moreå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜äº†ã€‚å½“çœ‹å®Œä¸€å±åæŒ‰ç©ºæ ¼é”®ç»§ç»­çœ‹ä¸‹ä¸€å±ã€‚ä½†çœ‹å®Œæ‰€æœ‰å†…å®¹åå°±ä¼šé€€å‡ºã€‚å¦‚æœä½ æƒ³æå‰é€€å‡ºï¼Œåªéœ€æŒ‰qé”®å³å¯ã€‚ lessä½œç”¨è·Ÿmoreä¸€æ ·ï¼Œä½†æ¯”moreå¥½åœ¨å¯ä»¥ä¸Šç¿»ï¼Œä¸‹ç¿»ã€‚ç©ºæ ¼é”®åŒæ ·å¯ä»¥ç¿»é¡µï¼Œè€ŒæŒ‰â€jâ€é”®å¯ä»¥å‘ä¸‹ç§»åŠ¨ï¼ˆæŒ‰ä¸€ä¸‹å°±å‘ä¸‹ç§»åŠ¨ä¸€è¡Œï¼‰ï¼ŒæŒ‰â€kâ€é”®å‘ä¸Šç§»åŠ¨ã€‚åœ¨ä½¿ç”¨moreå’ŒlessæŸ¥çœ‹æŸä¸ªæ–‡ä»¶æ—¶ï¼Œä½ å¯ä»¥æŒ‰ä¸€ä¸‹â€/â€ é”®ï¼Œç„¶åè¾“å…¥ä¸€ä¸ªwordå›è½¦ï¼Œè¿™æ ·å°±å¯ä»¥æŸ¥æ‰¾è¿™ä¸ªwordäº†ã€‚å¦‚æœæ˜¯å¤šä¸ªè¯¥wordå¯ä»¥æŒ‰â€nâ€é”®æ˜¾ç¤ºä¸‹ä¸€ä¸ªã€‚å¦å¤–ä½ ä¹Ÿå¯ä»¥ä¸æŒ‰â€/â€è€Œæ˜¯æŒ‰â€?â€åè¾¹åŒæ ·è·Ÿwordæ¥æœç´¢è¿™ä¸ªwordï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œâ€/â€æ˜¯åœ¨å½“å‰è¡Œå‘ä¸‹æœç´¢ï¼Œè€Œâ€?â€æ˜¯åœ¨å½“å‰è¡Œå‘ä¸Šæœç´¢ã€‚ æŒ‰nå‘ä¸Šï¼ŒæŒ‰Nå‘ä¸‹æ˜¾ç¤ºâ€“è€ç½— vim head headåç›´æ¥è·Ÿæ–‡ä»¶åï¼Œåˆ™æ˜¾ç¤ºæ–‡ä»¶çš„å‰åè¡Œã€‚å¦‚æœåŠ  â€“n é€‰é¡¹åˆ™æ˜¾ç¤ºæ–‡ä»¶å‰nè¡Œã€‚ tail å’Œheadä¸€æ ·ï¼Œåé¢ç›´æ¥è·Ÿæ–‡ä»¶åï¼Œåˆ™æ˜¾ç¤ºæ–‡ä»¶æœ€ååè¡Œã€‚å¦‚æœåŠ -n é€‰é¡¹åˆ™æ˜¾ç¤ºæ–‡ä»¶æœ€ånè¡Œã€‚ -f åŠ¨æ€æ˜¾ç¤ºæ–‡ä»¶çš„æœ€ååè¡Œï¼Œå¦‚æœæ–‡ä»¶æ˜¯ä¸æ–­å¢åŠ çš„ï¼Œåˆ™ç”¨-f é€‰é¡¹ã€‚å¦‚ï¼štail -f /var/log/messages - å®æ—¶æŸ¥çœ‹æ–‡ä»¶å†…å®¹ tail -f catalina.out ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ æ–‡ä»¶çš„æ‰€å±ä¸»ä»¥åŠæ‰€å±ç»„æ‰€å±ç»„â€å°±æ´¾ä¸Šç”¨åœºäº†ã€‚å³ï¼Œåˆ›å»ºä¸€ä¸ªç¾¤ç»„usersï¼Œè®©user0å’Œuser1åŒå±äºusersç»„ï¼Œç„¶åå»ºç«‹ä¸€ä¸ªæ–‡ä»¶test2ï¼Œä¸”å…¶æ‰€å±ç»„ä¸ºusersï¼Œé‚£ä¹ˆuser0å’Œuser1éƒ½å¯ä»¥è®¿é—®test2æ–‡ä»¶ã€‚ æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨listlsls -l-a å…¨éƒ¨çš„æ¡£æ¡ˆéƒ½åˆ—å‡ºï¼ŒåŒ…æ‹¬éšè—çš„ã€‚ -l è¯¦ç»†åˆ—å‡ºæ–‡ä»¶çš„å±æ€§ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¤§å°ã€åˆ›å»ºæ—¥æœŸã€æ‰€å±ä¸»æ‰€å±ç»„ç­‰ç­‰ã€‚ll è¿™ä¸ªå‘½ä»¤ç­‰åŒäºls â€“l ã€‚ -d åè¾¹è·Ÿç›®å½•ï¼Œå¦‚æœä¸åŠ è¿™ä¸ªé€‰é¡¹åˆ™åˆ—å‡ºç›®å½•ä¸‹çš„æ–‡ä»¶ï¼ŒåŠ ä¸Šååªåˆ—è½¦ç›®å½•æœ¬èº«ã€‚ linux æ–‡ä»¶å±æ€§ç”¨ls â€“l æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶æ—¶ï¼Œå…±æ˜¾ç¤ºäº†9åˆ—å†…å®¹ï¼ˆç”¨ç©ºæ ¼åˆ’åˆ†åˆ—ï¼‰ï¼Œéƒ½ä»£è¡¨äº†ä»€ä¹ˆå«ä¹‰å‘¢ï¼Ÿ ç¬¬1åˆ—ï¼ŒåŒ…å«çš„ä¸œè¥¿æœ‰è¯¥æ–‡ä»¶ç±»å‹å’Œæ‰€å±ä¸»ã€æ‰€å±ç»„ä»¥åŠå…¶ä»–ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶çš„æƒé™ã€‚ç¬¬ä¸€åˆ—å…±10ä½ã€‚å…¶ä¸­ç¬¬ä¸€ä½ç”¨æ¥æè¿°è¯¥æ–‡ä»¶çš„ç±»å‹ã€‚ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„ç±»å‹æœ‰â€dâ€, â€œ-â€œ ï¼Œå…¶å®é™¤äº†è¿™ä¸¤ç§å¤–è¿˜æœ‰â€lâ€, â€œbâ€, â€œcâ€,â€sâ€ç­‰ã€‚ d è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºç›®å½•ï¼› è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶ï¼› l è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºè¿æ¥æ–‡ä»¶ï¼ˆlinux fileï¼‰ï¼Œä¸Šè¾¹æåˆ°çš„è½¯è¿æ¥å³ä¸ºè¯¥ç±»å‹ï¼› b è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºå—è®¾å¤‡æ–‡ä»¶ï¼Œæ¯”å¦‚ç£ç›˜åˆ†åŒº c è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºä¸²è¡Œç«¯å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡ã€‚ s è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºå¥—æ¥å­—æ–‡ä»¶ï¼ˆsocketï¼‰ï¼Œç”¨äºè¿›ç¨‹é—´é€šä¿¡ã€‚ åè¾¹çš„9ä½ï¼Œæ¯ä¸‰ä¸ªä¸ºä¸€ç»„ã€‚å‡ä¸ºrwx ä¸‰ä¸ªå‚æ•°çš„ç»„åˆã€‚å…¶ä¸­r ä»£è¡¨å¯è¯»ï¼Œwä»£è¡¨å¯å†™ï¼Œxä»£è¡¨å¯æ‰§è¡Œã€‚å‰ä¸‰ä½ä¸ºæ‰€å±ä¸»ï¼ˆuserï¼‰çš„æƒé™ï¼Œä¸­é—´ä¸‰ä½ä¸ºæ‰€å±ç»„ï¼ˆgroupï¼‰çš„æƒé™ï¼Œæœ€åä¸‰ä½ä¸ºå…¶ä»–éæœ¬ç¾¤ç»„ï¼ˆothersï¼‰çš„æƒé™ã€‚ä¸‹é¢æ‹¿ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥è¿°è¯´ä¸€ä¸‹ã€‚ ä¸€ä¸ªæ–‡ä»¶çš„å±æ€§ä¸º-rwxr-xrâ€“ ï¼Œå®ƒä»£è¡¨çš„æ„æ€æ˜¯ï¼Œè¯¥æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶ï¼Œæ–‡ä»¶æ‹¥æœ‰è€…å¯è¯»å¯å†™å¯æ‰§è¡Œï¼Œæ–‡ä»¶æ‰€å±ç»„å¯¹å…¶å¯è¯»ä¸å¯å†™å¯æ‰§è¡Œï¼Œå…¶ä»–ç”¨æˆ·å¯¹å…¶åªå¯è¯»ã€‚ å¯¹äºä¸€ä¸ªç›®å½•æ¥è®²ï¼Œæ‰“å¼€è¿™ä¸ªç›®å½•å³ä¸ºæ‰§è¡Œè¿™ä¸ªç›®å½•ï¼Œæ‰€ä»¥ä»»ä½•ä¸€ä¸ªç›®å½•å¿…é¡»è¦æœ‰xæƒé™æ‰èƒ½æ‰“å¼€å¹¶æŸ¥çœ‹è¯¥ç›®å½•ã€‚ä¾‹å¦‚ä¸€ä¸ªç›®å½•çš„å±æ€§ä¸º drwxrâ€“râ€“ å…¶æ‰€å±ä¸»ä¸ºrootï¼Œé‚£ä¹ˆé™¤äº†rootå¤–çš„å…¶ä»–ç”¨æˆ·æ˜¯ä¸èƒ½æ‰“å¼€è¿™ä¸ªç›®å½•çš„ã€‚ ç¬¬2åˆ—ï¼Œè¡¨ç¤ºä¸ºè¿æ¥å ç”¨çš„èŠ‚ç‚¹ï¼ˆinodeï¼‰ï¼Œè‹¥ä¸ºç›®å½•æ—¶ï¼Œé€šå¸¸ä¸è¯¥ç›®å½•åœ°ä¸‹è¿˜æœ‰å¤šå°‘ç›®å½•æœ‰å…³ç³»ï¼Œå…³äºè¿æ¥ï¼ˆlinkï¼‰åœ¨ä»¥åç« èŠ‚è¯¦ç»†ä»‹ç»ã€‚ ç¬¬3åˆ—ï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‰€å±ä¸»ã€‚ ç¬¬4åˆ—ï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‰€å±ç»„ã€‚ ç¬¬5åˆ—ï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶çš„å¤§å°ã€‚ ç¬¬6åˆ—ã€ç¬¬7åˆ—å’Œç¬¬8åˆ—ä¸ºè¯¥æ–‡ä»¶çš„åˆ›å»ºæ—¥æœŸæˆ–è€…æœ€è¿‘çš„ä¿®æ”¹æ—¥æœŸï¼Œåˆ†åˆ«ä¸ºæœˆä»½æ—¥æœŸä»¥åŠæ—¶é—´ã€‚ ç¬¬9åˆ—ï¼Œæ–‡ä»¶åã€‚å¦‚æœå‰é¢æœ‰ä¸€ä¸ª. åˆ™è¡¨ç¤ºè¯¥æ–‡ä»¶ä¸ºéšè—æ–‡ä»¶ã€‚ æ›´æ”¹æ–‡ä»¶çš„æƒé™==ï¼Ÿï¼Ÿï¼Ÿå¤ªå¤šäº†ï¼Ÿï¼Ÿï¼Ÿä»¥åå†å­¦== åœ¨ linux ä¸‹æœç´¢ä¸€ä¸ªæ–‡ä»¶ which ç”¨æ¥æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ whichåªèƒ½ç”¨æ¥æŸ¥æ‰¾PATHç¯å¢ƒå˜é‡ä¸­å‡ºç°çš„è·¯å¾„ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ä¸çŸ¥é“æŸä¸ªå‘½ä»¤çš„ç»å¯¹è·¯å¾„ï¼Œwhichä¸€ä¸‹å°±çŸ¥é“äº†ã€‚ whereis é€šè¿‡é¢„å…ˆç”Ÿæˆçš„ä¸€ä¸ªæ–‡ä»¶åˆ—è¡¨åº“å»æŸ¥æ‰¾è·Ÿç»™å‡ºçš„æ–‡ä»¶åç›¸å…³çš„æ–‡ä»¶ã€‚ è¯­æ³•ï¼š whereis [-bmsu] [æ–‡ä»¶åç§°] -bï¼šåªæ‰¾binary æ–‡ä»¶ -mï¼šåªæ‰¾åœ¨è¯´æ˜æ–‡ä»¶manualè·¯å¾„ä¸‹çš„æ–‡ä»¶ -sï¼šåªæ‰¾sourceæ¥æºæ–‡ä»¶ -uï¼šæ²¡æœ‰è¯´æ˜æ¡£çš„æ–‡ä»¶ locate ç±»ä¼¼äºwhereisï¼Œä¹Ÿæ˜¯é€šè¿‡æŸ¥æ‰¾é¢„å…ˆç”Ÿæˆçš„æ–‡ä»¶åˆ—è¡¨åº“æ¥å‘Šè¯‰ç”¨æˆ·è¦æŸ¥æ‰¾çš„æ–‡ä»¶åœ¨å“ªé‡Œã€‚åè¾¹ç›´æ¥è·Ÿæ–‡ä»¶åã€‚ find ç”¨çš„æœ€å¤šï¼ŒåŠ¡å¿…è¦ç†Ÿæ‚‰ã€‚ è¯­æ³•ï¼š find [è·¯å¾„] [å‚æ•°] ä¸‹é¢ä»‹ç»å‡ ä¸ªç¬”è€…ç»å¸¸ç”¨çš„å‚æ•° -atime +n ï¼šè®¿é—®æˆ–æ‰§è¡Œæ—¶é—´å¤§äºnå¤©çš„æ–‡ä»¶ -ctime +n ï¼šå†™å…¥ã€æ›´æ”¹inodeå±æ€§ï¼ˆä¾‹å¦‚æ›´æ”¹æ‰€æœ‰è€…ã€æƒé™æˆ–è€…è¿æ¥ï¼‰æ—¶é—´å¤§äºnå¤©çš„æ–‡ä»¶ -mtime +n ï¼šå†™å…¥æ—¶é—´å¤§äºnå¤©çš„æ–‡ä»¶ -name filename ç›´æ¥æŸ¥æ‰¾è¯¥æ–‡ä»¶åçš„æ–‡ä»¶ï¼Œè¿™ä¸ªä½¿ç”¨æœ€å¤šäº†ã€‚ -type type ï¼šé€šè¿‡æ–‡ä»¶ç±»å‹æŸ¥æ‰¾ã€‚type åŒ…å«äº† f, b, c, d, l, s ç­‰ç­‰ã€‚åç»­çš„å†…å®¹è¿˜ä¼šä»‹ç»æ–‡ä»¶ç±»å‹çš„ã€‚ ä½ å¯¹è¿™ä¸‰ä¸ªtimeæ˜¯ä¸æ˜¯æœ‰äº›æ™•äº†ï¼Œé‚£ç¬”è€…å°±å…ˆç»™ä½ ä»‹ç»ä¸€ä¸‹è¿™ä¸‰ä¸ªtimeå±æ€§ã€‚ æ–‡ä»¶çš„ Access timeï¼Œatime æ˜¯åœ¨è¯»å–æ–‡ä»¶æˆ–è€…æ‰§è¡Œæ–‡ä»¶æ—¶æ›´æ”¹çš„ã€‚æ–‡ä»¶çš„ Modified timeï¼Œmtime æ˜¯åœ¨å†™å…¥æ–‡ä»¶æ—¶éšæ–‡ä»¶å†…å®¹çš„æ›´æ”¹è€Œæ›´æ”¹çš„ã€‚æ–‡ä»¶çš„ Create timeï¼Œctime æ˜¯åœ¨å†™å…¥æ–‡ä»¶ã€æ›´æ”¹æ‰€æœ‰è€…ã€æƒé™æˆ–é“¾æ¥è®¾ç½®æ—¶éš Inode çš„å†…å®¹æ›´æ”¹è€Œæ›´æ”¹çš„ã€‚å› æ­¤ï¼Œæ›´æ”¹æ–‡ä»¶çš„å†…å®¹å³ä¼šæ›´æ”¹ mtime å’Œ ctimeï¼Œä½†æ˜¯æ–‡ä»¶çš„ ctime å¯èƒ½ä¼šåœ¨ mtime æœªå‘ç”Ÿä»»ä½•å˜åŒ–æ—¶æ›´æ”¹ï¼Œä¾‹å¦‚ï¼Œæ›´æ”¹äº†æ–‡ä»¶çš„æƒé™ï¼Œä½†æ˜¯æ–‡ä»¶å†…å®¹æ²¡æœ‰å˜åŒ–ã€‚ å¦‚ä½•è·å¾—ä¸€ä¸ªæ–‡ä»¶çš„atime mtime ä»¥åŠctime ï¼Ÿ ls -l å‘½ä»¤å¯ç”¨æ¥åˆ—å‡ºæ–‡ä»¶çš„ atimeã€ctime å’Œ mtimeã€‚ ls -lc filename åˆ—å‡ºæ–‡ä»¶çš„ ctime ls -lu filename åˆ—å‡ºæ–‡ä»¶çš„ atime ls -l filename åˆ—å‡ºæ–‡ä»¶çš„ mtime atimeä¸ä¸€å®šåœ¨è®¿é—®æ–‡ä»¶ä¹‹åè¢«ä¿®æ”¹ï¼Œå› ä¸ºï¼šä½¿ç”¨ext3æ–‡ä»¶ç³»ç»Ÿçš„æ—¶å€™ï¼Œå¦‚æœåœ¨mountçš„æ—¶å€™ä½¿ç”¨äº†noatimeå‚æ•°é‚£ä¹ˆå°±ä¸ä¼šæ›´æ–°atimeçš„ä¿¡æ¯ã€‚è€Œè¿™æ˜¯åŠ äº† noatime å–æ¶ˆäº†, ä¸ä»£è¡¨çœŸå®æƒ…æ³ã€‚åæ­£, é€™ä¸‰å€‹ time stamp éƒ½æ”¾åœ¨ inode ä¸­ã€‚è‹¥ mtime, atime ä¿®æ”¹inode å°±ä¸€å®šæœƒæ”¹, æ—¢ç„¶ inode æ”¹äº†, é‚£ ctime ä¹Ÿå°±è·Ÿè‘—è¦æ”¹äº†ã€‚ linux æ–‡ä»¶ç±»å‹1ï¼‰æ­£è§„æ–‡ä»¶ï¼ˆregular fileï¼‰ï¼šå°±æ˜¯ä¸€èˆ¬ç±»å‹çš„æ–‡ä»¶ï¼Œå½“ç”¨ls â€“l æŸ¥çœ‹æŸä¸ªç›®å½•æ—¶ï¼Œç¬¬ä¸€ä¸ªå±æ€§ä¸ºâ€-â€œçš„æ–‡ä»¶å°±æ˜¯æ­£è§„æ–‡ä»¶ï¼Œæˆ–è€…å«æ™®é€šæ–‡ä»¶ã€‚æ­£è§„æ–‡ä»¶åˆå¯åˆ†æˆçº¯æ–‡å­—æ–‡ä»¶ï¼ˆasciiï¼‰å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆbinaryï¼‰ã€‚çº¯æ–‡æœ¬æ–‡ä»¶æ˜¯å¯ä»¥é€šè¿‡cat, more, lessç­‰å·¥å…·ç›´æ¥æŸ¥çœ‹å†…å®¹çš„ï¼Œè€ŒäºŒè¿›åˆ¶æ–‡ä»¶å¹¶ä¸èƒ½ã€‚ä¾‹å¦‚æˆ‘ä»¬ç”¨çš„å‘½ä»¤/bin/ls è¿™å°±æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ 2ï¼‰ç›®å½•ï¼ˆdirectoryï¼‰å³æ–‡ä»¶å¤¹,ls â€“l æŸ¥çœ‹ç¬¬ä¸€ä¸ªå±æ€§ä¸ºâ€dâ€ã€‚ 3ï¼‰è¿æ¥æ¡£ï¼ˆlinkï¼‰ï¼šls â€“l æŸ¥çœ‹ç¬¬ä¸€ä¸ªå±æ€§ä¸º â€œlâ€ï¼Œç±»ä¼¼windowsä¸‹çš„å¿«æ·æ–¹å¼ã€‚ 4ï¼‰è®¾å¤‡æ¡£ï¼ˆdeviceï¼‰ï¼šä¸ç³»ç»Ÿå‘¨è¾¹ç›¸å…³çš„ä¸€äº›æ¡£æ¡ˆï¼Œé€šå¸¸éƒ½é›†ä¸­åœ¨ /dev è¿™ä¸ªç›®å½•ä¹‹ä¸‹ï¼é€šå¸¸åˆåˆ†ä¸ºä¸¤ç§ï¼š åŒºå— (block) è®¾å¤‡æ¡£ï¼šè¯´å°±æ˜¯ç¡¬ç›˜å•¦ï¼ä¾‹å¦‚ä½ çš„ä¸€å·ç¡¬ç›˜çš„ä»£ç æ˜¯ /dev/hda1 ç­‰ç­‰çš„æ¡£æ¡ˆå•¦ï¼ç¬¬ä¸€ä¸ªå±æ€§ä¸º â€œ b â€œï¼› å­—ç¬¦ (character) è®¾å¤‡æ¡£ï¼šäº¦å³æ˜¯ä¸€äº›ä¸²è¡Œç«¯å£çš„æ¥å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡ç­‰ç­‰ï¼ç¬¬ä¸€ä¸ªå±æ€§ä¸º â€œ c â€œã€‚ linux æ–‡ä»¶åç¼€å1.shä»£è¡¨å®ƒæ˜¯ä¸€ä¸ªshell script2.tar.gz ä»£è¡¨å®ƒæ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œ3.my.cnf ä»£è¡¨å®ƒæ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œ4.test.zip ä»£è¡¨å®ƒæ˜¯ä¸€ä¸ªå‹ç¼©æ–‡ä»¶ã€‚æ—©æœŸUnixç³»ç»Ÿæ–‡ä»¶åæœ€å¤šå…è®¸14ä¸ªå­—ç¬¦ï¼Œè€Œæ–°çš„Unixæˆ–è€…linuxç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶åæœ€é•¿å¯ä»¥åˆ°è¾¾ 256 ä¸ªå­—ç¬¦ï¼ å‹ç¼© è§£å‹ç¼©tar è§£åŒ…ï¼štar zxvf filename.tar æ‰“åŒ…ï¼štar czvf filename.tar dirname zipå‘½ä»¤ è§£å‹ï¼šunzip filename.zip å‹ç¼©ï¼šzip filename.zip dirname ln å»ºç«‹è¿æ¥æ¡£ln è¯­æ³•ï¼š ln [-s] [æ¥æºæ–‡ä»¶] [ç›®çš„æ–‡ä»¶]ln å¸¸ç”¨çš„é€‰é¡¹å°±ä¸€ä¸ª-s ï¼Œå¦‚æœä¸åŠ å°±æ˜¯å»ºç«‹ç¡¬è¿æ¥ï¼ŒåŠ ä¸Šå°±å»ºç«‹è½¯è¿æ¥ã€‚ Hard Link çš„é™åˆ¶å¤ªå¤šäº†ï¼ŒåŒ…æ‹¬æ— æ³•åšç›®å½•çš„ link ï¼Œæ‰€ä»¥åœ¨ç”¨é€”ä¸Šé¢æ˜¯æ¯”è¾ƒå—é™çš„ï¼åè€Œæ˜¯ Symbolic Link çš„ä½¿ç”¨æ–¹å‘è¾ƒå¹¿ï¼åœ¨å»ºç«‹ç¡¬è¿æ¥å‰åï¼Œç©ºé—´å¤§å°ä¸æ”¹å˜ã€‚ä¸èƒ½åˆ›å»ºç›®å½•çš„ç¡¬è¿æ¥ã€‚ç›®å½•æ˜¯å¯ä»¥è½¯è¿æ¥çš„ã€‚åˆ é™¤è½¯è¿æ¥å¯¹æºæ–‡ä»¶æ²¡æœ‰ä»»ä½•å½±å“ã€‚ ç¯å¢ƒå˜é‡ PATHæœ‰ä¸¤ä¸ªæ–¹æ³•ã€‚ ä¸€ç§æ–¹æ³•æ˜¯ç›´æ¥å°† /root çš„è·¯å¾„åŠ å…¥ PATH å½“ä¸­ï¼å¦‚ä½•å¢åŠ ï¼Ÿå¯ä»¥ä½¿ç”¨ï¼š PATH=â€$PATHâ€:/root å¦ä¸€ç§æ–¹å¼åˆ™æ˜¯ä½¿ç”¨å®Œæ•´æ¡£åï¼Œäº¦å³ç›´æ¥ä½¿ç”¨ç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„æ¥æ‰§è¡Œï¼Œä¾‹å¦‚ï¼š /root/ls ./ls ==== vimæŸ¥çœ‹ç‰ˆæœ¬vim è®¾ç½®vimç¼–ç vim ~/.vimrc vimvim ç¼–è¾‘ æŒ‰i ,è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œ ç¼–è¾‘å®Œæˆåï¼ŒæŒ‰escé€€å‡ºç¼–è¾‘æ¨¡å¼ é€€å‡ºä¿å­˜ :wq é€€å‡ºä¸ä¿å­˜ :qä¼šæç¤º: No write since last change (add ! to override)å†è¾“å…¥ä¸€æ¬¡ :q!å³å¯ å°†ä»¥ä¸‹å¤åˆ¶åˆ°å…¶ä¸­ syntax onset nu!set encoding=utf-8set fenc=utf-8set fileencodings=ucs-bom,utf-8,cp936,gb2312,gb18030 æŸ¥çœ‹ç³»ç»Ÿçš„ç¼–ç echo $LANG ä¹±ç è§£å†³æ–¹æ¡ˆ ç³»ç»Ÿç¼–ç  vimçš„ç¼–ç  è¿æ¥æœåŠ¡å™¨çš„ç»ˆç«¯ã€‚ SecureCRTè®¾ç½®å­—æ¡ç¼–ç Optionâ€“Session Optionâ€“Appearanceè®¾ç½®å­—ç¬¦ç¼–ç  å‘½ä»¤è¡Œè¿œç¨‹ç™»å½•æœåŠ¡å™¨ssh root@192.168.1.25 ç”¨æˆ·å@ip æœåŠ¡å™¨ä¸Šå®‰è£…å…¬é’¥é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå®‰è£…å…¬é’¥ï¼š [root@host ~]$ cd .ssh [root@host .ssh]$ cat id_rsa.pub &gt;&gt; authorized_keys å°†æœ¬åœ°çš„keyå¤åˆ¶åˆ°authorized_keysæ–‡ä»¶ä¸­ ä»gitbashä¸­è·ssh key clip &lt; ~/.ssh/id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDOmNk1rDPVPv+DTpe/ynM9dLDj/FjG/3xkAvjz8EoxSM/QBXNLj69m0SXA4jI6LOIwuS3Pdn011qWGa14zHPDI0wY9cGzlC+AvcuAZ0s+ndppAVk5PktYM0zCfBhlpLyHCgCVNxDxv1shd1A+gG3Lbi+tJ75oOnvJ5uSWC6x6wJgwJy/zUdQHTA3od4Mfkbz/6hr1sWqnCJE3r4H9Na6XtYMbjyl+O+JnePxH4PDwT/0MVxPpojyEqAv/FE9Gb7WjqmLsT5TWEoRhb4V0pm75moh6QObgqQ+RfJLS6Cz+NIvep980qVrYaRQGQG+7bEwy3fNDZlSGXRUALgELceVP/ HP@HP-PC æŸ¥çœ‹ç‰ˆæœ¬å· uname -r æŸ¥çœ‹ç³»ç»Ÿuname æŸ¥çœ‹å½“å‰æ­£åœ¨è¿›è¡Œçš„è¿›ç¨‹ jobs å¯ä¸€ä¸ªæœåŠ¡ï¼Œåœ¨åå°æ‰§è¡Œï¼Œå¹¶å°†æ—¥å¿—è¾“å‡ºåˆ°log node . &gt;log 2&gt;&amp;1 &amp; tail -f log æŸ¥æ‰¾æŸä¸ªè¿›ç¨‹(eg:node) ps -ef|grep node åœ¨å†å²å‘½ä»¤ä¸­æŸ¥æ‰¾æŸä¸ªå‘½ä»¤ history|grep cd å†™äº†è„šæœ¬ä»¥åæ‰§è¡Œä¸€ä¸ªè„šæœ¬./control.sh linux æŸ¥æ‰¾æ–‡ä»¶find / -name nginx.conf find / -name php.ini find / -name my.cnf find / -name httpd.conf php ç›¸å…³ æŸ¥çœ‹phpè¿è¡Œç›®å½•å‘½ä»¤ï¼šwhich php which ç”¨æ¥æŸ¥æ‰¾ä¸€ä¸ªå‘½ä»¤çš„ç»å¯¹è·¯å¾„ /usr/bin/phpæŸ¥çœ‹php-fpmè¿›ç¨‹æ•°ï¼š ps aux | grep -c php-fpm æŸ¥çœ‹è¿è¡Œå†…å­˜/usr/bin/php -i|grep mem å…³é—­PHP killall php-fpm phpé‡å¯ /usr/local/php/sbin/php-fpm &amp; php é…ç½® ç«¯å£ httpd.conf listen 80 2. æŸ¥çœ‹linux IPå…¬ç½‘IPcurl members.3322.org/dyndns/getip 47.94.93.83 å†…ç½‘IPifconfig inet addr:192.168.42.128 NGINXå¯åŠ¨ï¼š/usr/local/nginx/sbin/nginx service nginx startå…³é—­ï¼š/usr/local/nginx/sbin/nginx -s stop service nginx stop é‡å¯ï¼š/usr/local/nginx/sbin/nginx -s reload æŸ¥çœ‹nginxçŠ¶æ€ service nginx status æŸ¥çœ‹å½“å‰nginxç›®å½•ps -ef | grep nginxå¯ä»¥åœ¨confç›®å½•ä¸‹çš„nginx.confä¸­æ‰¾åˆ°å¯¹åº”çš„é…ç½®ã€‚ æŸ¥çœ‹ä¸€ä¸ªæœåŠ¡æ˜¯å¦å·²ç»å¯åŠ¨ï¼š ps -A | grep nginx å¦‚æœè¿”å›ç»“æœçš„è¯ï¼Œè¯´æ˜æœ‰nginxåœ¨è¿è¡Œï¼ŒæœåŠ¡å·²ç»å¯åŠ¨ nginx -V æŸ¥çœ‹nginxå®‰è£…ç›®å½• cd /usr/local/etc/nginx é‡Œæœ‰nginx.conf sudo nginx -s reloadSudo nginx -s stop openresty/nginx/coupon ./sbin/nginx -s reload Nginx å‘½ä»¤service nginx stop/start/status/reload 2ã€æŸ¥çœ‹nginx.confé…ç½®æ–‡ä»¶ç›®å½• è¾“å…¥å‘½ä»¤ nginx -tè¿”å›ç»“æœåŒ…å«é…ç½®æ–‡ä»¶ç›®å½•nginx: the configuration file /etc/nginx/nginx.conf syntax is ok nginx: configuration file /etc/nginx/nginx.conf test is successful æ£€æŸ¥ä¸‹80ç«¯å£æ˜¯å¦è¢«å…¶ä»–è¿›ç¨‹å ç”¨äº†ã€‚lsof -i:80 Nginx é…ç½®å®ç°CORS123456789101112131415161718192021222324252627location ^~ /api/v1 { add_header 'Access-Control-Allow-Origin' &quot;$http_origin&quot;; add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS'; add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type '; add_header 'Access-Control-Allow-Credentials' 'true'; if ($request_method = 'OPTIONS') { add_header 'Access-Control-Allow-Origin' &quot;$http_origin&quot;; add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS'; add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type '; add_header 'Access-Control-Allow-Credentials' 'true'; add_header 'Access-Control-Max-Age' 1728000; # 20 å¤© add_header 'Content-Type' 'text/html charset=UTF-8'; add_header 'Content-Length' 0; return 200; } # è¿™ä¸‹é¢æ˜¯è¦è¢«ä»£ç†çš„åç«¯æœåŠ¡å™¨ï¼Œå®ƒä»¬å°±ä¸éœ€è¦ä¿®æ”¹ä»£ç æ¥æ”¯æŒè·¨åŸŸäº† proxy_pass http://127.0.0.1:8085; proxy_set_header Host $host; proxy_redirect off; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_connect_timeout 60; proxy_read_timeout 60; proxy_send_timeout 60;} telnet 80 dç«¯å£pingä¸é€š12curl &lt;http://127.0.0.1&gt;curl http:oriht.com æŸ¥çœ‹å®ä¾‹å®‰å…¨ç»„è§„åˆ™ ç«¯å£èŒƒå›´æ˜¯å¦æœ‰80ç«¯å£ å…è®¸è‡ªå®šä¹‰ TCP 12345680/80 åœ°å€æ®µè®¿é—®0.0.0.0/0-1 2017-09-25 11:03:54--- å¦‚æœæ–°é…ç½®nginxä¸€ç›´403 ç¦æ­¢è®¿é—®çš„è¯ ä¿®æ”¹/etc/selinux/configå°†SELINUX=enforcing æ”¹ä¸ºSELINUX=disabled è·Ÿç€å´åšå­¦linuxls -lh sudo sh updata_www.sh less update_www.sh ls -l sudo su root git branch -r !/bin/bashrm www-oldmv ./www ./www-oldln -s ./ac-www-releases/ac-www-2016-10-17/ wwwsh git.pull.sh exit sudo sh update_www.sh æ‰¾ä¸åˆ°httpd.confhttpd.confçš„ä½ç½®ä¸€èˆ¬ä½äº/etc/httpd/conf/httpd.conf å¦‚æœæ²¡æ‰§è¡Œå‘½ä»¤yum install httpdé‡æ–°å®‰è£…ä¸€ä¸‹ï¼Œ æ ¹æ®nginxé…ç½®ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ç›®å½•åŸæœ¬nginxé…ç½®å¥½åï¼Œç›®å½•åº”è¯¥åœ¨ 1root /data/www/hosts; ä½†å¦‚æœæœ‰ 12345location ^~ / { proxy_buffering off; proxy_pass http://127.0.0.1:3001/; proxy_set_header Host $host;} åˆ™åº”æ ¹æ®3001ç«¯å£æ¥æ‰¾å…·ä½“è¿›ç¨‹å¯¹åº”çš„è¿›ç¨‹ æ‰§è¡Œ å¦‚ä¸‹å‘½ä»¤æ‰¾åˆ°å¯¹åº”è¿›ç¨‹çš„pid 1sudo netstat -nplt | grep 3001 æ ¹æ®pidæ¥æ‰¾åˆ°ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 1ps -aux | grep 37098 å‡ºç°å¦‚ä¸‹ç»“æœï¼Œåˆ™ä¸ºå¯¹åº”çš„ç›®å½• 1501 37098 0.0 0.2 1209696 42828 ? Ssl Aug08 8:37 node /home/nodeProjects/express/dist/index.js è·Ÿç€ç«‹æ–Œå­¦å‘½ä»¤è¡Œdashzsh/oh-my-zshoh-my-zsh sh -c â€œ$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;éœ€è¦æå‰è£…zshï¼Œ yum install zsh åˆ‡æ¢åˆ°zshchsh -s /usr/local/bin/zsh ä¿®æ”¹ä¸»é¢˜ï¼Œç›®å½•/root/.oh-my-zsh/templates/zshrc.zsh-template zsh-autosuggestions å®‰è£…æ–¹æ³•ï¼šgit clone git://github.com/zsh-users/zsh-autosuggestions /.zsh/zsh-autosuggestionssource/.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh çœ‹ä¸€ä¸‹è‡ªå·±ç›®å‰ä½¿ç”¨çš„ç»ˆç«¯æ˜¯ä»€ä¹ˆï¼š echo $SHELL æŸ¥çœ‹å½“å‰ä¸»é¢˜ echo $ZSH_THEME æˆ‘ç”¨çš„ä¸»é¢˜robbyrussell ä¸»é¢˜ä¿®æ”¹æ–‡ä»¶è·¯å¾„:sudo vim ~/.zshrc linux ç”¨å‘½ä»¤å¯åŠ¨æœåŠ¡ä¸æ‰çº¿åˆ›å»ºcontrol.sh è¿è¡Œ./control.sh 1234#!/bin/bashnohup npm start ./ 1&gt;&gt;log 2&gt;&amp;1 &amp; cat access.log | cut -dâ€™ â€˜ -f7 | sort | uniq -c | sort -nr | head -n30","link":"/posts/linux%E5%AD%A6%E4%B9%A0/"},{"title":"ä¸šåŠ¡?! ä¸šåŠ¡ä¸æŠ€æœ¯ä¹‹äº‰","text":"ä»¥å‰ç¡®å®ä¸é‡è§†ä¸šåŠ¡ï¼Œè¯»äº†æ¥ä¸‹æ¥è¿™ç¯‡æ–‡ç« ï¼Œå‘ç°äº†è‡ªå·±çš„è¯¯åŒºã€‚å°†å¥½çš„è§‚ç‚¹æŠ„ä¸‹æ¥ï¼Œä»¥ä¾¿é¢†ä¼šå¸æ”¶ã€‚ åŸæ–‡é“¾æ¥å‰è¨€ ä½œä¸ºä¸€ä¸ªä¸šåŠ¡å‰ç«¯ï¼Œå®Œæˆä¸šåŠ¡éœ€æ±‚çš„åŒæ—¶ï¼Œè¿˜è¦å¤„ç†å„ç§çº¿ä¸Šé—®é¢˜ï¼ŒåŠ ç­è¾›è‹¦å¿™ç¢Œäº†ä¸€å¹´ï¼Œè¿˜è¦è¢«è€æ¿è¯´â€œæ€è€ƒæ˜¯ä¸å¤Ÿçš„â€ã€â€œæ²¡æœ‰ä¸šåŠ¡ senceâ€ï¼Œå‡ºå»é¢è¯•ï¼Œè¢«é—®é¡¹ç›®ï¼Œä¹Ÿè¯´ä¸å‡ºä»€ä¹ˆæœ‰äº®ç‚¹æˆ–è€…æœ‰æŒ‘æˆ˜çš„ä¸œè¥¿ï¼Œæƒ³åšç‚¹ç‰›é€¼çš„ä¸œè¥¿ï¼Œä¹Ÿæ²¡æœ‰å‘ç°ä»€ä¹ˆæœ‰ä»·å€¼çš„æ–¹å‘ï¼Œå¥½ä¸å®¹æ˜“æ‰¾åˆ°ä¸€äº›æ–¹å‘ï¼Œè¿˜è¦è¢«è€æ¿ä¸€é¡¿è´¨é—®ï¼Œä¸šåŠ¡ä»·å€¼æ˜¯ä»€ä¹ˆï¼ŸROI æ€æ ·ï¼Ÿæœ€ç»ˆå¯èƒ½å°±åªæ˜¯åšäº†ä¸€ç‚¹æ€§èƒ½ä¼˜åŒ–å·¥ä½œï¼ŒæŠ½ç¦»äº†ä¸€äº›å¯å¤ç”¨çš„ç»„ä»¶â€¦â€¦ä¸ç¦è®©äººæ„Ÿå¹ï¼Œä¸šåŠ¡éš¾ã€å‰ç«¯éš¾ã€åšä¸šåŠ¡çš„å‰ç«¯æ›´éš¾ï¼ 1. ä¸šåŠ¡å‰ç«¯çš„å›°å¢ƒ1.1 ä¸šåŠ¡å‰ç«¯â€œå¥½å¿™â€ä¸šåŠ¡å‰ç«¯ï¼Œé¡¾åæ€ä¹‰ï¼Œåšä¸šåŠ¡çš„å‰ç«¯ï¼Œç›´æ¥ä¸ä¸šåŠ¡çš„ PDã€è¿è¥æ¥è§¦ï¼Œå¯¹äº§å“çš„ç”¨æˆ·ç›´æ¥è´Ÿè´£ã€‚åœ¨å®é™…çš„å·¥ä½œä¸­ï¼Œä¸šåŠ¡å‰ç«¯ç»å¸¸å¿™äºä¸šåŠ¡çš„å„ç§ä¼šè®®ã€é¡¹ç›®å’Œç­”ç–‘ï¼Œå³ä¾¿ä¸€æ¡ä¸šåŠ¡çº¿ä¸Šæœ‰å¤šä¸ªå‰ç«¯åŒå­¦æ”¯æŒï¼Œé¢å¯¹æˆå±±çš„éœ€æ±‚ï¼Œå¯èƒ½ä¾ç„¶æ„Ÿåˆ°åƒåŠ›ï¼Œè¿™å…¶ä¸­çš„åŸå› å¯èƒ½æœ‰ï¼š ç”¨æˆ·ä¾§äº§å“å¾€å¾€éœ€è¦å¿«é€Ÿä¸Šçº¿ï¼Œå¤§éƒ¨åˆ†éœ€æ±‚éƒ½éœ€è¦å€’æ’å·¥æœŸï¼Œå¼€å‘æ—¶é—´å°¤å…¶ç´§å¼  å¯¹ä¸šåŠ¡ä¸ç†Ÿæ‚‰ï¼Œåœ¨é¡¹ç›®éœ€æ±‚å·²ç¡®å®šçš„æ—¶å€™æ‰å»å‚åŠ è§†è§‰è¯„å®¡ï¼Œæ²¡æœ‰åŠæ³•åˆ¤æ–­éœ€æ±‚èƒŒåçš„ä¸šåŠ¡é€»è¾‘è·Ÿä¸šåŠ¡å¤§èŠ‚å¥æ˜¯å¦åŒ¹é…ã€éœ€æ±‚æœ¬èº«æ˜¯å¦èƒ½å¤Ÿè¾¾æˆä¸šåŠ¡ç›®æ ‡ã€æœ‰æ²¡æœ‰æ›´å¥½çš„å®ç°æ–¹å¼ï¼Œåªèƒ½æ¥ä¸‹éœ€æ±‚ï¼Œç„¶åæ’æœŸ ç»´æŠ¤æˆæœ¬é«˜ï¼Œæ¯å¤©è¿˜è¦å¿™äºè§£å†³å„ç§çº¿ä¸Šé—®é¢˜ï¼Œæ¯”å¦‚è¿™é‡Œæ ·å¼æœ‰ç‚¹é—®é¢˜ï¼Œé‚£é‡Œæ€ä¹ˆæ²¡æœ‰æ˜¾ç¤ºâ€¦â€¦å„ç§çç¢é—®é¢˜è®©ä½ è¿‡çš„éå¸¸â€œå……å®â€ éœ€æ±‚å“åº”é€Ÿåº¦è¾ƒæ…¢ï¼Œæ¯”å¦‚ä¸šåŠ¡çš„æŠ€æœ¯æ ˆè¾ƒè€ï¼Œæˆ–è€…å®šåˆ¶é€»è¾‘è¿‡å¤šï¼Œè¾¹å†™ä»£ç è¿˜è¦è¾¹æŸ¥æ–‡æ¡£ï¼ŒæŸ¥ä¸åˆ°å¯èƒ½è¿˜è¦æŸ¥æºç ï¼Œæ•ˆç‡å¤§å¹…é™ä½ã€‚åˆæˆ–è€…è·Ÿåˆ«çš„ä¸šåŠ¡æŠ€æœ¯ä½“ç³»ä¸åŒï¼Œéš¾ä»¥å¤ç”¨å’Œæ²‰æ·€ï¼Œå¦‚æœè¦ç”¨ï¼Œå¯èƒ½è¿˜è¦é‡å†™ä¸€éâ€¦â€¦ 1.2 ä¸šåŠ¡å‰ç«¯æ˜¯â€œèµ„æºâ€å‰ç«¯å²—ä½çš„ç‰¹ç‚¹å°±æ˜¯æœ‰è§†è§‰ç¨¿å°±å¯ä»¥å®Œæˆå·¥ä½œï¼Œä¸éœ€è¦ç†è§£ä¸šåŠ¡å…¨è²Œï¼Œæ‰€ä»¥åœ¨ç¹å¿™æœŸå¾ˆå®¹æ˜“è®©å‰ç«¯å¿½è§†äº†ä¸šåŠ¡æ€è€ƒï¼ŒåŠ ä¸Šä¹‹å‰æè¿°çš„å„ç§åŸå› ï¼Œä¸šåŠ¡å‰ç«¯ç»å¸¸æ²¦è½ä¸ºâ€œèµ„æºâ€ï¼Œå½“ä½ æ²¦è½ä¸ºâ€œèµ„æºâ€çš„æ—¶å€™ï¼Œå…¶å®å°±å·²ç»å¤±å»äº†å’Œä¸šåŠ¡å¹³ç­‰å¯¹è¯çš„èµ„æ ¼ï¼Œä»–ä»¬åªä¼šæŠŠä½ å½“æˆè«å¾—æ„Ÿæƒ…çš„å¼€å‘æœºå™¨ï¼Œè·Ÿä½ è¾“å…¥éœ€æ±‚ï¼Œè®©ä½ åå‡ºé¡µé¢ï¼Œè€Œä½ åœ¨è¿™æ ·çš„å…³ç³»ä¸­ï¼Œæœ¬æ¥å†™ç€è¿˜ç®—å·¥æ•´çš„ä»£ç ï¼Œä¸ºäº†å¿«é€Ÿå®ç°ä¸šåŠ¡éœ€æ±‚ï¼Œä¹Ÿå¼€å§‹å†™èµ·ä¹±ç³Ÿç³Ÿçš„ä»£ç ï¼Œå¯¹äºä½ æ‰€åˆ›é€ çš„äº§å“ä¹Ÿæ²¡æœ‰è¯è¯­æƒï¼Œä¹…è€Œä¹…ä¹‹ä¹Ÿå¤±å»äº†æ¿€æƒ…å’Œè€å¿ƒã€‚ å¤±å»æ¿€æƒ…ï¼Œå†™çš„ä¸å¼€å¿ƒä¹Ÿå°±ç®—äº†ï¼Œå› ä¸ºä½ æ²¡æœ‰åšå‡ºä»€ä¹ˆç‰¹åˆ«çš„ä¸œè¥¿ï¼Œè€æ¿ä¹Ÿä¸ä¼šç‰¹åˆ«è®¤å¯ä½ çš„è¾›è‹¦ï¼Œè¿˜ä¼šè§‰å¾—ä½ æ€è€ƒä¸å¤Ÿã€æ²¡æœ‰ä¸šåŠ¡ senceï¼Œå¯¹ä¸šåŠ¡æ²¡æœ‰åŠ©åŠ›ï¼Œæ²¡æœ‰è®©ä¸šåŠ¡å› ä¸ºä½ çš„å­˜åœ¨è€Œæœ‰æ‰€ä¸åŒâ€¦â€¦ 1.3 ä¸šåŠ¡å‰ç«¯æƒ³çªç ´å¥½å§ï¼Œé‚£æˆ‘å†³å®šåšç‚¹ä»€ä¹ˆæ”¹å˜ä¸€ä¸‹ï¼Œäºæ˜¯è·Ÿè€æ¿æå‡ºäº†ä¸€ç³»åˆ—æƒ³æ³•ï¼š è¿™é‡ŒæŠ€æœ¯ä½“ç³»å¤ªè€äº†ï¼Œä¸ºäº†è¿›ä¸€æ­¥æå‡å¼€å‘æ•ˆç‡ï¼Œæˆ‘ä»¬æƒ³è¦ææŠ€æœ¯é‡æ„ å‰åç«¯è”è°ƒæœ‰ç‚¹è´¹åŠ²ï¼Œæˆ‘ä»¬æƒ³æä¸ªè”è°ƒæ•°æ®ä¸­å°ï¼Œæå‡è”è°ƒæ•ˆç‡ é‚£é‡Œå±•ç°é€Ÿåº¦å¤ªæ…¢äº†ï¼Œæˆ‘ä»¬è¦ææ€§èƒ½ä¼˜åŒ– â€¦â€¦ è€æ¿å¾€å¾€ä¼šæ¥ä¸€ç³»åˆ—çµé­‚æé—®ï¼š ä¸ºä»€ä¹ˆè¦åšï¼Ÿï¼ˆæœ‰ä»€ä¹ˆä¸šåŠ¡ä»·å€¼ï¼Ÿæœ‰ä»€ä¹ˆæŠ€æœ¯ä»·å€¼ï¼Ÿï¼‰ ä¸ºä»€ä¹ˆæ˜¯ç°åœ¨åšï¼Ÿ ä¸ºä»€ä¹ˆæ˜¯ä½ åšï¼Ÿ ROIï¼ˆæŠ•å…¥äº§å‡ºæ¯”ï¼‰æ€ä¹ˆæ ·ï¼Ÿ è¿˜æ²¡æœ‰å¼€å§‹ï¼ŒèºåŠ¨çš„å¿ƒå°±è¢«è€æ¿çš„ä¸€ç³»åˆ—â€œè´¨ç–‘â€æµ‡äº†ä¸€ç›†å†·æ°´ã€‚ å¦‚æœæ²¡æœ‰å›ç­”å¥½è¿™äº›é—®é¢˜ã€è¯´æœè€æ¿ï¼Œè‡ªç„¶ä¹Ÿäº‰å–ä¸åˆ°ä»€ä¹ˆèµ„æºï¼Œåªèƒ½ä¸€ä¸ªäººææï¼Œä¸€ä¸ªäººæçš„å¾€å¾€è´¨é‡ä¸è¡Œã€ä¹Ÿæ²¡æœ‰äººç”¨ï¼Œä¹…è€Œä¹…ä¹‹è‡ªå·±ä¹Ÿä¸ç»´æŠ¤äº†ï¼Œåªèƒ½åˆå¼€å§‹åŸ‹å¤´åœ¨éœ€æ±‚ä¸­ã€‚ å¹²çš„ä¸å¼€å¿ƒï¼Œä¹Ÿæ²¡æœ‰æˆé•¿ï¼Œæœ€ååªèƒ½æš—æ·¡ç¦»èŒï¼Œä½†æ¢äº†ä¸€ä¸ªå…¬å¸å°±ä¼šå¥½å—ï¼Œå¾ˆå¯èƒ½åˆæ˜¯ç±»ä¼¼çš„è¿‡ç¨‹â€¦â€¦ è¿™çœŸçš„å ªç§°æ˜¯ä¸šåŠ¡å‰ç«¯çš„â€œå›°å¢ƒâ€ï¼Œé‚£ä¹ˆå¦‚ä½•çªç ´è¿™ç§å›°å¢ƒå‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬å°±è¦æ‘†æ­£å¿ƒæ€ï¼Œä»äº†è§£ä¸šåŠ¡å¼€å§‹ã€‚ 2. äº†è§£ä¸šåŠ¡2.1 ä¸šåŠ¡å’Œéœ€æ±‚åœ¨äº†è§£ä¸šåŠ¡ä¹‹å‰ï¼Œé¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼Œä¸šåŠ¡è·Ÿéœ€æ±‚æ˜¯ä¸ä¸€æ ·çš„ã€‚ç†è§£éœ€æ±‚å¹¶ä¸ç­‰äºç†è§£ä¸šåŠ¡ï¼Œéœ€æ±‚æ˜¯ä¸šåŠ¡ç»è¿‡äº§å“æ¶ˆåŒ–åçš„äº§ç‰©ï¼Œå¯èƒ½å·²ç»ç»è¿‡æ¼”ç»æˆ–è€…æ‹†è§£ï¼Œå› æ­¤éœ€æ±‚å¹¶ä¸æ˜¯ä¸šåŠ¡æœ¬èº«ï¼Œå½“ç„¶äº†è§£çš„éœ€æ±‚è¶Šå¤šï¼Œå¯¹ä¸šåŠ¡çš„å…¨è²Œä¹Ÿä¼šæ›´åŠ äº†è§£ã€‚ é‚£ä¹ˆä»€ä¹ˆæ˜¯ä¸šåŠ¡å‘¢ï¼Ÿä¸šç•Œå¯¹â€ä¸šåŠ¡â€æœ‰å¤šç§å®šä¹‰ï¼Œä½†æ˜¯å…¶ä¸»è¦æ€æƒ³åŸºæœ¬ä¸å˜ï¼Œä¸šåŠ¡å°±æ˜¯ä¸€ç³»åˆ—äººé€šè¿‡ä¸€ç³»åˆ—æ´»åŠ¨å®ŒæˆæŸä¸€ä»»åŠ¡çš„è¿‡ç¨‹ï¼Œå› æ­¤ï¼Œä¸šåŠ¡å¯å¤§å¯å°ï¼Œå¯ä»¥æ— é™æ‹†åˆ†ã€‚ æˆ‘ä»¬æœ¬æ–‡æ¶‰åŠçš„ä¸šåŠ¡æ³›æŒ‡å•†ä¸šä¸šåŠ¡ï¼Œå°±æ˜¯ä¸è¯¥ BU æˆ–è€…å…¬å¸å•†ä¸šæ¨¡å¼ç›´æ¥å…³è”çš„ä¸šåŠ¡æˆ–å…¶ç»„æˆéƒ¨åˆ†ã€‚ 2.2 å‰ç«¯ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä¸šåŠ¡å‰ç«¯å³ä½¿ä¸å­¦ä¹ ä¸šåŠ¡ï¼Œå…¶å®ä¹Ÿä¸å½±å“åšéœ€æ±‚ï¼Œæ¯•ç«Ÿä½ åªè¦å‘Šè¯‰æˆ‘äº¤äº’æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå‰ç«¯å°±å¯ä»¥å¸®ä½ å®ç°ï¼Œè€Œä¸”å·²ç»æœ‰äº§å“ç»ç†çš„è§’è‰²äº†ï¼Œå¤§å®¶å„å¸å…¶èŒä¸å°±å¥½äº†ï¼Œä¸ºä»€ä¹ˆä¸€ä¸ªåšæŠ€æœ¯çš„ï¼Œè¦ç‹—æ‹¿è€—å­ã€æˆ–è€…æ˜¯è¶Šä¿ä»£åº–å‘¢ï¼Ÿè¿™å°±è¦è¯´åˆ°ï¼š åªæœ‰äº†è§£ä¸šåŠ¡ï¼Œæ‰èƒ½ä»æŠ€æœ¯çš„è§’åº¦æƒ³åˆ°ä¸šåŠ¡æ–¹ä¸æ›¾æƒ³åˆ°çš„åœ°æ–¹ï¼›ä¸äº†è§£ä¸šåŠ¡ï¼Œä½ å¯èƒ½å¬ä¸æ‡‚ä¸šåŠ¡æ–¹è¦ä»€ä¹ˆï¼Œç”šè‡³è¿éœ€æ±‚çš„ä¸šåŠ¡é€»è¾‘éƒ½æä¸æ¸…ï¼Œè¿™ç§æƒ…å†µçš„åˆä½œæ¨¡å¼åªæœ‰ä¸€ç§ï¼Œéœ€æ±‚ä¸‹æ¥äº†ï¼Œä½ æ¥ä½ï¼Œç„¶åç»™æ’æœŸã€‚ä¹Ÿè®¸ï¼Œè¿™ä¸ªéœ€æ±‚çš„è®¾è®¡ä¸åˆç†ï¼Œä½ ä¸çŸ¥é“ï¼›è¿™ä¸ªéœ€æ±‚æœ‰æ›´å¥½çš„å®ç°æ–¹æ¡ˆï¼Œä½ ä¸çŸ¥é“ï¼›è¿™ä¸ªéœ€æ±‚å¯ä»¥é€šè¿‡ç°æˆçš„å…³è”äº§å“æ–¹æ¡ˆè§£å†³ï¼Œçœæ—¶çœäººåŠ›ï¼Œä½ ä¹Ÿä¸çŸ¥é“ã€‚ åªæœ‰äº†è§£åˆ°ä¸šåŠ¡èƒŒåçš„åŸå› ï¼Œæ‰èƒ½ä»å…¨å±€çš„è§†è§’å»è§„åˆ’æŠ€æœ¯çš„æœªæ¥ã€‚ä¸äº†è§£ä¸šåŠ¡ï¼Œä¼šè®©ä½ ç¦»ç”¨æˆ·çš„çœŸå®éœ€æ±‚å¾ˆè¿œï¼Œä½ è¶Šéš¾å‘ç°å…¶ä¸­çš„ä¸€äº›ç—›ç‚¹å’ŒæŒ‘æˆ˜ï¼Œæ²¡æ³•çœŸæ­£æå‡ºä½ çš„æ€è€ƒå’Œè§£å†³æ–¹æ¡ˆï¼Œå»è§£å†³ç”¨æˆ·çš„éš¾é¢˜ã€‚ ä½œä¸ºä¸€åäº§å“ç ”å‘å·¥ç¨‹å¸ˆï¼Œè‡ªç„¶æ˜¯å¸Œæœ›äº²æ‰‹æ‰“ç£¨ä¸€æ¬¾è§£å†³ç”¨æˆ·é—®é¢˜ã€ä½“éªŒå‹å¥½çš„äº§å“ï¼Œå¦‚æœäº§å“èƒ½å¾—åˆ°ç”¨æˆ·è®¤å¯ï¼Œäº§ç”Ÿå½±å“åŠ›ã€è‡ªç„¶ä¼šç‰¹åˆ«æœ‰æˆå°±æ„Ÿã€‚ é˜¿é‡Œä½œä¸ºä¸€å®¶å•†ä¸šç§‘æŠ€å…¬å¸ï¼Œå¯¹æŠ€æœ¯äººçš„è¦æ±‚å°±æ˜¯æŠ€æœ¯ä¸ä¸šåŠ¡ç›¸ç»“åˆï¼Œåœ¨æ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„åŸºç¡€ä¸Šï¼Œæˆä¸ºæŠ€æœ¯ä¸ä¸šåŠ¡çš„æ¡¥æ¢ï¼Œä¸»åŠ¨èµ°è¿›ä¸šåŠ¡ï¼Œæ€è€ƒå¦‚ä½•é€šè¿‡æŠ€æœ¯æ‰‹æ®µå¸®åŠ©ä¸šåŠ¡åšèµ¢ã€æ»¡è¶³å¸‚åœºå’Œç”¨æˆ·éœ€æ±‚ï¼Œå…ˆä¸€æ­¥æŠ€æœ¯è§„åˆ’ã€äººæ‰å‚¨å¤‡ã€æŠ€æœ¯æ¶æ„å’ŒæŠ€æœ¯é¢„ç ”ã€‚ 2.3 ä½ äº†è§£ä¸šåŠ¡å—é‚£ä¹ˆç›®å‰ä½ äº†è§£ä½ å¯¹æ¥çš„ä¸šåŠ¡å—ï¼Ÿä¸å¦¨å°è¯•å›ç­”ä¸‹ä»¥ä¸‹é—®é¢˜ï¼š ä¸šåŠ¡åšçš„æ˜¯ä»€ä¹ˆï¼Ÿäº§å“å¤§å›¾æœ‰å—ï¼Ÿ ä¸šåŠ¡çš„æ ¸å¿ƒæŒ‡æ ‡æ˜¯ä»€ä¹ˆï¼ŸKPIç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œè¿™äº›æ•°å­—èƒŒåçš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿè¦è¾¾æˆè¿™äº›ç›®æ ‡ï¼Œä¸šåŠ¡ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ ä¸šåŠ¡çš„ç”¨æˆ·æ˜¯è°ï¼Ÿæµé‡æ€ä¹ˆåˆ†å±‚ï¼Ÿå æ¯”å¤šå°‘ï¼Ÿåˆ†åˆ«åœ¨ä¸šåŠ¡ä¸­æ˜¯æ€æ ·çš„å®šä½ï¼Ÿ ä¸šåŠ¡çš„å•†ä¸šæ¨¡å¼ï¼Ÿé ä»€ä¹ˆå¸å¼•æµé‡ï¼Œç›ˆåˆ©æ¨¡å¼æ˜¯æ€æ ·çš„ï¼Ÿ æˆ‘ä»¬åšçš„é¡µé¢æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿä¸ºä¸šåŠ¡å¸¦æ¥ä»€ä¹ˆä»·å€¼ï¼Ÿè¦åˆ›é€ æ›´å¤šçš„ä»·å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åšä»€ä¹ˆï¼Ÿ 2.4 å¦‚ä½•å­¦ä¹ ä¸šåŠ¡2.4.1 ä¸šåŠ¡é¢†åŸŸçŸ¥è¯†çš„é˜…è¯»æ‰¾åˆ°è¯¥é¢†åŸŸç›¸å…³çš„è¯„åˆ†è¾ƒå¥½çš„ä¹¦ç±é›†ä¸­é˜…è¯»ï¼Œå¿«é€Ÿå½¢æˆçŸ¥è¯†æ¡†æ¶ã€‚ 2.4.2 äº†è§£ä¸šåŠ¡èƒŒæ™¯å’Œè§„åˆ’åˆšåˆšæ¥æ‰‹æ–°çš„ä¸šåŠ¡ï¼Œå¯ä»¥é‚€è¯·ä¸šåŠ¡æ–¹è€æ¿æˆ–è€…èµ„æ·±çš„è¿è¥/äº§å“åŒå­¦ï¼Œç»™ä½ è®²è®²è¿™å—ä¸šåŠ¡çš„è¿‡å»ã€ç°åœ¨ã€æœªæ¥ã€æ„¿æ™¯ã€è´¢å¹´è§„åˆ’ï¼Œä»¥åŠå¯¹æŠ€æœ¯åŒå­¦çš„æœŸæœ›ï¼› èŠ±æ—¶é—´è¯»åˆä½œæ–¹ï¼ˆè¿è¥ã€äº§å“ã€ç ”å‘ï¼‰çš„å‘¨æŠ¥ï¼Œäº†è§£ç°åœ¨åœ¨å‘ç”Ÿä»€ä¹ˆï¼Œæ˜¯ä¸æ˜¯ç¦»ç›®æ ‡è¶Šæ¥è¶Šè¿‘äº†ï¼› äº†è§£ä¸šåŠ¡ç›®æ ‡ã€è½åœ°ç­–ç•¥ã€è¡¡é‡ç›®æ ‡çš„æ•°æ®å£å¾„ï¼Œå…³æ³¨æ•°æ®ï¼Œå…³æ³¨ç›®å‰åšçš„é¡¹ç›®æ˜¯å¦ä¸ºäº†è¾¾æˆç›®æ ‡è€Œæˆ˜ï¼Œå¦‚æœä¸æ˜¯ï¼Œæå‡ºä½ çš„æƒ³æ³•å’Œå»ºè®®ï¼› å¤šå‚ä¼šï¼Œå»ºç«‹äº§å“ senseã€‚æ”¶é›†ä¿¡æ¯æœ€å¥½çš„æ–¹å¼å°±æ˜¯å‚åŠ æ‰€å¤„ä¸šåŠ¡è€å¤§çš„ KO ä¼šï¼Œå„ç§ KO ä¼šä¼šæŠŠæˆ˜ç•¥ä¸Šçš„æ‹†è§£å’ŒèƒŒåçš„æ€è€ƒæ•´ä½“æ¢³ç†ä¹‹åå®£è®²ä¼ è¾¾ç»™ BU æˆ–éƒ¨é—¨çš„åŒå­¦ï¼Œ 2.4.3 å¤šäº¤æµä¸æœåŠ¡ç«¯åŒå­¦èŠå¤©ï¼Œä¸ PM èŠå¤©ï¼Œä¸ç”¨æˆ·èŠå¤©ï¼Œå¤šè§’åº¦çœ‹ä¸šåŠ¡ï¼Œä½†è¦æ³¨æ„çš„æ˜¯ï¼Œé’ˆå¯¹ä¸“ä¸šå‹æ¯”è¾ƒå¼ºçš„ä¸šåŠ¡ï¼Œéœ€è¦å…ˆåšåŠŸè¯¾ï¼Œè‡³å°‘ä¸€äº›è‹±æ–‡çš„ç¼©å†™è¦æ¸…æ¥šçš„æ˜ç™½æ„æ€ã€‚ 2.4.4 è°¨è®°æ•°å­—å¦‚æœå‰é¢è¿˜éœ€è¦èŠ±æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œé‚£è¿™ä¸€ä¸ªå¯ä»¥ç°åœ¨å°±åšèµ·æ¥ï¼Œé‚£å°±æ˜¯æŠŠä¸šåŠ¡ç›¸å…³çš„æ•°å­—è®°å¾—è¶Šç²¾ç»†çº¦å¥½ï¼Œè¶Šå…·ä½“è¶Šå¥½ï¼Œè¶Šå…¨é¢è¶Šå¤šè¶Šå¥½ã€‚è¿™æ ·åšæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š æ‰€è®°çš„æ•°å­—æŒ‡æ ‡æœ¬èº«ï¼Œå¾ˆå¤§ç¨‹åº¦å·²ç»æ¶µç›–äº†è¿™ä¸ªä¸šåŠ¡ä»·å€¼æ–¹å‘ï¼Œä½ ä¾¿çŸ¥é“äº†è¿™ä¸ªä¸šåŠ¡é‡ç‚¹å…³æ³¨çš„æ˜¯å“ªä¸ªç»´åº¦çš„ä¸œè¥¿ è¿™äº›æ•°å­—å¯ä»¥ä½œä¸ºå’Œä¸šåŠ¡æ–¹ä»¥åŠäº§å“â€œå¹³ç­‰å¯¹è¯â€çš„æºå¤´ï¼Œå¦åˆ™è¿æœ€åŸºæœ¬çš„å¯¹è¯åŸºç¡€éƒ½æ²¡æœ‰ 2.4.5 ä»æ—¥å¸¸éœ€æ±‚å…¥æ‰‹å¯¹äºé¡¹ç›®ä¸­çš„éœ€æ±‚ï¼Œæˆ‘ä»¬è¦å°è¯•åˆ†æèƒŒåçš„ç›®çš„å’Œä»·å€¼ï¼Œåšäº†ä¹‹åæœ‰ä»€ä¹ˆé¢„æœŸçš„æ”¶ç›Šï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšå°±å¯ä»¥è¾¾åˆ°è¿™ä¸ªæ”¶ç›Šï¼Œè·Ÿæ€»ä½“ç›®æ ‡æ˜¯å¦å¥‘åˆï¼Œè¿˜è¦åˆ¤æ–­ä¸šåŠ¡æ–¹æåˆ°çš„ç‚¹æ˜¯ä¸æ˜¯æœ‰æ•ˆçš„æ–¹æ¡ˆæˆ–è€…è¯´æˆæœ¬å¤ªå¤§çš„æ–¹æ¡ˆï¼Œçœ‹èƒ½ä¸èƒ½ç»™å‡ºæ›¿ä»£æ–¹æ¡ˆï¼Œç”¨ç°æœ‰çš„æ–¹æ¡ˆæˆ–è€…å°æˆæœ¬çš„æ–¹å¼æ¥æ»¡è¶³ä¸šåŠ¡æ–¹ã€‚è€Œåœ¨é¡¹ç›®ææµ‹ä¸Šçº¿åï¼Œè¿˜è¦ä»”ç»†åˆ†æä»¥åŠå¤šå…³æ³¨ä¸Šçº¿ä¹‹åçš„ä¸šåŠ¡æ•°æ®å’Œæ•ˆæœï¼Œä¼šæœ‰å¦‚ä¸‹å¥½å¤„ï¼š æé«˜è‡ªå·±å¯¹ä¸šåŠ¡çš„ç†è§£èƒ½åŠ›ï¼Œä½ åœ¨å…³æ³¨ä¸šåŠ¡æ•°æ®çš„åŒæ—¶ï¼Œä¹Ÿå°±ä¼šæ›´å¤šçš„ä»ä¸šåŠ¡çš„è§’åº¦æ¥çœ‹åˆ°è¿™ä¸ªåŠŸèƒ½æ‰€å¸¦æ¥çš„ä»·å€¼æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œå½“å‡ºç°ä¸ç¬¦åˆé¢„æœŸçš„æ—¶å€™ï¼Œå¯ä»¥å’Œä¸šåŠ¡æ–¹ä¸€èµ·è¿›è¡Œæ•°æ®æ¼æ–—çš„åˆ†æä»è€Œæ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼Œé¿å…æˆ‘ä»¬çš„åŠ³åŠ¨æˆæœæˆä¸ºä¸€æ¬¡æ€§çš„å·¥ä½œã€‚ æ€»ç»“çš„åŒæ—¶å¯ä»¥å¸®åŠ©è‡ªå·±æ¢³ç†è¿™ä¸ªé¡¹ç›®ä¸­è‡ªå·±å“ªäº›åœ°æ–¹åšçš„ä¸è¶³ï¼Œæˆ–è€…ç›¸å…³æ¨è¿›ä¸­å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Œä»¥åŠåé¢æ€ä¹ˆæ”¹è¿›ï¼Œæé«˜äº†ä¸‹æ¬¡é¡¹ç›®ä¸­çš„è¿­ä»£æ•ˆç‡å’Œè´¨é‡ã€‚æ¯”å¦‚è¿™ä¸ªé¡¹ç›®æ˜¯å¦å­˜åœ¨éœ€æ±‚ç†è§£ä¸åˆ°ä½å­˜åœ¨è¿”å·¥ï¼Œæˆ–è€…æ²Ÿé€š &amp; è”è°ƒä½æ•ˆï¼Œç¯å¢ƒä¸ç¨³å®šï¼Œè‡ªå·±è®¾è®¡çš„æ–¹æ¡ˆæ˜¯å¦åˆç†ç­‰é—®é¢˜ï¼Œåç»­è¦æ€ä¹ˆè§£å†³ã€‚ ä¹Ÿå¯ä»¥ä»æ•°æ®å’Œæ€»ç»“ä¸­åˆ¤æ–­å‡ºä»€ä¹ˆæ ·çš„éœ€æ±‚æ˜¯é è°±çš„ &amp; ä»€ä¹ˆçš„æ ·ä¸šåŠ¡æ–¹æ˜¯é è°±çš„ï¼Œé¢‘ç¹äº‰å–èµ„æºä¸Šçº¿æ•ˆæœåˆä¸å¥½çš„ä¸šåŠ¡æ–¹ï¼Œä¸‹æ¬¡å†æœ‰éœ€æ±‚è¿‡æ¥åˆ™éœ€è¦å¤šå¢åŠ ä¸€ä¸ªå¿ƒçœ¼å’Œæ€è€ƒçš„è¿‡ç¨‹ã€‚ 2.4.6 åšæŒä¸šåŠ¡æ€è€ƒåŠ›ï¼Œæ²¡æœ‰ä¸ªè‡³å°‘åŠå¹´æ˜¯ä¸ä¼šè§æ•ˆçš„ 3. åŠ©åŠ›ä¸šåŠ¡3.1 æ€è€ƒå°½ç®¡å¹³æ—¶çš„ä¸šåŠ¡å¾ˆå¿™ï¼Œä½†å†å¿™ï¼Œä¹Ÿè¦æŠ½æ—¶é—´æ€è€ƒï¼Œé‚£ä¹ˆæ€è€ƒå“ªäº›å†…å®¹å‘¢ï¼Ÿä»¥ä¸‹ä¸¾ä¸€äº›ä¾‹å­ï¼š å…»æˆæ¯å¤©è®°å·¥ä½œå†…å®¹çš„ä¹ æƒ¯ï¼Œåˆ†æä¸€ä¸‹è‡ªå·±çš„æ—¶é—´åˆ°åº•è€—åœ¨å“ªäº† åœ¨ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæœ‰é‡åˆ°è®©ä½ ç‰¹åˆ«æƒ³åæ§½çš„ç‚¹å—ï¼Ÿæƒ³ä¸‹é—®é¢˜èƒŒåçš„åŸå› ï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥é¿å…ä¸‹æ¬¡ä¸çŠ¯ï¼Œèƒ½ä¸èƒ½æç‚¼ä¸ºæ›´åŠ é€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå…¶ä»–åŒå­¦æ€ä¹ˆè§£å†³çš„ï¼Œæˆ‘å¯ä»¥æ€ä¹ˆè§£å†³ï¼Ÿ ä¸æ–­åœ°è¾“å…¥ã€è§‚å¯Ÿï¼Œä¸šåŠ¡çš„çœŸå®éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿç«™åœ¨ä¸šåŠ¡æ–¹çš„è§’åº¦æ€è€ƒï¼Œä¸šåŠ¡é‡åˆ°çš„ç—›ç‚¹ã€æŒ‘æˆ˜åœ¨å“ªé‡Œï¼Ÿ 3.2 æ²Ÿé€šå’Œè€æ¿ã€å›¢é˜ŸåŒå­¦ã€ä¸šåŠ¡æ–¹å¯¹ç„¦ï¼Œç¡®è®¤â€œæˆ‘æƒ³åšçš„â€æ˜¯ä¸æ˜¯â€œå¤§å®¶æƒ³è¦çš„â€ï¼Ÿä½ å¯èƒ½ä¼šæå‡ºå¾ˆå¤šæ„è§ï¼Œä½†ä¸€èˆ¬ä¼šé­åˆ°è€æ¿æˆ–è€…ä¸šåŠ¡æ–¹æ— æƒ…çš„æ‹’ç»ï¼Œè€Œä¸”é—®å¾—ä½ ä¸€è„¸æ‡µé€¼ï¼Œå°±æ¯”å¦‚ï¼š å½“å‰ä¸šåŠ¡èƒŒæ™¯ä¸‹ï¼Œä¸ºä»€ä¹ˆè¦åšï¼Ÿï¼ˆæœ‰ä»€ä¹ˆä¸šåŠ¡ä»·å€¼ï¼Ÿæœ‰ä»€ä¹ˆæŠ€æœ¯ä»·å€¼ï¼Ÿï¼‰ ç°åœ¨å¿…é¡»åšä¹ˆï¼Ÿ ä¸ºä»€ä¹ˆæ˜¯ä½ åšï¼Ÿ æ€ä¹ˆåšï¼Ÿï¼ˆä½“ç³»åŒ–ã€å…¨é“¾è·¯ã€å•ç‚¹æŠ€æœ¯æŒ‘æˆ˜ï¼‰ æœ‰ä»€ä¹ˆä¸šåŠ¡å’ŒæŠ€æœ¯ç»“æœï¼Ÿèƒ½å¦è¢«å¤ç”¨ï¼Ÿ æœªæ¥è§„åˆ’ï¼ˆèƒ½å¦è·ŸBUæˆ–é›†å›¢çš„æ–¹æ¡ˆè”åŠ¨ã€å…±å»ºï¼‰ è€Œè¿™å¾€å¾€æ˜¯å› ä¸ºä½ æå‡ºè¦åšçš„äº‹æƒ…ï¼Œæœ‰ä»·å€¼ä½†ä¸æ˜¯å¿…é¡»åšçš„ï¼Œæ²¡æœ‰ç»“åˆç›®å‰ä¸šåŠ¡éœ€è¦ä»€ä¹ˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æƒ³åšçš„æŠ€æœ¯æ˜¯ä¸ªäººå’Œçº¯æŠ€æœ¯è§’åº¦æ€è€ƒçš„ï¼Œæ²¡æœ‰åŸºäºä¸šåŠ¡çš„ç°çŠ¶å’Œç—›ç‚¹å»è€ƒè™‘æŠ€æœ¯æ–¹æ¡ˆï¼Œä¸æ¥åœ°æ°”ï¼ŒæŠ•å…¥äº§å‡ºæ¯”ä¸é«˜ã€‚æ‰€ä»¥ç»™æŠ€æœ¯äº§å‡ºå…ˆæ‰¾å¥½ä¸šåŠ¡çš„é˜µåœ°ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰å¯ä»¥å€ŸåŠ›çš„åœ°æ–¹ï¼Œä¸è¦é‡å¤é€ è½®å­ã€‚å¿«é€ŸéªŒè¯è¿™ä¸ªæ–¹å‘çš„æ­£ç¡®æ€§åï¼Œå†é€æ¸å¤šåŠ æŠ•å…¥ã€ä¸°æ»¡æŠ€æœ¯è®¾è®¡ã€‚ä¸è¦è‡ªå·±YYã€é»˜é»˜åœ°åšå®Œï¼Œè¿™æ ·åšå‡ºæ¥çš„ä¸œè¥¿æ²¡æœ‰ä¸šåŠ¡åœºæ™¯åŸ‹å•ã€‚ 3.3 æŠ€æœ¯è§„åˆ’ä¸šåŠ¡èµ‹èƒ½å…¶å®æ˜¯éœ€è¦æˆ‘ä»¬ç´§è´´ä¸šåŠ¡è§„åˆ’ï¼Œåˆ¶å®šæŠ€æœ¯è§„åˆ’å’Œæ–¹æ¡ˆã€‚åœ¨äº†è§£ä¸šåŠ¡æ–¹ä»Šå¹´çš„ KPI é‡ç‚¹æ˜¯ä»€ä¹ˆï¼Œé¢„è®¡çš„æ‹†è§£å’Œå®ç°è·¯å¾„æ˜¯ä»€ä¹ˆåï¼Œå†ç»“åˆè‡ªå·±çš„å’Œå›¢é˜Ÿæƒ…å†µï¼Œæƒ³æƒ³è‡ªå·±èƒ½åšå“ªäº›äº‹æƒ…æ¥å¸®åŠ©ä¸šåŠ¡å®ç°å…¶ KPIï¼Œè¿™é‡Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ä¸‹ï¼š æŠ“ä½æœ¬è´¨ä»ç‚¹åŠé¢ï¼Œé€šç›˜è€ƒè™‘: å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æ”¶åˆ°çš„ç—›ç‚¹å’Œä¸šåŠ¡éœ€æ±‚éƒ½æ˜¯å•ç‚¹çš„ï¼Œè¿™æ—¶æˆ‘ä»¬ä¸èƒ½ç€çœ¼äºçœ¼å‰çš„å•ç‚¹é—®é¢˜ï¼Œè€Œéœ€è¦é€šç›˜æ¥è€ƒè™‘ï¼Œæ¯”å¦‚SEOçš„é¡µé¢å¯¹æ€§èƒ½éå¸¸æ•æ„Ÿï¼Œç»å¸¸å¯èƒ½ä¼šæ”¶åˆ°ä¸€äº›ä¸šåŠ¡æ–¹æ¥åé¦ˆï¼Œè¯´ç›®å‰æˆ‘ä»¬çš„SEOæœ‰è¿™ä¸ªåœ°æ–¹ï¼Œé‚£ä¸ªåœ°æ–¹éœ€è¦ä¼˜åŒ–ä¸‹ï¼Œè€Œå•ç‚¹è§£å†³è¿™äº›é—®é¢˜å¯èƒ½å¯¹ä¸šåŠ¡å¸¦æ¥çš„æ”¶ç›Šå¹¶ä¸å¤§ï¼Œå¯¹è‡ªå·±çš„æŠ€èƒ½ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæˆé•¿ã€‚è¿™æ—¶å€™å¦‚æœé€šç›˜è€ƒè™‘è¿™ä¸ªå‘½é¢˜ï¼Œå…¶å®ä¼šå‘ç°åšSEOé¡µé¢çš„ä¼˜åŒ–ï¼Œå…¶å®ç›®çš„æ˜¯ä¸ºäº†æå‡SEOé¡µé¢çš„æ”¶å½•å’Œæ’åã€‚è€Œæå‡SEOé¡µé¢çš„æ”¶å½•å’Œæ’åå…¶å®ä¸ä»…æœ‰å‰ç«¯æ€§èƒ½ä¼˜åŒ–è¿™ä¸€ä¸ªè·¯å¾„ï¼Œè€Œæ˜¯è¿˜æœ‰ä¸€äº›å…¶ä»–çš„è·¯å¾„ï¼šæ¯”å¦‚ä¼˜åŒ–å…³é”®è¯&amp;é•¿å°¾è¯ï¼Œé‡‡ç”¨Googleçš„AMPæŠ€æœ¯æ”¹é€ SEOé¡µé¢ï¼Œä¼˜åŒ–çˆ¬è™«çˆ¬å–é¡µé¢çš„è€—æ—¶æå‡çˆ¬å–ç‡ç­‰ç­‰ã€‚è¿™æ ·å°±èƒ½å§ç‚¹çš„é—®é¢˜è½¬åŒ–ä¸ºé¢çš„é—®é¢˜ï¼Œæ‰èƒ½åˆ¶å®šæ›´æœ‰æ•ˆå’Œå…¨é¢çš„æŠ“æ‰‹æ¥èµ‹èƒ½ä¸šåŠ¡ã€‚ æ—¢è¦è§£å†³çœ¼å‰ç—›ç‚¹ï¼Œä¹Ÿè¦é•¿è¿œè°‹åˆ’: å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸èƒ½ä»…æ»¡è¶³äºçœ¼å‰çš„KPIï¼Œè¿˜éœ€è¦äº†è§£ä¸šåŠ¡æ–¹é•¿è¿œçš„æƒ³æ³•å’Œå¯ä»¥é¢„è§çš„è§„åˆ’ã€‚å°±æ¯”å¦‚è¯•ç‚¹çš„æ–°ä¸šåŠ¡ï¼Œä¸€å±‚è§„åˆ’æ˜¯ä¿è¯ä¸šåŠ¡é¡¹ç›®çš„æŒ‰æ—¶ä¸Šçº¿ï¼Œè€ƒè™‘åˆ°æœªæ¥ï¼Œå¦ä¸€å±‚è§„åˆ’å¯èƒ½å°±æ˜¯å¦‚ä½•åšåˆ°æŠ€æœ¯æ–¹æ¡ˆçš„å¯ä»¥å¤åˆ¶æ€§ã€‚ 3.4 ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šå½“ä½ éœ€è¦åˆ¶å®šä¸€ä¸ªäº§å“åŒ–çš„æ–¹æ¡ˆæˆ–è€…å·¥å…·å’Œæ¡†æ¶çš„æ—¶å€™ï¼Œæœ€å¥½å…ˆæ”¾çœ¼é›†å›¢å†…éƒ¨å’Œè¡Œä¸šè¿›è¡Œä¸€ç•ªè°ƒç ”ï¼Œçœ‹çœ‹ä¸šç•Œå’Œå…¶ä»–åŒäº‹æ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚å°½é‡ç«™åœ¨åˆ«äººçš„è‚©è†€ä¸Šåšå‡ºåˆ›æ–°æˆ–è€…å‚ä¸å…±å»ºï¼Œé¿å…å°å›¢é˜Ÿå†…é€ å‡ºé‡å¤å’Œè´¨é‡ä½çš„è½®å­ 4. æŠ€æœ¯æ·±åº¦4.1 æŠ€æœ¯çŸ¥è¯†ä¸æŠ€æœ¯èƒ½åŠ›â€œæŠ€æœ¯â€ä¸èƒ½æ˜¯ä¸€ä¸ªç¬¼ç»Ÿçš„è¯æ±‡ï¼Œæˆ‘æƒ³å®ƒè‡³å°‘å¯ä»¥åˆ†ä¸ºâ€œæŠ€æœ¯çŸ¥è¯†â€å’Œâ€œæŠ€æœ¯èƒ½åŠ›â€ä¸¤å¤§éƒ¨åˆ†ã€‚ä»€ä¹ˆæ˜¯â€œæŠ€æœ¯çŸ¥è¯†â€ï¼ŸçŸ¥è¯†å°±æ˜¯ I KNOW ã€ŠTypeScript ä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹ ã€ŠReact ä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹ ã€ŠWebpack ä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹ â€¦â€¦ ä»€ä¹ˆæ˜¯â€œæŠ€æœ¯èƒ½åŠ›â€ï¼Ÿèƒ½åŠ›å°±æ˜¯ I CAN æˆ‘ç”¨ TypeScript é‡æ„äº†ä¸€ä¸ªå¤§å‹ç³»ç»Ÿï¼Œä»£ç å¥å£®æ€§åŠç ”å‘æ•ˆç‡å¤§å¹…æå‡ã€‚ æˆ‘ç”¨ React Hooks ç»™å…¨æ ˆåŒå­¦è¿›è¡Œå‰ç«¯åŸ¹è®­ï¼ŒåŸ¹è®­æ•ˆæœå¤§å¹…æå‡ã€‚ æˆ‘æ·±å…¥ç ”ç©¶äº† Webpackï¼Œä¼˜åŒ–é…ç½®ï¼Œä½¿å¾—ç³»ç»Ÿæ„å»ºé€Ÿåº¦å¤§å¹…æå‡ã€‚â€¦.. 4.2 åŸ¹å…»æŠ€æœ¯è§†é‡ å…³æ³¨æ—¥å¸¸ä¸šç•Œæ–°æŠ€æœ¯ã€‚ä¸ä¸€å®šè¦æ·±å…¥äº†è§£ï¼Œä½†å¯¹æ–°æŠ€æœ¯ä¿æŒå¥½å¥‡å¿ƒï¼Œå¤§æ¦‚äº†è§£å®ƒæ˜¯åšä»€ä¹ˆçš„ï¼Œå¦‚æœåœ¨å·¥ä½œä¸­é‡åˆ°åŒ¹é…çš„è½åœ°ç¯å¢ƒï¼Œå¯ä»¥è€ƒè™‘å†™ä¸ª demo çœ‹çœ‹æ˜¯ä¸æ˜¯æœ‰ä»·å€¼ å…³æ³¨é›†å›¢å’Œä¸šç•Œçš„è§£å†³æ–¹æ¡ˆã€‚åœ¨ä¸šåŠ¡ä¸­å‘ç°é—®é¢˜ï¼Œåšè§£å†³æ–¹æ¡ˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“é™·å…¥è‡ªå·±çš„è®¾è®¡ä¸­ï¼Œä¸€è„‘å­åœ°æƒ³æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½è‡ªå·±åšå‡ºæ¥ï¼Œä½†æŠ•å…¥ä¼šéå¸¸å¤§ï¼Œäº§å‡ºçš„ä»·å€¼æ˜¯å¦ä¸€æ ·å¤§å‘¢ï¼Ÿä¸çŸ¥é“ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ æƒ³åšçš„ï¼Œåœ¨ATAèƒ½æœåˆ°ï¼Œå‰äººè¸©çš„å‘ï¼Œæˆ–è€…å·²æœ‰çš„æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œåªè¦ä½ å»æ²Ÿé€šå»æ¥è§¦ï¼Œå°±å¯ä»¥è½»æ¾åœ°æ¥è¿›æ¥ï¼Œä¸ºä»€ä¹ˆè¦èŠ±å¤§é‡çš„æ—¶é—´å»é€ è½®å­å‘¢ï¼Ÿå¯ä»¥å€ŸåŠ›çš„åœ°æ–¹ï¼Œå°±å»å€ŸåŠ›å§ï¼ŒæŠŠæ—¶é—´å‰©ä¸‹æ¥ï¼Œåšä½ çš„è§£å†³æ–¹æ¡ˆä¸­æ›´æ ¸å¿ƒæ›´æœ‰ä»·å€¼çš„äº‹æƒ…ã€‚ 4.3 æŠ€æœ¯æ·±åº¦ä¸€èŠåˆ°â€œæŠ€æœ¯æ·±åº¦â€ï¼Œå¯èƒ½å¾ˆè‡ªç„¶åœ°ä¼šè®¤ä¸ºæ˜¯åœ¨æŸé¡¹æŠ€æœ¯ä¸ŠæŒ–å¾—å¾ˆæ·±ï¼Œæˆ–è€…è§£å†³äº†ä¸€ä¸ªä¸šç•Œå…¬è®¤éš¾åº¦å¾ˆé«˜çš„æŠ€æœ¯éš¾é¢˜ï¼Œä½†è¿™åªæ˜¯â€œæŠ€æœ¯æ·±åº¦â€çš„å…¶ä¸­ä¸€éƒ¨åˆ†ï¼š ä½“ç³»åŒ– / ç³»ç»ŸåŒ–ä½“ç³»åŒ–æ€ç»´æ˜¯è®¤è¯†äº‹ç‰©çš„ä¸€ç§æ–¹å¼ï¼Œåœ¨é¢å¯¹é—®é¢˜çš„æ—¶å€™ï¼Œèƒ½å¤Ÿé’ˆå¯¹å¤æ‚çš„é—®é¢˜ï¼Œåˆ—å‡ºå…³é”®çš„è¦ç´ å’Œè§£å†³æ–¹æ³•ï¼Œå°†æ•£ä¹±æ— åºçš„é—®é¢˜ï¼Œå˜å¾—é€»è¾‘æ¸…æ™°ï¼Œæœ‰ç« å¯å¾ªã€‚åœ¨é—®é¢˜çš„å®šä½å’Œè§£å†³çš„ä½“ç°ï¼Œä»è¡¨è±¡åˆ°æœ¬è´¨ï¼Œæ‹†è§£å‡ºé€ æˆé—®é¢˜èƒŒåçš„åŸå› ï¼Œé’ˆå¯¹æ€§åœ°å»è§£å†³æœ¬è´¨çš„åŸå› ï¼Œè€Œéæ²»æ ‡ä¸æ²»æœ¬ï¼Œæœ‰è§£å†³æ–¹æ¡ˆæœ‰èŠ‚å¥åœ°è§£å†³ã€‚ å…¨é“¾è·¯é™¤äº†å‰ç«¯çš„éƒ¨åˆ†ï¼Œå‘å‰å‘åçš„æŠ€æœ¯æ ˆï¼Œè¿˜èƒ½æŒ–å¤šæ·±ã€‚ å•ç‚¹æŠ€æœ¯æŒ‘æˆ˜åœ¨æŸä¸ªæŠ€æœ¯æŒ‘æˆ˜ä¸Šï¼Œä½ çš„æ€è€ƒå’Œè§£å†³æ–¹æ¡ˆæ˜¯æ€æ ·çš„ã€‚ 4.4 æŠ€æœ¯ä¸ä¸šåŠ¡å…±èµ¢çœŸæ­£æœ‰çªç ´æ€§çš„ã€å¸¦æ¥é‡å¤§ä»·å€¼çš„ä¸šåŠ¡æˆæœå¿…ç„¶ä¼´éšç€æŠ€æœ¯ä¸Šçš„æ·±å…¥ä¹ƒè‡³åˆ›æ–°ï¼Œæ‰€ä»¥åœ¨åšä¸šåŠ¡æˆæœçš„æ—¶å€™ï¼Œä¸€å®šä¼šæœ‰è®©æˆ‘ä»¬å¢åŠ æŠ€æœ¯æ·±åº¦çš„åœºæ™¯ã€‚ 5. ç»™ä½ æ›´å¤šä½“æ„ŸåŸ¹å…»ä¸šåŠ¡æ„Ÿç¡®å®æ˜¯ä¸€ä»¶éå¸¸æœ‰éš¾åº¦çš„äº‹æƒ…ï¼Œä»–è¦æ±‚ä½ ä»¥ä¸šåŠ¡è€ŒéæŠ€æœ¯ä¸ºç¬¬ä¸€è§†è§’ï¼Œè¿™å¯èƒ½è¿èƒŒäº†å¾ˆå¤šäººå†…å¿ƒçš„â€œæŠ€æœ¯åšæŒâ€ï¼Œä½†å¦‚æœä¸€ç›´åšæŠ€æœ¯ï¼Œå…¶å®æ˜¯å¾ˆéš¾æœ‰éå¸¸å¤§çš„çªç ´çš„ï¼Œåœ¨å·¥ä½œä¸­ï¼Œå¦‚æœèƒ½å®ç°æŠ€æœ¯ä¸ä¸šåŠ¡å…±èµ¢ï¼Œå°†ä¼šåŠ©åŠ›ä½ åˆ°è¾¾æ›´é«˜çš„é«˜åº¦ã€‚ æ”¹å˜çš„ç¡®å¾ˆéš¾ï¼Œä½†ç»“æœå€¼å¾—å†’é™©ã€‚","link":"/posts/%E4%B8%9A%E5%8A%A1-%E4%B8%9A%E5%8A%A1%E4%B8%8E%E6%8A%80%E6%9C%AF%E4%B9%8B%E4%BA%89/"},{"title":"æ­£åˆ™","text":"[TOC]å‚è€ƒé“¾æ¥é¢è¯•å®˜ï¼è®©æˆ‘ä»¬èŠèŠæ­£åˆ™ æ­£åˆ™è¡¨è¾¾å¼ - å…ƒå­—ç¬¦!!!ä¸€ç›´ä»¥æ¥æ­£åˆ™éƒ½é æœç´¢ï¼Œå¤åˆ¶ç²˜è´´ã€‚ä»Šå¤©å¼€å§‹å­¦ä¹ ï¼Œä»¥åå°±å¯ä»¥è‡ªå·±å†™å•¦~~~ æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆæ­£åˆ™è¡¨è¾¾å¼(Regular Expression)æ˜¯ä¸€ä¸ªæè¿°å­—ç¬¦æ¨¡å¼çš„å¯¹è±¡ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¿›è¡Œå¼ºå¤§çš„æ¨¡å¼åŒ¹é…å’Œæ–‡æœ¬æ£€ç´¢ä¸æ›¿æ¢åŠŸèƒ½ã€‚åœ¨ç¼–å†™å¤„ç†å­—ç¬¦ä¸²çš„ç¨‹åºæˆ–ç½‘é¡µæ—¶ï¼Œç»å¸¸ä¼šæœ‰æŸ¥æ‰¾ç¬¦åˆæŸäº›å¤æ‚è§„åˆ™çš„å­—ç¬¦ä¸²çš„éœ€è¦ã€‚æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ç”¨äºæè¿°è¿™äº›è§„åˆ™çš„å·¥å…·ã€‚æ¢å¥è¯è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯è®°å½•æ–‡æœ¬è§„åˆ™çš„ä»£ç ã€‚ æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¤„ç†å­—ç¬¦ä¸²çš„åˆ©å™¨ï¼Œå¹¶æé«˜å·¥ä½œæ•ˆç‡ï¼Œä¸€ä¸ªå¥½çš„æ­£åˆ™èƒ½å¤Ÿå¸®æˆ‘ä»¬çœå»å‡ åç”šè‡³ä¸Šç™¾è¡Œä»£ç ã€‚ å…¥é—¨å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼æœ€å¥½æ–¹æ³•æ˜¯ä»ä¾‹å­å¼€å§‹ï¼Œç†è§£ä¾‹å­ä¹‹åå†å¯¹ä¾‹å­è¿›è¡Œä¿®æ”¹ï¼Œå®éªŒã€‚ å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ å§“å 2-9ä½ä¸­æ–‡æ˜µç§°ï¼š ^[\\u4e00-\\u9fa5]{2,9}$ éªŒè¯å¯†ç  åªèƒ½æ˜¯æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ï¼Œé•¿åº¦ä¸é™åˆ¶: ^\\w+$ å…è®¸ å°å†™å­—æ¯ a-zã€å¤§å†™å­—æ¯ A-Zã€æ•°å­— 0-9ã€ä¸‹åˆ’çº¿ _ã€ è¿æ¥ç¬¦ -ï¼Œä¸”é•¿åº¦åœ¨ 6-18 ä½æ•°ï¼š/^[a-zA-Z0-9_-]{6,18}$/ å¿…é¡»åŒ…å«æ•°å­—+å°å†™å­—æ¯+å¤§å†™å­—æ¯çš„å¯†ç ï¼Œä¸”é•¿åº¦åœ¨8-10ä½ä¹‹é—´ï¼š^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$ éªŒè¯ Email å…è®¸æœ‰ä¸€ä¸ªå­—ç¬¦ç¬¦åˆ [A-Za-z0-9_] ä¹‹åå¯ä»¥ä¸º [A-Za-z0-9_-+.] + @ + å…è®¸æœ‰ä¸€ä¸ªå­—ç¬¦ç¬¦åˆ [A-Za-z0-9_] ä¹‹åå¯ä»¥ä¸º [A-Za-z0-9_-.] + . + å…è®¸æœ‰ä¸€ä¸ªå­—ç¬¦ç¬¦åˆ [A-Za-z0-9_] ä¹‹åå¯ä»¥æœ‰ [A-Za-z0-9_-.] çš„é‚®ç®±ï¼š^\\w+([-+.]\\w+)*@\\w+([-.]\\w+).\\w+([-.]\\w+)$ éªŒè¯èº«ä»½è¯ 18 ä½èº«ä»½è¯å·ï¼Œå°¾æ•°æ˜¯æ•°å­—æˆ–è€…å­—æ¯ Xï¼š^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$ 15 æˆ–è€… 18 ä½èº«ä»½è¯å·ï¼Œå°¾æ•°å¯ä»¥æ˜¯æ•°å­—åŠ X æˆ–è€… xï¼š(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$) éªŒè¯æ‰‹æœºå· ä»¥ 1 å¼€å¤´ï¼Œç¬¬äºŒä½æ•°æ˜¯ 3/4/5/7/8 çš„ 11 ä½æ‰‹æœºå·ç ï¼š^1[3,4,5,7,8,9]\\d{9}$ ç§»åŠ¨å·ç ï¼š^134[0-8]\\d{7}$|^(?:13[5-9]|147|15[0-27-9]|178|1703|1705|1706|18[2-478])\\d{7,8}$ ç”µä¿¡å·ç ï¼š^(?:133|153|1700|1701|1702|177|173|18[019])\\d{7,8}$ è”é€šå·ç ï¼š^(?:13[0-2]|145|15[56]|176|1704|1707|1708|1709|171|18[56])\\d{7,8}|$ JavaScript åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ä¸¤ç§æ–¹å¼ï¼š ç”¨/æ­£åˆ™è¡¨è¾¾å¼/ä¸¤ä¸ªæ–œæ æ¥åŒ…è£¹è¦å†™çš„æ­£åˆ™è¡¨è¾¾å¼ æ„é€ å‡½æ•°åˆ›å»º(ä¸æ¨è)var reg = new RegExp('\\\\d+', 'img')ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å…ƒå­—ç¬¦å¹¶ä¸”\\dè¿™ç§ç‰¹æ®Šå­—ç¬¦åœ¨è¿™é‡Œé¢æ˜¯æ™®é€šå­—ç¬¦ï¼Œæ‰€ä»¥éœ€è¦ç”¨\\è½¬ä¹‰ä¸ºç‰¹æ®Šå­—ç¬¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¿®é¥°ç¬¦ è¿™ä¸¤ç§çš„ç”¨é€”æœ‰åŒºåˆ«ï¼Œä¸€èˆ¬éœ€è¦åŠ¨æ€åˆ›å»ºæ­£åˆ™å…ƒå­—ç¬¦é‡‡ç”¨æ„é€ å‡½æ•°åˆ›å»ºï¼Œå› ä¸ºé‡Œé¢å…ƒå­—ç¬¦æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¸¸è§„å›ºå®šå†™æ­»æ­£åˆ™é‡‡ç”¨å­—é¢é‡åˆ›å»ºï¼Œä¾‹å­å¦‚ä¸‹ï¼š var reg = /^[a-z0-9_-]{6,12}$/ è¿™å°±æ˜¯ä¸€æ¡è§„åˆ™ã€‚ å¦‚ä½•åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚è¿™é‡Œç”¨testæ–¹æ³• 1234var str = 'abc-cba_abc';var reg = /^[a-z0-9_-]{6,12}$/;console.log(reg.test(str)); // true reg é€šè¿‡ test() æ–¹æ³•å»æµ‹è¯• str æ˜¯å¦ç¬¦åˆ regçš„è§„åˆ™ï¼Œå¦‚æœç¬¦åˆåˆ™è¿”å› trueï¼Œå¦‚æœä¸ç¬¦åˆåˆ™è¿”å› falseã€‚è¿™é‡Œè¿”å›çš„æ˜¯ trueï¼Œå› ä¸ºæˆ‘ä»¬çš„ str æ˜¯ç¬¦åˆ reg è§„åˆ™çš„ã€‚ åŸºç¡€è¦æƒ³ç©è½¬æ­£åˆ™é¦–å…ˆè¦æ˜ç™½ä¸‰å¤§å…ƒç´ ï¼šä¿®é¥°ç¬¦ å…ƒå­—ç¬¦ é‡è¯ä¾‹ï¼švar reg = /^\\d$/g è¿™æ˜¯ä¸€ä¸ªç®€å•ç‚¹æ­£åˆ™ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å¯¹ä¸‰å¤§å…ƒç´ ä¸€æ¢ç©¶ç«Ÿ 1. ä¿®é¥°ç¬¦ g - global å…¨å±€åŒ¹é…ï¼ˆåªè¦æœ‰åŒ¹é…æˆåŠŸçš„ç»“æœä¸€ç›´åŒ¹é…ç›´åˆ°æ²¡æœ‰ä¸ºæ­¢ï¼‰ i - ignoreCase å¿½ç•¥å¤§å°å†™ m - multiline å¤šè¡ŒåŒ¹é… 2. å…ƒå­—ç¬¦å…ƒå­—ç¬¦åˆ†ä¸ºç‰¹æ®Šå…ƒå­—ç¬¦å’Œæ™®é€šå…ƒå­—ç¬¦æ™®é€šå…ƒå­—ç¬¦å°±æ˜¯åˆ—å…¥æ•°ç»„ï¼Œå­—æ¯ç­‰å…ƒç´ å¸¸ç”¨ç‰¹æ®Šå…ƒå­—ç¬¦å¦‚ä¸‹ï¼š \\ è½¬ä¹‰å­—ç¬¦ï¼ˆæŠŠä¸€ä¸ªæ™®é€šå­—ç¬¦è½¬å˜ä¸ºæœ‰ç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ï¼Œæˆ–è€…æŠŠä¸€ä¸ªæœ‰æ„ä¹‰çš„å­—ç¬¦è½¬å˜ä¸ºæ™®é€šå­—ç¬¦ï¼‰ . é™¤äº†\\nï¼ˆæ¢è¡Œç¬¦ï¼‰ä»¥å¤–çš„ä»»æ„å­—ç¬¦ \\d åŒ¹é…ä¸€ä¸ª0~9ä¹‹é—´çš„æ•°å­— \\D åŒ¹é…ä¸€ä¸ªé0~9ä¹‹é—´çš„æ•°å­—ï¼ˆå¤§å†™ä¸å°å†™å­—æ¯ç»„åˆæ­£å¥½æ˜¯ç›¸åå«ä¹‰ \\w åŒ¹é…ä¸€ä¸ª0~9æˆ–å­—æ¯æˆ–_ä¹‹é—´çš„ä¸€ä¸ªå­—ç¬¦ \\s åŒ¹é…ä¸€ä¸ªä»»æ„ç©ºç™½å­—ç¬¦ \\b åŒ¹é…ä¸€ä¸ªè¾¹ç•Œç¬¦ x|y åŒ¹é…xæˆ–è€…yä¸­çš„ä¸€ä¸ª [a-z] åŒ¹é…a-zä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ [^a-z] åŒ¹é…éa-zä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ [x- yz] åŒ¹é…xæˆ–yæˆ–zä¸­çš„ä¸€ä¸ªå­—ç¬¦ [^xyz å’Œä¸Šæ–¹ç›¸å () æ•´çš„å°åˆ†ç»„ï¼ŒåŒ¹é…ä¸€ä¸ªå°åˆ†ç»„ï¼ˆå¯ä»¥ç†è§£ä¸ºå¤§æ­£åˆ™ä¸­çš„ä¸€ä¸ªå°æ­£åˆ™ï¼‰ ^ ä»¥æŸä¸€ä¸ªå…ƒå­—ç¬¦å¼€å§‹ã€‚ä¾‹ï¼švar reg = /^2/; è¡¨ç¤ºå¼€å¤´å¿…é¡»æ˜¯2ï¼Œå¦‚æœå¼€å§‹å…ƒå­—ç¬¦æ”¾åœ¨[]é‡Œé¢ ä¾‹ï¼š[^]è¡¨ç¤ºéä¸­æ‹¬å·ç§æƒ…å†µ ç›¸åå«ä¹‰ $ ä»¥æŸä¸€ä¸ªå…ƒå­—ç¬¦ç»“æŸã€‚ä¾‹ï¼š var reg = /2$/; è¡¨ç¤ºç»“å°¾å¿…é¡»æ˜¯2ï¼Œå¦‚æœæ˜¯ var reg = /^2$/; è¡¨ç¤ºåªèƒ½ä¸º2ï¼Œå› ä¸º2åªä»£è¡¨ä¸€ä¸ªå…ƒå­—ç¬¦ã€‚ ?: åªåŒ¹é…ä¸æ•è· ?= æ­£å‘è‚¯å®šé¢„æŸ¥ ?! æ­£å‘å¦å®šé¢„æŸ¥ ä½¿ç”¨è§£æ1. () å°åˆ†ç»„ åŒ¹é…å­é¡¹åŒ¹é…å­é¡¹ï¼Œå°±æ˜¯å°æ‹¬å·()ï¼Œä¹Ÿå«åˆ†ç»„æ“ä½œã€‚|è¡¨è¾¾å¼| é‡Šä¹‰| ç”¨æ³•||â€”â€“|â€”â€”-|â€”â€”||(å­è¡¨è¾¾å¼)|æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚| (\\w)\\1 èƒ½åŒ¹é… deep ä¸­çš„ ee| 123456789var reg = /^18|19$/// è¿™ä¸ªä¾‹å­å¾ˆå¤šåŒå­¦èƒ½å¤Ÿäº†è§£æ˜¯18æˆ–è€…19å¼€å¤´ ä½†æ˜¯ç»“å°¾å‘¢ï¼ŸçœŸçš„åªåŒ¹é…19ä¹ˆï¼Ÿ å…¶å®å¹¶ä¸æ˜¯// æ­£ç¡®çš„åŒ¹é…é™¤äº†18 19 è¿˜æœ‰181ã€189ã€819 è¿™æ—¶å€™å°åˆ†ç»„å°±èµ·åˆ°äº†ä½œç”¨å¦‚ä¸‹var reg = /^(18|19)$/// è¿™é‡Œå°†18æˆ–19ç”¨()åŒ…è£¹èµ·æ¥ï¼Œèµ·åˆ°å°åˆ†ç»„çš„ä½œç”¨// è¿™æ ·è¿™ä¸ªæ­£åˆ™åªåŒ¹é…18å¼€å¤´ç»“å°¾æˆ–è€…19è€Œä¸æ˜¯181å’Œ189 var re = /(\\d+)(-)/g; åˆ†æè¿™ä¸ªæ­£åˆ™ï¼š /(\\d+)/ è¡¨ç¤ºä»»æ„ 1 ä¸ªåŠä»¥ä¸Šçš„æ•°å­— /(-)/ è¡¨ç¤ºåŒ¹é…å­—ç¬¦ - g è¡¨ç¤ºåŒ¹é…ä¸€æ¬¡ä»¥ä¸Š æ‰€ä»¥è¿™æ®µæ­£åˆ™çš„æ„æ€å°±æ˜¯åŒ¹é…ä¸€æ¬¡åŠä»¥ä¸Šçš„ æ•°å­—- å½¢å¼çš„å­—ç¬¦ä¸²ã€‚ 12345678910111213var str = &quot;2018-11-28&quot;;var re = /(\\d+)(-)/g;str = str.replace(re, function($0, $1, $2){ // ç¬¬ä¸€ä¸ªå‚æ•°ï¼š$0ï¼ˆæ¯äº²) // ç¬¬äºŒä¸ªå‚æ•°ï¼š$1ï¼ˆç¬¬ä¸€ä¸ªå­©å­ï¼‰ // ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š$2 (ç¬¬äºŒä¸ªå­©å­) console.log(&quot;$0ï¼š&quot; + $0); console.log(&quot;$1ï¼š&quot; + $1); console.log(&quot;$2ï¼š&quot; + $2); return $1 + '.';});console.log(str); // 2018.11.28 consoleç»“æœï¼š 1234567$0ï¼š2018-$1ï¼š2018$2ï¼š-$0ï¼š11-$1ï¼š11$2ï¼š-2018.11.28 è¿™é‡Œä½¿ç”¨äº† replace() æ–¹æ³•ã€‚è§‚å¯Ÿ Console æ‰“å°å‡ºæ¥çš„ç»“æœï¼Œå¯ä»¥çœ‹å‡º$0 å³æ˜¯æˆ‘ä»¬çš„æ­£åˆ™ var re = /(\\d+)(-)/g å»åŒ¹é… var str = â€œ2018-11-28â€ æ‰€å¾—åˆ°çš„ç»“æœï¼Œè¿™é‡Œæˆ‘ä»¬åŒ¹é…æˆåŠŸäº†ä¸¤æ¬¡ï¼Œå³ 2018- åŠ 11-ï¼›$1 å³æ˜¯æˆ‘ä»¬çš„ä¸€ä¸ªå°æ‹¬å· (\\d+) çš„åŒ¹é…ç»“æœï¼Œæ‰€ä»¥ç»“æœä¸º 2018 ä»¥åŠ 11ï¼›$2 å³æ˜¯æˆ‘ä»¬çš„ç¬¬äºŒä¸ªå°æ‹¬å· (-) çš„åŒ¹é…ç»“æœï¼Œæ‰€ä»¥ç»“æœä¸º - ä»¥åŠ -ã€‚ æœ€åï¼Œæˆ‘ä»¬åšçš„äº‹æƒ…å°±æ˜¯ï¼Œå°† $1 åŠ ä¸Š .ï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœç»™ strï¼Œæœ€ç»ˆç»“æœï¼š2018.11.28ã€‚ å¦ä¸€ä¸ªä¾‹å­ï¼š 123var str = &quot;abc&quot;;var re = /(a)(b)(c)/;console.log(str.match(re)); consoleç»“æœï¼š 1[&quot;abc&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, index: 0, input: &quot;abc&quot;, groups: undefined] 2. åˆ†ç»„å¼•ç”¨\\nåˆ†ç»„å¼•ç”¨çš„æ¦‚å¿µå°±æ˜¯å¯ä»¥å¼•ç”¨å¤§æ­£åˆ™ä¸­æŒ‡å®šçš„å°æ­£åˆ™è§„åˆ™ï¼Œä¾‹å¦‚ï¼š 12var reg = /^([a-z])([a-z])\\2([a-z])$/// ç¬¦åˆçš„å­—ç¬¦ä¸²ï¼šbook week http ...â€‹ å…·ä½“ä¸Šé¢çš„ä¾‹å­ç†è§£ä¸º\\2ä»£è¡¨ç€ç¬¬äºŒä¸ªå°æ­£åˆ™è§„åˆ™çš„å®Œå…¨å¼•ç”¨ï¼Œå°±æ˜¯å’Œç¬¬äºŒä¸ªå°æ­£åˆ™([a-z])ä¸€æ ·ï¼Œå¯ä»¥å‡å°‘æ­£åˆ™çš„å¤æ‚åº¦å’Œå¤„ç†å¤šæ¬¡é‡å¤è§„åˆ™ 4. åŒ¹é…å­—ç¬¦ [][] è¿™æ ·çš„ä¸­æ‹¬å·çš„æ•´ä½“ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚å­—ç¬¦ä¸²åŒ…å«ä¸­æ‹¬å·ä¸­ä»»ä¸€å­—ç¬¦å³æ»¡è¶³æ¡ä»¶ 12345678var reg = /^[a-zA_Z0-9_]$/// è¿™ä¸ªæ­£åˆ™å’Œç­‰ä»·äº\\w å°±æ˜¯åŒ¹é…ä¸€ä¸ª0~9æˆ–å­—æ¯æˆ–_ä¹‹é—´çš„ä¸€ä¸ªå­—ç¬¦// è€Œæ­£åˆ™[xyz]ä¸­çš„xyzåˆ†åˆ«ä»£è¡¨a-zã€A_Zã€0-9,xyzåªæ˜¯ä¸€ä¸ªä»£è¡¨æ ‡è¯†ï¼Œ// å¯ä»¥æœ‰xyzhwå„ç§ç»„åˆ// å°±åƒè¿™ä¸ªä¾‹å­ä¸­æœ‰ä¸‹åˆ’çº¿_ä¸€æ ·å››ä¸ªçš„åŒ¹é…// æœ‰ä¸€ä¸ªé‡ç‚¹è¡¥å……ï¼Œåœ¨[]ä¸­çš„ç‰¹æ®Šå…ƒå­—ç¬¦ä¸€èˆ¬éƒ½ä»£è¡¨æœ¬èº«å«ä¹‰ï¼Œå¦‚ä¸‹var reg = /^[.?+&amp;]$/// ä»£è¡¨ç€åŒ¹é…. .? ?+ ...ç­‰ç­‰ 1234567891011var str1 = &quot;abcd&quot;;var re1 = /a[bcd]c/;console.log(re1.test(str1)); // truevar str2 = &quot;abc&quot;;var re2 = /a[^bcd]c/;console.log(re2.test(str2)); // falsevar str3 = &quot;a.c&quot;;var re3 = /a[a-z0-9A-Z]c/;console.log(re3.test(str3)); // false è§£æï¼š /a/ï¼šåŒ¹é…å­—æ¯ a /[bcd]/ï¼šåŒ¹é…å­—æ¯ bcd ä¸­çš„ä¸€ä½ /[d]ï¼šåŒ¹é…å­—æ¯ d ^ å¦‚æœå†™åœ¨ [] é‡Œé¢çš„è¯ï¼Œå°±ä»£è¡¨æ’é™¤çš„æ„æ€ã€‚åœ¨è¿™é‡Œå°±ä»£è¡¨ç€ a å’Œ c ä¸­é—´ä¸èƒ½æ˜¯ bcd ä¸­çš„ä»»æ„ä¸€ä¸ª /[a-z0-9A-Z]/ï¼šåŒ¹é…å°å†™å­—æ¯ a-zï¼Œæˆ–è€…æ•°å­— 0-9ï¼Œæˆ–è€…å¤§å†™å­—æ¯ A-Zã€‚å³ a ä¸ c ä¹‹é—´åªèƒ½æ˜¯ä¸Šé¢åŒ¹é…åœ°ä¸Šçš„å­—ç¬¦ã€‚ 5. è¾¹ç•Œç¬¦\\båŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ï¼ˆè¾¹ç•Œä¸»è¦æ˜¯å•è¯çš„å·¦å³ä¸¤è¾¹ï¼‰ ä¾‹å¦‚ï¼š 12345var reg = /er\\b/// å¯ä»¥åŒ¹é…neverä¸­çš„erï¼Œä½†æ˜¯ä¸èƒ½åŒ¹é…verbä¸­çš„ervar reg = /\\b\\w+\\b/g// èƒ½åŒ¹é…å­—æ¯æ•°å­—å’Œä¸‹åˆ’çº¿ä¸å•è¯è¾¹ç•Œ 'my blog is www.ngaiwe.com'// èƒ½åŒ¹é… 'my'ã€'blog'ã€'is'ã€'www'ã€'ngaiwe'ã€'com' 6. åªåŒ¹é…ä¸æ•è· ?ä¸‹é¢ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä½†æ˜¯æ¶‰åŠåˆ°æ•è·å†…å®¹ï¼Œå¦‚æœåŒå­¦ä»¬ä¸å¤ªæ˜ç™½ï¼Œå¯ä»¥å…ˆè·³è¿‡æ­¤å¤„ï¼Œçœ‹å®Œä¸‹é¢æ•è·ï¼Œå†è¿”å›æ¥çœ‹ 123456789var reg = /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})\\d{2}(\\d)(\\d|X)$/gvar str = '110105199001220613'console.log(reg.exec(str))// æ‰“å°ç»“æœä¸º &quot;110105199001220613&quot;, &quot;110105&quot;, &quot;1990&quot;, &quot;01&quot;, &quot;22&quot;, &quot;1&quot;, &quot;3&quot;var reg = /^(\\d{6})(?:\\d{4})(\\d{2})(\\d{2})\\d{2}(\\d)(\\d|X)$/g// æ‰“å°ç»“æœä¸º &quot;110105199001220613&quot;, &quot;110105&quot;, &quot;01&quot;, &quot;22&quot;, &quot;1&quot;, &quot;3&quot;// ä¼šå°†ç¬¬äºŒä¸ªå°åˆ†ç»„åªåŒ¹é…ï¼Œä¸æ•è· 7. æ­£å‘è‚¯å®šé¢„æŸ¥ ?=è¿™ä¸ªæ¦‚å¿µæ¯”è¾ƒéš¾ç†è§£ï¼Œç”¨äºå°±æ˜¯ä¸ºäº†åŒ¹é…ä¸€ä¸ªå…ƒç´ åé¢æ˜¯çš„å…ƒç´ æ˜¯å¦ç¬¦åˆç›¸åº”è§„åˆ™ï¼Œä½†æ˜¯å¹¶ä¸æ¶ˆè€—è¿™ä¸ªè§„åˆ™ï¼Œä¾‹å­1ï¼š 1234567891011121314151617181920212223242526var reg = /windows(?=95|98|NT|2000)/var str1 = 'windows2000'var str2 = 'windowsxp'console.log(reg.test(str1))console.log(reg.test(str2))// str1 ä¸ºtrue str2 ä¸ºfalseconsole.log(reg.exec(str1))console.log(reg.exec(str2))// èƒ½æ•è·åˆ°str1 å¹¶ä¸”æ•è·ç»“æœæ—¶windows å¹¶æ²¡æœ‰å°†2000ä¹ŸåŒæ—¶æ•è·// è¯´æ˜æ­£å‘é¢„æŸ¥åªè´Ÿè´£åŒ¹é…ç›¸åº”è§„åˆ™//-------ä¾‹å­2-----------var reg1 = /win(?=d)dows/var reg2 = /win(d)dows/var str = 'windows'console.log(reg1.test(str))console.log(reg2.test(str))// reg1 è¿”å›true reg2è¿”å› false// åŸå› æ˜¯æ­£å‘é¢„æŸ¥åªè´Ÿè´£åŒ¹é…ï¼Œä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯å¹¶ä¸ä¼šåŒ¹é…ä¸ºé‡Œé¢è§„åˆ™çš„å­—ç¬¦// reg1 ç›¸å½“äºåŒ¹é…windowså¹¶ä¸”ç¬¦åˆwinåé¢ç¬¬ä¸€ä¸ªå‡ºç°çš„æ˜¯d// reg2 ç›¸å½“äºåŒ¹é…winddows 8. æ­£æƒ³å¦å®šé¢„æŸ¥ ?!å’Œæ­£å‘è‚¯å®šé¢„æŸ¥ç›¸åï¼ŒåŒ¹é…ä¸ç¬¦åˆè§„åˆ™çš„æ­£åˆ™ 9. \\ è½¬ä¹‰å­—ç¬¦ å°†ç‰¹æ®Šå…ƒå­—ç¬¦è½¬æ¢ä¸ºæ™®é€šå­—ç¬¦ï¼Œä¾‹ï¼švar reg = /^2.3$/ æ­£å¸¸ç†è§£ä¸ºåŒ¹é…å¯ç¤ºä¸º2 ç»“æŸä¸º3ä¸­é—´æ˜¯.çš„æ­£åˆ™ï¼Œä½†æ˜¯åœ¨è¿™é‡Œé¢.å±äºç‰¹æ®Šå…ƒå­—ç¬¦ï¼Œæ„ä¹‰æ˜¯é™¤äº†\\nï¼ˆæ¢è¡Œç¬¦ï¼‰ä»¥å¤–çš„ä»»æ„å­—ç¬¦ï¼Œæ‰€ä»¥ä¸è®ºæ˜¯2.3/2+3/2s.3ç­‰ç­‰ï¼Œåªè¦æ˜¯ä¸Â·\\néƒ½åŒ¹é…æˆåŠŸï¼Œæ‰€ä»¥ä¸ºäº†è¿™ç§éœ€æ±‚å°±ç”¨åˆ°äº†è½¬ä¹‰å­—ç¬¦\\ å¦‚ä¸‹ï¼š var reg = /^2\\.3$/ å°†ç‰¹æ®Šå…ƒå­—ç¬¦.è½¬ä¹‰ä¸ºçœŸæ­£çš„.å…ƒç´ ï¼Œå†æ¬¡åŒ¹é…åªæœ‰2.3æ‰èƒ½åŒ¹é…æˆåŠŸ å¦‚ä¸‹æ€è€ƒï¼š 1234var reg1 = /^\\d$/var reg2 = /^\\\\d$/var reg3 = /^\\\\\\d$/var reg4 = /^\\\\\\\\d$/ é¦–å…ˆreg1 è¡¨ç¤º0-9ä¹‹é—´çš„æ•°å­— æ‰€ä»¥0-9éƒ½èƒ½åŒ¹é…æˆåŠŸ reg2å‡ºç°ä¸¤ä¸ª\\ ä¸è®ºæ˜¯0-9 d \\déƒ½åŒ¹é…å¤±è´¥ï¼Œåªæœ‰\\dæ‰åŒ¹é…æˆåŠŸï¼ŒåŸå› åœ¨äºç¬¬ä¸€ä¸ªè½¬ä¹‰å­—ç¬¦æŠŠç¬¬äºŒä¸ª\\è½¬ä¹‰ä¸ºæ™®é€š\\ï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ª\\ä¹Ÿè¡¨ç¤ºæ™®é€šå­—ç¬¦ï¼Œæ‰€ä»¥åªæœ‰åŒ¹é…åˆ°\\\\dæ‰ç”Ÿæ•ˆ reg3å‡ºç°ä¸‰ä¸ª\\ï¼Œæ­¤æ—¶å¤§å®¶ä¸€å®šä¼šè®¤ä¸º\\\\\\dæ‰æ˜¯æ­£ç¡®ç­”æ¡ˆï¼Œéä¹Ÿï¼Œæ­¤æ—¶çš„æ­£ç¡®ç­”æ¡ˆæ˜¯\\[0-9]æ„æ€æ˜¯\\å’Œ0-9ä¸­ä»»æ„ä¸€ä¸ªæ•°å­—ï¼ŒåŸå› åœ¨äºç¬¬ä¸€ä¸ª\\å°†ç¬¬äºŒä¸ªè½¬ä¹‰ï¼Œæ‰€ä»¥å˜ä¸º\\\\ \\dåˆ†ä¸ºäº†ä¸¤éƒ¨åˆ†ï¼Œ\\ä¸ºæ™®é€šå­—ç¬¦ï¼Œè€Œ\\dè¡¨ç¤ºä¸€ä¸ª0~9ä¹‹é—´çš„æ•°å­—ï¼Œæ‰€ä»¥æ­£ç¡®ç­”æ¡ˆæ˜¯\\\\[0-9] reg4å‡ºç°å››ä¸ª\\ å¾ˆå¤šåŒå­¦ä¼šè®¤ä¸ºæ­£ç¡®ç­”æ¡ˆä¸€å®šæ˜¯\\[0-9], å¾ˆå¯æƒœï¼Œæ­£ç¡®çš„æ˜¯\\\\\\\\dï¼ŒåŸå› æ˜¯å½“ç¬¬ä¸€ä¸ªæŠŠç¬¬äºŒä¸ªè½¬ä¹‰ä¸ºæ™®é€šå­—ç¬¦æ—¶ï¼Œç¬¬ä¸‰ä¸ªåˆæŠŠç¬¬å››ä¸ªè½¬ä¹‰ä¸ºæ™®é€šå­—ç¬¦ï¼Œæ‰€ä»¥æœ€ååŒ¹é…ä¸º\\\\\\\\d çœ‹åˆ°è¿™é‡Œç›¸ä¿¡æœ‰ä¸€éƒ¨åˆ†å°ä¼™ä¼´å·²ç»æ™•äº†ï¼Œè™½ç„¶åœ¨å·¥ä½œæˆ‘ä»¬ä¸ä¼šç©è¿™ç§æ“ä½œï¼Œä½†æ˜¯è¦æ·±åˆ»ç†è§£è½¬ä¹‰å­—ç¬¦ï¼Œåœ¨æ­£åˆ™ä¸­å¦‚æœä½ ç›´æ¥å†™ var reg = /\\/ ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ­£åˆ™ä¸­ä¸èƒ½å•ç‹¬ä¸€ä¸ª\\å‡ºç°ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šå…ƒå­—ç¬¦ï¼Œéœ€è¦å†™è‡³å°‘ä¸¤ä¸ª, ä¾‹å¦‚ï¼š var reg = /^\\\\$/æ­£ç¡®çš„åŒ¹é…ç»“æœä¸º\\\\ï¼Œæ‰€ä»¥ç‰¢è®°ä¸¤ä¸ª\\ä»£è¡¨çœŸæ­£çš„\\ï¼Œåˆ°è¿™é‡Œèƒ½ææ˜ç™½çš„åŒå­¦ï¼Œç›¸ä¿¡è½¬ä¹‰å­—ç¬¦å·²ç»å®Œå…¨æŒæ¡ã€‚ 3. é‡è¯é‡è¯ä¸»è¦çš„ä½œç”¨æ˜¯ç”¨æ¥æè¿°å…ƒå­—ç¬¦å‡ºç°çš„æ¬¡æ•° å¦‚ä¸‹ï¼š + è®©å‰é¢çš„å…ƒå­—ç¬¦å‡ºç°ä¸€åˆ°å¤šæ¬¡ ? å‡ºç°é›¶åˆ°ä¸€æ¬¡ * å‡ºç°é›¶åˆ°å¤šæ¬¡ {n} å‡ºç°næ¬¡ {n,} å‡ºç°nåˆ°å¤šæ¬¡ {n,m} å‡ºç°nåˆ°mæ¬¡ å¸¸ç”¨æ–¹æ³•JavaScript æ­£åˆ™é»˜è®¤ï¼š æ­£åˆ™åŒ¹é…æˆåŠŸå°±ä¼šç»“æŸï¼Œä¸ä¼šç»§ç»­åŒ¹é…ã€‚å¦‚æœæƒ³æŸ¥æ‰¾å…¨éƒ¨ï¼Œå°±è¦åŠ æ ‡è¯† gï¼ˆå…¨å±€åŒ¹é…ï¼‰ 1. test()è§„åˆ™ï¼šåŒ¹é…å­—ç¬¦ä¸²ï¼ŒåŒ¹é…æˆåŠŸè¿”å›trueï¼ŒåŒ¹é…å¤±è´¥è¿”å›falseè¯­æ³•ï¼šæ­£åˆ™.test(å­—ç¬¦ä¸²)æ¡ˆä¾‹ï¼š 1234567var str = &quot;123abc&quot;;var re = /\\D/; // åŒ¹é…éæ•°å­—if(re.test(str)) { console.log(&quot;ä¸å…¨æ˜¯æ•°å­—ï¼&quot;);} else { console.log(&quot;å…¨æ˜¯æ•°å­—ï¼&quot;);} å½“teståŒ¹é…åˆ°ç»“å°¾æˆ–è€…åŒ¹é…ä¸åˆ°æ—¶ï¼Œè¿”å›falseï¼ŒæˆåŠŸåˆ™å‘æ•°ç»„æ·»åŠ å½“å‰å°åˆ†ç»„åŒ¹é…ç¬¬ä¸€ä¸ªå…ƒç´ å†…å®¹ã€‚åœ¨RegExpçš„constructorä¸­å­˜åœ¨$1-$9ï¼Œä»–ä»¬çš„å…·ä½“æŒ‡çš„æ˜¯å½“å‰æœ¬æ¬¡åŒ¹é…å°åˆ†ç»„ç¬¬ä¸€åˆ°ç¬¬ä¹æ•è·çš„å†…å®¹ 123456789var reg = /\\{([a-z]+)\\}/gvar str = 'my name is {weiran}. I am from {china}'var result = []while (reg.test(str)) { result.push(RegExp.$1)}console.log(result)// ['weiran', 'china'] æ‰‹åŠ¨å®ç°ä¸€ä¸ªå‡½æ•°åŒ¹é…åˆ°å…¨éƒ¨å†…å®¹å¹¶ä¸”éƒ½èƒ½æ•è·åˆ° è¿™ä¸ªæ–¹æ³•å½“æ­£åˆ™regåŠ äº†ä¿®é¥°ç¬¦g åˆ™è¿”å›å¤§æ­£åˆ™åŒ¹é…åˆ°ç»“æœï¼Œå¦‚æœæ²¡åŠ gåˆ™è¿”å›execæ•è·ç»“æœ 123456789101112131415161718192021var reg = /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})\\d{2}(\\d)(\\d|X)$/gvar str = '110105199001220613'RegExp.prototype.myExec = function myExec() { var str = arguments[0] || '' var result = [] // é¦–å…ˆthisæŒ‡å‘çš„æ˜¯RegExpï¼Œæ‰€ä»¥åˆ¤æ–­thisæ˜¯å¦åŠ äº†å…¨å±€ä¿®é¥°ç¬¦g // å¦‚æœæ²¡æœ‰ï¼Œé˜²æ­¢æ‰§è¡Œæ­»å¾ªç¯ï¼Œæˆ‘ä»¬åªæ‰§è¡Œä¸€æ¬¡execå¹¶å°†å…¶è¿”å›å³å¯ if(!this.global) { return this.exec(str) } var arrs = this.exec(str) while(arrs) { result.push(arrs[0]) // æ­¤æ—¶lastIndexçš„å€¼å·²ç»å˜ä¸ºä¸Šä¸€æ¬¡çš„ç»“å°¾ arrs = this.exec(str) } return result} 2. search()è§„åˆ™ï¼šåŒ¹é…æˆåŠŸï¼Œè¿”å›æˆåŠŸçš„ä½ç½®ï¼Œå¤±è´¥è¿”å›-1ç”¨æ³•ï¼šå­—ç¬¦ä¸².search(æ­£åˆ™)æ¡ˆä¾‹ï¼š 12345var str = &quot;abcdef&quot;;var re1 = /d/i;var re2 = /h/i;console.log(str.search(re1)); // 3console.log(str.search(re2)); // -1 3. match()è§„åˆ™ï¼šåŒ¹é…æˆåŠŸï¼Œè¿”å›åŒ¹é…æˆåŠŸçš„æ•°ç»„ï¼ŒåŒ¹é…ä¸æˆåŠŸï¼Œè¿”å› nullç”¨æ³•ï¼šå­—ç¬¦ä¸².match(æ­£åˆ™)æ¡ˆä¾‹ï¼š 123var str = &quot;123fadf321dfadf4fadf1&quot;;var re = /\\d+/g;console.log(str.match(re)); //(4) [&quot;123&quot;, &quot;321&quot;, &quot;4&quot;, &quot;1&quot;] å½“åŠ äº†ä¿®é¥°ç¬¦gï¼Œè¿”å›çš„æ˜¯å¤§æ­£åˆ™åŒ¹é…ç»“æœç»„æˆçš„æ•°ç»„ï¼Œä¸åŠ ä¿®é¥°ç¬¦gåˆ™è¿”å›å¤§æ­£åˆ™å’Œæ¯ä¸ªå°åˆ†ç»„è¿”å›ç»“æœç»„æˆçš„æ•°ç»„ï¼Œä½†æ˜¯ä»–ä¹Ÿæœ‰å±€é™æ€§ï¼Œå°±æƒ³ä¸Šé¢è¯´çš„åœ¨åŠ äº†ä¿®é¥°ç¬¦gçš„æ—¶å€™ï¼Œä¼šå¿½ç•¥å°åˆ†ç»„æ•è·å†…å®¹ï¼Œåªæ•è·å¤§æ­£åˆ™æ•è·å†…å®¹ï¼Œè§£å†³åŠæ³•å°±å‘ä¸Šé¢myExecä¸€æ ·ï¼Œå°†arrs[0]æ”¹ä¸ºarrsï¼Œåœ¨æ¯æ¬¡åŒ¹é…åˆ°ç»“æœæ—¶ï¼Œå°†æ¯ä¸ªå°åˆ†ç»„ä¹Ÿä¿å­˜ä¸‹æ¥ã€‚ 4. replace()è§„åˆ™ï¼šåŒ¹é…é™ˆå®«çš„å­—ç¬¦ä¸²æ›¿æ¢æˆæ–°çš„å­—ç¬¦ä¸²ã€‚ç”¨æ³•ï¼šå­—ç¬¦ä¸².replace(æ­£åˆ™, æ–°çš„å­—ç¬¦ä¸²)æ¡ˆä¾‹ï¼š 1234var str = 'aaa';var re = /a+/g;str = str.replace(re, &quot;b&quot;);console.log(str); // b æ•æ„Ÿè¯æ›¿æ¢ 12345var s1 = 'éè¯šå‹¿æ‰°åœ¨ä¸­å›½èˆ¹çš„ç›‘è§†ä¹‹ä¸‹å¯¸æ­¥éš¾è¡Œ';var re = /éè¯š|ä¸­å›½èˆ¹|ç›‘è§†ä¹‹ä¸‹/g;s1.replace(re, function(str) { return '*'.repeat(str.length);}) æ›¿æ¢å¤§æ‹¬å·é‡Œçš„å†…å®¹ 123456789var str = 'my name is {lalala}, I\\'m from {haia}'var reg = /\\{([a-z]+)\\}/str = str.replace(reg, '123')console.log(str)// æ‰“å°å‡º my name is 123, I'm from {ngaiwe}// åŒå­¦ä»¬ä¼šå‘ç°å’Œexecçš„æ‡’æƒ°æ€§å¾ˆç›¸ä¼¼ï¼Œä¸åŠ ä¿®é¥°ç¬¦g åªåŒ¹é…ç¬¬ä¸€ä¸ªlastIndexæ²¡æœ‰æ”¹å˜var reg = /\\{([a-z]+)\\}/g// æ‰“å°å‡º my name is 123, I'm from 123 replaceä¸ä¼šä¿®æ”¹åŸå§‹å­—ç¬¦ä¸² 123456var str = 'my name is {weiran}, my blog is {ngaiwe}'var reg = /\\{([a-z]+)\\}/gstr = str.replace(reg, function () { console.log(arguments)})// æ‰“å°å‡ºå½“å‰åŒ¹é…çš„å°åˆ†ç»„ï¼Œå¦‚æœå‡½æ•°ä¸­æ²¡æœ‰returnå‡ºæ›¿æ¢å€¼ï¼Œåˆ™è¿”å›undefined 5. split()æŒ‰ç…§æ­£åˆ™è§„åˆ™æ‹†åˆ†æ•°ç»„ 1234var str = 'weiRanNgaiWe'var reg = /[A-Z]/console.log(str.split(reg))// [&quot;wei&quot;, &quot;an&quot;, &quot;gai&quot;, &quot;e&quot;]æŒ‰ç…§å¤§å†™æ‹†åˆ†æˆæ•°ç»„ æ­£åˆ™åŸå‹æ–¹æ³•RegExp.prototypeæ­£åˆ™åŸå‹å¯¹è±¡ä¸Šä¸€å…±å°±ä¸‰ä¸ªæ–¹æ³•,exec testå’ŒtoString execç”¨äºæ•è·ç»„è€Œè®¾è®¡ï¼Œå®å‚æ˜¯è¦åŒ¹é…çš„å­—ç¬¦ä¸²12345678910111213var str = '234ewqe2r3562';var reg = /\\d+/;reg.exec(str);// [&quot;234&quot;, index: 0, input: &quot;234ewqe2r3562&quot;, groups: undefined]// 0: &quot;234&quot;// groups: undefined// index: 0// input: &quot;234ewqe2r3562&quot;// length: 1// __proto__: Array(0)str = 'æ–‡å­—';reg.exec(str);// null æ•è·åŸç† åœ¨æ•è·çš„æ—¶å€™å…ˆéªŒè¯å½“å‰å­—ç¬¦ä¸²å’Œæ­£åˆ™æ˜¯å¦åŒ¹é…ï¼Œä¸åŒ¹é…è¿”å›nullï¼ˆæ²¡æœ‰æ•è·åˆ°ä»»ä½•å†…å®¹ï¼‰ å¦‚æœåŒ¹é…ä»å­—ç¬¦ä¸²æœ€å·¦è¾¹å¼€å§‹ï¼Œå‘å³æŸ¥æ‰¾åˆ°åŒ¹é…å†…å®¹ï¼Œå¹¶æŠŠåŒ¹é…çš„å†…å®¹è¿”å› æ•è·ç»“æœ ç»“æœæ˜¯ä¸€ä¸ªæ•°ç»„ ç¬¬ä¸€é¡¹0 æ˜¯å½“å‰æœ¬æ¬¡å¤§æ­£åˆ™ä¸­åŒ¹é…çš„ç»“æœ indexæ˜¯åŒ¹é…åˆ°çš„ç»“æœåœ¨å­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ä½ç½® inputå½“å‰æ­£åˆ™æ“ä½œçš„åŸå§‹å­—ç¬¦ä¸² å¦‚æœå¤§æ­£åˆ™ä¸­æœ‰åˆ†ç»„()ï¼Œè·å–çš„æ•°ç»„ä¸­ä»ç¬¬äºŒé¡¹å¼€å§‹éƒ½æ˜¯æ¯ä¸ªå°åˆ†ç»„çš„æ•è·ç»“æœä¸‹é¢ä¸¾ä¸€ä¸ªèº«ä»½è¯æ­£åˆ™çš„ä¾‹å­ ä¾¿äºå‚è€ƒï¼Œå…·ä½“é‡Œé¢åŒ¹é…è§„åˆ™ä¸‹é¢ä¼šå•ç‹¬ä»‹ç»ï¼Œè¿™é‡Œåªå­¦ä¹ å­—æ®µæ„ä¹‰ 12345678910111213141516var reg = /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})\\d{2}(\\d)(\\d|X)$/;var str = '110010199301032345'reg.exec(str)// æ‰§è¡Œç»“æœï¼š// [&quot;110010199301032345&quot;, &quot;110010&quot;, &quot;1993&quot;, &quot;01&quot;, &quot;03&quot;, &quot;4&quot;, &quot;5&quot;, index: 0, input: &quot;110010199301032345&quot;, groups: undefined]// 0: &quot;110010199301032345&quot;// 1: &quot;110010&quot;// 2: &quot;1993&quot;// 3: &quot;01&quot;// 4: &quot;03&quot;// 5: &quot;4&quot;// 6: &quot;5&quot;// groups: undefined// index: 0// input: &quot;110010199301032345&quot;// length: 7 æ‡’æƒ°æ€§æ­£åˆ™æ•è·å­˜åœ¨æ‡’æƒ°æ€§ï¼Œåœ¨ä¸Šé¢æ‰§è¡Œexecåªæ•è·åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆè§„åˆ™çš„å†…å®¹ï¼Œç¬¬äºŒæ¬¡æ‰§è¡Œä¹Ÿæ˜¯æ•è·åˆ°ç¬¬ä¸€ä¸ªå†…å®¹ï¼Œåé¢çš„å†…å®¹æ— è®ºæ‰§è¡Œå¤šå°‘æ¬¡éƒ½æ— æ³•æ•è·åˆ°ã€‚ è§£å†³åŠæ³•ï¼šåœ¨æ­£åˆ™æœ«å°¾åŠ ä¿®é¥°ç¬¦g(å…¨å±€åŒ¹é…) åŸç†æ­£åˆ™æœ¬èº«æœ‰lastIndexå±æ€§, ä¸‹ä¸€æ¬¡æ­£åˆ™åœ¨å­—ç¬¦ä¸²ä¸­åŒ¹é…æŸ¥æ‰¾çš„å¼€å§‹ç´¢å¼•é»˜è®¤å€¼æ˜¯0ï¼Œ ä»å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹æŸ¥æ‰¾ï¼Œç”±æ­¤å¯è§å½“æ‰§è¡Œå®ŒexecålastIndexå¹¶æ²¡æœ‰å˜ï¼Œå¹¶ä¸”å°±ç®—æ‰‹åŠ¨ä¿®æ”¹lastIndexä¹Ÿä¸ä¼šèµ·ä½œç”¨ 12345678var str = '1w2q3e'var reg = /\\d+/console.log(reg.lastIndex)reg.exec(str)console.log(reg.lastIndex)reg.exec(str)// 0// 0 åœ¨æ­£åˆ™è¡¨è¾¾å¼æœ«å°¾åŠ gåï¼Œæ¯æ¬¡æ‰§è¡Œexecåï¼Œæµè§ˆå™¨é»˜è®¤ä¼šä¿®æ”¹lastIndexã€‚ä¸‹æ¬¡ä»ä¸Šä¸€æ¬¡ç»“æŸçš„ä½ç½®å¼€å§‹æŸ¥æ‰¾ 12345reg = /\\d+/gconsole.log(reg.lastIndex) // 0reg.exec(str)console.log(reg.lastIndex) // 1reg.exec(str) reg.global å¯ä»¥åˆ¤æ–­æ­£åˆ™æ˜¯å¦æ˜¯å…¨å±€åŒ¹é… toStringå°†æ­£åˆ™è¡¨è¾¾å¼è½¬åŒ–ä¸ºå­—ç¬¦ä¸² testå¦‚ä¸Š æ­£åˆ™è§£æçœ‹ä¸€ä¸ªç®€å•çš„æ­£åˆ™ï¼š^[a-z0-9_-]{6,12}$ ^è¡¨ç¤ºåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½® [a-z0-9_-]è¡¨ç¤ºå­—ç¬¦ä¸²çš„å¼€å¤´å¯ä»¥ä¸ºa-zçš„å­—æ¯, 0-9çš„æ•°å­—, _ä¸‹åˆ’çº¿, -è¿æ¥ç¬¦ [a-z] è¡¨ç¤ºåŒ¹é… a-z ä¸­ä»»æ„å•ä¸ªå­—æ¯ï¼› [0-9] è¡¨ç¤ºåŒ¹é… 0-9 ä¸­ä»»æ„å•ä¸ªæ•°å­—ï¼› [_] è¡¨ç¤ºåŒ¹é…ä¸‹åˆ’çº¿ï¼› [-] è¡¨ç¤ºåŒ¹é…è¿æ¥ç¬¦ -ã€‚æ‰€ä»¥ï¼Œå°†å‰é¢çš„è¿èµ·æ¥ï¼Œ[a-z0-9_-] è¡¨ç¤ºå­—ç¬¦ä¸²å¯ä»¥åŒ…å«æ•°å­—ã€å­—æ¯ã€_ã€- è¿™å››ç§å½¢å¼çš„å­—ç¬¦ä¸²ã€‚ {6, 12} è¡¨ç¤ºè¯¥å­—ç¬¦ä¸²çš„é•¿åº¦ä¸º 6-12 ä½ã€‚ $è¡¨ç¤ºç»“æŸæ ‡å¿—ï¼Œ^ è¡¨ç¤ºå¼€å§‹ ^ ä¸ $ åŒæ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºç²¾ç¡®åŒ¹é…ã€‚ ç»¼ä¸Šï¼šè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ç”¨é€”æ ¡éªŒå­—ç¬¦ä¸²åªèƒ½åŒ…å«å°å†™å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œè¿æ¥å­—ç¬¦ï¼Œå¹¶ä¸”æœ€é•¿12ä½ï¼Œæœ€çŸ­6ä½ã€‚ å°æ —å­ğŸŒ°ğŸŒ°ğŸŒ°1234567var str = &quot;Cheer for yourself&quot;;var reg1 = /^Cheer/;var reg2 = /yourself$/;var reg3 = /for/;console.log(reg1.test(str));console.log(reg2.test(str));console.log(reg3.test(str)); ç¬¬ä¸€ä¸ªåˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ Cheer å¼€å¤´ï¼› ç¬¬äºŒä¸ªåˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ yourself ç»“å°¾ï¼› ç¬¬ä¸‰ä¸ªåˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦åŒ…å« forã€‚ èº«ä»½è¯å· å‰6ä½æ˜¯æ•°å­—åœ°åŒºåŒºå·ç»„æˆï¼Œç„¶åå››ä½æ˜¯å¹´ï¼Œä¸¤ä½æœˆï¼Œä¸¤ä½æ—¥å’Œå››ä½éšæœºï¼Œå€’æ•°ç¬¬äºŒä½å•æ•°ç”·æ€§ï¼ŒåŒæ•°å¥³æ€§ï¼Œ æœ€åä¸€ä½å¯èƒ½æ˜¯å¤§å†™X,æ‰€ä»¥æ ¹æ®è¿™ä¸ªè§„åˆ™çš„æ­£åˆ™æ˜¯ 12345var str = '110105199109214237'var reg = /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})\\d{2}(\\d)(\\d|X)$/console.log(reg.exec(str))// [&quot;110105199109214237&quot;, &quot;110105&quot;, &quot;1991&quot;, &quot;09&quot;, &quot;21&quot;, &quot;3&quot;, &quot;7&quot;, index: 0, input: &quot;110105199109214237&quot;, groups: undefined] é‚®ç®± è§„åˆ™ï¼š @å‰é¢å¯èƒ½æ˜¯æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ã€-ã€. -å’Œ.ä¸èƒ½ç›¸è¿åœ¨ä¸€èµ· /^\\w+((-|\\w+)|(.\\w+))*/ å¼€å¤´ä¸€å®šæ˜¯æ•°å­—ï¼Œå­—æ¯æˆ–ä¸‹åˆ’çº¿ç»„æˆï¼Œåé¢çš„å†…å®¹å¯èƒ½æ˜¯-ä¸æ•°å­—å­—æ¯ä¸‹åˆ’çº¿ æˆ–è€….å’Œæ•°å­—å­—æ¯ä¸‹åˆ’çº¿ç»„æˆçš„0åˆ°å¤šä¸ªå­—ç¬¦ @åé¢éƒ¨åˆ†é¦–å…ˆä¸€å®šæ˜¯æ•°å­—å­—æ¯ç»„æˆçš„å¤šä½å­—ç¬¦ç„¶åå¯èƒ½å­˜åœ¨æ˜¯.ç»„æˆçš„é‚®ç®±åç¼€æˆ–è€…é“¾æ¥å‰æ–¹å­—ç¬¦çš„.å’Œ-æœ€åè‚¯å®šæ˜¯.ç»„æˆçš„é‚®ç®±åç¼€ 12345var reg = /^\\w+((-|\\w+)|(\\.\\w+))*@[a-zA-Z0-9]+((\\.|-)[a-zA-Z0-9]+)*\\.[a-zA-Z0-9]+$/var str = 'aaa@hotmail.com.cn'console.log(reg.test(str))// true URLæˆªå– è·å–urlåçš„æœç´¢å‚æ•° å‚æ•°è½¬åŒ–é”®å€¼å¯¹å’Œå“ˆå¸Œå€¼{key: â€˜valueâ€™} éœ€è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†æ•è·ï¼Œé¦–å…ˆç¬¬ä¸€æ¬¡æ•è·?åé¢çš„å‚æ•°ï¼Œç¬¬äºŒæ¬¡æ•è·#åé¢çš„hashå€¼é¦–å…ˆåŒ¹é…ç¬¬ä¸€ä¸ªï¼Œä»–çš„è§„åˆ™æ˜¯åŒ¹é…ç­‰å·ä¸¤è¾¹æ‰€ä»¥æ˜¯/()=()/ï¼Œå¹¶ä¸”åŒ¹é…çš„æ˜¯é?&amp;=#çš„ç‰¹æ®Šå­—ç¬¦ï¼Œå°†ä»–ä»¬ä¿å­˜åœ¨objå¯¹è±¡ä¸­å…¶æ¬¡åŒ¹é…hashï¼Œæ–¹æ³•å’Œç¬¬ä¸€ä¸ªç±»ä¼¼åªæ˜¯åŒ¹é…#åé¢çš„éƒ¨åˆ† 1234567891011String.prototype.myQueryURLParameter = function myQueryURLParameter () { var obj = {} this.replace(/([^?&amp;=#]+)=([^?&amp;=#]+)/g, function () { obj[arguments[1]] = arguments[2] }) this.replace(/#([^?&amp;=#]+)/g, function () { obj['HASH'] = arguments[1] }) return obj} ç¼–å†™éªŒè¯è§„åˆ™æœ€æµè¡Œå’Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ­£åˆ™è¡¨è¾¾å¼äº†ï¼Œä½†å”¯ä¸€çš„ä¸€ä¸ªé—®é¢˜æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•å¤ªéšæ™¦äº†ï¼Œè®©äººè›‹ç–¼æ— æ¯”ã€‚å¾ˆå¤šå¼€å‘è€…ä¸ºäº†åœ¨é¡¹ç›®ä¸­åº”ç”¨å¤æ‚çš„éªŒè¯ï¼Œç»å¸¸è¦ä½¿ç”¨ä¸€äº›å°æŠ„æ¥è®°ä½æ­£åˆ™å¼çš„å¤æ‚è¯­æ³•å’Œå„ç§å¸¸ç”¨å‘½ä»¤ã€‚ åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è¯•å›¾è®©å¤§å®¶æ˜ç™½ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»¥åŠå¦‚ä½•æ›´è½»æ¾åœ°å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼ã€‚ ä¹Ÿè®¸ä½ æ˜¯åˆå­¦è€…ï¼Œé‚£ä»¥é˜²ä¸‡ä¸€ï¼Œæˆ‘å…ˆæ¥è®²è®²ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼å§ï¼š æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„æè¿°å¤æ‚çš„æ–‡æœ¬æ ¼å¼ã€‚ä¸€æ—¦ä½ æè¿°æ¸…æ¥šäº†è¿™äº›æ ¼å¼ï¼Œé‚£ä½ å°±å¯ä»¥åˆ©ç”¨å®ƒä»¬å¯¹æ–‡æœ¬æ•°æ®è¿›è¡Œæ£€ç´¢ã€æ›¿æ¢ã€æå–å’Œä¿®æ”¹æ“ä½œã€‚ ä¸‹é¢æœ‰ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ç®€å•ä¾‹å­ã€‚ç¬¬ä¸€æ­¥å…ˆè¦å¼•å…¥æœ‰å…³æ­£åˆ™å¼çš„å‘½åç©ºé—´ï¼šusing System.Text.RegularExpressions;ç¬¬äºŒæ­¥å°±æ˜¯ç”¨æŒ‡å®šçš„æ­£åˆ™å¼æ„å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡,ä¸‹é¢çš„æ­£åˆ™å¼æ˜¯ç”¨æ¥æœç´¢é•¿åº¦ä¸º10çš„a-zçš„è‹±æ–‡å­—æ¯ï¼šRegex obj = new Regex(â€œ[a-z]{10}â€);æœ€åï¼Œæ ¹æ®æ­£åˆ™å¼åœ¨æŒ‡å®šæ•°æ®ä¸­æ£€ç´¢åŒ¹é…é¡¹,å¦‚æœåŒ¹é…IsMatchæ–¹æ³•å°±ä¼šè¿”å›trueã€‚MessageBox.Show(obj.IsMatch(â€œshivkoiralaâ€).ToString());3ä¸ªé‡è¦çš„æ­£åˆ™å¼å‘½ä»¤ è®°ä½æ­£åˆ™è¯­æ³•æœ€å¥½çš„åŠæ³•å°±æ˜¯è®°ä½è¿™ä¸‰æ ·ä¸œè¥¿ï¼šBracketï¼ˆæ‹¬å·ï¼‰, caretï¼ˆæ’å…¥ç¬¦å·ï¼‰å’ŒDollarsï¼ˆç¾å…ƒç¬¦å·ï¼‰ã€‚ B åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰3ç§ç±»å‹çš„æ‹¬å· æ–¹æ‹¬å· â€œ[â€œå’ŒèŠ±æ‹¬å·â€œ{â€œ ã€‚ æ–¹æ‹¬å·â€[â€œå†…æ˜¯éœ€è¦åŒ¹é…çš„å­—ç¬¦ï¼ŒèŠ±æ‹¬å·â€{â€œå†…æ˜¯æŒ‡å®šåŒ¹é…å­—ç¬¦çš„æ•°é‡ã€‚ åœ†æ‹¬å·â€œ(â€œ åˆ™æ˜¯ç”¨æ¥åˆ†ç»„çš„ã€‚ Cæ’å…¥ç¬¦å· â€œ^â€ è¡¨ç¤ºæ­£åˆ™å¼çš„å¼€å§‹ã€‚ Dç¾å…ƒç¬¦å·â€œ$â€ è¡¨ç¤ºæ­£åˆ™å¼çš„ç»“æŸã€‚ç°åœ¨ä½ çŸ¥é“ä¸Šé¢çš„3ä¸ªè¯­æ³•åï¼Œä½ å°±å¯ä»¥å†™ä¸–ç•Œä¸Šä»»ä½•ä¸€æ¡éªŒè¯è§„åˆ™äº†ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­å°±å¾ˆå¥½çš„è¯´æ˜äº†ä¸Šé¢3æ¡æ­£åˆ™è¯­æ³•æ˜¯å¦‚ä½•åè°ƒè¿ä½œçš„ã€‚ æ³¨ï¼šä¸Šå›¾æœ‰ä¸ªé”™è¯¯ï¼Œâ€()â€åº”ä¸ºâ€{}â€ ä¸Šé¢çš„è¿™æ¡æ­£åˆ™å¼åªèƒ½åŒ¹é…a-zçš„è‹±æ–‡å­—æ¯ï¼ŒåŒæ ·æ˜¯åœ¨ä¸­æ‹¬å·ä¸­æ ‡æ˜åŒ¹é…èŒƒå›´ã€‚ èŠ±æ‹¬å·ä¸­åˆ™æ˜¯æ ‡æ˜åŒ¹é…å­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦å’Œæœ€å¤§é•¿åº¦ã€‚ æœ€åä¸ºäº†è®©è¡¨è¾¾å¼æ›´è§„åˆ™ï¼Œåˆ†åˆ«åœ¨å¼€å¤´å’Œç»“å°¾åŠ ä¸Šäº†æ’å…¥ç¬¦å·â€^â€å’Œç¾å…ƒç¬¦å·â€$â€ã€‚ å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±ç”¨ä¸Šé¢çš„3æ¡è¯­æ³•æ¥å®ç°ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼çš„éªŒè¯è§„åˆ™å§ã€‚ æ£€æŸ¥ç”¨æˆ·æ˜¯å¦è¾“å…¥äº†shivkoiralaï¼Ÿshivkoiralaè®©æˆ‘ä»¬å¼€å§‹ç¬¬ä¸€ä¸ªéªŒè¯ï¼Œè¾“å…¥çš„å­—ç¬¦åœ¨a-gä¹‹é—´ï¼Ÿ[a-g]è¾“å…¥çš„å­—ç¬¦åœ¨a-gä¹‹é—´å¹¶ä¸”é•¿åº¦ä¸º3ï¼Ÿ[a-g]{3}è¾“å…¥çš„å­—ç¬¦åœ¨a-gä¹‹é—´å¹¶ä¸”æœ€å¤§é•¿åº¦ä¸º3æœ€å°é•¿åº¦ä¸º1ï¼Ÿ[a-g]{1,3}æˆ‘å¦‚ä½•åœ¨åŒ¹é…åƒ91230456, 01237648é‚£æ ·çš„å›ºå®š8ä½æ•°ï¼Ÿ^[0-9]{8}$å¦‚ä½•éªŒè¯æœ€å°é•¿åº¦ä¸º3æœ€å¤§é•¿åº¦ä¸º7çš„æ•°å­—ï¼Œå¦‚ï¼š123, 1274667, 87654ï¼Ÿ^[0-9]{3,7}$å¦‚ä½•éªŒè¯åƒLJI1020é‚£æ ·çš„å‘ç¥¨ç¼–å·ï¼Œå‰3ä¸ªæ˜¯å­—æ¯å‰©ä½™ä¸º8ä½é•¿åº¦çš„æ•°å­—ï¼Ÿ å‰ä¸‰ä¸ªæ˜¯å­—æ¯ï¼š^[a-z]{3}åé¢æ˜¯8ä½é•¿åº¦çš„æ•°å­—ï¼š[0-9]{8}æ‰€ä»¥æ•´ä¸ªè¡¨è¾¾å¼ä¸ºï¼š^[a-z]{3}[0-9]{7}$éªŒè¯åƒINV190203 æˆ– inv820830é‚£æ ·çš„å‰3ä½æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„è‹±æ–‡å­—æ¯ï¼Œå‰©ä½™8ä½æ˜¯æ•°å­—ã€‚ åœ¨å‰é¢çš„è¡¨è¾¾å¼ä¸­åªèƒ½åŒ¹é…å‰3ä¸ªæ˜¯å°å†™è‹±æ–‡å­—æ¯çš„å‘ç¥¨ç¼–å·ï¼Œå¦‚æœæˆ‘ä»¬è¾“å…¥å¤§å†™å­—æ¯é‚£å°±ä¸èƒ½åŒ¹é…äº†ã€‚æ‰€ä»¥ä¸ºäº†ç¡®ä¿å‰3ä¸ªå­—æ¯æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œæˆ‘ä»¬å°±è¦ç”¨è¡¨è¾¾å¼^[a-zA-Z]{3}ã€‚^[a-zA-Z]{3}[0-9]{7}$æˆ‘ä»¬å¯ä»¥éªŒè¯ç®€å•çš„ç½‘å€URLæ ¼å¼å—ï¼Ÿ ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨wwwï¼š^www.ç¬¬äºŒæ­¥ï¼šåŸŸåå¿…é¡»æ˜¯é•¿åº¦åœ¨1-15çš„è‹±æ–‡å­—æ¯ï¼š. [a-z]{1,15}ç¬¬ä¸‰æ­¥ï¼šä»¥.comæˆ–è€….orgç»“æŸï¼š. (com|org)$å®Œæ•´çš„è¡¨è¾¾å¼å¦‚ä¸‹ï¼š^www[.][a-z]{1,15}.$è®©æˆ‘ä»¬åœ¨æ¥çœ‹çœ‹BCDï¼ˆå…¶å®ä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„3æ¡åŸºæœ¬è¯­æ³•ï¼‰å¦‚ä½•éªŒè¯emailæ ¼å¼ã€‚ ç¬¬ä¸€æ­¥ï¼šemailå¼€å§‹æ˜¯é•¿åº¦åœ¨1-10çš„è‹±æ–‡å­—æ¯ï¼Œæœ€åè·Ÿä¸€ä¸ªâ€@â€ï¼š^[a-zA-Z0-9]{1,10}@ç¬¬äºŒæ­¥ï¼š@åé¢æ˜¯é•¿åº¦åœ¨1-10çš„è‹±æ–‡å­—æ¯ï¼Œåé¢è·Ÿä¸€ä¸ªâ€.â€ï¼š[a-zA-Z]{1,10}.ç¬¬ä¸‰æ­¥ï¼šæœ€åä»¥.comæˆ–.orgç»“æŸï¼š.(com|org)$æœ€åå®Œæ•´çš„è¡¨è¾¾å¼å¦‚ä¸‹ï¼š^[a-zA-Z0-9]{1,10}@[a-zA-Z]{1,10}.(com|org)$éªŒè¯å€¼åœ¨0-25çš„æ•°å­—ï¼š^(([0-9])|([0-1][0-9])|([0-2][0-5]))$éªŒè¯æ ¼å¼ä¸ºMM/DD/YYYY, YYYY/MM/DD and DD/MM/YYYYçš„æ—¥æœŸï¼šæ­¥éª¤ æ­£åˆ™å¼ æè¿°è¯´æ˜ å…ˆæ¥æ£€æŸ¥ DD. é¦–å…ˆDDçš„é•¿åº¦ä¸º1-29 ( 2æœˆä»½) , 1-30 (æœˆå°) , 1-31 (æœˆå¤§) . æ‰€ä»¥ DD å°±æ˜¯ 1-9 æˆ– 01-09 [1-9]|0[1-9] å…è®¸ç”¨æˆ·è¾“å…¥1-9æˆ–è€…01-09. å†ä¸ºDDæ·»åŠ åŒ¹é…10-19 [1-9]|1[0-9] å…è®¸ç”¨æˆ·è¾“å…¥01-19. å†ä¸ºDDæ·»åŠ åŒ¹é…20-29 [1-9]|1[0-9]|2[0-9] å…è®¸ç”¨æˆ·è¾“å…¥01-29. iå†ä¸ºDDæ·»åŠ åŒ¹é…30-31 [1-9]|1[0-9]|2[0-9]|3[0-1] æœ€åç”¨æˆ·å¯ä»¥è¾“å…¥01-31. å†æ¥åŒ¹é…æ—¥æœŸé—´çš„åˆ†éš”ç¬¦â€/â€œï¼Œâ€-â€œ [/ . -] å…è®¸ç”¨æˆ·è¾“å…¥æ—¥æœŸåˆ†éš”ç¬¦. MMä¹Ÿæ˜¯ç±»ä¼¼çš„æ“ä½œ [1-9]|0[1-9]|1[0-2] è®©ç”¨æˆ·è¾“å…¥æœˆä»½å€¼01-12. æœ€åå°±æ˜¯YYçš„æ“ä½œ 1[9][0-9][0-9]|2[0][0-9][0-9] å…è®¸ç”¨æˆ·è¾“å…¥å¹´ä»½1900-2099.æœ€åDD/MM/YYYYæ ¼å¼çš„æ—¥æœŸçš„æ­£åˆ™è¡¨è¾¾å¼ä¸ºï¼š^([1-9]|0[1-9]|1[0-9]|2[0-9]|3[0-1])- / .- / .$MM/DD/YYYYæ ¼å¼çš„æ—¥æœŸï¼š^([1-9]|0[1-9]|1[0-2])- / .- / .$YYYY/MM/DDæ ¼å¼çš„æ—¥æœŸï¼š^(1[9][0-9][0-9]|2[0][0-9][0-9])- / .- / .$å¿«æ·å‘½ä»¤ ä½ ä¹Ÿå¯ä»¥ç”¨ä»¥ä¸‹çš„å¿«æ·å‘½ä»¤æ¥ç®€åŒ–ä½ çš„æ­£åˆ™è¡¨è¾¾å¼ï¼šå®é™…å‘½ä»¤å¿«æ·å‘½ä»¤ [0-9]d [a-z][0-9][_]w 0æ¬¡æˆ–å¤šæ¬¡å‘ç”Ÿ* è‡³å°‘ä¸€æ¬¡å‘ç”Ÿ+ 0æ¬¡æˆ–1æ¬¡å‘ç”Ÿ?","link":"/posts/%E6%AD%A3%E5%88%99/"},{"title":"HTTPç§¯ç´¯","text":"[TOC] http æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹ç”¨putå’Œgetæœ‰ä»€ä¹ˆç›¸åŒç‚¹é“¾æ¥ traceæ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Œ optionsæ˜¯ç”¨æ¥å¹²å˜›çš„ CONNECT HTTP/1.1åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚ OPTIONS å…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½ã€‚ TRACE å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ã€‚ HEAD ç±»ä¼¼äºgetè¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›çš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºè·å–æŠ¥å¤´ HTTP2 ä¸ HTTP1.1 åŒºåˆ« http2 ä½¿ç”¨äºŒè¿›åˆ¶ä¼ é€ï¼Œhttp1.x ä½¿ç”¨æ–‡æœ¬(å­—ç¬¦ä¸²)ä¼ é€ äºŒè¿›åˆ¶ä¼ é€å•ä½æ˜¯å¸§å’Œæµï¼Œå¸§ç»„æˆäº†æµï¼ŒåŒæ—¶æµè¿˜æœ‰æµ ID æ ‡è¯† http2 æ”¯æŒå¤šè·¯å¤ç”¨ æœ‰æµ IDï¼Œé€šè¿‡åŒä¸€ä¸ª HTTP è¯·æ±‚å®ç°å¤šä¸ª http è¯·æ±‚ä¼ è¾“å˜æˆäº†å¯èƒ½ï¼Œå¯ä»¥é€šè¿‡æµ ID æ¥æ ‡ç¤ºç©¶ç«Ÿæ˜¯å“ªä¸ªæµä»è€Œå®šä½åˆ°æ˜¯å“ªä¸ª http è¯·æ±‚ http2 å¤´éƒ¨å‹ç¼© http2 é€šè¿‡ gzip å’Œ compress å‹ç¼©å¤´éƒ¨å†å‘é€ï¼ŒåŒæ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åŒæ—¶ç»´æŠ¤ä¸€å¼ å¤´ä¿¡æ¯è¡¨ï¼Œæ‰€æœ‰å­—æ®µéƒ½è®°å½•åœ¨è¿™å¼ è¡¨ä¸­ï¼Œä»¥åæ¯æ¬¡ä¼ è¾“åªéœ€è¦ä¼ è¾“è¡¨é‡Œé¢çš„ç´¢å¼• idï¼Œé€šè¿‡ç´¢å¼• id å¯ä»¥çŸ¥é“è¡¨å¤´çš„å€¼ http2 æ”¯æŒæœåŠ¡å™¨æ¨é€ æ”¯æŒåœ¨å®¢æˆ·ç«¯æœªç»è¯·æ±‚è®¸å¯çš„æƒ…å†µä¸‹ï¼Œä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€å†…å®¹ http æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹ç”¨put å’Œ get æœ‰ä»€ä¹ˆç›¸åŒç‚¹é“¾æ¥ trace æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Œ options æ˜¯ç”¨æ¥å¹²å˜›çš„ CONNECT HTTP/1.1 åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚ OPTIONS å…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½ã€‚ TRACE å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ã€‚ HEAD ç±»ä¼¼äº get è¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›çš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºè·å–æŠ¥å¤´ GETï¼šè·å–èµ„æº POST:ä¼ è¾“å®ä½“ä¸»ä½“ PUT:ä¼ è¾“æ–‡ä»¶ HEAD:è·å–æŠ¥æ–‡é¦–éƒ¨ DELETEï¼šåˆ é™¤æ–‡ä»¶ OPTIONSï¼šæŸ¥è¯¢æ”¯æŒæ–¹æ³• TRACKï¼šè¿½è¸ªè·¯å¾„ CONNECTï¼šè¦æ±‚ç”¨éš§é“åè®®è¿æ¥ä»£ç† ajax çŠ¶æ€å€¼123450 ä»£è¡¨æœªåˆå§‹åŒ–ã€‚ è¿˜æ²¡æœ‰è°ƒç”¨ open æ–¹æ³•1 ä»£è¡¨æ­£åœ¨åŠ è½½ã€‚ open æ–¹æ³•å·²è¢«è°ƒç”¨ï¼Œä½† send æ–¹æ³•è¿˜æ²¡æœ‰è¢«è°ƒç”¨2 ä»£è¡¨å·²åŠ è½½å®Œæ¯•ã€‚send å·²è¢«è°ƒç”¨ã€‚è¯·æ±‚å·²ç»å¼€å§‹3 ä»£è¡¨äº¤äº’ä¸­ã€‚æœåŠ¡å™¨æ­£åœ¨å‘é€å“åº”4 ä»£è¡¨å®Œæˆã€‚å“åº”å‘é€å®Œæ¯• 7 å±‚æ¨¡å‹7 åº”ç”¨å±‚6 è¡¨ç¤ºå±‚ å®šä¹‰æ•°æ®æ ¼å¼åŠåŠ å¯†ç¤ºä¾‹ï¼šåŠ å¯†ï¼ŒASII 5 ä¼šè¯å±‚å®šä¹‰äº†å¦‚ä½•å¼€å§‹ã€æ§åˆ¶å’Œç»“æŸä¸€ä¸ªä¼šè¯ï¼ŒåŒ…æ‹¬å¯¹å¤šä¸ªåŒå‘å°æ—¶çš„æ§åˆ¶å’Œç®¡ç†ï¼Œä»¥ä¾¿åœ¨åªå®Œæˆè¿ç»­æ¶ˆæ¯çš„ä¸€éƒ¨åˆ†æ—¶å¯ä»¥é€šçŸ¥åº”ç”¨ï¼Œä»è€Œä½¿è¡¨ç¤ºå±‚çœ‹åˆ°çš„æ•°æ®æ˜¯è¿ç»­çš„ï¼Œ ç¤ºä¾‹ï¼šRPCï¼ŒSQL ç­‰ã€‚ 4 ä¼ è¾“å±‚åŠŸèƒ½åŒ…æ‹¬æ˜¯å¦é€‰æ‹©å·®é”™æ¢å¤åè®®è¿˜æ˜¯æ— å·®é”™æ¢å¤åè®®ï¼ŒåŠåœ¨åŒä¸€ä¸»æœºä¸Šå¯¹ä¸åŒåº”ç”¨çš„æ•°æ®æµçš„è¾“å…¥è¿›è¡Œå¤ç”¨ï¼Œè¿˜åŒ…æ‹¬å¯¹æ”¶åˆ°çš„é¡ºåºä¸å¯¹çš„æ•°æ®åŒ…çš„é‡æ–°æ’åºåŠŸèƒ½ã€‚ ç¤ºä¾‹ï¼šTCPï¼ŒUDPï¼ŒSPXã€‚ 3 ç½‘ç»œå±‚ä¸ºå»ºç«‹ç½‘ç»œè¿æ¥å’Œä¸ºä¸Šå±‚æä¾›æœåŠ¡, ç¤ºä¾‹ï¼šIP,IPX 2 æ•°æ®é“¾è·¯å±‚ä¸ºç½‘ç»œå±‚æä¾›æ•°æ®ä¼ é€æœåŠ¡çš„ã€‚ç¤ºä¾‹ï¼šATMï¼ŒFDDIç­‰ã€‚ 1 ç‰©ç†å±‚è¿æ¥å¤´ã€é’ˆã€é’ˆçš„ä½¿ç”¨ã€ç”µæµã€ç”µæµã€ç¼–ç åŠå…‰è°ƒåˆ¶ç­‰éƒ½å±äºå„ç§ç‰©ç†å±‚è§„èŒƒä¸­çš„å†…å®¹ã€‚ OSI åˆ†å±‚çš„ä¼˜ç‚¹ï¼ˆ1ï¼‰äººä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„è®¨è®ºå’Œå­¦ä¹ åè®®çš„è§„èŒƒç»†èŠ‚ã€‚ ï¼ˆ2ï¼‰å±‚é—´çš„æ ‡å‡†æ¥å£æ–¹ä¾¿äº†å·¥ç¨‹æ¨¡å—åŒ–ã€‚ ï¼ˆ3ï¼‰åˆ›å»ºäº†ä¸€ä¸ªæ›´å¥½çš„äº’è¿ç¯å¢ƒã€‚ ï¼ˆ4ï¼‰é™ä½äº†å¤æ‚åº¦ï¼Œä½¿ç¨‹åºæ›´å®¹æ˜“ä¿®æ”¹ï¼Œäº§å“å¼€å‘çš„é€Ÿåº¦æ›´å¿«ã€‚ ï¼ˆ5ï¼‰æ¯å±‚åˆ©ç”¨ç´§é‚»çš„ä¸‹å±‚æœåŠ¡ï¼Œæ›´å®¹æ˜“è®°ä½ä¸ªå±‚çš„åŠŸèƒ½ã€‚ get å’Œ post åŒºåˆ«æœ€ç›´è§‚çš„åŒºåˆ«1).GET æŠŠå‚æ•°åŒ…å«åœ¨ URL ä¸­ï¼ŒPOST é€šè¿‡ request body ä¼ é€’å‚æ•°; 2).GET åœ¨æµè§ˆå™¨å›é€€æ—¶æ˜¯æ— å®³çš„ï¼Œè€Œ POST ä¼šå†æ¬¡æäº¤è¯·æ±‚; 3).GET äº§ç”Ÿçš„ URL åœ°å€å¯ä»¥è¢« Bookmarkï¼Œè€Œ POST ä¸å¯ä»¥; 4).GET è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ cacheï¼Œè€Œ POST ä¸ä¼šï¼Œé™¤éæ‰‹åŠ¨è®¾ç½®; 5). GET è¯·æ±‚åªèƒ½è¿›è¡Œ url ç¼–ç ï¼Œè€Œ POST æ”¯æŒå¤šç§ç¼–ç æ–¹å¼; 6).GET è¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´ä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•é‡Œï¼Œè€Œ POST ä¸­çš„å‚æ•°ä¸ä¼šè¢«ä¿ç•™; 7).GET è¯·æ±‚åœ¨ URL ä¸­ä¼ é€çš„å‚æ•°æ˜¯æœ‰é•¿åº¦é™åˆ¶çš„ï¼Œè€Œ POST æ²¡æœ‰é™åˆ¶; 8). å¯¹å‚æ•°çš„æ•°æ®ç±»å‹ï¼ŒGET åªæ¥å— ASCII å­—ç¬¦ï¼Œè€Œ POST æ²¡æœ‰é™åˆ¶; 9).GET æ¯” POST æ›´ä¸å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ç›´æ¥æš´éœ²åœ¨ URL ä¸Šï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ¥ä¼ é€’æ•æ„Ÿä¿¡æ¯; æœ¬è´¨åŒºåˆ«é¦–å…ˆ GET å’Œ POST è¯·æ±‚éƒ½æ˜¯ HTTP åè®®ä¸­çš„ä¸¤ç§å‘é€è¯·æ±‚çš„æ–¹æ³•,è€Œ HTTP æ˜¯åŸºäº TCP/IP çš„å…³äºæ•°æ®å¦‚ä½•åœ¨ä¸‡ç»´ç½‘ä¸­å¦‚ä½•é€šä¿¡çš„åè®®,HTTP çš„åº•å±‚æ˜¯ TCP/IPã€‚æ‰€ä»¥ GET å’Œ POST çš„åº•å±‚ä¹Ÿæ˜¯ TCP/IPï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒGET/POST éƒ½æ˜¯ TCP é“¾æ¥ã€‚GET å’Œ POST èƒ½åšçš„äº‹æƒ…æ˜¯ä¸€æ ·ä¸€æ ·çš„ã€‚ä½ è¦ç»™ GET åŠ ä¸Š request bodyï¼Œç»™ POST å¸¦ä¸Š url å‚æ•°ï¼ŒæŠ€æœ¯ä¸Šæ˜¯å®Œå…¨è¡Œçš„é€šçš„ã€‚ 1).è™½ç„¶ç†è®ºä¸Š GET å’Œ POST è¯·æ±‚åœ¨ä½¿ç”¨ä¸Šå¯ä»¥æ²¡æœ‰åŒºåˆ«,ä½†æ˜¯ä¸åŒçš„æµè§ˆå™¨(å‘èµ· http è¯·æ±‚)å’ŒæœåŠ¡å™¨(æ¥å— http è¯·æ±‚)ä¼šé™åˆ¶å•æ¬¡ä¼ é€æ•°æ®äº†æ¥æ§åˆ¶é£é™©ï¼Œæ•°æ®é‡å¤ªå¤§å¯¹æµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½æ˜¯å¾ˆå¤§è´Ÿæ‹…ã€‚ä¸šç•Œä¸æˆæ–‡çš„è§„å®šæ˜¯ï¼Œ(å¤§å¤šæ•°)æµè§ˆå™¨é€šå¸¸éƒ½ä¼šé™åˆ¶ url é•¿åº¦åœ¨ 2K ä¸ªå­—èŠ‚ï¼Œè€Œ(å¤§å¤šæ•°)æœåŠ¡å™¨æœ€å¤šå¤„ç† 64K å¤§å°çš„ urlã€‚è¶…è¿‡çš„éƒ¨åˆ†ï¼Œæ•ä¸å¤„ç†ã€‚å¦‚æœä½ ç”¨ GET æœåŠ¡ï¼Œåœ¨ request body å·å·è—äº†æ•°æ®ï¼Œä¸åŒæœåŠ¡å™¨çš„å¤„ç†æ–¹å¼ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œæœ‰äº›æœåŠ¡å™¨ä¼šå¸®ä½ å¸è´§ï¼Œè¯»å‡ºæ•°æ®ï¼Œæœ‰äº›æœåŠ¡å™¨ç›´æ¥å¿½ç•¥ï¼Œæ‰€ä»¥ï¼Œè™½ç„¶ GET å¯ä»¥å¸¦ request bodyï¼Œä¹Ÿä¸èƒ½ä¿è¯ä¸€å®šèƒ½è¢«æ¥æ”¶åˆ°. 2).GET äº§ç”Ÿä¸€ä¸ª TCP æ•°æ®åŒ…;POST äº§ç”Ÿä¸¤ä¸ª TCP æ•°æ®åŒ…;å¯¹äº GET æ–¹å¼çš„è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šæŠŠ http header å’Œ data ä¸€å¹¶å‘é€å‡ºå»ï¼ŒæœåŠ¡å™¨å“åº” 200(è¿”å›æ•°æ®);è€Œå¯¹äº POSTï¼Œæµè§ˆå™¨å…ˆå‘é€ headerï¼ŒæœåŠ¡å™¨å“åº” 100 continueï¼Œæµè§ˆå™¨å†å‘é€ dataï¼ŒæœåŠ¡å™¨å“åº” 200 ok(è¿”å›æ•°æ®)ã€‚å› ä¸º ==POST éœ€è¦ä¸¤æ­¥ï¼Œæ—¶é—´ä¸Šæ¶ˆè€—çš„è¦å¤šä¸€ç‚¹ï¼Œçœ‹èµ·æ¥ GET æ¯” POST æ›´æœ‰æ•ˆã€‚== å› æ­¤ Yahoo å›¢é˜Ÿæœ‰æ¨èç”¨ GET æ›¿æ¢ POST æ¥ä¼˜åŒ–ç½‘ç«™æ€§èƒ½ã€‚ HTTPS å’Œ HTTP çš„åŒºåˆ« https åè®®éœ€è¦åˆ° ca ç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦è¾ƒå°‘ï¼Œå› è€Œéœ€è¦ä¸€å®šè´¹ç”¨ã€‚ http æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œhttps åˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„ ssl åŠ å¯†ä¼ è¾“åè®®ã€‚ http å’Œ https ä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯ 80ï¼Œåè€…æ˜¯ 443ã€‚ http çš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼›HTTPS åè®®æ˜¯ç”± SSL+HTTP åè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯” http åè®®å®‰å…¨ã€‚ æµè§ˆå™¨ç¼“å­˜åå•†ç¼“å­˜Last-Modify/If-Modify-Since ETag/If-None-Match å¼ºç¼“å­˜Expires æˆ–è€… Cache-Control å› ä¸º http1.1&gt;http1.0ï¼Œ æ‰€ä»¥ Cache-Control&gt;Expiresï¼ŒETag&gt;Last-Modifiedã€‚ ä¾ç…§å°±è¿‘åŸåˆ™ï¼Œå…ˆæ‰¾æœ¬åœ°ç¼“å­˜ï¼Œæ²¡æœ‰å†å‘æœåŠ¡å™¨å‘è¯·æ±‚ï¼Œ æ‰€ä»¥ Expires&gt;Last-Modified,Cache-Control&gt;ETagï¼Œ ç¼“å­˜ç±»å‹ è·å–èµ„æºå½¢å¼ çŠ¶æ€ç  å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ å¼ºç¼“å­˜ ä»ç¼“å­˜å– 200ï¼ˆfrom cacheï¼‰ å¦ï¼Œç›´æ¥ä»ç¼“å­˜å– åå•†ç¼“å­˜ ä»ç¼“å­˜å– 304ï¼ˆNot Modifiedï¼‰ å¦ï¼Œé€šè¿‡æœåŠ¡å™¨æ¥å‘ŠçŸ¥ç¼“å­˜æ˜¯å¦å¯ç”¨ 200 from memory cache ä¸è®¿é—®æœåŠ¡å™¨ï¼Œç›´æ¥è¯»ç¼“å­˜ï¼Œ==ä»å†…å­˜ä¸­è¯»å–ç¼“å­˜==ã€‚æ­¤æ—¶çš„æ•°æ®æ—¶ç¼“å­˜åˆ°å†…å­˜ä¸­çš„ï¼Œå½“ kill è¿›ç¨‹åï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨å…³é—­ä»¥åï¼Œæ•°æ®å°†ä¸å­˜åœ¨ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼åªèƒ½ç¼“å­˜æ´¾ç”Ÿèµ„æº 200 from disk cache ä¸è®¿é—®æœåŠ¡å™¨ï¼Œç›´æ¥è¯»ç¼“å­˜ï¼Œ==ä»ç£ç›˜ä¸­è¯»å–ç¼“å­˜==ï¼Œå½“ kill è¿›ç¨‹æ—¶ï¼Œæ•°æ®è¿˜æ˜¯å­˜åœ¨ã€‚è¿™ç§æ–¹å¼ä¹Ÿåªèƒ½ç¼“å­˜æ´¾ç”Ÿèµ„æº 304 Not Modified è®¿é—®æœåŠ¡å™¨ï¼Œå‘ç°æ•°æ®æ²¡æœ‰æ›´æ–°ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤çŠ¶æ€ç ã€‚ç„¶åä»ç¼“å­˜ä¸­è¯»å–æ•°æ®ã€‚ ä¸‰çº§ç¼“å­˜åŸç†å…ˆå»å†…å­˜çœ‹ï¼Œå¦‚æœæœ‰ï¼Œç›´æ¥åŠ è½½ å¦‚æœå†…å­˜æ²¡æœ‰ï¼Œæ‹©å–ç¡¬ç›˜è·å–ï¼Œå¦‚æœæœ‰ç›´æ¥åŠ è½½ å¦‚æœç¡¬ç›˜ä¹Ÿæ²¡æœ‰ï¼Œé‚£ä¹ˆå°±è¿›è¡Œç½‘ç»œè¯·æ±‚ åŠ è½½åˆ°çš„èµ„æºç¼“å­˜åˆ°ç¡¬ç›˜å’Œå†…å­˜ application cache å’Œä¸Šé¢ç¼“å­˜æœ‰ç‚¹åŒºåˆ«ï¼Œæ˜¯ç¦»çº¿ç¼“å­˜ï¼Œå°±æ˜¯èµ„æºå¯ä»¥ä»ç¡¬ç›˜ä¸Šè¯»å–è€Œä¸ç”¨è”ç½‘ï¼Œå³ä½¿æ–­ç½‘ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥æµè§ˆã€‚ è§£å†³ç¼“å­˜æ–‡ä»¶æ²¡æœ‰åŠæ—¶æ›´æ–°æ€è·¯ç”¨æ–‡ä»¶çš„æ‘˜è¦ä¿¡æ¯æ¥å¯¹èµ„æºæ–‡ä»¶è¿›è¡Œé‡å‘½åï¼ŒæŠŠæ‘˜è¦ä¿¡æ¯æ”¾åˆ°èµ„æºæ–‡ä»¶å‘å¸ƒè·¯å¾„ä¸­ï¼Œè¿™æ ·ï¼Œå†…å®¹æœ‰ä¿®æ”¹çš„èµ„æºå°±å˜æˆäº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶å‘å¸ƒåˆ°çº¿ä¸Šï¼Œä¸ä¼šè¦†ç›–å·²æœ‰çš„èµ„æºæ–‡ä»¶ã€‚ä¸Šçº¿è¿‡ç¨‹ä¸­ï¼Œå…ˆå…¨é‡éƒ¨ç½²é™æ€èµ„æºï¼Œå†ç°åº¦éƒ¨ç½²é¡µé¢ï¼Œæ•´ä¸ªé—®é¢˜å°±æ¯”è¾ƒå®Œç¾çš„è§£å†³äº†ã€‚ Last-Modified ä¸ ETag æ˜¯å¯ä»¥ä¸€èµ·ä½¿ç”¨çš„ï¼ŒæœåŠ¡å™¨ä¼šä¼˜å…ˆéªŒè¯ ETagï¼Œä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šç»§ç»­æ¯”å¯¹ Last-Modifiedï¼Œæœ€åæ‰å†³å®šæ˜¯å¦è¿”å› 304ã€‚ Cache-Control ä¸ Expires å¯ä»¥åœ¨æœåŠ¡ç«¯é…ç½®åŒæ—¶å¯ç”¨ï¼ŒåŒæ—¶å¯ç”¨çš„æ—¶å€™ Cache-Control ä¼˜å…ˆçº§é«˜ Cache-ControlCache-Control æ˜¯ http1.1 æ—¶å‡ºç°çš„ header ä¿¡æ¯ï¼Œä¸»è¦æ˜¯åˆ©ç”¨è¯¥å­—æ®µçš„ max-age å€¼æ¥è¿›è¡Œåˆ¤æ–­ï¼Œå®ƒæ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´ï¼Œä¾‹å¦‚ Cache-Control:max-age=3600ï¼Œä»£è¡¨ç€èµ„æºçš„æœ‰æ•ˆæœŸæ˜¯ 3600 ç§’ã€‚cache-control é™¤äº†è¯¥å­—æ®µå¤–ï¼Œè¿˜æœ‰ä¸‹é¢å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„è®¾ç½®å€¼ï¼š no-cacheï¼šä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚éœ€è¦ä½¿ç”¨ç¼“å­˜åå•†ï¼Œå…ˆä¸æœåŠ¡å™¨ç¡®è®¤è¿”å›çš„å“åº”æ˜¯å¦è¢«æ›´æ”¹ï¼Œå¦‚æœä¹‹å‰çš„å“åº”ä¸­å­˜åœ¨ ETagï¼Œé‚£ä¹ˆè¯·æ±‚çš„æ—¶å€™ä¼šä¸æœåŠ¡ç«¯éªŒè¯ï¼Œå¦‚æœèµ„æºæœªè¢«æ›´æ”¹ï¼Œåˆ™å¯ä»¥é¿å…é‡æ–°ä¸‹è½½ã€‚ no-storeï¼šç›´æ¥ç¦æ­¢æ¸¸è§ˆå™¨ç¼“å­˜æ•°æ®ï¼Œæ¯æ¬¡ç”¨æˆ·è¯·æ±‚è¯¥èµ„æºï¼Œéƒ½ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯æ¬¡éƒ½ä¼šä¸‹è½½å®Œæ•´çš„èµ„æºã€‚ publicï¼šå¯ä»¥è¢«æ‰€æœ‰çš„ç”¨æˆ·ç¼“å­˜ï¼ŒåŒ…æ‹¬ç»ˆç«¯ç”¨æˆ·å’Œ CDN ç­‰ä¸­é—´ä»£ç†æœåŠ¡å™¨ã€‚ privateï¼šåªèƒ½è¢«ç»ˆç«¯ç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ï¼Œä¸å…è®¸ CDN ç­‰ä¸­ç»§ç¼“å­˜æœåŠ¡å™¨å¯¹å…¶ç¼“å­˜ã€‚ must-revalidate: ä¸€æ—¦ç¼“å­˜è¿‡æœŸï¼Œå¿…é¡»å‘æºæœåŠ¡å™¨è¿›è¡Œæ ¡éªŒï¼Œä¸å¾—ä½¿ç”¨è¿‡æœŸå†…å®¹ã€‚å¦‚æœæ— æ³•è¿æ¥å¿…é¡»è¿”å› 504ã€‚æ²¡æœ‰å€¼ proxy-revalidateä¸ must-revalidate ç›¸åŒï¼Œä½†ä»…å¯¹å…¬å…±ç¼“å­˜ç”Ÿæ•ˆã€‚æ²¡æœ‰å€¼ max-staleå¦‚æœæœ‰å€¼ï¼Œå®¢æˆ·ç«¯å¯ä»¥æ¥å—è¿‡æœŸæ—¶é—´ä¸è¶…è¿‡æŒ‡å®šå€¼çš„ç¼“å­˜å¦‚æœæ²¡æœ‰å€¼ï¼Œå®¢æˆ·ç«¯æ„¿æ„æ¥å—è¿‡æœŸç¼“å­˜è€Œæ— è®ºè¿‡æœŸè¿‡ä¹…ã€‚ min-freshå®¢æˆ·ç«¯æ„¿æ„æ¥å—ä¸€ä¸ªæ–°é²œåº¦ä¸å°äºå½“å‰ age åŠ ä¸ŠæŒ‡å®šæ—¶é—´çš„å“åº”ã€‚ç®€å•è¯´åœ¨æŒ‡å®šçš„åç»­ä¸€æ®µæ—¶é—´å†…ä¸ä¼šè¿‡æœŸçš„å“åº”ã€‚æ€»æ˜¯æœ‰å€¼ public æŒ‡ç¤ºå“åº”æ•°æ®å¯ä»¥è¢«ä»»ä½•å®¢æˆ·ç«¯ç¼“å­˜ private æŒ‡ç¤ºå“åº”æ•°æ®å¯ä»¥è¢«éå…±äº«ç¼“å­˜æ‰€ç¼“å­˜ã€‚è¿™è¡¨æ˜å“åº”çš„æ•°æ®å¯ä»¥è¢«å‘é€è¯·æ±‚çš„æµè§ˆå™¨ç¼“å­˜ï¼Œè€Œä¸èƒ½è¢«ä¸­ä»‹æ‰€ç¼“å­˜ no-cache æŒ‡ç¤ºå“åº”æ•°æ®ä¸èƒ½è¢«ä»»ä½•æ¥å—å“åº”çš„å®¢æˆ·ç«¯æ‰€ç¼“å­˜ no-store æŒ‡ç¤ºæ‰€ä¼ é€çš„å“åº”æ•°æ®é™¤äº†ä¸èƒ½è¢«ç¼“å­˜ï¼Œä¹Ÿä¸èƒ½å­˜å…¥ç£ç›˜ã€‚ä¸€èˆ¬ç”¨äºæ•æ„Ÿæ•°æ®ï¼Œä»¥å…æ•°æ®è¢«å¤åˆ¶ã€‚ must-revalidate æŒ‡ç¤ºæ‰€æœ‰çš„ç¼“å­˜éƒ½å¿…é¡»é‡æ–°éªŒè¯ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ª If-Modified-Since å¤´ã€‚å¦‚æœæœåŠ¡å™¨ç¨‹åºéªŒè¯å¾—å‡ºå½“å‰çš„å“åº”æ•°æ®ä¸ºæœ€æ–°çš„æ•° æ®ï¼Œé‚£ä¹ˆæœåŠ¡å™¨åº”å½“è¿”å›ä¸€ä¸ª 304 Not Modified å“åº”ç»™å®¢æˆ·ç«¯ï¼Œå¦åˆ™å“åº”æ•°æ®å°†å†æ¬¡è¢«å‘é€åˆ°å®¢æˆ·ç«¯ã€‚ proxy-revalidate ä¸ must-revalidate ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯ç”¨æ¥æŒ‡ç¤ºå…±äº«ç¼“å­˜ã€‚ max-age æ•°æ®ç»è¿‡ max-age è®¾ç½®çš„ç§’æ•°åå°±ä¼šå¤±æ•ˆï¼Œç›¸å½“äº HTTP/1.0 ä¸­çš„ Expires å¤´ã€‚å¦‚æœåœ¨ä¸€æ¬¡å“åº”ä¸­åŒæ—¶è®¾ç½®äº† max-age å’Œ Expiresï¼Œé‚£ä¹ˆ max-age å°†å…·æœ‰è¾ƒé«˜çš„ä¼˜å…ˆçº§ã€‚ s-maxage ä¸ max-age ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯ç”¨æ¥æŒ‡ç¤ºå…±äº«ç¼“å­˜ã€‚ ä¸‰æ¬¡æ¡æ‰‹ä¸»æœº A å‘ä¸»æœº B å‘å‡ºè¿æ¥è¯·æ±‚æ•°æ®åŒ…ï¼š â€œæˆ‘æƒ³ç»™ä½ å‘æ•°æ®ï¼Œå¯ä»¥å—ï¼Ÿâ€ï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡å¯¹è¯ï¼› ä¸»æœº B å‘ä¸»æœº A å‘é€åŒæ„è¿æ¥å’Œè¦æ±‚åŒæ­¥ï¼ˆåŒæ­¥å°±æ˜¯ä¸¤å°ä¸»æœºä¸€ä¸ªåœ¨å‘é€ï¼Œä¸€ä¸ªåœ¨æ¥æ”¶ï¼Œåè°ƒå·¥ä½œï¼‰çš„æ•°æ®åŒ…ï¼šâ€œå¯ä»¥ï¼Œä½ ä»€ä¹ˆæ—¶å€™å‘ï¼Ÿâ€ï¼Œè¿™æ˜¯ç¬¬äºŒæ¬¡å¯¹è¯ï¼›ä¸»æœº A å†å‘å‡ºä¸€ä¸ªæ•°æ®åŒ…ç¡®è®¤ä¸»æœº B çš„è¦æ±‚åŒæ­¥ï¼š â€œæˆ‘ç°åœ¨å°±å‘ï¼Œä½ æ¥ç€å§ï¼â€ï¼Œè¿™æ˜¯ç¬¬ä¸‰æ¬¡å¯¹è¯ã€‚ä¸‰æ¬¡â€œå¯¹è¯â€çš„ç›®çš„æ˜¯ä½¿æ•°æ®åŒ…çš„å‘é€å’Œæ¥æ”¶åŒæ­¥ï¼Œç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€ä¹‹åï¼Œä¸»æœº A æ‰å‘ä¸»æœº B æ­£å¼å‘é€æ•°æ®ã€‚ é¦–å…ˆ Client ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼ŒServer æ®µæ¥å—è¿æ¥åå›å¤ ACK æŠ¥æ–‡ï¼Œå¹¶ä¸ºè¿™æ¬¡è¿æ¥åˆ†é…èµ„æºã€‚Client ç«¯æ¥æ”¶åˆ° ACK æŠ¥æ–‡åä¹Ÿå‘ Server æ®µå‘ç”Ÿ ACK æŠ¥æ–‡ï¼Œå¹¶åˆ†é…èµ„æºï¼Œè¿™æ · TCP è¿æ¥å°±å»ºç«‹äº†ã€‚ å››æ¬¡æ¡æ‰‹Client ç«¯å‘èµ·ä¸­æ–­è¿æ¥è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å‘é€ FIN æŠ¥æ–‡ã€‚ æ„æ€æ˜¯è¯´â€æˆ‘ Client ç«¯æ²¡æœ‰æ•°æ®è¦å‘ç»™ä½ äº†â€ï¼Œä½†æ˜¯å¦‚æœä½ è¿˜æœ‰æ•°æ®æ²¡æœ‰å‘é€å®Œæˆï¼Œåˆ™ä¸å¿…æ€¥ç€å…³é—­ Socketï¼Œå¯ä»¥ç»§ç»­å‘é€æ•°æ®ã€‚ æ‰€ä»¥æœåŠ¡ç«¯å…ˆå‘é€ ACKï¼Œå‘Šè¯‰ Client ç«¯: â€œä½ çš„è¯·æ±‚æˆ‘æ”¶åˆ°äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ²¡å‡†å¤‡å¥½ï¼Œè¯·ç»§ç»­ä½ ç­‰æˆ‘çš„æ¶ˆæ¯â€ã€‚ è¿™ä¸ªæ—¶å€™ Client ç«¯å°±è¿›å…¥ FIN_WAIT çŠ¶æ€ï¼Œç»§ç»­ç­‰å¾… Server ç«¯çš„ FIN æŠ¥æ–‡ã€‚ å½“ Server ç«¯ç¡®å®šæ•°æ®å·²å‘é€å®Œæˆï¼Œåˆ™å‘ Client ç«¯å‘é€ FIN æŠ¥æ–‡ï¼Œå‘Šè¯‰ Client ç«¯: â€œå¥½äº†ï¼Œæˆ‘è¿™è¾¹æ•°æ®å‘å®Œäº†ï¼Œå‡†å¤‡å¥½å…³é—­è¿æ¥äº†â€ã€‚ Client ç«¯æ”¶åˆ° FIN æŠ¥æ–‡åï¼Œå°±çŸ¥é“å¯ä»¥å…³é—­è¿æ¥äº†ï¼Œä½†æ˜¯ä»–è¿˜æ˜¯ä¸ç›¸ä¿¡ç½‘ç»œï¼Œæ€• Server ç«¯ä¸çŸ¥é“è¦å…³é—­ï¼Œæ‰€ä»¥å‘é€ ACK åè¿›å…¥ TIME_WAIT çŠ¶æ€ï¼Œå¦‚æœ Server ç«¯æ²¡æœ‰æ”¶åˆ° ACK åˆ™å¯ä»¥é‡ä¼ ã€‚ Server ç«¯æ”¶åˆ° ACK åï¼Œâ€å°±çŸ¥é“å¯ä»¥æ–­å¼€è¿æ¥äº†â€ã€‚Client ç«¯ç­‰å¾…äº† 2MSL åä¾ç„¶æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œåˆ™è¯æ˜ Server ç«¯å·²æ­£å¸¸å…³é—­ï¼Œé‚£å¥½ï¼Œæˆ‘ Client ç«¯ä¹Ÿå¯ä»¥å…³é—­è¿æ¥äº†ã€‚Okï¼ŒTCP è¿æ¥å°±è¿™æ ·å…³é—­äº†ï¼ é•¿è¿æ¥ï¼ŒçŸ­é“¾æ¥ï¼Œé•¿è½®è¯¢ï¼Œwebsocket é•¿è¿æ¥åœ¨ HTTP 1.1ï¼Œå®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚ï¼ŒæœåŠ¡ç«¯æ¥æ”¶è¯·æ±‚ï¼ŒåŒæ–¹å»ºç«‹è¿æ¥ï¼Œåœ¨æœåŠ¡ç«¯æ²¡æœ‰è¿”å›ä¹‹å‰ä¿æŒè¿æ¥ï¼Œå½“å®¢æˆ·ç«¯å†å‘é€è¯·æ±‚æ—¶ï¼Œå®ƒä¼šä½¿ç”¨åŒä¸€ä¸ªè¿æ¥ã€‚è¿™ä¸€ç›´ç»§ç»­åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨ç«¯è®¤ä¸ºä¼šè¯å·²ç»ç»“æŸï¼Œå…¶ä¸­ä¸€æ–¹ä¸­æ–­è¿æ¥ã€‚ ä¼˜åŠ¿ï¼šçœå»è¾ƒå¤šçš„ TCP å»ºç«‹å’Œå…³é—­çš„æ“ä½œï¼Œå‡å°‘æµªè´¹ï¼ŒèŠ‚çº¦æ—¶é—´ã€‚å¯¹äºé¢‘ç¹è¯·æ±‚èµ„æºçš„å®¢æˆ·ç«¯é€‚åˆä½¿ç”¨é•¿è¿æ¥ã€‚ åŠ£åŠ¿ï¼šå¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼Œå› ä¸ºå®ƒåœ¨æ–‡ä»¶è¢«è¯·æ±‚ä¹‹åè¿˜ä¿æŒäº†ä¸å¿…è¦çš„è¿æ¥å¾ˆé•¿æ—¶é—´éšç€å®¢æˆ·ç«¯è¿æ¥è¶Šæ¥è¶Šå¤šï¼Œserver ä¼šä¿æŒè¿‡å¤šè¿æ¥ server ç«¯é‡‡å–ç­–ç•¥ï¼š å…³é—­ä¸€äº›é•¿æ—¶é—´æ²¡æœ‰è¯·æ±‚å‘ç”Ÿçš„è¿æ¥ï¼Œè¿™æ ·å¯ä»¥é¿å…ä¸€äº›æ¶æ„è¿æ¥å¯¼è‡´ server ç«¯æœåŠ¡å—æŸ å¦‚æœæ¡ä»¶å…è®¸åˆ™å¯ä»¥é™åˆ¶æ¯ä¸ªå®¢æˆ·ç«¯çš„æœ€å¤§é•¿è¿æ¥æ•°ï¼Œé¿å…æ¶æ„çš„å®¢æˆ·ç«¯æ‹–å®æ•´ä½“åç«¯æœåŠ¡ çŸ­è¿æ¥åœ¨ HTTP1.0 ä¸­ï¼Œå®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚ï¼ŒåŒæ–¹å»ºç«‹è¿æ¥ï¼ŒæœåŠ¡å™¨å“åº”èµ„æºï¼Œè¯·æ±‚ç»“æŸã€‚åŠ£åŠ¿ï¼š è¯·æ±‚é¢‘ç¹ï¼Œåœ¨ TCP çš„å»ºç«‹å’Œå…³é—­æ“ä½œä¸Šæµªè´¹è¾ƒå¤šæ—¶é—´å’Œå¸¦å®½ã€‚ é•¿è½®è¯¢å®¢æˆ·ç«¯åƒä¼ ç»Ÿè½®è¯¢ä¸€æ ·ä»æœåŠ¡å™¨è¯·æ±‚æ•°æ®ã€‚ç„¶è€Œï¼Œå¦‚æœæœåŠ¡å™¨æ²¡æœ‰å¯ä»¥ç«‹å³è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œåˆ™ä¸ä¼šç«‹åˆ»è¿”å›ä¸€ä¸ªç©ºç»“æœï¼Œè€Œæ˜¯ä¿æŒè¿™ä¸ªè¯·æ±‚ç­‰å¾…æ•°æ®åˆ°æ¥ï¼ˆæˆ–è€…æ°å½“çš„è¶…æ—¶ï¼‰ï¼Œä¹‹åå°†æ•°æ®ä½œä¸ºç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚ WebSocketæ˜¯ HTML5 ä¸€ç§æ–°çš„åè®®ã€‚å®ƒå®ç°äº†æµè§ˆå™¨ä¸æœåŠ¡å™¨å…¨åŒå·¥é€šä¿¡(full-duplex)ã€‚ä¸€å¼€å§‹çš„æ¡æ‰‹éœ€è¦å€ŸåŠ© HTTP è¯·æ±‚å®Œæˆã€‚ å®¢æˆ·ç«¯å‘é€ä¸€æ¬¡ http websocket è¯·æ±‚ï¼ŒæœåŠ¡å™¨å“åº”è¯·æ±‚ï¼ŒåŒæ–¹å»ºç«‹æŒä¹…è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ï¼Œåé¢ä¸è¿›è¡Œ HTTP è¿æ¥ï¼Œè€Œæ˜¯ä½¿ç”¨ TCP è¿æ¥ã€‚ æ˜¯ç‹¬ç«‹çš„ã€åˆ›å»ºåœ¨ TCP ä¸Šçš„åè®®ã€‚é€šè¿‡ HTTP/1.1 åè®®çš„ 101 çŠ¶æ€ç è¿›è¡Œæ¡æ‰‹ã€‚ä½¿ç”¨ ws æˆ– wss çš„ç»Ÿä¸€èµ„æºæ ‡å¿—ç¬¦ï¼Œç±»ä¼¼äº HTTPSï¼Œå…¶ä¸­ wss è¡¨ç¤ºåœ¨ TLS ä¹‹ä¸Šçš„ Websocketã€‚ws://example.com/wsapiwss://secure.example.com/ ä½¿ç”¨å’Œ HTTP ç›¸åŒçš„ TCP ç«¯å£ï¼Œå¯ä»¥ç»•è¿‡å¤§å¤šæ•°é˜²ç«å¢™çš„é™åˆ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒWebsocket åè®®ä½¿ç”¨ 80 ç«¯å£ï¼›è¿è¡Œåœ¨ TLS ä¹‹ä¸Šæ—¶ï¼Œé»˜è®¤ä½¿ç”¨ 443 ç«¯å£ã€‚æ•°æ®æ ¼å¼æ¯”è¾ƒè½»é‡ï¼Œæ€§èƒ½å¼€é”€è¾ƒå°ï¼Œé€šä¿¡é«˜æ•ˆå¯ä»¥å‘é€æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ•°æ®ã€‚æ²¡æœ‰åŒæºé™åˆ¶ï¼Œå¯ä»¥ä»»æ„æœåŠ¡å™¨é€šä¿¡ websocket åè®®è§£æwensocket åè®®åŒ…å«ä¸¤éƒ¨åˆ†:ä¸€éƒ¨åˆ†æ˜¯â€œæ¡æ‰‹â€ï¼Œä¸€éƒ¨åˆ†æ˜¯â€œæ•°æ®ä¼ è¾“â€ã€‚ ä¼˜åŠ¿ï¼šè¾ƒå°‘çš„æ§åˆ¶å¼€é”€ã€‚æ›´å¼ºçš„å®æ—¶æ€§ã€‚ä¿æŒè¿æ¥çŠ¶æ€ã€‚æ›´å¥½çš„äºŒè¿›åˆ¶æ”¯æŒã€‚å¯ä»¥æ”¯æŒæ‰©å±•ã€‚æ›´å¥½çš„å‹ç¼©æ•ˆæœã€‚ æ•°æ®ä¼ è¾“è¯•ç”¨çš„æ˜¯ä¸€ç³»åˆ—æ•°æ®å¸§ï¼Œ åŸºæœ¬çš„æ•°æ®å¸§ä¸ºä¸€ä¸ªopcodeã€ä¸€ä¸ªpayloadé•¿åº¦å’Œå‘é€çš„åº”ç”¨æ•°æ®ï¼Œ æ ¹æ®ABNFçš„å®šä¹‰ï¼Œ Websocket åè®®è§£å†³äº†æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯å…¨åŒå·¥é€šä¿¡çš„é—®é¢˜ã€‚ æ³¨:ä»€ä¹ˆæ˜¯å•å·¥ã€åŠåŒå·¥ã€å…¨å·¥é€šä¿¡ï¼Ÿä¿¡æ¯åªèƒ½å•å‘ä¼ é€ä¸ºå•å·¥ï¼›ä¿¡æ¯èƒ½åŒå‘ä¼ é€ä½†ä¸èƒ½åŒæ—¶åŒå‘ä¼ é€ç§°ä¸ºåŠåŒå·¥ï¼›ä¿¡æ¯èƒ½å¤ŸåŒæ—¶åŒå‘ä¼ é€åˆ™ç§°ä¸ºå…¨åŒå·¥ã€‚ - HTTP/1.0 ä¸­é»˜è®¤ä½¿ç”¨çŸ­è¿æ¥ã€‚ ä» HTTP/1.1 èµ·ï¼Œé»˜è®¤ä½¿ç”¨é•¿è¿æ¥ï¼Œç”¨ä»¥ä¿æŒè¿æ¥ç‰¹æ€§ã€‚ ä½¿ç”¨é•¿è¿æ¥çš„ HTTP åè®®ï¼Œä¼šåœ¨å“åº”å¤´åŠ å…¥è¿™è¡Œä»£ç ï¼š ==Connection:keep-alive== Keep-Alive ä¸ä¼šæ°¸ä¹…ä¿æŒè¿æ¥ï¼Œå®ƒæœ‰ä¸€ä¸ªä¿æŒæ—¶é—´ï¼Œå¯ä»¥åœ¨ä¸åŒçš„æœåŠ¡å™¨è½¯ä»¶ï¼ˆå¦‚ Apacheï¼‰ä¸­è®¾å®šè¿™ä¸ªæ—¶é—´ã€‚å®ç°é•¿è¿æ¥éœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æ”¯æŒé•¿è¿æ¥ã€‚ HTTP åè®®çš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥ï¼Œå®è´¨ä¸Šæ˜¯ TCP åè®®çš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥ã€‚ 1234567891011121314151617å®¢æˆ·ç«¯è¯·æ±‚GET / HTTP/1.1Upgrade: websocketConnection: UpgradeHost: example.comOrigin: http://example.comSec-WebSocket-Key: sN9cRrP/n9NdMgdcy2VJFQ==Sec-WebSocket-Version: 13æœåŠ¡å™¨å›åº”HTTP/1.1 101 Switching ProtocolsUpgrade: websocketConnection: UpgradeSec-WebSocket-Accept: fFBooB7FAkLlXgRSz0BT3v4hq5s=Sec-WebSocket-Location: ws://example.com/ WebSocket ä¸ HTTP çš„å…³ç³»ç›¸åŒç‚¹ éƒ½æ˜¯ä¸€æ ·åŸºäº TCP çš„ï¼Œéƒ½æ˜¯å¯é æ€§ä¼ è¾“åè®®ã€‚ éƒ½æ˜¯åº”ç”¨å±‚åè®®ã€‚ ä¸åŒç‚¹ WebSocket æ˜¯åŒå‘é€šä¿¡åè®®ï¼Œæ¨¡æ‹Ÿ Socket åè®®ï¼Œå¯ä»¥åŒå‘å‘é€æˆ–æ¥å—ä¿¡æ¯ã€‚HTTP æ˜¯å•å‘çš„ã€‚ WebSocket æ˜¯éœ€è¦æ¡æ‰‹è¿›è¡Œå»ºç«‹è¿æ¥çš„ã€‚ è”ç³»WebSocket åœ¨å»ºç«‹æ¡æ‰‹æ—¶ï¼Œæ•°æ®æ˜¯é€šè¿‡ HTTP ä¼ è¾“çš„ã€‚ä½†æ˜¯å»ºç«‹ä¹‹åï¼Œåœ¨çœŸæ­£ä¼ è¾“æ—¶å€™æ˜¯ä¸éœ€è¦ HTTP åè®®çš„ã€‚ WebSocket ä¸ Socket çš„å…³ç³»Socket å…¶å®å¹¶ä¸æ˜¯ä¸€ä¸ªåè®®ï¼Œè€Œæ˜¯ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ TCP æˆ– UDP è€ŒæŠ½è±¡å‡ºæ¥çš„ä¸€å±‚ï¼Œæ˜¯ä½äºåº”ç”¨å±‚å’Œä¼ è¾“æ§åˆ¶å±‚ä¹‹é—´çš„ä¸€ç»„æ¥å£ã€‚ Socket æ˜¯åº”ç”¨å±‚ä¸ TCP/IP åè®®æ—é€šä¿¡çš„ä¸­é—´è½¯ä»¶æŠ½è±¡å±‚ï¼Œå®ƒæ˜¯ä¸€ç»„æ¥å£ã€‚åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼ŒSocket å…¶å®å°±æ˜¯ä¸€ä¸ªé—¨é¢æ¨¡å¼ï¼Œå®ƒæŠŠå¤æ‚çš„ TCP/IP åè®®æ—éšè—åœ¨ Socket æ¥å£åé¢ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ï¼Œä¸€ç»„ç®€å•çš„æ¥å£å°±æ˜¯å…¨éƒ¨ï¼Œè®© Socket å»ç»„ç»‡æ•°æ®ï¼Œä»¥ç¬¦åˆæŒ‡å®šçš„åè®®ã€‚ å½“ä¸¤å°ä¸»æœºé€šä¿¡æ—¶ï¼Œå¿…é¡»é€šè¿‡ Socket è¿æ¥ï¼ŒSocket åˆ™åˆ©ç”¨ TCP/IP åè®®å»ºç«‹ TCP è¿æ¥ã€‚TCP è¿æ¥åˆ™æ›´ä¾é äºåº•å±‚çš„ IP åè®®ï¼ŒIP åè®®çš„è¿æ¥åˆ™ä¾èµ–äºé“¾è·¯å±‚ç­‰æ›´ä½å±‚æ¬¡ã€‚ WebSocket åˆ™æ˜¯ä¸€ä¸ªå…¸å‹çš„åº”ç”¨å±‚åè®®ã€‚ åŒºåˆ«Socket æ˜¯ä¼ è¾“æ§åˆ¶å±‚åè®®ï¼ŒWebSocket æ˜¯åº”ç”¨å±‚åè®®ã€‚ ç¼“å­˜ä¸€ã€èµ„æºå†…å®¹ä¸å˜ + è®¾ç½®é•¿æ—¶é—´ max-age// è®¾ç½®ç¼“å­˜æ—¶é—´ä¸º 1 å¹´Cache-Control: max-age=31536000 äºŒã€å¯¹äºç»å¸¸ä¿®æ”¹çš„å†…å®¹ï¼Œå§‹ç»ˆéœ€è¦è¿›è¡ŒæœåŠ¡å™¨è®¤è¯Cache-Control: no-cache Cache-Control æ¯” Expires å¯ä»¥æ§åˆ¶çš„å¤šä¸€äº›ï¼Œè€Œä¸” Cache-Control ä¼šé‡å†™ Expires çš„è§„åˆ™ï¼ŒCache-Control æ˜¯å…³äºæµè§ˆå™¨ç¼“å­˜çš„æœ€é‡è¦çš„è®¾ç½®ï¼Œå› ä¸ºå®ƒè¦†ç›–å…¶ä»–è®¾ç½®ï¼Œæ¯”å¦‚ Expires å’Œ Last-Modified Mainfest å¯ä»¥ç¼“å­˜ä¸€ä¸ªåº”ç”¨ï¼Œpwa ä¸­æœ‰ Mainfest å’Œ Service Worker å¯ä»¥å®ç°ç¼“å­˜ HTTP request æŠ¥æ–‡ç»“æ„æ˜¯æ€æ ·çš„123456789101112131415161718192021222324252627282930313233343536373839rfc2616ä¸­è¿›è¡Œäº†å®šä¹‰ï¼šé¦–è¡Œæ˜¯Request-LineåŒ…æ‹¬ï¼š è¯·æ±‚æ–¹æ³•ï¼Œè¯·æ±‚URIï¼Œåè®®ç‰ˆæœ¬ï¼ŒCRLFé¦–è¡Œä¹‹åæ˜¯è‹¥å¹²è¡Œè¯·æ±‚å¤´ï¼ŒåŒ…æ‹¬ general-headerï¼Œ request-headeræˆ–è€… entity-headerï¼Œ æ¯ä¸ªä¸€è¡Œä»¥CRLFç»“æŸè¯·æ±‚å¤´å’Œæ¶ˆæ¯å®ä½“ä¹‹é—´æœ‰ä¸€ä¸ªCRLFåˆ†éš”æ ¹æ®å®é™…è¯·æ±‚éœ€è¦å¯èƒ½åŒ…å«ä¸€ä¸ªæ¶ˆæ¯å®ä½“User-Agentï¼šäº§ç”Ÿè¯·æ±‚çš„æµè§ˆå™¨ç±»å‹ã€‚Acceptï¼šå®¢æˆ·ç«¯å¯è¯†åˆ«çš„å†…å®¹ç±»å‹åˆ—è¡¨ã€‚Hostï¼šè¯·æ±‚çš„ä¸»æœºåï¼Œå…è®¸å¤šä¸ªåŸŸååŒå¤„ä¸€ä¸ªIPåœ°å€ï¼Œå³è™šæ‹Ÿä¸»æœºã€‚POSTæ–¹æ³•é€‚ç”¨äºéœ€è¦å®¢æˆ·å¡«å†™è¡¨å•çš„åœºåˆã€‚ä¸è¯·æ±‚æ•°æ®ç›¸å…³çš„æœ€å¸¸ä½¿ç”¨çš„è¯·æ±‚å¤´æ˜¯Content-Typeå’ŒContent-Lengthã€‚ä¸€ä¸ªè¯·æ±‚æŠ¥æ–‡ä¾‹å­å¦‚ä¸‹ï¼šGET /Protocols/rfc2616/rfc2616-sec5.html HTTP/1.1Host: www.w3.orgConnection: keep-aliveCache-Control: max-age=0Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.153 Safari/537.36Referer: https://www.google.com.hk/Accept-Encoding: gzip,deflate,sdchAccept-Language: zh-CN,zh;q=0.8,en;q=0.6Cookie: authorstyle=yesIf-None-Match: &quot;2cc8-3e3073913b100&quot;If-Modified-Since: Wed, 01 Sep 2004 13:24:52 GMTname=qiu&amp;age=25 HTTP response æŠ¥æ–‡ç»“æ„æ˜¯æ€æ ·çš„123456789101112131415161718192021222324252627rfc2616ä¸­è¿›è¡Œäº†å®šä¹‰ï¼šé¦–è¡Œæ˜¯çŠ¶æ€è¡ŒåŒ…æ‹¬ï¼š HTTPç‰ˆæœ¬ï¼ŒçŠ¶æ€ç ï¼Œ çŠ¶æ€æè¿°ï¼Œåé¢è·Ÿä¸€ä¸ªCRLFé¦–è¡Œä¹‹åæ˜¯è‹¥å¹²è¡Œå“åº”å¤´ï¼ŒåŒ…æ‹¬ï¼š é€šç”¨å¤´éƒ¨ï¼Œå“åº”å¤´éƒ¨ï¼Œå®ä½“å¤´éƒ¨å“åº”å¤´éƒ¨å’Œå“åº”å®ä½“ä¹‹é—´ç”¨ä¸€ä¸ªCRLFç©ºè¡Œåˆ†éš”æœ€åæ˜¯ä¸€ä¸ªå¯èƒ½çš„æ¶ˆæ¯å®ä½“å“åº”æŠ¥æ–‡ä¾‹å­å¦‚ä¸‹ï¼šHTTP/1.1 200 OKDate: Tue, 08 Jul 2014 05:28:43 GMTServer: Apache/2Last-Modified: Wed, 01 Sep 2004 13:24:52 GMTETag: &quot;40d7-3e3073913b100&quot;Accept-Ranges: bytesContent-Length: 16599Cache-Control: max-age=21600Expires: Tue, 08 Jul 2014 11:28:43 GMTP3P: policyref=&quot;http://www.w3.org/2001/05/P3P/p3p.xml&quot;Content-Type: text/html; charset=iso-8859-1{&quot;name&quot;: &quot;qiu&quot;, &quot;age&quot;: 25} Promise å°è£… Ajax123456789101112131415161718192021222324252627function getJSON(url){ return new Promise((resolve, reject) =&gt;{ var xhr = new XMLHttpRequest() // get xhr.open('GET', url, true) // post // xhr.open('POST', url, true) // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded') xhr.onreadystatechange = function(){ if(this.readyState === 4){ if(this.status === 200){ resolve(this.responseText, this) }else{ var resJson = {code: this.status, response: this.response} reject(resJson, this) } } } xhr.send() // post // xhr.send(JSON.stringify(data)) })} URL è¯¦è§£é“¾æ¥ 123456789101112131415161718192021URL(Uniform Resource Locator) åœ°å€ç”¨äºæè¿°ä¸€ä¸ªç½‘ç»œä¸Šçš„èµ„æºï¼Œ åŸºæœ¬æ ¼å¼å¦‚ä¸‹schema://host[:port#]/path/.../[;url-params][?query-string][#anchor] scheme æŒ‡å®šä½å±‚ä½¿ç”¨çš„åè®®(ä¾‹å¦‚ï¼šhttp, https, ftp) host HTTPæœåŠ¡å™¨çš„IPåœ°å€æˆ–è€…åŸŸå port# HTTPæœåŠ¡å™¨çš„é»˜è®¤ç«¯å£æ˜¯80ï¼Œ httpsæ˜¯443 è¿™ç§æƒ…å†µä¸‹ç«¯å£å·å¯ä»¥çœç•¥ã€‚å¦‚æœä½¿ç”¨äº†åˆ«çš„ç«¯å£ï¼Œ å¿…é¡»æŒ‡æ˜ï¼Œä¾‹å¦‚ http://www.cnblogs.com:8080/ path è®¿é—®èµ„æºçš„è·¯å¾„ url-params query-string å‘é€ç»™httpæœåŠ¡å™¨çš„æ•°æ® anchor- é”šURL çš„ä¸€ä¸ªä¾‹å­ï¼šhttp://www.mywebsite.com/sj/test;id=8079?name=sviergn&amp;x=true#stuffSchema: httphost: www.mywebsite.compath: /sj/testURL params: id=8079Query String: name=sviergn&amp;x=trueAnchor: stuff http å¸¸è§çŠ¶æ€ç æœ‰å“ªäº›12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485861XXï¼šä¿¡æ¯çŠ¶æ€ç -è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†ã€‚100 Continueï¼šå®¢æˆ·ç«¯åº”å½“ç»§ç»­å‘é€è¯·æ±‚ã€‚è¿™ä¸ªä¸´æ—¶å“åº”æ˜¯ç”¨æ¥é€šçŸ¥å®¢æˆ·ç«¯å®ƒçš„éƒ¨åˆ†è¯·æ±‚å·²ç»è¢«æœåŠ¡å™¨æ¥æ”¶ï¼Œä¸”ä»æœªè¢«æ‹’ç»ã€‚101 Switching Protocolsï¼šæœåŠ¡å™¨å·²ç»ç†è§£åŠ›å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶å°†é€šè¿‡Upgradeæ¶ˆæ¯å¤´é€šçŸ¥å®¢æˆ·ç«¯é‡‡ç”¨ä¸åŒçš„åè®®æ¥å®Œæˆè¿™ä¸ªè¯·æ±‚ã€‚åœ¨å‘é€å®Œè¿™ä¸ªå“åº”æœ€åçš„ç©ºè¡Œåï¼ŒæœåŠ¡å™¨å°†ä¼šåˆ‡æ¢åˆ°Upgradeæ¶ˆæ¯å¤´ä¸­å®šä¹‰çš„é‚£äº›åè®®ã€‚ä¸€: 2å¼€å¤´çŠ¶æ€ç 2xx (æˆåŠŸ)è¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ä»£ç 200 (æˆåŠŸ) æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚200 from cacheï¼š è¡¨ç¤ºè¯¥èµ„æºå·²ç»è¢«ç¼“å­˜è¿‡ï¼Œå¹¶ä¸”åœ¨æœ‰æ•ˆæœŸå†…ï¼Œæ‰€ä»¥ä¸å†å‘æµè§ˆå™¨å‘å‡ºè¯·æ±‚ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚201 Createdï¼š202 Acceptedï¼š203 Non-Authoritative Informationï¼š204 No Contentï¼š205 Reset Contentï¼š206 Partial Contentï¼šäºŒ: 3å¼€å¤´çŠ¶æ€ç 3xx (é‡å®šå‘) è¡¨ç¤ºè¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚ é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ä»£ç ç”¨æ¥é‡å®šå‘ã€‚304 (æœªä¿®æ”¹) è‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚ æœåŠ¡å™¨è¿”å›æ­¤å“åº”æ—¶ï¼Œä¸ä¼šè¿”å›ç½‘é¡µå†…å®¹ã€‚300 Multiple Choicesï¼š301 Moved Permanentlyï¼šæ°¸ä¹…æ€§è½¬ç§»(Permanently Moved),302 Foundï¼šé‡å®šå‘è¡¨ç¤ºä¸´æ—¶æ€§è½¬ç§»(Temporarily Moved )ï¼Œ å½“ä¸€ä¸ªç½‘é¡µURLéœ€è¦çŸ­æœŸå˜åŒ–æ—¶ä½¿ç”¨ã€‚303 See Otherï¼š304 Not Modifiedï¼š è¡¨ç¤ºæµè§ˆå™¨è™½ç„¶å‘ç°äº†æœ¬åœ°æœ‰è¯¥èµ„æºçš„ç¼“å­˜ï¼Œä½†æ˜¯ä¸ç¡®å®šæ˜¯å¦æ˜¯æœ€æ–°çš„ï¼Œ äºæ˜¯å‘æœåŠ¡å™¨è¯¢é—®ï¼Œè‹¥æœåŠ¡å™¨è®¤ä¸ºæµè§ˆå™¨çš„ç¼“å­˜ç‰ˆæœ¬è¿˜å¯ç”¨ï¼ˆå³è¿˜æœªæ›´æ–°ï¼‰ï¼Œ é‚£ä¹ˆä¾¿ä¼šè¿”å›304ï¼Œç»§ç»­ä½¿ç”¨æœ¬åœ°çš„ç¼“å­˜ã€‚305 Use Proxyï¼š306 ï¼ˆunusedï¼‰ï¼š307 Temporary Redirectï¼š301é‡å®šå‘ä¸302é‡å®šå‘çš„åŒºåˆ« 301é‡å®šå‘æ˜¯æ°¸ä¹…çš„é‡å®šå‘ï¼Œæœç´¢å¼•æ“åœ¨æŠ“å–æ–°å†…å®¹çš„åŒæ—¶ä¹Ÿå°†æ—§çš„ç½‘å€æ›¿æ¢ä¸ºé‡å®šå‘ä¹‹åçš„ç½‘å€ã€‚ 302é‡å®šå‘æ˜¯ä¸´æ—¶çš„é‡å®šå‘ï¼Œæœç´¢å¼•æ“ä¼šæŠ“å–æ–°çš„å†…å®¹è€Œä¿ç•™æ—§çš„ç½‘å€ã€‚å› ä¸ºæœåŠ¡å™¨è¿”å›302ä»£ç ï¼Œæœç´¢å¼•æ“è®¤ä¸ºæ–°çš„ç½‘å€åªæ˜¯æš‚æ—¶çš„ã€‚ä¸‰: 4å¼€å¤´çŠ¶æ€ç 4xx(è¯·æ±‚é”™è¯¯) å®¢æˆ·ç«¯é”™è¯¯--è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•å®ç°ã€‚1:400 (é”™è¯¯è¯·æ±‚) æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚2:403 (ç¦æ­¢) æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ã€‚3:404 (æœªæ‰¾åˆ°) æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µã€‚400 Bad Request:å®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£401 Unauthorized:è¯·æ±‚æœªç»æˆæƒï¼Œ è¿™ä¸ªçŠ¶æ€ä»£ç å¿…é¡»å’ŒWWW-AuthenticateæŠ¥å¤´åŸŸä¸€èµ·ä½¿ç”¨ã€‚402 Payment Required:403 Forbidden:æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡ã€‚404 Not Found:è¯·æ±‚èµ„æºä¸å­˜åœ¨405 Method Not Allowed:406 Not Acceptable:407 Proxy Authentication Required:408 Request Timeout:409 Conflict:410 Gone:411 Length Required:412 Precondition Failed:413 Request Entity Too Large:414 Request-URI Too Long:415 Unsupported Media Type:416 Requested Range Not Satisfiable:417 Expectation Failed:å››: 5å¼€å¤´çŠ¶æ€ç 5xxæœåŠ¡å™¨ç«¯é”™è¯¯--æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚ã€‚500 (æœåŠ¡å™¨å†…éƒ¨é”™è¯¯) æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚501 (å°šæœªå®æ–½) æœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚ ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚æ–¹æ³•æ—¶å¯èƒ½ä¼šè¿”å›æ­¤ä»£ç ã€‚502 (é”™è¯¯ç½‘å…³) æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”ã€‚503 (æœåŠ¡ä¸å¯ç”¨) æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨(ç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤)ã€‚ é€šå¸¸ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€ã€‚504 (ç½‘å…³è¶…æ—¶) æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ã€‚505 (HTTP ç‰ˆæœ¬ä¸å—æ”¯æŒ) æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚ åå››ã€http çš„çŠ¶æ€å“åº”ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374751**(ä¿¡æ¯ç±»)ï¼šè¡¨ç¤ºæ¥æ”¶åˆ°è¯·æ±‚å¹¶ä¸”ç»§ç»­å¤„ç†100â€”â€”å®¢æˆ·å¿…é¡»ç»§ç»­å‘å‡ºè¯·æ±‚101â€”â€”å®¢æˆ·è¦æ±‚æœåŠ¡å™¨æ ¹æ®è¯·æ±‚è½¬æ¢HTTPåè®®ç‰ˆæœ¬2**(å“åº”æˆåŠŸ)ï¼šè¡¨ç¤ºåŠ¨ä½œè¢«æˆåŠŸæ¥æ”¶ã€ç†è§£å’Œæ¥å—200â€”â€”è¡¨æ˜è¯¥è¯·æ±‚è¢«æˆåŠŸåœ°å®Œæˆï¼Œæ‰€è¯·æ±‚çš„èµ„æºå‘é€å›å®¢æˆ·ç«¯201â€”â€”æç¤ºçŸ¥é“æ–°æ–‡ä»¶çš„URL202â€”â€”æ¥å—å’Œå¤„ç†ã€ä½†å¤„ç†æœªå®Œæˆ203â€”â€”è¿”å›ä¿¡æ¯ä¸ç¡®å®šæˆ–ä¸å®Œæ•´204â€”â€”è¯·æ±‚æ”¶åˆ°ï¼Œä½†è¿”å›ä¿¡æ¯ä¸ºç©º205â€”â€”æœåŠ¡å™¨å®Œæˆäº†è¯·æ±‚ï¼Œç”¨æˆ·ä»£ç†å¿…é¡»å¤ä½å½“å‰å·²ç»æµè§ˆè¿‡çš„æ–‡ä»¶206â€”â€”æœåŠ¡å™¨å·²ç»å®Œæˆäº†éƒ¨åˆ†ç”¨æˆ·çš„GETè¯·æ±‚3**(é‡å®šå‘ç±»)ï¼šä¸ºäº†å®ŒæˆæŒ‡å®šçš„åŠ¨ä½œï¼Œå¿…é¡»æ¥å—è¿›ä¸€æ­¥å¤„ç†300â€”â€”è¯·æ±‚çš„èµ„æºå¯åœ¨å¤šå¤„å¾—åˆ°301â€”â€”æœ¬ç½‘é¡µè¢«æ°¸ä¹…æ€§è½¬ç§»åˆ°å¦ä¸€ä¸ªURL302â€”â€”è¯·æ±‚çš„ç½‘é¡µè¢«è½¬ç§»åˆ°ä¸€ä¸ªæ–°çš„åœ°å€ï¼Œä½†å®¢æˆ·è®¿é—®ä»ç»§ç»­é€šè¿‡åŸå§‹URLåœ°å€ï¼Œé‡å®šå‘ï¼Œæ–°çš„URLä¼šåœ¨responseä¸­çš„Locationä¸­è¿”å›ï¼Œæµè§ˆå™¨å°†ä¼šä½¿ç”¨æ–°çš„URLå‘å‡ºæ–°çš„Requestã€‚303â€”â€”å»ºè®®å®¢æˆ·è®¿é—®å…¶ä»–URLæˆ–è®¿é—®æ–¹å¼304â€”â€”è‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤å“åº”æ—¶ï¼Œä¸ä¼šè¿”å›ç½‘é¡µå†…å®¹ï¼Œä»£è¡¨ä¸Šæ¬¡çš„æ–‡æ¡£å·²ç»è¢«ç¼“å­˜äº†ï¼Œè¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨305â€”â€”è¯·æ±‚çš„èµ„æºå¿…é¡»ä»æœåŠ¡å™¨æŒ‡å®šçš„åœ°å€å¾—åˆ°306â€”â€”å‰ä¸€ç‰ˆæœ¬HTTPä¸­ä½¿ç”¨çš„ä»£ç ï¼Œç°è¡Œç‰ˆæœ¬ä¸­ä¸å†ä½¿ç”¨307â€”â€”ç”³æ˜è¯·æ±‚çš„èµ„æºä¸´æ—¶æ€§åˆ é™¤4**(å®¢æˆ·ç«¯é”™è¯¯ç±»)ï¼šè¯·æ±‚åŒ…å«é”™è¯¯è¯­æ³•æˆ–ä¸èƒ½æ­£ç¡®æ‰§è¡Œ400â€”â€”å®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£401â€”â€”è¯·æ±‚æœªç»æˆæƒï¼Œè¿™ä¸ªçŠ¶æ€ä»£ç å¿…é¡»å’ŒWWW-AuthenticateæŠ¥å¤´åŸŸä¸€èµ·ä½¿ç”¨HTTP 401.1 - æœªæˆæƒï¼šç™»å½•å¤±è´¥HTTP 401.2 - æœªæˆæƒï¼šæœåŠ¡å™¨é…ç½®é—®é¢˜å¯¼è‡´ç™»å½•å¤±è´¥HTTP 401.3 - ACL ç¦æ­¢è®¿é—®èµ„æºHTTP 401.4 - æœªæˆæƒï¼šæˆæƒè¢«ç­›é€‰å™¨æ‹’ç»HTTP 401.5 - æœªæˆæƒï¼šISAPI æˆ– CGI æˆæƒå¤±è´¥402â€”â€”ä¿ç•™æœ‰æ•ˆChargeToå¤´å“åº”403â€”â€”ç¦æ­¢è®¿é—®ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡HTTP 403.1 ç¦æ­¢è®¿é—®ï¼šç¦æ­¢å¯æ‰§è¡Œè®¿é—®HTTP 403.2 - ç¦æ­¢è®¿é—®ï¼šç¦æ­¢è¯»è®¿é—®HTTP 403.3 - ç¦æ­¢è®¿é—®ï¼šç¦æ­¢å†™è®¿é—®HTTP 403.4 - ç¦æ­¢è®¿é—®ï¼šè¦æ±‚ SSLHTTP 403.5 - ç¦æ­¢è®¿é—®ï¼šè¦æ±‚ SSL 128HTTP 403.6 - ç¦æ­¢è®¿é—®ï¼šIP åœ°å€è¢«æ‹’ç»HTTP 403.7 - ç¦æ­¢è®¿é—®ï¼šè¦æ±‚å®¢æˆ·è¯ä¹¦HTTP 403.8 - ç¦æ­¢è®¿é—®ï¼šç¦æ­¢ç«™ç‚¹è®¿é—®HTTP 403.9 - ç¦æ­¢è®¿é—®ï¼šè¿æ¥çš„ç”¨æˆ·è¿‡å¤šHTTP 403.10 - ç¦æ­¢è®¿é—®ï¼šé…ç½®æ— æ•ˆHTTP 403.11 - ç¦æ­¢è®¿é—®ï¼šå¯†ç æ›´æ”¹HTTP 403.12 - ç¦æ­¢è®¿é—®ï¼šæ˜ å°„å™¨æ‹’ç»è®¿é—®HTTP 403.13 - ç¦æ­¢è®¿é—®ï¼šå®¢æˆ·è¯ä¹¦å·²è¢«åŠé”€HTTP 403.15 - ç¦æ­¢è®¿é—®ï¼šå®¢æˆ·è®¿é—®è®¸å¯è¿‡å¤šHTTP 403.16 - ç¦æ­¢è®¿é—®ï¼šå®¢æˆ·è¯ä¹¦ä¸å¯ä¿¡æˆ–è€…æ— æ•ˆHTTP 403.17 - ç¦æ­¢è®¿é—®ï¼šå®¢æˆ·è¯ä¹¦å·²ç»åˆ°æœŸæˆ–è€…å°šæœªç”Ÿæ•ˆ404â€”â€”ä¸€ä¸ª404é”™è¯¯è¡¨æ˜å¯è¿æ¥æœåŠ¡å™¨ï¼Œä½†æœåŠ¡å™¨æ— æ³•å–å¾—æ‰€è¯·æ±‚çš„ç½‘é¡µï¼Œè¯·æ±‚èµ„æºä¸å­˜åœ¨ã€‚egï¼šè¾“å…¥äº†é”™è¯¯çš„URL405â€”â€”ç”¨æˆ·åœ¨Request-Lineå­—æ®µå®šä¹‰çš„æ–¹æ³•ä¸å…è®¸406â€”â€”æ ¹æ®ç”¨æˆ·å‘é€çš„Acceptæ‹–ï¼Œè¯·æ±‚èµ„æºä¸å¯è®¿é—®407â€”â€”ç±»ä¼¼401ï¼Œç”¨æˆ·å¿…é¡»é¦–å…ˆåœ¨ä»£ç†æœåŠ¡å™¨ä¸Šå¾—åˆ°æˆæƒ408â€”â€”å®¢æˆ·ç«¯æ²¡æœ‰åœ¨ç”¨æˆ·æŒ‡å®šçš„é¥¿æ—¶é—´å†…å®Œæˆè¯·æ±‚409â€”â€”å¯¹å½“å‰èµ„æºçŠ¶æ€ï¼Œè¯·æ±‚ä¸èƒ½å®Œæˆ410â€”â€”æœåŠ¡å™¨ä¸Šä¸å†æœ‰æ­¤èµ„æºä¸”æ— è¿›ä¸€æ­¥çš„å‚è€ƒåœ°å€411â€”â€”æœåŠ¡å™¨æ‹’ç»ç”¨æˆ·å®šä¹‰çš„Content-Lengthå±æ€§è¯·æ±‚412â€”â€”ä¸€ä¸ªæˆ–å¤šä¸ªè¯·æ±‚å¤´å­—æ®µåœ¨å½“å‰è¯·æ±‚ä¸­é”™è¯¯413â€”â€”è¯·æ±‚çš„èµ„æºå¤§äºæœåŠ¡å™¨å…è®¸çš„å¤§å°414â€”â€”è¯·æ±‚çš„èµ„æºURLé•¿äºæœåŠ¡å™¨å…è®¸çš„é•¿åº¦415â€”â€”è¯·æ±‚èµ„æºä¸æ”¯æŒè¯·æ±‚é¡¹ç›®æ ¼å¼416â€”â€”è¯·æ±‚ä¸­åŒ…å«Rangeè¯·æ±‚å¤´å­—æ®µï¼Œåœ¨å½“å‰è¯·æ±‚èµ„æºèŒƒå›´å†…æ²¡æœ‰rangeæŒ‡ç¤ºå€¼ï¼Œè¯·æ±‚ä¹Ÿä¸åŒ…å«If-Rangeè¯·æ±‚å¤´å­—æ®µ417â€”â€”æœåŠ¡å™¨ä¸æ»¡è¶³è¯·æ±‚Expectå¤´å­—æ®µæŒ‡å®šçš„æœŸæœ›å€¼ï¼Œå¦‚æœæ˜¯ä»£ç†æœåŠ¡å™¨ï¼Œå¯èƒ½æ˜¯ä¸‹ä¸€çº§æœåŠ¡å™¨ä¸èƒ½æ»¡è¶³è¯·æ±‚é•¿ã€‚5**(æœåŠ¡ç«¯é”™è¯¯ç±»)ï¼šæœåŠ¡å™¨ä¸èƒ½æ­£ç¡®æ‰§è¡Œä¸€ä¸ªæ­£ç¡®çš„è¯·æ±‚HTTP500 - æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚HTTP 500.100 - å†…éƒ¨æœåŠ¡å™¨é”™è¯¯ - ASP é”™è¯¯HTTP 500-11 æœåŠ¡å™¨å…³é—­HTTP 500-12 åº”ç”¨ç¨‹åºé‡æ–°å¯åŠ¨HTTP 500-13 - æœåŠ¡å™¨å¤ªå¿™HTTP 500-14 - åº”ç”¨ç¨‹åºæ— æ•ˆHTTP 500-15 - ä¸å…è®¸è¯·æ±‚ global.asa Error501 - æœªå®ç°HTTP502 - ç½‘å…³é”™è¯¯HTTP503ï¼šç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼ŒæœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼Œä¸€æ®µæ—¶é—´åå¯èƒ½æ¢å¤æ­£å¸¸ HTML5 ç¦»çº¿ç¼“å­˜å…¸å‹çš„ manifest æ–‡ä»¶ä»£ç ç»“æ„: åŸºæœ¬æ ¼å¼ä¸ºä¸‰æ®µï¼š CACHEï¼ŒNETWORKï¼ŒFALLBACKï¼Œ CACHE:ï¼ˆå¿…é¡»ï¼‰æ ‡è¯†å‡ºå“ªäº›æ–‡ä»¶éœ€è¦ç¼“å­˜ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚ NETWORK:ï¼ˆå¯é€‰ï¼‰è¿™ä¸€éƒ¨åˆ†æ˜¯è¦ç»•è¿‡ç¼“å­˜ç›´æ¥è¯»å–çš„æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Šã€‚ FALLBACK:ï¼ˆå¯é€‰ï¼‰æŒ‡å®šäº†ä¸€ä¸ªåå¤‡é¡µé¢ï¼Œå½“èµ„æºæ— æ³•è®¿é—®æ—¶ï¼Œæµè§ˆå™¨ä¼šä½¿ç”¨è¯¥é¡µé¢ã€‚è¯¥æ®µè½çš„æ¯æ¡è®°å½•éƒ½åˆ—å‡ºä¸¤ä¸ª URI ç¬¬ä¸€ä¸ªè¡¨ç¤ºèµ„æºï¼Œ ç¬¬äºŒä¸ªè¡¨ç¤ºåå¤‡é¡µé¢ã€‚ ä¸‰ç§æ–¹å¼ï¼Œå¯ä»¥æ›´æ–°ç¼“å­˜ä¸€ã€æ›´æ–° manifest æ–‡ä»¶ï¼šç»™ manifest æ·»åŠ æˆ–åˆ é™¤æ–‡ä»¶ï¼Œéƒ½å¯æ›´æ–°ç¼“å­˜ï¼Œå¦‚æœæˆ‘ä»¬æ›´æ”¹äº† jsï¼Œè€Œæ²¡æœ‰æ–°å¢æˆ–åˆ é™¤ï¼Œå‰é¢ä¾‹å­ä¸­æ³¨é‡Šä¸­çš„ç‰ˆæœ¬å·ã€æ—¶é—´æˆ³æˆ–è€… md5 ç ç­‰è¿›è¡Œä¿®æ”¹ï¼Œéƒ½å¯ä»¥å¾ˆå¥½çš„ç”¨æ¥æ›´æ–° manifest æ–‡ä»¶ äºŒã€é€šè¿‡ javascript æ“ä½œï¼šhtml5 ä¸­å¼•å…¥äº† js æ“ä½œç¦»çº¿ç¼“å­˜çš„æ–¹æ³•ï¼Œä¸‹é¢çš„ js å¯ä»¥æ‰‹åŠ¨æ›´æ–°æœ¬åœ°ç¼“å­˜ã€‚ window.applicationCache.update();ä¸‰ã€æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼šå¦‚æœç”¨æˆ·æ¸…é™¤äº†æµè§ˆå™¨ç¼“å­˜ï¼ˆæ‰‹åŠ¨æˆ–ç”¨å…¶ä»–ä¸€äº›å·¥å…·ï¼‰éƒ½ä¼šé‡æ–°ä¸‹è½½æ–‡ä»¶ã€‚ æ³¨æ„äº‹é¡¹1ã€æµè§ˆå™¨å¯¹ç¼“å­˜æ•°æ®çš„å®¹é‡é™åˆ¶å¯èƒ½ä¸å¤ªä¸€æ ·ï¼ˆæŸäº›æµè§ˆå™¨è®¾ç½®çš„é™åˆ¶æ˜¯æ¯ä¸ªç«™ç‚¹ 5MBï¼‰ã€‚ 2ã€å¦‚æœ manifest æ–‡ä»¶ï¼Œæˆ–è€…å†…éƒ¨åˆ—ä¸¾çš„æŸä¸€ä¸ªæ–‡ä»¶ä¸èƒ½æ­£å¸¸ä¸‹è½½ï¼Œæ•´ä¸ªæ›´æ–°è¿‡ç¨‹éƒ½å°†å¤±è´¥ï¼Œæµè§ˆå™¨ç»§ç»­å…¨éƒ¨ä½¿ç”¨è€çš„ç¼“å­˜ã€‚ 3ã€å¼•ç”¨ manifest çš„ html å¿…é¡»ä¸ manifest æ–‡ä»¶åŒæºï¼Œåœ¨åŒä¸€ä¸ªåŸŸä¸‹ã€‚ 4ã€FALLBACK ä¸­çš„èµ„æºå¿…é¡»å’Œ manifest æ–‡ä»¶åŒæºã€‚ 5ã€å½“ä¸€ä¸ªèµ„æºè¢«ç¼“å­˜åï¼Œè¯¥æµè§ˆå™¨ç›´æ¥è¯·æ±‚è¿™ä¸ªç»å¯¹è·¯å¾„ä¹Ÿä¼šè®¿é—®ç¼“å­˜ä¸­çš„èµ„æºã€‚ 6ã€ç«™ç‚¹ä¸­çš„å…¶ä»–é¡µé¢å³ä½¿æ²¡æœ‰è®¾ç½® manifest å±æ€§ï¼Œè¯·æ±‚çš„èµ„æºå¦‚æœåœ¨ç¼“å­˜ä¸­ä¹Ÿä»ç¼“å­˜ä¸­è®¿é—®ã€‚ 7ã€å½“ manifest æ–‡ä»¶å‘ç”Ÿæ”¹å˜æ—¶ï¼Œèµ„æºè¯·æ±‚æœ¬èº«ä¹Ÿä¼šè§¦å‘æ›´æ–°ã€‚ 1234567891011121314151617CACHE MANIFEST#version 1.2.2CACHE:#csshttp://www.haorooms.com/theme/assets/style.css#jshttp://www.haorooms.com/theme/assets/js/main.js#imghttp://static.hyb.dev.ipo.com/css/wifi/pc/images/logo-fk1.pnghttp://static.hyb.dev.ipo.com/css/wifi/images/favicon.icoNETWORK: *FALLBACK: /404.html Service Worker ä¸ç¼“å­˜åŠç¦»çº¿ç¼“å­˜ç½‘ç»œè¯·æ±‚é¦–å…ˆåˆ°è¾¾çš„æ˜¯ SW è„šæœ¬ä¸­ï¼Œå¦‚æœæœªå‘½ä¸­å†è½¬å‘ç»™ HTTP ç¼“å­˜ã€‚ ç½‘ç»œè¯·æ±‚é¦–å…ˆåˆ°è¾¾çš„æ˜¯ SW è„šæœ¬ä¸­ï¼Œå¦‚æœæœªå‘½ä¸­å†è½¬å‘ç»™ HTTP ç¼“å­˜ã€‚ ä¸€ä¸ªæ ‡é…ç‰ˆçš„ sw ç¼“å­˜å·¥ä»£ä»£ç åº”è¯¥æœ‰ä»¥ä¸‹çš„ç‰‡æ®µï¼š 123456789101112131415161718const version = '2';self.addEventListener('install', event =&gt; { event.waitUntil( caches.open(`static-${version}`) .then(cache =&gt; cache.addAll([ '/styles.css', '/script.js' ])) );});self.addEventListener('fetch', event =&gt; { event.respondWith( caches.match(event.request) .then(response =&gt; response || fetch(event.request)) );}); åœ¨ SW çš„ install é˜¶æ®µæˆ‘ä»¬å°† script.js å’Œ styles.css æ”¾å…¥ç¼“å­˜ä¸­ï¼›è€Œåœ¨è¯·æ±‚å‘èµ·çš„ fetch é˜¶æ®µï¼Œé€šè¿‡èµ„æºçš„ URL å»ç¼“å­˜å†…æŸ¥æ‰¾åŒ¹é…ï¼ŒæˆåŠŸåç«‹åˆ»è¿”å›ï¼Œå¦åˆ™èµ°æ­£å¸¸çš„ç½‘ç»œè¯·æ±‚æµç¨‹ã€‚ PageCache ä¸ Ajax å¯ç¼“å­˜PageCache å…¶å®æ˜¯ facebook æå‡ºçš„ï¼Œè§£å†³ ajax ç¼“å­˜çš„ä¸€ç§æ–¹æ¡ˆï¼ç®€å•çš„è¯´ï¼Œå°±æ˜¯å°†è®¿é—®è¿‡çš„é¡µé¢ç¼“å­˜åœ¨å®¢æˆ·ç«¯ã€‚ æ›´æ–°æ€è·¯ï¼š 1ã€å¢é‡æ›´æ–°ï¼šåªè¦é¡µé¢æ¥è‡ªäºç¼“å­˜ï¼Œå³æ›´æ–°æ‰€æœ‰é¢„å®šä¹‰çš„éœ€å¢é‡æ›´æ–°çš„æ¨¡å—ã€‚ 2ã€ç”¨æˆ·å¤å†™ï¼šé€šè¿‡ HistoryManager è®°å½•ç”¨æˆ·æ“ä½œå¹¶åœ¨ cache é¡µé¢è¯»å–åé‡æ”¾æ‰€æœ‰è¢«æ ‡è®°ä¸ºâ€œreplayableâ€çš„æ“ä½œã€‚ 3ã€è·¨é¡µæ›´æ–°ï¼šé€šè¿‡æœåŠ¡ç«¯ Database API å‘é€ä¿¡å·è‡³å®¢æˆ·ç«¯å°†è¿‡æœŸç¼“å­˜æ ‡è¯†ä¸º invalidï¼ˆä¸æ¸…æ¥šå¦‚ä½•å®ç°ã€‚ä¹Ÿè®¸æ˜¯ DB ç«¯æä¾›ä¸€ä¸ªå¼€æ”¾çš„ webserviceï¼Œå®¢æˆ·ç«¯é€šè¿‡ Ajax æŒç»­è®¿é—®æ­¤ API æ¥è·å¾—æ­¤ä¿¡æ¯ï¼‰ã€‚è·å¾—äº†ç¼“å­˜è¿‡æœŸä¿¡å·åï¼Œé€šè¿‡ Ajax æ›´æ–°éœ€è¦æ›´æ–°çš„ä¿¡æ¯ã€‚","link":"/http/%E7%BD%91%E7%BB%9C/HTTP%E7%A7%AF%E7%B4%AF/"},{"title":"React é«˜é˜¶ç»„ä»¶","text":"[TOC] é«˜é˜¶ç»„ä»¶é«˜é˜¶ç»„ä»¶ï¼ˆ higher-order component ï¼ŒHOC ï¼‰æ˜¯ React ä¸­å¤ç”¨ç»„ä»¶é€»è¾‘çš„ä¸€ç§è¿›é˜¶æŠ€å·§ã€‚å®ƒæœ¬èº«å¹¶ä¸æ˜¯ React çš„ APIï¼Œè€Œæ˜¯ä¸€ç§ React ç»„ä»¶çš„è®¾è®¡ç†å¿µï¼Œä¼—å¤šçš„ React åº“å·²ç»è¯æ˜äº†å®ƒçš„ä»·å€¼ï¼Œä¾‹å¦‚è€³ç†Ÿèƒ½è¯¦çš„ react-reduxã€‚ é«˜é˜¶å‡½æ•°æ˜¯æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥åˆ°å‡½æ•°ä¸­å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚æŠŠå‡½æ•°æ›¿æ¢æˆç»„ä»¶ï¼Œå°±æ˜¯é«˜é˜¶ç»„ä»¶ã€‚é«˜é˜¶ç»„ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥å°è£…é‡å¤çš„é€»è¾‘ã€‚ä¼ è¿›å»ä¸€ä¸ªè€ç»„ä»¶ï¼Œè¿”å›ä¸€ä¸ªæ–°ç»„ä»¶ const EnhancedComponent = higherOrderComponent(WrappedComponent); é«˜é˜¶ç»„ä»¶å¯ä»¥æŠ½ç¦»å…¬å…±é€»è¾‘ï¼Œåƒæ´‹è‘±ä¸€æ ·å±‚å±‚å åŠ ç»™ç»„ä»¶ï¼Œæ¯ä¸€å±‚èŒèƒ½åˆ†æ˜ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æŠ½ç¦»ä¸å¢æ·»ã€‚åœ¨ä¼˜åŒ–ä»£ç æˆ–è§£è€¦ç»„ä»¶æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨é«˜é˜¶ç»„ä»¶æ¨¡å¼ã€‚ å®ç°é«˜é˜¶ç»„ä»¶çš„ä¸¤ç§æ–¹å¼ï¼š å±æ€§ä»£ç†(Props Proxy): é«˜é˜¶ç»„ä»¶æ“æ§ä¼ é€’ç»™ WrappedComponent çš„ propsï¼Œ åå‘ç»§æ‰¿ï¼ˆInheritance Inversionï¼‰ï¼šé«˜é˜¶ç»„ä»¶ç»§æ‰¿ï¼ˆextendsï¼‰WrappedComponentã€‚ å¯ä»¥ç”¨é«˜é˜¶ç»„ä»¶åšä»€ä¹ˆï¼Ÿ ä»£ç å¤ç”¨ï¼Œé€»è¾‘æŠ½è±¡ï¼ŒæŠ½ç¦»åº•å±‚å‡†å¤‡ï¼ˆbootstrapï¼‰ä»£ç  æ¸²æŸ“åŠ«æŒ State æŠ½è±¡å’Œæ›´æ”¹ Props æ›´æ”¹ å®ä¾‹ä¾‹å¦‚ï¼Œå‡è®¾ä½ æœ‰ä¸€ä¸ªæ¥å—å¤–éƒ¨æ•°æ®æºæ¸²æŸ“è¯„è®ºåˆ—è¡¨çš„CommentListç»„ä»¶ï¼š 12345678910111213141516171819202122232425262728293031323334353637class CommentList extends React.Component { constructor() { super(); this.handleChange = this.handleChange.bind(this); this.state = { // &quot;DataSource&quot; is some global data source comments: DataSource.getComments() }; } componentDidMount() { // Subscribe to changes DataSource.addChangeListener(this.handleChange); } componentWillUnmount() { // Clean up listener DataSource.removeChangeListener(this.handleChange); } handleChange() { // Update component state whenever the data source changes this.setState({ comments: DataSource.getComments() }); } render() { return ( &lt;div&gt; {this.state.comments.map((comment) =&gt; ( &lt;Comment comment={comment} key={comment.id} /&gt; ))} &lt;/div&gt; ); }} éšåï¼Œä½ ç¼–å†™ä¸€ä¸ªè®¢é˜…å•ä¸ªåšæ–‡çš„ç»„ä»¶ï¼Œå…¶éµå¾ªç±»ä¼¼çš„æ¨¡å¼: 12345678910111213141516171819202122232425262728class BlogPost extends React.Component { constructor(props) { super(props); this.handleChange = this.handleChange.bind(this); this.state = { blogPost: DataSource.getBlogPost(props.id) }; } componentDidMount() { DataSource.addChangeListener(this.handleChange); } componentWillUnmount() { DataSource.removeChangeListener(this.handleChange); } handleChange() { this.setState({ blogPost: DataSource.getBlogPost(this.props.id) }); } render() { return &lt;TextBlock text={this.state.blogPost} /&gt;; }} CommentListå’ŒBlogPostæ˜¯ç­‰ä»·çš„ï¼Œé™¤äº†å®ƒä»¬è°ƒç”¨DataSourceçš„ä¸åŒæ–¹æ³•ï¼Œæœ‰ä¸åŒçš„è¾“å‡ºã€‚ä½†å®ƒä»¬å¤§éƒ¨åˆ†çš„å®ç°æ˜¯ç±»ä¼¼çš„: ç»„ä»¶mountç»“æŸåï¼Œéƒ½æ·»åŠ DataSourceçš„changeç›‘å¬ é™¤äº†ç›‘å¬å‡½æ•°ï¼Œæ— è®ºä»€ä¹ˆæ—¶å€™datasourceæ”¹å˜ä¹‹åï¼Œéƒ½ä¼šè°ƒç”¨setState ç»„ä»¶unmountä¹‹åï¼Œéƒ½ä¼šç§»é™¤ç›‘å¬ã€‚ ä»¥ä¸Šä¸¤ä¸ªç»„ä»¶åœ¨å¤§å‹é¡¹ç›®ä¸­è®¢é˜…åŠsetStateçš„æ–¹æ³•ä¼šä¸€æ¬¡æ¬¡å‡ºç°ã€‚ æˆ‘ä»¬éœ€è¦å°†å…¶æŠ½è±¡å‡ºæ¥ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰é€»è¾‘å¹¶ä¸”åœ¨ç»„ä»¶ä¸­å…±äº«ã€‚è¿™å°±æ˜¯é«˜é˜¶ç»„ä»¶çš„ä¼˜ç‚¹ å†™ä¸€ä¸ªå‡½æ•°ï¼Œèƒ½å¤Ÿåˆ›å»ºç±»ä¼¼äºCommentListå’ŒBlogPostè¿™ç±»è®¢é˜…DataSourceçš„æ–°çš„ç»„ä»¶ã€‚è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªå­ç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå­ç»„ä»¶æ¥å—è®¢é˜…æ•°æ®æºä½œä¸ºpropsï¼Œè°ƒç”¨withSubscriptionå¦‚ä¸‹ï¼š 123456789const CommentListWithSubscription = withSubscription( CommentList, (DataSource) =&gt; DataSource.getComments());const BlogPostWithSubscription = withSubscription( BlogPost, (DataSource, props) =&gt; DataSource.getBlogPost(props.id)}); ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¢«åŒ…å«çš„ç»„ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°æ ¹æ®ç»™å®šçš„DataSourceå’Œå½“å‰çš„propså–å›æˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚ å½“CommentListWithSubscriptionå’ŒCommentListWithSubscriptionè¢«æ¸²æŸ“æ—¶ï¼ŒCommentListå’ŒBlogPostå°†ä¼šè¢«ä¼ é€’dataå±æ€§ï¼Œå…¶ä¸­åŒ…å«ä»DataSourceå–å›çš„æœ€æ–°æ•°æ®ã€‚ 12345678910111213141516171819202122232425262728293031323334// This function takes a component...function withSubscription(WrappedComponent, selectData) { // ...and returns another component... return class extends React.Component { constructor(props) { super(props); this.handleChange = this.handleChange.bind(this); this.state = { data: selectData(DataSource, props) }; } componentDidMount() { // ... that takes care of the subscription... DataSource.addChangeListener(this.handleChange); } componentWillUnmount() { DataSource.removeChangeListener(this.handleChange); } handleChange() { this.setState({ data: selectData(DataSource, this.props) }); } render() { // ... and renders the wrapped component with the fresh data! // Notice that we pass through any additional props return &lt;WrappedComponent data={this.state.data} {...this.props} /&gt;; } };} é«˜é˜¶ç»„ä»¶æ—¢ä¸ä¼šä¿®æ”¹è¾“å…¥ç»„ä»¶ï¼Œä¹Ÿä¸ä¼šé€šè¿‡ç»§æ‰¿æ¥å¤åˆ¶è¡Œä¸ºã€‚ç›¸åï¼Œé€šè¿‡åŒ…è£¹çš„å½¢å¼ï¼Œé«˜é˜¶ç»„ä»¶å°†åŸå…ˆçš„ç»„ä»¶ç»„åˆåœ¨containerç»„ä»¶ä¸­ã€‚é«˜é˜¶ç»„ä»¶æ˜¯çº¯å‡½æ•°ï¼Œæ²¡æœ‰å‰¯ä½œç”¨ã€‚ è¢«åŒ…è£¹çš„å…ƒç´ æ¥å— container çš„æ‰€æœ‰propså’Œæ–°çš„propsï¼Œå¹¶ä½¿ç”¨å…¶æ¸²æŸ“è¾“å‡ºã€‚é«˜é˜¶ç»„ä»¶å¹¶ä¸å…³å¿ƒæ•°æ®å°†ä¼šå¦‚ä½•æˆ–è€…ä¸ºä»€ä¹ˆä½¿ç”¨ï¼Œå¹¶ä¸”è¢«åŒ…è£¹çš„å…ƒç´ å¹¶ä¸å…³å¿ƒæ•°æ®çš„æºå¤´ã€‚ å› ä¸ºwithSubscriptionåªæ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½ å¯ä»¥æŒ‰ç…§ä½ çš„æ„æ„¿æ·»åŠ å¾ˆå¤šæˆ–è€…å¾ˆå°‘çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½å¸Œæœ›dataçš„åå­—æ˜¯å¯ä»¥é…ç½®çš„ï¼Œä¸ºäº†è¿›ä¸€æ­¥éš”ç¦»é«˜é˜¶ç»„ä»¶å’Œè¢«åŒ…è£¹ç»„ä»¶ã€‚æˆ–è€…ä½ å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå®ƒå¯ä»¥é…ç½®shouldComponentUpdate,æˆ–è€…æ˜¯å¯ä»¥é…ç½®æ•°æ®çš„æ¥æºã€‚è¿™éƒ½æ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºé«˜é˜¶ç»„ä»¶å¯ä»¥å®Œå…¨è‡ªå·±æ§åˆ¶ç»„ä»¶è¯¥å¦‚ä½•å®šä¹‰ã€‚ å’Œç»„ä»¶ç›¸ç±»ä¼¼ï¼ŒwithSubscriptionå’Œè¢«åŒ…è£¹ç»„ä»¶çš„è”ç³»æ˜¯åŸºäºpropsçš„ã€‚åªè¦ä¸ºè¢«åŒ…è£¹å…ƒç´ æä¾›ç›¸åŒçš„å±æ€§ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“å°†ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ç»„ä»¶è½¬åŒ–æˆä¸åŒçš„é«˜é˜¶ç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¦æ”¹å˜æ•°æ®è·å–çš„åº“ï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚ ä¸€ä¸ªç®€å•çš„é«˜é˜¶ç»„ä»¶1234567891011121314import React, {Component} from 'react';import simpleHoc from './simpleHoc';class Usual extends Component { render() { console.log(this.props, 'props); return ( &lt;div&gt; Usual &lt;/div&gt; ) }}export default simpleHoc(Usual); simpleHoc.js 1234567891011import React, { Component } from 'react';const simpleHoc = wrappedComponent =&gt; { console.log('simpleHoc'); return class extends Component { render() { return &lt;wrappedComponent {...this.props} /&gt; } }}export default simpleHoc; ä¾‹äºŒ: 123456789101112export default function withHeader(WrappedComponent) { return class HOC extends Component { render() { return &lt;div&gt; &lt;div className=&quot;demo-header&quot;&gt; æˆ‘æ˜¯æ ‡é¢˜ &lt;/div&gt; &lt;WrappedComponent {...this.props}/&gt; &lt;/div&gt; } }} åœ¨å…¶ä»–ç»„ä»¶ä¸­å¼•ç”¨ 12345678910@withHeaderexport default class Demo extends Component { render() { return ( &lt;div&gt; æˆ‘æ˜¯ä¸€ä¸ªæ™®é€šç»„ä»¶ &lt;/div&gt; ); }} è£…é¥°å™¨æ¨¡å¼é«˜é˜¶ç»„ä»¶å¯ä»¥çœ‹åšæ˜¯è£…é¥°å™¨æ¨¡å¼(Decorator Pattern) åœ¨Reactçš„å®ç°ã€‚å³å…è®¸å‘ä¸€ä¸ªç°æœ‰å¯¹è±¡æ·»åŠ æ–°åŠŸèƒ½ï¼ŒåŒæ—¶ä¸æ”¹å˜å…¶ç»“æ„ï¼Œå±äºåŒ…è£…æ¨¡å¼(Wrapper Pattern)çš„ä¸€ç§ ä¸Šé¢ä¾‹å­å¯ä»¥æ”¹å†™ä¸º 12345678910111213import React, { Component } from 'react';import simpleHoc from './simple-hoc';@simpleHocexport default class Usual extends Component { render() { return ( &lt;div&gt; Usual &lt;/div&gt; ) }} ä¸¤ç§å½¢å¼å±æ€§ä»£ç†å±æ€§ä»£ç†æœ¬è´¨ä¸Šæ˜¯è¿”å›äº†ä¸€ä¸ªå…¨æ–°çš„ Componentï¼Œæ­¤æ—¶åŸç»„ä»¶çš„é™æ€å±æ€§ã€ç”Ÿå‘½å‘¨æœŸç­‰ä¸€ç³»åˆ—å†…å®¹éƒ½è¢«å±è”½ï¼Œå¯¼è‡´ä¸Šå±‚çš„é«˜é˜¶ç»„ä»¶ã€å¯¹ç»„ä»¶çš„æ“ä½œéƒ½æ‹¿ä¸åˆ°åº”æœ‰çš„å†…å®¹ã€‚ ä¸€ä¸ªç®€å•ä¾‹å­ä¸­ç”¨çš„å°±æ˜¯å±æ€§ä»£ç†(Props Proxy)çš„å½¢å¼ã€‚æœ¬æ¥ä¼ ç»™Usualçš„propsåœ¨hocä¸­æ¥æ”¶åˆ°ï¼Œå°±æ˜¯props proxy. è¿™é‡Œå¯ä»¥åšä¸€äº›æ“ä½œ 12345678function ppHOC(WrappedComponent) { return class PP extends React.Component { render() { return &lt;WrappedComponent {...this.props}/&gt; } }} è¿™é‡Œé«˜é˜¶ç»„ä»¶çš„ render æ–¹æ³•è¿”å›äº†ä¸€ä¸ª type ä¸º WrappedComponent çš„ React Elementï¼ˆä¹Ÿå°±æ˜¯è¢«åŒ…è£…çš„é‚£ä¸ªç»„ä»¶ï¼‰ï¼Œæˆ‘ä»¬æŠŠé«˜é˜¶ç»„ä»¶æ”¶åˆ°çš„ props ä¼ é€’ç»™å®ƒï¼Œå› æ­¤å¾—å Props Proxyã€‚ æ³¨æ„ï¼š 123&lt;WrappedComponent {...this.props}/&gt;// is equivalent toReact.createElement(WrappedComponent, this.props, null) Props Proxy å¯ä»¥åšä»€ä¹ˆ æ“ä½œ props é€šè¿‡ refs è·å–ç»„ä»¶å®ä¾‹ æŠ½è±¡ state æŠŠ WrappedComponent ä¸å…¶å®ƒ elements åŒ…è£…åœ¨ä¸€èµ· æ“ä½œpropsæ¥æ”¶åˆ°propså¯ä»¥åšä»»ä½•è¯»å–ï¼Œç¼–è¾‘ï¼Œåˆ é™¤ç­‰è‡ªå®šä¹‰æ“ä½œã€‚éƒ½å¯ä»¥é€šè¿‡propså†ä¼ ä¸‹å» 12345678910111213141516import React, { Component } from 'react';const propsProxyHoc = WrappedComponent =&gt; class extends Component { handleClick() { console.log('click'); } render() { return (&lt;WrappedComponent {...this.props} handleClick={this.handleClick} /&gt;); }};export default propsProxyHoc; åœ¨Usualç»„ä»¶ä¸­ä¼šæ¥æ”¶åˆ°handleClickå±æ€§ åœ¨ä¿®æ”¹æˆ–åˆ é™¤é‡è¦ props çš„æ—¶å€™è¦å°å¿ƒï¼Œä½ å¯èƒ½åº”è¯¥ç»™é«˜é˜¶ç»„ä»¶çš„ props æŒ‡å®šå‘½åç©ºé—´ï¼ˆnamespaceï¼‰ï¼Œä»¥é˜²ç ´åä»å¤–ä¼ é€’ç»™ WrappedComponent çš„ propsã€‚ ä¾‹å­ï¼šæ·»åŠ æ–° propsã€‚è¿™ä¸ªcurrentLoggedInUserå¯ä»¥åœ¨ WrappedComponent é€šè¿‡ this.props.user è·å– 12345678910function ppHOC(WrappedComponent) { return class PP extends React.Component { render() { const newProps = { user: currentLoggedInUser } return &lt;WrappedComponent {...this.props} {...newProps}/&gt; } }} é€šè¿‡refsè·å–ç»„ä»¶å®ä¾‹å°½ç®¡æƒ¯ä¾‹æ˜¯é«˜é˜¶ç»„ä»¶ä¼šç»™è¢«åŒ…è£¹ç»„ä»¶ä¼ é€’æ‰€æœ‰çš„å±æ€§(props)ï¼Œä½†æ˜¯ä¸ä¼šä¼ é€’refsã€‚å› ä¸ºrefä¸æ˜¯ä¸€ä¸ªå±æ€§ï¼Œå°±åƒkeyä¸€æ ·ï¼Œå®ƒæ˜¯ç”±Reactç‰¹æ®Šå¤„ç†çš„ã€‚å¦‚æœä½ ç»™é«˜é˜¶ç»„ä»¶äº§ç”Ÿçš„ç»„ä»¶çš„å…ƒç´ æ·»åŠ ref,refå¼•ç”¨çš„æ˜¯å¤–å±‚çš„å®¹å™¨ç»„ä»¶çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯è¢«åŒ…è£¹çš„ç»„ä»¶ã€‚ å¦‚æœä½ é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæœ€å¥½çš„è§£å†³æ–¹æ³•æ˜¯é¿å…ä½¿ç”¨refã€‚æœ‰æ—¶å€™ï¼ŒReactæ–°æ‰‹ç”¨æˆ·ä¾èµ–äºrefsï¼Œè¿™æ—¶å€™propsæ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä¹Ÿå°±æ˜¯è¯´refsæœ‰æ—¶å€™æ˜¯å¿…è¦çš„ï¼Œå¦åˆ™Reactä¹Ÿä¸ä¼šæä¾›refsã€‚ é€‰ä¸­è¾“å…¥æ¡†(focusing an input field)æ˜¯ä¸€ä¸ªä½ å¯èƒ½å¸Œæœ›å¼ºåˆ¶æ§åˆ¶ç»„ä»¶çš„ä¾‹å­ã€‚åœ¨è¿™ç§ä¾‹å­ä¸­ï¼Œä¸€ä¸ªè§£å†³åŠæ³•æ˜¯é€šè¿‡èµ·ä¸€ä¸ªåˆ«åï¼Œå°†refä½œä¸ºä¸€ä¸ªæ™®é€šçš„propsä¼ é€’ï¼š 1234567891011121314151617function Field({ inputRef, ...rest }) { return &lt;input ref={inputRef} {...rest} /&gt;;}// Wrap Field in a higher-order componentconst EnhancedField = enhance(Field);// Inside a class component's render method...&lt;EnhancedField inputRef={(inputEl) =&gt; { // This callback gets passed through as a regular prop this.inputEl = inputEl }}/&gt;// Now you can call imperative methodsthis.inputEl.focus(); æ— è®ºå¦‚ä½•ï¼Œè¿™éƒ½æ˜¯ä¸€ä¸ªå®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬å€¾å‘äºrefsæ˜¯ç”±åº“å»å¤„ç†ï¼Œè€Œä¸æ˜¯è¦æ±‚ä½ æ‰‹åŠ¨åœ°å¤„ç†ã€‚æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•ï¼Œä»¥ä¾¿åœ¨ä½¿ç”¨é«˜é˜¶ç»„ä»¶æ—¶ä¸éœ€è¦æ³¨æ„è¿™ä¸ªé—®é¢˜ã€‚ æŠ½è±¡stateè¿™é‡Œä¸æ˜¯é€šè¿‡refè·å–stateï¼Œ è€Œæ˜¯é€šè¿‡ { props, å›è°ƒå‡½æ•° } ä¼ é€’ç»™wrappedComponentç»„ä»¶ï¼Œé€šè¿‡å›è°ƒå‡½æ•°è·å–stateã€‚è¿™é‡Œç”¨çš„æ¯”è¾ƒå¤šçš„å°±æ˜¯reactå¤„ç†è¡¨å•çš„æ—¶å€™ã€‚é€šå¸¸reactåœ¨å¤„ç†è¡¨å•çš„æ—¶å€™ï¼Œä¸€èˆ¬ä½¿ç”¨çš„æ˜¯å—æ§ç»„ä»¶ï¼ˆæ–‡æ¡£ï¼‰ï¼Œå³æŠŠinputéƒ½åšæˆå—æ§çš„ï¼Œæ”¹å˜valueçš„æ—¶å€™ï¼Œç”¨onChangeäº‹ä»¶åŒæ­¥åˆ°stateä¸­ã€‚ å¯ä»¥é€šè¿‡å‘ WrappedComponent ä¼ é€’ props å’Œ callbacksï¼ˆå›è°ƒå‡½æ•°ï¼‰æ¥æŠ½è±¡ stateï¼Œè¿™å’Œ React ä¸­å¦å¤–ä¸€ä¸ªç»„ä»¶æ„æˆæ€æƒ³ Presentational and Container Components å¾ˆç›¸ä¼¼ã€‚ 1234567891011121314151617181920// æ™®é€šç»„ä»¶Loginimport React, { Component } from 'react';import formCreate from './form-create';@formCreateexport default class Login extends Component { render() { return ( &lt;div&gt; &lt;div&gt; &lt;label id=&quot;username&quot;&gt; è´¦æˆ· &lt;/label&gt; &lt;input name=&quot;username&quot; {...this.props.getField('username')}/&gt; &lt;/div&gt; &lt;div onClick={this.props.handleSubmit}&gt;æäº¤&lt;/div&gt; &lt;/div&gt; ) }} form-create.js 1234567891011121314151617181920212223242526272829303132333435363738//HOCimport React, { Component } from 'react';const formCreate = WrappedComponent =&gt; class extends Component { constructor() { super(); this.state = { fields: {}, } } onChange = key =&gt; e =&gt; { const { fields } = this.state; fields[key] = e.target.value; this.setState({ fields, }) } handleSubmit = () =&gt; { console.log(this.state.fields); } getField = fieldName =&gt; { return { onChange: this.onChange(fieldName), } } render() { const props = { ...this.props, handleSubmit: this.handleSubmit, getField: this.getField, } return (&lt;WrappedComponent {...props} /&gt;); }};export default formCreate; è¿™é‡Œæˆ‘ä»¬æŠŠstateï¼ŒonChangeç­‰æ–¹æ³•éƒ½æ”¾åˆ°HOCé‡Œï¼Œå…¶å®æ˜¯éµä»çš„reactç»„ä»¶çš„ä¸€ç§è§„èŒƒï¼Œå­ç»„ä»¶ç®€å•ï¼Œå‚»ç“œï¼Œè´Ÿè´£å±•ç¤ºï¼Œé€»è¾‘ä¸æ“ä½œæ”¾åˆ°Containerã€‚æ¯”å¦‚è¯´æˆ‘ä»¬åœ¨HOCè·å–åˆ°ç”¨æˆ·åå¯†ç ä¹‹åï¼Œå†å»åšå…¶ä»–æ“ä½œï¼Œå°±æ–¹ä¾¿å¤šäº†ï¼Œè€Œstateï¼Œå¤„ç†å‡½æ•°æ”¾åˆ°Formç»„ä»¶é‡Œï¼Œåªä¼šè®©Formæ›´åŠ ç¬¨é‡ï¼Œæ‰¿æ‹…äº†æœ¬ä¸å±äºå®ƒçš„å·¥ä½œï¼Œè¿™æ ·æˆ‘ä»¬å¯èƒ½å…¶ä»–åœ°æ–¹ä¹Ÿéœ€è¦ç”¨åˆ°è¿™ä¸ªç»„ä»¶ï¼Œä½†æ˜¯å¤„ç†æ–¹å¼ç¨å¾®ä¸åŒï¼Œå°±å¾ˆéº»çƒ¦äº†ã€‚ æŠŠ WrappedComponent ä¸å…¶å®ƒ elements åŒ…è£…åœ¨ä¸€èµ·å‡ºäºæ“ä½œæ ·å¼ã€å¸ƒå±€æˆ–å…¶å®ƒç›®çš„ï¼Œä½ å¯ä»¥å°† WrappedComponent ä¸å…¶å®ƒç»„ä»¶åŒ…è£…åœ¨ä¸€èµ·ã€‚ä¸€äº›åŸºæœ¬çš„ç”¨æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£å¸¸çš„çˆ¶ç»„ä»¶æ¥å®ç°ï¼ˆé™„å½• Bï¼‰ï¼Œä½†æ˜¯å°±åƒä¹‹å‰æ‰€æè¿°çš„ï¼Œä½¿ç”¨é«˜é˜¶ç»„ä»¶ä½ å¯ä»¥è·å¾—æ›´å¤šçš„çµæ´»æ€§ã€‚ 123456789101112function ppHOC(WrappedComponent) { return class PP extends React.Component { render() { return ( &lt;div style={{display: 'block'}}&gt; &lt;WrappedComponent {...this.props}/&gt; &lt;/div&gt; ) } }} åå‘ç»§æ‰¿åå‘ç»§æ‰¿(Inheritance Inversion), ç®€ç§°IIï¼Œ ç®€å•çš„å®ç°ï¼š 1234567891011function iiHOC(WrappedComponent) { return class Enhancer extends WrappedComponent { componentDidMount() { // å¯ä»¥æ–¹ä¾¿åœ°å¾—åˆ°stateï¼Œåšä¸€äº›æ›´æ·±å…¥çš„ä¿®æ”¹ã€‚ console.log(this.state); } render() { return super.render() } }} è¿”å›çš„é«˜é˜¶ç»„ä»¶ç±»ï¼ˆEnhancerï¼‰ç»§æ‰¿äº† WrappedComponentã€‚è¿™è¢«å«åšåå‘ç»§æ‰¿æ˜¯å› ä¸º WrappedComponent è¢«åŠ¨åœ°è¢« Enhancer ç»§æ‰¿ï¼Œè€Œä¸æ˜¯ WrappedComponent å»ç»§æ‰¿ Enhancerã€‚é€šè¿‡è¿™ç§æ–¹å¼ä»–ä»¬ä¹‹é—´çš„å…³ç³»å€’è½¬äº†ã€‚ åå‘ç»§æ‰¿å…è®¸é«˜é˜¶ç»„ä»¶é€šè¿‡ this å…³é”®è¯è·å– WrappedComponentï¼Œæ„å‘³ç€å®ƒå¯ä»¥è·å–åˆ° stateï¼Œpropsï¼Œç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼ˆcomponent lifecycleï¼‰é’©å­ï¼Œä»¥åŠæ¸²æŸ“æ–¹æ³•ï¼ˆrenderï¼‰ã€‚ å¯ä»¥ç”¨åå‘ç»§æ‰¿é«˜é˜¶ç»„ä»¶åšä»€ä¹ˆï¼Ÿ æ¸²æŸ“åŠ«æŒï¼ˆRender Highjackingï¼‰ æ“ä½œ state æ¸²æŸ“åŠ«æŒè¢«å«åšæ¸²æŸ“åŠ«æŒæ˜¯å› ä¸ºé«˜é˜¶ç»„ä»¶æ§åˆ¶äº† WrappedComponent ç”Ÿæˆçš„æ¸²æŸ“ç»“æœï¼Œå¹¶ä¸”å¯ä»¥åšå„ç§æ“ä½œã€‚ é€šè¿‡æ¸²æŸ“åŠ«æŒä½ å¯ä»¥ï¼š ã€è¯»å–ã€æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ã€ä»»ä½•ä¸€ä¸ªå°†è¢«æ¸²æŸ“çš„ React Element çš„ props åœ¨æ¸²æŸ“æ–¹æ³•ä¸­è¯»å–æˆ–æ›´æ”¹ React Elements treeï¼Œä¹Ÿå°±æ˜¯ WrappedComponent çš„ children æ ¹æ®æ¡ä»¶ä¸åŒï¼Œé€‰æ‹©æ€§çš„æ¸²æŸ“å­æ ‘ ç»™å­æ ‘é‡Œçš„å…ƒç´ å˜æ›´æ ·å¼ *æ¸²æŸ“ æŒ‡çš„æ˜¯ WrappedComponent.render æ–¹æ³• ä½ æ— æ³•æ›´æ”¹æˆ–åˆ›å»º props ç»™ WrappedComponent å®ä¾‹ï¼Œå› ä¸º React ä¸å…è®¸å˜æ›´ä¸€ä¸ªç»„ä»¶æ”¶åˆ°çš„ propsï¼Œä½†æ˜¯ä½ å¯ä»¥åœ¨ render æ–¹æ³•é‡Œæ›´æ”¹å­å…ƒç´ /å­ç»„ä»¶ä»¬çš„ propsã€‚ å°±åƒä¹‹å‰æ‰€è¯´çš„ï¼Œåå‘ç»§æ‰¿çš„é«˜é˜¶ç»„ä»¶ä¸èƒ½ä¿è¯ä¸€å®šæ¸²æŸ“æ•´ä¸ªå­å…ƒç´ æ ‘ï¼Œè¿™åŒæ—¶ä¹Ÿç»™æ¸²æŸ“åŠ«æŒå¢æ·»äº†ä¸€äº›é™åˆ¶ã€‚é€šè¿‡åå‘ç»§æ‰¿ï¼Œä½ åªèƒ½åŠ«æŒ WrappedComponent æ¸²æŸ“çš„å…ƒç´ ï¼Œè¿™æ„å‘³ç€å¦‚æœ WrappedComponent çš„å­å…ƒç´ é‡Œæœ‰ Function ç±»å‹çš„ React Elementï¼Œä½ ä¸èƒ½åŠ«æŒè¿™ä¸ªå…ƒç´ é‡Œé¢çš„å­å…ƒç´ æ ‘çš„æ¸²æŸ“ã€‚ ä¾‹å­1ï¼šæ¡ä»¶æ€§æ¸²æŸ“ã€‚å¦‚æœ this.props.loggedIn æ˜¯ trueï¼Œè¿™ä¸ªé«˜é˜¶ç»„ä»¶ä¼šåŸå°ä¸åŠ¨åœ°æ¸²æŸ“ WrappedComponentï¼Œå¦‚æœä¸æ˜¯ true åˆ™ä¸æ¸²æŸ“ï¼ˆå‡è®¾æ­¤ç»„ä»¶ä¼šæ”¶åˆ° loggedIn çš„ propï¼‰ 1234567891011function iiHOC(WrappedComponent) { return class Enhancer extends WrappedComponent { render() { if (this.props.loggedIn) { return super.render() } else { return null } } }} ä¾‹å­2ï¼šé€šè¿‡ render æ¥å˜æˆ React Elements tree çš„ç»“æœ 1234567891011121314function iiHOC(WrappedComponent) { return class Enhancer extends WrappedComponent { render() { const elementsTree = super.render() let newProps = {}; if (elementsTree &amp;&amp; elementsTree.type === 'input') { newProps = {value: 'may the force be with you'} } const props = Object.assign({}, elementsTree.props, newProps) const newElementsTree = React.cloneElement(elementsTree, props, elementsTree.props.children) return newElementsTree } }} åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœ WrappedComponent çš„é¡¶å±‚å…ƒç´ æ˜¯ä¸€ä¸ª inputï¼Œåˆ™æ”¹å˜å®ƒçš„å€¼ä¸º â€œmay the force be with youâ€ã€‚è¿™é‡Œä½ å¯ä»¥åšä»»ä½•æ“ä½œï¼Œæ¯”å¦‚ä½ å¯ä»¥éå†æ•´ä¸ª element tree ç„¶åå˜æ›´æŸäº›å…ƒç´ çš„ propsã€‚è¿™æ°å¥½å°±æ˜¯ Radium çš„å·¥ä½œæ–¹å¼ã€‚ æ³¨æ„ï¼šä½ ä¸èƒ½é€šè¿‡ Props Proxy æ¥åšæ¸²æŸ“åŠ«æŒå³ä½¿ä½ å¯ä»¥é€šè¿‡ WrappedComponent.prototype.render è·å–å®ƒçš„ render æ–¹æ³•ï¼Œä½ éœ€è¦è‡ªå·±æ‰‹åŠ¨æ¨¡æ‹Ÿæ•´ä¸ªå®ä¾‹ä»¥åŠç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè€Œä¸æ˜¯ä¾é  Reactï¼Œè¿™æ˜¯ä¸å€¼å½“çš„ï¼Œåº”è¯¥ä½¿ç”¨åå‘ç»§æ‰¿æ¥åšåˆ°æ¸²æŸ“åŠ«æŒã€‚è¦è®°ä½ React åœ¨å†…éƒ¨å¤„ç†ç»„ä»¶çš„å®ä¾‹ï¼Œè€Œä½ åªé€šè¿‡ this æˆ– refs æ¥å¤„ç†å®ä¾‹ã€‚ æ“ä½œ stateé«˜é˜¶ç»„ä»¶å¯ä»¥ ã€è¯»å–ã€ä¿®æ”¹ã€åˆ é™¤ã€WrappedComponent å®ä¾‹çš„ stateï¼Œå¦‚æœéœ€è¦ä¹Ÿå¯ä»¥æ·»åŠ æ–°çš„ stateã€‚éœ€è¦è®°ä½çš„æ˜¯ï¼Œä½ åœ¨å¼„ä¹± WrappedComponent çš„ stateï¼Œå¯èƒ½ä¼šå¯¼è‡´ç ´åä¸€äº›ä¸œè¥¿ã€‚é€šå¸¸ä¸å»ºè®®ä½¿ç”¨é«˜é˜¶ç»„ä»¶æ¥è¯»å–æˆ–æ·»åŠ  stateï¼Œæ·»åŠ  state éœ€è¦ä½¿ç”¨å‘½åç©ºé—´æ¥é˜²æ­¢ä¸ WrappedComponent çš„ state å†²çªã€‚ ä¾‹å­ï¼šé€šè¿‡æ˜¾ç¤º WrappedComponent çš„ props å’Œ state æ¥ debug 1234567891011121314export function IIHOCDEBUGGER(WrappedComponent) { return class II extends WrappedComponent { render() { return ( &lt;div&gt; &lt;h2&gt;HOC Debugger Component&lt;/h2&gt; &lt;p&gt;Props&lt;/p&gt; &lt;pre&gt;{JSON.stringify(this.props, null, 2)}&lt;/pre&gt; &lt;p&gt;State&lt;/p&gt;&lt;pre&gt;{JSON.stringify(this.state, null, 2)}&lt;/pre&gt; {super.render()} &lt;/div&gt; ) } }} HOCå’ŒMixinçš„æ¯”è¾ƒ é«˜é˜¶ç»„ä»¶å±äºå‡½æ•°å¼ç¼–ç¨‹(functional programming)æ€æƒ³ï¼Œå¯¹äºè¢«åŒ…è£¹çš„ç»„ä»¶æ—¶ä¸ä¼šæ„ŸçŸ¥åˆ°é«˜é˜¶ç»„ä»¶çš„å­˜åœ¨ï¼Œè€Œé«˜é˜¶ç»„ä»¶è¿”å›çš„ç»„ä»¶ä¼šåœ¨åŸæ¥çš„ç»„ä»¶ä¹‹ä¸Šå…·æœ‰åŠŸèƒ½å¢å¼ºçš„æ•ˆæœã€‚è€ŒMixinè¿™ç§æ··å…¥çš„æ¨¡å¼ï¼Œä¼šç»™ç»„ä»¶ä¸æ–­å¢åŠ æ–°çš„æ–¹æ³•å’Œå±æ€§ï¼Œç»„ä»¶æœ¬èº«ä¸ä»…å¯ä»¥æ„ŸçŸ¥ï¼Œç”šè‡³éœ€è¦åšç›¸å…³çš„å¤„ç†(ä¾‹å¦‚å‘½åå†²çªã€çŠ¶æ€ç»´æŠ¤)ï¼Œä¸€æ—¦æ··å…¥çš„æ¨¡å—å˜å¤šæ—¶ï¼Œæ•´ä¸ªç»„ä»¶å°±å˜çš„éš¾ä»¥ç»´æŠ¤ï¼Œä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå¦‚æ­¤å¤šçš„Reactåº“éƒ½é‡‡ç”¨é«˜é˜¶ç»„ä»¶çš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚ ä½œè€…ï¼šè¯·å«æˆ‘ç‹ç£ŠåŒå­¦é“¾æ¥ï¼šhttps://juejin.im/post/5914fb4a0ce4630069d1f3f6æ¥æºï¼šæ˜é‡‘è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ åº”ç”¨åœºæ™¯ ç”¨é«˜é˜¶ç»„ä»¶ä¼˜åŒ–ä¹‹å‰è€é¡¹ç›®å†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œæ¯”å¦‚ä¸¤ä¸ªé¡µé¢UIå‡ ä¹ä¸€æ ·ï¼ŒåŠŸèƒ½å‡ ä¹ç›¸åŒï¼Œä»…ä»…å‡ ä¸ªæ“ä½œä¸å¤ªä¸€æ ·ï¼Œå´å†™äº†ä¸¤ä¸ªè€¦åˆå¾ˆå¤šçš„é¡µé¢çº§ç»„ä»¶ã€‚å½“æˆ‘å»ç»´æŠ¤å®ƒçš„æ—¶å€™ï¼Œç”±äºå®ƒçš„è€¦åˆæ€§è¿‡å¤šï¼Œç»å¸¸ä¼šæ·»åŠ ä¸€ä¸ªåŠŸèƒ½(è¿™ä¸¤ä¸ªç»„ä»¶éƒ½è¦æ·»åŠ )ï¼Œæˆ‘è¦å»æ”¹å®Œç¬¬ä¸€ä¸ªçš„æ—¶å€™ï¼Œè¿˜è¦æ”¹ç¬¬äºŒä¸ªã€‚è€Œä¸”æœ‰æ—¶å€™ç”±äºè®°æ€§ä¸å¥½ï¼Œä¼šå¿˜æ‰ç¬¬äºŒä¸ªâ€¦ å°±ä¼šå‡ºç°bugå†è¿”å·¥ã€‚æ‰€ä»¥åŠ æ–°åŠŸèƒ½æ—¶ï¼Œå†™ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œå¾€HOCé‡Œæ·»åŠ æ–¹æ³•ï¼ŒæŠŠé‚£ä¸¤ä¸ªç»„ä»¶åŒ…è£…ä¸€ä¸‹ï¼Œä¹Ÿå°±æ˜¯å±æ€§ä»£ç†ã€‚è¿™æ ·æ–°ä»£ç å°±ä¸ä¼šå†å‡ºç°è€¦åˆï¼Œæ—§çš„é€»è¾‘å¹¶ä¸ä¼šæ”¹å˜ å¦ä¸€ç§æƒ…å†µæ˜¯ä¹‹å‰å†™è¿‡ä¸€ä¸ªç»„ä»¶Aï¼Œåšå®Œä¸Šçº¿ï¼Œä¹‹åäº§å“åŠ äº†ä¸€ä¸ªæ–°éœ€æ±‚ï¼Œå¾ˆå¥‡æ€ªè¦åšçš„ç»„ä»¶Bè·ŸAå‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œä½†ç¨å¾®æœ‰åŒºåˆ«ã€‚é‚£æˆ‘å¯èƒ½å°±é€šè¿‡IIçš„æ–¹å¼å»ç»§æ‰¿ä¹‹å‰çš„ç»„ä»¶Aï¼Œæ¯”å¦‚å®ƒåœ¨didMountå»fetchè¯·æ±‚ï¼Œéœ€è¦çš„æ•°æ®æ˜¯ä¸€æ ·çš„ã€‚ä¸åŒçš„åœ°æ–¹æˆ‘å°±ä¼šæ”¾åˆ°HOCé‡Œï¼Œå­˜å‚¨æ–°çš„stateè¿™æ ·ï¼Œå†é€šè¿‡åŠ«æŒæ¸²æŸ“ï¼ŒæŠŠä¸åŒçš„åœ°æ–¹ï¼Œæ·»åŠ çš„åœ°æ–¹è¿›è¡Œå¤„ç†ã€‚ä½†å…¶å®è¿™ç®—Hackçš„ä¸€ç§æ–¹å¼ï¼Œèƒ½å¿«é€Ÿè§£å†³é—®é¢˜ï¼Œä¹Ÿåæ˜ äº†ç»„ä»¶è®¾è®¡è§„åˆ’ä¹‹åˆæœ‰æ‰€ä¸è¶³(åŸå› æ¯”è¾ƒå¤š)ã€‚ Containerè§£å†³ä¸äº†çš„æ—¶å€™ç”šè‡³ä¸å¤ªä¼˜é›…çš„æ—¶å€™ã€‚å…¶å®å¤§éƒ¨åˆ†æ—¶å€™åŒ…ä¸€å±‚Containerç»„ä»¶ä¹Ÿèƒ½åšåˆ°å·®ä¸å¤šçš„æ•ˆæœï¼Œæ¯”å¦‚æ“ä½œpropsï¼Œæ¸²æŸ“åŠ«æŒã€‚ä½†å…¶å®è¿˜æ˜¯æœ‰å¾ˆå¤§åŒºåˆ«çš„ã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªåŠŸèƒ½çš„containerï¼Œæ·»åŠ æ ·å¼å’Œæ·»åŠ å¤„ç†å‡½æ•°çš„ï¼Œå¯¹Usualè¿›è¡ŒåŒ…è£…ã€‚æ —å­ï¼š 123456789101112//usualclass Usual extends Component { render() { console.log(this.props, 'props'); return &lt;div&gt; Usual &lt;/div&gt; }};export default Usual;//console - Object {handleClick: function} &quot;props&quot; 1234567891011121314import React, { Component } from 'react';import Usual from './usual';class StyleContainer extends Component { render() { return (&lt;div style={{ color: '#76d0a3' }}&gt; &lt;div&gt;container&lt;/div&gt; &lt;Usual {...this.props} /&gt; &lt;/div&gt;); }}export default StyleContainer; 123456789101112131415161718import React, { Component } from 'react';import StyleContainer from './container-add-style';class FuncContainer extends Component { handleClick() { console.log('click'); } render() { const props = { ...this.props, handleClick: this.handleClick, }; return (&lt;StyleContainer {...props} /&gt;); }}export default FuncContainer; å¤–å±‚Containerå¿…é¡»è¦å¼•å…¥å†…å±‚Containerï¼Œè¿›è¡ŒåŒ…è£…ï¼Œè¿˜æœ‰propsçš„ä¼ é€’ï¼ŒåŒæ ·è¦æ³¨æ„åŒ…è£…çš„é¡ºåºã€‚å½“ç„¶ä½ å¯ä»¥æŠŠæ‰€æœ‰çš„å¤„ç†éƒ½æ”¾åˆ°ä¸€ä¸ªContaineré‡Œã€‚é‚£ç”¨HOCæ€ä¹ˆå¤„ç†å‘¢ï¼Œç›¸ä¿¡å¤§å®¶æœ‰æ¸…æ™°çš„ç­”æ¡ˆäº†ã€‚ 12345678910111213const addFunc = WrappedComponent =&gt; class extends Component { handleClick() { console.log('click'); } render() { const props = { ...this.props, handleClick: this.handleClick, }; return &lt;WrappedComponent {...props} /&gt;; }}; 12345678const addStyle = WrappedComponent =&gt; class extends Component { render() { return (&lt;div style={{ color: '#76d0a3' }}&gt; &lt;WrappedComponent {...this.props} /&gt; &lt;/div&gt;); }}; 1234567891011const WrappenComponent = addStyle(addFunc(Usual));class WrappedUsual extends Component { render() { console.log(this.props, 'props'); return (&lt;div&gt; &lt;WrappedComponent /&gt; &lt;/div&gt;); }} æ˜¾ç„¶HOCæ˜¯æ›´ä¼˜é›…ä¸€äº›çš„ï¼Œæ¯ä¸ªHOCéƒ½å®šä¹‰è‡ªå·±ç‹¬æœ‰çš„å¤„ç†é€»è¾‘ï¼Œéœ€è¦çš„æ—¶å€™åªéœ€è¦å»åŒ…è£…ä½ çš„ç»„ä»¶ã€‚ç›¸è¾ƒäºContainerçš„æ–¹å¼ï¼ŒHOCè€¦åˆæ€§æ›´ä½ï¼Œçµæ´»æ€§æ›´é«˜ï¼Œå¯ä»¥è‡ªç”±ç»„åˆï¼Œæ›´é€‚åˆåº”ä»˜å¤æ‚çš„ä¸šåŠ¡ã€‚æ¯ä¸ªHOCè´Ÿè´£ç‹¬ç«‹çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å¯èƒ½åªæ˜¯ä¸€ä¸ªLoadingçš„æ•ˆæœï¼Œå¾ˆå¤šåˆ—è¡¨é¡µéƒ½éœ€è¦ï¼Œç”¨HOCåªéœ€è¦åŒ…è£…ä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦åœ¨æ¯ä¸ªç»„ä»¶é‡Œå†é‡å†™è¿™éƒ¨åˆ†é€»è¾‘äº†ã€‚å½“ç„¶å½“ä½ çš„éœ€æ±‚å¾ˆç®€å•çš„æ—¶å€™ï¼Œè¿˜æ˜¯ç”¨Containerå»è‡ªç”±ç»„åˆï¼Œåº”ç”¨åœºæ™¯éœ€è¦ä½ æ¸…æ¥šã€‚ æ¡ˆä¾‹å­¦ä¹ React-ReduxReact-Redux æ˜¯ Redux å®˜æ–¹çš„å¯¹äº React çš„ç»‘å®šã€‚ å…¶ä¸­ä¸€ä¸ªæ–¹æ³• connect å¤„ç†äº†æ‰€æœ‰å…³äºç›‘å¬ store çš„ bootstrap ä»£ç  ä»¥åŠæ¸…ç†å·¥ä½œï¼Œè¿™æ˜¯é€šè¿‡ Props Proxy æ¥å®ç°çš„ã€‚ å¦‚æœä½ æ›¾ç»ä½¿ç”¨è¿‡ Flux ä½ ä¼šçŸ¥é“ React ç»„ä»¶éœ€è¦å’Œä¸€ä¸ªæˆ–å¤šä¸ª store è¿æ¥ï¼Œå¹¶ä¸”æ·»åŠ /åˆ é™¤å¯¹ store çš„ç›‘å¬ï¼Œä»ä¸­é€‰æ‹©éœ€è¦çš„é‚£éƒ¨åˆ† stateã€‚è€Œ React-Redux å¸®ä½ æŠŠå®ƒä»¬å®ç°äº†ï¼Œè‡ªå·±å°±ä¸ç”¨å†å»å†™è¿™äº›äº†ã€‚ RadiumRadium æ˜¯ä¸€ä¸ªå¢å¼ºäº†è¡Œå†…ï¼ˆinlineï¼‰css èƒ½åŠ›çš„åº“ï¼Œå®ƒå…è®¸äº†åœ¨ inline css ä½¿ç”¨ CSS ä¼ªé€‰æ‹©å™¨ã€‚ç‚¹æ­¤äº†è§£å…³äºä½¿ç”¨ inline css çš„å¥½å¤„. é‚£ä¹ˆï¼ŒRadium æ˜¯æ€ä¹ˆå…è®¸ inline css æ¥å®ç° CSS ä¼ªé€‰æ‹©å™¨çš„å‘¢ï¼ˆæ¯”å¦‚ hoverï¼‰ï¼Ÿå®ƒå®ç°äº†ä¸€ä¸ªåå‘ç»§æ‰¿æ¥ä½¿ç”¨æ¸²æŸ“åŠ«æŒï¼Œæ·»åŠ é€‚å½“çš„äº‹ä»¶ç›‘å¬æ¥æ¨¡æ‹Ÿ CSS ä¼ªé€‰æ‹©å™¨ã€‚è¿™è¦æ±‚ Radium è¯»å–æ•´ä¸ª WrappedComponent å°†è¦æ¸²æŸ“çš„å…ƒç´ æ ‘ï¼Œæ¯å½“æ‰¾ä¸ªæŸä¸ªå…ƒç´ å¸¦æœ‰ style propï¼Œå®ƒå°±æ·»åŠ å¯¹åº”çš„æ—¶é—´ç›‘å¬ propsã€‚ç®€å•åœ°è¯´ï¼ŒRadium ä¿®æ”¹äº†åŸå…ˆå…ƒç´ æ ‘çš„ propsï¼ˆå®é™…ä¸Šä¼šæ›´å¤æ‚ï¼Œä½†è¿™ä¹ˆè¯´ä½ å¯ä»¥ç†è§£åˆ°è¦ç‚¹æ‰€åœ¨ï¼‰ã€‚ Radium åªæš´éœ²äº†ä¸€ä¸ªéå¸¸ç®€å•çš„ API ç»™å¼€å‘è€…ã€‚è¿™éå¸¸æƒŠè‰³ï¼Œå› ä¸ºå¼€å‘è€…å‡ ä¹ä¸ä¼šæ³¨æ„åˆ°å®ƒçš„å­˜åœ¨å’Œå®ƒæ˜¯æ€ä¹ˆå‘æŒ¥ä½œç”¨çš„ï¼Œè€Œå®ç°äº†æƒ³è¦çš„åŠŸèƒ½ã€‚è¿™æ­éœ²äº†é«˜é˜¶ç»„ä»¶çš„èƒ½åŠ›ã€‚ é™„å½•é™„å½•A: é«˜é˜¶ç»„ä»¶å’Œå‚æ•°æœ‰æ—¶ï¼Œåœ¨é«˜é˜¶ç»„ä»¶ä¸­ä½¿ç”¨å‚æ•°æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚è¿™ä¸ªåœ¨ä»¥ä¸Šæ‰€æœ‰ä¾‹å­ä¸­éƒ½ä¸æ˜¯å¾ˆæ˜æ˜¾ï¼Œä½†æ˜¯å¯¹äºä¸­ç­‰çš„ JavaScript å¼€å‘è€…æ˜¯æ¯”è¾ƒè‡ªç„¶çš„äº‹æƒ…ã€‚è®©æˆ‘ä»¬è¿…é€Ÿçš„ä»‹ç»ä¸€ä¸‹ã€‚ ä¾‹å­ï¼šä¸€ä¸ªç®€å•çš„ Props Proxy é«˜é˜¶ç»„ä»¶æ­é…å‚æ•°ã€‚é‡ç‚¹æ˜¯è¿™ä¸ª HOCFactoryFactory æ–¹æ³•ã€‚ 12345678910function HOCFactoryFactory(...params) { // do something with params return function HOCFactory(WrappedComponent) { return class HOC extends React.Component { render() { return &lt;WrappedComponent {...this.props}/&gt; } } }} ä½ å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒï¼š 1234HOCFactoryFactory(params)(WrappedComponent)//or@HOCFatoryFactory(params)class WrappedComponent extends React.Component{} ä¾‹å­ï¼š 123456789// å¦‚æœä¼ å…¥å‚æ•°ï¼Œåˆ™ä¼ å…¥çš„å‚æ•°å°†ä½œä¸ºç»„ä»¶çš„æ ‡é¢˜å‘ˆç°@withHeader('Demo')export default class Demo extends Component { render() { return ( //... ); }} withHead.js æ¥æ”¶å‚æ•°ï¼Œè¿”å›é«˜é˜¶ç»„ä»¶ 12345678910111213141516export default function (title) { return function (WrappedComponent) { return class HOC extends Component { render() { return &lt;div&gt; &lt;div className=&quot;demo-header&quot;&gt; {title ? title : 'æˆ‘æ˜¯æ ‡é¢˜'} &lt;/div&gt; &lt;WrappedComponent {...this.props}/&gt; &lt;/div&gt; } } }} ES6å†™æ³• 123456789101112export default(title) =&gt; (WrappedComponent) =&gt; class HOC extends Component { render() { return &lt;div&gt; &lt;div className=&quot;demo-header&quot;&gt; {title ? title : 'æˆ‘æ˜¯æ ‡é¢˜'} &lt;/div&gt; &lt;WrappedComponent {...this.props}/&gt; &lt;/div&gt; }} æŸ¯é‡ŒåŒ– Curry æ¦‚å¿µï¼šåªä¼ é€’å‡½æ•°çš„ä¸€éƒ¨åˆ†å‚æ•°æ¥è°ƒç”¨å®ƒï¼Œè®©å®ƒè¿”å›ä¸€ä¸ªå‡½æ•°å»å¤„ç†å‰©ä¸‹çš„å‚æ•°ã€‚ å‡½æ•°ç­¾åï¼šfun(params)(otherParams) åº”ç”¨ï¼šåœ¨Reacté‡Œï¼Œé€šè¿‡æŸ¯é‡ŒåŒ–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥ä¸åŒçš„å‚æ•°æ¥å¾—åˆ°ä¸åŒçš„é«˜é˜¶ç»„ä»¶ã€‚ 1 é™„å½• Bï¼šå’Œçˆ¶ç»„ä»¶çš„ä¸åŒä¹‹å¤„çˆ¶ç»„ä»¶å°±æ˜¯å•çº¯çš„ React ç»„ä»¶åŒ…å«äº†ä¸€äº›å­ç»„ä»¶ï¼ˆchildrenï¼‰ã€‚React æä¾›äº†è·å–å’Œæ“ä½œä¸€ä¸ªç»„ä»¶çš„ children çš„ APIsã€‚ ä¾‹å­ï¼šçˆ¶ç»„ä»¶è·å–å®ƒçš„ children 12345678910111213141516class Parent extends React.Component { render() { return ( &lt;div&gt; {this.props.children} &lt;/div&gt; ) }}render(( &lt;Parent&gt; {children} &lt;/Parent&gt;), mountNode) ç°åœ¨æ¥æ€»ç»“ä¸€ä¸‹çˆ¶ç»„ä»¶èƒ½åšå’Œä¸èƒ½åšçš„äº‹æƒ…ï¼ˆä¸é«˜é˜¶ç»„ä»¶å¯¹æ¯”ï¼‰ï¼š æ¸²æŸ“åŠ«æŒ æ“ä½œå†…éƒ¨ props æŠ½è±¡ stateã€‚ä½†æ˜¯æœ‰ç¼ºç‚¹ï¼Œä¸èƒ½å†çˆ¶ç»„ä»¶å¤–è·å–åˆ°å®ƒçš„ stateï¼Œé™¤éæ˜ç¡®åœ°å®ç°äº†é’©å­ã€‚ ä¸æ–°çš„ React Element åŒ…è£…ã€‚è¿™ä¼¼ä¹æ˜¯å”¯ä¸€ä¸€ç‚¹ï¼Œä½¿ç”¨çˆ¶ç»„ä»¶è¦æ¯”é«˜é˜¶ç»„ä»¶å¼ºï¼Œä½†é«˜é˜¶ç»„ä»¶ä¹ŸåŒæ ·å¯ä»¥å®ç°ã€‚ Children çš„æ“æ§ã€‚å¦‚æœ children ä¸æ˜¯å•ä¸€ rootï¼Œåˆ™éœ€è¦å¤šæ·»åŠ ä¸€å±‚æ¥åŒ…æ‹¬æ‰€æœ‰ childrenï¼Œå¯èƒ½ä¼šä½¿ä½ çš„ markup å˜å¾—æœ‰ç‚¹ç¬¨é‡ã€‚ä½¿ç”¨é«˜é˜¶ç»„ä»¶å¯ä»¥ä¿è¯å•ä¸€ rootã€‚ çˆ¶ç»„ä»¶å¯ä»¥åœ¨å…ƒç´ æ ‘ç«‹éšæ„ä½¿ç”¨ï¼Œå®ƒä»¬ä¸åƒé«˜é˜¶ç»„ä»¶ä¸€æ ·é™åˆ¶äºä¸€ä¸ªç»„ä»¶ã€‚ é€šå¸¸æ¥è®²ï¼Œèƒ½ä½¿ç”¨çˆ¶ç»„ä»¶è¾¾åˆ°çš„æ•ˆæœï¼Œå°½é‡ä¸è¦ç”¨é«˜é˜¶ç»„ä»¶ï¼Œå› ä¸ºé«˜é˜¶ç»„ä»¶æ˜¯ä¸€ç§æ›´ hack çš„æ–¹æ³•ï¼Œä½†åŒæ—¶ä¹Ÿæœ‰æ›´é«˜çš„çµæ´»æ€§ã€‚ é«˜é˜¶ç»„ä»¶ä½œä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥æ›´åŠ çº¯ç²¹åœ°å…³æ³¨ä¸šåŠ¡é€»è¾‘å±‚é¢çš„ä»£ç ï¼Œæ¯”å¦‚æ•°æ®å¤„ç†ï¼Œæ•°æ®æ ¡éªŒï¼Œå‘é€è¯·æ±‚ç­‰ï¼Œå¯ä»¥æ”¹å–„ç›®å‰ä»£ç é‡Œä¸šåŠ¡é€»è¾‘å’ŒUIé€»è¾‘æ··æ‚åœ¨ä¸€èµ·çš„ç°çŠ¶ã€‚çˆ¶ç»„ä»¶åˆ™æ˜¯UIå±‚çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å…ˆå‰ç»å¸¸æŠŠä¸€äº›ä¸šåŠ¡é€»è¾‘å¤„ç†æ”¾åœ¨çˆ¶ç»„ä»¶é‡Œï¼Œè¿™æ ·ä¼šé€ æˆçˆ¶ç»„ä»¶æ··ä¹±çš„æƒ…å†µã€‚ä¸ºäº†ä»£ç è¿›ä¸€æ­¥è§£è€¦ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨é«˜é˜¶ç»„ä»¶è¿™ç§æ¨¡å¼ã€‚ æ³¨æ„ç‚¹åŸæ–‡é“¾æ¥ ä¸è¦æ”¹å˜åŸå§‹ç»„ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨ç»„åˆè¦å¿ä½åœ¨é«˜é˜¶ç»„ä»¶ä¿®æ”¹ç»„ä»¶åŸå‹(æˆ–è€…ä¿®æ”¹å…¶ä»–)çš„å†²åŠ¨ã€‚ 123456789101112function logProps(InputComponent) { InputComponent.prototype.componentWillReceiveProps(nextProps) { console.log('Current props: ', this.props); console.log('Next props: ', nextProps); } // The fact that we're returning the original input is a hint that it has // been mutated. return InputComponent;}// EnhancedComponent will log whenever props are receivedconst EnhancedComponent = logProps(InputComponent); è¿™é‡Œå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯è¾“å…¥ç»„ä»¶(InputComponent)ä¸èƒ½è„±ç¦»å¢å¼ºç»„ä»¶åˆ†åˆ«é‡ç”¨ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœå°†å¦ä¸€ä¸ªä¹Ÿä¿®æ”¹componentWillReceivePropsçš„é«˜é˜¶ç»„ä»¶åº”ç”¨äºEnhancedComponentç»„ä»¶ï¼Œç¬¬ä¸€ä¸ªé«˜é˜¶ç»„ä»¶çš„åŠŸèƒ½å°†ä¼šåˆ«è¦†ç›–ã€‚è¿™ä¸ªé«˜é˜¶ç»„ä»¶å¯¹å‡½æ•°ç»„ä»¶ä¸ä¼šèµ·ä½œç”¨ï¼Œå› ä¸ºå‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚ å…·æœ‰ä¿®æ”¹åŠŸèƒ½çš„é«˜é˜¶ç»„ä»¶æ˜¯ä¸€ä¸ªæ¼æ´çš„æŠ½è±¡è¿‡ç¨‹ï¼šç”¨æˆ·å¿…é¡»çŸ¥é“å®ƒæ˜¯æ€ä¹ˆå®ç°çš„ä»è€Œé¿å…ä¸å…¶ä»–é«˜é˜¶ç»„ä»¶çš„å†²çªã€‚ ç»„åˆå¤šä¸ªé«˜é˜¶ç»„ä»¶12345@withHeader@withLoadingclass Demo extends Component{} ä½¿ç”¨composeå¯ä»¥ç®€åŒ–ä¸Šè¿°è¿‡ç¨‹ï¼Œä¹Ÿèƒ½ä½“ç°å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ã€‚ 12345const enhance = compose(withHeader,withLoading);@enhanceclass Demo extends Component{} ç»„åˆ Composecomposeå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç»„åˆä»»æ„ä¸ªï¼ˆåŒ…æ‹¬0ä¸ªï¼‰é«˜é˜¶å‡½æ•°ï¼Œä¾‹å¦‚compose(a,b,c)è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°dï¼Œå‡½æ•°dä¾ç„¶æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå…¥å‚ï¼Œåªä¸è¿‡åœ¨å†…éƒ¨ä¼šä¾æ¬¡è°ƒç”¨c,b,aï¼Œä»è¡¨ç°å±‚å¯¹ä½¿ç”¨è€…ä¿æŒé€æ˜ã€‚åŸºäºè¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥éå¸¸ä¾¿æ·åœ°ä¸ºæŸä¸ªç»„ä»¶å¢å¼ºæˆ–å‡å¼±å…¶ç‰¹å¾ï¼Œåªéœ€è¦å»å˜æ›´composeå‡½æ•°é‡Œçš„å‚æ•°ä¸ªæ•°ä¾¿å¯ã€‚composeå‡½æ•°å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œæ¨èå…¶ä¸­ä¸€ä¸ªrecompact.composeï¼Œè¯¦æƒ…è§ä¸‹æ–¹å‚è€ƒç±»åº“ã€‚ ç›¸æ¯”äºä¿®æ”¹ï¼Œé«˜é˜¶ç»„ä»¶æœ€å¥½æ˜¯é€šè¿‡å°†è¾“å…¥ç»„ä»¶åŒ…è£¹åœ¨å®¹å™¨ç»„ä»¶çš„æ–¹å¼æ¥ä½¿ç”¨ç»„åˆ: 123456789101112function logProps(WrappedComponent) { return class extends React.Component { componentWillReceiveProps(nextProps) { console.log('Current props: ', this.props); console.log('Next props: ', nextProps); } render() { // Wraps the input component in a container, without mutating it. Good! return &lt;WrappedComponent {...this.props} /&gt;; } }} è¿™ä¸ªé«˜é˜¶ç»„ä»¶ä¸ä¹‹å‰çš„ä¿®æ”¹åŸå‹çš„ç‰ˆæœ¬æœ‰ç€ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†åˆé¿å…äº†æ½œåœ¨çš„å†²çªå¯èƒ½ã€‚å…¶åœ¨classç±»å‹å’Œå‡½æ•°ç±»å‹çš„ç»„ä»¶éƒ½èµ·ä½œç”¨ã€‚å¹¶ä¸”ï¼Œå› ä¸ºæ˜¯çº¯å‡½æ•°ï¼Œå®ƒå¯ä»¥ä¸å…¶ä»–é«˜é˜¶ç»„ä»¶ï¼Œç”šè‡³æ˜¯è‡ªå·±ç»„åˆã€‚ ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°é«˜é˜¶ç»„ä»¶å’Œè¢«ç§°ä¸ºå®¹å™¨ç»„ä»¶(container components)çš„æ¨¡å¼æœ‰ç›¸åŒä¹‹å¤„ã€‚å®¹å™¨ç»„ä»¶æ˜¯åˆ†ç¦»è´£ä»»ç­–ç•¥çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªåˆ†ç¦»ç­–ç•¥æ˜¯å…³äºé«˜å±‚æ¬¡å’Œä½å±‚æ¬¡å…³æ³¨ç‚¹ä¹‹é—´çš„è´£ä»»åˆ†ç¦»ã€‚å®¹å™¨ç®¡ç†ç€ç±»ä¼¼è®¢é˜…å’ŒçŠ¶æ€è¿™ç±»ä¸œè¥¿ï¼Œå’Œç»™ç»„ä»¶ä¼ é€’å±æ€§æ¥å¤„ç†ç±»ä¼¼æ¸²æŸ“UIè¿™ç±»äº‹æƒ…ã€‚é«˜é˜¶ç»„ä»¶ä½¿ç”¨å®¹å™¨ä½œä¸ºå…¶å®ç°çš„ä¸€éƒ¨åˆ†ã€‚ä½ å¯ä»¥å°†é«˜é˜¶ç»„ä»¶è§†ä¸ºå®šä¹‰å‚æ•°åŒ–å®¹å™¨ç»„ä»¶ã€‚ çº¦å®š: ç»™åŒ…è£¹ç»„ä»¶ä¼ é€’ä¸ç›¸å…³çš„å±æ€§(Props)é«˜é˜¶ç»„ä»¶å¯ä»¥å‘ç»„ä»¶æ·»åŠ åŠŸèƒ½ã€‚ä»–ä¸åº”è¯¥å¤§å¹…åº¦åœ°æ”¹å˜åŠŸèƒ½ã€‚æœŸæœ›åœ°æ˜¯é«˜é˜¶ç»„ä»¶è¿”å›çš„ç»„ä»¶å’Œè¢«åŒ…è£¹ç»„ä»¶å…·æœ‰ç›¸ä¼¼çš„ç•Œé¢ã€‚ é«˜é˜¶ç»„ä»¶åº”è¯¥é€šè¿‡propsä¼ é€’é‚£äº›ä¸ç‰¹å®šåŠŸèƒ½æ— å…³çš„ç‰¹æ€§ã€‚å¤§å¤šæ•°çš„é«˜é˜¶ç»„ä»¶åŒ…å«å¦‚ä¸‹çš„renderå‡½æ•°: 1234567891011121314151617render() { // Filter out extra props that are specific to this HOC and shouldn't be // passed through const { extraProp, ...passThroughProps } = this.props; // Inject props into the wrapped component. These are usually state values or // instance methods. const injectedProp = someStateOrInstanceMethod; // Pass props to wrapped component return ( &lt;WrappedComponent injectedProp={injectedProp} {...passThroughProps} /&gt; );} è¿™ä¸ªçº¦å®šå¸®åŠ©ç¡®å®šé«˜é˜¶ç»„ä»¶èƒ½å¤Ÿè¶³å¤Ÿçµæ´»å’Œå¯ä»¥è¢«é‡ç”¨ã€‚ çº¦å®š: æœ€å¤§åŒ–ç»„åˆ(Maximizing Composability)ä¸æ˜¯æ‰€æœ‰çš„é«˜é˜¶ç»„ä»¶çœ‹èµ·æ¥éƒ½æ˜¯ä¸€æ ·çš„ã€‚æœ‰æ—¶å€™ï¼Œå®ƒæ¥å—åŒ…è£¹ç»„ä»¶ä½œä¸ºå•ä¸€å‚æ•°ï¼š 1const NavbarWithRouter = withRouter(Navbar); é€šå¸¸æƒ…å†µä¸‹ï¼Œé«˜é˜¶ç»„ä»¶æ¥å—å…¶ä»–çš„å‚æ•°ã€‚åœ¨Relayè¿™ä¸ªä¾‹å­ä¸­ï¼Œé…ç½®å¯¹è±¡ç”¨æ¥æŒ‡å®šç»„ä»¶çš„æ•°æ®ä¾èµ–å…³ç³»ï¼š 1const CommentWithRelay = Relay.createContainer(Comment, config); é«˜é˜¶ç»„ä»¶æœ€å¸¸è§çš„ç­¾åå¦‚ä¸‹ï¼š 12// React Redux's `connect`const ConnectedComment = connect(commentSelector, commentActions)(Comment); **ä»€ä¹ˆ?!**ï¼Œå¦‚æœä½ æŠŠå®ƒåˆ†å¼€ï¼Œå°±æ›´å®¹æ˜“çœ‹åˆ°å‘ç”Ÿäº†ä»€ä¹ˆã€‚ 12345// connect is a function that returns another functionconst enhance = connect(commentListSelector, commentListActions);// The returned function is an HOC, which returns a component that is connected// to the Redux storeconst ConnectedComment = enhance(CommentList); æ€»çš„æ¥è¯´ï¼Œconnectæ˜¯ä¸€ä¸ªè¿”å›é«˜é˜¶ç»„ä»¶çš„é«˜é˜¶å‡½æ•°ï¼ è¿™ç§å½¢å¼çœ‹èµ·æ¥æ˜¯æ··ä¹±çš„æˆ–è€…æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å±æ€§ã€‚å•å‚æ•°çš„é«˜é˜¶ç»„ä»¶ç±»ä¼¼äºconnectå‡½æ•°æ‰€è¿”å›çš„å‡½æ•°ï¼Œå…¶ç­¾åä¸ºComponent =&gt; Componentã€‚è¿”å›çš„å‡½æ•°çš„è¾“å‡ºç±»å‹å’Œè¾“å…¥ç±»å‹æ˜¯ç›¸åŒçš„ï¼Œå¾ˆå®¹æ˜“ç›¸äº’ç»„åˆã€‚ 1234567891011// Instead of doing this...const EnhancedComponent = connect(commentSelector)(withRouter(WrappedComponent))// ... you can use a function composition utility// compose(f, g, h) is the same as (...args) =&gt; f(g(h(...args)))const enhance = compose( // These are both single-argument HOCs connect(commentSelector), withRouter)const EnhancedComponent = enhance(WrappedComponent) (è¿™ä¸ªç›¸åŒçš„å±æ€§è¿˜å…è®¸è¿æ¥å’Œå…¶ä»–å¢å¼ºå‹é«˜é˜¶å±æ€§ä½œä¸ºè£…é¥°å™¨(decorators),è¿™æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„JavaScriptææ¡ˆ)ã€‚ åŒ…æ‹¬lodash(ä¾‹å¦‚lodash.flowRight)ã€Reduxå’ŒRamdaåœ¨å†…çš„è®¸å¤šç¬¬ä¸‰æ–¹åº“éƒ½æä¾›äº†ç»„åˆå‡½æ•°ã€‚ çº¦å®š:ä¸ºäº†æ–¹ä¾¿è°ƒè¯•åŒ…è£…æ˜¾ç¤ºåç§°(display name)ç”±é«˜é˜¶å±æ€§åˆ›å»ºçš„å®¹å™¨ç»„ä»¶åœ¨Reactå¼€å‘è€…å·¥å…·ä¸­æ˜¾ç¤ºåŒå…¶ä»–çš„ç»„ä»¶ç›¸ä¼¼ã€‚ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ï¼Œé€‰æ‹©ä¸€ä¸ªæ˜¾ç¤ºåç§°(display name)ï¼Œè¡¨ç¤ºå®ƒæ˜¯é«˜é˜¶ç»„ä»¶çš„ç»“æœã€‚ æœ€å¸¸è§çš„æ–¹æ³•æ˜¯ç»™è¢«åŒ…è£¹å…ƒç´ åŒ…è£¹ä¸€ä¸ªæ˜¾ç¤ºåç§°(display name)ã€‚å› æ­¤ï¼Œå¦‚æœä½ çš„é«˜é˜¶ç»„ä»¶åå­—ä¸ºwithSubscriptionï¼Œè¢«åŒ…è£¹çš„å…ƒç´ åç§°ä¸ºCommentListï¼Œé‚£å°±é€‰æ‹©åç§°ä¸ºWithSubscription(CommentList)ã€‚ 123456789function withSubscription(WrappedComponent) { class WithSubscription extends React.Component {/* ... */} WithSubscription.displayName = `WithSubscription(${getDisplayName(WrappedComponent)})`; return WithSubscription;}function getDisplayName(WrappedComponent) { return WrappedComponent.displayName || WrappedComponent.name || 'Component';} è­¦å‘Šé«˜é˜¶ç»„ä»¶æœ‰ä»¥ä¸‹å‡ ä¸ªè­¦å‘Šï¼Œå¦‚æœä½ æ˜¯åˆšæ¥è§¦Reactï¼Œè¿™äº›è­¦å‘Šå¯èƒ½ä¸ä¼šç«‹åˆ»å°±è¢«å‘ç°ã€‚ ä¸è¦åœ¨renderå‡½æ•°ä¸­ä½¿ç”¨é«˜é˜¶ç»„ä»¶Reactçš„diffç®—æ³•(åˆç§°ä¸ºreconciliation)ä½¿ç”¨ç»„ä»¶æ ‡è¯†ç¬¦(component identity)æ¥å†³å®šæ˜¯å¦åº”è¯¥æ›´æ–°å·²æœ‰çš„å­æ ‘æˆ–è€…å°†å…¶æŠ›å‡ºå¹¶å®‰è£…ä¸€ä¸ªæ–°çš„å­æ ‘ã€‚å¦‚æœä»renderè¿”å›çš„ç»„ä»¶ç­‰åŒäº(===)ä¹‹å‰renderå‡½æ•°è¿”å›çš„ç»„ä»¶ï¼ŒReactå°†ä¼šè¿­ä»£åœ°é€šè¿‡diffç®—æ³•æ›´æ–°å­æ ‘åˆ°æ–°çš„å­æ ‘ã€‚å¦‚æœä¸ç›¸ç­‰ï¼Œåˆ™å…ˆå‰çš„å­æ ‘å°†ä¼šå®Œå…¨å¸è½½ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦è€ƒè™‘è¿™äº›ã€‚ä½†æ˜¯è¿™å¯¹é«˜é˜¶ç»„ä»¶éå¸¸é‡è¦ï¼Œå› ä¸ºè¿™æ„å‘³ä½ åœ¨ç»„ä»¶çš„renderæ–¹æ³•ä¸­ä¸èƒ½é€šè¿‡é«˜é˜¶ç»„ä»¶äº§ç”Ÿç»„ä»¶: 1234567render() { // A new version of EnhancedComponent is created on every render // EnhancedComponent1 !== EnhancedComponent2 const EnhancedComponent = enhance(MyComponent); // That causes the entire subtree to unmount/remount each time! return &lt;EnhancedComponent /&gt;;} è¿™ä¸ªé—®é¢˜ä¸ä»…ä»…å…³ä¹äºæ€§èƒ½ï¼Œå¸è½½ç»„ä»¶ä¼šé€ æˆç»„ä»¶çŠ¶æ€å’Œå…¶å­å…ƒç´ å…¨éƒ¨ä¸¢å¤±ã€‚ ç›¸ååœ°ï¼Œåœ¨ç»„ä»¶å®šä¹‰å¤–åº”ç”¨é«˜é˜¶ç»„ä»¶ï¼Œä»¥ä¾¿ç”Ÿæˆçš„ç»„ä»¶åªä¼šè¢«åˆ›å»ºä¸€æ¬¡ã€‚ç„¶åï¼Œå®ƒçš„æ ‡è¯†ç¬¦åœ¨æ¯æ¬¡æ¸²æŸ“ä¸­éƒ½æ˜¯ç›¸åŒçš„ã€‚æ— è®ºå¦‚ä½•ï¼Œè¿™æ‰æ˜¯ä½ æƒ³è¦çš„ã€‚ åœ¨ä¸€äº›æå°‘çš„ä¾‹å­ä¸­ä½ éœ€è¦åŠ¨æ€åœ°å¼•ç”¨é«˜é˜¶ç»„ä»¶ï¼Œä½ å¯ä»¥åœ¨ç»„ä»¶çš„å£°æ˜å‘¨æœŸå‡½æ•°ä¸­ä½¿ç”¨æˆ–è€…åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ã€‚ é™æ€æ–¹æ³•å¿…é¡»å¤åˆ¶æœ‰æ—¶å€™ï¼Œåœ¨Reactç»„ä»·ä¸­å®šä¹‰é™æ€æ–¹æ³•æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä¾‹å¦‚ï¼ŒRelayå®¹å™¨å¯¹å¤–æš´éœ²ä¸€ä¸ªé™æ€æ–¹æ³•getFragmentï¼Œæ¥å¸®åŠ©ç»„åˆGraphQLä»£ç ã€‚ å½“ä½ å°†ä¸€ä¸ªç»„ä»¶åº”ç”¨äºé«˜é˜¶ç»„ä»¶å¼ï¼Œè™½ç„¶åŸæœ‰çš„ç»„ä»¶è¢«å®¹å™¨ç»„ä»¶æ‰€åŒ…è£¹ï¼Œä½†è¿™ä»¥ä¸ºè¿™æ–°çš„ç»„ä»¶æ²¡æœ‰ä¹‹å‰ç»„ä»¶çš„é™æ€å‡½æ•°ã€‚ 1234567// Define a static methodWrappedComponent.staticMethod = function() {/*...*/}// Now apply an HOCconst EnhancedComponent = enhance(WrappedComponent);// The enhanced component has no static methodtypeof EnhancedComponent.staticMethod === 'undefined' // true ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨è¿”å›ä¹‹å‰ï¼Œå¯ä»¥å‘å®¹å™¨ç»„ä»¶ä¸­å¤åˆ¶åŸæœ‰çš„é™æ€æ–¹æ³•ï¼š 123456function enhance(WrappedComponent) { class Enhance extends React.Component {/*...*/} // Must know exactly which method(s) to copy :( Enhance.staticMethod = WrappedComponent.staticMethod; return Enhance;} ç„¶è€Œï¼Œè¿™éœ€è¦ä½ æ˜ç¡®åœ°çŸ¥é“å“ªäº›æ–¹æ³•éœ€è¦åˆ«å¤åˆ¶ã€‚ä½ å¯ä»¥ä½¿ç”¨hoist-non-react-staticsæ¥è‡ªåŠ¨å¤åˆ¶éReactçš„é™æ€æ–¹æ³•ã€‚ 123456import hoistNonReactStatic from 'hoist-non-react-statics';function enhance(WrappedComponent) { class Enhance extends React.Component {/*...*/} hoistNonReactStatic(Enhance, WrappedComponent); return Enhance;} å¦ä¸€ä¸ªæœ‰æ•ˆçš„æ–¹æ³•æ˜¯å°†é™æ€æ–¹æ³•ä¸ç»„ä»¶æœ¬èº«ç›¸åˆ†ç¦»ï¼š 123456789// Instead of...MyComponent.someFunction = someFunction;export default MyComponent;// ...export the method separately...export { someFunction };// ...and in the consuming module, import bothimport MyComponent, { someFunction } from './MyComponent.js'; ä½¿ç”¨composeç»„åˆHOCå‡½æ•°å¼ç¼–ç¨‹çš„å¥—è·¯â€¦ ä¾‹å¦‚åº”ç”¨reduxä¸­çš„middlewareä»¥å¢å¼ºåŠŸèƒ½ã€‚redux-middlewareè§£æ 123456789101112const addFuncHOC = ...const addStyleHOC = ...//çœç•¥const compose = (...funcs) =&gt; component =&gt; { if (funcs.lenght === 0) { return component; } const last = funcs[funcs.length - 1]; return funcs.reduceRight((res, cur) =&gt; cur(res), last(component));};const WrappedComponent = compose(addFuncHOC, addStyleHOC)(Usual); å®æˆ˜loadingç»„ä»¶å®ç°Loadingç»„ä»¶æ—¶ï¼Œå‘ç°éœ€è¦å»æ‹¦æˆªå®ƒçš„æ¸²æŸ“è¿‡ç¨‹ï¼Œæ•…ä½¿ç”¨äº†åå‘ç»§æ‰¿çš„æ–¹å¼æ¥å®Œæˆã€‚ 12345678910111213141516171819202122232425import React, {Component} from 'react';import {Spin} from 'antd';export default function (loadingCheck) { return function (WrappedComponent) { return class extends WrappedComponent { componentWillUpdate(nextProps, nextState) { console.log('withLoadingå°†ä¼šæ›´æ–°'); } render() { if (loadingCheck(this.props)) { return &lt;Spin tip=&quot;åŠ è½½ä¸­&quot; size=&quot;large&quot;&gt; {super.render()} &lt;/Spin&gt; } else { return super.render(); } } } }}// ä½¿ç”¨@withLoading(props =&gt; { return props.IndexStore.accountList.length == 0;}) å®ç°ä¸€ä¸ªcopyç»„ä»¶å®ç°copyç»„ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°ä¸éœ€è¦å»æ”¹å˜ç»„ä»¶å†…éƒ¨çš„å±•ç¤ºæ–¹å¼ï¼Œåªæ˜¯ä¸ºå…¶åœ¨å¤–å›´å¢åŠ ä¸€ä¸ªåŠŸèƒ½ï¼Œå¹¶ä¸ä¼šä¾µå…¥è¢«ä¼ å…¥çš„ç»„ä»¶ï¼Œæ•…ä½¿ç”¨äº†å±æ€§ä»£ç†çš„æ–¹å¼ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344import gotem from 'gotem';import React, {Component} from 'react';import ReactDom from 'react-dom';import {message} from 'antd';export default copy = (targetName) =&gt; { return (WrappedComponent) =&gt; { return class extends Component { componentDidMount() { const ctx = this; const dom = ReactDom.findDOMNode(ctx); const nodes = { trigger: dom, // targetNameä¸ºDOMé€‰æ‹©å™¨ï¼Œå¤åˆ¶ç»„ä»¶å°†ä¼šå¤åˆ¶å®ƒçš„å€¼ target: dom.querySelector(targetName) }; gotem(nodes.trigger, nodes.target, { success: function () { message.success('å¤åˆ¶æˆåŠŸ'); }, error: function () { message.error('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨è¾“å…¥'); } }); } render() { return &lt;WrappedComponent {...this.props}/&gt;; } }; };}// ä½¿ç”¨// ä¼ å…¥ h3 ï¼Œè®©å¤åˆ¶ç»„ä»¶å»è·å–å®ƒçš„å€¼@copy('h3')class Info extends Component { render() { return ( &lt;div&gt; &lt;h3&gt; é˜¿é‡Œäº‘,ç‚¹å‡»å¤åˆ¶è¿™æ®µæ–‡å­— &lt;/h3&gt; &lt;/div&gt; ); }} [å‚è€ƒé“¾æ¥]React è¿›é˜¶ä¹‹é«˜é˜¶ç»„ä»¶ æ·±å…¥ç†è§£ React é«˜é˜¶ç»„ä»¶ ç²¾åº¦Reactç»„ä»¶","link":"/posts/React-%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/"},{"title":"Reactè¿›é˜¶è¯»ä¹¦ç¬”è®°","text":"React å››å¤§ç‰¹ç‚¹ å£°æ˜å¼è§†å›¾å±‚ é‡‡ç”¨JSXè¯­æ³•æ¥å£°æ˜è§†å›¾å±‚, å¯ä»¥åœ¨è§†å›¾å±‚ä¸­éšæ„ä½¿ç”¨å„ç§çŠ¶æ€æ•°æ® ç®€å•çš„æ›´æ–°æµç¨‹ ä»çŠ¶æ€åˆ°UIå•å‘æ•°æ®æµè®©Reactç»„ä»¶çš„æ›´æ–°æµç¨‹æ›´æ¸…æ™° çµæ´»çš„æ¸²æŸ“å®ç° åŸºäºè™šæ‹Ÿdomæ¸²æŸ“ é«˜æ•ˆçš„DOMæ“ä½œ Reactå¯ä»¥å°½é‡å‡å°‘è™šæ‹Ÿdomåˆ°çœŸå®DOMçš„æ¸²æŸ“æ¬¡æ•°, ä»¥åŠæ¯æ¬¡æ¸²æŸ“éœ€è¦æ”¹å˜çš„çœŸå®DOMèŠ‚ç‚¹æ•°ã€‚ Reactåªæ˜¯viewå±‚, å…³æ³¨çš„æ˜¯å¦‚ä½•æ ¹æ®çŠ¶æ€åˆ›å»ºå¯å¤ç”¨çš„UIç»„ä»¶, å¦‚ä½•æ ¹æ®ç»„ä»¶åˆ›å»ºå¯ç»„åˆçš„UI.åº”ç”¨å¤æ‚æ—¶, éœ€è¦ç»“åˆå…¶ä»–åº“(Redux, MobXç­‰). Reactç»„ä»¶åå¿…é¡»å¤§å†™å› ä¸ºDOMæ ‡ç­¾çš„é¦–å­—æ¯éƒ½æ˜¯å°å†™; Reactç»„ä»¶ç±»å‹çš„æ ‡ç­¾å¿…é¡»é¦–å­—æ¯å¤§å†™ã€‚Reactæ­£æ˜¯é€šè¿‡é¦–å­—æ¯å¤§å°å†™åˆ¤æ–­æ¸²æŸ“çš„æ˜¯ä¸€ä¸ªdomç±»å‹çš„æ ‡ç­¾è¿˜æ˜¯Reactç»„ä»¶ç±»å‹çš„æ ‡ç­¾ã€‚ JSXè¯­æ³•å®é™…æ˜¯ä»€ä¹ˆJSXè¯­æ³•åªæ˜¯React.createElement(component, props, â€¦children)çš„è¯­æ³•ç³–, æ‰€æœ‰çš„JSXè¯­æ³•æœ€ç»ˆéƒ½ä¼šè¢«è½¬æ¢æˆå¯¹è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨ã€‚ 1const ele = &lt;div className='foo'&gt;Hello, React&lt;/div&gt; è½¬æ¢å 1const ele = React.createElement('div', {className: 'foo', 'Hello, React'}) ç»„ä»¶å®šä¹‰æ–¹å¼æœ‰ä¸¤ç§æ–¹å¼ ES6 class(ç±»ç»„ä»¶) éœ€æ»¡è¶³æ¡ä»¶: classç»§æ‰¿è‡ªReact.Component classå†…éƒ¨å¿…é¡»å®šä¹‰renderæ–¹æ³•, renderè¿”å›ä»£è¡¨è¯¥ç»„ä»¶UIçš„Reactå…ƒç´ . eg: 1234567891011import React, { Component } from &quot;react&quot;;export default class PostList extends Component { render() { return ( &lt;div&gt; åˆ—è¡¨ &lt;/div&gt; ) }} ä½¿ç”¨å‡½æ•°(å‡½æ•°ç»„ä»¶) å‡½æ•°ç»„ä»¶æ¥æ”¶propsä½œä¸ºå‚æ•°,è¿”å›è¿™ä¸ªç»„ä»¶UIçš„Reactå…ƒç´ ç»“æ„. eg: 123function Welcome(props) { return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;} Reactç»„ä»¶æ•°æ®é©±åŠ¨UIReactç»„ä»¶æ˜¯ç”±propså’Œstateä¸¤ç§ç±»å‹çš„æ•°æ®é©±åŠ¨æ¸²æŸ“å‡ºç»„ä»¶UI. propsæ˜¯ç»„ä»¶å¯¹å¤–çš„æ¥å£, ç»„ä»¶é€šè¿‡propsæ¥æ”¶å¤–éƒ¨ä¼ å…¥çš„æ•°æ®(åŒ…æ‹¬æ–¹æ³•);stateæ˜¯ç»„ä»¶å¯¹å†…çš„æ¥å£, ç»„ä»¶å†…éƒ¨çŠ¶æ€çš„å˜åŒ–é€šè¿‡stateæ¥åæ˜ ã€‚propsæ˜¯åªè¯»çš„, ä¸èƒ½å†ç»„ä»¶å†…éƒ¨ä¿®æ”¹props, è¦ä¿®æ”¹propsåªèƒ½åœ¨çˆ¶ç»„ä»¶ä¸­ä¿®æ”¹;stateæ˜¯å¯å˜çš„, ç»„ä»¶çŠ¶æ€çš„å˜åŒ–é€šè¿‡ä¿®æ”¹stateæ¥å®ç°. è¿™ä¹Ÿæ˜¯stateå’Œpropsçš„åŒºåˆ« æœ‰çŠ¶æ€ç»„ä»¶ æ— çŠ¶æ€ç»„ä»¶ å¦‚æœç»„ä»¶å†…éƒ¨çŠ¶æ€æ˜¯ä¸å˜çš„, å°±ä¸ç”¨state, è¿™æ ·çš„ç»„ä»¶ç§°ä¹‹ä¸ºæ— çŠ¶æ€ç»„ä»¶ã€‚ æ— çŠ¶æ€ç»„ä»¶å°½é‡å®šä¹‰æˆå‡½æ•°ç»„ä»¶. ä¼˜ç‚¹:æ— çŠ¶æ€ç»„ä»¶ä¸å…³å¿ƒçŠ¶æ€å˜åŒ–, åªèšç„¦äºUIå±•ç¤º, æ›´å®¹æ˜“è¢«å¤ç”¨ã€‚ ç»„ä»¶å†…éƒ¨çŠ¶æ€ä¼šå‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦ä½¿ç”¨stateæ¥ä¿å­˜å˜åŒ–ï¼Œè¿™æ ·çš„ç»„ä»¶ç§°ä¸ºæœ‰çŠ¶æ€ç»„ä»¶ã€‚ å»ºè®®:å¼€å‘Reactåº”ç”¨, ä¸€å®šè¦å…ˆè®¤çœŸæ€è€ƒå“ªäº›ç»„ä»¶åº”è¯¥è®¾è®¡æˆæœ‰çŠ¶æ€ç»„ä»¶, å“ªäº›è¯¥è®¾è®¡æˆæ— çŠ¶æ€ç»„ä»¶.å¹¶ä¸”åº”å°½å¯èƒ½å¤šåœ°ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ã€‚æ— çŠ¶æ€ç»„ä»¶æ•°æ®ä»çˆ¶çº§è·å–, ç»„ä»¶è§£è€¦æ›´å½»åº•. Reactç»„ä»¶è®¾è®¡æ€è·¯:é€šè¿‡å®šä¹‰å°‘æ•°çš„æœ‰çŠ¶æ€ç»„ä»¶ç®¡ç†æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€å˜åŒ–, å°†çŠ¶æ€é€šè¿‡propsä¼ é€’ç»™å…¶ä½™çš„æ— çŠ¶æ€ç»„ä»¶, ç”±æ— çŠ¶æ€ç»„ä»¶å®Œæˆé¡µé¢ç»å¤§éƒ¨åˆ†UIçš„æ¸²æŸ“å·¥ä½œã€‚æœ‰çŠ¶æ€ç»„ä»¶ä¸»è¦å…³æ³¨å¤„ç†çŠ¶æ€å˜åŒ–çš„ä¸šåŠ¡é€»è¾‘, æ— çŠ¶æ€ç»„ä»¶ä¸»è¦å…³æ³¨ç»„ä»¶UIçš„æ¸²æŸ“ã€‚ å±æ€§æ ¡éªŒå’Œé»˜è®¤å€¼12345678910import PropTypes from 'prop-types';class PostItem extends React.Component { // ...}PostItem.propsTypes = { post: PropTypes.object, onVote: PropTypes.func} å¦‚æœå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„,è‡³äºå¯¹è±¡çš„ç»“æ„æˆ–æ•°ç»„å…ƒç´ ç±»å‹æ— æ³•ç¡®å®šã€‚è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨PropTypes.shape æˆ–PropTypes.arrayOf 1234567891011style: PropTypes.shape({ color: PropTypes.string, fontSize: PropTypes.number}),// å¿…ä¼ å±æ€§ isRequiredsqeuence: PropTypes.arrayof(PropTypes.number).isRequired// é»˜è®¤å±æ€§PostItem.defaultProps = { name: 'Lucy'} ç»„ä»¶ä¸å…ƒç´ Reactå…ƒç´ æ˜¯ä¸€ä¸ªæ™®é€šçš„Javascriptå¯¹è±¡, é€šè¿‡DOMèŠ‚ç‚¹æˆ–Reactç»„ä»¶æè¿°ç•Œé¢.JSXè¯­æ³•å°±æ˜¯ç”¨æ¥åˆ›å»ºReactå…ƒç´ çš„ã€‚ Reactç»„ä»¶æ˜¯ä¸€ä¸ªclassæˆ–å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€äº›å±æ€§ä½œä¸ºè¾“å…¥ï¼Œè¿”å›ä¸€ä¸ªReactå…ƒç´ ã€‚Reactç»„ä»¶ç”±è‹¥å¹²Reactå…ƒç´ ç»„ä»¶è€Œæˆã€‚ Reactç”Ÿå‘½å‘¨æœŸ1. æŒ‚è½½é˜¶æ®µ constructorç»„ä»¶è¢«åˆ›å»ºæ—¶ï¼Œä¼šå…ˆè°ƒç”¨ç»„ä»¶çš„æ„é€ æ–¹æ³•ã€‚æ„é€ æ–¹æ³•æ¥æ”¶ä¸€ä¸ªpropså‚æ•°ï¼Œpropsæ˜¯ä»çˆ¶ç»„ä»¶ä¸­ä¼ å…¥çš„å±æ€§å¯¹è±¡ï¼Œå¦‚æœçˆ¶ç»„ä»¶ä¸­æ²¡æœ‰ä¼ å…¥å±æ€§è€Œç»„ä»¶è‡ªèº«å®šä¹‰äº†é»˜è®¤å±æ€§ï¼Œpropsæ‰§è¡Œç»„ä»¶é»˜è®¤å±æ€§ã€‚å¿…é¡»åœ¨å’Œè¿™ä¸ªæ–¹æ³•ä¸­å…ˆè°ƒç”¨super(props)æ‰èƒ½ä¿è¯propsè¢«ä¼ å…¥ç»„ä»¶ä¸­. constructorå¸¸ç”¨äºåˆå§‹åŒ–ç»„ä»¶çš„stateä»¥åŠç»‘å®šæ—¶é—´å¤„ç†æ–¹æ³•ç­‰å·¥ä½œã€‚ componentWillMount ç»„ä»¶è¢«æŒ‚è½½åˆ°DOMå‰è°ƒç”¨ï¼Œåªä¼šè°ƒç”¨ä¸€æ¬¡ã€‚ è°ƒç”¨this.stateä¸ä¼šå¼•å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ render å®šä¹‰ç»„ä»¶æ—¶å”¯ä¸€å¿…è¦çš„æ–¹æ³•(å…¶ä»–ç”Ÿå‘½å‘¨æœŸæ–¹æ³•éƒ½å¯ä»¥çœç•¥) renderå¹¶ä¸è´Ÿè´£ç»„ä»¶çš„å®é™…æ¸²æŸ“å·¥ä½œï¼Œåªè¿”å›UIçš„æè¿°ï¼Œæ¸²æŸ“é¡µé¢DOMçš„å·¥ä½œç”±Reactè‡ªèº«è´Ÿè´£ ä¸èƒ½åœ¨renderè°ƒç”¨this.setStateä¼šæ”¹å˜ç»„ä»¶çŠ¶æ€ componentDidMount ç»„ä»¶è¢«æŒ‚è½½åˆ°DOMåè°ƒç”¨, ä¸”åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚ å¯ä»¥è·å–åˆ°DOMç»“æ„, ä¾èµ–DOMèŠ‚ç‚¹çš„æ“ä½œå¯ä»¥æ”¾åˆ°è¿™ä¸ªæ–¹æ³•ä¸­ é€šå¸¸ä¼šç”¨äºå‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®, è°ƒç”¨this.setStateä¼šå¼•èµ·ç»„ä»¶é‡æ–°æ¸²æŸ“ 2. æ›´æ–°é˜¶æ®µpropså¼•èµ·ç»„ä»¶æ›´æ–°æ—¶ç”±æ¸²æŸ“è¯¥ç»„ä»¶çš„çˆ¶ç»„ä»¶å¼•èµ·çš„. å½“çˆ¶ç»„ä»¶çš„renderè¢«è°ƒç”¨æ—¶ç»„ä»¶ä¼šå‘ç”Ÿæ›´æ–°è¿‡ç¨‹ï¼Œæ— è®ºpropsæ˜¯å¦æ”¹å˜ï¼Œçˆ¶ç»„ä»¶renderæ–¹æ³•æ¯è°ƒç”¨ä¸€æ¬¡ï¼Œä¼šå¯¼è‡´ç»„ä»¶æ›´æ–°ã€‚stateç»„ä»¶æ›´æ–°æ˜¯é€šè¿‡this.stateä¿®æ”¹ç»„ä»¶stateæ¥è§¦å‘çš„ã€‚ componentWillReceiveProps(nextProps) propså¼•èµ·ç»„ä»¶æ›´æ–°è¿‡ç¨‹æ‰ä¼šè°ƒç”¨ stateå¼•èµ·çš„ç»„ä»¶æ›´æ–°ä¸ä¼šè§¦å‘è¯¥æ–¹æ³•æ‰§è¡Œã€‚ éœ€è¦æ¯”è¾ƒnextPropsä¸this.propsæ¥å†³å®šæ˜¯å¦æ‰§è¡Œpropså‘ç”Ÿå˜åŒ–åçš„é€»è¾‘ tips: - componentWillReceivePropsä¸­è°ƒç”¨setStateï¼Œåªæœ‰åœ¨æœ€è¿‘renderåŠå…¶ä¹‹åçš„æ–¹æ³•ä¸­ï¼Œthis.stateæŒ‡å‘çš„æ‰æ˜¯æ›´æ–°åçš„stateã€‚ åœ¨renderä¹‹å‰çš„æ–¹æ³•shouldComponentUpdateã€componentWillUpdateä¸­ï¼Œthis.stateä¾ç„¶æŒ‡å‘çš„æ˜¯æ›´æ–°å‰çš„state - è°ƒç”¨setStateæ›´æ–°ç»„ä»¶çŠ¶æ€ä¸ä¼šè§¦å‘componentWillReceivePropsçš„è°ƒç”¨ï¼Œå¦åˆ™ä¼šè¿›å…¥æ­»å¾ªç¯ componentWillReceiveProps-&gt;this.setState-&gt;componentWillReceiveProps shouldComponentUpdate é€šè¿‡æ¯”è¾ƒnextpropsã€nextStateå’Œç»„ä»¶å½“å‰çš„propsã€stateå†³å®šè¿™ä¸ªæ–¹æ³•çš„è¿”å›ç»“æœã€‚ trueï¼š ç»§ç»­æ›´ç»†è¿‡ç¨‹ falseï¼š ç»„ä»¶åœæ­¢æ›´æ–°ï¼Œåç»­æ–¹æ³•ä¸æ‰§è¡Œã€‚ å¯ä»¥å‡å°‘ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“ï¼Œä¼˜åŒ–ç»„ä»¶æ€§èƒ½ã€‚ componentWillUpdate ä¸€èˆ¬å¾ˆå°‘ç”¨åˆ° shouldComponentUpdateå’ŒcomponentWillUpdateéƒ½ä¸èƒ½è°ƒç”¨setStateï¼Œå¦åˆ™ä¼šå¼•èµ·å¾ªç¯è°ƒç”¨ã€‚ render componentDidUpdate(preProps, preState) æ›´æ–°åè°ƒç”¨å¯ä»¥æ“ä½œæ›´æ–°åçš„DOM ä¸¤ä¸ªå‚æ•°ä»£è¡¨è°ƒç”¨å‰çš„propså’Œstate 3. å¸è½½é˜¶æ®µ componentWillUnmount ç»„ä»¶è¢«å¸è½½å‰è°ƒç”¨ æ‰§è¡Œæ¸…ç†å·¥ä½œï¼Œå¦‚ï¼šå–æ¶ˆå®šæ—¶å™¨ï¼Œæ‰‹åŠ¨åˆ›å»ºDOMå…ƒç´ ï¼Œå–æ¶ˆhttpè¯·æ±‚ï¼Œä»¥é¿å…å†…å­˜æ³„æ¼ã€‚ ==åªæœ‰ç±»ç»„ä»¶æ‰æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ï¼ï¼ï¼ï¼ï¼== äº‹ä»¶ç»‘å®š12345678handleClick = (event) =&gt; { const number = ++this.state.number; this.setState({ number: number });}&lt;button onClick={this.handleClick}&gt;Click&lt;/button&gt; å—æ§ç»„ä»¶ éå—æ§ç»„ä»¶ å—æ§ç»„ä»¶ï¼šéè¡¨å•å…ƒç´ åªéœ€æ ¹æ®ç»„ä»¶çš„å±æ€§æˆ–çŠ¶æ€è¿›è¡Œæ¸²æŸ“ å¦‚æœä¸€ä¸ªè¡¨å•å…ƒç´ çš„å€¼æ˜¯ç”±Reactæ¥ç®¡ç†çš„ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªå—æ§ç»„ä»¶ã€‚ çŠ¶æ€ä¸å—Reactæ§åˆ¶çš„è¡¨å•å…ƒç´ ä¸ºéå—æ§ç»„ä»¶ã€‚inputï¼Œtextareaï¼Œselectç­‰ Reactä¸­ï¼Œè£…å¡«çš„ä¿®æ”¹å¿…é¡»é€šè¿‡ç»„ä»¶çš„stateï¼Œéå—æ§ç»„ä»¶çš„è¡Œä¸ºæœ‰æ‚–äºè¿™ä¸€åŸåˆ™ã€‚ ä¸ºäº†è®©è¡¨å•å…ƒç´ çŠ¶æ€å˜æ›´ä¹Ÿèƒ½é€šè¿‡ç»„ä»¶çš„stateç®¡ç†ï¼ŒReacté‡‡ç”¨å—æ§ç»„ä»¶çš„æŠ€æœ¯è¾¾åˆ°è¿™ä¸€ç›®çš„ã€‚ å—æ§ç»„ä»¶ä¿è¯äº†è¡¨å•å…ƒç´ çš„çŠ¶æ€ä¹Ÿç”±Reactç»Ÿä¸€ç®¡ç†ï¼Œä½†éœ€ä¸ºæ¯ä¸ªè¡¨å•å…ƒç´ å®šä¹‰onChangeäº‹ä»¶çš„å¤„ç†å‡½æ•°ï¼Œ æŠŠè¡¨å•çŠ¶æ€åŒæ­¥åˆ°Reactç»„ä»¶çš„stateã€‚è¿™ä¸€è¿‡ç¨‹æ¯”è¾ƒç¹çã€‚ ä¸€ç§æ›¿ä»£æ–¹æ¡ˆæ˜¯ä½¿ç”¨éå—æ§ç»„ä»¶ã€‚è¡¨å•å…ƒç´ çš„çŠ¶æ€ä¾ç„¶ç”±è¡¨å•å…ƒç´ è‡ªå·±ç®¡ç†ï¼Œè€Œä¸æ˜¯äº¤ç»™Reactç»„ä»¶ç®¡ç†ã€‚ä½¿ç”¨éå—æ§ç»„ä»¶éœ€è¦æœ‰ä¸€ç§æ–¹å¼å¯ä»¥è·å–åˆ°è¡¨å•å…ƒç´ çš„å€¼ï¼ŒReactä¸­æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„å±æ€§ref, ç”¨æ¥å¼•ç”¨Reactç»„ä»¶æˆ–DOMå®ä¾‹ã€‚å› æ­¤å¯ä»¥é€šè¿‡ä¸ºè¡¨å•å…ƒç´ å®šä¹‰refå±æ€§è·å–å…ƒç´ çš„å€¼ã€‚ çœ‹ä¼¼ç®€åŒ–äº†æ“ä½œè¡¨å•å…ƒç´ çš„è¿‡ç¨‹ï¼Œä½†ç ´åäº†Reactå¯¹ç»„ä»¶çŠ¶æ€ç®¡ç†çš„ä¸€è‡´æ€§ï¼Œæ—ºæ—ºå®¹æ˜“å‡ºç°ä¸å®¹æ˜“æ’æŸ¥çš„é—®é¢˜ï¼Œéç‰¹æ®Šæƒ…å†µï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚ React 16æ–°ç‰¹æ€§ renderæ–°çš„è¿”å›ç±»å‹ React156ä¹‹å‰å¿…é¡»è¿”å›å•ä¸ªå…ƒç´ ã€‚ç°åœ¨æ”¯æŒä¸¤ç§æ–°çš„è¿”å›ç±»å‹ï¼šæ•°ç»„(ç”±Reactå…ƒç´ ç»„æˆ)å’Œå­—ç¬¦ä¸²ã€‚ 123456789101112131415class ListComponent extends Component { render() { return [ &lt;li key=&quot;A&quot;&gt;First item&lt;/li&gt;, &lt;li key=&quot;B&quot;&gt;Second item&lt;/li&gt;, &lt;li key=&quot;C&quot;&gt;Third item&lt;/li&gt; ]; }}class StringComponent extends Component { render() { return &quot;Just a strings&quot;; }} é”™è¯¯å¤„ç† React16ä¹‹å‰è¿è¡ŒæœŸæ‰§è¡Œå‡ºé”™ï¼Œä¼šé˜»å¡æ•´ä¸ªåº”ç”¨çš„æ¸²æŸ“ã€‚åªèƒ½åˆ·æ–°é¡µé¢æ‰èƒ½æ¢å¤åº”ç”¨ã€‚ React16å¼•å…¥æ–°çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ç»„ä»¶ä¸­æŠ›å‡ºé”™è¯¯ï¼Œç»„ä»¶ä¼šä»ç»„ä»¶æ ‘ä¸­å¸è½½ï¼Œé¿å…æ•´ä¸ªåº”ç”¨å´©æºƒã€‚ è¿˜æä¾›äº†é”™è¯¯è¾¹ç•Œ(Error Boundaries),å¯ä»¥è¾“å‡ºé”™è¯¯æ—¥å¿—ï¼Œæ˜¾ç¤ºé”™è¯¯æç¤º.componentDidCatch(error, info) â€”â€”â€”â€”â€“æˆ‘çš„ç‚¹è¯„â€”â€”â€”â€”â€“é¡¹ç›®ä¸­ç›®å‰ä»åç«¯è¿”å›çš„æ•°æ®å–å€¼ã€‚eg: 1res.data.userInfo[0].nickName ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰æ•°æ®éƒ½å¯èƒ½å¼•å‘å¼‚å¸¸é€šå¸¸éœ€è¦ 1res &amp;&amp; res.data &amp;&amp; res.data.userInfo &amp;&amp; ... è§£å†³åŠæ³•ï¼šå¯ä»¥è‡ªå·±å†™ä¸ªisEmpty æˆ–å¼•ç”¨lodash.isEmpty Portalså¯ä»¥æŠŠç»„ä»¶æ¸²æŸ“åˆ°å½“å‰ç»„ä»¶æ ‘ä»¥å¤–çš„DOMèŠ‚ç‚¹ä¸Šã€‚å…¸å‹åº”ç”¨åœºæ™¯æ˜¯æ¸²æŸ“åº”ç”¨çš„å…¨å±€å¼¹æ¡†ã€‚ä½¿ç”¨Portalsåï¼Œä»»æ„ç»„ä»¶éƒ½å¯ä»¥å°†å¼¹æ¡†ç»„ä»¶æ¸²æŸ“åˆ°æ ¹èŠ‚ç‚¹ä¸Šã€‚ Portalsçš„å®ç°ä¾èµ–ReactDOMçš„ä¸€ä¸ªæ–°API:ReactDOM.createPortal(child, container)ç¬¬ä¸€ä¸ªå‚æ•°childæ˜¯å¯ä»¥è¢«æ¸²æŸ“çš„ReactèŠ‚ç‚¹ã€‚containeræ˜¯ä¸€ä¸ªDOMå…ƒç´ ï¼Œchildå°†è¢«æŒ‚è½½åˆ°è¿™ä¸ªDOMèŠ‚ç‚¹ã€‚ eg: 123456789101112131415161718192021222324252627class Modal extends Component { constructor(props) { super(props); // æ ¹èŠ‚ç‚¹ä¸‹åˆ›å»ºä¸€ä¸ªdivèŠ‚ç‚¹ this.container = document.createElement(&quot;div&quot;); document.body.appendChild(this.container); } componentWillUnmount() { document.body.removeChild(this.container); } render() { // åˆ›å»ºçš„DOMæ ‘æŒ‚è½½åˆ°this.containeræŒ‡å‘çš„divèŠ‚ç‚¹ä¸‹é¢ return ReactDOM.createPortal( &lt;div className=&quot;modal&quot;&gt; &lt;span className=&quot;close&quot; onClick= {this.props.onClose}&gt; &amp;times; &lt;/span&gt; &lt;div className=&quot;content&quot;&gt; {this.props.children} &lt;/div&gt; &lt;/div&gt;, this.container ); }} Appä¸­ä½¿ç”¨Modal 1234567891011121314151617181920class App extends Component { constructor(props) { super(props); this.state = { showModal: true }; } // å…³é—­ closeModal = () =&gt; { this.setState({ showModal: false }); }; render() { return ( &lt;div&gt; &lt;h2&gt;Dashboard&lt;/h2&gt; {this.state.showModal &amp;&amp; ( &lt;Modal onClose={this.closeModal}&gt;Modal Dialog&lt;/Modal&gt; )} &lt;/div&gt;); }}export default App; è‡ªå®šä¹‰DOMå±æ€§ React16å¯ä»¥è¯†åˆ«è‡ªå®šä¹‰å±æ€§, ä¼ é€’ç»™DOMå…ƒç´  &lt;div custom-attribute=&quot;something&quot; /&gt; è¿˜æœ‰å…¶ä»–ç‰¹æ€§ setStateä¼ å…¥nullæ—¶ä¸ä¼šå†è§¦å‘ç»„ä»¶æ›´æ–° æ›´é«˜æ•ˆçš„æœåŠ¡å™¨ç«¯æ¸²æŸ“æ–¹å¼ è®¾è®¡åˆé€‚çš„statestateå¿…é¡»èƒ½ä»£è¡¨ä¸€ä¸ªç»„ä»¶UIå‘ˆç°çš„å®Œæ•´çŠ¶æ€é›†ã€‚ç»„ä»¶çš„ä»»ä½•UIæ”¹å˜éƒ½å¯ä»¥ä»stateçš„å˜åŒ–ä¸­åæ˜ å‡ºæ¥; åŒæ—¶stateè¿˜å¿…é¡»ä»£è¡¨ä¸€ä¸ªç»„ä»¶UIå‘ˆç°çš„æœ€å°çŠ¶æ€é›†ï¼Œå³stateä¸­çš„æ‰€æœ‰çŠ¶æ€éƒ½ç”¨äºåæ˜ ç»„ä»¶UIçš„å˜åŒ–ï¼Œæ²¡æœ‰ä»»ä½•å¤šä½™çŠ¶æ€ï¼Œä¹Ÿä¸åº”è¯¥å­˜åœ¨é€šè¿‡å…¶ä»–çŠ¶æ€è®¡ç®—è€Œæ¥çš„ä¸­é—´çŠ¶æ€ã€‚ eg:é”™è¯¯çš„state 1234{ purchaseList: [], totalCost: 0} åŒ…å«æ— ç”¨çš„çŠ¶æ€totalCostï¼ŒtotalCostå¯ä»¥æ ¹æ®è´­ä¹°çš„æ¯ä¸€é¡¹ç‰©å“çš„ä»·æ ¼å’Œæ•°é‡è®¡ç®—å¾—å‡ºã€‚totalCostå±äºä¸­é—´çŠ¶æ€ï¼Œå¯ä»¥çœç•¥ã€‚ stateå¯ä»¥åˆ†ä¸ºä¸¤ç±»æ•°æ®ï¼š ç”¨ä½œæ¸²æŸ“ç»„ä»¶æ—¶ä½¿ç”¨åˆ°çš„æ•°æ®æ¥æº ç”¨ä½œç»„ä»¶UIå±•ç°å½¢å¼çš„åˆ¤æ–­ä¾æ® stateä¸ç»„ä»¶çš„æ™®é€šå±æ€§ å®šä¹‰ï¼šé™¤äº†stateï¼Œpropsä»¥å¤–çš„ç»„ä»¶å±æ€§æˆä¸ºç»„ä»¶çš„æ™®é€šå±æ€§ã€‚ åœ¨ES6ä¸­ï¼Œå¯ä»¥ä½¿ç”¨this.{å±æ€§å}å®šä¹‰ä¸€ä¸ªclassçš„å±æ€§ï¼Œå¯ä»¥è¯´å±æ€§æ˜¯ç›´æ¥æŒ‚è½½åˆ°thisä¸‹çš„å˜é‡ã€‚å› æ­¤stateï¼Œ propsä¹Ÿæ˜¯ç»„ä»¶çš„å±æ€§ï¼Œåªä¸è¿‡å®ƒä»¬æ˜¯Reactä¸ºæˆ‘ä»¬Component Classä¸­é¢„å®šä¹‰å¥½çš„å±æ€§ã€‚ 123456789class Hello extends React.Component { constructor(props) { super(props); this.timer = null; // æ™®é€šå±æ€§ this.state = { date: new Date() } }} ä½¿ç”¨åœºæ™¯ï¼šå½“ç»„ä»¶ä¸­éœ€è¦ç”¨åˆ°ä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”å®ƒä¸ç»„ä»¶çš„æ¸²æŸ“æ— å…³æ—¶ï¼Œå°±åº”è¯¥æŠŠè¿™ä¸ªå˜é‡å®šä¹‰ä¸ºç»„ä»¶çš„æ™®é€šå±æ€§ï¼Œç›´æ¥æŒ‚è½½åˆ°thisä¸‹ï¼Œè€Œä¸æ˜¯ä½œä¸ºç»„ä»¶stateã€‚æ›´ç›´è§‚çš„åˆ¤æ–­æ–¹æ³•ï¼Œçœ‹ç»„ä»¶renderæ–¹æ³•ä¸­æœ‰æ²¡æœ‰ç”¨åˆ°è¿™ä¸ªå˜é‡ï¼Œæ²¡æœ‰ï¼Œå°±æ˜¯æ™®é€šå±æ€§ã€‚ æ€»ç»“ï¼šåˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä¸æ˜¯åº”è¯¥ä½œä¸ºstateå¯ä»¥é€šè¿‡ä»¥ä¸‹4æ¡ä¾æ®åˆ¤æ–­ï¼š æ˜¯å¦é€šè¿‡propsä»çˆ¶ç»„ä»¶ä¸­è·å–ï¼Ÿæ˜¯ï¼Œä¸æ˜¯state æ˜¯å¦åœ¨ç»„ä»¶æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ä¿æŒä¸å˜ï¼Ÿæ˜¯ï¼Œä¸æ˜¯state æ˜¯å¦å¯ä»¥é€šè¿‡å…¶ä»–stateæˆ–propsè®¡ç®—å¾—åˆ°ï¼Ÿæ˜¯ï¼Œä¸æ˜¯state æ˜¯å¦åœ¨ç»„ä»¶renderæ–¹æ³•ä¸­ä½¿ç”¨ï¼Ÿæ˜¯ï¼Œä¸æ˜¯stateï¼Œå®šä¹‰ä¸ºæ™®é€šå±æ€§æ›´åˆé€‚ stateçš„ä¿®æ”¹ ä¸èƒ½ç›´æ¥ä¿®æ”¹ this.state.title = 'react' //é”™è¯¯ stateæ›´æ–°æ˜¯å¼‚æ­¥çš„ stateçš„æ›´æ–°æ—¶ä¸€ä¸ªåˆå¹¶çš„è¿‡ç¨‹ stateä¸ä¸å¯å˜å¯¹è±¡Reactå®˜æ–¹å»ºè®®æŠŠstateå½“åšä¸å¯å˜å¯¹è±¡ï¼š ç›´æ¥ä¿®æ”¹this.state, ç»„ä»¶ä¸ä¼šé‡æ–°render stateä¸­åŒ…å«çš„æ‰€æœ‰çŠ¶æ€éƒ½åº”è¯¥æ˜¯ä¸å¯å˜å¯¹è±¡ stateä¸­çš„æŸä¸ªçŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œåº”è¯¥é‡æ–°åˆ›å»ºè¿™ä¸ªçŠ¶æ€å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹åŸæ¥çš„çŠ¶æ€ã€‚ å¦‚ä½•åˆ›å»ºæ–°çš„çŠ¶æ€å‘¢ï¼Ÿä¸‰ç§æƒ…å†µ ä¸å¯å˜ç±»å‹(æ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”å€¼ï¼Œnullï¼Œundefined)â€”ç›´æ¥èµ‹å€¼ 12345this.setState({ count: 1, title: 'React', success: true}) æ•°ç»„â€”concat, æ‰©å±•è¯­æ³•(spread syntax) 1234567this.setState(preState =&gt; ({ books: preState.books.concat(['React Guide'])}))this.setState(preState =&gt; ({ books: [...preState.books, 'React Guide']})) æˆªå–éƒ¨åˆ†å…ƒç´ ä½œä¸ºæ–°çŠ¶æ€123this.setState(preState =&gt; ({ books: preState.books.slice(1,3)})) è¿‡æ»¤éƒ¨åˆ†å…ƒç´ ä½œä¸ºæ–°çŠ¶æ€12345this.setState(preState =&gt; ({ books: preState.books.filter(item =&gt; { return item !== 'React'; })})) æ³¨æ„ï¼šä¸è¦ä½¿ç”¨push,pop,shift,unshift,spliceç­‰æ–¹æ³•ä¿®æ”¹æ•°ç»„ç±»å‹çŠ¶æ€ã€‚å› ä¸ºè¿™äº›æ–¹æ³•éƒ½æ˜¯åœ¨åŸæ•°ç»„åŸºç¡€ä¸Šä¿®æ”¹ï¼Œè€Œä»concat,slice,filterä¼šè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚ æ™®é€šå¯¹è±¡(ä¸åŒ…å«å­—ç¬¦ä¸²ï¼Œæ•°ç»„)â€”Object.assign,å¯¹è±¡æ‰©å±•è¯­æ³•(object spread properties)1234567this.setState(preState =&gt; ({ owner: Object.assign({}, preState.owner, {name: 'James Bond'})}))this.setState(preState =&gt; ({ owner: {...preState.owner, name: 'James Bond'}})) æ€»ç»“ï¼š åˆ›å»ºæ–°çŠ¶æ€å¯¹è±¡çš„å…³é”®ï¼Œé¿å…ä½¿ç”¨ä¼šç›´æ¥ä¿®æ”¹åŸå¯¹è±¡çš„æ–¹æ³•ï¼Œè€Œä½¿ç”¨å¯ä»¥è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡çš„æ–¹æ³•ã€‚ ä¹Ÿå¯ç”¨ä¸€äº›Immutableçš„JSåº“ï¼Œ(å¦‚Immutable.js) ä¸ºä»€ä¹ˆç»„ä»¶çš„çŠ¶æ€æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Ÿ å¯¹ä¸å¯å˜å…‘ç°çš„ä¿®æ”¹ä¼šè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸ç”¨ä½†ç³»åŸæœ‰å¯¹è±¡åœ¨ä¸å°å¿ƒæƒ…å†µä¸‹ä¿®æ”¹å¯¼è‡´çš„é”™è¯¯ï¼Œæ–¹ä¾¿ç®¡ç†å’Œè°ƒè¯• å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œå½“å¯¹è±¡ç»„ä»¶çŠ¶æ€éƒ½æ˜¯ä¸å¯å˜å¯¹è±¡æ—¶ï¼Œåœ¨shouldComponentUpdateæ–¹æ³•ä¸­ä»…éœ€è¦æ¯”è¾ƒå‰åä¸¤æ¬¡çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨å°±å¯ä»¥åˆ¤æ–­çŠ¶æ€æ˜¯å¦çœŸçš„æ”¹å˜ï¼Œé¿å…ä¸å¿…è¦çš„renderè°ƒç”¨ã€‚ componentDidMountæ‰§è¡Œè¯·æ±‚æœ€ä½³ï¼ŒåŸå› ä¸¤ä¸ª åœ¨componentDidMountä¸­æ‰§è¡Œè¯·æ±‚å¯ä»¥ä¿è¯è·å–åˆ°æ•°æ®æ—¶ï¼Œç»„ä»¶å·²å¤„äºæŒ‚è½½çŠ¶æ€ã€‚å³ä½¿æ“ä½œDOMä¹Ÿæ˜¯å®‰å…¨çš„ã€‚ componentWillMountæ— æ³•ä¿è¯ ç»„ä»¶åœ¨æœåŠ¡ç«¯æ¸²æŸ“æ—¶componentWillMountä¼šè°ƒç”¨ä¸¤æ¬¡ï¼Œä¸€æ¬¡åœ¨æœåŠ¡ç«¯ï¼Œä¸€æ¬¡åœ¨æµè§ˆå™¨ç«¯ã€‚ è€ŒcomponentDidMountèƒ½ä¿è¯åœ¨ä»»ä½•æƒ…å†µä¸‹åªè°ƒç”¨ä¸€æ¬¡ã€‚ä¸ä¼šå‘é€å¤šä½™çš„è¯·æ±‚ã€‚ ç»„ä»¶æ›´æ–°é˜¶æ®µä¹Ÿå¯ä»¥å‘é€è¯·æ±‚ï¼Œè·å–æœåŠ¡æœ€æ–°æ•°æ®ã€‚ä¾‹å¦‚ï¼šç»„ä»¶éœ€è¦ä»¥propsä¸­æŸä¸ªå±æ€§ä½œä¸ºä¸æœåŠ¡å™¨é€šä¿¡æ—¶è¯·æ±‚å‚æ•°ï¼Œå½“è¿™ä¸ªå€¼å‘ç”Ÿæ›´æ–°ï¼Œéœ€è¦é‡æ–°å‘èµ·è¯·æ±‚ã€‚åœ¨componentWillReceivePropsé˜¶æ®µå¤„ç†ã€‚ 12345678class ListContainer extends React.Component { // ... componentWillReceiveProps(nextProps) { fetch('url').then(res=&gt;{ // ... }) }} fetchä¹‹å‰éœ€è¦å¯¹nextPropsåˆ¤æ–­ï¼Œå¦‚æœä¸ä¸€è‡´å†å‘èµ·è¯·æ±‚ ç»„ä»¶é€šä¿¡çˆ¶å­ç»„ä»¶é€šä¿¡â€“é€šè¿‡propsçˆ¶å‘å­æ˜¯é€šè¿‡çˆ¶ç»„ä»¶å‘å­ç»„ä»¶çš„propsä¼ é€’æ•°æ®å®Œæˆ å­å‘çˆ¶ï¼šçˆ¶ç»„ä»¶é€šè¿‡å­ç»„ä»¶çš„propsä¼ é€’ç»™å­ç»„ä»¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå­ç»„ä»¶åœ¨éœ€è¦æ”¹å˜çˆ¶ç»„ä»¶æ—¶ï¼Œè°ƒç”¨è¿™ä¸ªå›è°ƒå‡½æ•° 1234567// çˆ¶&lt;UserList users={this.state.users}/&gt;// çˆ¶&lt;UserList users={this.state.users} onAddUser={this.handleAddUser}/&gt;// å­&lt;button onClick={this.props.onAddUser}&gt; å…„å¼Ÿç»„ä»¶é€šä¿¡å…„å¼Ÿç»„ä»¶ï¼šæœ‰ç›¸åŒçˆ¶ç»„ä»¶ï¼Œä¸æ˜¯çˆ¶å­ç»„ä»¶çš„ç»„ä»¶ã€‚ å…„å¼Ÿç»„ä»¶ä¸èƒ½ç›´æ¥äº’ä¼ æ•°æ®ï¼Œéœ€è¦é€šè¿‡çŠ¶æ€æå‡çš„æ–¹å¼å®ç°å…„å¼Ÿç»„ä»¶çš„é€šä¿¡ã€‚æŠŠç»„ä»¶ä¹‹é—´éœ€è¦å…±äº«çš„çŠ¶æ€ä¿å­˜åˆ°è·ç¦»å®ƒä»¬æœ€è¿‘çš„å…±åŒçˆ¶ç»„ä»¶å†…ï¼Œä»»ä¸€å…„å¼Ÿç»„ä»¶éƒ½å¯ä»¥é€šè¿‡çˆ¶ç»„ä»¶ä¼ é€’çš„å›è°ƒå‡½æ•°æ¥ä¿®æ”¹å…±äº«çŠ¶æ€ï¼Œçˆ¶ç»„ä»¶ä¸­çš„å…±äº«çŠ¶æ€çš„å˜åŒ–ä¹Ÿä¼šé€šè¿‡propså‘ä¸‹ä¼ é€’ç»™æ‰€æœ‰å…„å¼Ÿç»„ä»¶ï¼Œå®Œæˆå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ Contextâ€“å®éªŒæ€§API,ä¸å»ºè®®ä½¿ç”¨ï¼Œä¼šè®©æ•°æ®æµå˜å¾—æ··ä¹±ç»„ä»¶å±‚çº§å¤ªæ·±ï¼Œpropsä¼ é€’å±‚çº§ç¹çã€‚contextè®©ä»»æ„å±‚çº§çš„å­ç»„ä»¶éƒ½å¯ä»¥è·å–çˆ¶ç»„ä»¶çš„çŠ¶æ€å’Œæ–¹æ³• å…¶ä»–é€šä¿¡æ–¹å¼ æ¶ˆæ¯é˜Ÿåˆ— æ”¹å˜æ•°æ®çš„ç»„ä»¶å‘èµ·æ¶ˆæ¯ï¼Œä½¿ç”¨æ•°æ®çš„ç»„ä»¶ç›‘å¬ï¼Œåœ¨å“åº”å‡½æ•°ä¸­è§¦å‘setStateæ”¹å˜ç»„ä»¶çŠ¶æ€ã€‚â€“è§‚å¯Ÿè€…æ¨¡å¼ (EventEmitteræˆ–Postal.jsç­‰æ¶ˆæ¯é˜Ÿåˆ—åº“) Redux, MobXçŠ¶æ€ç®¡ç†åº“ã€‚ refä¼˜ç‚¹ï¼š è·å–è¡¨å•å…ƒç´ ï¼Œè·å–å…¶ä»–ä»»æ„DOMå…ƒç´ ï¼Œè·å–Reactç»„ä»¶å®ä¾‹ç”¨å¤„ï¼šæ§åˆ¶å…ƒç´ ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©ï¼Œç¬¬ä¸‰æ–¹æ“ä½œDOMåº“é›†æˆ ç¼ºç‚¹ï¼šé¿å…ä½¿ç”¨ref,ç ´åäº†Reactä¸­ä»¥propsä¸ºæ•°æ®ä¼ é€’ä»‹è´¨çš„å…¸å‹æ•°æ®æµrefæ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå€¼ï¼Œåœ¨ç»„ä»¶è¢«æŒ‚è½½æˆ–å¸è½½æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚ç»„ä»¶è¢«æŒ‚è½½æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šæ¥æ”¶å½“å‰DOMå…ƒç´ ä½œä¸ºå‚æ•°ï¼›ç»„ä»¶è¢«å¸è½½æ—¶å›è°ƒå‡½æ•°ä¼šæ¥æ”¶nullä½œä¸ºå‚æ•° åœ¨DOM ä¸Šä½¿ç”¨refè®©inputè‡ªåŠ¨è·å–ç„¦ç‚¹ 12345678910111213141516class AutoFocusInput extends React.Component { componentDidMount() { // é€šè¿‡refè®©inputè‡ªåŠ¨è·å–ç„¦ç‚¹ this.textInput.focus(); } blur= () =&gt; { this.textInput.blur(); } render() { return ( &lt;div&gt; &lt;input type='text' ref={(input) =&gt; {this.textInput = input}}/&gt; &lt;/div&gt; ) }} ç»„ä»¶ä¸Šä½¿ç”¨refrefçš„å›è°ƒå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯å½“å‰ç»„ä»¶çš„å®ä¾‹ã€‚æä¾›äº†ä¸€ç§åœ¨ç»„ä»¶å¤–éƒ¨æ“ä½œç»„ä»¶çš„æ–¹å¼ã€‚ 123// é€šè¿‡refè°ƒç”¨AutoFocusInputç»„ä»¶çš„æ–¹æ³•this.inputInstance.blur();&lt;AutoFocusInput ref={input =&gt; {this.inputInstance = input}}/&gt; æ³¨æ„ï¼šåªèƒ½ä¸ºç´¯ç»„ä»¶å®šä¹‰refå±æ€§ï¼Œä¸èƒ½ä¸ºå‡½æ•°ç»„ä»¶å®šä¹‰refå±æ€§ã€‚ä½†å¯ä»¥åœ¨å‡½æ•°ç»„ä»¶å†…éƒ¨ä½¿ç”¨refå¼•ç”¨å…¶ä»–DOMå…ƒç´ æˆ–ç»„ä»¶ã€‚ 1234567891011121314function MyFuncitonCom() { let textInput = null; function handleClick() { textInput.focus(); } return( &lt;div&gt; &lt;input ref={(input) =&gt; {textInput = input;}} /&gt; &lt;button onClick={handleClick}&gt;è·å–ç„¦ç‚¹&lt;/button&gt; &lt;/div&gt; )} çˆ¶ç»„ä»¶è®¿é—®å­ç»„ä»¶çš„DOMèŠ‚ç‚¹å› ä¸ºrefåªèƒ½è®¿é—®å­ç»„ä»¶çš„å®ä¾‹å¯¹è±¡ï¼Œè€Œä¸èƒ½è·å–å­ç»„ä»¶ä¸­çš„æŸä¸ªDOMå…ƒç´ ã€‚ å¯ä»¥é‡‡ç”¨ä¸€ç§é—´æ¥æ–¹å¼è·å–å­ç»„ä»¶çš„DOMå…ƒç´ ï¼šåœ¨å­ç»„ä»¶çš„DOMå…ƒç´ ä¸Šå®šä¹‰ref, refçš„å€¼æ˜¯çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°å¯ä»¥é€šè¿‡ä¸€ä¸ªè‡ªå®šä¹‰çš„å±æ€§ä¼ é€’ï¼Œä¾‹å¦‚inputRef,è¿™æ ·çˆ¶ç»„ä»¶çš„å›è°ƒå‡½æ•°ä¸­å°±èƒ½è·å–åˆ°è¿™ä¸ªDOMå…ƒç´ ã€‚ 123456789101112131415161718function Children(props) { // å­ç»„ä»¶ä½¿ç”¨çˆ¶ç»„ä»¶ä¼ é€’çš„inputRefï¼Œ ä¸ºinputçš„refèµ‹å€¼ return ( &lt;div&gt; &lt;input ref={props.inputRef}/&gt; &lt;/div&gt; );}class Parent extends React.Component { render() { // è‡ªå®šä¹‰ä¸€ä¸ªå±æ€§inputRef, å€¼æ˜¯ä¸€ä¸ªå‡½æ•° return ( &lt;Children inputRef={el =&gt; this.inputElement = el} /&gt; ); }} å¯ä»¥çœ‹åˆ°å³ä½¿å­ç»„ä»¶æ˜¯å‡½æ•°ç»„ä»¶ï¼Œè¿™ç§æ–¹å¼åŒæ ·æœ‰æ•ˆã€‚ è™šæ‹ŸDOMè™šæ‹ŸDOMæ˜¯ç”¨æ¥æè¿°çœŸå®DOMçš„JavaScriptå¯¹è±¡ã€‚ 1234567891011121314151617&lt;div className='foo'&gt; &lt;h1&gt;Hello React&lt;/h1&gt;&lt;/div&gt;å¯¹åº”çš„JavaScriptå¯¹è±¡{ type: 'div', props: { className: 'foo', children: { type: 'h1', props: { children: 'Hello React' } } }} è™šæ‹ŸDOMæ˜¯æ™®é€šçš„JavaScriptå¯¹è±¡ï¼Œè®¿é—®JavaScriptå¯¹è±¡å½“ç„¶æ¯”è®¿é—®çœŸå®DOMå¿«å¾—å¤š Diffç®—æ³•Reacté‡‡ç”¨å£°æ˜å¼APIæè¿°UIç»“æ„ï¼Œæ¯æ¬¡ç»„ä»¶çš„çŠ¶æ€æˆ–å±æ€§æ›´æ–°ï¼Œrenderæ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„è™šæ‹ŸDOMå¯¹è±¡ï¼Œç”¨æ¥æ ‡ä¹¦æ–°çš„UIç»“æ„ã€‚å¦‚æœæ¯æ¬¡renderéƒ½ç›´æ¥ä½¿ç”¨æ–°çš„è™šæ‹ŸDOMæ¥ç”ŸæˆçœŸå®DOMç»“æ„ï¼Œä¼šå¸¦æ¥å¤§é‡å¯¹çœŸå®DOMæ“ä½œï¼Œå½±å“æ•ˆç‡ã€‚Reacté€šè¿‡æ¯”è¾ƒä¸¤æ¬¡è™šæ‹ŸDOMç»“æ„çš„å˜åŒ–æ‰¾å‡ºå·®å¼‚éƒ¨åˆ†ï¼Œæ›´æ–°åˆ°çœŸå®DOMä¸Šï¼Œä»è€Œå‡å°‘æœ€ç»ˆè¦åœ¨çœŸå®DOMä¸Šçš„æ“ä½œï¼Œæé«˜æ•ˆç‡ã€‚è¿™å°±æ˜¯Reactçš„è°ƒå’Œè¿‡ç¨‹(Reconciliation).å…¶ä¸­çš„å…³é”®æ˜¯æ¯”è¾ƒä¸¤ä¸ªæ ‘å½¢ç»“æ„çš„Diffç®—æ³•ã€‚åŸºäºä¸¤ç§å‡è®¾, ç®—æ³•å¤æ‚åº¦ä»O(N^3)â€“&gt; O(N) ä¸¤ä¸ªå…ƒç´ ç±»å‹ä¸åŒï¼Œå®ƒä»¬å°†ç”Ÿæˆä¸¤æ£µä¸åŒçš„æ ‘ ä¸ºåˆ—è¡¨å…ƒç´ è®¾ç½®keyå±æ€§ï¼Œç”¨keyæ ‡è¯†å¯¹åº”å…ƒç´ åœ¨å¤šæ¬¡renderè¿‡ç¨‹ä¸­æ˜¯å¦å‘ç”Ÿå˜åŒ– Reactå¦‚ä½•æ¯”è¾ƒä¸¤æ£µæ ‘çš„å·®å¼‚ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ¯”è¾ƒï¼Œæ ¹èŠ‚ç‚¹ç±»å‹ä¸åŒï¼ŒReactæ‰§è¡Œçš„æ“ä½œä¹Ÿä¸åŒ æ ¹èŠ‚ç‚¹ä¸åŒç±»å‹Reactè®¤ä¸ºæ–°æ ‘å’Œæ—§æ ‘å®Œå…¨ä¸åŒï¼Œä¸å†ç»§ç»­æ¯”è¾ƒå…¶ä»–å±æ€§å’Œå­èŠ‚ç‚¹ã€‚æŠŠæ•´æ£µæ ‘æ‹†æ‰é‡å»º(åŒ…æ‹¬è™šæ‹ŸDOMå’ŒçœŸå®DOM) è™šæ‹ŸDOMèŠ‚ç‚¹åˆ†ä¸ºä¸¤ç±»ï¼šDOMå…ƒç´ ï¼Œdiv,pç­‰ï¼›reactç»„ä»¶ç±»å‹ï¼Œè‡ªå®šä¹‰ç»„ä»¶ç­‰ã€‚æ‹†é™¤è¿‡ç¨‹ä¸­ï¼Œæ—§çš„DOMå…ƒç´ ç±»å‹èŠ‚ç‚¹è¢«é”€æ¯ï¼Œæ—§çš„reactç»„ä»¶å®ä¾‹çš„componentWillUnmountä¼šè¢«è°ƒç”¨é‡å»ºè¿‡ç¨‹ä¸­ï¼Œæ–°çš„DOMå…ƒç´ è¢«æ’å…¥DOMæ ‘ï¼Œæ–°çš„ç»„ä»¶å®ä¾‹çš„componentWillMountå’ŒcomponentDidMountä¼šè¢«è°ƒç”¨ æ›´æ–°æ•ˆç‡æœ€ä½ æ ¹èŠ‚ç‚¹æ˜¯ç›¸åŒDOMå…ƒç´ ç±»å‹ä¸¤ä¸ªæ ¹èŠ‚ç‚¹ç›¸åŒç±»å‹çš„DOMå…ƒç´ ï¼ŒReactä¼šä¿ç•™æ ¹èŠ‚ç‚¹ï¼Œæ¯”è¾ƒæ ¹èŠ‚ç‚¹çš„å±æ€§ï¼Œç„¶ååªæ›´æ–°é‚£äº›å˜åŒ–äº†çš„å±æ€§ æ ¹èŠ‚ç‚¹æ˜¯ç›¸åŒçš„ç»„ä»¶ç±»å‹ä¸¤ä¸ªæ ¹èŠ‚ç‚¹æ˜¯ç›¸åŒç±»å‹çš„ç»„ä»¶ï¼Œå¯¹åº”çš„ç»„ä»¶å®ä¾‹ä¸ä¼šè¢«é”€æ¯ï¼Œåªæ˜¯ä¼šæ‰§è¡Œæ›´æ–°æ“ä½œã€‚åŒæ­¥å˜åŒ–çš„å±æ€§åˆ°è™šæ‹ŸDOMæ ‘ä¸Šï¼Œç»„ä»¶çš„componentWillReceivePropså’ŒcomponentWillUpdateä¼šè¢«è°ƒç”¨ éœ€åœ¨ç»„ä»¶æ›´æ–°å¹¶ä¸”renderæ–¹æ³•æ‰§è¡Œå®Œæˆåï¼Œæ ¹æ®renderè¿”å›çš„è™šæ‹ŸDOMç»“æ„å†³å®šå¦‚ä½•æ›´æ–°çœŸå®DOMæ ‘ å¦‚æ­¤é€’å½’æ¯”è¾ƒï¼Œç›´åˆ°æ¯”è¾ƒå®Œä¸¤æ£µæ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹ï¼Œè®¡ç®—å¾—åˆ°æœ€ç»ˆå·®å¼‚ï¼Œæ›´æ–°åˆ°DOMæ ‘ä¸Šã€‚ keyçš„é‡è¦æ€§å¯¹å¤šä¸ªliè¿™ç§æƒ…å†µï¼ŒReactæä¾›äº†keyå±æ€§ã€‚keyå¸®åŠ©Reactæé«˜diffç®—æ³•æ•ˆç‡ã€‚å½“ä¸€ç»„å­èŠ‚ç‚¹å®šä¹‰äº†keyï¼ŒReactä¼šæ ¹æ®keyæ¥åŒ¹é…å­èŠ‚ç‚¹ï¼Œåœ¨æ¯æ¬¡æ¸²æŸ“ä¹‹åï¼Œåªè¦å­èŠ‚ç‚¹çš„keyå€¼æ²¡æœ‰å˜åŒ–ï¼ŒReactå°±è®¤ä¸ºè¿™æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚å°½é‡ä¸è¦ä½¿ç”¨å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•å€¼ä½œä¸ºkeyï¼Œå› ä¸ºåˆ—è¡¨ä¸­çš„å…ƒç´ é¡ºåºå‘ç”Ÿå˜åŒ–ï¼Œå¯èƒ½å¯¼è‡´å¤§é‡çš„keyå¤±æ•ˆï¼Œè¿›è€Œå¼•èµ·å¤§é‡çš„ä¿®æ”¹æ“ä½œã€‚ 123&lt;ul&gt; {list.map((item, index) =&gt; &lt;li key={index}&gt;{item}&lt;/li&gt;)}&lt;/ul&gt; keyçš„ä½¿ç”¨ï¼Œå‡å°‘äº†DOMæ“ä½œï¼Œæé«˜äº†DOMæ›´æ–°æ•ˆç‡ï¼Œå½“åˆ—è¡¨å…ƒç´ æ•°é‡å¾ˆå¤šæ—¶ï¼Œkeyçš„ä½¿ç”¨æ›´æ˜¾å¾—é‡è¦ Reactæ€§èƒ½ä¼˜åŒ– ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬çš„åº“ é¿å…ä¸å¿…è¦çš„ç»„ä»¶æ¸²æŸ“â€“shouldComponentUpdateï¼Œ pureComponent ä½¿ç”¨key æ€§èƒ½æ£€æµ‹å·¥å…· React Developer Tools for ChromeèƒŒæ™¯æ˜¯é»‘è‰²è¡¨ç¤ºç”¨ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬çš„Reactï¼Œçº¢è‰²è¡¨ç¤ºå¼€å‘ç¯å¢ƒç‰ˆæœ¬ Chrome Performance Tab why-did-you-update é«˜é˜¶ç»„ä»¶ä¸»è¦ç”¨æ¥å®ç°ç»„ä»¶é€»è¾‘çš„æŠ½è±¡å’Œæœç”¨æœ¬è´¨ï¼šä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªç»„ä»¶ è£…é¥°å™¨è®¾è®¡æ¨¡å¼ åŸºæœ¬æ¦‚å¿µJavaScriptä¸­ï¼Œé«˜é˜¶ç»„ä»¶æ˜¯ä»¥å‡½æ•°ä¸ºå‚æ•°ï¼Œå¹¶ä¸”è¿”å›å€¼ä¹Ÿæ˜¯å‡½æ•°çš„å‡½æ•°ã€‚ç±»ä¼¼çš„é«˜é˜¶ç»„ä»¶(ç®€ç§°HOC), æ¥æ”¶Reactç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„Reactç»„ä»¶ å½¢å¼ï¼šconst EnhancedComponent = higherOrderComponent(WrappedComponent); ä¸»è¦åŠŸèƒ½å°è£…å¹¶åˆ†ç¦»ç»„ä»¶çš„é€šç”¨é€»è¾‘ï¼Œè®©é€šç”¨é€»è¾‘åœ¨ç»„ä»¶é—´æ›´å¥½çš„è¢«å¤ç”¨ã€‚ ä½¿ç”¨åœºæ™¯ æ“çºµprops é€šè¿‡refè®¿é—®ç»„ä»¶å®ä¾‹ ç»„ä»¶çŠ¶æ€æå‡ ç”¨å…¶ä»–å…ƒç´ åŒ…è£…ç»„ä»¶ React Routerâ€”-åˆ’åˆ†ç»„ä»¶åŸåˆ™åˆ’åˆ†é¡µé¢ç»„ä»¶éœ€è¦æ ¹æ®é¡µé¢ç»“æ„ã€ç»„ä»¶çš„å¤ç”¨æ€§ã€ç»„ä»¶çš„å¤æ‚åº¦ç­‰å› ç´ ç»¼åˆè€ƒè™‘ åˆ’åˆ†ç»„ä»¶ä¸¤ä¸ªæç«¯ï¼Œç»„ä»¶ç²’åº¦è¿‡å¤§æˆ–è¿‡å°ã€‚è¿‡å¤§ï¼Œç»„ä»¶é€»è¾‘è¿‡äºå¤æ‚ï¼Œå¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§å˜å·®ï¼›è¿‡å°ï¼Œç»„ä»¶æ•°é‡æ¿€å¢ï¼Œä¸€ä¸ªç®€å•åŠŸèƒ½éœ€å¼•å…¥å¤§é‡ç»„ä»¶ï¼Œå¢åŠ å¼€å‘æˆæœ¬ï¼Œè¿‡å¤šä¹Ÿä¸åˆ©äºæŸ¥æ‰¾ã€‚ ä¸€ç§è§‚ç‚¹æ˜¯ä¸€ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½ã€‚å»ºè®®è¾©è¯çœ‹å¾…ã€‚å¦‚æœå‡ ä¸ªåŠŸèƒ½éƒ½å¾ˆç®€å•ï¼Œä¸”æ¯ä¸€ä¸ªåŠŸèƒ½éƒ½æ²¡æœ‰å¤ç”¨éœ€æ±‚ï¼Œé‚£ä¹ˆæŠŠè¿™å‡ ä¸ªåŠŸèƒ½æ”¾åˆ°ä¸€ä¸ªç»„ä»¶ä¹Ÿå¯ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚ ä»£ç åˆ†ç‰‡å®ç°ä»£ç æŒ‰éœ€åŠ è½½ï¼Œæé«˜åº”ç”¨åŠ è½½é€Ÿåº¦ å€ŸåŠ©bundle-loaderæ¥å®ç°æŒ‰éœ€åŠ è½½ã€‚1import ListContainer from 'bundle-loader?lazy&amp;name=app-[name]!./app/list.js'; åŠ¨æ€import ReduxRedux é€šè¿‡reducerè§£æaction reduceræ˜¯ä¸€ä¸ªæ™®é€šçš„JavaScriptå‡½æ•°ï¼Œæ¥æ”¶actionä¸ºå‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„åº”ç”¨çŠ¶æ€stateã€‚ ä¸»è¦æ€æƒ³ï¼šæè¿°åº”ç”¨çš„çŠ¶æ€å¦‚ä½•æ ¹æ®actionè¿›è¡Œæ›´æ–°ï¼ŒReduxé€šè¿‡æä¾›ä¸€ç³»åˆ—APIå°†è¿™ä¸€ä¸»è¦æ€æƒ³çš„è½åœ°å®æ–½è¿›è¡Œæ ‡å‡†åŒ–å’Œè§„èŒƒåŒ–ã€‚ ä¸‰å¤§åŸåˆ™ å”¯ä¸€æ•°æ®æºReduxåªç»´æŠ¤ä¸€ä¸ªå…¨å±€çš„çŠ¶æ€å¯¹è±¡ï¼Œå­˜å‚¨åœ¨Reduxçš„storeä¸­ã€‚å”¯ä¸€æ•°æ®æºæ˜¯ä¸€ç§é›†ä¸­å¼ç®¡ç†åº”ç”¨çŠ¶æ€çš„æ–¹å¼ï¼Œä¾¿äºç›‘æ§ä»»æ„æ—¶åˆ»åº”ç”¨çš„çŠ¶æ€å’Œè°ƒè¯•åº”ç”¨ï¼Œå‡å°‘å‡ºé”™å¯èƒ½æ€§ã€‚ ä¿æŒåº”ç”¨çŠ¶æ€åªè¯»ä»»ä½•æ—¶åˆ»éƒ½ä¸èƒ½ç›´æ¥ä¿®æ”¹åº”ç”¨çŠ¶æ€ã€‚éœ€è¦ä¿®æ”¹ï¼Œå¿…é¡»å‘é€ä¸€ä¸ªactionï¼Œç”±è¿™ä¸ªactionæè¿°å¦‚ä½•ä¿®æ”¹åº”ç”¨çŠ¶æ€ã€‚ä¿è¯äº†å¤§å‹åº”ç”¨ä¸­çŠ¶æ€ç®¡ç†çš„æœ‰åºè¿›è¡Œã€‚ åº”ç”¨çŠ¶æ€çš„æ”¹å˜é€šè¿‡çº¯å‡½æ•°å®Œæˆactionè¡¨æ˜ä¿®æ”¹åº”ç”¨çŠ¶æ€çš„æ„å›¾ï¼ŒçœŸæ­£å¯¹åº”ç”¨çŠ¶æ€åšä¿®æ”¹çš„æ˜¯reducer reducerå¿…é¡»æ˜¯çº¯å‡½æ•°ï¼Œæ‰€ä»¥reduceråœ¨æ¥æ”¶actionæ—¶ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹åŸæ¥çš„çŠ¶æ€å¯¹è±¡ï¼Œè€Œè¦åˆ›å»ºä¸€ä¸ªæ–°çš„çŠ¶æ€å¯¹è±¡è¿”å›ã€‚ çº¯å‡½æ•°å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ å¯¹äºåŒæ ·çš„å‚æ•°å€¼ï¼Œå‡½æ•°çš„è¿”å›ç»“æœæ€»æ˜¯ç›¸åŒçš„ã€‚å‡½æ•°ç»“æœä¸ä¾èµ–ä»»ä½•åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½æ”¹å˜çš„å˜é‡ã€‚ å‡½æ•°çš„æ‰§è¡Œä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼Œä¾‹å¦‚ä¿®æ”¹å¤–éƒ¨å¯¹è±¡æˆ–è¾“å‡ºåˆ°I/Oè®¾å¤‡ã€‚ ä¸»è¦ç»„æˆaction, reducer, store actionactionæ˜¯Reduxä¸­ä¿¡æ¯çš„è½½ä½“ï¼Œ æ˜¯storeå”¯ä¸€çš„ä¿¡æ¯æ¥æºã€‚actionå‘é€ç»™storeå¿…é¡»é€šè¿‡storeçš„dispatchã€‚ actionæ˜¯æ™®é€šçš„JavaScriptå¯¹è±¡ï¼Œä½†æ¯ä¸ªactionå¿…é¡»æœ‰ä¸€ä¸ªtypeå±æ€§æè¿°actionçš„ç±»å‹ï¼Œä¸€èˆ¬è¢«å®šä¹‰ä¸ºå­—ç¬¦ä¸²å¸¸é‡ã€‚é™¤äº†typeå±æ€§ä¹‹å¤–ï¼Œactionçš„ç»“æ„å®Œå…¨ç”±è‡ªå·±å†³å®šï¼Œä½†åº”è¯¥èƒ½ç¡®ä¿actionçš„ç»“æ„èƒ½æ¸…æ™°çš„æè¿°å®é™…ä¸šåŠ¡åœºæ™¯ã€‚ ä¸€èˆ¬é€šè¿‡action creatoråˆ›å»ºactionï¼Œ action creatoræ˜¯è¿”å›actionçš„å‡½æ•°ã€‚å¦‚ä¸‹ï¼š 123456function addTodo(text) { return { type: 'ADD_TODO', text }} reduceractionç”¨äºæè¿°åº”ç”¨å‘ç”Ÿäº†ä»€ä¹ˆæ“ä½œï¼Œ reduceråˆ™æ ¹æ®actionåšå‡ºå“åº”ï¼Œå†³å®šå¦‚ä½•ä¿®æ”¹state. stateæ—¢å¯ä»¥åŒ…å«æœåŠ¡å™¨ç«¯è·å–çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥åŒ…å«UIçŠ¶æ€ã€‚ æœ€åŸºæœ¬çš„reducer, eg: 123456789101112import { VisibilityFilters } from './acitons'const initialState = { todos: [], visibilityFilter: VisibilityFilters.SHOW_ALL}// reducerfunction todoApp(state = initialState, action) { return state} storestoreæ˜¯actionå’Œreducerä¹‹é—´çš„æ¡¥æ¢ã€‚è´Ÿè´£ä»¥ä¸‹å·¥ä½œï¼š ä¿å­˜åº”ç”¨çŠ¶æ€ é€šè¿‡getStateè®¿é—®åº”ç”¨çŠ¶æ€ é€šè¿‡dispatch(action)å‘é€æ›´æ–°çŠ¶æ€çš„æ„å›¾ é€šè¿‡subscribe(listener)æ³¨å†Œç›‘å¬å‡½æ•°ã€ç›‘å¬åº”ç”¨çŠ¶æ€çš„æ”¹å˜ã€‚ ä¸€ä¸ªReduxåº”ç”¨ä¸­åªæœ‰ä¸€ä¸ªstoreï¼Œstoreä¿å­˜äº†å”¯ä¸€æ•°æ®æºã€‚storeé€šè¿‡createStore()åˆ›å»ºï¼Œåˆ›å»ºæ—¶éœ€è¦ä¼ é€’reducerä½œä¸ºå‚æ•°ï¼Œåˆ›å»ºstoreã€‚ 12345import { createStore } from 'redux'import todoApp from './reducers'let store = createStore(todoApp) æ€»ç»“reduxæ•°æ®æµè¿‡ç¨‹ è°ƒç”¨store.dispatch(action)ã€‚å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨ã€‚åŒ…æ‹¬ç»„ä»¶ï¼ŒXHRå›è°ƒï¼Œå®šæ—¶å™¨ç­‰ã€‚ storeè°ƒç”¨reducerã€‚storeä¼ é€’ä¸¤ä¸ªå‚æ•°ç»™reducerï¼šå½“å‰åº”ç”¨çš„çŠ¶æ€å’Œactionã€‚ æ ¹reducerä¼šæŠŠå¤šä¸ªå­reducerçš„è¿”å›ç»“æœç»„åˆæˆæœ€ç»ˆçš„åº”ç”¨çŠ¶æ€ã€‚reduxæä¾›äº†combineReduceræ–¹ä¾¿ç»„åˆã€‚ storeä¿å­˜æ ¹reducerè¿”å›çš„å®Œæ•´åº”ç”¨çŠ¶æ€ã€‚æ­¤æ—¶åº”ç”¨çŠ¶æ€æ‰å®Œæˆæ›´æ–°ã€‚ react-reduxå±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶æ ¹æ®ç»„ä»¶æ„å›¾çš„ä¸åŒï¼Œå¯ä»¥å°†ç»„ä»¶åˆ’åˆ†ä¸ºä¸¤ç±»ï¼šå±•ç¤ºç»„ä»¶(presentational components)å’Œå®¹å™¨ç»„ä»¶(container components). å±•ç¤ºç»„ä»¶è´Ÿè´£åº”ç”¨çš„UIå±•ç¤º(how things look), å±•ç¤ºç»„ä»¶ä¸å…³å¿ƒæ¸²æŸ“æ—¶ä½¿ç”¨çš„æ•°æ®æ˜¯å¦‚ä½•è·å–çš„ï¼Œæ•°æ®å¦‚ä½•è·å–æ˜¯å®¹å™¨ç»„ä»¶è´Ÿè´£çš„äº‹æƒ…ã€‚ å®¹å™¨ç»„ä»¶è´Ÿè´£åº”ç”¨é€»è¾‘çš„å¤„ç†(how things work), å¦‚å‘é€è¯·æ±‚ï¼Œå¤„ç†è¿”å›æ•°æ®ï¼Œå°†å¤„ç†è¿‡çš„æ•°æ®ä¼ é€’ç»™å±•ç¤ºç»„ä»¶ç­‰ã€‚è¿˜æä¾›ä¿®æ”¹æºæ•°æ®çš„æ–¹æ³•ï¼Œé€šè¿‡å±•ç¤ºç»„ä»¶çš„propsä¼ é€’ç»™å±•ç¤ºç»„ä»¶ï¼Œå½“å±•ç¤ºç»„ä»¶çš„çŠ¶æ€å˜æ›´å¼•èµ·æºæ•°æ®å˜åŒ–æ—¶ï¼Œå±•ç¤ºç»„ä»¶é€šè¿‡è°ƒç”¨å®¹å™¨ç»„ä»¶æä¾›çš„æ–¹æ³•åŒæ­¥è¿™äº›å˜åŒ–ã€‚ å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶å¯ä»¥è‡ªç”±åµŒå¥—ã€‚è¿™æ ·çš„åˆ†å·¥å¯ä»¥ä½¿ä¸UIæ¸²æŸ“æ— ç›´æ¥å…³ç³»çš„ä¸šåŠ¡é€»è¾‘ç”±å®¹å™¨ç»„ä»¶é›†ä¸­è´Ÿè´£ï¼Œå±•ç¤ºç»„ä»¶åªå…³æ³¨UIçš„æ¸²æŸ“é€»è¾‘ï¼Œä»è€Œä½¿å±•ç¤ºç»„ä»¶æ›´å®¹æ˜“è¢«å¤ç”¨ã€‚ å±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶ä¸æ— çŠ¶æ€ç»„ä»¶å’Œæœ‰çŠ¶æ€ç»„ä»¶åŒºåˆ«ï¼šåˆ’åˆ†ä¾æ®ï¼šå±•ç¤ºç»„ä»¶å’Œå®¹å™¨ç»„ä»¶æ˜¯æ ¹æ®ç»„ä»¶çš„æ„å›¾åˆ’åˆ†ç»„ä»¶æ— çŠ¶æ€ç»„ä»¶å’Œæœ‰çŠ¶æ€ç»„ä»¶æ˜¯æ ¹æ®ç»„ä»¶å†…éƒ¨æ˜¯å¦ä½¿ç”¨stateåˆ’åˆ†ç»„ä»¶ã€‚ é€šå¸¸å±•ç¤ºç»„ä»¶æ˜¯é€šè¿‡æ— çŠ¶æ€ç»„ä»¶å®ç°ï¼Œå®¹å™¨ç»„ä»¶é€šè¿‡æœ‰çŠ¶æ€ç»„ä»¶å®ç°ã€‚ä½†å±•ç¤ºç»„ä»¶ä¹Ÿå¯ä»¥æ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼Œå®¹å™¨ç»„ä»¶ä¹Ÿå¯ä»¥æ˜¯æ— çŠ¶æ€ç»„ä»¶ã€‚ connectreact-reduxæä¾›äº†connectå‡½æ•°ï¼Œç”¨äºæŠŠreactç»„ä»¶å’Œreduxçš„storeè¿æ¥èµ·æ¥ï¼Œç”Ÿæˆä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œè´Ÿè´£ç®¡ç†æ•°æ®ç®¡ç†å’Œä¸šåŠ¡é€»è¾‘ã€‚ 12345import { connect } from 'react-redux'import TodoList from './TodoList'const VisibleTodoList = connect()(TodoList); æ ¹æ®Reduxçš„æ•°æ®æµè¿‡ç¨‹ï¼ŒVisibleTodoListéœ€è¦æ‰¿æ‹…ä¸¤ä¸ªå·¥ä½œï¼š ä»Reduxçš„storeä¸­è·å–å±•ç¤ºç»„ä»¶æ‰€éœ€çš„åº”ç”¨çŠ¶æ€ æŠŠå±•ç¤ºç»„ä»¶çš„çŠ¶æ€åŒæ­¥åˆ°Reduxçš„storeä¸­ é€šè¿‡ä¸¤ä¸ªå‚æ•°å®ç° 1234567import { connect } from 'react-redux'import TodoList from './TodoList'const VisibleTodoList = connect( mapStateToProps, mapDispatchToProps)(TodoList); mapStateToProps å’Œ mapDsipatchToProps çš„ç±»å‹éƒ½æ˜¯å‡½æ•°ï¼Œå‰è€…è´Ÿè´£ä»å…¨å±€åº”ç”¨çŠ¶æ€stateä¸­å–å‡ºæ‰€éœ€æ•°æ®ï¼Œæ˜ å°„åˆ°å±•ç¤ºç»„ä»¶çš„propsï¼Œåè€…è´Ÿè´£æŠŠéœ€è¦ç”¨åˆ°çš„actionæ˜ å°„åˆ°å±•ç¤ºç»„ä»¶çš„propsä¸Š mapStateToPropsmapStateToPropsä½œç”¨æ˜¯æŠŠstateè½¬æ¢æˆpropsã€‚stateæ˜¯storeä¸­ä¿å­˜çš„åº”ç”¨çŠ¶æ€ï¼Œä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™mapStateToPropsï¼Œpropsæ˜¯è¢«è¿æ¥çš„å±•ç¤ºç»„ä»¶çš„propsã€‚ æ¯å½“storeä¸­çš„stateæ›´æ–°æ—¶ï¼ŒmapStateToPropsä¼šé‡æ–°æ‰§è¡Œï¼Œé‡æ–°è®¡ç®—ä¼ é€’ç»™å±•ç¤ºç»„ä»¶çš„propsï¼Œä»è€Œè§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚ storeä¸­çš„stateæ›´æ–°ä¸€å®šä¼šå¯¼è‡´mapStateToPropsé‡æ–°æ‰§è¡Œï¼Œä½†ä¸ä¸€å®šä¼šè§¦å‘ç»„ä»¶renderæ–¹æ³•çš„é‡æ–°æ‰§è¡Œã€‚å¦‚æœmapStateToPropsæ–°è¿”å›çš„å¯¹è±¡å’Œä¹‹å‰çš„å¯¹è±¡æµ…æ¯”è¾ƒ(shallow comparison)ç›¸ç­‰ï¼Œç»„ä»¶çš„shouldComponentUpdateä¼šè¿”å›falseï¼Œrenderä¸å†è§¦å‘ã€‚ connectå¯ä»¥çœç•¥mapStateToPropså‚æ•°ï¼Œè¿™æ ·stateçš„æ›´æ–°å°±ä¸ä¼šå¼•èµ·ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚ mapStateToPropsé™¤äº†æ¥æ”¶stateå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°ï¼Œä»£è¡¨å®¹å™¨ç»„ä»¶çš„propså¯¹è±¡ 12345// ownProps æ˜¯ç»„ä»¶çš„propså¯¹è±¡function mapStateToProps(state, ownProps) { //...} mapDispatchToPropsï¼ï¼ï¼ï¼å®¹å™¨ç»„ä»¶é™¤äº†å¯ä»¥ä»stateä¸­è¯»å–æ•°æ®å¤–ï¼Œè¿˜å¯ä»¥å‘é€actionæ›´æ–°stateï¼Œè¿™ä¾èµ–äºconnectçš„ç¬¬äºŒä¸ªå‚æ•° mapDispatchToProps. mapDispatchToProps æ¥æ”¶ store.dispatch æ–¹æ³•ä½œä¸ºå‚æ•°è¿”å›å±•ç¤ºç»„ä»¶ç”¨æ¥ä¿®æ”¹stateçš„å‡½æ•°ã€‚ 12345678910111213// toggleTodo(id) è¿”å›ä¸€ä¸ªactionfunction toggleTodo(id) { return {type: 'TOGGLE_TODO', id}}function mapDispatchToProps(dispatch) { return { onTodoClick: funciton(id) { dispatch(toggleTodo(id)) } }} è¿™æ ·å±•ç¤ºç»„ä»¶å†…å°±å¯ä»¥è°ƒç”¨ this.props.onTodoClick(id) çš„actionã€‚ä¸mapStateToPropsç›¸åŒï¼ŒmapDispatchToPropsä¹Ÿæ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œä»£è¡¨å®¹å™¨ç»„ä»¶çš„propsã€‚ Providerç»„ä»¶é€šè¿‡connectå‡½æ•°åˆ›å»ºå‡ºå®¹å™¨ç»„ä»¶ï¼Œä½†è¿™ä¸ªå®¹å™¨ç»„ä»¶å¦‚ä½•è·å–åˆ°Reduxçš„storeï¼Ÿreact-reduxæä¾›äº†Providerç»„ä»¶ï¼Œç¤ºæ„ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516class Provider extends Component { getChildContext() { return { store: this.props.store }; } render() { return this.props.children; }}Provider.childContextTypes = { store: React.PropTypes.object} Providerç»„ä»¶éœ€è¦æ¥æ”¶ä¸€ä¸ªstoreå±æ€§ï¼Œç„¶åæŠŠstoreä¿å­˜åˆ°contextã€‚Providerç»„ä»¶æ­£æ˜¯é€šè¿‡contextæŠŠstoreä¼ é€’ç»™å­ç»„ä»¶ï¼Œæ‰€ä»¥ä½¿ç”¨Providerç»„ä»¶æ—¶ï¼Œä¸€èˆ¬æŠŠå®ƒä½œä¸ºæ ¹ç»„ä»¶ï¼Œè¿™æ ·å†…å±‚çš„ä»»æ„ç»„ä»¶æ‰å¯ä»¥ä»contextä¸­è·å–storeå¯¹è±¡ã€‚ 1234567891011121314import {createStore} from 'redux'import {Provider} from 'react-redux'import todoApp from './reducers'import App from './components/App'let store = createStore(todoApp);render( &lt;Provider store={store}&gt; &lt;App /&gt; &lt;/Provider&gt;, document.getElementById('root')) ä¸­é—´ä»¶ä¸å¼‚æ­¥æ“ä½œä¸­é—´ä»¶reduxçš„actionç±»æ¯”webæ¡†æ¶æ”¶åˆ°çš„è¯·æ±‚ï¼Œreducerç±»æ¯”webæ¡†æ¶çš„ä¸šåŠ¡é€»è¾‘å±‚ï¼Œå› æ­¤reduxçš„ä¸­é—´ä»¶ä»£è¡¨actionåœ¨åˆ°è¾¾reducerå‰ç»è¿‡çš„å¤„ç†ç¨‹åºã€‚ å®é™…ä¸Šï¼Œä¸€ä¸ªreduxä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚reduxä¸­é—´ä»¶å¢å¼ºäº†storeçš„åŠŸèƒ½ï¼Œå¯ä»¥åˆ©ç”¨ä¸­é—´ä»¶ä¸ºactionæ·»åŠ ä¸€äº›é€šç”¨åŠŸèƒ½ï¼Œå¦‚æ—¥å¿—è¾“å‡ºï¼Œå¼‚å¸¸æ•è·ç­‰ã€‚ é€šè¿‡æ”¹é€  store.dispatch å¢åŠ æ—¥å¿—è¾“å‡ºåŠŸèƒ½ï¼š 123456789let next = store.dispatchstore.dispatch = function dispatchAndLog(action) { console.log('dispatching', action) let result = next(action) console.log('next state', store.getState()) return result} é€šè¿‡é‡æ–°å®šä¹‰store.dispatchï¼Œåœ¨å‘é€actionå‰åéƒ½æ·»åŠ äº†æ—¥å¿—è¾“å‡ºï¼Œè¿™å°±æ˜¯ä¸­é—´ä»¶çš„é›å½¢ã€‚ å¯¹store.dispatchæ–¹æ³•è¿›è¡Œæç³Ÿï¼Œåœ¨å‘å‡ºactionå’Œæ‰§è¡Œ reducer è¿™ä¸¤æ­¥ä¹‹é—´æ·»åŠ å…¶ä»–åŠŸèƒ½ã€‚ å®é™…é¡¹ç›®ä¸­é€šå¸¸ä½¿ç”¨åˆ«äººç›´æ¥å†™å¥½çš„ä¸­é—´ä»¶ã€‚å¦‚redux-logger. åœ¨åº”ç”¨ä¸­ä¼šç”¨åˆ°applyMiddlewareã€‚é€šè¿‡applyMiddlewareå°†ä¸­é—´ä»¶loggerä¼ ç»™createStore, å®Œæˆstore.dispatchåŠŸèƒ½çš„åŠ å¼ºã€‚ applyMiddlewareæŠŠæ¥æ”¶åˆ°çš„ä¸­é—´ä»¶æ”¾å…¥æ•°ç»„chainä¸­ï¼Œé€šè¿‡compose(â€¦chain)(store.dispatch)å®šä¹‰åŠ å¼ºç‰ˆçš„dispatchã€‚ composeæ˜¯å·¥å…·å‡½æ•°ï¼Œcompose(f, g, h)ç­‰ä»·äº (â€¦args)=&gt;f(g(h(args))). æ¯ä¸ªä¸­é—´ä»¶éƒ½æ¥æ”¶ä¸€ä¸ªåŒ…å«getStateå’Œdispatchçš„å‚æ•°å¯¹è±¡ï¼Œåœ¨åˆ©ç”¨ä¸­é—´ä»¶æ‰§è¡Œå¼‚æ­¥æ“ä½œæ—¶ï¼Œä¼šç”¨åˆ°è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ å¼‚æ­¥æ“ä½œreduxä¸­çš„å¼‚æ­¥æ“ä½œå¿…é¡»å€ŸåŠ©ä¸­é—´ä»¶å®Œæˆã€‚ redux-thunkæ˜¯å¤„ç†å¼‚æ­¥æ“ä½œæœ€å¸¸ç”¨çš„ä¸­é—´ä»¶ã€‚ store.dispatch åªèƒ½æ¥æ”¶æ™®é€šJavaScriptå¯¹è±¡ä»£è¡¨çš„actionï¼Œä½¿ç”¨redux-thunkï¼Œstore.dispatch å°±èƒ½æ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°äº†ã€‚å¼‚æ­¥actionå…ˆç»è¿‡redux-thunkçš„å¤„ç†ï¼Œå½“è¯·æ±‚è¿”å›åï¼Œå†å‘é€ä¸€ä¸ªaction: dispatch({type: â€˜RECEIVE_DATAâ€™, json}), æŠŠè¿”å›çš„æ•°æ®å‘é€å‡ºå»ï¼Œè¿™æ—¶çš„actionå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„JavaScriptå¯¹è±¡äº†ï¼Œå¤„ç†æµç¨‹å’Œä¸ä½¿ç”¨ä¸­é—´ä»¶æµç¨‹ä¸€æ ·ã€‚ å¸¸ç”¨ä¸­é—´ä»¶ redux-promise, redux-sageç­‰ã€‚ å°ç»“æœ¬ç« è¯¦ç»†ä»‹ç»äº†reduxæ¶æ„ä»¥åŠReduxå„ç»„æˆéƒ¨åˆ†(action, reducer, store)ï¼Œåœ¨reacté¡¹ç›®ä¸­ä½¿ç”¨reduxéœ€è¦å€ŸåŠ©react-reduxï¼Œå¯ä»¥æ–¹ä¾¿çš„å°†reactç»„ä»¶å’Œreduxçš„storeè¿æ¥ã€‚ä¸­é—´ä»¶æ˜¯reduxçš„ä¸€å¤§åˆ©å™¨ï¼Œreduxä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œå°±æ˜¯é€šè¿‡å¼•å…¥ä¸­é—´ä»¶å®ç°çš„ã€‚ reduxå®æˆ˜ç»éªŒè®¾è®¡stateè®¾è®¡stateå®¹æ˜“çŠ¯çš„ä¸¤ä¸ªé”™è¯¯ï¼š ä»¥APIä½œä¸ºè®¾è®¡stateçš„ä¾æ®ä»¥APIä½œä¸ºè®¾è®¡stateçš„ä¾æ®å¾€å¾€æ˜¯ä¸€ä¸ªAPIå¯¹åº”å…¨å±€stateä¸­çš„ä¸€éƒ¨åˆ†ç»“æ„ï¼Œä¸”è¿™éƒ¨åˆ†ç»“æ„åŒAPIè¿”å›çš„æ•°æ®ç»“æ„ä¿æŒä¸€è‡´æˆ–æ¥è¿‘ä¸€è‡´ã€‚ å› ä¸ºAPIæ˜¯åŸºäºæœåŠ¡ç«¯é€»è¾‘è®¾è®¡çš„ï¼Œè€Œä¸æ˜¯åŸºäºåº”ç”¨çŠ¶æ€è®¾è®¡çš„ã€‚ ä»¥é¡µé¢UIä¸ºè®¾è®¡stateçš„ä¾æ®åŸºäºé¡µé¢UIè®¾è®¡state ã€‚é¡µé¢UIéœ€è¦ä»€ä¹ˆæ ·çš„æ•°æ®å’Œæ•°æ®ç»“æ„ï¼Œstateå°±è®¾è®¡æˆä»€ä¹ˆæ ·ã€‚ åˆç†è®¾è®¡stateæœ€é‡è¦ä¸€å¥è¯ï¼šåƒè®¾è®¡æ•°æ®åº“ä¸€æ ·è®¾è®¡stateã€‚ æŠŠstateçœ‹åšä¸€ä¸ªæ•°æ®åº“ï¼Œstateä¸­çš„æ¯ä¸€éƒ¨åˆ†çŠ¶æ€çœ‹åšæ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ï¼ŒçŠ¶æ€ä¸­æ¯ä¸ªå­—æ®µå¯¹åº”è¡¨çš„ä¸€ä¸ªå­—æ®µã€‚ è®¾è®¡æ•°æ®åº“éµå¾ªä¸‰ä¸ªåŸåˆ™ï¼š æ•°æ®æŒ‰ç…§é¢†åŸŸ(Domain)åˆ†ç±»å­˜å‚¨åœ¨ä¸åŒçš„è¡¨ä¸­ï¼Œä¸åŒè¡¨ä¸­å­˜å‚¨çš„åˆ—æ•°æ®ä¸èƒ½é‡å¤ è¡¨ä¸­æ¯ä¸€åˆ—çš„æ•°æ®éƒ½ä¾èµ–äºè¿™å¼ è¡¨çš„ä¸»é”® è¡¨ä¸­é™¤äº†ä¸»é”®ä»¥å¤–å…¶ä»–åˆ—äº’ç›¸ä¹‹é—´ä¸èƒ½æœ‰ç›´æ¥ä¾èµ–å…³ç³» å¯¹ç…§ä»¥ä¸Šä¸‰ä¸ªåŸåˆ™ï¼Œè®¾è®¡stateåŸåˆ™ï¼š æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€æŒ‰ç…§é¢†åŸŸåˆ†æˆè‹¥å¹²å­çŠ¶æ€ï¼Œå­çŠ¶æ€ä¹‹é—´ä¸èƒ½ä¿å­˜é‡å¤çš„æ•°æ® stateä»¥é”®å€¼å¯¹çš„ç»“æ„å­˜å‚¨æ•°æ®ï¼Œä»¥è®°å½•çš„keyæ´»IDä½œä¸ºè®°å½•ç´¢å¼•ï¼Œè®°å½•ä¸­çš„å…¶ä»–å­—æ®µéƒ½ä¾èµ–äºç´¢å¼• stateä¸­ä¸èƒ½ä¿å­˜å¯ä»¥é€šè¿‡stateä¸­çš„å·²æœ‰å­—æ®µè®¡ç®—è€Œæ¥çš„æ•°æ®ï¼Œå³stateä¸­çš„å­—æ®µä¸äº’ç›¸ä¾èµ–ã€‚ æœ‰å¼€å‘è€…ä¹ æƒ¯æŠŠUIçŠ¶æ€æ•°æ®ä¿å­˜åœ¨ç»„ä»¶stateä¸­ï¼Œç”±ç»„ä»¶è‡ªå·±ç®¡ç†ï¼Œè€Œä¸æ˜¯äº¤ç»™Reduxç®¡ç†ã€‚ä½†å°†UIçŠ¶æ€æ•°æ®ä¹Ÿäº¤ç»™reduxç»Ÿä¸€ç®¡ç†æœ‰åˆ©äºåº”ç”¨UIçŠ¶æ€çš„è¿½æº¯ã€‚ è®¾è®¡æ¨¡å—å®šä¹‰æ¨¡å—ä¸èƒ½åªè¢«UIç»„ä»¶ä½¿ç”¨ï¼Œå„ä¸ªæ¨¡å—ä¹‹é—´ä¹Ÿå¯ä»¥äº’ç›¸è°ƒç”¨ actionå’Œreducerä¹‹é—´å¹¶ä¸å­˜åœ¨ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚ä¸€ä¸ªactionå¯ä»¥è¢«å¤šä¸ªæ¨¡å—çš„reducerå¤„ç†ï¼Œå°¤å…¶æ˜¯å¤šä¸ªæ¨¡å—ä¹‹é—´å­˜åœ¨å…³è”å…³ç³»æ—¶ã€‚ è‰¯å¥½çš„æ¨¡å—è®¾è®¡å¯¹å¤–æš´éœ²çš„åº”è¯¥æ˜¯æ¨¡å—çš„æ¥å£ï¼Œè€Œä¸æ˜¯æ¨¡å—çš„å…·ä½“ç»“æ„ æ€§èƒ½ä¼˜åŒ–","link":"/posts/React%E8%BF%9B%E9%98%B6%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"title":"åå¤§ç»å…¸æ’åºç®—æ³•æ€»ç»“ï¼ˆJavaScriptæè¿°ï¼‰","text":"======================== sså‰è¨€ è¿™ä¸–ç•Œä¸Šæ€»å­˜åœ¨ç€é‚£ä¹ˆä¸€äº›çœ‹ä¼¼ç›¸ä¼¼ä½†æœ‰å®Œå…¨ä¸åŒçš„ä¸œè¥¿ï¼Œæ¯”å¦‚é›·é”‹å’Œé›·å³°å¡”ï¼Œå°å¹³å’Œå°å¹³å¤´ï¼Œç›ä¸½å’Œé©¬é‡Œå¥¥ï¼ŒJavaå’Œjavascriptâ€¦.å½“å¹´javascriptä¸ºäº†æŠ±Javaå¤§è…¿æ¬ä¸çŸ¥è€»çš„è®©è‡ªå·±å˜æˆäº†Javaçš„å¹²å„¿å­ï¼Œå“¦ï¼Œä¸æ˜¯åº”è¯¥æ˜¯è·ªèˆ”ï¼Œæ¯•ç«Ÿéƒ½è·Ÿäº†Javaçš„å§“äº†ã€‚å¯å¦‚ä»Šï¼Œjavascriptæ¥äº†ä¸ªå’¸é±¼ç¿»èº«ï¼Œå‡ ä¹è¦ç»Ÿæ²»webé¢†åŸŸï¼ŒNodejsï¼ŒReact Nativeçš„å‡ºç°ä½¿å¾—javascriptåœ¨åç«¯å’Œç§»åŠ¨ç«¯éƒ½å¼€å§‹å æœ‰äº†ä¸€å¸­ä¹‹åœ°ã€‚å¯ä»¥è¿™ä¹ˆè¯´,åœ¨Webçš„æ±Ÿæ¹–ï¼ŒJavaScriptå¯è°“é£å¤´æ— ä¸¤ï¼Œå·²ç»åä¸Šäº†å¤´æŠŠäº¤æ¤…ã€‚ åœ¨ä¼ ç»Ÿçš„è®¡ç®—æœºç®—æ³•å’Œæ•°æ®ç»“æ„é¢†åŸŸï¼Œå¤§å¤šæ•°ä¸“ä¸šæ•™æå’Œä¹¦ç±çš„é»˜è®¤è¯­è¨€éƒ½æ˜¯Javaæˆ–è€…C/C+ +ï¼ŒOâ€™REILLYå®¶å€’æ˜¯å‡ºäº†ä¸€æœ¬å«åšã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•javascriptæè¿°ã€‹çš„ä¹¦ï¼Œä½†ä¸å¾—ä¸è¯´ï¼Œä¸çŸ¥é“æ˜¯ä½œè€…åƒäº†shitè¿˜æ˜¯è¯‘è€…æ ¹æœ¬å°±æ²¡æ ¡å¯¹ï¼Œæ»¡ä¹¦çš„å°é”™è¯¯ï¼Œè¿™å°±åƒé‚£ç§æ— ç©·æ— å°½çš„å°bugä¸€æ ·,ç®€ç›´å°±æ˜¯è®©äººæœ‰ç§å˜´é‡Œå¡æ»¡äº†shitçš„æ„Ÿè§‰ï¼Œåä¹Ÿä¸æ˜¯å’½ä¸‹å»ä¹Ÿä¸æ˜¯ã€‚å¯¹äºä¸€ä¸ªå‰ç«¯æ¥è¯´ï¼Œå°¤å…¶æ˜¯ç¬”è¯•é¢è¯•çš„æ—¶å€™ï¼Œç®—æ³•æ–¹é¢è€ƒçš„å…¶å®ä¸éš¾ï¼ˆåå¤§æ’åºç®—æ³•æˆ–æ˜¯å’Œåå¤§æ’åºç®—æ³•åŒç­‰éš¾åº¦çš„ï¼‰ï¼Œä½†å°±æ˜¯ä¹‹å‰æ²¡ç”¨javascriptå®ç°è¿‡æˆ–æ˜¯æ²¡ä»”ç»†çœ‹è¿‡ç›¸å…³ç®—æ³•çš„åŸç†ï¼Œå¯¼è‡´å†™èµ·æ¥æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚æ‰€ä»¥æ’¸ä¸€æ’¸è¢–å­å†³å®šè‡ªå·±æŸ¥èµ„æ–™è‡ªå·±æ€»ç»“ä¸€ç¯‡åšå®¢ç­‰ç”¨åˆ°äº†ç›´æ¥çœ‹è‡ªå·±çš„åšå®¢å°±OKäº†ï¼Œæ­£æ‰€è°“é å¤©é åœ°é å¤§ç‰›ä¸å¦‚é è‡ªå·±(Ë‰(âˆ)Ë‰)ã€‚ ç®—æ³•çš„ç”±æ¥ï¼š9ä¸–çºªæ³¢æ–¯æ•°å­¦å®¶æå‡ºçš„ï¼šâ€œal-Khowarizmiâ€å°±æ˜¯ä¸‹å›¾è¿™è´§ï¼ˆæ„Ÿè§‰é‡è¦æ•°å­¦å…ƒç´ æå‡ºè€…è²Œä¼¼éƒ½æˆ´äº†é¡¶ç™½å¸½å­ï¼‰ï¼Œå¼€ä¸ªç©ç¬‘ï¼Œé˜¿æ‹‰ä¼¯äººå¯¹äºæ•°å­¦å²çš„è´¡çŒ®è¿˜æ˜¯å€¼å¾—äººæ•¬ä½©çš„ã€‚ æ­£æ–‡æ’åºç®—æ³•è¯´æ˜ï¼ˆ1ï¼‰æ’åºçš„å®šä¹‰ï¼šå¯¹ä¸€åºåˆ—å¯¹è±¡æ ¹æ®æŸä¸ªå…³é”®å­—è¿›è¡Œæ’åºï¼› è¾“å…¥ï¼šnä¸ªæ•°ï¼ša1,a2,a3,â€¦,an è¾“å‡ºï¼šnä¸ªæ•°çš„æ’åˆ—:a1â€™,a2â€™,a3â€™,â€¦,anâ€™ï¼Œä½¿å¾—a1â€™&lt;=a2â€™&lt;=a3â€™&lt;=â€¦&lt;=anâ€™ã€‚ å†è®²çš„å½¢è±¡ç‚¹å°±æ˜¯æ’æ’åï¼Œè°ƒåº§ä½ï¼Œé«˜çš„ç«™åœ¨åé¢ï¼ŒçŸ®çš„ç«™åœ¨å‰é¢å’¯ã€‚ ï¼ˆ3ï¼‰å¯¹äºè¯„è¿°ç®—æ³•ä¼˜åŠ£æœ¯è¯­çš„è¯´æ˜ ç¨³å®šï¼šå¦‚æœaåŸæœ¬åœ¨bå‰é¢ï¼Œè€Œa=bï¼Œæ’åºä¹‹åaä»ç„¶åœ¨bçš„å‰é¢ï¼› ä¸ç¨³å®šï¼šå¦‚æœaåŸæœ¬åœ¨bçš„å‰é¢ï¼Œè€Œa=bï¼Œæ’åºä¹‹åaå¯èƒ½ä¼šå‡ºç°åœ¨bçš„åé¢ï¼› å†…æ’åºï¼šæ‰€æœ‰æ’åºæ“ä½œéƒ½åœ¨å†…å­˜ä¸­å®Œæˆï¼› å¤–æ’åºï¼šç”±äºæ•°æ®å¤ªå¤§ï¼Œå› æ­¤æŠŠæ•°æ®æ”¾åœ¨ç£ç›˜ä¸­ï¼Œè€Œæ’åºé€šè¿‡ç£ç›˜å’Œå†…å­˜çš„æ•°æ®ä¼ è¾“æ‰èƒ½è¿›è¡Œï¼› æ—¶é—´å¤æ‚åº¦: ä¸€ä¸ªç®—æ³•æ‰§è¡Œæ‰€è€—è´¹çš„æ—¶é—´ã€‚ ç©ºé—´å¤æ‚åº¦: è¿è¡Œå®Œä¸€ä¸ªç¨‹åºæ‰€éœ€å†…å­˜çš„å¤§å°ã€‚ å…³äºæ—¶é—´ç©ºé—´å¤æ‚åº¦çš„æ›´å¤šäº†è§£è¯·æˆ³è¿™é‡Œï¼Œæˆ–æ˜¯çœ‹ä¹¦ç¨‹æ°å¤§å¤§ç¼–å†™çš„ã€Šå¤§è¯æ•°æ®ç»“æ„ã€‹è¿˜æ˜¯å¾ˆèµçš„ï¼Œé€šä¿—æ˜“æ‡‚ã€‚ ï¼ˆ4ï¼‰æ’åºç®—æ³•å›¾ç‰‡æ€»ç»“(å›¾ç‰‡æ¥æºäºç½‘ç»œ): æ’åºå¯¹æ¯”ï¼š å›¾ç‰‡åè¯è§£é‡Šï¼š n: æ•°æ®è§„æ¨¡ k:â€œæ¡¶â€çš„ä¸ªæ•° In-place: å ç”¨å¸¸æ•°å†…å­˜ï¼Œä¸å ç”¨é¢å¤–å†…å­˜ Out-place: å ç”¨é¢å¤–å†…å­˜ æ’åºåˆ†ç±»ï¼š 1.å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰ å¥½çš„ï¼Œå¼€å§‹æ€»ç»“ç¬¬ä¸€ä¸ªæ’åºç®—æ³•ï¼Œå†’æ³¡æ’åºã€‚æˆ‘æƒ³å¯¹äºå®ƒæ¯ä¸ªå­¦è¿‡Cè¯­è¨€çš„éƒ½ä¼šäº†è§£çš„å§ï¼Œè¿™å¯èƒ½æ˜¯å¾ˆå¤šäººæ¥è§¦çš„ç¬¬ä¸€ä¸ªæ’åºç®—æ³•ã€‚ (1)ç®—æ³•æè¿° å†’æ³¡æ’åºæ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚ (2)ç®—æ³•æè¿°å’Œå®ç°å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š &lt;1&gt;.æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ªï¼› &lt;2&gt;.å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°ï¼› &lt;3&gt;.é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªï¼› &lt;4&gt;.é‡å¤æ­¥éª¤1~3ï¼Œç›´åˆ°æ’åºå®Œæˆã€‚ JavaScriptä»£ç å®ç°ï¼š function bubbleSort(arr) { var len = arr.length; for (var i = 0; i &lt; len; i++) { for (var j = 0; j &lt; len - 1 - i; j++) { if (arr[j] &gt; arr[j+1]) { //ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯” var temp = arr[j+1]; //å…ƒç´ äº¤æ¢ arr[j+1] = arr[j]; arr[j] = temp; } } } return arr; } var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(bubbleSort(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] å¤åˆ¶ä»£ç  **æ”¹è¿›å†’æ³¡æ’åºï¼š **è®¾ç½®ä¸€æ ‡å¿—æ€§å˜é‡pos,ç”¨äºè®°å½•æ¯è¶Ÿæ’åºä¸­æœ€åä¸€æ¬¡è¿›è¡Œäº¤æ¢çš„ä½ç½®ã€‚ç”±äºposä½ç½®ä¹‹åçš„è®°å½•å‡å·²äº¤æ¢åˆ°ä½,æ•…åœ¨è¿›è¡Œä¸‹ä¸€è¶Ÿæ’åºæ—¶åªè¦æ‰«æåˆ°posä½ç½®å³å¯ã€‚ æ”¹è¿›åç®—æ³•å¦‚ä¸‹: function bubbleSort2(arr) { console.time('æ”¹è¿›åå†’æ³¡æ’åºè€—æ—¶'); var i = arr.length-1; //åˆå§‹æ—¶,æœ€åä½ç½®ä¿æŒä¸å˜ while ( i&gt; 0) { var pos= 0; //æ¯è¶Ÿå¼€å§‹æ—¶,æ— è®°å½•äº¤æ¢ for (var j= 0; j&lt; i; j++) if (arr[j]&gt; arr[j+1]) { pos= j; //è®°å½•äº¤æ¢çš„ä½ç½® var tmp = arr[j]; arr[j]=arr[j+1];arr[j+1]=tmp; } i= pos; //ä¸ºä¸‹ä¸€è¶Ÿæ’åºä½œå‡†å¤‡ } console.timeEnd('æ”¹è¿›åå†’æ³¡æ’åºè€—æ—¶'); return arr; } var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(bubbleSort2(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] å¤åˆ¶ä»£ç  ä¼ ç»Ÿå†’æ³¡æ’åºä¸­æ¯ä¸€è¶Ÿæ’åºæ“ä½œåªèƒ½æ‰¾åˆ°ä¸€ä¸ªæœ€å¤§å€¼æˆ–æœ€å°å€¼,æˆ‘ä»¬è€ƒè™‘åˆ©ç”¨åœ¨æ¯è¶Ÿæ’åºä¸­è¿›è¡Œæ­£å‘å’Œåå‘ä¸¤éå†’æ³¡çš„æ–¹æ³•ä¸€æ¬¡å¯ä»¥å¾—åˆ°ä¸¤ä¸ªæœ€ç»ˆå€¼(æœ€å¤§è€…å’Œæœ€å°è€…) , ä»è€Œä½¿æ’åºè¶Ÿæ•°å‡ ä¹å‡å°‘äº†ä¸€åŠã€‚ æ”¹è¿›åçš„ç®—æ³•å®ç°ä¸º: function bubbleSort3(arr3) { var low = 0; var high= arr.length-1; //è®¾ç½®å˜é‡çš„åˆå§‹å€¼ var tmp,j; console.time('2.æ”¹è¿›åå†’æ³¡æ’åºè€—æ—¶'); while (low &lt; high) { for (j= low; j&lt; high; ++j) //æ­£å‘å†’æ³¡,æ‰¾åˆ°æœ€å¤§è€… if (arr[j]&gt; arr[j+1]) { tmp = arr[j]; arr[j]=arr[j+1];arr[j+1]=tmp; } --high; //ä¿®æ”¹highå€¼, å‰ç§»ä¸€ä½ for (j=high; j&gt;low; --j) //åå‘å†’æ³¡,æ‰¾åˆ°æœ€å°è€… if (arr[j]&lt;arr[j-1]) { tmp = arr[j]; arr[j]=arr[j-1];arr[j-1]=tmp; } ++low; //ä¿®æ”¹lowå€¼,åç§»ä¸€ä½ } console.timeEnd('2.æ”¹è¿›åå†’æ³¡æ’åºè€—æ—¶'); return arr3; } var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(bubbleSort3(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] å¤åˆ¶ä»£ç  ä¸‰ç§æ–¹æ³•è€—æ—¶å¯¹æ¯”ï¼š ç”±å›¾å¯ä»¥çœ‹å‡ºæ”¹è¿›åçš„å†’æ³¡æ’åºæ˜æ˜¾çš„æ—¶é—´å¤æ‚åº¦æ›´ä½ï¼Œè€—æ—¶æ›´çŸ­äº†ã€‚è¯»è€…è‡ªè¡Œå°è¯•å¯ä»¥æˆ³è¿™ï¼Œåšä¸»åœ¨githubå»ºäº†ä¸ªåº“ï¼Œè¯»è€…å¯ä»¥Cloneä¸‹æ¥æœ¬åœ°å°è¯•ã€‚æ­¤åšæ–‡é…åˆæºç ä½“éªŒæ›´æ£’å“¦~~~ å†’æ³¡æ’åºåŠ¨å›¾æ¼”ç¤º: (3)ç®—æ³•åˆ†æ æœ€ä½³æƒ…å†µï¼šT(n) = O(n) å½“è¾“å…¥çš„æ•°æ®å·²ç»æ˜¯æ­£åºæ—¶ï¼ˆéƒ½å·²ç»æ˜¯æ­£åºäº†ï¼Œä¸ºæ¯›ä½•å¿…è¿˜æ’åºå‘¢â€¦.ï¼‰ æœ€å·®æƒ…å†µï¼šT(n) = O(n2) å½“è¾“å…¥çš„æ•°æ®æ˜¯ååºæ—¶(å§æ§½ï¼Œæˆ‘ç›´æ¥ååºä¸å°±å®Œäº†â€¦.) å¹³å‡æƒ…å†µï¼šT(n) = O(n2) 2.é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰ è¡¨ç°æœ€ç¨³å®šçš„æ’åºç®—æ³•ä¹‹ä¸€(è¿™ä¸ªç¨³å®šä¸æ˜¯æŒ‡ç®—æ³•å±‚é¢ä¸Šçš„ç¨³å®šå“ˆï¼Œç›¸ä¿¡èªæ˜çš„ä½ èƒ½æ˜ç™½æˆ‘è¯´çš„æ„æ€2333)ï¼Œå› ä¸ºæ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯O(nÂ²)çš„æ—¶é—´å¤æ‚åº¦â€¦..æ‰€ä»¥ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œæ•°æ®è§„æ¨¡è¶Šå°è¶Šå¥½ã€‚å”¯ä¸€çš„å¥½å¤„å¯èƒ½å°±æ˜¯ä¸å ç”¨é¢å¤–çš„å†…å­˜ç©ºé—´äº†å§ã€‚ç†è®ºä¸Šè®²ï¼Œé€‰æ‹©æ’åºå¯èƒ½ä¹Ÿæ˜¯å¹³æ—¶æ’åºä¸€èˆ¬äººæƒ³åˆ°çš„æœ€å¤šçš„æ’åºæ–¹æ³•äº†å§ã€‚ (1)ç®—æ³•ç®€ä»‹ é€‰æ‹©æ’åº(Selection-sort)æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†ï¼šé¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚ (2)ç®—æ³•æè¿°å’Œå®ç°nä¸ªè®°å½•çš„ç›´æ¥é€‰æ‹©æ’åºå¯ç»è¿‡n-1è¶Ÿç›´æ¥é€‰æ‹©æ’åºå¾—åˆ°æœ‰åºç»“æœã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š &lt;1&gt;.åˆå§‹çŠ¶æ€ï¼šæ— åºåŒºä¸ºR[1..n]ï¼Œæœ‰åºåŒºä¸ºç©ºï¼› &lt;2&gt;.ç¬¬iè¶Ÿæ’åº(i=1,2,3â€¦n-1)å¼€å§‹æ—¶ï¼Œå½“å‰æœ‰åºåŒºå’Œæ— åºåŒºåˆ†åˆ«ä¸ºR[1..i-1]å’ŒR(i..nï¼‰ã€‚è¯¥è¶Ÿæ’åºä»å½“å‰æ— åºåŒºä¸­-é€‰å‡ºå…³é”®å­—æœ€å°çš„è®°å½• R[k]ï¼Œå°†å®ƒä¸æ— åºåŒºçš„ç¬¬1ä¸ªè®°å½•Räº¤æ¢ï¼Œä½¿R[1..i]å’ŒR[i+1..n)åˆ†åˆ«å˜ä¸ºè®°å½•ä¸ªæ•°å¢åŠ 1ä¸ªçš„æ–°æœ‰åºåŒºå’Œè®°å½•ä¸ªæ•°å‡å°‘1ä¸ªçš„æ–°æ— åºåŒºï¼› &lt;3&gt;.n-1è¶Ÿç»“æŸï¼Œæ•°ç»„æœ‰åºåŒ–äº†ã€‚ Javascriptä»£ç å®ç°: function selectionSort(arr) { var len = arr.length; var minIndex, temp; console.time('é€‰æ‹©æ’åºè€—æ—¶'); for (var i = 0; i &lt; len - 1; i++) { minIndex = i; for (var j = i + 1; j &lt; len; j++) { if (arr[j] &lt; arr[minIndex]) { //å¯»æ‰¾æœ€å°çš„æ•° minIndex = j; //å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜ } } temp = arr[i]; arr[i] = arr[minIndex]; arr[minIndex] = temp; } console.timeEnd('é€‰æ‹©æ’åºè€—æ—¶'); return arr; } var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(selectionSort(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] å¤åˆ¶ä»£ç  é€‰æ‹©æ’åºåŠ¨å›¾æ¼”ç¤ºï¼š (3)ç®—æ³•åˆ†æ æœ€ä½³æƒ…å†µï¼šT(n) = O(n2) æœ€å·®æƒ…å†µï¼šT(n) = O(n2) å¹³å‡æƒ…å†µï¼šT(n) = O(n2) 3.æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰ æ’å…¥æ’åºçš„ä»£ç å®ç°è™½ç„¶æ²¡æœ‰å†’æ³¡æ’åºå’Œé€‰æ‹©æ’åºé‚£ä¹ˆç®€å•ç²—æš´ï¼Œä½†å®ƒçš„åŸç†åº”è¯¥æ˜¯æœ€å®¹æ˜“ç†è§£çš„äº†ï¼Œå› ä¸ºåªè¦æ‰“è¿‡æ‰‘å…‹ç‰Œçš„äººéƒ½åº”è¯¥èƒ½å¤Ÿç§’æ‡‚ã€‚å½“ç„¶ï¼Œå¦‚æœä½ è¯´ä½ æ‰“æ‰‘å…‹ç‰Œæ‘¸ç‰Œçš„æ—¶å€™ä»æ¥ä¸æŒ‰ç‰Œçš„å¤§å°æ•´ç†ç‰Œï¼Œé‚£ä¼°è®¡è¿™è¾ˆå­ä½ å¯¹æ’å…¥æ’åºçš„ç®—æ³•éƒ½ä¸ä¼šäº§ç”Ÿä»»ä½•å…´è¶£äº†â€¦.. (1)ç®—æ³•ç®€ä»‹ æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰çš„ç®—æ³•æè¿°æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚æ’å…¥æ’åºåœ¨å®ç°ä¸Šï¼Œé€šå¸¸é‡‡ç”¨in-placeæ’åºï¼ˆå³åªéœ€ç”¨åˆ°O(1)çš„é¢å¤–ç©ºé—´çš„æ’åºï¼‰ï¼Œå› è€Œåœ¨ä»åå‘å‰æ‰«æè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åå¤æŠŠå·²æ’åºå…ƒç´ é€æ­¥å‘åæŒªä½ï¼Œä¸ºæœ€æ–°å…ƒç´ æä¾›æ’å…¥ç©ºé—´ã€‚ (2)ç®—æ³•æè¿°å’Œå®ç°ä¸€èˆ¬æ¥è¯´ï¼Œæ’å…¥æ’åºéƒ½é‡‡ç”¨in-placeåœ¨æ•°ç»„ä¸Šå®ç°ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š &lt;1&gt;.ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åºï¼› &lt;2&gt;.å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼› &lt;3&gt;.å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åˆ°ä¸‹ä¸€ä½ç½®ï¼› &lt;4&gt;.é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°æ‰¾åˆ°å·²æ’åºçš„å…ƒç´ å°äºæˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½®ï¼› &lt;5&gt;.å°†æ–°å…ƒç´ æ’å…¥åˆ°è¯¥ä½ç½®åï¼› &lt;6&gt;.é‡å¤æ­¥éª¤2~5ã€‚ Javascriptä»£ç å®ç°: function insertionSort(array) { if (Object.prototype.toString.call(array).slice(8, -1) === 'Array') { console.time('æ’å…¥æ’åºè€—æ—¶ï¼š'); for (var i = 1; i &lt; array.length; i++) { var key = array[i]; var j = i - 1; while (j &gt;= 0 &amp;&amp; array[j] &gt; key) { array[j + 1] = array[j]; j--; } array[j + 1] = key; } console.timeEnd('æ’å…¥æ’åºè€—æ—¶ï¼š'); return array; } else { return 'array is not an Array!'; } } å¤åˆ¶ä»£ç  æ”¹è¿›æ’å…¥æ’åºï¼š æŸ¥æ‰¾æ’å…¥ä½ç½®æ—¶ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼ function binaryInsertionSort(array) { if (Object.prototype.toString.call(array).slice(8, -1) === 'Array') { console.time('äºŒåˆ†æ’å…¥æ’åºè€—æ—¶ï¼š'); for (var i = 1; i &lt; array.length; i++) { var key = array[i], left = 0, right = i - 1; while (left &lt;= right) { var middle = parseInt((left + right) / 2); if (key &lt; array[middle]) { right = middle - 1; } else { left = middle + 1; } } for (var j = i - 1; j &gt;= left; j--) { array[j + 1] = array[j]; } array[left] = key; } console.timeEnd('äºŒåˆ†æ’å…¥æ’åºè€—æ—¶ï¼š'); return array; } else { return 'array is not an Array!'; } } var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(binaryInsertionSort(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] å¤åˆ¶ä»£ç  æ”¹è¿›å‰åå¯¹æ¯”ï¼š æ’å…¥æ’åºåŠ¨å›¾æ¼”ç¤º: (3)ç®—æ³•åˆ†æ æœ€ä½³æƒ…å†µï¼šè¾“å…¥æ•°ç»„æŒ‰å‡åºæ’åˆ—ã€‚T(n) = O(n) æœ€åæƒ…å†µï¼šè¾“å…¥æ•°ç»„æŒ‰é™åºæ’åˆ—ã€‚T(n) = O(n2) å¹³å‡æƒ…å†µï¼šT(n) = O(n2) 4.å¸Œå°”æ’åºï¼ˆShell Sortï¼‰ 1959å¹´Shellå‘æ˜ï¼› ç¬¬ä¸€ä¸ªçªç ´O(n^2)çš„æ’åºç®—æ³•ï¼›æ˜¯ç®€å•æ’å…¥æ’åºçš„æ”¹è¿›ç‰ˆï¼›å®ƒä¸æ’å…¥æ’åºçš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¼šä¼˜å…ˆæ¯”è¾ƒè·ç¦»è¾ƒè¿œçš„å…ƒç´ ã€‚å¸Œå°”æ’åºåˆå«ç¼©å°å¢é‡æ’åº (1)ç®—æ³•ç®€ä»‹ å¸Œå°”æ’åºçš„æ ¸å¿ƒåœ¨äºé—´éš”åºåˆ—çš„è®¾å®šã€‚æ—¢å¯ä»¥æå‰è®¾å®šå¥½é—´éš”åºåˆ—ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€çš„å®šä¹‰é—´éš”åºåˆ—ã€‚åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—çš„ç®—æ³•æ˜¯ã€Šç®—æ³•ï¼ˆç¬¬4ç‰ˆã€‹çš„åˆè‘—è€…Robert Sedgewickæå‡ºçš„ã€‚ (2)ç®—æ³•æè¿°å’Œå®ç°å…ˆå°†æ•´ä¸ªå¾…æ’åºçš„è®°å½•åºåˆ—åˆ†å‰²æˆä¸ºè‹¥å¹²å­åºåˆ—åˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œå…·ä½“ç®—æ³•æè¿°ï¼š &lt;1&gt;. é€‰æ‹©ä¸€ä¸ªå¢é‡åºåˆ—t1ï¼Œt2ï¼Œâ€¦ï¼Œtkï¼Œå…¶ä¸­ti&gt;tjï¼Œtk=1ï¼› &lt;2&gt;.æŒ‰å¢é‡åºåˆ—ä¸ªæ•°kï¼Œå¯¹åºåˆ—è¿›è¡Œk è¶Ÿæ’åºï¼› &lt;3&gt;.æ¯è¶Ÿæ’åºï¼Œæ ¹æ®å¯¹åº”çš„å¢é‡tiï¼Œå°†å¾…æ’åºåˆ—åˆ†å‰²æˆè‹¥å¹²é•¿åº¦ä¸ºm çš„å­åºåˆ—ï¼Œåˆ†åˆ«å¯¹å„å­è¡¨è¿›è¡Œç›´æ¥æ’å…¥æ’åºã€‚ä»…å¢é‡å› å­ä¸º1 æ—¶ï¼Œæ•´ä¸ªåºåˆ—ä½œä¸ºä¸€ä¸ªè¡¨æ¥å¤„ç†ï¼Œè¡¨é•¿åº¦å³ä¸ºæ•´ä¸ªåºåˆ—çš„é•¿åº¦ã€‚ Javascriptä»£ç å®ç°ï¼š function shellSort(arr) { var len = arr.length, temp, gap = 1; console.time('å¸Œå°”æ’åºè€—æ—¶:'); while(gap &lt; len/5) { //åŠ¨æ€å®šä¹‰é—´éš”åºåˆ— gap =gap*5+1; } for (gap; gap &gt; 0; gap = Math.floor(gap/5)) { for (var i = gap; i &lt; len; i++) { temp = arr[i]; for (var j = i-gap; j &gt;= 0 &amp;&amp; arr[j] &gt; temp; j-=gap) { arr[j+gap] = arr[j]; } arr[j+gap] = temp; } } console.timeEnd('å¸Œå°”æ’åºè€—æ—¶:'); return arr; } var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(shellSort(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] å¤åˆ¶ä»£ç  å¸Œå°”æ’åºå›¾ç¤ºï¼ˆå›¾ç‰‡æ¥æºç½‘ç»œï¼‰ï¼š ï¼ˆ3ï¼‰ç®—æ³•åˆ†æ æœ€ä½³æƒ…å†µï¼šT(n) = O(nlog2 n) æœ€åæƒ…å†µï¼šT(n) = O(nlog2 n) å¹³å‡æƒ…å†µï¼šT(n) =O(nlog n) 5.å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰ å’Œé€‰æ‹©æ’åºä¸€æ ·ï¼Œå½’å¹¶æ’åºçš„æ€§èƒ½ä¸å—è¾“å…¥æ•°æ®çš„å½±å“ï¼Œä½†è¡¨ç°æ¯”é€‰æ‹©æ’åºå¥½çš„å¤šï¼Œå› ä¸ºå§‹ç»ˆéƒ½æ˜¯O(n log nï¼‰çš„æ—¶é—´å¤æ‚åº¦ã€‚ä»£ä»·æ˜¯éœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´ã€‚ (1)ç®—æ³•ç®€ä»‹ å½’å¹¶æ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å½’å¹¶æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åºæ–¹æ³•ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸º2-è·¯å½’å¹¶ã€‚ (2)ç®—æ³•æè¿°å’Œå®ç°å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š &lt;1&gt;.æŠŠé•¿åº¦ä¸ºnçš„è¾“å…¥åºåˆ—åˆ†æˆä¸¤ä¸ªé•¿åº¦ä¸ºn/2çš„å­åºåˆ—ï¼› &lt;2&gt;.å¯¹è¿™ä¸¤ä¸ªå­åºåˆ—åˆ†åˆ«é‡‡ç”¨å½’å¹¶æ’åºï¼› &lt;3&gt;.å°†ä¸¤ä¸ªæ’åºå¥½çš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆçš„æ’åºåºåˆ—ã€‚ Javscriptä»£ç å®ç°: function mergeSort(arr) { //é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³• var len = arr.length; if(len &lt; 2) { return arr; } var middle = Math.floor(len / 2), left = arr.slice(0, middle), right = arr.slice(middle); return merge(mergeSort(left), mergeSort(right)); } function merge(left, right) { var result = []; console.time('å½’å¹¶æ’åºè€—æ—¶'); while (left.length &amp;&amp; right.length) { if (left[0] &lt;= right[0]) { result.push(left.shift()); } else { result.push(right.shift()); } } while (left.length) result.push(left.shift()); while (right.length) result.push(right.shift()); console.timeEnd('å½’å¹¶æ’åºè€—æ—¶'); return result; } var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(mergeSort(arr)); å¤åˆ¶ä»£ç  å½’å¹¶æ’åºåŠ¨å›¾æ¼”ç¤º: (3)ç®—æ³•åˆ†æ æœ€ä½³æƒ…å†µï¼šT(n) = O(n) æœ€å·®æƒ…å†µï¼šT(n) = O(nlogn) å¹³å‡æƒ…å†µï¼šT(n) = O(nlogn) 6.å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰ å¿«é€Ÿæ’åºçš„åå­—èµ·çš„æ˜¯ç®€å•ç²—æš´ï¼Œå› ä¸ºä¸€å¬åˆ°è¿™ä¸ªåå­—ä½ å°±çŸ¥é“å®ƒå­˜åœ¨çš„æ„ä¹‰ï¼Œå°±æ˜¯å¿«ï¼Œè€Œä¸”æ•ˆç‡é«˜! å®ƒæ˜¯å¤„ç†å¤§æ•°æ®æœ€å¿«çš„æ’åºç®—æ³•ä¹‹ä¸€äº†ã€‚ (1)ç®—æ³•ç®€ä»‹ å¿«é€Ÿæ’åºçš„åŸºæœ¬æ€æƒ³ï¼šé€šè¿‡ä¸€è¶Ÿæ’åºå°†å¾…æ’è®°å½•åˆ†éš”æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†è®°å½•çš„å…³é”®å­—å‡æ¯”å¦ä¸€éƒ¨åˆ†çš„å…³é”®å­—å°ï¼Œåˆ™å¯åˆ†åˆ«å¯¹è¿™ä¸¤éƒ¨åˆ†è®°å½•ç»§ç»­è¿›è¡Œæ’åºï¼Œä»¥è¾¾åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚ (2)ç®—æ³•æè¿°å’Œå®ç°å¿«é€Ÿæ’åºä½¿ç”¨åˆ†æ²»æ³•æ¥æŠŠä¸€ä¸ªä¸²ï¼ˆlistï¼‰åˆ†ä¸ºä¸¤ä¸ªå­ä¸²ï¼ˆsub-listsï¼‰ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š &lt;1&gt;.ä»æ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸º â€œåŸºå‡†â€ï¼ˆpivotï¼‰ï¼› &lt;2&gt;.é‡æ–°æ’åºæ•°åˆ—ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å¤§çš„æ‘†åœ¨åŸºå‡†çš„åé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œï¼› &lt;3&gt;.é€’å½’åœ°ï¼ˆrecursiveï¼‰æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åºã€‚ Javascriptä»£ç å®ç°ï¼š /*æ–¹æ³•è¯´æ˜ï¼šå¿«é€Ÿæ’åº @param array å¾…æ’åºæ•°ç»„*/ //æ–¹æ³•ä¸€ function quickSort(array, left, right) { console.time('1.å¿«é€Ÿæ’åºè€—æ—¶'); if (Object.prototype.toString.call(array).slice(8, -1) === 'Array' &amp;&amp; typeof left === 'number' &amp;&amp; typeof right === 'number') { if (left &lt; right) { var x = array[right], i = left - 1, temp; for (var j = left; j &lt;= right; j++) { if (array[j] &lt;= x) { i++; temp = array[i]; array[i] = array[j]; array[j] = temp; } } quickSort(array, left, i - 1); quickSort(array, i + 1, right); } console.timeEnd('1.å¿«é€Ÿæ’åºè€—æ—¶'); return array; } else { return 'array is not an Array or left or right is not a number!'; } } //æ–¹æ³•äºŒ var quickSort2 = function(arr) { console.time('2.å¿«é€Ÿæ’åºè€—æ—¶'); &amp;emsp;&amp;emsp;if (arr.length &lt;= 1) { return arr; } &amp;emsp;&amp;emsp;var pivotIndex = Math.floor(arr.length / 2); &amp;emsp;&amp;emsp;var pivot = arr.splice(pivotIndex, 1)[0]; &amp;emsp;&amp;emsp;var left = []; &amp;emsp;&amp;emsp;var right = []; &amp;emsp;&amp;emsp;for (var i = 0; i &lt; arr.length; i++){ &amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;if (arr[i] &lt; pivot) { &amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;left.push(arr[i]); &amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;} else { &amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;right.push(arr[i]); &amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;} &amp;emsp;&amp;emsp;} console.timeEnd('2.å¿«é€Ÿæ’åºè€—æ—¶'); &amp;emsp;&amp;emsp;return quickSort2(left).concat([pivot], quickSort2(right)); }; var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(quickSort(arr,0,arr.length-1));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] console.log(quickSort2(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] å¤åˆ¶ä»£ç  å¿«é€Ÿæ’åºåŠ¨å›¾æ¼”ç¤ºï¼š (3)ç®—æ³•åˆ†æ æœ€ä½³æƒ…å†µï¼šT(n) = O(nlogn) æœ€å·®æƒ…å†µï¼šT(n) = O(n2) å¹³å‡æƒ…å†µï¼šT(n) = O(nlogn) 7.å †æ’åºï¼ˆHeap Sortï¼‰ å †æ’åºå¯ä»¥è¯´æ˜¯ä¸€ç§åˆ©ç”¨å †çš„æ¦‚å¿µæ¥æ’åºçš„é€‰æ‹©æ’åºã€‚ (1)ç®—æ³•ç®€ä»‹ å †æ’åºï¼ˆHeapsortï¼‰æ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ã€‚å †ç§¯æ˜¯ä¸€ä¸ªè¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå¹¶åŒæ—¶æ»¡è¶³å †ç§¯çš„æ€§è´¨ï¼šå³å­ç»“ç‚¹çš„é”®å€¼æˆ–ç´¢å¼•æ€»æ˜¯å°äºï¼ˆæˆ–è€…å¤§äºï¼‰å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚ (2)ç®—æ³•æè¿°å’Œå®ç°å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š &lt;1&gt;.å°†åˆå§‹å¾…æ’åºå…³é”®å­—åºåˆ—(R1,R2â€¦.Rn)æ„å»ºæˆå¤§é¡¶å †ï¼Œæ­¤å †ä¸ºåˆå§‹çš„æ— åºåŒºï¼› &lt;2&gt;.å°†å †é¡¶å…ƒç´ R[1]ä¸æœ€åä¸€ä¸ªå…ƒç´ R[n]äº¤æ¢ï¼Œæ­¤æ—¶å¾—åˆ°æ–°çš„æ— åºåŒº(R1,R2,â€¦â€¦Rn-1)å’Œæ–°çš„æœ‰åºåŒº(Rn),ä¸”æ»¡è¶³R[1,2â€¦n-1]&lt;=R[n]ï¼› &lt;3&gt;.ç”±äºäº¤æ¢åæ–°çš„å †é¡¶R[1]å¯èƒ½è¿åå †çš„æ€§è´¨ï¼Œå› æ­¤éœ€è¦å¯¹å½“å‰æ— åºåŒº(R1,R2,â€¦â€¦Rn-1)è°ƒæ•´ä¸ºæ–°å †ï¼Œç„¶åå†æ¬¡å°†R[1]ä¸æ— åºåŒºæœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œå¾—åˆ°æ–°çš„æ— åºåŒº(R1,R2â€¦.Rn-2)å’Œæ–°çš„æœ‰åºåŒº(Rn-1,Rn)ã€‚ä¸æ–­é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°æœ‰åºåŒºçš„å…ƒç´ ä¸ªæ•°ä¸ºn-1ï¼Œåˆ™æ•´ä¸ªæ’åºè¿‡ç¨‹å®Œæˆã€‚ Javascriptä»£ç å®ç°ï¼š /*æ–¹æ³•è¯´æ˜ï¼šå †æ’åº @param array å¾…æ’åºæ•°ç»„*/ function heapSort(array) { console.time('å †æ’åºè€—æ—¶'); if (Object.prototype.toString.call(array).slice(8, -1) === 'Array') { //å»ºå † var heapSize = array.length, temp; for (var i = Math.floor(heapSize / 2) - 1; i &gt;= 0; i--) { heapify(array, i, heapSize); } //å †æ’åº for (var j = heapSize - 1; j &gt;= 1; j--) { temp = array[0]; array[0] = array[j]; array[j] = temp; heapify(array, 0, --heapSize); } console.timeEnd('å †æ’åºè€—æ—¶'); return array; } else { return 'array is not an Array!'; } } /*æ–¹æ³•è¯´æ˜ï¼šç»´æŠ¤å †çš„æ€§è´¨ @param arr æ•°ç»„ @param x æ•°ç»„ä¸‹æ ‡ @param len å †å¤§å°*/ function heapify(arr, x, len) { if (Object.prototype.toString.call(arr).slice(8, -1) === 'Array' &amp;&amp; typeof x === 'number') { var l = 2 * x + 1, r = 2 * x + 2, largest = x, temp; if (l &lt; len &amp;&amp; arr[l] &gt; arr[largest]) { largest = l; } if (r &lt; len &amp;&amp; arr[r] &gt; arr[largest]) { largest = r; } if (largest != x) { temp = arr[x]; arr[x] = arr[largest]; arr[largest] = temp; heapify(arr, largest, len); } } else { return 'arr is not an Array or x is not a number!'; } } var arr=[91,60,96,13,35,65,46,65,10,30,20,31,77,81,22]; console.log(heapSort(arr));//[10, 13, 20, 22, 30, 31, 35, 46, 60, 65, 65, 77, 81, 91, 96] å¤åˆ¶ä»£ç  å †æ’åºåŠ¨å›¾æ¼”ç¤ºï¼š (3)ç®—æ³•åˆ†æ æœ€ä½³æƒ…å†µï¼šT(n) = O(nlogn) æœ€å·®æƒ…å†µï¼šT(n) = O(nlogn) å¹³å‡æƒ…å†µï¼šT(n) = O(nlogn) 8.è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰ è®¡æ•°æ’åºçš„æ ¸å¿ƒåœ¨äºå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸ºé”®å­˜å‚¨åœ¨é¢å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚ ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºï¼Œè®¡æ•°æ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ã€‚ (1)ç®—æ³•ç®€ä»‹ è®¡æ•°æ’åº(Counting sort)æ˜¯ä¸€ç§ç¨³å®šçš„æ’åºç®—æ³•ã€‚è®¡æ•°æ’åºä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„æ•°ç»„Cï¼Œå…¶ä¸­ç¬¬iä¸ªå…ƒç´ æ˜¯å¾…æ’åºæ•°ç»„Aä¸­å€¼ç­‰äºiçš„å…ƒç´ çš„ä¸ªæ•°ã€‚ç„¶åæ ¹æ®æ•°ç»„Cæ¥å°†Aä¸­çš„å…ƒç´ æ’åˆ°æ­£ç¡®çš„ä½ç½®ã€‚å®ƒåªèƒ½å¯¹æ•´æ•°è¿›è¡Œæ’åºã€‚ (2)ç®—æ³•æè¿°å’Œå®ç°å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š &lt;1&gt;. æ‰¾å‡ºå¾…æ’åºçš„æ•°ç»„ä¸­æœ€å¤§å’Œæœ€å°çš„å…ƒç´ ï¼› &lt;2&gt;. ç»Ÿè®¡æ•°ç»„ä¸­æ¯ä¸ªå€¼ä¸ºiçš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå­˜å…¥æ•°ç»„Cçš„ç¬¬ié¡¹ï¼› &lt;3&gt;. å¯¹æ‰€æœ‰çš„è®¡æ•°ç´¯åŠ ï¼ˆä»Cä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯ä¸€é¡¹å’Œå‰ä¸€é¡¹ç›¸åŠ ï¼‰ï¼› &lt;4&gt;. åå‘å¡«å……ç›®æ ‡æ•°ç»„ï¼šå°†æ¯ä¸ªå…ƒç´ iæ”¾åœ¨æ–°æ•°ç»„çš„ç¬¬C(i)é¡¹ï¼Œæ¯æ”¾ä¸€ä¸ªå…ƒç´ å°±å°†C(i)å‡å»1ã€‚ Javascriptä»£ç å®ç°ï¼š function countingSort(array) { var len = array.length, B = [], C = [], min = max = array[0]; console.time('è®¡æ•°æ’åºè€—æ—¶'); for (var i = 0; i &lt; len; i++) { min = min &lt;= array[i] ? min : array[i]; max = max &gt;= array[i] ? max : array[i]; C[array[i]] = C[array[i]] ? C[array[i]] + 1 : 1; } for (var j = min; j &lt; max; j++) { C[j + 1] = (C[j + 1] || 0) + (C[j] || 0); } for (var k = len - 1; k &gt;= 0; k--) { B[C[array[k]] - 1] = array[k]; C[array[k]]--; } console.timeEnd('è®¡æ•°æ’åºè€—æ—¶'); return B; } var arr = [2, 2, 3, 8, 7, 1, 2, 2, 2, 7, 3, 9, 8, 2, 1, 4, 2, 4, 6, 9, 2]; console.log(countingSort(arr)); //[1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 4, 4, 6, 7, 7, 8, 8, 9, 9] å¤åˆ¶ä»£ç  JavaScriptåŠ¨å›¾æ¼”ç¤ºï¼šã€ (3)ç®—æ³•åˆ†æ å½“è¾“å…¥çš„å…ƒç´ æ˜¯n ä¸ª0åˆ°kä¹‹é—´çš„æ•´æ•°æ—¶ï¼Œå®ƒçš„è¿è¡Œæ—¶é—´æ˜¯ O(n + k)ã€‚è®¡æ•°æ’åºä¸æ˜¯æ¯”è¾ƒæ’åºï¼Œæ’åºçš„é€Ÿåº¦å¿«äºä»»ä½•æ¯”è¾ƒæ’åºç®—æ³•ã€‚ç”±äºç”¨æ¥è®¡æ•°çš„æ•°ç»„Cçš„é•¿åº¦å–å†³äºå¾…æ’åºæ•°ç»„ä¸­æ•°æ®çš„èŒƒå›´ï¼ˆç­‰äºå¾…æ’åºæ•°ç»„çš„æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®åŠ ä¸Š1ï¼‰ï¼Œè¿™ä½¿å¾—è®¡æ•°æ’åºå¯¹äºæ•°æ®èŒƒå›´å¾ˆå¤§çš„æ•°ç»„ï¼Œéœ€è¦å¤§é‡æ—¶é—´å’Œå†…å­˜ã€‚ æœ€ä½³æƒ…å†µï¼šT(n) = O(n+k) æœ€å·®æƒ…å†µï¼šT(n) = O(n+k) å¹³å‡æƒ…å†µï¼šT(n) = O(n+k) 9.æ¡¶æ’åºï¼ˆBucket Sortï¼‰ æ¡¶æ’åºæ˜¯è®¡æ•°æ’åºçš„å‡çº§ç‰ˆã€‚å®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé«˜æ•ˆä¸å¦çš„å…³é”®å°±åœ¨äºè¿™ä¸ªæ˜ å°„å‡½æ•°çš„ç¡®å®šã€‚ (1)ç®—æ³•ç®€ä»‹ æ¡¶æ’åº (Bucket sort)çš„å·¥ä½œçš„åŸç†ï¼šå‡è®¾è¾“å…¥æ•°æ®æœä»å‡åŒ€åˆ†å¸ƒï¼Œå°†æ•°æ®åˆ†åˆ°æœ‰é™æ•°é‡çš„æ¡¶é‡Œï¼Œæ¯ä¸ªæ¡¶å†åˆ†åˆ«æ’åºï¼ˆæœ‰å¯èƒ½å†ä½¿ç”¨åˆ«çš„æ’åºç®—æ³•æˆ–æ˜¯ä»¥é€’å½’æ–¹å¼ç»§ç»­ä½¿ç”¨æ¡¶æ’åºè¿›è¡Œæ’ (2)ç®—æ³•æè¿°å’Œå®ç°å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š &lt;1&gt;.è®¾ç½®ä¸€ä¸ªå®šé‡çš„æ•°ç»„å½“ä½œç©ºæ¡¶ï¼› &lt;2&gt;.éå†è¾“å…¥æ•°æ®ï¼Œå¹¶ä¸”æŠŠæ•°æ®ä¸€ä¸ªä¸€ä¸ªæ”¾åˆ°å¯¹åº”çš„æ¡¶é‡Œå»ï¼› &lt;3&gt;.å¯¹æ¯ä¸ªä¸æ˜¯ç©ºçš„æ¡¶è¿›è¡Œæ’åºï¼› &lt;4&gt;.ä»ä¸æ˜¯ç©ºçš„æ¡¶é‡ŒæŠŠæ’å¥½åºçš„æ•°æ®æ‹¼æ¥èµ·æ¥ã€‚ Javascriptä»£ç å®ç°: /*æ–¹æ³•è¯´æ˜ï¼šæ¡¶æ’åº @param array æ•°ç»„ @param num æ¡¶çš„æ•°é‡*/ function bucketSort(array, num) { if (array.length &lt;= 1) { return array; } var len = array.length, buckets = [], result = [], min = max = array[0], regex = '/^[1-9]+[0-9]*$/', space, n = 0; num = num || ((num &gt; 1 &amp;&amp; regex.test(num)) ? num : 10); console.time('æ¡¶æ’åºè€—æ—¶'); for (var i = 1; i &lt; len; i++) { min = min &lt;= array[i] ? min : array[i]; max = max &gt;= array[i] ? max : array[i]; } space = (max - min + 1) / num; for (var j = 0; j &lt; len; j++) { var index = Math.floor((array[j] - min) / space); if (buckets[index]) { // éç©ºæ¡¶ï¼Œæ’å…¥æ’åº var k = buckets[index].length - 1; while (k &gt;= 0 &amp;&amp; buckets[index][k] &gt; array[j]) { buckets[index][k + 1] = buckets[index][k]; k--; } buckets[index][k + 1] = array[j]; } else { //ç©ºæ¡¶ï¼Œåˆå§‹åŒ– buckets[index] = []; buckets[index].push(array[j]); } } while (n &lt; num) { result = result.concat(buckets[n]); n++; } console.timeEnd('æ¡¶æ’åºè€—æ—¶'); return result; } var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(bucketSort(arr,4));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] å¤åˆ¶ä»£ç  æ¡¶æ’åºå›¾ç¤ºï¼ˆå›¾ç‰‡æ¥æºç½‘ç»œï¼‰ï¼š å…³äºæ¡¶æ’åºæ›´å¤š (3)ç®—æ³•åˆ†æ æ¡¶æ’åºæœ€å¥½æƒ…å†µä¸‹ä½¿ç”¨çº¿æ€§æ—¶é—´O(n)ï¼Œæ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œå–å†³ä¸å¯¹å„ä¸ªæ¡¶ä¹‹é—´æ•°æ®è¿›è¡Œæ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºå…¶å®ƒéƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(n)ã€‚å¾ˆæ˜¾ç„¶ï¼Œæ¡¶åˆ’åˆ†çš„è¶Šå°ï¼Œå„ä¸ªæ¡¶ä¹‹é—´çš„æ•°æ®è¶Šå°‘ï¼Œæ’åºæ‰€ç”¨çš„æ—¶é—´ä¹Ÿä¼šè¶Šå°‘ã€‚ä½†ç›¸åº”çš„ç©ºé—´æ¶ˆè€—å°±ä¼šå¢å¤§ã€‚ æœ€ä½³æƒ…å†µï¼šT(n) = O(n+k) æœ€å·®æƒ…å†µï¼šT(n) = O(n+k) å¹³å‡æƒ…å†µï¼šT(n) = O(n2) 10.åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰ åŸºæ•°æ’åºä¹Ÿæ˜¯éæ¯”è¾ƒçš„æ’åºç®—æ³•ï¼Œå¯¹æ¯ä¸€ä½è¿›è¡Œæ’åºï¼Œä»æœ€ä½ä½å¼€å§‹æ’åºï¼Œå¤æ‚åº¦ä¸ºO(kn),ä¸ºæ•°ç»„é•¿åº¦ï¼Œkä¸ºæ•°ç»„ä¸­çš„æ•°çš„æœ€å¤§çš„ä½æ•°ï¼› (1)ç®—æ³•ç®€ä»‹ åŸºæ•°æ’åºæ˜¯æŒ‰ç…§ä½ä½å…ˆæ’åºï¼Œç„¶åæ”¶é›†ï¼›å†æŒ‰ç…§é«˜ä½æ’åºï¼Œç„¶åå†æ”¶é›†ï¼›ä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°æœ€é«˜ä½ã€‚æœ‰æ—¶å€™æœ‰äº›å±æ€§æ˜¯æœ‰ä¼˜å…ˆçº§é¡ºåºçš„ï¼Œå…ˆæŒ‰ä½ä¼˜å…ˆçº§æ’åºï¼Œå†æŒ‰é«˜ä¼˜å…ˆçº§æ’åºã€‚æœ€åçš„æ¬¡åºå°±æ˜¯é«˜ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ï¼Œé«˜ä¼˜å…ˆçº§ç›¸åŒçš„ä½ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ã€‚åŸºæ•°æ’åºåŸºäºåˆ†åˆ«æ’åºï¼Œåˆ†åˆ«æ”¶é›†ï¼Œæ‰€ä»¥æ˜¯ç¨³å®šçš„ã€‚ (2)ç®—æ³•æè¿°å’Œå®ç°å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š &lt;1&gt;.å–å¾—æ•°ç»„ä¸­çš„æœ€å¤§æ•°ï¼Œå¹¶å–å¾—ä½æ•°ï¼› &lt;2&gt;.arrä¸ºåŸå§‹æ•°ç»„ï¼Œä»æœ€ä½ä½å¼€å§‹å–æ¯ä¸ªä½ç»„æˆradixæ•°ç»„ï¼› &lt;3&gt;.å¯¹radixè¿›è¡Œè®¡æ•°æ’åºï¼ˆåˆ©ç”¨è®¡æ•°æ’åºé€‚ç”¨äºå°èŒƒå›´æ•°çš„ç‰¹ç‚¹ï¼‰ï¼› Javascriptä»£ç å®ç°ï¼š /** * åŸºæ•°æ’åºé€‚ç”¨äºï¼š * (1)æ•°æ®èŒƒå›´è¾ƒå°ï¼Œå»ºè®®åœ¨å°äº1000 * (2)æ¯ä¸ªæ•°å€¼éƒ½è¦å¤§äºç­‰äº0 * @author xiazdong * @param arr å¾…æ’åºæ•°ç»„ * @param maxDigit æœ€å¤§ä½æ•° */ //LSD Radix Sort function radixSort(arr, maxDigit) { var mod = 10; var dev = 1; var counter = []; console.time('åŸºæ•°æ’åºè€—æ—¶'); for (var i = 0; i &lt; maxDigit; i++, dev *= 10, mod *= 10) { for(var j = 0; j &lt; arr.length; j++) { var bucket = parseInt((arr[j] % mod) / dev); if(counter[bucket]== null) { counter[bucket] = []; } counter[bucket].push(arr[j]); } var pos = 0; for(var j = 0; j &lt; counter.length; j++) { var value = null; if(counter[j]!=null) { while ((value = counter[j].shift()) != null) { arr[pos++] = value; } } } } console.timeEnd('åŸºæ•°æ’åºè€—æ—¶'); return arr; } var arr = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48]; console.log(radixSort(arr,2)); //[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] å¤åˆ¶ä»£ç  åŸºæ•°æ’åºLSDåŠ¨å›¾æ¼”ç¤ºï¼š (3)ç®—æ³•åˆ†æ æœ€ä½³æƒ…å†µï¼šT(n) = O(n * k) æœ€å·®æƒ…å†µï¼šT(n) = O(n * k) å¹³å‡æƒ…å†µï¼šT(n) = O(n * k) åŸºæ•°æ’åºæœ‰ä¸¤ç§æ–¹æ³•ï¼š MSD ä»é«˜ä½å¼€å§‹è¿›è¡Œæ’åº LSD ä»ä½ä½å¼€å§‹è¿›è¡Œæ’åº åŸºæ•°æ’åº vs è®¡æ•°æ’åº vs æ¡¶æ’åº è¿™ä¸‰ç§æ’åºç®—æ³•éƒ½åˆ©ç”¨äº†æ¡¶çš„æ¦‚å¿µï¼Œä½†å¯¹æ¡¶çš„ä½¿ç”¨æ–¹æ³•ä¸Šæœ‰æ˜æ˜¾å·®å¼‚ï¼š åŸºæ•°æ’åºï¼šæ ¹æ®é”®å€¼çš„æ¯ä½æ•°å­—æ¥åˆ†é…æ¡¶ è®¡æ•°æ’åºï¼šæ¯ä¸ªæ¡¶åªå­˜å‚¨å•ä¸€é”®å€¼ æ¡¶æ’åºï¼šæ¯ä¸ªæ¡¶å­˜å‚¨ä¸€å®šèŒƒå›´çš„æ•°å€¼ ![https://user-gold-cdn.xitu.io/2020/2/3/1700919fb9a285de?w=450&amp;h=359&amp;f=png&amp;s=66765](https://juejin.cn/post/data:image/svg+xml;utf8) åè®° åå¤§æ’åºç®—æ³•çš„æ€»ç»“åˆ°è¿™é‡Œå°±ç®—å‘Šä¸€æ®µè½äº†ã€‚åšä¸»æ€»ç»“å®Œä¹‹ååªæœ‰ä¸€ä¸ªæ„Ÿè§‰ï¼Œæ’åºç®—æ³•åšå¤§ç²¾æ·±ï¼Œå‰è¾ˆä»¬ç”¨äº†æ•°å¹´ç”šè‡³ä¸€è¾ˆå­çš„å¿ƒè¡€ç ”ç©¶å‡ºæ¥çš„ç®—æ³•æ›´å€¼å¾—æˆ‘ä»¬æ¨æ•²ã€‚ç«™åœ¨åå¤§ç®—æ³•çš„é—¨å‰å¿ƒé‡Œè¿˜æ˜¯è¯šæƒ¶è¯šæçš„ï¼Œèº«ä¸ºä¸€ä¸ªå°å­¦ç”Ÿï¼Œåšä¸»çš„æ€»ç»“éš¾å…ä¼šæœ‰æ‰€ç–æ¼ï¼Œæ¬¢è¿å„ä½æ‰¹è¯„æŒ‡å®šã€‚ .markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}","link":"/posts/s/"},{"title":"ç²¾è¯»ä½ ä¸çŸ¥é“çš„JavaScriptä¸Šå·","text":"[TOC] I-ç¬¬1ç« ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆç¼–è¯‘åŸç†JavaScriptæ˜¯ä¸€é—¨ç¼–è¯‘è¯­è¨€ ä¼ ç»Ÿçš„ç¼–è¯‘è¯­è¨€åœ¨ä»£ç æ‰§è¡Œå‰ä¼šç»å†ä¸‰ä¸ªæ­¥éª¤(ç¼–è¯‘) åˆ†è¯/è¯æ³•åˆ†æ(Tokenizing/Lexing) å°†ç”±å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²åˆ†è§£æˆ(å¯¹ç¼–ç¨‹è¯­è¨€æ¥è¯´)æœ‰æ„ä¹‰çš„ä»£ç å—(è¯æ³•å•å…ƒtoken) è§£æ/è¯­æ³•åˆ†æ(Parsing) å°†è¯æ³•å•å…ƒæµ(æ•°ç»„)è½¬æ¢æˆä¸€ä¸ªç”±å…ƒç´ é€çº§åµŒå¥—æ‰€ç»„æˆçš„ä»£è¡¨äº†ç¨‹åºè¯­æ³•ç»“æ„çš„æ ‘(æŠ½è±¡è¯­æ³•æ ‘Abstract Syntax Treeï¼ŒAST)ã€‚ ä»£ç ç”Ÿæˆ å°† AST è½¬æ¢ä¸ºå¯æ‰§è¡Œä»£ç  JavaScriptå¼•æ“ç¼–è¯‘è¿‡ç¨‹æ¯”æ™®é€šç¼–è¯‘è¯­è¨€æ›´å¤æ‚åœ¨è¯­æ³•åˆ†æå’Œä»£ç ç”Ÿæˆé˜¶æ®µæœ‰ç‰¹å®šçš„æ­¥éª¤æ¥å¯¹è¿è¡Œæ€§èƒ½è¿›è¡Œä¼˜åŒ–ï¼ŒåŒ…æ‹¬å¯¹å†—ä½™å…ƒç´ è¿›è¡Œä¼˜åŒ–ç­‰ã€‚ç”¨å°½äº†å„ç§åŠæ³•(æ¯”å¦‚ JITï¼Œå¯ä»¥å»¶è¿Ÿç¼–è¯‘ç”šè‡³å®æ–½é‡ç¼–è¯‘)æ¥ä¿è¯æ€§èƒ½æœ€ä½³ã€‚ ç†è§£ä½œç”¨åŸŸ(å»ºè®®å¤šè¯»å‡ é)å½“å˜é‡å‡ºç°åœ¨èµ‹å€¼æ“ä½œçš„å·¦ä¾§æ—¶è¿›è¡Œ LHS æŸ¥è¯¢ï¼Œå‡ºç°åœ¨å³ä¾§æ—¶è¿›è¡Œ RHS æŸ¥è¯¢ã€‚ å¯ä»¥å°† RHS ç†è§£æˆ retrieve his source value(å–åˆ°å®ƒçš„æºå€¼)ï¼Œè¿™æ„å‘³ç€â€œå¾—åˆ°æŸæŸçš„å€¼â€ã€‚åœ¨æ¦‚å¿µä¸Šæœ€å¥½å°†å…¶ç†è§£ä¸ºâ€œèµ‹å€¼æ“ä½œçš„ç›®æ ‡æ˜¯è°(LHS)â€ä»¥åŠâ€œè°æ˜¯èµ‹å€¼æ“ä½œçš„æºå¤´(RHS)â€ã€‚ å¦‚æœæŸ¥æ‰¾çš„ç›®çš„æ˜¯å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨ LHS æŸ¥è¯¢;å¦‚æœç›®çš„æ˜¯è·å–å˜é‡çš„å€¼ï¼Œå°±ä¼šä½¿ç”¨ RHS æŸ¥è¯¢ã€‚ èµ‹å€¼æ“ä½œç¬¦ä¼šå¯¼è‡´ LHS æŸ¥è¯¢ã€‚=æ“ä½œç¬¦æˆ–è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥å‚æ•°çš„æ“ä½œéƒ½ä¼šå¯¼è‡´å…³è”ä½œç”¨åŸŸçš„èµ‹å€¼æ“ä½œã€‚ ä½œç”¨åŸŸä½œç”¨åŸŸæ˜¯ä¸€å¥—è§„åˆ™ï¼Œç”¨äºç¡®å®šåœ¨ä½•å¤„ä»¥åŠå¦‚ä½•æŸ¥æ‰¾å˜é‡(æ ‡è¯†ç¬¦)ã€‚ éå†åµŒå¥—ä½œç”¨åŸŸé“¾çš„è§„åˆ™: ä»å½“å‰çš„æ‰§è¡Œä½œç”¨åŸŸå¼€å§‹æŸ¥æ‰¾å˜é‡ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±å‘ä¸Šä¸€çº§ç»§ç»­æŸ¥æ‰¾ã€‚å½“æŠµè¾¾æœ€å¤–å±‚çš„å…¨å±€ä½œç”¨åŸŸæ—¶ï¼Œæ— è®ºæ‰¾åˆ°è¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼ŒæŸ¥æ‰¾è¿‡ç¨‹éƒ½ä¼šåœæ­¢ã€‚ ç¼–ç ç»éªŒï¼šå‡å°‘æ— æ„ä¹‰çš„å˜é‡æŸ¥æ‰¾æ¬¡æ•°å’Œæœªå®šä¹‰å˜é‡çš„æŸ¥æ‰¾ï¼Œå¯ä»¥æå‡æ•ˆç‡ å¼‚å¸¸RHS æŸ¥è¯¢éå¯»ä¸åˆ°æ‰€éœ€çš„å˜é‡ï¼Œå¼•æ“å°±ä¼šæŠ›å‡º ReferenceError å¼‚å¸¸ã€‚ éä¸¥æ ¼æ¨¡å¼ï¼šå¼•æ“æ‰§è¡Œ LHS æŸ¥è¯¢æ—¶ï¼Œå¦‚æœåœ¨é¡¶å±‚(å…¨å±€ä½œç”¨åŸŸ)ä¸­ä¹Ÿæ— æ³•æ‰¾åˆ°ç›®æ ‡å˜é‡ï¼Œå…¨å±€ä½œç”¨åŸŸä¸­å°±ä¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰è¯¥åç§°çš„å˜é‡ï¼Œå¹¶å°†å…¶è¿”è¿˜ç»™å¼•æ“ã€‚ ä¸¥æ ¼æ¨¡å¼ä¸­ LHS æŸ¥è¯¢å¤±è´¥æ—¶ï¼Œå¹¶ä¸ä¼šåˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¼•æ“ä¼šæŠ›å‡ºåŒ RHS æŸ¥è¯¢ å¤±è´¥æ—¶ç±»ä¼¼çš„ ReferenceError å¼‚å¸¸ã€‚ å¦‚æœ RHS æŸ¥è¯¢æ‰¾åˆ°äº†ä¸€ä¸ªå˜é‡ï¼Œä½†æ˜¯ä½ å°è¯•å¯¹è¿™ä¸ªå˜é‡çš„å€¼è¿›è¡Œä¸åˆç†çš„æ“ä½œï¼Œ æ¯”å¦‚è¯•å›¾å¯¹ä¸€ä¸ªéå‡½æ•°ç±»å‹çš„å€¼è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼Œæˆ–è€…å¼•ç”¨ null æˆ– undefined ç±»å‹çš„å€¼ä¸­çš„å±æ€§ï¼Œé‚£ä¹ˆå¼•æ“ä¼šæŠ›å‡ºå¦å¤–ä¸€ç§ç±»å‹çš„å¼‚å¸¸ï¼Œå«ä½œ TypeErrorã€‚ ReferenceError åŒä½œç”¨åŸŸåˆ¤åˆ«å¤±è´¥ç›¸å…³ï¼Œè€Œ TypeError åˆ™ä»£è¡¨ä½œç”¨åŸŸåˆ¤åˆ«æˆåŠŸäº†ï¼Œä½†æ˜¯å¯¹ç»“æœçš„æ“ä½œæ˜¯éæ³•æˆ–ä¸åˆç†çš„ã€‚ æ¡ˆä¾‹12345function foo(a) { var b = a; return a + b;}var c = foo( 2 ); æ‰¾å‡ºæ‰€æœ‰çš„LHSæŸ¥è¯¢(è¿™é‡Œæœ‰3å¤„!) c = ..;ã€a = 2(éšå¼å˜é‡åˆ†é…)ã€b = .. æ‰¾å‡ºæ‰€æœ‰çš„RHSæŸ¥è¯¢(è¿™é‡Œæœ‰4å¤„!) foo(2..ã€= a;ã€a ..ã€.. b I-ç¬¬2ç«  è¯æ³•ä½œç”¨åŸŸè¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µçš„ä½œç”¨åŸŸã€‚ è¯æ³•ä½œç”¨åŸŸæ„å‘³ç€ä½œç”¨åŸŸæ˜¯ç”±ä¹¦å†™ä»£ç æ—¶å‡½æ•°å£°æ˜çš„ä½ç½®æ¥å†³å®šçš„ã€‚ç¼–è¯‘çš„è¯æ³•åˆ†æé˜¶æ®µåŸºæœ¬èƒ½å¤ŸçŸ¥é“å…¨éƒ¨æ ‡è¯†ç¬¦åœ¨å“ªé‡Œä»¥åŠæ˜¯å¦‚ä½•å£°æ˜çš„ï¼Œä»è€Œèƒ½å¤Ÿé¢„æµ‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚ä½•å¯¹å®ƒä»¬è¿›è¡ŒæŸ¥æ‰¾ã€‚ æ— è®ºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼Œä¹Ÿæ— è®ºå®ƒå¦‚ä½•è¢«è°ƒç”¨ï¼Œå®ƒçš„è¯æ³•ä½œç”¨åŸŸéƒ½åªç”±å‡½æ•°è¢«å£°æ˜æ—¶æ‰€å¤„çš„ä½ç½®å†³å®šã€‚ åœ¨å¤šå±‚çš„åµŒå¥—ä½œç”¨åŸŸä¸­å¯ä»¥å®šä¹‰åŒåçš„æ ‡è¯†ç¬¦ï¼Œè¿™å«ä½œâ€œé®è”½æ•ˆåº”â€(å†…éƒ¨çš„æ ‡è¯†ç¬¦â€œé®è”½â€äº†å¤–éƒ¨çš„æ ‡è¯†ç¬¦)ã€‚ å…¨å±€å˜é‡ä¼šè‡ªåŠ¨æˆä¸ºå…¨å±€å¯¹è±¡(æ¯”å¦‚æµè§ˆå™¨ä¸­çš„ window å¯¹è±¡)çš„å±æ€§ï¼Œå› æ­¤å¯ä»¥ä¸ç›´æ¥é€šè¿‡å…¨å±€å¯¹è±¡çš„è¯æ³•åç§°ï¼Œè€Œæ˜¯é—´æ¥åœ°é€šè¿‡å¯¹å…¨å±€å¯¹è±¡å±æ€§çš„å¼•ç”¨æ¥å¯¹å…¶è¿›è¡Œè®¿é—®window.aï¼Œé€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥è®¿é—®é‚£äº›è¢«åŒåå˜é‡æ‰€é®è”½çš„å…¨å±€å˜é‡ã€‚ ä½†éå…¨å±€çš„å˜é‡å¦‚æœè¢«é®è”½äº†ï¼Œæ— è®ºå¦‚ä½•éƒ½æ— æ³•è¢«è®¿é—®åˆ°ã€‚ æ¬ºéª—è¯­æ³•JavaScript ä¸­æœ‰ä¸¤ä¸ªæœºåˆ¶å¯ä»¥â€œæ¬ºéª—â€è¯æ³•ä½œç”¨åŸŸ:eval(..) å’Œ withã€‚ å‰è€…å¯ä»¥å¯¹ä¸€æ®µåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå£°æ˜çš„â€œä»£ç â€å­—ç¬¦ä¸²è¿›è¡Œæ¼”ç®—ï¼Œå¹¶å€Ÿæ­¤æ¥ä¿®æ”¹å·²ç»å­˜åœ¨çš„è¯æ³•ä½œç”¨åŸŸ(åœ¨è¿è¡Œæ—¶)ã€‚ åè€…æœ¬è´¨ä¸Šæ˜¯é€šè¿‡å°†ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨å½“ä½œä½œç”¨åŸŸæ¥å¤„ç†ï¼Œå°†å¯¹è±¡çš„å±æ€§å½“ä½œä½œç”¨åŸŸä¸­çš„æ ‡è¯†ç¬¦æ¥å¤„ç†ï¼Œä»è€Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„è¯æ³•ä½œç”¨åŸŸ(åŒæ ·æ˜¯åœ¨è¿è¡Œæ—¶)ã€‚ è¿™ä¸¤ä¸ªæœºåˆ¶çš„å‰¯ä½œç”¨æ˜¯å¼•æ“æ— æ³•åœ¨ç¼–è¯‘æ—¶å¯¹ä½œç”¨åŸŸæŸ¥æ‰¾è¿›è¡Œä¼˜åŒ–ï¼Œå› ä¸ºå¼•æ“åªèƒ½è°¨æ…åœ°è®¤ä¸ºè¿™æ ·çš„ä¼˜åŒ–æ˜¯æ— æ•ˆçš„ã€‚ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚ä¸è¦ä½¿ç”¨å®ƒä»¬ã€‚ I-ç¬¬3ç«  å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸ å¼€å‘ä¸­ï¼Œå‡½æ•°å†™çš„å¤ªå¤šäº†ã€‚æ€æ ·æ‰æ˜¯ä¸ªå¥½çš„å‡½æ•°ï¼Ÿæˆ‘ä»¬å¸¸è®²å°è£…ã€‚å°è£…å‡½æ•°ï¼Œå°è£…å¸¸ç”¨çš„æ–¹æ³•ï¼Œé€šè¿‡è¿™ç« å†…å®¹å¯ä»¥å­¦ä¹ åˆ°ä¸ºä»€ä¹ˆè¦å°è£…ï¼Œå°è£…çš„å¥½å¤„å’Œä¸€äº›å°è£…çš„æ–¹æ³•ã€‚ å‡½æ•°ä½œç”¨åŸŸæ˜¯æŒ‡ï¼Œå±äºè¿™ä¸ªå‡½æ•°çš„å…¨éƒ¨å˜é‡éƒ½å¯ä»¥åœ¨æ•´ä¸ªå‡½æ•°çš„èŒƒå›´å†…ä½¿ç”¨åŠå¤ç”¨(åœ¨åµŒå¥—çš„ä½œç”¨åŸŸä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨)ã€‚è¿™ç§è®¾è®¡æ–¹æ¡ˆèƒ½å……åˆ†åˆ©ç”¨ JavaScript å˜é‡å¯ä»¥æ ¹æ®éœ€è¦æ”¹å˜å€¼ç±»å‹çš„â€œåŠ¨æ€â€ç‰¹æ€§ã€‚ åˆ©ç”¨å‡½æ•°ä½œç”¨åŸŸéšè—å†…éƒ¨å®ç°æ­£ç¡®çš„ä»£ç åº”è¯¥è€ƒè™‘åˆ°å¦‚ä½•é€‰æ‹©ä½œç”¨åŸŸæ¥åŒ…å«å˜é‡å’Œå‡½æ•°ã€‚éµå¾ªæœ€å°æˆæƒåŸåˆ™ã€‚ æœ€å°æˆæƒæˆ–æœ€å°æš´éœ²åŸåˆ™ï¼šåœ¨è½¯ä»¶è®¾è®¡ä¸­ï¼Œåº”è¯¥æœ€å°é™åº¦åœ°æš´éœ²å¿…è¦å†…å®¹ï¼Œè€Œå°†å…¶ä»–å†…å®¹éƒ½â€œéšè—â€èµ·æ¥ï¼Œæ¯”å¦‚æŸä¸ªæ¨¡å—æˆ–å¯¹è±¡çš„ API è®¾è®¡ã€‚ ç¤ºä¾‹ï¼š 123456789function doSomething(a) { b = a + doSomethingElse( a * 2 ); console.log( b * 3 );}function doSomethingElse(a) { return a - 1;}var b;doSomething( 2 ); // 15 å˜é‡ b å’Œå‡½æ•° doSomethingElse(..) æ˜¯ doSomething(..) å†…éƒ¨å…·ä½“å®ç°çš„â€œç§æœ‰â€å†…å®¹ã€‚ç»™äºˆå¤–éƒ¨ä½œç”¨åŸŸå¯¹ b å’Œ doSomethingElse(..) çš„â€œè®¿é—®æƒé™â€ä¸ä»…æ²¡æœ‰å¿…è¦ï¼Œè€Œä¸”å¯èƒ½æ˜¯â€œå±é™©â€çš„ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½è¢«æœ‰æ„æˆ–æ— æ„åœ°ä»¥éé¢„æœŸçš„æ–¹å¼ä½¿ç”¨ï¼Œä»è€Œå¯¼è‡´è¶…å‡ºäº†doSomething(..) çš„é€‚ç”¨æ¡ä»¶ã€‚æ›´â€œåˆç†â€çš„è®¾è®¡ä¼šå°†è¿™äº›ç§æœ‰çš„å…·ä½“å†…å®¹éšè—åœ¨ doSomething(..) å†…éƒ¨ã€‚ 123456789function doSomething(a) { function doSomethingElse(a) { return a - 1; } var b; b = a + doSomethingElse( a * 2 ); console.log( b * 3 );}doSomething( 2 ); // 15 åŠŸèƒ½å’Œæ•ˆæœéƒ½æ²¡å—å½±å“ï¼Œè®¾è®¡ä¸Šå°†å…·ä½“å†…å®¹ç§æœ‰åŒ–ï¼Œè®¾è®¡è‰¯å¥½çš„è½¯ä»¶éƒ½ä¼šä¾æ­¤è¿›è¡Œå®ç°ã€‚ è§„é¿å†²çªéšè—ä½œç”¨åŸŸä¸­çš„å˜é‡å’Œå‡½æ•°æ‰€å¸¦æ¥çš„å¦ä¸€ä¸ªå¥½å¤„ï¼Œæ˜¯å¯ä»¥é¿å…åŒåæ ‡è¯†ç¬¦ä¹‹é—´çš„å†²çªï¼Œ 1234567891011function foo() { function bar(a) { i = 3; // ä¿®æ”¹forå¾ªç¯æ‰€å±ä½œç”¨åŸŸä¸­çš„i console.log( a + i ); } for (var i=0; i&lt;10; i++) { bar( i * 2 ); // ç³Ÿç³•ï¼Œæ— é™å¾ªç¯äº†! }}foo(); è¿™é‡Œç”¨var i = 3;å’Œ j = 3;éƒ½å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†ä½¿ç”¨ä½œç”¨åŸŸæ¥â€œéšè—â€å†…éƒ¨å£°æ˜æ˜¯å”¯ä¸€çš„æœ€ä½³é€‰æ‹©ã€‚ è§£å†³æ–¹æ¡ˆ å…¨å±€å‘½åç©ºé—´ åœ¨jQueryæ—¶ä»£ï¼Œå¼•ç”¨å„ç§ç¬¬ä¸‰æ–¹åº“å°¤ä¸ºæ˜æ˜¾ã€‚å¦‚æœç»„ä»¶æ²¡æœ‰å¾ˆå¥½çš„å°†å†…éƒ¨ç§æœ‰å‡½æ•°å’Œå˜é‡éšè—èµ·æ¥ä¼šå¼•èµ·å¾ˆå¤šé—®é¢˜ã€‚ æœ€ä½³å®è·µï¼šå£°æ˜ä¸€ä¸ªåå­—è¶³å¤Ÿç‹¬ç‰¹çš„å˜é‡ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚æ‰€æœ‰éœ€è¦æš´éœ²ç»™å¤–ç•Œçš„åŠŸèƒ½éƒ½ä¼šæˆä¸ºè¿™ä¸ªå¯¹è±¡(å‘½åç©ºé—´)çš„å±æ€§ï¼Œè€Œä¸æ˜¯å°†è‡ªå·±çš„æ ‡è¯†ç¬¦æš´æ¼åœ¨é¡¶çº§çš„è¯æ³•ä½œç”¨åŸŸä¸­ã€‚ ç¤ºä¾‹ 123456789var MyReallyCoolLibrary = { awesome: &quot;stuff&quot;, doSomething: function() { // ... }, doAnotherThing: function() { // ... }}; æ¨¡å—ç®¡ç† ä»ä¼—å¤šæ¨¡å—ç®¡ç†å™¨ä¸­æŒ‘é€‰ä¸€ä¸ªæ¥ä½¿ç”¨ã€‚ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œä»»ä½•åº“éƒ½æ— éœ€å°†æ ‡è¯†ç¬¦åŠ å…¥åˆ°å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œè€Œæ˜¯é€šè¿‡ä¾èµ–ç®¡ç†å™¨çš„æœºåˆ¶å°†åº“çš„æ ‡è¯†ç¬¦æ˜¾å¼åœ°å¯¼å…¥åˆ°å¦å¤–ä¸€ä¸ªç‰¹å®šçš„ä½œç”¨åŸŸä¸­ã€‚ å‡½æ•°ä½œç”¨åŸŸä¼˜åŒ–å‡½æ•°ä½œç”¨åŸŸéœ€è¦æ˜¾ç¤ºå£°æ˜å‡½æ•°åå’Œè°ƒç”¨è¯¥å‡½æ•° é‡‡ç”¨åŒ…è£…å‡½æ•°æ¥è§£å†³ï¼Œå°†å‡½æ•°å£°æ˜è½¬æˆè¡¨è¾¾å¼ 123456var a = 2;(function foo(){ // &lt;-- æ·»åŠ è¿™ä¸€è¡Œ var a = 3; console.log( a ); // 3 })(); // &lt;-- ä»¥åŠè¿™ä¸€è¡Œconsole.log( a ); // 2 1å¦‚æœ function æ˜¯å£°æ˜ä¸­çš„ç¬¬ä¸€ä¸ªè¯ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜ï¼Œå¦åˆ™å°±æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ã€‚ åŒ¿åå’Œå…·åå‡½æ•°åŒ¿åå‡½æ•°è¡¨è¾¾å¼123setTimeout( function() { console.log(&quot;I waited 1 second!&quot;);}, 1000 ); è¿™å«ä½œåŒ¿åå‡½æ•°è¡¨è¾¾å¼ï¼Œå› ä¸º function().. æ²¡æœ‰åç§°æ ‡è¯†ç¬¦ã€‚å‡½æ•°è¡¨è¾¾å¼å¯ä»¥æ˜¯åŒ¿åçš„ï¼Œè€Œå‡½æ•°å£°æ˜åˆ™ä¸å¯ä»¥çœç•¥å‡½æ•°åâ€”â€”åœ¨ JavaScript çš„è¯­æ³•ä¸­è¿™æ˜¯éæ³•çš„ã€‚ åŒ¿åå‡½æ•°ç¼ºç‚¹ï¼š åŒ¿åå‡½æ•°åœ¨æ ˆè¿½è¸ªä¸­ä¸ä¼šæ˜¾ç¤ºå‡½æ•°åï¼Œè°ƒè¯•å¾ˆå›°éš¾ã€‚ å¦‚æœæ²¡æœ‰å‡½æ•°åï¼Œå½“å‡½æ•°éœ€è¦å¼•ç”¨è‡ªèº«æ—¶åªèƒ½ä½¿ç”¨å·²ç»è¿‡æœŸçš„arguments.calleeå¼•ç”¨ï¼Œæ¯”å¦‚åœ¨é€’å½’ä¸­ã€‚å¦ä¸€ä¸ªå‡½æ•°éœ€è¦å¼•ç”¨è‡ªèº«çš„ä¾‹å­ï¼Œæ˜¯åœ¨äº‹ä»¶è§¦å‘åäº‹ä»¶ç›‘å¬å™¨éœ€è¦è§£ç»‘è‡ªèº«ã€‚ åŒ¿åå‡½æ•°çœç•¥äº†å¯¹äºä»£ç å¯è¯»æ€§/å¯ç†è§£æ€§å¾ˆé‡è¦çš„å‡½æ•°åã€‚ä¸€ä¸ªæè¿°æ€§çš„åç§°å¯ä»¥è®©ä»£ç ä¸è¨€è‡ªæ˜ã€‚ è¡Œå†…å‡½æ•°è¡¨è¾¾å¼éå¸¸å¼ºå¤§ä¸”æœ‰ç”¨â€”â€”åŒ¿åå’Œå…·åä¹‹é—´çš„åŒºåˆ«å¹¶ä¸ä¼šå¯¹è¿™ç‚¹æœ‰ä»»ä½•å½±å“ã€‚ç»™å‡½æ•°è¡¨è¾¾å¼æŒ‡å®šä¸€ä¸ªå‡½æ•°åå¯ä»¥æœ‰æ•ˆè§£å†³ä»¥ä¸Šé—®é¢˜ã€‚å§‹ç»ˆç»™å‡½æ•°è¡¨è¾¾å¼å‘½åæ˜¯ä¸€ä¸ªæœ€ä½³å®è·µ 123setTimeout( function timeoutHandler() { // &lt;-- å¿«çœ‹ï¼Œæˆ‘æœ‰åå­—äº†! console.log( &quot;I waited 1 second!&quot; );}, 1000 ); ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼(IIFE Immediately Invoked Function Expression)å°†å‡½æ•°åŒ…å«åœ¨ä¸€å¯¹ ( ) æ‹¬å·å†…éƒ¨ï¼Œå› æ­¤æˆä¸ºäº†ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé€šè¿‡åœ¨æœ«å°¾åŠ ä¸Šå¦å¤–ä¸€ä¸ª ( ) å¯ä»¥ç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚æ¯”å¦‚ (function foo(){ .. })(), å¦ä¸€ç§å½¢å¼(function(){ .. }())ã€‚ä¸¤ç§å½¢å¼åœ¨åŠŸèƒ½ä¸Šæ˜¯ä¸€è‡´çš„ã€‚ IIFEè¿›é˜¶ç”¨æ³•ï¼ŒæŠŠå®ƒä»¬å½“ä½œå‡½æ•°è°ƒç”¨å¹¶ä¼ é€’å‚æ•°è¿›å»ã€‚ 1234567var a = 2;(function IIFE( global ) { var a = 3; console.log( a ); // 3 console.log( global.a ); // 2})( window );console.log( a ); // 2 å°† window å¯¹è±¡çš„å¼•ç”¨ä¼ é€’è¿›å»ï¼Œä½†å°†å‚æ•°å‘½åä¸º globalï¼Œå› æ­¤åœ¨ä»£ç é£æ ¼ä¸Šå¯¹å…¨å±€å¯¹è±¡çš„å¼•ç”¨å˜å¾—æ¯”å¼•ç”¨ä¸€ä¸ªæ²¡æœ‰â€œå…¨å±€â€å­—æ ·çš„å˜é‡æ›´åŠ æ¸…æ™°ã€‚è¿™å¯¹äºæ”¹è¿›ä»£ç é£æ ¼æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚ IIFE è¿˜æœ‰ä¸€ç§å˜åŒ–çš„ç”¨é€”æ˜¯å€’ç½®ä»£ç çš„è¿è¡Œé¡ºåºï¼Œå°†éœ€è¦è¿è¡Œçš„å‡½æ•°æ”¾åœ¨ç¬¬äºŒä½ï¼Œåœ¨ IIFE æ‰§è¡Œä¹‹åå½“ä½œå‚æ•°ä¼ é€’è¿›å»ã€‚è¿™ç§æ¨¡å¼åœ¨ UMD(Universal Module Definition)é¡¹ç›®ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚ 123456789var a = 2;(function IIFE( def ) { def( window );})(function def( global ) { var a = 3; console.log( a ); // 3 console.log( global.a ); // 2}); å—ä½œç”¨åŸŸ{}, for, if, with, try/catch, let, constéƒ½æ˜¯å£°æ˜å—çº§ä½œç”¨åŸŸã€‚ 12345678if (foo) { { // &lt;-- æ˜¾å¼çš„å— let bar = foo * 2; bar = something( bar ); console.log( bar ); }}console.log( bar ); // ReferenceError æœ¬è´¨ä¸Šï¼Œå£°æ˜åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å˜é‡æˆ–å‡½æ•°ä¼šåœ¨æ‰€å¤„çš„ä½œç”¨åŸŸä¸­â€œéšè—â€èµ·æ¥ï¼Œè¿™æ˜¯æœ‰æ„ä¸ºä¹‹çš„è‰¯å¥½è½¯ä»¶çš„è®¾è®¡åŸåˆ™ã€‚ I-ç¬¬4ç«  æå‡ ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ä»£ç æ—¶æ˜¯ä»ä¸Šåˆ°ä¸‹ä¸€è¡Œè¡Œç¼–è¯‘çš„å—ï¼Ÿ å¼•æ“ä¼šåœ¨æ‰§è¡Œ JavaScript ä»£ç ä¹‹å‰å…ˆå¯¹å…¶è¿›è¡Œç¼–è¯‘ã€‚ç¼–è¯‘é˜¶æ®µä¸­çš„ä¸€éƒ¨åˆ†å·¥ä½œå°±æ˜¯æ‰¾åˆ°æ‰€æœ‰çš„å£°æ˜ï¼Œå¹¶ç”¨åˆé€‚çš„ä½œç”¨åŸŸå°†å®ƒä»¬å…³è”èµ·æ¥ã€‚ å˜é‡å’Œå‡½æ•°å£°æ˜ä»å®ƒä»¬åœ¨ä»£ç ä¸­å‡ºç°çš„ä½ç½®è¢«â€œç§»åŠ¨â€åˆ°äº†æœ€ä¸Šé¢ã€‚è¿™ä¸ªè¿‡ç¨‹å°±å«ä½œæå‡ã€‚ æ³¨æ„ï¼šå‡½æ•°å£°æ˜ä¼šè¢«æå‡ï¼ŒåŒ…æ‹¬å‡½æ•°è¡¨è¾¾å¼çš„èµ‹å€¼åœ¨å†…çš„èµ‹å€¼æ“ä½œå¹¶ä¸ä¼šæå‡ã€‚ å‡½æ•°ä¼šé¦–å…ˆè¢«æå‡ï¼Œç„¶åæ‰æ˜¯å˜é‡ã€‚ åé¢çš„å‡½æ•°å£°æ˜å¯ä»¥è¦†ç›–å‰é¢çš„ï¼Œå¦‚ä¸‹è¾“å‡º3 12345678910111213foo(); // 1var foo;function foo() { console.log( 1 );}// å‡½æ•°è¡¨è¾¾å¼ä¸ä¼šæå‡foo = function() { console.log( 2 );};function foo() { console.log( 3 );} è¿™ä¸ªä»£ç è¢«å¼•æ“è§£æå¦‚ä¸‹: 1234567891011function foo() { console.log( 1 );}function foo() { console.log( 3 );}foo(); // 3foo = function() { console.log( 2 );}; è¦æ³¨æ„é¿å…é‡å¤å£°æ˜ï¼Œç‰¹åˆ«æ˜¯å½“æ™®é€šçš„ var å£°æ˜å’Œå‡½æ•°å£°æ˜æ··åˆåœ¨ä¸€èµ·çš„æ—¶å€™ï¼Œå¦åˆ™ä¼šå¼•èµ·å¾ˆå¤šå±é™©çš„é—®é¢˜! ç”¨letå’Œconstå¯ä»¥è§£å†³é‡å¤å£°æ˜çš„é—®é¢˜ã€‚ I-ç¬¬5ç«  ä½œç”¨åŸŸé—­åŒ…é—­åŒ…å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚ ç»å…¸ç¤ºä¾‹ï¼š 123456789function foo() { var a = 2; function bar() { console.log( a ); } return bar;}var baz = foo();baz(); // 2 â€”â€” è¿™å°±æ˜¯é—­åŒ…çš„æ•ˆæœã€‚ bar() åœ¨è‡ªå·±å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹æ‰§è¡Œã€‚ åœ¨ foo() æ‰§è¡Œåï¼Œé€šå¸¸ä¼šæœŸå¾… foo() çš„æ•´ä¸ªå†…éƒ¨ä½œç”¨åŸŸéƒ½è¢«é”€æ¯ï¼Œå› ä¸ºå¼•æ“æœ‰åƒåœ¾å›æ”¶å™¨ç”¨æ¥é‡Šæ”¾ä¸å†ä½¿ç”¨çš„å†…å­˜ç©ºé—´ã€‚ç”±äºçœ‹ä¸Šå» foo() çš„å†…å®¹ä¸ä¼šå†è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶åœ°ä¼šè€ƒè™‘å¯¹å…¶è¿›è¡Œå›æ”¶ã€‚ è€Œé—­åŒ…çš„â€œç¥å¥‡â€ä¹‹å¤„æ­£æ˜¯å¯ä»¥é˜»æ­¢è¿™ä»¶äº‹æƒ…çš„å‘ç”Ÿã€‚ç”±äº bar() æ‰€å£°æ˜çš„ä½ç½®åœ¨fooå†…éƒ¨ï¼Œå®ƒæ‹¥æœ‰æ¶µç›– foo() å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œä½¿å¾—è¯¥ä½œç”¨åŸŸèƒ½å¤Ÿä¸€ç›´å­˜æ´»ï¼Œä»¥ä¾› bar() åœ¨ä¹‹åä»»ä½•æ—¶é—´è¿›è¡Œå¼•ç”¨ã€‚ bar() ä¾ç„¶æŒæœ‰å¯¹è¯¥ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè€Œè¿™ä¸ªå¼•ç”¨å°±å«ä½œé—­åŒ…ã€‚ å¾ªç¯ç»å…¸æ¡ˆä¾‹ï¼š 123456for (var i=1; i&lt;=5; i++) { setTimeout( function timer() { console.log( i ); // ä»¥æ¯ç§’ä¸€æ¬¡çš„é¢‘ç‡è¾“å‡ºäº”æ¬¡ 6 }, i*1000 );} æ ¹æ®ä½œç”¨åŸŸçš„å·¥ä½œåŸç†ï¼Œå®é™…æƒ…å†µæ˜¯å°½ç®¡å¾ªç¯ä¸­çš„äº”ä¸ªå‡½æ•°æ˜¯åœ¨å„ä¸ªè¿­ä»£ä¸­åˆ†åˆ«å®šä¹‰çš„ï¼Œä½†æ˜¯å®ƒä»¬éƒ½è¢«å°é—­åœ¨ä¸€ä¸ªå…±äº«çš„å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œå› æ­¤å®é™…ä¸Šåªæœ‰ä¸€ä¸ª iã€‚ æ”¹è¿›ï¼Œä¸ºæ¯æ¬¡è¿­ä»£ç”Ÿæˆæ–°çš„ä½œç”¨åŸŸ 1234567for (var i=1; i&lt;=5; i++) { (function(j) { setTimeout( function timer() { console.log( j ); }, j*1000 ); })( i );} ç”¨letè§£å†³ã€‚letå˜é‡åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¸æ­¢è¢«å£°æ˜ä¸€æ¬¡ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šå£°æ˜ã€‚ 123456for (let i=1; i&lt;=5; i++) { setTimeout( function timer() { console.log( i ); }, i*1000 );} æ¨¡å—æ¨¡å—æ¨¡å¼éœ€è¦å…·å¤‡ä¸¤ä¸ªå¿…è¦æ¡ä»¶ã€‚ å¿…é¡»æœ‰å¤–éƒ¨çš„å°é—­å‡½æ•°ï¼Œè¯¥å‡½æ•°å¿…é¡»è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡(æ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—å®ä¾‹)ã€‚ å°é—­å‡½æ•°å¿…é¡»è¿”å›è‡³å°‘ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œè¿™æ ·å†…éƒ¨å‡½æ•°æ‰èƒ½åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­å½¢æˆé—­åŒ…ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®æˆ–è€…ä¿®æ”¹ç§æœ‰çš„çŠ¶æ€ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920var foo = (function CoolModule() { var something = &quot;cool&quot;; var another = [1, 2, 3]; function doSomething() { console.log( something ); } function doAnother() { console.log( another.join( &quot; ! &quot; ) ); } return { doSomething: doSomething, doAnother: doAnother };})();foo.doSomething(); // coolfoo.doAnother(); // 1 ! 2 ! 3 12345678910111213141516171819202122232425var foo = (function CoolModule(id) { function change() { // modifying the public API publicAPI.identify = identify2; } function identify1() { console.log( id ); } function identify2() { console.log( id.toUpperCase() ); } var publicAPI = { change: change, identify: identify1 }; return publicAPI;})( &quot;foo module&quot; );foo.identify(); // foo modulefoo.change();foo.identify(); // FOO MODULE é€šè¿‡åœ¨æ¨¡å—å®ä¾‹çš„å†…éƒ¨ä¿ç•™å¯¹å…¬å…± API å¯¹è±¡çš„å†…éƒ¨å¼•ç”¨ï¼Œå¯ä»¥ä»å†…éƒ¨å¯¹æ¨¡å—å®ä¾‹è¿›è¡Œä¿®æ”¹ï¼ŒåŒ…æ‹¬æ·»åŠ æˆ–åˆ é™¤æ–¹æ³•å’Œå±æ€§ï¼Œä»¥åŠä¿®æ”¹å®ƒä»¬çš„å€¼ã€‚ ç°ä»£çš„æ¨¡å—æœºåˆ¶12345678910111213141516171819var MyModules = (function Manager() { var modules = {}; function define(name, deps, impl) { for (var i=0; i&lt;deps.length; i++) { deps[i] = modules[deps[i]]; } modules[name] = impl.apply( impl, deps ); } function get(name) { return modules[name]; } return { define: define, get: get };})(); æ ¸å¿ƒä»£ç æ˜¯è¿™è¡Œmodules[name] = impl.apply( impl, deps );ä¸ºäº†æ¨¡å—çš„å®šä¹‰å¼•å…¥äº†åŒ…è£…å‡½æ•°(å¯ä»¥ä¼ å…¥ä»»ä½•ä¾èµ–)ï¼Œå¹¶ä¸”å°†è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯æ¨¡å—çš„ APIï¼Œå‚¨å­˜åœ¨ä¸€ä¸ªæ ¹æ®åå­—æ¥ç®¡ç†çš„æ¨¡å—åˆ—è¡¨ä¸­ã€‚ çœ‹çœ‹æ€ä¹ˆä½¿ç”¨ 12345678910111213141516171819202122232425262728293031MyModules.define( &quot;bar&quot;, [], function(){ function hello(who) { return &quot;Let me introduce: &quot; + who; } return { hello: hello };} );MyModules.define( &quot;foo&quot;, [&quot;bar&quot;], function(bar){ var hungry = &quot;hippo&quot;; function awesome() { console.log( bar.hello( hungry ).toUpperCase() ); } return { awesome: awesome };} );var bar = MyModules.get( &quot;bar&quot; );var foo = MyModules.get( &quot;foo&quot; );console.log( bar.hello( &quot;hippo&quot; )); // Let me introduce: hippofoo.awesome(); // LET ME INTRODUCE: HIPPO å¤šèŠ±ä¸€ç‚¹æ—¶é—´æ¥ç ”ç©¶è¿™äº›ç¤ºä¾‹ä»£ç å¹¶å®Œå…¨ç†è§£é—­åŒ…çš„ä½œç”¨å§ã€‚æœ€é‡è¦çš„æ˜¯è¦ç†è§£æ¨¡å—ç®¡ç†å™¨æ²¡æœ‰ä»»ä½•ç‰¹æ®Šçš„â€œé­”åŠ›â€ã€‚å®ƒä»¬ç¬¦åˆå‰é¢åˆ—å‡ºçš„æ¨¡å—æ¨¡å¼çš„ä¸¤ä¸ªç‰¹ç‚¹:ä¸ºå‡½æ•°å®šä¹‰å¼•å…¥åŒ…è£…å‡½æ•°ï¼Œå¹¶ä¿è¯å®ƒçš„è¿”å›å€¼å’Œæ¨¡å—çš„ API ä¿æŒä¸€è‡´ã€‚æ¢å¥è¯è¯´ï¼Œæ¨¡å—å°±æ˜¯æ¨¡å—ï¼Œå³ä½¿åœ¨å®ƒä»¬å¤–å±‚åŠ ä¸Šä¸€ä¸ªå‹å¥½çš„åŒ…è£…å·¥å…·ä¹Ÿä¸ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚ æœªæ¥çš„æ¨¡å—æœºåˆ¶ES6 ä¸­ä¸ºæ¨¡å—å¢åŠ äº†ä¸€çº§è¯­æ³•æ”¯æŒã€‚ä½†é€šè¿‡æ¨¡å—ç³»ç»Ÿè¿›è¡ŒåŠ è½½æ—¶ï¼ŒES6 ä¼šå°†æ–‡ä»¶å½“ä½œç‹¬ç«‹çš„æ¨¡å—æ¥å¤„ç†ã€‚æ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥å¯¼å…¥å…¶ä»–æ¨¡å—æˆ–ç‰¹å®šçš„ API æˆå‘˜ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥å¯¼å‡ºè‡ªå·±çš„ API æˆå‘˜ã€‚ ES6 çš„æ¨¡å—æ²¡æœ‰â€œè¡Œå†…â€æ ¼å¼ï¼Œå¿…é¡»è¢«å®šä¹‰åœ¨ç‹¬ç«‹çš„æ–‡ä»¶ä¸­(ä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªæ¨¡å—)ã€‚ import å¯ä»¥å°†ä¸€ä¸ªæ¨¡å—ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ª API å¯¼å…¥åˆ°å½“å‰ä½œç”¨åŸŸä¸­ï¼Œå¹¶åˆ†åˆ«ç»‘å®šåœ¨ä¸€ä¸ªå˜é‡ä¸Š(åœ¨æˆ‘ä»¬çš„ä¾‹å­é‡Œæ˜¯ hello)ã€‚module ä¼šå°†æ•´ä¸ªæ¨¡å—çš„ API å¯¼å…¥å¹¶ç»‘å®šåˆ°ä¸€ä¸ªå˜é‡ä¸Š(åœ¨æˆ‘ä»¬çš„ä¾‹å­é‡Œæ˜¯ bar)ã€‚export ä¼šå°†å½“å‰æ¨¡å—çš„ä¸€ä¸ªæ ‡è¯†ç¬¦(å˜é‡ã€å‡½æ•°)å¯¼å‡ºä¸ºå…¬å…± APIã€‚è¿™äº›æ“ä½œå¯ä»¥åœ¨æ¨¡å—å®šä¹‰ä¸­æ ¹æ®éœ€è¦ä½¿ç”¨ä»»æ„å¤šæ¬¡ã€‚ bar.js 12345function hello(who) { return &quot;Let me introduce: &quot; + who;}export hello; baz.js 12import bar from &quot;bar&quot;;console.log(bar.hello( &quot;rhino&quot; )); // Let II-ç¬¬1ç«  å…³äºthisthis æä¾›äº†ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼æ¥éšå¼â€œä¼ é€’â€ä¸€ä¸ªå¯¹è±¡å¼•ç”¨ï¼Œå› æ­¤å¯ä»¥å°† API è®¾è®¡å¾—æ›´åŠ ç®€æ´å¹¶ä¸”æ˜“äºå¤ç”¨ã€‚ this æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œç»‘å®šçš„ï¼Œå¹¶ä¸æ˜¯åœ¨ç¼–å†™æ—¶ç»‘å®šï¼Œå®ƒçš„ä¸Šä¸‹æ–‡å–å†³äºå‡½æ•°è°ƒç”¨æ—¶çš„å„ç§æ¡ä»¶ã€‚this çš„ç»‘å®šå’Œå‡½æ•°å£°æ˜çš„ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªå–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ´»åŠ¨è®°å½•(æœ‰æ—¶å€™ä¹Ÿç§°ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡)ã€‚è¿™ä¸ªè®°å½•ä¼šåŒ…å«å‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨(è°ƒç”¨æ ˆ)ã€å‡½æ•°çš„è°ƒç”¨æ–¹æ³•ã€ä¼ å…¥çš„å‚æ•°ç­‰ä¿¡æ¯ã€‚this å°±æ˜¯è®°å½•çš„å…¶ä¸­ä¸€ä¸ªå±æ€§ï¼Œä¼šåœ¨å‡½æ•°æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ç”¨åˆ°ã€‚ thisæ—¢ä¸æŒ‡å‘å‡½æ•°è‡ªèº«ä¹Ÿä¸æŒ‡å‘å‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸ thiså®é™…ä¸Šæ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶å‘ç”Ÿçš„ç»‘å®šï¼Œå®ƒæŒ‡å‘ä»€ä¹ˆå®Œå…¨å–å†³äºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ã€‚ II-ç¬¬2ç«  thiså…¨é¢è§£æä»ä¸Šä¸€ç« çŸ¥é“ç†è§£thisï¼Œå°±æ˜¯è¦ç†è§£å‡½æ•°è¢«è°ƒç”¨çš„ä½ç½®ã€‚ä½†å®è·µèµ·æ¥æœ‰ç‚¹å¤æ‚ã€‚ 1é‡è¦çš„æ˜¯åˆ†æè°ƒç”¨æ ˆï¼Œåœ¨å½“å‰æ­£åœ¨æ‰§è¡Œå‡½æ•°å‰ä¸€ä¸ªè°ƒç”¨ä¸­ã€‚åœ¨å‡½æ•°ç¬¬ä¸€è¡Œè®¾ç½®`debugger`,å¼€å‘è€…å·¥å…·è°ƒç”¨æ ˆçš„ç¬¬äºŒä¸ªå…ƒç´ å°±æ˜¯çœŸæ­£çš„è°ƒç”¨ä½ç½®ã€‚ å››æ¡ç»‘å®šè§„åˆ™1. ç‹¬ç«‹è°ƒç”¨ç‹¬ç«‹å‡½æ•°è°ƒç”¨ï¼Œå³ä½¿ç”¨ä¸å¸¦ä»»ä½•ä¿®é¥°çš„å‡½æ•°å¼•ç”¨è¿›è¡Œè°ƒç”¨çš„ï¼Œå› æ­¤åªèƒ½ä½¿ç”¨é»˜è®¤ç»‘å®šï¼Œæ— æ³•åº”ç”¨å…¶ä»–è§„åˆ™ã€‚ this çš„ç»‘å®šè§„åˆ™å®Œå…¨å–å†³äºè°ƒç”¨ä½ç½®ï¼Œä½†æ˜¯åªæœ‰ foo() è¿è¡Œåœ¨é strict mode ä¸‹æ—¶ï¼Œé»˜è®¤ç»‘å®šæ‰èƒ½ç»‘å®šåˆ°å…¨å±€å¯¹è±¡;ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸ foo() çš„è°ƒç”¨ä½ç½®æ— å…³: 123456function foo() { &quot;use strict&quot;; console.log( this.a );}var a = 2;foo(); // TypeError: this is undefined 12345function foo() { console.log( this.a );}var a = 2;foo(); // 2 2. éšå¼ç»‘å®šå½“å‡½æ•°å¼•ç”¨æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡æ—¶ï¼Œéšå¼ç»‘å®šè§„åˆ™ä¼šæŠŠå‡½æ•°è°ƒç”¨ä¸­çš„ this ç»‘å®šåˆ°è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ å¦‚ä¸‹ï¼š 123456789101112function foo() { console.log( this.a );}var obj2 = { a: 42, foo: foo};var obj1 = { a: 2, obj2: obj2};obj1.obj2.foo(); // 42 éšå¼ä¸¢å¤±ä¸€ä¸ªæœ€å¸¸è§çš„ this ç»‘å®šé—®é¢˜æ˜¯è¢«éšå¼ç»‘å®šçš„å‡½æ•°ä¼šä¸¢å¤±ç»‘å®šå¯¹è±¡ï¼Œå®ƒä¼šåº”ç”¨é»˜è®¤ç»‘å®šï¼Œä»è€ŒæŠŠ this ç»‘å®šåˆ°å…¨å±€å¯¹è±¡æˆ–è€… undefined ä¸Šï¼Œå–å†³äºæ˜¯å¦æ˜¯ä¸¥æ ¼æ¨¡å¼ã€‚ 123456789function foo() { console.log( this.a );}var obj = { a: 2, foo: foo};var bar = obj.foo; // å‡½æ•°åˆ«å!var a = &quot;oops, global&quot;; // a æ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§ bar(); // &quot;oops, global&quot; å›è°ƒå‡½æ•°é‡Œä¹Ÿä¼šæœ‰thisä¸¢å¤±ç°è±¡ 3. æ˜¾å¼ç»‘å®šcallå’Œapplyå¯ä»¥ç›´æ¥æŒ‡å®š this çš„ç»‘å®šå¯¹è±¡ï¼Œç§°ä¹‹ä¸ºæ˜¾å¼ç»‘å®šã€‚ 1234567function foo() { console.log(this.a);}var obj = { a:2};foo.call(obj); // 2 ç¡¬ç»‘å®š12345678910111213function foo() { console.log( this.a );}var obj = { a:2};var bar = function() { foo.call( obj );};bar(); // 2setTimeout( bar, 10 ); // 2// ç¡¬ç»‘å®šçš„ bar ä¸å¯èƒ½å†ä¿®æ”¹å®ƒçš„ thisbar.call( window ); // 2 åœ¨barä¸­å¼ºåˆ¶æŠŠfooçš„thisç»‘å®šåˆ°objä¸Šï¼Œæ— è®ºä¹‹åæ€ä¹ˆè°ƒç”¨barï¼Œéƒ½ä¸ä¼šä¿®æ”¹thisã€‚è¿™ç§æ˜¾ç¤ºå¼ºç»‘å®šï¼Œç§°ä¸ºç¡¬ç»‘å®šã€‚ ES5 ä¸­æä¾›äº†å†…ç½®çš„æ–¹æ³•Function.prototype.bindä¹Ÿæ˜¯å¼ºç»‘å®šã€‚ APIè°ƒç”¨çš„â€œä¸Šä¸‹æ–‡â€(context)12[1, 2, 3].forEach( foo, obj );// 1 awesome 2 awesome 3 awesome è¿™ç§ä¹Ÿæ˜¯é€šè¿‡callå’Œapplyå®ç°çš„æ˜¾ç¤ºç»‘å®šã€‚ 4. newç»‘å®šjsé€šè¿‡newæ¥è°ƒç”¨å‡½æ•°ï¼Œæˆ–è€…è¯´å‘ç”Ÿæ„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢çš„æ“ä½œã€‚ åˆ›å»º(æ„é€ )ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚ è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡ŒåŸå‹è¿æ¥ã€‚ è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„thisã€‚ å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆnewè¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°å¯¹è±¡ã€‚ ä¼˜å…ˆçº§å››æ¡ç»‘å®šåŸåˆ™çš„ä¼˜å…ˆçº§ ç”±newè°ƒç”¨? ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚ ç”±callæˆ–è€…apply(æˆ–è€…bind)è°ƒç”¨? ç»‘å®šåˆ°æŒ‡å®šçš„å¯¹è±¡ã€‚ ç”±ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨? ç»‘å®šåˆ°é‚£ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ é»˜è®¤:åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç»‘å®šåˆ°undefinedï¼Œå¦åˆ™ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚ ç»‘å®šä¾‹å¤–æŠŠ null æˆ–è€… undefined ä½œä¸º this çš„ç»‘å®šå¯¹è±¡ä¼ å…¥ callã€apply æˆ–è€… bindï¼Œè¿™äº›å€¼åœ¨è°ƒç”¨æ—¶ä¼šè¢«å¿½ç•¥ï¼Œå®é™…åº”ç”¨çš„æ˜¯é»˜è®¤ç»‘å®šè§„åˆ™ã€‚ å‡½æ•°çš„é—´æ¥å¼•ç”¨ï¼Œä¼šå¯¼è‡´åº”ç”¨é»˜è®¤ç»‘å®šã€‚ è½¯ç»‘å®šç¡¬ç»‘å®šå¯ä»¥å¼ºåˆ¶ç»‘å®šåˆ°æŒ‡å®šå¯¹è±¡(é™¤newæ—¶)ï¼Œé™ä½äº†å‡½æ•°çš„çµæ´»æ€§ã€‚é‡‡ç”¨è½¯ç»‘å®šæ–¹å¼å¯ä»¥å®ç°å’Œç¡¬ç»‘å®šç›¸åŒçš„æ•ˆæœï¼ŒåŒæ—¶ä¿ç•™éšå¼ç»‘å®šä¿®æ”¹thisçš„èƒ½åŠ›ã€‚ 12345678910111213141516if (!Function.prototype.softBind) { Function.prototype.softBind = function(obj) { var fn = this; // æ•è·æ‰€æœ‰ curried å‚æ•° var curried = [].slice.call( arguments, 1 ); var bound = function() { return fn.apply( (!this || this === (window || global)) ? obj : this curried.concat.apply( curried, arguments ) ); }; bound.prototype = Object.create( fn.prototype ); return bound; };} thisè¯­æ³•ç®­å¤´å‡½æ•°() =&gt; {}æ— æ³•ä½¿ç”¨ä¸Šè¿°å››ç§è§„åˆ™ã€‚è€Œæ˜¯æ ¹æ®å¤–å±‚ï¼ˆå‡½æ•°æˆ–è€…å…¨å±€ï¼‰ä½œç”¨åŸŸæ¥å†³å®šthisã€‚ç®­å¤´å‡½æ•°å¯ä»¥åƒ bind(..) ä¸€æ ·ç¡®ä¿å‡½æ•°çš„ this è¢«ç»‘å®šåˆ°æŒ‡å®šå¯¹è±¡ï¼Œå®ƒç”¨æ›´å¸¸è§çš„è¯æ³•ä½œç”¨åŸŸå–ä»£äº†ä¼ ç»Ÿçš„ this æœºåˆ¶ã€‚ æ²¡æœ‰ç®­å¤´å‡½æ•°ä¹‹å‰æˆ‘ä»¬ä¹ æƒ¯é‡‡ç”¨çš„æ–¹å¼ 12345678910function foo() { var self = this; // lexical capture of this setTimeout( function(){ console.log( self.a ); }, 100 );}var obj = { a: 2};foo.call( obj ); // 2 self = this å’Œç®­å¤´å‡½æ•°çœ‹èµ·æ¥éƒ½å¯ä»¥å–ä»£bind(..)ï¼Œä½†æ˜¯ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œå®ƒä»¬æƒ³æ›¿ä»£çš„æ˜¯ this æœºåˆ¶ã€‚ å°ç»“thiså…¨é¢è§£æå­¦ä¹ æœ¬ç« äº†è§£thisç»‘å®šçš„æ–¹å¼ï¼Œé€šè¿‡4æ¡å‡†åˆ™å®šä½å‡½æ•°è¿è¡Œæ—¶thisåˆ°åº•æŒ‡å‘ä»€ä¹ˆã€‚ åœ¨ç®­å¤´å‡½æ•°å‡ºæ¥ä¹‹åï¼Œç”¨() =&gt; {}å’Œbindå¯ä»¥è§£å†³å¤§å¤šæ•°é—®é¢˜äº†ã€‚ ES5å‡ºæ¥ä¹‹åï¼Œå¾ˆå¤šjsçš„é—®é¢˜è¢«æ–°è¯­æ³•å–ä»£äº†ï¼Œä½†æˆ‘ä»¬å¯ä»¥æŠ½æ—¶é—´å¤šäº†è§£æ–°è¯­æ³•èƒŒåçš„å†å²ï¼Œèƒ½æ›´æ·±å…¥çš„äº†è§£jsæœ¬èº«çš„é­…åŠ›ã€‚ II-ç¬¬3ç«  å¯¹è±¡å¯¹è±¡æ˜¯JavaScriptçš„åŸºç¡€ã€‚ ECMAScript æ ‡å‡†å®šä¹‰äº† 8 ç§æ•°æ®ç±»å‹: 7 ç§åŸå§‹ç±»å‹:UndefinedNullNumberBooleanBigIntStringSymbolå’Œ Object è®°å¿†å£è¯€ï¼šæ¬§å‘¦(O)ä½ (U)ä¿©(2ä¸ª)ç‰›(N)é€¼(B)å•¥(S) å®šä¹‰å¯¹è±¡ä¸¤ç§å½¢å¼ï¼šå£°æ˜å½¢å¼å’Œæ„é€ å½¢å¼ã€‚ 123456789// å£°æ˜var myObj = { key: value // ...};// æ„é€ var myObj = new Object();myObj.key = value; å¯è®¡ç®—å±æ€§ES6 å¢åŠ äº†å¯è®¡ç®—å±æ€§åï¼Œå¯ä»¥åœ¨æ–‡å­—å½¢å¼ä¸­ä½¿ç”¨ [] åŒ…è£¹ä¸€ä¸ªè¡¨è¾¾å¼æ¥å½“ä½œå±æ€§å: 123456var prefix = &quot;foo&quot;;var myObject = { [prefix + &quot;bar&quot;]:&quot;hello&quot;, [prefix + &quot;baz&quot;]: &quot;world&quot;};myObject[&quot;foobar&quot;]; // hello å±æ€§ä¸æ–¹æ³•jsä¸­å‡½æ•°ä¸ä¼šå±äºä¸€ä¸ªå¯¹è±¡ï¼Œå› ä¸ºthisæ˜¯åœ¨è¿è¡Œæ—¶æ ¹æ®è°ƒç”¨ä½ç½®åŠ¨æ€ç»‘å®šçš„ã€‚ æ‰€ä»¥æ–¹æ³•è¿™ä¸ªç§°å‘¼ä¸å¤ªæˆç«‹ã€‚ä½†è¿™åªæ˜¯ä¸ªç§°å‘¼ï¼Œä¸å¿…å¤ªçº ç»“ã€‚ å¤åˆ¶å¯¹è±¡æµ…å¤åˆ¶ å¯¹äºJSONå®‰å…¨(å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ª JSON å­—ç¬¦ä¸²å¹¶ä¸”å¯ä»¥æ ¹æ®è¿™ä¸ªå­—ç¬¦ä¸²è§£æå‡ºä¸€ä¸ªç»“æ„å’Œå€¼å®Œå…¨ä¸€æ ·çš„å¯¹è±¡)çš„å¯¹è±¡å¯ä»¥ç”¨JSON.parseå¤åˆ¶ var newObj = JSON.parse(JSON.stringify(someObj)); ES6ä¸­å¯ä»¥ç”¨Object.assign({}, obj)å¤åˆ¶ å±æ€§æè¿°ç¬¦å±æ€§æè¿°ç¬¦writable(å¯å†™), configurable(å¯é…ç½®), enumerable(å¯æšä¸¾) å¯ä»¥ä½¿ç”¨Object.definePropertyå®šä¹‰å±æ€§ 1234567Object.defineProperty(obj, 'KEY', { value: 12, writable: false, configurable: false}); å¦‚æœæŠŠ enumerable è®¾ç½®æˆ falseï¼Œè¿™ä¸ªå±æ€§ä¸ä¼šå‡ºç°åœ¨æšä¸¾ä¸­ï¼ˆæ¯”å¦‚for..inï¼‰ã€‚ä½†å¯ä»¥æ­£å¸¸è®¿é—®è¿™ä¸ªå±æ€§ã€‚ ç»“åˆwritable: falseå’Œconfigurable: falseå¯ä»¥åˆ›å»ºä¸€ä¸ªçœŸæ­£çš„å¸¸é‡å±æ€§(ä¸å¯ä¿®æ”¹ã€é‡å®šä¹‰æˆ–åˆ é™¤) ç¦æ­¢ä¸€ä¸ªå¯¹è±¡æ·»åŠ æ–°å±æ€§å¹¶ä¸”ä¿ç•™å·²æœ‰å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨Object.preventExtensions(obj) å¯†å°ï¼šObject.seal(..)è°ƒç”¨Object.preventExtensions(obj)æŠŠæ‰€æœ‰ç°æœ‰å±æ€§æ ‡è®°ä¸ºconfigurable: falseã€‚å¯†å°åä¸èƒ½æ·»åŠ ï¼Œé‡æ–°é…ç½®å’Œåˆ é™¤ç°æœ‰å±æ€§ã€‚å¯ä»¥ä¿®æ”¹å±æ€§çš„å€¼ã€‚ å†»ç»“ï¼šObject.freeze(..)è°ƒç”¨Object.seal(..)æŠŠæ‰€æœ‰æ•°æ®è®¿é—®å±æ€§æ ‡è®°ä¸ºwritable: falseã€‚è¿™æ ·å°±æ— æ³•ä¿®æ”¹å±æ€§å€¼ã€‚ get, setget: å±æ€§è®¿é—®å…ˆåœ¨å¯¹è±¡ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰åç§°ç›¸åŒçš„å±æ€§ï¼Œæ²¡æ‰¾åˆ°å°±éå†å¯èƒ½å­˜åœ¨çš„åŸå‹é“¾ï¼Œæ‰¾ä¸åˆ°çš„è¯è¿”å›undefinedã€‚ set: å…ˆåˆ¤æ–­å±æ€§æ˜¯å¦æ˜¯è®¿é—®æè¿°ç¬¦ï¼Œå­˜åœ¨setterå°±è°ƒç”¨setterã€‚ writableæ˜¯å¦ä¸ºfalseã€‚æ˜¯ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹é™é»˜å¤±è´¥ï¼Œä¸¥æ ¼æ¨¡å¼æŠ›å‡ºTypeErrorå¼‚å¸¸ã€‚ éƒ½ä¸æ˜¯ï¼Œè®¾ç½®å±æ€§å€¼ã€‚ 1234567891011var myObject = {// ç»™ a å®šä¹‰ä¸€ä¸ª getter get a() { return this._a_; },// ç»™ a å®šä¹‰ä¸€ä¸ª setter set a(val) { this._a_ = val * 2; }};myObject.a = 2; myObject.a; // 4 å­˜åœ¨æ€§åˆ¤æ–­å¯¹è±¡æ˜¯å¦æœ‰æŸä¸ªå±æ€§ 1234567var myObject = { a:2};(&quot;a&quot; in myObject); // true(&quot;b&quot; in myObject); // falsemyObject.hasOwnProperty( &quot;a&quot; ); // truemyObject.hasOwnProperty( &quot;b&quot; ); // false inæ“ä½œç¬¦ä¼šæ£€æŸ¥å±æ€§æ˜¯å¦åœ¨å¯¹è±¡åŠå…¶åŸå‹é“¾ä¸­ hasOwnProperty(..) åªä¼šæ£€æŸ¥å±æ€§æ˜¯å¦åœ¨ myObject å¯¹è±¡ä¸­ï¼Œä¸ä¼šæ£€æŸ¥é“¾ã€‚ æ‰€æœ‰çš„æ™®é€šå¯¹è±¡éƒ½å¯ä»¥é€šè¿‡å¯¹äº Object.prototype çš„å§”æ‰˜æ¥è®¿é—® hasOwnProperty(..)ï¼Œä½†æ˜¯æœ‰çš„å¯¹è±¡å¯èƒ½æ²¡æœ‰è¿æ¥åˆ° Object.prototype(é€šè¿‡ Object. create(null) æ¥åˆ›å»º)ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½¢å¦‚myObejct.hasOwnProperty(..)å°±ä¼šå¤±è´¥ã€‚ å¯ä»¥é‡‡ç”¨Object.prototype.hasOwnProperty. call(myObject,&quot;a&quot;)åˆ¤æ–­ åœ¨æ•°ç»„ä¸Šåº”ç”¨ for..in å¾ªç¯æœ‰æ—¶ä¼šäº§ç”Ÿå‡ºäººæ„æ–™çš„ç»“æœï¼Œå› ä¸ºè¿™ç§æšä¸¾ä¸ä»…ä¼šåŒ…å«æ‰€æœ‰æ•°å€¼ç´¢å¼•ï¼Œè¿˜ä¼šåŒ…å«æ‰€æœ‰å¯æšä¸¾å±æ€§ã€‚æœ€å¥½åªåœ¨å¯¹è±¡ä¸Šåº”ç”¨ for..in å¾ªç¯ï¼Œå¦‚æœè¦éå†æ•°ç»„å°±ä½¿ç”¨ä¼ ç»Ÿçš„ for å¾ªç¯æ¥éå†æ•°å€¼ç´¢å¼•ã€‚ 1234567// åˆ¤æ–­æ˜¯å¦å¯æšä¸¾myObject.propertyIsEnumerable( &quot;a&quot; ); // truemyObject.propertyIsEnumerable( &quot;b&quot; ); // false// æ‰€æœ‰å¯æšä¸¾å±æ€§çš„æ•°ç»„Object.keys( myObject ); // [&quot;a&quot;]// æ‰€æœ‰å±æ€§ï¼Œæ— è®ºå®ƒä»¬æ˜¯å¦å¯æšä¸¾Object.getOwnPropertyNames( myObject ); // [&quot;a&quot;, &quot;b&quot;] éå†for..inæ— æ³•ç›´æ¥è·å–å±æ€§å€¼ï¼Œå› ä¸ºå®ƒéå†çš„æ˜¯å¯¹è±¡ä¸­çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œéœ€è¦æ‰‹åŠ¨è·å–å±æ€§å€¼ã€‚for..ofå¾ªç¯æ¯æ¬¡è°ƒç”¨ myObject è¿­ä»£å™¨å¯¹è±¡çš„ next() æ–¹æ³•æ—¶ï¼Œå†…éƒ¨çš„æŒ‡é’ˆéƒ½ä¼šå‘å‰ç§»åŠ¨å¹¶è¿”å›å¯¹è±¡å±æ€§åˆ—è¡¨çš„ä¸‹ä¸€ä¸ªå€¼ã€‚ å°ç»“ ç¬¬3ç« å¯¹è±¡äº†è§£å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆå®šä¹‰ï¼Œä¸€äº›å¸¸ç”¨æ–¹æ³•å’Œç‰¹æ€§ï¼Œéå†å¯¹è±¡ã€‚ å·¥ä½œä¸­å¯¹è±¡çš„ä½¿ç”¨æ˜¯éå¸¸é¢‘ç¹çš„ï¼Œç†Ÿç»ƒæŒæ¡å„ç§APIæ˜¯æå‡æŠ€æœ¯çš„å¿…å¤‡æ¡ä»¶ã€‚ æœ€ä½³å®è·µ12345678910111213141516171819202122// goodconst newObj = { a: 12, b: 23};// badconst newObj = {};newObj.a = 12;newObj.b = 23;newObj['a'] = 12;// goodthis.setState({ ...newObj});// badthis.setState({ a: newObj.a, b: newObj.b}); II-ç¬¬4ç«  æ··åˆå¯¹è±¡â€ç±»â€œ æˆ‘çš„ç†è§£ç±»ä¹Ÿæ˜¯ä¸€ç§å¯¹è±¡è€Œå·²ï¼Œæ²¡é‚£ä¹ˆå¤æ‚ã€‚ ç±»æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚è®¸å¤šè¯­è¨€æä¾›äº†å¯¹äºé¢å‘ç±»è½¯ä»¶è®¾è®¡çš„åŸç”Ÿè¯­æ³•ã€‚ ç±»æ„å‘³ç€å¤åˆ¶ã€‚ä¼ ç»Ÿçš„ç±»è¢«å®ä¾‹åŒ–æ—¶ï¼Œå®ƒçš„è¡Œä¸ºä¼šè¢«å¤åˆ¶åˆ°å®ä¾‹ä¸­ã€‚ç±»è¢«ç»§æ‰¿æ—¶ï¼Œè¡Œä¸ºä¹Ÿä¼šè¢«å¤åˆ¶åˆ°å­ç±»ä¸­ã€‚å¤šæ€(åœ¨ç»§æ‰¿é“¾çš„ä¸åŒå±‚æ¬¡åç§°ç›¸åŒä½†æ˜¯åŠŸèƒ½ä¸åŒçš„å‡½æ•°)çœ‹èµ·æ¥ä¼¼ä¹æ˜¯ä»å­ç±»å¼•ç”¨çˆ¶ç±»ï¼Œä½†æ˜¯æœ¬è´¨ä¸Šå¼•ç”¨çš„æ˜¯å¤åˆ¶çš„ç»“æœã€‚ JavaScript å¹¶ä¸ä¼š(åƒç±»é‚£æ ·)è‡ªåŠ¨åˆ›å»ºå¯¹è±¡çš„å‰¯æœ¬ã€‚ æ··å…¥æ¨¡å¼ç”¨æ¥æ¨¡æ‹Ÿç±»çš„å¤åˆ¶è¡Œä¸ºã€‚Vueä¸­ä¹Ÿæä¾›äº†ç±»ä¼¼çš„API,mixin II-ç¬¬5ç«  åŸå‹ï¼ˆè¿˜éœ€å¤šè¯»å‡ éï¼‰1è¿™ç¯‡æ–‡ç« æ˜¯JSçš„é‡ä¸­ä¹‹é‡ï¼Œè¦ç”¨å¿ƒç ”è¯»~~ èƒ½å­¦åˆ°çš„çŸ¥è¯†ï¼š å¯¹è±¡æŸ¥æ‰¾å’Œè®¾ç½®å±æ€§èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆ åŸå‹é“¾å½¢æˆçš„æœºåˆ¶å’Œç‰¹ç‚¹ å‰é¢è¯´åˆ°åœ¨å¯¹è±¡é‡ŒæŸ¥æ‰¾å±æ€§æ—¶ï¼Œå¦‚æœåœ¨å¯¹è±¡æœ¬èº«æ‰¾ä¸åˆ°ï¼Œä¼šç»§ç»­è®¿é—®å¯¹è±¡çš„prototypeé“¾ã€‚å¦‚æœéƒ½æ²¡æœ‰çš„è¯è¿”å›undefined 1234567var anotherObject = { a:2};// åˆ›å»ºä¸€ä¸ªå…³è”åˆ° anotherObject çš„å¯¹è±¡var myObject = Object.create( anotherObject );console.log(myObject); // {}myObject.a; // 2 ç°åœ¨myObjectçš„prototypeå…³è”åˆ°anotherObjectï¼ŒmyObject.aå¹¶ä¸å­˜åœ¨ï¼Œä½†myObject.aç»“æœä¸º2 for..inéå†å¯¹è±¡æ—¶åŸç†å’ŒæŸ¥æ‰¾åŸå‹é“¾ç±»ä¼¼ã€‚ä»»ä½•å¯é€šè¿‡åŸå‹é“¾è®¿é—®åˆ°(å¹¶ä¸”æ˜¯enumerable)çš„å±æ€§éƒ½ä¼šè¢«æšä¸¾ å½“ä½ é€šè¿‡å„ç§è¯­æ³•è¿›è¡Œå±æ€§æŸ¥æ‰¾æ—¶éƒ½ä¼šæŸ¥æ‰¾åŸå‹é“¾ï¼Œç›´åˆ°æ‰¾åˆ°å±æ€§æˆ–è€…æŸ¥æ‰¾å®Œæ•´æ¡åŸå‹é“¾ã€‚ åŸå‹é“¾çš„å°½å¤´æ˜¯Object.prototypetoString()ã€valueOf()å’Œå…¶ä»–ä¸€äº›é€šç”¨çš„åŠŸèƒ½ éƒ½å­˜åœ¨äºObject.prototypeå¯¹è±¡ä¸Šï¼Œå› æ­¤è¯­è¨€ä¸­æ‰€æœ‰çš„å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨å®ƒä»¬ã€‚ å±æ€§è®¾ç½®å’Œå±è”½ç»™ä¸€ä¸ªå¯¹è±¡è®¾ç½®å±æ€§çš„è¿‡ç¨‹å¹¶ä¸ç®€å•ã€‚é€šè¿‡ä¾‹å­æ¥çœ‹myObject.foo = &quot;bar&quot;; ä¸€ã€ å¦‚æœ myObject å¯¹è±¡ä¸­åŒ…å«åä¸º foo çš„æ™®é€šæ•°æ®è®¿é—®å±æ€§ï¼Œè¿™æ¡èµ‹å€¼è¯­å¥åªä¼šä¿®æ”¹å·²æœ‰çš„å±æ€§å€¼ã€‚ äºŒã€ å¦‚æœ foo ä¸æ˜¯ç›´æ¥å­˜åœ¨äº myObject ä¸­ï¼ŒåŸå‹é“¾å°±ä¼šè¢«éå†ã€‚å¦‚æœåŸå‹é“¾ä¸Šæ‰¾ä¸åˆ° fooï¼Œfoo å°±ä¼šè¢«ç›´æ¥æ·»åŠ åˆ° myObject ä¸Šã€‚ ä¸‰ã€ å¦‚æœ foo å­˜åœ¨äºåŸå‹é“¾ä¸Šå±‚ï¼Œèµ‹å€¼è¯­å¥ myObject.foo = &quot;bar&quot; çš„è¡Œä¸ºå°±ä¼šæœ‰äº›ä¸åŒã€‚ å¦‚æœå±æ€§å foo æ—¢å‡ºç°åœ¨ myObject ä¸­ä¹Ÿå‡ºç°åœ¨ myObject çš„åŸå‹é“¾ä¸Šå±‚ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿå±è”½ã€‚myObject ä¸­åŒ…å«çš„ foo å±æ€§ä¼šå±è”½åŸå‹é“¾ä¸Šå±‚çš„æ‰€æœ‰ foo å±æ€§ï¼Œå› ä¸º myObject.foo æ€»æ˜¯ä¼šé€‰æ‹©åŸå‹é“¾ä¸­æœ€åº•å±‚çš„ foo å±æ€§ã€‚ å±è”½ï¼šåœ¨å½“å‰ä½œç”¨åŸŸæ·»åŠ å±æ€§ï¼Œä»¥éš”ç»è®¿é—®åŸå‹é“¾ä¸Šå±‚çš„åŒæ ·å±æ€§ å‘ç”Ÿå±è”½çš„ä¸‰ç§æƒ…å†µï¼š å¦‚æœåœ¨åŸå‹é“¾ä¸Šå±‚å­˜åœ¨åä¸ºfooçš„æ™®é€šæ•°æ®è®¿é—®å±æ€§å¹¶ä¸”æ²¡æœ‰è¢«æ ‡è®°ä¸ºåªè¯»ï¼Œé‚£å°±ä¼šç›´æ¥åœ¨ myObject ä¸­æ·»åŠ ä¸€ä¸ªåä¸º foo çš„æ–°å±æ€§ï¼Œå®ƒæ˜¯å±è”½å±æ€§ã€‚ å¦‚æœåœ¨åŸå‹é“¾ä¸Šå±‚å­˜åœ¨fooï¼Œä½†æ˜¯å®ƒè¢«æ ‡è®°ä¸ºåªè¯»ï¼Œé‚£ä¹ˆæ— æ³•ä¿®æ”¹å·²æœ‰å±æ€§æˆ–è€…åœ¨ myObject ä¸Šåˆ›å»ºå±è”½å±æ€§ã€‚å¦‚æœè¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä»£ç ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å¦åˆ™ï¼Œè¿™æ¡èµ‹å€¼è¯­å¥ä¼šè¢«å¿½ç•¥ã€‚æ€»ä¹‹ï¼Œä¸ä¼šå‘ç”Ÿå±è”½ã€‚ å¦‚æœåœ¨åŸå‹é“¾ä¸Šå±‚å­˜åœ¨fooå¹¶ä¸”å®ƒæ˜¯ä¸€ä¸ªsetterï¼Œé‚£å°±ä¸€å®šä¼šè°ƒç”¨è¿™ä¸ª setterã€‚foo ä¸ä¼šè¢«æ·»åŠ åˆ°(æˆ–è€…è¯´å±è”½äº)myObjectï¼Œä¹Ÿä¸ä¼šé‡æ–°å®šä¹‰ foo è¿™ä¸ª setterã€‚ å‘åŸå‹é“¾ä¸Šå±‚å·²ç»å­˜åœ¨çš„å±æ€§èµ‹å€¼ï¼Œä¸ä¸€å®šä¼šè§¦å‘å±è”½(ç¬¬äºŒä¸‰ç§)ã€‚å¦‚æœå¸Œæœ›åœ¨ç¬¬äºŒç§å’Œç¬¬ä¸‰ç§æƒ…å†µä¸‹ä¹Ÿå±è”½ fooï¼Œé‚£å°±ä¸èƒ½ä½¿ç”¨ = æ“ä½œç¬¦æ¥èµ‹å€¼ï¼Œè€Œæ˜¯ä½¿ç”¨ Object.defineProperty(..)æ¥å‘ myObject æ·»åŠ  fooã€‚ åªè¯»å±æ€§ä¼šé˜»æ­¢åŸå‹é“¾ä¸‹å±‚å±è”½åŒåå±æ€§ã€‚è¿™æ ·åšä¸»è¦æ˜¯ä¸ºäº†æ¨¡æ‹Ÿç±»å±æ€§çš„ç»§æ‰¿ã€‚ä½ å¯ä»¥æŠŠåŸå‹é“¾ä¸Šå±‚çš„ foo çœ‹ä½œæ˜¯çˆ¶ç±»ä¸­çš„å±æ€§ï¼Œå®ƒä¼šè¢« myObject ç»§æ‰¿(å¤åˆ¶)ï¼Œè¿™æ ·ä¸€æ¥ myObject ä¸­çš„ foo å±æ€§ä¹Ÿæ˜¯åªè¯»ï¼Œæ‰€ä»¥æ— æ³•åˆ›å»ºã€‚ä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼Œå®é™…ä¸Šå¹¶ä¸ä¼šå‘ç”Ÿç±»ä¼¼çš„ç»§æ‰¿å¤åˆ¶ã€‚è¿™çœ‹èµ·æ¥æœ‰ç‚¹å¥‡æ€ªï¼ŒmyObject å¯¹è±¡ç«Ÿç„¶ä¼šå› ä¸ºå…¶ä»–å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªåªè¯» foo å°±ä¸èƒ½åŒ…å« foo å±æ€§ã€‚æ›´å¥‡æ€ªçš„æ˜¯ï¼Œè¿™ä¸ªé™åˆ¶åªå­˜åœ¨äº = èµ‹å€¼ä¸­ï¼Œä½¿ç”¨ Object. defineProperty(..) å¹¶ä¸ä¼šå—åˆ°å½±å“ã€‚ æœ‰äº›æƒ…å†µä¸‹ä¼šéšå¼äº§ç”Ÿå±è”½ï¼Œå¦‚ä¸‹ï¼š 1234567891011var anotherObject = { a:2};var myObject = Object.create( anotherObject );anotherObject.a; // 2myObject.a; // 2myObject.a++; // éšå¼å±è”½!anotherObject.a; // 2myObject.a; // 3myObject.hasOwnProperty( &quot;a&quot; ); // true ++ æ“ä½œç›¸å½“äº myObject.a = myObject.a + 1ã€‚å› æ­¤ ++ æ“ä½œé¦–å…ˆä¼šé€šè¿‡åŸå‹é“¾æŸ¥æ‰¾å±æ€§ a å¹¶ä» anotherObject.a è·å–å½“å‰å±æ€§å€¼ 2ï¼Œç„¶åç»™è¿™ä¸ªå€¼åŠ  1ï¼Œæ¥ç€å°†å€¼ 3 èµ‹ç»™ myObject ä¸­æ–°å»ºçš„å±è”½å±æ€§ aã€‚ ä¿®æ”¹å§”æ‰˜å±æ€§æ—¶ä¸€å®šè¦å°å¿ƒã€‚å¦‚æœæƒ³è®© anotherObject.a çš„å€¼å¢åŠ ï¼Œå”¯ä¸€çš„åŠæ³•æ˜¯ anotherObject.a++ã€‚ ç±»å‡½æ•°å‡½æ•°çš„ä¸€ç§ç‰¹æ®Šç‰¹æ€§:æ‰€æœ‰çš„å‡½æ•°é»˜è®¤éƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªåä¸º prototype çš„å…¬æœ‰å¹¶ä¸”ä¸å¯æšä¸¾çš„å±æ€§ï¼Œå®ƒä¼šæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡: Fooçš„åŸå‹ã€‚æˆ‘ä»¬é€šè¿‡åä¸º Foo.prototype çš„å±æ€§å¼•ç”¨æ¥è®¿é—®å®ƒã€‚ 1234567function Foo() { // ...}Foo.prototype; // { }var a = new Foo();Object.getPrototypeOf( a ) === Foo.prototype; // true è°ƒç”¨ new Foo() æ—¶ä¼šåˆ›å»º aï¼Œå…¶ä¸­çš„ä¸€æ­¥å°±æ˜¯ç»™ a ä¸€ä¸ªå†…éƒ¨çš„åŸå‹é“¾ï¼Œå…³è”åˆ° Foo.prototype æŒ‡å‘çš„é‚£ä¸ªå¯¹è±¡ã€‚ åœ¨ JavaScript ä¸­ï¼Œä¸èƒ½åˆ›å»ºä¸€ä¸ªç±»çš„å¤šä¸ªå®ä¾‹ï¼Œåªèƒ½åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œå®ƒä»¬çš„åŸå‹é“¾å…³è”çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹å¤šæ¬¡å®ä¾‹åŒ–ä¸€ä¸ªç±»ä¸ä¼šè¿›è¡Œå¤åˆ¶ï¼Œ å› æ­¤è¿™äº›å¯¹è±¡ä¹‹é—´å¹¶ä¸ä¼šå®Œå…¨å¤±å»è”ç³»ï¼Œå®ƒä»¬æ˜¯äº’ç›¸å…³è”çš„ã€‚ é€šè¿‡new Foo()å¾—åˆ°äº†ä¸¤ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬ä¹‹é—´äº’ç›¸å…³è”ï¼Œå°±æ˜¯è¿™æ ·ã€‚æˆ‘ä»¬å¹¶æ²¡æœ‰åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå®é™…ä¸Šæˆ‘ä»¬å¹¶æ²¡æœ‰ä»â€œç±»â€ä¸­å¤åˆ¶ä»»ä½•è¡Œä¸ºåˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œåªæ˜¯è®©ä¸¤ä¸ªå¯¹è±¡äº’ç›¸å…³è”ã€‚ å®é™…ä¸Šï¼Œç»å¤§å¤šæ•° JavaScript å¼€å‘è€…ä¸çŸ¥é“çš„ç§˜å¯†æ˜¯ï¼Œnew Foo() è¿™ä¸ªå‡½æ•°è°ƒç”¨å®é™…ä¸Šå¹¶æ²¡æœ‰ç›´æ¥åˆ›å»ºå…³è”ï¼Œè¿™ä¸ªå…³è”åªæ˜¯ä¸€ä¸ªæ„å¤–çš„å‰¯ä½œç”¨ã€‚new Foo() åªæ˜¯é—´æ¥å®Œæˆäº†æˆ‘ä»¬çš„ç›®æ ‡:ä¸€ä¸ªå…³è”åˆ°å…¶ä»–å¯¹è±¡çš„æ–°å¯¹è±¡ã€‚ é€šè¿‡Object.create(..)å¯ä»¥ç›´æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ é€šå¸¸æˆ‘ä»¬è®²åŸå‹ç»§æ‰¿ã€‚ç»§æ‰¿æ„å‘³ç€å¤åˆ¶æ“ä½œã€‚JSé»˜è®¤ä¸ä¼šå¤åˆ¶å¯¹è±¡å±æ€§ã€‚ä¼šåœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºå…³è”ï¼Œè¿™æ ·ä¸€ä¸ªå¯¹è±¡å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ã€‚ å·®å¼‚ç»§æ‰¿ï¼Ÿ æ„é€ å‡½æ•°åœ¨ JavaScript ä¸­å¯¹äºâ€œæ„é€ å‡½æ•°â€æœ€å‡†ç¡®çš„è§£é‡Šæ˜¯ï¼Œæ‰€æœ‰å¸¦ new çš„å‡½æ•°è°ƒç”¨ã€‚ å‡½æ•°ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å½“ä¸”ä»…å½“ä½¿ç”¨ new æ—¶ï¼Œå‡½æ•°è°ƒç”¨ä¼šå˜æˆâ€œæ„é€ å‡½æ•°è°ƒç”¨â€ã€‚ 123456function Foo() { // ...}Foo.prototype.constructor === Foo; // truevar a = new Foo();a.constructor === Foo; // true Foo.prototype é»˜è®¤(åœ¨ä»£ç ä¸­ç¬¬ä¸€è¡Œå£°æ˜æ—¶)æœ‰ä¸€ä¸ªå…¬æœ‰å¹¶ä¸”ä¸å¯æšä¸¾çš„å±æ€§.constructorï¼Œè¿™ä¸ªå±æ€§å¼•ç”¨çš„æ˜¯å¯¹è±¡å…³è”çš„å‡½æ•°(æœ¬ä¾‹ä¸­æ˜¯ Foo)ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é€šè¿‡â€œæ„é€ å‡½æ•°â€è°ƒç”¨ new Foo() åˆ›å»ºçš„å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ª .constructor å±æ€§ï¼ŒæŒ‡å‘ â€œåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°â€ã€‚ a.constructor åªæ˜¯é€šè¿‡é»˜è®¤çš„åŸå‹å§”æ‰˜æŒ‡å‘ Fooï¼Œè¿™å’Œæ„é€ æ¯«æ— å…³ç³»ã€‚ 12345function Foo() { /* .. */ }Foo.prototype = { /* .. */ }; // åˆ›å»ºä¸€ä¸ªæ–°åŸå‹å¯¹è±¡var a1 = new Foo();a1.constructor === Foo; // false!a1.constructor === Object; // true! Object(..) å¹¶æ²¡æœ‰â€œæ„é€ â€a1ï¼Œçœ‹èµ·æ¥åº”è¯¥æ˜¯ Foo()â€œæ„é€ â€äº†å®ƒã€‚å¤§éƒ¨åˆ†å¼€å‘è€… éƒ½è®¤ä¸ºæ˜¯ Foo() æ‰§è¡Œäº†æ„é€ å·¥ä½œï¼Œä½†æ˜¯é—®é¢˜åœ¨äºï¼Œå¦‚æœä½ è®¤ä¸ºconstructorè¡¨ç¤ºâ€œç”±â€¦â€¦ æ„é€ â€çš„è¯ï¼Œa1.constructor åº”è¯¥æ˜¯ Fooï¼Œä½†æ˜¯å®ƒå¹¶ä¸æ˜¯ Foo ! a1 å¹¶æ²¡æœ‰ .constructor å±æ€§ï¼Œæ‰€ä»¥å®ƒä¼šå§”æ‰˜åŸå‹é“¾ä¸Šçš„ Foo. prototypeã€‚ä½†æ˜¯è¿™ä¸ªå¯¹è±¡ä¹Ÿæ²¡æœ‰ .constructor å±æ€§(ä¸è¿‡é»˜è®¤çš„ Foo.prototype å¯¹è±¡æœ‰è¿™ ä¸ªå±æ€§!)ï¼Œæ‰€ä»¥å®ƒä¼šç»§ç»­å§”æ‰˜ï¼Œè¿™æ¬¡ä¼šå§”æ‰˜ç»™å§”æ‰˜é“¾é¡¶ç«¯çš„ Object.prototypeã€‚è¿™ä¸ªå¯¹è±¡ æœ‰ .constructor å±æ€§ï¼ŒæŒ‡å‘å†…ç½®çš„ Object(..) å‡½æ•°ã€‚ å¯¹è±¡çš„ .constructor ä¼šé»˜è®¤æŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥é€šè¿‡å¯¹è±¡çš„ .prototype å¼•ç”¨ã€‚ constructor å¹¶ä¸è¡¨ç¤ºè¢«æ„é€ .constructor å¹¶ä¸æ˜¯ä¸€ä¸ªä¸å¯å˜å±æ€§ã€‚å®ƒæ˜¯ä¸å¯æšä¸¾çš„ï¼Œä½†æ˜¯å®ƒçš„å€¼æ˜¯å¯å†™çš„ã€‚æ­¤å¤–ï¼Œä½ å¯ä»¥ç»™ä»»æ„åŸå‹é“¾ä¸­çš„ä»»æ„å¯¹è±¡æ·»åŠ ä¸€ä¸ªåä¸º constructor çš„å±æ€§æˆ–è€…å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œä½ å¯ä»¥ä»»æ„å¯¹å…¶èµ‹å€¼ã€‚ åŸå‹ç»§æ‰¿Bar.prototype = Object.create()Object.create(..) ä¼šå‡­ç©ºåˆ›å»ºä¸€ä¸ªâ€œæ–°â€å¯¹è±¡å¹¶æŠŠæ–°å¯¹è±¡å†…éƒ¨çš„åŸå‹é“¾å…³è”åˆ°æŒ‡å®šçš„å¯¹è±¡(æœ¬ä¾‹ä¸­æ˜¯ Foo.prototype)ã€‚æ¢å¥è¯è¯´ï¼Œè¿™æ¡è¯­å¥çš„æ„æ€æ˜¯:â€œåˆ›å»ºä¸€ä¸ªæ–°çš„ Bar.prototype å¯¹è±¡å¹¶æŠŠå®ƒå…³è”åˆ° Foo. prototypeâ€ã€‚ 1234// å’Œä½ æƒ³è¦çš„æœºåˆ¶ä¸ä¸€æ ·!Bar.prototype = Foo.prototype;// åŸºæœ¬ä¸Šæ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œä½†æ˜¯å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›å‰¯ä½œç”¨ :(Bar.prototype = new Foo(); Bar.prototype = Foo.prototype å¹¶ä¸ä¼šåˆ›å»ºä¸€ä¸ªå…³è”åˆ° Bar.prototype çš„æ–°å¯¹è±¡ï¼Œå®ƒåªæ˜¯è®© Bar.prototype ç›´æ¥å¼•ç”¨ Foo.prototype å¯¹è±¡ã€‚å› æ­¤å½“ä½ æ‰§è¡Œç±»ä¼¼Bar.prototype. myLabel = ...çš„èµ‹å€¼è¯­å¥æ—¶ä¼šç›´æ¥ä¿®æ”¹ Foo.prototype å¯¹è±¡æœ¬èº«ã€‚æ˜¾ç„¶è¿™ä¸æ˜¯ä½ æƒ³è¦çš„ç»“æœï¼Œå¦åˆ™ä½ æ ¹æœ¬ä¸éœ€è¦ Bar å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨ Foo å°±å¯ä»¥äº†ï¼Œè¿™æ ·ä»£ç ä¹Ÿä¼šæ›´ç®€å•ä¸€äº›ã€‚ Bar.prototype = new Foo() çš„ç¡®ä¼šåˆ›å»ºä¸€ä¸ªå…³è”åˆ° Bar.prototype çš„æ–°å¯¹è±¡ã€‚ä½†æ˜¯å®ƒä½¿ç”¨äº† Foo(..) çš„â€œæ„é€ å‡½æ•°è°ƒç”¨â€ï¼Œå¦‚æœå‡½æ•° Foo æœ‰ä¸€äº›å‰¯ä½œç”¨(æ¯”å¦‚å†™æ—¥å¿—ã€ä¿®æ”¹çŠ¶æ€ã€æ³¨å†Œåˆ°å…¶ä»–å¯¹è±¡ã€ç»™ this æ·»åŠ æ•°æ®å±æ€§ï¼Œç­‰ç­‰)çš„è¯ï¼Œå°±ä¼šå½±å“åˆ° Bar() çš„â€œåä»£â€ï¼Œåæœ ä¸å ªè®¾æƒ³ã€‚ å¯¹æ¯”ä¸€ä¸‹ä¸¤ç§æŠŠ Bar.prototype å…³è”åˆ° Foo.prototype çš„æ–¹æ³•: 1234// ES6 ä¹‹å‰éœ€è¦æŠ›å¼ƒé»˜è®¤çš„ Bar.prototypeBar.ptototype = Object.create( Foo.prototype );// ES6 å¼€å§‹å¯ä»¥ç›´æ¥ä¿®æ”¹ç°æœ‰çš„Bar.prototype Object.setPrototypeOf( Bar.prototype, Foo.prototype ); å¦‚æœå¿½ç•¥æ‰ Object.create(..) æ–¹æ³•å¸¦æ¥çš„è½»å¾®æ€§èƒ½æŸå¤±(æŠ›å¼ƒçš„å¯¹è±¡éœ€è¦è¿›è¡Œåƒåœ¾å›æ”¶)ï¼Œå®ƒå®é™…ä¸Šæ¯” ES6 åŠå…¶ä¹‹åçš„æ–¹æ³•æ›´çŸ­è€Œä¸”å¯è¯»æ€§æ›´é«˜ã€‚ä¸è¿‡æ— è®ºå¦‚ä½•ï¼Œè¿™æ˜¯ä¸¤ç§å®Œå…¨ä¸åŒçš„è¯­æ³•ã€‚ æ£€æŸ¥ç±»å…³ç³»instanceof æ“ä½œç¬¦çš„å·¦æ“ä½œæ•°æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œå³æ“ä½œæ•°æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ åœ¨ a çš„æ•´æ¡åŸå‹é“¾ä¸­æ˜¯å¦æœ‰æŒ‡å‘ Foo.prototype çš„å¯¹è±¡? è¿™ä¸ªæ–¹æ³•åªèƒ½å¤„ç†å¯¹è±¡(a)å’Œå‡½æ•°(å¸¦ .prototype å¼•ç”¨çš„ Foo)ä¹‹é—´çš„å…³ç³»ã€‚å¦‚æœä½ æƒ³åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡(æ¯”å¦‚ a å’Œ b)ä¹‹é—´æ˜¯å¦é€šè¿‡åŸå‹é“¾å…³è”ï¼Œåªç”¨ instanceof æ— æ³•å®ç°ã€‚ ç¬¬äºŒç§åˆ¤æ–­åå°„çš„æ–¹æ³•ï¼š Foo.prototype.isPrototypeOf( a ); // true b æ˜¯å¦å‡ºç°åœ¨ c çš„åŸå‹é“¾ä¸­?b.isPrototypeOf( c ); ç›´æ¥è·å–ä¸€ä¸ªå¯¹è±¡åŸå‹é“¾çš„æ–¹æ³•Object.getPrototypeOf(a) Object.getPrototypeOf( a ) === Foo.prototype; // true éæ ‡å‡†çš„æ–¹æ³•a.__proto__ === Foo.prototype; // true .constructorå’Œ.__proto__ä¸€æ ·ï¼Œå¹¶ä¸å­˜åœ¨äºä½ æ­£åœ¨ä½¿ç”¨çš„å¯¹è±¡ä¸­ (æœ¬ä¾‹ä¸­æ˜¯ a)ã€‚å®ƒå’Œå…¶ä»–çš„å¸¸ç”¨å‡½æ•°(.toString()ã€.isPrototypeOf(..)ï¼Œç­‰ç­‰)ä¸€æ ·ï¼Œå­˜åœ¨äºå†…ç½®çš„ Object.prototype ä¸­ã€‚æ˜¯ä¸å¯æšä¸¾çš„ã€‚ .proto çš„å®ç°å¤§è‡´ä¸Šæ˜¯è¿™æ ·çš„ 123456789Object.defineProperty( Object.prototype, &quot;__proto__&quot;, { get: function() { return Object.getPrototypeOf( this ); }, set: function(o) { // ES6 ä¸­çš„ setPrototypeOf(..) Object.setPrototypeOf( this, o ); return o; }}); å¯¹è±¡å…³è”Object.create(..) ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡(bar)å¹¶æŠŠå®ƒå…³è”åˆ°æˆ‘ä»¬æŒ‡å®šçš„å¯¹è±¡(foo)ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å……åˆ†å‘æŒ¥åŸå‹é“¾æœºåˆ¶çš„å¨åŠ›(å§”æ‰˜)å¹¶ä¸”é¿å…ä¸å¿…è¦çš„éº»çƒ¦(æ¯”å¦‚ä½¿ç”¨ new çš„æ„é€ å‡½æ•°è°ƒç”¨ä¼šç”Ÿæˆ .prototype å’Œ .constructor å¼•ç”¨)ã€‚ Object.create()çš„polyfillä»£ç  12345678if (!Object.create) { Object.create = function(o) { function F(){} F.prototype = o; return new F(); };} II-ç¬¬6ç«  è¡Œä¸ºå§”æ‰˜å§”æ‰˜è¡Œä¸ºæ„å‘³ç€æŸäº›å¯¹è±¡(XYZ)åœ¨æ‰¾ä¸åˆ°å±æ€§æˆ–è€…æ–¹æ³•å¼•ç”¨æ—¶ä¼šæŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™å¦ä¸€ä¸ªå¯¹è±¡(Task)ã€‚ 1234567891011121314Task = { setID: function(ID) { this.id = ID; }, outputID: function() { console.log( this.id ); }};// è®©XYZå§”æ‰˜TaskXYZ = Object.create( Task );XYZ.prepareTask = function(ID,Label) { this.setID(ID); this.label = Label;};XYZ.outputTaskDetails = function() { this.outputID(); console.log(this.label);}; è¿™æ˜¯ä¸€ç§æå…¶å¼ºå¤§çš„è®¾è®¡æ¨¡å¼ï¼Œå’Œçˆ¶ç±»ã€å­ç±»ã€ç»§æ‰¿ã€å¤šæ€ç­‰æ¦‚å¿µå®Œå…¨ä¸åŒã€‚åœ¨ä½ çš„è„‘æµ·ä¸­å¯¹è±¡å¹¶ä¸æ˜¯æŒ‰ç…§çˆ¶ç±»åˆ°å­ç±»çš„å…³ç³»å‚ç›´ç»„ç»‡çš„ï¼Œè€Œæ˜¯é€šè¿‡ä»»æ„æ–¹å‘çš„å§”æ‰˜å…³è”å¹¶æ’ç»„ç»‡çš„ã€‚ å†™ä¸ä¸‹å»äº†~~ å­¦ä¸ç²¾ï¼Œæ‰€ä»¥è®²ä¸é€š å¾…æˆ‘ç†è§£é€å½»å†æ¥æ›´æ–°å§","link":"/posts/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%B2%BE%E8%AF%BB%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%E4%B8%8A%E5%8D%B7/"},{"title":"ç²¾è¯»ä½ ä¸çŸ¥é“çš„JavaScriptä¸­å·","text":"[TOC] I-ç¬¬1ç«  ç±»å‹ä¸€ä¸ªäººèº«ä¸Šçš„ç‰¹å¼‚æ€§å’Œä¸€ä¸ªäººèº«ä¸Šçš„ç‰¹å¼‚æ€§ä¸æƒŠå¥‡æ€§å¹¶ä¸ä¼šå¯¹å¦ä¸€äººäº§ç”Ÿå‹åˆ¶ã€‚ä½ èº«ä¸Šçš„å¤©æ‰ï¼Œä¼šæ¿€å‘æˆ‘èº«ä¸Šçš„å¤©æ‰ã€‚ å†…ç½®ç±»å‹ECMAScript æ ‡å‡†å®šä¹‰äº† 8 ç§æ•°æ®ç±»å‹: 7 ç§åŸå§‹ç±»å‹:UndefinedNullNumberBooleanBigIntStringSymbolå’Œ Object(åŸºæœ¬ç±»å‹) è®°å¿†å£è¯€ï¼šæ¬§å‘¦(O)ä½ (U)ä¿©(2ä¸ª)ç‰›(N)é€¼(B)å•¥(S) ç”¨typeofæ¥æŸ¥çœ‹å€¼çš„ç±»å‹ï¼Œè¿”å›çš„æ˜¯å­—ç¬¦ä¸²ã€‚ä½†ç±»å‹å’Œå®ƒä»¬çš„å­—ç¬¦ä¸²å€¼ä¸ä¸€ä¸€å¯¹åº” 123456789101112131415161718192021typeof undefined === 'undefined' // truetypeof true === 'boolean' // truetypeof 12 === 'number' // truetypeof '12' === 'string' // truetypeof { life: 12 } === 'object' // truetypeof Symbol() === 'symbol' // truetypeof BigInt('1') === 'bigint' // truetypeof Object(BigInt('2')) === 'object' // true// ä¸ä¸€æ ·çš„typeof null === 'object' // true// æ£€æµ‹nullå€¼çš„ç±»å‹éœ€è¦å¤åˆæ¡ä»¶const a = null;(!a &amp;&amp; typeof a === 'object'); // true// functionä¹Ÿæ˜¯JSçš„å†…ç½®ç±»å‹ï¼Œå®é™…æ˜¯objectçš„å­ç±»å‹typeof function a() {/**/} === 'function'; // true// æ•°ç»„ä¹Ÿæ˜¯objectçš„å­ç±»å‹typeof [1,2,3] === 'object' // true å€¼å’Œç±»å‹JSä¸­å˜é‡æ²¡æœ‰ç±»å‹ï¼Œå€¼æ‰æœ‰ã€‚å˜é‡å¯ä»¥éšæ—¶æŒæœ‰ä»»ä½•ç±»å‹çš„å€¼ã€‚ typeofå¾—åˆ°çš„ç»“æœä¸æ˜¯è¯¥å˜é‡çš„ç±»å‹ï¼Œè€Œæ˜¯è¯¥å˜é‡æŒæœ‰å€¼çš„ç±»å‹ã€‚è¿”å›çš„æ€»æ˜¯å­—ç¬¦ä¸²ã€‚ 1234567let a = 12;typeof a; // 'number'a = true;typeof a; // 'boolean'typeof typeof 12; // 'string' typeof Undeclared123456let a;a; // undefinedb; // ReferenceError: b is not definedtypeof a; // 'undefined'typeof b; // 'undefined' typeofå¯¹æœªå®šä¹‰çš„å˜é‡ä¹Ÿè¿”å›undefinedã€‚ä¸”æ²¡æœ‰æŠ¥é”™ã€‚ è¿™æ˜¯å› ä¸ºtypeofæœ‰ä¸€ä¸ªç‰¹æ®Šçš„å®‰å…¨é˜²èŒƒæœºåˆ¶ã€‚ å¤šä¸ªè„šæœ¬ä¼šåœ¨å…±äº«çš„å…¨å±€å‘½åç©ºé—´ä¸­åŠ è½½å˜é‡ã€‚ 12345678910111213// è¿™æ ·ä¼šæŠ›å‡ºé”™è¯¯if (DEBUG) { console.log( 'Debugging is starting' );}// è¿™æ ·æ˜¯å®‰å…¨çš„if (typeof DEBUG !== 'undefined') { console.log( 'Debugging is starting' );}// å¯¹å†…å»ºAPIä¹Ÿæœ‰å¸®åŠ©if (typeof atob === 'undefined') { atob = function() { /*..*/ };} typeofå®‰å…¨æœºåˆ¶ä¹Ÿå¯ä»¥ç”¨æ¥åˆ¤æ–­éå…¨å±€å˜é‡ 123456789101112(function(){ function FeatureXYZ() { /*.. my XYZ feature ..*/ } // åŒ…å«doSomethingCool(..) function doSomethingCool() { var helper = (typeof FeatureXYZ !== 'undefined') ? FeatureXYZ : function() { /*.. default feature ..*/ }; var val = helper(); // .. } doSomethingCool();})(); è¿™é‡ŒFeatureXYZä¸æ˜¯å…¨å±€å˜é‡ï¼Œä¹Ÿå¯ä»¥ç”¨typeofå®‰å…¨é˜²èŒƒæœºåˆ¶æ¥åšæ£€æŸ¥ ä¹Ÿå¯ä»¥ç”¨ä¾èµ–æ³¨å…¥æ–¹å¼ 123456function doSomethingCool(FeatureXYZ) { var helper = FeatureXYZ || function() { /*.. default feature ..*/ }; var val = helper(); // ..} ç±»å‹å°ç»“ äº†è§£JSå†…ç½®ç±»å‹ æ ¹æ®typeofåˆ¤æ–­ç±»å‹ typeofçš„å®‰å…¨æœºåˆ¶åº”ç”¨åœºæ™¯ I-ç¬¬2ç«  å€¼1é€šè¿‡è¿™ç« çš„å­¦ä¹ ï¼Œå¯ä»¥äº†è§£ï¼Œæ•°ç»„ï¼Œå­—ç¬¦ä¸²ï¼Œç‰¹æ®Šæ•°å€¼ï¼Œå€¼ä¼ é€’å’Œå€¼å¼•ç”¨çš„åŒºåˆ« æ•°ç»„JSçš„æ•°ç»„å¯å®¹çº³ä»»ä½•ç±»å‹çš„å€¼ï¼Œæ•°ç»„å£°æ˜åå³å¯æ·»åŠ å€¼ï¼Œä¸ç”¨é¢„è®¾å¤§å°ã€‚ 123456let a = [1, '2', [3]];a.length; // 3a[2][0] === 3; // truea[4] = 5;a[3]; // undefined a[3]ä¸ºundefinedï¼Œç§°ä½œâ€ç¨€ç–æ•°ç»„â€ï¼ˆsparse arrayï¼‰ã€‚è¿™é‡Œçš„undefinedä¸æ˜¾ç¤ºèµ‹å€¼ä¸ºundefinedä¸åŒã€‚ æ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ã€‚å¯ä»¥è‡ªå®šä¹‰å±æ€§(ä¸è®¡ç®—åœ¨æ•°ç»„é•¿åº¦å†…)ã€‚ 1234let a = [1];a['foo'] = 2;a.length; // 1a['foo']; // 2 ç±»æ•°ç»„ç±»æ•°ç»„è½¬æ•°ç»„å¸¸ç”¨æ–¹æ³• 1234// slice() è¿”å›å‚æ•°åˆ—è¡¨çš„ä¸€ä¸ªæ•°ç»„å¤æœ¬ã€‚var arr = Array.prototype.slice.call( arguments );var arr = Array.from( arguments ); å­—ç¬¦ä¸²å­—ç¬¦ä¸²å’Œæ•°ç»„ç›¸ä¼¼ï¼Œéƒ½æœ‰lengthå±æ€§ï¼ŒindexOf, concatæ–¹æ³• 123456789101112131415161718let a = 'foo';let b = ['f', 'o', 'o'];a.length; // 3b.length; // 3a.indexOf('o'); // 1b.indexOf('o'); // 1var c = a.concat( 'bar' );// 'foobar'var d = b.concat( ['b','a','r'] );// ['f','o','o','b','a','r']a === c;// falseb === d;// falsea; // 'foo'b; // ['f','o','o'] å­—ç¬¦ä¸²ä¸å¯å˜æ˜¯æŒ‡å­—ç¬¦ä¸²çš„æˆå‘˜å‡½æ•°ä¸ä¼šæ”¹å˜å…¶åŸå§‹å€¼ï¼Œè€Œæ˜¯åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚è€Œæ•°ç»„çš„æˆå‘˜å‡½æ•°éƒ½æ˜¯åœ¨å…¶åŸå§‹å€¼ä¸Šè¿›è¡Œæ“ä½œã€‚ å€ŸåŠ©æ•°ç»„æ–¹æ³•æ¥å¤„ç†å­—ç¬¦ä¸² 12345678910a.join; // undefineda.map; // undefinedvar c = Array.prototype.join.call( a, '-' );var d = Array.prototype.map.call( a, function(v){ return v.toUpperCase() + '.';} ).join( '' );c; // 'f-o-o'd; // 'F.O.O.' å­—ç¬¦ä¸²åè½¬ å­—ç¬¦ä¸²æ²¡æœ‰reverseæ–¹æ³• 12345678var c = a// å°†açš„å€¼è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„.split( &quot;&quot; )// å°†æ•°ç»„ä¸­çš„å­—ç¬¦è¿›è¡Œå€’è½¬.reverse()// å°†æ•°ç»„ä¸­çš„å­—ç¬¦æ‹¼æ¥å›å­—ç¬¦ä¸².join( &quot;&quot; );c; // &quot;oof&quot; å¦‚æœç»å¸¸ä»¥å­—ç¬¦æ•°ç»„æ–¹å¼å¤„ç†å­—ç¬¦ä¸²çš„è¯ï¼Œå€’ä¸å¦‚ç›´æ¥ç”¨æ•°ç»„ã€‚åœ¨éœ€è¦æ—¶ä½¿ç”¨join()å°†æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ã€‚ æ•°å­—toFixed()è¿”å›çš„æ˜¯å­—ç¬¦ä¸²toPrecision(..) æ–¹æ³•ç”¨æ¥æŒ‡å®šæœ‰æ•ˆæ•°ä½çš„æ˜¾ç¤ºä½æ•° 12345678910111213var a = 42.59;a.toFixed( 0 ); // &quot;43&quot;a.toFixed( 1 ); // &quot;42.6&quot;a.toFixed( 2 ); // &quot;42.59&quot;a.toFixed( 3 ); // &quot;42.590&quot;var a = 42.59;a.toPrecision( 1 ); // &quot;4e+1&quot;a.toPrecision( 2 ); // &quot;43&quot;a.toPrecision( 3 ); // &quot;42.6&quot;a.toPrecision( 4 ); // &quot;42.59&quot;a.toPrecision( 5 ); // &quot;42.590&quot; ä¸è¿‡å¯¹äº . è¿ç®—ç¬¦éœ€è¦ç»™äºˆç‰¹åˆ«æ³¨æ„ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—å­—ç¬¦ï¼Œä¼šè¢«ä¼˜å…ˆè¯†åˆ«ä¸ºæ•°å­—å¸¸é‡çš„ä¸€éƒ¨åˆ†ï¼Œç„¶åæ‰æ˜¯å¯¹è±¡å±æ€§è®¿é—®è¿ç®—ç¬¦ã€‚ 42.tofixed(3) æ˜¯æ— æ•ˆè¯­æ³•ï¼Œå› ä¸º . è¢«è§†ä¸ºå¸¸é‡ 42. çš„ä¸€éƒ¨åˆ†(å¦‚å‰æ‰€è¿°)ï¼Œæ‰€ä»¥æ²¡æœ‰ . å± æ€§è®¿é—®è¿ç®—ç¬¦æ¥è°ƒç”¨ tofixed æ–¹æ³•ã€‚42..tofixed(3) åˆ™æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºç¬¬ä¸€ä¸ª . è¢«è§†ä¸º number çš„ä¸€éƒ¨åˆ†ï¼Œç¬¬äºŒä¸ª . æ˜¯å±æ€§è®¿é—®è¿ç®—ç¬¦ã€‚ 123456789// invalid syntax:42.toFixed( 3 ); // SyntaxError// these are all valid:(42).toFixed( 3 ); // &quot;42.000&quot;0.42.toFixed( 3 ); // &quot;0.420&quot;42..toFixed( 3 ); // &quot;42.000&quot;42 .toFixed(3); // &quot;42.000&quot; æ€æ ·åˆ¤æ–­0.1+0.2 === 0.3 æœ€å¸¸è§çš„æ–¹æ³•æ˜¯è®¾ç½®ä¸€ä¸ªè¯¯å·®èŒƒå›´å€¼ï¼Œé€šå¸¸ç§°ä¸ºâ€œæœºå™¨ç²¾åº¦â€(machine epsilon)ï¼Œå¯¹JavaScriptçš„æ•°å­—æ¥è¯´ï¼Œè¿™ä¸ªå€¼é€šå¸¸æ˜¯ 2^-52 (2.220446049250313e-16)ã€‚ä» ES6 å¼€å§‹ï¼Œè¯¥å€¼å®šä¹‰åœ¨ Number.EPSILON ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œä¹Ÿå¯ä»¥ä¸º ES6 ä¹‹å‰çš„ç‰ˆæœ¬å†™ polyfill: 123if (!Number.EPSILON) { Number.EPSILON = Math.pow(2,-52);} å¯ä»¥ä½¿ç”¨ Number.EPSILON æ¥æ¯”è¾ƒä¸¤ä¸ªæ•°å­—æ˜¯å¦ç›¸ç­‰(åœ¨æŒ‡å®šçš„è¯¯å·®èŒƒå›´å†…): 1234567function numbersCloseEnoughToEqual(n1,n2) { return Math.abs( n1 - n2 ) &lt; Number.EPSILON;}var a = 0.1 + 0.2;var b = 0.3;numbersCloseEnoughToEqual( a, b ); // truenumbersCloseEnoughToEqual( 0.0000001, 0.0000002 ); // false æ•°å­—â€œå®‰å…¨â€å‘ˆç°çš„æœ€å¤§æ•´æ•°æ˜¯2^53 - 1ï¼Œå³9007199254740991ï¼Œåœ¨ES6ä¸­è¢«å®šä¹‰ä¸º Number.MAX_SAFE_INTEGERã€‚æœ€å°æ•´æ•°æ˜¯ -9007199254740991ï¼Œ åœ¨ ES6 ä¸­ è¢« å®š ä¹‰ ä¸º Number. MIN_SAFE_INTEGERã€‚ æ•´æ•°æ£€æµ‹Number.isInteger(..) 12345678910Number.isInteger( 42 ); // trueNumber.isInteger( 42.000 ); // trueNumber.isInteger( 42.3 ); // false// polyfillif (!Number.isInteger) { Number.isInteger = function(num) { return typeof num == &quot;number&quot; &amp;&amp; num % 1 == 0; };} æ£€æµ‹å®‰å…¨çš„æ•´æ•°Number.isSafeInteger(..) 1234567891011Number.isSafeInteger( Number.MAX_SAFE_INTEGER );// trueNumber.isSafeInteger( Math.pow( 2, 53 ) );// trueNumber.isSafeInteger( Math.pow( 2, 53 ) - 1 );// false// polyfillif (!Number.isSafeInteger) { Number.isSafeInteger = function(num) { return Number.isInteger( num ) &amp;&amp; Math.abs( num ) &lt;= Number.MAX_SAFE_INTEGER; };} ç‰¹æ®Šæ•°å€¼undefinedå’Œnullundefined ç±»å‹åªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ undefinedã€‚null ç±»å‹ä¹Ÿåªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ nullã€‚å®ƒä»¬çš„åç§°æ—¢æ˜¯ç±»å‹ä¹Ÿæ˜¯å€¼ã€‚ null æŒ‡ç©ºå€¼(empty value)ï¼Œæ›¾èµ‹è¿‡å€¼ï¼Œä½†æ˜¯ç›®å‰æ²¡æœ‰å€¼ undefined æŒ‡æ²¡æœ‰å€¼(missing value)ï¼Œä»æœªèµ‹å€¼ null æ˜¯ä¸€ä¸ªç‰¹æ®Šå…³é”®å­—ï¼Œä¸æ˜¯æ ‡è¯†ç¬¦ï¼Œæˆ‘ä»¬ä¸èƒ½å°†å…¶å½“ä½œå˜é‡æ¥ä½¿ç”¨å’Œèµ‹å€¼ã€‚ç„¶è€Œundefined å´æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«å½“ä½œå˜é‡æ¥ä½¿ç”¨å’Œèµ‹å€¼ã€‚ï¼ˆä¸è¦ç»™undefinedèµ‹å€¼ï¼ï¼‰ voidè¿ç®—ç¬¦è¡¨è¾¾å¼void ___æ²¡æœ‰è¿”å›å€¼ï¼Œå› æ­¤è¿”å›ç»“æœæ˜¯undefinedã€‚voidå¹¶ä¸æ”¹å˜è¡¨è¾¾å¼çš„ç»“æœï¼Œ åªæ˜¯è®©è¡¨è¾¾å¼ä¸è¿”å›å€¼: 123var a = 42;console.log( void a, a ); // undefined 42 å¦‚æœè¦å°†ä»£ç ä¸­çš„å€¼(å¦‚è¡¨è¾¾å¼çš„è¿”å›å€¼)è®¾ä¸º undefinedï¼Œå°±å¯ä»¥ä½¿ç”¨ voidã€‚ ç‰¹æ®Šçš„æ•°å­—NaN æ„æŒ‡â€œä¸æ˜¯ä¸€ä¸ªæ•°å­—â€(not a number)ï¼Œä¸æ˜¯æ•°å­—çš„æ•°å­—ï¼Œä½†ä»ç„¶æ˜¯æ•°å­—ç±»å‹ NaNæ˜¯ä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œå®ƒå’Œè‡ªèº«ä¸ç›¸ç­‰ï¼Œæ˜¯å”¯ä¸€ä¸€ä¸ªéè‡ªå(è‡ªåï¼Œreflexiveï¼Œå³x === xä¸æˆç«‹)çš„å€¼ã€‚è€Œ NaN != NaN ä¸º trueï¼Œ 123456var a = 2 / &quot;foo&quot;; // NaNtypeof a === &quot;number&quot;; // truevar a = 2 / &quot;foo&quot;;a == NaN; // falsea === NaN; // false ES6ä»¥åï¼Œå¯ä»¥ç”¨Number.isNaN()åˆ¤æ–­ 12345678910111213141516if (!Number.isNaN) { Number.isNaN = function(n) { return (typeof n === &quot;number&quot; &amp;&amp; window.isNaN( n )); }};var a = 2 / &quot;foo&quot;;var b = &quot;foo&quot;;Number.isNaN( a ); // trueNumber.isNaN( b );// falseâ€”â€”å¥½!// å¦ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•if (!Number.isNaN) { Number.isNaN = function(n) { return n !== n; };} JavaScript ä¸­Infinity(å³ Number.POSITIVE_INfiNITY)è¡¨ç¤ºæ— ç©·æ•° 12var a = 1 / 0; // Infinityvar b = -1 / 0; // -Infinity è´Ÿé›¶ï¼ˆ-0ï¼‰ åŠ æ³•å’Œå‡æ³•è¿ç®—ä¸ä¼šå¾—åˆ°è´Ÿé›¶(negative zero)ã€‚ åˆ¤æ–­æ˜¯å¦æ˜¯è´Ÿé›¶ 1234567function isNegZero(n) { n = Number( n ); return (n === 0) &amp;&amp; (1 / n === -Infinity);}isNegZero( -0 );// trueisNegZero( 0 / -3 );// trueisNegZero( 0 );// false æœ‰äº›åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®éœ€è¦ä»¥çº§æ•°å½¢å¼æ¥è¡¨ç¤º(æ¯”å¦‚åŠ¨ç”»å¸§çš„ç§»åŠ¨é€Ÿåº¦)ï¼Œæ•°å­—çš„ç¬¦å·ä½ (sign)ç”¨æ¥ä»£è¡¨å…¶ä»–ä¿¡æ¯(æ¯”å¦‚ç§»åŠ¨çš„æ–¹å‘)ã€‚æ­¤æ—¶å¦‚æœä¸€ä¸ªå€¼ä¸º 0 çš„å˜é‡å¤±å»äº†å®ƒçš„ç¬¦å·ä½ï¼Œå®ƒçš„æ–¹å‘ä¿¡æ¯å°±ä¼šä¸¢å¤±ã€‚æ‰€ä»¥ä¿ç•™ 0 å€¼çš„ç¬¦å·ä½å¯ä»¥é˜²æ­¢è¿™ç±»æƒ…å†µå‘ç”Ÿã€‚ ç‰¹æ®Šç­‰å¼ES6 ä¸­æ–°åŠ å…¥äº†ä¸€ä¸ªå·¥å…·æ–¹æ³• Object.is(..) æ¥åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç»å¯¹ç›¸ç­‰ã€‚ä»…ç”¨æ¥åˆ¤æ–­NaNå’Œ-0ç­‰æƒ…å†µï¼Œèƒ½ç”¨===å°±ä¸ç”¨è¿™ä¸ª 1234567var a = 2 / &quot;foo&quot;;var b = -3 * 0;Object.is( a, NaN ); // trueObject.is( b, -0 ); // trueObject.is( b, 0 ); // false polyfill 1234567891011121314if (!Object.is) { Object.is = function(v1, v2) { // test for `-0` if (v1 === 0 &amp;&amp; v2 === 0) { return 1 / v1 === 1 / v2; } // test for `NaN` if (v1 !== v1) { return v2 !== v2; } // everything else return v1 === v2; };} å€¼å’Œå¼•ç”¨JSä¸­ï¼Œå€¼å¤åˆ¶è¿˜æ˜¯å¼•ç”¨å¤åˆ¶ï¼Œä¸€åˆ‡ç”±å€¼çš„ç±»å‹æ¥å†³å®šã€‚ ç®€å•ç±»å‹ï¼ˆnullã€undefinedã€å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å’Œ ES6 ä¸­çš„ symbolï¼‰æ€»æ˜¯é€šè¿‡å€¼å¤åˆ¶æ–¹å¼æ¥èµ‹å€¼/ä¼ é€’ã€‚ å¤åˆå€¼(compound value)â€”â€”å¯¹è±¡(åŒ…æ‹¬æ•°ç»„å’Œå°è£…å¯¹è±¡)å’Œå‡½æ•°ï¼Œåˆ™æ€»æ˜¯é€šè¿‡å¼•ç”¨å¤åˆ¶çš„æ–¹å¼æ¥èµ‹å€¼/ä¼ é€’ã€‚ 1234567891011var a = 2;var b = a; // `b` is always a copy of the value in `a`b++;a; // 2b; // 3var c = [1,2,3];var d = c; // `d` is a reference to the shared `[1,2,3]` valued.push( 4 );c; // [1,2,3,4]d; // [1,2,3,4] å‡½æ•°ä¼ å‚çš„é—®é¢˜ 1234567891011function foo(x) { x.push( 4 ); x; // [1,2,3,4] // è¿™é‡Œxå˜æˆäº†ä¸€ä¸ªæ–°æ•°ç»„ï¼Œaè¿˜æ˜¯åŸæ¥çš„ x = [4,5,6]; x.push( 7 ); x; // [4,5,6,7]}var a = [1,2,3];foo( a );a; // [1,2,3,4] not [4,5,6,7] å°† a çš„å€¼å˜ä¸º [4,5,6,7]ï¼Œå¿…é¡»æ›´æ”¹ x æŒ‡å‘çš„æ•°ç»„ï¼Œè€Œä¸æ˜¯ä¸º x èµ‹å€¼ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚ 123456789101112131415function foo(x) { x.push( 4 ); x; // [1,2,3,4] // è¿™æ ·åšä¸ä¼šåˆ›å»ºæ–°æ•°ç»„ x.length = 0; // empty existing array in-place x.push( 4, 5, 6, 7 ); x; // [4,5,6,7]}var a = [1,2,3];foo( a );a; // [4,5,6,7] not [1,2,3,4] å¦‚æœé€šè¿‡å€¼å¤åˆ¶çš„æ–¹å¼æ¥ä¼ é€’å¤åˆå€¼(å¦‚æ•°ç»„)ï¼Œå°±éœ€è¦ä¸ºå…¶åˆ›å»ºä¸€ä¸ªå¤æœ¬ï¼Œè¿™æ ·ä¼ é€’çš„å°±ä¸å†æ˜¯åŸå§‹å€¼ã€‚foo( a.slice() ); a.slice()è¿”å›çš„æ˜¯æ•°ç»„çš„æµ…å¤æœ¬ï¼Œfooçš„æ“ä½œä¸ä¼šå½±å“aæŒ‡å‘çš„æ•°ç»„ã€‚ç›¸åï¼Œå¦‚æœè¦å°†æ ‡é‡åŸºæœ¬ç±»å‹å€¼ä¼ é€’åˆ°å‡½æ•°å†…å¹¶è¿›è¡Œæ›´æ”¹ï¼Œå°±éœ€è¦å°†è¯¥å€¼å°è£…åˆ°ä¸€ä¸ªå¤åˆå€¼(å¯¹è±¡ã€æ•°ç»„ç­‰)ä¸­ï¼Œç„¶åé€šè¿‡å¼•ç”¨å¤åˆ¶çš„æ–¹å¼ä¼ é€’ã€‚ 1234567891011function foo(wrapper) { wrapper.a = 42;}var obj = { a: 2};foo( obj );obj.a; // 42 I-ç¬¬3ç«  åŸç”Ÿå‡½æ•°1å­¦ä¹ åŸç”Ÿå‡½æ•°ï¼Œå°è£…å¯¹è±¡åŒ…è£…ï¼Œæ‹†åˆ†ã€‚ å¸¸ç”¨çš„åŸç”Ÿå‡½æ•°â€¢ String()â€¢ Number()â€¢ Boolean()â€¢ Array()â€¢ Object()â€¢ Function()â€¢ RegExp()â€¢ Date()â€¢ Error()â€¢ Symbol() åŸç”Ÿå‡½æ•°å¯ä»¥è¢«å½“ä½œæ„é€ å‡½æ•°æ¥ä½¿ç”¨ã€‚é€šè¿‡æ„é€ å‡½æ•°(å¦‚new String(â€œabcâ€))åˆ›å»ºå‡ºæ¥çš„æ˜¯å°è£…äº†åŸºæœ¬ç±»å‹å€¼(å¦‚â€abcâ€)çš„å°è£…å¯¹è±¡ã€‚ 1234var a = new String( &quot;abc&quot; );typeof a; // æ˜¯&quot;object&quot;ï¼Œä¸æ˜¯&quot;String&quot;a instanceof String; // trueObject.prototype.toString.call( a ); // &quot;[object String]&quot; å†…éƒ¨å±æ€§classæ‰€æœ‰ typeof è¿”å›å€¼ä¸º â€œobjectâ€ çš„å¯¹è±¡(å¦‚æ•°ç»„)éƒ½åŒ…å«ä¸€ä¸ªå†…éƒ¨å±æ€§Classã€‚è¿™ä¸ªå±æ€§æ— æ³•ç›´æ¥è®¿é—®ï¼Œé€šè¿‡ Object.prototype.toString(..) æ¥æŸ¥çœ‹ã€‚ 1234567Object.prototype.toString.call( [1,2,3] ); // &quot;[object Array]&quot;Object.prototype.toString.call( /regex-literal/i ); // &quot;[object RegExp]&quot;Object.prototype.toString.call( null ); // &quot;[object Null]&quot;Object.prototype.toString.call( undefined ); // &quot;[object Undefined]&quot;Object.prototype.toString.call( &quot;abc&quot; ); // &quot;[object String]&quot;Object.prototype.toString.call( 42 ); // &quot;[object Number]&quot;Object.prototype.toString.call( true ); // &quot;[object Boolean]&quot; å°è£…å¯¹è±¡åŒ…è£…ç”±äºåŸºæœ¬ç±»å‹å€¼æ²¡æœ‰.lengthå’Œ.toString()è¿™æ ·çš„å±æ€§å’Œæ–¹æ³•ï¼Œéœ€è¦é€šè¿‡å°è£…å¯¹è±¡æ‰èƒ½è®¿é—®ã€‚JSä¼šè‡ªåŠ¨ä¸ºåŸºæœ¬ç±»å‹åŒ…è£…ä¸€ä¸ªå°è£…å¯¹è±¡ã€‚ 123var a = &quot;abc&quot;;a.length; // 3a.toUpperCase(); // &quot;ABC&quot; ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸éœ€è¦ç›´æ¥ä½¿ç”¨å°è£…å¯¹è±¡ã€‚æœ€å¥½çš„åŠæ³•æ˜¯è®© JavaScript å¼•æ“è‡ªå·±å†³å®šä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å°è£…å¯¹è±¡ã€‚ å¦‚æœè¦è‡ªè¡Œå°è£…åŸºæœ¬ç±»å‹å€¼ï¼Œå¯ä»¥ç”¨Object()å‡½æ•°(ä¸å¸¦newå…³é”®å­—) 12345678910111213var a = &quot;abc&quot;;var b = new String( a );var c = Object( a );typeof a; // &quot;string&quot;typeof b; // &quot;object&quot;typeof c; // &quot;object&quot;b instanceof String; // truec instanceof String; // trueObject.prototype.toString.call( b ); // &quot;[object String]&quot;Object.prototype.toString.call( c ); // &quot;[object String]&quot; æ‹†å°è¦æ‹†å°å°è£…å¯¹è±¡ä¸­çš„åŸºæœ¬ç±»å‹å€¼ï¼Œå¯ä»¥ç”¨valuesOf()å‡½æ•°ã€‚ 1234567var a = new String( &quot;abc&quot; );var b = new Number( 42 );var c = new Boolean( true );a.valueOf(); // &quot;abc&quot;b.valueOf(); // 42c.valueOf(); // true åœ¨éœ€è¦ç”¨åˆ°å°è£…å¯¹è±¡ä¸­çš„åŸºæœ¬ç±»å‹å€¼çš„åœ°æ–¹ä¼šå‘ç”Ÿéšå¼æ‹†å°ã€‚ 12345var a = new String( &quot;abc&quot; );var b = a + &quot;&quot;; // bæ‹¥æœ‰äº†æ‹†å°åçš„å€¼abctypeof a; // &quot;object&quot;typeof b; // &quot;string&quot; åŸç”Ÿå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•° æ•°ç»„ æ°¸è¿œä¸è¦åˆ›å»ºå’Œä½¿ç”¨ç©ºå•å…ƒæ•°ç»„ã€‚ 1234var a = new Array( 3 );var b = [ undefined, undefined, undefined ];var c = [];c.length = 3; Object(..)ã€Function(..) å’Œ RegExp(..) ä¸å»ºè®®ä½¿ç”¨Objectå’ŒFunction å¼ºçƒˆå»ºè®®ä½¿ç”¨å¸¸é‡å½¢å¼(å¦‚ /^a*b+/g)æ¥å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™æ ·ä¸ä»…è¯­æ³•ç®€å•ï¼Œæ‰§è¡Œæ•ˆç‡ä¹Ÿæ›´é«˜ï¼Œå› ä¸º JavaScript å¼•æ“åœ¨ä»£ç æ‰§è¡Œå‰ä¼šå¯¹å®ƒä»¬è¿›è¡Œé¢„ç¼–è¯‘å’Œç¼“å­˜ã€‚ ä¸å‰é¢çš„æ„é€ å‡½æ•°ä¸åŒï¼ŒRegExp(..) æœ‰æ—¶è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œæ¯”å¦‚åŠ¨æ€å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼æ—¶: 123var name = &quot;Kyle&quot;;var namePattern = new RegExp( &quot;\\\\b(?:&quot; + name + &quot;)+\\\\b&quot;, &quot;ig&quot; );var matches = someText.match( namePattern ); ä¸Šè¿°æƒ…å†µåœ¨JavaScriptç¼–ç¨‹ä¸­æ—¶æœ‰å‘ç”Ÿï¼Œè¿™æ—¶new RegExp(â€œpatternâ€,â€flagsâ€)å°±èƒ½æ´¾ä¸Šç”¨åœºã€‚ Date(..) å’Œ Error(..) åˆ›å»ºæ—¥æœŸå¿…é¡»ä½¿ç”¨ new Date()ã€‚ Date(..) ä¸»è¦ç”¨æ¥è·å¾—å½“å‰çš„ Unix æ—¶é—´æˆ³(ä» 1970 å¹´ 1 æœˆ 1 æ—¥å¼€å§‹è®¡ç®—ï¼Œä»¥ç§’ä¸ºå•ä½)ã€‚ è¯¥å€¼å¯ä»¥é€šè¿‡æ—¥æœŸå¯¹è±¡ä¸­çš„ getTime() æ¥è·å¾—ã€‚ ç”¨Date.now()å³å¯è·å– åˆ›å»ºé”™è¯¯å¯¹è±¡(error object)ä¸»è¦æ˜¯ä¸ºäº†è·å¾—å½“å‰è¿è¡Œæ ˆçš„ä¸Šä¸‹æ–‡(å¤§éƒ¨åˆ† JavaScript å¼•æ“é€šè¿‡åªè¯»å±æ€§ .stack æ¥è®¿é—®)ã€‚ æ ˆä¸Šä¸‹æ–‡ä¿¡æ¯åŒ…æ‹¬å‡½æ•°è°ƒç”¨æ ˆä¿¡æ¯å’Œäº§ç”Ÿé”™è¯¯çš„ä»£ç è¡Œå·ï¼Œ ä»¥ä¾¿äºè°ƒè¯•(debug)ã€‚ 123456function foo(x) { if (!x) { throw new Error( &quot;x wasnâ€™t provided&quot; ); } // ..} é€šå¸¸é”™è¯¯å¯¹è±¡è‡³å°‘åŒ…å«ä¸€ä¸ª message å±æ€§ï¼Œæœ‰æ—¶ä¹Ÿä¸ä¹å…¶ä»–å±æ€§(å¿…é¡»ä½œä¸ºåªè¯»å±æ€§è®¿é—®)ï¼Œå¦‚ typeã€‚ é™¤äº†è®¿é—® stack å±æ€§ä»¥å¤–ï¼Œæœ€å¥½çš„åŠæ³•æ˜¯è°ƒç”¨toString() æ¥è·å¾—ç»è¿‡æ ¼å¼åŒ–çš„ä¾¿äºé˜…è¯»çš„é”™è¯¯ä¿¡æ¯ã€‚ Symbol å¯ä»¥ä½¿ç”¨ Symbol(..) åŸç”Ÿæ„é€ å‡½æ•°æ¥è‡ªå®šä¹‰ç¬¦å·ã€‚ä½†å®ƒæ¯”è¾ƒç‰¹æ®Šï¼Œä¸èƒ½å¸¦ new å…³é”® å­—ï¼Œå¦åˆ™ä¼šå‡ºé”™: 12345678910var mysym = Symbol( &quot;my own symbol&quot; );mysym; // Symbol(my own symbol)mysym.toString(); // &quot;Symbol(my own symbol)&quot;typeof mysym; // &quot;symbol&quot;var a = { };a[mysym] = &quot;foobar&quot;;Object.getOwnPropertySymbols( a );// [ Symbol(my own symbol) ] åŸç”ŸåŸå‹ åŸç”Ÿæ„é€ å‡½æ•°æœ‰è‡ªå·±çš„ .prototype å¯¹è±¡ï¼Œå¦‚ Array.prototypeã€String.prototype ç­‰ã€‚ è¿™äº›å¯¹è±¡åŒ…å«å…¶å¯¹åº”å­ç±»å‹æ‰€ç‰¹æœ‰çš„è¡Œä¸ºç‰¹å¾ã€‚ Function.prototype æ˜¯ä¸€ä¸ªç©ºå‡½æ•°ï¼ŒRegExp.prototype æ˜¯ä¸€ä¸ªâ€œç©ºâ€çš„æ­£åˆ™è¡¨è¾¾å¼(æ— ä»»ä½•åŒ¹é…)ï¼Œè€Œ Array.prototype æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ã€‚å¯¹æœªèµ‹å€¼çš„å˜é‡æ¥è¯´ï¼Œå®ƒä»¬æ˜¯å¾ˆå¥½çš„é»˜è®¤å€¼ã€‚ 12345678910111213function isThisCool(vals = Array.prototype,fn = Function.prototype,rx = RegExp.prototype) { return rx.test( vals.map( fn ).join( &quot;&quot; ) );}isThisCool(); // trueisThisCool( [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], function(v){ return v.toUpperCase(); }, /D/); è¿™ç§æ–¹æ³•çš„ä¸€ä¸ªå¥½å¤„æ˜¯ .prototype å·²è¢«åˆ›å»ºå¹¶ä¸”ä»…åˆ›å»ºä¸€æ¬¡ã€‚ç›¸åï¼Œå¦‚æœå°† []ã€function(){} å’Œ /(?:)/ ä½œä¸ºé»˜è®¤å€¼ï¼Œ åˆ™æ¯æ¬¡è°ƒç”¨ isThisCool(..) æ—¶å®ƒä»¬éƒ½ä¼šè¢«åˆ›å»ºä¸€æ¬¡ (å…·ä½“åˆ›å»ºä¸å¦å–å†³äº JavaScript å¼•æ“ï¼Œç¨åå®ƒä»¬å¯èƒ½ä¼šè¢«åƒåœ¾å›æ”¶)ï¼Œè¿™æ ·æ— ç–‘ä¼šé€ æˆå†…å­˜å’Œ CPU èµ„æºçš„æµªè´¹ã€‚ I-ç¬¬4ç«  å¼ºåˆ¶ç±»å‹è½¬æ¢å€¼ä»ä¸€ä¸ªç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ï¼Œç§°ä¸ºç±»å‹è½¬æ¢(type casting)ã€‚è¿™æ˜¯æ˜¾ç¤ºçš„æƒ…å†µï¼Œéšå¼çš„æƒ…å†µç§°ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢(coercion)ã€‚ ç±»å‹è½¬æ¢å‘ç”Ÿåœ¨é™æ€è¯­è¨€çš„ç¼–è¯‘é˜¶æ®µï¼Œå¼ºåˆ¶ç±»å‹è½¬æ¢å‘ç”Ÿåœ¨åŠ¨æ€ç±»å‹è¯­è¨€çš„è¿è¡Œæ—¶ åœ¨JSä¸­ç»Ÿç§°ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚å¯ä»¥é€šè¿‡éšå¼å¼ºåˆ¶ç±»å‹å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢æ¥åŒºåˆ†ã€‚ éšå¼ç±»å‹è½¬æ¢ä¸æ˜æ˜¾ï¼Œé€šå¸¸æ˜¯æŸäº›æ“ä½œäº§ç”Ÿçš„å‰¯ä½œç”¨ã€‚ 123var a = 42;var b = a + &quot;&quot;; // éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢var c = String(a); // æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ æŠ½è±¡å€¼æ“ä½œToString éå­—ç¬¦ä¸²åˆ°å­—ç¬¦ä¸²å¼ºåˆ¶ç±»å‹è½¬æ¢åŸºæœ¬ç±»å‹å€¼çš„å­—ç¬¦ä¸²åŒ–è§„åˆ™ä¸º:null è½¬æ¢ä¸º â€œnullâ€ï¼Œundefined è½¬æ¢ä¸º â€œundefinedâ€ï¼Œtrue è½¬æ¢ä¸º â€œtrueâ€ã€‚æ•°å­—æå¤§æå°å€¼ç”¨æŒ‡æ•°å½¢å¼ã€‚æ•°ç»„çš„toStringé»˜è®¤å°†æ‰€æœ‰å•å…ƒå­—ç¬¦ä¸²åŒ–åç”¨,è¿æ¥ã€‚ 12var a = [1,2,3]a.toString(); // '1,2,3,' JSON.stringify(1) å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼å’Œ null çš„ JSON.stringify(..) è§„åˆ™ä¸ ToString åŸºæœ¬ç›¸åŒã€‚(2) å¦‚æœä¼ é€’ç»™ JSON.stringify(..) çš„å¯¹è±¡ä¸­å®šä¹‰äº† toJSON() æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•ä¼šåœ¨å­—ç¬¦ä¸²åŒ–å‰è°ƒç”¨ï¼Œä»¥ä¾¿å°†å¯¹è±¡è½¬æ¢ä¸ºå®‰å…¨çš„ JSON å€¼ã€‚ JSONå­—ç¬¦ä¸²åŒ–ç”¨stringify,é‡åˆ° undefinedã€function å’Œ symbol æ—¶ä¼šè‡ªåŠ¨å°†å…¶å¿½ç•¥ï¼Œåœ¨æ•°ç»„ä¸­åˆ™ä¼šè¿”å› nullã€‚ 12345JSON.stringify( undefined ); // undefinedJSON.stringify( function(){} ); // undefinedJSON.stringify( [1,undefined,function(){},4] ); // &quot;[1,null,null,4]&quot;JSON.stringify( { a:2, b:function(){} } ); // &quot;{&quot;a&quot;:2}&quot; åŒ…å«å¾ªç¯å¼•ç”¨çš„å¯¹è±¡æ‰§è¡Œ JSON.stringify(..) ä¼šå‡ºé”™ã€‚ å¦‚æœè¦å¯¹å«æœ‰éæ³• JSON å€¼çš„å¯¹è±¡åšå­—ç¬¦ä¸²åŒ–ï¼Œæˆ–è€…å¯¹è±¡ä¸­çš„æŸäº›å€¼æ— æ³•è¢«åºåˆ—åŒ–æ—¶ï¼Œéœ€è¦å®šä¹‰ toJSON() æ–¹æ³•æ¥è¿”å›ä¸€ä¸ªèƒ½å¤Ÿè¢«å­—ç¬¦ä¸²åŒ–çš„å®‰å…¨çš„ JSON å€¼ã€‚ 123456789101112131415161718192021var o = { };var a = { b: 42, c: o, d: function(){}};// aè¢«å¾ªç¯å¼•ç”¨o.e = a;// ç”±äºå¾ªç¯å¼•ç”¨ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸// JSON.stringify( a );// define a custom JSON value serializationa.toJSON = function() { // only include the `b` property for serialization return { b: this.b };};JSON.stringify( a ); // &quot;{&quot;b&quot;:42}&quot; å‘ JSON.stringify(..) ä¼ é€’ä¸€ä¸ªå¯é€‰å‚æ•° replacerï¼Œå¯ä»¥æ˜¯æ•°ç»„æˆ–è€…å‡½æ•°ï¼Œç”¨æ¥æŒ‡å®šå¯¹è±¡åºåˆ—åŒ–è¿‡ç¨‹ä¸­å“ªäº›å±æ€§åº”è¯¥è¢«å¤„ç†ï¼Œå“ªäº›åº”è¯¥è¢«æ’é™¤ã€‚å¦‚æœ replacer æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«åºåˆ—åŒ–è¦å¤„ç†çš„å¯¹è±¡çš„å±æ€§åç§°ï¼Œé™¤æ­¤ä¹‹å¤–å…¶ä»–çš„å±æ€§åˆ™è¢«å¿½ç•¥ã€‚å¦‚æœ replacer æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šå¯¹å¯¹è±¡æœ¬èº«è°ƒç”¨ä¸€æ¬¡ï¼Œç„¶åå¯¹å¯¹è±¡ä¸­çš„æ¯ä¸ªå±æ€§å„è°ƒç”¨ä¸€æ¬¡ï¼Œæ¯æ¬¡ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œé”®å’Œå€¼ã€‚å¦‚æœè¦å¿½ç•¥æŸä¸ªé”®å°±è¿”å› undefinedï¼Œå¦åˆ™è¿”å›æŒ‡å®šçš„å€¼ã€‚ 123456789101112var a = { b: 42, c: &quot;42&quot;, d: [1,2,3]};JSON.stringify( a, [&quot;b&quot;,&quot;c&quot;] ); // &quot;{&quot;b&quot;:42,&quot;c&quot;:&quot;42&quot;}&quot;JSON.stringify( a, function(k,v){ if (k !== &quot;c&quot;) return v;});// &quot;{&quot;b&quot;:42,&quot;d&quot;:[1,2,3]}&quot; ToNumbertrue è½¬æ¢ä¸º 1ï¼Œfalse è½¬æ¢ä¸º 0ã€‚undefined è½¬æ¢ä¸º NaNï¼Œnull è½¬æ¢ä¸º 0ã€‚ å¯¹è±¡(åŒ…æ‹¬æ•°ç»„)ä¼šé¦–å…ˆè¢«è½¬æ¢ä¸ºç›¸åº”çš„åŸºæœ¬ç±»å‹å€¼ï¼Œå¦‚æœè¿”å›çš„æ˜¯éæ•°å­—çš„åŸºæœ¬ç±»å‹å€¼ï¼Œåˆ™å†éµå¾ªä»¥ä¸Šè§„åˆ™å°†å…¶å¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—ã€‚ ToBoolean å‡å€¼(false value) å¯ä»¥è¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º false çš„å€¼ã€‚ undefined null false +0, -0, NaN â€˜â€™ å‡å€¼å¯¹è±¡ 123var a = new Boolean( false );var b = new Number( 0 );var c = new String( &quot;&quot; ); a, b, céƒ½ä¸ºtrue çœŸå€¼ 1234567891011var a = &quot;false&quot;;var b = &quot;0&quot;;var c = &quot;''&quot;;var d = Boolean( a &amp;&amp; b &amp;&amp; c );d; // å­—ç¬¦ä¸²ä¸ä¸ºç©ºæ‰€ä»¥ä¸ºtruevar a = [];var b = {};var c = function(){};var d = Boolean( a &amp;&amp; b &amp;&amp; c );d; // [], {}, function(){} ä¸ä¸ºç©ºï¼Œä¸ºtrue æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä»£ç è½¬æ¢æ¸…æ™°ï¼Œå¯è¯»æ€§é«˜ï¼Œæ›´å®¹æ˜“ç†è§£ï¼Œæ¨èä½¿ç”¨ã€‚ å­—ç¬¦ä¸²æ•°å­—äº’è½¬ 1234567891011var a = 42;var b = String( a );b; // &quot;42&quot;var c = &quot;3.14&quot;;var d = Number( c );d; // 3.14var c = &quot;3.14&quot;;var d = +c; // æœ€å¸¸ç”¨~~~d; // 3.14 å¥‡ç‰¹çš„~è¿ç®—ç¬¦ å­—ä½è¿ç®—ç¬¦(å¦‚ | å’Œ ~)å’ŒæŸäº›ç‰¹æ®Šæ•°å­—ä¸€èµ·ä½¿ç”¨æ—¶ä¼šäº§ç”Ÿç±»ä¼¼å¼ºåˆ¶ç±»å‹è½¬æ¢çš„æ•ˆæœï¼Œè¿”å›å¦å¤–ä¸€ä¸ªæ•°å­—ã€‚ åœ¨ -(x+1) ä¸­å”¯ä¸€èƒ½å¤Ÿå¾—åˆ° 0(æˆ–è€…ä¸¥æ ¼è¯´æ˜¯ -0)çš„ x å€¼æ˜¯ -1ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœ x ä¸º -1 æ—¶ï¼Œ~å’Œä¸€äº›æ•°å­—å€¼åœ¨ä¸€èµ·ä¼šè¿”å›å‡å€¼ 0ï¼Œå…¶ä»–æƒ…å†µåˆ™è¿”å›çœŸå€¼ã€‚ indexOfæœç´¢åˆ°æŒ‡å®šå­—ç¬¦ä¸²è¿”å›å­—ç¬¦ä¸²æ‰€åœ¨ä½ç½®(ä»0å¼€å§‹)ï¼Œå¦åˆ™è¿”å›-1ã€‚ 12345678910111213141516171819202122232425262728var a = &quot;Hello World&quot;;if (a.indexOf( &quot;lo&quot; ) &gt;= 0) { // true // found it!}if (a.indexOf( &quot;lo&quot; ) != -1) { // true // found it}if (a.indexOf( &quot;ol&quot; ) &lt; 0) { // true // not found!}if (a.indexOf( &quot;ol&quot; ) == -1) { // true // not found!}~a.indexOf( &quot;lo&quot; ); // -4 &lt;-- truthy!if (~a.indexOf( &quot;lo&quot; )) { // true // found it!}~a.indexOf( &quot;ol&quot; ); // 0 &lt;-- falsy!!~a.indexOf( &quot;ol&quot; ); // trueif (!~a.indexOf( &quot;ol&quot; )) { // true // not found!} &gt;= 0å’Œ== -1è¿™æ ·çš„å†™æ³•ä¸æ˜¯å¾ˆå¥½ï¼Œç§°ä¸ºâ€œæŠ½è±¡æ¸—æ¼â€ï¼Œåœ¨ä»£ç ä¸­æš´éœ²äº†åº•å±‚çš„å®ç°ç»†èŠ‚ï¼Œè¿™é‡Œæ˜¯æŒ‡ç”¨ -1 ä½œä¸ºå¤±è´¥æ—¶çš„è¿”å›å€¼ï¼Œè¿™äº›ç»†èŠ‚åº”è¯¥è¢«å±è”½æ‰ã€‚~ å’Œ indexOf() ä¸€èµ·å¯ä»¥å°†ç»“æœå¼ºåˆ¶ç±»å‹è½¬æ¢(å®é™…ä¸Šä»…ä»…æ˜¯è½¬æ¢)ä¸ºçœŸ / å‡å€¼ è¿™ç§å†™æ³•çœ‹èµ·æ¥é€¼æ ¼ä¹Ÿé«˜ï¼Œå“ˆå“ˆ ~~ä¸­çš„ç¬¬ä¸€ä¸ª ~ æ‰§è¡Œ ToInt32 å¹¶åè½¬å­—ä½ï¼Œç„¶åç¬¬äºŒä¸ª ~ å†è¿›è¡Œä¸€æ¬¡å­—ä½åè½¬ï¼Œå³å°†æ‰€æœ‰å­—ä½åè½¬å›åŸå€¼ï¼Œæœ€åå¾—åˆ°çš„ä»ç„¶æ˜¯ ToInt32 çš„ç»“æœã€‚ åªé€‚ç”¨äº 32 ä½æ•°å­—ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒå¯¹è´Ÿæ•°çš„å¤„ç†ä¸ Math. floor(..) ä¸åŒã€‚ 12Math.floor( -49.6 ); // -50~~-49.6; // -49 æ˜¾å¼è§£ææ•°å­—å­—ç¬¦ä¸²è§£æ(parseInt)å…è®¸å­—ç¬¦ä¸²ä¸­å«æœ‰éæ•°å­—å­—ç¬¦ï¼Œè§£ææŒ‰ä»å·¦åˆ°å³çš„é¡ºåºï¼Œå¦‚æœé‡åˆ°éæ•°å­—å­—ç¬¦å°±åœæ­¢ã€‚å­—ç¬¦ä¸²è½¬æ•°å­—(Number)ä¸å…è®¸å‡ºç°éæ•°å­—å­—ç¬¦ï¼Œå¦åˆ™ä¼šå¤±è´¥å¹¶è¿”å› NaNã€‚ 12345678var a = &quot;42&quot;;var b = &quot;42px&quot;;Number( a ); // 42parseInt( a ); // 42Number( b ); // NaNparseInt( b ); // 42 parseInt(..) é’ˆå¯¹çš„æ˜¯å­—ç¬¦ä¸²å€¼ã€‚å‘ parseInt(..) ä¼ é€’å…¶ä»–ç±»å‹çš„å‚æ•°ï¼Œæ¯”å¦‚ trueã€function(){...} å’Œ [1,2,3]ã€‚ä¼šé¦–å…ˆè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä¾èµ–è¿™æ ·çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢å¹¶éä¸Šç­–ï¼Œåº”è¯¥é¿å…å‘ parseInt(..) ä¼ é€’éå­—ç¬¦ä¸²å‚æ•°ã€‚ parseInt(..) å…ˆå°†å‚æ•°å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²å†è¿›è¡Œè§£æã€‚ 1parseInt( 1/0, 19 ); // 18 æ€ä¹ˆæ¥å¤„ç† Infinity(1/0 çš„ç»“æœ)æœ€åˆç†å‘¢?æœ‰ä¸¤ä¸ªé€‰æ‹©:â€Infinityâ€ å’Œ â€œâˆâ€ï¼ŒJavaScripté€‰æ‹©çš„æ˜¯ â€œInfinityâ€ã€‚ parseInt(1/0, 19) å®é™…ä¸Šæ˜¯ parseInt(â€œInfinityâ€, 19)ã€‚ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ â€œIâ€ï¼Œä»¥ 19 ä¸ºåŸºæ•° æ—¶å€¼ä¸º 18ã€‚ç¬¬äºŒä¸ªå­—ç¬¦ â€œnâ€ ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—å­—ç¬¦ï¼Œè§£æåˆ°æ­¤ä¸ºæ­¢ï¼Œå’Œ â€œ42pxâ€ ä¸­çš„ â€œpâ€ ä¸€æ ·ã€‚ æœ€åçš„ç»“æœæ˜¯ 18ï¼Œè€Œé Infinity æˆ–è€…æŠ¥é”™ã€‚æ‰€ä»¥ç†è§£å…¶ä¸­çš„å·¥ä½œåŸç†å¯¹äºæˆ‘ä»¬å­¦ä¹  JavaScript æ˜¯éå¸¸é‡è¦çš„ã€‚ 1234567parseInt( 0.000008 ); // 0 (&quot;0&quot; from &quot;0.000008&quot;)parseInt( 0.0000008 ); // 8 (&quot;8&quot; from &quot;8e-7&quot;)parseInt( false, 16 ); // 250 (&quot;fa&quot; from &quot;false&quot;)parseInt( parseInt, 16 ); // 15 (&quot;f&quot; from &quot;function..&quot;)parseInt( &quot;0x10&quot; ); // 16parseInt( &quot;103&quot;, 2 ); // 2 æ˜¾ç¤ºè½¬æ¢ä¸ºå¸ƒå°”å€¼æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼æœ€å¸¸ç”¨çš„æ–¹æ³•!!ï¼Œç¬¬äºŒä¸ª!ä¼šæŠŠç»“æœåè½¬å›åŸå€¼ 1234567891011121314151617181920212223242526var a = &quot;0&quot;;var b = [];var c = {};var d = &quot;&quot;;var e = 0;var f = null;var g;Boolean( a ); // trueBoolean( b ); // trueBoolean( c ); // trueBoolean( d ); // falseBoolean( e ); // falseBoolean( f ); // falseBoolean( g ); // false!!a; // true!!b; // true!!c; // true!!d; // false!!e; // false!!f; // false!!g; // false ä¸‰å…ƒè¿ç®—ç¬¦ ? : åˆ¤æ–­ a æ˜¯å¦ä¸ºçœŸï¼Œå¦‚æœæ˜¯åˆ™å°†å˜é‡ b èµ‹å€¼ä¸º trueï¼Œå¦åˆ™èµ‹å€¼ä¸º falseã€‚ è¡¨é¢ä¸Šè¿™æ˜¯ä¸€ä¸ªæ˜¾å¼çš„ ToBoolean å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå› ä¸ºè¿”å›ç»“æœæ˜¯ true æˆ–è€… falseã€‚ç„¶è€Œè¿™é‡Œæ¶‰åŠéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå› ä¸º a è¦é¦–å…ˆè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼æ‰èƒ½è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚è¿™ç§æƒ…å†µç§°ä¸ºâ€œæ˜¾å¼çš„éšå¼â€ï¼Œæœ‰ç™¾å®³è€Œæ— ä¸€ç›Šï¼Œæˆ‘ä»¬åº”å½»åº•æœç»ã€‚å»ºè®®ä½¿ç”¨ Boolean(a) å’Œ !!a æ¥è¿›è¡Œæ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚ éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸å¤Ÿæ˜æ˜¾çš„å¼ºåˆ¶ç±»å‹è½¬æ¢éƒ½å¯ä»¥ç®—ä½œéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚ éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢çš„ä½œç”¨æ˜¯å‡å°‘å†—ä½™ï¼Œè®©ä»£ç æ›´ç®€æ´ã€‚å¯èƒ½ä¼šè®©ä»£ç æ™¦æ¶©éš¾æ‡‚ã€‚ +æ—¢èƒ½ç”¨äºå­—ç¬¦ä¸²ä¹Ÿèƒ½ç”¨äºæ•°å­—ã€‚æ€ä¹ˆåˆ¤æ–­è¦æ‰§è¡Œå“ªä¸ªæ“ä½œï¼Ÿ 1234567891011121314151617var a = &quot;42&quot;;var b = &quot;0&quot;;var c = 42;var d = 0;a + b; // &quot;420&quot;c + d; // 42var a = [1,2];var b = [3,4];a + b; // &quot;1,23,4&quot;// å°†æ•°å­—è½¬æˆå­—ç¬¦ä¸²var a = 42;var b = a + &quot;&quot;;b; // &quot;42&quot; å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡(åŒ…æ‹¬æ•°ç»„)ï¼Œåˆ™é¦–å…ˆå¯¹å…¶è°ƒç”¨ ToPrimitive æŠ½è±¡æ“ä½œï¼Œè¯¥æŠ½è±¡æ“ä½œå†è°ƒç”¨DefaultValueï¼Œä»¥æ•°å­—ä½œä¸ºä¸Šä¸‹æ–‡ã€‚æ•°ç»„çš„ valueOf() æ“ä½œæ— æ³•å¾—åˆ°ç®€å•åŸºæœ¬ç±»å‹å€¼ï¼Œäºæ˜¯å®ƒè½¬è€Œè°ƒç”¨ toString()ã€‚å› æ­¤ä¸Šä¾‹ä¸­çš„ä¸¤ä¸ªæ•°ç»„å˜æˆäº† â€œ1,2â€ å’Œ â€œ3,4â€ã€‚+ å°†å®ƒä»¬æ‹¼æ¥åè¿”å› â€œ1,23,4â€ã€‚ å¦‚æœ + çš„å…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²(æˆ–è€…é€šè¿‡ä»¥ä¸Šæ­¥éª¤å¯ä»¥å¾—åˆ°å­—ç¬¦ä¸²)ï¼Œ åˆ™æ‰§è¡Œå­—ç¬¦ä¸²æ‹¼æ¥;å¦åˆ™æ‰§è¡Œæ•°å­—åŠ æ³•ã€‚ a + â€œâ€(éšå¼)å’Œå‰é¢çš„String(a)(æ˜¾å¼)ä¹‹é—´æœ‰ä¸€ä¸ªç»†å¾®çš„å·®åˆ«éœ€è¦æ³¨æ„ã€‚æ ¹æ® ToPrimitiveæŠ½è±¡æ“ä½œè§„åˆ™ï¼Œa + â€œâ€ä¼šå¯¹aè°ƒç”¨valueOf()æ–¹æ³•ï¼Œç„¶åé€šè¿‡ToStringæŠ½è±¡ æ“ä½œå°†è¿”å›å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚è€Œ String(a) åˆ™æ˜¯ç›´æ¥è°ƒç”¨ ToString()ã€‚ å¦‚æœaæ˜¯å¯¹è±¡ï¼Œç»“æœä¼šä¸ä¸€æ ·ã€‚ 12345678var a = { valueOf: function() { return 42; }, toString: function() { return 4; }};a + &quot;&quot;; // &quot;42&quot;String( a ); // &quot;4 åœ¨å®šåˆ¶ valueOf() å’Œ toString() æ–¹æ³•æ—¶éœ€è¦ç‰¹åˆ«å°å¿ƒï¼Œå› ä¸ºè¿™ä¼šå½±å“å¼ºåˆ¶ç±»å‹è½¬æ¢çš„ç»“æœã€‚ -å‡æ³•è¿ç®—ç¬¦ï¼Œä¼šå…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå†è½¬æ¢ä¸ºæ•°å­— 12345678var a = &quot;3.14&quot;;var b = a - 0;b; // 3.14var a = [3];var b = [1];a - b; // 2 å¸ƒå°”å€¼åˆ°æ•°å­—çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢12345var sum = 0arr = [true, false, true]arr.reduce(item=&gt; { sum +=item}, sum) åœ¨æ§åˆ¶å°æ˜¾ç¤ºæ˜¯NaNï¼Ÿï¼Ÿï¼Ÿå’Œä¹¦é‡Œä¸ä¸€æ · éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼(1)if (..)è¯­å¥ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚(2)for ( .. ; .. ; .. )è¯­å¥ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼(ç¬¬äºŒä¸ª)ã€‚(3) while (..) å’Œ do..while(..) å¾ªç¯ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚(4)? :ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚(5) é€»è¾‘è¿ç®—ç¬¦ ||(é€»è¾‘æˆ–)å’Œ &amp;&amp;(é€»è¾‘ä¸)å·¦è¾¹çš„æ“ä½œæ•°(ä½œä¸ºæ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼)ã€‚ ä»¥ä¸Šæƒ…å†µä¸­ï¼Œéå¸ƒå°”å€¼ä¼šè¢«éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œéµå¾ªå‰é¢ä»‹ç»è¿‡çš„ ToBoolean æŠ½è±¡æ“ä½œè§„åˆ™ã€‚ 12345678910111213141516171819var a = 42;var b = &quot;abc&quot;;var c;var d = null;if (a) { console.log( &quot;yep&quot; ); // yep}while (c) { console.log( &quot;nope, never runs&quot; );}c = d ? a : b;c; // &quot;abc&quot;if ((a &amp;&amp; d) || c) { console.log( &quot;yep&quot; ); // yep} || å’Œ &amp;&amp;JSä¸­è¿”å›çš„ä¸ä¸€å®šå¸ƒå°”å€¼ã€‚è€Œæ˜¯ä¸¤ä¸ªæ“ä½œæ•°ä¸­çš„ä¸€ä¸ªçš„å€¼ã€‚ 123456789var a = 42;var b = &quot;abc&quot;;var c = null;a || b; // 42a &amp;&amp; b; // &quot;abc&quot;c || b; // &quot;abc&quot;c &amp;&amp; b; // null || å’Œ &amp;&amp; é¦–å…ˆä¼šå¯¹ç¬¬ä¸€ä¸ªæ“ä½œæ•°(a å’Œ c)æ‰§è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœå…¶ä¸æ˜¯å¸ƒå°”å€¼å°±å…ˆè¿›è¡Œ ToBoolean å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œç„¶åå†æ‰§è¡Œæ¡ä»¶åˆ¤æ–­ã€‚ å¯¹äº || æ¥è¯´ï¼Œå¦‚æœæ¡ä»¶åˆ¤æ–­ç»“æœä¸º true å°±è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°(a å’Œ c)çš„å€¼ï¼Œå¦‚æœä¸º false å°±è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°(b)çš„å€¼ã€‚&amp;&amp; åˆ™ç›¸åï¼Œå¦‚æœæ¡ä»¶åˆ¤æ–­ç»“æœä¸º true å°±è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°(b)çš„å€¼ï¼Œå¦‚æœä¸º false å°±è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°(a å’Œ c)çš„å€¼ã€‚ æ¢ä¸ªè§’åº¦ç†è§£ 123456789a || b;// ç›¸å½“äºa ? a : b;a &amp;&amp; b;// ç›¸å½“äºa ? b : a;// åŒä¸‰å…ƒè¡¨è¾¾å¼ä¸åŒçš„æ˜¯, å¦‚æœaæ˜¯è¡¨è¾¾å¼ï¼Œå¯èƒ½ä¼šæ‰§è¡Œä¸¤æ¬¡ã€‚ å¸¸è§ç”¨æ³•è®¾ç½®é»˜è®¤å€¼ 123456789function foo(a,b) { a = a || &quot;hello&quot;; b = b || &quot;world&quot;; console.log( a + &quot; &quot; + b );}foo(); // &quot;hello world&quot;foo( &quot;yeah&quot;, &quot;yeah!&quot; ); // &quot;yeah yeah!&quot; çŸ­è·¯æœºåˆ¶ aä¸ºfalseæ—¶ï¼Œfooä¸ä¼šæ‰§è¡Œã€‚æ¯”if (a) { foo() }ç®€æ´æ˜äº† 1234567function foo() { console.log( a );}var a = 42;a &amp;&amp; foo(); // 42 å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰==å…è®¸åœ¨ç›¸ç­‰æ¯”è¾ƒä¸­è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè€Œ===ä¸å…è®¸ã€‚ äººè§‰å¾— == ä¼šæ¯” === æ…¢ï¼Œå®é™…ä¸Šè™½ç„¶å¼ºåˆ¶ç±»å‹è½¬æ¢ç¡®å®è¦å¤šèŠ±ç‚¹æ—¶é—´ï¼Œä½†ä»…ä»…æ˜¯å¾®ç§’çº§ (ç™¾ä¸‡åˆ†ä¹‹ä¸€ç§’)çš„å·®åˆ«è€Œå·²ã€‚å¦‚æœè¿›è¡Œæ¯”è¾ƒçš„ä¸¤ä¸ªå€¼ç±»å‹ç›¸åŒï¼Œåˆ™ == å’Œ === ä½¿ç”¨ç›¸åŒçš„ç®—æ³•ï¼Œæ‰€ä»¥é™¤äº† JavaScript å¼•æ“ å®ç°ä¸Šçš„ç»†å¾®å·®åˆ«ä¹‹å¤–ï¼Œå®ƒä»¬ä¹‹é—´å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚ æŠ½è±¡ç›¸ç­‰è§„å®šå¦‚æœä¸¤ä¸ªå€¼çš„ç±»å‹ç›¸åŒï¼Œå°±ä»…æ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œ42 ç­‰äº 42ï¼Œâ€abcâ€ ç­‰äº â€œabcâ€ã€‚ ç‰¹æ®Šæƒ…å†µ NaN ä¸ç­‰äº NaNï¼Œ+0 ç­‰äº -0ã€‚ ä»¥ x å’Œ y ä¸ºå€¼è¿›è¡Œ x == y æ¯”è¾ƒä¼šäº§ç”Ÿçš„ç»“æœå¯ä¸º true æˆ– falseã€‚æ¯”è¾ƒçš„æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼š è‹¥ Type(x) ä¸ Type(y) ç›¸åŒï¼Œ åˆ™ è‹¥ Type(x) ä¸º Undefinedï¼Œ è¿”å› trueã€‚ è‹¥ Type(x)ä¸º Nullï¼Œ è¿”å› trueã€‚ è‹¥ Type(x)ä¸º Numberï¼Œåˆ™ è‹¥ x ä¸º NaNï¼Œè¿”å› falseã€‚ è‹¥ y ä¸º NaNï¼Œè¿”å› falseã€‚ è‹¥ x ä¸ y ä¸ºç›¸ç­‰æ•°å€¼ï¼Œè¿”å› trueã€‚ è‹¥ x ä¸º +0 ä¸” y ä¸º âˆ’0ï¼Œè¿”å› trueã€‚ è‹¥ x ä¸º âˆ’0 ä¸” y ä¸º +0ï¼Œè¿”å› trueã€‚ è¿”å› falseã€‚ è‹¥ Type(x) ä¸º Stringï¼Œåˆ™å½“ x å’Œ y ä¸ºå®Œå…¨ç›¸åŒçš„å­—ç¬¦åºåˆ—ï¼ˆé•¿åº¦ç›¸ç­‰ä¸”ç›¸åŒå­—ç¬¦åœ¨ç›¸åŒä½ç½®ï¼‰æ—¶è¿”å› trueã€‚å¦åˆ™ï¼Œè¿”å› falseã€‚ è‹¥ Type(x) ä¸º Booleanï¼Œå½“ x å’Œ y ä¸ºåŒä¸º true æˆ–è€…åŒä¸º false æ—¶è¿”å› trueã€‚å¦åˆ™ï¼Œè¿”å› falseã€‚ å½“ x å’Œ y ä¸ºå¼•ç”¨åŒä¸€å¯¹è±¡æ—¶è¿”å› trueã€‚å¦åˆ™ï¼Œè¿”å› falseã€‚ è‹¥ x ä¸º null ä¸” y ä¸º undefinedï¼Œè¿”å› trueã€‚ è‹¥ x ä¸º undefined ä¸” y ä¸º nullï¼Œè¿”å› trueã€‚ è‹¥ Type(x) ä¸º Number ä¸” Type(y) ä¸º Stringï¼Œè¿”å› x == ToNumber(y) çš„ç»“æœã€‚ è‹¥ Type(x) ä¸º String ä¸” Type(y) ä¸º Numberï¼Œè¿”å›æ¯”è¾ƒ ToNumber(x) == y çš„ç»“æœã€‚ è‹¥ Type(x) ä¸º Booleanï¼Œè¿”å›æ¯”è¾ƒ ToNumber(x) == y çš„ç»“æœã€‚ è‹¥ Type(y) ä¸º Booleanï¼Œè¿”å›æ¯”è¾ƒ x == ToNumber(y) çš„ç»“æœã€‚ è‹¥ Type(x) ä¸º String æˆ– Numberï¼Œä¸” Type(y) ä¸º Objectï¼Œè¿”å›æ¯”è¾ƒ x == ToPrimitive(y) çš„ç»“æœã€‚ è‹¥ Type(x) ä¸º Object ä¸” Type(y) ä¸º String æˆ– Numberï¼Œè¿”å›æ¯”è¾ƒ ToPrimitive(x) == y çš„ç»“æœã€‚ è¿”å› falseã€‚ 123456789101112131415161718192021222324252627282930313233var a = 42;var b = &quot;42&quot;;a === b; // falsea == b; // truevar a = &quot;42&quot;;var b = true;a == b; // false 1==42var x = &quot;42&quot;;var y = false;x == y; // false 42==0var a = 42;var b = [ 42 ];a == b; // true 42==42var a = &quot;abc&quot;;var b = Object( a ); // same as `new String( a )`a === b; // falsea == b; // truevar a = null;var b = Object( a ); // same as `Object()`a == b; // falsevar c = undefined;var d = Object( c ); // same as `Object()`c == d; // falsevar e = NaN;var f = Object( e ); // same as `new Number( e )`e == f; // false æ— è®ºä»€ä¹ˆæƒ…å†µä¸‹éƒ½ä¸è¦ä½¿ç”¨ == true å’Œ == falseã€‚ 1234567891011121314151617181920212223242526var a = &quot;42&quot;;// ä¼šå¤±è´¥if (a == true) { // ..}// ä¹Ÿä¼šå¤±è´¥if (a === true) { // ..}// æ²¡é—®é¢˜if (a) { // ..}// æ›´å¥½if (!!a) { // ..}// ä¹Ÿå¾ˆå¥½if (Boolean( a )) { // ..} å…¶ä»–æƒ…å†µæ›´æ”¹å†…ç½®åŸç”ŸåŸå‹ä¼šå¯¼è‡´å¥‡æ€ªæ•ˆæœ 12345678910111213141516171819202122Number.prototype.valueOf = function() { return 3;};new Number( 2 ) == 3; // trueï¼Œå› ä¸ºvalueOfè¿”å›3// è¿™ç§æƒ…å†µä¹Ÿä¼šå‘ç”Ÿï¼Œå¦‚ä¸‹if (a == 2 &amp;&amp; a == 3) { // ..}var i = 2;// è®© a.valueOf() æ¯æ¬¡è°ƒç”¨éƒ½äº§ç”Ÿå‰¯ä½œç”¨ï¼Œç¬¬ä¸€æ¬¡è¿”å› 2ï¼Œç¬¬äºŒæ¬¡è¿”å› 3Number.prototype.valueOf = function() { return i++;};var a = new Number( 42 );if (a == 2 &amp;&amp; a == 3) { console.log( &quot;Yep, this happened.&quot; );} 123456789101112131415161718192021222324252627&quot;0&quot; == null; // false&quot;0&quot; == undefined; // false&quot;0&quot; == false; // true -- UH OH!&quot;0&quot; == NaN; // false&quot;0&quot; == 0; // true&quot;0&quot; == &quot;&quot;; // falsefalse == null; // falsefalse == undefined; // falsefalse == NaN; // falsefalse == 0; // true -- UH OH!false == &quot;&quot;; // true -- UH OH!false == []; // true -- UH OH!false == {}; // false&quot;&quot; == null; // false&quot;&quot; == undefined; // false&quot;&quot; == NaN; // false&quot;&quot; == 0; // true -- UH OH!&quot;&quot; == []; // true -- UH OH!&quot;&quot; == {}; // false0 == null; // false0 == undefined; // false0 == NaN; // false0 == []; // true -- UH OH!0 == {}; // false æœ‰ 7 ç§æ³¨é‡Šäº†â€œUH OH!â€ï¼Œå› ä¸ºå®ƒä»¬å±äºå‡é˜³(false positive)çš„æƒ…å†µï¼Œé‡Œé¢å‘å¾ˆå¤šã€‚ â€œâ€ å’Œ 0 æ˜æ˜¾æ˜¯ä¸¤ä¸ªä¸åŒçš„å€¼ï¼Œå®ƒä»¬ä¹‹é—´çš„å¼ºåˆ¶ç±»å‹è½¬æ¢å¾ˆå®¹æ˜“æé”™ã€‚ 12345[] == ![] // true,æ ¹æ®toBooleanå˜æˆ[]==false2 == [2]; // true&quot;&quot; == [null]; // true0 == &quot;\\n&quot;; // true ï¼Œ== å³è¾¹çš„å€¼ [2] å’Œ [null] ä¼šè¿›è¡Œ ToPrimitive å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œ ä»¥ä¾¿èƒ½å¤Ÿå’Œå·¦è¾¹çš„åŸºæœ¬ç±»å‹å€¼(2 å’Œ â€œâ€)è¿›è¡Œæ¯”è¾ƒã€‚å› ä¸ºæ•°ç»„çš„ valueOf() è¿”å›æ•°ç»„æœ¬èº«ï¼Œ æ‰€ä»¥å¼ºåˆ¶ç±»å‹è½¬æ¢è¿‡ç¨‹ä¸­æ•°ç»„ä¼šè¿›è¡Œå­—ç¬¦ä¸²åŒ–ã€‚ç¬¬ä¸€è¡Œä¸­çš„ [2] ä¼šè½¬æ¢ä¸º &quot;2&quot;ï¼Œç„¶åé€šè¿‡ ToNumber è½¬æ¢ä¸º 2ã€‚ç¬¬äºŒè¡Œä¸­çš„ [null] ä¼šç›´æ¥è½¬ æ¢ä¸º â€œâ€ã€‚æ‰€ä»¥æœ€åçš„ç»“æœå°±æ˜¯ 2 == 2 å’Œ &quot;&quot; == &quot;&quot;ã€‚ å®‰å…¨è¿ç”¨éšå¼å¼ºåˆ¶è½¬æ¢ï¼Œéµå¾ªä»¥ä¸‹ä¸¤ä¸ªåŸåˆ™ï¼š å¦‚æœä¸¤è¾¹çš„å€¼ä¸­æœ‰ true æˆ–è€… falseï¼Œåƒä¸‡ä¸è¦ä½¿ç”¨ ==ã€‚ å¦‚æœä¸¤è¾¹çš„å€¼ä¸­æœ‰ []ã€â€â€ æˆ–è€… 0ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ ==ã€‚ æœ€å¥½ç”¨ === æ¥é¿å…ä¸ç»æ„çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚è¿™ä¸¤ä¸ªåŸåˆ™å¯ä»¥è®©æˆ‘ä»¬é¿å¼€å‡ ä¹æ‰€æœ‰å¼ºåˆ¶ç±»å‹è½¬æ¢çš„å‘ã€‚ æŠ½è±¡å…³ç³»æ¯”è¾ƒæ¯”è¾ƒåŒæ–¹é¦–å…ˆè°ƒç”¨ ToPrimitiveï¼Œå¦‚æœç»“æœå‡ºç°éå­—ç¬¦ä¸²ï¼Œå°±æ ¹æ® ToNumber è§„åˆ™å°†åŒæ–¹å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºæ•°å­—æ¥è¿›è¡Œæ¯”è¾ƒã€‚ å¦‚æœæ¯”è¾ƒåŒæ–¹éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰å­—æ¯é¡ºåºæ¥è¿›è¡Œæ¯”è¾ƒ: 123456789101112131415161718192021222324252627282930var a = [ 42 ];var b = [ &quot;43&quot; ];a &lt; b; // true 42&lt;43b &lt; a; // falsevar a = [ &quot;42&quot; ];var b = [ &quot;043&quot; ];a &lt; b; // false å­—ç¬¦ä¸²ï¼Œ&quot;42&quot; &lt; &quot;043&quot; 4&gt;0var a = [ 4, 2 ];var b = [ 0, 4, 3 ];a &lt; b; // false '4,2' &lt; '0,4,3'var a = { b: 42 };var b = { b: 43 };a &lt; b; // false '[object Object]' &lt; '[object Object]'// ä»¥ä¸‹å¾ˆå¥‡æ€ªvar a = { b: 42 };var b = { b: 43 };a &lt; b; // falsea == b; // falsea &gt; b; // falsea &lt;= b; // truea &gt;= b; // true JSä¸­ &lt;= æ˜¯â€œä¸å¤§äºâ€çš„æ„æ€(å³ !(a &gt; b)ï¼Œå¤„ç†ä¸º !(b &lt; a))ã€‚åŒç† a &gt;= b å¤„ç†ä¸º !(a&lt;b)ã€‚ è¦é¿å…a &lt; bä¸­å‘ç”Ÿéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæˆ‘ä»¬åªèƒ½ç¡®ä¿aå’Œbä¸ºç›¸åŒçš„ç±»å‹ï¼Œ é™¤æ­¤ä¹‹å¤–åˆ«æ— ä»–æ³•ã€‚ ä¸ºäº†ä¿è¯å®‰å…¨ï¼Œåº”è¯¥å¯¹å…³ç³»æ¯”è¾ƒä¸­çš„å€¼è¿›è¡Œæ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ 12345var a = [ 42 ];var b = &quot;043&quot;;a &lt; b; // false -- string comparison!Number( a ) &lt; Number( b ); // true -- number comparison! å°ç»“ç±»å‹è½¬æ¢äº†è§£æ˜¾ç¤ºéšå¼è½¬æ¢ ä¸€èˆ¬ç¼–ç è§„èŒƒçš„é¡¹ç›®éƒ½ä¼šè¦æ±‚å¼ºåˆ¶ç±»å‹è½¬æ¢ å†åŠ ä¸Šç”¨äº†TSä¹‹åï¼Œè¦æ±‚æ›´é«˜äº†ã€‚ ä¸è¿‡è¿˜æ˜¯è¦çŸ¥å…¶ç„¶ï¼Œæ›´è¦çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚","link":"/posts/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E7%B2%BE%E8%AF%BB%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%E4%B8%AD%E5%8D%B7/"},{"title":"Reactå’ŒVue","text":"åœ¨jsxæ–‡ä»¶ä¸­ä¸ºä»€ä¹ˆä¸€å®šè¦å¼•ç”¨react1234567891011121314151617181920212223242526JSX è¯­æ³•å°±æ˜¯ç”¨React.createElement()æ¥æ„å»º React å…ƒç´ çš„ã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡ç­¾åã€‚å¦‚divã€spanï¼Œæˆ–è€… React ç»„ä»¶ã€‚ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¼ å…¥çš„å±æ€§ã€‚ç¬¬ä¸‰ä¸ªä»¥åŠä¹‹åçš„å‚æ•°ï¼Œçš†ä½œä¸ºç»„ä»¶çš„å­ç»„ä»¶ã€‚React.createElement( type, [props], [...children])React.cloneElement()React.cloneElement()ä¸React.createElement()ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯å®ƒä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª Reactå…ƒç´ ï¼Œè€Œä¸æ˜¯æ ‡ç­¾åæˆ–ç»„ä»¶ã€‚æ–°æ·»åŠ çš„å±æ€§ä¼šå¹¶å…¥åŸæœ‰çš„å±æ€§ï¼Œä¼ å…¥åˆ°è¿”å›çš„æ–°å…ƒç´ ä¸­ï¼Œè€Œå°±çš„å­å…ƒç´ å¥–æ¯æ›¿æ¢ã€‚React.cloneElement( element, [props], [...children]) React ç»„ä»¶React ä¸­æœ‰ä¸‰ç§æ„å»ºç»„ä»¶çš„æ–¹å¼ã€‚React.createClass()ã€ES6 classå’Œæ— çŠ¶æ€å‡½æ•°ã€‚ React.createClass()React.createClass()æ˜¯ä¸‰ç§æ–¹å¼ä¸­æœ€æ—©ï¼Œå…¼å®¹æ€§æœ€å¥½çš„æ–¹æ³•ã€‚åœ¨0.14ç‰ˆæœ¬å‰å®˜æ–¹æŒ‡å®šçš„ç»„ä»¶å†™æ³•ã€‚ 12345var Greeting = React.createClass({ render: function() { return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;; }}); ES6 classES6 classæ˜¯ç›®å‰å®˜æ–¹æ¨èçš„ä½¿ç”¨æ–¹å¼ï¼Œå®ƒä½¿ç”¨äº†ES6æ ‡å‡†è¯­æ³•æ¥æ„å»ºï¼Œä½†å®ƒçš„å®ç°ä»æ˜¯è°ƒç”¨React.createClass()æ¥å®ç°äº†ï¼ŒES6 classçš„ç”Ÿå‘½å‘¨æœŸå’Œè‡ªåŠ¨ç»‘å®šæ–¹å¼ä¸React.createClass()ç•¥æœ‰ä¸åŒã€‚ 12345class Greeting extemds React.Component{ render: function() { return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;; }}; æ— çŠ¶æ€å‡½æ•°æ— çŠ¶æ€å‡½æ•°æ˜¯ä½¿ç”¨å‡½æ•°æ„å»ºçš„æ— çŠ¶æ€ç»„ä»¶ï¼Œæ— çŠ¶æ€ç»„ä»¶ä¼ å…¥propså’Œcontextä¸¤ä¸ªå‚æ•°ï¼Œå®ƒæ²¡æœ‰stateï¼Œé™¤äº†render()ï¼Œæ²¡æœ‰å…¶å®ƒç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚ 123function Greeting (props) { return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;} React.createClass()å’ŒES6 classæ„å»ºçš„ç»„ä»¶çš„æ•°æ®ç»“æ„æ˜¯ç±»ï¼Œæ— çŠ¶æ€ç»„ä»¶æ•°æ®ç»“æ„æ˜¯å‡½æ•°ï¼Œå®ƒä»¬åœ¨ React è¢«è§†ä¸ºæ˜¯ä¸€æ ·çš„ã€‚ å…ƒç´ ä¸ç»„ä»¶çš„åŒºåˆ«ç»„ä»¶æ˜¯ç”±å…ƒç´ æ„æˆçš„ã€‚å…ƒç´ æ•°æ®ç»“æ„æ˜¯æ™®é€šå¯¹è±¡ï¼Œè€Œç»„ä»¶æ•°æ®ç»“æ„æ˜¯ç±»æˆ–çº¯å‡½æ•°ã€‚ 1234function Greeting (props) { return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;} componentWillReceivePropsåº”ç”¨åœºæ™¯å¦‚æœå­ç»„ä»¶éœ€è¦çš„æ•°æ®æ˜¯ç›´æ¥ç”±çˆ¶ç»„ä»¶é€šè¿‡propsä¼ é€’è¿‡æ¥å°±ä¸éœ€è¦åœ¨componentwillreceivepropsä¸­setStateï¼Œä½†æ˜¯å¦‚æœå­ç»„ä»¶æœ‰è‡ªå·±çš„çŠ¶æ€ï¼ŒåŒæ—¶è¿™ä¸ªçŠ¶æ€ä¾èµ–äºçˆ¶ç»„ä»¶çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±éœ€è¦å­ç»„ä»¶å•ç‹¬è¿›è¡ŒsetStateæ“ä½œï¼Œå¦åˆ™æ— æ³•å®Œæˆå­ç»„ä»¶çš„æ›´æ–°ã€‚åŒæ—¶æœ‰ä¸€ç‚¹ï¼Œåœ¨componentwillreceivepropsä¸­å†™setStateä¸ä¼šå†æ¬¡è§¦å‘å­ç»„ä»¶çš„renderã€‚è§£é‡Šä¸€ä¸‹ï¼šçˆ¶ç»„ä»¶setStateæ—¶ä¼šè§¦å‘å­ç»„ä»¶çš„renderï¼Œæ­¤æ—¶å¦‚æœåœ¨å­ç»„ä»¶çš„componentwillreceivepropsé‡ŒsetStateï¼Œç»™äººçš„æ„Ÿè§‰æ˜¯ä¼šå†ä¸€æ¬¡è§¦å‘å­ç»„ä»¶çš„renderï¼ˆåŠ ä¸Šå‰é¢çš„ä¸€æ¬¡å°±æ˜¯ä¸¤æ¬¡ï¼‰ï¼Œå®é™…æƒ…å†µæ˜¯ä¸ä¼šçš„ vuexå’Œreduxä½¿ç”¨æœ‰ä»€ä¹ˆä¸åŒVuex å…¶å®æ˜¯ä¸€ä¸ªé’ˆå¯¹ Vue ç‰¹åŒ–çš„ Fluxï¼Œä¸»è¦æ˜¯ä¸ºäº†é…åˆ Vue æœ¬èº«çš„å“åº”å¼æœºåˆ¶ã€‚å½“ç„¶å¸å–äº†ä¸€äº› Redux çš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚å•çŠ¶æ€æ ‘å’Œä¾¿äºæµ‹è¯•å’Œçƒ­é‡è½½çš„ APIï¼Œä½†æ˜¯ä¹Ÿé€‰æ‹©æ€§çš„æ”¾å¼ƒäº†ä¸€äº›åœ¨ Vue çš„åœºæ™¯ä¸‹å¹¶ä¸å¥‘åˆçš„ç‰¹æ€§ï¼Œæ¯”å¦‚å¼ºåˆ¶çš„ immutabilityï¼ˆåœ¨ä¿è¯äº†æ¯ä¸€æ¬¡çŠ¶æ€å˜åŒ–éƒ½èƒ½è¿½è¸ªçš„æƒ…å†µä¸‹å¼ºåˆ¶çš„ immutability å¸¦æ¥çš„æ”¶ç›Šå°±å¾ˆæœ‰é™äº†ï¼‰ã€ä¸ºäº†åŒæ„è€Œè®¾è®¡å¾—è¾ƒä¸ºç¹ççš„ APIã€å¿…é¡»ä¾èµ–ç¬¬ä¸‰æ–¹åº“æ‰èƒ½ç›¸å¯¹é«˜æ•ˆç‡åœ°è·å¾—çŠ¶æ€æ ‘çš„å±€éƒ¨çŠ¶æ€ç­‰ç­‰ï¼ˆç›¸æ¯”ä¹‹ä¸‹ Vuex ç›´æ¥ç”¨ Vue æœ¬èº«çš„è®¡ç®—å±æ€§å°±å¯ä»¥ï¼‰æ‰€ä»¥ Vue + Vuex ä¼šæ›´ç®€æ´ï¼Œä¹Ÿä¸éœ€è¦è€ƒè™‘æ€§èƒ½é—®é¢˜ï¼Œä»£ä»·å°±æ˜¯ Vuex åªèƒ½å’Œ Vue é…åˆã€‚Vue + Redux ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œä½†æ˜¯ Redux ä½œä¸ºä¸€ä¸ªæ³›ç”¨çš„å®ç°å’Œ Vue çš„å¥‘åˆåº¦è‚¯å®šä¸å¦‚ Vuexã€‚ nextTickçš„ä½œç”¨ï¼ŒåŸç†ï¼Œç”¨apiçš„åœºæ™¯$nextTick æ˜¯åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åä½¿ç”¨ $nextTickï¼Œåˆ™å¯ä»¥åœ¨å›è°ƒä¸­è·å–æ›´æ–°åçš„ DOM ä¹Ÿè®¸æœ‰äººä¼šé—®ï¼Œæˆ‘åœ¨ Vue å®ä¾‹æ–¹æ³•ä¸­ä¿®æ”¹äº†æ•°æ®ï¼Œç„¶åå†åœ¨ $nextTick å›è°ƒä¸­è·å–è¯¥æ•°æ®åœ¨ç›¸åº” DOM å…ƒç´ æ‰€ç»‘å®šçš„å†…å®¹ï¼ˆæˆ–å±æ€§ï¼‰æ®Šæ— å¿…è¦ï¼Œæˆ‘ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·çš„ API å‘¢ï¼Ÿ è€ƒè™‘è¿™æ ·ä¸€ç§åœºæ™¯ï¼Œä½ æœ‰ä¸€ä¸ª jQuery æ’ä»¶ï¼Œå¸Œæœ›åœ¨ DOM å…ƒç´ ä¸­æŸäº›å±æ€§å‘ç”Ÿå˜åŒ–ä¹‹åé‡æ–°åº”ç”¨è¯¥æ’ä»¶ï¼Œè¿™æ—¶å€™å°±éœ€è¦åœ¨ $nextTick çš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œé‡æ–°åº”ç”¨æ’ä»¶çš„æ–¹æ³•ã€‚ åœ¨æ•°æ®å˜åŒ–åè¦æ‰§è¡Œçš„æŸä¸ªæ“ä½œï¼Œè€Œè¿™ä¸ªæ“ä½œéœ€è¦ä½¿ç”¨éšæ•°æ®æ”¹å˜è€Œæ”¹å˜çš„DOMç»“æ„çš„æ—¶å€™ï¼Œè¿™ä¸ªæ“ä½œéƒ½åº”è¯¥æ”¾è¿›Vue.nextTick()çš„å›è°ƒå‡½æ•°ä¸­ã€‚ åŸå› æ˜¯ï¼ŒVueæ˜¯å¼‚æ­¥æ‰§è¡Œdomæ›´æ–°çš„ï¼Œä¸€æ—¦è§‚å¯Ÿåˆ°æ•°æ®å˜åŒ–ï¼ŒVueå°±ä¼šå¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åæŠŠåœ¨åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯ (event loop) å½“ä¸­è§‚å¯Ÿåˆ°æ•°æ®å˜åŒ–çš„ watcher æ¨é€è¿›è¿™ä¸ªé˜Ÿåˆ—ã€‚å¦‚æœè¿™ä¸ªwatcherè¢«è§¦å‘å¤šæ¬¡ï¼Œåªä¼šè¢«æ¨é€åˆ°é˜Ÿåˆ—ä¸€æ¬¡ã€‚è¿™ç§ç¼“å†²è¡Œä¸ºå¯ä»¥æœ‰æ•ˆçš„å»æ‰é‡å¤æ•°æ®é€ æˆçš„ä¸å¿…è¦çš„è®¡ç®—å’ŒDOmæ“ä½œã€‚è€Œåœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯æ—¶ï¼ŒVueä¼šæ¸…ç©ºé˜Ÿåˆ—ï¼Œå¹¶è¿›è¡Œå¿…è¦çš„DOMæ›´æ–°ã€‚ å½“ä½ è®¾ç½® vm.someData = â€˜new valueâ€™ï¼ŒDOM å¹¶ä¸ä¼šé©¬ä¸Šæ›´æ–°ï¼Œè€Œæ˜¯åœ¨å¼‚æ­¥é˜Ÿåˆ—è¢«æ¸…é™¤ï¼Œä¹Ÿå°±æ˜¯ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯å¼€å§‹æ—¶æ‰§è¡Œæ›´æ–°æ—¶æ‰ä¼šè¿›è¡Œå¿…è¦çš„DOMæ›´æ–°ã€‚å¦‚æœæ­¤æ—¶ä½ æƒ³è¦æ ¹æ®æ›´æ–°çš„ DOM çŠ¶æ€å»åšæŸäº›äº‹æƒ…ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚ã€‚ä¸ºäº†åœ¨æ•°æ®å˜åŒ–ä¹‹åç­‰å¾… Vue å®Œæˆæ›´æ–° DOM ï¼Œå¯ä»¥åœ¨æ•°æ®å˜åŒ–ä¹‹åç«‹å³ä½¿ç”¨ Vue.nextTick(callback) ã€‚è¿™æ ·å›è°ƒå‡½æ•°åœ¨ DOM æ›´æ–°å®Œæˆåå°±ä¼šè°ƒç”¨ã€‚ 12345678910111213141516new Vue({ // ... methods: { // ... example: function () { // modify data this.message = 'changed' // DOM is not updated yet this.$nextTick(function () { // DOM is now updated // `this` is bound to the current instance this.doSomethingElse() }) } }}) åœ¨æ•°æ®å˜åŒ–åè¦æ‰§è¡Œçš„æŸä¸ªæ“ä½œï¼Œè€Œè¿™ä¸ªæ“ä½œéœ€è¦ä½¿ç”¨éšæ•°æ®æ”¹å˜è€Œæ”¹å˜çš„DOMç»“æ„çš„æ—¶å€™ï¼Œè¿™ä¸ªæ“ä½œéƒ½åº”è¯¥æ”¾è¿›Vue.nextTick()çš„å›è°ƒå‡½æ•°ä¸­ vueçš„propsï¼Œstate, computeåŒºåˆ«data: Vue å®ä¾‹çš„æ•°æ®å¯¹è±¡ã€‚Vue å°†ä¼šé€’å½’å°† data çš„å±æ€§è½¬æ¢ä¸º getter/setterï¼Œä»è€Œè®© data çš„å±æ€§èƒ½å¤Ÿå“åº”æ•°æ®å˜åŒ–ã€‚ props: å¯ä»¥æ˜¯æ•°ç»„æˆ–å¯¹è±¡ï¼Œç”¨äºæ¥æ”¶æ¥è‡ªçˆ¶ç»„ä»¶çš„æ•°æ®ã€‚props å¯ä»¥æ˜¯ç®€å•çš„æ•°ç»„ï¼Œæˆ–è€…ä½¿ç”¨å¯¹è±¡ä½œä¸ºæ›¿ä»£ï¼Œå¯¹è±¡å…è®¸é…ç½®é«˜çº§é€‰é¡¹ï¼Œå¦‚ç±»å‹æ£€æµ‹ã€è‡ªå®šä¹‰æ ¡éªŒå’Œè®¾ç½®é»˜è®¤å€¼ã€‚ ä¸¤ä¸ªçš„åŒºåˆ«å°±æ˜¯dataæ˜¯å“åº”å¼çš„ï¼Ÿ è®¡ç®—å±æ€§å°†è¢«æ··å…¥åˆ° Vue å®ä¾‹ä¸­ã€‚æ‰€æœ‰ getter å’Œ setter çš„ this ä¸Šä¸‹æ–‡è‡ªåŠ¨åœ°ç»‘å®šä¸º Vue å®ä¾‹ã€‚ æ³¨æ„å¦‚æœä½ ä¸ºä¸€ä¸ªè®¡ç®—å±æ€§ä½¿ç”¨äº†ç®­å¤´å‡½æ•°ï¼Œåˆ™ this ä¸ä¼šæŒ‡å‘è¿™ä¸ªç»„ä»¶çš„å®ä¾‹ï¼Œä¸è¿‡ä½ ä»ç„¶å¯ä»¥å°†å…¶å®ä¾‹ä½œä¸ºå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ¥è®¿é—®ã€‚ è®¡ç®—å±æ€§çš„ç»“æœä¼šè¢«ç¼“å­˜ï¼Œé™¤éä¾èµ–çš„å“åº”å¼å±æ€§å˜åŒ–æ‰ä¼šé‡æ–°è®¡ç®—ã€‚æ³¨æ„ï¼Œå¦‚æœæŸä¸ªä¾èµ– (æ¯”å¦‚éå“åº”å¼å±æ€§) åœ¨è¯¥å®ä¾‹èŒƒç•´ä¹‹å¤–ï¼Œåˆ™è®¡ç®—å±æ€§æ˜¯ä¸ä¼šè¢«æ›´æ–°çš„ã€‚ react native å’ŒåŸç”Ÿçš„æ€ä¹ˆé€šä¿¡pure componentReact15.3ä¸­æ–°åŠ äº†ä¸€ä¸ª PureComponent ç±»ï¼Œ ä¹Ÿå°±æ˜¯çº¯ç»„ä»¶ï¼Œå–ä»£å…¶å‰èº« PureRenderMixin , PureComponent æ˜¯ä¼˜åŒ– React åº”ç”¨ç¨‹åºæœ€é‡è¦çš„æ–¹æ³•ä¹‹ä¸€ï¼Œæ˜“äºå®æ–½ï¼Œåªè¦æŠŠç»§æ‰¿ç±»ä» Component æ¢æˆ PureComponent å³å¯ï¼Œ å¯ä»¥å‡å°‘ä¸å¿…è¦çš„ render æ“ä½œçš„æ¬¡æ•°ï¼Œä»è€Œæé«˜æ€§èƒ½ï¼Œè€Œä¸”å¯ä»¥å°‘å†™ shouldComponentUpdate å‡½æ•°ï¼ŒèŠ‚çœäº†ç‚¹ä»£ç ã€‚ React Native ä¸ åŸç”Ÿäº¤äº’é“¾æ¥ vue.js å’Œvue.runtime.jsåŒºåˆ«vue.js å®Œæ•´ç‰ˆï¼šåŒæ—¶åŒ…å«ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶çš„ç‰ˆæœ¬ã€‚ runtime.js è¿è¡Œæ—¶ï¼šç”¨æ¥åˆ›å»º Vue å®ä¾‹ã€æ¸²æŸ“å¹¶å¤„ç†è™šæ‹Ÿ DOM ç­‰çš„ä»£ç ã€‚åŸºæœ¬ä¸Šå°±æ˜¯é™¤å»ç¼–è¯‘å™¨çš„å…¶å®ƒä¸€åˆ‡ã€‚ ç¼–è¯‘å™¨ï¼šç”¨æ¥å°†æ¨¡æ¿å­—ç¬¦ä¸²ç¼–è¯‘æˆä¸º JavaScript æ¸²æŸ“å‡½æ•°çš„ä»£ç ã€‚ é«˜é˜¶ç»„ä»¶ï¼Ÿï¼Ÿ è§£å†³äº†ä»€ä¹ˆé—®é¢˜é“¾æ¥ é€‚é…å™¨æ¨¡å¼ï¼Œ é«˜é˜¶å‡½æ•°çš„å®šä¹‰ï¼šæ¥æ”¶å‡½æ•°ä½œä¸ºè¾“å…¥ï¼Œæˆ–è€…è¾“å‡ºå¦ä¸€ä¸ªå‡½æ•°çš„ä¸€ç±»å‡½æ•°ï¼Œè¢«ç§°ä½œé«˜é˜¶å‡½æ•°ã€‚ å¯¹äºé«˜é˜¶ç»„ä»¶ï¼Œå®ƒæè¿°çš„ä¾¿æ˜¯æ¥å—Reactç»„ä»¶ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡ºä¸€ä¸ªæ–°çš„Reactç»„ä»¶çš„ç»„ä»¶ã€‚ é«˜é˜¶ç»„ä»¶é€šè¿‡åŒ…è£¹ï¼ˆwrappedï¼‰è¢«ä¼ å…¥çš„Reactç»„ä»¶ï¼Œç»è¿‡ä¸€ç³»åˆ—å¤„ç†ï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ªç›¸å¯¹å¢å¼ºï¼ˆenhancedï¼‰çš„Reactç»„ä»¶ï¼Œä¾›å…¶ä»–ç»„ä»¶è°ƒç”¨ã€‚ é«˜é˜¶ç»„ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯å°è£…å¹¶æŠ½ç¦»ç»„ä»¶çš„é€šç”¨é€»è¾‘ï¼Œè®©æ­¤éƒ¨åˆ†é€»è¾‘åœ¨ç»„ä»¶é—´æ›´å¥½åœ°è¢«å¤ç”¨ã€‚ setStateæºç å‰–æï¼Œå¤šæ¬¡è°ƒç”¨è§£å¯†setStateæµç¨‹è¿˜æ˜¯å¾ˆå¤æ‚çš„ï¼Œè®¾è®¡ä¹Ÿå¾ˆç²¾å·§ï¼Œé¿å…äº†é‡å¤æ— è°“çš„åˆ·æ–°ç»„ä»¶ã€‚å®ƒçš„ä¸»è¦æµç¨‹å¦‚ä¸‹ enqueueSetStateå°†stateæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶è°ƒç”¨enqueueUpdateå¤„ç†è¦æ›´æ–°çš„Component å¦‚æœç»„ä»¶å½“å‰æ­£å¤„äºupdateäº‹åŠ¡ä¸­ï¼Œåˆ™å…ˆå°†Componentå­˜å…¥dirtyComponentä¸­ã€‚å¦åˆ™è°ƒç”¨batchedUpdateså¤„ç†ã€‚ batchedUpdateså‘èµ·ä¸€æ¬¡transaction.perform()äº‹åŠ¡å¼€å§‹æ‰§è¡Œäº‹åŠ¡åˆå§‹åŒ–ï¼Œè¿è¡Œï¼Œç»“æŸä¸‰ä¸ªé˜¶æ®µ 1 åˆå§‹åŒ–ï¼šäº‹åŠ¡åˆå§‹åŒ–é˜¶æ®µæ²¡æœ‰æ³¨å†Œæ–¹æ³•ï¼Œæ•…æ— æ–¹æ³•è¦æ‰§è¡Œ 2 è¿è¡Œï¼šæ‰§è¡ŒsetSateæ—¶ä¼ å…¥çš„callbackæ–¹æ³•ï¼Œä¸€èˆ¬ä¸ä¼šä¼ callbackå‚æ•° 3 ç»“æŸï¼šæ›´æ–°isBatchingUpdatesä¸ºfalseï¼Œå¹¶æ‰§è¡ŒFLUSH_BATCHED_UPDATESè¿™ä¸ªwrapperä¸­çš„closeæ–¹æ³•FLUSH_BATCHED_UPDATESåœ¨closeé˜¶æ®µï¼Œä¼šå¾ªç¯éå†æ‰€æœ‰çš„dirtyComponentsï¼Œè°ƒç”¨updateComponentåˆ·æ–°ç»„ä»¶ï¼Œå¹¶æ‰§è¡Œå®ƒçš„pendingCallbacks, ä¹Ÿå°±æ˜¯setStateä¸­è®¾ç½®çš„callbackã€‚ ä¼šè°ƒç”¨åˆ°batchedUpdatesè¿›è¡Œæ‰¹å¤„ç†æ›´æ–°ï¼ŒReactä»¥äº‹åŠ¡çš„æ–¹å¼å¤„ç†ç»„ä»¶updateï¼Œäº‹åŠ¡å¤„ç†å®Œåä¼šè°ƒç”¨wrapper.close(), react diffé“¾æ¥ ä¸‰å¤§è¦ç‚¹ tree diff ä¸¤æ£µæ ‘åªä¼šå¯¹åŒä¸€å±‚æ¬¡çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚ component diff åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ç±»å‹ç»„ä»¶ element diff åŒä¸€èŠ‚ç‚¹ æ’å…¥ï¼Œåˆ é™¤ï¼Œç§»åŠ¨å±æ€§ åœ¨reactjsä¸­æˆ‘ä»¬éœ€è¦æ›´æ–°æ—¶éƒ½æ˜¯è°ƒç”¨çš„setState setStateä¸»è¦è°ƒç”¨äº†å¯¹åº”çš„componentçš„receiveComponentæ¥å®ç°æ›´æ–°ã€‚æ‰€æœ‰çš„æŒ‚è½½ï¼Œæ›´æ–°éƒ½åº”è¯¥äº¤ç»™å¯¹åº”çš„componentæ¥ç®¡ç†ã€‚ å°±åƒæ‰€æœ‰çš„componentéƒ½å®ç°äº†mountComponentæ¥å¤„ç†ç¬¬ä¸€æ¬¡æ¸²æŸ“ï¼Œæ‰€æœ‰çš„componetç±»éƒ½åº”è¯¥å®ç°receiveComponentç”¨æ¥å¤„ç†è‡ªå·±çš„æ›´æ–°ã€‚ ä¼šåˆå¹¶æ”¹åŠ¨ï¼Œç”Ÿæˆæœ€æ–°çš„state,propsç„¶åæ‹¿ä»¥å‰çš„renderè¿”å›çš„elementè·Ÿç°åœ¨æœ€æ–°è°ƒç”¨renderç”Ÿæˆçš„elementè¿›è¡Œå¯¹æ¯”ï¼ˆ_shouldUpdateReactComponentï¼‰ï¼Œçœ‹çœ‹éœ€ä¸éœ€è¦æ›´æ–°ï¼Œå¦‚æœè¦æ›´æ–°å°±ç»§ç»­è°ƒç”¨å¯¹åº”çš„componentç±»å¯¹åº”çš„receiveComponentå°±å¥½å•¦ï¼Œå…¶å®å°±æ˜¯ç›´æ¥å½“ç”©æ‰‹æŒæŸœï¼Œäº‹æƒ…ç›´æ¥ä¸¢ç»™æ‰‹ä¸‹å»åŠäº†ã€‚å½“ç„¶è¿˜æœ‰ç§æƒ…å†µæ˜¯ï¼Œä¸¤æ¬¡ç”Ÿæˆçš„elementå·®åˆ«å¤ªå¤§ï¼Œå°±ä¸æ˜¯ä¸€ä¸ªç±»å‹çš„ï¼Œé‚£å¥½åŠç›´æ¥é‡æ–°ç”Ÿæˆä¸€ä»½æ–°çš„ä»£ç é‡æ–°æ¸²æŸ“ä¸€æ¬¡å°±oäº†ã€‚ æœ¬è´¨ä¸Šè¿˜æ˜¯é€’å½’è°ƒç”¨receiveComponentçš„è¿‡ç¨‹ã€‚ è¿™é‡Œæ³¨æ„ä¸¤ä¸ªå‡½æ•°ï¼š inst.shouldComponentUpdateæ˜¯å®ä¾‹æ–¹æ³•ï¼Œå½“æˆ‘ä»¬ä¸å¸Œæœ›æŸæ¬¡setStateåæ›´æ–°ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œè¿”å›falseå°±å¥½äº†ã€‚ _shouldUpdateReactComponentæ˜¯ä¸€ä¸ªå…¨å±€æ–¹æ³•ï¼Œè¿™ä¸ªæ˜¯ä¸€ç§reactjsçš„ä¼˜åŒ–æœºåˆ¶ã€‚ç”¨æ¥å†³å®šæ˜¯ç›´æ¥å…¨éƒ¨æ›¿æ¢ï¼Œè¿˜æ˜¯ä½¿ç”¨å¾ˆç»†å¾®çš„æ”¹åŠ¨ã€‚å½“ä¸¤æ¬¡renderå‡ºæ¥çš„å­èŠ‚ç‚¹keyä¸åŒï¼Œç›´æ¥å…¨éƒ¨é‡æ–°æ¸²æŸ“ä¸€éï¼Œæ›¿æ¢å°±å¥½äº†ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°±å¾—æ¥ä¸ªé€’å½’çš„æ›´æ–°ï¼Œä¿è¯æœ€å°åŒ–çš„æ›´æ–°æœºåˆ¶ï¼Œè¿™æ ·å¯ä»¥ä¸ä¼šæœ‰å¤ªå¤§çš„é—ªçƒã€‚ ==ç®€å•å›é¡¾ä¸‹reactjsçš„å·®å¼‚ç®—æ³•ï¼š== é¦–å…ˆæ˜¯æ‰€æœ‰çš„componentéƒ½å®ç°äº†receiveComponentæ¥è´Ÿè´£è‡ªå·±çš„æ›´æ–°ï¼Œè€Œæµè§ˆå™¨é»˜è®¤å…ƒç´ çš„æ›´æ–°æœ€ä¸ºå¤æ‚ï¼Œä¹Ÿå°±æ˜¯ç»å¸¸è¯´çš„ diff algorithmã€‚ reactæœ‰ä¸€ä¸ªå…¨å±€_shouldUpdateReactComponentç”¨æ¥æ ¹æ®elementçš„keyæ¥åˆ¤æ–­æ˜¯æ›´æ–°è¿˜æ˜¯é‡æ–°æ¸²æŸ“ï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªå·®å¼‚åˆ¤æ–­ã€‚æ¯”å¦‚è‡ªå®šä¹‰å…ƒç´ é‡Œï¼Œå°±ä½¿ç”¨è¿™ä¸ªåˆ¤æ–­ï¼Œé€šè¿‡è¿™ç§æ ‡è¯†åˆ¤æ–­ï¼Œä¼šå˜å¾—ç‰¹åˆ«é«˜æ•ˆã€‚ æ¯ä¸ªç±»å‹çš„å…ƒç´ éƒ½è¦å¤„ç†å¥½è‡ªå·±çš„æ›´æ–°ï¼š è‡ªå®šä¹‰å…ƒç´ çš„æ›´æ–°ï¼Œä¸»è¦æ˜¯æ›´æ–°renderå‡ºçš„èŠ‚ç‚¹ï¼Œåšç”©æ‰‹æŒæŸœäº¤ç»™renderå‡ºçš„èŠ‚ç‚¹çš„å¯¹åº”componentå»ç®¡ç†æ›´æ–°ã€‚ textèŠ‚ç‚¹çš„æ›´æ–°å¾ˆç®€å•ï¼Œç›´æ¥æ›´æ–°æ–‡æ¡ˆã€‚ æµè§ˆå™¨åŸºæœ¬å…ƒç´ çš„æ›´æ–°ï¼Œåˆ†ä¸ºä¸¤å—ï¼š å…ˆæ˜¯æ›´æ–°å±æ€§ï¼Œå¯¹æ¯”å‡ºå‰åå±æ€§çš„ä¸åŒï¼Œå±€éƒ¨æ›´æ–°ã€‚å¹¶ä¸”å¤„ç†ç‰¹æ®Šå±æ€§ï¼Œæ¯”å¦‚äº‹ä»¶ç»‘å®šã€‚ ç„¶åæ˜¯å­èŠ‚ç‚¹çš„æ›´æ–°ï¼Œå­èŠ‚ç‚¹æ›´æ–°ä¸»è¦æ˜¯æ‰¾å‡ºå·®å¼‚å¯¹è±¡ï¼Œæ‰¾å·®å¼‚å¯¹è±¡çš„æ—¶å€™ä¹Ÿä¼šä½¿ç”¨ä¸Šé¢çš„_shouldUpdateReactComponentæ¥åˆ¤æ–­ï¼Œå¦‚æœæ˜¯å¯ä»¥ç›´æ¥æ›´æ–°çš„å°±ä¼šé€’å½’è°ƒç”¨å­èŠ‚ç‚¹çš„æ›´æ–°ï¼Œè¿™æ ·ä¹Ÿä¼šé€’å½’æŸ¥æ‰¾å·®å¼‚å¯¹è±¡ï¼Œè¿™é‡Œè¿˜ä¼šä½¿ç”¨lastIndexè¿™ç§åšä¸€ç§ä¼˜åŒ–ï¼Œä½¿ä¸€äº›èŠ‚ç‚¹ä¿ç•™ä½ç½®ï¼Œä¹‹åæ ¹æ®å·®å¼‚å¯¹è±¡æ“ä½œdomå…ƒç´ ï¼ˆä½ç½®å˜åŠ¨ï¼Œåˆ é™¤ï¼Œæ·»åŠ ç­‰ï¼‰ã€‚æ•´ä¸ªreactjsçš„å·®å¼‚ç®—æ³•å°±æ˜¯è¿™ä¸ªæ ·å­ã€‚ æœ€æ ¸å¿ƒçš„ä¸¤ä¸ª_shouldUpdateReactComponentä»¥åŠdiff,patchç®—æ³•ã€‚ //_diffç”¨æ¥é€’å½’æ‰¾å‡ºå·®åˆ«,ç»„è£…å·®å¼‚å¯¹è±¡,æ·»åŠ åˆ°æ›´æ–°é˜Ÿåˆ—diffQueueã€‚ _patchä¸»è¦å°±æ˜¯æŒ¨ä¸ªéå†å·®å¼‚é˜Ÿåˆ—ï¼Œéå†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡åˆ é™¤æ‰æ‰€æœ‰éœ€è¦å˜åŠ¨çš„èŠ‚ç‚¹ï¼Œç„¶åç¬¬äºŒæ¬¡æ’å…¥æ–°çš„èŠ‚ç‚¹è¿˜æœ‰ä¿®æ”¹çš„èŠ‚ç‚¹ã€‚è¿™é‡Œä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥æŒ¨ä¸ªçš„æ’å…¥å‘¢ï¼ŸåŸå› å°±æ˜¯æˆ‘ä»¬åœ¨diffé˜¶æ®µæ·»åŠ å·®å¼‚èŠ‚ç‚¹åˆ°å·®å¼‚é˜Ÿåˆ—æ—¶ï¼Œæœ¬èº«å°±æ˜¯æœ‰åºçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºæ–°å¢èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬moveå’Œinsertçš„ï¼‰åœ¨é˜Ÿåˆ—é‡Œçš„é¡ºåºå°±æ˜¯æœ€ç»ˆdomçš„é¡ºåºï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰å¯ä»¥æŒ¨ä¸ªçš„ç›´æ¥æ ¹æ®indexå»å¡å…¥èŠ‚ç‚¹ã€‚ é“¾æ¥ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556æ€»ç»“React é€šè¿‡åˆ¶å®šå¤§èƒ†çš„ diff ç­–ç•¥ï¼Œå°† O(n3)å¤æ‚åº¦çš„é—®é¢˜è½¬æ¢æˆ O(n) å¤æ‚åº¦çš„é—®é¢˜ï¼›React é€šè¿‡åˆ†å±‚æ±‚å¼‚çš„ç­–ç•¥ï¼Œå¯¹ tree diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›React é€šè¿‡ç›¸åŒç±»ç”Ÿæˆç›¸ä¼¼æ ‘å½¢ç»“æ„ï¼Œä¸åŒç±»ç”Ÿæˆä¸åŒæ ‘å½¢ç»“æ„çš„ç­–ç•¥ï¼Œå¯¹ component diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›React é€šè¿‡è®¾ç½®å”¯ä¸€ keyçš„ç­–ç•¥ï¼Œå¯¹ element diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›å»ºè®®ï¼Œåœ¨å¼€å‘ç»„ä»¶æ—¶ï¼Œä¿æŒç¨³å®šçš„ DOMç»“æ„ä¼šæœ‰åŠ©äºæ€§èƒ½çš„æå‡ï¼›å»ºè®®ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå°½é‡å‡å°‘ç±»ä¼¼å°†æœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°åˆ—è¡¨é¦–éƒ¨çš„æ“ä½œï¼Œå½“èŠ‚ç‚¹æ•°é‡è¿‡å¤§æˆ–æ›´æ–°æ“ä½œè¿‡äºé¢‘ç¹æ—¶ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šä¼šå½±å“ React çš„æ¸²æŸ“æ€§èƒ½ã€‚tree diffReact å¯¹æ ‘çš„ç®—æ³•è¿›è¡Œäº†ç®€æ´æ˜äº†çš„ä¼˜åŒ–ï¼Œå³å¯¹æ ‘è¿›è¡Œåˆ†å±‚æ¯”è¾ƒï¼Œä¸¤æ£µæ ‘åªä¼šå¯¹åŒä¸€å±‚æ¬¡çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚component diffå¦‚æœæ˜¯åŒä¸€ç±»å‹çš„ç»„ä»¶ï¼ŒæŒ‰ç…§åŸç­–ç•¥ç»§ç»­æ¯”è¾ƒ virtual DOM treeã€‚å¦‚æœä¸æ˜¯ï¼Œåˆ™å°†è¯¥ç»„ä»¶åˆ¤æ–­ä¸º dirty componentï¼Œä»è€Œæ›¿æ¢æ•´ä¸ªç»„ä»¶ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚å¯¹äºåŒä¸€ç±»å‹çš„ç»„ä»¶ï¼Œæœ‰å¯èƒ½å…¶ Virtual DOMæ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œå¦‚æœèƒ½å¤Ÿç¡®åˆ‡çš„çŸ¥é“è¿™ç‚¹é‚£å¯ä»¥èŠ‚çœå¤§é‡çš„ diff è¿ç®—æ—¶é—´ï¼Œå› æ­¤ React å…è®¸ç”¨æˆ·é€šè¿‡shouldComponentUpdate() æ¥åˆ¤æ–­è¯¥ç»„ä»¶æ˜¯å¦éœ€è¦è¿›è¡Œ diffã€‚element diffå½“èŠ‚ç‚¹å¤„äºåŒä¸€å±‚çº§æ—¶ï¼ŒReact diff æä¾›äº†ä¸‰ç§èŠ‚ç‚¹æ“ä½œï¼Œåˆ†åˆ«ä¸ºï¼šINSERT_MARKUPï¼ˆæ’å…¥ï¼‰ã€MOVE_EXISTINGï¼ˆç§»åŠ¨ï¼‰å’Œ REMOVE_NODEï¼ˆåˆ é™¤ï¼‰ã€‚INSERT_MARKUPï¼Œæ–°çš„ component ç±»å‹ä¸åœ¨è€é›†åˆé‡Œï¼Œ å³æ˜¯å…¨æ–°çš„èŠ‚ç‚¹ï¼Œéœ€è¦å¯¹æ–°èŠ‚ç‚¹æ‰§è¡Œæ’å…¥æ“ä½œã€‚MOVE_EXISTINGï¼Œåœ¨è€é›†åˆæœ‰æ–° component ç±»å‹ï¼Œä¸” element æ˜¯å¯æ›´æ–°çš„ç±»å‹ï¼ŒgenerateComponentChildren å·²è°ƒç”¨ receiveComponentï¼Œè¿™ç§æƒ…å†µä¸‹ prevChild=nextChildï¼Œå°±éœ€è¦åšç§»åŠ¨æ“ä½œï¼Œå¯ä»¥å¤ç”¨ä»¥å‰çš„ DOM èŠ‚ç‚¹ã€‚REMOVE_NODEï¼Œè€ component ç±»å‹ï¼Œåœ¨æ–°é›†åˆé‡Œä¹Ÿæœ‰ï¼Œä½†å¯¹åº”çš„ element ä¸åŒåˆ™ä¸èƒ½ç›´æ¥å¤ç”¨å’Œæ›´æ–°ï¼Œéœ€è¦æ‰§è¡Œåˆ é™¤æ“ä½œï¼Œæˆ–è€…è€ component ä¸åœ¨æ–°é›†åˆé‡Œçš„ï¼Œä¹Ÿéœ€è¦æ‰§è¡Œåˆ é™¤æ“ä½œã€‚React å‘ç°è¿™ç±»æ“ä½œç¹çå†—ä½™ï¼Œå› ä¸ºè¿™äº›éƒ½æ˜¯ç›¸åŒçš„èŠ‚ç‚¹ï¼Œä½†ç”±äºä½ç½®å‘ç”Ÿå˜åŒ–ï¼Œå¯¼è‡´éœ€è¦è¿›è¡Œç¹æ‚ä½æ•ˆçš„åˆ é™¤ã€åˆ›å»ºæ“ä½œï¼Œå…¶å®åªè¦å¯¹è¿™äº›èŠ‚ç‚¹è¿›è¡Œä½ç½®ç§»åŠ¨å³å¯ã€‚é’ˆå¯¹è¿™ä¸€ç°è±¡ï¼ŒReact æå‡ºä¼˜åŒ–ç­–ç•¥ï¼šå…è®¸å¼€å‘è€…å¯¹åŒä¸€å±‚çº§çš„åŒç»„å­èŠ‚ç‚¹ï¼Œæ·»åŠ å”¯ä¸€ key è¿›è¡ŒåŒºåˆ†ï¼Œè™½ç„¶åªæ˜¯å°å°çš„æ”¹åŠ¨ï¼Œæ€§èƒ½ä¸Šå´å‘ç”Ÿäº†ç¿»å¤©è¦†åœ°çš„å˜åŒ–ï¼ è®¾è®¡ç»„ä»¶ç»„ä»¶å°½é‡åªåšæ¸²æŸ“ï¼Œé€»è¾‘å¤„ç†æ”¾åˆ°reducerä¸­ redux ä¸­çš„actionAction Creator çš„å”¯ä¸€åŠŸèƒ½å°±æ˜¯è¿”å›ä¸€ä¸ªActionä¾› dispatch è¿›è¡Œè°ƒç”¨ã€‚ åœ¨Fluxçš„æ¶æ„ä¸­ï¼Œä¸€ä¸ªActionè¦ç¬¦åˆ FSA(Flux Standard Action) è§„èŒƒï¼Œéœ€è¦æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬å¯¹è±¡ åªå…·å¤‡ type ã€payloadã€error å’Œ meta ä¸­çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªå±æ€§ã€‚ type å­—æ®µä¸å¯ç¼ºçœï¼Œå…¶å®ƒå­—æ®µå¯ç¼ºçœ è‹¥ Action æŠ¥é”™ï¼Œerror å­—æ®µä¸å¯ç¼ºçœï¼Œåˆ‡å¿…é¡»ä¸º true 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869åœ¨ redux å…¨å®¶æ¡¶ä¸­ï¼Œå¯ä»¥åˆ©ç”¨ redux-actions æ¥åˆ›å»ºç¬¦åˆ FSA è§„èŒƒçš„Actionï¼šimport {creatAction} from 'redux-actions';let addTodo = creatAction(ADD_TODO)//same aslet addTodo = creatAction(ADD_TODO,data=&gt;data)Redux æœ¬èº«ä¸å¤„ç†å¼‚æ­¥è¡Œä¸ºï¼Œéœ€è¦ä¾èµ–ä¸­é—´ä»¶ã€‚ç»“åˆ redux-actions ä½¿ç”¨ï¼ŒRedux æœ‰ä¸¤ä¸ªæ¨èçš„å¼‚æ­¥ä¸­é—´ä»¶ï¼šredux-thunkredux-promiseç”¨connectå°†ç»„ä»¶ç»‘å®šåˆ°reduxexport const ButtonContainer = connect( mapStateToProps, mapDispatchToProps)(Buttons);å®¹å™¨ç»„ä»¶å®ç° mapStateToProps()ï¼ˆç”¨äºå°†çŠ¶æ€æ˜ å°„åˆ°æ•°æ®ï¼‰å’Œ mapDispatchToProps()ï¼ˆç”¨äºå°†çŠ¶æ€æ˜ å°„åˆ°è¡Œä¸ºï¼‰åŒæ­¥æ“ä½œåªè¦å‘å‡ºä¸€ç§ Action å³å¯ï¼Œå¼‚æ­¥æ“ä½œçš„å·®åˆ«æ˜¯å®ƒè¦å‘å‡ºä¸‰ç§ Actionã€‚æ“ä½œå‘èµ·æ—¶çš„ Actionæ“ä½œæˆåŠŸæ—¶çš„ Actionæ“ä½œå¤±è´¥æ—¶çš„ Actionæ“ä½œå¼€å§‹æ—¶ï¼Œé€å‡ºä¸€ä¸ª Actionï¼Œè§¦å‘ State æ›´æ–°ä¸º&quot;æ­£åœ¨æ“ä½œ&quot;çŠ¶æ€ï¼ŒView é‡æ–°æ¸²æŸ“ç”¨æˆ·è§¦å‘ç¬¬ä¸€ä¸ª Actionï¼Œè¿™ä¸ªè·ŸåŒæ­¥æ“ä½œä¸€æ ·ï¼Œæ²¡æœ‰é—®é¢˜ï¼›å¦‚ä½•æ‰èƒ½åœ¨æ“ä½œç»“æŸæ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨é€å‡ºç¬¬äºŒä¸ª Action å‘¢ï¼ŸAction æ˜¯ç”±store.dispatchæ–¹æ³•å‘é€çš„ã€‚è€Œstore.dispatchæ–¹æ³•æ­£å¸¸æƒ…å†µä¸‹ï¼Œå‚æ•°åªèƒ½æ˜¯å¯¹è±¡ï¼Œä¸èƒ½æ˜¯å‡½æ•°ã€‚è¿™æ—¶ï¼Œå°±è¦ä½¿ç”¨ä¸­é—´ä»¶redux-thunkã€‚const fetchPosts = postTitle =&gt; (dispatch, getState) =&gt; { dispatch(requestPosts(postTitle)); return fetch(`/some/API/${postTitle}.json`) .then(response =&gt; response.json()) .then(json =&gt; dispatch(receivePosts(postTitle, json))); };};// ä½¿ç”¨æ–¹æ³•ä¸€store.dispatch(fetchPosts('reactjs'));// ä½¿ç”¨æ–¹æ³•äºŒstore.dispatch(fetchPosts('reactjs')).then(() =&gt; console.log(store.getState()));çœ‹è¿™é‡Œï¼Œè¿”å›çš„æ˜¯Promiseï¼Œ ==ç”¨redux-thunkä¸­é—´ä»¶ï¼Œæ”¹é€ store.dispatchï¼Œä½¿å¾—åè€…å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°ã€‚== store.dispatchæ–¹æ³•å¯ä»¥æ¥å— Promise å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚è¿™æ—¶ï¼ŒAction Creator æœ‰ä¸¤ç§å†™æ³•ã€‚å†™æ³•ä¸€ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚ Action å¯¹è±¡çš„payloadå±æ€§æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚è¿™éœ€è¦ä»redux-actionsæ¨¡å—å¼•å…¥createActionæ–¹æ³•ï¼Œ Reduxçš„å•å‘æ•°æ®æµæ˜¯åŒæ­¥æ“ä½œï¼Œé©±åŠ¨Reduxæµç¨‹çš„æ˜¯actionå¯¹è±¡ï¼Œæ¯ä¸€ä¸ªactionå¯¹è±¡è¢«æ´¾å‘åˆ°Storeä¸Šä¹‹åï¼ŒåŒæ­¥åœ°è¢«åˆ†é…ç»™æ‰€æœ‰çš„reducerå‡½æ•°ï¼Œæ¯ä¸ªreduceréƒ½æ˜¯çº¯å‡½æ•°ï¼Œçº¯å‡½æ•°ä¸äº§ç”Ÿä»»ä½•å‰¯ä½œç”¨ï¼Œè‡ªç„¶æ˜¯å®Œæˆæ•°æ®æ“ä½œä¹‹åç«‹åˆ»åŒæ­¥è¿”å›ï¼Œreducerè¿”å›çš„ç»“æœåˆè¢«åŒæ­¥åœ°æ‹¿å»æ›´æ–°Storeä¸Šçš„çŠ¶æ€æ•°æ®ï¼Œæ›´æ–°çŠ¶æ€æ•°æ®çš„æ“ä½œä¼šç«‹åˆ»è¢«åŒæ­¥ç»™ç›‘å¬StoreçŠ¶æ€æ”¹å˜çš„å‡½æ•°ï¼Œä»è€Œå¼•å‘ä½œä¸ºè§†å›¾çš„Reactç»„ä»¶æ›´æ–°è¿‡ç¨‹ã€‚ è¿™ä¸ªè¿‡ç¨‹ä»å¤´åˆ°å°¾ï¼ŒReduxé©¬ä¸åœè¹„åœ°ä¸€è·¯åŒæ­¥æ‰§è¡Œï¼Œæ ¹æœ¬æ²¡æœ‰æ‰§è¡Œå¼‚æ­¥æ“ä½œçš„æœºä¼šï¼Œé‚£åº”è¯¥åœ¨å“ªé‡Œæ’å…¥è®¿é—®æœåŠ¡å™¨çš„å¼‚æ­¥æ“ä½œå‘¢ï¼Ÿ Reduxåˆ›ç«‹ä¹‹åˆå°±æ„è¯†åˆ°äº†è¿™ç§é—®é¢˜ï¼Œæ‰€ä»¥æä¾›äº†thunkè¿™ç§è§£å†³æ–¹æ³•ï¼Œä½†æ˜¯thunkå¹¶æ²¡æœ‰ä½œä¸ºReduxçš„ä¸€éƒ¨åˆ†ä¸€èµ·å‘å¸ƒï¼Œè€Œæ˜¯å­˜åœ¨ä¸€ä¸ªç‹¬ç«‹çš„redux-thunkå‘å¸ƒåŒ…ä¸­ï¼Œ redux-thunkåªæ˜¯Reduxä¸­å¼‚æ­¥æ“ä½œçš„è§£å†³æ–¹æ³•ä¹‹ä¸€ åœ¨Reduxæ¶æ„ä¸‹ï¼Œä¸€ä¸ªactionå¯¹è±¡åœ¨é€šè¿‡store.dispatchæ´¾å‘ï¼Œåœ¨è°ƒç”¨reducerå‡½æ•°ä¹‹å‰ï¼Œä¼šå…ˆç»è¿‡ä¸€ä¸ªä¸­é—´ä»¶çš„ç¯èŠ‚ï¼Œè¿™å°±æ˜¯äº§ç”Ÿå¼‚æ­¥æ“ä½œçš„æœºä¼šï¼Œå®é™…ä¸Šredux-thunkæä¾›çš„å°±æ˜¯ä¸€ä¸ªReduxä¸­é—´ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åˆ›å»ºStoreæ—¶ç”¨ä¸Šè¿™ä¸ªä¸­é—´ä»¶ã€‚ å¼‚æ­¥actionå¯¹è±¡éå¸¸å¥½çš„è®²è§£å½“æˆ‘ä»¬æƒ³è¦è®©Reduxå¸®å¿™å¤„ç†ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æ—¶å€™ï¼Œä»£ç ä¸€æ ·ä¹Ÿè¦æ´¾å‘ä¸€ä¸ªactionå¯¹è±¡ï¼Œæ¯•ç«ŸReduxå•å‘æ•°æ®æµå°±æ˜¯ç”±actionå¯¹è±¡é©±åŠ¨çš„ã€‚ä½†æ˜¯è¿™ä¸ªå¼•å‘å¼‚æ­¥æ“ä½œçš„actionå¯¹è±¡æ¯”è¾ƒç‰¹æ®Šï¼Œæˆ‘ä»¬å«å®ƒä»¬â€œå¼‚æ­¥actionå¯¹è±¡â€ã€‚ å‰é¢ä¾‹å­ä¸­çš„actionæ„é€ å‡½æ•°è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«è‹¥å¹²å­—æ®µï¼Œå…¶ä¸­å¿…ä¸å¯å°‘çš„å­—æ®µæ˜¯typeï¼Œä½†æ˜¯â€œå¼‚æ­¥actionå¯¹è±¡â€ä¸æ˜¯ä¸€ä¸ªæ™®é€šJavaScriptå¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ å¦‚æœæ²¡æœ‰redux-thunkä¸­é—´ä»¶çš„å­˜åœ¨ï¼Œè¿™æ ·ä¸€ä¸ªå‡½æ•°ç±»å‹çš„actionå¯¹è±¡è¢«æ´¾å‘å‡ºæ¥ä¼šä¸€è·¯å‘é€åˆ°å„ä¸ªreducerå‡½æ•°ï¼Œreducerå‡½æ•°ä»è¿™äº›å®é™…ä¸Šæ˜¯å‡½æ•°çš„actionå¯¹è±¡ä¸Šæ˜¯æ— æ³•è·å¾—typeå­—æ®µçš„ï¼Œæ‰€ä»¥ä¹Ÿåšä¸äº†ä»€ä¹ˆå®è´¨çš„å¤„ç†ã€‚ ä¸è¿‡ï¼Œæœ‰äº†redux-thunkä¸­é—´ä»¶ä¹‹åï¼Œè¿™äº›actionå¯¹è±¡æ ¹æœ¬æ²¡æœ‰æœºä¼šè§¦åŠåˆ°reducerå‡½æ•°ï¼Œåœ¨ä¸­é—´ä»¶ä¸€å±‚å°±è¢«redux-thunkæˆªè·ã€‚ redux-thunkçš„å·¥ä½œæ˜¯æ£€æŸ¥actionå¯¹è±¡æ˜¯ä¸æ˜¯å‡½æ•°ï¼Œå¦‚æœä¸æ˜¯å‡½æ•°å°±æ”¾è¡Œï¼Œå®Œæˆæ™®é€šactionå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œè€Œå¦‚æœå‘ç°actionå¯¹è±¡æ˜¯å‡½æ•°ï¼Œé‚£å°±æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå¹¶æŠŠStoreçš„dispatchå‡½æ•°å’ŒgetStateå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­å»ï¼Œå¤„ç†è¿‡ç¨‹åˆ°æ­¤ä¸ºæ­¢ï¼Œä¸ä¼šè®©è¿™ä¸ªå¼‚æ­¥actionå¯¹è±¡ç»§ç»­å¾€å‰æ´¾å‘åˆ°reducerå‡½æ•°ã€‚ ä¸¾ä¸€ä¸ªå¹¶ä¸æ¶‰åŠç½‘ç»œAPIè®¿é—®çš„å¼‚æ­¥æ“ä½œä¾‹å­ï¼Œåœ¨Counterç»„ä»¶ä¸­å­˜åœ¨ä¸€ä¸ªæ™®é€šçš„åŒæ­¥å¢åŠ è®¡æ•°çš„actionæ„é€ å‡½æ•°incrementï¼Œä»£ç å¦‚ä¸‹ï¼š 123const increment = () =&gt; ({ type: ActionTypes.INCREMENT,}); æ´¾å‘incrementæ‰§è¡Œè¿”å›çš„actionå¯¹è±¡ï¼ŒReduxä¼šåŒæ­¥æ›´æ–°StoreçŠ¶æ€å’Œè§†å›¾ï¼Œä½†æ˜¯æˆ‘ä»¬ç°åœ¨æƒ³è¦åˆ›é€ ä¸€ä¸ªåŠŸèƒ½ï¼Œèƒ½å¤Ÿå‘å‡ºä¸€ä¸ªâ€œè®©Counterç»„ä»¶åœ¨1ç§’ä¹‹åè®¡æ•°åŠ ä¸€â€çš„æŒ‡ä»¤ï¼Œè¿™å°±éœ€è¦å®šä¹‰ä¸€ä¸ªæ–°çš„å¼‚æ­¥actionæ„é€ å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223const incrementAsync = () =&gt; { return (dispatch) =&gt; { setTimeout(() =&gt; { dispatch(increment()); }, 1000); };};````å¼‚æ­¥actionæ„é€ å‡½æ•°incrementAsyncè¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™æ ·ä¸€ä¸ªå‡½æ•°è¢«dispatchå‡½æ•°æ´¾å‘ä¹‹åï¼Œä¼šè¢«redux-thunkä¸­é—´ä»¶æ‰§è¡Œï¼Œäºæ˜¯setTimeoutå‡½æ•°å°±ä¼šå‘ç”Ÿä½œç”¨ï¼Œåœ¨1ç§’ä¹‹ååˆ©ç”¨å‚æ•°dispatchå‡½æ•°æ´¾å‘å‡ºåŒæ­¥actionæ„é€ å‡½æ•°incrementçš„ç»“æœã€‚è¿™å°±æ˜¯å¼‚æ­¥actionçš„å·¥ä½œæœºç†ï¼Œè¿™ä¸ªä¾‹å­è™½ç„¶ç®€å•ï¼Œä½†æ˜¯å¯ä»¥çœ‹å¾—å‡ºæ¥ï¼Œå¼‚æ­¥actionæœ€ç»ˆè¿˜æ˜¯è¦äº§ç”ŸåŒæ­¥actionæ´¾å‘æ‰èƒ½å¯¹Reduxç³»ç»Ÿäº§ç”Ÿå½±å“ã€‚redux-thunkè¦åšçš„å·¥ä½œä¹Ÿå°±ä¸è¿‡å¦‚æ­¤ï¼Œä½†å› ä¸ºå¼•å…¥äº†ä¸€æ¬¡å‡½æ•°æ‰§è¡Œï¼Œè€Œä¸”è¿™ä¸ªå‡½æ•°è¿˜èƒ½å¤Ÿè®¿é—®åˆ°dispatchå’ŒgetStateï¼Œå°±ç»™å¼‚æ­¥æ“ä½œå¸¦æ¥äº†å¯èƒ½ã€‚actionå¯¹è±¡å‡½æ•°ä¸­å®Œå…¨å¯ä»¥é€šè¿‡fetchå‘èµ·ä¸€ä¸ªå¯¹æœåŠ¡å™¨çš„å¼‚æ­¥è¯·æ±‚ï¼Œå½“å¾—åˆ°æœåŠ¡å™¨ç»“æœä¹‹åï¼Œé€šè¿‡å‚æ•°dispatchï¼ŒæŠŠæˆåŠŸæˆ–è€…å¤±è´¥çš„ç»“æœå½“åšactionå¯¹è±¡å†æ´¾å‘å‡ºå»ã€‚è¿™ä¸€æ¬¡æ´¾å‘çš„æ˜¯æ™®é€šçš„actionå¯¹è±¡ï¼Œå°±ä¸ä¼šè¢«redux-thunkæˆªè·ï¼Œè€Œæ˜¯ç›´æ¥è¢«æ´¾å‘åˆ°reducerï¼Œæœ€ç»ˆé©±åŠ¨Storeä¸ŠçŠ¶æ€çš„æ”¹å˜ã€‚é€šå¸¸æˆ‘ä»¬åœ¨ç»„ä»¶çš„componentDidMountå‡½æ•°ä¸­åšè¯·æ±‚æœåŠ¡å™¨çš„äº‹æƒ…ï¼Œå› ä¸ºå½“ç”Ÿå‘½å‘¨æœŸå‡½æ•°componentDidMountè¢«è°ƒç”¨çš„æ—¶å€™ï¼Œè¡¨æ˜è£…è½½è¿‡ç¨‹å·²ç»å®Œæˆï¼Œç»„ä»¶éœ€è¦æ¸²æŸ“çš„å†…å®¹å·²ç»åœ¨DOMæ ‘ä¸Šå‡ºç°ï¼Œå¯¹æœåŠ¡å™¨çš„è¯·æ±‚å¯èƒ½ä¾èµ–äºå·²ç»æ¸²æŸ“çš„å†…å®¹ï¼Œåœ¨componentDidMountå‡½æ•°ä¸­å‘é€å¯¹æœåŠ¡å™¨è¯·æ±‚æ˜¯ä¸€ä¸ªåˆé€‚çš„æ—¶æœºã€‚fetchå‡½æ•°æ‰§è¡Œä¼šç«‹åˆ»è¿”å›ï¼Œè¿”å›ä¸€ä¸ªPromiseç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥åé¢ä¼šè·Ÿä¸Šä¸€å¤§ä¸²thenå’Œcatchçš„è¯­å¥ã€‚æ¯ä¸ªPromiseæˆåŠŸçš„æ—¶å€™ï¼Œå¯¹åº”çš„thenä¸­çš„å›è°ƒå‡½æ•°ä¼šè¢«è°ƒç”¨ï¼›å¦‚æœå¤±è´¥ï¼Œå¯¹åº”catchä¸­çš„å›è°ƒå‡½æ•°ä¹Ÿè¢«è°ƒç”¨ã€‚# vueå£°æ˜ç»„ä»¶ ä¸€ã€å…¨å±€æ³¨å†Œ// æ³¨å†ŒVue.component(â€˜my-componentâ€™, { template: â€˜A custom component!â€˜}) æ“ä½œç»“æŸåï¼Œå†é€å‡ºä¸€ä¸ª Actionï¼Œè§¦å‘ State æ›´æ–°ä¸ºâ€æ“ä½œç»“æŸâ€çŠ¶æ€ï¼ŒView å†ä¸€æ¬¡é‡æ–°æ¸²æŸ“ ç”¨æˆ·è§¦å‘ç¬¬ä¸€ä¸ª Actionï¼Œè¿™ä¸ªè·ŸåŒæ­¥æ“ä½œä¸€æ ·ï¼Œæ²¡æœ‰é—®é¢˜ï¼›å¦‚ä½•æ‰èƒ½åœ¨æ“ä½œç»“æŸæ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨é€å‡ºç¬¬äºŒä¸ª Action å‘¢ï¼Ÿ // åˆ›å»ºæ ¹å®ä¾‹new Vue({ el: â€˜#exampleâ€™}) äºŒã€å±€éƒ¨æ³¨å†Œvar Child = { template: â€˜A custom component!â€˜} new Vue({ // â€¦ components: { // å°†åªåœ¨çˆ¶ç»„ä»¶æ¨¡æ¿ä¸­å¯ç”¨ â€˜my-componentâ€™: Child }}) 12345678910111213141516# æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹Vue ä¸èƒ½æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤ã€‚ç”±äº Vue ä¼šåœ¨åˆå§‹åŒ–å®ä¾‹æ—¶å¯¹å±æ€§æ‰§è¡Œ getter/setter è½¬åŒ–è¿‡ç¨‹ï¼Œæ‰€ä»¥å±æ€§å¿…é¡»åœ¨ data å¯¹è±¡ä¸Šå­˜åœ¨æ‰èƒ½è®© Vue è½¬æ¢å®ƒï¼Œè¿™æ ·æ‰èƒ½è®©å®ƒæ˜¯å“åº”çš„ã€‚Vue ä¸å…è®¸åœ¨å·²ç»åˆ›å»ºçš„å®ä¾‹ä¸ŠåŠ¨æ€æ·»åŠ æ–°çš„æ ¹çº§å“åº”å¼å±æ€§ (root-level reactive property)ã€‚ç„¶è€Œå®ƒå¯ä»¥ä½¿ç”¨ Vue.set(object, key, value) æ–¹æ³•å°†å“åº”å±æ€§æ·»åŠ åˆ°åµŒå¥—çš„å¯¹è±¡ä¸Šï¼šVue.set(vm.someObject, 'b', 2)this.$set(this.someObject,'b',2)æƒ³å‘å·²æœ‰å¯¹è±¡ä¸Šæ·»åŠ ä¸€äº›å±æ€§ï¼Œä¾‹å¦‚ä½¿ç”¨ Object.assign() æˆ– _.extend() æ–¹æ³•æ¥æ·»åŠ å±æ€§ã€‚ä½†æ˜¯ï¼Œæ·»åŠ åˆ°å¯¹è±¡ä¸Šçš„æ–°å±æ€§ä¸ä¼šè§¦å‘æ›´æ–°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè®©å®ƒåŒ…å«åŸå¯¹è±¡çš„å±æ€§å’Œæ–°çš„å±æ€§ï¼š// ä»£æ›¿ `Object.assign(this.someObject, { a: 1, b: 2 })`this.someObject = Object.assign({}, this.someObject, { a: 1, b: 2 }) 123456789# watch æ·±åº¦ç›‘å¬==deepï¼š true==ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯éœ€è¦è§‚å¯Ÿçš„è¡¨è¾¾å¼ï¼Œå€¼æ˜¯å¯¹åº”å›è°ƒå‡½æ•°ã€‚å€¼ä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•åï¼Œæˆ–è€…åŒ…å«é€‰é¡¹çš„å¯¹è±¡ã€‚Vue å®ä¾‹å°†ä¼šåœ¨å®ä¾‹åŒ–æ—¶è°ƒç”¨ $watch()ï¼Œéå† watch å¯¹è±¡çš„æ¯ä¸€ä¸ªå±æ€§ã€‚ä¸åº”è¯¥ä½¿ç”¨ç®­å¤´å‡½æ•°æ¥å®šä¹‰ watcher å‡½æ•° (ä¾‹å¦‚ searchQuery: newValue =&gt; this.updateAutocomplete(newValue))ã€‚ç†ç”±æ˜¯ç®­å¤´å‡½æ•°ç»‘å®šäº†çˆ¶çº§ä½œç”¨åŸŸçš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥ this å°†ä¸ä¼šæŒ‰ç…§æœŸæœ›æŒ‡å‘ Vue å®ä¾‹ï¼Œthis.updateAutocomplete å°†æ˜¯ undefinedã€‚ watch: { a: function (val, oldVal) { console.log(â€˜new: %s, old: %sâ€™, val, oldVal) }, // æ–¹æ³•å b: â€˜someMethodâ€™, // æ·±åº¦ watcher c: { handler: function (val, oldVal) { /* â€¦ / }, deep: true }, // è¯¥å›è°ƒå°†ä¼šåœ¨ä¾¦å¬å¼€å§‹ä¹‹åè¢«ç«‹å³è°ƒç”¨ d: { handler: function (val, oldVal) { / â€¦ / }, immediate: true }, e: [ function handle1 (val, oldVal) { / â€¦ / }, function handle2 (val, oldVal) { / â€¦ / } ], // watch vm.e.fâ€™s value: {g: 5} â€˜e.fâ€™: function (val, oldVal) { / â€¦ */ }} 123# å¼‚æ­¥æ›´æ–°é˜Ÿåˆ— this.$nextTick(function () { console.log(this.$el.textContent) // =&gt; â€˜æ›´æ–°å®Œæˆâ€™ }) 1234567891011121314# è®¡ç®—å±æ€§ computedå¯¹äºä»»ä½•å¤æ‚é€»è¾‘ï¼Œä½ éƒ½åº”å½“ä½¿ç”¨è®¡ç®—å±æ€§ã€‚å½“ vm.message å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ– vm.reversedMessage çš„ç»‘å®šä¹Ÿä¼šæ›´æ–°ã€‚è€Œä¸”æœ€å¦™çš„æ˜¯æˆ‘ä»¬å·²ç»ä»¥å£°æ˜çš„æ–¹å¼åˆ›å»ºäº†è¿™ç§ä¾èµ–å…³ç³»ï¼šè®¡ç®—å±æ€§çš„ getter å‡½æ•°æ˜¯æ²¡æœ‰å‰¯ä½œç”¨ (side effect) çš„ï¼Œè¿™ä½¿å®ƒæ›´æ˜“äºæµ‹è¯•å’Œç†è§£ã€‚==æ–¹æ³•å’Œè®¡ç®—å±æ€§ï¼š== ä¸¤ç§æ–¹å¼çš„æœ€ç»ˆç»“æœç¡®å®æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚ä¸åŒçš„æ˜¯è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„ã€‚è®¡ç®—å±æ€§åªæœ‰åœ¨å®ƒçš„ç›¸å…³ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚è¿™å°±æ„å‘³ç€åªè¦ message è¿˜æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå¤šæ¬¡è®¿é—® reversedMessageè®¡ç®—å±æ€§ä¼šç«‹å³è¿”å›ä¹‹å‰çš„è®¡ç®—ç»“æœï¼Œè€Œä¸å¿…å†æ¬¡æ‰§è¡Œå‡½æ•°ã€‚ computed: { // è®¡ç®—å±æ€§çš„ getter reversedMessage: function () { // this æŒ‡å‘ vm å®ä¾‹ return this.message.split(â€˜â€™).reverse().join(â€˜â€™) }} console.log(vm.reversedMessage) // =&gt; â€˜olleHâ€™vm.message = â€˜Goodbyeâ€™console.log(vm.reversedMessage) // =&gt; â€˜eybdooGâ€™ // åœ¨ç»„ä»¶ä¸­methods: { reversedMessage: function () { return this.message.split(â€˜â€™).reverse().join(â€˜â€™) }} 123# è®¡ç®—å±æ€§çš„ setter // â€¦computed: { fullName: { // getter get: function () { return this.firstName + â€˜ â€˜ + this.lastName }, // setter set: function (newValue) { var names = newValue.split(â€˜ â€˜) this.firstName = names[0] this.lastName = names[names.length - 1] } }} 1234567# watch ä¾¦å¬å™¨è™½ç„¶è®¡ç®—å±æ€§åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ›´åˆé€‚ï¼Œä½†æœ‰æ—¶ä¹Ÿéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¾¦å¬å™¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Vue é€šè¿‡ watch é€‰é¡¹æä¾›äº†ä¸€ä¸ªæ›´é€šç”¨çš„æ–¹æ³•ï¼Œæ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚å½“éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œè¿™ä¸ªæ–¹å¼æ˜¯æœ€æœ‰ç”¨çš„ã€‚ä½¿ç”¨ watch é€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œ (è®¿é—®ä¸€ä¸ª API)ï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚ watch: { // å¦‚æœ question å‘ç”Ÿæ”¹å˜ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¿è¡Œ question: function (newQuestion, oldQuestion) { this.answer = â€˜Waiting for you to stop typingâ€¦â€™ this.getAnswer() }}, 12345678910111213# gettersä½œç”¨Vuex å…è®¸æˆ‘ä»¬åœ¨ store ä¸­å®šä¹‰â€œgetterâ€ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§ï¼‰ã€‚å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚this.$store.getters.doneTodosCount# mapGetters è¾…åŠ©å‡½æ•°mapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ï¼š# æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡ store.commit({ type: â€˜incrementâ€™, amount: 10}) store.commit(â€˜incrementâ€™, { amount: 10})å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ this.$store.commit(â€˜xxxâ€™) æäº¤ mutationï¼Œæˆ–è€…ä½¿ç”¨ mapMutations è¾…åŠ©å‡½æ•°å°†ç»„ä»¶ä¸­çš„ methodsæ˜ å°„ä¸º store.commit è°ƒç”¨ï¼ˆéœ€è¦åœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ storeï¼‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041# åˆ†å‘ ActionAction é€šè¿‡ store.dispatch æ–¹æ³•è§¦å‘ï¼šstore.dispatch('increment')# vueç»„ä»¶ç±»å‹, æ€ä¹ˆå®šä¹‰ä¸€ä¸ªç»„ä»¶# vueåˆ‡æ¢è·¯ç”±å…¶ä»–æ–¹å¼ ä¸ç•™ç—•è¿¹```htmlä¸€ã€router.push(location, onComplete?, onAbort?)&lt;router-link :to=&quot;...&quot;&gt; router.push(...)const userId = 123router.push({ name: 'user', params: { userId }}) // -&gt; /user/123router.push({ path: `/user/${userId}` }) // -&gt; /user/123// å­—ç¬¦ä¸²router.push('home')// å¯¹è±¡router.push({ path: 'home' })// å‘½åçš„è·¯ç”±router.push({ name: 'user', params: { userId: 123 }})// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=privaterouter.push({ path: 'register', query: { plan: 'private' }})äºŒã€ router.replace(location, onComplete?, onAbort?)è·Ÿ router.push å¾ˆåƒï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯ï¼Œå®ƒä¸ä¼šå‘ historyæ·»åŠ æ–°è®°å½•ï¼Œè€Œæ˜¯è·Ÿå®ƒçš„æ–¹æ³•åä¸€æ · â€”â€” æ›¿æ¢æ‰å½“å‰çš„ history è®°å½•ã€‚ä¸‰ã€router.go(n)åœ¨ history è®°å½•ä¸­å‘å‰æˆ–è€…åé€€å¤šå°‘æ­¥ï¼Œç±»ä¼¼ window.history.go(n)ã€‚ vue-routerä¼ å‚æ–¹å¼12345678910111213141516171819query å’Œparams { path: '/news/:id', component: NewsDetail }, &lt;span&gt;{{$route.params.id}}&lt;/span&gt;åŒºåˆ«1ã€ç”¨æ³• queryè¦ç”¨pathæ¥å¼•å…¥ï¼Œparamsè¦ç”¨nameæ¥å¼•å…¥ï¼Œ æ¥æ”¶å‚æ•°éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œ åˆ†åˆ«æ˜¯this.$route.query.nameå’Œthis.$route.params.nameã€‚ æ¥æ”¶å‚æ•°æ—¶ï¼Œå·²ç»æ˜¯$routeè€Œä¸æ˜¯$routeräº†å“¦ï¼ï¼2ã€å±•ç¤º queryæ›´åŠ ç±»ä¼¼äºæˆ‘ä»¬ajaxä¸­getä¼ å‚ï¼Œparamsåˆ™ç±»ä¼¼äºpostï¼Œ è¯´çš„å†ç®€å•ä¸€ç‚¹ï¼Œå‰è€…åœ¨æµè§ˆå™¨åœ°å€æ ä¸­æ˜¾ç¤ºå‚æ•°ï¼Œåè€…åˆ™ä¸æ˜¾ç¤ºquery:params: å—æ§ç»„ä»¶ éå—æ§ç»„ä»¶æ²¡æœ‰ä»»ä½•åµŒå¥—å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ å€¼12345678910111213141516171819(1) Event Emitter/Target/Dispatcher// to subscribeotherObject.addEventListener(â€˜clickâ€™, function() { alert(â€˜click!â€™); });// to dispatchthis.dispatchEvent(â€˜clickâ€™);(2) Publish / Subscribe// to subscribeglobalBroadcaster.subscribe(â€˜clickâ€™, function() { alert(â€˜click!â€™); });// to dispatchglobalBroadcaster.publish(â€˜clickâ€™);(3) Signals// to subscribeotherObject.clicked.add(function() { alert(â€˜clickâ€™); });// to dispatchthis.clicked.dispatch(); this.setState()å‚æ•°12345678910111213141516è¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºä¸Šä¸€ä¸ªçŠ¶æ€å€¼ï¼Œç¬¬äºŒå‚æ•°è¡¨ç¤ºå½“å‰çš„ propsï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ state å¯¼è‡´çš„é¡µé¢å˜åŒ–å®Œæˆåçš„å›è°ƒï¼Œç­‰ä»·äºcomponentDidUpdateã€‚this.setState((prevState, props) =&gt; ({ counter: prevState.counter + props.increment}));setStateçš„å…³é”®ç‚¹:setStateä¸ä¼šç«‹åˆ»æ”¹å˜Reactç»„ä»¶ä¸­stateçš„å€¼ï¼›setStateé€šè¿‡å¼•å‘ä¸€æ¬¡ç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹æ¥å¼•å‘é‡æ–°ç»˜åˆ¶ï¼›å¤šæ¬¡setStateå‡½æ•°è°ƒç”¨äº§ç”Ÿçš„æ•ˆæœä¼šåˆå¹¶ã€‚å½“setStateè¢«è°ƒç”¨æ—¶ï¼Œèƒ½é©±åŠ¨ç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹ï¼Œå¼•å‘componentDidUpdateã€renderç­‰ä¸€ç³»åˆ—å‡½æ•°çš„è°ƒç”¨ã€‚ Reactçš„ç”Ÿå‘½å‘¨æœŸä¸»è¦åˆ†ä¸ºä¸‰æ®µï¼Œmountï¼ˆæŒ‚è½½ï¼‰ã€updateï¼ˆæ›´æ–°ï¼‰ã€unmountï¼ˆå¸è½½ï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667ä¸€ã€mountï¼Œå³æŒ‚è½½é˜¶æ®µï¼Œ ç¬¬ä¸€æ¬¡è®©ç»„ä»¶å‡ºç°åœ¨é¡µé¢ä¸­çš„è¿‡ç¨‹ï¼ŒReactä¼šå°†renderçš„è¿”å›å€¼æ’å…¥åˆ°é¡µé¢ä¸­ï¼Œ è¿™ä¸ªè¿‡ç¨‹ä¼šæš´éœ²ä»¥ä¸‹å‡ ä¸ªé’©å­ï¼ˆhookï¼‰ï¼š constructor() // åˆå§‹åŒ–propså’Œstate åˆå§‹åŒ–getDefaultProps()å’ŒgetInitialState() getDefaultProps: æ‰§è¡Œè¿‡ä¸€æ¬¡åï¼Œè¢«åˆ›å»ºçš„ç±»ä¼šæœ‰ç¼“å­˜ï¼Œæ˜ å°„çš„å€¼ä¼šå­˜åœ¨this.props,å‰ææ˜¯è¿™ä¸ªpropä¸æ˜¯çˆ¶ç»„ä»¶æŒ‡å®šçš„è¿™ä¸ªæ–¹æ³•åœ¨å¯¹è±¡è¢«åˆ›å»ºä¹‹å‰æ‰§è¡Œï¼Œå› æ­¤ä¸èƒ½åœ¨æ–¹æ³•å†…è°ƒç”¨this.props ï¼Œå¦å¤–ï¼Œæ³¨æ„ä»»ä½•getDefaultProps()è¿”å›çš„å¯¹è±¡åœ¨å®ä¾‹ä¸­å…±äº«ï¼Œä¸æ˜¯å¤åˆ¶getInitialState : æ§ä»¶åŠ è½½ä¹‹å‰æ‰§è¡Œï¼Œè¿”å›å€¼ä¼šè¢«ç”¨äºstateçš„åˆå§‹åŒ–å€¼ åˆå§‹åŒ– componentWillMount() // å°†è¦è¢«æ’å…¥ æ‰§è¡Œä¸€æ¬¡ï¼Œåœ¨åˆå§‹åŒ–renderä¹‹å‰æ‰§è¡Œï¼Œå¦‚æœåœ¨è¿™ä¸ªæ–¹æ³•å†…è°ƒç”¨setStateï¼Œrender()çŸ¥é“stateå‘ç”Ÿå˜åŒ–ï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡ render() // å°†returnçš„å†…å®¹æ’å…¥åˆ°é¡µé¢é‡Œ componentDidMount() // æ’å…¥å®Œæˆåçš„åŠ¨ä½œ åœ¨ç»„ä»¶è¢«è£…é…åç«‹å³è°ƒç”¨ã€‚ åˆå§‹åŒ–ä½¿å¾—DOMèŠ‚ç‚¹åº”è¯¥è¿›è¡Œåˆ°è¿™é‡Œã€‚ è‹¥ä½ éœ€è¦ä»è¿œç«¯åŠ è½½æ•°æ®ï¼Œ è¿™æ˜¯ä¸€ä¸ªé€‚åˆå®ç°ç½‘ç»œè¯·æ±‚çš„åœ°æ–¹ã€‚ åœ¨è¯¥æ–¹æ³•é‡Œè®¾ç½®çŠ¶æ€å°†ä¼šè§¦å‘é‡æ¸²ã€‚äºŒã€updateï¼Œå³æ›´æ–°é˜¶æ®µï¼Œå¦‚æœæ•°æ®æœ‰ä»»ä½•å˜åŠ¨å°±ä¼šæ¥è¿™ä¸€é˜¶æ®µï¼Œè¿™ä¸ªè¿‡ç¨‹æœ‰5ä¸ªé’©å­ï¼š componentWillReceiveProps( nextprops ) // æ¥å—éœ€è¦æ›´æ–°çš„props åœ¨è£…é…äº†çš„ç»„ä»¶æ¥æ”¶åˆ°æ–°å±æ€§å‰è°ƒç”¨ã€‚ è‹¥ä½ éœ€è¦æ›´æ–°çŠ¶æ€å“åº”å±æ€§æ”¹å˜ï¼ˆä¾‹å¦‚ï¼Œé‡ç½®å®ƒï¼‰ï¼Œ ä½ å¯èƒ½éœ€å¯¹æ¯”this.propså’ŒnextProps å¹¶åœ¨è¯¥æ–¹æ³•ä¸­ä½¿ç”¨this.setState()å¤„ç†çŠ¶æ€æ”¹å˜ã€‚ æ³¨æ„å³ä½¿å±æ€§æœªæœ‰ä»»ä½•æ”¹å˜ï¼ŒReactå¯èƒ½ä¹Ÿä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå› æ­¤è‹¥ä½ æƒ³è¦å¤„ç†æ”¹å˜ï¼Œè¯·ç¡®ä¿æ¯”è¾ƒå½“å‰å’Œä¹‹åçš„å€¼ã€‚è¿™å¯èƒ½ä¼šå‘ç”Ÿåœ¨å½“çˆ¶ç»„ä»¶å¼•èµ·ä½ çš„ç»„ä»¶é‡æ¸²ã€‚ shouldComponentUpdate( nextProps, nextState ) // è¯·é—®è¦ä¸è¦æ›´æ–°ç»„ä»¶ true/false æ¥æ”¶åˆ°æ–°å±æ€§æˆ–çŠ¶æ€æ—¶ï¼Œ shouldComponentUpdate() åœ¨æ¸²æŸ“å‰è¢«è°ƒç”¨ã€‚é»˜è®¤ä¸ºtrueã€‚ è¯¥æ–¹æ³•å¹¶ä¸ä¼šåœ¨åˆå§‹åŒ–æ¸²æŸ“æˆ–å½“ä½¿ç”¨forceUpdate()æ—¶è¢«è°ƒç”¨ã€‚ å½“ä»–ä»¬çŠ¶æ€æ”¹å˜æ—¶ï¼Œè¿”å›false å¹¶ä¸èƒ½é˜»æ­¢å­ç»„ä»¶é‡æ¸²ã€‚ è‹¥shouldComponentUpdate()è¿”å›falseï¼ŒcomponentWillUpdate()å°†ä¸ä¼šè¢«è°ƒç”¨ã€‚ componentWillUpdate() // å‡†å¤‡æ›´æ–°ç»„ä»¶å•¦ render() // æ›´æ–° componentDidUpdate() // æ›´æ–°å®Œæˆ è¯¥æ–¹æ³•å¹¶ä¸ä¼šåœ¨åˆå§‹åŒ–æ¸²æŸ“æ—¶è°ƒç”¨ã€‚ä¸‰ã€unmountï¼Œå³å¸è½½è¿‡ç¨‹ï¼Œå½“ä¸€ä¸ªç»„ä»¶è¦ä»é¡µé¢ç§»é™¤æ—¶ï¼Œä¼šè¿›å…¥è¿™ä¸ªè¿‡ç¨‹ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªé’©å­ï¼š componentWillUnmount() // è¦å¸è½½å•¦ å¯ä»¥åœ¨è¯¥æ–¹æ³•é‡Œå¤„ç†ä»»ä½•å¿…è¦çš„æ¸…ç†å·¥ä½œï¼Œ ä¾‹å¦‚è§£ç»‘å®šæ—¶å™¨ï¼Œå–æ¶ˆç½‘ç»œè¯·æ±‚ï¼Œ æ¸…ç†ä»»ä½•åœ¨componentDidMountç¯èŠ‚åˆ›å»ºçš„DOMå…ƒç´ ã€‚ä¸€èˆ¬æˆ‘ä»¬åªåœ¨è¿™å‡ ä¸ªé’©å­é‡ŒsetStateï¼šcomponentWillMount()componentDidMount()componentWillReceiveProps() ReduxåŸç†12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758Redux å’Œ React æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œå®ƒç„å‡†çš„ç›®æ ‡æ˜¯åº”ç”¨çŠ¶æ€ç®¡ç†ã€‚æ ¸å¿ƒæ¦‚å¿µæ˜¯ Map/Reduce ä¸­çš„ Reduceã€‚ä¸” Reducer çš„æ‰§è¡Œæ˜¯åŒæ­¥ï¼Œäº§ç”Ÿçš„ State æ˜¯ Immutable çš„ã€‚æ”¹å˜ State åªèƒ½é€šè¿‡å‘ Reducer dispatch actions æ¥å®Œæˆã€‚State çš„ä¸åŒå­—æ®µï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„ Reducers æ¥åˆ†åˆ«ç»´æŠ¤ã€‚combineReducers è´Ÿè´£ç»„åˆè¿™äº› Reducersï¼Œå‰ææ˜¯æ¯ä¸ª Reducer åªèƒ½ç»´æŠ¤è‡ªå·±å…³å¿ƒçš„å­—æ®µã€‚Action å¯¹è±¡åªèƒ½æ˜¯ Javascript Plain Objectï¼Œä½†æ˜¯é€šè¿‡åœ¨ store ä¸Šè£…è½½ middlewareï¼Œåˆ™å¯ä»¥ä»»æ„å®šä¹‰ action å¯¹è±¡çš„å½¢å¼ï¼Œåæ­£ä¼šæœ‰ç‰¹å®šçš„ middleware è´Ÿè´£å°†æ­¤ action å¯¹è±¡å˜ä¸º Javascript Plain Objectã€‚å¯ä»¥ä»¥middleware é“¾æ¡ä¸ºé›†ä¸­ç‚¹å®ç°å¾ˆå¤šæ§åˆ¶é€»è¾‘ï¼Œä¾‹å¦‚ Logï¼ŒUndo, ErrorHandler ç­‰ã€‚Redux ä»…ä»…ä¸“æ³¨äºåº”ç”¨çŠ¶æ€çš„ç»´æŠ¤ï¼Œreducerã€dispatch/middleware æ˜¯ä¸¤ä¸ªå¸¸ç”¨æ‰©å±•ç‚¹ã€Higher-order Store åˆ™ä»…é’ˆå¯¹éœ€è¦æ‰©å±•å…¨éƒ¨ Store åŠŸèƒ½æ—¶ä½¿ç”¨ã€‚react-redux æ˜¯ Redux é’ˆå¯¹ React/React-Native çš„ Bindingï¼Œconnect/selector æ˜¯æ‰©å±•ç‚¹ï¼Œè´Ÿè´£å°† store ä¸­çš„çŠ¶æ€æ·»åŠ åˆ° React component çš„ props ä¸­ã€‚Redux å€Ÿç”¨äº†å¾ˆå¤šå‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ï¼Œäº†è§£å‡½æ•°å¼ç¼–ç¨‹ä¼šåˆ©äºç†è§£å…¶å®ç°åŸç†ï¼Œè™½ç„¶ä½¿ç”¨å®ƒä¸éœ€è¦äº†è§£å¾ˆå¤šå‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µã€‚å’Œ Flux ç›¸æ¯”ï¼ŒRedux çš„æ¦‚å¿µæ›´ç²¾ç®€ã€çº¦å®šæ›´ä¸¥æ ¼ã€çŠ¶æ€æ›´ç¡®å®šã€è€Œæ˜¯æ‰©å±•å´æ›´çµæ´»ã€‚é€šè¿‡ https://github.com/xgrommx/awesome-redux å¯ä»¥è·å¾—å¤§é‡å‚è€ƒã€‚é“¾æ¥ï¼šhttps://www.jianshu.com/p/3334467e4b32reduxæœ‰ä¸‰å¤§å‡†åˆ™å•ä¸€æ•°æ®æºæ•´ä¸ªåº”ç”¨çŠ¶æ€ï¼Œéƒ½åº”è¯¥è¢«å­˜å‚¨åœ¨å•ä¸€storeçš„å¯¹è±¡æ ‘ä¸­ã€‚åªè¯»çŠ¶æ€å”¯ä¸€å¯ä»¥ä¿®æ”¹çŠ¶æ€çš„æ–¹å¼ï¼Œå°±æ˜¯å‘é€ï¼ˆdispatchï¼‰ä¸€ä¸ªåŠ¨ä½œï¼ˆActionï¼‰ï¼Œé€šä¿—æ¥è®²ï¼Œå°±æ˜¯è¯´åªæœ‰getterï¼Œæ²¡æœ‰setterã€‚ä½¿ç”¨çº¯å‡½æ•°å»ä¿®æ”¹çŠ¶æ€çº¯å‡½æ•°ä¿éšœäº†çŠ¶æ€çš„ç¨³å®šæ€§ï¼Œä¸ä¼šå› ä¸åŒç¯å¢ƒå¯¼è‡´åº”ç”¨ç¨‹åºå‡ºç°ä¸åŒæƒ…å†µï¼Œå¬è¯´æ˜¯reduxçœŸæ­£çš„ç²¾é«“ï¼Œæ—¥åå¯ä»¥æ·±å…¥äº†è§£ã€‚ è°ˆè°ˆMVVMæ¨¡å¼1234567891011Vueæ˜¯ä»¥æ•°æ®ä¸ºé©±åŠ¨çš„ï¼ŒVueè‡ªèº«å°†DOMå’Œæ•°æ®è¿›è¡Œç»‘å®šï¼Œä¸€æ—¦åˆ›å»ºç»‘å®šï¼ŒDOMå’Œæ•°æ®å°†ä¿æŒåŒæ­¥ï¼Œæ¯å½“æ•°æ®å‘ç”Ÿå˜åŒ–ï¼ŒDOMä¼šè·Ÿç€å˜åŒ–ã€‚ ViewModelæ˜¯Vueçš„æ ¸å¿ƒï¼Œå®ƒæ˜¯Vueçš„ä¸€ä¸ªå®ä¾‹ã€‚Vueå®ä¾‹æ—¶ä½œç”¨åŸŸæŸä¸ªHTMLå…ƒç´ ä¸Šçš„è¿™ä¸ªHTMLå…ƒç´ å¯ä»¥æ˜¯bodyï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªidæ‰€æŒ‡ä»£çš„å…ƒç´ ã€‚DOMListenerså’ŒDataBindingsæ˜¯å®ç°åŒå‘ç»‘å®šçš„å…³é”®ã€‚DOMListenersç›‘å¬é¡µé¢æ‰€æœ‰Viewå±‚DOMå…ƒç´ çš„å˜åŒ–ï¼Œå½“å‘ç”Ÿå˜åŒ–ï¼ŒModelå±‚çš„æ•°æ®éšä¹‹å˜åŒ–ï¼›DataBindingsç›‘å¬Modelå±‚çš„æ•°æ®ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–ï¼ŒViewå±‚çš„DOMå…ƒç´ éšä¹‹å˜åŒ–ã€‚MVVMæ˜¯Model-View-ViewModelçš„ç¼©å†™ã€‚mvvmæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚Model å±‚ä»£è¡¨æ•°æ®æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥åœ¨Modelä¸­å®šä¹‰æ•°æ®ä¿®æ”¹å’Œæ“ä½œçš„ä¸šåŠ¡é€»è¾‘ï¼›View ä»£è¡¨UI ç»„ä»¶ï¼Œå®ƒè´Ÿè´£å°†æ•°æ®æ¨¡å‹è½¬åŒ–æˆUI å±•ç°å‡ºæ¥ï¼ŒViewModel æ˜¯ä¸€ä¸ªåŒæ­¥View å’Œ Modelçš„å¯¹è±¡ã€‚åœ¨MVVMæ¶æ„ä¸‹ï¼ŒView å’Œ Model ä¹‹é—´å¹¶æ²¡æœ‰ç›´æ¥çš„è”ç³»ï¼Œè€Œæ˜¯é€šè¿‡ViewModelè¿›è¡Œäº¤äº’ï¼ŒModel å’Œ ViewModel ä¹‹é—´çš„äº¤äº’æ˜¯åŒå‘çš„ï¼Œ å› æ­¤View æ•°æ®çš„å˜åŒ–ä¼šåŒæ­¥åˆ°Modelä¸­ï¼Œè€ŒModel æ•°æ®çš„å˜åŒ–ä¹Ÿä¼šç«‹å³ååº”åˆ°View ä¸Šã€‚ViewModel é€šè¿‡åŒå‘æ•°æ®ç»‘å®šæŠŠ View å±‚å’Œ Model å±‚è¿æ¥äº†èµ·æ¥ï¼Œè€ŒView å’Œ Model ä¹‹é—´çš„åŒæ­¥å·¥ä½œå®Œå…¨æ˜¯è‡ªåŠ¨çš„ï¼Œæ— éœ€äººä¸ºå¹²æ¶‰ï¼Œå› æ­¤å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ“ä½œDOM, ä¸éœ€è¦å…³æ³¨æ•°æ®çŠ¶æ€çš„åŒæ­¥é—®é¢˜ï¼Œå¤æ‚çš„æ•°æ®çŠ¶æ€ç»´æŠ¤å®Œå…¨ç”± MVVM æ¥ç»Ÿä¸€ç®¡ç†ã€‚ 2:mvvmå’ŒmvcåŒºåˆ«12345mvcå’Œmvvmå…¶å®åŒºåˆ«å¹¶ä¸å¤§ã€‚éƒ½æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚ä¸»è¦å°±æ˜¯mvcä¸­Controlleræ¼”å˜æˆmvvmä¸­çš„viewModelã€‚mvvmä¸»è¦è§£å†³äº†mvcä¸­å¤§é‡çš„DOM æ“ä½œä½¿é¡µé¢æ¸²æŸ“æ€§èƒ½é™ä½ï¼ŒåŠ è½½é€Ÿåº¦å˜æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚å’Œå½“ Model é¢‘ç¹å‘ç”Ÿå˜åŒ–ï¼Œå¼€å‘è€…éœ€è¦ä¸»åŠ¨æ›´æ–°åˆ°View ã€‚ è®©CSSåªåœ¨å½“å‰ç»„ä»¶ä¸­èµ·ä½œç”¨1å°†å½“å‰ç»„ä»¶çš„&lt;style&gt;ä¿®æ”¹ä¸º&lt;style scoped&gt; Vueä¸­ä½¿ç”¨æ’ä»¶çš„æ­¥éª¤12é‡‡ç”¨ES6çš„import ... from ...è¯­æ³•æˆ–CommonJSdçš„require()æ–¹æ³•å¼•å…¥æ’ä»¶ä½¿ç”¨å…¨å±€æ–¹æ³•Vue.use( plugin )ä½¿ç”¨æ’ä»¶,å¯ä»¥ä¼ å…¥ä¸€ä¸ªé€‰é¡¹å¯¹è±¡Vue.use(MyPlugin, { someOption: true }) ç»„ä»¶çš„ä½¿ç”¨å’Œè‡ªå·±åˆ›å»ºå…¬ç”¨ç»„ä»¶1234567ç¬¬ä¸€æ­¥ï¼šåœ¨componentsç›®å½•æ–°å»ºä½ çš„ç»„ä»¶æ–‡ä»¶ï¼ˆindexPage.vueï¼‰ï¼Œ scriptä¸€å®šè¦export default {}ç¬¬äºŒæ­¥ï¼šåœ¨éœ€è¦ç”¨çš„é¡µé¢ï¼ˆç»„ä»¶ï¼‰ä¸­å¯¼å…¥ï¼š import indexPage from '@/components/indexPage.vue'ç¬¬ä¸‰æ­¥ï¼šæ³¨å…¥åˆ°vueçš„å­ç»„ä»¶çš„componentså±æ€§ä¸Šé¢,components:{indexPage}ç¬¬å››æ­¥ï¼šåœ¨templateè§†å›¾viewä¸­ä½¿ç”¨ï¼Œé—®é¢˜æœ‰indexPageå‘½åï¼Œä½¿ç”¨çš„æ—¶å€™åˆ™index-pageã€‚ vueå¦‚ä½•å®ç°æŒ‰éœ€åŠ è½½é…åˆwebpackè®¾ç½®123webpackä¸­æä¾›äº†require.ensure()æ¥å®ç°æŒ‰éœ€åŠ è½½ã€‚ä»¥å‰å¼•å…¥è·¯ç”±æ˜¯é€šè¿‡import è¿™æ ·çš„æ–¹å¼å¼•å…¥ï¼Œæ”¹ä¸ºconstå®šä¹‰çš„æ–¹å¼è¿›è¡Œå¼•å…¥ã€‚ä¸è¿›è¡Œé¡µé¢æŒ‰éœ€åŠ è½½å¼•å…¥æ–¹å¼ï¼šimport home from '../../common/home.vue'è¿›è¡Œé¡µé¢æŒ‰éœ€åŠ è½½çš„å¼•å…¥æ–¹å¼ï¼šconst home = r =&gt; require.ensure( [], () =&gt; r (require('../../common/home.vue'))) ä½œç”¨1&lt;keep-alive&gt;&lt;/keep-alive&gt; åŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œä¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹,ä¸»è¦ç”¨äºä¿ç•™ç»„ä»¶çŠ¶æ€æˆ–é¿å…é‡æ–°æ¸²æŸ“ã€‚ vue-routeæ¨¡å¼12345678é»˜è®¤ä¸ºhashï¼Œä½†æ˜¯ç”¨hashæ¨¡å¼çš„è¯ï¼Œé¡µé¢åœ°å€ä¼šåŠ #æ‰€ä»¥ä¸€èˆ¬é‡‡ç”¨ historyæ¨¡å¼````# vueé˜»æ­¢äº‹ä»¶ .stop é˜»æ­¢äº‹ä»¶å†’æ³¡ .prevent é˜»æ­¢é»˜è®¤äº‹ä»¶ .capture é˜»æ­¢äº‹ä»¶æ•è· .once åªè§¦å‘ä¸€æ¬¡ 123# routerä¼ å‚æ•° routes: [ { path: â€˜/linkParams/:nameâ€™, name:â€™linkParamsâ€™, component: linkParams }] è·å–name let name = this.$route.params.name // å­—ç¬¦ä¸²,è¿™é‡Œçš„å­—ç¬¦ä¸²æ˜¯è·¯å¾„pathåŒ¹é…å™¢ï¼Œä¸æ˜¯routeré…ç½®é‡Œçš„namethis.$router.push(â€˜homeâ€™) // å¯¹è±¡this.$router.push({ path: â€˜homeâ€™ }) // å‘½åçš„è·¯ç”± è¿™é‡Œä¼šå˜æˆ /user/123this.$router.push({ name: â€˜userâ€™, params: { userId: 123 }}) // å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=privatethis.$router.push({ path: â€˜registerâ€™, query: { plan: â€˜privateâ€™ }}) router.beforeEach((to, from, next)=&gt;{ //do something next();});router.afterEach((to, from, next) =&gt; { console.log(to.path);}); æ¯ä¸ªé’©å­æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š to: Route: å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡ from: Route: å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”± next: Function: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥ resolve è¿™ä¸ªé’©å­ã€‚æ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„è°ƒç”¨å‚æ•°ã€‚ next(): è¿›è¡Œç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªé’©å­ã€‚å¦‚æœå…¨éƒ¨é’©å­æ‰§è¡Œå®Œäº†ï¼Œåˆ™å¯¼èˆªçš„çŠ¶æ€å°±æ˜¯ confirmed ï¼ˆç¡®è®¤çš„ï¼‰ã€‚ next(false): ä¸­æ–­å½“å‰çš„å¯¼èˆªã€‚å¦‚æœæµè§ˆå™¨çš„ URL æ”¹å˜äº†ï¼ˆå¯èƒ½æ˜¯ç”¨æˆ·æ‰‹åŠ¨æˆ–è€…æµè§ˆå™¨åé€€æŒ‰é’®ï¼‰ï¼Œé‚£ä¹ˆ URL åœ°å€ä¼šé‡ç½®åˆ° from è·¯ç”±å¯¹åº”çš„åœ°å€ã€‚ next(â€˜/â€˜) æˆ–è€… next({ path: â€˜/â€˜ }): è·³è½¬åˆ°ä¸€ä¸ªä¸åŒçš„åœ°å€ã€‚å½“å‰çš„å¯¼èˆªè¢«ä¸­æ–­ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªæ–°çš„å¯¼èˆªã€‚ 123SSRå®ç°åŸç† app.js ä½œä¸ºå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„å…¬ç”¨å…¥å£ï¼Œå¯¼å‡º Vue æ ¹å®ä¾‹ï¼Œä¾›å®¢æˆ·ç«¯ entry ä¸æœåŠ¡ç«¯ entry ä½¿ç”¨ã€‚å®¢æˆ·ç«¯ entry ä¸»è¦ä½œç”¨æŒ‚è½½åˆ° DOM ä¸Šï¼ŒæœåŠ¡ç«¯ entry é™¤äº†åˆ›å»ºå’Œè¿”å›å®ä¾‹ï¼Œè¿˜è¿›è¡Œè·¯ç”±åŒ¹é…ä¸æ•°æ®é¢„è·å–ã€‚webpack ä¸ºå®¢æœç«¯æ‰“åŒ…ä¸€ä¸ª Client Bundle ï¼Œä¸ºæœåŠ¡ç«¯æ‰“åŒ…ä¸€ä¸ª Server Bundle ã€‚æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚æ—¶ï¼Œä¼šæ ¹æ® urlï¼ŒåŠ è½½ç›¸åº”ç»„ä»¶ï¼Œè·å–å’Œè§£æå¼‚æ­¥æ•°æ®ï¼Œåˆ›å»ºä¸€ä¸ªè¯»å– Server Bundle çš„ BundleRendererï¼Œç„¶åç”Ÿæˆ html å‘é€ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ··åˆï¼Œå®¢æˆ·ç«¯æ”¶åˆ°ä»æœåŠ¡ç«¯ä¼ æ¥çš„ DOM ä¸è‡ªå·±çš„ç”Ÿæˆçš„ DOM è¿›è¡Œå¯¹æ¯”ï¼ŒæŠŠä¸ç›¸åŒçš„ DOM æ¿€æ´»ï¼Œä½¿å…¶å¯ä»¥èƒ½å¤Ÿå“åº”åç»­å˜åŒ–ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå®¢æˆ·ç«¯æ¿€æ´» ã€‚ä¸ºç¡®ä¿æ··åˆæˆåŠŸï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯éœ€è¦å…±äº«åŒä¸€å¥—æ•°æ®ã€‚åœ¨æœåŠ¡ç«¯ï¼Œå¯ä»¥åœ¨æ¸²æŸ“ä¹‹å‰è·å–æ•°æ®ï¼Œå¡«å……åˆ° stroe é‡Œï¼Œè¿™æ ·ï¼Œåœ¨å®¢æˆ·ç«¯æŒ‚è½½åˆ° DOM ä¹‹å‰ï¼Œå¯ä»¥ç›´æ¥ä» store é‡Œå–æ•°æ®ã€‚é¦–å±çš„åŠ¨æ€æ•°æ®é€šè¿‡ window.__INITIAL_STATE__ å‘é€åˆ°å®¢æˆ·ç«¯ã€‚ Vue SSR çš„å®ç°ï¼Œä¸»è¦å°±æ˜¯æŠŠ Vue çš„ç»„ä»¶è¾“å‡ºæˆä¸€ä¸ªå®Œæ•´ HTML, vue-server-renderer å°±æ˜¯å¹²è¿™äº‹çš„ã€‚ 1234567# Vueå®ä¾‹åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­å®ç°ä¾èµ–ç®¡ç†çš„åˆ†æ[é“¾æ¥](http://www.bslxx.com/a/vue/2018/0301/1795.html)å¤§è‡´çš„æ€»ç»“ä¸‹å°±æ˜¯ï¼š initStateçš„è¿‡ç¨‹ä¸­ï¼Œå°†props,computed,dataç­‰å±æ€§é€šè¿‡Object.definePropertyæ¥æ”¹é€ å…¶getter/setterå±æ€§ï¼Œå¹¶ä¸ºæ¯ä¸€ä¸ªå“åº”å¼å±æ€§å®ä¾‹åŒ–ä¸€ä¸ªobserverè§‚å¯Ÿè€…ã€‚è¿™ä¸ªobserverå†…éƒ¨depè®°å½•äº†è¿™ä¸ªå“åº”å¼å±æ€§çš„æ‰€æœ‰ä¾èµ–ã€‚ å½“å“åº”å¼å±æ€§è°ƒç”¨setterå‡½æ•°æ—¶ï¼Œé€šè¿‡dep.notify()æ–¹æ³•å»éå†æ‰€æœ‰çš„ä¾èµ–ï¼Œè°ƒç”¨watcher.update()å»å®Œæˆæ•°æ®çš„åŠ¨æ€å“åº”ã€‚ vue.js æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡Object.defineProperty()æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒã€‚ å…·ä½“æ­¥éª¤ï¼šç¬¬ä¸€æ­¥ï¼šéœ€è¦observeçš„æ•°æ®å¯¹è±¡è¿›è¡Œé€’å½’éå†ï¼ŒåŒ…æ‹¬å­å±æ€§å¯¹è±¡çš„å±æ€§ï¼Œéƒ½åŠ ä¸Š setterå’Œgetterè¿™æ ·çš„è¯ï¼Œç»™è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªå€¼èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘setterï¼Œé‚£ä¹ˆå°±èƒ½ç›‘å¬åˆ°äº†æ•°æ®å˜åŒ– ç¬¬äºŒæ­¥ï¼šcompileè§£ææ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œæ·»åŠ ç›‘å¬æ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥ï¼Œæ›´æ–°è§†å›¾ ç¬¬ä¸‰æ­¥ï¼šWatcherè®¢é˜…è€…æ˜¯Observerå’ŒCompileä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ï¼Œä¸»è¦åšçš„äº‹æƒ…æ˜¯:1ã€åœ¨è‡ªèº«å®ä¾‹åŒ–æ—¶å¾€å±æ€§è®¢é˜…å™¨(dep)é‡Œé¢æ·»åŠ è‡ªå·±2ã€è‡ªèº«å¿…é¡»æœ‰ä¸€ä¸ªupdate()æ–¹æ³•3ã€å¾…å±æ€§å˜åŠ¨dep.notice()é€šçŸ¥æ—¶ï¼Œèƒ½è°ƒç”¨è‡ªèº«çš„update()æ–¹æ³•ï¼Œå¹¶è§¦å‘Compileä¸­ç»‘å®šçš„å›è°ƒï¼Œåˆ™åŠŸæˆèº«é€€ã€‚ ç¬¬å››æ­¥ï¼šMVVMä½œä¸ºæ•°æ®ç»‘å®šçš„å…¥å£ï¼Œæ•´åˆObserverã€Compileå’ŒWatcherä¸‰è€…ï¼Œé€šè¿‡Observeræ¥ç›‘å¬è‡ªå·±çš„modelæ•°æ®å˜åŒ–ï¼Œé€šè¿‡Compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œæœ€ç»ˆåˆ©ç”¨Watcheræ­èµ·Observerå’ŒCompileä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ– -&gt; è§†å›¾æ›´æ–°ï¼›è§†å›¾äº¤äº’å˜åŒ–(input) -&gt; æ•°æ®modelå˜æ›´çš„åŒå‘ç»‘å®šæ•ˆæœã€‚ 123# Vueå£°æ˜ç»„ä»¶çš„stateæ˜¯ç”¨dataæ–¹æ³•ï¼Œé‚£ä¸ºä»€ä¹ˆdataæ˜¯é€šè¿‡ä¸€ä¸ªfunctionæ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥å†™ä¸€ä¸ªå¯¹è±¡å‘¢ ç­”ï¼šä»è¯­æ³•ä¸Šè¯´ï¼Œå¦‚æœä¸ç”¨functionè¿”å›å°±ä¼šå‡ºç°è¯­æ³•é”™è¯¯å¯¼è‡´ç¼–è¯‘ä¸é€šè¿‡ã€‚ä»åŸç†ä¸Šçš„è¯ï¼Œå¤§æ¦‚å°±æ˜¯ç»„ä»¶å¯ä»¥è¢«å¤šæ¬¡åˆ›å»ºï¼Œå¦‚æœä¸ä½¿ç”¨functionå°±ä¼šä½¿æ‰€æœ‰è°ƒç”¨è¯¥ç»„ä»¶çš„é¡µé¢å…¬ç”¨åŒä¸€ä¸ªæ•°æ®åŸŸï¼Œè¿™æ ·å°±å¤±å»äº†ç»„ä»¶çš„æ¦‚å¿µäº† 123# vuex Stateã€ Getterã€Mutation ã€Actionã€ Moduleé€šè¿‡çŠ¶æ€ï¼ˆæ•°æ®æºï¼‰é›†ä¸­ç®¡ç†é©±åŠ¨ç»„ä»¶çš„å˜åŒ–ï¼ˆå¥½æ¯”springçš„IOCå®¹å™¨å¯¹beanè¿›è¡Œé›†ä¸­ç®¡ç†ï¼‰ã€‚åº”ç”¨çº§çš„çŠ¶æ€é›†ä¸­æ”¾åœ¨storeä¸­ï¼›æ”¹å˜çŠ¶æ€çš„æ–¹å¼æ˜¯æäº¤mutationsï¼Œè¿™æ˜¯ä¸ªåŒæ­¥çš„äº‹ç‰©ï¼› å¼‚æ­¥é€»è¾‘åº”è¯¥å°è£…åœ¨actionä¸­ã€‚ ä¸€ã€Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼šäºŒã€Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚ä¸‰ã€Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ ä¸€ã€getters å¯ä»¥å¯¹Stateè¿›è¡Œè®¡ç®—æ“ä½œï¼Œå®ƒå°±æ˜¯Storeçš„è®¡ç®—å±æ€§äºŒã€ è™½ç„¶åœ¨ç»„ä»¶å†…ä¹Ÿå¯ä»¥åšè®¡ç®—å±æ€§ï¼Œä½†æ˜¯getters å¯ä»¥åœ¨å¤šç»„ä»¶ä¹‹é—´å¤ç”¨ä¸‰ã€ å¦‚æœä¸€ä¸ªçŠ¶æ€åªåœ¨ä¸€ä¸ªç»„ä»¶å†…ä½¿ç”¨ï¼Œæ˜¯å¯ä»¥ä¸ç”¨getters äºŒã€stateé‡Œé¢å­˜æ”¾çš„æ•°æ®æ˜¯å“åº”å¼çš„ï¼ŒVueç»„ä»¶ä»storeä¸­è¯»å–æ•°æ®ï¼Œè‹¥æ˜¯storeä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œä¾èµ–è¿™ä¸ªæ•°æ®çš„ç»„ä»¶ä¹Ÿä¼šå‘ç”Ÿæ›´æ–°ä¸‰ã€å®ƒé€šè¿‡mapStateæŠŠå…¨å±€çš„ state å’Œ getters æ˜ å°„åˆ°å½“å‰ç»„ä»¶çš„ computed è®¡ç®—å±æ€§ä¸­ 123# è¯´ä¸‹vueç»„ä»¶ä¹‹é—´çš„é€šä¿¡ ç­”ï¼šéçˆ¶å­ç»„ä»¶é—´é€šä¿¡ï¼ŒVue æœ‰æä¾› Vuexï¼Œä»¥çŠ¶æ€å…±äº«æ–¹å¼æ¥å®ç°é€šä¿¡ prop å‘ä¸‹ä¼ é€’ï¼Œäº‹ä»¶å‘ä¸Šä¼ é€’ã€‚è¿˜å¯ä»¥é€šè¿‡$emitæ–¹æ³•å‡ºå‘ä¸€ä¸ªæ¶ˆæ¯ï¼Œç„¶å$onæ¥æ”¶è¿™ä¸ªæ¶ˆæ¯ å…„å¼Ÿç»„ä»¶é—´çš„æ•°æ®é€šè®¯ï¼Œå®ƒä»¬å°†ä¼š å¯»æ‰¾å…¶å…±åŒçš„çˆ¶ç»„ä»¶ï¼Œä½¿ç”¨æ•°æ®å’Œç›¸å…³æ–¹æ³•â€œæå‡â€åˆ°çˆ¶ç»„ä»¶å†…éƒ¨ï¼Œå¹¶å‘ä¸‹ä¼ ç»™ä¸¤ä¸ªå­ç»„ä»¶ã€‚å…¶ä¸­ä¸€ä¸ªå­ç»„ä»¶å–å¾—æ•°æ®ï¼Œå¦ä¸€ä¸ªå­ç»„ä»¶å–å¾—äº†æ”¹å˜æ•°æ®çš„æ–¹æ³• ã€‚ var Event = new Vue()//çˆ¶ç»„ä»¶ Event.$on(â€œa-msgâ€, function (a) { this.a = a; }.bind(this)); // å­ç»„ä»¶ Event.$emit(â€œa-msgâ€, this.a); 1234567# Vue ç”Ÿå‘½å‘¨æœŸ# ç®€å•æè¿°æ¯ä¸ªå‘¨æœŸå…·ä½“é€‚åˆå“ªäº›åœºæ™¯Create Mount Update Destroy beforeCreateï¼ˆåˆ›å»ºå‰ï¼‰,createdï¼ˆåˆ›å»ºåï¼‰, beforeMount(è½½å…¥å‰),mountedï¼ˆè½½å…¥åï¼‰, beforeUpdateï¼ˆæ›´æ–°å‰ï¼‰,updatedï¼ˆæ›´æ–°åï¼‰, beforeDestroyï¼ˆé”€æ¯å‰ï¼‰,destroyedï¼ˆé”€æ¯åï¼‰ æ¯ä¸ªé’©å­å‡½æ•°éƒ½åœ¨å•¥æ—¶é—´è§¦å‘ beforeCreateåœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹(data observer) å’Œ event/watcher äº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨ã€‚ createdå®ä¾‹å·²ç»åˆ›å»ºå®Œæˆä¹‹åè¢«è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šæ•°æ®è§‚æµ‹(data observer)ï¼Œå±æ€§å’Œæ–¹æ³•çš„è¿ç®—ï¼Œ watch/event äº‹ä»¶å›è°ƒã€‚ç„¶è€Œï¼ŒæŒ‚è½½é˜¶æ®µè¿˜æ²¡å¼€å§‹ï¼Œ$el å±æ€§ç›®å‰ä¸å¯è§ã€‚ beforeMountåœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚ mountedæŒ‚è½½å…ƒç´ ï¼Œè·å–åˆ°DOMèŠ‚ç‚¹el è¢«æ–°åˆ›å»ºçš„ vm.$el æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨è¯¥é’©å­ã€‚å¦‚æœ root å®ä¾‹æŒ‚è½½äº†ä¸€ä¸ªæ–‡æ¡£å†…å…ƒç´ ï¼Œå½“ mounted è¢«è°ƒç”¨æ—¶ vm.$el ä¹Ÿåœ¨æ–‡æ¡£å†…ã€‚ beforeUpdateæ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰ã€‚ ä½ å¯ä»¥åœ¨è¿™ä¸ªé’©å­ä¸­è¿›ä¸€æ­¥åœ°æ›´æ”¹çŠ¶æ€ï¼Œè¿™ä¸ä¼šè§¦å‘é™„åŠ çš„é‡æ¸²æŸ“è¿‡ç¨‹ã€‚ updatedç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚å½“è¿™ä¸ªé’©å­è¢«è°ƒç”¨æ—¶ï¼Œç»„ä»¶ DOM å·²ç»æ›´æ–°ï¼Œæ‰€ä»¥ä½ ç°åœ¨å¯ä»¥æ‰§è¡Œä¾èµ–äº DOM çš„æ“ä½œã€‚ç„¶è€Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹çŠ¶æ€ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå¯¼è‡´æ›´æ–°æ— é™å¾ªç¯ã€‚ è¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚ beforeDestroyå®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚ destroyedVue å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚ è¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚ ç”Ÿå‘½å‘¨æœŸé’©å­çš„ä¸€äº›å¸¸è§ä½¿ç”¨æ–¹æ³•ï¼š beforecreate : å¯ä»¥åœ¨è¿™åŠ ä¸ªloadingäº‹ä»¶ï¼Œåœ¨åŠ è½½å®ä¾‹æ—¶è§¦å‘ created : åˆå§‹åŒ–å®Œæˆæ—¶éœ€è¦æ‰§è¡Œçš„äº‹ä»¶å†™åœ¨è¿™é‡Œï¼Œå¦‚åœ¨è¿™ç»“æŸloadingäº‹ä»¶ï¼Œå¼‚æ­¥è¯·æ±‚ä¹Ÿé€‚å®œåœ¨è¿™é‡Œè°ƒç”¨ mounted: åœ¨è¿™å‘èµ·åç«¯è¯·æ±‚ï¼Œæ‹¿å›æ•°æ®ï¼Œé…åˆè·¯ç”±é’©å­åšä¸€äº›äº‹æƒ… updated : å¦‚æœå¯¹æ•°æ®ç»Ÿä¸€å¤„ç†ï¼Œåœ¨è¿™é‡Œå†™ä¸Šç›¸åº”å‡½æ•°beforeDestroy : å¯ä»¥åšä¸€ä¸ªç¡®è®¤åœæ­¢äº‹ä»¶çš„ç¡®è®¤æ¡† ä½ ç¡®è®¤åˆ é™¤XXå—ï¼ŸnextTick : æ›´æ–°æ•°æ®åç«‹å³æ“ä½œdomactivated::keep-aliveç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨ 123# v-showå’Œv-ifæŒ‡ä»¤çš„å…±åŒç‚¹å’Œä¸åŒç‚¹ v-showæŒ‡ä»¤æ˜¯é€šè¿‡ä¿®æ”¹å…ƒç´ çš„displayCSSå±æ€§è®©å…¶æ˜¾ç¤ºæˆ–è€…éšè—v-ifæŒ‡ä»¤æ˜¯ç›´æ¥é”€æ¯å’Œé‡å»ºDOMè¾¾åˆ°è®©å…ƒç´ æ˜¾ç¤ºå’Œéšè—çš„æ•ˆæœ v-if æœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—è€Œ v-show æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢ v-show è¾ƒå¥½ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶ä¸å¤§å¯èƒ½æ”¹å˜ v-if è¾ƒå¥½ã€‚ 1.v-if æŒ‡ä»¤å¯ä»¥åº”ç”¨äºtemplateåŒ…è£…å…ƒç´ ä¸Šï¼Œè€Œv-showä¸æ”¯æŒtemplate2.å°†v-showåº”ç”¨åœ¨ç»„ä»¶ä¸Šæ—¶ï¼Œå› ä¸ºæŒ‡ä»¤çš„ä¼˜å…ˆçº§v-else ä¼šå‡ºç°é—®é¢˜ï¼Œè§£å†³åŠæ³•å°±æ˜¯ç”¨å¦ä¸€ä¸ª v-show æ›¿æ¢ v-else // é”™è¯¯ è¿™å¯èƒ½ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶ // æ­£ç¡®åšæ³• è¿™å¯èƒ½ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶ 123# vue çˆ¶å­ç»„ä»¶åµŒå¥—æ—¶ï¼Œç»„ä»¶å†…éƒ¨çš„å„ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­è§¦å‘å…ˆåé¡ºåº é¡ºåºæ˜¯ å…ˆåˆ›å»ºçˆ¶ç»„ä»¶(çˆ¶ç»„ä»¶beforeMount)ï¼Œç„¶åæ‰åˆ›å»ºå­ç»„ä»¶ï¼Œå½“å­ç»„ä»¶åˆ›å»ºå®Œæˆå¹¶ä¸”å®ä½“domæŒ‚è½½å®Œæˆå(å­ç»„ä»¶å…ˆmounted)çˆ¶ç»„ä»¶æ‰æŒ‚è½½å®Œæˆ(çˆ¶ç»„ä»¶mounted) 123# hå‡½æ•° å®ƒæ¥è‡ªå•è¯ hyperscriptï¼Œ è¿™ä¸ªå•è¯é€šå¸¸ç”¨åœ¨ virtual-dom çš„å®ç°ä¸­ã€‚ Hyperscript æœ¬èº«æ˜¯æŒ‡ ç”ŸæˆHTML ç»“æ„çš„ script è„šæœ¬ï¼Œå› ä¸º HTML æ˜¯ hyper-text markup language çš„ç¼©å†™ï¼ˆè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰ ä¸ªäººç†è§£ï¼šcreateElement å‡½æ•°æ˜¯ç”¨æ¥ç”Ÿæˆ HTML DOMå…ƒç´ çš„ï¼Œä¹Ÿå°±æ˜¯ä¸Šæ–‡ä¸­çš„ generate HTMLstructuresï¼Œä¹Ÿå°±æ˜¯ Hyperscriptï¼Œè¿™æ ·ä½œè€…æ‰æŠŠ createElement ç®€å†™æˆ hã€‚ å¤§æ¦‚çš„ç¿»è¯‘ä¸‹ï¼šrender: h =&gt; h(App) æ˜¯ä¸‹é¢å†…å®¹çš„ç¼©å†™ï¼š render: function (createElement) { return createElement(App);}è¿›ä¸€æ­¥ç¼©å†™ä¸º(ES6 è¯­æ³•)ï¼š render (createElement) { return createElement(App);}å†è¿›ä¸€æ­¥ç¼©å†™ä¸ºï¼š render (h){ return h(App);}æŒ‰ç…§ ES6 ç®­å¤´å‡½æ•°çš„å†™æ³•ï¼Œå°±å¾—åˆ°äº†ï¼š render: h =&gt; h(App); 12345# react-reduxä¸­connectå‡½æ•°[é“¾æ¥](https://segmentfault.com/a/1190000010188279) connectæ–¹æ³•åšçš„äº‹æƒ…æ˜¯å°†stateå’Œdispatchç»‘å®šåˆ°Connectç»„ä»¶çš„å‚æ•°ä¸Šï¼Œç„¶åConnectç»„ä»¶å°†ä½ å½“å‰çš„Appç»„ä»¶å°è£…èµ·æ¥ï¼Œä½¿å¾—Appç»„ä»¶å¯ä»¥é€šè¿‡propsè·å–åˆ°çˆ¶ç»„ä»¶Connectä¼ é€’çš„stateå’Œpropsã€‚ Provideræ˜¯é¡¶å±‚ç»„ä»¶çš„ä½œç”¨ï¼Œå°†storeä½œä¸ºä¸Šä¸‹æ–‡æä¾›ç»™å…¨å±€å…±äº«ï¼Œè€ŒConnectç»„ä»¶æ˜¯å±€éƒ¨ç»„ä»¶ï¼Œå°†æŸä¸ªreactç»„ä»¶åŒ…è£…èµ·æ¥ï¼Œä¼ é€’æŒ‡å®šçš„stateå’Œpropsç»™è¯¥ç»„ä»¶è®¿é—®ã€‚ connect()è¿”å›å€¼æ˜¯Connectç»„ä»¶ï¼ˆè¯·æ³¨æ„å¤§å°å†™çš„åŒºåˆ«ï¼‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586# Vueå’ŒReactåŒºåˆ«### ç›¸åŒ- ä½¿ç”¨ Virtual DOM- æä¾›äº†å“åº”å¼ (Reactive) å’Œç»„ä»¶åŒ– (Composable) çš„è§†å›¾ç»„ä»¶ã€‚- å°†æ³¨æ„åŠ›é›†ä¸­ä¿æŒåœ¨æ ¸å¿ƒåº“ï¼Œè€Œå°†å…¶ä»–åŠŸèƒ½å¦‚è·¯ç”±å’Œå…¨å±€çŠ¶æ€ç®¡ç†äº¤ç»™ç›¸å…³çš„åº“ã€‚éƒ½æ˜¯JavaScriptçš„UIæ¡†æ¶ï¼Œä¸“æ³¨äºåˆ›é€ å‰ç«¯çš„å¯Œåº”ç”¨ã€‚ä¸åŒäºæ—©æœŸçš„JavaScriptæ¡†æ¶â€œåŠŸèƒ½é½å…¨â€ï¼Œ### åŒºåˆ«- **æ€§èƒ½** è®¡ç®—å·®å¼‚çš„ç®—æ³•æ˜¯é«˜æ€§èƒ½æ¡†æ¶çš„ç§˜å¯†æ‰€åœ¨ï¼ŒReactå’ŒVueåœ¨å®ç°ä¸Šæœ‰ç‚¹ä¸åŒã€‚ Vueå¯ä»¥æ›´å¿«åœ°è®¡ç®—å‡ºVirtual DOMçš„å·®å¼‚ï¼Œ è¿™æ˜¯ç”±äºå®ƒåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œ ä¼šè·Ÿè¸ªæ¯ä¸€ä¸ªç»„ä»¶çš„ä¾èµ–å…³ç³»ï¼Œ ä¸éœ€è¦é‡æ–°æ¸²æŸ“æ•´ä¸ªç»„ä»¶æ ‘ã€‚ è€Œå¯¹äºReactè€Œè¨€ï¼Œæ¯å½“åº”ç”¨çš„çŠ¶æ€è¢«æ”¹å˜æ—¶ï¼Œ å…¨éƒ¨å­ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚ å½“ç„¶ï¼Œè¿™å¯ä»¥é€šè¿‡shouldComponentUpdate è¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ¥è¿›è¡Œæ§åˆ¶ï¼Œ ä½†Vueå°†æ­¤è§†ä¸ºé»˜è®¤çš„ä¼˜åŒ–ã€‚- **JSXå’ŒTemplates** React ä¸­ï¼Œæ‰€æœ‰çš„ç»„ä»¶çš„æ¸²æŸ“åŠŸèƒ½éƒ½ä¾é  JSX å¯ä»¥ä½¿ç”¨å®Œæ•´çš„ç¼–ç¨‹è¯­è¨€ JavaScript åŠŸèƒ½æ¥æ„å»ºä½ çš„è§†å›¾é¡µé¢ã€‚ æ¨¡æ¿æ¯”èµ· JSX è¯»å†™èµ·æ¥æ›´è‡ªç„¶ã€‚ åŸºäº HTML çš„æ¨¡æ¿ä½¿å¾—å°†å·²æœ‰çš„åº”ç”¨é€æ­¥è¿ç§»åˆ° Vue æ›´ä¸ºå®¹æ˜“ã€‚ å¯ä»¥ä½¿ç”¨å…¶ä»–æ¨¡æ¿é¢„å¤„ç†å™¨ï¼Œæ¯”å¦‚ Pug æ¥ä¹¦å†™ Vue çš„æ¨¡æ¿ã€‚ vueçš„æ¨¡æ¿è¯­æ³•å»é™¤äº†å¾€è§†å›¾/ç»„ä»¶ä¸­æ·»åŠ é€»è¾‘çš„è¯±æƒ‘ï¼Œä¿æŒäº†å…³æ³¨ç‚¹åˆ†ç¦»ã€‚ ä¸Reactä¸€æ ·ï¼ŒVueåœ¨æŠ€æœ¯ä¸Šä¹Ÿæ”¯æŒrenderå‡½æ•°å’ŒJSXï¼Œä½†åªæ˜¯ä¸æ˜¯é»˜è®¤çš„è€Œå·²ã€‚- **ç»„ä»¶ä½œç”¨åŸŸå†…çš„ CSS** Vue è®¾ç½®æ ·å¼çš„é»˜è®¤æ–¹æ³•æ˜¯å•æ–‡ä»¶ç»„ä»¶é‡Œç±»ä¼¼ style çš„æ ‡ç­¾ã€‚ å¯é€‰ scoped å±æ€§ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„å±æ€§ CSS ä½œç”¨åŸŸåœ¨ React ä¸­æ˜¯é€šè¿‡ CSS-in-JS çš„æ–¹æ¡ˆå®ç°çš„- **Props** JSXåº“ä¸­ï¼Œæ•°æ®é€šè¿‡propsä¼ åˆ°å­ç»„ä»¶ä¸­å»ã€‚ åœ¨Reactä¸­ï¼Œè¿™æ˜¯å¿…é¡»çš„ï¼Œå®ƒä¾èµ–ä¸€ä¸ªâ€œå•ä¸€æ•°æ®æºâ€ä½œä¸ºå®ƒçš„â€œçŠ¶æ€â€ åœ¨Vueä¸­ï¼Œpropsç•¥æœ‰ä¸åŒã€‚å®ƒä»¬ä¸€æ ·æ˜¯åœ¨ç»„ä»¶ä¸­è¢«å®šä¹‰ï¼Œä½†Vueä¾èµ–äºæ¨¡æ¿è¯­æ³•ï¼Œä½ å¯ä»¥é€šè¿‡æ¨¡æ¿çš„å¾ªç¯å‡½æ•°æ›´é«˜æ•ˆåœ°å±•ç¤ºä¼ å…¥çš„æ•°æ®ã€‚- **æ„å»ºå·¥å…·** Reactå¯ä»¥ä½¿ç”¨Create React App (CRA)ï¼Œè€ŒVueå¯¹åº”çš„åˆ™æ˜¯vue-cliã€‚- **é…å¥—æ¡†æ¶** Vueçš„æ ¸å¿ƒå›¢é˜Ÿç»´æŠ¤ç€vue-routerå’Œvuexï¼Œ å®ƒä»¬ç”±å®˜æ–¹ç»´æŠ¤æ”¯æŒä¸”ä¸æ ¸å¿ƒåº“åŒæ­¥æ›´æ–°çš„ã€‚ è€ŒReactçš„react-routerå’Œreact-reduxåˆ™æ˜¯ç”±ç¤¾åŒºæˆå‘˜ç»´æŠ¤ï¼Œ åˆ›å»ºäº†ä¸€ä¸ªæ›´åˆ†æ•£çš„ç”Ÿæ€ç³»ç»Ÿ- **å‘ä¸‹æ‰©å±•** React å­¦ä¹ æ›²çº¿é™¡å³­ï¼Œå­¦ React å‰ï¼Œä½ éœ€è¦çŸ¥é“ JSX å’Œ ES2015ï¼Œ- **åŸç”Ÿæ¸²æŸ“** Weex è¿˜åœ¨ç§¯æå‘å±•ï¼Œæˆç†Ÿåº¦ä¹Ÿä¸èƒ½å’Œ React Native ç›¸æŠ—è¡¡ã€‚&lt;https://juejin.im/post/5a9b8417518825558251ce15&gt;# reduxåŸç†[é“¾æ¥](https://segmentfault.com/a/1190000004236064)# reduxæµç¨‹[Redux å…¥é—¨æ•™ç¨‹](http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_one_basic_usages.html) // store// Store å°±æ˜¯ä¿å­˜æ•°æ®çš„åœ°æ–¹ï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹æˆä¸€ä¸ªå®¹å™¨ã€‚æ•´ä¸ªåº”ç”¨åªèƒ½æœ‰ä¸€ä¸ª Storeã€‚ import { createStore } from â€˜reduxâ€™;const store = createStore(fn); //æ•°æ®é›†åˆï¼Œå°±å«åš Stateconst state = store.getState(); // Action Creatorå®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥ç”Ÿæˆ Actionconst ADD_TODO = â€˜æ·»åŠ  TODOâ€™; function addTodo(text) { return { type: ADD_TODO, text }} const action = addTodo(â€˜Learn Reduxâ€™); //store.dispatch()æ˜¯ View å‘å‡º Action çš„å”¯ä¸€æ–¹æ³•ã€‚ import { createStore } from â€˜reduxâ€™;const store = createStore(fn); store.dispatch({ type: â€˜ADD_TODOâ€™, payload: â€˜Learn Reduxâ€™}); store.dispatch(addTodo(â€˜Learn Reduxâ€™)); //Reducer State çš„è®¡ç®—è¿‡ç¨‹å°±å«åš Reducerã€‚æ¥å— Action å’Œå½“å‰ State ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ Stateã€‚ const reducer = function (state, action) { // â€¦ return new_state;}; const defaultState = 0;const reducer = (state = defaultState, action) =&gt; { switch (action.type) { case â€˜ADDâ€™: return state + action.payload; default: return state; }}; const state = reducer(1, { type: â€˜ADDâ€™, payload: 2}); Reducer å‡½æ•°ä¸ç”¨åƒä¸Šé¢è¿™æ ·æ‰‹åŠ¨è°ƒç”¨ï¼Œstore.dispatchæ–¹æ³•ä¼šè§¦å‘ Reducer çš„è‡ªåŠ¨æ‰§è¡Œã€‚ä¸ºæ­¤ï¼ŒStore éœ€è¦çŸ¥é“ Reducer å‡½æ•°ï¼Œåšæ³•å°±æ˜¯åœ¨ç”Ÿæˆ Store çš„æ—¶å€™ï¼Œå°† Reducer ä¼ å…¥createStoreæ–¹æ³•ã€‚ import { createStore } from â€˜reduxâ€™;const store = createStore(reducer); createStoreæ¥å— Reducer ä½œä¸ºå‚æ•°ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ Storeã€‚ä»¥åæ¯å½“store.dispatchå‘é€è¿‡æ¥ä¸€ä¸ªæ–°çš„ Actionï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨ Reducerï¼Œå¾—åˆ°æ–°çš„ Stateã€‚ reduceræœ€é‡è¦çš„ç‰¹å¾æ˜¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªçº¯å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æ˜¯åŒæ ·çš„è¾“å…¥ï¼Œå¿…å®šå¾—åˆ°åŒæ ·çš„è¾“å‡ºã€‚ ä¸å¾—æ”¹å†™å‚æ•°ä¸èƒ½è°ƒç”¨ç³»ç»Ÿ I/O çš„APIä¸èƒ½è°ƒç”¨Date.now()æˆ–è€…Math.random()ç­‰ä¸çº¯çš„æ–¹æ³•ï¼Œå› ä¸ºæ¯æ¬¡ä¼šå¾—åˆ°ä¸ä¸€æ ·çš„ç»“æœ å¿…é¡»è¿”å›ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡// State æ˜¯ä¸€ä¸ªå¯¹è±¡function reducer(state, action) { return Object.assign({}, state, { thingToChange }); // æˆ–è€… return { â€¦state, â€¦newState };} // State æ˜¯ä¸€ä¸ªæ•°ç»„function reducer(state, action) { return [â€¦state, newItem];}","link":"/posts/React%20%E5%92%8CVue/"},{"title":"Promiseæ·±åº¦è§£æ","text":"è¿™ä¸€ç« èŠ‚å°±æ˜¯æ•´ç†äº†45é“Promiseçš„ç¬”è¯•é¢˜è®©å¤§å®¶çˆ½ä¸€çˆ½ ğŸ˜ã€‚ è¿™ç¯‡æ–‡ç« æ˜¯ä¸€ç¯‡æ¯”è¾ƒçº¯çš„Promiseç¬”è¯•æ–‡ç« ï¼Œæ˜¯æˆ‘è‡ªå·±åœ¨åšé¢˜çš„æ—¶å€™ï¼Œæ ¹æ®é¢˜ç›®æƒ³è¦çš„è€ƒç‚¹æ¥åæ•²çŸ¥è¯†ç‚¹ï¼Œç„¶åå†ç”±è¿™ä¸ªçŸ¥è¯†ç‚¹ç¼–å†™ä»æµ…åˆ°æ·±çš„çš„é¢˜ç›®ã€‚ æœ¬æ–‡çš„é¢˜ç›®æ²¡æœ‰åˆ°ç‰¹åˆ«æ·±å…¥ï¼Œä¸è¿‡åº”è¯¥è¦†ç›–äº†å¤§éƒ¨åˆ†çš„è€ƒç‚¹ï¼Œå¦å¤–ä¸ºäº†ä¸æŠŠå¤§å®¶ç»•æ··ï¼Œç­”æ¡ˆä¹Ÿæ²¡æœ‰è€ƒè™‘åœ¨Nodeçš„æ‰§è¡Œç»“æœï¼Œæ‰§è¡Œç»“æœå…¨ä¸ºæµè§ˆå™¨ç¯å¢ƒä¸‹ã€‚ OKğŸ‘Œï¼Œ æ¥çœ‹çœ‹é€šè¿‡é˜…è¯»æœ¬ç¯‡æ–‡ç« ä½ å¯ä»¥å­¦åˆ°ï¼š Promiseçš„å‡ é“åŸºç¡€é¢˜ Promiseç»“åˆsetTimeout Promiseä¸­çš„thenã€catchã€finally Promiseä¸­çš„allå’Œrace async/awaitçš„å‡ é“é¢˜ asyncå¤„ç†é”™è¯¯ ç»¼åˆé¢˜ å‡ é“å¤§å‚çš„é¢è¯•é¢˜ å‰æœŸå‡†å¤‡åœ¨åšä¸‹é¢ğŸ‘‡çš„é¢˜ç›®ä¹‹å‰ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½æ¸…æ¥šå‡ ä¸ªçŸ¥è¯†ç‚¹ã€‚ (å¦‚æœä½ æ„Ÿè§‰ä¸€ä¸Šæ¥ä¸æƒ³çœ‹è¿™äº›åˆ—ä¸¾çš„çŸ¥è¯†ç‚¹çš„è¯ï¼Œç›´æ¥çœ‹åé¢çš„ä¾‹å­å†æ¥ç†è§£å®ƒä»¬ä¹Ÿå¯ä»¥) event loopå®ƒçš„æ‰§è¡Œé¡ºåºï¼š ä¸€å¼€å§‹æ•´ä¸ªè„šæœ¬ä½œä¸ºä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œ æ‰§è¡Œè¿‡ç¨‹ä¸­åŒæ­¥ä»£ç ç›´æ¥æ‰§è¡Œï¼Œå®ä»»åŠ¡è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¾®ä»»åŠ¡è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œå‡ºé˜Ÿï¼Œæ£€æŸ¥å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œæœ‰åˆ™ä¾æ¬¡æ‰§è¡Œï¼Œç›´åˆ°å…¨éƒ¨æ‰§è¡Œå®Œ æ‰§è¡Œæµè§ˆå™¨UIçº¿ç¨‹çš„æ¸²æŸ“å·¥ä½œ æ£€æŸ¥æ˜¯å¦æœ‰Web Workerä»»åŠ¡ï¼Œæœ‰åˆ™æ‰§è¡Œ æ‰§è¡Œå®Œæœ¬è½®çš„å®ä»»åŠ¡ï¼Œå›åˆ°2ï¼Œä¾æ­¤å¾ªç¯ï¼Œç›´åˆ°å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—éƒ½ä¸ºç©º å¾®ä»»åŠ¡åŒ…æ‹¬ï¼šMutationObserverã€Promise.then()æˆ–catch()ã€Promiseä¸ºåŸºç¡€å¼€å‘çš„å…¶å®ƒæŠ€æœ¯ï¼Œæ¯”å¦‚fetch APIã€V8çš„åƒåœ¾å›æ”¶è¿‡ç¨‹ã€Nodeç‹¬æœ‰çš„process.nextTickã€‚ å®ä»»åŠ¡åŒ…æ‹¬ï¼šscript ã€setTimeoutã€setInterval ã€setImmediate ã€I/O ã€UI renderingã€‚ æ³¨æ„âš ï¸ï¼šåœ¨æ‰€æœ‰ä»»åŠ¡å¼€å§‹çš„æ—¶å€™ï¼Œç”±äºå®ä»»åŠ¡ä¸­åŒ…æ‹¬äº†scriptï¼Œæ‰€ä»¥æµè§ˆå™¨ä¼šå…ˆæ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ çœ‹åˆ°çš„å»¶è¿Ÿä»»åŠ¡(ä¾‹å¦‚setTimeout)å°†è¢«æ”¾åˆ°ä¸‹ä¸€è½®å®ä»»åŠ¡ä¸­æ¥æ‰§è¡Œã€‚ 1. Promiseçš„å‡ é“åŸºç¡€é¢˜1.1 é¢˜ç›®ä¸€const promise1 = new Promise((resolve, reject) =&gt; { console.log('promise1') }) console.log('1', promise1); å¤åˆ¶ä»£ç  è¿‡ç¨‹åˆ†æï¼š ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­çš„ä»£ç promise1 ç„¶åæ‰§è¡ŒåŒæ­¥ä»£ç 1ï¼Œæ­¤æ—¶promise1æ²¡æœ‰è¢«resolveæˆ–è€…rejectï¼Œå› æ­¤çŠ¶æ€è¿˜æ˜¯pending ç»“æœï¼š 'promise1' '1' Promise{&lt;pending&gt;} å¤åˆ¶ä»£ç  1.2 é¢˜ç›®äºŒconst promise = new Promise((resolve, reject) =&gt; { console.log(1); resolve('success') console.log(2); }); promise.then(() =&gt; { console.log(3); }); console.log(4); å¤åˆ¶ä»£ç  è¿‡ç¨‹åˆ†æï¼š ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°new Promiseï¼Œæ‰§è¡Œå…¶ä¸­çš„åŒæ­¥ä»£ç 1 å†é‡åˆ°resolve('success')ï¼Œ å°†promiseçš„çŠ¶æ€æ”¹ä¸ºäº†resolvedå¹¶ä¸”å°†å€¼ä¿å­˜ä¸‹æ¥ ç»§ç»­æ‰§è¡ŒåŒæ­¥ä»£ç 2 è·³å‡ºpromiseï¼Œå¾€ä¸‹æ‰§è¡Œï¼Œç¢°åˆ°promise.thenè¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†å…¶åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— æ‰§è¡ŒåŒæ­¥ä»£ç 4 æœ¬è½®å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°promise.thenè¿™ä¸ªå¾®ä»»åŠ¡ä¸”çŠ¶æ€ä¸ºresolvedï¼Œæ‰§è¡Œå®ƒã€‚ ç»“æœï¼š 1 2 4 3 å¤åˆ¶ä»£ç  1.3 é¢˜ç›®ä¸‰const promise = new Promise((resolve, reject) =&gt; { console.log(1); console.log(2); }); promise.then(() =&gt; { console.log(3); }); console.log(4); å¤åˆ¶ä»£ç  è¿‡ç¨‹åˆ†æ å’Œé¢˜ç›®äºŒç›¸ä¼¼ï¼Œåªä¸è¿‡åœ¨promiseä¸­å¹¶æ²¡æœ‰resolveæˆ–è€…reject å› æ­¤promise.thenå¹¶ä¸ä¼šæ‰§è¡Œï¼Œå®ƒåªæœ‰åœ¨è¢«æ”¹å˜äº†çŠ¶æ€ä¹‹åæ‰ä¼šæ‰§è¡Œã€‚ ç»“æœï¼š 1 2 4 å¤åˆ¶ä»£ç  1.4 é¢˜ç›®å››const promise1 = new Promise((resolve, reject) =&gt; { console.log('promise1') resolve('resolve1') }) const promise2 = promise1.then(res =&gt; { console.log(res) }) console.log('1', promise1); console.log('2', promise2); å¤åˆ¶ä»£ç  è¿‡ç¨‹åˆ†æï¼š ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­çš„ä»£ç promise1 ç¢°åˆ°resolveå‡½æ•°, å°†promise1çš„çŠ¶æ€æ”¹å˜ä¸ºresolved, å¹¶å°†ç»“æœä¿å­˜ä¸‹æ¥ ç¢°åˆ°promise1.thenè¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†å®ƒæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— promise2æ˜¯ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸ºpendingçš„Promise æ‰§è¡ŒåŒæ­¥ä»£ç 1ï¼Œ åŒæ—¶æ‰“å°å‡ºpromise1çš„çŠ¶æ€æ˜¯resolved æ‰§è¡ŒåŒæ­¥ä»£ç 2ï¼ŒåŒæ—¶æ‰“å°å‡ºpromise2çš„çŠ¶æ€æ˜¯pending å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥æ‰¾å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°promise1.thenè¿™ä¸ªå¾®ä»»åŠ¡ä¸”çŠ¶æ€ä¸ºresolvedï¼Œæ‰§è¡Œå®ƒã€‚ ç»“æœï¼š 'promise1' '1' Promise{&lt;resolved&gt;: 'resolve1'} '2' Promise{&lt;pending&gt;} 'resolve1' å¤åˆ¶ä»£ç  1.5 é¢˜ç›®äº”æ¥ä¸‹æ¥çœ‹çœ‹è¿™é“é¢˜ï¼š const fn = () =&gt; (new Promise((resolve, reject) =&gt; { console.log(1); resolve('success') })) fn().then(res =&gt; { console.log(res) }) console.log('start') å¤åˆ¶ä»£ç  è¿™é“é¢˜é‡Œæœ€å…ˆæ‰§è¡Œçš„æ˜¯'start'å— ğŸ¤”ï¸ ï¼Ÿ è¯·ä»”ç»†çœ‹çœ‹å“¦ï¼Œfnå‡½æ•°å®ƒæ˜¯ç›´æ¥è¿”å›äº†ä¸€ä¸ªnew Promiseçš„ï¼Œè€Œä¸”fnå‡½æ•°çš„è°ƒç”¨æ˜¯åœ¨startä¹‹å‰ï¼Œæ‰€ä»¥å®ƒé‡Œé¢çš„å†…å®¹åº”è¯¥ä¼šå…ˆæ‰§è¡Œã€‚ ç»“æœï¼š 1 'start' 'success' å¤åˆ¶ä»£ç  1.6 é¢˜ç›®å…­å¦‚æœæŠŠfnçš„è°ƒç”¨æ”¾åˆ°startä¹‹åå‘¢ï¼Ÿ const fn = () =&gt; new Promise((resolve, reject) =&gt; { console.log(1); resolve(&quot;success&quot;); }); console.log(&quot;start&quot;); fn().then(res =&gt; { console.log(res); }); å¤åˆ¶ä»£ç  æ˜¯çš„ï¼Œç°åœ¨startå°±åœ¨1ä¹‹å‰æ‰“å°å‡ºæ¥äº†ï¼Œå› ä¸ºfnå‡½æ•°æ˜¯ä¹‹åæ‰§è¡Œçš„ã€‚ æ³¨æ„âš ï¸ï¼šä¹‹å‰æˆ‘ä»¬å¾ˆå®¹æ˜“å°±ä»¥ä¸ºçœ‹åˆ°new Promise()å°±æ‰§è¡Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°äº†ï¼Œå…¶å®è¿™æ˜¯ä¸å¯¹çš„ï¼Œå°±åƒè¿™ä¸¤é“é¢˜ä¸­ï¼Œæˆ‘ä»¬å¾—æ³¨æ„å®ƒæ˜¯ä¸æ˜¯è¢«åŒ…è£¹åœ¨å‡½æ•°å½“ä¸­ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œåªæœ‰åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œã€‚ ç­”æ¡ˆï¼š &quot;start&quot; 1 &quot;success&quot; å¤åˆ¶ä»£ç  å¥½å˜ï¼Œå­¦å®Œäº†è¿™å‡ é“åŸºç¡€é¢˜ï¼Œè®©æˆ‘ä»¬æ¥ç”¨ä¸ªè¡¨æƒ…åŒ…å‹å‹æƒŠã€‚ 2. Promiseç»“åˆsetTimeout2.1 é¢˜ç›®ä¸€console.log('start') setTimeout(() =&gt; { console.log('time') }) Promise.resolve().then(() =&gt; { console.log('resolve') }) console.log('end') å¤åˆ¶ä»£ç  è¿‡ç¨‹åˆ†æï¼š åˆšå¼€å§‹æ•´ä¸ªè„šæœ¬ä½œä¸ºä¸€ä¸ªå®ä»»åŠ¡æ¥æ‰§è¡Œï¼Œå¯¹äºåŒæ­¥ä»£ç ç›´æ¥å‹å…¥æ‰§è¡Œæ ˆè¿›è¡Œæ‰§è¡Œï¼Œå› æ­¤å…ˆæ‰“å°å‡ºstartå’Œendã€‚ setTimoutä½œä¸ºä¸€ä¸ªå®ä»»åŠ¡è¢«æ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—(ä¸‹ä¸€ä¸ª) Promise.thenä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— æœ¬æ¬¡å®ä»»åŠ¡æ‰§è¡Œå®Œï¼Œæ£€æŸ¥å¾®ä»»åŠ¡ï¼Œå‘ç°Promise.thenï¼Œæ‰§è¡Œå®ƒ æ¥ä¸‹æ¥è¿›å…¥ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå‘ç°setTimeoutï¼Œæ‰§è¡Œã€‚ ç»“æœï¼š 'start' 'end' 'resolve' 'time' å¤åˆ¶ä»£ç  2.2 é¢˜ç›®äºŒconst promise = new Promise((resolve, reject) =&gt; { console.log(1); setTimeout(() =&gt; { console.log(&quot;timerStart&quot;); resolve(&quot;success&quot;); console.log(&quot;timerEnd&quot;); }, 0); console.log(2); }); promise.then((res) =&gt; { console.log(res); }); console.log(4); å¤åˆ¶ä»£ç  è¿‡ç¨‹åˆ†æï¼š å’Œé¢˜ç›®1.2å¾ˆåƒï¼Œä¸è¿‡åœ¨resolveçš„å¤–å±‚åŠ äº†ä¸€å±‚setTimeoutå®šæ—¶å™¨ã€‚ ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°new Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­çš„ä»£ç 1 ç„¶åç¢°åˆ°äº†å®šæ—¶å™¨ï¼Œå°†è¿™ä¸ªå®šæ—¶å™¨ä¸­çš„å‡½æ•°æ”¾åˆ°ä¸‹ä¸€ä¸ªå®ä»»åŠ¡çš„å»¶è¿Ÿé˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œ æ‰§è¡ŒåŒæ­¥ä»£ç 2 è·³å‡ºpromiseå‡½æ•°ï¼Œé‡åˆ°promise.thenï¼Œä½†å…¶çŠ¶æ€è¿˜æ˜¯ä¸ºpendingï¼Œè¿™é‡Œç†è§£ä¸ºå…ˆä¸æ‰§è¡Œ æ‰§è¡ŒåŒæ­¥ä»£ç 4 ä¸€è½®å¾ªç¯è¿‡åï¼Œè¿›å…¥ç¬¬äºŒæ¬¡å®ä»»åŠ¡ï¼Œå‘ç°å»¶è¿Ÿé˜Ÿåˆ—ä¸­æœ‰setTimeoutå®šæ—¶å™¨ï¼Œæ‰§è¡Œå®ƒ é¦–å…ˆæ‰§è¡ŒtimerStartï¼Œç„¶åé‡åˆ°äº†resolveï¼Œå°†promiseçš„çŠ¶æ€æ”¹ä¸ºresolvedä¸”ä¿å­˜ç»“æœå¹¶å°†ä¹‹å‰çš„promise.thenæ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— ç»§ç»­æ‰§è¡ŒåŒæ­¥ä»£ç timerEnd å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥æ‰¾å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°promise.thenè¿™ä¸ªå¾®ä»»åŠ¡ï¼Œæ‰§è¡Œå®ƒã€‚ å› æ­¤æ‰§è¡Œç»“æœä¸ºï¼š 1 2 4 &quot;timerStart&quot; &quot;timerEnd&quot; &quot;success&quot; å¤åˆ¶ä»£ç  2.3 é¢˜ç›®ä¸‰é¢˜ç›®ä¸‰åˆ†äº†ä¸¤ä¸ªé¢˜ç›®ï¼Œå› ä¸ºçœ‹ç€éƒ½å·®ä¸å¤šï¼Œä¸è¿‡æ‰§è¡Œçš„ç»“æœå´ä¸ä¸€æ ·ï¼Œå¤§å®¶ä¸å¦¨å…ˆçŒœçŒœä¸‹é¢ä¸¤ä¸ªé¢˜ç›®åˆ†åˆ«æ‰§è¡Œä»€ä¹ˆï¼š (1): setTimeout(() =&gt; { console.log('timer1'); setTimeout(() =&gt; { console.log('timer3') }, 0) }, 0) setTimeout(() =&gt; { console.log('timer2') }, 0) console.log('start') å¤åˆ¶ä»£ç  (2): setTimeout(() =&gt; { console.log('timer1'); Promise.resolve().then(() =&gt; { console.log('promise') }) }, 0) setTimeout(() =&gt; { console.log('timer2') }, 0) console.log('start') å¤åˆ¶ä»£ç  æ‰§è¡Œç»“æœï¼š 'start' 'timer1' 'timer2' 'timer3' å¤åˆ¶ä»£ç  'start' 'timer1' 'promise' 'timer2' å¤åˆ¶ä»£ç  è¿™ä¸¤ä¸ªä¾‹å­ï¼Œçœ‹ç€å¥½åƒåªæ˜¯æŠŠç¬¬ä¸€ä¸ªå®šæ—¶å™¨ä¸­çš„å†…å®¹æ¢äº†ä¸€ä¸‹è€Œå·²ã€‚ ä¸€ä¸ªæ˜¯ä¸ºå®šæ—¶å™¨timer3ï¼Œä¸€ä¸ªæ˜¯ä¸ºPromise.then ä½†æ˜¯å¦‚æœæ˜¯å®šæ—¶å™¨timer3çš„è¯ï¼Œå®ƒä¼šåœ¨timer2åæ‰§è¡Œï¼Œè€ŒPromise.thenå´æ˜¯åœ¨timer2ä¹‹å‰æ‰§è¡Œã€‚ ä½ å¯ä»¥è¿™æ ·ç†è§£ï¼ŒPromise.thenæ˜¯å¾®ä»»åŠ¡ï¼Œå®ƒä¼šè¢«åŠ å…¥åˆ°æœ¬è½®ä¸­çš„å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œè€Œå®šæ—¶å™¨timer3æ˜¯å®ä»»åŠ¡ï¼Œå®ƒä¼šè¢«åŠ å…¥åˆ°ä¸‹ä¸€è½®çš„å®ä»»åŠ¡ä¸­ã€‚ ç†è§£å®Œè¿™ä¸¤ä¸ªæ¡ˆä¾‹ï¼Œå¯ä»¥æ¥çœ‹çœ‹ä¸‹é¢ä¸€é“æ¯”è¾ƒéš¾çš„é¢˜ç›®äº†ã€‚ 2.3 é¢˜ç›®ä¸‰Promise.resolve().then(() =&gt; { console.log('promise1'); const timer2 = setTimeout(() =&gt; { console.log('timer2') }, 0) }); const timer1 = setTimeout(() =&gt; { console.log('timer1') Promise.resolve().then(() =&gt; { console.log('promise2') }) }, 0) console.log('start'); å¤åˆ¶ä»£ç  è¿™é“é¢˜ç¨å¾®çš„éš¾ä¸€äº›ï¼Œåœ¨promiseä¸­æ‰§è¡Œå®šæ—¶å™¨ï¼Œåˆåœ¨å®šæ—¶å™¨ä¸­æ‰§è¡Œpromiseï¼› å¹¶ä¸”è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„Promiseæ˜¯ç›´æ¥resolveçš„ï¼Œè€Œä¹‹å‰çš„new Promiseä¸ä¸€æ ·ã€‚ (å·å·å‘Šè¯‰ä½ ï¼Œè¿™é“é¢˜å¾€ä¸‹ä¸€ç‚¹æœ‰æµç¨‹å›¾) å› æ­¤è¿‡ç¨‹åˆ†æä¸ºï¼š åˆšå¼€å§‹æ•´ä¸ªè„šæœ¬ä½œä¸ºç¬¬ä¸€æ¬¡å®ä»»åŠ¡æ¥æ‰§è¡Œï¼Œæˆ‘ä»¬å°†å®ƒæ ‡è®°ä¸ºå®1ï¼Œä»ä¸Šè‡³ä¸‹æ‰§è¡Œ é‡åˆ°Promise.resolve().thenè¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†thenä¸­çš„å†…å®¹åŠ å…¥ç¬¬ä¸€æ¬¡çš„å¾®ä»»åŠ¡é˜Ÿåˆ—æ ‡è®°ä¸ºå¾®1 é‡åˆ°å®šæ—¶å™¨timer1ï¼Œå°†å®ƒåŠ å…¥ä¸‹ä¸€æ¬¡å®ä»»åŠ¡çš„å»¶è¿Ÿåˆ—è¡¨ï¼Œæ ‡è®°ä¸ºå®2ï¼Œç­‰å¾…æ‰§è¡Œ(å…ˆä¸ç®¡é‡Œé¢æ˜¯ä»€ä¹ˆå†…å®¹) æ‰§è¡Œå®1ä¸­çš„åŒæ­¥ä»£ç start ç¬¬ä¸€æ¬¡å®ä»»åŠ¡(å®1)æ‰§è¡Œå®Œæ¯•ï¼Œæ£€æŸ¥ç¬¬ä¸€æ¬¡çš„å¾®ä»»åŠ¡é˜Ÿåˆ—(å¾®1)ï¼Œå‘ç°æœ‰ä¸€ä¸ªpromise.thenè¿™ä¸ªå¾®ä»»åŠ¡éœ€è¦æ‰§è¡Œ æ‰§è¡Œæ‰“å°å‡ºå¾®1ä¸­åŒæ­¥ä»£ç promise1ï¼Œç„¶åå‘ç°å®šæ—¶å™¨timer2ï¼Œå°†å®ƒåŠ å…¥å®2çš„åé¢ï¼Œæ ‡è®°ä¸ºå®3 ç¬¬ä¸€æ¬¡å¾®ä»»åŠ¡é˜Ÿåˆ—(å¾®1)æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œç¬¬äºŒæ¬¡å®ä»»åŠ¡(å®2)ï¼Œé¦–å…ˆæ‰§è¡ŒåŒæ­¥ä»£ç timer1 ç„¶åé‡åˆ°äº†promise2è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†å®ƒåŠ å…¥æ­¤æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ ‡è®°ä¸ºå¾®2 å®2ä¸­æ²¡æœ‰åŒæ­¥ä»£ç å¯æ‰§è¡Œäº†ï¼ŒæŸ¥æ‰¾æœ¬æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡é˜Ÿåˆ—(å¾®2)ï¼Œå‘ç°äº†promise2ï¼Œæ‰§è¡Œå®ƒ ç¬¬äºŒè½®æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œå®3ï¼Œæ‰“å°å‡ºtimer2 æ‰€ä»¥ç»“æœä¸ºï¼š 'start' 'promise1' 'timer1' 'promise2' 'timer2' å¤åˆ¶ä»£ç  å¦‚æœæ„Ÿè§‰æœ‰ç‚¹ç»•çš„è¯ï¼Œå¯ä»¥çœ‹ä¸‹é¢è¿™å¼ å›¾ï¼Œå°±ä¸€ç›®äº†ç„¶äº†ã€‚ ![](https://juejin.im/post/data:image/svg+xml;utf8,) 2.4 é¢˜ç›®å››const promise1 = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve('success') }, 1000) }) const promise2 = promise1.then(() =&gt; { throw new Error('error!!!') }) console.log('promise1', promise1) console.log('promise2', promise2) setTimeout(() =&gt; { console.log('promise1', promise1) console.log('promise2', promise2) }, 2000) å¤åˆ¶ä»£ç  è¿‡ç¨‹åˆ†æï¼š ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆæ‰§è¡Œç¬¬ä¸€ä¸ªnew Promiseä¸­çš„å‡½æ•°ï¼Œç¢°åˆ°setTimeoutå°†å®ƒåŠ å…¥ä¸‹ä¸€ä¸ªå®ä»»åŠ¡åˆ—è¡¨ è·³å‡ºnew Promiseï¼Œç¢°åˆ°promise1.thenè¿™ä¸ªå¾®ä»»åŠ¡ï¼Œä½†å…¶çŠ¶æ€è¿˜æ˜¯ä¸ºpendingï¼Œè¿™é‡Œç†è§£ä¸ºå…ˆä¸æ‰§è¡Œ promise2æ˜¯ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸ºpendingçš„Promise æ‰§è¡ŒåŒæ­¥ä»£ç console.log('promise1')ï¼Œä¸”æ‰“å°å‡ºçš„promise1çš„çŠ¶æ€ä¸ºpending æ‰§è¡ŒåŒæ­¥ä»£ç console.log('promise2')ï¼Œä¸”æ‰“å°å‡ºçš„promise2çš„çŠ¶æ€ä¸ºpending ç¢°åˆ°ç¬¬äºŒä¸ªå®šæ—¶å™¨ï¼Œå°†å…¶æ”¾å…¥ä¸‹ä¸€ä¸ªå®ä»»åŠ¡åˆ—è¡¨ ç¬¬ä¸€è½®å®ä»»åŠ¡æ‰§è¡Œç»“æŸï¼Œå¹¶ä¸”æ²¡æœ‰å¾®ä»»åŠ¡éœ€è¦æ‰§è¡Œï¼Œå› æ­¤æ‰§è¡Œç¬¬äºŒè½®å®ä»»åŠ¡ å…ˆæ‰§è¡Œç¬¬ä¸€ä¸ªå®šæ—¶å™¨é‡Œçš„å†…å®¹ï¼Œå°†promise1çš„çŠ¶æ€æ”¹ä¸ºresolvedä¸”ä¿å­˜ç»“æœå¹¶å°†ä¹‹å‰çš„promise1.thenæ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— è¯¥å®šæ—¶å™¨ä¸­æ²¡æœ‰å…¶å®ƒçš„åŒæ­¥ä»£ç å¯æ‰§è¡Œï¼Œå› æ­¤æ‰§è¡Œæœ¬è½®çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯promise1.thenï¼Œå®ƒæŠ›å‡ºäº†ä¸€ä¸ªé”™è¯¯ï¼Œä¸”å°†promise2çš„çŠ¶æ€è®¾ç½®ä¸ºäº†rejected ç¬¬ä¸€ä¸ªå®šæ—¶å™¨æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œç¬¬äºŒä¸ªå®šæ—¶å™¨ä¸­çš„å†…å®¹ æ‰“å°å‡º'promise1'ï¼Œä¸”æ­¤æ—¶promise1çš„çŠ¶æ€ä¸ºresolved æ‰“å°å‡º'promise2'ï¼Œä¸”æ­¤æ—¶promise2çš„çŠ¶æ€ä¸ºrejected å®Œæ•´çš„ç»“æœä¸ºï¼š 'promise1' Promise{&lt;pending&gt;} 'promise2' Promise{&lt;pending&gt;} test5.html:102 Uncaught (in promise) Error: error!!! at test.html:102 'promise1' Promise{&lt;resolved&gt;: &quot;success&quot;} 'promise2' Promise{&lt;rejected&gt;: Error: error!!!} å¤åˆ¶ä»£ç  2.5 é¢˜ç›®äº”å¦‚æœä½ ä¸Šé¢è¿™é“é¢˜ææ‡‚äº†ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥åšåšè¿™é“äº†ï¼Œä½ åº”è¯¥èƒ½å¾ˆå¿«å°±ç»™å‡ºç­”æ¡ˆï¼š const promise1 = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(&quot;success&quot;); console.log(&quot;timer1&quot;); }, 1000); console.log(&quot;promise1é‡Œçš„å†…å®¹&quot;); }); const promise2 = promise1.then(() =&gt; { throw new Error(&quot;error!!!&quot;); }); console.log(&quot;promise1&quot;, promise1); console.log(&quot;promise2&quot;, promise2); setTimeout(() =&gt; { console.log(&quot;timer2&quot;); console.log(&quot;promise1&quot;, promise1); console.log(&quot;promise2&quot;, promise2); }, 2000); å¤åˆ¶ä»£ç  ç»“æœï¼š 'promise1é‡Œçš„å†…å®¹' 'promise1' Promise{&lt;pending&gt;} 'promise2' Promise{&lt;pending&gt;} 'timer1' test5.html:102 Uncaught (in promise) Error: error!!! at test.html:102 'timer2' 'promise1' Promise{&lt;resolved&gt;: &quot;success&quot;} 'promise2' Promise{&lt;rejected&gt;: Error: error!!!} å¤åˆ¶ä»£ç  3. Promiseä¸­çš„thenã€catchã€finallyé¢ï¼Œå¯èƒ½ä½ çœ‹åˆ°ä¸‹é¢ğŸ‘‡è¿™ä¹ˆå¤šçš„1ï¼Œ2ï¼Œ3è„¾æ°”å°±ä¸Šæ¥äº†ï¼Œä¸æ˜¯è¯´å¥½äº†æœ¬ç¯‡æ–‡ç« æ²¡ä»€ä¹ˆå±è¯å˜›ï¼Œæ€ä¹ˆè¿˜æ˜¯è¿™ä¹ˆå¤šä¸€äºŒä¸‰å››ã€‚ ğŸ˜‚ï¼Œä½ è¦ç†è§£æˆ‘çš„ç”¨å¿ƒè‰¯è‹¦å•Šï¼Œæˆ‘è¿™æ˜¯å¸®ä½ æŠŠçŸ¥è¯†ç‚¹éƒ½åˆ—ä¸¾å‡ºæ¥ï¼Œåšä¸ªæ€»ç»“è€Œå·²ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å…ˆä¸çœ‹ï¼Œå…ˆå»åšåé¢çš„é¢˜ï¼Œç„¶åå†å›è¿‡å¤´æ¥çœ‹è¿™äº›ï¼Œä½ å°±è§‰å¾—è¿™äº›ç‚¹éƒ½å¥½å¥½æ‡‚å•Šï¼Œç”šè‡³éƒ½ä¸éœ€è¦è®°ã€‚ æ€»ç»“ï¼š Promiseçš„çŠ¶æ€ä¸€ç»æ”¹å˜å°±ä¸èƒ½å†æ”¹å˜ã€‚(è§3.1) .thenå’Œ.catchéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„Promiseã€‚(ä¸Šé¢çš„ğŸ‘†1.4è¯æ˜äº†) catchä¸ç®¡è¢«è¿æ¥åˆ°å“ªé‡Œï¼Œéƒ½èƒ½æ•è·ä¸Šå±‚æœªæ•æ‰è¿‡çš„é”™è¯¯ã€‚(è§3.2) åœ¨Promiseä¸­ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªé promise çš„å€¼éƒ½ä¼šè¢«åŒ…è£¹æˆ promise å¯¹è±¡ï¼Œä¾‹å¦‚return 2ä¼šè¢«åŒ…è£…ä¸ºreturn Promise.resolve(2)ã€‚ Promise çš„ .then æˆ–è€… .catch å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡, ä½†å¦‚æœPromiseå†…éƒ¨çš„çŠ¶æ€ä¸€ç»æ”¹å˜ï¼Œå¹¶ä¸”æœ‰äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåç»­æ¯æ¬¡è°ƒç”¨.thenæˆ–è€….catchçš„æ—¶å€™éƒ½ä¼šç›´æ¥æ‹¿åˆ°è¯¥å€¼ã€‚(è§3.5) .then æˆ–è€… .catch ä¸­ return ä¸€ä¸ª error å¯¹è±¡å¹¶ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œæ‰€ä»¥ä¸ä¼šè¢«åç»­çš„ .catch æ•è·ã€‚(è§3.6) .then æˆ– .catch è¿”å›çš„å€¼ä¸èƒ½æ˜¯ promise æœ¬èº«ï¼Œå¦åˆ™ä¼šé€ æˆæ­»å¾ªç¯ã€‚(è§3.7) .then æˆ–è€… .catch çš„å‚æ•°æœŸæœ›æ˜¯å‡½æ•°ï¼Œä¼ å…¥éå‡½æ•°åˆ™ä¼šå‘ç”Ÿå€¼é€ä¼ ã€‚(è§3.8) .thenæ–¹æ³•æ˜¯èƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°çš„ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¤„ç†æˆåŠŸçš„å‡½æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯å¤„ç†å¤±è´¥çš„å‡½æ•°ï¼Œå†æŸäº›æ—¶å€™ä½ å¯ä»¥è®¤ä¸ºcatchæ˜¯.thenç¬¬äºŒä¸ªå‚æ•°çš„ç®€ä¾¿å†™æ³•ã€‚(è§3.9) .finallyæ–¹æ³•ä¹Ÿæ˜¯è¿”å›ä¸€ä¸ªPromiseï¼Œä»–åœ¨Promiseç»“æŸçš„æ—¶å€™ï¼Œæ— è®ºç»“æœä¸ºresolvedè¿˜æ˜¯rejectedï¼Œéƒ½ä¼šæ‰§è¡Œé‡Œé¢çš„å›è°ƒå‡½æ•°ã€‚ 3.1 é¢˜ç›®ä¸€const promise = new Promise((resolve, reject) =&gt; { resolve(&quot;success1&quot;); reject(&quot;error&quot;); resolve(&quot;success2&quot;); }); promise .then(res =&gt; { console.log(&quot;then: &quot;, res); }).catch(err =&gt; { console.log(&quot;catch: &quot;, err); }) å¤åˆ¶ä»£ç  ç»“æœï¼š &quot;then: success1&quot; å¤åˆ¶ä»£ç  æ„é€ å‡½æ•°ä¸­çš„ resolve æˆ– reject åªæœ‰ç¬¬ä¸€æ¬¡æ‰§è¡Œæœ‰æ•ˆï¼Œå¤šæ¬¡è°ƒç”¨æ²¡æœ‰ä»»ä½•ä½œç”¨ ã€‚éªŒè¯äº†ç¬¬ä¸€ä¸ªç»“è®ºï¼ŒPromiseçš„çŠ¶æ€ä¸€ç»æ”¹å˜å°±ä¸èƒ½å†æ”¹å˜ã€‚ 3.2 é¢˜ç›®äºŒconst promise = new Promise((resolve, reject) =&gt; { reject(&quot;error&quot;); resolve(&quot;success2&quot;); }); promise .then(res =&gt; { console.log(&quot;then1: &quot;, res); }).then(res =&gt; { console.log(&quot;then2: &quot;, res); }).catch(err =&gt; { console.log(&quot;catch: &quot;, err); }).then(res =&gt; { console.log(&quot;then3: &quot;, res); }) å¤åˆ¶ä»£ç  ç»“æœï¼š &quot;catch: &quot; &quot;error&quot; &quot;then3: &quot; undefined å¤åˆ¶ä»£ç  éªŒè¯äº†ç¬¬ä¸‰ä¸ªç»“è®ºï¼Œcatchä¸ç®¡è¢«è¿æ¥åˆ°å“ªé‡Œï¼Œéƒ½èƒ½æ•è·ä¸Šå±‚æœªæ•æ‰è¿‡çš„é”™è¯¯ã€‚ è‡³äºthen3ä¹Ÿä¼šè¢«æ‰§è¡Œï¼Œé‚£æ˜¯å› ä¸ºcatch()ä¹Ÿä¼šè¿”å›ä¸€ä¸ªPromiseï¼Œä¸”ç”±äºè¿™ä¸ªPromiseæ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„æ˜¯undefinedã€‚ 3.3 é¢˜ç›®ä¸‰Promise.resolve(1) .then(res =&gt; { console.log(res); return 2; }) .catch(err =&gt; { return 3; }) .then(res =&gt; { console.log(res); }); å¤åˆ¶ä»£ç  ç»“æœï¼š 1 2 å¤åˆ¶ä»£ç  Promiseå¯ä»¥é“¾å¼è°ƒç”¨ï¼Œä¸è¿‡promise æ¯æ¬¡è°ƒç”¨ .then æˆ–è€… .catch éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ promiseï¼Œä»è€Œå®ç°äº†é“¾å¼è°ƒç”¨, å®ƒå¹¶ä¸åƒä¸€èˆ¬æˆ‘ä»¬ä»»åŠ¡çš„é“¾å¼è°ƒç”¨ä¸€æ ·return thisã€‚ ä¸Šé¢çš„è¾“å‡ºç»“æœä¹‹æ‰€ä»¥ä¾æ¬¡æ‰“å°å‡º1å’Œ2ï¼Œé‚£æ˜¯å› ä¸ºresolve(1)ä¹‹åèµ°çš„æ˜¯ç¬¬ä¸€ä¸ªthenæ–¹æ³•ï¼Œå¹¶æ²¡æœ‰èµ°catché‡Œï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªthenä¸­çš„reså¾—åˆ°çš„å®é™…ä¸Šæ˜¯ç¬¬ä¸€ä¸ªthençš„è¿”å›å€¼ã€‚ ä¸”return 2ä¼šè¢«åŒ…è£…æˆresolve(2)ã€‚ 3.4 é¢˜ç›®å››å¦‚æœæŠŠ3.3ä¸­çš„Promise.resolve(1)æ”¹ä¸ºPromise.reject(1)åˆä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ Promise.reject(1) .then(res =&gt; { console.log(res); return 2; }) .catch(err =&gt; { console.log(err); return 3 }) .then(res =&gt; { console.log(res); }); å¤åˆ¶ä»£ç  ç»“æœï¼š 1 3 å¤åˆ¶ä»£ç  ç»“æœæ‰“å°çš„å½“ç„¶æ˜¯ 1 å’Œ 3å•¦ï¼Œå› ä¸ºreject(1)æ­¤æ—¶èµ°çš„å°±æ˜¯catchï¼Œä¸”ç¬¬äºŒä¸ªthenä¸­çš„reså¾—åˆ°çš„å°±æ˜¯catchä¸­çš„è¿”å›å€¼ã€‚ 3.5 é¢˜ç›®äº”const promise = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { console.log('timer') resolve('success') }, 1000) }) const start = Date.now(); promise.then(res =&gt; { console.log(res, Date.now() - start) }) promise.then(res =&gt; { console.log(res, Date.now() - start) }) å¤åˆ¶ä»£ç  æ‰§è¡Œç»“æœï¼š 'timer' 'success' 1001 'success' 1002 å¤åˆ¶ä»£ç  å½“ç„¶ï¼Œå¦‚æœä½ è¶³å¤Ÿå¿«çš„è¯ï¼Œä¹Ÿå¯èƒ½ä¸¤ä¸ªéƒ½æ˜¯1001ã€‚ Promise çš„ .then æˆ–è€… .catch å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ï¼Œä½†è¿™é‡Œ Promise æ„é€ å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚æˆ–è€…è¯´ promise å†…éƒ¨çŠ¶æ€ä¸€ç»æ”¹å˜ï¼Œå¹¶ä¸”æœ‰äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåç»­æ¯æ¬¡è°ƒç”¨ .then æˆ–è€… .catch éƒ½ä¼šç›´æ¥æ‹¿åˆ°è¯¥å€¼ã€‚ 3.6 é¢˜ç›®å…­Promise.resolve().then(() =&gt; { return new Error('error!!!') }).then(res =&gt; { console.log(&quot;then: &quot;, res) }).catch(err =&gt; { console.log(&quot;catch: &quot;, err) }) å¤åˆ¶ä»£ç  çŒœçŒœè¿™é‡Œçš„ç»“æœè¾“å‡ºçš„æ˜¯ä»€ä¹ˆ ğŸ¤”ï¸ ï¼Ÿ ä½ å¯èƒ½æƒ³åˆ°çš„æ˜¯è¿›å…¥.catchç„¶åè¢«æ•è·äº†é”™è¯¯ã€‚ ç»“æœå¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œå®ƒèµ°çš„æ˜¯.thené‡Œé¢ï¼š &quot;then: &quot; &quot;Error: error!!!&quot; å¤åˆ¶ä»£ç  è¿™ä¹ŸéªŒè¯äº†ç¬¬4ç‚¹å’Œç¬¬6ç‚¹ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªé promise çš„å€¼éƒ½ä¼šè¢«åŒ…è£¹æˆ promise å¯¹è±¡ï¼Œå› æ­¤è¿™é‡Œçš„return new Error('error!!!')ä¹Ÿè¢«åŒ…è£¹æˆäº†return Promise.resolve(new Error('error!!!'))ã€‚ å½“ç„¶å¦‚æœä½ æŠ›å‡ºä¸€ä¸ªé”™è¯¯çš„è¯ï¼Œå¯ä»¥ç”¨ä¸‹é¢ğŸ‘‡ä¸¤çš„ä»»æ„ä¸€ç§ï¼š return Promise.reject(new Error('error!!!')); // or throw new Error('error!!!') å¤åˆ¶ä»£ç  3.7 é¢˜ç›®ä¸ƒconst promise = Promise.resolve().then(() =&gt; { return promise; }) promise.catch(console.err) å¤åˆ¶ä»£ç  .then æˆ– .catch è¿”å›çš„å€¼ä¸èƒ½æ˜¯ promise æœ¬èº«ï¼Œå¦åˆ™ä¼šé€ æˆæ­»å¾ªç¯ã€‚ å› æ­¤ç»“æœä¼šæŠ¥é”™ï¼š Uncaught (in promise) TypeError: Chaining cycle detected for promise #&lt;Promise&gt; å¤åˆ¶ä»£ç  3.8 é¢˜ç›®å…«Promise.resolve(1) .then(2) .then(Promise.resolve(3)) .then(console.log) å¤åˆ¶ä»£ç  è¿™é“é¢˜çœ‹ç€å¥½åƒå¾ˆç®€å•ï¼Œåˆæ„Ÿè§‰å¾ˆå¤æ‚çš„æ ·å­ï¼Œæ€ä¹ˆè¿™ä¹ˆå¤šä¸ª.thenå•Šâ€¦ ğŸ˜… å…¶å®ä½ åªè¦è®°ä½åŸåˆ™8ï¼š.then æˆ–è€… .catch çš„å‚æ•°æœŸæœ›æ˜¯å‡½æ•°ï¼Œä¼ å…¥éå‡½æ•°åˆ™ä¼šå‘ç”Ÿå€¼é€ä¼ ã€‚ ç¬¬ä¸€ä¸ªthenå’Œç¬¬äºŒä¸ªthenä¸­ä¼ å…¥çš„éƒ½ä¸æ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯æ•°å­—ç±»å‹ï¼Œä¸€ä¸ªæ˜¯å¯¹è±¡ç±»å‹ï¼Œå› æ­¤å‘ç”Ÿäº†é€ä¼ ï¼Œå°†resolve(1) çš„å€¼ç›´æ¥ä¼ åˆ°æœ€åä¸€ä¸ªthené‡Œã€‚ æ‰€ä»¥è¾“å‡ºç»“æœä¸ºï¼š 1 å¤åˆ¶ä»£ç  3.9 é¢˜ç›®ä¹ä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹.thenå‡½æ•°ä¸­çš„ä¸¤ä¸ªå‚æ•°ã€‚ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨æ¥å¤„ç†PromiseæˆåŠŸçš„å‡½æ•°ï¼Œç¬¬äºŒä¸ªåˆ™æ˜¯å¤„ç†å¤±è´¥çš„å‡½æ•°ã€‚ ä¹Ÿå°±æ˜¯è¯´Promise.resolve('1')çš„å€¼ä¼šè¿›å…¥æˆåŠŸçš„å‡½æ•°ï¼ŒPromise.reject('2')çš„å€¼ä¼šè¿›å…¥å¤±è´¥çš„å‡½æ•°ã€‚ è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­ğŸŒ°ï¼š Promise.reject('err!!!') .then((res) =&gt; { console.log('success', res) }, (err) =&gt; { console.log('error', err) }).catch(err =&gt; { console.log('catch', err) }) å¤åˆ¶ä»£ç  è¿™é‡Œçš„æ‰§è¡Œç»“æœæ˜¯ï¼š 'error' 'error!!!' å¤åˆ¶ä»£ç  å®ƒè¿›å…¥çš„æ˜¯then()ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°é‡Œé¢ï¼Œè€Œå¦‚æœæŠŠç¬¬äºŒä¸ªå‚æ•°å»æ‰ï¼Œå°±è¿›å…¥äº†catch()ä¸­ï¼š Promise.reject('err!!!') .then((res) =&gt; { console.log('success', res) }).catch(err =&gt; { console.log('catch', err) }) å¤åˆ¶ä»£ç  æ‰§è¡Œç»“æœï¼š 'catch' 'error!!!' å¤åˆ¶ä»£ç  ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ˜¯è¿™ä¸ªæ¡ˆä¾‹å‘¢ï¼Ÿ Promise.resolve() .then(function success (res) { throw new Error('error!!!') }, function fail1 (err) { console.log('fail1', err) }).catch(function fail2 (err) { console.log('fail2', err) }) å¤åˆ¶ä»£ç  ç”±äºPromiseè°ƒç”¨çš„æ˜¯resolve()ï¼Œå› æ­¤.then()æ‰§è¡Œçš„åº”è¯¥æ˜¯success()å‡½æ•°ï¼Œå¯æ˜¯success()å‡½æ•°æŠ›å‡ºçš„æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œå®ƒä¼šè¢«åé¢çš„catch()ç»™æ•è·åˆ°ï¼Œè€Œä¸æ˜¯è¢«fail1å‡½æ•°æ•è·ã€‚ å› æ­¤æ‰§è¡Œç»“æœä¸ºï¼š fail2 Error: error!!! at success å¤åˆ¶ä»£ç  3.10 é¢˜ç›®åæ¥ç€æ¥çœ‹çœ‹.finally()ï¼Œè¿™ä¸ªåŠŸèƒ½ä¸€èˆ¬ä¸å¤ªç”¨åœ¨é¢è¯•ä¸­ï¼Œä¸è¿‡å¦‚æœç¢°åˆ°äº†ä½ ä¹Ÿåº”è¯¥çŸ¥é“è¯¥å¦‚ä½•å¤„ç†ã€‚ å…¶å®ä½ åªè¦è®°ä½å®ƒä¸‰ä¸ªå¾ˆé‡è¦çš„çŸ¥è¯†ç‚¹å°±å¯ä»¥äº†ï¼š .finally()æ–¹æ³•ä¸ç®¡Promiseå¯¹è±¡æœ€åçš„çŠ¶æ€å¦‚ä½•éƒ½ä¼šæ‰§è¡Œ .finally()æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ åœ¨.finally()å‡½æ•°ä¸­æ˜¯æ²¡æ³•çŸ¥é“Promiseæœ€ç»ˆçš„çŠ¶æ€æ˜¯resolvedè¿˜æ˜¯rejectedçš„ å®ƒæœ€ç»ˆè¿”å›çš„é»˜è®¤ä¼šæ˜¯ä¸€ä¸ªä¸Šä¸€æ¬¡çš„Promiseå¯¹è±¡å€¼ï¼Œä¸è¿‡å¦‚æœæŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸åˆ™è¿”å›å¼‚å¸¸çš„Promiseå¯¹è±¡ã€‚ æ¥çœ‹çœ‹è¿™ä¸ªç®€å•çš„ä¾‹å­ğŸŒ°ï¼š Promise.resolve('1') .then(res =&gt; { console.log(res) }) .finally(() =&gt; { console.log('finally') }) Promise.resolve('2') .finally(() =&gt; { console.log('finally2') return 'æˆ‘æ˜¯finally2è¿”å›çš„å€¼' }) .then(res =&gt; { console.log('finally2åé¢çš„thenå‡½æ•°', res) }) å¤åˆ¶ä»£ç  è¿™ä¸¤ä¸ªPromiseçš„.finallyéƒ½ä¼šæ‰§è¡Œï¼Œä¸”å°±ç®—finally2è¿”å›äº†æ–°çš„å€¼ï¼Œå®ƒåé¢çš„then()å‡½æ•°æ¥æ”¶åˆ°çš„ç»“æœå´è¿˜æ˜¯'2'ï¼Œå› æ­¤æ‰“å°ç»“æœä¸ºï¼š '1' 'finally2' 'finally' 'finally2åé¢çš„thenå‡½æ•°' '2' å¤åˆ¶ä»£ç  è‡³äºä¸ºä»€ä¹ˆfinally2çš„æ‰“å°è¦åœ¨finallyå‰é¢ï¼Œè¯·çœ‹ä¸‹ä¸€ä¸ªä¾‹å­ä¸­çš„è§£æã€‚ ä¸è¿‡åœ¨æ­¤ä¹‹å‰è®©æˆ‘ä»¬å†æ¥ç¡®è®¤ä¸€ä¸‹ï¼Œfinallyä¸­è¦æ˜¯æŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸æ˜¯æ€æ ·çš„ï¼š Promise.resolve('1') .finally(() =&gt; { console.log('finally1') throw new Error('æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸') }) .then(res =&gt; { console.log('finallyåé¢çš„thenå‡½æ•°', res) }) .catch(err =&gt; { console.log('æ•è·é”™è¯¯', err) }) å¤åˆ¶ä»£ç  æ‰§è¡Œç»“æœä¸ºï¼š 'finally1' 'æ•è·é”™è¯¯' Error: æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸ å¤åˆ¶ä»£ç  ä½†æ˜¯å¦‚æœæ”¹ä¸ºreturn new Error('æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸')ï¼Œæ‰“å°å‡ºæ¥çš„å°±æ˜¯'finallyåé¢çš„thenå‡½æ•° 1' OKï¼ŒğŸ‘Œï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ¯”è¾ƒéš¾çš„ä¾‹å­ğŸŒ°ï¼š function promise1 () { let p = new Promise((resolve) =&gt; { console.log('promise1'); resolve('1') }) return p; } function promise2 () { return new Promise((resolve, reject) =&gt; { reject('error') }) } promise1() .then(res =&gt; console.log(res)) .catch(err =&gt; console.log(err)) .finally(() =&gt; console.log('finally1')) promise2() .then(res =&gt; console.log(res)) .catch(err =&gt; console.log(err)) .finally(() =&gt; console.log('finally2')) å¤åˆ¶ä»£ç  æ‰§è¡Œè¿‡ç¨‹ï¼š é¦–å…ˆå®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°promise1å’Œpromise2ï¼Œå…ˆä¸ç®¡æ¥ç€å¾€ä¸‹çœ‹ã€‚ promise1å‡½æ•°å…ˆè¢«è°ƒç”¨äº†ï¼Œç„¶åæ‰§è¡Œé‡Œé¢new Promiseçš„åŒæ­¥ä»£ç æ‰“å°å‡ºpromise1 ä¹‹åé‡åˆ°äº†resolve(1)ï¼Œå°†pçš„çŠ¶æ€æ”¹ä¸ºäº†resolvedå¹¶å°†ç»“æœä¿å­˜ä¸‹æ¥ã€‚ æ­¤æ—¶promise1å†…çš„å‡½æ•°å†…å®¹å·²ç»æ‰§è¡Œå®Œäº†ï¼Œè·³å‡ºè¯¥å‡½æ•° ç¢°åˆ°äº†promise1().then()ï¼Œç”±äºpromise1çš„çŠ¶æ€å·²ç»å‘ç”Ÿäº†æ”¹å˜ä¸”ä¸ºresolvedå› æ­¤å°†promise1().then()è¿™æ¡å¾®ä»»åŠ¡åŠ å…¥æœ¬è½®çš„å¾®ä»»åŠ¡åˆ—è¡¨(è¿™æ˜¯ç¬¬ä¸€ä¸ªå¾®ä»»åŠ¡) è¿™æ—¶å€™è¦æ³¨æ„äº†ï¼Œä»£ç å¹¶ä¸ä¼šæ¥ç€å¾€é“¾å¼è°ƒç”¨çš„ä¸‹é¢èµ°ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šå…ˆå°†.finallyåŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œé‚£æ˜¯å› ä¸º.thenæœ¬èº«å°±æ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œå®ƒé“¾å¼åé¢çš„å†…å®¹å¿…é¡»å¾—ç­‰å½“å‰è¿™ä¸ªå¾®ä»»åŠ¡æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬å…ˆä¸ç®¡.finally() å†å¾€ä¸‹èµ°ç¢°åˆ°äº†promise2()å‡½æ•°ï¼Œå…¶ä¸­è¿”å›çš„new Promiseä¸­å¹¶æ²¡æœ‰åŒæ­¥ä»£ç éœ€è¦æ‰§è¡Œï¼Œæ‰€ä»¥æ‰§è¡Œreject('error')çš„æ—¶å€™å°†promise2å‡½æ•°ä¸­çš„Promiseçš„çŠ¶æ€å˜ä¸ºäº†rejected è·³å‡ºpromise2å‡½æ•°ï¼Œé‡åˆ°äº†promise2().catch()ï¼Œå°†å…¶åŠ å…¥å½“å‰çš„å¾®ä»»åŠ¡é˜Ÿåˆ—(è¿™æ˜¯ç¬¬äºŒä¸ªå¾®ä»»åŠ¡)ï¼Œä¸”é“¾å¼è°ƒç”¨åé¢çš„å†…å®¹å¾—ç­‰è¯¥ä»»åŠ¡æ‰§è¡Œå®Œåæ‰æ‰§è¡Œï¼Œå’Œ.then()ä¸€æ ·ã€‚ OKï¼Œ æœ¬è½®çš„å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œäº†ï¼Œæ¥çœ‹çœ‹å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œå­˜åœ¨promise1().then()ï¼Œæ‰§è¡Œå®ƒï¼Œæ‰“å°å‡º1ï¼Œç„¶åé‡åˆ°äº†.finally()è¿™ä¸ªå¾®ä»»åŠ¡å°†å®ƒåŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨(è¿™æ˜¯ç¬¬ä¸‰ä¸ªå¾®ä»»åŠ¡)ç­‰å¾…æ‰§è¡Œ å†æ‰§è¡Œpromise2().catch()æ‰“å°å‡ºerrorï¼Œæ‰§è¡Œå®Œåå°†finally2åŠ å…¥å¾®ä»»åŠ¡åŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨(è¿™æ˜¯ç¬¬å››ä¸ªå¾®ä»»åŠ¡) OKï¼Œ æœ¬è½®åˆå…¨éƒ¨æ‰§è¡Œå®Œäº†ï¼Œä½†æ˜¯å¾®ä»»åŠ¡åˆ—è¡¨è¿˜æœ‰ä¸¤ä¸ªæ–°çš„å¾®ä»»åŠ¡æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå› æ­¤ä¾æ¬¡æ‰§è¡Œfinally1å’Œfinally2ã€‚ ç»“æœï¼š 'promise1' '1' 'error' 'finally1' 'finally2' å¤åˆ¶ä»£ç  åœ¨è¿™é“é¢˜ä¸­å…¶å®èƒ½æ‹“å±•çš„ä¸œè¥¿æŒºå¤šçš„ï¼Œä¹‹å‰æ²¡æœ‰æåˆ°ï¼Œé‚£å°±æ˜¯ä½ å¯ä»¥ç†è§£ä¸ºé“¾å¼è°ƒç”¨åé¢çš„å†…å®¹éœ€è¦ç­‰å‰ä¸€ä¸ªè°ƒç”¨æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œã€‚ å°±åƒæ˜¯è¿™é‡Œçš„finally()ä¼šç­‰promise1().then()æ‰§è¡Œå®Œæ‰ä¼šå°†finally()åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå…¶å®å¦‚æœè¿™é“é¢˜ä¸­ä½ æŠŠfinally()æ¢æˆæ˜¯then()ä¹Ÿæ˜¯è¿™æ ·çš„: function promise1 () { let p = new Promise((resolve) =&gt; { console.log('promise1'); resolve('1') }) return p; } function promise2 () { return new Promise((resolve, reject) =&gt; { reject('error') }) } promise1() .then(res =&gt; console.log(res)) .catch(err =&gt; console.log(err)) .then(() =&gt; console.log('finally1')) promise2() .then(res =&gt; console.log(res)) .catch(err =&gt; console.log(err)) .then(() =&gt; console.log('finally2')) å¤åˆ¶ä»£ç  4. Promiseä¸­çš„allå’Œraceåœ¨åšä¸‹é¢ğŸ‘‡çš„é¢˜ç›®ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹Promise.all()å’ŒPromise.race()çš„ç”¨æ³•ã€‚ é€šä¿—æ¥è¯´ï¼Œ.all()çš„ä½œç”¨æ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåæ‰æ‰§è¡Œå›è°ƒã€‚ .race()çš„ä½œç”¨ä¹Ÿæ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œåªä¿ç•™å–ç¬¬ä¸€ä¸ªæ‰§è¡Œå®Œæˆçš„å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå…¶ä»–çš„æ–¹æ³•ä»åœ¨æ‰§è¡Œï¼Œä¸è¿‡æ‰§è¡Œç»“æœä¼šè¢«æŠ›å¼ƒã€‚ æ¥çœ‹çœ‹é¢˜ç›®ä¸€ã€‚ 4.1 é¢˜ç›®ä¸€æˆ‘ä»¬çŸ¥é“å¦‚æœç›´æ¥åœ¨è„šæœ¬æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªPromiseï¼Œå®ƒæ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¼šç«‹å³æ‰§è¡Œçš„ï¼Œå°±åƒè¿™æ ·ï¼š const p1 = new Promise(r =&gt; console.log('ç«‹å³æ‰“å°')) å¤åˆ¶ä»£ç  æ§åˆ¶å°ä¸­ä¼šç«‹å³æ‰“å°å‡º â€œç«‹å³æ‰“å°â€ã€‚ å› æ­¤ä¸ºäº†æ§åˆ¶å®ƒä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå‡½æ•°åŒ…è£¹ç€å®ƒï¼Œåœ¨éœ€è¦å®ƒæ‰§è¡Œçš„æ—¶å€™ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°å°±å¯ä»¥äº†ï¼š function runP1 () { const p1 = new Promise(r =&gt; console.log('ç«‹å³æ‰“å°')) return p1 } runP1() // è°ƒç”¨æ­¤å‡½æ•°æ—¶æ‰æ‰§è¡Œ å¤åˆ¶ä»£ç  OK ğŸ‘Œï¼Œ è®©æˆ‘ä»¬å›å½’æ­£é¢˜ã€‚ ç°åœ¨æ¥æ„å»ºè¿™ä¹ˆä¸€ä¸ªå‡½æ•°ï¼š function runAsync (x) { const p = new Promise(r =&gt; setTimeout(() =&gt; r(x, console.log(x)), 1000)) return p } å¤åˆ¶ä»£ç  è¯¥å‡½æ•°ä¼ å…¥ä¸€ä¸ªå€¼xï¼Œç„¶åé—´éš”ä¸€ç§’åæ‰“å°å‡ºè¿™ä¸ªxã€‚ å¦‚æœæˆ‘ç”¨.all()æ¥æ‰§è¡Œå®ƒä¼šæ€æ ·å‘¢ï¼Ÿ function runAsync (x) { const p = new Promise(r =&gt; setTimeout(() =&gt; r(x, console.log(x)), 1000)) return p } Promise.all([runAsync(1), runAsync(2), runAsync(3)]) .then(res =&gt; console.log(res)) å¤åˆ¶ä»£ç  å…ˆæ¥æƒ³æƒ³æ­¤æ®µä»£ç åœ¨æµè§ˆå™¨ä¸­ä¼šå¦‚ä½•æ‰§è¡Œï¼Ÿ æ²¡é”™ï¼Œå½“ä½ æ‰“å¼€é¡µé¢çš„æ—¶å€™ï¼Œåœ¨é—´éš”ä¸€ç§’åï¼Œæ§åˆ¶å°ä¼šåŒæ—¶æ‰“å°å‡º1, 2, 3ï¼Œè¿˜æœ‰ä¸€ä¸ªæ•°ç»„[1, 2, 3]ã€‚ 1 2 3 [1, 2, 3] å¤åˆ¶ä»£ç  æ‰€ä»¥ä½ ç°åœ¨èƒ½ç†è§£è¿™å¥è¯çš„æ„æ€äº†å—ï¼šæœ‰äº†allï¼Œä½ å°±å¯ä»¥å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªå›è°ƒä¸­å¤„ç†æ‰€æœ‰çš„è¿”å›æ•°æ®ã€‚ .all()åé¢çš„.then()é‡Œçš„å›è°ƒå‡½æ•°æ¥æ”¶çš„å°±æ˜¯æ‰€æœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚ è€Œä¸”è¿™ä¸ªç»“æœä¸­æ•°ç»„çš„é¡ºåºå’ŒPromise.all()æ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºä¸€è‡´ï¼ï¼ï¼ æœ‰ä¸€ä¸ªåœºæ™¯æ˜¯å¾ˆé€‚åˆç”¨è¿™ä¸ªçš„ï¼Œä¸€äº›æ¸¸æˆç±»çš„ç´ ææ¯”è¾ƒå¤šçš„åº”ç”¨ï¼Œæ‰“å¼€ç½‘é¡µæ—¶ï¼Œé¢„å…ˆåŠ è½½éœ€è¦ç”¨åˆ°çš„å„ç§èµ„æºå¦‚å›¾ç‰‡ã€flashä»¥åŠå„ç§é™æ€æ–‡ä»¶ã€‚æ‰€æœ‰çš„éƒ½åŠ è½½å®Œåï¼Œæˆ‘ä»¬å†è¿›è¡Œé¡µé¢çš„åˆå§‹åŒ–ã€‚ 4.2 é¢˜ç›®äºŒæˆ‘æ–°å¢äº†ä¸€ä¸ªrunRejectå‡½æ•°ï¼Œå®ƒç”¨æ¥åœ¨1000 * xç§’årejectä¸€ä¸ªé”™è¯¯ã€‚ åŒæ—¶.catch()å‡½æ•°èƒ½å¤Ÿæ•è·åˆ°.all()é‡Œæœ€å…ˆçš„é‚£ä¸ªå¼‚å¸¸ï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚ æƒ³æƒ³è¿™é“é¢˜ä¼šæ€æ ·æ‰§è¡Œå‘¢ ğŸ¤”ï¸ï¼Ÿ function runAsync (x) { const p = new Promise(r =&gt; setTimeout(() =&gt; r(x, console.log(x)), 1000)) return p } function runReject (x) { const p = new Promise((res, rej) =&gt; setTimeout(() =&gt; rej(`Error: ${x}`, console.log(x)), 1000 * x)) return p } Promise.all([runAsync(1), runReject(4), runAsync(3), runReject(2)]) .then(res =&gt; console.log(res)) .catch(err =&gt; console.log(err)) å¤åˆ¶ä»£ç  ä¸å–å…³å­äº† ğŸ˜ï¼Œè®©æˆ‘æ¥å…¬å¸ƒç­”æ¡ˆï¼š // 1såè¾“å‡º 1 3 // 2såè¾“å‡º 2 Error: 2 // 4såè¾“å‡º 4 å¤åˆ¶ä»£ç  æ²¡é”™ï¼Œå°±åƒæˆ‘ä¹‹å‰è¯´çš„ï¼Œ.catchæ˜¯ä¼šæ•è·æœ€å…ˆçš„é‚£ä¸ªå¼‚å¸¸ï¼Œåœ¨è¿™é“é¢˜ç›®ä¸­æœ€å…ˆçš„å¼‚å¸¸å°±æ˜¯runReject(2)çš„ç»“æœã€‚ å¦å¤–ï¼Œå¦‚æœä¸€ç»„å¼‚æ­¥æ“ä½œä¸­æœ‰ä¸€ä¸ªå¼‚å¸¸éƒ½ä¸ä¼šè¿›å…¥.then()çš„ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°å‚æ•°ä¸­ã€‚ æ³¨æ„ï¼Œä¸ºä»€ä¹ˆä¸è¯´æ˜¯ä¸è¿›å…¥.then()ä¸­å‘¢ ğŸ¤”ï¸ï¼Ÿ å“ˆå“ˆï¼Œå¤§å®¶åˆ«å¿˜äº†.then()æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ˜¯å¯ä»¥æ•è·é”™è¯¯çš„ï¼š Promise.all([runAsync(1), runReject(4), runAsync(3), runReject(2)]) .then(res =&gt; console.log(res), err =&gt; console.log(err)) å¤åˆ¶ä»£ç  4.3 é¢˜ç›®ä¸‰æ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹å¦ä¸€ä¸ªæœ‰è¶£çš„æ–¹æ³•.raceã€‚ è®©æˆ‘çœ‹çœ‹ä½ ä»¬çš„è‹±è¯­æ°´å¹³å¦‚ä½•ï¼Ÿ å¿«ï¼ä¸€ç§’é’Ÿå‘Šè¯‰æˆ‘raceæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ ![](https://juejin.im/post/data:image/svg+xml;utf8,) å¥½å§â€¦ä½ ä»¬æœç„¶å¾ˆå¼ºâ€¦ raceï¼Œæ¯”èµ›ï¼Œèµ›è·‘çš„æ„æ€ã€‚ æ‰€ä»¥ä½¿ç”¨.race()æ–¹æ³•ï¼Œå®ƒåªä¼šè·å–æœ€å…ˆæ‰§è¡Œå®Œæˆçš„é‚£ä¸ªç»“æœï¼Œå…¶å®ƒçš„å¼‚æ­¥ä»»åŠ¡è™½ç„¶ä¹Ÿä¼šç»§ç»­è¿›è¡Œä¸‹å»ï¼Œä¸è¿‡raceå·²ç»ä¸ç®¡é‚£äº›ä»»åŠ¡çš„ç»“æœäº†ã€‚ æ¥ï¼Œæ”¹é€ ä¸€ä¸‹4.1è¿™é“é¢˜ï¼š function runAsync (x) { const p = new Promise(r =&gt; setTimeout(() =&gt; r(x, console.log(x)), 1000)) return p } Promise.race([runAsync(1), runAsync(2), runAsync(3)]) .then(res =&gt; console.log('result: ', res)) .catch(err =&gt; console.log(err)) å¤åˆ¶ä»£ç  æ‰§è¡Œç»“æœä¸ºï¼š 1 'result: ' 1 2 3 å¤åˆ¶ä»£ç  è¿™ä¸ªraceæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿä½¿ç”¨åœºæ™¯è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç”¨raceç»™æŸä¸ªå¼‚æ­¥è¯·æ±‚è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¹¶ä¸”åœ¨è¶…æ—¶åæ‰§è¡Œç›¸åº”çš„æ“ä½œ 4.4 é¢˜ç›®å››æ”¹é€ ä¸€ä¸‹é¢˜ç›®4.2ï¼š function runAsync(x) { const p = new Promise(r =&gt; setTimeout(() =&gt; r(x, console.log(x)), 1000) ); return p; } function runReject(x) { const p = new Promise((res, rej) =&gt; setTimeout(() =&gt; rej(`Error: ${x}`, console.log(x)), 1000 * x) ); return p; } Promise.race([runReject(0), runAsync(1), runAsync(2), runAsync(3)]) .then(res =&gt; console.log(&quot;result: &quot;, res)) .catch(err =&gt; console.log(err)); å¤åˆ¶ä»£ç  é‡åˆ°é”™è¯¯çš„è¯ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåœ¨è¿™é“é¢˜ä¸­ï¼ŒrunReject(0)æœ€å…ˆæ‰§è¡Œå®Œï¼Œæ‰€ä»¥è¿›å…¥äº†catch()ä¸­ï¼š 0 'Error: 0' 1 2 3 å¤åˆ¶ä»£ç  æ€»ç»“å¥½çš„ï¼Œè®©æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹.then()å’Œ.race()å§ï¼ŒğŸ˜„ Promise.all()çš„ä½œç”¨æ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåæ‰æ‰§è¡Œå›è°ƒã€‚ .race()çš„ä½œç”¨ä¹Ÿæ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œåªä¿ç•™å–ç¬¬ä¸€ä¸ªæ‰§è¡Œå®Œæˆçš„å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå…¶ä»–çš„æ–¹æ³•ä»åœ¨æ‰§è¡Œï¼Œä¸è¿‡æ‰§è¡Œç»“æœä¼šè¢«æŠ›å¼ƒã€‚ Promise.all().then()ç»“æœä¸­æ•°ç»„çš„é¡ºåºå’ŒPromise.all()æ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºä¸€è‡´ã€‚ allå’Œraceä¼ å…¥çš„æ•°ç»„ä¸­å¦‚æœæœ‰ä¼šæŠ›å‡ºå¼‚å¸¸çš„å¼‚æ­¥ä»»åŠ¡ï¼Œé‚£ä¹ˆåªæœ‰æœ€å…ˆæŠ›å‡ºçš„é”™è¯¯ä¼šè¢«æ•è·ï¼Œå¹¶ä¸”æ˜¯è¢«thençš„ç¬¬äºŒä¸ªå‚æ•°æˆ–è€…åé¢çš„catchæ•è·ï¼›ä½†å¹¶ä¸ä¼šå½±å“æ•°ç»„ä¸­å…¶å®ƒçš„å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œã€‚ 5. async/awaitçš„å‡ é“é¢˜æ—¢ç„¶è°ˆåˆ°äº†Promiseï¼Œé‚£å°±è‚¯å®šå¾—å†è¯´è¯´async/awaitï¼Œåœ¨å¾ˆå¤šæ—¶å€™asyncå’ŒPromiseçš„è§£æ³•å·®ä¸å¤šï¼Œåˆæœ‰äº›ä¸ä¸€æ ·ã€‚ä¸ä¿¡ä½ æ¥çœ‹çœ‹é¢˜ç›®ä¸€ã€‚ 5.1 é¢˜ç›®ä¸€async function async1() { console.log(&quot;async1 start&quot;); await async2(); console.log(&quot;async1 end&quot;); } async function async2() { console.log(&quot;async2&quot;); } async1(); console.log('start') å¤åˆ¶ä»£ç  è¿™é“åŸºç¡€é¢˜è¾“å‡ºçš„æ˜¯å•¥ï¼Ÿ ç­”æ¡ˆï¼š 'async1 start' 'async2' 'start' 'async1 end' å¤åˆ¶ä»£ç  è¿‡ç¨‹åˆ†æï¼š é¦–å…ˆä¸€è¿›æ¥æ˜¯åˆ›å»ºäº†ä¸¤ä¸ªå‡½æ•°çš„ï¼Œæˆ‘ä»¬å…ˆä¸çœ‹å‡½æ•°çš„åˆ›å»ºä½ç½®ï¼Œè€Œæ˜¯çœ‹å®ƒçš„è°ƒç”¨ä½ç½® å‘ç°async1å‡½æ•°è¢«è°ƒç”¨äº†ï¼Œç„¶åå»çœ‹çœ‹è°ƒç”¨çš„å†…å®¹ æ‰§è¡Œå‡½æ•°ä¸­çš„åŒæ­¥ä»£ç async1 startï¼Œä¹‹åç¢°åˆ°äº†awaitï¼Œå®ƒä¼šé˜»å¡async1åé¢ä»£ç çš„æ‰§è¡Œï¼Œå› æ­¤ä¼šå…ˆå»æ‰§è¡Œasync2ä¸­çš„åŒæ­¥ä»£ç async2ï¼Œç„¶åè·³å‡ºasync1 è·³å‡ºasync1å‡½æ•°åï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç start åœ¨ä¸€è½®å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œä¹‹åï¼Œå†æ¥æ‰§è¡Œåˆšåˆšawaitåé¢çš„å†…å®¹async1 endã€‚ åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥ç†è§£ä¸ºã€Œç´§è·Ÿç€awaitåé¢çš„è¯­å¥ç›¸å½“äºæ”¾åˆ°äº†new Promiseä¸­ï¼Œä¸‹ä¸€è¡ŒåŠä¹‹åçš„è¯­å¥ç›¸å½“äºæ”¾åœ¨Promise.thenä¸­ã€ã€‚ è®©æˆ‘ä»¬æ¥çœ‹çœ‹å°†awaitè½¬æ¢ä¸ºPromise.thençš„ä¼ªä»£ç ï¼š async function async1() { console.log(&quot;async1 start&quot;); // åŸæ¥ä»£ç  // await async2(); // console.log(&quot;async1 end&quot;); // è½¬æ¢åä»£ç  new Promise(resolve =&gt; { console.log(&quot;async2&quot;) resolve() }).then(res =&gt; console.log(&quot;async1 end&quot;)) } async function async2() { console.log(&quot;async2&quot;); } async1(); console.log(&quot;start&quot;) å¤åˆ¶ä»£ç  è½¬æ¢åçš„ä¼ªä»£ç å’Œå‰é¢çš„æ‰§è¡Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚(æ„Ÿè°¢è¯„è®ºåŒºWing93å’ŒJexxieå°ä¼™ä¼´çš„æŒ‡å‡º) å¦å¤–å…³äºawaitå’ŒPromiseçš„åŒºåˆ«ï¼Œå¦‚æœæˆ‘ä»¬æŠŠawait async2()æ¢æˆä¸€ä¸ªnew Promiseå‘¢ï¼Ÿ async function async1() { console.log(&quot;async1 start&quot;); new Promise(resolve =&gt; { console.log('promise') }) console.log(&quot;async1 end&quot;); } async1(); console.log(&quot;start&quot;) å¤åˆ¶ä»£ç  æ­¤æ—¶çš„æ‰§è¡Œç»“æœä¸ºï¼š 'async start' 'promise' 'async1 end' 'start' å¤åˆ¶ä»£ç  å¯ä»¥çœ‹åˆ°new Promise()å¹¶ä¸ä¼šé˜»å¡åé¢çš„åŒæ­¥ä»£ç async1 endçš„æ‰§è¡Œã€‚ 5.2 é¢˜ç›®äºŒç°åœ¨å°†asyncç»“åˆå®šæ—¶å™¨çœ‹çœ‹ã€‚ ç»™é¢˜ç›®ä¸€ä¸­çš„ async2å‡½æ•°ä¸­åŠ ä¸Šä¸€ä¸ªå®šæ—¶å™¨ï¼š async function async1() { console.log(&quot;async1 start&quot;); await async2(); console.log(&quot;async1 end&quot;); } async function async2() { setTimeout(() =&gt; { console.log('timer') }, 0) console.log(&quot;async2&quot;); } async1(); console.log(&quot;start&quot;) å¤åˆ¶ä»£ç  æ²¡é”™ï¼Œå®šæ—¶å™¨å§‹ç»ˆè¿˜æ˜¯æœ€åæ‰§è¡Œçš„ï¼Œå®ƒè¢«æ”¾åˆ°ä¸‹ä¸€æ¡å®ä»»åŠ¡çš„å»¶è¿Ÿé˜Ÿåˆ—ä¸­ã€‚ ç­”æ¡ˆï¼š 'async1 start' 'async2' 'start' 'async1 end' 'timer' å¤åˆ¶ä»£ç  5.3 é¢˜ç›®ä¸‰æ¥å§ï¼Œå°ä¼™ä¼´ä»¬ï¼Œè®©æˆ‘ä»¬å¤šåŠ å‡ ä¸ªå®šæ—¶å™¨çœ‹çœ‹ã€‚ğŸ˜ async function async1() { console.log(&quot;async1 start&quot;); await async2(); console.log(&quot;async1 end&quot;); setTimeout(() =&gt; { console.log('timer1') }, 0) } async function async2() { setTimeout(() =&gt; { console.log('timer2') }, 0) console.log(&quot;async2&quot;); } async1(); setTimeout(() =&gt; { console.log('timer3') }, 0) console.log(&quot;start&quot;) å¤åˆ¶ä»£ç  æ€è€ƒä¸€ä¸‹ğŸ¤”ï¼Œæ‰§è¡Œç»“æœä¼šæ˜¯ä»€ä¹ˆï¼Ÿ å…¶å®å¦‚æœä½ èƒ½åšåˆ°è¿™é‡Œäº†ï¼Œè¯´æ˜ä½ å‰é¢çš„é‚£äº›çŸ¥è¯†ç‚¹ä¹Ÿéƒ½æŒæ¡äº†ï¼Œæˆ‘å°±ä¸éœ€è¦å¤ªè¿‡è¯¦ç»†çš„æ­¥éª¤åˆ†æäº†ã€‚ ç›´æ¥å…¬å¸ƒç­”æ¡ˆå§ï¼š 'async1 start' 'async2' 'start' 'async1 end' 'timer2' 'timer3' 'timer1' å¤åˆ¶ä»£ç  å®šæ—¶å™¨è°å…ˆæ‰§è¡Œï¼Œä½ åªéœ€è¦å…³æ³¨è°å…ˆè¢«è°ƒç”¨çš„ä»¥åŠå»¶è¿Ÿæ—¶é—´æ˜¯å¤šå°‘ï¼Œè¿™é“é¢˜ä¸­å»¶è¿Ÿæ—¶é—´éƒ½æ˜¯0ï¼Œæ‰€ä»¥åªè¦å…³æ³¨è°å…ˆè¢«è°ƒç”¨çš„ã€‚ã€‚ 5.4 é¢˜ç›®å››æ­£å¸¸æƒ…å†µä¸‹ï¼Œasyncä¸­çš„awaitå‘½ä»¤æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç»“æœã€‚ ä½†å¦‚æœä¸æ˜¯Promiseå¯¹è±¡çš„è¯ï¼Œå°±ä¼šç›´æ¥è¿”å›å¯¹åº”çš„å€¼ï¼Œç›¸å½“äºPromise.resolve() async function fn () { // return await 1234 // ç­‰åŒäº return 123 } fn().then(res =&gt; console.log(res)) å¤åˆ¶ä»£ç  ç»“æœï¼š 123 å¤åˆ¶ä»£ç  5.5 é¢˜ç›®äº”async function async1 () { console.log('async1 start'); await new Promise(resolve =&gt; { console.log('promise1') }) console.log('async1 success'); return 'async1 end' } console.log('srcipt start') async1().then(res =&gt; console.log(res)) console.log('srcipt end') å¤åˆ¶ä»£ç  è¿™é“é¢˜ç›®æ¯”è¾ƒæœ‰æ„æ€ï¼Œå¤§å®¶è¦æ³¨æ„äº†ã€‚ åœ¨async1ä¸­awaitåé¢çš„Promiseæ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„çŠ¶æ€å§‹ç»ˆæ˜¯pendingçŠ¶æ€ï¼Œå› æ­¤ç›¸å½“äºä¸€ç›´åœ¨awaitï¼Œawaitï¼Œawaitå´å§‹ç»ˆæ²¡æœ‰å“åº”â€¦ ![](https://juejin.im/post/data:image/svg+xml;utf8,) æ‰€ä»¥åœ¨awaitä¹‹åçš„å†…å®¹æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œä¹ŸåŒ…æ‹¬async1åé¢çš„ .thenã€‚ ç­”æ¡ˆä¸ºï¼š 'script start' 'async1 start' 'promise1' 'script end' å¤åˆ¶ä»£ç  5.6 é¢˜ç›®å…­è®©æˆ‘ä»¬ç»™5.5ä¸­çš„PromiseåŠ ä¸Šresolveï¼š async function async1 () { console.log('async1 start'); await new Promise(resolve =&gt; { console.log('promise1') resolve('promise1 resolve') }).then(res =&gt; console.log(res)) console.log('async1 success'); return 'async1 end' } console.log('srcipt start') async1().then(res =&gt; console.log(res)) console.log('srcipt end') å¤åˆ¶ä»£ç  ç°åœ¨Promiseæœ‰äº†è¿”å›å€¼äº†ï¼Œå› æ­¤awaitåé¢çš„å†…å®¹å°†ä¼šè¢«æ‰§è¡Œï¼š 'script start' 'async1 start' 'promise1' 'script end' 'promise1 resolve' 'async1 success' 'async1 end' å¤åˆ¶ä»£ç  5.7 é¢˜ç›®ä¸ƒasync function async1 () { console.log('async1 start'); await new Promise(resolve =&gt; { console.log('promise1') resolve('promise resolve') }) console.log('async1 success'); return 'async1 end' } console.log('srcipt start') async1().then(res =&gt; { console.log(res) }) new Promise(resolve =&gt; { console.log('promise2') setTimeout(() =&gt; { console.log('timer') }) }) å¤åˆ¶ä»£ç  è¿™é“é¢˜åº”è¯¥ä¹Ÿä¸éš¾ï¼Œä¸è¿‡æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„ï¼Œåœ¨async1ä¸­çš„new Promiseå®ƒçš„resovleçš„å€¼å’Œasync1().then()é‡Œçš„å€¼æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œå¾ˆå¤šå°ä¼™ä¼´å¯èƒ½çœ‹åˆ°resovle('promise resolve')å°±ä¼šè¯¯ä»¥ä¸ºæ˜¯async1().then()ä¸­çš„è¿”å›å€¼ã€‚ å› æ­¤è¿™é‡Œçš„æ‰§è¡Œç»“æœä¸ºï¼š 'script start' 'async1 start' 'promise1' 'promise2' 'async1 success' 'async1 end' 'timer' å¤åˆ¶ä»£ç  5.8 é¢˜ç›®å…«æˆ‘ä»¬å†æ¥çœ‹ä¸€é“å¤´æ¡æ›¾ç»çš„é¢è¯•é¢˜ï¼š async function async1() { console.log(&quot;async1 start&quot;); await async2(); console.log(&quot;async1 end&quot;); } async function async2() { console.log(&quot;async2&quot;); } console.log(&quot;script start&quot;); setTimeout(function() { console.log(&quot;setTimeout&quot;); }, 0); async1(); new Promise(function(resolve) { console.log(&quot;promise1&quot;); resolve(); }).then(function() { console.log(&quot;promise2&quot;); }); console.log('script end') å¤åˆ¶ä»£ç  æœ‰äº†ä¸Šé¢ğŸ‘†å‡ é¢˜åšåŸºç¡€ï¼Œç›¸ä¿¡ä½ å¾ˆå¿«ä¹Ÿèƒ½ç­”ä¸Šæ¥äº†ã€‚ ![](https://juejin.im/post/data:image/svg+xml;utf8,) è‡ªä¿¡çš„å†™ä¸‹ä½ ä»¬çš„ç­”æ¡ˆå§ã€‚ 'script start' 'async1 start' 'async2' 'promise1' 'script end' 'async1 end' 'promise2' 'setTimeout' å¤åˆ¶ä»£ç  (è¿™é“é¢˜æœ€åasync1 endå’Œpromise2çš„é¡ºåºå…¶å®åœ¨ç½‘ä¸Šé¥±å—äº‰è®®ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨æµè§ˆå™¨Chrome V80ï¼ŒNode v12.16.1çš„æ‰§è¡Œç»“æœéƒ½æ˜¯ä¸Šé¢è¿™ä¸ªç­”æ¡ˆ) 5.9 é¢˜ç›®ä¹å¥½çš„ğŸ‘Œï¼Œasync/awaitå¤§æ³•å·²ç»ƒæˆï¼Œå’±ä»¬ç»§ç»­ï¼š async function testSometing() { console.log(&quot;æ‰§è¡ŒtestSometing&quot;); return &quot;testSometing&quot;; } async function testAsync() { console.log(&quot;æ‰§è¡ŒtestAsync&quot;); return Promise.resolve(&quot;hello async&quot;); } async function test() { console.log(&quot;test start...&quot;); const v1 = await testSometing(); console.log(v1); const v2 = await testAsync(); console.log(v2); console.log(v1, v2); } test(); var promise = new Promise(resolve =&gt; { console.log(&quot;promise start...&quot;); resolve(&quot;promise&quot;); }); promise.then(val =&gt; console.log(val)); console.log(&quot;test end...&quot;); å¤åˆ¶ä»£ç  ç­”æ¡ˆï¼š 'test start...' 'æ‰§è¡ŒtestSometing' 'promise start...' 'test end...' 'testSometing' 'æ‰§è¡ŒtestAsync' 'promise' 'hello async' 'testSometing' 'hello async' å¤åˆ¶ä»£ç  6. asyncå¤„ç†é”™è¯¯6.1 é¢˜ç›®ä¸€åœ¨asyncä¸­ï¼Œå¦‚æœ awaitåé¢çš„å†…å®¹æ˜¯ä¸€ä¸ªå¼‚å¸¸æˆ–è€…é”™è¯¯çš„è¯ï¼Œä¼šæ€æ ·å‘¢ï¼Ÿ async function async1 () { await async2(); console.log('async1'); return 'async1 success' } async function async2 () { return new Promise((resolve, reject) =&gt; { console.log('async2') reject('error') }) } async1().then(res =&gt; console.log(res)) å¤åˆ¶ä»£ç  ä¾‹å¦‚è¿™é“é¢˜ä¸­ï¼Œawaitåé¢è·Ÿç€çš„æ˜¯ä¸€ä¸ªçŠ¶æ€ä¸ºrejectedçš„promiseã€‚ å¦‚æœåœ¨asyncå‡½æ•°ä¸­æŠ›å‡ºäº†é”™è¯¯ï¼Œåˆ™ç»ˆæ­¢é”™è¯¯ç»“æœï¼Œä¸ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚ æ‰€ä»¥ç­”æ¡ˆä¸ºï¼š 'async2' Uncaught (in promise) error å¤åˆ¶ä»£ç  å¦‚æœæ”¹ä¸ºthrow new Errorä¹Ÿæ˜¯ä¸€æ ·çš„ï¼š async function async1 () { console.log('async1'); throw new Error('error!!!') return 'async1 success' } async1().then(res =&gt; console.log(res)) å¤åˆ¶ä»£ç  ç»“æœä¸ºï¼š 'async1' Uncaught (in promise) Error: error!!! å¤åˆ¶ä»£ç  6.2 é¢˜ç›®äºŒå¦‚æœæƒ³è¦ä½¿å¾—é”™è¯¯çš„åœ°æ–¹ä¸å½±å“asyncå‡½æ•°åç»­çš„æ‰§è¡Œçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨try catch async function async1 () { try { await Promise.reject('error!!!') } catch(e) { console.log(e) } console.log('async1'); return Promise.resolve('async1 success') } async1().then(res =&gt; console.log(res)) console.log('script start') å¤åˆ¶ä»£ç  è¿™é‡Œçš„ç»“æœä¸ºï¼š 'script start' 'error!!!' 'async1' 'async1 success' å¤åˆ¶ä»£ç  æˆ–è€…ä½ å¯ä»¥ç›´æ¥åœ¨Promise.rejectåé¢è·Ÿç€ä¸€ä¸ªcatch()æ–¹æ³•ï¼š async function async1 () { // try { // await Promise.reject('error!!!') // } catch(e) { // console.log(e) // } await Promise.reject('error!!!') .catch(e =&gt; console.log(e)) console.log('async1'); return Promise.resolve('async1 success') } async1().then(res =&gt; console.log(res)) console.log('script start') å¤åˆ¶ä»£ç  è¿è¡Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚ 7. ç»¼åˆé¢˜ä¸Šé¢ğŸ‘†çš„é¢˜ç›®éƒ½æ˜¯è¢«æˆ‘æ‹†åˆ†ç€è¯´ä¸€äº›åŠŸèƒ½ç‚¹ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥åšä¸€äº›æ¯”è¾ƒéš¾çš„ç»¼åˆé¢˜å§ã€‚ 7.1 é¢˜ç›®ä¸€const first = () =&gt; (new Promise((resolve, reject) =&gt; { console.log(3); let p = new Promise((resolve, reject) =&gt; { console.log(7); setTimeout(() =&gt; { console.log(5); resolve(6); console.log(p) }, 0) resolve(1); }); resolve(2); p.then((arg) =&gt; { console.log(arg); }); })); first().then((arg) =&gt; { console.log(arg); }); console.log(4); å¤åˆ¶ä»£ç  è¿‡ç¨‹åˆ†æï¼š ç¬¬ä¸€æ®µä»£ç å®šä¹‰çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—çœ‹çœ‹å®ƒæ˜¯åœ¨å“ªæ‰§è¡Œçš„ï¼Œå‘ç°å®ƒåœ¨4ä¹‹å‰ï¼Œæ‰€ä»¥å¯ä»¥æ¥çœ‹çœ‹firstå‡½æ•°é‡Œé¢çš„å†…å®¹äº†ã€‚(è¿™ä¸€æ­¥æœ‰ç‚¹ç±»ä¼¼äºé¢˜ç›®1.5) å‡½æ•°firstè¿”å›çš„æ˜¯ä¸€ä¸ªnew Promise()ï¼Œå› æ­¤å…ˆæ‰§è¡Œé‡Œé¢çš„åŒæ­¥ä»£ç 3 æ¥ç€åˆé‡åˆ°äº†ä¸€ä¸ªnew Promise()ï¼Œç›´æ¥æ‰§è¡Œé‡Œé¢çš„åŒæ­¥ä»£ç 7 æ‰§è¡Œå®Œ7ä¹‹åï¼Œåœ¨pä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå…ˆå°†å®ƒæ”¾åˆ°ä¸‹ä¸€ä¸ªå®ä»»åŠ¡é˜Ÿåˆ—é‡Œä¸ç®¡å®ƒï¼Œæ¥ç€å‘ä¸‹èµ° ç¢°åˆ°äº†resolve(1)ï¼Œè¿™é‡Œå°±æŠŠpçš„çŠ¶æ€æ”¹ä¸ºäº†resolvedï¼Œä¸”è¿”å›å€¼ä¸º1ï¼Œä¸è¿‡è¿™é‡Œä¹Ÿå…ˆä¸æ‰§è¡Œ è·³å‡ºpï¼Œç¢°åˆ°äº†resolve(2)ï¼Œè¿™é‡Œçš„resolve(2)ï¼Œè¡¨ç¤ºçš„æ˜¯æŠŠfirstå‡½æ•°è¿”å›çš„é‚£ä¸ªPromiseçš„çŠ¶æ€æ”¹äº†ï¼Œä¹Ÿå…ˆä¸ç®¡å®ƒã€‚ ç„¶åç¢°åˆ°äº†p.thenï¼Œå°†å®ƒåŠ å…¥æœ¬æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œç­‰å¾…æ‰§è¡Œ è·³å‡ºfirstå‡½æ•°ï¼Œé‡åˆ°äº†first().then()ï¼Œå°†å®ƒåŠ å…¥æœ¬æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡åˆ—è¡¨(p.thençš„åé¢æ‰§è¡Œ) ç„¶åæ‰§è¡ŒåŒæ­¥ä»£ç 4 æœ¬è½®çš„åŒæ­¥ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥æ‰¾å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œå‘ç°p.thenå’Œfirst().then()ï¼Œä¾æ¬¡æ‰§è¡Œï¼Œæ‰“å°å‡º1å’Œ2 æœ¬è½®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•äº†ï¼Œå‘ç°è¿˜æœ‰ä¸€ä¸ªå®šæ—¶å™¨æ²¡æœ‰è·‘å®Œï¼Œæ¥ç€æ‰§è¡Œè¿™ä¸ªå®šæ—¶å™¨é‡Œçš„å†…å®¹ï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç 5 ç„¶ååˆé‡åˆ°äº†ä¸€ä¸ªresolve(6)ï¼Œå®ƒæ˜¯æ”¾åœ¨pé‡Œçš„ï¼Œä½†æ˜¯pçš„çŠ¶æ€åœ¨ä¹‹å‰å·²ç»å‘ç”Ÿè¿‡æ”¹å˜äº†ï¼Œå› æ­¤è¿™é‡Œå°±ä¸ä¼šå†æ”¹å˜ï¼Œä¹Ÿå°±æ˜¯è¯´resolve(6)ç›¸å½“äºæ²¡ä»»ä½•ç”¨å¤„ï¼Œå› æ­¤æ‰“å°å‡ºæ¥çš„pä¸ºPromise{&lt;resolved&gt;: 1}ã€‚(è¿™ä¸€æ­¥ç±»ä¼¼äºé¢˜ç›®3.1) ç»“æœï¼š 3 7 4 1 2 5 Promise{&lt;resolved&gt;: 1} å¤åˆ¶ä»£ç  åšå¯¹äº†çš„å°ä¼™ä¼´å¥–åŠ±è‡ªå·±ä¸€æœµå°(å¤§)çº¢(å˜´)èŠ±(å·´)å§ï¼ŒğŸ˜„ ![](https://juejin.im/post/data:image/svg+xml;utf8,) 7.2 é¢˜ç›®äºŒconst async1 = async () =&gt; { console.log('async1'); setTimeout(() =&gt; { console.log('timer1') }, 2000) await new Promise(resolve =&gt; { console.log('promise1') }) console.log('async1 end') return 'async1 success' } console.log('script start'); async1().then(res =&gt; console.log(res)); console.log('script end'); Promise.resolve(1) .then(2) .then(Promise.resolve(3)) .catch(4) .then(res =&gt; console.log(res)) setTimeout(() =&gt; { console.log('timer2') }, 1000) å¤åˆ¶ä»£ç  æ³¨æ„çš„çŸ¥è¯†ç‚¹ï¼š asyncå‡½æ•°ä¸­awaitçš„new Promiseè¦æ˜¯æ²¡æœ‰è¿”å›å€¼çš„è¯åˆ™ä¸æ‰§è¡Œåé¢çš„å†…å®¹(ç±»ä¼¼é¢˜5.5) .thenå‡½æ•°ä¸­çš„å‚æ•°æœŸå¾…çš„æ˜¯å‡½æ•°ï¼Œå¦‚æœä¸æ˜¯å‡½æ•°çš„è¯ä¼šå‘ç”Ÿé€ä¼ (ç±»ä¼¼é¢˜3.8 ) æ³¨æ„å®šæ—¶å™¨çš„å»¶è¿Ÿæ—¶é—´ å› æ­¤æœ¬é¢˜ç­”æ¡ˆä¸ºï¼š 'script start' 'async1' 'promise1' 'script end' 1 'timer2' 'timer1' å¤åˆ¶ä»£ç  7.3 é¢˜ç›®ä¸‰const p1 = new Promise((resolve) =&gt; { setTimeout(() =&gt; { resolve('resolve3'); console.log('timer1') }, 0) resolve('resovle1'); resolve('resolve2'); }).then(res =&gt; { console.log(res) setTimeout(() =&gt; { console.log(p1) }, 1000) }).finally(res =&gt; { console.log('finally', res) }) å¤åˆ¶ä»£ç  æ³¨æ„çš„çŸ¥è¯†ç‚¹ï¼š Promiseçš„çŠ¶æ€ä¸€æ—¦æ”¹å˜å°±æ— æ³•æ”¹å˜(ç±»ä¼¼é¢˜ç›®3.5) finallyä¸ç®¡Promiseçš„çŠ¶æ€æ˜¯resolvedè¿˜æ˜¯rejectedéƒ½ä¼šæ‰§è¡Œï¼Œä¸”å®ƒçš„å›è°ƒå‡½æ•°æ˜¯æ¥æ”¶ä¸åˆ°Promiseçš„ç»“æœçš„ï¼Œæ‰€ä»¥finally()ä¸­çš„resæ˜¯ä¸€ä¸ªè¿·æƒ‘é¡¹(ç±»ä¼¼3.10)ã€‚ æœ€åä¸€ä¸ªå®šæ—¶å™¨æ‰“å°å‡ºçš„p1å…¶å®æ˜¯.finallyçš„è¿”å›å€¼ï¼Œæˆ‘ä»¬çŸ¥é“.finallyçš„è¿”å›å€¼å¦‚æœåœ¨æ²¡æœ‰æŠ›å‡ºé”™è¯¯çš„æƒ…å†µä¸‹é»˜è®¤ä¼šæ˜¯ä¸Šä¸€ä¸ªPromiseçš„è¿”å›å€¼(3.10ä¸­ä¹Ÿæœ‰æåˆ°), è€Œè¿™é“é¢˜ä¸­.finallyä¸Šä¸€ä¸ªPromiseæ˜¯.then()ï¼Œä½†æ˜¯è¿™ä¸ª.then()å¹¶æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥p1æ‰“å°å‡ºæ¥çš„Promiseçš„å€¼ä¼šæ˜¯undefinedï¼Œå¦‚æœä½ åœ¨å®šæ—¶å™¨çš„ä¸‹é¢åŠ ä¸Šä¸€ä¸ªreturn 1ï¼Œåˆ™å€¼å°±ä¼šå˜æˆ1(æ„Ÿè°¢æ˜å‹JSä¸›ä¸­è¿‡çš„æŒ‡å‡º)ã€‚ ç­”æ¡ˆï¼š 'resolve1' 'finally' undefined 'timer1' Promise{&lt;resolved&gt;: undefined} å¤åˆ¶ä»£ç  8. å‡ é“å¤§å‚çš„é¢è¯•é¢˜8.1 ä½¿ç”¨Promiseå®ç°æ¯éš”1ç§’è¾“å‡º1,2,3è¿™é“é¢˜æ¯”è¾ƒç®€å•çš„ä¸€ç§åšæ³•æ˜¯å¯ä»¥ç”¨Promiseé…åˆç€reduceä¸åœçš„åœ¨promiseåé¢å åŠ .thenï¼Œè¯·çœ‹ä¸‹é¢çš„ä»£ç ï¼š const arr = [1, 2, 3] arr.reduce((p, x) =&gt; { return p.then(() =&gt; { return new Promise(r =&gt; { setTimeout(() =&gt; r(console.log(x)), 1000) }) }) }, Promise.resolve()) å¤åˆ¶ä»£ç  æˆ–è€…ä½ å¯ä»¥æ›´ç®€å•ä¸€ç‚¹å†™ï¼š const arr = [1, 2, 3] arr.reduce((p, x) =&gt; p.then(() =&gt; new Promise(r =&gt; setTimeout(() =&gt; r(console.log(x)), 1000))), Promise.resolve()) å¤åˆ¶ä»£ç  å‚è€ƒé“¾æ¥ï¼šå¦‚ä½•è®©å¼‚æ­¥æ“ä½œé¡ºåºæ‰§è¡Œ æ‹“å±•é¢˜ è¿™é“æ‹“å±•é¢˜æ¥è‡ªäºâ€œä¸‡ç‰©çš†å¯çˆ±çš„LINGLONG â€å°å§å§ï¼Œç‚’é¸¡æ£’ ğŸ˜ğŸ‘ã€‚ é¢˜ç›®æ˜¯è¿™æ ·çš„ï¼Œå¥¹æŠŠæˆ‘ä¸Šé¢ğŸ‘†å†™çš„ç®­å¤´å‡½æ•°ç‰ˆæœ¬æ”¹é€ äº†ä¸€ä¸‹ï¼š const arr = [1, 2, 3]; const result = arr.reduce((p, x) =&gt; p.then(new Promise(r =&gt; setTimeout(() =&gt; r(console.log(x)), 1000))), Promise.resolve()); å¤åˆ¶ä»£ç  çœ¼å°–çš„å°ä¼™ä¼´çœ‹å‡ºåŒºåˆ«äº†å—ï¼ŸğŸ˜ p.thené‡Œçš„ä»£ç ç”±() =&gt; new Promise(...)å˜æˆäº†new Promise(...)ã€‚ ç°åœ¨æ‰§è¡Œç»“æœå°±å¤§ä¸ç›¸åŒäº†ã€‚ åœ¨ä¸€ç§’åæŒ‰é¡ºåºåŒæ—¶æ‰“å°å‡º1ã€2ã€3: 1 2 3 å¤åˆ¶ä»£ç  å’¦ ğŸ¤”ï¸ï¼Ÿä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ ğŸ¤”ï¸ï¼Ÿ åªæ˜¯ä¸€ä¸ªå°å°çš„æ”¹å˜å´æœ‰å¤§å¤§çš„åŒºåˆ«ã€‚ å…¶å®åˆšå¼€å§‹çœ‹åˆ°çš„æ—¶å€™éœ–å‘†å‘†æˆ‘ä¹Ÿæ„£äº†é‚£ä¹ˆå‡ ç§’ğŸ˜‚ã€‚ä¸è¿‡ç­‰æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ‹†åˆ†å¹¶å¯¹æƒ³ä¸é€šçš„åœ°æ–¹å†™äº†å‡ ä¸ªæ¡ˆä¾‹æ¥çœ‹å°±ç†è§£äº†ã€‚ è¯„è®ºåŒºå’Œå°å§å§æ‰¯äº†ä¸€å¤§å †ï¼Œç»“æœæŠŠå¥¹è¶Šå¼„è¶Šç³ŠğŸ˜‚ã€‚åæ¥æˆ‘æ”¹å˜äº†ä¸€ç§æ€è·¯æ¥æè¿°ï¼Œè§‰å¾—åº”è¯¥ç›´æ¥ä¸Šä¼ªä»£ç ï¼š const arr = [1, 2, 3] arr.reduce((p, x) =&gt; p.then(() =&gt; new Promise(r =&gt; setTimeout(() =&gt; r(console.log(x)), 1000))), Promise.resolve()) å¤åˆ¶ä»£ç  è½¬æ¢ä¸ºä¼ªä»£ç å°±æ˜¯è¿™æ ·ï¼š (ç›¸å½“äºæ˜¯ç”¨reduceä¸åœçš„å¾€åé¢å åŠ .then) Promise.resolve() .then(() =&gt; { return new Promise(r =&gt; { setTimeout(() =&gt; { r(console.log(1)) }, 1000) }) }) .then(r =&gt; { return new Promise(r =&gt; { setTimeout(() =&gt; { r(console.log(2)) }, 1000) }) }) .then(r =&gt; { return new Promise(r =&gt; { setTimeout(() =&gt; { r(console.log(3)) }, 1000) }) }) å¤åˆ¶ä»£ç  å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸€ä¸ª.thenéƒ½æ˜¯ä¾èµ–äºä¸Šä¸€ä¸ªnew Promiseä½•æ—¶è¢«resolveäº†æ‰ä¼šæ‰§è¡Œçš„ï¼Œä¾‹å¦‚ç¬¬äºŒä¸ª.then()ï¼Œå®ƒè¦ç­‰r(console.log(1)è¿™æ®µä»£ç æ‰§è¡Œäº†ï¼Œæ‰ä¼šæ‰§è¡Œã€‚ é‚£ä¹ˆr(console.log(1))ä»€ä¹ˆæ—¶å€™æ‰§è¡Œå‘¢ï¼Ÿå°±æ˜¯åœ¨ç¬¬ä¸€ä¸ªå®šæ—¶å™¨(ä¹Ÿå°±æ˜¯ä¸€ç§’å)è§¦å‘çš„æ—¶å€™æ‰æ‰§è¡Œã€‚è¿™æ ·å°±ä¿è¯äº†åé¢æ¥ç€çš„.then()è¦ç­‰å‰ä¸€ä¸ªå®šæ—¶å™¨æ‰§è¡Œå®Œæ‰èƒ½æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯éš”ä¸€ç§’è¾“å‡ºã€‚ è€Œå¦‚æœæ˜¯è¿™æ ·å†™çš„è¯ï¼š const arr = [1, 2, 3]; const result = arr.reduce((p, x) =&gt; p.then(new Promise(r =&gt; setTimeout(() =&gt; r(console.log(x)), 1000))), Promise.resolve()); å¤åˆ¶ä»£ç  å®ƒçš„ä¼ªä»£ç å°±æ˜¯è¿™æ ·ï¼š (æ¯ä¸ªthené‡Œé¢çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯ä¸€ä¸ªå‡½æ•°) Promise.resolve() .then(new Promise(r =&gt; { setTimeout(() =&gt; { r(console.log(1)) }, 1000) })) .then(new Promise(r =&gt; { setTimeout(() =&gt; { r(console.log(2)) }, 1000) })) .then(new Promise(r =&gt; { setTimeout(() =&gt; { r(console.log(3)) }, 1000) })) å¤åˆ¶ä»£ç  p.then()é‡Œé¢çš„å‚æ•°å¦‚æœä¸æ˜¯å‡½æ•°çš„è¯ï¼Œä¼šå‘ç”Ÿé€ä¼ ï¼Œè¿™ä¸ªåœ¨3.8ä¸­å·²ç»æè¿‡äº†ã€‚ä½†æ˜¯å‘ç”Ÿé€ä¼ ï¼Œ.then()é‡Œçš„ä»£ç å°±ä¸æ‰§è¡Œäº†å—ï¼Ÿ å¹¶ä¸æ˜¯çš„ï¼Œæˆ‘ä»¬æ¥çœ‹è¿™ä¸ªä¾‹å­ï¼š const p = Promise.resolve(1).then(console.log('æˆ‘ä¸å…³å¿ƒç»“æœ')) console.log(p) p.then((res) =&gt; console.log(res)) å¤åˆ¶ä»£ç  å¾ˆæ˜æ˜¾è¿™é‡Œä¹Ÿå‘ç”Ÿäº†é€ä¼ ï¼Œä½†æ˜¯'æˆ‘ä¸å…³å¿ƒç»“æœ'ä¹Ÿè¿˜æ˜¯è¢«æ‰“å°å‡ºæ¥äº†ï¼Œå¹¶ä¸”ç”±äºé€ä¼ ï¼Œp.then()é‡Œè·å–åˆ°çš„reså°±æ˜¯1ï¼Œå› æ­¤ä¼šæ‰“å°å‡ºï¼š 'æˆ‘ä¸å…³å¿ƒç»“æœ' Promise{ [[PromiseStatus]]: &quot;resolved&quot; [[PromiseValue]]: 1 } 1 å¤åˆ¶ä»£ç  (ç¬¬äºŒè¡Œæ‰“å°å‡ºPromise{&lt;pending&gt;}çš„å°ä¼™ä¼´è¯·æŠŠè¿™ä¸ªå¯¹è±¡å±•å¼€æ¥çœ‹) è¿™ä¸ªä¾‹å­è¡¨æ˜ï¼Œå°±ç®—å‘ç”Ÿäº†é€ä¼ ï¼Œp.then()ä¸­çš„ä»£ç ä¾æ—§ä¹Ÿæ˜¯ä¼šæ‰§è¡Œçš„ã€‚ æ‰€ä»¥å›åˆ° .then(new Promise(r =&gt; { setTimeout(() =&gt; { r(console.log(1)) }, 1000) })) å¤åˆ¶ä»£ç  ä¸­ï¼Œç°åœ¨.then()ä¸­å°±ç›¸å½“äºæ˜¯æ‰§è¡Œä¸€æ®µåŒæ­¥ä»£ç ï¼š new Promise(r =&gt; { setTimeout(() =&gt; { r(console.log(1)) }, 1000) }) å¤åˆ¶ä»£ç  è€Œè¿™æ®µä»£ç çš„ä½œç”¨æ˜¯å‘å»¶è¿Ÿé˜Ÿåˆ—ä¸­pushä¸€ä¸ªä¸€ç§’åæ‰§è¡Œçš„å®šæ—¶å™¨ä»»åŠ¡ã€‚ å¹¶ä¸”åœ¨pushå®Œå®šæ—¶å™¨ä¹‹åï¼Œä»£ç å°±é©¬ä¸Šè¿›å…¥äº†ä¸‹ä¸€ä¸ª.then(å› ä¸ºæ—¢ç„¶ç¬¬ä¸€ä¸ª.thenå·²ç»æ˜¯é€ä¼ çš„äº†å°±æ²¡æœ‰å¿…è¦ç­‰å®ƒçš„æ‰§è¡Œç»“æœäº†) ä¸‹ä¸€ä¸ª.thenç«Ÿç„¶ä¹Ÿæ˜¯ä¸€ä¸ªé€ä¼ ï¼ŒOKï¼Œé‚£æˆ‘ç»§ç»­pushè¿™ä¸ªå®šæ—¶å™¨ï¼Œç„¶åå†æ‰§è¡Œç¬¬ä¸‰ä¸ª.thenã€‚ ä¸‰ä¸ª.thenå·²ç»æ‰§è¡Œå®Œæˆäº†ï¼Œç°åœ¨æˆ‘ä»¬çš„å»¶è¿Ÿé˜Ÿåˆ—ä¸­å·²ç»æœ‰äº†ä¸‰ä¸ªå®šæ—¶å™¨ç­‰å¾…æ‰§è¡Œï¼Œ**å¹¶ä¸”ä¸‰ä¸ªå®šæ—¶å™¨çš„å»¶è¿Ÿæ—¶é—´éƒ½æ˜¯1000ms!!!**ã€‚ æ‰€ä»¥ç­‰åˆ°äº†æ—¶é—´ä¹‹åï¼Œå°±ä¼šåŒæ—¶æ‰“å°å‡ºæ¥äº†1ã€2ã€3ã€‚ï¼ˆå…¶å®å‡†ç¡®æ¥è¯´ï¼Œä¸æ˜¯åŒæ—¶æ‰“å°çš„ï¼Œä¸è¿‡ä¸­é—´ç›¸å·®çš„æ—¶é—´éå¸¸éå¸¸çŸ­ï¼Œå¤§å¯å¿½ç•¥å®ƒï¼‰ ç°åœ¨ä½ æ˜¯å¦ç†è§£äº†å…¶ä¸­çš„åŒºåˆ«å‘¢ ğŸ˜ã€‚ 8.2 ä½¿ç”¨Promiseå®ç°çº¢ç»¿ç¯äº¤æ›¿é‡å¤äº®çº¢ç¯3ç§’äº®ä¸€æ¬¡ï¼Œé»„ç¯2ç§’äº®ä¸€æ¬¡ï¼Œç»¿ç¯1ç§’äº®ä¸€æ¬¡ï¼›å¦‚ä½•è®©ä¸‰ä¸ªç¯ä¸æ–­äº¤æ›¿é‡å¤äº®ç¯ï¼Ÿï¼ˆç”¨Promiseå®ç°ï¼‰ä¸‰ä¸ªäº®ç¯å‡½æ•°å·²ç»å­˜åœ¨ï¼š function red() { console.log('red'); } function green() { console.log('green'); } function yellow() { console.log('yellow'); } å¤åˆ¶ä»£ç  ç­”æ¡ˆï¼š function red() { console.log(&quot;red&quot;); } function green() { console.log(&quot;green&quot;); } function yellow() { console.log(&quot;yellow&quot;); } const light = function (timer, cb) { return new Promise(resolve =&gt; { setTimeout(() =&gt; { cb() resolve() }, timer) }) } const step = function () { Promise.resolve().then(() =&gt; { return light(3000, red) }).then(() =&gt; { return light(2000, green) }).then(() =&gt; { return light(1000, yellow) }).then(() =&gt; { return step() }) } step(); å¤åˆ¶ä»£ç  8.3 å®ç°mergePromiseå‡½æ•°å®ç°mergePromiseå‡½æ•°ï¼ŒæŠŠä¼ è¿›å»çš„æ•°ç»„æŒ‰é¡ºåºå…ˆåæ‰§è¡Œï¼Œå¹¶ä¸”æŠŠè¿”å›çš„æ•°æ®å…ˆåæ”¾åˆ°æ•°ç»„dataä¸­ã€‚ const time = (timer) =&gt; { return new Promise(resolve =&gt; { setTimeout(() =&gt; { resolve() }, timer) }) } const ajax1 = () =&gt; time(2000).then(() =&gt; { console.log(1); return 1 }) const ajax2 = () =&gt; time(1000).then(() =&gt; { console.log(2); return 2 }) const ajax3 = () =&gt; time(1000).then(() =&gt; { console.log(3); return 3 }) function mergePromise () { // åœ¨è¿™é‡Œå†™ä»£ç  } mergePromise([ajax1, ajax2, ajax3]).then(data =&gt; { console.log(&quot;done&quot;); console.log(data); // data ä¸º [1, 2, 3] }); // è¦æ±‚åˆ†åˆ«è¾“å‡º // 1 // 2 // 3 // done // [1, 2, 3] å¤åˆ¶ä»£ç  è¿™é“é¢˜æœ‰ç‚¹ç±»ä¼¼äºPromise.all()ï¼Œä¸è¿‡.all()ä¸éœ€è¦ç®¡æ‰§è¡Œé¡ºåºï¼Œåªéœ€è¦å¹¶å‘æ‰§è¡Œå°±è¡Œäº†ã€‚ä½†æ˜¯è¿™é‡Œéœ€è¦ç­‰ä¸Šä¸€ä¸ªæ‰§è¡Œå®Œæ¯•ä¹‹åæ‰èƒ½æ‰§è¡Œä¸‹ä¸€ä¸ªã€‚ è§£é¢˜æ€è·¯ï¼š å®šä¹‰ä¸€ä¸ªæ•°ç»„dataç”¨äºä¿å­˜æ‰€æœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœ åˆå§‹åŒ–ä¸€ä¸ªconst promise = Promise.resolve()ï¼Œç„¶åå¾ªç¯éå†æ•°ç»„ï¼Œåœ¨promiseåé¢æ·»åŠ æ‰§è¡Œajaxä»»åŠ¡ï¼ŒåŒæ—¶è¦å°†æ·»åŠ çš„ç»“æœé‡æ–°èµ‹å€¼åˆ°promiseä¸Šã€‚ ç­”æ¡ˆï¼š function mergePromise (ajaxArray) { // å­˜æ”¾æ¯ä¸ªajaxçš„ç»“æœ const data = []; let promise = Promise.resolve(); ajaxArray.forEach(ajax =&gt; { // ç¬¬ä¸€æ¬¡çš„thenä¸ºäº†ç”¨æ¥è°ƒç”¨ajax // ç¬¬äºŒæ¬¡çš„thenæ˜¯ä¸ºäº†è·å–ajaxçš„ç»“æœ promise = promise.then(ajax).then(res =&gt; { data.push(res); return data; // æŠŠæ¯æ¬¡çš„ç»“æœè¿”å› }) }) // æœ€åå¾—åˆ°çš„promiseå®ƒçš„å€¼å°±æ˜¯data return promise; } å¤åˆ¶ä»£ç  8.4 æ ¹æ®promiseA+å®ç°ä¸€ä¸ªè‡ªå·±çš„promiseè¯´çœŸçš„ï¼Œè¿™é“é¢˜è¢«é—®åˆ°çš„æ¦‚ç‡è¿˜æ˜¯æŒºé«˜çš„ï¼Œè€Œä¸”è¦è¯´çš„å†…å®¹ä¹Ÿå¾ˆå¤šâ€¦ éœ–å‘†å‘†è¿™é‡Œå·ä¸ªæ‡’ï¼Œä¸æƒ³ç»†è¯´äº†â€¦ ä¸è¿‡å“ˆï¼Œæˆ‘ä¿è¯ï¼Œä¸‹ä¸‹é¢˜æˆ‘ä¸€å®šä»”ç»†è¯´ ğŸ˜¼. ![](https://juejin.im/post/data:image/svg+xml;utf8,) æ¥å§ï¼Œç»™ä½ ä»¬ä¸€äº›å¥½çš„å®å…¸ï¼š [ã€ŠPromiseä¸ä¼šï¼Ÿï¼Ÿçœ‹è¿™é‡Œï¼ï¼ï¼å²ä¸Šæœ€é€šä¿—æ˜“æ‡‚çš„Promiseï¼ï¼ï¼ã€‹](https://juejin.im/post/5afe6d3bf265da0b9e654c4b rel=) ã€Šå†™ä¸€ä¸ªç¬¦åˆ Promises/A+ è§„èŒƒå¹¶å¯é…åˆ ES7 async/await ä½¿ç”¨çš„ Promiseã€‹ 8.5 å°è£…ä¸€ä¸ªå¼‚æ­¥åŠ è½½å›¾ç‰‡çš„æ–¹æ³•è¿™ä¸ªç›¸å¯¹ç®€å•ä¸€äº›ï¼Œåªéœ€è¦åœ¨å›¾ç‰‡çš„onloadå‡½æ•°ä¸­ï¼Œä½¿ç”¨resolveè¿”å›ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚ æ¥çœ‹çœ‹å…·ä½“ä»£ç ï¼š function loadImg(url) { return new Promise((resolve, reject) =&gt; { const img = new Image(); img.onload = function() { console.log(&quot;ä¸€å¼ å›¾ç‰‡åŠ è½½å®Œæˆ&quot;); resolve(img); }; img.onerror = function() { reject(new Error('Could not load image at' + url)); }; img.src = url; }); å¤åˆ¶ä»£ç  8.6 é™åˆ¶å¼‚æ­¥æ“ä½œçš„å¹¶å‘ä¸ªæ•°å¹¶å°½å¯èƒ½å¿«çš„å®Œæˆå…¨éƒ¨æœ‰8ä¸ªå›¾ç‰‡èµ„æºçš„urlï¼Œå·²ç»å­˜å‚¨åœ¨æ•°ç»„urlsä¸­ã€‚ urlsç±»ä¼¼äº['https://image1.png', 'https://image2.png', ....] è€Œä¸”å·²ç»æœ‰ä¸€ä¸ªå‡½æ•°function loadImgï¼Œè¾“å…¥ä¸€ä¸ªurlé“¾æ¥ï¼Œè¿”å›ä¸€ä¸ªPromiseï¼Œè¯¥Promiseåœ¨å›¾ç‰‡ä¸‹è½½å®Œæˆçš„æ—¶å€™resolveï¼Œä¸‹è½½å¤±è´¥åˆ™rejectã€‚ ä½†æœ‰ä¸€ä¸ªè¦æ±‚ï¼Œä»»ä½•æ—¶åˆ»åŒæ—¶ä¸‹è½½çš„é“¾æ¥æ•°é‡ä¸å¯ä»¥è¶…è¿‡3ä¸ªã€‚ è¯·å†™ä¸€æ®µä»£ç å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œè¦æ±‚å°½å¯èƒ½å¿«é€Ÿåœ°å°†æ‰€æœ‰å›¾ç‰‡ä¸‹è½½å®Œæˆã€‚ var urls = [ &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting1.png&quot;, &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting2.png&quot;, &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting3.png&quot;, &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting4.png&quot;, &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting5.png&quot;, &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn6.png&quot;, &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn7.png&quot;, &quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn8.png&quot;, ]; function loadImg(url) { return new Promise((resolve, reject) =&gt; { const img = new Image(); img.onload = function() { console.log(&quot;ä¸€å¼ å›¾ç‰‡åŠ è½½å®Œæˆ&quot;); resolve(img); }; img.onerror = function() { reject(new Error('Could not load image at' + url)); }; img.src = url; }); å¤åˆ¶ä»£ç  çœ‹åˆ°è¿™é“é¢˜æ—¶ï¼Œæˆ‘æœ€å¼€å§‹çš„æƒ³æ³•æ˜¯ï¼š æ‹¿åˆ°urlsï¼Œç„¶åå°†è¿™ä¸ªæ•°ç»„æ¯3ä¸ªurlä¸€ç»„åˆ›å»ºæˆä¸€ä¸ªäºŒç»´æ•°ç»„ ç„¶åç”¨Promise.all()æ¯æ¬¡åŠ è½½ä¸€ç»„urlï¼ˆä¹Ÿå°±æ˜¯å¹¶å‘3ä¸ªï¼‰ï¼Œè¿™ä¸€ç»„åŠ è½½å®Œå†åŠ è½½ä¸‹ä¸€ç»„ã€‚ è¿™ä¸ªæƒ³æ³•ä»æŠ€æœ¯ä¸Šè¯´å¹¶ä¸éš¾å®ç°ï¼Œæœ‰ç‚¹ç±»ä¼¼äºç¬¬ä¸‰é¢˜ã€‚ä¸è¿‡ç¼ºç‚¹ä¹Ÿæ˜æ˜¾ï¼Œé‚£å°±æ˜¯æ¯æ¬¡éƒ½è¦ç­‰åˆ°ä¸Šä¸€ç»„å…¨éƒ¨åŠ è½½å®Œä¹‹åï¼Œæ‰åŠ è½½ä¸‹ä¸€ç»„ï¼Œé‚£å¦‚æœä¸Šä¸€ç»„æœ‰2ä¸ªå·²ç»åŠ è½½å®Œäº†ï¼Œè¿˜æœ‰1ä¸ªç‰¹åˆ«æ…¢ï¼Œè¿˜åœ¨åŠ è½½ï¼Œè¦ç­‰è¿™ä¸ªæ…¢çš„ä¹ŸåŠ è½½å®Œæ‰èƒ½è¿›å…¥ä¸‹ä¸€ç»„ã€‚è¿™æ˜æ˜¾ä¼šç…§å¸¸å¡é¡¿ï¼Œå½±å“åŠ è½½æ•ˆç‡ã€‚ ä½†æ˜¯å¼€å§‹æ²¡æœ‰è€ƒè™‘è¿™ä¹ˆå¤šï¼Œå› æ­¤æœ‰äº†ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚ å¦‚æœä½ æœ‰å…´è¶£å¯ä»¥çœ‹çœ‹æƒ³æ³•ä¸€çš„ä»£ç ï¼Œè™½ç„¶å¯¹ä½ æ²¡ä»€ä¹ˆå¸®åŠ©ï¼Œæƒ³ç›´æ¥çŸ¥é“æ¯”è¾ƒå¥½çš„åšæ³•çš„å°ä¼™ä¼´è¯·è·³åˆ°æƒ³æ³•äºŒ ![](https://juejin.im/post/data:image/svg+xml;utf8,) æƒ³æ³•ä¸€ğŸ’¡ï¼š function limitLoad (urls, handler, limit) { const data = []; // å­˜å‚¨æ‰€æœ‰çš„åŠ è½½ç»“æœ let p = Promise.resolve(); const handleUrls = (urls) =&gt; { // è¿™ä¸ªå‡½æ•°æ˜¯ä¸ºäº†ç”Ÿæˆ3ä¸ªurlä¸ºä¸€ç»„çš„äºŒç»´æ•°ç»„ const doubleDim = []; const len = Math.ceil(urls.length / limit); // Math.ceil(8 / 3) = 3 console.log(len) // 3, è¡¨ç¤ºäºŒç»´æ•°ç»„çš„é•¿åº¦ä¸º3 for (let i = 0; i &lt; len; i++) { doubleDim.push(urls.slice(i * limit, (i + 1) * limit)) } return doubleDim; } const ajaxImage = (urlCollect) =&gt; { // å°†ä¸€ç»„å­—ç¬¦ä¸²url è½¬æ¢ä¸ºä¸€ä¸ªåŠ è½½å›¾ç‰‡çš„æ•°ç»„ console.log(urlCollect) return urlCollect.map(url =&gt; handler(url)) } const doubleDim = handleUrls(urls); // å¾—åˆ°3ä¸ªurlä¸ºä¸€ç»„çš„äºŒç»´æ•°ç»„ doubleDim.forEach(urlCollect =&gt; { p = p.then(() =&gt; Promise.all(ajaxImage(urlCollect))).then(res =&gt; { data.push(...res); // å°†æ¯æ¬¡çš„ç»“æœå±•å¼€ï¼Œå¹¶å­˜å‚¨åˆ°dataä¸­ (resä¸ºï¼š[img, img, img]) return data; }) }) return p; } limitLoad(urls, loadImg, 3).then(res =&gt; { console.log(res); // æœ€ç»ˆå¾—åˆ°çš„æ˜¯é•¿åº¦ä¸º8çš„imgæ•°ç»„: [img, img, img, ...] res.forEach(img =&gt; { document.body.appendChild(img); }) }); å¤åˆ¶ä»£ç  æƒ³æ³•äºŒğŸ’¡ï¼š å‚è€ƒLHHå¤§ç¿°ä»”ä»”-Promiseé¢è¯•é¢˜ æ—¢ç„¶é¢˜ç›®çš„è¦æ±‚æ˜¯ä¿è¯æ¯æ¬¡å¹¶å‘è¯·æ±‚çš„æ•°é‡ä¸º3ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å…ˆè¯·æ±‚urlsä¸­çš„å‰é¢ä¸‰ä¸ª(ä¸‹æ ‡ä¸º0,1,2)ï¼Œå¹¶ä¸”è¯·æ±‚çš„æ—¶å€™ä½¿ç”¨Promise.race()æ¥åŒæ—¶è¯·æ±‚ï¼Œä¸‰ä¸ªä¸­æœ‰ä¸€ä¸ªå…ˆå®Œæˆäº†(ä¾‹å¦‚ä¸‹æ ‡ä¸º1çš„å›¾ç‰‡)ï¼Œæˆ‘ä»¬å°±æŠŠè¿™ä¸ªå½“å‰æ•°ç»„ä¸­å·²ç»å®Œæˆçš„é‚£ä¸€é¡¹(ç¬¬1é¡¹)æ¢æˆè¿˜æ²¡æœ‰è¯·æ±‚çš„é‚£ä¸€é¡¹(urlsä¸­ä¸‹æ ‡ä¸º3)ã€‚ ç›´åˆ°urlså·²ç»éå†å®Œäº†ï¼Œç„¶åå°†æœ€åä¸‰ä¸ªæ²¡æœ‰å®Œæˆçš„è¯·æ±‚(ä¹Ÿå°±æ˜¯çŠ¶æ€æ²¡æœ‰æ”¹å˜çš„Promise)ç”¨Promise.all()æ¥åŠ è½½å®ƒä»¬ã€‚ ä¸å¤šè¯´ï¼Œæµç¨‹å›¾éƒ½ç»™ä½ ç”»å¥½äº†ï¼Œä½ å¯ä»¥ç»“åˆæµç¨‹å›¾å†æ¥çœ‹ä»£ç ã€‚ ä¸ºäº†æ–¹ä¾¿ä½ æŸ¥çœ‹ï¼Œæˆ‘æˆªäº†ä¸ªå›¾ï¼Œä¸è¿‡ä»£ç åœ¨åé¢ä¹Ÿæœ‰ (è¯´çœŸçš„ï¼Œè¦æˆ‘çœ‹è¿™ä¸€å¤§é•¿ä¸²ä»£ç æˆ‘ä¹Ÿä¸æ„¿æ„â€¦) ä»£ç ï¼š function limitLoad(urls, handler, limit) { let sequence = [].concat(urls); // å¤åˆ¶urls // è¿™ä¸€æ­¥æ˜¯ä¸ºäº†åˆå§‹åŒ– promises è¿™ä¸ª&quot;å®¹å™¨&quot; let promises = sequence.splice(0, limit).map((url, index) =&gt; { return handler(url).then(() =&gt; { // è¿”å›ä¸‹æ ‡æ˜¯ä¸ºäº†çŸ¥é“æ•°ç»„ä¸­æ˜¯å“ªä¸€é¡¹æœ€å…ˆå®Œæˆ return index; }); }); // æ³¨æ„è¿™é‡Œè¦å°†æ•´ä¸ªå˜é‡è¿‡ç¨‹è¿”å›ï¼Œè¿™æ ·å¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªPromiseï¼Œå¯ä»¥åœ¨å¤–é¢é“¾å¼è°ƒç”¨ return sequence .reduce((pCollect, url) =&gt; { return pCollect .then(() =&gt; { return Promise.race(promises); // è¿”å›å·²ç»å®Œæˆçš„ä¸‹æ ‡ }) .then(fastestIndex =&gt; { // è·å–åˆ°å·²ç»å®Œæˆçš„ä¸‹æ ‡ // å°†&quot;å®¹å™¨&quot;å†…å·²ç»å®Œæˆçš„é‚£ä¸€é¡¹æ›¿æ¢ promises[fastestIndex] = handler(url).then( () =&gt; { return fastestIndex; // è¦ç»§ç»­å°†è¿™ä¸ªä¸‹æ ‡è¿”å›ï¼Œä»¥ä¾¿ä¸‹ä¸€æ¬¡å˜é‡ } ); }) .catch(err =&gt; { console.error(err); }); }, Promise.resolve()) // åˆå§‹åŒ–ä¼ å…¥ .then(() =&gt; { // æœ€åä¸‰ä¸ªç”¨.allæ¥è°ƒç”¨ return Promise.all(promises); }); } limitLoad(urls, loadImg, 3) .then(res =&gt; { console.log(&quot;å›¾ç‰‡å…¨éƒ¨åŠ è½½å®Œæ¯•&quot;); console.log(res); }) .catch(err =&gt; { console.error(err); }); å¤åˆ¶ä»£ç  åè¯­å‚è€ƒæ–‡ç« ï¼š ã€ŠES6ä¹‹Promiseå¸¸è§é¢è¯•é¢˜ã€‹ ã€Šå¦‚ä½•è®©å¼‚æ­¥æ“ä½œé¡ºåºæ‰§è¡Œã€‹ ã€Šå¤§ç™½è¯è®²è§£Promiseï¼ˆä¸€ï¼‰ ã€ŠLHHå¤§ç¿°ä»”ä»”-Promiseé¢è¯•é¢˜ã€‹ ã€Šä»Šæ—¥å¤´æ¡async/awaité¢è¯•é¢˜æ‰§è¡Œé¡ºåºã€‹ ã€Š(2.4wå­—,å»ºè®®æ”¶è—)ğŸ˜‡åŸç”ŸJSçµé­‚ä¹‹é—®(ä¸‹), å†²åˆºğŸš€è¿›é˜¶æœ€åä¸€å…¬é‡Œ(é™„ä¸ªäººæˆé•¿ç»éªŒåˆ†äº«)ã€‹","link":"/posts/Promise%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/"},{"title":"Webpack åŸºç¡€æ•™ç¨‹","text":"[TOC] æ…¢æ…¢æ¥ å…¶å®æ¯”è¾ƒå¿« å­¦ä¹ å°½é‡åšåˆ°çŸ¥å…¶ç„¶çŸ¥å…¶æ‰€ä»¥ç„¶ è§†é¢‘æ•™ç¨‹æ¥æºè¿™ç¯‡ç¬”è®°æ˜¯jspangæ•™ç¨‹çš„å­¦ä¹ ç¬”è®° ç¬¬01èŠ‚ï¼šè®¤è¯†WebPackçš„ä½œç”¨ä»€ä¹ˆæ˜¯WebPack WebPackå¯ä»¥çœ‹åšæ˜¯æ¨¡å—æ‰“åŒ…æœºï¼šå®ƒåšçš„äº‹æƒ…æ˜¯ï¼Œåˆ†æä½ çš„é¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°JavaScriptæ¨¡å—ä»¥åŠå…¶å®ƒçš„ä¸€äº›æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œçš„æ‹“å±•è¯­è¨€ï¼ˆSassï¼ŒTypeScriptç­‰ï¼‰ï¼Œå¹¶å°†å…¶è½¬æ¢å’Œæ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚åœ¨4.0å‡ºç°åï¼ŒWebpackè¿˜è‚©è´Ÿèµ·äº†ä¼˜åŒ–é¡¹ç›®çš„è´£ä»»ã€‚ é‡ç‚¹ æ‰“åŒ…ï¼šå¯ä»¥æŠŠå¤šä¸ªJavascriptæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›å’Œä¸‹è½½å¸¦å®½ã€‚ è½¬æ¢ï¼šæŠŠæ‹“å±•è¯­è¨€è½¬æ¢æˆä¸ºæ™®é€šçš„JavaScriptï¼Œè®©æµè§ˆå™¨é¡ºåˆ©è¿è¡Œã€‚ ä¼˜åŒ–ï¼šå‰ç«¯å˜çš„è¶Šæ¥è¶Šå¤æ‚åï¼Œæ€§èƒ½ä¹Ÿä¼šé‡åˆ°é—®é¢˜ï¼Œè€ŒWebPackä¹Ÿå¼€å§‹è‚©è´Ÿèµ·äº†ä¼˜åŒ–å’Œæå‡æ€§èƒ½çš„è´£ä»»ã€‚ å®‰è£…å‰æå¿…é¡»å…ˆå®‰è£…node(node -væ¥æŸ¥çœ‹nodeå®‰è£…æƒ…å†µå’Œç‰ˆæœ¬) å…¨å±€å®‰è£…webpackå®˜æ–¹ä¸æ¨èå…¨å±€å®‰è£…ã€‚è¿™ä¼šå°†æ‚¨é¡¹ç›®ä¸­çš„ webpack é”å®šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨ä¸åŒçš„ webpack ç‰ˆæœ¬çš„é¡¹ç›®ä¸­ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ„å»ºå¤±è´¥ã€‚ 1npm install -g webpack å¯¹é¡¹ç›®ç›®å½•è¿›è¡Œå®‰è£… å…ˆå¯¹é¡¹ç›®è¿›è¡Œåˆå§‹åŒ– ç„¶ååœ¨é¡¹ç›®ç›®å½•ä¸­è¿›è¡Œå®‰è£… ç”¨webpack -v æŸ¥çœ‹ç‰ˆæœ¬ â€“save ä¿å­˜åˆ°package.jsonæ–‡ä»¶ä¸­ dev ä¿å­˜åˆ°å¼€å‘ç¯å¢ƒä¸­è€Œç”Ÿäº§ç¯å¢ƒä¸­ä¸ä½¿ç”¨ 123456npm initnpm install --save-dev webpack webpack-clinpm install --D webpack webpack-cli# å®‰è£…æŒ‡å®šç‰ˆæœ¬npm install webpack@4.16.5 æŸ¥çœ‹webpackç‰ˆæœ¬npx webpack -v npxè§£å†³çš„ä¸»è¦é—®é¢˜å°±æ˜¯è°ƒç”¨é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—,è¿˜èƒ½é¿å…å…¨å±€å®‰è£…çš„æ¨¡å— npx çš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯è¿è¡Œçš„æ—¶å€™ï¼Œä¼šåˆ°node_modules/.binè·¯å¾„å’Œç¯å¢ƒå˜é‡$PATHé‡Œé¢ï¼Œæ£€æŸ¥å‘½ä»¤æ˜¯å¦å­˜åœ¨ã€‚ ç”±äº npx ä¼šæ£€æŸ¥ç¯å¢ƒå˜é‡$PATHï¼Œæ‰€ä»¥ç³»ç»Ÿå‘½ä»¤ä¹Ÿå¯ä»¥è°ƒç”¨ã€‚ 4.39.3 å°çŸ¥è¯†å¼€å‘ç¯å¢ƒandç”Ÿäº§ç¯å¢ƒï¼š å¼€å‘ç¯å¢ƒï¼šåœ¨å¼€å‘æ—¶éœ€è¦çš„ç¯å¢ƒï¼Œè¿™é‡ŒæŒ‡åœ¨å¼€å‘æ—¶éœ€è¦ä¾èµ–çš„åŒ…ã€‚ç”Ÿäº§ç¯å¢ƒï¼šç¨‹åºå¼€å‘å®Œæˆï¼Œå¼€å§‹è¿è¡Œåçš„ç¯å¢ƒï¼Œè¿™é‡ŒæŒ‡è¦ä½¿é¡¹ç›®è¿è¡Œï¼Œæ‰€éœ€è¦çš„ä¾èµ–åŒ…ã€‚ ç¬¬äºŒèŠ‚ å¿«é€Ÿä¸Šæ‰‹ä¸€ä¸ªDemoå»ºç«‹åŸºæœ¬é¡¹ç›®ç»“æ„åˆ›å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•ï¼Œè¿›å…¥ååœ¨æ ¹ç›®å½•å»ºç«‹ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«æ˜¯srcæ–‡ä»¶å¤¹å’Œdistæ–‡ä»¶å¤¹ï¼š srcæ–‡ä»¶å¤¹ï¼šç”¨æ¥å­˜æ”¾æˆ‘ä»¬ç¼–å†™çš„javascriptä»£ç (æºä»£ç )distæ–‡ä»¶å¤¹ï¼šç”¨æ¥å­˜æ”¾ä¾›æµè§ˆå™¨è¯»å–çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯webpackæ‰“åŒ…æˆçš„æ–‡ä»¶ã€‚ åœ¨distä¸­æ–°å»ºindex.html 1234567891011121314&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;webpack tutorials&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;title&quot;&gt;&lt;/div&gt; &lt;script src=&quot;./bundle.js&quot;&gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; åœ¨srcä¸­æ–°å»ºentry.js src/entery.js 1document.getElementById('title').innerHTML='Hello Webpack'; è¿™ä¸ªæ–‡ä»¶çš„ä»£ç å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨&lt;div id=â€titleâ€&gt;&lt;/div&gt;æ ‡ç­¾é‡Œå†™å…¥Hello Webpackè¿™å¥è¯ã€‚ ç¬¬ä¸€æ¬¡Webpackæ‰“åŒ…åœ¨ç»ˆç«¯ä¸­ç”¨å‘½ä»¤è¡Œæ‰“åŒ…ã€‚ è¯­æ³•ï¼š 1webpack {entry file} {destination for bundled file} åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæ‰§è¡Œ 1webpack src/entry.js dist/bundle.js æ‰§è¡ŒæˆåŠŸåï¼Œä¼šåœ¨distæ–‡ä»¶å¤¹ä¸­å‡ºç°bundle.js,ç”¨æµè§ˆå™¨æŸ¥çœ‹index.htmlå¯ä»¥æŸ¥çœ‹æ•ˆæœ æ€»ç»“-ç¬¬2èŠ‚ä»è¿™ä¸ªDemoä¸­ä½ ä¼šäº†è§£åˆ°webpackçš„åŸºæœ¬ç”¨æ³•å’Œä½¿ç”¨è¿‡ç¨‹ï¼Œ å¹¶å­¦ä¼šäº†å‘½ä»¤è¡Œæ‰“åŒ…çš„æ–¹æ³•ã€‚ åœ¨è¿™èŠ‚æ–‡ç« çš„æœ€åï¼Œè¿˜æ˜¯è¦å¼ºè°ƒï¼Œä½ ä¸€å®šè¦æŠŠæœ¬èŠ‚å†…å®¹åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šæ•²ä¸€éï¼Œè¿™æ ·ä½ æ‰èƒ½æ·±å…¥äº†è§£ã€‚ åœ¨æµè§ˆå™¨ä¸­ç”¨live-serverè®¿é—®æ–‡ä»¶ç”¨å‘½ä»¤è¡Œ å®‰è£…live-server 1npm install -g live-server åœ¨è¯¥é¡¹ç›®ä¸­ç”¨å‘½ä»¤è¡Œ 1live-server å³å¯åœ¨æµè§ˆå™¨ä¸­è®¿é—®æ–‡ä»¶ ç”¨webpackçš„scriptså‘½ä»¤å°è£… åœ¨package.jsonçš„scriptsä¸­ 123&quot;scripts&quot;: {&quot;server&quot;: &quot;live-server ./ --port=9090&quot;} æ‰§è¡Œ 1npm run server ç¬¬03èŠ‚ï¼šé…ç½®æ–‡ä»¶ï¼šå…¥å£å’Œå‡ºå£è¿™èŠ‚è¯¾æˆ‘ä»¬å°±å­¦ä¹ é…ç½®æ–‡ä»¶çš„å¤§ä½“ç»“æ„å’Œå…¥å£å‡ºå£æ–‡ä»¶çš„é…ç½®ã€‚ é…ç½®æ–‡ä»¶webpack.config.js123456789101112module.exports = { // å…¥å£æ–‡ä»¶ entry: {}, // å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹ output: {}, // æ¨¡å—,ä¾‹å¦‚ç¼–è¯‘css,js,è½¬æ¢å›¾ç‰‡ï¼Œå‹ç¼©ï¼Œåˆå¹¶ module: {}, // æ’ä»¶ï¼Œç”¨äºç”Ÿäº§æ¨¡æ¿å’Œå„é¡¹åŠŸèƒ½ plugins: [], // é…ç½®webpackå¼€å‘æœåŠ¡åŠŸèƒ½ devServer: {}} entryï¼šé…ç½®å…¥å£æ–‡ä»¶çš„åœ°å€ï¼Œå¯ä»¥æ˜¯å•ä¸€å…¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šå…¥å£ã€‚outputï¼šé…ç½®å‡ºå£æ–‡ä»¶çš„åœ°å€ï¼Œåœ¨webpack2.Xç‰ˆæœ¬åï¼Œæ”¯æŒå¤šå‡ºå£é…ç½®ã€‚moduleï¼šé…ç½®æ¨¡å—ï¼Œä¸»è¦æ˜¯è§£æCSSå’Œå›¾ç‰‡è½¬æ¢å‹ç¼©ç­‰åŠŸèƒ½ã€‚pluginsï¼šé…ç½®æ’ä»¶ï¼Œæ ¹æ®ä½ çš„éœ€è¦é…ç½®ä¸åŒåŠŸèƒ½çš„æ’ä»¶ã€‚devServerï¼šé…ç½®å¼€å‘æœåŠ¡åŠŸèƒ½ã€‚ entryé€‰é¡¹ï¼ˆå…¥å£é…ç½®ï¼‰é…ç½®è¦å‹ç¼©çš„æ–‡ä»¶ã€‚ä¸€èˆ¬æ˜¯JavaScriptï¼Œä¹Ÿå¯ä»¥æ˜¯CSSæ–‡ä»¶ã€‚ 12345// å…¥å£æ–‡ä»¶é…ç½®entry: { // é‡Œé¢çš„entryå¯ä»¥éšä¾¿èµ·åå­—ï¼Œå¤–é¢çš„æ˜¯å›ºå®šçš„ entry: './src/entry.js'} output(å‡ºå£é…ç½®)é…ç½®webpackæœ€åæ‰“åŒ…æ–‡ä»¶çš„åœ°å€å’Œåç§°ã€‚ 1234567// å‡ºå£æ–‡ä»¶é…ç½®output: { // æ‰“åŒ…çš„æ–‡ä»¶ä½ç½® path: path.resolve(__dirname, 'dist'), // æ‰“åŒ…çš„æ–‡ä»¶åç§° filename: 'bundle.js'} éœ€è¦åœ¨webpack.config.jså¤´éƒ¨å¼•å…¥path 1const path = require('path'); path.resolve(__dirname, â€˜distâ€™) è·å–é¡¹ç›®çš„ç»å¯¹è·¯å¾„filename: æ‰“åŒ…åçš„æ–‡ä»¶åç§°ã€‚ webpackå•æ–‡ä»¶å…¥å£é…ç½®ä»£ç 12345678910111213141516const path = require('path')module.exports = { // å…¥å£æ–‡ä»¶ entry: './src/entry.js', // å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹ output: { path: path.resolve(__dirname, 'dist'), filename: 'bundle.js' }, // æ¨¡å—,ä¾‹å¦‚ç¼–è¯‘css,js,è½¬æ¢å›¾ç‰‡ï¼Œå‹ç¼©ï¼Œåˆå¹¶ module: {}, // æ’ä»¶ï¼Œç”¨äºç”Ÿäº§æ¨¡æ¿å’Œå„é¡¹åŠŸèƒ½ plugins: [], // é…ç½®webpackå¼€å‘æœåŠ¡åŠŸèƒ½ devServer: {}} é…ç½®å®Œæˆåï¼Œåœ¨ç»ˆç«¯ç›´æ¥è¾“å…¥webpackå°±ä¼šæ‰“åŒ… å¤šå…¥å£ã€å¤šå‡ºå£é…ç½®åœ¨entryé…ç½®å¤šä¸ªæ–‡ä»¶ï¼Œ åœ¨outputå¤„é…ç½®æ–‡ä»¶åä¸ºåŠ¨æ€çš„ 1234567891011121314151617181920212223const path = require('path')module.exports = { // å…¥å£æ–‡ä»¶ entry: { entry: './src/entry.js', entry2: './src/entry2.js' }, // å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹ output: { // è¾“å‡ºçš„è·¯å¾„ path: path.resolve(__dirname, 'dist'), publicPath: 'http://www.cdn.com/assets/', // è¾“å‡ºæ–‡ä»¶çš„åç§° filename: '[name].js' }, // æ¨¡å—,ä¾‹å¦‚ç¼–è¯‘css,js,è½¬æ¢å›¾ç‰‡ï¼Œå‹ç¼©ï¼Œåˆå¹¶ module: {}, // æ’ä»¶ï¼Œç”¨äºç”Ÿäº§æ¨¡æ¿å’Œå„é¡¹åŠŸèƒ½ plugins: [], // é…ç½®webpackå¼€å‘æœåŠ¡åŠŸèƒ½ devServer: {}, mode: 'production'} [mode]: webpackä¸­æ–°å¢çš„é…ç½®ï¼Œåˆ†ä¸ºå¼€å‘ï¼Œçº¿ä¸Šã€‚å¯ä»¥åœ¨å‘½ä»¤è¡Œåé¢æ·»åŠ å¦‚: webpack --mode=development[publicPath]: è‡ªåŠ¨å°†cdnè·¯å¾„æ·»åŠ åˆ°ä»£ç é‡Œçš„èµ„æºé“¾æ¥ä¸Š[plugin]: å¯ä»¥åœ¨webpackè¿è¡Œåˆ°æŸä¸ªæ—¶åˆ»æ—¶ï¼Œå¸®ä½ åšä¸€äº›äº‹æƒ…[name]ï¼š æ ¹æ®å…¥å£æ–‡ä»¶çš„åç§°ï¼Œæ‰“åŒ…æˆç›¸åŒçš„åç§°ï¼Œæœ‰å‡ ä¸ªå…¥å£æ–‡ä»¶ï¼Œå°±æ‰“åŒ…æˆå‡ ä¸ªæ–‡ä»¶ã€‚ æ€»ç»“-ç¬¬3èŠ‚ä»»ä½•é¡¹ç›®çš„webpackéƒ½è¦æ‰§è¡Œè¿™äº›æ“ä½œã€‚éœ€è¦ç‰¢è®° å°çŸ¥è¯† è°ƒè¯•jsæ–‡ä»¶ åœ¨jsä¸­å†™console.log() ç›´æ¥åœ¨å‘½ä»¤è¡Œ node index.jsï¼Œ å³å¯åœ¨ç»ˆç«¯æŸ¥çœ‹æ‰“å°å†…å®¹ ç¬¬4èŠ‚ï¼š é…ç½®æ–‡ä»¶ï¼šæœåŠ¡å’Œçƒ­æ›´æ–°çƒ­æ›´æ–°ï¼šæ‰€è§å³æ‰€å¾— è®¾ç½®webpack-dev-server å…ˆå®‰è£…webpack-dev-server 1npm install webpack-dev-server --save-dev é…ç½®devServer webpack.config.js 123456789101112131415161718192021devServer: { // è®¾ç½®åŸºæœ¬ç›®å½•ç»“æ„ contentBase: path.resolve(__dirname, 'dist'), // æœåŠ¡å™¨çš„IPåœ°å€ï¼Œå¯ä»¥æ˜¯IPä¹Ÿå¯ä»¥æ˜¯localhost host: 'localhost', // æœåŠ¡ç«¯å‹ç¼©æ˜¯å¦å¼€å¯ compress: true, // é…ç½®æœåŠ¡ç«¯å£ port: 8089, // é»˜è®¤æ‰“å¼€æµè§ˆå™¨ï¼Œå¯ä»¥ç”¨å­—ç¬¦ä¸²ä»£æ›¿ç”¨å“ªä¸ªæµè§ˆå™¨æ‰“å¼€. 'Google Chrome', å¯ä»¥ä»£æ›¿--open open: true, // è·¯ç”±ä»£ç†æ‰“åˆ°å‰ç«¯æ¡†æ¶ historyApiFallback: true, // å¼€å¯hotModuleReplace hot: true, // å¦‚æœæ‰“åŒ…æŠ¥é”™ï¼Œç›´æ¥åœ¨é¡µé¢ä¸Šå±•ç¤ºé”™è¯¯ï¼Œè€Œä¸æ˜¯åœ¨ç»ˆç«¯å±•ç¤ºé”™è¯¯ overlay: true, proxy: { '/api': 'http://localhost:3000' }} é…ç½®scripts package.json 123&quot;scripts&quot;: { &quot;server&quot;: &quot;webpack-dev-server --open&quot; }, åœ¨è¿™é‡Œç›´æ¥è®¾ç½® â€“openå³å¯è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ åœ¨ç»ˆç«¯é‡Œè¾“å…¥npm run server æ‰“å¼€æœåŠ¡å™¨ï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://localhost:8089å³å¯çœ‹åˆ°ç»“æœ historyApiFallbackwebpackä¸é…ç½®è¿™ä¸ªçš„è¯ï¼Œæ­£å¸¸çš„reactè¯·æ±‚ä¼šç›´æ¥è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œä¸ä¼šèµ°reactå†…éƒ¨çš„è·¯ç”± historyApiFallbackå°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜ TODOåˆ°äº†çº¿ä¸Šè¦é…ç½®NGINXï¼Œè®©è·¯ç”±æ‰“åˆ°é¡¹ç›®é‡Œ æ”¯æŒçƒ­æ›´æ–°npm run server å¯åŠ¨åï¼Œæœ‰ä¸€ç§ç›‘æ§æœºåˆ¶(watch), ç›‘æ§ä¿®æ”¹æºç ï¼Œå¹¶ç«‹å³åœ¨æµè§ˆå™¨é‡Œæ›´æ–°ã€‚ æ³¨æ„ï¼šwebpack 3.6ç‰ˆæœ¬ä»¥åå†…ç½®çƒ­æ›´æ–°åŠŸèƒ½ï¼Œä¸éœ€è¦é¢å¤–æ“ä½œã€‚ proxyè®¾ç½® 123456789101112131415proxy: { '/react/api': 'http://www.dell-lee.com', '/react/api': { target: 'http://www.dell-lee.com' // httpsæ¥å£éœ€è¦é…ç½®è¿™ä¸ª secure: false, // è§£å†³æŸäº›ç½‘ç«™å¯¹æºé™åˆ¶ changeOrigin: true, // åœ¨é…ç½®é‡Œè¯·æ±‚è½¬å‘ï¼Œä»£ç é‡Œè¯·æ±‚header.jsonï¼Œå®é™…å»è¯·æ±‚demo.jsonï¼Œçœå»ä¿®æ”¹ä»£ç é‡Œæ¥å£çš„éº»çƒ¦ pathRewrite: { 'header.json': 'demo.json' } }} ç¬¬5èŠ‚ï¼š æ¨¡å—ï¼šCSSæ–‡ä»¶æ‰“åŒ…webpackåœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„ä½œç”¨ä¹‹ä¸€ï¼šå‡å°‘httpè¯·æ±‚æ•°ï¼ŒæŠŠå¤šä¸ªæ–‡ä»¶æ‰“åŒ…åˆ°ä¸€ä¸ªjsæ–‡ä»¶ä¸­ï¼Œè¯·æ±‚æ•°å¯ä»¥å‡å°‘å¥½å¤šã€‚ å­¦ä¹ cssæ–‡ä»¶æ‰“åŒ…ä¹‹å‰ï¼Œéœ€è¦å…ˆå¯¹webpack.config.jsé‡Œçš„Loadersé…ç½®é¡¹è¿›è¡Œäº†è§£ã€‚ LoadersLoadersæ˜¯Webpackæœ€é‡è¦çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ç››è¡Œçš„åŸå› ã€‚ é€šè¿‡é…ç½®ä¸åŒçš„Loadersï¼ŒWebpackå¯ä»¥ç”¨è„šæœ¬å’Œå·¥å…·å¯¹ä¸åŒçš„æ–‡ä»¶æ ¼å¼è¿›è¡Œç‰¹å®šçš„å¤„ç†ã€‚ ä¾‹å­ï¼š å¯ä»¥æŠŠless, sassè½¬æ¢æˆcss,è€Œä¸ä½¿ç”¨å…¶ä»–å·¥å…· å†™ä»£ç æ—¶ï¼Œå¯ä»¥ç”¨ES6, ES7è¯­æ³•ï¼Œè½¬æ¢æˆå¤§å¤šæ•°æµè§ˆå™¨å…¼å®¹çš„ä»£ç  å¯ä»¥æŠŠReactä¸­çš„jsxè½¬æ¢æˆJavaScriptä»£ç  æ³¨æ„ï¼šæ‰€æœ‰Loaderséƒ½è¦åœ¨npmä¸­å•ç‹¬å®‰è£…ï¼Œå¹¶åœ¨webpack.config.jsä¸­é…ç½®ï¼Œä¸‹é¢å¯¹å‡ ç§é…ç½®å‹ç®€å•æ¢³ç†ã€‚ test: ç”¨äºåŒ¹é…å¤„ç†æ–‡ä»¶æ‰©å±•åçš„è¡¨è¾¾å¼ï¼Œã€å¿…é¡»è®¾ç½®ã€‘ï¼› use: loaderåç§°ï¼Œã€å¿…é¡»é…ç½®ï¼Œå¦åˆ™æŠ¥é”™ã€‘ï¼› include/exclude: æ‰‹åŠ¨æ·»åŠ å¿…é¡»å¤„ç†çš„æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼Œæˆ–å±è”½ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶/æ–‡ä»¶å¤¹,ã€å¯é€‰ã€‘ï¼› query: ä¸ºloadersæä¾›é¢å¤–çš„è®¾ç½®é€‰é¡¹ï¼Œã€å¯é€‰ã€‘ã€‚ æ‰“åŒ…CSSæ–‡ä»¶å»ºç«‹index.cssæ–‡ä»¶åœ¨src/css ç›®å½•ä¸‹ï¼Œå»ºä¸€ä¸ªindex.cssæ–‡ä»¶ 1234body { background-color: red; color: white;} css æ–‡ä»¶å»ºç«‹å¥½åï¼Œéœ€è¦å¼•å…¥åˆ°å…¥å£æ–‡ä»¶ä¸­ï¼Œæ‰å¯ä»¥æ‰“åŒ…åˆ°distä¸­ã€‚ è¿™é‡Œå¼•å…¥åˆ°entry.jsä¸­ src/entry.jsé¦–è¡ŒåŠ å…¥ 1import css from './css/index.css'; è¿™é‡Œè¡Œæœ«ä¸€å®šè¦åŠ åˆ†å·ï¼Œæ²¡åŠ å°±æ— æ³•ç¼–è¯‘CSSæ–‡ä»¶æŠ¥é”™CSS å¼•å…¥åï¼Œéœ€è¦ä½¿ç”¨loaderæ¥è§£æCSSæ–‡ä»¶ï¼Œè¿™é‡Œç”¨åˆ°style-loader,css-loader. style-loader å®˜ç½‘ç”¨æ¥å¤„ç†cssæ–‡ä»¶ä¸­çš„url()ç­‰ã€‚ å®‰è£… 1npm install style-loader --save-dev css-loader å®˜ç½‘ç”¨æ¥å°†cssæ’å…¥åˆ°é¡µé¢çš„styleæ ‡ç­¾ã€‚å®‰è£… 1npm install css-loader --save-dev ä¸¤ä¸ªéƒ½å®‰è£…å¥½åï¼Œå¼€å§‹é…ç½®loaders loadersé…ç½®ä¿®æ”¹webpack.config.jsä¸­çš„moduleå±æ€§ï¼Œä»£ç å¦‚ä¸‹ï¼š webpack.config.js 12345678module: { rules: [ { test: /\\.css$/, use: ['style-loader', 'css-loader'] } ]}, 1234567891011121314151617module: { rules: [ { test: /\\.css$/, use: [ 'style-loader', { loader: 'css-loader', options: { importLoaders: 2, modules: true } } ] } ]}, modules: true ä½¿ç”¨cssæ¨¡å—åŒ–importLoaders: åœ¨ css-loader å‰åº”ç”¨çš„ loader çš„æ•°é‡ï¼Œ ç”¨äºåœ¨cssæ–‡ä»¶ä¸­å¼•å…¥cssæ–‡ä»¶ï¼Œè®©loaderä¹Ÿå»å¤„ç†å¼•å…¥æ–‡ä»¶ä¸­çš„æ ·å¼ loaderä¸‰ç§å†™æ³• ç›´æ¥ç”¨use 12345678module: { rules: [ { test: /\\.css$/, use: ['style-loader', 'css-loader'] } ]} æŠŠuseæ¢æˆloader 123456module: { rules: [ test: /\\.css$/, loader: ['style-loader', 'css-loader'] ]} ç”¨use+loader è¿™ç§æœ€å¸¸ç”¨ï¼Œå› ä¸ºæ¯ä¸ªéƒ½æœ‰ä¸åŒçš„é…ç½®é¡¹ï¼ï¼ 1234567891011module: { rules: [ { test: /\\.css$/, use: [ {loader: 'style-loader'}, {loader: 'css-loader'} ] } ]} ç”¨å“ªç§å†™æ³•éƒ½å¯ä»¥ï¼Œå¯ä»¥çœ‹å‡ºwebpackçš„æ‰©å±•å’Œçµæ´»æ€§éå¸¸å¼ºæœ€é‡è¦çš„æ˜¯ï¼š çœ‹è§åˆ«äººé¡¹ç›®çš„å…¶ä»–å†™æ³•ä¹Ÿä¸è¦æ…Œå¼ ï¼Œè‡ªå·±è¯•è¯•ï¼Œæœ‰å¯èƒ½Getåˆ°æ–°çŸ¥è¯†ã€‚ æ€»ç»“-ç¬¬5èŠ‚loaderçš„ä½¿ç”¨å†³å®šäº†webpackæ°´å¹³çš„é«˜ä½ï¼Œä¸€å®šè¦é‡è§†å’Œç»ƒä¹ ã€‚ ç¬¬6èŠ‚ï¼š æ’ä»¶é…ç½®ï¼š é…ç½®JSå‹ç¼©å‹ç¼©JSä»£ç å¼•å…¥uglifyjs-webpack-plugin(jså‹ç¼©æ’ä»¶ï¼Œç®€ç§°uglify) æ³¨æ„ï¼š è™½ç„¶uglifyjsæ˜¯æ’ä»¶ï¼Œä½†webpackç‰ˆæœ¬å·²é»˜è®¤é›†æˆï¼Œä¸éœ€è¦å†æ¬¡å®‰è£…ã€‚ å¼•å…¥åœ¨webpack.config.jsä¸­å¼•å…¥æ’ä»¶ï¼Œ 1const uglify = require('uglifyjs-webpack-plugin') å¼•å…¥åï¼Œåœ¨pluginsé…ç½®é‡Œnewä¸€ä¸ªuglifyå¯¹è±¡ã€‚ä»£ç å¦‚ä¸‹ 123plugins: [ new uglify()] è¿™é‡Œæ‰§è¡Œwebpackæ˜¯å¯ä»¥æ‰“åŒ…æˆåŠŸçš„ ä½†æ˜¯æ‰§è¡Œnpm run serveræ—¶ï¼ŒæŠ¥é”™,åŸå› è¿˜å¾…æŸ¥ å·²æ‰¾åˆ° ***123456ERROR in entry.js from UglifyJsUnexpected token: name (urlParts) [entry.js:317,4]ERROR in entry2.js from UglifyJsUnexpected token: name (urlParts) [entry2.js:317,4]webpack: Failed to compile. é¦–å…ˆè¦å…ˆå¼„æ¸…æ¥šä»€ä¹ˆæ˜¯å¼€å‘ç¯å¢ƒï¼Œ ä»€ä¹ˆæ˜¯ç”Ÿäº§ç¯å¢ƒã€‚ å¼€å‘ç¯å¢ƒåŸºæœ¬ä¸ä¼šå¯¹jsè¿›è¡Œå‹ç¼©ï¼Œåœ¨å¼€å‘é¢„è§ˆæ—¶ï¼Œéœ€è¦æ˜ç¡®çš„æŠ¥é”™è¡Œæ•°å’Œé”™è¯¯ä¿¡æ¯ï¼Œæ‰€ä»¥æ²¡æœ‰å¿…è¦å‹ç¼©JavaScriptä»£ç ã€‚ ç”Ÿäº§ç¯å¢ƒæ‰ä¼šå‹ç¼©jsä»£ç ï¼Œç”¨äºåŠ å¿«ç¨‹åºçš„å·¥ä½œæ•ˆç‡ã€‚ devServerç”¨äºå¼€å‘ç¯å¢ƒï¼Œè€Œå‹ç¼©jsç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œ åœ¨å¼€å‘ç¯å¢ƒä¸­åšç”Ÿäº§ç¯å¢ƒçš„äº‹æƒ…æ‰€ä»¥webpackè®¾ç½®å†²çªæŠ¥é”™ ç¬¬7èŠ‚ï¼š æ’ä»¶é…ç½®ï¼š HTMLæ–‡ä»¶å‘å¸ƒä¹‹å‰çš„index.htmlæ˜¯ç›´æ¥æ”¾åœ¨distæ–‡ä»¶å¤¹ä¸­çš„ï¼Œè¿™æ˜¯ä¸å¯¹çš„ã€‚åº”è¯¥æ”¾åœ¨srcç›®å½•ä¸­ã€‚ è¿™èŠ‚å°±å­¦ä¹ å¦‚ä½•æŠŠHTMLæ–‡ä»¶æ‰“åŒ…åˆ°ç”Ÿäº§è·¯å¾„ä¸‹ã€‚ æ‰“åŒ…HTMLæ–‡ä»¶å…ˆå°†distä¸­çš„index.htmlå‰ªåˆ‡åˆ°srcç›®å½•ä¸­ï¼Œå¹¶å»æ‰jså¼•å…¥ä»£ç (webpackä¼šè‡ªåŠ¨å¼•å…¥entryå…¥å£é…ç½®çš„js)ï¼Œ å› ä¸ºè¿™æ‰æ˜¯çœŸå®å·¥ä½œçš„ç›®å½•ç»“æ„ã€‚ npmå®‰è£…html-webpack-plugin å®˜ç½‘htmlWebpackPluginä¼šåœ¨æ‰“åŒ…ç»“æŸåï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œå¹¶æŠŠæ‰“åŒ…ç”Ÿæˆçš„jsè‡ªåŠ¨å¼•å…¥åˆ°è¿™ä¸ªHTMLæ–‡ä»¶ 1npm install --save-dev html-webpack-plugin é…ç½®webpack.config.jså¼•å…¥html-webpack-pluginæ’ä»¶ 1const htmlPlugin = require('html-webpack-plugin') åœ¨pluginsé‡Œè¿›è¡Œæ’ä»¶çš„é…ç½®ï¼Œä»£ç å¦‚ä¸‹123456789plugins: [ new htmlPlugin({ minify: { removeAttributeQuotes: true }, hash: true, template: './src/index.html' })], minifyï¼šæ˜¯å¯¹htmlæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼ŒremoveAttrubuteQuotesæ˜¯å»æ‰å±æ€§çš„åŒå¼•å·ã€‚ hashï¼šä¸ºäº†å¼€å‘ä¸­jsæœ‰ç¼“å­˜æ•ˆæœï¼Œæ‰€ä»¥åŠ å…¥hashï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆé¿å…ç¼“å­˜JSã€‚ templateï¼šæ˜¯è¦æ‰“åŒ…çš„htmlæ¨¡ç‰ˆè·¯å¾„å’Œæ–‡ä»¶åç§°ã€‚ æ‰“åŒ…å‡ºé”™12ERROR in Error: Parse Error: &lt;!DOCTYPE&gt; &lt;html&gt; åŸå› ï¼Œhtmlé¡µé¢çš„å£°æ˜ï¼Œå¿…é¡»æ˜¯ 12// &lt;!DOCTYPE&gt;&lt;!DOCTYPE html&gt; æ€»ç»“htmlæ–‡ä»¶çš„æ‰“åŒ…å¯ä»¥æœ‰æ•ˆçš„åŒºåˆ†å¼€å‘ç›®å½•å’Œç”Ÿäº§ç›®å½•ï¼Œåœ¨webpackçš„é…ç½®ä¸­ä¹Ÿè¦ææ¸…æ¥šå“ªäº›é…ç½®ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå“ªäº›é…ç½®ç”¨äºå¼€å‘ç¯å¢ƒï¼Œé¿å…ä¸¤ç§ç¯å¢ƒçš„é…ç½®å†²çªã€‚ ç¬¬8èŠ‚ï¼š å›¾ç‰‡è¿ˆå‘ï¼š cssä¸­çš„å›¾ç‰‡å¤„ç†webpackæ‰“åŒ…æ—¶é‡åˆ°cssä¸­çš„å›¾ç‰‡å¤„ç†å‘ã€‚ åœ¨å¼€å‘ç¯å¢ƒä¸­æ‰¾å¾—åˆ°å›¾ç‰‡ï¼Œä¸€æ‰“åŒ…åå°±æ‰¾ä¸åˆ° ä¸çŸ¥é“å¦‚ä½•æ­£ç¡®å¼•å…¥HTMLæˆ–CSSä¸­çš„å›¾ç‰‡ 3èŠ‚è¯¾å½»åº•èµ°å‡ºwebpackå›¾ç‰‡çš„å‘æ‰¾å¼ å›¾ç‰‡ï¼Œåœ¨srcç›®å½•æ–°å»ºä¸€ä¸ªimagesçš„æ–‡ä»¶å¤¹ã€‚æŠŠå›¾ç‰‡æ”¾å…¥imagesæ–‡ä»¶å¤¹ã€‚ åœ¨index.htmlä¸­å¢åŠ ä¸€ä¸ªdivï¼Œ 1&lt;div id=&quot;img&quot;&gt;&lt;/div&gt; css 12345#img{ background-image: url(../images/img.png); width:100px; height: 100px;} webpack ç›´æ¥ç¼–è¯‘ï¼ŒæŠ¥é”™ 1234ERROR in ./src/images/img.pngModule parse failed: Unexpected character 'ï¿½' (1:0)You may need an appropriate loader to handle this file type.(Source code omitted for this binary file) file-loader, url-loader1. å‘½ä»¤è¡Œå®‰è£…1npm install --save-dev file-loader url-loader file-loaderè§£å†³å¼•ç”¨è·¯å¾„çš„é—®é¢˜ï¼Œæ‹¿backgroundæ ·å¼ç”¨urlå¼•ç”¨èƒŒæ™¯å›¾æ¥è¯´ï¼Œwebpackä¼šå°†å„ä¸ªæ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬æºä»£ç æ ·å¼ä¸­çš„urlè·¯å¾„æ˜¯ç›¸å¯¹å…¥å£htmlé¡µé¢çš„ï¼Œè€Œä¸æ˜¯ç›¸å¯¹äºåŸå§‹cssæ–‡ä»¶æ‰€åœ¨è·¯å¾„ã€‚è¿™ä¼šå¯¼è‡´å›¾ç‰‡å¼•å…¥å¤±è´¥ã€‚ è¿™å°±æ˜¯file-loaderè§£å†³çš„ã€‚ file-loaderå¯ä»¥è§£æé¡¹ç›®ä¸­çš„urlå¼•å…¥(ä¸å±€é™äºcss), æ ¹æ®é…ç½®ï¼Œå°†å›¾ç‰‡æ‹·è´åˆ°ç›¸åº”çš„è·¯å¾„ï¼Œå†æ ¹æ®é…ç½®ï¼Œæ‰“åŒ…åæ–‡ä»¶å¼•ç”¨è·¯å¾„ï¼Œä½¿ä¹‹æŒ‡å‘æ­£ç¡®çš„æ–‡ä»¶ã€‚ æ‰“åŒ…ä»¥åæ–‡ä»¶åä¿æŒä¸å˜ï¼ŒåŠ hashå€¼ 123456789101112module: { rules: { test: /\\.(jpg|png|gif)/, use: { loader: 'file-loader', options: { name: '[name]_[hash].[ext]', outputPath: 'images/' } } }} url-loaderå¦‚æœå›¾ç‰‡è¾ƒå¤šï¼Œä¼šå‘é€å¾ˆå¤šhttpè¯·æ±‚ï¼Œé™ä½é¡µé¢æ€§èƒ½ã€‚ å¯ä»¥ç”¨url-loaderè§£å†³ã€‚ url-loaderä¼šå°†å¼•å…¥çš„å›¾ç‰‡ç¼–ç ï¼Œç”ŸæˆDataURL(æŠŠå›¾ç‰‡è½¬æˆä¸€ä¸²å­—ç¬¦),å†æŠŠè¿™ä¸²å­—ç¬¦æ‰“åŒ…åˆ°æ–‡ä»¶ä¸­ï¼Œæœ€ç»ˆåªè¦å¼•å…¥è¿™ä¸ªæ–‡ä»¶å°±èƒ½è®¿é—®å›¾ç‰‡ã€‚ å›¾ç‰‡è¾ƒå¤§ï¼Œç¼–ç ä¼šæ¶ˆè€—æ€§èƒ½ã€‚url-loaderæä¾›äº†ä¸€ä¸ªlimitå‚æ•°ï¼Œå°äºlimitå­—èŠ‚çš„æ–‡ä»¶ä¼šè¢«è½¬ä¸ºDataURL,å¤§äºlimitçš„ä¼šä½¿ç”¨file-loaderè¿›è¡Œcopy 2. é…ç½®url-loaderwebpack.config.js 12345678910111213141516171819module: { rules: [ { test: /\\.css$/, use: ['style-loader', 'css-loader'] }, { test: /\\.(png|jpg|gif)/, use: [ { loader: 'url-loader', options: { limit: 500000 } } ] } ]}, test:/.(png|jpg|gif)/æ˜¯åŒ¹é…å›¾ç‰‡æ–‡ä»¶åç¼€åç§°ã€‚ useï¼šæ˜¯æŒ‡å®šä½¿ç”¨çš„loaderå’Œloaderçš„é…ç½®å‚æ•°ã€‚ limitï¼šæ˜¯æŠŠå°äº500000Bçš„æ–‡ä»¶æ‰“æˆBase64çš„æ ¼å¼ï¼Œå†™å…¥JSã€‚ ç°åœ¨å°±å¯ä»¥ä½¿ç”¨webpackæ‰“åŒ…äº†~~~~ ç”¨npm run server ï¼Œå¯ä»¥åœ¨é¡µé¢æŸ¥çœ‹å…ƒç´ ï¼ŒæŸ¥çœ‹å›¾ç‰‡çš„ç¼–ç  ä¸ºä»€ä¹ˆé…ç½®ä¸­åªç”¨äº†url-loaderä¸ºä»€ä¹ˆåœ¨é…ç½®ä¸­åªç”¨äº†url-loaderï¼Œä¾ç„¶æ‰“åŒ…æˆåŠŸï¼Ÿ éœ€è¦äº†è§£url-loaderå’Œfile-loaderå…³ç³» url-loaderå°è£…äº†file-loaderï¼Œurl-loaderä¸ä¾èµ–file-loaderï¼Œå³ ä½¿ç”¨url-loaderæ—¶ï¼Œåªéœ€è¦å®‰è£…url-loaderå³å¯ï¼Œä¸éœ€è¦å®‰è£…file-loaderï¼Œå› ä¸ºurl-loaderå†…ç½®äº†file-loaderã€‚ url-loaderå·¥ä½œåˆ†ä¸¤ç§æƒ…å†µï¼š æ–‡ä»¶å¤§å°å°äºlimitï¼Œurl-loaderå°†æ–‡ä»¶è½¬ä¸ºDataURL(Base64æ ¼å¼) æ–‡ä»¶å¤§å°å¤§äºlimitï¼Œurl-loaderä¼šè°ƒç”¨file-loaderè¿›è¡Œå¤„ç†ï¼Œå‚æ•°ä¹Ÿä¼šç›´æ¥ä¼ ç»™file-loader ä¹Ÿå°±æ˜¯è¯´ï¼Œå®‰è£…ä¸€ä¸ªurl-loaderå³å¯ï¼Œä½†æ˜¯ä¸ºäº†ä»¥åæ“ä½œæ–¹ä¾¿ï¼Œé¡ºä¾¿å®‰è£…äº†file-loaderã€‚ æ€»ç»“-ç¬¬8èŠ‚æœ¬èŠ‚å­¦ä¹ äº†å°†å°å›¾æ‰“åŒ…æˆBase64æ ¼å¼ï¼Œ å¯¹webpackå›¾ç‰‡æ‰“åŒ…æœ‰äº†åŸºæœ¬çš„äº†è§£ ç¬¬9èŠ‚ å›¾ç‰‡è¿ˆå‘ï¼š CSSåˆ†ç¦»ä¸å›¾ç‰‡è·¯å¾„å¤„ç†ä¸»è¦å­¦ä¹  æŠŠCSSä»JavaScriptä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œ å¦‚ä½•å¤„ç†åˆ†ç¦»å‡ºæ¥åçš„CSSä¸­çš„å›¾ç‰‡è·¯å¾„ä¸å¯¹çš„é—®é¢˜ã€‚ CSSåˆ†ç¦»ï¼š extract-text-webpack-plugin å®˜ç½‘ä¹‹å‰çš„cssæ˜¯æ‰“åŒ…åˆ°JavaScriptä»£ç ä¸­çš„ã€‚ æœ‰äº›é¡µé¢ï¼ŒJavaScriptä»£ç å¾ˆå°‘ï¼Œè€Œcsså¾ˆå¤šï¼Œè¦æ±‚å°†csså•ç‹¬æå–å‡ºæ¥ï¼Œæ–¹ä¾¿ä»¥åæ›´æ”¹ï¼Œé‡åˆ°è¿™ç§éœ€æ±‚ï¼Œ è§£å†³åŠæ³•å°±æ˜¯extract-text-webpack-plugin è¿™ä¸ªæ’ä»¶å¯ä»¥å®Œç¾è§£å†³æå–CSSçš„éœ€æ±‚ã€‚ä½†webpackå®˜ç½‘ä¸å»ºè®®è¿™æ ·åšï¼Œä»–ä»¬è®¤ä¸ºcsså°±åº”è¯¥æ‰“åŒ…åˆ°JavaScriptä¸­ä»¥å‡å°‘httpè¯·æ±‚æ•°ã€‚ ä½†ç°å®ä¸­çš„éœ€æ±‚æˆ‘ä»¬æ— æ³•æ§åˆ¶ï¼Œæœ‰äº›éœ€æ±‚æ˜¯æˆ‘ä»¬ä¸èƒ½æ§åˆ¶çš„ï¼Œåˆ†ç¦»csså°±æ˜¯è¿™æ ·ä¸€ä¸ªæ—¢åˆç†åˆä¸åˆç†çš„éœ€æ±‚ã€‚ 1. npm å®‰è£…1npm install --save-dev extract-text-webpack-plugin 2. å¼•å…¥å®‰è£…å®Œæˆåï¼Œéœ€è¦å…ˆrequireå¼•å…¥ 1const extractTextPlugin = require('extract-text-webpack-plugin') 3. è®¾ç½®Pluginså¼•å…¥æˆåŠŸåï¼Œéœ€è¦åœ¨pluginså±æ€§ä¸­è¿›è¡Œé…ç½®ã€‚è¿™é‡Œåªè¦newä¸€ä¸‹è¿™ä¸ªå¯¹è±¡ã€‚ 12345678910plugins: [ new htmlPlugin({ minify: { removeAttributeQuotes: true }, hash: true, template: './src/index.html' }), new extractTextPlugin('css/index.css')], è¿™é‡Œçš„/css/index.cssæ˜¯åˆ†ç¦»åçš„è·¯å¾„ä½ç½®ã€‚æ³¨æ„ï¼š è¿™é‡Œè·¯å¾„å‰é¢ä¸è¦åŠ /,å¦åˆ™å¼•ç”¨cssçš„è·¯å¾„ï¼Œä¼šå¤šä¸€ä¸ª/ 4. ä¿®æ”¹åŸæ¥çš„stye-loader, css-loader12345678910111213141516171819202122module: { rules: [ { test: /\\.css$/, use: extractTextPlugin.extract({ fallback: 'style-loader', use: 'css-loader' }) }, { test: /\\.(png|jpg|gif)/, use: [ { loader: 'url-loader', options: { limit: 500000 } } ] } ]}, å®Œæˆ4æ­¥æ“ä½œåï¼Œå¯ä»¥ç”¨webpackæ‰“åŒ…ã€‚ æ‰“åŒ…ç»“æœ cssè¢«å•ç‹¬æå–åˆ°css/index.cssæ–‡ä»¶ å›¾ç‰‡ä¹Ÿè¢«Base64ç¼–ç åˆ°index.cssæ–‡ä»¶ index.htmlæ–‡ä»¶ä¸­å¼•å…¥äº†index.css å›¾ç‰‡è·¯å¾„é—®é¢˜åˆ©ç”¨extract-text-wbpack-plugin è½»æ¾çš„æŠŠcssæ–‡ä»¶åˆ†ç¦»äº†å‡ºæ¥ï¼Œä½†cssè·¯å¾„å¹¶ä¸æ­£ç¡®ã€‚ å¯ä»¥åœ¨è¿™é‡Œå…ˆbuildä¸€ä¸‹çœ‹ä¸‹æ•ˆæœã€‚å›¾ç‰‡ä¸ä¼šæ˜¾ç¤º æœ€å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨publicPathè§£å†³ publicPath: æ˜¯åœ¨webpack.config.jsæ–‡ä»¶ä¸­çš„outputé€‰é¡¹ä¸­ï¼Œä¸»è¦ä½œç”¨å°±æ˜¯å¤„ç†é™æ€æ–‡ä»¶è·¯å¾„çš„ã€‚ 1. å¤„ç†å‰ï¼Œåœ¨webpack.config.jsä¸Šæ–¹å£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œå«website1234// æ•™ç¨‹é‡Œè¿™é‡Œå†™çš„æ˜¯IPåœ°å€const website = { publicPath: 'http://localhost:8089/'} è¿™é‡Œçš„ipå’Œç«¯å£æ˜¯æœ¬æœºçš„IPæˆ–DevServeré…ç½®çš„ipå’Œç«¯å£ã€‚ åé¢åŠ / ä¸åŠ /ï¼Œæµ‹è¯•äº†ä¸€ä¸‹ä¸åŠ /ï¼Œå¯ä»¥æŸ¥çœ‹cssæˆ–å›¾ç‰‡è·¯å¾„ï¼Œæ˜¯ä¸æ­£ç¡®çš„1234// é”™è¯¯çš„background-image: url(http://localhost:8089images/313455c00642024bfd21003ced8bf0e6.png);// æ­£ç¡®çš„background-image: url(http://localhost:8089/images/313455c00642024bfd21003ced8bf0e6.png); 2. åœ¨outputé€‰é¡¹ä¸­å¼•ç”¨è¿™ä¸ªå¯¹è±¡çš„publicPathå±æ€§1234567output: { // è¾“å‡ºçš„è·¯å¾„ path: path.resolve(__dirname, 'dist'), // è¾“å‡ºæ–‡ä»¶çš„åç§° filename: '[name].js', publicPath: website.publicPath}, 3. ç”¨webpackæ‰“åŒ…å¯ä»¥çœ‹åˆ°ï¼Œæ–‡ä»¶ä¸­çš„ç›¸å¯¹è·¯å¾„è¢«æ›¿æ¢æˆç»å¯¹è·¯å¾„ã€‚è¿™æ ·æ¥è®²é€Ÿåº¦æ›´å¿«ã€‚ æ€»ç»“-ç¬¬9èŠ‚å®ç°äº†cssåˆ†ç¦»ï¼Œå¹¶å¤„ç†äº†åˆ†ç¦»åå›¾ç‰‡è·¯å¾„ä¸å¯¹çš„é—®é¢˜ã€‚ å¤„ç†çš„æ–¹æ³•è¦å……åˆ†ç†è§£ï¼Œåœ¨å·¥ä½œä¸­ç»å¸¸ç”¨åˆ°ã€‚ æ›´æ”¹webpack.config.jsæ–‡ä»¶ ä¸ä¼šçƒ­æ›´æ–°ç¬¬10èŠ‚ï¼š å›¾ç‰‡è¿ˆå‘ï¼š å¤„ç†HTMLä¸­çš„å›¾ç‰‡åœ¨webpackä¸­ä¸æ¨èä½¿ç”¨imgæ¥å¼•å…¥å›¾ç‰‡ï¼Œä½†æˆ‘ä»¬é€šå¸¸éƒ½ç”¨è¿™ç§å†™æ³•ã€‚ä¸ºæ­¤æœ‰äººå¼€å‘äº†ï¼šhtml-withimg-loader å®˜ç½‘ å¯ä»¥å¾ˆå¥½çš„å¤„ç†åœ¨HTMLä¸­å¼•å…¥å›¾ç‰‡çš„é—®é¢˜ã€‚ 1.å®‰è£…1npm install html-withimg-loader --save 2. é…ç½®loaderwebpack.config.js 1234{ test: /\\.(html|html)$/i, use: ['html-withimg-loader']} 3. æ‰§è¡Œæ‰“åŒ…å¯ä»¥å‘ç°imagesè¢«å¾ˆå¥½çš„æ‰“åŒ…äº†ã€‚å¹¶ä¸”è·¯å¾„ä¹Ÿå®Œå…¨æ­£ç¡® æ€»ç»“-ç¬¬10èŠ‚ä¸‰èŠ‚è¯¾çš„æ—¶é—´ï¼Œè®²äº†webpackå›¾ç‰‡ä¸­çš„å‘ï¼Œæ‰€æœ‰é—®é¢˜åº”è¯¥éƒ½å¯ä»¥è§£å†³äº†. å°çŸ¥è¯† npm run buildæ²¡æœ‰æ‰“åŒ…npm run buildï¼Œç›´æ¥npm run server,æ— æ³•çœ‹åˆ°æœ€æ–°ç»“æœåªæœ‰é¡¹ç›®å®‰è£…äº†webpackï¼Œå¦‚ä½•æ‰“åŒ…å¦‚æœå…¨å±€æ²¡æœ‰å®‰è£…webpackçš„è¯ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œwebpackä¼šæŠ¥é”™ã€‚ è§£å†³åŠæ³•åœ¨package.jsonä¸­é…ç½®scriptsé€‰é¡¹ï¼Œå¢åŠ ä¸€ä¸ªbuildå‘½ä»¤ï¼Œè¿›è¡Œæ‰“åŒ…é¡¹ç›®ä½¿ç”¨ã€‚ 1234&quot;scripts&quot;: { &quot;server&quot;: &quot;webpack-dev-server --open&quot;, &quot;build&quot;:&quot;webpack&quot; }, é…ç½®å®Œåï¼Œåœ¨ç»ˆç«¯è¾“å…¥npm run build å³å¯æ‰“åŒ… å¦‚ä½•æŠŠå›¾ç‰‡æ”¾åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸‹å‰é¢æ‰“åŒ…çš„å›¾ç‰‡å¹¶æ²¡æœ‰æ”¾åˆ°imagesæ–‡ä»¶å¤¹ä¸‹ï¼Œè¦æ”¾åˆ°imagesé‡Œï¼Œéœ€é…ç½®url-loader ==outputPath==é€‰é¡¹ã€‚ 1234567891011121314151617181920212223module: { rules: [ { test: /\\.css$/, use: extractTextPlugin.extract({ fallback: 'style-loader', use: 'css-loader' }) }, { test: /\\.(png|jpg|gif)/, use: [ { loader: 'url-loader', options: { limit: 5000, outputPath: 'images/' } } ] } ]}, è¿™æ ·å†æ‰§è¡Œæ‰“åŒ…ï¼Œå›¾ç‰‡éƒ½è¢«æ‰“åŒ…åˆ°imagesæ–‡ä»¶é‡Œã€‚ ç¬¬11èŠ‚ï¼š CSS è¿›é˜¶ï¼š Less æ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»ç¬¬5èŠ‚ä¸­å·²ç»è®²äº†CSSæ‰“åŒ…ï¼Œåˆ†ç¦»ã€‚è¿™èŠ‚è®²Lessæ–‡ä»¶å¦‚ä½•æ‰“åŒ…å’Œåˆ†ç¦»ã€‚ Lessæ˜¯ä¸€é—¨CSSé¢„å¤„ç†è¯­è¨€ï¼Œæ‰©å±•äº†CSSè¯­è¨€ï¼Œå¢åŠ äº†å˜é‡ï¼ŒMixinï¼Œå‡½æ•°ç­‰ç‰¹æ€§ï¼Œä½¿CSSæ›´æ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚ æ‰“åŒ…Lessæ–‡ä»¶1. å®‰è£… å®˜ç½‘å®‰è£…lessæœåŠ¡ 1npm install --save-dev less å®‰è£…less-loaderä¾›æ‰“åŒ…ä½¿ç”¨ 1npm install --save-dev less-loader ä¹Ÿå¯ä»¥ä¸€æ¡å‘½ä»¤å®‰è£… 1npm install --save-dev less-loader less 2. loaderé…ç½®12345678910{ test: /\\.less$/, use: [{ loader: &quot;style-loader&quot; // creates style nodes from JS strings }, { loader: &quot;css-loader&quot; // translates CSS into CommonJS }, { loader: &quot;less-loader&quot; // compiles Less to CSS }]} 3. ç¼–å†™ä¸€ä¸ªlessæ–‡ä»¶css/black.less 123456@base: #000;#gogo{ width: 300px; height: 300px; background-color: @base;} 4. å¼•å…¥åˆ°entry.js1import less from './css/black.less'; å¯ä»¥æ‰“åŒ…çœ‹æ•ˆæœå‘ç°æ‰“åŒ…åˆ°äº†entry.jsä¸­ï¼Œæ²¡æœ‰æå–åˆ°cssæ–‡ä»¶ä¸­ æŠŠLessæ–‡ä»¶åˆ†ç¦»ä¹‹å‰è®²äº†extract-text-webpack-pluginæ’ä»¶ï¼Œåˆ†ç¦»Lessä¹Ÿæ˜¯ç”¨è¿™ä¸ª é…ç½®lessçš„loader123456789101112{ test: /\\.less$/, use: extractTextPlugin.extract({ use: [{ loader: &quot;css-loader&quot; }, { loader: &quot;less-loader&quot; }], // use style-loader in development fallback: &quot;style-loader&quot; })} æ‰“åŒ…ä¼šçœ‹åˆ°lessè¢«æ‰“åŒ…åˆ°index.cssæ–‡ä»¶ä¸­ æ­¤å¤–ï¼Œåœ¨å®˜ç½‘çœ‹åˆ°äº†ï¼Œä¿®æ”¹åç¼€åçš„é…ç½® 1234const extractLess = new ExtractTextPlugin({ filename: &quot;[name].[contenthash].css&quot;, disable: process.env.NODE_ENV === &quot;development&quot;}); æ€»ç»“-ç¬¬11èŠ‚é€šè¿‡è¿™èŠ‚è¯¾ï¼Œ å°±å¯ä»¥å¾ˆè½»æ¾çš„ç¼–å†™lessæ–‡ä»¶å•¦ ç¬¬12èŠ‚ï¼š CSSè¿›é˜¶ï¼š SASSæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦» å®˜ç½‘ä¸ŠèŠ‚å­¦äº†lessçš„æ‰“åŒ…ï¼Œè¿™èŠ‚å¼€å§‹å­¦ä¹ SASSæ‰“åŒ… 1. å®‰è£…ä¸¤ä¸ªåŒ…node-sassï¼Œsass-loader1npm install sass-loader node-sass webpack --save-dev æ³¨æ„ï¼š npmå®‰è£…æ—¶ï¼Œè¿™ä¸ªloaderå¾ˆå®¹æ˜“å®‰è£…å¤±è´¥ã€‚å¤šæ¬¡å®‰è£…å¤±è´¥ï¼Œæœ€å¥½æŠŠnode_modulesæ–‡ä»¶å¤¹åˆ é™¤ï¼Œå†é‡æ–°å®‰è£…ã€‚ 2. ç¼–å†™loaderé…ç½®12345678910{ test: /\\.scss$/, use: [{ loader: &quot;style-loader&quot; // creates style nodes from JS strings }, { loader: &quot;css-loader&quot; // translates CSS into CommonJS }, { loader: &quot;sass-loader&quot; // compiles Sass to CSS }]} æ³¨æ„loaderçš„åŠ è½½æœ‰å…ˆåé¡ºåº(ä»ä¸‹åˆ°ä¸Šï¼Œä»å³åˆ°å·¦),å¯ä»¥ç›´æ¥ä»å®˜ç½‘æ‹·è´ 3.SASS æ–‡ä»¶çš„ç¼–å†™nav.scss,åˆ«å¿˜äº†å¼•å…¥åˆ°entry.jsä¸­ 1234567$nav-color: #FFF;#nav { $width:100%; width: $width; height: 30px; backround-color: $nav-color;} 1import sass from './css/nav.scss'; æ­¤æ—¶ï¼Œå¯ä»¥npm run server æŸ¥çœ‹æ•ˆæœã€‚ 4. æŠŠSASSæ–‡ä»¶åˆ†ç¦»123456789101112{ test: /\\.scss$/, use: extractTextPlugin.extract({ use: [{ loader: &quot;css-loader&quot; }, { loader: &quot;sass-loader&quot; }], // use style-loader in development fallback: &quot;style-loader&quot; })} è‡³æ­¤ï¼Œå¯ä»¥æ„‰å¿«çš„å†™sassä»£ç äº†ã€‚ å°çŸ¥è¯†-D-D ç­‰äºâ€“save-dev ç¬¬13èŠ‚ï¼šCSSè¿›é˜¶ï¼š è‡ªåŠ¨å¤„ç†CSS3å±æ€§å‰ç¼€css3å±æ€§ä¸åŒæµè§ˆå™¨å¯¹åº”çš„å‰ç¼€åç§°ä¸åŒï¼Œå¤ªå¤šçš„è¯ä»£ç å†—ä½™å·¥ä½œç¹æ‚ã€‚ è¿™èŠ‚å­¦ä¹ å¦‚ä½•ç”¨postcss-loaderç»™css3å±æ€§è‡ªåŠ¨æ·»åŠ å‰ç¼€ã€‚ ä»€ä¹ˆæ˜¯å±æ€§å‰ç¼€CSS å±æ€§å‰çš„-webkit,-ms,-mozè¿™äº›å‰ç¼€ã€‚ä¸ºäº†å…¼å®¹å„ä¸ªæµè§ˆå™¨ç‰ˆæœ¬ã€‚ PostCSScssçš„å¤„ç†å¹³å°ï¼Œå¯ä»¥å®ç°cssçš„å¾ˆå¤šåŠŸèƒ½ï¼Œè¿™é‡Œåªä»‹ç»ä¸€ä¸ªåŠ å‰ç¼€çš„åŠŸèƒ½ã€‚ 1. å®‰è£…éœ€è¦å®‰è£…ä¸¤ä¸ªåŒ…postcss-loaderï¼Œ autoprefixer(è‡ªåŠ¨æ·»åŠ å‰ç¼€çš„æ’ä»¶) 1npm install --save-dev postcss-loader autoprefixer 2. postcss.config.jsPostCSSæ¨èåœ¨é¡¹ç›®æ ¹ç›®å½•(å’Œwebpack.config.jsåŒçº§)ï¼Œå»ºä¸€ä¸ªpostcss.config.js 12345module.exports = { plugins: [ require('autoprefixer') ]} å¼•å…¥äº†autoprefixeræ’ä»¶ï¼Œè®©postCSSæ‹¥æœ‰æ·»åŠ å‰ç¼€çš„èƒ½åŠ›ã€‚ 3. ç¼–å†™loader123456789101112131415{ test: /\\.css$/, use: [ { loader: &quot;style-loader&quot; }, { loader: &quot;css-loader&quot;, options: { modules: true } }, { loader: &quot;postcss-loader&quot; } ]} è¿™é‡Œæ˜¯æå–cssçš„loaderé…ç½®webpack.config.js 12345678910{ test: /\\.css$/, use: extractTextPlugin.extract({ fallback: 'style-loader', use: [ { loader: 'css-loader', options: { importLoaders: 1 } }, 'postcss-loader' ] })}, 5. åœ¨index.cssä¸­æ·»åŠ cssæ ·å¼123456789#img{ background-image: url(../images/img.png); width:100px; height: 100px; transform: rotate(45deg); box-shadow: 1px 1px 0 rgba(0,0,0,.25); border-radius: 50%; display: flex;} æ‰“åŒ…ï¼Œè¿è¡Œå¯ä»¥çœ‹åˆ°æ–°åŠ çš„æ ·å¼éƒ½åŠ ä¸Šäº†å‰ç¼€ã€‚ ç¬¬14èŠ‚ï¼š CSSè¿›é˜¶ï¼š æ¶ˆé™¤æœªä½¿ç”¨çš„CSS å¼•ç”¨åˆ«çš„åº“å¦‚BootStrapè¿™æ ·çš„æ¡†æ¶ï¼Œä¼šå¸¦å¾ˆå¤šCSSï¼Œä½†é¡¹ç›®ä¸­åªç”¨äº†ä¸€éƒ¨åˆ†ã€‚ éšé¡¹ç›®è¿›å±•ï¼ŒCSSè¶Šæ¥è¶Šå¤šï¼Œå¼€å‘æ—¶åªè€ƒè™‘æ–°å¢ï¼Œé€ æˆCSSå†—ä½™ è¿™èŠ‚å­¦ä¹  ç”¨webpackæ¶ˆé™¤æœªä½¿ç”¨çš„CSSã€‚ PurifyCSSPurifyCSSå¯ä»¥å¤§å¤§å‡å°‘CSSå†—ä½™ï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„BootStrap(140KB)å°±å¯ä»¥å‡å°‘åˆ°åªæœ‰35KBå¤§å°ã€‚è¿™åœ¨å®é™…å¼€å‘å½“ä¸­æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ 1. å®‰è£…PurifyCSS-webpack å®˜ç½‘1npm i -D purifycss-webpack purify-css -D æ˜¯â€“save-devçš„ç¼©å†™ 2. å¼•å…¥globnodeçš„globæ¨¡å—å¯ä»¥æ ¹æ®é…ç½®çš„è§„åˆ™ï¼Œè·å–å¯¹åº”çš„æ–‡ä»¶ã€‚ åœ¨webpack.config.jså¼•å…¥globã€‚ 12const glob = require('glob') å¼•å…¥purifycss-webpack 1const purifyCSSPlugin = require('purifycss-webpack') 3.é…ç½®pluginsåœ¨webpack.config.jsçš„pluginsé‡Œå¢åŠ é…ç½® 1234567891011121314plugins: [ // new uglify() new htmlPlugin({ minify: { removeAttributeQuotes: true }, hash: true, template: './src/index.html' }), new extractTextPlugin('css/index.css'), new purifyCSSPlugin({ paths: glob.sync(path.join(__dirname, 'src/*.html')) })], è¿™é‡Œçš„pathsä¸»è¦æ˜¯å¯»æ‰¾HTMLæ¨¡æ¿ï¼Œpurifycssä¼šæ ¹æ®è¿™ä¸ªé…ç½®éå†æ–‡ä»¶ï¼ŒæŸ¥æ‰¾å“ªäº›cssè¢«ä½¿ç”¨äº†ã€‚ æ³¨æ„ï¼šä½¿ç”¨è¿™ä¸ªæ’ä»¶å¿…é¡»é…åˆextract-text-webpack-pluginæ’ä»¶ã€‚ 4.åœ¨index.cssä¸­æ·»åŠ ä¸€äº›æ²¡ç”¨çš„css1234567891011/* å¤šä½™çš„css */.bu{ backface-visibility: hidden; background-color: green; color: #FFF;}.hefd{ width: 200px; height: 200px; background-color: green;} æ‰§è¡Œæ‰“åŒ…ï¼ŒæŸ¥çœ‹distä¸­çš„index.csså†…å®¹ï¼Œä¼šå‘ç°æ²¡æœ‰å¤šä½™çš„css. cssæ–‡ä»¶ä»£ç åˆ†å‰²æŠŠcsså•ç‹¬æ‰“åŒ…åˆ°CSSæ–‡ä»¶ä¸­ï¼Œwebpacké»˜è®¤æŠŠcssæ‰“åŒ…åˆ°jsä¸­ã€‚å³css-in-js.MiniCssExtractPlugin å‹ç¼©æ‰“åŒ…å‡ºçš„cssä»£ç optimize-css-assets-webpack-plugin ä¸èƒ½ä¸ æ€»ç»“-ç¬¬14èŠ‚å·¥ä½œä¸­ä¸€å®šè¦ç”¨è¿™ä¸ªæ’ä»¶ï¼Œå†³å®šä½ çš„ä»£ç è´¨é‡ï¼Œéå¸¸æœ‰ç”¨ã€‚ ç¬¬15èŠ‚ï¼š ç»™webpackå¢åŠ babelé…ç½®è™½ç„¶webpack4å¢åŠ äº†ES6çš„è¯­æ³•æ”¯æŒï¼Œä½†å®é™…æ•ˆæœå¹¶ä¸å¥½ã€‚æ‰€ä»¥è¿˜æ˜¯è¦åŠ babel-loaderé…ç½®ã€‚ è¿™èŠ‚å­¦ä¹ å¦‚ä½•å¢åŠ Babelé…ç½®ã€‚ babelæ˜¯ä»€ä¹ˆ å®˜ç½‘Babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨ã€‚ç”¨ä»–å¯ä»¥ ä½¿ç”¨ä¸‹ä¸€ä»£çš„javaScriptä»£ç (ES6,ES7â€¦.)ï¼Œå³ä½¿è¿™äº›æ ‡å‡†ç›®å‰å¹¶æœªè¢«å½“å‰çš„æµè§ˆå™¨å®Œå…¨æ”¯æŒã€‚ ä½¿ç”¨åŸºäºJavaScriptè¿›è¡Œäº†æ‰©å±•çš„è¯­è¨€ï¼Œæ¯”å¦‚Reactçš„JSXã€‚ é«˜çº§: äº†è§£babelæ€ä¹ˆæŠŠé«˜çº§è¯­æ³•è½¬æ¢æˆæµè§ˆå™¨èƒ½è¯†åˆ«çš„ä»£ç  1. Babelå®‰è£…å…ˆä¸€æ¬¡æ€§å®‰è£…æ‰€æœ‰ä¾èµ–åŒ… 123npm install --save-dev babel-loader @babel/core @babel/preset-env# é¿å…polyfill æ±¡æŸ“å…¨å±€å˜é‡ï¼Œä¼šä»¥é—­åŒ…å½¢å¼å¼•å…¥npm install -D @babel/plugin-transform-runtime è¿™äº›åŒ…åˆ†åˆ«æ˜¯ï¼šæ ¸å¿ƒåŒ… babel-loader 8.x | babel 7.x 2.åœ¨webpackä¸­é…ç½®Babel123456789101112131415161718{ test: /\\.(jsx|js)$/, use: { loader: 'babel-loader', options: { presets: [ '@babel/preset-env', // ç”¨åˆ°å“ªä¸ªï¼ŒåŠ å“ªä¸ªpolyfill ['@babel/preset-env', { useBuiltIns: 'usage' }] ], // ä»£ç åªæ˜¯ä¸šåŠ¡ä»£ç ä¸ç”¨å¼•å…¥ï¼Œå¦‚æœæ˜¯ç±»åº“çš„ä»£ç ï¼Œéœ€è¦å¼•å…¥ plugins: ['@babel/plugin-transform-runtime'] } }, exclude: /node_modules/} presets: æ¸²æŸ“å™¨ ä¸èƒ½è½¬æ¢æ‰€æœ‰çš„jsï¼Œå»é™¤æ‰node_modulesï¼Œ 3.åœ¨entry.jsä¸­ä¿®æ”¹ä»£ç 1234567import css from './css/index.css';import less from './css/black.less';import sass from './css/nav.scss';{ let str = 'Hello Webpack' document.getElementById('title').innerHTML = str;} ç°åœ¨æ‰“åŒ…å¯ä»¥çœ‹åˆ°letè¢«è½¬ä¸ºvar,åšäº†å…¼å®¹å¤„ç†ã€‚å¦‚æœä¸é€‚ç”¨babelè½¬æ¢çš„è¯ï¼Œä¸ä¼šå¤„ç†ã€‚ .babelrcé…ç½®babelçš„é…ç½®é€šå¸¸å•ç‹¬å†™åœ¨.babelrcæ–‡ä»¶é‡Œ åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º.babelrcæ–‡ä»¶ï¼ŒæŠŠé…ç½®å†™åˆ°æ–‡ä»¶é‡Œã€‚ 1234567891011{ &quot;presets&quot;: [ [&quot;@babel/preset-env&quot;, { &quot;loose&quot;: true, &quot;targets&quot;: { &quot;node&quot;: &quot;6.9&quot; } }], &quot;@babel/preset-react&quot; ]} ä¿®æ”¹webpack.config.jsçš„loaderé…ç½® 1234567{ test: /\\.(jsx|js)$/, use: { loader: 'babel-loader' }, exclude: /node_modules/} ENV å®˜ç½‘ babel-preset-env æ˜¯ä¸€ä¸ªæ–°çš„ presetï¼Œå¯ä»¥æ ¹æ®é…ç½®çš„ç›®æ ‡è¿è¡Œç¯å¢ƒï¼ˆenvironmentï¼‰è‡ªåŠ¨å¯ç”¨éœ€è¦çš„ babel æ’ä»¶ã€‚ç›®å‰æˆ‘ä»¬å†™ javascript ä»£ç æ—¶ï¼Œéœ€è¦ä½¿ç”¨ N ä¸ª presetï¼Œæ¯”å¦‚ï¼šbabel-preset-es2015ã€babel-preset-es2016ã€‚es2015 å¯ä»¥æŠŠ ES6 ä»£ç ç¼–è¯‘ä¸º ES5ï¼Œes2016 å¯ä»¥æŠŠ ES2016 ä»£ç ç¼–è¯‘ä¸º ES6ã€‚babel-preset-latest å¯ä»¥ç¼–è¯‘ stage 4 è¿›åº¦çš„ ECMAScript ä»£ç ã€‚ é—®é¢˜æ˜¯æˆ‘ä»¬å‡ ä¹æ¯ä¸ªé¡¹ç›®ä¸­éƒ½ä½¿ç”¨äº†éå¸¸å¤šçš„ presetï¼ŒåŒ…æ‹¬ä¸å¿…è¦çš„ã€‚ä¾‹å¦‚å¾ˆå¤šæµè§ˆå™¨æ”¯æŒ ES6 çš„ generatorï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ babel-preset-es2015 çš„è¯ï¼Œgenerator å‡½æ•°å°±ä¼šè¢«ç¼–è¯‘æˆ ES5 ä»£ç ã€‚ babel-preset-env çš„å·¥ä½œæ–¹å¼ç±»ä¼¼ babel-preset-latestï¼Œå”¯ä¸€ä¸åŒçš„å°±æ˜¯ babel-preset-env ä¼šæ ¹æ®é…ç½®çš„ env åªç¼–è¯‘é‚£äº›è¿˜ä¸æ”¯æŒçš„ç‰¹æ€§ã€‚ å®‰è£…babel1npm install --save-dev babel-preset-env ä¿®æ”¹.babelrcé‡Œçš„é…ç½®æ–‡ä»¶ï¼Œåªè¦æŠŠes2015æ¢æˆenvå°±å¯ä»¥äº†ã€‚ 12345{ &quot;presets&quot;: [ &quot;react&quot;, &quot;env&quot; ]} æ€»ç»“-ç¬¬15èŠ‚è¿™é‡Œå­¦äº†æ€ä¹ˆé…ç½®babelæ”¯æŒï¼Œå¹¶ä¸”åŠ¨æ€æ”¯æŒæœ€æ–°é…ç½®ã€‚ ç¬¬16èŠ‚ï¼š æ‰“åŒ…åå¦‚ä½•è°ƒè¯•webpackæ‰“åŒ…åï¼Œä»£ç æ— æ³•è°ƒè¯•ã€‚æ€ä¹ˆè§£å†³ï¼Ÿ webpackæ”¯æŒç”ŸæˆsourceMapæ¥æ–¹ä¾¿è°ƒè¯•ä½¿ç”¨webpacké€šè¿‡ç®€å•çš„devtoolé…ç½®ï¼Œwebpackä¼šè‡ªåŠ¨ç”Ÿæˆsource mapæ–‡ä»¶ï¼Œmapæ–‡ä»¶æ˜¯ä¸€ç§å¯¹åº”ç¼–è¯‘æ–‡ä»¶å’Œæºæ–‡ä»¶çš„æ–¹æ³•ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚ å››ç§é€‰é¡¹åœ¨é…ç½®devtoolæ—¶ï¼Œwebpackæä¾›äº†4ç§é€‰é¡¹ source-mapåœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ç”Ÿæˆä¸€ä¸ªå®Œæ•´ä¸”åŠŸèƒ½å®Œå…¨çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶æœ‰æœ€å¥½çš„source mapï¼Œä½†æ˜¯å®ƒä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦ å‡ºé”™ä¿¡æ¯â€“åŒ…æ‹¬è¡Œï¼Œåˆ— ç‹¬ç«‹(æ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªmap) cheap-module-source-mapåœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­äº§ç”Ÿä¸€ä¸ªä¸å¸¦æ˜ å°„åˆ—çš„mapï¼Œä¸å¸¦æ˜ å°„åˆ—æé«˜äº†æ‰“åŒ…é€Ÿåº¦ï¼Œä½†ä¹Ÿä½¿å¾—æµè§ˆå™¨å¼€å‘è€…å·¥å…·åªèƒ½å¯¹åº”åˆ°å…·ä½“çš„è¡Œï¼Œä¸èƒ½å¯¹åº”åˆ°å…·ä½“çš„åˆ—(ç¬¦å·)ï¼Œä¼šå¯¹è°ƒè¯•é€ æˆä¸ä¾¿ã€‚ å‡ºé”™ä¿¡æ¯â€“åªæœ‰è¡Œï¼Œæ²¡æœ‰åˆ— ç‹¬ç«‹ eval-source-mapä½¿ç”¨evalæ‰“åŒ…æºæ–‡ä»¶æ¨¡å—ï¼Œåœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ç”Ÿäº§å¹²å‡€çš„å®Œæ•´ç‰ˆsourcemapï¼Œä½†å¯¹æ‰“åŒ…åè¾“å‡ºçš„JSæ–‡ä»¶çš„æ‰§è¡Œå…·æœ‰æ€§èƒ½å’Œå®‰å…¨çš„éšæ‚£ã€‚åœ¨å¼€å‘é˜¶æ®µå¯ä»¥ä½¿ç”¨ï¼Œç”Ÿäº§é˜¶æ®µä¸€å®šä¸è¦å¼€å¯è¿™ä¸ªé€‰é¡¹ å‡ºé”™ä¿¡æ¯â€“ è¡Œ åˆ— ä¸ç‹¬ç«‹ cheap-module-eval-source-mapè¿™æ˜¯åœ¨æ‰“åŒ…æ–‡ä»¶æ—¶æœ€å¿«ç”Ÿæˆsourcemapçš„æ–¹æ³•ï¼Œç”Ÿæˆçš„sourcemapä¼šå’Œæ‰“åŒ…åçš„JavaScriptåŒè¡Œæ˜¾ç¤ºï¼Œæ²¡æœ‰æ˜ å°„åˆ—ï¼Œå’Œeval-source-mapæœ‰ç›¸ä¼¼çš„ç¼ºç‚¹ å‡ºé”™ä¿¡æ¯â€“ åˆ— å››ç§æ‰“åŒ…æ¨¡å¼ï¼Œç”±ä¸Šåˆ°ä¸‹è¶Šæ¥è¶Šå¿«ã€‚å¿«çš„åŒæ—¶ï¼Œä¹Ÿæ„å‘³ç€å¯¹ä»£ç è°ƒè¯•çš„å›°éš¾è¶Šå¤§å»ºè®®ï¼š å¦‚æœå¤§å‹é¡¹ç›®å¯ä»¥ä½¿ç”¨source-map,ä¸­å°å‹é¡¹ç›®ä½¿ç”¨eval-source-mapå°±å¯ä»¥å®Œå…¨åº”å¯¹ã€‚ å¼ºè°ƒï¼šsource-mapåªé€‚ç”¨äºå¼€å‘é˜¶æ®µï¼Œä¸Šçº¿ä¸€å®šè¦ä¿®æ”¹è¿™äº›é…ç½®ã€‚ æ¨èçº¿ä¸Šç”¨çš„cheap-module-source-map, æ–¹ä¾¿çº¿ä¸Šå‡ºé—®é¢˜æ‰¾åŸå› å¸¦moduleçš„ä¸ºæŠŠmoduleçš„ä»£ç ä¹Ÿæ‰“å…¥ä»£ç ä¸­å¸¦inlineçš„ï¼Œä¼šæŠŠæ‰“åŒ…çš„ä»£ç æ”¾åˆ°ä»£ç ä¸­cheap,åªè€ƒè™‘ä¸šåŠ¡ä»£ç ï¼Œä¸è€ƒè™‘moduleé‡Œçš„ä»£ç  é…ç½®webpack.config.jsçš„devtoolå¯ä»¥æ ¹æ®ä¸åŒæƒ…å†µä¿®æ”¹å¯¹åº”çš„å€¼ 12345678output: { // è¾“å‡ºçš„è·¯å¾„ path: path.resolve(__dirname, 'dist'), // è¾“å‡ºæ–‡ä»¶çš„åç§° filename: '[name].js', publicPath: website.publicPath},devtool: 'source-map', æ€»ç»“-ç¬¬16èŠ‚è¿™èŠ‚å­¦ä¹ äº†é…ç½®devtoolï¼Œæ–¹ä¾¿åœ¨å¼€å‘ç¯å¢ƒè°ƒè¯•ä»£ç ã€‚ä¸€ç¯‡è®²çš„ä¸é”™çš„åšå®¢ å®˜ç½‘åœ°å€ ç¬¬17èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š å¼€å‘å’Œç”Ÿäº§å¹¶è¡Œé…ç½®è¿™èŠ‚è®²å¼€å‘å’Œç”Ÿäº§ä¸åŒç¯å¢ƒçš„ä¸åŒé…ç½® ä¾èµ–ä¸åŒå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„ä¾èµ–æ˜¯ä¸åŒçš„ å¼€å‘ä¾èµ– åªåœ¨å¼€å‘ä¸­ç”¨æ¥å¸®åŠ©ä½ è¿›è¡Œå¼€å‘ï¼Œç®€åŒ–ä»£ç ï¼Œæˆ–ç”Ÿæˆå…¼å®¹è®¾ç½®çš„ä¾èµ–åŒ…ã€‚åœ¨package.jsonä¸­devDependenciesä¸­çš„åŒ…æ˜¯å¼€å‘ä½¿ç”¨çš„ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒç”¨ä¸åˆ°ã€‚ç”Ÿäº§ä¾èµ– ä¸€äº›æ¡†æ¶çš„æ ¸å¿ƒä»£ç ï¼Œæ¯”å¦‚vue, element-ui, react, è¿™äº›åŒ…åœ¨dependenciesä¸­ npmå®‰è£…å‡å¦‚é¡¹ç›®ä¸­ä½¿ç”¨jQueryåº“ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§å®‰è£…æ³•ã€‚ 11npm install jquery å®‰è£…å®Œæˆåï¼Œpackage.jsonä¸­å¹¶æ²¡æœ‰è¿™ä¸ªåŒ…çš„ä¾èµ–ã€‚å¦‚æœåˆ«äººååŒå¼€å‘ï¼Œç›´æ¥npm installï¼Œé¡¹ç›®æ— æ³•æ­£å¸¸è¿è¡Œï¼Œä¸æ¨èã€‚ 21npm install jquery --save å®‰è£…å®Œæˆåï¼Œåœ¨package.jsonçš„dependenciesä¸­ã€‚æ˜¯ç”Ÿäº§ç¯å¢ƒéœ€è¦ä¾èµ–çš„åŒ…ã€‚ä¸Šçº¿æ—¶éœ€è¦ä¾èµ–ã€‚ 31npm install jquery --save-dev å®‰è£…å®Œæˆåï¼Œåœ¨package.jsonçš„devDevpendenciesä¸­,æ˜¯å¼€å‘ç¯å¢ƒä¾èµ–çš„åŒ…ï¼Œä¸Šçº¿ä¸éœ€è¦è¿™äº›åŒ…çš„ä¾èµ–ã€‚ å®‰è£…å…¨éƒ¨ä¾èµ–åŒ…1npm install ä¼šå®‰è£…package.jsonä¸­çš„æ‰€æœ‰åŒ… å®‰è£…ç”Ÿäº§ç¯å¢ƒä¾èµ–åŒ…1npm install --production é…ç½®ç”Ÿäº§å’Œå¼€å‘å¹¶è¡Œä»¥å‰çš„é…ç½®ä¸­è®¾ç½®äº†ä¸€ä¸ªå˜é‡website,ç”¨äºé™æ€èµ„æºæ‰¾åˆ°æ­£ç¡®è·¯å¾„ã€‚å¦‚æœç”Ÿäº§ç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒä¸ä¸€æ ·ï¼Œéœ€è¦æ¥å›åˆ‡æ¢ï¼Œè¿™æ—¶å€™å¯ç”¨ä¸‹é¢çš„æ–¹æ³•é…ç½®ã€‚ ä¿®æ”¹package.jsonå‘½ä»¤æ·»åŠ devä½•æ­¢ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡æ¥åŒºåˆ†ã€‚ 123456&quot;scripts&quot;: { &quot;liveserver&quot;: &quot;live-server ./ --port=9090&quot;, &quot;dev&quot;: &quot;set type=dev&amp;webpack&quot;, &quot;build&quot;: &quot;set type=build&amp;webpack&quot;, &quot;server&quot;: &quot;webpack-dev-server --open&quot;}, ä¿®æ”¹webpack.config.jsæ–‡ä»¶åˆ©ç”¨nodeçš„è¯­æ³•è¯»å–typeçš„å€¼ï¼Œç„¶åæ ¹æ®typeçš„å€¼è¿›è¡Œåˆ¤æ–­è®¾ç½®ä¸åŒçš„å˜é‡ã€‚ 12345678910if(process.env.type === 'build') { const website = { publicPath: 'http://localhost:8089/' }} else { const website = { publicPath: 'http://localhost:8089/' }} å¦‚æœæƒ³çœ‹æŸä¸ªå€¼ï¼Œå¯ä»¥console.logæ‰“å°å‡ºæ¥ 1console.log(process.env.type) æ‰“å°console.log( encodeURIComponent(process.env.type) );å‘ç°æŠ¥é”™ macä¸‹çš„package.jsonè®¾ç½®macç”µè„‘éœ€è¦æŠŠsetæ¢æˆexportï¼Œå¹¶ä¸”å¤šåŠ ä¸€ä¸ª&amp;,å…·ä½“ä»£ç  12345&quot;scripts&quot;: { &quot;server&quot;: &quot;webpack-dev-server --open&quot;, &quot;dev&quot;:&quot;export type=dev&amp;&amp;webpack&quot;, &quot;build&quot;: &quot;export type=build&amp;&amp;webpack&quot;}, æ€»ç»“-ç¬¬17èŠ‚é€šè¿‡é…ç½®ä¸åŒçš„å‚æ•°æ¥åŒºåˆ†ä¸åŒçš„ç¯å¢ƒï¼Œä»è€Œè¾¾åˆ°ä¸åŒç¯å¢ƒæ‰“åŒ…ä¸åŒä»£ç ã€‚ ç¬¬18èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š webpackæ¨¡å—åŒ–é…ç½®æ‰€æœ‰é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨webpack.config.jsä¸­ä¼šæ˜¾å¾—ä»£ç å†—ä½™ï¼Œä¸åˆ©äºç»´æŠ¤ã€‚ å¦‚ä½•è¿›è¡Œæ¨¡å—åŒ–ï¼Ÿ å¯ä»¥æŠŠç”Ÿäº§ç¯å¢ƒçš„å†™åˆ°ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œå¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒéƒ½åˆ†å¼€æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ è¿™èŠ‚å­¦ä¹ å¦‚ä½•å°†webpack.config.jsæ¨¡å—åŒ– jsçš„æ¨¡å—åŒ–å®ç°å…ˆçœ‹ä¸€ä¸‹es6ä¸­çš„æ¨¡å—åŒ–ä»£ç  1234function alertMsg (msg) { alert('info: ' + msg);}module.exports = alertMsg; å£°æ˜ä¸€ä¸ªalertMsgæ–¹æ³•ï¼Œå¹¶æŠŠè¿™ä¸ªæ–¹æ³•ç”¨module.exportsæš´éœ²å‡ºå»ã€‚ ç„¶ååœ¨å…¶ä»–æ–‡ä»¶ä¸­ç”¨importå¼•å…¥ï¼Œå¹¶ä½¿ç”¨ã€‚ 12import alertMsg from './utils.js'alertMsg(); äº†è§£äº†JavaScriptçš„æ¨¡å—åŒ–åï¼Œæ¥å†™webpackçš„æ¨¡å—åŒ– webpackæ¨¡å—åŒ–è¿™é‡Œç”¨webpack.config.jsä¸­çš„entryå…¥å£å“¦æ–‡ä»¶è¿›è¡Œæ¨¡å—åŒ–è®¾ç½®ï¼Œå•ç‹¬åšæˆä¸€ä¸ªæ¨¡å— 1. åœ¨æ ¹ç›®å½•å»ºä¸€ä¸ªwebpackConfigæ–‡ä»¶å¤¹ï¼Œæ–°å»ºentry_webpack.jsï¼Œå¦‚ä¸‹12345678910111213// å£°æ˜entry å˜é‡const entry = {};// å£°æ˜è·¯å¾„å±æ€§entry.path = { entry: './src/entry.js', entry2: './src/entry2.js'}// è¿™é‡Œè¿˜å¯ä»¥å†™å…¶ä»–çš„// entry.env.typeä¹‹ç±»çš„//æ¨¡å—åŒ–å¯¼å‡ºmodule.exports = entry; 2. åœ¨webpack.config.jsä¸­å¼•å…¥ï¼Œè¿™é‡Œåªèƒ½ç”¨requireå¼•å…¥1const entry = require('./webpackConfig/entry_webpack.js') åœ¨å…¥å£å¤„ä¿®æ”¹å¦‚ä¸‹ä»£ç  1entry: entry.path, è¿™æ—¶å¯ä»¥è¿è¡Œnpm run devè¿›è¡Œæµ‹è¯•ï¼Œä¼šå‘ç°æ­£å¸¸è¿è¡Œ æ€»ç»“-ç¬¬18èŠ‚æ¨¡å—åŒ–æ˜¯å¿…ä¸å¯å°‘çš„æ“ä½œï¼Œä¸€å®šè¦åŠ¨æ‰‹ç»ƒä¹ ã€‚ ç¬¬19èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š ä¼˜é›…æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“-shimmingæœ‰æ—¶å€™é¿å…ä¸äº†æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œè¿™æ—¶å€™è¯¥æ€ä¹ˆæ“ä½œã€‚ è¿™èŠ‚å­¦ä¹ å¦‚ä½•ä¼˜é›…æ­£ç¡®çš„ç”¨webpackå¼•å…¥ç¬¬ä¸‰æ–¹åº“ã€‚è®²ä¸¤ç§æ–¹æ³• å¼•å…¥jQueryç¬¬ä¸€ç§å®‰è£…jquery1npm install --save jquery juqeryè¦åœ¨ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒç”¨ï¼Œæ‰€ä»¥è¦ç”¨â€“saveå®‰è£… ä¿®æ”¹entry.jsæ–‡ä»¶å®‰è£…å¥½éœ€è¦å¼•å…¥åˆ°entry.jsä¸­ï¼Œè¿™é‡Œç›´æ¥ç”¨importå¼•å…¥ 1import $ from 'jquery' è¿™é‡Œä¸éœ€è¦å†™ç›¸å¯¹è·¯å¾„ï¼Œå› ä¸ºjqueryçš„åŒ…æ˜¯åœ¨node_modulesé‡Œï¼Œåªè¦å†™ä¸€ä¸ªåŒ…åï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æŸ¥æ‰¾ã€‚ å¼•å…¥jQueryåå°±å¯ä»¥åœ¨æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨jQueryï¼Œä¿®æ”¹ä»£ç ï¼Œæµ‹è¯• 12345$('#gogo').animate({height : &quot;150&quot; } , 1000 ) .animate({width : &quot;300&quot; } , 1000 ) .hide(2000) .animate({height : &quot;show&quot; , width : &quot;show&quot; , opacity : &quot;show&quot; } , 1000 ) .animate({height : &quot;500&quot;} , 1000 ); ä»£ç é¡ºåˆ©è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°jQueryåº“å¼•ç”¨æˆåŠŸã€‚ æ³¨æ„ï¼šä¸ä»…å¯ä»¥åœ¨å…¥å£å¤„å¼•å…¥ï¼Œè¿˜å¯ä»¥åœ¨ä»»ä½•éœ€è¦çš„jsä¸­å¼•å…¥ã€‚webpackä¸ä¼šé‡å¤æ‰“åŒ…ï¼Œä»–åªæ‰“åŒ…ä¸€æ¬¡ã€‚ ç¬¬äºŒç§ç”¨pluginå¼•å…¥ä¸Šé¢çš„æ–¹æ³•ï¼Œåªæ˜¯æ™®é€šçš„å¼•å…¥ï¼Œwebpackåªè´Ÿè´£æ‰“åŒ…ï¼Œæ²¡æœ‰å…¨å±€æ„Ÿã€‚ è¿™ä¸ªæ–¹æ³•åœ¨webpack.config.jsä¸­é…ç½®ï¼Œä¸éœ€è¦åœ¨å…¥åº“æ–‡ä»¶ä¸­å¼•å…¥ï¼Œè€Œæ˜¯webpackè‡ªåŠ¨ä½œå…¨å±€å¼•å…¥ã€‚ è¿™ä¸ªæ’ä»¶æ˜¯ProvicePlugin æ–‡æ¡£ ProvicePluginæ˜¯webpackè‡ªå¸¦çš„æ’ä»¶ï¼Œè¦ç°åœ¨webpack.config.jsä¸­å¼•å…¥webpackã€‚ 1const webpack = require('webpack') åœ¨pluginsä¸­é…ç½® 123456new webpack.ProvidePlugin({ $: 'jQuery', _: 'lodash', _join: ['lodash', 'join']}) é…ç½®å¥½åï¼Œå°±å¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ç›´æ¥ä½¿ç”¨$, è€Œä¸ç”¨åœ¨æ¯ä¸ªç»„ä»¶å¼•å…¥jQueryã€‚ è¿™ç§å…¨å±€çš„å¼•å…¥ï¼Œåœ¨å®é™…å·¥ä½œä¸­ä¹Ÿå¯ä»¥å¾ˆå¥½çš„è§„èŒƒé¡¹ç›®æ‰€ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“ã€‚ æ€»ç»“-ç¬¬19èŠ‚æ¯ä¸ªé¡¹ç›®éƒ½å¯èƒ½å¼•å…¥ç¬¬ä¸‰æ–¹ç±»åº“ã€‚åƒä¸€äº›æˆç†Ÿçš„æ¡†æ¶éƒ½æœ‰è‡ªå·±çš„webpackæ¡†æ¶ï¼Œå¦‚vue-cliã€‚ å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦æ‰‹åŠ¨æ›´æ”¹è¿™äº›é…ç½®å¥½çš„webpackæ¥é€‚ç”¨äºæˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®ã€‚ æ‰€ä»¥è¿™èŠ‚è¯¾çš„å†…å®¹ä¹Ÿéå¸¸é‡è¦ã€‚ ç¬¬20èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š watchçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•åœ¨åˆçº§å¼€å‘é˜¶æ®µï¼Œä½¿ç”¨webpack-dev-serverå¯ä»¥å……å½“æœåŠ¡å™¨å’Œå®Œæˆæ‰“åŒ…ä»»åŠ¡ï¼Œä½†éšç€é¡¹ç›®çš„è¿›ä¸€æ­¥å®Œå–„ï¼Œå¯èƒ½éœ€è¦å‰åè”è°ƒæˆ–ä¸¤ä¸ªå‰ç«¯åˆå¹¶ä»£ç æ—¶ï¼Œå°±éœ€è¦ä¸€ä¸ªå…¬å…±çš„æœåŠ¡å™¨ã€‚è¿™æ—¶å€™ï¼Œæ¯æ¬¡æ‰‹åŠ¨æ‰“åŒ…æ˜¾ç„¶æ•ˆç‡å¤ªä½ï¼Œæˆ‘ä»¬å¸Œæœ›çš„åœºæ™¯æ˜¯ä»£ç å‘ç”Ÿå˜åŒ–åï¼Œåªè¦ä¿å­˜ï¼Œwebpackå°±è‡ªåŠ¨ä¸ºæˆ‘ä»¬è¿›è¡Œæ‰“åŒ…ã€‚ è¿™ä¸ªå·¥å…·å°±æ˜¯watchã€‚ è¿™èŠ‚è¯¾å­¦å®Œåï¼Œä¼šå‘ç°åœ¨å¼€å‘ä¸­æ›´åŠ å¾—å¿ƒåº”æ‰‹äº†ã€‚ watchè®¾ç½®12345678watchOptions: { // æ£€æµ‹ä¿®æ”¹çš„æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ poll: 100, // é˜²æ­¢é‡å¤ä¿å­˜è€Œå‘ç”Ÿç¼–è¯‘é”™è¯¯ã€‚è¿™é‡Œè®¾ç½®çš„500æ˜¯åŠç§’å†…é‡å¤ä¿å­˜ï¼Œä¸è¿›è¡Œæ‰“åŒ… aggregeateTimeout: 500, // ä¸ç›‘å¬çš„ç›®å½• ignored: /node_modules/}, æ³¨æ„ignoredè¿™é‡Œä¸èƒ½ç”¨åŒå¼•å· æ²¡æœ‰é…ç½®çš„æƒ…å†µä¸‹ï¼Œç›´æ¥webpack â€“watch (-w) æ˜¯ä¸èµ·ä½œç”¨çš„ é…ç½®å¥½åï¼Œå°±å¯ä»¥ç—›å¿«çš„ä½¿ç”¨watchäº†ã€‚å¤§å¤§åŠ å¿«äº†å¼€å‘æ•ˆç‡ï¼Œä¸ç”¨åå¤æ‰‹åŠ¨æ‰“åŒ…ã€‚ BannerPluginæ’ä»¶å·¥ä½œä¸­æ¯ä¸ªäººçš„ä»£ç éƒ½è¦å†™å¤‡æ³¨ï¼Œæ–¹ä¾¿å‘ç”Ÿé—®é¢˜æ—¶ï¼Œå¯ä»¥æ‰¾åˆ°å†™ä»£ç çš„äººï¼Œæœ‰æ—¶å€™ä¹Ÿç”¨äºç‰ˆæƒå£°æ˜ã€‚ è¿™ä¸ªæ’ä»¶å°±æ˜¯BannerPlugin,ä½¿ç”¨åä¼šåœ¨jsä¸­åŠ ä¸Šæˆ‘ä»¬çš„ç‰ˆæƒæˆ–å¼€å‘è€…å£°æ˜ åœ¨webpack.config.jsçš„pluginsé‡Œé…ç½® 1new webpack.BannerPlugin('ç‰ˆæƒæ‰€æœ‰ï¼Œä»…é™å­¦ä¹ ä½¿ç”¨~~') æ³¨æ„ï¼š ç”¨è¿™ä¸ªæ’ä»¶ï¼Œéœ€è¦æå‰å¼•å…¥webpack.ç¼–è¯‘åï¼Œåœ¨æ¯ä¸ªæ–‡ä»¶çš„å¤´éƒ¨ï¼Œä¼šæœ‰ç¼–è¯‘ä¿¡æ¯ã€‚ ç¬¬21èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š webpackä¼˜åŒ–é»‘æŠ€èƒ½æ— è®ºå†™ä»€ä¹ˆç¨‹åºï¼Œéƒ½è¦æœ‰é¢—ä¸æ–­ä¼˜åŒ–çš„å¿ƒã€‚ è¿™èŠ‚è¯¾æ¥å­¦ä¹ å·¥ä½œä¸­å¸¸ç”¨çš„webpackä¼˜åŒ–é»‘æŠ€èƒ½ã€‚ ProvidePluginå’Œimportåœ¨ç¬¬19èŠ‚ä¸­å­¦ä¹ äº†å¦‚ä½•å¼•å…¥ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œå¹¶å¼•å…¥äº†jQueryã€‚åœ¨å¼•å…¥jQueryæ—¶ï¼Œç”¨äº†2ç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ˜¯importï¼Œç¬¬äºŒç§æ˜¯ç”¨ProvidePluginæ’ä»¶ã€‚è¿™ä¸¤ç§æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ importæ–¹æ³•ï¼š å¼•ç”¨åä¸ç®¡åœ¨ä»£ç ä¸­ç”¨ä¸ç”¨ï¼Œéƒ½ä¼šæŠŠè¿™ä¸ªç±»åº“æ‰“åŒ…ï¼Œè¿™æ ·æœ‰æ—¶ä¼šäº§ç”Ÿä»£ç å†—ä½™ã€‚ ProvidePæ–¹æ³•ï¼š å¼•ç”¨ååªæœ‰åœ¨ç±»åº“ä½¿ç”¨æ—¶ï¼Œæ‰æŒ‰éœ€æ‰“åŒ…ï¼Œæ‰€ä»¥å»ºè®®å·¥ä½œä¸­ä½¿ç”¨æ’ä»¶çš„æ–¹å¼è¿›è¡Œå¼•å…¥ã€‚ å…·ä½“æ‰“åŒ…å·®åˆ«å¯ä»¥è‡ªè¡Œç»ƒä¹ ï¼ŒæŸ¥çœ‹æ‰“åŒ…ç»“æœã€‚å·®è·æ˜æ˜¾ã€‚ æŠ½ç¦»jQueryä¸Šé¢åªæ˜¯ä¼˜åŒ–çš„ç¬¬ä¸€æ­¥ï¼Œå·¥ä½œä¸­ä¼šå‘ç°ï¼Œä¸ä½¿ç”¨çš„ç±»åº“æˆ‘ä»¬ä¹Ÿä¸ä¼šå¼•å…¥ï¼Œæ‰€ä»¥ä¸Šé¢åªæ˜¯å¿…è¦æ“ä½œçš„ä¸€æ­¥ã€‚å¾€å¾€æŠŠç¬¬ä¸‰ç±»ç±»åº“æŠ½ç¦»å‡ºæ¥ï¼Œæ‰æ˜¯æœ€å¥½çš„è§£å†³åŠæ³•ã€‚ ç¬¬ä¸€æ­¥ï¼š ä¿®æ”¹å…¥å£æ–‡ä»¶æŠ½ç¦»çš„ç¬¬ä¸€æ­¥æ˜¯ä¿®æ”¹å…¥å£æ–‡ä»¶ï¼ŒæŠŠjQueryåŠ å…¥åˆ°å…¥å£æ–‡ä»¶ä¸­ï¼Œçœ‹ä¸‹é¢ä»£ç ã€‚webpack.config.js 12345entry.path = { entry: './src/entry.js', jquery: 'jquery', entry2: './src/entry2.js'} ç¬¬äºŒæ­¥ï¼šå¼•å…¥æ’ä»¶éœ€è¦å¼•å…¥optimizeä¼˜åŒ–æ’ä»¶ï¼Œæ’ä»¶é‡Œæ˜¯éœ€è¦é…ç½®çš„ï¼Œå…·ä½“ä»£ç  12345678new webpack.optimize.CommonsChunkPlugin({ // nameå¯¹åº”å…¥å£æ–‡ä»¶ä¸­çš„åå­—ï¼Œè¿™é‡Œæ˜¯jquery name: 'jquery', // æŠŠæ–‡ä»¶æ‰“åŒ…åˆ°å“ªé‡Œï¼Œè·¯å¾„åœ°å€ filename: 'assets/js/jquery.min.js', // æœ€å°æ‰“åŒ…çš„æ–‡ä»¶æ¨¡å—æ•°ï¼Œè¿™é‡Œç›´æ¥å†™2 minChunks: 2}) minChunksæ˜¯å›ºå®šé…ç½®ï¼Œä¸å†™ä¸è¡Œï¼Œä¼šæ‰“åŒ…å¤±è´¥ filenameå¯ä»¥çœç•¥ï¼Œç›´æ¥æ‰“åŒ…åˆ°æ ¹ç›®å½•ä¸‹ï¼Œè¿™é‡Œç›´æ¥æ‰“åŒ…åˆ°distç›®å½•ä¸‹ é…ç½®å®Œæˆåå¯ä»¥å…ˆåˆ æ‰åŸæ¥çš„distç›®å½•ï¼Œå†ç”¨webpackæ‰“åŒ…ï¼Œä¼šå‘ç°jQueryè¢«æŠ½ç¦»äº†å‡ºæ¥ï¼Œå¹¶ä¸”entry.jså˜çš„å¾ˆå°ã€‚ å¤šä¸ªç¬¬ä¸‰æ–¹åº“æŠ½ç¦»ä¼šäº†jqueryæŠ½ç¦»ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¼šå¼•ç”¨ä¸æ­¢ä¸€ä¸ªç¬¬ä¸‰æ–¹ç±»åº“ï¼Œä¹Ÿéœ€è¦æŠ½ç¦»ã€‚ è¿™é‡Œç”¨å¼•å…¥Vueä¸¾ä¾‹ï¼Œçœ‹çœ‹å¦‚ä½•æŠ½ç¦»å‡ºæ¥ã€‚ ç¬¬ä¸€æ­¥ï¼š å…ˆç”¨npmè¿›è¡Œå®‰è£…1npm install vue --save æ³¨æ„è¿™é‡Œæ˜¯â€“saveï¼Œä¸æ˜¯â€“save-devï¼Œå› ä¸ºç”Ÿäº§ç¯å¢ƒä¹Ÿè¦ç”¨åˆ° ç¬¬äºŒæ­¥ï¼š åœ¨å…¥å£é…ç½®ä¸­å¼•å…¥Vueå’Œjquery123456entry.path = { entry: './src/entry.js', jquery: 'jquery', vue: 'vue', entry2: './src/entry2.js'} åªæ¯”ä¸Šè¾¹å¤šäº†ä¸ªvue ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹CommonsChunkPluginé…ç½®éœ€è¦ä¿®æ”¹ä¸¤ä¸ªä½ç½®ï¼š åœ¨nameå±æ€§é‡ŒæŠŠåŸæ¥çš„å­—ç¬¦ä¸²æ”¹ä¸ºæ•°ç»„ã€‚å› ä¸ºè¦å¼•ç”¨å¤šä¸ªæ¨¡å—ï¼Œ æ‰€ä»¥æ˜¯æ•°ç»„ã€‚ åœ¨filenameå±æ€§ä¸­æŠŠè¾“å‡ºçš„æ–‡ä»¶åæ”¹ä¸ºåŒ¹é…ç¬¦[name],è¿™é¡¹æ“ä½œå°±æ˜¯æ‰“åŒ…å‡ºæ¥çš„åå­—è·Ÿéšæˆ‘ä»¬æ‰“åŒ…å‰çš„æ¨¡å—åã€‚ 12345678new webpack.optimize.CommonsChunkPlugin({ // nameå¯¹åº”å…¥å£æ–‡ä»¶ä¸­çš„åå­—ï¼Œè¿™é‡Œæ˜¯jquery name: ['jquery', 'vue'], // æŠŠæ–‡ä»¶æ‰“åŒ…åˆ°å“ªé‡Œï¼Œè·¯å¾„åœ°å€ filename: 'assets/js/[name].js', // æœ€å°æ‰“åŒ…çš„æ–‡ä»¶æ¨¡å—æ•°ï¼Œè¿™é‡Œç›´æ¥å†™2 minChunks: 2}) é…ç½®å¥½åï¼Œåœ¨æ§åˆ¶å°ç”¨npm run build æ‰“åŒ…ã€‚jqueryå’ŒVueè¢«æŠ½ç¦»å‡ºæ¥äº†ã€‚ æ€»ç»“-ç¬¬21èŠ‚åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä¼šä½¿ç”¨å¾ˆå¤šç¬¬ä¸‰æ–¹ç±»åº“ï¼Œæ¯”è¾ƒå¥½çš„åšæ³•å°±æ˜¯æŠŠè¿™äº›ç¬¬ä¸‰æ–¹ç±»åº“å…¨éƒ¨æŠ½ç¦»å¤„ç†ï¼Œè¿™æ ·åœ¨é¡¹ç›®ç»´æŠ¤å’Œæ€§èƒ½ä¸Šéƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚å­¦äº†è¿™ä¸ªæŠ€å·§åï¼Œåœ¨å·¥ä½œä¸­è¦ä¼šä½¿ç”¨ã€‚ jqueryä½œä¸ºæ’ä»¶å¼•å…¥åï¼Œåœ¨å…¶ä»–æ–‡ä»¶ä¸­æ€ä¹ˆç”¨å‘¢è¿˜æ˜¯éœ€è¦æœ‰ providePluginæ¥æ”¯æ’‘çš„ï¼Œä¸èƒ½å»æ‰ã€‚ 123new webpack.ProvidePlugin({ $: 'jquery'}), ç¬¬22èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š é™æ€èµ„æºé›†ä¸­è¾“å‡ºå·¥ä½œä¸­ä¼šæœ‰ä¸€äº›å·²ç»å­˜åœ¨ä½†åœ¨é¡¹ç›®ä¸­æ²¡æœ‰å¼•ç”¨çš„å›¾ç‰‡èµ„æºæˆ–è€…å…¶ä»–é™æ€èµ„æºï¼ˆæ¯”å¦‚è®¾è®¡å›¾ã€å¼€å‘æ–‡æ¡£ï¼‰ï¼Œè¿™äº›é™æ€èµ„æºæœ‰å¯èƒ½æ˜¯æ–‡æ¡£ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸€äº›é¢å¤–çš„å›¾ç‰‡ã€‚é¡¹ç›®ç»„é•¿ä¼šè¦æ±‚ä½ æ‰“åŒ…æ—¶ä¿ç•™è¿™äº›é™æ€èµ„æºï¼Œç›´æ¥æ‰“åŒ…åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ã€‚å…¶å®æ‰“åŒ…è¿™äº›èµ„æºåªéœ€è¦ç”¨åˆ°copy-webpack-pluginã€‚ ä½¿ç”¨copy-webpack-plugincopy-webpack-pluginå°±æ˜¯ä¸“é—¨ä¸ºæˆ‘ä»¬åšé™æ€èµ„æºè½¬ç§»çš„æ’ä»¶ï¼Œä¸è¿‡å®ƒéœ€è¦å®‰è£…ã€‚ æ’ä»¶å®‰è£…1npm install --save-dev copy-webpack-plugin å¼•å…¥æ’ä»¶å®‰è£…å¥½åï¼Œéœ€è¦åœ¨webpack.config.jsçš„å¤´éƒ¨å¼•å…¥è¿™ä¸ªæ’ä»¶ 1const copyWebpackPlugin = require('copy-webpack-plugin') é…ç½®æ’ä»¶åœ¨pluginsé‡Œè¿›è¡Œé…ç½®,æ³¨æ„è¿™é‡Œæ˜¯æ•°ç»„ 1234new copyWebpackPlugin([{ from: __dirname+ '/src/public', to: './public'}]) from: è¦æ‰“åŒ…çš„é™æ€èµ„æºç›®å½•åœ°å€ï¼Œ__dirnameæŒ‡é¡¹ç›®ç›®å½•ï¼Œå¯ä»¥ç›´æ¥å®šä½åˆ°æœ¬æœºçš„é¡¹ç›®ç›®å½•ã€‚ to: è¦æ‰“åŒ…åˆ°çš„æ–‡ä»¶è·¯å¾„ï¼Œè·Ÿéšoutputé…ç½®çš„ç›®å½•ã€‚æ‰€ä»¥è¿™é‡Œä¸ç”¨åŠ __dirname. é…ç½®å¥½åï¼Œè¿è¡Œwebpackï¼Œä¼šå‘ç°å›¾ç‰‡æŒ‰ç…§é…ç½®æ‰“åŒ…åˆ°äº†æŒ‡å®šç›®å½•ã€‚ æ€»ç»“-ç¬¬22èŠ‚ç°åœ¨å­¦èµ·æ¥å·²ç»å¾ˆå®¹æ˜“äº†ï¼Œå·²ç»æŒæ¡äº†webpackçš„åŸºæœ¬çŸ¥è¯†ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä¸æ–­ç»ƒä¹ å’Œåœ¨å®é™…é¡¹ç›®ä¸­å‘ç°æ–°çš„éœ€æ±‚ï¼Œç„¶åæ‰¾åˆ°æ–°çš„loaderæˆ–è€…pluginæ¥è§£å†³é—®é¢˜ã€‚ ç¬¬23èŠ‚ï¼š å®æˆ˜æŠ€å·§ï¼š JSONé…ç½®æ–‡ä»¶çš„ä½¿ç”¨åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬çš„é¡¹ç›®éƒ½ä¼šé…ç½®ä¸€ä¸ªjsonçš„æ–‡ä»¶æˆ–APIæ–‡ä»¶ï¼Œä½œä¸ºé¡¹ç›®çš„é…ç½®æ–‡ä»¶ã€‚æœ‰æ—¶ä¹Ÿä¼šä»åå°è¯»å–ä¸€ä¸ªjsonæ–‡ä»¶ã€‚ è¿™èŠ‚è¯¾å°±å­¦ä¹ å¦‚ä½•åœ¨webpackç¯å¢ƒä¸­ä½¿ç”¨JSON. åœ¨webpack1æˆ–webpack2ä¸­ï¼Œéœ€è¦åŠ è½½ä¸€ä¸ªjson-loaderçš„loaderï¼Œä½†åœ¨webpack4.xä¸­ï¼Œä¸éœ€è¦é¢å¤–å¼•å…¥ã€‚ è¯»å–JSONå†…å®¹ åœ¨index.htmlä¸­åŠ ä¸ªdivï¼Œå¹¶ç»™ä¸ªid. 1&lt;div id=&quot;jsonArea&quot;&gt;&lt;/div&gt; åˆ°srcæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰¾åˆ°å…¥å£æ–‡ä»¶ï¼Œentry.js,ä¿®æ”¹ä»£ç ã€‚å¦‚ä¸‹ï¼š 12let json = require('../config.json');document.getElementById('jsonArea').innerHTML = json.name; å¼•å…¥jsonæ–‡ä»¶ï¼Œå¹¶æ’å…¥åˆ°domä¸­ã€‚ è¿è¡Œnpm run server ï¼Œå°±å¯ä»¥çœ‹åˆ°æ•ˆæœã€‚ è¯´è¯´çƒ­æ›´æ–°åœ¨devServerä¸­é…ç½®hot: truehotOnly: true çƒ­æ›´æ–°å¤±è´¥æ—¶ï¼Œä¸åˆ·æ–°æ•´ä¸ªé¡µé¢ åœ¨webpack4.xä¸­ï¼Œå¯ç”¨çƒ­åŠ è½½å¾ˆå®¹æ˜“ï¼Œåªè¦åŠ å…¥HotModuleReplacementPluginè¿™ä¸ªæ’ä»¶å°±å¯ä»¥äº†ã€‚ åœ¨pluginé‡Œé…ç½® 123plugins: [ new webpack.HotModuleReplacementPlugin()] ç°åœ¨ï¼Œå¯åŠ¨npm run serveråï¼Œä¿®æ”¹index.htmlä¸­çš„å†…å®¹ï¼Œæµè§ˆå™¨å°±å¯ä»¥è‡ªåŠ¨æ›´æ–°æœ€æ–°é¡µé¢ 123456// å¦‚æœæŸä¸ªjsæ¨¡å—æ›´æ–°äº†ï¼Œåªæ›´æ–°æŸä¸ªæ¨¡å—ï¼Œè€Œä¸æ˜¯æ‰€æœ‰æ¨¡å—éƒ½æ›´æ–°if (module.hot) { module.hot.accept('./number', () =&gt; { number(); });} è¿™é‡Œçš„çƒ­æ›´æ–°å’Œå¹³æ—¶å†™ç¨‹åºçš„çƒ­åŠ è½½ä¸æ˜¯ä¸€å›äº‹ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬Vueå’ŒReactä¸­çš„çƒ­æ›´æ–°ï¼Œå¹¶ä¸æ˜¯åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œè€Œæ˜¯ä¸€ä¸ªå±€éƒ¨çš„æ›´æ–°ï¼Œè€Œè¿™é‡Œçš„æ›´æ–°æ˜¯åˆ·æ–°äº†æ•´ä¸ªé¡µé¢è¿™ä¸ªåŒºåˆ«è¦ææ¸…æ¥šã€‚ ç¬¬24èŠ‚ï¼š å‰§ç»ˆï¼š webpackè‡ªå­¦æŠ€å·§ä¼ æˆè¿™èŠ‚è¯¾å­¦ä¸€äº›è‡ªå­¦webpackçš„æŠ€å·§ï¼Œè®©å¤§å®¶å¯ä»¥åœ¨æœ¬æ•™ç¨‹ç»“æŸåç»§ç»­è‡ªè¡Œç²¾è¿›ã€‚ å­¦ä¹ æ¨è webpack å®˜ç½‘ ä¸­æ–‡å®˜ç½‘ æ·±å…¥æµ…å‡º Webpack Webpackæ’ä»¶ hard-source-webpack-pluginæå‡æ‰“åŒ…æ•ˆç‡éå¸¸æ˜æ˜¾ webpackä¹‹ç›‘æµ‹é…ç½®æ–‡ä»¶çš„ä¿®æ”¹è€Œè‡ªåŠ¨æ„å»ºåœ¨webpackçš„è‡ªåŠ¨æ„å»ºä¸­ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬åªæ˜¯ç›‘æµ‹åˆ°æºæ–‡ä»¶çš„å˜åŒ–ï¼Œå¦‚æœä¿®æ”¹webpackçš„é…ç½®æ–‡ä»¶å°±ä¸ä¼šå‘ç”Ÿè‡ªåŠ¨æ„å»ºã€‚é€šè¿‡ä½¿ç”¨nodeçš„nodemonæ¨¡å—æ¥è¾¾åˆ°ç›®çš„ã€‚ ä¸€ã€å®‰è£…nodemon 1234// å…¨å±€å®‰è£…npm install -g nodemon// æœ¬åœ°å®‰è£…npm install --save-dev nodemon äºŒã€ä½¿ç”¨nodemon nodemon --watch ./config/webpack.dev.js è§£é‡Šï¼š â€“ watch config è¡¨ç¤ºç›‘æµ‹configç›®å½•ä¸‹çš„æ–‡ä»¶å˜åŒ–â€“ dev.jsåˆ™ä¸ºwebpackæœ¬æ¥çš„é€šè¿‡ node dev.jså½¢å¼æ‰§è¡Œçš„æ„å»ºèµ·å§‹æ–‡ä»¶æ€»ä½“æ„æ€å°±æ˜¯ï¼šç›‘æµ‹configä¸­çš„æ–‡ä»¶å˜åŒ–å¹¶é‡æ–°æ‰§è¡Œdev.jsæ–‡ä»¶ å¦‚æœnodemonæ˜¯æœ¬åœ°å®‰è£…éœ€è¦å¦‚ä¸‹å¤„ç†ï¼š 12345// åœ¨package.jsonä¸­scriptsä¸­åŠ å¦‚ä¸‹é…ç½®&quot;startNodemon&quot;:&quot;nodemon --watch config dev.js&quot;//åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œnpm run startNodemon åœ¨package.jsonä¸­çš„é…ç½® 123456{ &quot;scripts&quot;: { &quot;start&quot;: &quot;webpack ...&quot; &quot;dev&quot;: &quot;nodemon --watch config dev.js --exec npm run start&quot; }} è¯´æ˜ â€“exec é…ç½®è¿è¡Œçš„å‘½ä»¤ â€“watch ç›‘å¬äº›æ–‡ä»¶å˜åŒ–ï¼Œå½“å˜åŒ–çš„æ—¶å€™è‡ªåŠ¨é‡å¯ nodeæœåŠ¡å™¨app.jsè‡ªåŠ¨é‡å¯ 123&quot;scripts&quot;: { &quot;dev&quot;: &quot;nodemon app.js &quot;}, å®é™…ä½¿ç”¨ä¸­ï¼Œå¦‚æœpackage.jsonä¸­çš„mainé…ç½®äº†ï¼Œä½†æ˜¯è·¯å¾„ä¸å¯¹ï¼Œä¼šæŠ¥é”™æ‰¾ä¸åˆ°æ–‡ä»¶å¯¼è‡´æ— æ³•è‡ªåŠ¨é‡å¯ webpack npm install æŠ¥é”™è§£å†³æ‰§è¡Œnpm install æŠ¥é”™: npm ERR! Cannot read property 'match' of undefined è§£å†³åŠæ³•: ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 1234rm -rf node_modulesrm package-lock.jsonnpm cache clear --forcenpm install Clean plugin for webpackåœ¨æ‰“åŒ…ä¹‹å‰æ¸…é™¤æ‰“åŒ…æ–‡ä»¶ npm install --save-dev clean-webpack-plugin ç”¨æ³• 123456789const { CleanWebpackPlugin } = require('clean-webpack-plugin');const webpackConfig = { plugins: [ new CleanWebpackPlugin() ],};module.exports = webpackConfig; è‡ªå·±å®ç°webpack-dev-serveråœ¨nodeä¸­ä½¿ç”¨webpack npm install express webpack-dev-middleware -D 1234567891011121314151617const express = require('express');const webpack = require('webpack');const webpackDevMiddleware = require('webpack-dev-middleware');const config = require('./webpack.config.js');// ç”¨webpackç»“åˆconfigç¼–è¯‘ä»£ç const complier = webpack(config);const app = express();app.use(webpackDevMiddleware(complier), { publicPath: config.output.publicPath});app.listen(3000, () =&gt; { console.log('server is running');}); webpack.config.js é…ç½® 123scripts: { 'server': 'node server.js'} tree shakingåªæ”¯æŒES Module!!! import { add } from './math.js'; åº•å±‚æ˜¯é™æ€å¼•å…¥æ–¹å¼ ä¸æ”¯æŒ const add = require('./math.js); commonJs æ˜¯åŠ¨æ€å¼•å…¥, ä¸æ”¯æŒtree shaking webpack.config.js 123optimization: { usedExports: true} åœ¨package.jsonä¸­ å¯¹å“ªä¸ªæ–‡ä»¶ä¸åšç­›é€‰ï¼Œåœ¨sideEffectsé‡Œä»¥æ•°ç»„çš„æ–¹å¼åŠ å…¥å¯¹cssæ–‡ä»¶ä¸åšå¤„ç†sideEffects: ['*.css'] falseä¸ºå¯¹æ‰€æœ‰æ–‡ä»¶ç­›é€‰ 123{ &quot;sideEffects&quot;: false} mode: ä¸ºdevelopmentæ—¶ï¼Œæ‰“åŒ…ä¸ä¼šåˆ é™¤ä»£ç ï¼Œä¼šåˆ é™¤å¯¼å‡º webpackåŒºåˆ† å¼€å‘æ¨¡å¼å’Œ productionæ¨¡å¼ä¾èµ–webpack-merge npm install webpack-merge -D webpack.common.js å…¬å…±çš„é…ç½® 123456789101112const merge = require('webpack-merge');module.exports = { entry: { main: './src/index.js' }, module: { } output: { }} webpack.prod.js, ä¿ç•™çº¿ä¸Šç‹¬æœ‰çš„é…ç½® 123456789const merge = require('webpack-merge');const commConfig = require('./webpack.common.js');const prodConfig = { mode: 'production', devtool: 'cheap-module-source-map'}module.exports = merge(commonConfig, prodConfig); webpack.dev.js, ä¿ç•™å¼€å‘ç¯å¢ƒç‹¬æœ‰çš„é…ç½® 1234567891011const merge = require('webpack-merge');const commConfig = require('./webpack.common.js');const devConfig = { mode: 'development', devServer: { hot: true }}module.exports = merge(commonConfig, devConfig); package.json 1234scripts: { &quot;dev&quot;: &quot;webpack-dev-server --config webpack.dev.js&quot;, &quot;build&quot;: &quot;webpack --config webpack.prod.js&quot;} å¯ä»¥æŠŠæ‰€æœ‰é…ç½®æ–‡ä»¶éƒ½æ”¾åˆ°buildæ–‡ä»¶å¤¹é‡Œ, éœ€è¦æ”¹package.jsoné‡Œçš„é…ç½®(output, scriptsç­‰) æ£€æŸ¥æ‰“åŒ…ä½ç½®å¯¹ä¸å¯¹ï¼Œæ¸…é™¤æ–‡ä»¶å¯¹ä¸å¯¹ Code Splittingâ€“æœ‰ç–‘é—®SplitChunksPlugin æ‹†åˆ†ä»£ç ï¼Œæå‡é¡¹ç›®æ€§èƒ½ æ¯”å¦‚å¼•å…¥lodashä¹‹ç±»çš„ç±»åº“ï¼Œæ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶ä¼šå¤š1MBå·¦å³ å°†2MBçš„æ–‡ä»¶æ‹†åˆ†æˆä¸¤ä¸ª1MBçš„æ–‡ä»¶åŠ è½½ å½“ä¸šåŠ¡é€»è¾‘å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒåªåŠ è½½ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œä¸åŠ è½½åŸºç¡€ç±»åº“çš„ä»£ç  åœ¨webpack.config.jsä¸­å¢åŠ é…ç½®â€”-åŒæ­¥ä»£ç  12345optimization: { splitChunks: { chunks: 'all' }} å¼‚æ­¥ä»£ç ï¼ˆimport,æ— éœ€åšä»»ä½•é…ç½®ä¼šè‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²ï¼‰ ä»£ç æ”¯æŒå¼‚æ­¥import npm install babel-plugin-dynamic-import-webpack --save-dev Lazy Loading æ‡’åŠ è½½ï¼ŒChunk æ˜¯ä»€ä¹ˆâ€“æœ‰ç–‘é—®é€šè¿‡importå¼‚æ­¥åŠ è½½æ¨¡å— å¯ä»¥è®©é¡µé¢åŠ è½½æ›´å¿« babel-plugin-syntax-dynamic-import ç‚¹å‡»é¡µé¢æ‰ä¼šåŠ è½½getComponent 123456789101112function getComponent() { return import(/** webpackChunkName: &quot;lodash&quot; */ 'lodash').then({ default: _ }) =&gt; { var element = document.createElement('div'); element.innerHTML = _.join(['11', '22'], '-'); return element; });}document.addEventListener('click', () =&gt; { getComponent().then(element =&gt; { document.body.appendChild(element); })}) 123456async function getComponent() { const { default: _ } = await import(/** webpackChunkName: &quot;lodash&quot; */ 'lodash'); var element = document.createElement('div'); element.innerHTML = _.join(['11', '22'], '-'); return element;} æ‰“åŒ…åˆ†æï¼ŒPreloading, Prefetchingå®˜æ–¹å·¥å…·é“¾æ¥ webpackåˆ†æå·¥å…·analyse ç”Ÿæˆæ‰“åŒ…æè¿°æ–‡ä»¶package.json 123scripts: { &quot;analyze&quot;: 'webpack --profile --json &gt; stats.json'} åˆ†æç½‘ç«™ï¼Œéœ€ç§‘å­¦ä¸Šç½‘ webpack-bundle-analyzer å°çŸ¥è¯†-æ–‡ä»¶åˆ©ç”¨ç‡command+shift+p æœç´¢coverage, å¯ä»¥çœ‹æ–‡ä»¶åˆ©ç”¨ç‡ æé«˜ä»£ç çš„ä½¿ç”¨ç‡ å¤šå†™å¼‚æ­¥ä»£ç ï¼Œæ€§èƒ½æ‰èƒ½å¾—åˆ°æå‡ chunks: â€˜asyncâ€™ æ‰èƒ½çœŸæ­£æå‡ç½‘ç«™æ€§èƒ½ webpackä¸æµè§ˆå™¨ç¼“å­˜(Caching)performace: false å¯ä»¥ä¸æç¤ºæ€§èƒ½é—®é¢˜ é€šè¿‡æ–‡ä»¶åæ·»åŠ hashå€¼æ¥ç¼“å­˜ ç”Ÿäº§ç¯å¢ƒ 1234output: { filename: '[name].[contenthash].js', chunkFilename: '[name].[contenthash].js'} libraryæ‰“åŒ…æ–‡æ¡£åœ°å€ externalså¼€å‘ç±»åº“çš„æ‰“åŒ…ï¼Œä¾›ç¬¬ä¸‰æ–¹ä»¥ä¸åŒçš„æ–¹å¼(import, require, script)å¼•å…¥ä½¿ç”¨ 123456789101112mode: 'production',// å¦‚æœé‡åˆ°lodashåº“ï¼Œä¸æ‰“åŒ…åˆ°ä»£ç é‡Œï¼Œä¸šåŠ¡é‡Œè¦ç”¨çš„è¯ï¼Œå…ˆå¼•ç”¨lodashï¼Œå†å¼•ç”¨libraryexternals: ['lodash'],output: { path: path.resolve(__dirname, 'dist'), filename: 'library.js' // ä»¥scriptæ–¹å¼å¼•å…¥ library: 'library', // ä»¥importå’Œrequireæ–¹å¼å¼•å…¥ libraryTarget: 'umd'} package.json 1main: &quot;./dist/index.js' 12npm addusernpm publish PWAæ‰“åŒ…é…ç½®ç½‘ç«™è®¿é—®è¿‡ä¸€æ¬¡ä¹‹åï¼Œå¯ä»¥ä¸€ç›´è¢«ç¼“å­˜, serviceWorker workbox-webpack-plugin 123456789101112// Inside of webpack.config.js:const {GenerateSW} = require('workbox-webpack-plugin');module.exports = { // Other webpack config... plugins: [ // Other plugins... new GenerateSW({ option: 'value', }) ]}; TypeScript æ‰“åŒ…é…ç½®npm install ts-loader typescript -D 12345rules: [{ test: /\\.tsx?$/, use: 'ts-loader', exclude: /node_modules/,}] tsconfig.json 12345678{ &quot;compilerOptions&quot;: { &quot;outDir&quot;: &quot;./dist&quot;, &quot;module&quot;: &quot;es6&quot;, &quot;target&quot;: &quot;es5&quot;, &quot;allowJs&quot;: true }} npm install @types/lodash --save-devè¿™æ ·åœ¨ä»£ç ä¸­typescriptå¯ä»¥è¯†åˆ«lodashä¸­çš„æ–¹æ³•ï¼Œå¹¶æç¤ºè¯­æ³•ä¸è§„èŒƒç­‰é”™è¯¯ DefinitelyTyped webpackæ€§èƒ½ä¼˜åŒ– è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£(npm, yarn, Nodeç‰ˆæœ¬å‡çº§) åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šç”¨loader excludesæˆ–include pluginå°½å¯èƒ½å°‘ï¼Œå¹¶ä¿è¯å¯é æ€§ resolveå‚æ•°åˆç†é…ç½® 12345678910resolve: { extendsions: ['.js', '.jsx'], // ä»å“ªä¸ªæ–‡ä»¶å¯¼å…¥æ¨¡å—, ä¸è¦é…ç½®è¿‡å¤šçš„ mainFields: ['index', 'main'], // åˆ›å»º import æˆ– require çš„åˆ«å alias: { 'utils': path.resolve(__dirname, '../utils'), 'assets': path.resolve(__dirname, '../assets'), }} extendsions: ä¸è¦æŠŠæ‰€æœ‰åç¼€éƒ½åŠ åˆ°è¿™é‡Œ, å¦‚css, jpgç­‰, ä¼šå¢åŠ æ–‡ä»¶æŸ¥æ‰¾å¤æ‚åº¦ ä½¿ç”¨DLLPluginæé«˜æ‰“åŒ…é€Ÿåº¦ æ¯ä¸€æ¬¡å¼•å…¥ç¬¬ä¸‰æ–¹åŒ…éƒ½ä¼šè¿›è¡Œåˆ†æï¼Œæ¶ˆè€—æ—¶é—´ webpack.dll.js 123456789101112131415161718192021const path = require('path');const webpack = require('webpack');module.exports = { entry: { vendors: ['react', 'react-dom'], lodash: ['lodash'] }, output: { filename: '[name].dll.js', path: path.resolve(__dirname, '../dll'), // å¯ä»¥åœ¨æ§åˆ¶å°ä½¿ç”¨çš„å˜é‡,é€šè¿‡å…¨å±€å˜é‡æš´éœ²å‡ºæ¥ library: '[name]' }, plugins: [ new webpack.dllPlugin({ name: '[name]', path: path.resolve(__dirname, '../dll/[name].manifest.json') }) ]} webpack.common.js 1234567891011121314151617181920212223242526272829303132333435363738394041const path = require('path');const fs = require('fs');const addAssetHtmlWebpackPlugin = require('add-asset-html-webpack-plugin');const webpack = require('webpack');const plugins = [ new HtmlWebpackPlugin({ template: 'src/index.html' }), new CleanWebpackPlugin(['dist'], { root: path.resolve(__dirname, '../') })];const files = fs.readdirSync(path.resolve(__dirname, '../dll'));files.forEach(file =&gt; { if (/.*\\.dll.js/.test(file)) { plugins.push(new addAssetHtmlWebpackPlugin({ filePath: path.resolve(__dirname, '../dll',file) })) } if (/.*\\.manifest.json/.test(file)) { plugins.push(new webpack.DllReferencePlugin({ manifest: path.solve(__dirname, '../dll/', file) })) }});module.exports = { entry: { vendors: ['react', 'react-dom'], lodash: ['lodash'] }, output: { filename: '[name].dll.js', path: path.resolve(__dirname, '..dll'), // å¯ä»¥åœ¨æ§åˆ¶å°ä½¿ç”¨çš„å˜é‡,é€šè¿‡å…¨å±€å˜é‡æš´éœ²å‡ºæ¥ library: '[name]' }, plugins} npm install add-asset-html-webpack-plugin --save ç›®æ ‡ï¼š ç¬¬ä¸€æ¬¡æ‰“åŒ…æ—¶æŠŠå¸¸ç”¨çš„åº“æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œå†æ¬¡å¼•ç”¨ä¸å†ä»node_modulesé‡Œæ‰¾ ç¬¬ä¸‰æ–¹æ¨¡å—åªæ‰“åŒ…ä¸€æ¬¡ å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—æ—¶ï¼Œç”¨dllæ–‡ä»¶å¼•å…¥ å…ˆæ‰“åŒ…npm run build:dll æ‰“åŒ…webpack.dll.jsï¼Œå†è¿è¡Œnpm run build 1234&quot;scripts&quot;: {&quot;build&quot;: &quot;webpack --progress --colors --devtool cheap-module-source-map&quot;,&quot;build:dll&quot;: &quot;webpack --config webpack.dll.config.js&quot;}, æ§åˆ¶åŒ…æ–‡ä»¶å¤§ thread-loader, paraller-webpack, happypackå¤šè¿›ç¨‹æ‰“åŒ… åˆç†ä½¿ç”¨sourceMap ç»“åˆstatsåˆ†ææ‰“åŒ…ç»“æœ å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘ å¼€å‘ç¯å¢ƒæ— ç”¨æ’ä»¶å‰”é™¤(å¼€å‘ç¯å¢ƒæ²¡å¿…è¦å‹ç¼©ä¹‹ç±»çš„) å¤šé¡µé¢æ‰“åŒ…é…ç½®å¤šä¸ªentryå¯¹åº”å¤šä¸ªhtmlæ–‡ä»¶ webpack.common.js 123456789101112131415161718192021222324252627282930const makePlugins = (configs) =&gt; { const plugins = [ new CleanWebpackPlugin(['dist'], { root: path.resolve(__dirname, '../') }) ]; Object.keys(configs.entry).forEach(item =&gt; { plugins.push( new HtmlWebpackPlugin({ template: 'src/index.html', filename: `${item}.html`, chunks: ['runtime', 'vendors', item] }), ) }); // dllplugins return plugins;}const configs = { entry: { index: './src/index.js', list: './src/list.js' }, plugins};config.plugins = makePlugins(config);module.exports = config; å¦‚ä½•ç¼–å†™ä¸€ä¸ªloaderå¸¸ç”¨åŠŸèƒ½: å›½é™…åŒ–æ›¿æ¢ä¸­è‹±æ–‡, æ•è·å¼‚å¸¸(åœ¨functionå¤–åŠ trycatch) loader API replaceLoader.js 123456789const loaderUtils = require('loader-utils');module.exports = function(source) { const options = loaderUtils.getOptions(); const result = source.replace('hello ', options.name); // ç­‰äº return result this.callback(null, result);} webpack.config.js 123456789101112131415resolveLoader: { // path.resolve(__dirname, './loaders/replaceLoader.js)å¯ä»¥ä¸ç”¨å†™è¿™ä¹ˆå¤š,ç›´æ¥å†™name modules: ['node_modules', './loaders']},module: { rules: [{ test: /\\.js/, use: [{ loader: 'replaceLoader', options: { name: 'lee' } }] }]} å¤æ‚çš„replaceLoader.js 12345678910const loaderUtils = require('loader-utils');module.exports = function(source) { const options = loaderUtils.getOptions(); const callback = this.async(); setTimeout(() =&gt; { const result = source.replace('dell', options.name); callback(null, result); }, 1000);} å¦‚ä½•ç¼–å†™ä¸€ä¸ªPluginæ‰“åŒ…çš„æŸä¸ªæ—¶åˆ»ï¼Œæ˜¯æ’ä»¶ç”Ÿæ•ˆçš„åœºæ™¯ï¼Œæ¯”å¦‚æ‰“åŒ…ä¹‹å‰ï¼Œæ¸…é™¤distç›®å½•compiler hookscopyright-webpack-plugin.js 1234567891011121314151617181920212223242526class CopyrightWebpackPlugin { constructor(options) { console.log('æ’ä»¶è¢«ä½¿ç”¨äº†', options); } apply(compiler) { // åŒæ­¥å†™æ³• compiler.hooks.emit.tap('CopyrightWebpackPlugin', () =&gt; { }); // å¼‚æ­¥å†™æ³• compiler.hooks.emit.tapAsync('CopyrightWebpackPlugin', (compilation, cb) =&gt; { // compilation.assetsä¸ºæ‰“åŒ…åçš„æ–‡ä»¶ compilation.assets['copyright.txt'] = { source: function() { return 'copyright by hello world' }, size: function() { return 21; } } // ä¸€å®šè¦åŠ å›è°ƒ cb(); }) }}module.exports = CopyrightWebpackPlugin; webpack.config.js 1234567const copyrightWebpackPlugin = require('./plugins/copyright-webpack-plugin');plugins: [ new copyrightWebpackPlugin({ name: 'world' })] ç”¨nodeè°ƒè¯•å·¥å…·è°ƒè¯•webpack123&quot;scripts&quot;: { &quot;debug&quot;: &quot;node --inspect --inspect-brk node_modules/webpack/bin/webpack.jss&quot;} åœ¨æ’ä»¶ä¸­å†™debuggerï¼Œä¼šè‡ªåŠ¨è·³åˆ°è¯¥æ–­ç‚¹ [CreateReactApp](https://github.com/facebook/create-react-appï¼‰é¡¹ç›®Webpackè§£ænpm run ejectæŸ¥çœ‹webpacké…ç½® Vueé¡¹ç›®é…ç½®æ–°å»ºvue.config.jsé…ç½®","link":"/posts/Webpack-%E6%88%90%E7%A5%9E%E4%B9%8B%E8%B7%AF/"},{"title":"å‰ç«¯ç»éªŒç§¯ç´¯","text":"åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„ instanceofæ“ä½œç¬¦ç”¨æ¥åˆ¤æ–­è¦æ£€æµ‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šæ˜¯å¦å­˜åœ¨æŸä¸ªæ„é€ å‡½æ•°çš„prototypeå±æ€§ã€‚ 12345678var a={};var b=[];console.log(a instanceof Object);//trueconsole.log(b instanceof Array);//trueæ³¨æ„ï¼ï¼ï¼ï¼ï¼ï¼console.log(b instanceof Object);//true Array.isArray() ä½¿ç”¨Object.prototypeä¸Šçš„åŸç”ŸtoString()æ–¹æ³•åˆ¤æ–­ã€‚ 1234console.log(Object.prototype.toString.call(a));//[object Object]console.log(Object.prototype.toString.call(b));//[object Array]åŒç†åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å‡½æ•°ï¼šconsole.log(Object.prototype.toString.call(obj)==='[object Function]') //trueæˆ–false obj.constructor===Array //true çœŸå€¼ / å‡å€¼ï¼ˆTruthy / Falsyï¼‰ä»¥ä¸‹ä¸ºfalse false 0 â€œâ€ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ null undefined NaN 12345678910111213!0 // true -- 0 is false, æ‰€ä»¥è¿”å›true!!0 // false -- 0 is falsy so !0 returns true so !(!0) returns false!!&quot;&quot; // false -- empty string is falsy so NOT (NOT false) equals falsenew Boolean(0) // falsenew Boolean(1) // truelet a = [] == true // a is false since [].toString() give &quot;&quot; back.let b = [1] == true // b is true since [1].toString() give &quot;1&quot; back.let c = [2] == true // c is false since [2].toString() give &quot;2&quot; back.åœ¨å†…éƒ¨ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ä¸å¸ƒå°”å€¼æ¯”è¾ƒæ—¶ï¼Œæ¯”å¦‚[] == trueï¼Œå®ƒå…¶å®è¿›è¡Œçš„æ˜¯[].toString() == trueã€‚ JSè¯­å¥ä¸ºä»€ä¹ˆä¸èƒ½ä»¥â€œfunctionâ€å’Œå¤§æ‹¬å·å¼€å¤´ ä»¥functionå¼€å¤´ï¼Œä½†å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜è¯­å¥ ä»¥å¤§æ‹¬å·å¼€å¤´ï¼Œä½†è¯¥å¤§æ‹¬å·ä¸å†è¢«å½“åšä¸€ä¸ªå¯¹è±¡å¤„ç†ï¼Œè€Œæ˜¯å½“åšä¸€ä¸ªè¯­å¥å—å¤„ç† ç»¼ä¸Šä¸¤æ¡è¯´æ˜ï¼ŒJSè¯­å¥å¯ä»¥ä»¥functionï¼Œä¹Ÿå¯ä»¥ä»¥å¤§æ‹¬å·ä½œä¸ºå¼€å¤´ï¼Œå‰ææ˜¯å¿…é¡»ç¬¦åˆJSä¸­çš„è¯­æ³•è§„èŒƒ 123456{a: 'a'}.a; // Uncaught SyntaxError: Unexpected token .function(){}.toString(); // Uncaught SyntaxError: Unexpected token ({}.toString(); // Uncaught SyntaxError: Unexpected token .â€œ{}.toString();â€ ç­‰åŒäº: â€œ; .toString();â€ æœªé€šè¿‡å¯¹è±¡ä¸»ä½“è°ƒç”¨â€œtoStringâ€æ–¹æ³•ï¼Œä¸ç¬¦åˆJSä¸­æœŸå¾…çš„è¡¨è¾¾å¼ Object.assign, JSON.stringifyæ˜¯æ·±æ‹·è´å—ä¸æ˜¯çš„è¯æ€ä¹ˆè§£å†³ shallowCopyï¼ˆæµ…æ‹·è´ï¼‰æˆ– deepCopyï¼ˆæ·±æ‹·è´ï¼‰ æ·±æ‹·è´é€ æˆäº† CPU å’Œå†…å­˜çš„æµªè´¹ æ·±æ‹·è´å¦‚æœæ˜¯åªæœ‰æœ€åº•å±‚ä¸€ä¸ªå…ƒç´ æ”¹å˜ï¼Œä¼šé€ æˆæ€§èƒ½å½±å“ï¼Œæ€ä¹ˆè§£å†³? immutable Object.assign()å¯ä»¥å¯¹éåµŒå¥—å¯¹è±¡è¿›è¡Œæ·±æ‹·è´çš„æ–¹æ³•,å¦‚æœå¯¹è±¡ä¸­å‡ºç°åµŒå¥—æƒ…å†µ,é‚£ä¹ˆå…¶å¯¹è¢«åµŒå¥—å¯¹è±¡çš„è¡Œä¸ºå°±æˆäº†æ™®é€šçš„æµ…æ‹·è´.Object.assign æ–¹æ³•åªä¼šæ‹·è´æºå¯¹è±¡è‡ªèº«çš„å¹¶ä¸”å¯æšä¸¾çš„å±æ€§åˆ°ç›®æ ‡å¯¹è±¡ã€‚ å¯¹è±¡è§£æ„è¿ç®—ï¼Œä¹Ÿæ˜¯æµ…æ‹·è´ã€‚ JSONå¯¹è±¡ä¸­åŒ…å«ä¸¤ä¸ªæ–¹æ³•, stringify()å’Œparse(),å‰è€…å¯ä»¥å°†å¯¹è±¡JSONåŒ–,è€Œåè€…å¯ä»¥å°†JSONæ ¼å¼è½¬æ¢ä¸ºå¯¹è±¡.è¿™æ˜¯ä¸€ç§å¯ä»¥å®ç°æ·±æ‹·è´çš„æ–¹æ³•.ä½†è¿™ç§æ–¹æ³•çš„ç¼ºé™·æ˜¯ä¼šç ´ååŸå‹é“¾,å¹¶ä¸”æ— æ³•æ‹·è´å±æ€§å€¼ä¸ºfunctionçš„å±æ€§æ‰€ä»¥å¦‚æœåªæ˜¯æƒ³å•çº¯å¤åˆ¶ä¸€ä¸ªåµŒå¥—å¯¹è±¡,å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³• ç¼ºç‚¹æ˜¯ä½ åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ï¼Œå¯èƒ½å¾ˆå¤§çš„å­—ç¬¦ä¸²ï¼Œåªæ˜¯ä¸ºäº†æŠŠå®ƒé‡æ–°æ”¾å›è§£æå™¨ã€‚å¦ä¸€ä¸ªç¼ºç‚¹æ˜¯è¿™ç§æ–¹æ³•ä¸èƒ½å¤„ç†å¾ªç¯å¯¹è±¡ã€‚è€Œä¸”å¾ªç¯å¯¹è±¡ç»å¸¸å‘ç”Ÿã€‚ä¾‹å¦‚ï¼Œå½“æ‚¨æ„å»ºæ ‘çŠ¶æ•°æ®ç»“æ„ï¼Œå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹å¼•ç”¨å…¶çˆ¶çº§ï¼Œè€Œçˆ¶çº§åˆå¼•ç”¨å…¶å­çº§ã€‚å¦å¤–ï¼Œè¯¸å¦‚ Map, Set, RegExp, Date, ArrayBuffer å’Œå…¶ä»–å†…ç½®ç±»å‹åœ¨è¿›è¡Œåºåˆ—åŒ–æ—¶ä¼šä¸¢å¤±ã€‚ 12345678910111213141516171819202122232425262728const x = {};const y = {x};x.y = y; // Cycle: x.y.x.y.x.y.x.y.x...const copy = JSON.parse(JSON.stringify(x)); // throws!let bar = JSON.parse(JSON.stringify(foo));Object.assign({}, foo);let obj = { a: 0, b: 20,}obj = {...obj, a: obj.a + 1}Structured Clone ç»“æ„åŒ–å…‹éš†ç®—æ³•MessageChannelç¼ºç‚¹æ˜¯å®ƒæ˜¯å¼‚æ­¥çš„ã€‚è™½ç„¶è¿™å¹¶æ— å¤§ç¢ï¼Œä½†æ˜¯æœ‰æ—¶å€™ä½ éœ€è¦ä½¿ç”¨åŒæ­¥çš„æ–¹å¼æ¥æ·±åº¦æ‹·è´ä¸€ä¸ªå¯¹è±¡function structuralClone(obj) { return new Promise(resolve =&gt; { const {port1, port2} = new MessageChannel(); port2.onmessage = ev =&gt; resolve(ev.data); port1.postMessage(obj); });}const obj = /* ... */;const clone = await structuralClone(obj); es7 â€¦ çš„æ–¹å¼ç›´æ¥{â€¦obj}èµ‹å€¼å±äºæµ…å¤åˆ¶ï¼Œåœ¨ä¿®æ”¹å€¼æ—¶{â€¦obj,a:1}å°±èµ·åˆ°äº†ç±»æ·±å¤åˆ¶çš„æ•ˆæœæ›´æ–°ä¸€ä¸ª Object immutable.js è¿™ä¸ªä¸“é—¨å¤„ç†ä¸å˜æ€§æ•°æ®çš„åº“(ä¹Ÿæ˜¯facebookå‡ºå“)ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ç±»ä¼¼èµ‹å€¼çš„æ–¹å¼ç”Ÿæˆæµ…å¤åˆ¶çš„ä¸å˜æ€§æ•°æ®ï¼Œä¸‹é¢æ¥çœ‹çœ‹å®ƒæ€ä¹ˆç®€åŒ–æˆ‘ä»¬çš„å¼€å‘ é“¾æ¥ Immutableæ•°æ®å°±æ˜¯ä¸€æ—¦åˆ›å»ºï¼Œå°±ä¸èƒ½æ›´æ”¹çš„æ•°æ®ã€‚æ¯å½“å¯¹Immutableå¯¹è±¡è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªæ–°çš„Immutableå¯¹è±¡ï¼Œä»¥æ­¤æ¥ä¿è¯æ•°æ®çš„ä¸å¯å˜ã€‚ ä¸ºä»€ä¹ˆimmutableæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ä¸åŒä¼šå¿«ï¼ŸåŸå› å¦‚ä¸‹ï¼šå’Œjsä¸­å¯¹è±¡çš„æ¯”è¾ƒä¸åŒï¼Œåœ¨jsä¸­æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ¯”è¾ƒçš„æ˜¯åœ°å€ï¼Œä½†æ˜¯åœ¨Immutableä¸­æ¯”è¾ƒçš„æ˜¯è¿™ä¸ªå¯¹è±¡hashCodeå’ŒvalueOfï¼Œåªè¦ä¸¤ä¸ªå¯¹è±¡çš„hashCodeç›¸ç­‰ï¼Œå€¼å°±æ˜¯ç›¸åŒçš„ï¼Œé¿å…äº†æ·±åº¦éå†ï¼Œæé«˜äº†æ€§èƒ½ã€‚ç”¨æ³•ï¼šis(map1,map2) 123456789101112131415161718192021è¿™æ˜¯åŸæ¥çš„ reducerï¼šcase 'apple/EAT_APPLE': newState = Object.assign({}, state, { apples: [ ...state.apples.slice(0, action.payload), Object.assign({}, state.apples[action.payload], { isEaten: true }), ...state.apples.slice(action.payload + 1) ] }) return newState;è¿™æ˜¯ä½¿ç”¨ immutable.js åº“çš„reducer :import { fromJS } from 'immutable';case 'apple/EAT_APPLE': return fromJS(state).setIn(['apples',action.payload,'isEaten'], true).toJS();å›¢é˜Ÿçº¦å®š state éƒ½ç”¨ immutable å†…éƒ¨çš„æ•°æ®ç±»å‹ï¼Œå°±å¯ä»¥è¿ fromJS å’Œ toJS çš„è½¬åŒ–éƒ½çœäº†ï¼Œè¶…çº§æ–¹ä¾¿ï¼ JSONP åç«¯è¿”å›alert(data)ï¼Œå‰ç«¯ä¼šæ‰§è¡Œå—å› ä¸ºåç«¯æŠŠå›è°ƒæ–¹æ³•åè½¬æˆå¦ä¸€ä¸ªåå­—å°†dataåŒ…åœ¨é‡Œè¾¹ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡Œalertã€‚ ä¸ºä»€ä¹ˆæ˜¯jsonp, img, iframeä¹Ÿå¯ä»¥ï¼Œä¸ºä»€ä¹ˆï¼Ÿ jsonpå…¨åå«åšjson with paddingå‡½æ•°è°ƒç”¨ï¼Œæ•°æ®éƒ½è¢«åŒ…è£¹ä¼ é€’åˆ°å‚æ•°ä¸­äº†ï¼Œ å°†æœåŠ¡ç«¯çš„æ•°æ®ç”¨paddingåŒ…èµ·æ¥ï¼Œæ‰€è°“çš„paddingå°±ç›¸å½“äºä¸€ä¸ªå‡½æ•°ã€‚å‡è®¾æˆ‘ä»¬åŸæ¥æœ‰æ•°æ® {â€œdataâ€,â€somethingâ€}ï¼Œç”¨ä¸€ä¸ªåä¸ºcallbackçš„paddingåŒ…èµ·æ¥ä¹‹å å°±æˆäº† callback({â€œdataâ€:â€somethingâ€})ï¼Œè¿™æ ·å°†scriptæ ‡ç­¾åŠ è½½å®Œæ¯•ä¹‹åï¼Œä¼šç«‹é©¬æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå¹¶å°†æ•°æ®å½“åšå‚æ•°ä¼ äº†è¿›å»ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥äº‹å…ˆåœ¨å‰ç«¯äº‹å…ˆæŒ‡å®šä¸€ä¸ªå‡½æ•°åï¼Œå¹¶å®šä¹‰è¿™ä¸ªå‡½æ•°ã€‚ç„¶åå‘Šè¯‰åç«¯ï¼Œç”¨è¿™ä¸ªå‡½æ•°åä½œä¸ºpaddingåŒ…è£¹æ•°æ®ã€‚é‚£ä¹ˆå½“å‰ç«¯åŠ¨æ€åˆ›å»ºscriptæ ‡ç­¾ä¹‹åï¼ŒscriptåŠ è½½å®Œæ¯•äº†å°±ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±æˆåŠŸçš„è·¨åŸŸè·å¾—äº†æ•°æ®~ ä»å¼€å‘è€…å·¥å…·é‡Œé¢å¯ä»¥çœ‹åˆ°å®é™…å‘é€çš„è¯·æ±‚ Request URL:https://api.douban.com/v2/book/1220562?callback=jsonp1430727166924 è¿™é‡Œå¯ä»¥çœ‹å‡ºæ¥jQueryè‡ªåŠ¨ç”Ÿæˆçš„paddingæ˜¯jsonp1430727166924è¿”å›çš„æ•°æ®ï¼š;jsonp1430727166924({â€œratingâ€:{â€œmaxâ€:10,â€numRatersâ€:336,â€averageâ€:â€7.0â€,â€minâ€:0},â€priceâ€:â€15.00å…ƒâ€}); js,cssæ‰§è¡Œé¡ºåºï¼Œå¹¶è¡Œä¸²è¡Œï¼Œé˜»å¡é“¾æ¥DOMæ–‡æ¡£çš„åŠ è½½é¡ºåºæ˜¯ç”±ä¸Šè€Œä¸‹çš„é¡ºåºåŠ è½½ï¼› 1ã€DOMåŠ è½½åˆ°linkæ ‡ç­¾ ==cssæ–‡ä»¶çš„åŠ è½½æ˜¯ä¸DOMçš„åŠ è½½å¹¶è¡Œçš„==ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œcssåœ¨åŠ è½½æ—¶Domè¿˜åœ¨ç»§ç»­åŠ è½½æ„å»ºï¼Œè€Œè¿‡ç¨‹ä¸­é‡åˆ°çš„cssæ ·å¼æˆ–è€…imgï¼Œåˆ™ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¾…èµ„æºè¿”å›åï¼Œå°†å…¶æ·»åŠ åˆ°domä¸­çš„ç›¸å¯¹åº”ä½ç½®ä¸­ï¼› 2ã€DOMåŠ è½½åˆ°scriptæ ‡ç­¾ ç”±äº==jsæ–‡ä»¶ä¸ä¼šä¸DOMå¹¶è¡ŒåŠ è½½==ï¼Œå› æ­¤éœ€è¦ç­‰å¾…jsæ•´ä¸ªæ–‡ä»¶åŠ è½½å®Œä¹‹åæ‰èƒ½ç»§ç»­DOMçš„åŠ è½½ï¼Œå€˜è‹¥jsè„šæœ¬æ–‡ä»¶è¿‡å¤§ï¼Œåˆ™å¯èƒ½å¯¼è‡´æµè§ˆå™¨é¡µé¢æ˜¾ç¤ºæ»åï¼Œå‡ºç°â€œå‡æ­»â€çŠ¶æ€ï¼Œè¿™ç§æ•ˆåº”ç§°ä¹‹ä¸ºâ€œé˜»å¡æ•ˆåº”â€ï¼›ä¼šå¯¼è‡´å‡ºç°éå¸¸ä¸å¥½çš„ç”¨æˆ·ä½“éªŒï¼› jsé˜»å¡å…¶ä»–èµ„æºçš„åŠ è½½çš„åŸå› æ˜¯ï¼šæµè§ˆå™¨ä¸ºäº†é˜²æ­¢jsä¿®æ”¹DOMæ ‘ï¼Œéœ€è¦é‡æ–°æ„å»ºDOMæ ‘çš„æƒ…å†µå‡ºç°ï¼› æ‰€æœ‰æµè§ˆå™¨åœ¨ä¸‹è½½JSçš„æ—¶å€™ï¼Œä¼šé˜»æ­¢ä¸€åˆ‡å…¶ä»–æ´»åŠ¨ï¼Œæ¯”å¦‚å…¶ä»–èµ„æºçš„ä¸‹è½½ï¼Œå†…å®¹çš„å‘ˆç°ç­‰ç­‰ã€‚è‡³åˆ°JSä¸‹è½½ã€è§£æã€æ‰§è¡Œå®Œæ¯•åæ‰å¼€å§‹ç»§ç»­å¹¶è¡Œä¸‹è½½å…¶ä»–èµ„æºå¹¶å‘ˆç°å†…å®¹ã€‚ åµŒå…¥JSä¼šé˜»å¡æ‰€æœ‰å†…å®¹çš„å‘ˆç°ï¼Œè€Œå¤–éƒ¨JSåªä¼šé˜»å¡å…¶åå†…å®¹çš„æ˜¾ç¤ºï¼Œ2ç§æ–¹å¼éƒ½ä¼šé˜»å¡å…¶åèµ„æºçš„ä¸‹è½½ã€‚ æµè§ˆå™¨ä¼šç»´æŒhtmlä¸­csså’Œjsçš„é¡ºåºï¼Œæ ·å¼è¡¨å¿…é¡»åœ¨åµŒå…¥çš„JSæ‰§è¡Œå‰å…ˆåŠ è½½ã€è§£æå®Œã€‚è€ŒåµŒå…¥çš„JSä¼šé˜»å¡åé¢çš„èµ„æºåŠ è½½ï¼Œæ‰€ä»¥å°±ä¼šå‡ºç°ä¸Šé¢CSSé˜»å¡ä¸‹è½½çš„æƒ…å†µã€‚ 3ã€è§£å†³æ–¹æ³• å‰æï¼Œjsæ˜¯å¤–éƒ¨è„šæœ¬ï¼› åœ¨scriptæ ‡ç­¾ä¸­æ·»åŠ  defer=â€œtureâ€ï¼Œåˆ™ä¼šè®©jsä¸DOMå¹¶è¡ŒåŠ è½½ï¼Œå¾…é¡µé¢åŠ è½½å®Œæˆåå†æ‰§è¡Œjsæ–‡ä»¶ï¼Œè¿™æ ·åˆ™ä¸å­˜åœ¨é˜»å¡ï¼› åœ¨scirptæ ‡ç­¾ä¸­æ·»åŠ  async=â€œtureâ€ï¼Œè¿™ä¸ªå±æ€§å‘Šè¯‰æµè§ˆå™¨è¯¥jsæ–‡ä»¶æ˜¯å¼‚æ­¥åŠ è½½æ‰§è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯ä¸ä¾èµ–äºå…¶ä»–jså’Œcssï¼Œä¹Ÿå°±æ˜¯è¯´æ— æ³•ä¿è¯jsæ–‡ä»¶çš„åŠ è½½é¡ºåºï¼Œä½†æ˜¯åŒæ ·æœ‰ä¸DOMå¹¶è¡ŒåŠ è½½çš„æ•ˆæœï¼› åŒæ—¶ä½¿ç”¨deferå’Œasyncå±æ€§æ—¶ï¼Œdeferå±æ€§ä¼šå¤±æ•ˆï¼› å¯ä»¥å°†scirptæ ‡ç­¾æ”¾åœ¨bodyæ ‡ç­¾ä¹‹åï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°åŠ è½½çš„å†²çªäº†ã€‚ è¿›åˆ¶è½¬æ¢123456789101112131415//åè¿›åˆ¶è½¬å…¶ä»–var x=110; alert(x);alert(x.toString(8)); alert(x.toString(32)); alert(x.toString(16)); //å…¶ä»–è½¬åè¿›åˆ¶var x='110';alert(parseInt(x,2)); alert(parseInt(x,8)); alert(parseInt(x,16)); //å…¶ä»–è½¬å…¶ä»– //å…ˆç”¨parseIntè½¬æˆåè¿›åˆ¶å†ç”¨toStringè½¬åˆ°ç›®æ ‡è¿›åˆ¶ alert(String.fromCharCode(parseInt(141,8))) alert(parseInt('ff',16).toString(2)); ä¸¤ä¸ªå¯¹è±¡åˆ¤æ–­==å¼•ç”¨ä¸‹æ¸©ç‰¹å¤§å¤§çš„æ€»ç»“å°±æ˜¯ï¼šåªè¦è®°ä½ null åªå’Œundefined ç›¸ç­‰ï¼Œæœ‰ number éƒ½è½¬ numberï¼Œæœ‰ boolean ä¹Ÿè½¬ numberï¼Œæœ‰ string éƒ½è½¬ stringï¼Œå¯¹è±¡äº’ç›¸ä¸ç­‰ï¼ŒNaN äº’ç›¸ä¸ç­‰å°±å¯ä»¥äº†ã€‚ 12345678910111213141516171819console.log([] == []) // falseconsole.log(![] == false) // falseconsole.log([] == false) // trueconsole.log(!!'hello') // trueconsole.log('hello' == true) // 'hello'==1 falseconsole.log(typeof(typeof('hello')))typeofçš„è¿ç®—æ•°æœªå®šä¹‰,è¿”å›çš„å°±æ˜¯ â€œundefinedâ€.è¿ç®—æ•°ä¸ºæ•°å­— typeof(x) = â€œnumberâ€å­—ç¬¦ä¸² typeof(x) = â€œstringâ€å¸ƒå°”å€¼ typeof(x) = â€œbooleanâ€å¯¹è±¡,æ•°ç»„å’Œnull typeof(x) = â€œobjectâ€å‡½æ•° typeof(x) = â€œfunctionâ€ FOUCæ— æ ·å¼å†…å®¹é—ªçƒFlash of Uncompiled Content åŸå› å¤§è‡´ä¸ºï¼š 1ï¼Œä½¿ç”¨importæ–¹æ³•å¯¼å…¥æ ·å¼è¡¨ã€‚ 2ï¼Œå°†æ ·å¼è¡¨æ”¾åœ¨é¡µé¢åº•éƒ¨ 3ï¼Œæœ‰å‡ ä¸ªæ ·å¼è¡¨ï¼Œæ”¾åœ¨htmlç»“æ„çš„ä¸åŒä½ç½®ã€‚ è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨LINKæ ‡ç­¾å°†æ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£HEADä¸­ã€‚ v-cloak ç”¨v-text v-if, v-show 1234567891011&lt;span v-text=&quot;msg&quot;&gt;&lt;/span&gt;&lt;!-- same as --&gt;&lt;span&gt;{{msg}}&lt;/span&gt;// &lt;div&gt; ä¸ä¼šæ˜¾ç¤ºï¼Œç›´åˆ°ç¼–è¯‘ç»“æŸã€‚[v-cloak] {display: none;}&lt;div v-cloak&gt;{{ message }}&lt;/div&gt; jså®ç°jQuery.clone123456789é€çº§é€’å½’ï¼›é€’å½’ä¸­æ”¶é›†æ¯ä¸ªå…ƒç´ çš„å…¨éƒ¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¯¥å…ƒç´ ä¸Šç»‘å®šçš„æ‰€æœ‰äº‹ä»¶ã€‚å¤åˆ¶æ—¶å€™é‡ç°æŒ‰ç…§è·å¾—çš„äº‹ä»¶åˆ—è¡¨é€ä¸ªåŠ è½½å›å»ã€‚é™¤æ­¤ä¹‹å¤–ä¸»è¦å¯èƒ½æ˜¯è€ƒè™‘å„ç§å…¼å®¹ï¼ŒåŒ…æ‹¬cloneNodeæ–¹æ³•çš„å…¼å®¹ï¼Œè·å–å…ƒç´ å±æ€§æ—¶å€™çš„æŸäº›æ ‡ç­¾çš„å…¼å®¹ã€‚ i18nï¼ˆå…¶æ¥æºæ˜¯è‹±æ–‡å•è¯ internationalizationçš„é¦–æœ«å­—ç¬¦iå’Œnï¼Œ18ä¸ºä¸­é—´çš„å­—ç¬¦æ•°ï¼‰æ˜¯â€œå›½é™…åŒ–â€çš„ç®€ç§°ã€‚ ajaxå‚æ•°é“¾æ¥ 1234567891011121314151617181.url: å‘é€è¯·æ±‚çš„åœ°å€2.type: è¯·æ±‚æ–¹å¼ï¼ˆpostæˆ–get3.timeout: è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰4.async: é»˜è®¤è®¾ç½®ä¸ºtrueï¼Œå¼‚æ­¥è¯·æ±‚5.cache: ä»æµè§ˆå™¨ç¼“å­˜ä¸­åŠ è½½è¯·æ±‚ä¿¡æ¯6.data: å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®7.dataType: xml,html, json,text8.beforeSendï¼šå‘é€è¯·æ±‚å‰ï¼Œæ‰§è¡Œä¸€äº›æ“ä½œ9.completeï¼šå®Œæˆåè°ƒç”¨çš„å›è°ƒå‡½æ•°10.successï¼šè¯·æ±‚æˆåŠŸåè°ƒç”¨çš„å›è°ƒå‡½æ•°11.error:12.contentTypeï¼š13.dataFilterï¼š16.ifModifiedï¼š jQueryæ’ä»¶123456789101112//é—­åŒ…é™å®šå‘½åç©ºé—´(function ($) { $.fn.extend({ &quot;highLight&quot;:function(options){ //do something } });})(window.jQuery);//è°ƒç”¨$(&quot;p&quot;).highLight(); //è°ƒç”¨è‡ªå®šä¹‰ é«˜äº®æ’ä»¶ exports, module.exportsåŒºåˆ«1234567exportsæ˜¯å¼•ç”¨ module.exportsçš„å€¼ã€‚module.exports è¢«æ”¹å˜çš„æ—¶å€™ï¼Œexportsä¸ä¼šè¢«æ”¹å˜ï¼Œè€Œæ¨¡å—å¯¼å‡ºçš„æ—¶å€™ï¼ŒçœŸæ­£å¯¼å‡ºçš„æ‰§è¡Œæ˜¯module.exportsï¼Œè€Œä¸æ˜¯exportsexportsåœ¨module.exports è¢«æ”¹å˜åï¼Œå¤±æ•ˆã€‚1. module.exports åˆå§‹å€¼ä¸ºä¸€ä¸ªç©ºå¯¹è±¡ {}2. exports æ˜¯æŒ‡å‘çš„ module.exports çš„å¼•ç”¨3. require() è¿”å›çš„æ˜¯ module.exports è€Œä¸æ˜¯ exports ä¸Šä¼ æ–‡ä»¶æ–¹å¼ formè¡¨å•ä¸Šä¼ æ–‡ä»¶ åŸç”Ÿjså®ç°ajaxä¸Šä¼ æ–‡ä»¶ var xml=new XMLHttpRequest(); var data=new FormData; //åˆ›å»ºformdataå¯¹è±¡ data.append(â€œtestfileâ€,document.getElementById(â€œfile_uploadâ€).files[0]);//æ‰¾åˆ°å¯¹è±¡ä¹‹åçš„file[0]å¯¹åº”çš„å°±æ˜¯æ–‡ä»¶å¯¹è±¡ xml.open(â€œPOSTâ€,â€/test/â€œ,true); jqueryå®ç°ajaxä¸Šä¼ æ–‡ä»¶ 12345678910111213var data=new FormData;data.append(&quot;testfile&quot;,document.getElementById(&quot;file_upload&quot;).files[0]);$.ajax({ url:&quot;/test/&quot;, type:&quot;POST&quot;, dataType:&quot;JSON&quot;, data:data, contentType: false, processData: false, success:function(rst){ }) }) form+iframeä¸Šä¼ æ–‡ä»¶ Sass @mixinå£°æ˜æ··åˆï¼Œå¯ä»¥ä¼ é€’å‚æ•°ï¼Œå‚æ•°åä»¥$ç¬¦å·å¼€å§‹ï¼Œå¤šä¸ªå‚æ•°ä»¥é€—å·åˆ†å¼€ï¼Œä¹Ÿå¯ä»¥ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼ã€‚å£°æ˜çš„ @mixiné€šè¿‡ @includeæ¥è°ƒç”¨ã€‚ @mixiné€šè¿‡ @includeè°ƒç”¨åè§£æå‡ºæ¥çš„æ ·å¼æ˜¯ä»¥æ‹·è´å½¢å¼å­˜åœ¨çš„ï¼Œè€Œç»§æ‰¿åˆ™æ˜¯ä»¥è”åˆå£°æ˜çš„æ–¹å¼å­˜åœ¨çš„ï¼Œ 12345678910111213141516//sass style//-------------------------------@mixin center-block { margin-left:auto; margin-right:auto;}.demo{ @include center-block;}//css style//-------------------------------.demo{ margin-left:auto; margin-right:auto;} cookieå’ŒsessionåŒºåˆ«1234567891011121314151ï¼Œsession åœ¨æœåŠ¡å™¨ç«¯ï¼Œ cookie åœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰2ï¼Œsession é»˜è®¤è¢«å­˜åœ¨åœ¨æœåŠ¡å™¨ çš„ä¸€ä¸ªæ–‡ä»¶é‡Œï¼ˆä¸æ˜¯å†…å­˜ï¼‰3ï¼Œsession çš„è¿è¡Œä¾èµ– session idï¼Œ è€Œ session id æ˜¯å­˜åœ¨ cookie ä¸­çš„ï¼Œ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæµè§ˆå™¨ç¦ç”¨äº† cookie ï¼Œ åŒæ—¶ session ä¹Ÿä¼šå¤±æ•ˆ ï¼ˆä½†æ˜¯å¯ä»¥é€šè¿‡å…¶å®ƒæ–¹å¼å®ç°ï¼Œ æ¯”å¦‚åœ¨ url ä¸­ä¼ é€’ session_idï¼‰4ï¼Œsession å¯ä»¥æ”¾åœ¨ æ–‡ä»¶ã€æ•°æ®åº“ã€æˆ–å†…å­˜ä¸­éƒ½å¯ä»¥ã€‚5ï¼Œç”¨æˆ·éªŒè¯è¿™ç§åœºåˆä¸€èˆ¬ä¼šç”¨ sessionå› æ­¤ï¼Œç»´æŒä¸€ä¸ªä¼šè¯çš„æ ¸å¿ƒå°±æ˜¯å®¢æˆ·ç«¯çš„å”¯ä¸€æ ‡è¯†ï¼Œå³ session id AMD, CMD, CommonJS==è®°å¿†æ–¹æ³•== ARAMDâ€“ require.js CSCMDâ€“ sea.js A AMD Aåœ¨å‰ï¼Œæå‰åŠ è½½ C CMD Cåœ¨åï¼Œå»¶è¿ŸåŠ è½½ 1234567891011121314151617181920212223242526272829303132333435363738nodeçš„moduleéµå¾ªCommonJSè§„èŒƒï¼Œrequirejséµå¾ªAMDï¼Œseajséµå¾ªCMDï¼Œ// a.js// -------- node -----------module.exports = { a : function() {}, b : 'xxx'};// ----------- AMD or CMD ----------------define(function(require, exports, module){ module.exports = { a : function() {}, b : 'xxx' };});AMDæ˜¯&quot;Asynchronous Module Definition&quot;çš„ç¼©å†™ï¼Œæ„æ€å°±æ˜¯&quot;å¼‚æ­¥æ¨¡å—å®šä¹‰&quot;ã€‚å®ƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“å®ƒåé¢è¯­å¥çš„è¿è¡Œã€‚æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚åŒºåˆ«ï¼š1. å¯¹äºä¾èµ–çš„æ¨¡å—ï¼ŒAMD æ˜¯æå‰æ‰§è¡Œï¼ŒCMD æ˜¯å»¶è¿Ÿæ‰§è¡Œã€‚ä¸è¿‡ RequireJS ä» 2.0 å¼€å§‹ï¼Œä¹Ÿæ”¹æˆå¯ä»¥å»¶è¿Ÿæ‰§è¡Œï¼ˆæ ¹æ®å†™æ³•ä¸åŒï¼Œå¤„ç†æ–¹å¼ä¸åŒï¼‰ã€‚CMD æ¨å´‡ as lazy as possible.2. CMD æ¨å´‡ä¾èµ–å°±è¿‘ï¼ŒAMD æ¨å´‡ä¾èµ–å‰ç½®ã€‚ES6æ ‡å‡†å‘å¸ƒåï¼Œmoduleæˆä¸ºæ ‡å‡†ï¼Œæ ‡å‡†ä½¿ç”¨æ˜¯ä»¥exportæŒ‡ä»¤å¯¼å‡ºæ¥å£ï¼Œä»¥importå¼•å…¥æ¨¡å—ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬ä¸€è´¯çš„nodeæ¨¡å—ä¸­ï¼Œæˆ‘ä»¬ä¾ç„¶é‡‡ç”¨çš„æ˜¯CommonJSè§„èŒƒï¼Œä½¿ç”¨requireå¼•å…¥æ¨¡å—ï¼Œä½¿ç”¨module.exportså¯¼å‡ºæ¥å£ã€‚ importå¼•å…¥æ¨¡å—importè¯­æ³•å£°æ˜ç”¨äºä»å·²å¯¼å‡ºçš„æ¨¡å—ã€è„šæœ¬ä¸­å¯¼å…¥å‡½æ•°ã€å¯¹è±¡ã€æŒ‡å®šæ–‡ä»¶ï¼ˆæˆ–æ¨¡å—ï¼‰çš„åŸå§‹å€¼ã€‚ importæ¨¡å—å¯¼å…¥ä¸exportæ¨¡å—å¯¼å‡ºåŠŸèƒ½ç›¸å¯¹åº”ï¼Œä¹Ÿå­˜åœ¨ä¸¤ç§æ¨¡å—å¯¼å…¥æ–¹å¼ï¼šå‘½åå¼å¯¼å…¥ï¼ˆåç§°å¯¼å…¥ï¼‰å’Œé»˜è®¤å¯¼å…¥ï¼ˆå®šä¹‰å¼å¯¼å…¥ï¼‰ã€‚ æ³¨æ„:importå¿…é¡»æ”¾åœ¨æ–‡ä»¶çš„æœ€å¼€å§‹.importå‘½ä»¤æ˜¯ç¼–è¯‘é˜¶æ®µæ‰§è¡Œçš„ï¼Œåœ¨ä»£ç è¿è¡Œä¹‹å‰,è¡¨è¾¾å¼å’Œå˜é‡åªæœ‰åœ¨è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°ç»“æœçš„è¯­æ³•ç»“æ„ã€‚importå‘½ä»¤ä¼šè¢« JavaScript å¼•æ“é™æ€åˆ†æï¼Œå…ˆäºæ¨¡å—å†…çš„å…¶ä»–æ¨¡å—æ‰§è¡Œï¼ˆå«åšâ€è¿æ¥â€œæ›´åˆé€‚ï¼‰æ‰€ä»¥importä¸­ä¸èƒ½å«æœ‰è¡¨è¾¾å¼æˆ–è€…å˜é‡,å› æ­¤æ— æ³•å®ç°åŠ¨æ€åŠ è½½.å› æ­¤ï¼Œimportå’Œexportå‘½ä»¤åªèƒ½åœ¨æ¨¡å—çš„é¡¶å±‚ï¼Œä¸èƒ½åœ¨ä»£ç å—ä¹‹ä¸­ï¼ˆæ¯”å¦‚ï¼Œåœ¨ifä»£ç å—ä¹‹ä¸­ï¼Œæˆ–åœ¨å‡½æ•°ä¹‹ä¸­ï¼‰ã€‚è¿™æ ·çš„è®¾è®¡ï¼Œæœ‰åˆ©äºç¼–è¯‘å™¨æé«˜æ•ˆç‡ï¼Œä½†ä¹Ÿå¯¼è‡´æ— æ³•åœ¨è¿è¡Œæ—¶åŠ è½½æ¨¡å—ã€‚åœ¨è¯­æ³•ä¸Šï¼Œæ¡ä»¶åŠ è½½å°±ä¸å¯èƒ½å®ç°ã€‚å¦‚æœimportå‘½ä»¤è¦å–ä»£ Node çš„requireæ–¹æ³•ï¼Œè¿™å°±å½¢æˆäº†ä¸€ä¸ªéšœç¢ã€‚å› ä¸ºrequireæ˜¯è¿è¡Œæ—¶åŠ è½½æ¨¡å—ï¼Œimportå‘½ä»¤æ— æ³•å–ä»£requireçš„åŠ¨æ€åŠ è½½åŠŸèƒ½ã€‚ ES6 æ¨¡å—ä¸ CommonJS æ¨¡å—çš„å·®å¼‚123CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ES6 æ¨¡å—çš„è¿è¡Œæœºåˆ¶ä¸ CommonJS ä¸ä¸€æ ·ã€‚JS å¼•æ“å¯¹è„šæœ¬é™æ€åˆ†æçš„æ—¶å€™ï¼Œé‡åˆ°æ¨¡å—åŠ è½½å‘½ä»¤importï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªåªè¯»å¼•ç”¨ã€‚ç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œæ—¶ï¼Œå†æ ¹æ®è¿™ä¸ªåªè¯»å¼•ç”¨ï¼Œåˆ°è¢«åŠ è½½çš„é‚£ä¸ªæ¨¡å—é‡Œé¢å»å–å€¼ã€‚æ¢å¥è¯è¯´ï¼ŒES6 çš„importæœ‰ç‚¹åƒ Unix ç³»ç»Ÿçš„â€œç¬¦å·è¿æ¥â€ï¼ŒåŸå§‹å€¼å˜äº†ï¼ŒimportåŠ è½½çš„å€¼ä¹Ÿä¼šè·Ÿç€å˜ã€‚å› æ­¤ï¼ŒES6 æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œé¢çš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ã€‚ positionå–å€¼12345678910ralativeæ˜¯æŒ‡ç›¸å¯¹å®šä½å…ƒç´ ä»ä¿æŒå…¶æœªå®šä½å‰çš„å½¢çŠ¶ï¼Œå®ƒåŸæœ¬æ‰€å çš„ç©ºé—´ä»ä¿ç•™ã€‚absoluteæ˜¯æŒ‡ç»å¯¹å®šä½ å³å®Œå…¨ç¦»å¼€æ–‡æ¡£æµ, ç›¸å…³äºpositionå±æ€§éstaticå€¼çš„æ¯”æ¥çˆ¶çº§å…ƒç´ è¿›è¡Œåç§»ã€‚ å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„çˆ¶å¯¹è±¡ï¼Œåˆ™ä¾æ®bodyå¯¹è±¡ã€‚è€Œå…¶å±‚å é€šè¿‡z-indexå±æ€§å®šä¹‰fixed: å›ºå®šå®šä½ å›ºå®šå®šä½ï¼šå³å®Œå…¨ç¦»å¼€æ–‡æ¡£æµï¼Œç›¸å…³äºè§†åŒºè¿›è¡Œåç§»ã€‚staticï¼šå…ƒç´ æ¡†æ­£å¸¸ç”Ÿæˆinheritï¼šç»§æ‰¿å€¼ï¼Œå¯¹è±¡å°†ç»§æ‰¿å…¶çˆ¶å¯¹è±¡ç›¸åº”çš„å€¼ã€‚ ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„çš„æ–¹æ³•12Array.prototype.slice.call(arguments); callå’Œapply, bindåŒºåˆ«è¿™ä¸‰ä¸ªå‚æ•°çš„è¿”å›å€¼åŒºåˆ« 12345678910111213141516171819202122232425262728293031323334353637383940414243ä½œç”¨å®Œå…¨ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±åœ¨å‚æ•°ä¸Šcall æ¥æ”¶çš„å‚æ•°ä¸å›ºå®šï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ä½“å†… this çš„æŒ‡å‘ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»¥ä¸‹æ˜¯ä¾æ¬¡ä¼ å…¥çš„å‚æ•°ã€‚applyæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿæ˜¯å‡½æ•°ä½“å†… this çš„æŒ‡å‘ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé›†åˆå¯¹è±¡ï¼ˆæ•°ç»„æˆ–è€…ç±»æ•°ç»„ï¼‰è®°å¿†æ–¹æ³•ï¼šapply ---- array è¦ä¼ æ•°ç»„call ---- é€—å·éš”å¼€ä¸‰ä¸ªçš„ä½¿ç”¨åŒºåˆ«ï¼šéƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°çš„thiså¯¹è±¡çš„æŒ‡å‘çš„ï¼›ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ï¼›éƒ½å¯ä»¥åˆ©ç”¨åç»­å‚æ•°ä¼ å‚ï¼›bindæ˜¯è¿”å›å¯¹åº”å‡½æ•°ï¼Œä¾¿äºç¨åè°ƒç”¨ï¼Œapplyã€callæ˜¯ç«‹å³è°ƒç”¨ï¼›bindï¼ˆï¼‰--ä¹Ÿæ˜¯æ”¹å˜å‡½æ•°ä½“å†…thisçš„æŒ‡å‘;bindä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œç§°ä¸ºç»‘å®šå‡½æ•°ï¼Œå½“è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œç»‘å®šå‡½æ•°ä¼šä»¥åˆ›å»ºå®ƒæ—¶ä¼ å…¥bindï¼ˆï¼‰æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºthisï¼Œä¼ å…¥bindï¼ˆï¼‰æ–¹æ³•çš„ç¬¬äºŒä¸ªåŠä»¥åçš„å‚æ•°åŠ ä¸Šç»‘å®šå‡½æ•°è¿è¡Œæ—¶æœ¬èº«çš„å‚æ•°æŒ‰ç…§é¡ºåºä½œä¸ºåŸå‡½æ•°çš„å‚æ•°æ¥è°ƒç”¨åŸå‡½æ•°ï¼›let obj1={ a:222};let obj2={ a:111, fn:function(){ alert(this.a); }}obj2.fn.call(obj1);//222call å’Œ apply ä¸¤ä¸ªä¸»è¦ç”¨é€”å°±æ˜¯1.æ”¹å˜ this çš„æŒ‡å‘ï¼ˆæŠŠ this ä» obj2 æŒ‡å‘åˆ° obj1 ï¼‰2.æ–¹æ³•å€Ÿç”¨ï¼ˆ obj1 æ²¡æœ‰ fn ï¼Œåªæ˜¯å€Ÿç”¨ obj2 æ–¹æ³•ï¼‰ ç®­å¤´å‡½æ•°æ€ä¹ˆç»‘å®šå…¨å±€thisç®­å¤´å‡½æ•°ä¸ç»‘å®šthisï¼Œ å®ƒä¼šæ•è·å…¶æ‰€åœ¨ï¼ˆå³å®šä¹‰çš„ä½ç½®ï¼‰ä¸Šä¸‹æ–‡çš„thiså€¼ï¼Œ ä½œä¸ºè‡ªå·±çš„thiså€¼ï¼Œ 1234567891011var obj = { i: 10, b: () =&gt; console.log(this.i, this), c: function() { console.log( this.i, this) }}obj.b(); // undefined window{...}ä½œä¸ºæ–¹æ³•çš„ç®­å¤´å‡½æ•°thisæŒ‡å‘å…¨å±€windowå¯¹è±¡ï¼Œè€Œæ™®é€šå‡½æ•°åˆ™æŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡ es6æ–°ç‰¹æ€§é“¾æ¥ foreach, map, reduce, filteråŒºåˆ«å‡½æ•°å£°æ˜&amp;å‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ«1234567891011121314151617181920212223242526å‡½æ•°å£°æ˜ä¸­å‡½æ•°åæ˜¯å¿…é¡»çš„ï¼›å‡½æ•°è¡¨è¾¾å¼ä¸­åˆ™æ˜¯å¯é€‰çš„ //å‡½æ•°å£°æ˜function sum(a, b) { return a + b;}alert(sum(1, 2));//å‡½æ•°è¡¨è¾¾å¼/* var s = function sum(a, b) { return a + b;}alert(s(1, 2)); */var s = function(a, b) { return a + b;}alert(s(1, 2));//ä»¥ä¸Šä¸¤ç§éƒ½å¯ä»¥äºŒã€ç”¨å‡½æ•°å£°æ˜å®šä¹‰çš„å‡½æ•°,å‡½æ•°å¯ä»¥åœ¨å‡½æ•°å£°æ˜ä¹‹å‰è°ƒç”¨,è€Œç”¨å‡½æ•°è¡¨è¾¾å¼å®šä¹‰çš„å‡½æ•°åªèƒ½åœ¨å£°æ˜ä¹‹åè°ƒç”¨ã€‚ã€æ ¹æœ¬åŸå› åœ¨äºè§£æå™¨å¯¹è¿™ä¸¤ç§å®šä¹‰æ–¹å¼è¯»å–çš„é¡ºåºä¸åŒ:è§£æå™¨ä¼šäº‹å…ˆè¯»å–å‡½æ•°å£°æ˜ï¼Œå³å‡½æ•°å£°æ˜æ”¾åœ¨ä»»æ„ä½ç½®éƒ½å¯ä»¥è¢«è°ƒç”¨ï¼›å¯¹äºå‡½æ•°è¡¨è¾¾å¼ï¼Œè§£æå™¨åªæœ‰åœ¨è¯»åˆ°å‡½æ•°è¡¨è¾¾å¼æ‰€åœ¨é‚£è¡Œçš„æ—¶å€™æ‰æ‰§è¡Œã€‘ä½¿ç”¨var è¡¨è¾¾å¼å®šä¹‰å‡½æ•°ï¼Œ åªæœ‰å˜é‡å£°æ˜æå‰äº†ï¼Œå˜é‡åˆå§‹åŒ–ä»£ç ä»ç„¶åœ¨åŸæ¥çš„ä½ç½® DOMäº‹ä»¶æµäº‹ä»¶æ•è·é˜¶æ®µå¤„äºç›®æ ‡é˜¶æ®µäº‹ä»¶å†’æ³¡é˜¶æ®µ addEventListener(evtype,fn,useCapture)123456789101112131415161718useCaptureæ˜¯trueï¼Œåˆ™äº‹ä»¶å¤„ç†å‡½æ•°åœ¨æ•è·é˜¶æ®µè¢«æ‰§è¡Œï¼Œå¦åˆ™ åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œå› ä¸ºå¦‚æœè¢«ç›‘å¬çš„å…ƒç´ æ²¡æœ‰å­å…ƒç´ ï¼Œé‚£ä¹ˆå“ªä¸ªç›‘å¬ä»£ç å†™åœ¨å‰é¢ï¼Œå°±å…ˆæ‰§è¡Œå“ªä¸ªï¼&lt;label&gt;Click me &lt;input type=&quot;text&quot;&gt;&lt;/label&gt;&lt;script&gt; document.querySelector('label').addEventListener('click',function () { console.log(1) }) document.querySelector('input').addEventListener('click',function () { console.log(2) })&lt;/script&gt;å› ä¸ºlabelå’Œinputæ˜¯æœ‰ç»‘å®šçš„ç‚¹å‡»labelåï¼Œæµè§ˆå™¨è‡ªåŠ¨å¸®ä½ å†ç‚¹å‡»ä¸€æ¬¡labelè¿‡ç¨‹å°±æ˜¯å…ˆè¿›è¡Œä¸€æ¬¡äº‹ä»¶æœºåˆ¶ï¼Œè¿™ä¸€æ¬¡å¯¹å†…éƒ¨inputå…ƒç´ çš„äº‹ä»¶ç›‘å¬æ˜¯ä¸ç®¡ä¸é—®çš„ï¼Œæ‰€ä»¥å…ˆæ‰“å‡º1ç»“æŸåï¼Œå†è¿›è¡Œä¸€æ¬¡äº‹ä»¶æœºåˆ¶ï¼Œè¿™ä¸€æ¬¡ï¼ŒæŒ‰ç…§æ­£å¸¸äº‹ä»¶æœºåˆ¶æµç¨‹èµ°ï¼Œæ‰€ä»¥æ¥ç€æ‰“å‡ºäº†2,1 é˜»æ­¢å†’æ³¡window.event.cancelBubble = true e.preventDefault(); return false éƒ½èƒ½é˜»æ­¢ stopPropagation()æ–¹æ³•æ—¢å¯ä»¥é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œä¹Ÿå¯ä»¥é˜»æ­¢äº‹ä»¶æ•è·ï¼Œä¹Ÿå¯ä»¥é˜»æ­¢å¤„äºç›®æ ‡é˜¶æ®µã€‚stopImmediatePropagation()æ–¹æ³•æ¥é˜»æ­¢äº‹ä»¶æ•è·ï¼Œå¦å¤–æ­¤æ–¹æ³•è¿˜å¯ä»¥é˜»æ­¢äº‹ä»¶å†’æ³¡ git é—®é¢˜1234567891011121314151617gitå›é€€åˆ°æŸä¸ªcommitç‰ˆæœ¬git reset --hard commitIdå¼ºåˆ¶æäº¤git push -f origin masteråˆ é™¤åˆ†æ”¯git branch -d branchname git åˆ é™¤è¿œç¨‹åˆ†æ”¯git push origin branchnamerebase å’Œ mergeåŒºåˆ«rebaseï¼Œåˆå¹¶çš„ç»“æœå¥½çœ‹ï¼Œä¸€æ¡çº¿ï¼Œä½†åˆå¹¶è¿‡ç¨‹ä¸­å‡ºç°å†²çªçš„è¯ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼ˆrebaseè¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªcommitå‡ºç°å†²çªï¼Œä¸‹ä¸€ä¸ªcommitä¹Ÿææœ‰å¯èƒ½å‡ºç°å†²çªï¼Œä¸€æ¬¡rebaseå¯èƒ½è¦è§£å†³å¤šæ¬¡å†²çªï¼‰ï¼›mergeï¼Œåˆå¹¶ç»“æœä¸å¥½çœ‹ï¼Œä¸€å †çº¿äº¤é”™ï¼Œä½†åˆå¹¶æœ‰å†²çªçš„è¯ï¼Œåªè¦è§£ä¸€æ¬¡å°±è¡Œäº†ï¼›commit ç²’åº¦æŠŠæ¡å¾—å¥½ï¼Œå°±ç›´æ¥ mergeï¼ŒæŠŠæ¡ä¸å¥½ï¼Œå…ˆ rebase æŠŠç²’åº¦è°ƒæ•´å¥½äº†ï¼Œå† mergeã€‚ let var const åŒºåˆ«12345678910111213141516let çš„ã€Œåˆ›å»ºã€è¿‡ç¨‹è¢«æå‡äº†ï¼Œä½†æ˜¯åˆå§‹åŒ–æ²¡æœ‰æå‡ã€‚letåœ¨æœªå®šä¹‰ä¹‹å‰ä½¿ç”¨ï¼Œä¼šæŠ¥é”™var çš„ã€Œåˆ›å»ºã€å’Œã€Œåˆå§‹åŒ–ã€éƒ½è¢«æå‡äº†ã€‚function çš„ã€Œåˆ›å»ºã€ã€Œåˆå§‹åŒ–ã€å’Œã€Œèµ‹å€¼ã€éƒ½è¢«æå‡äº†ã€‚let å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯å—çº§çš„ï¼›let ä¸èƒ½é‡å¤å£°æ˜å·²å­˜åœ¨çš„å˜é‡ï¼›let æœ‰æš‚æ—¶æ­»åŒºï¼Œä¸ä¼šè¢«æå‡ã€‚for( let i = 0; i&lt; 5; i++) è¿™å¥è¯çš„åœ†æ‹¬å·ä¹‹é—´ï¼Œæœ‰ä¸€ä¸ªéšè—çš„ä½œç”¨åŸŸfor( let i = 0; i&lt; 5; i++) { å¾ªç¯ä½“ } åœ¨æ¯æ¬¡æ‰§è¡Œå¾ªç¯ä½“ä¹‹å‰ï¼ŒJS å¼•æ“ä¼šæŠŠ i åœ¨å¾ªç¯ä½“çš„ä¸Šä¸‹æ–‡ä¸­é‡æ–°å£°æ˜åŠåˆå§‹åŒ–ä¸€æ¬¡ã€‚ jsé“¾æ¥ é—­åŒ…é“¾æ¥ é—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚ é—­åŒ…æ˜¯åœ¨æŸä¸ªä½œç”¨åŸŸå†…å®šä¹‰çš„å‡½æ•°ï¼Œå®ƒå¯ä»¥è®¿é—®è¿™ä¸ªä½œç”¨åŸŸå†…çš„æ‰€æœ‰å˜é‡ã€‚ åœ¨Javascriptä¸­ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°æ‰èƒ½è¯»å–å±€éƒ¨å˜é‡ï¼Œå› æ­¤å¯ä»¥æŠŠé—­åŒ…ç®€å•ç†è§£æˆâ€å®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°â€ã€‚ æ‰€ä»¥ï¼Œåœ¨æœ¬è´¨ä¸Šï¼Œé—­åŒ…å°±æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿æ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢ã€‚ æœ€å¤§ç”¨å¤„æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œï¼ˆåˆ›å»ºå±€éƒ¨å˜é‡ï¼Œä¿æŠ¤å±€éƒ¨å˜é‡ä¸ä¼šè¢«è®¿é—®å’Œä¿®æ”¹ï¼‰ã€‚å¦ä¸€ä¸ªå°±æ˜¯è®©è¿™äº›å˜é‡çš„å€¼å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ã€‚ é—­åŒ…å¸¸è§ç”¨é€”ï¼š åˆ›å»ºç‰¹æƒæ–¹æ³•ç”¨äºè®¿é—®æ§åˆ¶äº‹ä»¶å¤„ç†ç¨‹åºåŠå›è°ƒ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758let add=(function(){let now=0;return { doAdd:function(){ now++; console.log(now);}}})()add.doAdd() //1add.doAdd() //2add.doAdd() //3now è¿™ä¸ªå˜é‡ï¼Œå¹¶æ²¡æœ‰éšç€å‡½æ•°çš„æ‰§è¡Œå®Œæ¯•è€Œè¢«å›æ”¶ï¼Œè€Œæ˜¯ç»§ç»­ä¿å­˜åœ¨å†…å­˜é‡Œé¢ã€‚ç”±äº add é‡Œé¢æœ‰å‡½æ•°æ˜¯ä¾èµ–äº now è¿™ä¸ªå˜é‡ã€‚æ‰€ä»¥ now ä¸ä¼šè¢«é”€æ¯ï¼Œå›æ”¶ã€‚ç”±äº now åœ¨å¤–é¢è®¿é—®ä¸åˆ° var name = &quot;The Window&quot;; var object = { name : &quot;My Object&quot;, getNameFunc : function(){ return function(){ return this.name; }; } }; alert(object.getNameFunc()());// ç”±äºæ–¹æ³•é‡Œæœ‰this.name, è¿™é‡Œçš„thisçš„æ˜¯windowï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯The Windowvar name = &quot;The Window&quot;; var object = { name : &quot;My Object&quot;, getNameFunc : function(){ var that = this; return function(){ return that.name; }; } }; alert(object.getNameFunc()()); // è¿™é‡Œçš„thatæŒ‡å‘object åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„12345if(typeof Array.isArray===&quot;undefined&quot;){ Array.isArray = function(arg){ return Object.prototype.toString.call(arg)===&quot;[object Array]&quot; };} æ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å€¼1234567891011//ç¬¬ä¸€ç§æ–¹æ³•var a=[1,2,3,6,5,4];var max=Math.max.apply(null,a);console.log(max);//ç¬¬äºŒç§æ–¹æ³•var a=[1,2,3,6,5,4];var max=eval('Math.max('+a.toString()+')');console.log(max);Math.max(...[-1, 5, 11, 3]) Math.max.apply(Math, [-1, 5, 11, 3]) Javascriptçš„thisç”¨æ³•é“¾æ¥é“¾æ¥2 1234567thisæ˜¯Javascriptè¯­è¨€çš„ä¸€ä¸ªå…³é”®å­—ã€‚å®ƒä»£è¡¨å‡½æ•°è¿è¡Œæ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªå†…éƒ¨å¯¹è±¡ï¼Œåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚éšç€å‡½æ•°ä½¿ç”¨åœºåˆçš„ä¸åŒï¼Œthisçš„å€¼ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªæ€»çš„åŸåˆ™ï¼Œé‚£å°±æ˜¯thisæŒ‡çš„æ˜¯ï¼Œè°ƒç”¨å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡ã€‚ åŒ¿åå‡½æ•°,å®šæ—¶å™¨ä¸­çš„å‡½æ•°,ç”±äºæ²¡æœ‰é»˜è®¤çš„å®¿ä¸»å¯¹è±¡,æ‰€ä»¥é»˜è®¤thisæŒ‡å‘window é—®é¢˜: å¦‚æœæƒ³è¦åœ¨setTimeout/setIntervalä¸­ä½¿ç”¨è¿™ä¸ªå¯¹è±¡çš„thiså¼•ç”¨å‘¢? ç”¨ä¸€ä¸ª å˜é‡æå‰æŠŠæ­£ç¡®çš„ thiså¼•ç”¨ä¿å­˜ èµ·æ¥, æˆ‘ä»¬é€šå¸¸ä½¿ç”¨that = this, æˆ–è€… _this = thisæ¥ä¿å­˜æˆ‘ä»¬éœ€è¦çš„thisæŒ‡é’ˆ! ä¹Ÿå¯ä»¥ä½¿ç”¨ func.bind(this) ç»™å›è°ƒå‡½æ•°ç›´æ¥ç»‘å®šå®¿ä¸»å¯¹è±¡, bindç»‘å®šå®¿ä¸»å¯¹è±¡åä¾ç„¶è¿”å›è¿™ä¸ªå‡½æ•°, è¿™æ˜¯æ›´ä¼˜é›…çš„åšæ³• 123456789101112131415161718192021222324252627282930313233343536373839404142var a = 1;var obj = { a: 2, test: function() { setTimeout(function(){ console.log(this.a); }.bind(this), 0); }};obj.test(); // 2// setTimeoutä¸æ­¢ä¸¤ä¸ªå‚æ•°setTimeout(function(a, b){ console.log(a); // 3 console.log(b); // 4},0, 3, 4);ç®­å¤´å‡½æ•°æ¯”è¾ƒç‰¹æ®Šï¼Œæ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒä½¿ç”¨å°é—­æ‰§è¡Œä¸Šä¸‹æ–‡(å‡½æ•°æˆ–æ˜¯global)çš„ this å€¼ã€‚var x=11;var obj={ x:22, say:()=&gt;{ console.log(this.x); //thisæŒ‡å‘window }}obj.say();// 11obj.say.call({x:13}) // 11x = 14obj.say() // 14//å¯¹æ¯”ä¸€ä¸‹var obj2={ x:22, say() { console.log(this.x); //thisæŒ‡å‘window }}obj2.say();// 22obj2.say.call({x:13}) // 13 ä¸€ã€çº¯ç²¹çš„å‡½æ•°è°ƒç”¨ å±äºå…¨å±€æ€§è°ƒç”¨ï¼Œå› æ­¤thiså°±ä»£è¡¨å…¨å±€å¯¹è±¡Globalåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œé»˜è®¤ç»‘å®šä¼šå°† this æŒ‡å‘ undefined äºŒã€ä½œä¸ºå¯¹è±¡æ–¹æ³•çš„è°ƒç”¨ thiså°±æŒ‡è¿™ä¸ªä¸Šçº§å¯¹è±¡ä¸‰ ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨ æ‰€è°“æ„é€ å‡½æ•°ï¼Œå°±æ˜¯é€šè¿‡è¿™ä¸ªå‡½æ•°ç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆobjectï¼‰ã€‚è¿™æ—¶ï¼Œthiså°±æŒ‡è¿™ä¸ªæ–°å¯¹è±¡ã€‚ å›› applyè°ƒç”¨ thisæŒ‡çš„å°±æ˜¯è¿™ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ apply()çš„å‚æ•°ä¸ºç©ºæ—¶ï¼Œé»˜è®¤è°ƒç”¨å…¨å±€å¯¹è±¡ã€‚ äº” thisæŒ‡å‘ç»‘å®šäº‹ä»¶çš„domå…ƒç´ document.querySelector(â€œ#idâ€).onclick =function(){ this == document.querySelector(â€œ#idâ€)} 12345678910if(!(&quot;a&quot; in window)){ var a = 10;}console.log(a); // undefined// window.hasOwnProperty(&quot;a&quot;) === true ..//ä¸ç”¨å¤šè¯´äº†. a è¿˜çœŸå­˜åœ¨åŸå‹é“¾ä¸Š// å€¼æ˜¯ Location è¿™ä¸ª API çš„æ•°æ® 1234567891011var count = 0;console.log(typeof count === &quot;number&quot;); // true , è¿™ä¸ªä¸ç”¨è§£é‡Šäº†console.log(!!typeof count === &quot;number&quot;); // false// è¿™é‡Œæ¶‰åŠåˆ°å°±æ˜¯ä¼˜å…ˆçº§å’Œå¸ƒå°”å€¼çš„é—®é¢˜// typeof count å°±æ˜¯å­—ç¬¦ä¸²&quot;number&quot;// !!æ˜¯è½¬ä¸ºå¸ƒå°”å€¼(ä¸‰ç›®è¿ç®—ç¬¦çš„å˜ç§),éç©ºå­—ç¬¦ä¸²å¸ƒå°”å€¼ä¸º true// æœ€åæ‰=== æ¯”è¾ƒ , true === &quot;number&quot; , return false 123456789101112131415161718192021222324(function(){ var a = b = 3;})()console.log(typeof a === &quot;undefined&quot;); // falseconsole.log(typeof b === &quot;undefined&quot;); // false// è¿™é‡Œæ¶‰åŠçš„å°±æ˜¯ç«‹å³æ‰§è¡Œå’Œé—­åŒ…çš„é—®é¢˜,è¿˜æœ‰å˜é‡æå‡,è¿ç®—ç¬¦æ‰§è¡Œæ–¹å‘(=å·è‡ªå·¦å‘å³)// é‚£ä¸ªå‡½æ•°å¯ä»¥æ‹†æˆè¿™æ ·(function() var a; /* å±€éƒ¨å˜é‡,å¤–éƒ¨æ²¡æ³•è®¿é—®*/ b = 3; /* å…¨å±€å˜é‡,so . window.b === 3 , å¤–éƒ¨å¯ä»¥è®¿é—®åˆ°*/ a = b;})()// æ³¨æ„aåªæœ‰åœ¨é—­åŒ…é‡Œæ‰èƒ½è®¿é—®(a=3)ï¼Œåœ¨å¤–éƒ¨æ˜¯undefined !!!!!!!!!!!!!!!!!// è‹¥æ˜¯æ”¹æˆè¿™æ ·,è¿™é“é¢˜åº”è¯¥æ˜¯å¯¹çš„console.log(typeof b === &quot;number&quot; &amp;&amp; b ===3); // true 123456789101112131415161718192021function foo(something){ this.a = something;}var obj1 = { foo:foo};var obj2 = {};obj1.foo(2)console.log(obj1.a) // 2 ,æ­¤æ—¶çš„ this ä¸Šä¸‹æ–‡è¿˜åœ¨ obj1å†…,è‹¥æ˜¯ obj1.foo å…ˆä¿å­˜å½“åšå¼•ç”¨å†æ‰§è¡Œä¼ å‚,åˆ™ä¸Šä¸‹æ–‡ä¸º windowobj1.foo.call(obj2,3); // ç”¨ call å¼ºè¡Œæ”¹å˜ä¸Šä¸‹æ–‡ä¸º obj2å†…console.log(obj2.a); // 3var bar = new obj1.foo(4); // è¿™é‡Œäº§ç”Ÿäº†ä¸€ä¸ªå®ä¾‹console.log(obj1.a); // 2console.log(bar.a); // 4; newçš„ç»‘å®šæ¯”éšå¼å’Œæ˜¾å¼ç»‘å®šä¼˜å…ˆçº§æ›´é«˜ Q: è®¾è®¡æ¨¡å¼ä½ äº†è§£å¤šå°‘1http://www.cnblogs.com/tugenhua0707/p/5198407.html Q: JS çš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰å“ªäº›12345678910111213141516ObjectUndefinedNullNumberBooleanStringSymbol (ECMAScript 6 æ–°å®šä¹‰) 5 ç§åŸå§‹ç±»å‹å³ Undefined Null Number Boolean String é™¤äº†Objectå’ŒSymbolä¸æ˜¯ï¼Œå…¶ä»–éƒ½æ˜¯ Q: null å’Œ undefined çš„å·®å¼‚12345678910111213å¤§ä½“è¯´ä¸€ä¸‹,æƒ³è¦çŸ¥å…¶æ‰€ä»¥ç„¶è¯·å¼•æ“æœç´¢ç›¸åŒç‚¹:åœ¨ if åˆ¤æ–­è¯­å¥ä¸­,å€¼éƒ½é»˜è®¤ä¸º falseå¤§ä½“ä¸Šä¸¤è€…éƒ½æ˜¯ä»£è¡¨ æ—  ,å…·ä½“çœ‹å·®å¼‚å·®å¼‚:null è½¬ä¸ºæ•°å­—ç±»å‹å€¼ä¸º0,è€Œ undefined è½¬ä¸ºæ•°å­—ç±»å‹ä¸º NaN(Not a Number)undefined æ˜¯ä»£è¡¨è°ƒç”¨ä¸€ä¸ªå€¼è€Œè¯¥å€¼å´æ²¡æœ‰èµ‹å€¼,è¿™æ—¶å€™é»˜è®¤åˆ™ä¸º undefinednull æ˜¯ä¸€ä¸ªå¾ˆç‰¹æ®Šçš„å¯¹è±¡,æœ€ä¸ºå¸¸è§çš„ä¸€ä¸ªç”¨æ³•å°±æ˜¯ä½œä¸ºå‚æ•°ä¼ å…¥(è¯´æ˜è¯¥å‚æ•°ä¸æ˜¯å¯¹è±¡)è®¾ç½®ä¸º null çš„å˜é‡æˆ–è€…å¯¹è±¡ä¼šè¢«å†…å­˜æ”¶é›†å™¨å›æ”¶ Q: æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼æœ‰å“ªäº›?æ¯”è¾ƒå¥½çš„æ˜¯å“ªä¸€ç§123456789101112131415161718192021222324252627282930313233å¸¸ç”¨çš„ä¸€èˆ¬ä¸ºä¸‰ç§ .clearfix , clear:both , overflow:hidden ;.clearfix:after { font-size: 0; content:&quot;&quot;;//è®¾ç½®å†…å®¹ä¸ºç©º height:0;//é«˜åº¦ä¸º0 line-height:0;//è¡Œé«˜ä¸º0 display:block;//å°†æ–‡æœ¬è½¬ä¸ºå—çº§å…ƒç´  visibility:hidden;//å°†å…ƒç´ éšè— clear:both//æ¸…é™¤æµ®åŠ¨}å¦ä¸€ç§å†™æ³•.clearfix:before, .clearfix:after { content:&quot;&quot;; display:table;}.clearfix:after{ clear:both; overflow:hidden;}.clearfix{ zoom:1;// ä¸ºäº†å…¼å®¹IE}&lt;!--ç”¨display:table æ˜¯ä¸ºäº†é¿å…å¤–è¾¹è·marginé‡å å¯¼è‡´çš„marginå¡Œé™·,å†…éƒ¨å…ƒç´ é»˜è®¤ä¼šæˆä¸º table-cell å•å…ƒæ ¼çš„å½¢å¼--&gt;clear:both :è‹¥æ˜¯ç”¨åœ¨åŒä¸€ä¸ªå®¹å™¨å†…ç›¸é‚»å…ƒç´ ä¸Š,é‚£æ˜¯è´¼å¥½çš„...æœ‰æ—¶å€™åœ¨å®¹å™¨å¤–å°±æœ‰äº›é—®é¢˜äº†, æ¯”å¦‚ç›¸é‚»å®¹å™¨çš„åŒ…è£¹å±‚å…ƒç´ å¡Œé™·overflow:hidden :è¿™ç§è‹¥æ˜¯ç”¨åœ¨åŒä¸ªå®¹å™¨å†…,å¯ä»¥å½¢æˆ BFC é¿å…æµ®åŠ¨é€ æˆçš„å…ƒç´ å¡Œé™· Q: è·¨åŸŸé—®é¢˜è¯¦æƒ… 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859æˆ‘ä¸€èˆ¬ç”¨è¿™ä¸‰ç§, cors , nginxåå‘ä»£ç† , jsonpjsonp : å•çº¯çš„ get ä¸€äº›æ•°æ®,å±€é™æ€§å¾ˆå¤§...å°±æ˜¯åˆ©ç”¨scriptæ ‡ç­¾çš„srcå±æ€§æ¥å®ç°è·¨åŸŸã€‚æµè§ˆå™¨æ”¯æŒå¥½è°ƒç”¨å¤±è´¥ä¸ä¼šè¿”å›å„ç§HTTPçŠ¶æ€ç ç»™åç«¯ä¼ jsonæ ¼å¼çš„æ•°æ®ä¼šæŠ¥415é”™è¯¯ï¼Œè¯·æ±‚æ ¼å¼ä¸æ­£ç¡®callbackæ·»åŠ æ¶æ„scriptæ ‡ç­¾ï¼Œé€ æˆxssæ¼æ´åªèƒ½å¤Ÿå®ç°getè¯·æ±‚å‚æ•°å¯è§nginx åå‘ä»£ç† : ä¸»è¦å°±æ˜¯ç”¨äº† nginx.conf å†…çš„ proxy_pass http://xxx.xxx.xxx,ä¼šæŠŠæ‰€æœ‰è¯·æ±‚ä»£ç†åˆ°é‚£ä¸ªåŸŸå,æœ‰åˆ©ä¹Ÿæœ‰å¼Šå§..corså¯æ§æ€§è¾ƒå¼º,éœ€è¦å‰åç«¯éƒ½è®¾ç½®,å…¼å®¹æ€§ IE10+ ,CORSéœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨åŒæ—¶æ”¯æŒã€‚IE8+ï¼šIE8/9éœ€è¦ä½¿ç”¨XDomainRequestå¯¹è±¡æ¥æ”¯æŒCORSã€‚æ¯”å¦‚Access-Control-Allow-Origin: http://foo.example // å­åŸŸä¹ƒè‡³æ•´ä¸ªåŸŸåæˆ–æ‰€æœ‰åŸŸåæ˜¯å¦å…è®¸è®¿é—®Access-Control-Allow-Methods: POST, GET, OPTIONS // å…è®¸é‚£äº›è¡Œä¸ºæ–¹æ³•Access-Control-Allow-Headers: X-PINGOTHER, Content-Type // å…è®¸çš„å¤´éƒ¨å­—æ®µAccess-Control-Max-Age: 86400 // æœ‰æ•ˆæœŸcros çš„é…ç½®ä¸ä»…ä»…è¿™äº›,è¿˜æœ‰å…¶ä»–ä¸€äº›,å…·ä½“å¼•æ“å§....è‹¥æ˜¯æˆ‘ä»¬è¦ç”¨ nginx æˆ–è€… express é…ç½® cors åº”è¯¥æ€ä¹ˆæèµ·? æ¥ä¸ªç®€æ˜“ç‰ˆæœ¬çš„nginxlocation / { # æ£€æŸ¥åŸŸååç¼€ add_header Access-Control-Allow-Origin xx.xx.com; add_header Access-Control-Allow-Methods GET,POST,OPTIONS; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Headers DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type; add_header Access-Control-Max-Age 86400;}express, å½“ç„¶è¿™è´§ä¹Ÿæœ‰ä¸€äº›åˆ«äººå°è£…å¥½çš„ cors ä¸­é—´ä»¶,æ“ä½œæ€§æ›´å¼º...let express = require('express'); let app = express(); //è®¾ç½®æ‰€æœ‰è¯·æ±‚çš„å¤´éƒ¨app.all('*', (req, res, next) =&gt; { res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;xx.xx.com&quot;); res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&quot;); res.header(&quot;Access-Control-Allow-Methods&quot;,&quot;PUT,POST,GET,DELETE,OPTIONS&quot;); next(); });æœ‰äº›è¿˜ä¼šè·Ÿä½ æ­»ç£•,,é™¤äº†è¿™äº›è¿˜æœ‰å…¶ä»–å§¿åŠ¿ä¹ˆ...æˆ‘è¯´äº†ä¸€ä¸ªHTML5çš„ postMessage ......å› ä¸ºçœŸå¿ƒæ²¡ç”¨è¿‡,åªæ˜¯ä»¥å‰æŸ¥é˜…çš„æ—¶å€™äº†è§£äº†ä¸‹..åªèƒ½å¤§ä½“ç‚¹ä¸‹è¿™è´§ç”¨äº iframe ä¼ é€’æ¶ˆæ¯å±…å¤š, å¤§ä½“æœ‰è¿™ä¹ˆä¸¤æ­¥æ­¥window æ‰“å¼€ä¸€ä¸ªå®ä¾‹,ä¼ é€’ä¸€ä¸ªæ¶ˆæ¯åˆ°ä¸€ä¸ªxåŸŸåx åŸŸåä¸‹ç›‘å¬ message äº‹ä»¶,è·å–ä¼ é€’çš„æ¶ˆæ¯è¿™è´§çš„å…¼å®¹æ€§æ²¡é‚£ä¹ˆå¥½,è€Œä¸”æ²¡è€ƒè™‘å‘¨å…¨çš„ä¸‹å®¹æ˜“é­å— CSRF æ”»å‡» Q: å¯¹äºXSS å’Œ CSRF å¦‚ä½•é˜²èŒƒ12345678910111213141516171819202122232425262728293031323334353637383940414243444546 XSSä¸»è¦æ˜¯æŒ‡è·¨è„šæœ¬æ”»å‡», å…¶å®å°±ç›¸å½“äºæ‰§è¡Œjsè„šæœ¬.XSSçš„é˜²èŒƒ1. éªŒè¯ç”¨æˆ·è¾“å…¥çš„å†…å®¹, æ˜¯å¦ç¬¦åˆè§„åˆ™.2. è½¬ä¹‰ &lt;&gt; é€ æˆä»£ç ç›´æ¥è¿è¡Œçš„çš„æ ‡ç­¾.. è½®è¯¢æˆ–è€…æ­£åˆ™æ›¿æ¢è€Œé¢è¯•å®˜è¯´è¿™ç§çš„æ•ˆç‡æœ€ä½ä¸‹,æ‰¾ç›¸å…³èµ„æ–™è‹¥æ˜¯æœ‰ç”¨åˆ° cookie ,è®¾ç½®ä¸º http-only ,é¿å…å®¢æˆ·ç«¯çš„ç¯¡æ”¹CSP(Content Security Policy)ä»¥ç™½åå•çš„æœºåˆ¶å¯¹ç½‘ç«™åŠ è½½æˆ–æ‰§è¡Œçš„èµ„æºèµ·ä½œç”¨ã€‚åœ¨ç½‘é¡µä¸­ï¼Œè¿™æ ·çš„ç­–ç•¥é€šè¿‡ HTTP å¤´ä¿¡æ¯æˆ–è€… metaå…ƒç´ å®šä¹‰ã€‚CSPè™½ç„¶æä¾›äº†å¼ºå¤§çš„å®‰å…¨ä¿æŠ¤ï¼Œä½†æ˜¯ä»–ä¹Ÿé€ æˆäº†å¦‚ä¸‹é—®é¢˜ï¼šEvalåŠç›¸å…³å‡½æ•°è¢«ç¦ç”¨ã€å†…åµŒçš„JavaScriptä»£ç å°†ä¸ä¼šæ‰§è¡Œã€åªèƒ½é€šè¿‡ç™½åå•æ¥åŠ è½½è¿œç¨‹è„šæœ¬ã€‚CSRFè·¨åŸŸå‡å†’è¯·æ±‚æœ‰3ä¸ªç‰¹æ€§: è·¨åŸŸ, cookie, è¯·æ±‚æ–¹å¼.CSRFçš„é˜²èŒƒä¸€èˆ¬è¿™å‡ ç§éªŒè¯ç ,ç”¨æˆ·ä½“éªŒè™½ç„¶ä¸å¥½,éªŒè¯ HTTP Referer å­—æ®µ,åˆ¤æ–­è¯·æ±‚æ¥æºtokenåŠ å¯†è§£å¯† ,å‰ç«¯å’Œåå°åŒæ–¹åå®šä¸€ä¸ªtokenå†…å®¹å°½é‡ä½¿ç”¨JSONç±»å‹ä¼ è¾“ form ä¼ è¾“çš„æ ¼å¼ä¸º: Content-Type: application/x-www-form-urlencoded è€Œ,JSONçš„ä¼ è¾“ç±»å‹ä¸º: Content-Type: application/json form æ²¡æœ‰åŠæ³•å»æ¨¡ä»¿JSONç±»å‹è¿›è¡Œä¼ è¾“DNSåŠ«æŒ, äº‹å®ä¸Šæ›´åå‘äºUser developerå®é™…ä¸Šå¯¹è¿™ä¸ªä¹Ÿæ— èƒ½ä¸ºåŠ›ã€‚HTTP(ISP) åŠ«æŒ ä½¿ç”¨HTTPS åŠ å¯†æ–¹å¼ä¼ è¾“ æ›¿æ¢ä½ çš„jsçš„æä¾›å•†ï¼Œä½¿ç”¨HTTPSè·¯å¾„è¿›è¡ŒåŠ è½½ã€‚éªŒè¯ç é€ æˆçš„ä½“éªŒä¸å¥½,token æ»¥ç”¨é€ æˆçš„æ€§èƒ½é—®é¢˜,è½®è¯¢æ›¿æ¢é€ æˆçš„å“åº”æ—¶é—´ç­‰ Q: è°ˆè°ˆä½ å¯¹ Promise çš„ç†è§£? å’Œ ajax æœ‰å…³ç³»ä¹ˆé“¾æ¥ promise æ˜¯å¯¹å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§æŠ½è±¡ã€‚å®ƒæ˜¯ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œä»£è¡¨ä¸€ä¸ªå¿…é¡»è¿›è¡Œå¼‚æ­¥å¤„ç†çš„å‡½æ•°è¿”å›çš„å€¼æˆ–æŠ›å‡ºçš„å¼‚å¸¸ã€‚ å¥½å¤„å¼‚æ­¥æ“ä½œé˜Ÿåˆ—åŒ–ï¼Œæ¯”ä¼ ç»Ÿçš„å¼‚æ­¥æ“ä½œå›è°ƒå‡½æ•°å’Œäº‹ä»¶æ›´åˆç†æ›´å¼ºå¤§ã€‚ èƒ½æŠŠåŸæ¥çš„å›è°ƒå†™æ³•åˆ†ç¦»å‡ºæ¥ï¼Œåœ¨å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåï¼Œç”¨é“¾å¼è°ƒç”¨çš„æ–¹å¼æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚ ==Promiseå¯¹è±¡ä¸‰ç§çŠ¶æ€ï¼š== Pendingï¼ˆè¿›è¡Œä¸­ï¼‰Fulfilledï¼ˆå·²å®Œæˆï¼Œåˆç§°ä¸ºResolvedï¼‰Rejectdï¼ˆå·²å¤±è´¥ï¼‰ ä¸€äº›éœ€è¦æ³¨æ„çš„å°ç‚¹,å¦‚ä¸‹ åœ¨ Pending è½¬ä¸ºå¦å¤–ä¸¤ç§ä¹‹ä¸€çš„çŠ¶æ€æ—¶å€™,çŠ¶æ€ä¸å¯åœ¨æ”¹å˜.. Promise çš„ then ä¸ºå¼‚æ­¥.è€Œ( new Promise() )æ„é€ å‡½æ•°å†…ä¸ºåŒæ­¥ Promise çš„ catch ä¸èƒ½æ•è·ä»»æ„æƒ…å†µçš„é”™è¯¯(æ¯”å¦‚ then é‡Œé¢çš„ setTimout å†…æ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ª Error ) Promise çš„ resolve è‹¥æ˜¯ä¼ å…¥å€¼è€Œéå‡½æ•°,ä¼šå‘ç”Ÿå€¼ç©¿é€çš„ç°è±¡ Promise è¿˜æœ‰ä¸€äº›è‡ªå¸¦çš„æ–¹æ³•,æ¯”å¦‚ race , all ,å‰è€…æœ‰ä»»ä¸€ä¸€ä¸ªè§£æå®Œæ¯•å°±è¿”å›,åè€…æ‰€æœ‰è§£æå®Œæ¯•è¿”å›â€¦ ==Promise æ–¹æ³•ï¼š== thenï¼š ç”¨é“¾å¼è°ƒç”¨çš„æ–¹å¼æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚é€šè¿‡ resolve æ–¹æ³•æŠŠ Promise çš„çŠ¶æ€ç½®ä¸ºå®Œæˆæ€ï¼ˆResolvedï¼‰ï¼Œè¿™æ—¶ then æ–¹æ³•å°±èƒ½æ•æ‰åˆ°å˜åŒ–ï¼Œå¹¶æ‰§è¡Œâ€œæˆåŠŸâ€æƒ…å†µçš„å›è°ƒã€‚thenæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ rejectï¼š æŠŠ Promise çš„çŠ¶æ€ç½®ä¸ºå·²å¤±è´¥ï¼ˆRejectedï¼‰ï¼Œè¿™æ—¶ then æ–¹æ³•æ‰§è¡Œâ€œå¤±è´¥â€æƒ…å†µçš„å›è°ƒ catchï¼šå’Œ then çš„ç¬¬äºŒä¸ªå‚æ•°ä¸€æ ·ï¼Œç”¨æ¥æŒ‡å®š reject çš„å›è°ƒ å½“æ‰§è¡Œ resolve çš„å›è°ƒï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢ then ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰æ—¶ï¼Œå¦‚æœæŠ›å‡ºå¼‚å¸¸äº†ï¼ˆä»£ç å‡ºé”™äº†ï¼‰ï¼Œé‚£ä¹ˆä¹Ÿä¸ä¼šæŠ¥é”™å¡æ­» jsï¼Œè€Œæ˜¯ä¼šè¿›åˆ°è¿™ä¸ª catch æ–¹æ³•ä¸­ã€‚ all: æä¾›äº†å¹¶è¡Œæ‰§è¡Œå¼‚æ­¥æ“ä½œçš„èƒ½åŠ›ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåæ‰æ‰§è¡Œå›è°ƒã€‚ å½“è¯¥æ•°ç»„é‡Œçš„æ‰€æœ‰Promiseå®ä¾‹éƒ½è¿›å…¥FulfilledçŠ¶æ€ï¼ŒPromise.allè¿”å›çš„å®ä¾‹æ‰ä¼šå˜æˆFulfilledçŠ¶æ€ã€‚å¹¶å°†Promiseå®ä¾‹æ•°ç»„çš„æ‰€æœ‰è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™Promise.allè¿”å›å®ä¾‹çš„å›è°ƒå‡½æ•°ã€‚ å½“è¯¥æ•°ç»„é‡Œçš„æŸä¸ªPromiseå®ä¾‹éƒ½è¿›å…¥RejectedçŠ¶æ€ï¼ŒPromise.allè¿”å›çš„å®ä¾‹ä¼šç«‹å³å˜æˆRejectedçŠ¶æ€ã€‚å¹¶å°†ç¬¬ä¸€ä¸ªrejectedçš„å®ä¾‹è¿”å›å€¼ä¼ é€’ç»™Promise.allè¿”å›å®ä¾‹çš„å›è°ƒå‡½æ•°ã€‚ race:åªè¦æœ‰ä¸€ä¸ªå¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œæ¯•ï¼Œå°±ç«‹åˆ»æ‰§è¡Œ then å›è°ƒã€‚æ³¨æ„ï¼šå…¶å®ƒæ²¡æœ‰æ‰§è¡Œå®Œæ¯•çš„å¼‚æ­¥æ“ä½œä»ç„¶ä¼šç»§ç»­æ‰§è¡Œï¼Œè€Œä¸æ˜¯åœæ­¢ã€‚ Promiseå¯¹è±¡ä¸¤ä¸ªç‰¹ç‚¹ å¯¹è±¡çŠ¶æ€åªç”±å¼‚æ­¥æ“ä½œç»“æœå†³å®šã€‚resolveæ–¹æ³•ä¼šä½¿Promiseå¯¹è±¡ç”±penddingçŠ¶æ€å˜ä¸ºfulfilledçŠ¶æ€ï¼›rejectæ–¹æ³•æˆ–è€…å¼‚å¸¸ä¼šä½¿å¾—Promiseå¯¹è±¡ç”±penddingçŠ¶æ€å˜ä¸ºrejectedçŠ¶æ€ã€‚PromiseçŠ¶æ€å˜åŒ–åªæœ‰ä¸Šå›¾è¿™ä¸¤æ¡è·¯å¾„ã€‚ å¯¹è±¡çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œä»»ä½•æ—¶å€™éƒ½èƒ½å¾—åˆ°è¿™ä¸ªç»“æœã€‚ å³çŠ¶æ€ä¸€æ—¦è¿›å…¥fulfilledæˆ–è€…rejectedï¼Œpromiseä¾¿ä¸å†å‡ºç°çŠ¶æ€å˜åŒ–ï¼ŒåŒæ—¶æˆ‘ä»¬å†æ·»åŠ å›è°ƒä¼šç«‹å³å¾—åˆ°ç»“æœã€‚è¿™ç‚¹è·Ÿäº‹ä»¶ä¸ä¸€æ ·ï¼Œäº‹ä»¶æ˜¯å‘ç”Ÿåå†ç»‘å®šç›‘å¬ï¼Œå°±ç›‘å¬ä¸åˆ°äº†ã€‚ Promiseæ„é€ æ–¹æ³•æ¥å—ä¸€ä¸ªæ–¹æ³•ä½œä¸ºå‚æ•°ï¼Œè¯¥æ–¹æ³•ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œresolveå’Œrejectã€‚ resolveç”¨æ¥å°†Promiseå¯¹è±¡çš„çŠ¶æ€ç½®ä¸ºæˆåŠŸï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œç»“æœvalueä½œä¸ºå‚æ•°ä¼ ç»™æˆåŠŸå›è°ƒå‡½æ•°ã€‚ rejectç”¨æ¥å°†Promiseå¯¹è±¡çš„çŠ¶æ€ç½®ä¸ºå¤±è´¥ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œé”™è¯¯errorä½œä¸ºå‚æ•°ä¼ ç»™å¤±è´¥å›è°ƒå‡½æ•°ã€‚ thenæ–¹æ³•ç»‘å®šä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªç”¨æ¥å¤„ç†PromiseæˆåŠŸçŠ¶æ€ï¼Œç¬¬äºŒä¸ªç”¨æ¥å¤„ç†Promiseå¤±è´¥çŠ¶æ€ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748Promise å’Œ ajax æ²¡æœ‰ç›´æ¥å…³ç³». promise åªæ˜¯ä¸ºäº†è§£å†³&quot;å›è°ƒåœ°ç‹±&quot;Promise å¹¶ä¸èƒ½æ¶ˆç­å›è°ƒåœ°ç‹±ï¼Œä½†æ˜¯å®ƒå¯ä»¥ä½¿å›è°ƒå˜å¾—å¯æ§ã€‚å¼‚æ­¥å›è°ƒçš„é—®é¢˜ï¼šåµŒå¥—å±‚æ¬¡æ·±ï¼Œéš¾ä»¥ç»´æŠ¤æ— æ³•æ­£å¸¸ä½¿ç”¨returnå’Œcatch throwå¤šä¸ªå›è°ƒä¹‹é—´éš¾ä»¥å»ºç«‹è”ç³»ï¼Œä¸€ä¸ªå›è°ƒå‡½æ•°ä¸€æ—¦å¼€å¯ï¼Œå°±æ— æ³•å¯¹å…¶æ“ä½œæ— æ³•æ­£å¸¸ç´¢å¼•å †æ ˆä¿¡æ¯ä»è¡¨é¢ä¸Šçœ‹ï¼ŒPromiseåªæ˜¯èƒ½å¤Ÿç®€åŒ–å±‚å±‚å›è°ƒçš„å†™æ³•ï¼Œè€Œå®è´¨ä¸Šï¼ŒPromiseçš„ç²¾é«“æ˜¯â€œçŠ¶æ€â€ï¼Œç”¨ç»´æŠ¤çŠ¶æ€ã€ä¼ é€’çŠ¶æ€çš„æ–¹å¼æ¥ä½¿å¾—å›è°ƒå‡½æ•°èƒ½å¤ŸåŠæ—¶è°ƒç”¨ï¼Œå®ƒæ¯”ä¼ é€’callbackå‡½æ•°è¦ç®€å•ã€çµæ´»çš„å¤šã€‚var promise = new Promise(function(resolve, reject) { // ... some code if ( /* å¼‚æ­¥æ“ä½œæˆåŠŸ */ ) { resolve(value); } else { reject(error); }});promise.then(function(value) { // success}, function(error) { // failure});æ¨¡æ‹Ÿå›è°ƒå‡½æ•°function runAsync(callback){ setTimeout(function(){ console.log('æ‰§è¡Œå®Œæˆ'); callback('éšä¾¿ä»€ä¹ˆæ•°æ®'); }, 2000);}runAsync(function(data){ console.log(data);});getUserAdmin() .then(getProjects) .then(getModules) .then(getInterfaces) .then(procResult) Promise å¿…çŸ¥å¿…ä¼šï¼ˆåé“é¢˜ï¼‰é“¾æ¥ 123456789101112```# Generator å‡½æ•°[é“¾æ¥](https://cnodejs.org/topic/542953d42ca9451e1bf3c251)Generator å‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªç‰¹å¾ã€‚ä¸€æ˜¯ï¼Œfunctionå…³é”®å­—ä¸å‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå·ï¼›äºŒæ˜¯ï¼Œå‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨yieldè¯­å¥ï¼Œå®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€ function* helloWorldGenerator() { yield â€˜helloâ€™; yield â€˜worldâ€™; return â€˜endingâ€™;}var hw = helloWorldGenerator(); const gen = function* () { const f1 = yield readFile(â€˜/etc/fstabâ€™); const f2 = yield readFile(â€˜/etc/shellsâ€™); console.log(f1.toString()); console.log(f2.toString());};å†™æˆasyncå‡½æ•°ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ã€‚ const asyncReadFile = async function () { const f1 = await readFile(â€˜/etc/fstabâ€™); const f2 = await readFile(â€˜/etc/shellsâ€™); console.log(f1.toString()); console.log(f2.toString());};ä¸€æ¯”è¾ƒå°±ä¼šå‘ç°ï¼Œasyncå‡½æ•°å°±æ˜¯å°† Generator å‡½æ•°çš„æ˜Ÿå·ï¼ˆ*ï¼‰æ›¿æ¢æˆasyncï¼Œå°†yieldæ›¿æ¢æˆawaitï¼Œä»…æ­¤è€Œå·²ã€‚ è°ƒç”¨ Generator å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œä»£è¡¨ Generator å‡½æ•°çš„å†…éƒ¨æŒ‡é’ˆã€‚ä»¥åï¼Œæ¯æ¬¡è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªæœ‰ç€valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚valueå±æ€§è¡¨ç¤ºå½“å‰çš„å†…éƒ¨çŠ¶æ€çš„å€¼ï¼Œæ˜¯yieldè¡¨è¾¾å¼åé¢é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼›doneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éå†ç»“æŸã€‚ ä¸Šé¢å·²ç»ä»‹ç»äº†è¯´yieldæ˜¯æš‚åœæ ‡å¿—ï¼Œä¸‹é¢å¯¹yieldè¿›è¡Œä¸€äº›ä»‹ç»ï¼š ï¼ˆ1ï¼‰ã€yieldåé¢çš„è¡¨è¾¾å¼åªæœ‰å½“è°ƒç”¨nextæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œyieldåé¢çš„è¡¨è¾¾å¼ã€‚ ï¼ˆ2ï¼‰ã€yieldè¡¨è¾¾å¼åªèƒ½å†™åœ¨Generatorå‡½æ•°ä¸­ ï¼Œè€Œä¸èƒ½å†™åœ¨æ™®é€šçš„å‡½æ•°ä¸­ã€‚ ï¼ˆ3ï¼‰ã€yieldè¡¨è¾¾å¼å¦‚æœä¸å…¶ä»–è¡¨è¾¾å¼ç›¸ç»“åˆï¼Œå¿…é¡»å†™åœ¨()é‡Œé¢ã€‚ yieldä¸returnçš„å¼‚åŒç‚¹ï¼š ç›¸åŒç‚¹ï¼šéƒ½å¯ä»¥è¿”å›ç´§è·Ÿåé¢è¡¨è¾¾å¼çš„å€¼ ä¸åŒç‚¹ï¼š(a)ã€åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åªèƒ½å­˜åœ¨ä¸€ä¸ªreturnè¯­å¥ï¼Œè€Œå¯ä»¥å­˜åœ¨å¤šä¸ªyieldè¯­å¥ï¼›(b)ã€returnæ²¡æœ‰è®°å¿†åŠŸèƒ½ï¼Œåœ¨Generatorå‡½æ•°ä¸­åªæœ‰å½“éå†å™¨å¯¹è±¡è°ƒç”¨nextæ—¶ æ‰ä¼šè¿”å›yieldåé¢è¡¨è¾¾å¼çš„å€¼ï¼Œ å½“ä¸‹ä¸€æ¬¡è°ƒç”¨æ—¶ä»ä¸Šä¸€æ¡yieldè¯­å¥åå¼€å§‹æ‰§è¡Œï¼Œ è€Œreturnåé¢çš„è¡¨è¾¾å¼åªè¦å‡½æ•°æ‰§è¡Œå°±ç«‹å³è¿”å›ã€‚(c)ã€æ­£å¸¸å‡½æ•°åªæœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œè€ŒGeneratorå‡½æ•°å¯ä»¥æœ‰å¤šä¸ªè¿”å›å€¼ã€‚ Generatorå‡½æ•°è¢«æ‰§è¡Œæ—¶ï¼Œè¿”å›çš„æ˜¯æŒ‡å‘å‡½æ•°å†…éƒ¨çš„éå†å™¨å¯¹è±¡ï¼Œåªæœ‰è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•æ—¶ï¼Œæ‰ä¼šè¿”å›yieldåé¢å‡½æ•°è¡¨è¾¾å¼çš„å€¼ï¼Œä½†æ˜¯ï¼Œå…¶å®yieldè¡¨è¾¾å¼çš„å€¼ä¸€ç›´éƒ½æ˜¯undefinedã€‚å¦‚æœåœ¨Generatorçš„å‡½æ•°ä¸­ä¼ é€’å‚æ•°ä¸”å­˜åœ¨å¤šä¸ªyieldè¡¨è¾¾å¼æ—¶ï¼Œé‚£ä¹ˆè°ƒç”¨nextæ–¹æ³•æ—¶å°±è¦æ³¨æ„ä¼ å‚äº†ï¼šnext()ä¸­ä¼ é€’çš„å‚æ•°å°±æ˜¯ä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼ã€‚ 1234567# é¢è¯•é¢˜ç½‘ç«™[é“¾æ¥](http://www.bslxx.com)# ä½œç”¨åŸŸ å‡½æ•°å’Œå˜é‡çš„å¯è®¿é—®èŒƒå›´ã€‚ä½œç”¨åŸŸåˆ†ä¸ºå…¨å±€ä½œç”¨åŸŸ å‡½æ•°ä½œç”¨åŸŸå’Œevalä½œç”¨åŸŸã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657# åŸå‹[é“¾æ¥](https://www.jianshu.com/p/dee9f8b14771)åŸå‹å…¶å®å°±æ˜¯ä¸Šè¿°æ‰€è¯´çš„ç»§æ‰¿ä¸­çš„çˆ¶ç±»ã€‚åŸå‹é“¾ :åˆ©ç”¨åŸå‹ä¸²èµ·ä¸€ä¸ªç»§æ‰¿é“¾ï¼Œè®©ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•ï¼Œå†ä»¥æ­¤ç±»æ¨ä¸‹å».å½“ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•æ—¶å€™å°±ä¼šäº§ç”Ÿä¸€ä¸ªåŸå‹è¿ã€‚å½“æŸä¸ªå‡½æ•°å½“æˆæ„é€ å‡½æ•°æ¥è°ƒç”¨æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªæ„é€ å‡½æ•°çš„å®ä¾‹ã€‚è¿™ä¸ªå®ä¾‹ä¸Šä¼šæ‹¥æœ‰ä¸€ä¸ª __proto__ å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘è¯¥å®ä¾‹çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡(ä¹Ÿå¯ä»¥ç§°ä¸ºè¯¥å®ä¾‹çš„åŸå‹å¯¹è±¡)ã€‚å®šå¾‹ï¼šæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ __proto__ å±æ€§ï¼Œä½†åªæœ‰å‡½æ•°å¯¹è±¡æ‰æœ‰ prototype å±æ€§åŸå‹é“¾æ˜¯ä¾èµ–äº__proto__ï¼Œè€Œä¸æ˜¯prototype**å®ä¾‹ä¸åŸå‹**å½“è¯»å–å®ä¾‹çš„å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ï¼Œå¦‚æœè¿˜æŸ¥ä¸åˆ°ï¼Œå°±å»æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚é€šè¿‡ä¸€ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå‡ºæ¥çš„å¤šä¸ªå®ä¾‹ï¼Œå¦‚æœéƒ½è¦æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œç»™æ¯ä¸ªå®ä¾‹å»æ·»åŠ å¹¶ä¸æ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ã€‚è¿™æ—¶å°±è¯¥ç”¨ä¸ŠåŸå‹äº†ã€‚åœ¨å®ä¾‹çš„åŸå‹ä¸Šæ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªåŸå‹çš„æ‰€æœ‰å®ä¾‹ä¾¿éƒ½æœ‰äº†è¿™ä¸ªæ–¹æ³•ã€‚ var A = new Person(); Person.prototype = A;åŸå‹å¯¹è±¡ï¼ˆPerson.prototypeï¼‰æ˜¯ æ„é€ å‡½æ•°ï¼ˆPersonï¼‰çš„ä¸€ä¸ªå®ä¾‹ã€‚â†“#### Person.prototype.constructor == Person#### person1.__proto__ == Person.prototypeå®ä¾‹çš„æ„é€ å‡½æ•°å±æ€§ï¼ˆconstructorï¼‰æŒ‡å‘æ„é€ å‡½æ•°ã€‚â†“#### person1.constructor == Person#### Object.prototype.__proto__ === null#### person.constructor === Person.prototype.constructor == Person#### obj.__proto__ == Object.getPrototypeOf(obj) åŸå‹å’ŒåŸå‹é“¾æ˜¯JSå®ç°ç»§æ‰¿çš„ä¸€ç§æ¨¡å‹ã€‚åŸå‹é“¾çš„å½¢æˆæ˜¯çœŸæ­£æ˜¯é __proto__ è€Œéprototype## ä»€ä¹ˆæ˜¯åŸå‹é“¾ ç”±äº__proto__æ˜¯ä»»ä½•å¯¹è±¡éƒ½æœ‰çš„å±æ€§ï¼Œè€Œjsé‡Œä¸‡ç‰©çš†å¯¹è±¡ï¼Œ æ‰€ä»¥ä¼šå½¢æˆä¸€æ¡__proto__è¿èµ·æ¥çš„é“¾æ¡ï¼Œé€’å½’è®¿é—®__proto__æœ€ç»ˆåˆ°å¤´ï¼Œå¹¶ä¸”å€¼æ˜¯null å½“jså¼•æ“æŸ¥æ‰¾å¯¹è±¡å±æ€§æ—¶ï¼Œå…ˆæŸ¥æ‰¾å¯¹è±¡æœ¬èº«æ˜¯å¦å­˜åœ¨è¯¥å±æ€§ï¼Œ å¦‚æœä¸å­˜åœ¨ï¼Œä¼šåœ¨åŸå‹é“¾ä¸ŠæŸ¥æ‰¾ï¼Œä½†ä¸ä¼šæŸ¥æ‰¾è‡ªèº«çš„prototype var A = function(){}; var a = new A(); console.log(a.__proto__); //A {}ï¼ˆå³æ„é€ å™¨function A çš„åŸå‹å¯¹è±¡ï¼‰ console.log(a.__proto__.__proto__); //Object {}ï¼ˆå³æ„é€ å™¨function Object çš„åŸå‹å¯¹è±¡ï¼‰ console.log(a.__proto__.__proto__.__proto__); //null 123# ç›®å½• actionsassetscomponentsreducersstoreviewsindex.js 123# prototypeé—®é¢˜ function Foo() { getName = function () { alert (1); }; return this;}Foo.getName = function () { alert (2);};Foo.prototype.getName = function () { alert (3);};var getName = function () { alert (4);};function getName() { alert (5);} //è¯·å†™å‡ºä»¥ä¸‹è¾“å‡ºç»“æœï¼šFoo.getName();getName();Foo().getName();getName();new Foo.getName();new Foo().getName();new new Foo().getName(); //ç­”æ¡ˆï¼šFoo.getName();//2getName();//4Foo().getName();//1getName();//1new Foo.getName();//2new Foo().getName();//3new new Foo().getName();//3 123# varå’Œå‡½æ•°çš„æå‰å£°æ˜ function fn(a) { console.log(a); var a = 2; function a() {} console.log(a);} fn(1); è¾“å‡ºï¼šfunction a() {} 2 æˆ‘ä»¬çŸ¥é“varå’Œfunctionæ˜¯ä¼šæå‰å£°æ˜çš„ï¼Œè€Œä¸”functionæ˜¯ä¼˜å…ˆäºvarå£°æ˜çš„ï¼ˆå¦‚æœåŒæ—¶å­˜åœ¨çš„è¯ï¼‰ï¼Œæ‰€ä»¥æå‰å£°æ˜åè¾“å‡ºçš„aæ˜¯ä¸ªfunctionï¼Œç„¶åä»£ç å¾€ä¸‹æ‰§è¡Œaè¿›è¡Œé‡æ–°èµ‹å€¼äº†ï¼Œæ•…ç¬¬äºŒæ¬¡è¾“å‡ºæ˜¯2ã€‚ http://www.cnblogs.com/zichi/p/4359786.html 12345# javascriptå®ç°å°†å¤šä¸ªæœ‰åºæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„çš„ç®—æ³•[é“¾æ¥](https://segmentfault.com/a/1190000010302469) let ret=arr.reduce((arr1,arr2)=&gt;arr1.concat(arr2)).sort((a,b)=&gt;a-b);ret=Array.from(new Set(ret));console.log(ret); 123# newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢ 1ã€åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡2ã€å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡ï¼ˆå› æ­¤thiså°±æŒ‡å‘äº†è¿™ä¸ªæ–°å¯¹è±¡ï¼‰3ã€æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰4ã€è¿”å›æ–°å¯¹è±¡ var obj = {};obj.proto = Base.prototype;Base.call(obj); åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡fooï¼› å¹¶å°†å®ƒçš„proto__æŒ‡å‘å…¶æ„é€ å‡½æ•°çš„prototypeï¼Œfoo.__proto = Foo.prototype; åŠ¨æ€å°†thisæŒ‡å‘æ–°å¯¹è±¡ï¼ŒFoo.apply(fooï¼Œarguments); æ‰§è¡Œå‡½æ•°ä½“ä¸­çš„ä»£ç ï¼› æ”¾å›æ–°å¯¹è±¡foo; 12345# æ€ä¹ˆç”»ä¸€æ¡0.5pxçš„è¾¹[é“¾æ¥ï¼š](https://juejin.im/post/5ab65f40f265da2384408a95) å¯ä»¥é€šè¿‡ç›´æ¥è®¾ç½®å®½é«˜borderä¸º0.5pxã€è®¾ç½®box-shadowçš„å‚ç›´æ–¹å‘çš„åç§»é‡ä¸º0.5pxã€å€ŸåŠ©çº¿æ€§æ¸å˜linear-gradientã€ä½¿ç”¨transform: scaleY(0.5)çš„æ–¹æ³•ï¼Œä½¿ç”¨SVGçš„æ–¹æ³•ã€‚æœ€åå‘ç°transfrom scale/svgçš„æ–¹æ³•å…¼å®¹æ€§å’Œæ•ˆæœéƒ½æ˜¯æœ€å¥½çš„ï¼Œsvgå¯ä»¥æ”¯æŒå¤æ‚çš„å›¾å½¢ï¼Œæ‰€ä»¥åœ¨viewportæ˜¯1çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨transform/SVGç”»0.5pxï¼Œè€Œå¦‚æœviewportçš„ç¼©æ”¾æ¯”ä¾‹ä¸æ˜¯1çš„è¯ï¼Œé‚£ä¹ˆç›´æ¥ç”»1pxå³å¯ã€‚ .hairline-border { box-shadow: 0 0 0 1px;}@media (min-resolution: 2dppx) { .hairline-border { box-shadow: 0 0 0 0.5px; }}@media (min-resolution: 3dppx) { .hairline-border { box-shadow: 0 0 0 0.33333333px; }}@media (min-resolution: 4dppx) { .hairline-border { box-shadow: 0 0 0 0.25px; }} 12345# ä» arguments åˆ°å‰©ä½™å‚æ•°å¦‚æœä½ æƒ³åœ¨ ES5 ä¸­è®©å‡½æ•°(æˆ–æ–¹æ³•)æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¿…é¡»ä½¿ç”¨ç‰¹æ®Šå˜é‡ argumentsï¼š function logAllArguments() { for (var i=0; i &lt; arguments.length; i++) { console.log(arguments[i]); }} ES6 ä¸­åˆ™å¯ä»¥é€šè¿‡ â€¦ è¿ç®—ç¬¦å®šä¹‰ä¸€ä¸ªå‰©ä½™å‚æ•°(åœ¨ä¸‹é¢ç¤ºä¾‹ä¸­æ˜¯args)ï¼š function logAllArguments(â€¦args) { for (const arg of args) { console.log(arg); }} å¦‚æœæœ‰ä¸€éƒ¨åˆ†å›ºå®šå‚æ•°ï¼Œå‰©ä½™å‚æ•°å°±æ›´é€‚ç”¨äº†ï¼š function format(pattern, â€¦args) { Â·Â·Â·} åœ¨ ES5 ä¸­å¤„ç†åŒæ ·çš„äº‹æƒ…æœ‰ç‚¹éº»çƒ¦ï¼š function format(pattern) { var args = [].slice.call(arguments, 1); Â·Â·Â·} 123456789101112131415161718192021# ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥urlåˆ°æ˜¾ç¤ºé¡µé¢çš„æ­¥éª¤(ä»¥HTTPä¸ºä¾‹)[è¿æ¥](https://github.com/qiu-deqing/FE-interview#%E4%BB%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%9C%B0%E5%9D%80%E6%A0%8F%E8%BE%93%E5%85%A5url%E5%88%B0%E6%98%BE%E7%A4%BA%E9%A1%B5%E9%9D%A2%E7%9A%84%E6%AD%A5%E9%AA%A4%E4%BB%A5http%E4%B8%BA%E4%BE%8B)1. è¾“å…¥url2. æŸ¥çœ‹ç¼“å­˜3. è§£æURL4. ç»„è£…HTTPè¯·æ±‚æŠ¥æ–‡5. è·å–ä¸»æœºip6. å»ºç«‹tcpè¿æ¥7. å‘é€httpè¯·æ±‚8. æœåŠ¡å™¨æ£€æŸ¥è¯·æ±‚å¤´ä¿¡æ¯9. å“åº”æŠ¥æ–‡é€šè¿‡tcpè¿”å›10. å…³é—­tcpå››æ¬¡æ¡æ‰‹11. æ£€æŸ¥çŠ¶æ€ç 12. ç¼“å­˜13. è§£ç 14. è§£æHTMLæ–‡æ¡£ï¼Œæ„ä»¶DOMæ ‘ï¼Œä¸‹è½½èµ„æºï¼Œæ„é€ CSSOMæ ‘ï¼Œæ‰§è¡Œjsè„šæœ¬15. æ˜¾ç¤ºé¡µé¢ åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥URLæµè§ˆå™¨æŸ¥çœ‹ç¼“å­˜ï¼Œå¦‚æœè¯·æ±‚èµ„æºåœ¨ç¼“å­˜ä¸­å¹¶ä¸”æ–°é²œï¼Œè·³è½¬åˆ°è½¬ç æ­¥éª¤å¦‚æœèµ„æºæœªç¼“å­˜ï¼Œå‘èµ·æ–°è¯·æ±‚å¦‚æœå·²ç¼“å­˜ï¼Œæ£€éªŒæ˜¯å¦è¶³å¤Ÿæ–°é²œï¼Œè¶³å¤Ÿæ–°é²œç›´æ¥æä¾›ç»™å®¢æˆ·ç«¯ï¼Œå¦åˆ™ä¸æœåŠ¡å™¨è¿›è¡ŒéªŒè¯ã€‚æ£€éªŒæ–°é²œé€šå¸¸æœ‰ä¸¤ä¸ªHTTPå¤´è¿›è¡Œæ§åˆ¶Expireså’ŒCache-Controlï¼šHTTP1.0æä¾›Expiresï¼Œå€¼ä¸ºä¸€ä¸ªç»å¯¹æ—¶é—´è¡¨ç¤ºç¼“å­˜æ–°é²œæ—¥æœŸHTTP1.1å¢åŠ äº†Cache-Control: max-age,å€¼ä¸ºä»¥ç§’ä¸ºå•ä½çš„æœ€å¤§æ–°é²œæ—¶é—´æµè§ˆå™¨è§£æURLè·å–åè®®ï¼Œä¸»æœºï¼Œç«¯å£ï¼Œpathæµè§ˆå™¨ç»„è£…ä¸€ä¸ªHTTPï¼ˆGETï¼‰è¯·æ±‚æŠ¥æ–‡æµè§ˆå™¨è·å–ä¸»æœºipåœ°å€ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼šæµè§ˆå™¨ç¼“å­˜æœ¬æœºç¼“å­˜hostsæ–‡ä»¶è·¯ç”±å™¨ç¼“å­˜ISP DNSç¼“å­˜ DNSé€’å½’æŸ¥è¯¢ï¼ˆå¯èƒ½å­˜åœ¨è´Ÿè½½å‡è¡¡å¯¼è‡´æ¯æ¬¡IPä¸ä¸€æ ·ï¼‰æ‰“å¼€ä¸€ä¸ªsocketä¸ç›®æ ‡IPåœ°å€ï¼Œç«¯å£å»ºç«‹TCPé“¾æ¥ï¼Œä¸‰æ¬¡æ¡æ‰‹å¦‚ä¸‹ï¼šå®¢æˆ·ç«¯å‘é€ä¸€ä¸ªTCPçš„SYN=1ï¼ŒSeq=Xçš„åŒ…åˆ°æœåŠ¡å™¨ç«¯å£æœåŠ¡å™¨å‘å›SYN=1ï¼Œ ACK=X+1ï¼Œ Seq=Yçš„å“åº”åŒ…å®¢æˆ·ç«¯å‘é€ACK=Y+1ï¼Œ Seq=ZTCPé“¾æ¥å»ºç«‹åå‘é€HTTPè¯·æ±‚ æœåŠ¡å™¨æ¥å—è¯·æ±‚å¹¶è§£æï¼Œå°†è¯·æ±‚è½¬å‘åˆ°æœåŠ¡ç¨‹åºï¼Œå¦‚è™šæ‹Ÿä¸»æœºä½¿ç”¨HTTP Hostå¤´éƒ¨åˆ¤æ–­è¯·æ±‚çš„æœåŠ¡ç¨‹åº æœåŠ¡å™¨æ£€æŸ¥HTTPè¯·æ±‚å¤´æ˜¯å¦åŒ…å«ç¼“å­˜éªŒè¯ä¿¡æ¯å¦‚æœéªŒè¯ç¼“å­˜æ–°é²œï¼Œè¿”å›304ç­‰å¯¹åº”çŠ¶æ€ç å¤„ç†ç¨‹åºè¯»å–å®Œæ•´è¯·æ±‚å¹¶å‡†å¤‡HTTPå“åº”ï¼Œå¯èƒ½éœ€è¦æŸ¥è¯¢æ•°æ®åº“ç­‰æ“ä½œæœåŠ¡å™¨å°†å“åº”æŠ¥æ–‡é€šè¿‡TCPè¿æ¥å‘é€å›æµè§ˆå™¨æµè§ˆå™¨æ¥æ”¶HTTPå“åº”ï¼Œç„¶åæ ¹æ®æƒ…å†µé€‰æ‹©å…³é—­TCPè¿æ¥æˆ–è€…ä¿ç•™é‡ç”¨ï¼Œå…³é—­TCPè¿æ¥çš„å››æ¬¡æ¡æ‰‹å¦‚ä¸‹ï¼šä¸»åŠ¨æ–¹å‘é€Fin=1ï¼Œ Ack=Zï¼Œ Seq= XæŠ¥æ–‡è¢«åŠ¨æ–¹å‘é€ACK=X+1ï¼Œ Seq=ZæŠ¥æ–‡è¢«åŠ¨æ–¹å‘é€Fin=1ï¼Œ ACK=Xï¼Œ Seq=YæŠ¥æ–‡ä¸»åŠ¨æ–¹å‘é€ACK=Yï¼Œ Seq=XæŠ¥æ–‡ æµè§ˆå™¨æ£€æŸ¥å“åº”çŠ¶æ€å—ï¼šæ˜¯å¦ä¸º1XXï¼Œ3XXï¼Œ 4XXï¼Œ 5XXï¼Œè¿™äº›æƒ…å†µå¤„ç†ä¸2XXä¸åŒå¦‚æœèµ„æºå¯ç¼“å­˜ï¼Œè¿›è¡Œç¼“å­˜å¯¹å“åº”è¿›è¡Œè§£ç ï¼ˆä¾‹å¦‚gzipå‹ç¼©ï¼‰ æ ¹æ®èµ„æºç±»å‹å†³å®šå¦‚ä½•å¤„ç†ï¼ˆå‡è®¾èµ„æºä¸ºHTMLæ–‡æ¡£ï¼‰ è§£æHTMLæ–‡æ¡£ï¼Œæ„ä»¶DOMæ ‘ï¼Œä¸‹è½½èµ„æºï¼Œæ„é€ CSSOMæ ‘ï¼Œæ‰§è¡Œjsè„šæœ¬ï¼Œè¿™äº›æ“ä½œæ²¡æœ‰ä¸¥æ ¼çš„å…ˆåé¡ºåºï¼Œä»¥ä¸‹åˆ†åˆ«è§£é‡Šæ„å»ºDOMæ ‘ï¼šTokenizingï¼šæ ¹æ®HTMLè§„èŒƒå°†å­—ç¬¦æµè§£æä¸ºæ ‡è®°Lexingï¼šè¯æ³•åˆ†æå°†æ ‡è®°è½¬æ¢ä¸ºå¯¹è±¡å¹¶å®šä¹‰å±æ€§å’Œè§„åˆ™DOM constructionï¼šæ ¹æ®HTMLæ ‡è®°å…³ç³»å°†å¯¹è±¡ç»„æˆDOMæ ‘è§£æè¿‡ç¨‹ä¸­é‡åˆ°å›¾ç‰‡ã€æ ·å¼è¡¨ã€jsæ–‡ä»¶ï¼Œå¯åŠ¨ä¸‹è½½æ„å»ºCSSOMæ ‘ï¼šTokenizingï¼šå­—ç¬¦æµè½¬æ¢ä¸ºæ ‡è®°æµNodeï¼šæ ¹æ®æ ‡è®°åˆ›å»ºèŠ‚ç‚¹CSSOMï¼šèŠ‚ç‚¹åˆ›å»ºCSSOMæ ‘ æ ¹æ®DOMæ ‘å’ŒCSSOMæ ‘æ„å»ºæ¸²æŸ“æ ‘:ä»DOMæ ‘çš„æ ¹èŠ‚ç‚¹éå†æ‰€æœ‰å¯è§èŠ‚ç‚¹ï¼Œä¸å¯è§èŠ‚ç‚¹åŒ…æ‹¬ï¼š1ï¼‰script,metaè¿™æ ·æœ¬èº«ä¸å¯è§çš„æ ‡ç­¾ã€‚2)è¢«csséšè—çš„èŠ‚ç‚¹ï¼Œå¦‚display: noneå¯¹æ¯ä¸€ä¸ªå¯è§èŠ‚ç‚¹ï¼Œæ‰¾åˆ°æ°å½“çš„CSSOMè§„åˆ™å¹¶åº”ç”¨å‘å¸ƒå¯è§†èŠ‚ç‚¹çš„å†…å®¹å’Œè®¡ç®—æ ·å¼jsè§£æå¦‚ä¸‹ï¼šæµè§ˆå™¨åˆ›å»ºDocumentå¯¹è±¡å¹¶è§£æHTMLï¼Œå°†è§£æåˆ°çš„å…ƒç´ å’Œæ–‡æœ¬èŠ‚ç‚¹æ·»åŠ åˆ°æ–‡æ¡£ä¸­ï¼Œæ­¤æ—¶document.readystateä¸ºloading HTMLè§£æå™¨é‡åˆ°æ²¡æœ‰asyncå’Œdeferçš„scriptæ—¶ï¼Œå°†ä»–ä»¬æ·»åŠ åˆ°æ–‡æ¡£ä¸­ï¼Œç„¶åæ‰§è¡Œè¡Œå†…æˆ–å¤–éƒ¨è„šæœ¬ã€‚è¿™äº›è„šæœ¬ä¼šåŒæ­¥æ‰§è¡Œï¼Œå¹¶ä¸”åœ¨è„šæœ¬ä¸‹è½½å’Œæ‰§è¡Œæ—¶è§£æå™¨ä¼šæš‚åœã€‚è¿™æ ·å°±å¯ä»¥ç”¨document.write()æŠŠæ–‡æœ¬æ’å…¥åˆ°è¾“å…¥æµä¸­ã€‚åŒæ­¥è„šæœ¬ç»å¸¸ç®€å•å®šä¹‰å‡½æ•°å’Œæ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºï¼Œä»–ä»¬å¯ä»¥éå†å’Œæ“ä½œscriptå’Œä»–ä»¬ä¹‹å‰çš„æ–‡æ¡£å†…å®¹å½“è§£æå™¨é‡åˆ°è®¾ç½®äº†asyncå±æ€§çš„scriptæ—¶ï¼Œå¼€å§‹ä¸‹è½½è„šæœ¬å¹¶ç»§ç»­è§£ææ–‡æ¡£ã€‚è„šæœ¬ä¼šåœ¨å®ƒä¸‹è½½å®Œæˆåå°½å¿«æ‰§è¡Œï¼Œä½†æ˜¯è§£æå™¨ä¸ä¼šåœä¸‹æ¥ç­‰å®ƒä¸‹è½½ã€‚å¼‚æ­¥è„šæœ¬ç¦æ­¢ä½¿ç”¨document.write()ï¼Œå®ƒä»¬å¯ä»¥è®¿é—®è‡ªå·±scriptå’Œä¹‹å‰çš„æ–‡æ¡£å…ƒç´  å½“æ–‡æ¡£å®Œæˆè§£æï¼Œdocument.readStateå˜æˆinteractiveæ‰€æœ‰deferè„šæœ¬ä¼šæŒ‰ç…§åœ¨æ–‡æ¡£å‡ºç°çš„é¡ºåºæ‰§è¡Œï¼Œå»¶è¿Ÿè„šæœ¬èƒ½è®¿é—®å®Œæ•´æ–‡æ¡£æ ‘ï¼Œç¦æ­¢ä½¿ç”¨document.write()æµè§ˆå™¨åœ¨Documentå¯¹è±¡ä¸Šè§¦å‘DOMContentLoadedäº‹ä»¶æ­¤æ—¶æ–‡æ¡£å®Œå…¨è§£æå®Œæˆï¼Œæµè§ˆå™¨å¯èƒ½è¿˜åœ¨ç­‰å¾…å¦‚å›¾ç‰‡ç­‰å†…å®¹åŠ è½½ï¼Œç­‰è¿™äº›å†…å®¹å®Œæˆè½½å…¥å¹¶ä¸”æ‰€æœ‰å¼‚æ­¥è„šæœ¬å®Œæˆè½½å…¥å’Œæ‰§è¡Œï¼Œdocument.readStateå˜ä¸ºcomplete,windowè§¦å‘loadäº‹ä»¶æ˜¾ç¤ºé¡µé¢ï¼ˆHTMLè§£æè¿‡ç¨‹ä¸­ä¼šé€æ­¥æ˜¾ç¤ºé¡µé¢ï¼‰ æµè§ˆå™¨æ¸²æŸ“ä¸»è¦æµç¨‹HTMLè§£æå‡ºDOM TreeCSSè§£æå‡ºStyle Ruleså°†äºŒè€…å…³è”ç”ŸæˆRender TreeLayout æ ¹æ®Render Treeè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯Painting æ ¹æ®è®¡ç®—å¥½çš„ä¿¡æ¯ç»˜åˆ¶æ•´ä¸ªé¡µé¢ 12345# Q: ç½‘ç«™æ€§èƒ½ä¼˜åŒ–[åŸæ–‡](https://segmentfault.com/a/1190000013963213#articleHeader0) ä»£ç å±‚é¢ä¼˜åŒ–ï¼š ä¸€ã€åŠ è½½å’Œæ‰§è¡Œ cssæ–¹é¢ å°†æ ·å¼è¡¨æ”¾åˆ°é¡µé¢é¡¶éƒ¨ ä¸ä½¿ç”¨CSSè¡¨è¾¾å¼ ä½¿ç”¨linkä¸ä½¿ç”¨@import ä¸ä½¿ç”¨IEçš„Filter Javascriptæ–¹é¢ å°†è„šæœ¬æ”¾åˆ°é¡µé¢åº•éƒ¨,bodyæ ‡ç­¾å†…åº•éƒ¨ å°†javascriptå’Œcssä»å¤–éƒ¨å¼•å…¥ å‹ç¼©javascriptå’Œcss åˆ é™¤ä¸éœ€è¦çš„è„šæœ¬ å‡å°‘DOMè®¿é—® åˆç†è®¾è®¡äº‹ä»¶ç›‘å¬å™¨ å›¾ç‰‡æ–¹é¢ ä¼˜åŒ–å›¾ç‰‡ï¼šæ ¹æ®å®é™…é¢œè‰²éœ€è¦é€‰æ‹©è‰²æ·±ã€å‹ç¼© ä¼˜åŒ–cssç²¾çµ åˆå¹¶ä¸€äº›å°å›¾ç‰‡( css sprite )å‹ç¼©å›¾ç‰‡ å›¾ç‰‡è½¬dataUrl ä¸è¦åœ¨HTMLä¸­æ‹‰ä¼¸å›¾ç‰‡ ä¿è¯favicon.icoå°å¹¶ä¸”å¯ç¼“å­˜ å›¾ç‰‡ç¼–ç ä¼˜åŒ– äºŒã€ æ•°æ®å­˜å– - å°½é‡ä½¿ç”¨å­—é¢é‡å’Œå±€éƒ¨å˜é‡ ï¼ˆå±€éƒ¨å˜é‡åœ¨æ–¹æ³•è¿è¡Œè¿‡åä¼šè‡ªè¡Œé‡Šæ”¾ï¼Œç”¨å®Œæ‰‹åŠ¨ç½®ä¸ºnullæˆ–undefinedä¹Ÿè¡Œï¼‰ï¼Œ å‡å°‘ä½¿ç”¨å¯¹è±¡å’Œæ•°ç»„, ä¸‰ã€ DOMç¼–ç¨‹**ï¼ˆå¸¸è§çš„æ€§èƒ½ç“¶é¢ˆï¼‰ - æœ€åçš„æ–¹å¼å°±æ˜¯åœ¨å¾ªç¯ä¸­æ“ä½œæˆ–è€…è®¿é—®DOMï¼Œéå¸¸æ¶ˆè€—æ€§èƒ½ã€‚ å‡å°‘DOMæ•°é‡ - éå†dom querySelectorAll()æ˜¯è·å–å…ƒç´ æœ€å¿«çš„API è¿”å›çš„æ˜¯ä¸€ä¸ªNodeList querySelector() è¿”å›çš„æ˜¯element, querySelectorAll()è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯å¯ä»¥åŒæ—¶è·å–ä¸¤ç±»å…ƒç´  - é‡ç»˜å’Œé‡æ’éƒ½æ˜¯ä»£ä»·æ˜‚è´µï¼›å°½é‡å‡å°‘ é‡æ’ä½•æ—¶å‘ç”Ÿï¼š 1.æ·»åŠ æˆ–åˆ é™¤å¯è§DOMå…ƒç´  2.å…ƒç´ ä½ç½®æ”¹å˜ 3.å…ƒç´ å°ºå¯¸æ”¹å˜ï¼ˆå†…å¤–è¾¹è·ã€è¾¹æ¡†åšå®½é«˜ç­‰ï¼‰ 4.å†…å®¹æ”¹å˜ ï¼ˆå†…å®¹å¯¼è‡´å°ºå¯¸å˜åŒ–çš„æ—¶å€™ï¼‰ 5.é¡µé¢æ¸²æŸ“å™¨åˆå§‹åŒ– 6.æµè§ˆå™¨çª—å£å°ºå¯¸å˜åŒ– å››ã€ ç®—æ³•å’Œæµç¨‹æ§åˆ¶ - å¾ªç¯ (å½“å¾ªç¯ä½“å¤æ‚åº¦ä¸ºXæ—¶ï¼Œä¼˜åŒ–æ–¹æ¡ˆä¼˜å…ˆå‡å°‘å¾ªç¯ä½“çš„å¤æ‚åº¦ï¼Œ å¾ªç¯ä½“å¤æ‚åº¦å¤§äºXæ—¶ï¼Œä¼˜åŒ–æ–¹æ¡ˆä¼˜å…ˆå‡å°‘è¿­ä»£æ¬¡æ•° ) - æ¡ä»¶è¯­å¥ å½“æ¡ä»¶è¾ƒå°‘æ—¶ ä½¿ç”¨if-elseæ›´æ˜“è¯»ï¼Œ è€Œå½“æ¡ä»¶è¾ƒå¤šæ—¶if-elseæ€§èƒ½è´Ÿæ‹…æ¯”switchå¤§ï¼Œæ˜“è¯»æ€§ä¹Ÿæ²¡switchå¥½ã€‚ ä¼˜åŒ–if-elseçš„æ–¹æ³•æ˜¯ï¼šå°½å¯èƒ½çš„æŠŠå¯èƒ½å‡ºç°çš„æ¡ä»¶æ”¾åœ¨é¦–ä½ï¼Œ äº”ã€ å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼ - å­—ç¬¦ä¸² joinæ˜¯æ¯”è¾ƒå¿«çš„ï¼Œä¹Ÿæ˜¯å¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥çš„å”¯ä¸€é«˜æ•ˆæ–¹å¼ å…­ã€ å¿«é€Ÿå“åº”çš„ç”¨æˆ·ç•Œé¢ - æµè§ˆå™¨UIçº¿ç¨‹ æµè§ˆå™¨é™åˆ¶JavaScriptä»»åŠ¡çš„è¿è¡Œæ—¶é—´ï¼Œé™åˆ¶ä¸¤åˆ†é’Ÿï¼Œ å¯ä»¥é˜²æ­¢æ¶æ„ä»£ç ä¸æ–­æ‰§è¡Œæ¥é”å®šä½ çš„æµè§ˆå™¨ å•ä¸ªJavaScriptæ“ä½œçš„èŠ±è´¹æ€»æ—¶é—´åº”è¯¥å°äºç­‰äº100msï¼Œ è¿™å°±æ„å‘³ç€åœ¨100mså†…å“åº”ç”¨æˆ·çš„æ“ä½œï¼Œä¸ç„¶å°±ä¼šè®©ç”¨æˆ·æ„Ÿå—åˆ°è¿Ÿé’æ„Ÿ - å®šæ—¶å™¨è®©å‡ºæ—¶é—´ç‰‡æ–­ ä½¿ç”¨æ—¶é—´æˆ³è®¡ç®—è·å¾—ç¨‹åºè¿è¡Œæ—¶é—´ï¼Œ ä»¥ä¾¿å¿«é€Ÿæ‰¾åˆ°è¿è¡Œæ—¶é—´è¾ƒé•¿çš„ä»£ç éƒ¨åˆ†è¿›è¡Œä¼˜åŒ– ä¸ƒã€ Ajax - æ•°æ®ä¼ è¾“ æ•°æ®çš„ä¼ è¾“åŒæ ·å½±å“æ€§èƒ½ - æ•°æ®æ ¼å¼ - Ajaxæ€§èƒ½ é¿å…ä¸å¿…è¦çš„è¯·æ±‚ï¼š ä½¿Ajaxå¯ç¼“å­˜ï¼šæœåŠ¡ç«¯è®¾ç½®HTTPå¤´ä¿¡æ¯ç¡®ä¿å“åº”ä¼šè¢«æµè§ˆå™¨ç¼“å­˜ å®¢æˆ·ç«¯è®²è·å–çš„ä¿¡æ¯å­˜åˆ°æœ¬åœ°é¿å…å†æ¬¡è¯·æ±‚ ï¼ˆlocalstorage sessionstorage cookiceï¼‰ è®¾ç½®HTTPå¤´ä¿¡æ¯ï¼Œexpiresgaosuå‘Šè¯‰æµè§ˆå™¨ç¼“å­˜å¤šä¹… å‡å°‘HTTPè¯·æ±‚ï¼Œåˆå¹¶cssã€jsã€å›¾ç‰‡èµ„æºæ–‡ä»¶ç­‰æˆ–ä½¿ç”¨MXHR é€šè¿‡æ¬¡è¦æ–‡ä»¶ç”¨Ajaxè·å–å¯ç¼©çŸ­é¡µé¢åŠ è½½æ—¶é—´ å‡å°cookieå¤§å° å¼•å…¥èµ„æºçš„åŸŸåä¸è¦åŒ…å«cookie å…«ã€ç¼–ç¨‹å®è·µ - é¿å…åŒé‡æ±‚å€¼ eval()ã€Functionæ…ç”¨ï¼Œ å®šæ—¶å™¨ç¬¬ä¸€ä¸ªå‚æ•°å»ºè®®å‡½æ•°è€Œä¸æ˜¯å­—ç¬¦ä¸²éƒ½èƒ½é¿å…å­—ç¬¦ä¸²åŒé‡æ±‚å€¼ - ä½¿ç”¨å¯¹è±¡æˆ–è€…æ•°ç»„ç›´æ¥é‡ - é¿å…é‡å¤å·¥ä½œ A:å»¶è¿ŸåŠ è½½ï¼ˆæ‡’åŠ è½½ï¼‰ B:æ¡ä»¶é¢„åŠ è½½ - ä½¿ç”¨JavaScripté€Ÿåº¦å¿«çš„éƒ¨åˆ† A.ä½æ“ä½œ B.åŸç”Ÿæ–¹æ³•ï¼Œé¦–å…ˆåŸç”Ÿæ–¹æ³•æ˜¯æœ€å¿«çš„ï¼Œè€Œä¸”æµè§ˆå™¨ä¼šç¼“å­˜éƒ¨åˆ†åŸç”Ÿæ–¹æ³• C.å¤æ‚è®¡ç®—æ—¶å¤šä½¿ç”¨Mathå¯¹è±¡ D.querySelectorå’ŒquerySelectorAllæ˜¯æŸ¥è¯¢æœ€å¿«çš„ ä¹ã€ æ„å»ºå¹¶éƒ¨ç½²é«˜æ€§èƒ½JavaScriptåº”ç”¨ 1.åˆå¹¶å¤šä¸ªjsæ–‡ä»¶ 2.é¢„å¤„ç†jsæ–‡ä»¶ 3.jså‹ç¼© 4.jsçš„HTTPå‹ç¼© 5.ç¼“å­˜jsæ–‡ä»¶ 6.å¤„ç†ç¼“å­˜é—®é¢˜ 7.ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰ ç§»åŠ¨æ–¹é¢ ä¿è¯ç»„ä»¶å°äº25k Pack Components into a Multipart Document contentæ–¹é¢ æŒ‰éœ€åŠ è½½èµ„æº éå¿…é¡»ç»„ä»¶å»¶è¿ŸåŠ è½½ æœªæ¥æ‰€éœ€ç»„ä»¶é¢„åŠ è½½ åœ¨ç½‘ç«™ HTML ä¸­çš„é“¾æ¥å±æ€§ä¸Šå¢åŠ  rel=â€prefetchâ€,rel=â€dns-prefetchâ€ï¼Œæˆ–è€… rel=â€prerenderâ€ æ ‡è®°ã€‚ å°†èµ„æºæ”¾åˆ°ä¸åŒçš„åŸŸä¸‹ï¼šæµè§ˆå™¨åŒæ—¶ä»ä¸€ä¸ªåŸŸä¸‹è½½èµ„æºçš„æ•°ç›®æœ‰é™ï¼Œå¢åŠ åŸŸå¯ä»¥æé«˜å¹¶è¡Œä¸‹è½½é‡ å‡å°‘iframeæ•°é‡ ä¸è¦404 Serveræ–¹é¢ ä½¿ç”¨CDN å‡å°‘DNSæŸ¥è¯¢ï¼šDNSæŸ¥è¯¢å®Œæˆä¹‹å‰æµè§ˆå™¨ä¸èƒ½ä»è¿™ä¸ªä¸»æœºä¸‹è½½ä»»ä½•ä»»ä½•æ–‡ä»¶ã€‚ æ–¹æ³•ï¼šDNSç¼“å­˜ã€å°†èµ„æºåˆ†å¸ƒåˆ°æ°å½“æ•°é‡çš„ä¸»æœºåï¼Œå¹³è¡¡å¹¶è¡Œä¸‹è½½å’ŒDNSæŸ¥è¯¢ é¿å…é‡å®šå‘ï¼šå¤šä½™çš„ä¸­é—´è®¿é—® ç”¨dns-prefetch &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//mat1.gtimg.com&quot;&gt; åŠ¨é™åˆ†ç¦» ä½¿ç”¨nginxçš„åå‘ä»£ç†ï¼Œå¯¹é™æ€èµ„æºçš„è¯·æ±‚ç›´æ¥nginxå¤„ç†ï¼Œæˆ–æ”¾åˆ°CDN åŠ¨æ€è¯·æ±‚è½¬å‘ç»™tomcatå¤„ç† æ·»åŠ Expiresæˆ–è€…Cache-Controlå“åº”å¤´ å¯¹ç»„ä»¶ä½¿ç”¨Gzipå‹ç¼© Brotli æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–°çš„æ–‡ä»¶å‹ç¼©ç®—æ³•ï¼Œç›®å‰æ­£å˜å¾—è¶Šæ¥è¶Šå—æ¬¢è¿ã€‚ é…ç½®ETag Flush Buffer Early Ajaxä½¿ç”¨GETè¿›è¡Œè¯·æ±‚ é¿å…ç©ºsrcçš„imgæ ‡ç­¾ åã€ å·¥å…· è‹¥æ˜¯æ‰“åŒ…çš„ä»£ç å°½å¯èƒ½åˆ‡å‰²æˆå¤šä¸ª chunk ,å‡å°‘å•ä¸€ chunk è¿‡å¤§ HTTPçš„ç¼“å­˜å¤´ä½¿ç”¨çš„åˆç† å‡å°ç¬¬ä¸‰æ–¹åº“çš„ä¾èµ– å¯¹äºä»£ç åº”è¯¥è€ƒè™‘æ€§èƒ½æ¥ç¼–å†™,æ¯”å¦‚ä½¿ç”¨ requestAnimationFrame ç»˜åˆ¶åŠ¨ç”»,å°½å¯èƒ½å‡å°‘é¡µé¢é‡ç»˜(DOM æ”¹å˜) æ¸è¿›å‡çº§,å¼•å…¥ preload è¿™äº›é¢„åŠ è½½èµ„æº çœ‹æƒ…å†µç”¨ server worker æ¥ç¼“å­˜èµ„æº(æ¯”å¦‚ç§»åŠ¨ç«¯æ‰“ç®—æ PWA) æ¯”å¦‚ä»æœåŠ¡ç«¯ç€æ‰‹: å¸¦å®½,åŸŸåè§£æ, å¤šåŸŸåè§£æç­‰ ä½¿ç”¨è´Ÿè½½å‡è¡¡æ–¹æ¡ˆ å¤šèŠ‚ç‚¹éƒ¨ç½² é¡µé¢åšæœåŠ¡ç«¯æ¸²æŸ“,å‡å°å¯¹æµè§ˆå™¨çš„ä¾èµ–(ä¸ç”¨å®¢æˆ·ç«¯è§£æ) æ¸è¿›å‡çº§,æ¯”å¦‚å¼•å…¥ HTTP2(å¤šè·¯å¤ç”¨,å¤´éƒ¨å‹ç¼©è¿™äº›å¯ä»¥æ˜æ˜¾åŠ å¿«åŠ è½½é€Ÿåº¦) å½“ç„¶,è¿™æ˜¯è¿™äº›éƒ½æ˜¯å¾ˆç‰‡é¢çš„ç‚¹åˆ°...å®é™…å·¥ä½œä¸­å»å¼€å±•è¦å¤æ‚çš„å¤š; ä½¿ç”¨ç´¢å¼•åŠ é€Ÿæ•°æ®åº“æŸ¥è¯¢ é¡µé¢é™æ€åŒ–CMS å¤šä¸ªç»´åº¦è€ƒè™‘,ä¼˜åŒ– DOM ç»˜åˆ¶æ—¶é—´,èµ„æºåŠ è½½æ—¶é—´,åŸŸåè§£æè¿™äº›; è¦å…¨é¢çš„ä¼˜åŒ–ä¸€ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ªå¤§å·¥ç¨‹â€¦ 123# ä¼˜é›…é™çº§å’Œæ¸è¿›å¢å¼º ä¼˜é›…é™çº§ï¼šWebç«™ç‚¹åœ¨æ‰€æœ‰æ–°å¼æµè§ˆå™¨ä¸­éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œå¦‚æœç”¨æˆ·ä½¿ç”¨çš„æ˜¯è€å¼æµè§ˆå™¨ï¼Œåˆ™ä»£ç ä¼šæ£€æŸ¥ä»¥ç¡®è®¤å®ƒä»¬æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œã€‚é’ˆå¯¹ä¸åŒç‰ˆæœ¬çš„hackä¸ºé‚£äº›æ— æ³•æ”¯æŒåŠŸèƒ½çš„æµè§ˆå™¨å¢åŠ å€™é€‰æ–¹æ¡ˆï¼Œä½¿ä¹‹åœ¨æ—§å¼æµè§ˆå™¨ä¸Šä»¥æŸç§å½¢å¼é™çº§ä½“éªŒå´ä¸è‡³äºå®Œå…¨å¤±æ•ˆ. æ¸è¿›å¢å¼ºï¼šä»è¢«æ‰€æœ‰æµè§ˆå™¨æ”¯æŒçš„åŸºæœ¬åŠŸèƒ½å¼€å§‹ï¼Œé€æ­¥åœ°æ·»åŠ é‚£äº›åªæœ‰æ–°å¼æµè§ˆå™¨æ‰æ”¯æŒçš„åŠŸèƒ½,å‘é¡µé¢å¢åŠ æ— å®³äºåŸºç¡€æµè§ˆå™¨çš„é¢å¤–æ ·å¼å’ŒåŠŸèƒ½çš„ã€‚å½“æµè§ˆå™¨æ”¯æŒæ—¶ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨åœ°å‘ˆç°å‡ºæ¥å¹¶å‘æŒ¥ä½œç”¨ã€‚ ä¿è¯æ‰€æœ‰äººéƒ½èƒ½è®¿é—®é¡µé¢çš„åŸºæœ¬å†…å®¹å’ŒåŠŸèƒ½åŒæ—¶ä¸ºé«˜çº§æµè§ˆå™¨å’Œé«˜å¸¦å®½ç”¨æˆ·æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ 123# jsæ§åˆ¶css3åŠ¨ç”» å¼€å§‹äº‹ä»¶ AnimationStartç»“æŸäº‹ä»¶ AnimationEndé‡å¤è¿åŠ¨äº‹ä»¶ AnimationIteration æ¯æ¬¡å¼€å§‹åŠ¨ç”»è¿­ä»£éƒ½è§¦å‘animationiteration W3cæ ‡å‡†ï¼šanimationstart animationiteration animationendWebkitï¼šwebkitAnimationStart webkitAnimationIteration webkitAnimationEndFirefoxï¼šanimationstart animationiteration animationendOperaï¼šanimationstart animationiteration animationendIE10ï¼šMSAnimationStart MSAnimationIteration MSAnimationEnd var e = document.getElementById(â€œleft1â€); e.addEventListener(â€œanimationendâ€, function() { alert(â€˜css3è¿åŠ¨ç»“æŸï¼â€™);}); 1234567891011121314151617181920212223242526272829303132333435363738394041424344# Objectå¾ªç¯key- for...inå¾ªç¯ï¼šåªéå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾çš„å±æ€§ã€‚ é€šå¸¸ç”¨for inæ¥éå†å¯¹è±¡çš„é”®å for inæ›´é€‚åˆéå†å¯¹è±¡ï¼Œä¸è¦ä½¿ç”¨for inéå†æ•°ç»„ã€‚for in å¾ªç¯ä¼šæŠŠæ•°ç»„å…¶ä»–æ‰©å±•æ–¹æ³•ä¹Ÿå¾ªç¯- for oféå†çš„åªæ˜¯æ•°ç»„å†…çš„å…ƒç´ ï¼Œè€Œä¸åŒ…æ‹¬æ•°ç»„çš„åŸå‹å±æ€§methodå’Œç´¢å¼•namefor-ofå¾ªç¯æ˜¯éå†å®ç°iteratoræ¥å£çš„æˆå‘˜åªè¦æ˜¯ä¸€ä¸ªå¯¹è±¡éƒ¨ç½²äº†Symbol.interatoræ¥å£ï¼Œå°±å¯ä»¥ç”¨for...oféå†è¯¥å¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è°ƒç”¨è¯¥æ¥å£çš„Symbol.interatoræ–¹æ³•è°ƒç”¨next()æ–¹æ³•å¯¹å¯¹è±¡è¿›è¡Œéå†ï¼Œä¸åŒçš„æ˜¯for..ofæ˜¯å¯¹è¯¥å¯¹è±¡çš„å€¼çš„è¾“å‡ºï¼Œè€Œnext()è¿”å›çš„æ˜¯å¯¹è±¡ã€‚åœ¨ES6ä¸­ï¼Œæœ‰ä¸‰ç±»æ•°æ®ç»“æ„åŸç”Ÿå…·å¤‡Iteratoræ¥å£ï¼šæ•°ç»„ã€æŸäº›ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€Setå’ŒMapç»“æ„ã€‚- Object.keys()ï¼šè¿”å›å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾çš„å±æ€§çš„é”®åã€‚- JSON.stringify()ï¼šåªä¸²è¡ŒåŒ–å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ã€‚- Object.assign()ï¼š å¿½ç•¥enumerableä¸ºfalseçš„å±æ€§ï¼Œåªæ‹·è´å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ã€‚- ==for...inå¾ªç¯å‡ºçš„æ˜¯keyï¼Œfor...ofå¾ªç¯å‡ºçš„æ˜¯value==- ==for...ofä¸èƒ½å¾ªç¯æ™®é€šçš„å¯¹è±¡ï¼Œéœ€è¦é€šè¿‡å’ŒObject.keys()æ­é…ä½¿ç”¨==-å¦‚æœå®åœ¨æƒ³ç”¨for...ofæ¥éå†æ™®é€šå¯¹è±¡çš„å±æ€§çš„è¯ï¼Œå¯ä»¥é€šè¿‡å’ŒObject.keys()æ­é…ä½¿ç”¨ï¼Œå…ˆè·å–å¯¹è±¡çš„æ‰€æœ‰keyçš„æ•°ç»„ç„¶åéå†ï¼š## ç»“è®º1. æ¨èåœ¨å¾ªç¯å¯¹è±¡å±æ€§çš„æ—¶å€™ï¼Œä½¿ç”¨for...in,åœ¨éå†æ•°ç»„çš„æ—¶å€™çš„æ—¶å€™ä½¿ç”¨for...ofã€‚2. for...inå¾ªç¯å‡ºçš„æ˜¯keyï¼Œfor...ofå¾ªç¯å‡ºçš„æ˜¯value3. æ³¨æ„ï¼Œfor...ofæ˜¯ES6æ–°å¼•å…¥çš„ç‰¹æ€§ã€‚ä¿®å¤äº†ES5å¼•å…¥çš„for...inçš„ä¸è¶³4. for...ofä¸èƒ½å¾ªç¯æ™®é€šçš„å¯¹è±¡ï¼Œéœ€è¦é€šè¿‡å’ŒObject.keys()æ­é…ä½¿ç”¨è®°å¿†jueqiao :å·²æ ¸å¯¹ å¶æ•°vin hï¼ˆkï¼‰å¯¹è±¡ o æ•°ç»„ value å¦‚æœå®åœ¨æƒ³ç”¨forâ€¦ofæ¥éå†æ™®é€šå¯¹è±¡çš„å±æ€§çš„è¯ï¼Œå¯ä»¥é€šè¿‡å’ŒObject.keys()æ­é…ä½¿ç”¨ï¼Œå…ˆè·å–å¯¹è±¡çš„æ‰€æœ‰keyçš„æ•°ç»„ç„¶åéå†ï¼š var student={ name:â€™wujunchuanâ€™, age:22, locate:{ country:â€™chinaâ€™, city:â€™xiamenâ€™, school:â€™XMUTâ€™ }}for(var key of Object.keys(student)){ //ä½¿ç”¨Object.keys()æ–¹æ³•è·å–å¯¹è±¡keyçš„æ•°ç»„ console.log(key+â€: â€œ+student[key]);} for in å¯ä»¥éå†åˆ°myObjectçš„åŸå‹æ–¹æ³•method,å¦‚æœä¸æƒ³éå†åŸå‹æ–¹æ³•å’Œå±æ€§çš„è¯ï¼Œå¯ä»¥åœ¨å¾ªç¯å†…éƒ¨åˆ¤æ–­ä¸€ä¸‹,hasOwnProperyæ–¹æ³•å¯ä»¥åˆ¤æ–­æŸå±æ€§æ˜¯å¦æ˜¯è¯¥å¯¹è±¡çš„å®ä¾‹å±æ€§ for (var key in myObject) { ifï¼ˆmyObject.hasOwnProperty(key)){ console.log(key); }}","link":"/posts/%E5%89%8D%E7%AB%AF%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/"},{"title":"æ¸…æ–°å†¥æƒ³","text":"[TOC] ç¬¬ä¸€èŠ‚â€“åˆè¯†å†¥æƒ³å†¥æƒ³ç»ƒä¹ çš„ç‰¹ç‚¹å†¥æƒ³ä¸ä»»ä½•ç»„ç»‡å®—æ•™æ— å…³ï¼Œé€‚ç”¨äºæ¯ä¸ªäººä½œç”¨: èƒ½å¤Ÿç¼“è§£å‹åŠ›ï¼Œç¼“è§£ç„¦è™‘ï¼Œæ”¹å–„ç¡çœ ï¼Œæé«˜å·¥ä½œæ•ˆç‡ï¼Œä¸èº«è¾¹çš„äººå’Œäº‹å»ºç«‹æ›´å¥½çš„è”ç³»ç­‰ å®¹æ˜“ä¸Šæ‰‹ è½»æ¾æŒæ¡ç®€æ´æœ‰æ•ˆï¼Œæ¯å¤©åªéœ€ååˆ†é’Ÿ å†¥æƒ³çš„åŸç†æ˜¯ä»€ä¹ˆï¼Œé€šè¿‡ä»€ä¹ˆå‘æŒ¥ä½œç”¨ ç­”æ¡ˆæ˜¯æ­£å¿µ ä»€ä¹ˆæ˜¯â€æ­£å¿µâ€é€šè¿‡ä¸“æ³¨ï¼Œæ¿€å‘å¿ƒçµçš„åŠ›é‡ ä»Šå¿ƒä¸ºå¿µï¼Œæ´»åœ¨å½“ä¸‹çš„å¿ƒå°±æ˜¯å¿µã€‚ ä¸ä¹‹ç›¸å¯¹çš„ï¼Œè¿˜æœ‰ä¸¤ç§çŠ¶æ€: æ´»åœ¨æ˜¨å¤©å’Œæ´»åœ¨æ˜å¤©,æ˜¯å¼•å‘è´Ÿé¢æƒ…ç»ªçš„æ ¹æº æ´»åœ¨æ˜¨å¤©ä¼šæƒ³èµ·å¯¹æ—¶é—´çš„è’åºŸï¼Œä¸ä»–äººçš„äº‰æ‰§ï¼Œå­¦ä¹ å’Œå·¥ä½œçš„ä¸é¡ºï¼Œä»è€Œæ„Ÿåˆ°æ²®ä¸§å’Œåæ‚” æ´»åœ¨æ˜å¤©ä¼šå°è¯•è§„åˆ’æœªæ¥ï¼Œè®¾æƒ³è®¸å¤šè¿˜æ²¡å‘ç”Ÿçš„äº‹ï¼Œå°åˆ°å®¶é•¿é‡ŒçŸ­ï¼Œå¤§åˆ°å›½å®¶å¤§äº‹ï¼Œå€æ„Ÿå‹åŠ›ç„¦è™‘ å¦‚æœå¿ƒæ€»åœ¨è¿‡å»å’Œæœªæ¥ä¹‹é—´æ‘‡æ‘†ï¼Œå°±ä¼šå¿½è§†æœ€é‡è¦çš„å½“ä¸‹ æ­£å¿µè¦åšçš„å°±æ˜¯é€šè¿‡åˆ»æ„çš„å¼•å¯¼ï¼Œå¸®ä½ çš„æ³¨æ„åŠ›å‡èšèµ·æ¥ï¼ŒæŠŠå†…å¿ƒä»è¿‡å»å’Œæœªæ¥çš„æ‹‰æ‰¯ä¸­è§£è„±å‡ºæ¥ï¼Œå›å½’å½“ä¸‹ï¼Œè€Œä¸æ˜¯é€ƒé¿ç°å® åœ¨å†¥æƒ³çš„ç»å…¸ç»ƒä¹ ä¸­ï¼Œæ­£å¿µå‘¼å¸æœ€å®¹æ˜“æŒæ¡ æ­£å¿µå‘¼å¸çš„ç»ƒä¹ è¦ç‚¹æƒ³è±¡è‡ªå·±å¤„äºä¸€ä¸ªå®‰é™ï¼Œä¸ä¼šè¢«æ‰“æ‰°çš„åœ°æ–¹æ‰¾ä¸€ä¸ªæœ‰é èƒŒçš„åœ°æ–¹åä¸‹ ç°åœ¨é—­ä¸Šä½ çš„åŒçœ¼ï¼ŒæŒºç›´ä¸Šèº«ï¼Œè½»è½»æŠ¬èµ·å¤´ç”±ä¸‹è‡³ä¸Šç”¨å¿ƒæ„Ÿå—ä½ çš„è…¿éƒ¨ï¼Œè‡€éƒ¨ï¼Œè…°éƒ¨ï¼ŒèƒŒéƒ¨æ…¢æ…¢çš„ä½ ä¼šæ„Ÿè§‰åˆ°è‚Œè‚‰çš„é…¸ç—›è¿™æ˜¯æ­£å¸¸çš„ç°è±¡å› ä¸ºç—›æ˜¯æ„ŸçŸ¥æˆ‘ä»¬èº«ä½“çš„ä¸»è¦æ–¹å¼ï¼Œ å°†æ³¨æ„åŠ›é›†ä¸­åˆ°é¼»å­è®©æˆ‘ä»¬å¼€å§‹åšå‡ æ¬¡æ·±å‘¼å¸ è®©è‡ªå·±æ²‰æµ¸åœ¨æ­¤æ—¶æ­¤åˆ»æ·±å¸ä¸€å£æ°”ç„¶åæ·±æ·±å‘¼æ°”åå¤å‘¼å¸å‡ æ¬¡è®©ä½ ç°åœ¨çš„ç´§å¼ æ„Ÿå¾—åˆ°å®Œå…¨çš„é‡Šæ”¾ å½“ä½ å˜çš„å¹³é™å°±è®©å‘¼å¸å›åˆ°æ™®é€šçŠ¶æ€ ä¿æŒè‡ªç„¶çš„å‘¼å¸ä¸è¦è¯•å›¾å»æ”¹å˜å‘¼å¸çš„èŠ‚å¥æŠŠæ³¨æ„åŠ›é™„å±åœ¨ä½ çš„å‘¼å¸ä¸Šé¡ºç€ç©ºæ°”è¿›å…¥ä½ çš„èº«ä½“ æ„Ÿå—èº«ä½“å“ªä¸ªéƒ¨ä½æœ€å¼ºçƒˆå¯èƒ½æ˜¯ä¸Šä¸‹èµ·ä¼çš„è…¹éƒ¨æˆ–è€…è‚ºéƒ¨ä¹Ÿå¯èƒ½æ˜¯å†·çš„æˆ–çƒ­çš„ç©ºæ°”ç»è¿‡é¼»è…” æŠŠæ³¨æ„åŠ›æ”¾åœ¨ä½ èº«ä½“æ„Ÿè§‰æœ€å¼ºçƒˆçš„éƒ¨ä½å¹¶æŠŠå…¨éƒ¨æ³¨æ„åŠ›æ”¾åœ¨é‚£é‡Œ è·Ÿéšä½ çš„å‘¼å¸ä¸€ç›´åˆ°æ¯ä¸€æ¬¡å¸æ°”çš„æœ«ç«¯ å½“å¸æ°”ç»“æŸçš„æ—¶å€™å†ä¸€è·¯è·Ÿéšå‘¼æ°”ï¼Œç›´åˆ°ç»“æŸ ä½ å¯èƒ½ä¼šå‡ºç°èµ°ç¥å—åˆ°ä¸€äº›å…³äºè¿‡å»å’Œæœªæ¥æƒ³æ³•çš„å¹²æ‰°å¼€å§‹ä¸ç”±è‡ªä¸»çš„è¯„åˆ¤å’Œæ€è€ƒæ²¡æœ‰å…³ç³» å½“ä½ æ„è¯†åˆ°è‡ªå·±èµ°ç¥æ—¶ä¸éœ€è¦è¯„ä»·è¿™æ ·æ˜¯å¥½æ˜¯å åªéœ€è¦å°†æ³¨æ„åŠ›å†è½¬ç§»åˆ°å‘¼å¸ä¸Š å¯ä»¥é€šè¿‡è®¡æ•°æ–¹å¼å¸æ°”æ•°ä¸€ï¼Œå‘¼æ°”æ•°äºŒä¸€å¸æ°”ï¼ŒäºŒå‘¼æ°” è¯·æŒ‰è‡ªå·±å–œæ¬¢çš„èŠ‚å¥å‘¼å¸ä¸€æ®µæ—¶é—´ä»”ç»†è§‚å¯Ÿæ¯ä¸€æ®µçš„å‘¼å¸çš„é•¿åº¦å˜åŒ–ï¼ŒåŠ›åº¦å˜åŒ– æ„Ÿå—å‘¼å¸å¦‚ä½•å¸¦åŠ¨èº«ä½“ ç°åœ¨èŠ±ä¸€ç‚¹æ—¶é—´æ¥ç•™æ„ä¸€ä¸‹èº«ä½“çš„æ„Ÿè§‰è¯·æ”¾æ¾å¿ƒæƒ… ä¸è¦åˆ»æ„è¯„åˆ¤è¿™æ¬¡ç»ƒä¹ çš„æ•ˆæœå› ä¸ºè¿™ä¼šä¸ºä½ å¢æ·»æ–°çš„è´Ÿæ‹… ç»ƒä¹ å°±æ˜¯æœ€å¥½çš„å­¦ä¹  å½“ä½ ç»§ç»­å†¥æƒ³å­¦ä¹ ä¸ä»…ç»ƒä¹ æœ¬èº«ä¼šå˜å¾—è¶Šæ¥è¶Šç®€å•å‹åŠ›å’Œç„¦è™‘ä¹Ÿä¼šé€æ¸æ¶ˆå¤± æœ¬æ¬¡ç»ƒä¹ å·²æ¥è¿‘å°¾å£°æŠŠæ³¨æ„åŠ›å›åˆ°ä½ æ‰€å¤„çš„ç¯å¢ƒ è½»è½»æ´»åŠ¨ä½ çš„æ‰‹æŒ‡ï¼Œè„šè¶¾èˆ’å±•èº«ä½“æ…¢æ…¢çš„çå¼€çœ¼ç› ç¥è´ºä½ ï¼Œä½ å·²ç»æˆåŠŸçš„å®Œæˆäº†ä¸€æ¬¡å†¥æƒ³ç»ƒä¹  åœ¨è¿‡å»çš„ååˆ†é’Ÿé‡ŒæŒæ¡äº†æ­£å¿µçš„æ ¸å¿ƒæ€æƒ³-ä¸“æ³¨å½“ä¸‹é€šè¿‡å‘¼å¸ç»ƒä¹ çš„æ–¹å¼å®Œæˆäº†å¯¹èº«ä½“çš„æ„ŸçŸ¥å’Œå¯¹æ³¨æ„åŠ›çš„æ“æ§ ç¬¬äºŒèŠ‚ å†¥æƒ³çš„æœ¬è´¨å½“ä¸‹æŒ‡çš„æ˜¯æ­¤æ—¶æ­¤åˆ»ï¼Œæ³¨æ„åŠ›éœ€è¦é›†ä¸­çš„åœ°æ–¹ æ€æ ·æ‰ç®—â€œä¸“æ³¨å½“ä¸‹â€å…¨ç¥è´¯æ³¨ï¼ŒæŠŠæ³¨æ„åŠ›é›†ä¸­åˆ°æ­£åœ¨åšçš„äº‹æƒ…ä¸Šã€‚æ‹’ç»ä¸€å¿ƒå¤šç”¨ äººå¹¶ä¸æ€»æ˜¯æ´»åœ¨å½“ä¸‹ï¼Œèµ°ç¥æ˜¯æˆ‘ä»¬çš„å¸¸æ€ å¯¼è‡´èµ°ç¥çš„ä¸‰å¤§åŸå› å‘è¾¾çš„æ„Ÿå®˜æ¥æ”¶å¤§é‡ä¸éœ€è¦çš„ä¿¡æ¯ä¸°å¯Œçš„è”æƒ³äº§ç”Ÿæºæºä¸æ–­çš„æ‚å¿µ â€“è”æƒ³å¶å°”ä¼šå¸¦æ¥çµæ„Ÿï¼Œä½†ä¼šè€—è´¹ç²¾åŠ›ï¼Œå æ®æ—¶é—´ï¼Œæ˜æ˜æ²¡æœ‰å·æ‡’ï¼Œæ‰‹å¤´ä¸Šçš„äº‹å´æ²¡åšå¤šå°‘ä¸ºäº†é€ƒé¿å‹åŠ›ï¼Œé€šè¿‡å‘å‘†æ”¾ç©ºè‡ªå·± â€“é€šè¿‡æ”¾ç©ºç¼“è§£å‹åŠ›ï¼Œåªæ˜¯è‡ªæˆ‘å®‰æ…°ï¼Œå‘å‘†çš„åŒæ—¶æ—¶é—´åœ¨æµé€ï¼Œæœ€åå·¥ä½œè¿˜è¦åš ä»Šååœ¨é‡åˆ°è¿™ç§æƒ…å†µï¼Œä¸è¦è‡ªè´£åªéœ€è¦å°†æ³¨æ„åŠ›æ‹‰å›åˆ°å½“å‰åœ¨åšçš„äº‹æƒ…ä¸Š å†¥æƒ³ç»ƒä¹ çš„æœ¬è´¨å†¥æƒ³ç»ƒä¹ æ‰€åšçš„ï¼Œå°±æ˜¯åå¤å°†æ³¨æ„åŠ›ä»å…¶ä»–åœ°æ–¹æ‹½å›å½“ä¸‹ã€‚å› æ­¤å†¥æƒ³å¯ä»¥èå…¥åˆ°æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæ— æ—¶ä¸åˆ»çš„ç»ƒä¹ ã€‚ ç»ƒä¹ æ˜¯æœ€å¥½çš„å­¦ä¹  ç¬¬ä¸‰èŠ‚ ä¹”å¸ƒæ–¯ä¸å†¥æƒ³ä¹”å¸ƒæ–¯çš„å†¥æƒ³è¿‡ç¨‹é›†ä¸­æ³¨æ„åŠ›ï¼Œè®©æ€æƒ³å¹³é™ æ€æƒ³ä¸ä¼šè½»æ˜“å¹³é™ï¼Œéœ€è¦è€å¿ƒç­‰å¾… å½“å¹³é™åˆ°æ¥ï¼Œç›´è§‰å°±ä¼šå˜å¾—çµæ•ï¼Œçœ‹åˆ°æ›´åŠ å¹¿é˜”çš„ä¸–ç•Œ ä¸“æ³¨å½“ä¸‹çš„å¥½å¤„è¿œç¦»æµ®èºï¼Œè¿›å…¥å¹³é™çš„å†…å¿ƒçŠ¶æ€æ¿€æ´»ç›´è§‰ï¼Œè·å¾—æ›´åŠ çµæ•çš„æ„ŸçŸ¥æ´å¯Ÿç»†èŠ‚ï¼Œé€šè¿‡ä¿¡æ¯å·®å†³å®šæˆè´¥ å¿ƒæ€€æ„Ÿæ©æ¬²æœ›æŒç»­è†¨èƒ€ï¼Œä¸€å‘³ç´¢å–åªä¼šåœ¨æ‰“åˆ°ç›®æ ‡åè·å¾—çŸ­æš‚çš„å¹¸ç¦ï¼Œæ›´å¤šæ—¶é—´é™·å…¥äº†äº†æ±‚è€Œä¸å¾—çš„ç—›è‹¦å’Œç„¦è™‘å½“ä¸­ã€‚ æ„è¯†åˆ°å¹¶é‡è§†æˆ‘ä»¬å·²ç»æ‹¥æœ‰çš„ä¸€åˆ‡ï¼Œå†…å¿ƒçš„å……ç›ˆä¸çŸ¥è¶³ï¼ŒåŒæ ·ä¼šå¸¦æ¥å¹³é™å’Œå¹¸ç¦ã€‚ ç¬¬å››èŠ‚ å¤ä¹ è¯¾ æ­£å¿µçš„åŸºæœ¬æ¦‚å¿µ å†¥æƒ³ç»ƒä¹ çš„ç‰¹ç‚¹ æ­£å¿µå‘¼å¸çš„è¦ç‚¹ ä¸“æ³¨å½“ä¸‹çš„æ·±å¤„å«ä¹‰ åˆ†å¿ƒèµ°ç¥çš„ä¸‰ä¸ªåŸå›  å†¥æƒ³æ˜¯ä¸€ç§ç”Ÿæ´»æ–¹å¼ ä¹”å¸ƒæ–¯çš„å†¥æƒ³è¿‡ç¨‹ 1 ä¸“æ³¨å½“ä¸‹çš„é‡è¦æ€§ 2 ä¸ºä»€ä¹ˆè¦å¿ƒæ€€æ„Ÿæ© ç¬¬äº”èŠ‚ æƒ…ç»ªè°ƒæ•´æƒ…ç»ªçš„ç‰¹ç‚¹æƒ…ç»ªçš„äº§ç”Ÿä¸é€‚ä¸€è¹´è€Œå°±ï¼Œè€Œæ˜¯é€æ¸ç§¯ç´¯æƒ…ç»ªçš„ç»´æŒä¾èµ–äºçœŸå®å­˜åœ¨çš„äº‹ç‰©æƒ…ç»ªä¼šè‡ªå‘è¶‹äºå¹³ç¨³ å¦‚ä½•è°ƒæ•´æƒ…ç»ªæ‰¾åˆ°å¼•å‘æƒ…ç»ªçš„åŸå› ç”¨æ›´ç§¯æçš„è§†è§’çœ‹å¾…è®©æ³¨æ„åŠ›ä¸æƒ…ç»ªéš”ç¦» æŠŠæƒ…ç»ªå½“æˆæ— å…³çš„å¿µå¤´ï¼Œæ³¨æ„åŠ›é›†ä¸­åœ¨æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œå¯ä»¥å¤§å¤§é™ä½æƒ…ç»ªå¯¹ç”Ÿæ´»çš„å½±å“ï¼Œç­‰ç©ºé—²ä¸‹æ¥å†æ…¢æ…¢æ‰¾åŸå›  å†¥æƒ³ç»ƒä¹ å¯¹æƒ…ç»ªè°ƒæ•´çš„å¸®åŠ©é€šè¿‡çµæ•çš„æ„ŸçŸ¥ï¼Œç²¾ç¡®æ‰¾åˆ°æƒ…ç»ªæ³¢åŠ¨çš„åŸå› å¼ºåŒ–å¯¹æ³¨æ„åŠ›çš„æ§åˆ¶æœ‰æ•ˆçš„éš”ç¦»ä»¥é¿å…è´Ÿé¢æƒ…ç»ªçš„æ‰©å¤§ ç¬¬å…­èŠ‚ å†¥æƒ³ä¸ç¦…ä»€ä¹ˆæ˜¯ç¦…æ—©åœ¨å…ˆç§¦æ—¶ä»£ï¼Œä¸­å›½äººå°±æŒæ¡äº†é€šè¿‡é™åé”»ç‚¼æ€ç»´ã€ç”Ÿå‘æ™ºæ…§çš„æ–¹æ³•ï¼Œä½†æ²¡æœ‰å‘½å ä½›æ•™ä¼ å…¥ä¸­å›½åï¼Œå°†è¿™ç§è®­ç»ƒç§°ä¸ºç¦… ç¦…æ˜¯è¶…è¶Šå®—æ•™èŒƒå›´çš„é¡¿æ‚Ÿä¸åˆ›è§ ç¦…ä¿®å¯¹å†¥æƒ³çš„å¸®åŠ©æå‡å†¥æƒ³ç»ƒä¹ çš„æ•ˆæœæ›´å¥½çš„å°†ä¸“æ³¨å½“ä¸‹çš„æ€åº¦èå…¥ç”Ÿæ´»ä¸ºçœ‹æ¸…è‡ªæˆ‘å’Œæ”¹å˜ç”Ÿæ´»æ‰“ä¸‹æ€æƒ³åŸºç¡€ ç¦…å¿ƒä¸åˆå¿ƒç¦…å¿ƒæ²¡æœ‰å«ä¹‰ï¼Œæ€€æœ‰ç¦…å¿ƒæ˜¯ä¸ºäº†å¯¹å†…å¿ƒä¸è‡ªèº«å­˜åœ¨äº§ç”ŸæƒŠå¥‡ï¼Œå¹¶é€šè¿‡å‘æ˜æœ¬å¿ƒå›åº”æƒŠå¥‡ åˆå¿ƒæ˜¯åˆå­¦è€…çš„å¿ƒï¼Œè¦éšæ—¶å‡†å¤‡å¥½å»æ¥å—ã€å»æ€€ç–‘ï¼Œå¯¹æ‰€æœ‰çš„å¯èƒ½æ€§æ•å¼€ ç¬¬ä¸ƒèŠ‚ æŒæ§æ‚å¿µå‘¼å¸çš„æ„ä¹‰æ¯ä¸ªäººéƒ½æ˜¯ä¸€æ‰‡æ•å¼€çš„é—¨ä¸€å‘¼ä¸€å¸ç©¿é—¨è€Œè¿‡ï¼Œå°±ä¼šè§‰å¯Ÿåˆ°è‡ªæˆ‘å‘¼å¸æ˜¯å†…å¿ƒä¸–ç•Œä¸å¤–éƒ¨ä¸–ç•Œçš„äº¤æ±‡å¤„ å…³äºæŒæ§æ‚å¿µæƒ³è¦æ¸…é™¤æ‚å¿µï¼Œæ˜¯å› ä¸ºæ‹…å¿ƒè¢«æ‚å¿µå¹²æ‰°å¿ƒç»ª è¶Šæƒ³æ¸…é™¤æ‚å¿µï¼Œå°±ä¼šåœ¨æ‚å¿µä¸­è¶Šé™·è¶Šæ·± æœ€å¥½çš„æŒæ§æ–¹å¼å°±æ˜¯ä¸æŒæ§ï¼Œâ€œæ— ä¸ºè€Œæ²»â€è‡ªç”±æ¥å»çš„æ‚å¿µå¹¶ä¸ä¼šæ‰°ä¹±å¿ƒç»ª çœŸæ­£çš„æ··ä¹±ä¹‹æºæ˜¯å¯¹æ‚å¿µçš„æŒæ§æ¬²å’Œä¼å›¾å¿ƒ è‡ªç”±æ˜¯æ‚å¿µçš„è‡ªç”±ï¼Œè€Œä¸æ˜¯æ„è¯†çš„è‡ªç”± ç¬¬å…«èŠ‚ æœŸå¾…ä¸æ”¶è·æœŸæœ›ä¸æ”¶è·å¾€å¾€æœ‰è½å·®åºå±±çƒŸé›¨æµ™æ±Ÿæ½®ï¼Œæœªè‡³åƒèˆ¬æ¨ä¸æ¶ˆã€‚åˆ°å¾—è¿˜æ¥åˆ«æ— äº‹ï¼Œåºå±±çƒŸé›¨æµ™æ±Ÿæ½®ã€‚ æ›¾ç»çš„æœæ€æš®æƒ³ï¼ŒæˆçœŸæ—¶å¾€å¾€å˜æˆâ€ä¸è¿‡å¦‚æ­¤â€å¦‚æœä¸èƒ½æ­£ç¡®å¯¹å¾…ï¼Œè¿™ç§è½å·®å°±ä¼šå‰Šå¼±æˆ‘ä»¬ç»ƒä¹ çš„ç§¯ææ€§ï¼Œè®©æˆ‘ä»¬æ— æ³•åšæŒå†¥æƒ³ æ”¶è·ä¸å¦‚æœŸå¾…æ€ä¹ˆåŠä¸å¿˜åˆå¿ƒ: æ°¸è¿œåƒåˆå­¦è€…ä¸€æ ·è°¦è™šä¸”å¼€æ”¾ å›å¿†å°æ—¶å€™å¯¹é•¿é«˜çš„æ¸´æœ› ä½›æ€§ä¸å¼€æ‚Ÿ ä¸åšè¯„åˆ¤: åƒå¯¹å¾…æ‚å¿µä¸€æ ·ï¼Œå¿½è§†åŠŸåˆ©å¿ƒ æ»´æ°´ç©¿çŸ³ï¼Œåšç§¯è–„å‘ è§å±±æ˜¯å±±ï¼Œè§æ°´æ˜¯æ°´è§å±±ä¸æ˜¯å±±ï¼Œè§æ°´ä¸æ˜¯æ°´è§å±±æ˜¯å±±ï¼Œè§æ°´æ˜¯æ°´ ç¬¬ä¹èŠ‚ é¿å…å…´å¥‹æ”¶è·è¶…å‡ºæœŸå¾…æœªå¿…æ˜¯ä»¶å¥½äº‹å› ä¸ºæˆ‘ä»¬ä¼šäº§ç”Ÿå…´å¥‹å’Œéª„å‚² å¦‚æœä¸åˆ»æ„çš„æ’é™¤è¿™ä¸¤ç§æƒ…ç»ªï¼Œä¹‹åçš„å†¥æƒ³ç»ƒä¹ å°±ä¼šé€æ¸å‘é”™è¯¯çš„æ–¹å‘åç¦» ä¸ºä»€ä¹ˆè¦å°½é‡é¿å…å…´å¥‹å…´å¥‹ä¼šè®©æƒ…ç»ªæ³¢åŠ¨ å¿ƒç»ªæ³¢åŠ¨æ˜¯æˆ‘ä»¬æŒä¹‹ä»¥æ’ç»ƒä¹ å†¥æƒ³çš„æœ€å¤§é˜»ç¢ å¯¹äºå†¥æƒ³æœ¬èº«çš„å…´è¶£ä¸æ˜¯çœŸæ­£çš„å…´è¶£ï¼Œå†¥æƒ³çš„ç›®çš„æ˜¯æ¿€å‘å¯¹è‡ªå·±æ—¥å¸¸ç”Ÿæ´»çš„å…´è¶£ ç¬¬åèŠ‚ å†¥æƒ³çš„æ–¹å‘ä»€ä¹ˆæ˜¯ä¿®è¡Œä¸­æœ€é‡è¦çš„äº‹æœ€é‡è¦çš„ä¸æ˜¯åŠªåŠ›ï¼Œè€Œæ˜¯æ‰¾åˆ°ä¸€ä¸ªæ­£ç¡®çš„æ–¹å‘ å¦‚æœä½ çš„åŠªåŠ›æŒ‡å‘ä¸æ­£ç¡®çš„æ–¹å‘ï¼Œä»˜å‡ºçš„åŠªåŠ›å¾€å¾€å°±æ˜¯ç™½å¿™ä¸€åœº å†¥æƒ³çš„æ­£ç¡®æ–¹å‘æ˜¯ä»€ä¹ˆé€šå¸¸åœ¨åšä¸€ä»¶äº‹æƒ…æ—¶ï¼Œäººä»¬æ˜¯æœ‰ç›®çš„çš„ï¼Œæƒ³è¦æœ‰æ‰€æˆå°±ï¼Œå¾—åˆ°æŸç§ç»“æœ å†¥æƒ³çš„æ­£ç¡®æ–¹å‘æ˜¯â€æ— ç›®çš„â€, å¯ä»¥æ˜ç¡®äº‹æƒ…çš„ç›®çš„ï¼Œä½†ä¸æ‰§è‘—äºç›®çš„ã€‚ ä¸ºä»€ä¹ˆä¸è¦éª„å‚²äººçš„æƒ¯æ€§æ€ç»´æ˜¯æœ‰ç›®çš„ï¼Œæƒ³è¦åšåˆ°æ— ç›®çš„ï¼Œå°±éœ€è¦æ”¹å˜æ€ç»´æ–¹å¼ï¼Œæ¯å½“å› è¾¾åˆ°ç›®çš„è€Œäº§ç”Ÿæƒ…ç»ªæ³¢åŠ¨æ—¶ï¼ŒåŠæ—¶å¯Ÿè§‰å¹¶äºˆä»¥æ‰“æ–­ã€‚ åœ¨æ‰€æœ‰çš„æƒ…ç»ªä¸­ï¼Œç›®çš„æ€§æœ€å¼ºçš„å°±æ˜¯éª„å‚² æˆ‘ä»¬ä¸ä¼šæ— ç¼˜æ— æ•…çš„éª„å‚²ï¼Œä¸€å®šæ˜¯å› ä¸ºåšåˆ°æ¥äº†æŸäº›äº‹æƒ…ï¼Œè¾¾åˆ°äº†æŸäº›ç›®çš„ï¼Œè¯æ˜äº†è‡ªæˆ‘ï¼Œæ‰ä¼šäº§ç”Ÿéª„å‚²ã€‚ ç”¨æ·¡æ·¡çš„å–œæ‚¦å–ä»£éª„å‚² ç¬¬åä¸€èŠ‚ ä¸è¦æƒ§æ€•å¤±å»è¿™ä¸–ä¸Šçš„ä¸€åˆ‡éƒ½æ—©å·²å­˜åœ¨ï¼Œå¹¶å°†ç»§ç»­å­˜åœ¨ä¸‹å»ã€‚ æˆ‘ä»¬ä»æœªçœŸæ­£æ„ä¹‰çš„æ‹¥æœ‰ä»€ä¹ˆï¼Œæ‰€æœ‰ä¹Ÿå°±ä¸å­˜åœ¨çœŸæ­£æ„ä¹‰ä¸Šçš„å¤±å»ã€‚ æ‰€æœ‰çš„å¾—ä¸å¤±ï¼Œåªæ˜¯å…¶ä»–å­˜åœ¨ä¸æˆ‘ä»¬ç‹­çª„çš„è§†çº¿æ°å·§å‘ç”Ÿäº†äº¤é”™ï¼Œçœ‹åˆ°æ—¶è¢«æˆ‘ä»¬è¯¯ä»¥ä¸ºæ‹¥æœ‰ï¼Œçœ‹ä¸åˆ°æ—¶åˆè¢«æˆ‘ä»¬è¯¯ä»¥ä¸ºå¤±å»ã€‚ å¦‚æœæˆ‘ä»¬ä¸å»çœ‹ï¼Œå°±ä¸ä¼šæœ‰ä»»ä½•çš„äº‹ç‰©ä»æˆ‘ä»¬çš„ç›®å…‰ä¸­æ¶ˆå¤±. ç¬¬åäºŒèŠ‚ å¤ä¹ è¯¾ç¬¬å…«èŠ‚å›é¡¾ç¬¬ä¹èŠ‚å›é¡¾ç¬¬åèŠ‚å›é¡¾ç¬¬åä¸€èŠ‚å›é¡¾ ç¬¬åä¸‰èŠ‚ å…³äºæ²Ÿé€šå…³äºæ²Ÿé€šæ²Ÿé€šæ˜¯æ¢ç´¢è‡ªæˆ‘çš„å‡†å¤‡å·¥ä½œ æ²Ÿé€šåŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†: è¡¨è¾¾è‡ªæˆ‘å’Œå€¾å¬ä»–äºº è‰¯å¥½çš„è¡¨è¾¾å’Œå€¾å¬æ˜¯ç›¸è¾…ç›¸æˆçš„ å¦‚ä½•è¿›è¡Œè‰¯å¥½çš„æ²Ÿé€šè¡¨è¾¾è‡ªæˆ‘æ—¶éœ€è¦åšåˆ°å¦è¯šï¼Œæƒ…ç»ªç¨³å®šå’Œæœ‰äº²å’ŒåŠ› å€¾å¬ä»–äººæ—¶è¦æ³¨æ„æŠŠæ‰€æœ‰çš„æˆè§å’Œä¸»è§‚æ„è§æ‘†åœ¨ä¸€è¾¹ï¼Œä¸è¦è¿›è¡Œå¤ªå¤šå–„ä¸æ¶ã€å¯¹ä¸é”™çš„ä»·å€¼åˆ¤æ–­ ç¬¬åå››èŠ‚ äº²å­æ²Ÿé€šçˆ¶æ¯ä¸å­å¥³é—´çš„æ²Ÿé€šæœ€å¸¸è§çš„æ²Ÿé€šé—®é¢˜ï¼Œå¾€å¾€å‘ç”Ÿåœ¨æœ€äº²å¯†çš„å…³ç³»ä¹‹é—´ çˆ¶æ¯å¯¹å­å¥³åªæœ‰å–„æ„ï¼Œä½†å§¿æ€å´æ€»æ˜¯é«˜é«˜åœ¨ä¸Š å¯¹äºçˆ¶æ¯çš„å®å˜±ï¼Œå­å¥³å¤©ç„¶æŠ±æœ‰æŠµè§¦æƒ…ç»ª ç”±äºæ˜¯æœ€äº²å¯†çš„äººï¼Œçˆ¶æ¯å’Œå­å¥³é—´çš„æ²Ÿé€šå¾€å¾€æ˜¯ä¸åŠ æ©é¥°çš„ï¼Œå› è€Œä¼šæœ‰ä¸°å¯Œçš„ä¸ªäººæƒ…æ„Ÿæµ¸é€åœ¨è¡¨è¾¾ä¸­ æœ€çœŸå®çš„çˆ±æ˜¯æ²Ÿé€šçš„åŸºç¡€è‰¯å¥½çš„æ²Ÿé€šéœ€è¦ä¿æŒæœ€è‡ªç„¶çš„çŠ¶æ€ï¼Œè¡¨è¾¾è‡ªå·±æœ€çœŸå®çš„æ„Ÿå— çˆ¶æ¯å’Œå­å¥³ä¹‹é—´ï¼Œæ— è®ºè¿›è¡Œæ€æ ·çš„æ²Ÿé€šï¼Œåº•å±‚çš„æ„Ÿå—ä¸€å®šæ˜¯å½¼æ­¤çš„çˆ±ï¼Œå› æ­¤ä¸è¦åå•¬å¯¹çˆ±çš„è¡¨è¾¾ å“ªæ€•ä½ æš‚æ—¶è¿˜å­¦ä¸ä¼šæ²Ÿé€šæŠ€å·§ï¼Œä¸æ“…é•¿å€¾å¬ï¼Œåªè¦èƒ½å¤ŸæŠŠå†…å¿ƒæœ€çœŸå®çš„æ„Ÿå—åŠæ—¶çš„ä¼ è¾¾ï¼ŒåŒæ ·å¯ä»¥æ”¹å–„æ²Ÿé€š ç¬¬åäº”èŠ‚ åŠªåŠ›çš„æ„ä¹‰â€œé£åœè§èŠ±è½ï¼Œé¸Ÿé¸£è§‰å±±é™ã€‚â€åœ¨äº‹æƒ…çš„æ ·è²Œå‘ç”Ÿæ”¹å˜ä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸æ„è¯†ä¸åˆ°å®ƒçœŸæ­£çš„æ ·å­ã€‚å†¥æƒ³ç»ƒä¹ ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¸“æ³¨äºå‘¼å¸çš„æ—¶å€™ï¼Œä½ çš„å¿ƒä¼šå®Œå…¨é™ä¸‹æ¥ï¼Œæ„Ÿå—ä¸åˆ°ä»»ä½•ä¸œè¥¿ï¼Œä½ åªæ˜¯åç€ã€‚ä½†ä½ ä»ç»ƒä¹ ä¸­å¾—åˆ°çš„é™ï¼Œå´ä¼šåœ¨æ¥ä¸‹æ¥çš„æ—¥å¸¸ç”Ÿæ´»ä¸­å‘æŒ¥æ¿€åŠ±ä½œç”¨ã€‚ åŠªåŠ›çš„æ„ä¹‰ï¼Œåœ¨äºåŠªåŠ›æœ¬èº« å¾ˆå¤šäººæŠŠç”Ÿæ´»å½“æˆå†œæ°‘ç§åœ°çš„è¿‡ç¨‹ï¼Œå…ˆæ’­ç§ï¼Œå†è€•ä½œï¼Œç»è¿‡æ¼«é•¿çš„ç­‰å¾…å’Œä¸æ‡ˆçš„åŠªåŠ›ï¼Œæœ€åè·å¾—ä¸°æ”¶ï¼Œè¿™å…¶å®æ˜¯å¯¹ç”Ÿæ´»çš„ä¸€ç§è¯¯è§£ã€‚ å¦‚æœä½ æŠŠè‡ªå·±çš„åŠªåŠ›å®šä¹‰æˆç§åœ°ï¼ŒæŠŠæ”¶è·å®šä¹‰æˆä¸°æ”¶ï¼Œé‚£ç”Ÿæ´»å°±åªæœ‰æ¼«é•¿çš„ç­‰å¾…å’Œæ”¶è·æ—¶çŸ­æš‚çš„å¿«ä¹ï¼Œä½ ä¼šé”™è¿‡æ¯ä¸€å¤©åŠ³åŠ¨æ—¶ä¸è‡ªç„¶çš„äº²åˆ‡ç›¸å¤„ï¼Œä¸“æ³¨è€•ä½œæ—¶å†…å¿ƒçš„å¹³é™ï¼Œå¯¹è‡ªå·±çš„è§‰å¯Ÿï¼ŒæŠ€èƒ½çš„ç†Ÿç»ƒä¸æå‡ï¼Œä»¥åŠç”Ÿæ´»å……å®è€Œå¸¦æ¥çš„æ»¡è¶³æ„Ÿã€‚ ç¬¬åå…­èŠ‚ ä¹ æƒ¯çš„åŠ›é‡å¥‡è‘©çš„å°ä¹ æƒ¯æ‰æ˜¯æˆåŠŸç§˜è¯€ï¼Ÿç»è¿‡ç§‘å­¦å®¶çš„ç ”ç©¶å‘ç°ï¼Œå¤šæ¬¡æ‰§è¡Œä¸€å¥—ç›¸åŒçš„åŠ¨ä½œå’Œå‡†å¤‡ç¨‹åºï¼Œç¡®å®å¯ä»¥ä½¿å¤§è„‘å’Œèº«ä½“è‡ªæˆ‘è°ƒæ•´ï¼Œè¿›å…¥æ‰§è¡Œå·¥ä½œçš„æœ€ä½³çŠ¶æ€ã€‚ ä¹ æƒ¯æœ¬èº«å°±æ˜¯åŠ›é‡ å¦‚æœä½ èƒ½å¤Ÿç¡®å®šä¸€ä¸ªå›ºå®šçš„æ—¶é—´æ®µï¼ŒåšæŒæ¯å¤©è¿›è¡Œååˆ†é’Ÿçš„å‘¼å¸ç»ƒä¹ ï¼Œå³ä¾¿æ˜¯å†¥æƒ³æœ¬èº«çš„æ€æƒ³è¿˜æ²¡æœ‰å……åˆ†æŒæ¡ï¼Œå•å•è¿™ä¸ªä¹ æƒ¯æœ¬èº«å°±ä¼šä¸ºä½ å¸¦æ¥å¤§é‡çš„å¸®åŠ©ã€‚ ç¬¬åä¸ƒèŠ‚ ç²¾ç¥çš„ä¸‰ä¸ªéƒ¨åˆ†â€œè‡ªæˆ‘â€çš„æ¦‚å¿µæ˜¯éš¾ä»¥æ‰æ‘¸çš„æ¯ä¸ªäººéƒ½æœ‰å¾ˆå¤šé¢ï¼Œæœ‰åè„¾æ°”çš„æ—¶å€™ï¼Œæœ‰æ¸©æŸ”çš„æ—¶å€™ï¼Œæœ‰ç‰¹åˆ«å¼€å¿ƒçš„æ—¶å€™ï¼Œä¹Ÿæœ‰æ— ç¼˜æ— æ•…æ„Ÿåˆ°æŠ‘éƒå’Œæ²®ä¸§çš„æ—¶å€™ã€‚ çœŸæ­£çš„è‡ªæˆ‘ï¼Œåˆ°åº•æ˜¯å†…å¿ƒçš„å¹½æš—å¤„å‘å‡ºå£°éŸ³çš„é‚£ä¸ªäººï¼Œè¿˜æ˜¯å¯¹ç”Ÿæ´»å……æ»¡çƒ­çˆ±çš„é‚£ä¸ªäººå‘¢ï¼Ÿå¦‚æœæ¯ä¸€é¢éƒ½æ˜¯çœŸå®çš„è‡ªæˆ‘ï¼Œè¿™äº›çŸ›ç›¾çš„å­˜åœ¨åˆå¦‚ä½•èåˆåœ¨ä¸€èµ·å‘¢ï¼Ÿ å¼—æ´›ä¼Šå¾·å°†äººçš„ç²¾ç¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šæœ¬æˆ‘ï¼Œè‡ªæˆ‘å’Œè¶…æˆ‘æœ¬æˆ‘å³åŸæˆ‘ï¼Œæ˜¯æŒ‡åŸå§‹çš„è‡ªå·±ï¼ŒåŒ…å«ç”Ÿå­˜æ‰€éœ€çš„åŸºæœ¬æ¬²æœ›ã€å†²åŠ¨å’Œç”Ÿå‘½åŠ›ã€‚æœ¬æˆ‘æ˜¯ä¸€åˆ‡å¿ƒç†èƒ½é‡ä¹‹æºï¼Œæœ¬æˆ‘æŒ‰å¿«ä¹åŸåˆ™è¡Œäº‹ï¼Œå®ƒä¸ç†ä¼šç¤¾ä¼šé“å¾·ã€å¤–åœ¨çš„è¡Œä¸ºè§„èŒƒï¼Œå®ƒå”¯ä¸€çš„è¦æ±‚æ˜¯è·å¾—å¿«ä¹ï¼Œé¿å…ç—›è‹¦ï¼Œæœ¬æˆ‘çš„ç›®æ ‡éå¸¸ç®€å•ï¼Œå°±æ˜¯è¿½æ±‚ä¸ªä½“çš„èˆ’é€‚ï¼Œç”Ÿå­˜åŠç¹æ®–ã€‚ ç¬¬åå…«èŠ‚ ä½•ä¸ºè¶…æˆ‘ä»€ä¹ˆæ˜¯è¶…æˆ‘ï¼Ÿè¶…æˆ‘æ˜¯äººæ ¼ç³»ç»Ÿä¸­ä¸“ç®¡é“å¾·çš„å¸æ³•éƒ¨é—¨ã€‚å®ƒç”±äººçš„é“å¾·å¾‹æ³•å’Œè‡ªæˆ‘ç†æƒ³ç­‰æ„æˆï¼Œå¯ç®€å•åŒºåˆ†ä¸ºâ€œç†æƒ³â€ã€â€œè‰¯å¿ƒâ€ä¸¤ä¸ªå±‚æ¬¡ã€‚å…¶ä¸­â€œç†æƒ³â€ä¸­æ—¢åŒ…æ‹¬è‡ªæˆ‘ç†æƒ³ï¼ŒåˆåŒ…æ‹¬ç¤¾ä¼šç†æƒ³ã€‚ è‡ªå·±ç†æƒ³ä¸­æƒ³è¦æˆä¸ºçš„äººï¼Œä»¥åŠç¤¾ä¼šä¸»æµä»·å€¼è§‚æ‰€è®¤å¯çš„è‹±é›„äººç‰©ã€é“å¾·æ¥·æ¨¡çš„å½¢è±¡ï¼Œä¼šæ±‡æ€»èåˆæˆä¸ºä¸€å¥—ä¸ªä½“ä¸ºè‡ªå·±æ‰€è®¾çš„è¡Œä¸ºä»·å€¼æ ‡å‡†ï¼Œè€Œè¶…æˆ‘å°±æ˜¯è´Ÿè´£ç›‘ç£æˆ‘ä»¬æŒ‰ç…§è¿™å¥—æ ‡å‡†è¡Œäº‹çš„äººæ ¼ã€‚ è¶…æˆ‘ä¼šä¸åœçš„åŠå¯¼æˆ‘ä»¬è¡¨ç°çš„æ›´åŠ æˆç†Ÿï¼Œæ›´åŠ å–„è‰¯ï¼Œè¿½æ±‚å“è¶Šã€‚å½“æœ¬æˆ‘äº§ç”Ÿè¿åé“å¾·æˆ–ç¤¾ä¼šç§©åºçš„æ¬²æœ›å’Œå†²åŠ¨æ—¶ï¼Œè¶…æˆ‘å°±ä¼šè®©è¿™äº›å†²åŠ¨ç”Ÿæˆç½ªæ¶æ„Ÿå’Œå†…ç–šï¼Œä»è€ŒæŠ‘åˆ¶æœ¬æˆ‘ã€‚ ç¬¬åä¹èŠ‚ è‡ªæˆ‘çš„ä½œç”¨è‡ªæˆ‘å¤„äºç¤¾ä¼šç”Ÿæ´»çš„ç°å®è¦æ±‚ã€è¶…æˆ‘çš„é“å¾·è¿½æ±‚ä¸æœ¬æˆ‘çš„åˆ©ç›Šè¿½æ±‚ä¹‹é—´ï¼ŒæŒ‰ç…§ç°å®åŸåˆ™åè°ƒçŸ›ç›¾ï¼Œå°½å¯èƒ½åœ°å¯»æ‰¾æƒå®œä¹‹è®¡ã€‚ é€šä¿—ä¸€ç‚¹æ¥è¯´ï¼Œæ— è®ºæ˜¯æœ¬æˆ‘è¿˜æ˜¯è¶…æˆ‘ï¼Œéƒ½åªæ˜¯æä¾›å»ºè®®ï¼Œè‡ªæˆ‘æ‰æ˜¯ä¸ªä½“æœ€ç»ˆè¡Œä¸ºè¡¨ç°çš„å†³ç­–è€…ï¼Œæ—¶è€Œç®¡ç†æœ¬æˆ‘ï¼Œæ—¶è€Œæœä»è¶…æˆ‘ï¼Œæ—¢è¦å°½é‡æ»¡è¶³æœ¬æˆ‘çš„æ¬²æœ›ï¼Œåˆè¦é¡¾åŠåˆ°è¶…æˆ‘çš„é“å¾·å‡†åˆ™ã€‚ ç¬¬äºŒåèŠ‚ è‡ªæˆ‘çš„æœ¬è´¨è‡ªæˆ‘ï¼Œå°±åƒæ°´ä¸€æ ·æŠŠè‡ªæˆ‘æ¯”åšæ˜¯æ°´ã€‚æ°´å€’åœ¨ä¸åŒçš„æ¯å­é‡Œé¢ï¼Œå®ƒå°±æ˜¯ä¸åŒçš„å½¢çŠ¶ã€‚è€Œæˆ‘ä»¬çš„ç”Ÿæ´»å’Œæ€è€ƒï¼Œå°±æ˜¯æŠŠæ°´ä»ä¸€ä¸ªæ¯å­è½¬ç§»åˆ°å¦ä¸€ä¸ªæ¯å­ã€‚ä½ èƒ½å¤Ÿæ„ŸçŸ¥åˆ°çš„ï¼Œå‘ˆç°å‡ºæ¥çš„ï¼Œè‡ªå·±æ¯æ—¶æ¯åˆ»è¡¨ç°å‡ºæ¥çš„è¡Œä¸ºï¼Œå°±æ˜¯æ°´åœ¨æ¯å­ä¸­å½¢æˆå½¢çŠ¶çš„è¿‡ç¨‹ã€‚ è‡ªæˆ‘æ˜¯ä»€ä¹ˆå¦‚æœæ°´çš„å¤§éƒ¨åˆ†æ—¶é—´ï¼Œå°±æ˜¯ä»ä¸€ä¸ªæ¯å­è½¬ç§»åˆ°å¦ä¸€ä¸ªæ¯å­ï¼Œé‚£æ°´å°±æ˜¯ä¸€å›¢ä¸åœçš„è½¬ç§»ï¼Œä¸åœæ”¹å˜å½¢çŠ¶çš„ä¸œè¥¿ã€‚è‡ªæˆ‘ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¸åŒçš„è§’åº¦ï¼Œæœ‰ä¸åŒçš„è§£é‡Šï¼Œä½†å­˜åœ¨ä¸€ç§æœ€è´´åˆ‡çš„è¡¨è¾¾ï¼šå¦‚æœæˆ‘ä»¬ä¸€åˆ‡çš„æƒ³æ³•éƒ½æ˜¯å›´ç»•ç”Ÿæ´»å±•å¼€çš„ï¼Œé‚£è‡ªæˆ‘å°±æ˜¯ä¸åœçš„ä½“éªŒã€æ€è€ƒï¼Œæ´»åœ¨å½“ä¸‹çš„é‚£ä¸ªæ„è¯†ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼Œå†¥æƒ³å¹¶ä¸é¼“åŠ±å¤§å®¶å»å®šä¹‰è‡ªæˆ‘ï¼Œè€Œæ˜¯é¼“åŠ±å¤§å®¶å‘ç°å’Œæ¢ç´¢è‡ªæˆ‘ã€‚åªæœ‰ä¸æ–­çš„ä½“éªŒã€æ€è€ƒã€æ„Ÿå—ç”Ÿæ´»ï¼Œè‡ªæˆ‘æ‰å¾—ä»¥å±•å¼€ï¼Œå‘ˆç°å‡ºä¸åŒçš„æ ·å­ã€‚ ç¬¬äºŒåä¸€èŠ‚ æ¢¦çš„æ¥æº(1)æ¢¦çš„æ¥æº â€”â€” è®°å¿†äººä»¬æ‰€ç»å†ã€ä½“ä¼šè¿‡çš„ä¸œè¥¿ï¼Œæ˜¯æ„æˆæ¢¦çš„å…¨éƒ¨åŸææ–™ã€‚è®°å¿†ä¸æ¢¦å¢ƒçš„è”ç³»å¹¶ä¸æ˜¯ç®€å•çš„é‡å¤å›æ’­ï¼Œå¾€å¾€ä¼šé€šè¿‡å¤¸å¤§å’Œæ‹¼æ¥çš„æ–¹å¼å‘ˆç°ï¼ŒæŠŠè®°å¿†ä¸­çš„ç‰‡æ®µå˜æˆä¸€ä¸ªæ–°çš„åœºæ™¯æˆ–æ•…äº‹ã€‚ å®¹æ˜“å‡ºç°åœ¨æ¢¦å¢ƒä¸­çš„è®°å¿† â€”â€” é—å¿˜è®°å¿†é—å¿˜è®°å¿†ï¼ŒæŒ‡çš„å°±æ˜¯äººåœ¨æ¢¦é‡Œå¾€å¾€èƒ½å¤ŸçŸ¥é“å¹¶è®°èµ·ä¸€äº›æ¸…é†’çŠ¶æ€æ—¶æ‰€ä¸æ™“æˆ–è€…å¿˜å´çš„äº‹ã€‚è¿™äº›äº‹åœ¨æ¢¦å¢ƒä¸­å‡ºç°æ—¶ï¼Œä¸ä¼šè¢«å½“æˆæ˜¯è‡ªèº«å·²æœ‰çš„çŸ¥è¯†æˆ–ç»å†ï¼Œè¿™è®©æˆ‘ä»¬æ„Ÿåˆ°ä¸€å¤´é›¾æ°´ï¼Œä»¥ä¸ºè¿™æ˜¯æ¢¦ä¸­è‡ªå·±æƒ³è±¡æˆ–è€…åˆ›é€ å‡ºæ¥çš„äº‹ç‰©ã€‚ ç¬¬äºŒåäºŒèŠ‚ æ¢¦çš„æ¥æº(2)ç«¥å¹´è®°å¿†æ¢¦æœ‰ä¸€ç§å¥‡å¦™çš„åŠ›é‡ï¼Œå³ä¾¿æ˜¯å­©ç«¥æ—¶ä»£é‡Œï¼Œé‚£äº›ä¹…è¿œçš„å·²ç»è¢«æˆ‘ä»¬çš„è®°å¿†é—å¤±åœ¨é˜´æš—è§’è½é‡Œçš„ä¸œè¥¿ï¼Œæ¢¦ä¹Ÿèƒ½å¤ŸæŠŠå®ƒä»¬å¬å›ï¼Œé‡ç°åœ¨æˆ‘ä»¬çš„è„‘æµ·ä¸­ã€‚ æ¢¦ä¸ä½†èƒ½å¤Ÿå°†ä¸€äº›æ·±è—çš„ç«¥å¹´ç»å†æŒ–æ˜å‡ºæ¥ï¼Œè¿˜èƒ½ä¿æŒé‚£äº›ç‰¹å®šçš„äººç‰©ã€äº‹ä»¶å’Œåœºæ™¯åˆ†æ¯«ä¸å˜ï¼Œä¿æŒå®ƒä»¬æœ€é²œæ´»æœ€ç”ŸåŠ¨çš„åŸå§‹çŠ¶æ€ã€‚ é‡Œç¨‹ç¢‘äº‹ä»¶çš„å°ç»†èŠ‚åœ¨æ¢¦å¢ƒä¸­ï¼Œæˆä¸ºç„¦ç‚¹çš„å¾€å¾€æ˜¯é‡è¦äº‹ä»¶é‡Œæ—ææœ«èŠ‚ã€ç”šè‡³æ˜¯æœ€ç©ºæ´æ— ç‰©çš„ä¸œè¥¿ã€‚é‚£äº›è¢«æˆ‘ä»¬çƒ­åˆ‡æ¸´æœ›ã€å€¾æ³¨äº†æµ“åšå…´è¶£çš„äº‹ç‰©åœ¨æ¢¦ä¸­çš„æˆä»½å¹¶ä¸å¤šï¼Œç›¸åï¼Œä¸€æ¬¡å¶ç„¶çš„é‚‚é€…ã€ä¸å¤ªé‡è¦çš„è§é—»æˆ–æ˜¯é›¶é›¶ç¢ç¢çš„ä¸€ç‚¹äº‹ç‰©ï¼Œå¾€å¾€æˆä¸ºæ¢¦ä¸­å…ƒç´ çš„çœŸæ­£æ¥æºã€‚ ç¬¬äºŒåä¸‰èŠ‚ æ¢¦çš„æ¥æº(3)æ¢¦æ˜¯ä¸€ç§åº”æ¿€ååº”ä¸€å®šæ˜¯æˆ‘ä»¬å…ˆå—åˆ°äº†æŸç§åˆºæ¿€ï¼Œæ‰ä¼šæ ¹æ®è¿™ç§åˆºæ¿€äº§ç”Ÿç›¸å¯¹åº”çš„æ¢¦å¢ƒã€‚ä¸¾ä¸ªä¾‹å­çš„è¯ï¼Œæˆ‘ä»¬çš„æ¢¦å¢ƒå°±åƒæ˜¯ä¸€ä¸ªé¤å…çš„å¨å¸ˆåšé¥­ï¼šè®°å¿†æ˜¯å„ç§å„æ ·çš„é£Ÿæï¼Œè€Œå—åˆ°çš„åˆºæ¿€å°±æ˜¯å®¢äººç‚¹é¤æ—¶ä¸‹çš„è®¢å•ï¼Œå¨å¸ˆå…ˆæ”¶åˆ°è®¢å•ï¼Œå†ä¼šå†³å®šé€‰å–å“ªäº›é£Ÿæï¼Œè¿›è¡Œæ€æ ·çš„åŠ å·¥ã€‚ å¤–éƒ¨çš„çŸ¥è§‰åˆºæ¿€æ‰€è°“çŸ¥è§‰åˆºæ¿€ï¼Œå°±æ˜¯é€šè¿‡å¤–ç•Œå¯¹èº«ä½“æ„Ÿå®˜å½¢æˆçš„åˆºæ¿€ã€‚æ¯”å¦‚ä¸€é“åˆºçœ¼çš„å¼ºå…‰ã€å¼ºçƒˆçš„å™ªéŸ³ã€æµ“çƒˆçš„æ°”å‘³ï¼Œæˆ–è€…èº«ä½“æŸä¸ªéƒ¨ä½éœ²å‡ºè¢«å­æ—¶æ„Ÿå—åˆ°å¯’å†·ã€‚è¿™ç§åˆºæ¿€èƒ½å¤Ÿéå¸¸æ˜ç¡®çš„å¼•å‘å¯¹åº”çš„æ¢¦å¢ƒï¼šå½“çª—å¤–å…¬é¸¡æŠ¥æ™“ï¼Œæ¢¦ä¸­ä¹Ÿè®¸å°±ä¼šå¬åˆ°æŸä¸ªäººåœ¨æƒŠå£°å°–å«ã€‚ ç¬¬äºŒåå››èŠ‚ æ¢¦çš„æ¥æº(4)å¹»æƒ³åˆºæ¿€å¹»æƒ³åˆºæ¿€ï¼ŒæŒ‡çš„å°±æ˜¯æˆ‘ä»¬èººåœ¨åºŠä¸Šï¼Œé—­ä¸Šçœ¼åè„‘æµ·ä¸­æµ®ç°çš„å„ç§ç”»é¢ã€‚å¦‚æœè¿™äº›è¢«æˆ‘ä»¬æƒ³è±¡å‡ºæ¥çš„ç”»é¢ä¸€ç›´ç»´æŒåˆ°å…¥ç¡çš„å‰ä¸€åˆ»ï¼Œå®ƒä»¬å°±å¾ˆæœ‰å¯èƒ½ç»§ç»­ä¿æŒè‡ªå·±çš„æ ·å­ï¼Œä¸æ¢¦å¢ƒç›¸ç»“åˆã€‚ èº«ä½“å†…éƒ¨çš„åˆºæ¿€å½“æŸäº›å™¨å®˜å¤„äºå…´å¥‹çŠ¶æ€æˆ–ç”Ÿç—…æ—¶ï¼Œå°±ä¼šä¼ é€’å‡ºç±»ä¼¼ç–¼ç—›çš„ä¿¡å·ã€‚ä¸æ¸…é†’æ—¶çš„çŠ¶æ€ç›¸æ¯”ï¼Œç¡çœ æ—¶çš„å¿ƒçµå¯¹èº¯ä½“æ‰€å‘ç”Ÿçš„å˜åŒ–æœ‰ç€æ›´ä¸ºæ·±å…¥è€Œå¹¿æ³›çš„æ„ŸçŸ¥ï¼Œæ¥çº³èº«ä½“å„éƒ¨ä½çš„ä¿¡å·ä»¥åŠèº«ä½“å˜åŒ–äº§ç”Ÿçš„æ„Ÿå—ï¼Œå¹¶é€šè¿‡å½±å“æ¢¦å¢ƒçš„æ–¹å¼å‘ˆç°å‡ºæ¥ã€‚ æ·±åº¦æ€è€ƒåˆºæ¿€æ—¥æœ‰æ‰€æ€ï¼Œå¤œæœ‰æ‰€æ¢¦ã€‚å¦‚æœæˆ‘ä»¬åœ¨ç”Ÿæ´»ã€å­¦ä¹ å’Œå·¥ä½œä¸­ï¼Œå¯¹æŸäº›äº‹ç‰©çš„æ€è€ƒä¸“æ³¨æ·±åˆ»ï¼Œé‚£ä¹ˆè¿™ç§æ€è€ƒå°±å¾ˆæœ‰å¯èƒ½æ¸—é€åˆ°æ½œæ„è¯†å½“ä¸­ï¼Œå³ä¾¿æˆ‘ä»¬å…¥ç¡ï¼Œæ€è€ƒä¹Ÿä¸ä¼šåœæ­¢ã€‚è¿™ç§æ½œæ„è¯†çš„æ€è€ƒä¸ä»…ä¼šä½“ç°åœ¨æ¢¦ä¸­ï¼Œç”šè‡³ä¼šæ¯”æ¸…é†’æ—¶æ›´æœ‰åˆ›é€ åŠ›ï¼Œè§£å†³é‚£äº›æ²¡èƒ½è§£å†³çš„é—®é¢˜ã€‚ ç¬¬äºŒåäº”èŠ‚ å…³äºæ¢¦çš„è®°å¿†å†¥æƒ³å¯¹äºè§£å†³éš¾é¢˜çš„ç›Šå¤„å†¥æƒ³ç»ƒä¹ èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ä¸“æ³¨å½“ä¸‹ï¼Œäº§ç”Ÿæ›´å¤šçš„æ·±åº¦æ€è€ƒã€‚æ·±åº¦æ€è€ƒåˆºæ¿€å¯ä»¥å°†æˆ‘ä»¬çš„æ€ç»´å»¶ç»­åˆ°æ¢¦å¢ƒï¼Œæ¯”æ¸…é†’æ—¶åˆ»æ›´æœ‰åˆ›é€ åŠ›ï¼Œä»è€Œè§£å†³æ£˜æ‰‹çš„éš¾é¢˜ã€‚ å…³äºæ¢¦çš„è®°å¿†é€šè¿‡å›å¿†ï¼Œæ¢¦å¯ä»¥è¢«é‡æ–°è®°èµ·æ¥ã€‚å¯æˆ‘ä»¬æ€»ä¼šæœ‰è¿™æ ·çš„æ„Ÿè§‰ï¼šå¤œé‡Œçš„æ¢¦åŒ…ç½—ä¸‡è±¡ã€å¤šå§¿å¤šå½©ï¼Œæ¯”æˆ‘ä»¬èƒ½å›æƒ³èµ·æ¥çš„éƒ¨åˆ†è¦ä¸°å¯Œå¾—å¤šã€‚è€Œä¸”ï¼Œéšç€æ—¶é—´çš„æµé€ï¼Œæˆ‘ä»¬å…³äºæ¢¦çš„è®°å¿†è¿˜ä¼šé€æ¸æ·¡å» å…³äºæ¢¦çš„è®°å¿†ï¼Œæœ‰äº›æ·±åˆ»ã€æœ‰äº›æ¨¡ç³Šã€æœ‰äº›åˆ™è¢«å®Œå…¨é—å¿˜ï¼Œä½†æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®è®¤ä¸€ç‚¹ï¼šç›¸æ¯”èµ·æ¸…é†’æ—¶åˆ»çš„è®°å¿†ï¼Œå…³äºæ¢¦çš„è®°å¿†æˆ‘ä»¬æœ‰ç€æ›´åŠ å¼ºçƒˆçš„é—å¿˜è¶‹åŠ¿ï¼Œè€Œè¿™ç§é—å¿˜çš„è¶‹åŠ¿æ— æ³•è¢«æˆ‘ä»¬è‡ªå·±æ‰€æŒæ§ï¼Œæˆ‘ä»¬æ— æ³•é€‰æ‹©è‡ªå·±å¸Œæœ›è®°ä½çš„æ¢¦å’Œä¸æƒ³è®°ä½çš„æ¢¦ã€‚ ç¬¬äºŒåå…­èŠ‚ å¯¹æ¢¦çš„é—å¿˜å“ªäº›åŸå› å¯¼è‡´äº†æˆ‘ä»¬å¯¹æ¢¦å¢ƒçš„é—å¿˜ï¼Ÿç¬¬ä¸€ç‚¹ï¼šåœ¨åŒä¸€æ—¶é—´å†…ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè§‚å¯Ÿå’Œæ¥æ”¶ä¿¡æ¯çš„æ•°é‡æ˜¯éå¸¸æœ‰é™çš„ã€‚ ä½ å¯ä»¥æŠŠæ¢¦å¢ƒç†è§£ä¸ºå±å¹•ä¸Šçš„ä¸€å¹…å›¾åƒï¼Œé†’æ¥çš„ä¸€ç¬é—´ï¼Œå±å¹•ä¼šåœ¨æˆ‘ä»¬çœ¼å‰é—ªè¿‡ï¼Œç„¶åç¬é—´é»‘å±ã€‚ç”±äºç¬¬ä¸€æ—¶é—´æˆ‘ä»¬çš„è§†è§’åªèƒ½é›†ä¸­äºå›¾åƒä¸Šçš„æŸä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè®°ä½çš„æ¢¦å¢ƒä¹Ÿåªæœ‰ä¸€éƒ¨åˆ†ã€‚ ç¬¬äºŒç‚¹ï¼šå¤§è„‘è®°å¿†äº‹ç‰©æ˜¯éœ€è¦é‡å¤å·©å›ºçš„ï¼Œè€Œå¤§éƒ¨åˆ†çš„æ¢¦å¢ƒéƒ½æ˜¯ç‹¬ä¸€æ— äºŒï¼Œéš¾ä»¥é‡æ¸©çš„ä½“éªŒã€‚ ç¬¬ä¸‰ç‚¹ï¼šå¤§è„‘ä¸æ“…é•¿è®°å¿†æ²¡æœ‰è”ç³»çš„å†…å®¹ï¼Œè€Œå¤§å¤šæ•°æ¢¦ä¸ä¼šè¡¨ç°çš„äº•äº•æœ‰æ¡ï¼Œå¾€å¾€æ˜¯å¤©é©¬è¡Œç©ºã€‚ ç¬¬äºŒåä¸ƒèŠ‚ æ¢¦å¢ƒä¸­çš„æ€ç»´ç‰¹å¾æ¢¦å¢ƒä¸­çš„æ€ç»´ç‰¹å¾ç¬¬ä¸€ä¸ªç‰¹å¾ï¼ŒæŒ‡çš„æ˜¯æ¢¦å¢ƒå…·æœ‰ä¸€ç§æ¸…é†’æ—¶å€™ä¸å…·å¤‡çš„èƒ½åŠ›ï¼Œé‚£å°±æ˜¯æŠŠå…¨éƒ¨çš„æƒ³æ³•éƒ½ç”¨å¹»æƒ³å‡ºæ¥çš„ç”»é¢å’Œåœºæ™¯å±•ç°ã€‚æˆ–è€…è¯´ï¼Œç”¨å¹»è§‰å–ä»£äº†æ€ç»´æ´»åŠ¨ã€‚ åœ¨æ¢¦å¢ƒå½“ä¸­ï¼Œæ‰€æœ‰çš„è§‚å¿µéƒ½ä¼šè½¬å˜ä¸ºå¹»è§‰ï¼Œç”¨ç±»ä¼¼äºæˆå‰§åŒ–çš„æ–¹å¼å‘ˆç°å‡ºæ¥ï¼Œæˆ‘ä»¬ä¸æ˜¯å¯¼æ¼”å’Œè¯„è®ºå®¶ï¼Œè€Œæ˜¯æ¼”å‘˜å’Œè§‚ä¼—ã€‚ ç¬¬äºŒä¸ªç‰¹å¾ï¼Œå°±æ˜¯æ¢¦å¢ƒä¸­æˆ‘ä»¬ä¸ä¼šå¸¦æœ‰ä»»ä½•æˆè§ã€‚ä¸è®ºæ˜¯å¤šä¹ˆè’è°¬çš„ï¼ŒçœŸå®ä¸–ç•Œä¸­ç»æ— å¯èƒ½å‘ç”Ÿçš„äº‹æƒ…ï¼Œéƒ½æœ‰å¯èƒ½åœ¨æ¢¦ä¸­å‡ºç°ï¼Œå¹¶ä¸”è¢«æˆ‘ä»¬æ³°ç„¶è‡ªè‹¥çš„æ¥å—ã€‚ ç¬¬äºŒåå…«èŠ‚ æ¢¦çš„æ„ä¹‰(1)æ¢¦å­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆåœ¨ç”Ÿæ´»ä¸­ï¼Œè‡ªæˆ‘ä¼šå‚è€ƒè¶…æˆ‘å’Œæœ¬æˆ‘çš„æ„Ÿå—ï¼Œä»è€Œä½œå‡ºå†³å®šã€‚è¿™æ„å‘³ç€åªè¦æˆ‘ä»¬ä¿æŒæ¸…é†’ï¼Œé“å¾·å’Œæ¬²æœ›å°±æ— æ—¶ä¸åˆ»å½±å“ç€è‡ªæˆ‘ã€‚å°†éšè”½çš„æœ¬æ€§æ­ç¤ºåœ¨æˆ‘ä»¬é¢å‰å°±æ˜¯æ¢¦å­˜åœ¨çš„æœ€å¤§æ„ä¹‰ã€‚ è¿™ç§æœ¬æ€§å¹¶éæˆ‘ä»¬å½“ä¸‹çš„çœŸå®é¢ç›®ï¼Œè€Œæ˜¯è®©æˆ‘ä»¬çœ‹åˆ°åœ¨ä¸€ç§åˆ«æ ·çš„ç”Ÿå­˜æ–¹å¼ä¸‹ï¼Œæˆ‘ä»¬æœ‰å¯èƒ½æˆä¸ºçš„æ ·å­ã€‚ ç¬¬äºŒåä¹èŠ‚ æ¢¦çš„æ„ä¹‰(2)çªç ´æ€§è¿›æ­¥é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿›æ­¥çš„è¿‡ç¨‹éƒ½æ˜¯éå¸¸å±€é™çš„ï¼Œå› ä¸ºæˆ‘ä»¬è‡ªå·±å¿ƒé‡Œæœ‰ä¸€æ†ç§¤ï¼Œä¼šå…ˆåˆ¤æ–­ä»€ä¹ˆæ˜¯å¥½çš„ï¼Œä»€ä¹ˆæ˜¯å¯¹çš„ï¼Œä»€ä¹ˆæ˜¯æœ‰é“å¾·çš„ï¼Œä»€ä¹ˆæ˜¯è®©æˆ‘ä»¬å¼€å¿ƒçš„ã€‚æ¢å¥è¯è¯´ï¼Œæœ¬æˆ‘å’Œè¶…æˆ‘ä¼šæŒ‡å¼•æˆ‘ä»¬è¿›æ­¥çš„æ–¹å‘ï¼Œä½†åŒæ—¶ä¹Ÿé™åˆ¶æˆ‘ä»¬åªèƒ½å‘ä¸€ä¸ªæ–¹å‘å‰è¿›ã€‚æ¢¦èƒ½å¤Ÿå°†äººæœ€çœŸå®çš„æœ¬æ€§å±•ç°å‡ºæ¥ï¼Œè®©æˆ‘ä»¬çª¥æ¢åˆ°è‡ªå·±å†…å¿ƒæœ€ç§å¯†çš„ä¸œè¥¿ï¼Œä¹Ÿè®©æˆ‘ä»¬å¾—ä»¥ç»•å¼€æœ¬æˆ‘å’Œè¶…æˆ‘çš„å±€é™ï¼Œå®ç°çªç ´æ€§çš„è¿›æ­¥ã€‚ æ‹“å±•è§†é‡å½“äººåœ¨æ¢¦ä¸­å®ç°äº†è‡ªç„¶çŠ¶æ€çš„å›å½’ï¼Œå°½æƒ…å±•ç°ç€è‡ªæˆ‘çš„æœ¬èƒ½ã€‚éšç€å¿ƒçµé€æ¸æ‘†è„±äº†å·²çŸ¥è§‚å¿µçš„æŸç¼šï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿä»è¿™ä¸ªä¸–ç•Œè‡ªç„¶çœŸå®çš„ä¸€é¢è·å–æ›´å¤šçš„å¯å‘ã€‚åœ¨å¯¹äº‹ç‰©çš„ä¸€åˆ‡å¤„ç†ä¸Šï¼Œæ¢¦çš„æœ¬è´¨åæ˜ å‡ºäº†æˆ‘ä»¬è‡ªèº«æ›´çœŸå®çš„ä¸€é¢ï¼Œè¿™ä¸€é¢çš„ä¸°å¯Œç¨‹åº¦è¶…å‡ºäº†æˆ‘ä»¬åœ¨æ¸…é†’ç”Ÿæ´»ä¸­é€šè¿‡è§‚å¯Ÿã€æ€è€ƒå’Œå­¦ä¹ äº†è§£åˆ°çš„å…¨éƒ¨ã€‚æ¢¦å¢ƒé€šè¿‡çœŸå®çš„åŠ›é‡ï¼Œè®©æˆ‘ä»¬çœ‹åˆ°æ›´å¹¿é˜”çš„ä¸–ç•Œã€‚ ç¬¬ä¸‰åèŠ‚ å¤ä¹ è¯¾æ¢¦çš„æ¥æºäººä»¬æ‰€ç»å†ã€ä½“ä¼šè¿‡çš„ä¸œè¥¿ï¼Œæ˜¯æ„æˆæ¢¦çš„åŸææ–™ã€‚æ¢¦å¢ƒä¸ä¼šè®©è®°å¿†é‡å¤ä¸Šæ¼”ï¼Œä½†å¾€å¾€ä¼šé€šè¿‡å¤¸å¤§å’Œæ‹¼æ¥çš„æ–¹å¼å‘ˆç°ï¼ŒæŠŠè®°å¿†ä¸­çš„ç‰‡æ®µå˜æˆä¸€ä¸ªæ–°çš„åœºæ™¯æˆ–æ•…äº‹ã€‚æ‰€æœ‰è®°å¿†éƒ½å¯èƒ½å‡ºç°åœ¨æ¢¦å¢ƒä¸­ï¼Œç›¸å¯¹è€Œè¨€ï¼Œæœ‰ä¸‰ç±»è®°å¿†å‡ºç°çš„æ¬¡æ•°æœ€å¤šï¼šé—å¿˜è®°å¿†ã€ç«¥å¹´è®°å¿†ã€å’Œæˆ‘ä»¬ç»å†è¿‡çš„é‡è¦äº‹ä»¶ä¸­ä¸èµ·çœ¼çš„å°ç»†èŠ‚ã€‚ å‚¬ç”Ÿæ¢¦å¢ƒçš„åˆºæ¿€å¤–ç•Œå¯¹æ„Ÿå®˜å½¢æˆçš„åˆºæ¿€ã€æˆ‘ä»¬èººåœ¨åºŠä¸Šï¼Œé—­ä¸Šçœ¼åè„‘æµ·ä¸­æµ®ç°çš„å„ç§ç”»é¢ã€èº«ä½“å™¨å®˜ä¼ é€’å‡ºçš„ä¿¡å·ã€æ¸…é†’æ—¶å€™çš„æ·±åº¦æ€è€ƒï¼Œéƒ½ä¼šå¼•å‘å¯¹åº”çš„æ¢¦å¢ƒ ä¸ºä»€ä¹ˆä¼šé—å¿˜æ¢¦å¢ƒ1ã€ åœ¨åŒä¸€æ—¶é—´å†…ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè§‚å¯Ÿå’Œæ¥æ”¶ä¿¡æ¯çš„æ•°é‡æ˜¯éå¸¸æœ‰é™çš„ï¼Œè€Œå…³äºæ¢¦çš„è®°å¿†æ˜¯ç¬é—´çš„å¤§é‡ä¿¡æ¯ã€‚2ã€ å¤§è„‘è®°å¿†äº‹ç‰©æ˜¯éœ€è¦é‡å¤å·©å›ºçš„ï¼Œè€Œå¤§éƒ¨åˆ†çš„æ¢¦å¢ƒéƒ½æ˜¯ç‹¬ä¸€æ— äºŒï¼Œéš¾ä»¥é‡æ¸©çš„ä½“éªŒã€‚3ã€ å¤§è„‘ä¸æ“…é•¿è®°å¿†æ²¡æœ‰è”ç³»çš„å†…å®¹ï¼Œè€Œå¤§å¤šæ•°æ¢¦ä¸ä¼šè¡¨ç°çš„äº•äº•æœ‰æ¡ï¼Œå¾€å¾€æ˜¯å¤©é©¬è¡Œç©ºã€‚ æ¢¦å¢ƒçš„æ€ç»´ç‰¹å¾æ¢¦å¢ƒèƒ½å¤ŸæŠŠå…¨éƒ¨çš„æƒ³æ³•éƒ½ç”¨å¹»æƒ³å‡ºæ¥çš„ç”»é¢å’Œåœºæ™¯å±•ç°ï¼Œè€Œä¸”ä¸ä¼šå¸¦æœ‰ä»»ä½•æˆè§ã€‚ä¸è®ºæ˜¯å¤šä¹ˆè’è°¬çš„ï¼ŒçœŸå®ä¸–ç•Œä¸­ç»æ— å¯èƒ½å‘ç”Ÿçš„äº‹æƒ…ï¼Œéƒ½æœ‰å¯èƒ½åœ¨æ¢¦ä¸­å‡ºç°ï¼Œå¹¶ä¸”è¢«æˆ‘ä»¬æ³°ç„¶è‡ªè‹¥çš„æ¥å—ã€‚æ­£å› å¦‚æ­¤ï¼Œæ¢¦å¢ƒæ‰ä¼šå°†éšè”½çš„æœ¬æ€§æ­ç¤ºåœ¨æˆ‘ä»¬é¢å‰ï¼Œè®©æˆ‘ä»¬çª¥æ¢åˆ°è‡ªå·±å†…å¿ƒæœ€ç§å¯†çš„ä¸œè¥¿ï¼Œä¹Ÿè®©æˆ‘ä»¬å¾—ä»¥ç»•å¼€æœ¬æˆ‘å’Œè¶…æˆ‘çš„å±€é™ï¼Œå®ç°çªç ´æ€§çš„è¿›æ­¥ã€‚é€šè¿‡çœŸå®çš„åŠ›é‡ï¼Œè®©æˆ‘ä»¬çœ‹åˆ°æ›´å¹¿é˜”çš„ä¸–ç•Œã€‚ ç¬¬ä¸‰åä¸€èŠ‚ äººçš„éœ€æ±‚ï¼ˆ1ï¼‰ä½•ä¸ºæ¬²æœ›å‡†ç¡®æ¥è¯´ï¼Œæ¬²æœ›å°±æ˜¯ç”±äººçš„æœ¬æ€§äº§ç”Ÿçš„ï¼Œæƒ³è¾¾åˆ°æŸç§ç›®çš„çš„éœ€æ±‚ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡é©¬æ–¯æ´›çš„éœ€æ±‚å±‚æ¬¡ç†è®ºæ¥æ‹†åˆ†æ¬²æœ›ã€‚ ç”Ÿç†éœ€æ±‚ç”Ÿç†éœ€æ±‚æ˜¯äººä»¬æœ€åŸå§‹ã€æœ€åŸºæœ¬çš„éœ€è¦ã€‚å®ƒæ˜¯æœ€å¼ºçƒˆçš„ä¸å¯é¿å…çš„æœ€åº•å±‚éœ€è¦ï¼Œä¹Ÿæ˜¯æ¨åŠ¨äººä»¬è¡ŒåŠ¨çš„å¼ºå¤§åŠ¨åŠ›ã€‚ä½†å½“ä¸€ä¸ªäººçš„ç”Ÿç†éœ€æ±‚æ²¡æœ‰å¾—åˆ°æ»¡è¶³æ—¶ï¼Œå…¶ä»–ä¸€åˆ‡éœ€è¦å‡é€€å±…æ¬¡è¦åœ°ä½ã€‚ å®‰å…¨éœ€æ±‚å®‰å…¨éœ€æ±‚æŒ‡çš„æ˜¯äººä»¬å¯¹äºè‡ªèº«å®‰å…¨çš„è¿½æ±‚ã€‚åŒ…æ‹¬äººèº«å®‰å…¨ã€èº«ä½“å¥åº·ã€ç¨³å®šçš„æ”¶å…¥ã€ç¨³å®šçš„ç¤¾ä¼šå…³ç³»å’Œå·¥ä½œç­‰ç­‰ã€‚å®‰å…¨éœ€æ±‚æ¯”ç”Ÿç†éœ€æ±‚æ›´é«˜ä¸€çº§ï¼Œå½“äººçš„ç”Ÿç†éœ€æ±‚å¾—åˆ°æ»¡è¶³ä»¥åï¼Œå®‰å…¨éœ€æ±‚å°±ä¼šæ˜¾ç°ã€‚ ç¬¬ä¸‰åäºŒèŠ‚ äººçš„éœ€æ±‚ï¼ˆ2ï¼‰ç¤¾äº¤éœ€æ±‚ç¤¾äº¤éœ€æ±‚åˆå«å½’å±ä¸çˆ±çš„éœ€è¦ï¼Œæ˜¯æŒ‡æˆ‘ä»¬æ¯ä¸ªäººå¯¹å®¶åº­ã€é›†ä½“ã€æœ‹å‹ã€åŒäº‹çš„å…³æ€€ã€çˆ±æŠ¤å’Œç†è§£çš„æ¸´æœ›ã€‚åœ¨ç”Ÿæ´»ä¸­æœ€ä»¤æˆ‘ä»¬æ„Ÿåˆ°ç¾å¥½çš„å‹æƒ…ã€ä¿¡ä»»ã€æ¸©æš–å’Œçˆ±æƒ…ï¼Œéƒ½å±äºç¤¾äº¤éœ€æ±‚çš„èŒƒç•´ã€‚ å°Šé‡éœ€æ±‚å°Šé‡éœ€æ±‚åŒ…å«å†…éƒ¨å°Šé‡å’Œå¤–éƒ¨å°Šé‡ä¸¤ç§ã€‚å†…éƒ¨å°Šé‡æŒ‡çš„æ˜¯äººå¯¹äºè‡ªå·±çš„è¯„ä»·å’Œè¦æ±‚ï¼Œå¸Œæœ›è‡ªå·±å…·å¤‡è¾ƒå¼ºçš„èƒ½åŠ›å’Œé“å¾·ï¼Œåœ¨å„ç§ä¸åŒç¯å¢ƒä¸­éƒ½èƒ½å¤Ÿé€‚åº”æŒ‘æˆ˜ã€å……æ»¡ä¿¡å¿ƒã€ç‹¬ç«‹è‡ªä¸»ã€‚å¤–éƒ¨å°Šé‡æ˜¯æŒ‡äººä»¬æ¸´æœ›è‡ªå·±æ‹¥æœ‰ä¸€ä¸ªä½“é¢ä¸”å—åˆ°æ‰¿è®¤çš„ç¤¾ä¼šåœ°ä½ï¼Œæœ‰ä¸€å®šçš„å¨ä¿¡ï¼Œè‡ªå·±çš„ä¸ªäººèƒ½åŠ›å’Œå–å¾—çš„æˆå°±èƒ½å¤Ÿå¾—åˆ°ä»–äººçš„è®¤å¯ã€å°Šé‡ã€ä¿¡èµ–å’Œèµèª‰ã€‚ ç¬¬ä¸‰åä¸‰èŠ‚ äººçš„éœ€æ±‚ï¼ˆ3ï¼‰è®¤çŸ¥éœ€æ±‚è®¤çŸ¥éœ€æ±‚ï¼ŒæŒ‡çš„æ˜¯äººå¯¹è‡ªèº«å’Œå‘¨å›´ä¸–ç•Œçš„æ¢ç´¢ã€ç†è§£ä»¥åŠè§£å†³ç–‘éš¾é—®é¢˜çš„æ¸´æœ›ã€‚äººç±»æ–‡æ˜èƒ½æœ‰ä»Šå¤©è¿™ä¹ˆæƒŠäººçš„å‘å±•ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå°±æ˜¯å¾—ç›Šäºè®¤çŸ¥éœ€æ±‚çš„æ¨åŠ¨ã€‚å½“æˆ‘ä»¬è§£å†³äº†æ¸©é¥±ï¼Œæ‹¥æœ‰äº†çˆ±æƒ…å’Œå‹æƒ…ï¼Œå—åˆ°äº†å°Šé‡ï¼Œå‘å±•ç§‘å­¦æŠ€æœ¯ï¼Œæ¢ç´¢ä¸–ç•Œå°±ä¼šæˆä¸ºæˆ‘ä»¬æ–°çš„ç›®æ ‡ã€‚ å®¡ç¾éœ€æ±‚â€œçˆ±ç¾ä¹‹å¿ƒäººçš†æœ‰ä¹‹â€ï¼Œæ¯ä¸ªäººéƒ½å–œæ¬¢æ¬£èµç¾çš„äº‹ç‰©ï¼Œæ— è®ºæ˜¯ç¾ä¸½çš„é¢å­”ã€å£®ä¸½çš„é£æ™¯ã€è¿˜æ˜¯è‰ºæœ¯å®¶çš„æ°ä½œã€‚ è‡ªæˆ‘å®ç°éœ€æ±‚è‡ªæˆ‘å®ç°éœ€æ±‚æ˜¯æœ€é«˜ç­‰çº§çš„éœ€è¦ï¼ŒæŒ‡çš„æ˜¯äººä»¬ä¼šç«­å°½æ‰€èƒ½ï¼Œä½¿è‡ªå·±è¶‹äºå®Œç¾ï¼Œå®ç°è‡ªå·±çš„ç†æƒ³å’Œç›®æ ‡ï¼Œè·å¾—æˆå°±æ„Ÿã€‚è‡ªæˆ‘å®ç°éœ€æ±‚æœ€å¤§çš„ç‰¹ç‚¹æ˜¯æˆ‘ä»¬ä¸å†æŠŠç›®å…‰é›†ä¸­åœ¨å¤–ç•Œï¼Œè€Œæ˜¯å›å½’è‡ªæˆ‘ï¼Œä¸å†æ‰§ç€äºè¾¾æˆæŸç§ç›®çš„ï¼Œç”Ÿæ´»æœ¬èº«å°±æˆä¸ºäº†æœ€å¤§çš„ç›®çš„ã€‚ ç¬¬ä¸‰åå››èŠ‚ æ‹©å¶çš„æ„ä¹‰æ‹©å¶è¡Œä¸ºæ˜¯ç¤¾ä¼šç”Ÿæ´»çš„ä¸­å¿ƒæƒ³è¦åœ¨è¡Œä¸ºå±‚é¢ä¸Šæ›´å¥½çš„ç†è§£æ¬²æœ›ï¼Œéœ€è¦åœ¨æ‰€æœ‰çš„ç¤¾ä¼šæ´»åŠ¨ä¸­æ‰¾åˆ°ä¸€ä¸ªæœ€å¹¿æ³›ã€æœ€é‡è¦ã€æœ€ä¾¿äºç†è§£çš„è¡Œä¸ºï¼Œæ²¡æœ‰å“ªç§è¡Œä¸ºèƒ½å¤Ÿåƒå¯»æ‰¾ä¼´ä¾£ä¸€æ ·ï¼Œé©±åŠ¨ç€æˆ‘ä»¬éœ€æ±‚çš„æ–¹æ–¹é¢é¢ã€‚ çˆ±æƒ…æ˜¯ç¤¾äº¤éœ€æ±‚çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œæƒ…æ„Ÿå…³ç³»çš„ç¨³å®šæ€§å½±å“åˆ°æˆ‘ä»¬çš„å®‰å…¨éœ€æ±‚ï¼Œå’Œä¼´ä¾£çš„å½¼æ­¤å°Šé‡å’Œå­¦ä¹ æ»¡è¶³äº†è®¤çŸ¥éœ€æ±‚å’Œå°Šé‡éœ€æ±‚ï¼Œç¾å¥½å’Œè°çš„å®¶åº­æœ‰åŠ©äºäººçš„è‡ªæˆ‘å®ç°ã€‚å¯ä»¥è¯´ï¼Œå‡ ä¹æ¯ä¸€å±‚æ¬¡çš„éœ€æ±‚ï¼Œéƒ½ç¦»ä¸å¼€ä¸ä¼´ä¾£çš„ç›¸å¤„ã€‚ å¦‚æœç”·æ€§èƒ½å¤Ÿäº†è§£å¥³æ€§çš„è¯‰æ±‚ï¼Œå¥³æ€§èƒ½å¤Ÿä»£å…¥ç”·æ€§çš„è§†è§’ï¼Œæ€§åˆ«å·®å¼‚å¸¦æ¥çš„æ²Ÿé€šä»£æ²Ÿå°±ä¼šå¾—åˆ°ç¼“è§£ã€‚ ç¬¬ä¸‰åäº”èŠ‚ æ‹©å¶åå¥½æ˜¯ç”·ç”Ÿä¸ç”¨å¿ƒï¼Œè¿˜æ˜¯å¥³ç”Ÿå¤ªæŒ‘å‰”åœ¨ä¸¤æ€§å…³ç³»ä¸­ï¼Œä¹‹æ‰€ä»¥å¥³æ€§å¯¹ç»†èŠ‚æœ‰æ›´å¤šè¦æ±‚ï¼ŒèƒŒååŸå› è¦è¿½æº¯åˆ°ä¸Šå¤æ—¶ä»£ã€‚åœ¨å¦‚ä»Šè¿™ä¸ªå‘è¾¾çš„ç¤¾ä¼šå½“ä¸­ï¼Œäººä»¬çš„ç”Ÿæ´»è¿½æ±‚æ˜¯ä¸°å¯Œä¸”å¤æ‚çš„ï¼Œçˆ±æƒ…ä¹Ÿè¢«èµ‹äºˆäº†æµ“åšçš„äººæ–‡æ„ä¹‰ã€‚ä½†æ˜¯ï¼Œåœ¨ç”Ÿæ´»è´«ç˜ ï¼Œå°šæœªå¼€åŒ–çš„å¹´ä»£é‡Œï¼Œäººå’Œä¸–ç•Œä¸Šå¤§éƒ¨åˆ†ç”Ÿå‘½ä¸€æ ·ï¼Œåªæœ‰ä¸¤ç§ç®€å•æ˜ç¡®çš„è¯‰æ±‚ï¼šç”Ÿå­˜å’Œç¹è¡ã€‚ æ²¡æœ‰å´‡é«˜çš„çˆ±æƒ…ï¼Œä¹Ÿç¼ºä¹å®Œå–„çš„ç¤¾ä¼šèƒŒæ™¯ï¼Œåœ¨é‚£ä¸ªå¹´ä»£é‡Œï¼Œæ‹©å¶è¡Œä¸ºæ˜¯å®Œå…¨å›´ç»•ç¹è¡å±•å¼€çš„ã€‚æƒ³è¦å­•è‚²ä¸€ä¸ªç”Ÿå‘½ï¼Œç”·æ€§åªéœ€è¦å¾ˆå°çš„æˆæœ¬ï¼Œè€Œå¥³æ€§å´éœ€è¦æ‰¿å—æ¥è¿‘ä¸€å¹´çš„å­•æœŸï¼Œè¿™æ˜¯ä¸€é¡¹ä¸å¯æ¨å¸çš„ã€æ¶ˆè€—å·¨å¤§çš„æŠ•èµ„ã€‚ æ­£å› å¦‚æ­¤ï¼Œå¥³æ€§å¿…é¡»åœ¨é€‰æ‹©ä¼´ä¾£æ—¶ä¸¥æ ¼æŠŠå…³ï¼Œæ³¨é‡ç»†èŠ‚ã€‚å› ä¸ºä¸€æ—¦åšå‡ºäº†é€‰æ‹©ï¼Œå‡ ä¹å°±æ˜¯èµŒä¸Šäº†è‡ªå·±çš„ä¸€ç”Ÿã€‚éšç€ç§‘å­¦æŠ€æœ¯çš„å‘å±•ï¼Œç”Ÿè‚²å·²ç»æ˜¯å¯ä»¥æ§åˆ¶çš„äº‹æƒ…ã€‚äººä»¬é€‰æ‹©ä¼´ä¾£ä¹Ÿä¸å†æ˜¯åªä¸ºäº†ç¹è¡ï¼Œç”šè‡³è¿˜æœ‰ä¸å…‹å®¶åº­çš„å‡ºç°ã€‚ä½†ç¥–ç¥–ä»£ä»£åƒç™¾å¹´æ¥å½¢æˆçš„å¿ƒç†ç‰¹å¾ï¼Œæ—©å·²èå…¥äº†æœ¬èƒ½å½“ä¸­ï¼Œä¸ä¼šè½»æ˜“çš„ä»æˆ‘ä»¬èº«ä¸ŠæŠ¹å»ã€‚ ç¬¬ä¸‰åå…­èŠ‚ ä¸¤ç§èƒ½åŠ›ã€ä¸‰ä¸ªç‰¹å¾ä¸¤ç§å¤©ç”Ÿçš„èƒ½åŠ›å¥³æ€§åœ¨é€‰æ‹©ä¼´ä¾£æ—¶ï¼Œå¤©ç„¶å…·å¤‡ä¸¤ç§èƒ½åŠ›ã€‚ç¬¬ä¸€ç§èƒ½åŠ›æ˜¯ä»ç”·æ€§çš„æˆåƒä¸Šä¸‡ç§å·®å¼‚ä¸­ï¼Œç­›é€‰å‡ºæœ€å…·ä»·å€¼çš„å°‘æ•°ç‰¹å¾ã€‚çŸ¥é“è§‚å¯Ÿä¸€ä¸ªäººçš„æ—¶å€™è¦é‡ç‚¹å…³æ³¨å“ªäº›æ–¹é¢ã€‚ç¬¬äºŒç§èƒ½åŠ›æ˜¯æŠŠå…³é”®çš„ç‰¹å¾ä¸è‡ªå·±çš„ä¸ªäººéœ€è¦å’Œç‹¬ç‰¹å¢ƒå†µç»“åˆè¿›è¡Œåˆ†æã€‚ ä¸‰ç±»å…³é”®ç‰¹å¾å¥³æ€§å…³æ³¨çš„å…³é”®ç‰¹å¾ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼šèµ„æºã€æ½œåŠ›å’Œç”Ÿæ´»åŸºç¡€ã€‚ èµ„æºæŒ‡çš„æ˜¯ä¸€ä¸ªç”·æ€§åœ¨å½“ä¸‹è·å–å’Œæ§åˆ¶ç¤¾ä¼šèµ„æºçš„èƒ½åŠ›ï¼Œè¿™ç§èƒ½åŠ›ç”±ç»æµå®åŠ›ã€ç¤¾ä¼šåœ°ä½å’Œåˆé€‚çš„å¹´é¾„å…±åŒç»„æˆã€‚ å¯¹ç»æµå®åŠ›çš„é€‚åº¦å…³æ³¨ï¼Œå¹¶ä¸æ˜¯æ‹œé‡‘ä¸»ä¹‰æˆ–è€…æ”€é™„æƒè´µï¼Œè€Œæ˜¯å¯¹è‡ªå·±å’Œæœªæ¥ç”Ÿæ´»è´Ÿè´£çš„æœ¬èƒ½è¡Œä¸ºã€‚ ç¬¬ä¸‰åä¸ƒèŠ‚ ç¤¾ä¼šåœ°ä½ä¸å¹´é¾„åå¥½çœ‹é‡ç¤¾ä¼šåœ°ä½çš„åŸå› ç¤¾ä¼šåœ°ä½å’Œç»æµå®åŠ›å…·æœ‰è¾ƒå¼ºçš„ç›¸å…³æ€§ã€‚ç¤¾ä¼šåœ°ä½æ›´é«˜çš„äººæ™®éæ‹¥æœ‰æ›´å¤šè´¢å¯Œï¼Œå¯¹ç»æµå®åŠ›çš„è¿½æ±‚ä¹Ÿä¼šæŠ˜å°„åœ¨ç¤¾ä¼šåœ°ä½ä¹‹ä¸­ã€‚ ç¤¾ä¼šåœ°ä½è±¡å¾ç€ä¸€ä¸ªäººæ˜¯å¦è¢«ç¤¾ä¼šä¸»æµçš„ä»·å€¼è§‚æ‰€æ‰¿è®¤ã€‚é€‰æ‹©ç¤¾ä¼šåœ°ä½é«˜çš„ç”·æ€§ä½œä¸ºä¼´ä¾£ï¼Œå…¶å®å°±ç›¸å½“äºå¾æ±‚äº†æ•´ä¸ªç¤¾ä¼šçš„æ„è§ï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„é™ä½åšå‡ºé”™è¯¯åˆ¤æ–­çš„æ¦‚ç‡ã€‚ å¹´é¾„åå¥½ä¸èƒŒåçš„å¤æ‚æ€è€ƒè¡¨é¢ä¸Šçœ‹ï¼Œå¤§å”å’Œå°é²œè‚‰éƒ½å¾ˆå—å¥³ç”Ÿçš„æ¬¢è¿ï¼Œå¹´é¾„ä¼¼ä¹ä¸ä¼šå½±å“ç”·æ€§çš„é­…åŠ›ã€‚ä½†è¿™ç§å–œçˆ±ï¼Œæ›´ç±»ä¼¼äºç²‰ä¸å¯¹äºå¶åƒçš„è¿½æ§ï¼Œæˆ–æ˜¯å¯¹äºå°‘æ•°å‡ ä¸ªç‰¹å¾çš„åå¥½ã€‚æ ¹æ®å¿ƒç†å­¦æƒå¨æˆ´ç»´å·´æ–¯æ•™æˆçš„ç ”ç©¶ï¼ŒçœŸæ­£åˆ°äº†ç»„å»ºå®¶åº­ï¼Œæ•²å®šäººç”Ÿå¤§äº‹çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†å¥³æ€§å€¾å‘äºé€‰æ‹©æ¯”è‡ªå·±å¤§ä¸‰å²åŠå·¦å³çš„ç”·æ€§ä½œä¸ºä¼´ä¾£ã€‚ è¿™ç§æœ¬èƒ½åå¥½çš„èƒŒåï¼Œå…¶å®æ˜¯å¤šç§å› ç´ æƒè¡¡å–èˆåçš„ç»¼åˆè€ƒè™‘ï¼šç”·æ€§çš„å¹´é¾„è¶Šå¤§ï¼Œç¤¾ä¼šåœ°ä½å’Œç»æµå®åŠ›å°±è¶Šå¼ºï¼Œä½†å‘å±•æ½œåŠ›åˆ™è¶Šæ¥è¶Šå°‘ï¼Œå¦‚æœè¿‡äºå¹´é•¿ï¼Œæ²Ÿé€šä¸Šä¼šæœ‰ä»£æ²Ÿï¼Œå¤«å¦»äºŒäººæºæ‰‹å…±åº¦çš„æ—¶å…‰ä¹Ÿä¼šæ›´çŸ­ã€‚ ç¬¬ä¸‰åå…«èŠ‚ æ½œåŠ›åå¥½ä¸æ½œåŠ›ç›¸å…³çš„ç‰¹å¾æ½œåŠ›ç”±ä¸‰ä¸ªç‰¹å¾å…±åŒç»„æˆï¼šåˆ†åˆ«æ˜¯å‹¤å¥‹ã€æƒ…ç»ªç¨³å®šæ€§ä¸æ‰åã€‚å¦‚æœè¯´ç»æµå®åŠ›å’Œç¤¾ä¼šåœ°ä½ä»£è¡¨äº†å½“ä¸‹æŒæ§çš„èµ„æºï¼Œé‚£ä¹ˆä¸€ä¸ªå‹¤å¥‹ã€æƒ…ç»ªç¨³å®šä¸”æ‰åæ¨ªæº¢çš„äººï¼Œå³ä¾¿å½“å‰èº«æ— åˆ†æ–‡ï¼Œä¹Ÿæ²¡æœ‰è¾ƒé«˜çš„ç¤¾ä¼šåœ°ä½ï¼Œä¹Ÿä¼šå› ä¸ºèƒ½å¤Ÿåœ¨æœªæ¥é•¿æœŸçš„ã€æŒç»­çš„è·å–èµ„æºï¼ŒåŒæ ·è·å¾—å¥³æ€§çš„åçˆ±ã€‚ ä»é•¿æœŸæ¥çœ‹ï¼Œè‡ªè®¤ä¸ºå·¥ä½œåŠªåŠ›ï¼Œæ‰åæ¨ªæº¢ï¼Œå¹¶ä¸”å¾—åˆ°å‘¨å›´äººè®¤å¯çš„ä¸ªä½“ï¼Œæ¯”èµ·å…¶ä»–äººè·å¾—äº†æ›´é«˜çš„æ•™è‚²æ°´å¹³ï¼Œæ‹¥æœ‰æ›´é«˜çš„å¹´æ”¶å…¥ï¼Œå¹¶ä¸”é¢„æœŸä¼šæœ‰æ›´å¤šçš„å‡èŒæœºä¼šã€‚ å¦‚æœç”Ÿæ´»æ˜¯ä¸€åœºæ²¡æœ‰å˜æ•°çš„ç«äº‰ï¼Œé‚£ä¹ˆåªä¾é åŠªåŠ›ä¸æ‰åå‡ºä¼—å°±è¶³å¤Ÿäº†ã€‚ä½†äººç”Ÿæ€»æ˜¯å……æ»¡äº†å˜æ•°ï¼Œä¿æŒç¨³å®šï¼Œæ‹¥æŠ±å˜åŒ–çš„èƒ½åŠ›åŒæ ·å¾ˆé‡è¦ï¼Œè¿™å°±æ˜¯æƒ…ç»ªç¨³å®šæ€§çš„ä½œç”¨ã€‚ æƒ…å•†çš„å…¨ç§°å«åšæƒ…ç»ªå•†æ•°ï¼Œè·Ÿæƒ…ç»ªç¨³å®šæ€§æ˜¯éå¸¸ç±»ä¼¼çš„æ¦‚å¿µã€‚æƒ…å•†é«˜å½¢å®¹çš„å¹¶ä¸æ˜¯â€œä¼šè¯´è¯ï¼Œä¼šçœ‹äººè„¸è‰²åŠäº‹â€ï¼Œè€Œæ˜¯æŒ‡èƒ½å¤Ÿå¿«é€Ÿé€‚åº”ç”Ÿæ´»çš„å„ç§å˜åŒ–ï¼Œèƒ½å¤Ÿåœ¨æ‰¿å—å‹åŠ›çš„æƒ…å†µä¸‹ä¿æŒå¸¸æ€ã€‚ ç¬¬ä¸‰åä¹èŠ‚ ç”Ÿæ´»åŸºç¡€åå¥½ä¸ç”Ÿæ´»åŸºç¡€ç›¸å…³çš„ç‰¹å¾ç”Ÿæ´»åŸºç¡€ç”±å››ä¸ªå…·ä½“çš„ç‰¹å¾å…±åŒç»„æˆï¼Œåˆ†åˆ«æ˜¯å’Œè°å…±å¤„ã€ä½“æ ¼ã€å¥åº·å’Œå¯¹çˆ±çš„æ‰¿è¯ºã€‚ å’Œè°ç›¸å¤„ï¼Œæ„å‘³ç€æ€§æ ¼äº’è¡¥ã€æ€æƒ³ç›¸ä¼¼ã€‚äº’è¡¥çš„æ€§æ ¼èƒ½å¤Ÿé™ä½ä¼´ä¾£é—´å‘ç”Ÿäº‰åµçš„æ¦‚ç‡ï¼Œæ€æƒ³çš„ç›¸ä¼¼æ„å‘³ç€ç±»ä¼¼çš„ç”Ÿæ´»ä¹ æƒ¯ã€çˆ±å¥½ï¼Œè¿˜èƒ½ç¡®ä¿åœ¨äººç”Ÿçš„é•¿è¿œè¿½æ±‚ä¸Šä¿æŒä¸€è‡´ã€‚ è‰¯å¥½çš„ä½“æ ¼å’Œå¥åº·ï¼Œæ—¢æ»¡è¶³äº†å®¡ç¾éœ€æ±‚ï¼Œä¹Ÿç…§é¡¾äº†å®‰å…¨éœ€æ±‚ã€‚ å¯¹çˆ±çš„æ‰¿è¯ºä¹Ÿéå¸¸é‡è¦ã€‚å¦‚æœç”·æ€§ä¸èƒ½ä¸‹å®šå†³å¿ƒå»ºç«‹é•¿æœŸå…³ç³»ï¼Œä»–çš„æ¡ä»¶å†å¥½ï¼Œå¯¹äºå¥³æ€§æ¥è¯´ä¹Ÿæœ‰å¯èƒ½æ˜¯ç«¹ç¯®æ‰“æ°´ä¸€åœºç©ºã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¼šæœ‰æ±‚å©šè¿™ä¸ªç¯èŠ‚ï¼Œè€Œä¸”è¿˜è¦ç”¨æ˜‚è´µçš„å©šæˆ’æ¥ä¸ºè¿™ä»½æ‰¿è¯ºå¢æ·»åˆ†é‡ã€‚ åœ¨ä½ æ„è¯†ä¸åˆ°çš„åœ°æ–¹ï¼Œæœ¬èƒ½ä¹Ÿä¼šæ€è€ƒåœ¨æ‹©å¶æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šåˆ»æ„å»å›´ç»•è¿™äº›å¤æ‚çš„å› ç´ é€ä¸€æ€è€ƒã€‚ä½†æ½œæ„è¯†ä¸­æ— æ³•ç›´æ¥æ„ŸçŸ¥åˆ°çš„å¿ƒç†æ´»åŠ¨ä¼šæœ¬èƒ½åœ°è¿›è¡Œåˆ¤æ–­ï¼Œå¹¶é€šè¿‡æƒ…ç»ªçš„æ–¹å¼ç›´æ¥ä¼ é€’ç»“æœã€‚ è¿™éƒ¨åˆ†æ— æ³•æ„ŸçŸ¥çš„è‡ªæˆ‘ï¼Œæ˜¯æ¢ç´¢è‡ªæˆ‘ä¹‹æ—…éå¸¸é‡è¦çš„ç ”ç©¶å¯¹è±¡ã€‚ ç¬¬å››åèŠ‚ ä¸¤æ€§çš„æ‹©å¶å·®å¼‚å¥³æ€§å¯¹ç”·æ€§çš„æ”¹å˜ä»ç¹è¡æœ¬èƒ½çš„è§’åº¦å‡ºå‘ï¼Œç”·æ€§å¯¹äºæ‹©å¶çš„è¦æ±‚å¹¶ä¸å¤æ‚ï¼Œå› ä¸ºæœ€ç†æƒ³çš„ç­–ç•¥å¹¶ä¸æ˜¯å¯»æ‰¾æœ€åˆé€‚çš„ä¼´ä¾£ï¼Œæ‰¿è¯ºçˆ±æƒ…å’Œç›¸ä¼´ç»ˆç”Ÿï¼Œè€Œæ˜¯å’Œå°½å¯èƒ½å¤šçš„å¥³æ€§ä¿æŒäº²å¯†å…³ç³»ã€‚æ•°é‡æ¯”è´¨é‡æ›´é‡è¦ï¼Œé‚£ä¹ˆä¹Ÿå°±è°ˆä¸ä¸Šè¦ç­›é€‰ä¼´ä¾£ã€‚ ç”·æ€§ä¹‹æ‰€ä»¥å˜å¾—â€œä¸“ä¸€â€ï¼Œä¸€æ–¹é¢æ˜¯äººä¸æ­¢ä¼šæ ¹æ®æœ¬èƒ½æ€è€ƒï¼Œå¦ä¸€æ–¹é¢ï¼Œæ˜¯å› ä¸ºå¥³æ€§ä¸ä»…è¦æ±‚ç”·æ€§æœ‰èµ„æºã€æœ‰æ½œåŠ›ï¼Œè¿˜è¦æ±‚ä»–å¯¹çˆ±æƒ…è¿›è¡Œæ‰¿è¯ºã€‚ä¸“ä¸€çš„ç”·æ€§ä¼šæ›´å—æ¬¢è¿ï¼Œèƒ½å¤ŸæŠŠè‡ªå·±ä¸“ä¸€çš„åŸºå› é—ä¼ ä¸‹æ¥ã€‚ ç¬¬å››åä¸€èŠ‚ å¹´è½»ã€å¥åº·ä¸å¿ è¯šåˆ¤æ–­å¥åº·çš„æ–¹å¼åœ¨åŒ»å­¦ä¸å‘è¾¾çš„ä¸Šå¤æ—¶ä»£ï¼Œåªèƒ½é€šè¿‡è§‚å¯Ÿå¤–éƒ¨ç‰¹å¾æ¥åˆ¤æ–­å¥åº·æƒ…å†µã€‚å¤–éƒ¨ç‰¹å¾ä¸»è¦æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯è¡Œä¸ºç‰¹å¾ï¼Œæ¯”å¦‚æ´»æ³¼çš„æ€§æ ¼ã€èµ°è·¯æ—¶è½»å¿«çš„æ­¥ä¼ã€‚å¦ä¸€ç§æ˜¯èº«ä½“ç‰¹å¾ï¼Œæ¯”å¦‚ä¸°æ»¡çš„å˜´å”‡ã€æ˜äº®çš„è‚¤è‰²ã€å…‰æ»‘çš„çš®è‚¤ã€æ¸…æ¾ˆçš„çœ¼ç¥ã€å¯Œæœ‰å…‰æ³½çš„å¤´å‘å’ŒåŒ€ç§°çš„è‚Œè‚‰ã€‚è¿™äº›èƒ½å¤Ÿä½“ç°å¥åº·çš„è±¡å¾ï¼Œæ°æ°ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨å®¡ç¾æ—¶çš„åå¥½ã€‚ çˆ±ç¾ä¹‹å¿ƒï¼Œäººçš†æœ‰ä¹‹ã€‚ä»æ ¹æºä¸Šæ¥è¯´ï¼Œæœ€åˆçš„ç¾ï¼Œå°±æ˜¯èƒ½å¤Ÿåæ˜ å¥åº·çŠ¶æ€çš„èº«ä½“ç‰¹å¾ã€‚å½“æˆ‘ä»¬è§‰å¾—ä¸€ä¸ªäººå¥½çœ‹çš„æ—¶å€™ï¼Œå…¶å®æ˜¯æœ¬èƒ½é€šè¿‡è‡ªå·±çš„åˆ¤æ–­ï¼Œè®¤å¯äº†å¯¹æ–¹çš„å¥åº·çŠ¶å†µã€‚ ç¬¬å››åäºŒèŠ‚ å¤ä¹ è¯¾æ‹©å¶åå¥½çš„èµ·æºç”Ÿå‘½çš„ä¸¤ä¸ªåŸºæœ¬è¯‰æ±‚æ˜¯ç”Ÿå­˜å’Œç¹è¡ï¼Œæ‹©å¶è¡Œä¸ºæ˜¯ç”±ç¹è¡è¯‰æ±‚è¡ç”Ÿå‡ºæ¥çš„ã€‚ä¸ºäº†åœ¨æ‹©å¶æ—¶åšå‡ºæ­£ç¡®çš„åˆ¤æ–­ï¼Œéœ€è¦ä»äººçš„æˆåƒä¸Šä¸‡ç§å·®å¼‚ä¸­ï¼Œç­›é€‰å‡ºæœ€å…·ä»·å€¼çš„å°‘æ•°ç‰¹å¾ï¼Œè¿™äº›ç‰¹å¾å°±æ˜¯æ‹©å¶åå¥½ã€‚ è¿™ç§åå¥½ä¸éœ€è¦åˆ»æ„æ€è€ƒï¼Œè€Œæ˜¯é€šè¿‡æ½œæ„è¯†ä¸­æ— æ³•ç›´æ¥æ„ŸçŸ¥åˆ°çš„å¿ƒç†æ´»åŠ¨è¿›è¡Œåˆ¤æ–­ï¼Œå¹¶é€šè¿‡æƒ…ç»ªçš„æ–¹å¼ç›´æ¥ä¼ é€’ç»“æœã€‚ å¥³æ€§çš„æ‹©å¶åå¥½ç”Ÿè‚²éœ€è¦å¥³æ€§è¿›è¡Œå·¨å¤§çš„æŠ•å…¥ï¼Œéœ€è¦ä¼´ä¾£ç»™äºˆå……è¶³çš„èµ„æºæ”¯æŒï¼Œå› æ­¤å¥³æ€§çš„æ‹©å¶åå¥½æ˜¯å›´ç»•â€œèµ„æºâ€å±•å¼€çš„ã€‚ å¥³æ€§å…³æ³¨çš„å…³é”®ç‰¹å¾ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼šèµ„æºã€æ½œåŠ›å’Œç”Ÿæ´»åŸºç¡€ã€‚ èµ„æºæŒ‡çš„æ˜¯ä¸€ä¸ªç”·æ€§åœ¨å½“ä¸‹è·å–å’Œæ§åˆ¶ç¤¾ä¼šèµ„æºçš„èƒ½åŠ›ï¼Œè¿™ç§èƒ½åŠ›ç”±ç»æµå®åŠ›ã€ç¤¾ä¼šåœ°ä½å’Œåˆé€‚çš„å¹´é¾„å…±åŒç»„æˆã€‚ æ½œåŠ›æŒ‡çš„æ˜¯åœ¨æœªæ¥é•¿æœŸã€æŒç»­è·å–èµ„æºçš„èƒ½åŠ›ï¼Œè¿™ç§èƒ½åŠ›ç”±ä¸‰ä¸ªç‰¹å¾å…±åŒç»„æˆï¼šåˆ†åˆ«æ˜¯å‹¤å¥‹ã€æƒ…ç»ªç¨³å®šæ€§ä¸æ‰åã€‚ èµ„æºå¸¦æ¥çš„ç”Ÿæ´»æ¡ä»¶çš„ä¿è¯åªæ˜¯åŸºç¡€ï¼Œäººä¸äººä¹‹é—´çš„ç›¸å¤„æ˜¯å¦æ„‰æ‚¦ã€èƒ½å¦åŸ¹å…»æ·±åšçš„æ„Ÿæƒ…ä¹Ÿå¾ˆé‡è¦ã€‚å› æ­¤ï¼Œé™¤äº†èµ„æºå’Œæ½œåŠ›ï¼Œè¿˜éœ€è¦ç”Ÿæ´»åŸºç¡€ã€‚ç”Ÿæ´»åŸºç¡€ç”±å››ä¸ªå…·ä½“çš„ç‰¹å¾å…±åŒç»„æˆï¼Œåˆ†åˆ«æ˜¯å’Œè°å…±å¤„ã€ä½“æ ¼ã€å¥åº·å’Œå¯¹çˆ±çš„æ‰¿è¯ºã€‚ ç”·æ€§çš„æ‹©å¶åå¥½å¥³æ€§å¾ˆå°‘ä¼šæ‹…å¿ƒç”·æ€§ç¼ºä¹ç”Ÿè‚²èƒ½åŠ›ï¼Œæ‹©å¶ä¸»è¦æ˜¯ä¸ºäº†æ‰¾åˆ°å¯é çš„ï¼Œèƒ½å¤Ÿæ‰¿æ‹…èµ·çˆ¶äº²è´£ä»»çš„ä¼´ä¾£ï¼›è€Œç”·æ€§æ‹©å¶ï¼Œé¦–å…ˆè¦æ‰¾åˆ°å…·å¤‡ç”Ÿè‚²èƒ½åŠ›çš„ä¼´ä¾£ã€‚å› æ­¤ï¼Œç”·æ€§çš„æ‹©å¶åå¥½æ˜¯å›´ç»•â€œç”Ÿè‚²èƒ½åŠ›â€å±•å¼€çš„ã€‚ ç”·æ€§å…³æ³¨çš„å…³é”®ç‰¹å¾ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼šå¥åº·ã€å¹´è½»å’Œå¿ è¯šã€‚ ç¬¬å››åä¸‰èŠ‚ ä½•ä¸ºæ½œæ„è¯†ä»€ä¹ˆæ˜¯æ½œæ„è¯†æ½œæ„è¯†æ˜¯ä¸€ä¸ªå¿ƒç†å­¦çš„ä¸“ä¸šè¯æ±‡ï¼Œæ½œæ˜¯æ½œåœ¨ã€æ½œåŠ›çš„æ½œï¼Œæœ€æ—©ç”±å¼—æ´›ä¼Šå¾·æå‡ºï¼ŒæŒ‡çš„æ˜¯äººç±»å¿ƒç†æ´»åŠ¨ä¸­ï¼Œä¸èƒ½è®¤çŸ¥æˆ–æ²¡æœ‰è®¤çŸ¥åˆ°çš„éƒ¨åˆ†ï¼Œæ˜¯äººä»¬â€œå·²ç»å‘ç”Ÿï¼Œä½†æ²¡æœ‰ä½“ç°åœ¨æ„è¯†ä¸­çš„å¿ƒç†æ´»åŠ¨è¿‡ç¨‹â€ã€‚ å¼—æ´›ä¼Šå¾·æŠŠæ½œæ„è¯†å…·ä½“åˆ†ä¸ºäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†å«å‰æ„è¯†ï¼Œä¸€éƒ¨åˆ†å«æ— æ„è¯†ã€‚å‰æ„è¯†å±äºæ½œæ„è¯†é‡Œæœ‰å¯èƒ½è¿›å…¥æ„è¯†çš„éƒ¨åˆ†ï¼›è€Œæ— æ„è¯†å±äºç»å¯¹æ— æ³•æ„ŸçŸ¥åˆ°çš„é‚£éƒ¨åˆ†æ„è¯†ã€‚ åœ¨å¼—æ´›ä¼Šå¾·çš„å¿ƒç†å­¦ç†è®ºä¸­ï¼Œæ— æ„è¯†ã€å‰æ„è¯†å’Œæ„è¯†æ˜¯ä¸‰ä¸ªå±‚æ¬¡ä¸åŒï¼Œä½†åˆç›¸äº’è”ç³»çš„ç³»ç»Ÿç»“æ„ã€‚ ç¬¬å››åå››èŠ‚ æ½œæ„è¯†çš„çŸ­æœŸå½±å“æ½œæ„è¯†çš„çŸ­æœŸå½±å“æ½œæ„è¯†å¯¹ç”Ÿæ´»çš„å½±å“ï¼Œå¯ä»¥ä»çŸ­æœŸå’Œé•¿æœŸä¸¤ä¸ªè§’åº¦æ¥çœ‹ã€‚æ‰€è°“çŸ­æœŸå½±å“ï¼Œå°±æ˜¯å³æ—¶å‘ç”Ÿçš„ï¼Œå¯¹æˆ‘ä»¬è¡Œä¸ºçš„å¼•å¯¼ã€‚ æ‹©å¶åå¥½å°±æ˜¯ä¸€ç§ï¼šæ½œæ„è¯†ä¼šæ ¹æ®æœ¬èƒ½çš„æ‹©å¶åå¥½ï¼Œå½±å“æˆ‘ä»¬çœ‹å¾…ä»–äººçš„æ–¹å¼ã€‚æ¯”å¦‚ï¼Œå“ªæ€•å¯¹ä¸€ä¸ªäººè¿˜ä¸äº†è§£çš„æ—¶å€™ï¼Œæœ‰äº›äººä½ ä¼šä¸€è§é’Ÿæƒ…ï¼Œäº§ç”Ÿå¤©ç„¶çš„å¥½æ„Ÿï¼Œè€Œæœ‰äº›äººæ²¡æœ‰å¾—ç½ªè¿‡ä½ ï¼Œä½ å´æ‰“å¿ƒåº•é‡Œå°±æƒ³è¦å’Œä»–ä¿æŒè·ç¦»ã€‚ ç¬¬å››åäº”èŠ‚ æ½œæ„è¯†çš„é•¿æœŸå½±å“æ½œæ„è¯†çš„é•¿æœŸå½±å“ â€”â€” å‡å€¼å›å½’å‡å€¼å›å½’æ˜¯ä¸€ä¸ªä¸è‚¡ç¥¨ç›¸å…³çš„æ¦‚å¿µã€‚å®ƒçš„æ„æ€æ˜¯ï¼šä»çŸ­æœŸæ¥çœ‹ï¼Œä¸€ä¸ªå…¬å¸çš„è‚¡ä»·ä¼šæœ‰æ³¢åŠ¨ï¼Œä¼šæœ‰å¤§å¹…åº¦çš„æ¶¨å’Œè·Œï¼Œéš¾ä»¥é¢„æµ‹ï¼Œä½†æŠŠæ—¶é—´å°ºåº¦æ”¾åˆ°äº”å¹´åå¹´ï¼Œç”šè‡³æ›´ä¹…ï¼Œè¿™ä¸ªå…¬å¸çš„çœŸå®ä»·å€¼æ˜¯å¤šå°‘ï¼Œè‚¡ä»·å°±ä¼šç¨³å®šåœ¨ä»€ä¹ˆæ°´å¹³ã€‚ å¦‚æœä¸è€ƒè™‘éåŒå¯»å¸¸çš„å¥½è¿æˆ–è€…å„è¿ï¼Œäººçš„ä¸€ç”Ÿï¼Œå…¶å®ä¹Ÿæ˜¯å‡å€¼å›å½’çš„è¿‡ç¨‹ã€‚åªä»å±€éƒ¨ä¸Šçœ‹ï¼Œå†³å®šäººç”Ÿèµ°å‘çš„ï¼Œæ˜¯ç«äº‰çš„ç»“æœå’Œæˆ‘ä»¬é€‰æ‹©çš„è·¯å¾„ã€‚ä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œäººç»ˆç©¶ä¼šå›åˆ°è‡ªå·±çš„å‡å€¼ã€‚é‚£ä¸ªå‡å€¼å°±æ˜¯ä½ çš„æ½œæ„è¯†ï¼Œæ˜¯ä½ å†…å¿ƒæœ€æ·±å¤„çš„å†²åŠ¨ï¼Œæ˜¯ä½ åˆ°åº•æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„äººã€‚ äººç”Ÿæœ€é‡è¦çš„äº‹æƒ…å°±æ˜¯å¦‚ä½•æ¸…æ¥šåœ°è®¤è¯†è‡ªå·±ï¼šæˆ‘çš„æ€§æ ¼å¦‚ä½•ï¼Œæˆ‘æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Œæˆ‘å–œæ¬¢åšä»€ä¹ˆå·¥ä½œï¼Œæˆ‘å–œæ¬¢ä»€ä¹ˆæ ·çš„ç”Ÿæ´»æ–¹å¼ã€‚æˆ‘çš„æ¢¦æƒ³æ˜¯æ”¹å˜ä¸–ç•Œï¼Œè·å¾—å°Šæ•¬ï¼Œè¿˜æ˜¯ä½åœ¨ä¸€ä¸ªæœ‰å±±æœ‰æ°´çš„åœ°æ–¹ï¼Œæ¯å¤©é›ç‹—ã€åšé¥­ã€å’Œæœ‹å‹æ‰“æ‰“ç‰Œã€é™ªè‡ªå·±çš„å®¶äººã€‚ ä¸æ˜¯æ™ºå•†å’Œæƒ…å•†ï¼Œè€Œæ˜¯æ½œæ„è¯†ä¸­çš„é‚£ä¸ªçœŸå®çš„è‡ªæˆ‘ï¼Œå†³å®šäº†ä½ æ„¿æ„ä¸ºä»€ä¹ˆå¥‹æ–—ï¼Œå†³å®šäº†ä½ å¯¹ä¸€ä»½äº‹ä¸šçš„çƒ­æƒ…å’Œè´£ä»»å¿ƒï¼ŒæŠŠè‡ªå·±æ”¾åœ¨ä»€ä¹ˆæ ·çš„ä½ç½®æ˜¯èˆ’æœçš„ã€‚è€Œè¿™äº›å› ç´ ï¼Œæœ€ç»ˆå†³å®šäº†ä½ çš„äººç”Ÿã€‚ ç¬¬å››åå…­èŠ‚ å¤§è±¡ä¸éª‘è±¡äººè¿›ä¸€æ­¥æ¢ç´¢è‡ªæˆ‘ â€”â€” å…³äºå¹¸ç¦å¹¸ç¦æ˜¯æˆ‘ä»¬æ‰€æœ‰äººçš„è¿½æ±‚ç›®æ ‡ï¼Œå´åœ¨ä¸åŒçš„äººå¿ƒä¸­æœ‰ä¸åŒçš„å®šä¹‰ã€‚åœ¨æ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡åä¸ªä¸»é¢˜çš„å±•å¼€ï¼Œä»æµ®èºå–§åš£çš„ç¯å¢ƒä¸­æŠ½ç¦»å‡ºæ¥ï¼Œçœ‹æ¸…è‡ªå·±çš„æœ¬å¿ƒã€‚ä½ è®¤ä¸ºå¹¸ç¦æ˜¯ä»€ä¹ˆï¼Œå®ƒå°±æ˜¯ä»€ä¹ˆã€‚ ç¬¬ä¸€ä¸ªä¸»é¢˜ â€”â€” å¤§è±¡ä¸éª‘è±¡äººå‡è®¾äººçš„å¿ƒç†åˆ†ä¸ºä¸åŒçš„ä¸¤éƒ¨åˆ†ï¼šæˆ‘ä»¬èƒ½æ„ŸçŸ¥åˆ°çš„è‡ªæˆ‘æ˜¯ä¸€ä¸ªéª‘åœ¨å¤§è±¡èƒŒä¸Šçš„äººï¼Œè€Œä¸èƒ½è¢«æ„ŸçŸ¥åˆ°çš„è‡ªæˆ‘ï¼Œå°±æ˜¯å¤§è±¡æœ¬èº«ã€‚éª‘è±¡äººæ‰‹é‡Œæ¡ç€ç¼°ç»³ï¼Œå¯ä»¥æŒ‡æŒ¥å¤§è±¡è½¬å¼¯ã€åœæ­¢æˆ–æ˜¯å‰è¿›ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“å¤§è±¡æ²¡æœ‰è‡ªå·±çš„æƒ³æ³•æ—¶ï¼Œæˆ‘ä»¬æ‰å¯ä»¥æŒ‡æŒ¥ã€‚ä¸€æ—¦å¤§è±¡çœŸçš„æƒ³è¦åšä»€ä¹ˆï¼Œå®ƒå°±ä¼šè‡ªé¡¾è‡ªçš„èµ°ã€‚ ç¬¬å››åä¸ƒèŠ‚ å¤§è±¡çš„æœ¬è´¨å¿ƒç†çš„ä¸¤å¥—è¿è¡Œæœºåˆ¶è‡ªæˆ‘æ˜¯ä¸€ä¸ªç”±å¤§è±¡å’Œéª‘è±¡äººå…±åŒç»„æˆçš„å¤æ‚ç»„ç»‡ã€‚ç»„ç»‡çš„å†…éƒ¨åŒ…å«äº†å„ç§ä¸åŒçš„è§’è‰²ï¼Œå¿ƒçµå’Œèº«ä½“ã€ç†æ€§å’Œæ„Ÿæ€§ï¼Œä»¥åŠå·¦è„‘å’Œå³è„‘ã€‚ç»è¿‡äº†å¤šå¹´çš„ç ”ç©¶å’Œåˆ†æï¼Œå¿ƒç†å­¦å®¶ä»¬æŠŠä¸¤ä¸¤å¯¹ç«‹çš„å…ƒç´ ç»Ÿä¸€èµ·æ¥ï¼Œå°†äººçš„å¿ƒç†åˆ†æˆäº†ä¸¤å¥—è¿ä½œæœºåˆ¶ï¼šä¸»åŠ¨æ§åˆ¶å’Œè‡ªåŠ¨åŒ–å¤„ç†ã€‚ å¤§è±¡ â€”â€” è‡ªåŠ¨åŒ–å¤„ç†å¤§éƒ¨åˆ†çš„å¿ƒç†æ´»åŠ¨ä¼šåœ¨æˆ‘ä»¬æ²¡æœ‰æ„è¯†åˆ°çš„æ—¶å€™è‡ªåŠ¨å‘ç”Ÿï¼Œå¹¶å¯¹èº«ä½“äº§ç”Ÿå®è´¨æ€§çš„å½±å“ã€‚è¿™ç§è‡ªåŠ¨åŒ–å¤„ç†çš„æœºåˆ¶ï¼Œåˆè¢«ç§°ä¸ºæ½œæ„è¯†ã€‚ç”±äºæ„è¯†ä¸åˆ°ï¼Œè¿™ç§è‡ªåŠ¨åŒ–å¤„ç†çš„æœºåˆ¶ä¸å¤Ÿç†æ™ºï¼Œä½†å’Œä¸€æ¬¡åªèƒ½æ€è€ƒä¸€ä¸¤ä»¶äº‹æƒ…çš„éª‘è±¡äººæ¯”èµ·æ¥ï¼Œå¤§è±¡çš„ä¼˜åŠ¿å°±æ˜¯å¯ä»¥åŒæ—¶å¤„ç†å¤§é‡ä»»åŠ¡ã€‚ ç¬¬å››åå…«èŠ‚ äººè±¡å†²çª(1)ä¸ºä»€ä¹ˆæ°å‡ºçš„äººæ˜¯å°‘æ•°éª‘è±¡äººä»£è¡¨äº†æœ‰æ„è¯†çš„ã€ä¸»åŠ¨æ§åˆ¶åçš„æ€è€ƒã€‚å¤§è±¡åŒ…å«æˆ‘ä»¬å†…å¿ƒçš„æ„Ÿè§‰ã€æœ¬èƒ½ååº”ã€æƒ…ç»ªå’Œç›´è§‰ï¼Œä»£è¡¨äº†è‡ªåŠ¨åŒ–çš„å¿ƒç†æ´»åŠ¨ã€‚å¤§è±¡å’Œéª‘è±¡äººå„æœ‰ä¼˜åŠ¿ï¼Œåªè¦é…åˆè‰¯å¥½ï¼Œå°±æˆç»„æˆä¸€ä¸ªæ°å‡ºçš„ä¸ªä½“ã€‚ä½†æ˜¯ï¼Œåœ¨å¤§éƒ¨åˆ†äººçš„å¿ƒä¸­ï¼Œå¤§è±¡å’Œéª‘è±¡äººä¹‹é—´ä¼šäº§ç”Ÿå¤æ‚çš„å†²çªï¼Œå¾ˆéš¾å½¢æˆä¸€ä¸ªè‰¯å¥½çš„æ•´ä½“ã€‚ äººè±¡å†²çª â€”â€” å½“ä¸‹ä¸æœªæ¥éª‘è±¡äººç›®å…‰é•¿è¿œï¼Œè€Œå¤§è±¡åªç›¯ç€å½“ä¸‹ã€‚å¦‚æœéª‘è±¡äººä¸èƒ½æ§åˆ¶å¤§è±¡ï¼Œäººå°±ä¼šä¸ºäº†å¾®ä¸è¶³é“çš„çŸ­æœŸåˆ©ç›Šè€Œæ”¾å¼ƒæœªæ¥æ›´å¥½çš„å‘å±•æœºä¼šã€‚ ç¬¬å››åä¹èŠ‚ äººè±¡å†²çª(2)äººè±¡å†²çª â€”â€” å¿ƒç†æ´»åŠ¨çš„å¾ªç¯å½“éª‘è±¡äººäº§ç”Ÿä¸€ä¸ªç›®æ ‡ï¼Œå¹¶ä¸”å¤§è±¡ä¹Ÿæ„¿æ„æ‰§è¡Œæ—¶ï¼Œå¤§è±¡å°±ä¼šåˆ†å‡ºä¸€éƒ¨åˆ†ç²¾åŠ›ç”¨äºæ£€æŸ¥ç›®æ ‡çš„å®Œæˆæƒ…å†µå¹¶åŠ ä»¥ååŠ©ï¼Œç›´åˆ°ç¡®è®¤å®Œæˆæ‰åœæ­¢ã€‚è¿™ç§åˆä½œæ¨¡å¼åœ¨å®Œæˆå®é™…è¡ŒåŠ¨æ—¶éå¸¸åˆé€‚ï¼Œä½†åº”ç”¨åœ¨å¿ƒç†æ´»åŠ¨æ—¶å°±å¾ˆå®¹æ˜“é™·å…¥æ­»å¾ªç¯ã€‚ ä»¥æ¶ˆé™¤æ‚å¿µä¸ºä¾‹ï¼šå¦‚æœéª‘è±¡äººçš„ç›®æ ‡æ˜¯æ¶ˆé™¤æ‚å¿µï¼Œé‚£ä¹ˆå¤§è±¡ä¹Ÿä¼šå¼€å§‹è‡ªåŠ¨æ£€æŸ¥æ‚å¿µæ˜¯å¦æ¶ˆé™¤ã€‚æ¯å½“éª‘è±¡äººæŠŠæ‚å¿µæ¸…é™¤ï¼Œå¤§è±¡å°±ä¼šæŠŠæ‚å¿µå†æ‹½å›æ¥ï¼Œçœ‹çœ‹æ¶ˆé™¤çš„æ˜¯ä¸æ˜¯å®ƒã€‚ä½ è¶Šæ˜¯æƒ³è¦æ¸…é™¤æ‚å¿µï¼Œå¤§è±¡å°±è¶Šå–åŠ›çš„æ£€æŸ¥ï¼Œæ‚å¿µåè€Œåœ¨è„‘æµ·é‡Œç”Ÿæ ¹å‘èŠ½ã€‚ ç¬¬äº”åèŠ‚ äººè±¡å†²çª(3)äººè±¡å†²çª â€”â€” éª‘è±¡äººçš„è§£é‡Šè¯¯åŒºæˆ‘ä»¬èƒ½æ„ŸçŸ¥åˆ°çš„è‡ªæˆ‘ï¼Œäº§ç”Ÿçš„æ€è€ƒå’Œæ„è¯†ï¼Œéƒ½æ˜¯ä»¥éª‘è±¡äººçš„èº«ä»½è¿›è¡Œçš„ã€‚è¿™ä¼šè®©æˆ‘ä»¬å½¢æˆä¸€ç§åˆ»æ¿çš„å°è±¡ï¼šè¯¯ä»¥ä¸ºæˆ‘ä»¬çš„æ‰€æœ‰è§‚ç‚¹ã€æƒ…æ„Ÿå’Œè¡Œä¸ºï¼Œéƒ½æ˜¯éª‘è±¡äººå…ˆè¿›è¡Œæ€è€ƒï¼Œå†ä¼ è¾¾ç»™å¤§è±¡ã€‚ ä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæ˜¯å¤§è±¡è‡ªå·±åšå‡ºäº†å†³å®šã€‚éª‘è±¡äººæ‰€åšçš„å¹¶ä¸æ˜¯å†³å®šï¼Œè€Œæ˜¯æƒ³åŠæ³•æ‹¼å‡‘å‡ºä¸€äº›è¯­å¥å’Œé“ç†æ¥è§£é‡Šè‡ªå·±çš„æ‰€ä½œæ‰€ä¸ºã€‚ å¦‚æœæˆ‘ä»¬æ€»æ˜¯è¯•å›¾ç”¨ç†æ€§æ¥è§£é‡Šè‡ªå·±çš„æ‰€ä½œæ‰€ä¸ºï¼Œå°±ä¼šåœ¨é‡åˆ°é‚£äº›æ ¹æœ¬æ— æ³•è§£é‡Šçš„å†…å¿ƒå†²åŠ¨æ—¶é™·å…¥è¿·èŒ«ï¼›æˆ–è€…åœ¨æ¯ä¸€æ¬¡ç«‹ä¸‹èª“è¨€å´æ— æ³•åšæŒçš„æ—¶å€™è´¨ç–‘è‡ªå·±çš„è™šä¼ªå’Œè½¯å¼±ã€‚ ç¬¬äº”åä¸€èŠ‚ å¤§è±¡å¾ˆèªæ˜å¤§è±¡å¾ˆâ€œèªæ˜â€äººå’Œè±¡çš„åšå¼ˆçœ‹ä¸Šå»å¾ˆåƒç†æ€§ä¸æ„Ÿæ€§ï¼Œäººæ€§ä¸å…½æ€§çš„å¯¹æŠ—ï¼Œä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚å¤§è±¡ä¸ç­‰åŒäºä¸ç†æ€§çš„è‡ªæˆ‘ï¼Œåªæ˜¯å®ƒçš„ç†æ€§æ— æ³•è¢«ç›´æ¥æ„ŸçŸ¥ã€‚ å¿ƒç†å­¦å®¶é€šè¿‡å®éªŒå‘ç°ï¼šå±å¹•ä¸Šé£é€Ÿé—ªè¿‡çš„ã€æ— æ³•è¢«æˆ‘ä»¬æ„è¯†åˆ°çš„è¯è¯­ï¼Œä¾ç„¶å¯¹æˆ‘ä»¬äº§ç”Ÿäº†å½±å“ã€‚è¿™è¯´æ˜ï¼Œéª‘è±¡äººæ— æ³•æ„ŸçŸ¥çš„ç»†èŠ‚ï¼Œå¯ä»¥è¢«å¤§è±¡æ„ŸçŸ¥ï¼Œè€Œä¸”å¤§è±¡å…·å¤‡ä¸€å®šçš„è®¤çŸ¥èƒ½åŠ›ã€‚ èƒ½å¤Ÿé€šè¿‡æ„Ÿå®˜è§‚å¯Ÿä¸–ç•Œï¼Œè¿›è¡Œæ€è€ƒçš„ï¼Œä¸åªæœ‰è¢«æˆ‘ä»¬æ„ŸçŸ¥åˆ°çš„æ„è¯†ï¼Œè¿˜æœ‰ä¸€ä¸ªæ•æ„Ÿä¸”èªæ˜çš„å¤§è±¡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼Œæˆ‘ä»¬çš„æƒ…ç»ªæ€»æ˜¯ä¼šæ²¡æœ‰é“ç†ã€è«åå…¶å¦™çš„æ”¹å˜ã€‚è€Œä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œæƒ³è¦æ”¹å–„è‡ªå·±çš„å¿ƒæƒ…ï¼Œä¸èƒ½åªé æŠŠäº‹æƒ…æƒ³é€šï¼Œå¤–éƒ¨ç¯å¢ƒçš„ç»†èŠ‚ä¹Ÿå¾ˆé‡è¦ã€‚ ç¬¬äº”åäºŒèŠ‚ å¯¹å¹¸ç¦çš„ç†è§£å¯¹å¹¸ç¦çš„ä¸‰ç§å¸¸è§ç†è§£åœ¨ä¸€éƒ¨åˆ†äººçš„å¿ƒä¸­ï¼Œå¹¸ç¦çš„æ ·å­æ˜¯å¾ˆå…·ä½“çš„ã€‚ä»–ä»¬æŠŠå¹¸ç¦ä¸ç‰©è´¨ç»‘å®šèµ·æ¥ï¼Œå¯¹è·å¾—è´¢å¯ŒæŠ±æœ‰æå¤§çš„çƒ­æƒ…ï¼Œåšä¿¡æœ€å¤§çš„å¹¸ç¦æ¥è‡ªäºè·å¾—è‡ªå·±æƒ³è¦çš„èº«å¤–ä¹‹ç‰©ã€‚ åœ¨å¦ä¸€éƒ¨åˆ†äººçš„å¿ƒä¸­ï¼Œå¹¸ç¦ä¸æ˜¯åº¸ä¿—çš„ç‰©è´¨ï¼Œè€Œæ˜¯ç²¾ç¥ä¸Šçš„è´¢å¯Œã€‚æ¯”å¦‚ä»–äººçš„è®¤å¯ã€è¾ƒé«˜çš„ç¤¾ä¼šåœ°ä½ã€çœŸæŒšçš„å‹æƒ…ï¼Œç¾æ»¡çš„å®¶åº­ã€‚ è¿˜æœ‰äººè®¤ä¸ºï¼Œè¿½æ±‚èº«å¤–ä¹‹ç‰©ï¼Œæˆ–å¼ºæ±‚ä¸–äº‹å¦‚è‡ªå·±æ‰€æ„¿ï¼Œæœ€åéƒ½æ˜¯ä¸€åœºç©ºã€‚çœŸæ­£çš„å¹¸ç¦åªèƒ½æ¥è‡ªäºè‡ªå·±çš„å†…å¿ƒï¼Œæ–­é™¤å¯¹èº«å¤–ä¹‹ç‰©çš„æ‰§ç€ï¼Œå¯¹èº«è¾¹çš„ä¸€åˆ‡éƒ½é‡‡å–å¹³å’Œæ¥å—çš„æ€åº¦ã€‚ ç¬¬äº”åä¸‰èŠ‚ è°ƒæ•´é¢„æœŸæå‡å¹¸ç¦æ„Ÿçš„æŠ€å·§ â€”â€” è°ƒæ•´é¢„æœŸä¿æŒè¿›å±•ï¼Œèƒ½å¤ŸæŠŠé•¿æœŸç›®æ ‡å¸¦æ¥çš„çŸ­æš‚å¹¸ç¦ï¼Œå˜æˆä¸€æ­¥ä¸€æ­¥å‰è¿›çš„å…´å¥‹å’Œæ»¡è¶³ã€‚æ˜¯ä¸€ç§é”¦ä¸Šæ·»èŠ±ã€æ‰©å¤§å¹¸ç¦çš„æ–¹å¼ã€‚ä½†æ˜¯ï¼Œç”Ÿæ´»ä¸­ä¸åªæœ‰å¥½äº‹ï¼Œéš¾å…è¿˜ä¼šé‡åˆ°äº›å„è¿é™ä¸´ã€‚æƒ³è¦æå‡å¹¸ç¦æ„Ÿï¼Œé™¤äº†é”¦ä¸Šæ·»èŠ±ï¼Œè¿˜éœ€è¦é›ªä¸­é€ç‚­ï¼Œè¿™æ—¶å€™å°±éœ€è¦è°ƒæ•´é¢„æœŸã€‚ äººå¯¹äºå½“ä¸‹å¤„å¢ƒçš„çœ‹å¾…æ–¹å¼ï¼Œé«˜åº¦å–å†³äºä»–å¯¹ç”Ÿæ´»çš„å¿ƒç†é¢„æœŸã€‚æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±ç¾¡æ…•çš„å¯¹è±¡ï¼Œä½†åŒæ ·ï¼Œæ¯ä¸ªäººéƒ½è¢«åˆ«äººç¾¡æ…•ç€ã€‚æ”¹å˜ç”Ÿæ´»å¾ˆéš¾ï¼Œä½†è°ƒæ•´é¢„æœŸåªéœ€è¦æˆ‘ä»¬æ¢ä¸ªè§’åº¦ã€‚å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿåšåˆ°â€œç¾¡æ…•è‡ªå·±â€œï¼Œå¹¸ç¦å°±ä¼šéšä¹‹é™ä¸´ã€‚ ç¬¬äº”åå››èŠ‚ å¯¹ç”Ÿå‘½çš„ç†è§£ä½ è®¤ä¸ºç”Ÿå‘½æœ¬èº«æ˜¯ä»€ä¹ˆï¼Œå®ƒå°±æ˜¯ä»€ä¹ˆâ€â€œæ²¡æœ‰äº‹å®ï¼Œåªæœ‰æ„Ÿå—ã€‚â€ä¸–ç•Œæ˜¯å®¢è§‚çš„ï¼Œä½†ä½ æ‰€ç†è§£çš„ç”Ÿæ´»ï¼Œä½ çœ‹åˆ°çš„äº‹å®ï¼Œéƒ½æ˜¯å®¢è§‚å­˜åœ¨ç»è¿‡è‡ªå·±æ€è€ƒåŠ å·¥åæ‰å½¢æˆçš„ã€‚ æ„ä¹‰æ˜¯æˆ‘ä»¬è‡ªå·±èµ‹äºˆçš„ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¹Ÿæœ‰æ”¹å˜æ„ä¹‰çš„æƒåŠ›å’Œèƒ½åŠ›ï¼Œæ˜ç¡®è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿæ˜ç™½ä¸€é¢—å¼ºå¤§å†…å¿ƒçš„é‡è¦ï¼šé™¤éä½ è§‰å¾—æ‚²æƒ¨ï¼Œå¦åˆ™æ²¡æœ‰ä»€ä¹ˆæ˜¯æ‚²æƒ¨çš„ï¼›åŒç†ï¼Œé™¤éä½ çŸ¥è¶³å¸¸ä¹ï¼Œå¦åˆ™æ²¡æœ‰ä»€ä¹ˆäº‹èƒ½è®©ä½ å¿«ä¹ã€‚ ç”Ÿæ´»æœ¬èº«æ²¡æœ‰ä»»ä½•æ·é”ï¼Œæ˜¯æ‚²è§‚çš„è§£è¯»æ–¹å¼å»ºé€ äº†å†…å¿ƒçš„ç‰¢ç¬¼ã€‚å› æ­¤ï¼Œæ”¹å˜é¢„æœŸå¹¶ä¸åªæ˜¯ä¸€ç§æŠ€å·§ï¼Œç©¶å…¶æ ¹æºï¼Œæ˜¯ä¸€ç§æ›´åŠ å¹¿é˜”ã€æ›´åŠ åŒ…å®¹çš„çœ‹å¾…ä¸–ç•Œå’Œç”Ÿæ´»çš„æ€åº¦ã€‚ ç¬¬äº”åäº”èŠ‚ å¹¸ç¦æ–¹ç¨‹å¼å¹¸ç¦ç”±ä½•ç»„æˆè‡ªå¼—æ´›ä¼Šå¾·ä»¥æ¥ï¼Œå¿ƒç†å­¦ç•Œçš„ä¸»æµè§‚ç‚¹è®¤ä¸ºï¼Œäººçš„ä¸ªæ€§ä¸»è¦å—ç«¥å¹´æ—¶æœŸç¯å¢ƒçš„å½±å“ã€‚20ä¸–çºª90å¹´ä»£ï¼Œç ”ç©¶äººå‘˜åˆåœ¨æœ‰å…³å¹¸ç¦çš„ç ”ç©¶ä¸­å‘ç°ï¼šä¸€ä¸ªäººå¿«ä¹ä¸å¦ã€æ€§æ ¼å¦‚ä½•ï¼Œå…¶å®ä¸åŸºå› çš„å…³ç³»å¯†åˆ‡ï¼Œä¸åå¤©ç¯å¢ƒåˆ™ä¸å¤ªç›¸å…³ã€‚ äººçš„å¹¸ç¦ï¼Œç©¶ç«Ÿæ˜¯å…ˆå¤©å†³å®šï¼Œè¿˜æ˜¯åå¤©å½¢æˆï¼Ÿä¸ºäº†å›ç­”è¿™äº›ç–‘é—®ï¼Œç§¯æå¿ƒç†å­¦çš„å¼€åˆ›äººå¡åˆ©æ ¼æ›¼ç»„ç»‡äº†ä¸“å®¶ç ”ç©¶å°ç»„ï¼Œç»è¿‡äº†é•¿æœŸçš„è§‚å¯Ÿå’Œå®éªŒï¼Œå¾—å‡ºäº†å¹¸ç¦æ–¹ç¨‹å¼ã€‚ å¹¸ç¦æ–¹ç¨‹å¼å¹¸ç¦æ–¹ç¨‹å¼ï¼šH=S+C+Vã€‚å…ˆå¤©çš„å¹¸ç¦æŒ‡æ•°ã€æ‰€å¤„ç¯å¢ƒçš„ç”Ÿæ´»æ¡ä»¶å’Œçœ‹å¾…ç”Ÿæ´»çš„æ€åº¦ï¼Œè¿™ä¸‰è€…å…±åŒå†³å®šäº†æˆ‘ä»¬çœŸæ­£æ„ŸçŸ¥åˆ°çš„å¹¸ç¦ã€‚è¿™è¯´æ˜å¹¸ç¦ä¸å…¨æ˜¯å¤©ç”Ÿçš„ï¼Œæˆ‘ä»¬å¯¹å¹¸ç¦çš„è¿½æ±‚å¹¶ä¸æ˜¯å¾’åŠ³ã€‚ä½†åœ¨è¿½æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œå…‰æ³¨é‡ç‰©è´¨ï¼Œæ”¹å–„ç”Ÿæ´»æ¡ä»¶æ˜¯ä¸è¡Œçš„ï¼›åªæ”¹å˜æ€åº¦ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œè¦å°½é‡å…¼é¡¾è¿™ä¸¤è€…æ‰å¯ä»¥ã€‚ ç¬¬äº”åå…­èŠ‚ å½±å“å¹¸ç¦æ„Ÿçš„å› ç´ (1)å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” å™ªå£°ç”Ÿæ´»æ¡ä»¶æ˜¯æ— æ•°å¤–éƒ¨å› ç´ å…±åŒç»„æˆçš„ï¼Œåœ¨ä¼—å¤šå› ç´ ä¹‹ä¸­ï¼Œæœ‰äº”ç‚¹å®¹æ˜“è¢«å¿½è§†ï¼Œå´èƒ½æ˜¾è‘—å½±å“ç”Ÿæ´»ã€‚ å±…ä½ç¯å¢ƒçš„å™ªå£°å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼šç ”ç©¶æ˜¾ç¤ºï¼Œæ— è®ºè¿‡äº†å¤šä¹…ï¼Œäººéƒ½æ— æ³•åšåˆ°å®Œå…¨é€‚åº”å™ªå£°å¹²æ‰°ã€‚ç”šè‡³æœ‰ç ”ç©¶æ˜¾ç¤ºï¼Œäººæœ‰æ—¶ä¸ºäº†é€‚åº”å™ªå£°ï¼Œè®¤çŸ¥åŠŸèƒ½ä¼šå› è€Œå—æŸã€‚å„å¼å„æ ·ã€é—´æ­‡å‡ºç°çš„å™ªå£°éƒ½ä¼šå¹²æ‰°æˆ‘ä»¬çš„æ³¨æ„åŠ›ï¼Œå¢åŠ æˆ‘ä»¬çš„å‹åŠ›ã€‚ å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” é€šå‹¤æ—¶é—´å¾ˆå¤šäººä¸ºäº†ä½å¤§ä¸€ç‚¹å„¿çš„æˆ¿å­ï¼Œå®æ„¿ä½åˆ°ç¦»å…¬å¸è¾ƒè¿œçš„åœ°æ–¹ã€‚ä½†å¤§æˆ¿å­å¸¦æ¥çš„å¿«ä¹æ˜¯çŸ­æš‚çš„ï¼Œéšç€é¢„æœŸæé«˜ï¼Œäººå¾ˆå¿«å°±èƒ½é€‚åº”ç©ºé—´å˜å¤§çš„å¥½å¤„ã€‚ä½†æ— è®ºæ˜¯è‡ªå·±å¼€è½¦çš„å¡è½¦ä¹‹è‹¦ï¼Œè¿˜æ˜¯ä¸€è·¯æŒ¤åœ°é“ï¼Œé•¿æ—¶é—´é€šå‹¤çš„ç—›è‹¦å´æ˜¯æŒç»­çš„ï¼Œé€šå‹¤æ—¶é—´çš„å»¶é•¿è¿˜æ„å‘³ç€è¦ç‰ºç‰²ç¡çœ å’Œä¼‘æ¯æ—¶é—´ã€‚ ç¬¬äº”åä¸ƒèŠ‚ å½±å“å¹¸ç¦æ„Ÿçš„å› ç´ (2)å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” æŒæ§æ„Ÿå±…ä½ç¯å¢ƒçš„å™ªéŸ³ï¼Œå’Œæ¼«é•¿çš„é€šå‹¤æ—¶é—´ï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„å…±åŒç‚¹ï¼Œé‚£å°±æ˜¯è¿™ä¸¤é¡¹å› ç´ ä¹‹æ‰€ä»¥è®©äººæ¼ç«ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æ— æ³•æ§åˆ¶å®ƒä»¬ã€‚é€šè¿‡å®éªŒå‘ç°ï¼Œå¦‚æœäººä»¬è®¤ä¸ºè‡ªå·±å¯ä»¥æ§åˆ¶å™ªå£°ï¼Œè¿™ä¸ªæƒ³æ³•å°±ä¼šè®©ä»–ä»¬è§‰å¾—å™ªå£°æ²¡é‚£ä¹ˆçƒ¦äººã€‚ å› æ­¤ï¼Œå¢å¼ºè‡ªå·±å¯¹ç”Ÿæ´»çš„æŒæ§æ„Ÿï¼Œæ˜¯æå‡æ´»åŠ›å’Œå¿«ä¹çš„ä¸€å¤§åˆ©å™¨ã€‚å“ªæ€•æ˜¯é‡åˆ°äº†è‰°å·¨çš„æŒ‘æˆ˜ï¼Œä¹Ÿè¦è®¤çœŸè§„åˆ’ï¼Œæ‹†è§£æˆèƒ½å¤ŸæŒæ¡çš„å°ä»»åŠ¡ã€‚ å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” å¤©ç„¶çš„ç¼ºé™·äººä»¬æœ‰ä¸€ä¸ªå…±è¯†ï¼Œé‚£å°±æ˜¯äººè¦æ‰¬é•¿é¿çŸ­ï¼Œä¸å…¶æŠŠç²¾åŠ›é›†ä¸­åœ¨æ”¹å–„ç¼ºç‚¹ï¼Œä¸å¦‚å¼ºåŒ–è‡ªå·±çš„ä¼˜åŠ¿ï¼Œæ›´å®¹æ˜“åœ¨ç¤¾ä¼šä¸­å–å¾—æˆåŠŸã€‚ä½†æƒ³è¦è¿½æ±‚å¹¸ç¦æ„Ÿï¼ŒæŸ¥æ¼è¡¥ç¼ºçš„ä¼˜å…ˆçº§å°±è¦æ›´é«˜ã€‚å“ªæ€•æ˜¯çœ‹ä¼¼è‚¤æµ…çš„æ”¹å˜ï¼Œåªè¦èƒ½æ©é¥°è‡ªå·±çš„å¤©ç„¶ç¼ºé™·ï¼Œå°±èƒ½ç«‹ç«¿è§å½±çš„è®©äººæ„Ÿåˆ°æ›´è‡ªä¿¡ï¼Œæ›´å¿«ä¹ã€‚ ç¬¬äº”åå…«èŠ‚ å»ºç«‹è‰¯å¥½äººé™…å…³ç³»å€¼å¾—æ”¹å˜çš„å¤–éƒ¨å› ç´  â€”â€” äººé™…å…³ç³»äººæ˜¯ç¤¾ä¼šåŠ¨ç‰©ã€‚å› æ­¤åœ¨å½±å“ä¸€ä¸ªäººå¹¸ç¦ä¸å¦çš„æ‰€æœ‰å¤–åœ¨å› ç´ ä¸­ï¼Œæœ€é‡è¦çš„å› ç´ ï¼Œæ­£æ˜¯äººé™…å…³ç³»çš„å¥½ååŠå¤šå¯¡ã€‚å¦‚æœå¤„äºä¸å’Œè°çš„äººé™…å…³ç³»ä¸­ï¼Œå°±ç®—æˆ‘ä»¬æ²¡çœ‹åˆ°å¯¹æ–¹ï¼Œä¸¤äººä¹‹é—´çš„å†²çªä¹Ÿè¿˜æ˜¯ä¼šè¦ç»•åœ¨è„‘æµ·ä¸­ï¼ŒæŒç»­ä¼¤å®³ç€æˆ‘ä»¬çš„æƒ…ç»ªï¼Œæ¯å¤©éƒ½ä¼šæŒç»­ï¼Œè®©äººå’Œå¹¸ç¦æ„Ÿè¿œç¦»ã€‚ å»ºç«‹è‰¯å¥½äººé™…å…³ç³»çš„ä¸¤ä¸ªåŸåˆ™ç¬¬ä¸€æ¡åŸåˆ™ï¼Œæ˜¯è¦ä¸»åŠ¨ã€‚éšç€äººç±»ç¤¾ä¼šçš„å‘å±•ï¼Œä¸€ä¸ªäººèƒ½å»ºç«‹çš„ç¤¾äº¤ç½‘ç»œå˜å¾—è¶Šæ¥è¶Šåºå¤§ï¼Œè¿™æ„å‘³ç€æœ‹å‹é—´çš„å¸¸æ€å¹¶ä¸æ˜¯ç›¸èšï¼Œè€Œæ˜¯ç–ç¦»ã€‚ç–ç¦»ä¹…äº†ï¼Œä½ æˆ–è®¸å°±ä¼šå¯¹å‹æƒ…äº§ç”Ÿæ€€ç–‘ï¼Œå¦‚æœæ²¡èƒ½åŠæ—¶çš„ç¼“è§£ï¼Œè¿™ç§æ€€ç–‘å°±æœ‰å¯èƒ½æˆä¸ºæ°¸ä¹…çš„è¯¯ä¼šï¼Œå‹æƒ…ä¹Ÿå°±ä¸å¤å­˜åœ¨ã€‚ ç¬¬äºŒæ¡åŸåˆ™ï¼Œæ˜¯ä¸è¦è¿½æ±‚å…¬å¹³ã€‚äººé™…å…³ç³»ä¸èƒ½é‡åŒ–ï¼Œä¹Ÿå°±ä¸å¯èƒ½åƒæ•°å­¦ä¸­çš„ç­‰å¼é‚£æ ·ï¼Œç”¨ä¸€ä¸ªç­‰å·æ¥è¿æ¥ä¸¤ä¸ªäººã€‚åœ¨äººä¸äººçš„äº¤å¾€ä¸­ï¼Œä»˜å‡ºæœ¬èº«å°±æ˜¯ä¸€ç§å¿«ä¹ï¼Œåªæœ‰è¿™æ ·ç†è§£å‹æƒ…ï¼Œä½ çš„å†…å¿ƒæ‰èƒ½å¹³å’Œçš„å®¹çº³ä»–äººã€‚ ç¬¬äº”åä¹èŠ‚ é€†å¢ƒçš„å¥½å¤„(1)é€†å¢ƒçš„æ­£é¢æ•ˆåº”å¥åº·å¿ƒç†å­¦æ–¹é¢çš„ç ”ç©¶ä¸€åº¦æŠŠé‡ç‚¹æ”¾åœ¨é€†å¢ƒå’Œå‹åŠ›æ‰€é€ æˆçš„è´Ÿé¢å½±å“ä¸Šï¼Œå¹¶æŠŠç”Ÿæ´»ä¸­é­é‡çš„è‹¦éš¾ä½œä¸ºå¤±å»å¹¸ç¦çš„ä¸»è¦åŸå› ã€‚ä½†éšç€ç¤¾ä¼šå‘å±•å’Œç”Ÿæ´»ç¯å¢ƒçš„è¿›æ­¥ç ”ç©¶äººå‘˜å¼€å§‹æ¢è®¨å·¨å¤§å‹åŠ›å¯èƒ½ä¸ºäººä»¬å¸¦æ¥å“ªäº›å¥½å¤„ï¼Œä¹Ÿå°±æ˜¯â€œåˆ›ä¼¤åæˆé•¿â€ã€‚ é€†å¢ƒä¸­è·ç›Š â€”â€” æ¿€å‘æ½œè—åŠ›é‡ä¸€æ—¦ä½ èƒ½æŒºèº«é¢å¯¹äººç”Ÿçš„æŒ‘æˆ˜ï¼Œä¾¿å¯æ¿€å‘è‡ªå·±åŸæœ¬æ½œè—çš„èƒ½åŠ›ï¼Œè€Œè¿™äº›èƒ½åŠ›ä¼šæ”¹å˜æˆ‘ä»¬åŸæœ¬å¯¹è‡ªæˆ‘ç§‰æŒçš„è§‚å¿µã€‚å¦‚æœä½ é­å—äº†ä»¥å‰ä¸èƒ½æƒ³è±¡çš„è‹¦éš¾ï¼Œä½†æœ€ç»ˆæŒºè¿‡æ¥äº†ï¼Œä½ å°±ä¼šå‘ç°æˆ‘ä»¬å…¶å®æ¯”è‡ªå·±ä»¥ä¸ºçš„æ›´åšå¼ºï¼Œè€Œè¿™ç§è®¤çŸ¥ä¼šç»™è‡ªå·±å¸¦æ¥ä¿¡å¿ƒï¼Œä»¥é¢å¯¹æœªæ¥çš„æŒ‘æˆ˜ã€‚ ç¬¬å…­åèŠ‚ é€†å¢ƒçš„å¥½å¤„(2)é€†å¢ƒä¸­è·ç›Š â€”â€” æ”¹å–„äººé™…å…³ç³»é€†å¢ƒå°±åƒæ˜¯ä¸€ä¸ªæ¼æ–—ï¼Œè®©æˆ‘ä»¬çŸ¥é“è°æ˜¯é…’è‚‰æœ‹å‹ï¼Œè°æ˜¯å¯ä»¥æ‚£éš¾ä¸å…±çš„å¥½å‹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé€†å¢ƒè¿˜ä¼šå¼ºåŒ–äººé™…å…³ç³»ï¼Œè®©æˆ‘ä»¬æ‰“å¼€å¿ƒæ‰‰ã€‚æˆ‘ä»¬ä¼šå¯¹è‡ªå·±å…³å¿ƒçš„äººè¡¨ç°å‡ºçˆ±æ„ï¼Œè€Œåœ¨æ‚£éš¾æ—¶å…³å¿ƒæˆ‘ä»¬çš„äººï¼Œæˆ‘ä»¬ä¼šå¯¹å…¶å¿ƒå­˜çˆ±å¿ƒä¸æ„Ÿæ¿€ã€‚ é€†å¢ƒä¸­è·ç›Š â€”â€” é‡æ–°å®¡è§†äººç”Ÿåˆ›ä¼¤èƒ½å¤Ÿæ”¹å˜ä½ å¯¹äººç”Ÿè¿½æ±‚ã€å¯¹å½“ä¸‹å’Œå¯¹ä»–äººçš„çœ‹æ³•ï¼Œè®©ä½ æƒ³æ¸…æ¥šï¼Œåˆ°åº•ä»€ä¹ˆæ‰æ˜¯æœ€é‡è¦çš„äº‹æƒ…ã€‚äººä»¬æ€»æ˜¯æŠŠååˆ©çœ‹å¾—æ¯”è‡ªèº«è¿˜é‡è¦ï¼Œå¯¹äºå·²ç»æ‹¥æœ‰çš„ä¸œè¥¿éƒ½è§†ä¸ºç†æ‰€å½“ç„¶ï¼Œä¸çŸ¥çæƒœã€‚ä½†ç”Ÿå‘½å—åˆ°é‡å¤§å¨èƒæ—¶ï¼Œäººå¾€å¾€ä¼šå¹¡ç„¶é†’æ‚Ÿï¼Œè¿™ç§æ€ç»´ä¸Šçš„è½¬å˜ï¼Œèƒ½å¤Ÿå¸®åŠ©äººä»¬ç”¨æ›´ç§¯ææ›´çŸ¥è¶³çš„æ€åº¦æ¥é¢å¯¹è‡ªå·±çš„å¤„å¢ƒã€‚ ç¬¬å…­åä¸€èŠ‚ å¤ä¹ è¯¾çŸ¥è¯†ç‚¹å›é¡¾å¤§è±¡ä¸éª‘è±¡äººï¼šäººæœ‰ä¸¤å¥—å¿ƒç†è¿è¡Œæœºåˆ¶ï¼Œéª‘è±¡äººä»£è¡¨äº†æœ‰æ„è¯†çš„ã€ä¸»åŠ¨æ§åˆ¶åçš„æ€è€ƒã€‚å¤§è±¡åŒ…å«æˆ‘ä»¬å†…å¿ƒçš„æ„Ÿè§‰ã€æœ¬èƒ½ååº”ã€æƒ…ç»ªå’Œç›´è§‰ï¼Œä»£è¡¨äº†è‡ªåŠ¨åŒ–çš„å¿ƒç†æ´»åŠ¨ã€‚å¤§è±¡å’Œéª‘è±¡äººå„æœ‰ä¼˜åŠ¿ï¼Œåªè¦é…åˆè‰¯å¥½ï¼Œå°±æˆç»„æˆä¸€ä¸ªæ°å‡ºçš„ä¸ªä½“ã€‚ äººè±¡ä¹‹é—´ä¸»è¦çš„ä¸‰ç§å†²çªï¼šå½“ä¸‹ä¸æœªæ¥ã€å¿ƒç†æ´»åŠ¨çš„å¾ªç¯ã€éª‘è±¡äººçš„è§£é‡Šè¯¯åŒºã€‚äººå’Œè±¡çš„åšå¼ˆçœ‹ä¸Šå»å¾ˆåƒç†æ€§ä¸æ„Ÿæ€§ï¼Œäººæ€§ä¸å…½æ€§çš„å¯¹æŠ—ï¼Œä½†å¤§è±¡ä¸ç­‰åŒäºä¸ç†æ€§çš„è‡ªæˆ‘ï¼Œéª‘è±¡äººæ— æ³•æ„ŸçŸ¥çš„ç»†èŠ‚å¯ä»¥è¢«å¤§è±¡æ„ŸçŸ¥ï¼Œè€Œä¸”å¤§è±¡å…·å¤‡ä¸€å®šçš„è®¤çŸ¥èƒ½åŠ›ã€‚ æå‡å¹¸ç¦æ„Ÿçš„ä¸¤ä¸ªæŠ€å·§ï¼šä¿æŒå‰è¿›å’Œè°ƒæ•´é¢„æœŸã€‚ä¿æŒå‰è¿›ï¼ŒæŒ‡çš„æ˜¯æŠŠè¿œå¤§çš„ç†æƒ³åˆ†è§£æˆä¸€äº›å¯ä»¥å®Œæˆï¼Œå–å¾—è¿›å±•çš„å°ç›®æ ‡ï¼Œæ¯æœç›®æ ‡å‰è¿›ä¸€æ­¥ï¼Œå°±èƒ½å¤Ÿæºæºä¸æ–­çš„æ„Ÿåˆ°å…´å¥‹å’Œæ»¡è¶³ã€‚æ”¹å˜é¢„æœŸä¸åªæ˜¯ä¸€ç§æŠ€å·§ï¼Œç©¶å…¶æ ¹æºï¼Œæ˜¯ä¸€ç§æ›´åŠ å¹¿é˜”ã€æ›´åŠ åŒ…å®¹çš„çœ‹å¾…ä¸–ç•Œå’Œç”Ÿæ´»çš„æ€åº¦ã€‚ å¹¸ç¦æ–¹ç¨‹å¼ï¼šå…ˆå¤©çš„å¹¸ç¦æŒ‡æ•°ã€æ‰€å¤„ç¯å¢ƒçš„ç”Ÿæ´»æ¡ä»¶å’Œçœ‹å¾…ç”Ÿæ´»çš„æ€åº¦ï¼Œè¿™ä¸‰è€…å…±åŒå†³å®šäº†æˆ‘ä»¬çœŸæ­£æ„ŸçŸ¥åˆ°çš„å¹¸ç¦ã€‚ å®¹æ˜“è¢«å¿½è§†ï¼Œå´èƒ½æ˜¾è‘—å½±å“ç”Ÿæ´»çš„å¤–éƒ¨å› ç´ ï¼šå™ªå£°ã€é€šå‹¤æ—¶é—´ã€æŒæ§æ„Ÿã€å¤©ç„¶ç¼ºé™·å’Œäººé™…å…³ç³»ã€‚ é€†å¢ƒå¯¹äºå¹¸ç¦çš„æ­£é¢æ•ˆåº”ï¼šæ¿€å‘æ½œè—åŠ›é‡ã€æ”¹å–„äººé™…å…³ç³»ã€é‡æ–°å®¡è§†äººç”Ÿã€‚ ç¬¬å…­åäºŒèŠ‚ å…³äºå­¦ä¹ çš„è¯¯åŒº(1)å…³äºå­¦ä¹ çš„è¯¯åŒº â€”â€” ä¸€ä¸‡å°æ—¶å®šå¾‹æœ€è¿‘å‡ å¹´ï¼Œ1ä¸‡å°æ—¶å®šå¾‹è¿™ä¸ªæ¦‚å¿µéå¸¸çƒ­é—¨ï¼šåªè¦æŠŠä¸€ä¸ªæŠ€èƒ½é‡å¤ç»ƒä¹ ï¼Œç»ƒä¹ æ—¶é—´è¶…è¿‡ä¸€ä¸‡å°æ—¶ï¼Œå°±ä¸€å®šæˆä¸ºè¿™ä¸ªè¡Œä¸šçš„ä¸“å®¶ã€‚è¿™ç§è®¤è¯†éå¸¸ç‰‡é¢ï¼Œå› ä¸ºæŠ•å…¥çš„æ—¶é—´åªæ˜¯åŸºç¡€ï¼Œå¦‚æœæ²¡æœ‰æŒæ¡æ­£ç¡®çš„å­¦ä¹ æ–¹æ³•ï¼ŒæŠ•å…¥å†å¤šæ—¶é—´ï¼Œä¹Ÿåªèƒ½è¾¾åˆ°ç†Ÿç»ƒï¼Œè€Œä¸èƒ½ç²¾é€šã€‚ ç ”ç©¶è¡¨æ˜ï¼Œä¸€æ—¦æŸä¸ªäººçš„è¡¨ç°è¾¾åˆ°äº†ç†Ÿç»ƒæ°´å¹³ï¼Œå¹¶ä¸”å¯ä»¥åšåˆ°è‡ªåŠ¨åŒ–ï¼Œé‚£ä¹ˆï¼Œå³ä½¿å†å¤šâ€œç»ƒä¹ â€å‡ å¹´ï¼Œä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆè¿›æ­¥ã€‚ ç¬¬å…­åä¸‰èŠ‚ å…³äºå­¦ä¹ çš„è¯¯åŒº(2)å…³äºå­¦ä¹ çš„è¯¯åŒº â€”â€” é«˜ä¼°å¤©èµ‹çš„ä½œç”¨äººä»¬é€šå¸¸ä»¥ä¸ºï¼ŒæŸä¸ªäººåœ¨ä»»ä½•ç‰¹å®šè¡Œä¸šæˆ–é¢†åŸŸå†…çš„æ½œåŠ›ï¼Œä¸å¯é¿å…åœ°å—åˆ°å¤©ç”Ÿæ‰èƒ½çš„é™åˆ¶ï¼Œåªæœ‰ä¾é å¤©ç”Ÿå°±å…·æœ‰çš„ä¸€äº›å›ºå®šæ½œåŠ›æ‰èƒ½æˆå°±æ°å‡ºã€‚ä½†äº‹å®ä¸Šï¼Œæ½œåŠ›ä¸åªæ˜¯å¤©ç”Ÿçš„ï¼Œå®ƒè¿˜èƒ½é€šè¿‡æˆ‘ä»¬ä¸€ç”Ÿä¸­ç»å†çš„å„ç§å„æ ·çš„äº‹æƒ…æ¥åˆ›é€ ã€‚åªè¦å–„äºå­¦ä¹ ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›é€ è‡ªå·±çš„æ½œåŠ›ã€‚ åœ¨æˆ‘ä»¬å½“ä¸‹è¿™ä¸ªæ—¶ä»£ï¼Œè®¸å¤šäººæ‹¥æœ‰ç€è¶…å¸¸çš„èƒ½åŠ›ï¼Œé‚£äº›èƒ½åŠ›èƒœè¿‡äººç±»å†å²ä¸Šä»»ä½•æ—¶ä»£çš„äººã€‚æ˜¾ç„¶ï¼Œäººçš„èº«ä½“æ„é€ æ²¡æœ‰å˜åŒ–ï¼Œå¹¶ä¸æ˜¯å› ä¸ºç°ä»£äººçš„åŸºå› æœ‰å·¨å¤§æ”¹å˜ï¼Œæ¯”ä¸Šä¸–çºªçš„äººæ›´æœ‰å¤©èµ‹ï¼Œè€Œæ˜¯äººä»¬æ›´å–„äºå­¦ä¹ äº†ã€‚ ç¬¬å…­åå››èŠ‚ æœ‰ç›®çš„çš„å­¦ä¹ (1)æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” ç›®æ ‡å®šä¹‰æ˜ç¡®æ²¡æœ‰ç›®æ ‡çš„ç»ƒä¹ ï¼šæ¯å¤©éƒ½è¦ç»ƒä¹ ã€‚æœ‰ç›®æ ‡çš„ç»ƒä¹ ï¼šæ¯å¤©éƒ½è¦ç»ƒä¹ ä¸‰ä¸ªå°æ—¶æœ‰æ˜ç¡®ç›®æ ‡çš„ç»ƒä¹ ï¼šæŠŠç»ƒä¹ æ›²è¿ç»­å¼¹å¥ä¸‰æ¬¡ï¼ŒæœŸé—´ä¸çŠ¯ä»»ä½•é”™è¯¯ï¼Œå¹¶ä¸”ä¿æŒé€‚å½“çš„é€Ÿåº¦ã€‚ æ‰€è°“æ˜ç¡®çš„ç›®æ ‡ï¼Œå°±æ˜¯æŒ‡ä½ èƒ½å¤Ÿåœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®è¿™ä¸ªç›®æ ‡å¯¹è‡ªå·±è¿›è¡Œè¯„ä»·ï¼Œåˆ¤æ–­è‡ªå·±æ˜¯å¦æˆåŠŸçš„è¾¾æˆäº†è¿™ä¸ªç›®æ ‡ã€‚ æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” ä¿æŒä¸“æ³¨æé«˜ä¸“æ³¨åº¦æœ€å¸¸ç”¨çš„æ–¹å¼æ˜¯éš”ç¦»å¹²æ‰°æºã€‚æ¯”å¦‚å¯»æ‰¾å®‰é™çš„å­¦ä¹ åœºæ‰€ã€æ‰“å¼€æ‰‹æœºçš„å‹¿æ‰°æ¨¡å¼ã€å…³é—­ç½‘ç»œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¸€äº›æœ‰ä»ªå¼æ„Ÿçš„åŠ¨ä½œå’Œè¡Œä¸ºè¿›è¡Œå¿ƒç†æš—ç¤ºï¼Œå¸®åŠ©è‡ªå·±è¿›å…¥åˆ°ä¸“æ³¨çŠ¶æ€ã€‚æ¯”å¦‚å­¦ä¹ ä¹‹å‰ç»™è‡ªå·±é¼“é¼“æŒï¼Œå–ä¸€æ¯å’–å•¡ï¼Œæˆ–è€…è¿›è¡Œä¸€æ¬¡å†¥æƒ³å‘¼å¸ç»ƒä¹ ã€‚ æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” è¦æœ‰åé¦ˆåœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¿…é¡»çŸ¥é“æŸä»¶äº‹æƒ…è‡ªå·±åšå¾—å¯¹ä¸å¯¹ï¼Œå¦‚æœä¸å¯¹ï¼Œä½ åˆ°åº•æ€ä¹ˆé”™äº†ã€‚å¦‚æœä½ æ¸…æ¥šè‡ªå·±æ˜¯åœ¨å“ªä¸€ä¸ªç¯èŠ‚å‡ºé—®é¢˜ï¼Œå°±å¯ä»¥å›´ç»•è¿™ä¸ªç¯èŠ‚è¿›è¡Œé’ˆå¯¹æ€§çš„ç»ƒä¹ ã€‚å¦‚æœä½ çŸ¥é“è‡ªå·±å®ç°ç›®æ ‡çš„è¿›åº¦ï¼Œå°±å¯ä»¥çµæ´»çš„è°ƒæ•´å­¦ä¹ è®¡åˆ’ã€‚ ç¬¬å…­åäº”èŠ‚ æœ‰ç›®çš„çš„å­¦ä¹ (2)æœ‰ç›®çš„å­¦ä¹ çš„ç‰¹ç‚¹ â€”â€” è¦èµ°å‡ºèˆ’é€‚åŒºèµ°å‡ºèˆ’é€‚åŒºï¼Œæ˜¯æœ‰ç›®çš„çš„ç»ƒä¹ æœ€ä¸ºé‡è¦çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ã€‚æ‰€è°“èˆ’é€‚åŒºï¼ŒæŒ‡çš„å°±æ˜¯é‚£äº›ä¸å¤ªè´¹åŠ›ï¼Œå¾ˆå®¹æ˜“å°±èƒ½æƒ³åˆ°ï¼Œå¹¶ä¸”ä¸€å®šå¯ä»¥åšåˆ°çš„äº‹æƒ…ã€‚ èµ°å‡ºèˆ’é€‚åŒºæœ‰ä¸¤ç§æ–¹å¼ï¼šç¬¬ä¸€ç§æ˜¯åšå¾ˆæœ‰éš¾åº¦ï¼ŒæŒ‘æˆ˜è‡ªå·±æé™çš„äº‹æƒ…ï¼Œç¬¬äºŒç§æ˜¯å°è¯•è‡ªå·±æ²¡åšè¿‡çš„äº‹æƒ…ã€‚å‰è€…æœ€éœ€è¦çš„æ˜¯å†³å¿ƒï¼Œè€Œåè€…æ›´éœ€è¦çš„æ˜¯åˆ›æ„ã€‚ å¤§å®¶å¯ä»¥å¤šé—®è‡ªå·±ä¸¤ä¸ªé—®é¢˜ï¼š1ã€ä½ æœ‰æ²¡æœ‰è¾¾åˆ°è‡ªå·±çš„æé™ã€‚2ã€ä½ æœ‰æ²¡æœ‰å°è¯•æ–°çš„ç»ƒä¹ æ–¹æ³•ï¼Ÿå¦‚æœä¸¤ä¸ªé—®é¢˜çš„ç­”æ¡ˆéƒ½æ˜¯å¦å®šçš„ï¼Œå°±éœ€è¦æé†’è‡ªå·±è¦èµ°å‡ºèˆ’é€‚åŒºã€‚ ç¬¬å…­åå…­èŠ‚ å¿ƒç†è¡¨å¾æ˜¯ä»€ä¹ˆå¿ƒç†è¡¨å¾æ˜¯ä»€ä¹ˆå°±æ˜¯æŒ‡æˆ‘ä»¬äº†è§£çš„æŸä¸ªç‰©ä½“ã€æŸä¸ªè§‚ç‚¹ã€æŸäº›ä¿¡æ¯æˆ–è€…å…¶å®ƒä»»ä½•äº‹ç‰©åœ¨æ€ç»´ä¸­å¯¹åº”çš„æ ·å­ã€‚å¿ƒç†è¡¨å¾å¯ä»¥æ˜¯å…·ä½“çš„è§†è§‰å½¢è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯æŠ½è±¡çš„æ¦‚å¿µã€‚ æœ‰æ•ˆå­¦ä¹ çš„æœ¬è´¨å°±æ˜¯å»ºç«‹é«˜è´¨é‡çš„å¿ƒç†è¡¨å¾ä¸€ä¸ªé¢†åŸŸçš„ä¸“å®¶ï¼Œå’Œæ™®é€šäººæœ€å¤§çš„åŒºåˆ«ï¼Œå°±æ˜¯å‰è€…é€šè¿‡å¤šå¹´çš„æœ‰æ•ˆç»ƒä¹ ï¼Œé’ˆå¯¹æœ¬è¡Œä¸šæˆ–é¢†åŸŸä¸­è‡ªå·±å¯èƒ½é‡åˆ°çš„å„ç§ä¸åŒå±€é¢ï¼Œåˆ›å»ºäº†é«˜åº¦å¤æ‚å’Œç²¾ç»†çš„è¡¨å¾ï¼Œè¿™äº›è¡¨å¾ä½¿ä»–ä»¬èƒ½å¤Ÿåšå‡ºæ›´å¿«æ›´å‡†ç¡®çš„å†³ç­–ï¼Œå¹¶åœ¨ç‰¹å®šçš„å±€é¢ä¸Šæ›´æœ‰æ•ˆåœ°åº”å¯¹ã€‚ ç¬¬å…­åä¸ƒèŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨(1)å¿ƒç†è¡¨å¾æœ‰åŠ©äºå¯»æ‰¾è§„å¾‹ç»†åˆ†æ¥è¯´ï¼Œå¿ƒç†è¡¨å¾å¯¹è§„å¾‹çš„æŠŠæ¡å…·ä½“è¡¨ç°æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯é¢„æµ‹æœªæ¥ã€‚ä¼˜ç§€çƒå‘˜å¯ä»¥é€šè¿‡å°‘é‡ç»†èŠ‚æŠŠçƒåœºä¸Šå‘ç”Ÿçš„äº‹æƒ…ä¸è®°å¿†åº“ä¸­ä¸°å¯Œçš„å¿ƒç†è¡¨å¾è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœèƒ½å¤ŸåŒ¹é…æˆåŠŸï¼Œä»–å°±å¯ä»¥é¢„åˆ¤è¿™ä»¶äº‹æ¥ä¸‹æ¥çš„èµ°å‘ï¼Œä»è€Œæå‰åšå¥½åº”å¯¹ã€‚ ç¬¬äºŒç§æ˜¯å½’çº³å’Œåˆ†ç±»ã€‚ä»¥æ”€å²©ä¸ºä¾‹ã€‚æ”€å²©è€…åœ¨æ”€çˆ¬æ—¶ï¼Œä¼šé‡åˆ°ä¸åŒçš„æŠŠæ‰‹ï¼Œè¿™äº›æŠŠæ‰‹è¦æ±‚é‡‡ç”¨å„ç§ä¸åŒçš„æ¡æ³•ï¼Œå¦‚æœåœ¨æŠŠæ‰‹ä¸Šè¿ç”¨äº†é”™è¯¯çš„æŠ“æ¡æ–¹æ³•ï¼Œå°±æœ‰å¾ˆå¤§å¯èƒ½ä»å¢™ä¸Šæ‰ä¸‹æ¥ã€‚ æ²¡æœ‰ç»éªŒçš„æ”€å²©è€…ï¼Œå¿…é¡»è¾¹çˆ¬è¾¹æƒ³ï¼Œé‡åˆ°æ¯ä¸ªæŠŠæ‰‹éƒ½è¦è¯†åˆ«å’Œåˆ¤æ–­é€‚åˆå“ªç§æŠ“æ¡æ–¹æ³•ã€‚è€Œç»éªŒä¸°å¯Œçš„æ”€å²©è€…åœ¨å¯¹å„ç§æŠŠæ‰‹å»ºç«‹å¿ƒç†è¡¨å¾æ—¶ï¼Œä¼šæŒ‰ç…§æ¡æ³•åˆ†ç±»ï¼Œå†æŠŠåŒä¸€ç§æ¡æ³•å¯¹åº”çš„æŠŠæ‰‹å½’çº³åˆ°åŒä¸€ç»„ã€‚ä»–ä»¬åœ¨æ”€çˆ¬æ—¶å°±å¯ä»¥ä½¿ç”¨å¿ƒç†è¡¨å¾è½»æ¾åšå‡ºå†³ç­–ã€‚ ç¬¬å…­åå…«èŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ2ï¼‰å¿ƒç†è¡¨å¾æœ‰åŠ©äºè§£é‡Šä¿¡æ¯åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šæ¥å—æµ·é‡çš„ä¿¡æ¯ã€‚å¿ƒç†è¡¨å¾çš„ä¸€ä¸ªé‡è¦å¥½å¤„åœ¨äºï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬é«˜æ•ˆçš„ç†è§£ä¿¡æ¯ï¼Œå¹¶æŠŠå®ƒä¿å­˜åœ¨è®°å¿†ä¹‹ä¸­ï¼Œç»„ç»‡å®ƒã€åˆ†æå®ƒï¼Œå¹¶ç”¨å®ƒæ¥å†³ç­–ã€‚ å¦‚æœä½ åªæ˜¯è®¤è¯†æ±‰å­—ï¼Œè€Œæ²¡æœ‰å¯¹åº”çš„å¿ƒç†è¡¨å¾ï¼Œé‚£ä½ åœ¨é˜…è¯»çš„æ—¶å€™ï¼Œåªä¼šçœ‹åˆ°ä¸åŒçš„æ±‰å­—æ¯«æ— æ„ä¹‰çš„éšæœºæ’å¸ƒï¼Œæ ¹æœ¬æ— æ³•è¿›è¡Œä»»ä½•çš„ç†è§£ã€‚ å¦‚æœå»ºç«‹äº†ç›¸å…³çš„å¿ƒç†è¡¨å¾ï¼Œå½“æˆ‘ä»¬çœ‹åˆ°â€œçŒ«â€è¿™ä¸ªå­—çš„æ—¶å€™ï¼Œå°±ä¼šå°†è¿™ä¸ªæ±‰å­—ä¸å®ƒçš„å‘éŸ³è”ç³»åˆ°ä¸€èµ·ï¼Œå¹¶ä¸æˆ‘ä»¬å¸¸è§åˆ°çš„ä¸€ç§å°å°çš„ã€é•¿æ¯›çš„ã€ä¼šå‘å‡ºâ€œå–µå–µâ€å«å£°ã€é€šå¸¸ä¸ç‹—æ— æ³•å’Œè°ç›¸å¤„çš„åŠ¨ç‰©è”ç³»èµ·æ¥ï¼Œä»è€Œç†è§£è¿™ä¸ªå­—ã€‚ å¿ƒç†è¡¨å¾å¯¹äºè§£é‡Šä¿¡æ¯çš„å¸®åŠ©æ— å¤„ä¸åœ¨ï¼Œå›½é™…è±¡æ£‹é«˜æ‰‹å¯ä»¥çœ‹æ‡‚æ£‹è°±ï¼ŒèŒä¸šéŸ³ä¹å®¶å¯ä»¥çœ‹æ‡‚ä¸€é¦–æ–°æ›²å­çš„ä¹è°±ï¼Œç¨‹åºå‘˜èƒ½å¤Ÿç†è§£å¤æ‚å¯¹ä»£ç ï¼Œä¹Ÿæ˜¯è¿™æ ·çš„é“ç†ã€‚ ç¬¬å…­åä¹èŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ3ï¼‰å¿ƒç†è¡¨å¾æœ‰åŠ©äºç»„ç»‡ä¿¡æ¯ç†è§£å’Œè§£é‡Šä¿¡æ¯éœ€è¦å€ŸåŠ©å¿ƒç†è¡¨å¾ã€‚ä½†ç†è§£åªæ˜¯åŸºç¡€ï¼ŒéŸ³ä¹å®¶ä¸å…‰è¦ä¼šè¯»ä¹è°±ï¼Œè¿˜è¦èƒ½å¤Ÿæ ¹æ®ä¹è°±åšå‡ºå¸¦æœ‰è‡ªå·±é£æ ¼çš„æ¼”ç»ï¼Œç”šè‡³è¦è‡ªå·±ä½œæ›²ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç»„ç»‡ä¿¡æ¯ã€‚ ç²¾å¿ƒåˆ›å»ºçš„å¿ƒç†è¡¨å¾ï¼Œä¸»è¦ä¼˜åŠ¿å°±æ˜¯å¯ä»¥åœ¨ç»„ç»‡ä¿¡æ¯æ—¶å¸æ”¶å’Œè€ƒè™‘æ›´å¤šçš„ä¿¡æ¯ã€‚æ¯”å¦‚å¸¸äººå¯¹äºâ€œå‘çƒ§â€å»ºç«‹çš„å¿ƒç†è¡¨å¾å°±æ˜¯â€œç”±æ„Ÿå†’å¼•èµ·â€ï¼Œè€ŒåŒ»ç”Ÿä¸ä¼šæŠŠç—…äººçš„ç—‡çŠ¶ä¸å…¶ä»–ç›¸å…³æ•°æ®è§†ä¸ºç›¸äº’å­¤ç«‹çš„ä¿¡æ¯ï¼Œè€Œæ˜¯ä½œä¸ºæ›´å¤§æ•´ä½“ä¸­çš„ä¸€éƒ¨åˆ†æ¥çœ‹å¾…ï¼Œè”æƒ³åˆ°å‡ åç§ä¸Šç™¾ç§å¯èƒ½æ€§ã€‚ ç¬¬ä¸ƒåèŠ‚ å¿ƒç†è¡¨å¾çš„ä½œç”¨ï¼ˆ4ï¼‰å¿ƒç†è¡¨å¾æœ‰åŠ©äºæ‰§è¡Œå­¦ä¹ è®¡åˆ’æœ‰æ•ˆå­¦ä¹ çš„åŸºç¡€æ˜¯æœ‰ç›®çš„çš„å­¦ä¹ ã€‚æœ‰ç›®çš„å­¦ä¹ æœ‰å››ä¸ªç‰¹ç‚¹ï¼Œç¬¬ä¸€ç‚¹å°±æ˜¯è¦æœ‰å®šä¹‰æ˜ç¡®çš„ç›®æ ‡ã€‚æœ‰äº†ç›®æ ‡ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å›´ç»•ç›®æ ‡è¿›è¡Œç»†è‡´çš„å®‰æ’ï¼Œåˆ¶å®šä¸€ä¸ªåŒ…å«è¿›åº¦çš„å­¦ä¹ è®¡åˆ’ã€‚å…·ä½“çš„å­¦ä¹ è¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯æ‰§è¡Œè¿™ä¸ªè®¡åˆ’ã€‚ åœ¨å­¦ä¹ è¿‡ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬æœ€å®¹æ˜“é‡åˆ°çš„é—®é¢˜ï¼Œå°±æ˜¯å­¦ä¹ è®¡åˆ’çš„åˆ¶è®¢ä¸å®é™…æƒ…å†µå¹¶ä¸ç›¸ç¬¦ï¼Œæ¯”å¦‚é«˜ä¼°äº†è‡ªå·±çš„æ‰§è¡ŒåŠ›å’Œå­¦ä¹ é€Ÿåº¦ã€æˆ–è€…é‡åˆ°äº†è®¸å¤šæ²¡æœ‰é¢„æ–™åˆ°çš„çªå‘æƒ…å†µï¼Œè¿™äº›é—®é¢˜ä¼šä¸¥é‡é˜»ç¢æˆ‘ä»¬çš„å­¦ä¹ ã€‚ ä¸ºå­¦ä¹ ç›®æ ‡æ„å»ºæ›´ç²¾ç»†çš„å¿ƒç†è¡¨å¾ï¼Œèƒ½å¤Ÿè®©ç›®æ ‡çš„æ‰§è¡Œè·¯å¾„æ›´æ˜ç¡®ã€æ›´æœ‰æ¡ç†ï¼ŒæŒ‡å¯¼æˆ‘ä»¬æœ‰æ¡ç†çš„æ‰§è¡Œè®¡åˆ’ï¼Œä»è€Œæ›´å‡†ç¡®çš„é¢„è§å­¦ä¹ è¿‡ç¨‹ï¼Œç¡®ä¿å­¦ä¹ è®¡åˆ’èƒ½å¤Ÿç¬¦åˆå®é™…ã€‚ ç¬¬ä¸ƒåä¸€èŠ‚ æœ‰æ•ˆå­¦ä¹ çš„åŸºç¡€å¼€å±•æœ‰æ•ˆå­¦ä¹ çš„é‡è¦åŸºç¡€ â€”â€” å¯»æ‰¾å¥½å¯¼å¸ˆæœ‰æ•ˆå­¦ä¹ çš„æ ¸å¿ƒæ˜¯å»ºç«‹ç²¾å¯†çš„å¿ƒç†è¡¨å¾ã€‚è‡ªå·±ç»ƒä¹ æ—¶ï¼Œä½ å¿…é¡»ä¾é è‡ªå·±çš„å¿ƒç†è¡¨å¾æ¥ç›‘æµ‹è‡ªå·±çš„è¡¨ç°ï¼Œå¹¶åˆ¤æ–­è‡ªå·±åœ¨å“ªäº›åœ°æ–¹åšå¾—ä¸å¯¹ã€‚ è™½ç„¶è¿™ä¸æ˜¯ä¸å¯èƒ½åšåˆ°çš„ï¼Œä½†æ¯”èµ·æ‰¾ä¸€ä½ç»éªŒä¸°å¯Œçš„å¯¼å¸ˆæ¥è§‚å¯Ÿä½ ï¼Œå¹¶å‘ä½ æä¾›åé¦ˆç›¸æ¯”ï¼Œå•å‡­è‡ªå·±çš„åŠ›é‡æ¥ç»ƒä¹ ï¼Œä¸ä½†è‰°éš¾å¾—å¤šï¼Œè€Œä¸”æ•ˆæœå·®å¾—å¤šï¼Œåœ¨å­¦ä¹ è¿‡ç¨‹çš„æ—©æœŸå°¤å…¶å¦‚æ­¤ã€‚ å¥½çš„å¯¼å¸ˆæ˜ç™½å­¦ä¹ ä¸€é¡¹æŠ€èƒ½çš„æœ€ä½³é¡ºåºï¼Œèƒ½å¤Ÿç†è§£å¹¶ç¤ºèŒƒæ­£ç¡®çš„æ–¹å¼æ¥å±•ç¤ºå„ç§æŠ€èƒ½ï¼Œå¯ä»¥æä¾›æœ‰æ•ˆåé¦ˆï¼Œç”šè‡³è¿˜èƒ½è®¾è®¡ä¸€äº›ä¸“é—¨ç”¨æ¥å…‹æœç‰¹å®šç¼ºé™·çš„ç»ƒä¹ æ´»åŠ¨ï¼Œåœ¨å¯¼å¸ˆçš„æŒ‡å¯¼ä¸‹ï¼Œæ¿€æƒ…åè¶³ã€å­œå­œä¸å€¦çš„å­¦ç”Ÿèƒ½å¤Ÿæ›´åŠ è¿…é€Ÿåœ°å–å¾—è¿›æ­¥ã€‚ ç¬¬ä¸ƒåäºŒèŠ‚ å¦‚ä½•å¯»æ‰¾å¯¼å¸ˆå¦‚ä½•è¾¨è®¤å¥½å¯¼å¸ˆå¥½çš„å¯¼å¸ˆåº”å½“æ˜¯åœ¨æ‰€å±è¡Œä¸šæˆ–é¢†åŸŸä¹‹ä¸­æœ‰ä¸€å®šæˆå°±çš„äººï¼Œå› ä¸ºå¤§éƒ¨åˆ†å¯¼å¸ˆåªèƒ½å¼•å¯¼ä½ è¾¾åˆ°ä»–ä»¬æˆ–è€…ä»–ä»¬çš„å­¦ç”Ÿæ›¾ç»è¾¾åˆ°è¿‡çš„æ°´å¹³ã€‚ å¥½å¯¼å¸ˆåº”å½“å…·å¤‡ä¸€å®šçš„æ•™è‚²ç»éªŒã€‚å¾ˆå¤šæˆå°±çªå‡ºçš„äººå¹¶ä¸èƒ½èƒœä»»å¯¼å¸ˆçš„è§’è‰²ï¼Œä»–ä»¬è‡ªå·±èƒ½å¤Ÿåšå‡ºæ°å‡ºçš„æˆç»©ï¼Œå¹¶ä¸æ„å‘³ç€ä»–çš„æŠ€å·§å’Œç»éªŒå¯ä»¥å¤åˆ¶åˆ°å…¶ä»–äººèº«ä¸Šã€‚ é€‰æ‹©å¯¼å¸ˆæ—¶ï¼Œè¦è®°å¾—è¯¢é—®å¯¼å¸ˆçš„è¿‡å¾€ç»éªŒï¼Œå¯ä»¥å’Œè¿™ä½å¯¼å¸ˆä»¥å‰æˆ–ç°åœ¨çš„å­¦ç”Ÿäº¤è°ˆã€‚äº¤è°ˆæ—¶è¦æ³¨æ„å›´ç»•ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜å±•å¼€ï¼š 1ã€è¿™äº›å­¦ç”Ÿçš„æ°´å¹³å¦‚ä½•ï¼Ÿ 2ã€ä»–ä»¬æŠ€èƒ½çš„æå‡ï¼Œå¤šå¤§ç¨‹åº¦ä¸Šå½’åŠŸäºå¯¼å¸ˆï¼Ÿ 3ã€ä»–ä»¬å¯¹å¯¼å¸ˆçš„è¯„ä»·å¦‚ä½•ï¼Ÿ æ²¡æœ‰å¯¼å¸ˆæ—¶çš„æ›¿ä»£æ–¹æ¡ˆæƒ³è¦åœ¨æ²¡æœ‰å¯¼å¸ˆçš„æ—¶å€™æœ‰æ•ˆåœ°ç»ƒä¹ æŸç§æŠ€èƒ½ï¼Œæœ‰ä¸‰ä¸ªè¯éå¸¸é‡è¦ï¼šä¸“æ³¨ã€åé¦ˆå’Œçº æ­£ã€‚ æ— è®ºä½ é‡‡ç”¨ä»€ä¹ˆæ ·çš„ç»ƒä¹ æ–¹å¼ï¼Œéƒ½è¦åœ¨ç»ƒä¹ çš„è¿‡ç¨‹ä¸­ä¿æŒä¸“æ³¨ï¼Œåœ¨ç»ƒä¹ ç»“æŸåå¯¹è‡ªå·±è¿›è¡Œè¯„ä»·è®°å½•ï¼Œæ‰¾åˆ°è¡Œä¸šä¸“å®¶åœ¨è¿™ä¸ªç»ƒä¹ ä¸­çš„è¡¨ç°ï¼Œè·Ÿè‡ªå·±å¯¹æ¯”ï¼Œç”±æ­¤åˆ¶è®¢æ”¹è‰¯çš„æ–¹æ¡ˆï¼Œå¹¶åœ¨ä¸‹ä¸€æ¬¡ç»ƒä¹ æ—¶æ ¹æ®æ–¹æ¡ˆæ¥çº æ­£è‡ªå·±ã€‚ ç¬¬ä¸ƒåä¸‰èŠ‚ å¦‚ä½•åšæŒå­¦ä¹ æ–°å¹´å†³å¿ƒæ•ˆåº”ä¿—è¯è¯´ä¸‡äº‹å¼€å¤´éš¾ã€‚ä½†å¯¹äºå­¦ä¹ æ¥è¯´ï¼Œç€æ‰‹åšå¹¶ä¸éš¾ï¼ŒåšæŒä¸æ‡ˆæ‰æ˜¯éš¾äº‹ã€‚å¾ˆå¤šäººéƒ½æœ‰åœ¨æ–°å¹´æ—¶æŒ‡å®šç›®æ ‡å’Œè®¡åˆ’çš„ä¹ æƒ¯ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ— è®ºä½ æœ€å¼€å§‹æœ‰å¤šçƒ­æƒ…ï¼Œæ”¾å¼ƒçš„æ„æ„¿éƒ½ä¼šè¶Šæ¥è¶Šå¼ºï¼Œå¾ˆå°‘æœ‰äººèƒ½å¤ŸçœŸæ­£çš„è¾¾æˆç›®æ ‡ã€‚ èƒ½å¦åšæŒçš„å…³é”®æ˜¯åŠ¨æœºæˆ‘ä»¬åšä¸€ä»¶äº‹æƒ…çš„åŠ¨æœºï¼ŒåŒ…æ‹¬ä¸¤ä¸ªç»„æˆéƒ¨åˆ†ï¼šç»§ç»­å‰è¡Œçš„ç†ç”±å’Œåœä¸‹è„šæ­¥çš„ç†ç”±ã€‚å¦‚æœåœä¸‹è„šæ­¥çš„ç†ç”±æˆ˜èƒœäº†ç»§ç»­å‰è¡Œçš„ç†ç”±ï¼Œå¤±å»äº†åŠ¨æœºï¼Œä½ å°±å¾ˆéš¾åšæŒã€‚å› æ­¤ï¼Œæƒ³è¦åšæŒå°±è¦ä¿æŒåŠ¨æœºï¼Œè¦ä¹ˆå¼ºåŒ–ç»§ç»­å‰è¡Œçš„ç†ç”±ï¼Œè¦ä¹ˆå¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±ã€‚ å¦‚ä½•å¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±1ã€æ‰¾åˆ°æœ€èˆ’é€‚çš„å­¦ä¹ æ—¶é—´ï¼Œå¹¶å›ºå®šä¸‹æ¥ã€‚ 2ã€æ‰¾å‡ºé‚£äº›å¯èƒ½å¹²æ‰°ä½ ç»ƒä¹ çš„äº‹æƒ…ï¼Œæƒ³åŠæ³•å°†å®ƒä»¬çš„å½±å“æ§åˆ¶åœ¨æœ€å°ã€‚æˆ‘ä»¬å¿…é¡»è¦æ˜ç¡®ï¼Œå›ºå®šçš„å­¦ä¹ æ—¶é—´ä¸­ä¸€å®šä¸èƒ½åšå…¶ä»–äº‹æƒ…ï¼Œæ— è®ºæ˜¯ä¸æ˜¯æ­£äº‹ã€‚ ç¬¬ä¸ƒåå››èŠ‚ æ­¥å±¥ä¸åœå¦‚ä½•å¢å¼ºç»§ç»­å‰è¡Œçš„ç†ç”±å­¦ä¹ ä¸€ä¸ªæŠ€èƒ½æœ€åˆçš„ç†ç”±ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§ï¼šå‘è‡ªå†…å¿ƒçš„çƒ­çˆ±å’Œç¤¾ä¼šåŠ¨æœºã€‚å‰è€…æ¯”è¾ƒç½•è§ï¼Œä½†åŠ¨åŠ›ä¼šéå¸¸å¼ºå¤§ã€‚å¦‚æœæ²¡æœ‰å¤–åŠ›çš„é˜»æŒ ï¼Œå…´è¶£å°±ä¼šæˆä¸ºæœ€å¥½çš„è€å¸ˆï¼Œç£ä¿ƒç€æˆ‘ä»¬åšæŒå­¦ä¹ å¹¶ä¹åœ¨å…¶ä¸­ã€‚ ç¤¾ä¼šåŠ¨æœºå°±æ˜¯å—åˆ°å¤–ç•Œå½±å“æ‰äº§ç”Ÿçš„åŠ¨æœºï¼Œæ¯”è¾ƒå¸¸è§ä½†åŠ¨åŠ›è¾ƒå¼±ï¼Œå¦‚æœä¸é‡‡å–ç›¸åº”çš„æªæ–½ï¼Œç¤¾ä¼šåŠ¨æœºå¾ˆéš¾æ”¯æ’‘æˆ‘ä»¬é•¿æœŸåšæŒã€‚æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ˜¾è‘—çš„å¼ºåŒ–ç¤¾ä¼šåŠ¨æœºï¼Œå¸®åŠ©æˆ‘ä»¬åšæŒå­¦ä¹ ã€‚ ç¬¬ä¸€ç§æ–¹æ³•ï¼Œæ˜¯å°†å¯¹åŒä¸€ä»¶äº‹æƒ…æ„Ÿå…´è¶£çš„äººèšé›†èµ·æ¥ï¼Œæˆ–è€…åŠ å…¥ä¸€ä¸ªç°æœ‰çš„ï¼Œæ‰€æœ‰æˆå‘˜æœ‰ç€å…±åŒç›®æ ‡çš„å›¢ä½“ï¼Œå¹¶å’Œé›†ä½“ä¸­çš„å…¶ä»–äººå»ºç«‹è‰¯å¥½çš„äººé™…å…³ç³»ã€‚ ç¬¬äºŒç§æ–¹æ³•ï¼Œæ˜¯å»ºç«‹åšä¿¡è‡ªå·±èƒ½å¤ŸæˆåŠŸçš„ä¿¡å¿µã€‚è®¸å¤šå¤æ‚çš„æŠ€èƒ½ï¼Œéœ€è¦æ—¥ç§¯æœˆç´¯ï¼Œåšç§¯è–„å‘çš„å­¦ä¹ æ‰èƒ½çœ‹åˆ°æˆæ•ˆã€‚ä½†æ˜¯ï¼Œåœ¨çœ‹åˆ°æˆæ•ˆä¹‹å‰ï¼Œå¾ˆå°‘æœ‰äººèƒ½å¤Ÿæ¥å—è¿™ç§æ¯«æ— èµ·è‰²çš„çŠ¶æ€ï¼Œè½¬è€Œè®¤å®šè‡ªå·±çš„å­¦ä¹ æ˜¯å¾’åŠ³çš„ï¼Œä»è€Œæ”¾å¼ƒåšæŒã€‚å› æ­¤ï¼Œå“ªæ€•æ˜¯è‡ªæˆ‘æ¬ºéª—ï¼Œæˆ‘ä»¬éƒ½è¦åšä¿¡è‡ªå·±èƒ½å¤ŸæˆåŠŸã€‚ ç¬¬ä¸ƒåäº”èŠ‚ å¤ä¹ è¯¾å¤ä¹ è¯¾ å…³äºå­¦ä¹ çš„ä¸¤ä¸ªè¯¯åŒºä¸€ä¸‡å°æ—¶å®šå¾‹ã€é«˜ä¼°å¤©èµ‹çš„ä½œç”¨ã€‚ æœ‰æ•ˆå­¦ä¹ çš„åŸºç¡€ï¼š æœ‰ç›®çš„å­¦ä¹ ã€‚ æœ‰ç›®çš„å­¦ä¹ çš„å››è¦ç´ ï¼š ç›®æ ‡å®šä¹‰æ˜ç¡®ã€ä¿æŒä¸“æ³¨ã€æœ‰åé¦ˆï¼Œèµ°å‡ºèˆ’é€‚åŒºã€‚ æœ‰æ•ˆå­¦ä¹ çš„æœ¬è´¨ï¼š å»ºç«‹é«˜è´¨é‡çš„å¿ƒç†è¡¨å¾ã€‚ å¿ƒç†è¡¨å¾çš„å››ä¸ªç‰¹ç‚¹ï¼š æœ‰åŠ©äºå¯»æ‰¾è§„å¾‹ã€è§£é‡Šä¿¡æ¯ã€ç»„ç»‡ä¿¡æ¯å’Œæ‰§è¡Œè®¡åˆ’ã€‚ å¥½å¯¼å¸ˆå¯¹å­¦ä¹ éå¸¸é‡è¦ï¼š æˆ‘ä»¬å¯ä»¥ä¾é è‡ªå·±çš„å¿ƒç†è¡¨å¾æ¥ç›‘æµ‹è‡ªå·±çš„è¡¨ç°ï¼Œä½†æ¯”èµ·æ‰¾ä¸€ä½ç»éªŒä¸°å¯Œçš„å¯¼å¸ˆæ¥è§‚å¯Ÿä½ ï¼Œå¹¶å‘ä½ æä¾›åé¦ˆç›¸æ¯”ï¼Œå•å‡­è‡ªå·±çš„åŠ›é‡æ¥ç»ƒä¹ ï¼Œä¸ä½†è‰°éš¾å¾—å¤šï¼Œè€Œä¸”æ•ˆæœå·®å¾—å¤šã€‚ å¥½å¯¼å¸ˆçš„ä¸¤ä¸ªç‰¹å¾ï¼š åœ¨æ‰€å±é¢†åŸŸå’Œè¡Œä¸šæœ‰ä¸€å®šçš„æˆå°±ï¼Œå¹¶ä¸”æœ‰è¿‡æˆåŠŸçš„æ•™è‚²ç»å†ã€‚ åœ¨é€‰æ‹©å¯¼å¸ˆæ—¶ï¼Œå¯ä»¥å’Œè¿™ä½å¯¼å¸ˆä»¥å‰æˆ–ç°åœ¨çš„å­¦ç”Ÿäº¤è°ˆï¼Œè§£ç­”ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜å±•å¼€ï¼š1ã€è¿™äº›å­¦ç”Ÿçš„æ°´å¹³å¦‚ä½•ï¼Ÿ2ã€ä»–ä»¬æŠ€èƒ½çš„æå‡ï¼Œå¤šå¤§ç¨‹åº¦ä¸Šå½’åŠŸäºå¯¼å¸ˆï¼Ÿ3ã€ä»–ä»¬å¯¹å¯¼å¸ˆçš„è¯„ä»·å¦‚ä½•ï¼Ÿ æ²¡æœ‰å¯¼å¸ˆçš„æ›¿ä»£æ–¹æ¡ˆï¼š ä¸‰ä¸ªå…³é”®è¯ï¼šä¸“æ³¨ã€åé¦ˆã€çº æ­£ã€‚ æ— è®ºä½ é‡‡ç”¨ä»€ä¹ˆæ ·çš„ç»ƒä¹ æ–¹å¼ï¼Œéƒ½è¦åœ¨ç»ƒä¹ çš„è¿‡ç¨‹ä¸­ä¿æŒä¸“æ³¨ï¼Œåœ¨ç»ƒä¹ ç»“æŸåå¯¹è‡ªå·±è¿›è¡Œè¯„ä»·è®°å½•ï¼Œæ‰¾åˆ°è¡Œä¸šä¸“å®¶åœ¨è¿™ä¸ªç»ƒä¹ ä¸­çš„è¡¨ç°ï¼Œè·Ÿè‡ªå·±å¯¹æ¯”ï¼Œç”±æ­¤åˆ¶è®¢æ”¹è‰¯çš„æ–¹æ¡ˆï¼Œå¹¶åœ¨ä¸‹ä¸€æ¬¡ç»ƒä¹ æ—¶æ ¹æ®æ–¹æ¡ˆæ¥çº æ­£è‡ªå·±ã€‚ å¦‚ä½•åšæŒå­¦ä¹ ï¼Ÿ æƒ³è¦åšæŒå­¦ä¹ ï¼Œå°±è¦ä¿æŒåŠ¨æœºï¼Œè¦ä¹ˆå¼ºåŒ–ç»§ç»­å‰è¡Œçš„ç†ç”±ï¼Œè¦ä¹ˆå¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±ã€‚ å¦‚ä½•å¼±åŒ–åœä¸‹è„šæ­¥çš„ç†ç”±ï¼Ÿ 1ã€æ‰¾åˆ°æœ€èˆ’é€‚çš„å­¦ä¹ æ—¶é—´ï¼Œå¹¶å›ºå®šä¸‹æ¥ã€‚ 2ã€æ‰¾å‡ºé‚£äº›å¯èƒ½å¹²æ‰°ä½ ç»ƒä¹ çš„äº‹æƒ…ï¼Œæƒ³åŠæ³•å°†å®ƒä»¬çš„å½±å“æ§åˆ¶åœ¨æœ€å°ã€‚ å¦‚ä½•å¼ºåŒ–ç»§ç»­å‰è¡Œçš„ç†ç”±ï¼Ÿ 1ã€å°†å¯¹åŒä¸€ä»¶äº‹æƒ…æ„Ÿå…´è¶£çš„äººèšé›†èµ·æ¥ï¼Œæˆ–è€…åŠ å…¥ä¸€ä¸ªç°æœ‰çš„ï¼Œæ‰€æœ‰æˆå‘˜æœ‰ç€å…±åŒç›®æ ‡çš„å›¢ä½“ï¼Œå¹¶å’Œé›†ä½“ä¸­çš„å…¶ä»–äººå»ºç«‹è‰¯å¥½çš„äººé™…å…³ç³»ã€‚ 2ã€å»ºç«‹åšä¿¡è‡ªå·±èƒ½å¤ŸæˆåŠŸçš„ä¿¡å¿µã€‚ ç¬¬ä¸ƒåå…­èŠ‚ è‡ªæ§åŠ›çš„ç»„æˆè‡ªæ§åŠ›æ˜¯èƒ½å¤Ÿæé«˜çš„é«˜åº¦è‡ªå¾‹ä¼¼ä¹æ˜¯ä¸€é¡¹ä¸ç”Ÿä¿±æ¥çš„å¤©èµ‹ï¼Œä¸è¿‡äº‹å®å¹¶éå¦‚æ­¤ã€‚æ­£å¦‚åŒå­¦ä¹ ä¸“ä¸šæŠ€èƒ½å¯ä»¥ä¸ä¾èµ–å¤©èµ‹ï¼Œè‡ªæ§åŠ›ä¹Ÿæ˜¯äººäººéƒ½èƒ½å…·å¤‡çš„èƒ½åŠ›ã€‚è‘—åçš„å¿ƒç†å­¦ä¸“å®¶ã€æ–¯å¦ç¦å¤§å­¦çš„éº¦æ ¼å°¼æ ¼å°”æ•™æˆï¼Œé€šè¿‡å¤šå¹´æ¥å¯¹äººä»¬æ”¹å˜æƒ³æ³•ã€æƒ…ç»ªå’Œä¹ æƒ¯çš„è§‚å¯Ÿï¼Œæ‘¸ç´¢å‡ºäº†ä¸€å¥—èƒ½å¤Ÿåˆ‡å®æœ‰æ•ˆæé«˜è‡ªæ§åŠ›çš„æ–¹æ³•ã€‚ è‡ªæ§åŠ›çš„ä¸‰ç§ç»„æˆæˆ‘æƒ³è¦ï¼šè½å®ä¸æƒ³åšçš„äº‹ï¼ˆèµ·åºŠã€å·¥ä½œï¼‰ æˆ‘ä¸è¦ï¼šæ‹’ç»è¯±æƒ‘ï¼ˆæŠµåˆ¶é›¶é£Ÿå’ŒçƒŸé…’ï¼‰ æˆ‘éœ€è¦ï¼šè‡ªæˆ‘è®¤çŸ¥ä¸ä»·å€¼åˆ¤æ–­ ç¬¬ä¸ƒåä¸ƒèŠ‚ç¬¬ä¸ƒåå…«èŠ‚ç¬¬ä¸ƒåä¹èŠ‚ç¬¬å…«åèŠ‚","link":"/posts/%E6%B8%85%E6%96%B0%E5%86%A5%E6%83%B3/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","link":"/tags/%E7%AE%97%E6%B3%95/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","link":"/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"å­¦ä¹ æ–¹æ³•","slug":"å­¦ä¹ æ–¹æ³•","link":"/tags/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/"},{"name":"Alfred","slug":"Alfred","link":"/tags/Alfred/"},{"name":"æ•ˆç‡","slug":"æ•ˆç‡","link":"/tags/%E6%95%88%E7%8E%87/"},{"name":"CSS","slug":"CSS","link":"/tags/CSS/"},{"name":"CSS3","slug":"CSS3","link":"/tags/CSS3/"},{"name":"ä»£ç ç¤ºä¾‹","slug":"ä»£ç ç¤ºä¾‹","link":"/tags/%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B/"},{"name":"Promise","slug":"Promise","link":"/tags/Promise/"},{"name":"nextTick","slug":"nextTick","link":"/tags/nextTick/"},{"name":"async","slug":"async","link":"/tags/async/"},{"name":"await","slug":"await","link":"/tags/await/"},{"name":"setTimeout","slug":"setTimeout","link":"/tags/setTimeout/"},{"name":"setImmediate","slug":"setImmediate","link":"/tags/setImmediate/"},{"name":"EventLoop","slug":"EventLoop","link":"/tags/EventLoop/"},{"name":"JavaScript","slug":"JavaScript","link":"/tags/JavaScript/"},{"name":"es8","slug":"es8","link":"/tags/es8/"},{"name":"es6","slug":"es6","link":"/tags/es6/"},{"name":"for of","slug":"for-of","link":"/tags/for-of/"},{"name":"generator","slug":"generator","link":"/tags/generator/"},{"name":"iterator","slug":"iterator","link":"/tags/iterator/"},{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"Nginx","slug":"Nginx","link":"/tags/Nginx/"},{"name":"mac","slug":"mac","link":"/tags/mac/"},{"name":"node","slug":"node","link":"/tags/node/"},{"name":"è¿›ç¨‹ç®¡ç†","slug":"è¿›ç¨‹ç®¡ç†","link":"/tags/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"},{"name":"NodeJS","slug":"NodeJS","link":"/tags/NodeJS/"},{"name":"å†…å­˜æ³„æ¼","slug":"å†…å­˜æ³„æ¼","link":"/tags/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"},{"name":"React","slug":"React","link":"/tags/React/"},{"name":"ä»£ç ä¼˜åŒ–","slug":"ä»£ç ä¼˜åŒ–","link":"/tags/%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/"},{"name":"redis","slug":"redis","link":"/tags/redis/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","link":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","link":"/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"name":"Vue","slug":"Vue","link":"/tags/Vue/"},{"name":"antDesign","slug":"antDesign","link":"/tags/antDesign/"},{"name":"centos","slug":"centos","link":"/tags/centos/"},{"name":"git","slug":"git","link":"/tags/git/"},{"name":"ç»ˆç«¯","slug":"ç»ˆç«¯","link":"/tags/%E7%BB%88%E7%AB%AF/"},{"name":"iTerm2","slug":"iTerm2","link":"/tags/iTerm2/"},{"name":"jQuery","slug":"jQuery","link":"/tags/jQuery/"},{"name":"æ’ä»¶","slug":"æ’ä»¶","link":"/tags/%E6%8F%92%E4%BB%B6/"},{"name":"å°è£…","slug":"å°è£…","link":"/tags/%E5%B0%81%E8%A3%85/"},{"name":"java","slug":"java","link":"/tags/java/"},{"name":"åŸºç¡€çŸ¥è¯†","slug":"åŸºç¡€çŸ¥è¯†","link":"/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","link":"/tags/%E7%AC%94%E8%AE%B0/"},{"name":"åç«¯","slug":"åç«¯","link":"/tags/%E5%90%8E%E7%AB%AF/"},{"name":"å®šæ—¶å™¨","slug":"å®šæ—¶å™¨","link":"/tags/%E5%AE%9A%E6%97%B6%E5%99%A8/"},{"name":"ç»„åˆå‡½æ•°","slug":"ç»„åˆå‡½æ•°","link":"/tags/%E7%BB%84%E5%90%88%E5%87%BD%E6%95%B0/"},{"name":"compose","slug":"compose","link":"/tags/compose/"},{"name":"å“²å­¦","slug":"å“²å­¦","link":"/tags/%E5%93%B2%E5%AD%A6/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","link":"/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æ€§èƒ½ä¼˜åŒ–","slug":"æ€§èƒ½ä¼˜åŒ–","link":"/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"},{"name":"ç›‘æ§","slug":"ç›‘æ§","link":"/tags/%E7%9B%91%E6%8E%A7/"},{"name":"ç»éªŒç§¯ç´¯","slug":"ç»éªŒç§¯ç´¯","link":"/tags/%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","link":"/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"æ€ç»´å¯¼å›¾","slug":"æ€ç»´å¯¼å›¾","link":"/tags/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"},{"name":"æ²Ÿé€šæŠ€å·§","slug":"æ²Ÿé€šæŠ€å·§","link":"/tags/%E6%B2%9F%E9%80%9A%E6%8A%80%E5%B7%A7/"},{"name":"ç™¾åº¦å°ç¨‹åº","slug":"ç™¾åº¦å°ç¨‹åº","link":"/tags/%E7%99%BE%E5%BA%A6%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"Reactè¿ç§»åˆ°ç™¾åº¦å°ç¨‹åº","slug":"Reactè¿ç§»åˆ°ç™¾åº¦å°ç¨‹åº","link":"/tags/React%E8%BF%81%E7%A7%BB%E5%88%B0%E7%99%BE%E5%BA%A6%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"çŸ¥è¯†ç‚¹","slug":"çŸ¥è¯†ç‚¹","link":"/tags/%E7%9F%A5%E8%AF%86%E7%82%B9/"},{"name":"å¤„ç†é—®é¢˜","slug":"å¤„ç†é—®é¢˜","link":"/tags/%E5%A4%84%E7%90%86%E9%97%AE%E9%A2%98/"},{"name":"çº¿ä¸Šäº‹æ•…","slug":"çº¿ä¸Šäº‹æ•…","link":"/tags/%E7%BA%BF%E4%B8%8A%E4%BA%8B%E6%95%85/"},{"name":"è¿åŠ¨","slug":"è¿åŠ¨","link":"/tags/%E8%BF%90%E5%8A%A8/"},{"name":"è·‘æ­¥","slug":"è·‘æ­¥","link":"/tags/%E8%B7%91%E6%AD%A5/"},{"name":"æ—¥å¸¸ç§¯ç´¯","slug":"æ—¥å¸¸ç§¯ç´¯","link":"/tags/%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/"},{"name":"é¢è¯•","slug":"é¢è¯•","link":"/tags/%E9%9D%A2%E8%AF%95/"},{"name":"ç†è®ºçŸ¥è¯†","slug":"ç†è®ºçŸ¥è¯†","link":"/tags/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"},{"name":"Git","slug":"Git","link":"/tags/Git/"},{"name":"SmartGit","slug":"SmartGit","link":"/tags/SmartGit/"},{"name":"GitKraken","slug":"GitKraken","link":"/tags/GitKraken/"},{"name":"Javascript","slug":"Javascript","link":"/tags/Javascript/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","link":"/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"Koa","slug":"Koa","link":"/tags/Koa/"},{"name":"react","slug":"react","link":"/tags/react/"},{"name":"React Native","slug":"React-Native","link":"/tags/React-Native/"},{"name":"SSR","slug":"SSR","link":"/tags/SSR/"},{"name":"hexo","slug":"hexo","link":"/tags/hexo/"},{"name":"ä¸šåŠ¡","slug":"ä¸šåŠ¡","link":"/tags/%E4%B8%9A%E5%8A%A1/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","link":"/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æ­£åˆ™","slug":"æ­£åˆ™","link":"/tags/%E6%AD%A3%E5%88%99/"},{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","link":"/tags/%E6%95%99%E7%A8%8B/"},{"name":"http","slug":"http","link":"/tags/http/"},{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","link":"/tags/%E7%BD%91%E7%BB%9C/"},{"name":"ç²¾è¯»","slug":"ç²¾è¯»","link":"/tags/%E7%B2%BE%E8%AF%BB/"},{"name":"Webpack","slug":"Webpack","link":"/tags/Webpack/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","link":"/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"webpack4","slug":"webpack4","link":"/tags/webpack4/"},{"name":"å†¥æƒ³","slug":"å†¥æƒ³","link":"/tags/%E5%86%A5%E6%83%B3/"}],"categories":[{"name":"es6","slug":"es6","link":"/categories/es6/"},{"name":"http","slug":"http","link":"/categories/http/"},{"name":"ç½‘ç»œ","slug":"http/ç½‘ç»œ","link":"/categories/http/%E7%BD%91%E7%BB%9C/"}]}
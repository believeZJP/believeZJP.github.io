<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"believezjp.oriht.com","root":"/","images":"/images","scheme":"Pisces","version":"8.1.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="学习网址全家桶 第一节 React 简介ReactReact起源于Facebook的内部项目，该公司积极尝试引入HTML5技术用来架设Instagram网站，开发中发现HTML5的性能下降明显，达不到预期的效果。他们就自己开发了React框架。 ReactJS官方地址 GitHub地址">
<meta property="og:type" content="article">
<meta property="og:title" content="React全家桶视频教程">
<meta property="og:url" content="http://believezjp.oriht.com/posts/React%E5%85%A8%E5%AE%B6%E6%A1%B6%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B/index.html">
<meta property="og:site_name" content="believeZJP">
<meta property="og:description" content="学习网址全家桶 第一节 React 简介ReactReact起源于Facebook的内部项目，该公司积极尝试引入HTML5技术用来架设Instagram网站，开发中发现HTML5的性能下降明显，达不到预期的效果。他们就自己开发了React框架。 ReactJS官方地址 GitHub地址">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-12-05T08:42:34.000Z">
<meta property="article:modified_time" content="2019-12-05T08:42:34.000Z">
<meta property="article:author" content="believeZJP">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://believezjp.oriht.com/posts/React%E5%85%A8%E5%AE%B6%E6%A1%B6%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>React全家桶视频教程 | believeZJP</title>
  



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">believeZJP</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">记录成长路径</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%A6%E4%B9%A0%E7%BD%91%E5%9D%80"><span class="nav-number">1.</span> <span class="nav-text">学习网址</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E8%8A%82-React-%E7%AE%80%E4%BB%8B"><span class="nav-number">2.</span> <span class="nav-text">第一节 React 简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#React"><span class="nav-number">3.</span> <span class="nav-text">React</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#react-%E7%89%B9%E7%82%B9"><span class="nav-number">3.1.</span> <span class="nav-text">react 特点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E8%8A%82-%E6%9E%84%E5%BB%BA%EF%BC%9Acreate-react-app-%E5%BF%AB%E9%80%9F%E8%84%9A%E6%89%8B%E6%9E%B6-%E5%AE%98%E7%BD%91"><span class="nav-number">4.</span> <span class="nav-text">第二节 构建：create-react-app 快速脚手架 官网</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#creat-react-app%E4%BC%98%E7%82%B9"><span class="nav-number">4.1.</span> <span class="nav-text">creat-react-app优点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#create-react-app%E5%AE%89%E8%A3%85"><span class="nav-number">5.</span> <span class="nav-text">create-react-app安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAReact%E9%A1%B9%E7%9B%AE"><span class="nav-number">5.1.</span> <span class="nav-text">创建React项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1"><span class="nav-number">5.2.</span> <span class="nav-text">启动服务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E8%8A%82-%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7-generator-react-webpack"><span class="nav-number">6.</span> <span class="nav-text">第二节 构建工具 generator-react-webpack</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%98%E7%82%B9%E4%BB%8B%E7%BB%8D"><span class="nav-number">6.1.</span> <span class="nav-text">优点介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">6.1.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="nav-number">6.1.2.</span> <span class="nav-text">创建目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8"><span class="nav-number">6.1.3.</span> <span class="nav-text">启动</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E8%8A%82-%E6%9E%84%E5%BB%BA%EF%BC%9A-webpack%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E6%9E%84%E5%BB%BA01"><span class="nav-number">7.</span> <span class="nav-text">第三节 构建： webpack一步一步构建01</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEwebpack-config-js"><span class="nav-number">7.1.</span> <span class="nav-text">配置webpack.config.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%BB%BAindex-html"><span class="nav-number">7.2.</span> <span class="nav-text">新建index.html</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%BB%BAindex-js"><span class="nav-number">7.3.</span> <span class="nav-text">新建index.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A0%E5%85%A5%E6%89%93%E5%8C%85%E5%91%BD%E4%BB%A4"><span class="nav-number">7.4.</span> <span class="nav-text">加入打包命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">7.5.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE"><span class="nav-number">7.6.</span> <span class="nav-text">开发服务器配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85webpack-dev-server"><span class="nav-number">7.7.</span> <span class="nav-text">安装webpack-dev-server</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E5%88%B7%E6%96%B0%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="nav-number">7.8.</span> <span class="nav-text">自动刷新浏览器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93-3"><span class="nav-number">8.</span> <span class="nav-text">总结-3</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC4%E8%8A%82-%E6%9E%84%E5%BB%BA%EF%BC%9A-webpack%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E6%9E%84%E5%BB%BA02"><span class="nav-number">9.</span> <span class="nav-text">第4节 构建： webpack一步一步构建02</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Babel%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE"><span class="nav-number">9.1.</span> <span class="nav-text">Babel安装配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEmodule"><span class="nav-number">9.2.</span> <span class="nav-text">配置module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%96%E5%86%99React"><span class="nav-number">9.3.</span> <span class="nav-text">编写React</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85React%E5%92%8CReact-dom"><span class="nav-number">9.4.</span> <span class="nav-text">安装React和React-dom</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93-4"><span class="nav-number">10.</span> <span class="nav-text">总结-4</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC5%E8%8A%82-%E8%B7%AF%E7%94%B1%EF%BC%9A-Hello-React%E8%B7%AF%E7%94%B1"><span class="nav-number">11.</span> <span class="nav-text">第5节 路由： Hello React路由</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#router%E5%8C%85%E5%AE%89%E8%A3%85"><span class="nav-number">11.1.</span> <span class="nav-text">router包安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%8D%E4%B9%A0component"><span class="nav-number">11.2.</span> <span class="nav-text">复习component</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%8F%E9%AA%8C"><span class="nav-number">12.</span> <span class="nav-text">经验</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A5%E4%B8%8A%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6%E7%9A%84%E5%BC%80%E5%8F%91%E5%92%8C%E5%BC%95%E7%94%A8"><span class="nav-number">13.</span> <span class="nav-text">以上就是一个组件的开发和引用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E5%85%A5%E5%92%8C%E4%B9%A6%E5%86%99%E8%B7%AF%E7%94%B1"><span class="nav-number">14.</span> <span class="nav-text">引入和书写路由</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A%E8%BF%99%E9%87%8C%E6%98%AF%E9%94%99%E8%AF%AF%E7%9A%84%EF%BC%8C%E4%B8%8D%E8%83%BD%E5%8A%A0%E5%BC%95%E5%8F%B7%EF%BC%8C%E6%AD%A3%E7%A1%AE%E5%A6%82%E4%B8%8B"><span class="nav-number">14.1.</span> <span class="nav-text">注意：这里是错误的，不能加引号，正确如下</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%8F%91Nav%E7%BB%84%E4%BB%B6"><span class="nav-number">14.2.</span> <span class="nav-text">开发Nav组件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93-1"><span class="nav-number">15.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC6%E8%8A%82-%E8%B7%AF%E7%94%B1%EF%BC%9A-NavLink%E4%B8%AD%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9"><span class="nav-number">16.</span> <span class="nav-text">第6节 路由： NavLink中常用选项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Route%E5%92%8CNavLink%E7%9A%84exact%E9%80%89%E9%A1%B9"><span class="nav-number">17.</span> <span class="nav-text">Route和NavLink的exact选项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NavLink%E4%BD%BF%E7%94%A8%E6%A0%B7%E5%BC%8F"><span class="nav-number">18.</span> <span class="nav-text">NavLink使用样式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B4%E6%8E%A5%E5%9C%A8NavLink%E4%B8%8A%E5%86%99%E6%A0%B7%E5%BC%8F"><span class="nav-number">18.1.</span> <span class="nav-text">直接在NavLink上写样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#activeClassName"><span class="nav-number">18.2.</span> <span class="nav-text">activeClassName</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93-6"><span class="nav-number">19.</span> <span class="nav-text">总结-6</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC7%E8%8A%82-%E8%B7%AF%E7%94%B1%EF%BC%9A-404%E8%AE%BE%E7%BD%AE%E5%92%8C%E8%B7%B3%E8%BD%AC"><span class="nav-number">20.</span> <span class="nav-text">第7节 路由： 404设置和跳转</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Switch%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">20.1.</span> <span class="nav-text">Switch组件的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Redirect%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8"><span class="nav-number">20.2.</span> <span class="nav-text">Redirect组件使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93-7"><span class="nav-number">21.</span> <span class="nav-text">总结-7</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC8%E8%8A%82%EF%BC%9A-%E8%B7%AF%E7%94%B1-%E9%80%9A%E8%BF%87%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%80%BC%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">22.</span> <span class="nav-text">第8节： 路由: 通过路由传值的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%80%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BC%A0%E5%80%BC"><span class="nav-number">23.</span> <span class="nav-text">最常见的传值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC9%E8%8A%82-%E8%B7%AF%E7%94%B1%EF%BC%9A-Router%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7%E5%92%8C%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F"><span class="nav-number">24.</span> <span class="nav-text">第9节 路由： Router中的属性和路由模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#basename%E5%B1%9E%E6%80%A7"><span class="nav-number">24.1.</span> <span class="nav-text">basename属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#forceRefresh-%E5%B1%9E%E6%80%A7"><span class="nav-number">24.2.</span> <span class="nav-text">forceRefresh 属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5%E7%A7%8D%E8%B7%AF%E7%94%B1%E6%96%B9%E5%BC%8F"><span class="nav-number">25.</span> <span class="nav-text">5种路由方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-BrowserRouter"><span class="nav-number">25.1.</span> <span class="nav-text">1.BrowserRouter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-HashRouter"><span class="nav-number">25.2.</span> <span class="nav-text">2. HashRouter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-MemoryRouter"><span class="nav-number">25.3.</span> <span class="nav-text">3.MemoryRouter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-NativeRouter"><span class="nav-number">25.4.</span> <span class="nav-text">4.NativeRouter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-StaticRouter"><span class="nav-number">25.5.</span> <span class="nav-text">5. StaticRouter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B-%E4%BD%BF%E7%94%A8HashRouter-%E6%88%96MemoryRouter%E6%A8%A1%E5%BC%8F"><span class="nav-number">25.6.</span> <span class="nav-text">示例 使用HashRouter 或MemoryRouter模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93-9"><span class="nav-number">25.7.</span> <span class="nav-text">总结-9</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC10%E8%8A%82-%E8%B7%AF%E7%94%B1-prompt%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3"><span class="nav-number">26.</span> <span class="nav-text">第10节 路由 prompt用法详解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lt-Prompt-gt-%E6%A0%87%E7%AD%BE"><span class="nav-number">27.</span> <span class="nav-text">&lt;Prompt&gt;标签</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#lt-Prompt-gt-%E6%9C%89%E4%B8%A4%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="nav-number">27.1.</span> <span class="nav-text">&lt;Prompt&gt;有两个属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3"><span class="nav-number">27.2.</span> <span class="nav-text">官方文档</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3"><span class="nav-number">27.3.</span> <span class="nav-text">中文文档</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%8F%E9%AA%8C-10"><span class="nav-number">27.4.</span> <span class="nav-text">经验-10</span></a></li></ol></li></ol></div>
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">believeZJP</p>
  <div class="site-description" itemprop="description">积土成山，风雨兴焉；积水成渊，蛟龙生焉;</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">97</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">88</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/believeZJP" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;believeZJP" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://believezjp.oriht.com/posts/React%E5%85%A8%E5%AE%B6%E6%A1%B6%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="believeZJP">
      <meta itemprop="description" content="积土成山，风雨兴焉；积水成渊，蛟龙生焉;">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="believeZJP">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          React全家桶视频教程
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-05 16:42:34" itemprop="dateCreated datePublished" datetime="2019-12-05T16:42:34+08:00">2019-12-05</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>19k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>18 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="学习网址"><a href="#学习网址" class="headerlink" title="学习网址"></a><a target="_blank" rel="noopener" href="http://jspang.com/2017/08/15/react_basic/">学习网址</a></h2><p><a target="_blank" rel="noopener" href="http://jspang.com/2017/10/22/react-all-01/">全家桶</a></p>
<h2 id="第一节-React-简介"><a href="#第一节-React-简介" class="headerlink" title="第一节 React 简介"></a>第一节 React 简介</h2><h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><p>React起源于Facebook的内部项目，该公司积极尝试引入HTML5技术用来架设Instagram网站，开发中发现HTML5的性能下降明显，达不到预期的效果。他们就自己开发了React框架。</p>
<p><a target="_blank" rel="noopener" href="https://facebook.github.io/react/">ReactJS官方地址</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/facebook/react">GitHub地址</a></p>
<a id="more"></a>

<h3 id="react-特点"><a href="#react-特点" class="headerlink" title="react 特点"></a>react 特点</h3><ul>
<li>虚拟DOM: React也是以数据驱动的，每次数据变化React都会扫码整个虚拟DOM树，自动计算与上次虚拟DOM的差异变化，然后针对需要变化的部分进行实际的浏览器DOM更新。</li>
<li>组件化： React可以从功能角度横向划分，将UI分解成不同组件，各组件都独立封装，整个UI是由一个个小组件构成的一个大组件，每个组件只关系自身的逻辑，彼此独立。</li>
<li>单项数据流：React设计者认为数据双向绑定虽然便捷，但在复杂场景下副作用也是很明显，所以React更倾向于单向的数据流动-从父节点传递到子节点。（使用ReactLink也可以实现双向绑定，但不建议使用）</li>
</ul>
<h2 id="第二节-构建：create-react-app-快速脚手架-官网"><a href="#第二节-构建：create-react-app-快速脚手架-官网" class="headerlink" title="第二节 构建：create-react-app 快速脚手架 官网"></a>第二节 构建：create-react-app 快速脚手架 <a target="_blank" rel="noopener" href="https://github.com/facebookincubator/create-react-app">官网</a></h2><h3 id="creat-react-app优点"><a href="#creat-react-app优点" class="headerlink" title="creat-react-app优点"></a>creat-react-app优点</h3><ul>
<li>无需配置：官方的配置堪称完美，几乎不用你再配置任何东西，就可以上手开发项目。</li>
<li>高集成性：集成了对React，JSX，ES6和Flow的支持。</li>
<li>自带服务：集成了开发服务器，你可以实现开发预览一体化。</li>
<li>热更新：保存自动更新，让你的开发更简单。</li>
<li>全兼容性：自动处理CSS的兼容问题，无需添加-webkit前缀。</li>
<li>自动发布：集成好了发布成品功能，编译后直接发布，并且包含了sourcemaps功能。</li>
</ul>
<h2 id="create-react-app安装"><a href="#create-react-app安装" class="headerlink" title="create-react-app安装"></a>create-react-app安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g create-react-app</span><br></pre></td></tr></table></figure>

<h3 id="创建React项目"><a href="#创建React项目" class="headerlink" title="创建React项目"></a>创建React项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create-react-app react-app</span><br></pre></td></tr></table></figure>

<p>注意： 目录名不要使用大小写。因为Linux下是严格区分大小写的。</p>
<h3 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure>

<p>注意： 听懂不等于学会，一定要动手做一做。</p>
<h2 id="第二节-构建工具-generator-react-webpack"><a href="#第二节-构建工具-generator-react-webpack" class="headerlink" title="第二节 构建工具 generator-react-webpack"></a>第二节 构建工具 generator-react-webpack</h2><p>这也是个构建工具，需要yeoman支持。</p>
<h3 id="优点介绍"><a href="#优点介绍" class="headerlink" title="优点介绍"></a>优点介绍</h3><ul>
<li>基于webpack构建，可以很容易的配置自己需要的webpack。</li>
<li>支持ES6，集成了Babel-Loader。</li>
<li>支持不同风格的CSS（sass，less，stylus）。</li>
<li>支持PostCSS转换样式。</li>
<li>集成了esLint功能。</li>
<li>可以轻松配置单元测试，比如Karma和Mocha</li>
</ul>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>需要先安装yeoman</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g yo</span><br><span class="line">npm install -g generator-react-webpack</span><br></pre></td></tr></table></figure>

<h4 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir new-react-demo</span><br></pre></td></tr></table></figure>

<p>进入文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> new-react-demo</span><br></pre></td></tr></table></figure>

<p>用生成器生成项目目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yo react-webpack</span><br></pre></td></tr></table></figure>

<h4 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure>

<h2 id="第三节-构建：-webpack一步一步构建01"><a href="#第三节-构建：-webpack一步一步构建01" class="headerlink" title="第三节 构建： webpack一步一步构建01"></a>第三节 构建： webpack一步一步构建01</h2><p>从头开始自己构建一个简单的React开发环境。</p>
<p>建立文件夹,进入文件夹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir react-webpack</span><br><span class="line"><span class="built_in">cd</span> react-webpack</span><br></pre></td></tr></table></figure>

<p>对webpack初始化</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>

<p>如果感觉一直回车麻烦，可以加-y参数，这样npm就直接生成了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure>

<p>初始化后，可以安装webpack了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack</span><br></pre></td></tr></table></figure>

<h3 id="配置webpack-config-js"><a href="#配置webpack-config-js" class="headerlink" title="配置webpack.config.js"></a>配置webpack.config.js</h3><p>在根目录建立webpack.config.js , 建立基本的入口出口文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// 入口文件</span></span><br><span class="line">    entry: <span class="string">&#x27;./app/index.js&#x27;</span>,</span><br><span class="line">    <span class="comment">// 出口文件</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">&#x27;index.js&#x27;</span>,</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文件配置好后， 要根据文件的结构改造项目目录。在根目录下新建app和dist文件夹，<br>在app文件夹里新建index.js文件</p>
<h3 id="新建index-html"><a href="#新建index-html" class="headerlink" title="新建index.html"></a>新建index.html</h3><p>在根目录新建index.html， 并引入webpack设置中的出口文件，代码如下。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>React全家桶<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 引入出口文件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./dist/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="新建index-js"><a href="#新建index-js" class="headerlink" title="新建index.js"></a>新建index.js</h3><p>在/app/index.js中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">component</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">    element.innerHTML = <span class="string">&#x27;Hello React&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> element</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(component())</span><br></pre></td></tr></table></figure>

<h3 id="加入打包命令"><a href="#加入打包命令" class="headerlink" title="加入打包命令"></a>加入打包命令</h3><p>在package.json中，scripts属性加入build命令</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &quot;webpack&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>在终端中输入npm run build ，就可以看到打包结果。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>到这里为止，我们正确安装了webpack，进行了出入口配置，也看到了webpack的输出效果。</p>
<h3 id="开发服务器配置"><a href="#开发服务器配置" class="headerlink" title="开发服务器配置"></a>开发服务器配置</h3><p>添加实时更新的服务</p>
<h3 id="安装webpack-dev-server"><a href="#安装webpack-dev-server" class="headerlink" title="安装webpack-dev-server"></a>安装webpack-dev-server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack-dev-server</span><br></pre></td></tr></table></figure>

<p>安装完成后配置webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">    host: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    compress: <span class="literal">true</span>,</span><br><span class="line">    port: <span class="number">1717</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>配置好后，在package.json里增加scripts命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &quot;webpack&quot;,</span><br><span class="line">    &quot;server&quot;: &quot;webpack-dev-server --open&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>–open是自动打开浏览器，都配置完成后可以在终端输入npm run server 看效果</p>
<h3 id="自动刷新浏览器"><a href="#自动刷新浏览器" class="headerlink" title="自动刷新浏览器"></a>自动刷新浏览器</h3><p>修改代码时，并不能自动刷新浏览器，查看最新效果。而是要再次npm run build才可以。<br>只要在出口文件配置中增加一个publicPath: ‘dist/‘</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    filename: <span class="string">&#x27;index.js&#x27;</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    publicPath: <span class="string">&#x27;dist/&#x27;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>在index.html中引入js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./dist/index.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="总结-3"><a href="#总结-3" class="headerlink" title="总结-3"></a>总结-3</h2><p>这节课主要配置webpack的基本配置。</p>
<h2 id="第4节-构建：-webpack一步一步构建02"><a href="#第4节-构建：-webpack一步一步构建02" class="headerlink" title="第4节 构建： webpack一步一步构建02"></a>第4节 构建： webpack一步一步构建02</h2><p>上节对webpack进行基础配置，已经能打包到页面中。这节主要针对ES6和React配置。<br>学习之前需确保上节配置完成。</p>
<h3 id="Babel安装配置"><a href="#Babel安装配置" class="headerlink" title="Babel安装配置"></a>Babel安装配置</h3><p>webpack配置Babel需要先加入babel-loader，还需要支持es2015,React，所以安装4个包。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-core babel-loader babel-preset-es2015 babel-preset-react</span><br></pre></td></tr></table></figure>

<p>安装完成后，会在package.json中看到这些包和版本信息</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&quot;devDependencies&quot;: &#123;</span><br><span class="line">    &quot;babel-core&quot;: &quot;^6.26.0&quot;,</span><br><span class="line">    &quot;babel-loader&quot;: &quot;^7.1.2&quot;,</span><br><span class="line">    &quot;babel-preset-es2015&quot;: &quot;^6.24.1&quot;,</span><br><span class="line">    &quot;babel-preset-react&quot;: &quot;^6.24.1&quot;,</span><br><span class="line">    &quot;webpack&quot;: &quot;^3.8.1&quot;,</span><br><span class="line">    &quot;webpack-dev-server&quot;: &quot;^2.9.4&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="配置module"><a href="#配置module" class="headerlink" title="配置module"></a>配置module</h3><p>在webpack.config.js中配置module，即loader。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">module</span>: &#123;</span><br><span class="line">    loaders: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">            exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">            loaders: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">            query: &#123;</span><br><span class="line">                presets: [<span class="string">&#x27;es2015&#x27;</span>, <span class="string">&#x27;react&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="编写React"><a href="#编写React" class="headerlink" title="编写React"></a>编写React</h3><p>webpakc已经配置完成。 这里写一个React文件来测试一下。</p>
<p>先安装React和React-dom这两个包。</p>
<h3 id="安装React和React-dom"><a href="#安装React和React-dom" class="headerlink" title="安装React和React-dom"></a>安装React和React-dom</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save react react-dom</span><br></pre></td></tr></table></figure>

<p>安装完成后，将app/index.js中的原生js代码改写成React代码。</p>
<p>index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;div&gt;Hello Webpack&lt;/div&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>这里增加了#app的div，在index.html中添加</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>配置完成后，npm run server可以看到效果。接下来就可以愉快的开发了</p>
<h2 id="总结-4"><a href="#总结-4" class="headerlink" title="总结-4"></a>总结-4</h2><p>其实自己配置React开发环境在实际工作中并不多。因为我们的配置不是很成熟，而且支持较少。</p>
<p>这里学习只是为了更好的掌握React构建过程和设置参数，实际工作中尽量使用合适的脚手架工具。</p>
<h2 id="第5节-路由：-Hello-React路由"><a href="#第5节-路由：-Hello-React路由" class="headerlink" title="第5节 路由： Hello React路由"></a>第5节 路由： Hello React路由</h2><p>通过前面4节课已经可以顺利的构建React的基本开发环境了。</p>
<p>这节课开始用几节课的时间全面了解一下React Router。 路由在开发过程中都会用到。它是SPA(单页应用)的基础，可以说不会路由系统就无法使用React进行编程。</p>
<p>其实路由可以简单的看作我们平时访问的网址或地址。这样有助于理解，但并不正确。</p>
<h3 id="router包安装"><a href="#router包安装" class="headerlink" title="router包安装"></a>router包安装</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save react-router react-router-dom</span><br></pre></td></tr></table></figure>

<ul>
<li>react-router: 是基本的router包，里面含的内容较多，但是在网页开发中有很多用不到，现在市面上的课程简单基本都是这个包的教程。</li>
<li>react-router-dom: 随着React生态环境的壮大，后出现的包。这个包比react-router轻巧许多。</li>
</ul>
<p><strong>注意：</strong></p>
<p>安装了react-router就不用安装react-router-dom包了，这里只是为了讲课方便，所以安装了两个包。在实际开发中，请跟进需要进行安装。</p>
<p>安装时，使用–save，因为在生产环境中也要使用。</p>
<h3 id="复习component"><a href="#复习component" class="headerlink" title="复习component"></a>复习component</h3><p>之前学过React组件如何编写，这里简单复习一下。</p>
<p>做一个A页面的组件</p>
<p>在app文件夹下新建componentA.js，引入React包，并编写A页面的组件，代码如下：</p>
<p>componentA.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentA</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;A默认组件&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里用了ES6语法，这也是React现在推荐的，如果使用老语法会出现警告</p>
<p>在index.js中引入A组件，并改写渲染代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componenta <span class="keyword">from</span> <span class="string">&#x27;./componentA&#x27;</span></span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Componenta/&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>预览看效果</p>
<h2 id="经验"><a href="#经验" class="headerlink" title="经验"></a>经验</h2><blockquote>
<p>之前写的时候是 <code>&lt;componentA/&gt;</code>, 会报两个错误</p>
</blockquote>
<p>Warning: <code>&lt;componentA /&gt;</code> is using uppercase HTML. Always use lowercase HTML tags in React.<br>警告： html标签一定要用小写</p>
<p>Warning: The tag <code>&lt;componentA&gt;</code> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.<br>警告：标签<code>&lt;componentA&gt;</code>作为组件，首字母要大写</p>
<h2 id="以上就是一个组件的开发和引用"><a href="#以上就是一个组件的开发和引用" class="headerlink" title="以上就是一个组件的开发和引用"></a>以上就是一个组件的开发和引用</h2><p>接下来仿照上面的方法开发两个新组件，ComponentB， ComponentC。代码如下</p>
<p>ComponentB.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentB</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;这是B组件&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ComponentC.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentC</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;这是C组件&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>写完后引入到index.js 文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> Componenta <span class="keyword">from</span> <span class="string">&#x27;./componentA&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componentb <span class="keyword">from</span> <span class="string">&#x27;./componentb&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componentc <span class="keyword">from</span> <span class="string">&#x27;./componentc&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="引入和书写路由"><a href="#引入和书写路由" class="headerlink" title="引入和书写路由"></a>引入和书写路由</h2><p>页面制作好后，需要路由来切换。先引入路由包，这里用到两个模块Router，route。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;BrowserRouter <span class="keyword">as</span> Router, Route&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>改写文件，增加路由设置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=<span class="string">&quot;&#123;Componenta&#125;&quot;</span>/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=<span class="string">&quot;&#123;Componentb&#125;&quot;</span>/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentc&quot;</span> component=<span class="string">&quot;&#123;Componentc&#125;&quot;</span>/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="注意：这里是错误的，不能加引号，正确如下"><a href="#注意：这里是错误的，不能加引号，正确如下" class="headerlink" title="注意：这里是错误的，不能加引号，正确如下"></a>注意：这里是错误的，不能加引号，正确如下</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentc&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意，这里的exact是精确匹配的意思，如果有多层路由嵌套时，exact可以帮助我们精确匹配到想要跳转的路由</p>
<p>路由设置完毕还不能切换，需要做一个切换的组件。命名为&lt;nav/&gt;</p>
<h3 id="开发Nav组件"><a href="#开发Nav组件" class="headerlink" title="开发Nav组件"></a>开发Nav组件</h3><p>在app文件夹下新建一个nav.js，引入React和React-router-dom</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;NavLink&#125; <span class="keyword">from</span> <span class="string">&#x27;raect-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> NavBar = <span class="function">() =&gt;</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;NavLink exact to=<span class="string">&quot;/&quot;</span>&gt;ComponentA&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line">            &lt;NavLink to=<span class="string">&quot;/componentb&quot;</span>&gt;ComponentB&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line">            &lt;NavLink to=<span class="string">&quot;/componentc&quot;</span>&gt;ComponentC&lt;/NavLink&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> NavBar</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>组件编写完成后，引入index.js，并添加&lt;Nav/&gt;标签到代码里</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Nav/&gt;</span><br><span class="line">            &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentc&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>到这里，就可以进行预览了，也可以顺利的切换页面内容，说明路由已经起作用了。<br>当然这只是路由最简单的写法。</p>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p>这里编写代码的时候遇到点问题：</p>
<ol>
<li><p>大小写要注意</p>
<p> html标签一定要用小写</p>
<p> 标签<code>&lt;componentA&gt;</code>作为组件，首字母要大写，改为<code>&lt;Componenta/&gt;</code></p>
</li>
<li><p>有的地方是不需要引号的</p>
</li>
</ol>
<h2 id="第6节-路由：-NavLink中常用选项"><a href="#第6节-路由：-NavLink中常用选项" class="headerlink" title="第6节 路由： NavLink中常用选项"></a>第6节 路由： NavLink中常用选项</h2><p>上节初识了React路由，并制作了小案例。这节学习NavLink标签上的选项</p>
<h2 id="Route和NavLink的exact选项"><a href="#Route和NavLink的exact选项" class="headerlink" title="Route和NavLink的exact选项"></a>Route和NavLink的exact选项</h2><p>exact 精确匹配，一般而言，React会匹配所有能匹配的路由组件，exact可以使我们的匹配更精确。</p>
<p>exact的值为boolean, 为true表示严格匹配，为false表示正常匹配</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;Route path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">&lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line"><span class="comment">// 这种情况，访问/componentb，会把component组件也显示出来</span></span><br></pre></td></tr></table></figure>

<p>所以，用exact来解决这个问题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">&lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>在多层(路由)路由嵌套时也会出现这个问题，要多用exact来解决精确匹配问题</strong></p>
</blockquote>
<h2 id="NavLink使用样式"><a href="#NavLink使用样式" class="headerlink" title="NavLink使用样式"></a>NavLink使用样式</h2><p>怎样给NavLink添加样式呢，要先配置一下webpack.config.js文件。</p>
<p>先写一个css,和nav.js放在一个文件夹下，命名为nav.css</p>
<p>nav.css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.blue</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在nav.js中引入css</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./nav.css&#x27;</span></span><br></pre></td></tr></table></figure>

<p>这时，会报错</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Module parse failed: Unexpected token (<span class="number">1</span>:<span class="number">0</span>)</span><br><span class="line">You may need an appropriate loader to handle <span class="built_in">this</span> file type.</span><br></pre></td></tr></table></figure>

<p> 因为webpack还不能对css文件进行正确的解析，需要加入css的loader。先用npm安装style-loader和css-loader</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev style-loader css-loader</span><br></pre></td></tr></table></figure>

<p> 安装好后，在webpack.config.js里配置css的loader。如下</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    loader: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 配置好后，需要重启一下服务器，才可以正确解析。<br> 这时候，就可以在NavLink上加ClassName指定css类了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink exact to=<span class="string">&quot;/&quot;</span> className=<span class="string">&quot;blue&quot;</span>&gt;ComponentA&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="直接在NavLink上写样式"><a href="#直接在NavLink上写样式" class="headerlink" title="直接在NavLink上写样式"></a>直接在NavLink上写样式</h3><p>除了用css文件这种方式，还可以更直接，在NavLink上写样式，看下面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink to=<span class="string">&quot;/componentb&quot;</span> style=&#123;&#123;<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span>,<span class="attr">fontSize</span>:<span class="string">&#x27;30px&#x27;</span>&#125;&#125;&gt;ComponentB&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这种写法虽然只管好用，但是不建议在实际开发中使用，这增加了代码耦合度，不是一种好的编程方式。<br><strong>注意，跟原生写法完全不一样</strong> 下面是我直接写的。错误↓↓↓↓↓↓</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink to=<span class="string">&quot;/componentb&quot;</span> style=<span class="string">&quot;&#123;&#123;color:red;font-size:30px;&#125;&#125;&quot;</span>&gt;ComponentB&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><ol>
<li>style后面的不能用引号引用，是个大对象</li>
</ol>
</li>
<li><ol start="2">
<li>里面是key-value形式的，一个属性结束不是用分号</li>
</ol>
</li>
<li><ol start="3">
<li>每个属性后面都要用引号引起来。</li>
</ol>
</li>
</ul>
<h3 id="activeClassName"><a href="#activeClassName" class="headerlink" title="activeClassName"></a>activeClassName</h3><p>作为一个链接，是有激活状态的。它接受一个类名。现在我们在nav.css定义一个active的类，把字体设为红色</p>
<p>.nav.css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.blue</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.active</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改NavLink标签</p>
<p>nav.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;NavLink&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./nav.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> NavBar = <span class="function">() =&gt;</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;NavLink exact to=<span class="string">&quot;/&quot;</span> className=<span class="string">&quot;blue&quot;</span>&gt;ComponentA&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line">            &lt;NavLink to=<span class="string">&quot;/componentb&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span> style=&#123;&#123;<span class="attr">color</span>:<span class="string">&#x27;#2BAB40&#x27;</span>,<span class="attr">fontSize</span>:<span class="string">&#x27;14px&#x27;</span>&#125;&#125;&gt;ComponentB&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line">            &lt;NavLink to=<span class="string">&quot;/componentc&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span>&gt;ComponentC&lt;/NavLink&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> NavBar</span><br></pre></td></tr></table></figure>

<h2 id="总结-6"><a href="#总结-6" class="headerlink" title="总结-6"></a>总结-6</h2><p>这节课虽然简单，但都是实际工作中常用到的小技巧，例如activeClassName，className，还有webpack配置也是必须掌握的。</p>
<p>一定要注意原生和React语法区别~~~~</p>
<h2 id="第7节-路由：-404设置和跳转"><a href="#第7节-路由：-404设置和跳转" class="headerlink" title="第7节 路由： 404设置和跳转"></a>第7节 路由： 404设置和跳转</h2><p>项目中都要设置404页面，即路由不存在时跳转的页面。React中的404主要是靠Switch组件来完成的。</p>
<p>这节来学习Switch组件相关知识和跳转的相关知识。</p>
<h3 id="Switch组件的使用"><a href="#Switch组件的使用" class="headerlink" title="Switch组件的使用"></a>Switch组件的使用</h3><ol>
<li><p>在index.js页面中，在引入路由的地方，引入Switch。</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;BrowserRouter <span class="keyword">as</span> Router, Route, Switch&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>编写404页面<br> 在app文件夹下新建error.js, 封装成组件，方便路由调用</p>
<p> error.js</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">error</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;h2&gt;<span class="number">404</span>页面&lt;/h2&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在nav.js中加入一个不存在的链接NavLink，以便错误时跳转到404页面</p>
<p> nav.js</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink to=<span class="string">&quot;/notfound&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span>&gt;<span class="number">404</span>&lt;/NavLink&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>Switch登场，改写index.js页面，如下：</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;BrowserRouter <span class="keyword">as</span> Router, Route, Switch&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componenta <span class="keyword">from</span> <span class="string">&#x27;./componentA&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componentb <span class="keyword">from</span> <span class="string">&#x27;./componentB&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Componentc <span class="keyword">from</span> <span class="string">&#x27;./componentC&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Nav <span class="keyword">from</span> <span class="string">&#x27;./nav&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="built_in">Error</span> <span class="keyword">from</span> <span class="string">&#x27;./error&#x27;</span> <span class="comment">// 新增</span></span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Nav/&gt;</span><br><span class="line">            <span class="comment">//新增</span></span><br><span class="line">            &lt;Switch&gt;</span><br><span class="line">                &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/componentb&quot;</span>/&gt;</span><br><span class="line">                &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentc&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">                &lt;Route component=&#123;<span class="built_in">Error</span>&#125;/&gt; <span class="comment">//新增</span></span><br><span class="line">            &lt;/Switch&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>==注意==：Switch要将Route包括在里面</strong></p>
</blockquote>
<p>在浏览器中点击404 ，会跳转到error.js页面，这里的链接是随便写的，但是成功的跳到了错误页面。</p>
<p>注意顺序： 404应该在最后。</p>
<h3 id="Redirect组件使用"><a href="#Redirect组件使用" class="headerlink" title="Redirect组件使用"></a>Redirect组件使用</h3><p>开发中有时需要在程序中根据业务逻辑进行跳转，或点击一个链接直接跳转到其他链接，这时，可以用Redirect组件来解决。</p>
<ol>
<li><p>引入Redirect组件</p>
<p> 在index.js中引入Redirect 组件</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;BrowserRouter <span class="keyword">as</span> Router, Route, Switch, Redirect&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>加入跳转链接</p>
<p> 在nav.js里加入一个准备跳转的链接，如下：</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink to=<span class="string">&quot;/redirect&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span>&gt;redirect&lt;/NavLink&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p> 这时候点击链接会跳转到404页面，但我们希望跳转到componentB页面。</p>
</li>
<li><p>加入<code>&lt;Redirect&gt;</code> 标签</p>
</li>
</ol>
<p>在index.js中加入<code>&lt;Redirect&gt;</code>标签</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;Nav/&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/componentb&quot;</span>/&gt;</span><br><span class="line">            &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">            <span class="comment">// 新增</span></span><br><span class="line">            &lt;Route path=<span class="string">&quot;/componentc&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">            &lt;Route component=&#123;<span class="built_in">Error</span>&#125;/&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/Router&gt;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>from: 表示来自于什么链接，也就是当前链接是redirect时，触发跳转命令</li>
<li>to: 表示要跳转到的链接，这里跳转到componentb组件。</li>
</ul>
<p>写完后，就可以在浏览器中查看跳转效果了。</p>
<h2 id="总结-7"><a href="#总结-7" class="headerlink" title="总结-7"></a>总结-7</h2><p>设置404和跳转都要先加入Switch的支持，在制作404时，一定要把404的Route设置到所有路由的后面。</p>
<p>跳转时使用Redirect标签，这个很容易实现。</p>
<h2 id="第8节：-路由-通过路由传值的方法"><a href="#第8节：-路由-通过路由传值的方法" class="headerlink" title="第8节： 路由: 通过路由传值的方法"></a>第8节： 路由: 通过路由传值的方法</h2><p>开发中路由传值是必不可少的，虽然React有更优雅的方式，这里还是来学习一下路由如何传值。</p>
<h2 id="最常见的传值"><a href="#最常见的传值" class="headerlink" title="最常见的传值"></a>最常见的传值</h2><p>传值是比较简单的，主要依靠props接收。</p>
<p>基础课程中已经学了组件之间的传值方法。路由和页面之间的传值也类似。</p>
<ol>
<li><p>在nav.js页面传值，如下</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink exact to=<span class="string">&quot;/componentc/ILoveWeb&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span> className=<span class="string">&quot;blue&quot;</span>&gt;ComponentC传值&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p> 在路由后面跟了个ILoveWeb作为值传递给组件</p>
</li>
<li><p>Route中的设置， 用冒号来通知路由</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route path=<span class="string">&quot;/componentc/:param&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在componentc组件中获取<br> 现在Componentc组件的生命周期中看一下props里有什么值。<br> componentC.js</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentC</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="comment">// 新增</span></span><br><span class="line">    componentWillMount () &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.props)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;这是C组件&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 在console中可以看到match.params里有值了。</p>
</li>
<li><p>在页面中显示传递的参数<br> componentC.js</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentC</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    componentWillMount () &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.props)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">        <span class="comment">// 新增</span></span><br><span class="line">            &lt;div&gt;这是C组件：参数：&#123;<span class="built_in">this</span>.props.match.params.param&#125;&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>传递2个值<br>nav.js</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink exact to=<span class="string">&quot;/componentc/ILoveWeb/HelloReact&quot;</span> activeClassName=<span class="string">&quot;active&quot;</span> className=<span class="string">&quot;blue&quot;</span>&gt;ComponentC传值&lt;<span class="regexp">/NavLink&gt;&lt;br/</span>&gt;</span><br></pre></td></tr></table></figure>

<p>index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route path=<span class="string">&quot;/componentc/:param/:a&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br></pre></td></tr></table></figure>

<p>componentC.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;这是C组件：参数：&#123;<span class="built_in">this</span>.props.match.params.param&#125;, &#123;<span class="built_in">this</span>.props.match.params.a&#125;&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第9节-路由：-Router中的属性和路由模式"><a href="#第9节-路由：-Router中的属性和路由模式" class="headerlink" title="第9节 路由： Router中的属性和路由模式"></a>第9节 路由： Router中的属性和路由模式</h2><p>上节学习了React路由导航的基本方法，这节课学习标签上的属性和方法。还有一个重点是路由5种模式的讲解。</p>
<h3 id="basename属性"><a href="#basename属性" class="headerlink" title="basename属性"></a>basename属性</h3><p>basename是增加一级导航目录，如之前访问<a target="_blank" rel="noopener" href="http://localhost:1717/componentb%EF%BC%8C%E7%8E%B0%E5%9C%A8%E8%AE%BF%E9%97%AE%E5%90%8C%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2%EF%BC%8C%E4%BD%86%E8%B7%AF%E5%BE%84%E6%98%AFhttp://localhost:1717/demo/componentb.%E8%BF%99%E6%97%B6%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8basename%E5%B1%9E%E6%80%A7%E6%9D%A5%E8%AE%BE%E7%BD%AE%E3%80%82">http://localhost:1717/componentb，现在访问同一个页面，但路径是http://localhost:1717/demo/componentb.这时，就可以使用basename属性来设置。</a></p>
<p>basename是放在<code>&lt;Router&gt;</code>标签中的</p>
<p>index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Router basename=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Nav/&gt;</span><br><span class="line">            &lt;Switch&gt;</span><br><span class="line">                &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/componentb&quot;</span>/&gt;</span><br><span class="line">                &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentc/:param/:a&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">                &lt;Route component=&#123;<span class="built_in">Error</span>&#125;/&gt;</span><br><span class="line">            &lt;/Switch&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这时再点击导航，已经都加了/demo。</p>
<p>==注意：==<br>此时的设置是全局增加，如果是单个路由增加，需要特殊个性设置。</p>
<h3 id="forceRefresh-属性"><a href="#forceRefresh-属性" class="headerlink" title="forceRefresh 属性"></a>forceRefresh 属性</h3><p>这个属性是开启或关闭React Router，也就是说把forceRefresh 设为true，将关闭React路由系统，真实的去服务器端请求信息</p>
<p>现在把forceRefresh设为true，会发现路由已经不能使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">&lt;!--新增--&gt;</span><br><span class="line">    &lt;Router basename=<span class="string">&quot;demo&quot;</span> forceRefresh=&#123;<span class="literal">true</span>&#125;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Nav/&gt;</span><br><span class="line">            &lt;Switch&gt;</span><br><span class="line">                &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/componentb&quot;</span>/&gt;</span><br><span class="line">                &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Componenta&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentb&quot;</span> component=&#123;Componentb&#125;/&gt;</span><br><span class="line">                &lt;Route path=<span class="string">&quot;/componentc/:param/:a&quot;</span> component=&#123;Componentc&#125;/&gt;</span><br><span class="line">                &lt;Route component=&#123;<span class="built_in">Error</span>&#125;/&gt;</span><br><span class="line">            &lt;/Switch&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/Router&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>这个操作经常在大项目中使用。在服务器跳转和ReactRouter切换时使用。比如做一个APP活动页，第一次请求时到服务器请求整个页面，将整个页面缓存。生成ReactRouter实现本地单页应用，设置forceRefresh为false，即可。</p>
<h2 id="5种路由方式"><a href="#5种路由方式" class="headerlink" title="5种路由方式"></a>5种路由方式</h2><p>我们一直用的是BrowserRouter，也就是浏览器的路由方式，其实React还有几种路由方式。</p>
<ul>
<li><h3 id="1-BrowserRouter"><a href="#1-BrowserRouter" class="headerlink" title="1.BrowserRouter"></a>1.BrowserRouter</h3><p>  浏览器的路由方式，也是我们一直学习的路由方式。开发中最常使用。</p>
</li>
<li><h3 id="2-HashRouter"><a href="#2-HashRouter" class="headerlink" title="2. HashRouter"></a>2. HashRouter</h3><p>  在路径钱加入#号称为一个哈希值。Hash模式的好处是，再也不会因为刷新而找不到对应路径。</p>
</li>
<li><h3 id="3-MemoryRouter"><a href="#3-MemoryRouter" class="headerlink" title="3.MemoryRouter"></a>3.MemoryRouter</h3><p>  不存储history，所有路由过程都存在内存中，不能前进后退，浏览器地址不会发生。</p>
</li>
<li><h3 id="4-NativeRouter"><a href="#4-NativeRouter" class="headerlink" title="4.NativeRouter"></a>4.NativeRouter</h3><p>  经常配合ReactNative使用，多用于移动端。</p>
</li>
<li><h3 id="5-StaticRouter"><a href="#5-StaticRouter" class="headerlink" title="5. StaticRouter"></a>5. StaticRouter</h3><p>  设置静态路由，需要和后台服务器配合设置，比如设置服务端渲染时使用。</p>
</li>
</ul>
<p>每中模式都有优缺点，根据项目的需求选择合适的使用即可。</p>
<h3 id="示例-使用HashRouter-或MemoryRouter模式"><a href="#示例-使用HashRouter-或MemoryRouter模式" class="headerlink" title="示例 使用HashRouter 或MemoryRouter模式"></a>示例 使用HashRouter 或MemoryRouter模式</h3><ol>
<li><p>引入</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;BrowserRouter <span class="keyword">as</span> Router ,HashRouter,MemoryRouter, Route , Switch ,Redirect&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置</p>
</li>
</ol>
<p>HashRouter</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;HashRouter basename=<span class="string">&quot;demo&quot;</span> &gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;Nav/&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Route  exact  path=<span class="string">&quot;/&quot;</span>  component=&#123;Jspang&#125; /&gt;</span><br><span class="line">            &lt;Route  path=<span class="string">&quot;/Jspangb&quot;</span> component=&#123;Jspangb&#125; /&gt;</span><br><span class="line">            &lt;Route  path=<span class="string">&quot;/Jspangc/:param&quot;</span> component=&#123;Jspangc&#125; /&gt;</span><br><span class="line">            &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/Jspangb&quot;</span> /&gt;</span><br><span class="line">            &lt;Route  component=&#123;<span class="built_in">Error</span>&#125; /&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/HashRouter&gt;,</span><br></pre></td></tr></table></figure>

<p>MemoryRouter</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;MemoryRouter basename=<span class="string">&quot;demo&quot;</span> &gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;Nav/&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Route  exact  path=<span class="string">&quot;/&quot;</span>  component=&#123;Jspang&#125; /&gt;</span><br><span class="line">            &lt;Route  path=<span class="string">&quot;/Jspangb&quot;</span> component=&#123;Jspangb&#125; /&gt;</span><br><span class="line">            &lt;Route  path=<span class="string">&quot;/Jspangc/:param&quot;</span> component=&#123;Jspangc&#125; /&gt;</span><br><span class="line">            &lt;Redirect <span class="keyword">from</span>=<span class="string">&quot;/redirect&quot;</span> to=<span class="string">&quot;/Jspangb&quot;</span> /&gt;</span><br><span class="line">            &lt;Route  component=&#123;<span class="built_in">Error</span>&#125; /&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/MemoryRouter&gt;,</span><br></pre></td></tr></table></figure>

<h3 id="总结-9"><a href="#总结-9" class="headerlink" title="总结-9"></a>总结-9</h3><p>这节课重点是路由的方式。在项目开始时就应该根据需求选择好，也是要掌握的重点之一。上手项目容易遇到坑。</p>
<h2 id="第10节-路由-prompt用法详解"><a href="#第10节-路由-prompt用法详解" class="headerlink" title="第10节 路由 prompt用法详解"></a>第10节 路由 prompt用法详解</h2><p>在很多项目中，离开一个页面，都会弹出一个提示框。确定是否离开。React也有这样的组件，就是Prompt。</p>
<h2 id="lt-Prompt-gt-标签"><a href="#lt-Prompt-gt-标签" class="headerlink" title="&lt;Prompt&gt;标签"></a><code>&lt;Prompt&gt;</code>标签</h2><p>要使用<code>&lt;Prompt&gt;</code>标签要先引入。</p>
<p>componentB.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="comment">// 新增</span></span><br><span class="line"><span class="keyword">import</span> &#123; Prompt &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentB</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                这是B组件</span><br><span class="line">                <span class="comment">// 新增</span></span><br><span class="line">                &lt;Prompt message=<span class="string">&quot;残忍离开?&quot;</span> /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需要注意的是，如果使用MemoryRouter，<code>&lt;Prompt&gt;</code>不起作用。</p>
<h3 id="lt-Prompt-gt-有两个属性"><a href="#lt-Prompt-gt-有两个属性" class="headerlink" title="&lt;Prompt&gt;有两个属性"></a><code>&lt;Prompt&gt;</code>有两个属性</h3><ul>
<li>message: 用于显示提示的文本信息</li>
<li>when： 传递布尔值，相当于标签的开关，默认是true，设置为false，prompt失效。</li>
</ul>
<p>如何动态改变when的状态呢？做个小实例。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Prompt &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">componentB</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="title">constructor</span> (<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="built_in">super</span>(props)</span><br><span class="line">        <span class="built_in">this</span>.state = &#123;</span><br><span class="line">            power: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.changePower = <span class="built_in">this</span>.changePower.bind(<span class="built_in">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    changePower () &#123;</span><br><span class="line">        alert(<span class="string">&#x27;已经开启&#x27;</span>)</span><br><span class="line">        <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">            power: <span class="literal">true</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                这是B组件</span><br><span class="line">                &lt;Prompt message=<span class="string">&quot;残忍离开?&quot;</span>  when=&#123;<span class="built_in">this</span>.state.power&#125;/&gt;</span><br><span class="line">                &lt;button onClick=&#123;<span class="built_in">this</span>.changePower&#125;&gt;启用&lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Flux和Redux的学习建议在官网学习。</p>
<h3 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a><a target="_blank" rel="noopener" href="https://redux.js.org/">官方文档</a></h3><h3 id="中文文档"><a href="#中文文档" class="headerlink" title="中文文档"></a><a target="_blank" rel="noopener" href="http://cn.redux.js.org/">中文文档</a></h3><h3 id="经验-10"><a href="#经验-10" class="headerlink" title="经验-10"></a>经验-10</h3><p>移动端样式看起来大部分用flex就可以满足。<br>常用组件Text，View，TextInput，Image<br>Image src属性为source<br>样式的编写与原生区别</p>

    </div>

    
    
    
      


    <footer class="post-footer">
          <div class="reward-container">
  <div></div>
  <button onclick="document.querySelector('.post-reward').classList.toggle('active');">
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/img/alipay.png" alt="believeZJP 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/img/wechat.png" alt="believeZJP 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>


        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/php%E7%A7%AF%E7%B4%AF/" rel="prev" title="php积累">
                  <i class="fa fa-chevron-left"></i> php积累
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/Koa2-%E8%BF%9B%E9%98%B6/" rel="next" title="Koa2 进阶">
                  Koa2 进阶 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>







<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">believeZJP</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">662k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">10:02</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  

<script src="/js/local-search.js"></script>






  






</body>
</html>

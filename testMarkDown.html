<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>测试markdown转html</title>
		<link rel="stylesheet" type="text/css" href="js/libs/highlight/default.css"/>
		<link rel="stylesheet" type="text/css" href="js/libs/highlight/monokai-sublime.css"/>
		<script src="js/jquery.1.11.3.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/libs/marked.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/libs/markdown.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/libs/highlight/highlight.pack.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			#origin{
				width:100%;
				height:0px;
			}
			*{
				font-size:18px;}
			#content{
				padding:0 30px;

			}
		</style>
	</head>
	<body>
		<textarea name="" id="origin">
			```javascript
			
			//在构建Map实例时，实际上是执行的下面的算法
			const items = [
				['name', '张三'],
				['title', 'Author']
			];
			const map = new Map();
			item.forEach(
				([key, value]) => map.set(key, value)
			);
			//任何具有Iterator接口的数据结构都可以当做Map构造函数的参数。
			//Set ,Map 都可以用来生成新的Map。
			
			/**
			 * fasdfa 
			 */
			```


			### faf

			## fasfa


			# 这是 H1



# 这是H1
## 这是 H2

###### 这是 H6
*   Red
*   Green
*   Blue

1.  Bird
1.  McHale
1.  Parish

3. Bird
1. McHale
8. Parish


This is [an example](http://example.com/ "Title") inline link.

		</textarea>
		<pre><code>
			<div class="content" id="content">
				
			</div>
			
		</code></pre>
		<script type="text/javascript">
		function init() {
			var content = document.getElementById('origin');
			var marked = Markdown.toHTML;

			document.getElementById('content').innerHTML =
//				marked(document.getElementById("origin").value);
				document.getElementById("origin").value;

			content.onkeyup = function(){
				document.getElementById('content').innerHTML =
//					marked(document.getElementById("origin").value);
					document.getElementById("origin").value;
				$('pre code').each(function(i, block) {
					hljs.highlightBlock(block);
				});
			}
			hljs.initHighlightingOnLoad();
		}

		function showData(data) {
			data = data.responseText;
//			document.getElementById('content').innerHTML = '```javascript\n' + data + '```';
//			document.getElementById("origin").value = '`'+'`'+'`javascript' + data + '\`\`\`';
			document.getElementById("origin").value = '' + data + '';
			init();
		}

		getFileContent(showData);
		function getFileContent(cb) {
				$.ajax({
					type: "get",
					url: "js/es62.js",
					async: false,
					dataType: "json",
					success: function(res) {
						console.log(res)
						var data = res.data;

					},
					error: function(msg) {
						cb && cb(msg);
					},

				});
			}


		</script>
	</body>
</html>
<!--
困惑：
1. 在js中，想直接给一个路径，(eg:js/es6.js),怎么读取到文件里的内容，
2. ajax用get请求读取一个文件，读取到以后，为什么在error中，

-->
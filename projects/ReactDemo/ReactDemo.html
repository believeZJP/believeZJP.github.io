<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>React Demo</title>
    <script src="assets/react.js"></script>
    <script src="assets/react-dom.js"></script>
    <script src="assets/browser.min.js"></script>
</head>
<body>
    <h1>这里显示Hello World!</h1>
    <div id="example">
    </div>
    <hr>

    <h1>JSX语法： html与js混写，循环一个数组</h1>
    <div id="example2"></div>
    <h2>模板中直接插入变量</h2>
    <div id="example3"></div>
    <hr>

    <h1>四、组件</h1>
    <h3>React.createClass 方法就用于生成一个组件类</h3>
    <p>所有组件类都必须有自己的 render 方法，用于输出组件。</p>
    <p>组件类的第一个字母必须大写，否则会报错，比如HelloMessage不能写成helloMessage。另外，组件类只能包含一个顶层标签，否则也会报错。</p>
    <p>添加组件属性，有一个地方需要注意，就是 class 属性需要写成 className ，for 属性需要写成 htmlFor ，这是因为 class 和 for 是 JavaScript 的保留字。</p>
    <div id="example4"></div>
    <hr />
    
    <h1>五、 this.props.children</h1>
    <h3>表示组件的所有子节点</h3>
    <p>以下的li是调用组件时的子节点传过来的</p>
    <div id="example5"></div>
	  <hr />
	
    <h1>六、PropTypes</h1>
    <p>用来验证组件实例的属性是否符合要求</p>
	<div id="example6"></div>
	<hr />
	
	
	
    <!-- 这是react独有的语法，必须使用text/babel-->
    <script type="text/babel">
        ReactDOM.render(
                <h1>Hello World!</h1>,
                document.getElementById('example')
        );

        var names = ['Alice', 'Emily', 'Kate'];
        ReactDOM.render(
                <div>
                    {
                        names.map(function(name){
                            return <div>Hello, {name}!</div>;
                        })
                    }
                </div>,
                document.getElementById('example2')
        )
        
        var arr = [
        	<h1>Hello World!</h1>,
        	<h2>React is awesome!</h2>
        ];
        ReactDOM.render(
        	<div>{arr}</div>,
       		document.getElementById('example3')
        )
        
        //组件
        var HelloMessage =  React.createClass({
        	render: function(){
        		return <h1>Hello {this.props.name}</h1>;
        	}
        });
        ReactDOM.render(
        	<HelloMessage name="John"/>,
        	document.getElementById('example4')
        )
        
        
        //this.props.children
        var NodeList = React.createClass({
        	render: function(){
        		return (
        			<ol>
        				{
        					React.Children.map(this.props.children, function(child){
        						return <li>{child}</li>;
        					})
        				}
        			</ol>
        		)
        	}
        });
        ReactDOM.render(
        	<NodeList>
        		<span>调用组件的节点1</span>
        		<span>调用组件的节点2</span>
        	</NodeList>,
        	document.getElementById('example5')
        );

        //PropTypes
        var MyTitle = React.createClass({
            propTypes: {
                title: React.PropTypes.string.isRequired,
            },
            getDefaultProps: function(){
            	return {
            		title: '这个是默认的title'
            	};
            },
            render: function(){
                return <h1>{this.props.title}</h1>;
            }
        });
        //var data = 123; //此处会报错，提示需要传入字符串
        var data = '我是字符串~~'
        ReactDOM.render(
			/*<MyTitle/>,*/
			<MyTitle title={data} />,
			document.getElementById('example6')
        );
        
    </script>
</body>
</html>
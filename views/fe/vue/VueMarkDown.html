<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Vue MarkDown示例</title>
		<style type="text/css">
			html, body, #editor {
			  margin: 0;
			  height: 100%;
			  font-family: 'Helvetica Neue', Arial, sans-serif;
			  color: #333;
			}
			
			textarea, #editor div {
			  display: inline-block;
			  width: 49%;
			  height: 100%;
			  vertical-align: top;
			  -webkit-box-sizing: border-box;
			  -moz-box-sizing: border-box;
			  box-sizing: border-box;
			  padding: 0 20px;
			}
			
			textarea {
			  border: none;
			  border-right: 1px solid #ccc;
			  resize: none;
			  outline: none;
			  background-color: #f6f6f6;
			  font-size: 14px;
			  font-family: 'Monaco', courier, monospace;
			  padding: 20px;
			}
			
			code {
			  color: #f66;
			}
		</style>
		<script src="../../../js/libs/vue.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../js/libs/marked.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../js/libs/lodash.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<h1>Vue.js 实现简易的markdown转换</h1>
		<hr />
		<div id="editor">
			<textarea :value="input" @input="update" >
				## 这个页面引用了marked.js，lodash.js
				> marked.js 用来将输入的内容转成 markdown格式的文本
				> lodash.js javascript工具库
			</textarea>
			<!--实时生成效果            -->
			<div v-html="compiledMarkdown"></div>
		</div>
		<h1>
			
			
		</h1>
		<script>
		new Vue({
		    el:"#editor",
		    data:{
//		    	input:'# Hello'
		    	input:
`
# Hello
## 这个页面引用了marked.js，lodash.js
> marked.js 用来将输入的内容转成 markdown格式的文本

> lodash.js javascript工具库
`
		    },
		    computed: {
		    	compiledMarkdown: function(){
		    		return marked(this.input/*, {sanitize: true}*/)
		    	}
		    },
		    methods: {
		    	update: _.debounce(function(e){
		    		this.input = e.target.value
		    	}, 300)
		    }
        })
		</script>
	</body>
</html>

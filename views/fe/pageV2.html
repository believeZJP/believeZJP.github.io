<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>分页</title>
		<style type="text/css">
			.page-span{
			    border: #dde0e1 solid 1px;
			    font-size: 12px;
			    color: #506470;
			    cursor: pointer;
			    width: auto;
			    margin-left: 10px;
			    padding-left: 10px;
			    padding-right: 10px;
			    height: 30px;
			    line-height: 30px;
			    text-align: center;
			    display: inline-block;
			    border-radius: 3px;
			}
			.page-span.selected,.page-span:hover{
				color:#fff;
				background-color: #00bcbf;
			}
			.page-omit{
				cursor:auto;
			}
			.page-omit:hover{
				color: #506470;
				background-color: #fff;
			}
		</style>
	</head>
	<body>
		<div id="pageBox"></div>
		
		<script src="js/jquery-2.1.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
		var total = 350;
			function createPage(start,range,totalCount){
				start = parseInt(start);
				range = parseInt(range);
				totalCount = parseInt(totalCount);
				if(start<1){
					start = 1;
				}
				var disNum = 5;//每页显示数量
				var totalPage = 0;//总页数
				var prePage = 1;
				var nextPage = 1;
				if(start>1){
					prePage = start - 1;
				}
				var html = "<span class='page-span' data='1'>首页</span><span class='page-span' data='"+prePage+"'>上一页</span>";
			    totalPage = Math.ceil(totalCount/range);
				if(totalPage == start){
					nextPage = start;
				}else{
					nextPage = start + 1;
				}
				
				
				this.options = {startRange : 1,endRange:1};
				
				html += "<span class='page-span' data='1'>1</span>";
				for (var i=start;i<=totalPage;i++) {
					/*if(i < start+disNum){
						if(i == start){
							html += "<span class='page-span selected' data='"+i+"'>"+i+"</span>";
						}else{
							html += "<span class='page-span' data='"+i+"'>"+i+"</span>";
						}
					}else{
						html += "<span class='page-span page-omit'>...</span>";
						break;
					}*/
					if ((i > this.options.startRange && i <= totalPage - this.options.endRange)){
						if (i<= totalPage-this.options.endRange || i>) {
							html += "<span class='page-span' data='"+i+"'>"+i+"</span>";
						} else{
							html += "<span>...</span>";
							
						}
						
					}else{
						html += "<span class='page-span' data='"+i+"'>"+i+"</span>";
						
					}
					if (i === this.options.startRange || i === totalPage - this.options.endRange)
          				html += "<span>...</span>";
				}
				html += "<span class='page-span' data='"+totalPage+"'>"+totalPage+"</span>";
				html += "<span class='page-span' data='"+nextPage+"'>下一页</span><span class='page-span' data='"+totalPage+"'>尾页</span>";
				$("#pageBox").empty().append(html);
			}
			
			createPage(1,10,total);
			$(document).on("click",".page-span",function(){
				var page = $(this).attr("data");
				if(!page){return;}
				createPage(page,10,total);
			});
		</script>
	</body>
</html>
